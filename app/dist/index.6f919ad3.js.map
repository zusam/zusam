{"mappings":"8pBAsBA,IAAuBA,EACDC,mJArBtB,IAAIC,EAAU,GAoBdF,WAlBkBG,GAGhB,IAFA,IAAIC,EAAOC,OAAOD,KAAKD,GAEdG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BJ,EAAQE,EAAKE,IAAMH,EAAMC,EAAKE,KAelCL,WAXiBO,GACf,IAAIC,EAAWP,EAAQM,GAEvB,GAAgB,MAAZC,EACF,MAAM,IAAIC,MAAM,oCAAsCF,GAGxD,OAAOC,MCnBTE,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,mOCAlD,IC0BMC,ECfPC,ECRFC,ECuKAC,EAQEC,EAcFC,EC9LOd,ELFEe,EAAY,GACZC,EAAY,GACZC,EAAAA,6ECOGC,EAAOC,EAAKC,GAAAA,IAEtB,IAAIpB,KAAKoB,EAAOD,EAAInB,GAAKoB,EAAMpB,GAAAA,OACPmB,WASdE,EAAWC,GAAAA,IACtBC,EAAaD,EAAKC,WAClBA,GAAYA,EAAWC,YAAYF,YEVxBG,EAAcC,EAAMN,EAAOO,GAAAA,IAEzCC,EACAC,EACA7B,EAHG8B,EAAkB,GAAA,IAIjB9B,KAAKoB,EACA,OAALpB,EAAY4B,EAAMR,EAAMpB,GACd,OAALA,EAAY6B,EAAMT,EAAMpB,GAC5B8B,EAAgB9B,GAAKoB,EAAMpB,GAAAA,GAG7B+B,UAAU9B,OAAS,IACtB6B,EAAgBH,SACfI,UAAU9B,OAAS,EAAIQ,EAAMuB,KAAKD,UAAW,GAAKJ,GAKjC,mBAARD,GAA2C,MAArBA,EAAKO,aAAAA,IAChCjC,KAAK0B,EAAKO,kBAAAA,IACVH,EAAgB9B,KACnB8B,EAAgB9B,GAAK0B,EAAKO,aAAajC,IAAAA,OAKnCkC,EAAYR,EAAMI,EAAiBF,EAAKC,EAAK,eAerCK,EAAYR,EAAMN,EAAOQ,EAAKC,EAAKM,GAAAA,IAG5CC,EAAQ,CACbV,KAAAA,EACAN,MAAAA,EACAQ,IAAAA,EACAC,IAAAA,EAAAA,IACW,KAAAQ,GACF,KAAAC,IACD,EAAAC,IACF,KAAAC,SAAA,EAKIC,IACE,KAAAC,IACA,KACZC,iBAAAA,EAAaF,IACU,MAAZN,IAAqBxB,EAAUwB,GAAAA,OAI3B,MAAZA,GAAqC,MAAjBzB,EAAQ0B,OAAe1B,EAAQ0B,MAAMA,GAEtDA,WAOQQ,EAASxB,GAAAA,OACjBA,EAAMO,kBC5EEkB,EAAUzB,EAAO0B,GAAAA,KAC3B1B,MAAQA,EAAAA,KACR0B,QAAUA,WAyEAC,EAAcX,EAAOY,GAAAA,GAClB,MAAdA,EAAAA,OAEIZ,EAAAA,GACJW,EAAcX,EAAAA,GAAeA,EAAAA,GAAAA,IAAwBa,QAAQb,GAAS,GACtE,KAAA,IAAA,IAGAc,EACGF,EAAaZ,EAAAA,IAAgBnC,OAAQ+C,IAAAA,GAG5B,OAFfE,EAAUd,EAAAA,IAAgBY,KAEa,MAAhBE,EAAAA,IAAAA,OAIfA,EAAAA,IAAAA,MASmB,mBAAdd,EAAMV,KAAqBqB,EAAcX,GAAS,cAuCxDe,EAAwBf,GAAjC,IAGWpC,EACJoD,EAAAA,GAHyB,OAA1BhB,EAAQA,EAAAA,KAA8C,MAApBA,EAAAA,IAA0B,CAAA,IAChEA,EAAAA,IAAaA,EAAAA,IAAiBiB,KAAO,KAC5BrD,EAAI,EAAGA,EAAIoC,EAAAA,IAAgBnC,OAAQD,IAAAA,GAE9B,OADToD,EAAQhB,EAAAA,IAAgBpC,KACO,MAAdoD,EAAAA,IAAoB,CACxChB,EAAAA,IAAaA,EAAAA,IAAiBiB,KAAOD,EAAAA,IAAAA,MAAAA,OAKhCD,EAAwBf,aAoCjBkB,EAAcC,KAE1BA,EAAAA,MACAA,EAAAA,KAAAA,IACD3C,EAAc4C,KAAKD,KAClBE,EAAAA,OACF3C,IAAiBJ,EAAQgD,sBAEzB5C,EAAeJ,EAAQgD,oBACN7C,GAAO4C,YAKjBA,IAAAA,IAAAA,IACJE,EACIF,EAAAA,IAAyB7C,EAAcX,QAC9C0D,EAAQ/C,EAAcgD,MAAK,SAACC,EAAGC,GAAAA,OAAMD,EAAAA,IAAAA,IAAkBC,EAAAA,IAAAA,OACvDlD,EAAgB,GAGhB+C,EAAMI,MAAK,SAAAR,GApGb,IAAyBS,EAMnBC,EACEC,EANH9B,EACH+B,EACAC,EAkGKb,EAAAA,MAnGLY,GADG/B,GADoB4B,EAqGQT,GAAAA,KAAAA,KAlG/Ba,EAAYJ,EAAAA,OAGRC,EAAc,IACZC,EAAWhD,EAAO,GAAIkB,IAAAA,IACPA,EAAAA,IAAkB,EAEvCiC,EACCD,EACAhC,EACA8B,EACAF,EAAAA,SAAAA,IACAI,EAAUE,gBACU,MAApBlC,EAAAA,IAA2B,CAAC+B,GAAU,KACtCF,EACU,MAAVE,EAAiBpB,EAAcX,GAAS+B,EACxC/B,EAAAA,KAEDmC,EAAWN,EAAa7B,GAEpBA,EAAAA,KAAc+B,GACjBhB,EAAwBf,iBEtHXoC,EACfJ,EACAK,EACAC,EACAC,EACAC,EACAC,EACAC,EACAb,EACAE,EACAY,GAVD,IAYK/E,EAAGgF,EAAGd,EAAUe,EAAYC,EAAQC,EAAeC,EAInDC,EAAeV,GAAkBA,EAAAA,KAA6B3D,EAE9DsE,EAAoBD,EAAYpF,OAAAA,IAEpCyE,EAAAA,IAA2B,GACtB1E,EAAI,EAAGA,EAAIyE,EAAaxE,OAAQD,IAAAA,GAgDlB,OA5CjBiF,EAAaP,EAAAA,IAAyB1E,GADrB,OAFlBiF,EAAaR,EAAazE,KAEqB,kBAAdiF,EACW,KAMtB,iBAAdA,GACc,iBAAdA,GAEc,iBAAdA,EAEoC/C,EAC1C,KACA+C,EACA,KACA,KACAA,GAESM,MAAMC,QAAQP,GACmB/C,EAC1CU,EACA,CAAEjB,SAAUsD,GACZ,KACA,KACA,MAESA,EAAAA,IAAoB,EAKa/C,EAC1C+C,EAAWvD,KACXuD,EAAW7D,MACX6D,EAAWrD,IACX,KACAqD,EAAAA,KAG0CA,GAAAA,CAAAA,GAS5CA,EAAAA,GAAqBP,EACrBO,EAAAA,IAAoBP,EAAAA,IAAwB,EAS9B,QAHdR,EAAWmB,EAAYrF,KAIrBkE,GACAe,EAAWrD,KAAOsC,EAAStC,KAC3BqD,EAAWvD,OAASwC,EAASxC,KAE9B2D,EAAYrF,QAAAA,OAAKyC,IAIZuC,EAAI,EAAGA,EAAIM,EAAmBN,IAAK,CAAA,IACvCd,EAAWmB,EAAYL,KAKtBC,EAAWrD,KAAOsC,EAAStC,KAC3BqD,EAAWvD,OAASwC,EAASxC,KAC5B,CACD2D,EAAYL,QAAAA,EAAKvC,MAGlByB,EAAW,KAObG,EACCD,EACAa,EALDf,EAAWA,GAAYnD,EAOtB6D,EACAC,EACAC,EACAb,EACAE,EACAY,GAGDG,EAASD,EAAAA,KAEJD,EAAIC,EAAWpD,MAAQqC,EAASrC,KAAOmD,IACtCI,IAAMA,EAAO,IACdlB,EAASrC,KAAKuD,EAAK5B,KAAKU,EAASrC,IAAK,KAAMoD,GAChDG,EAAK5B,KAAKwB,EAAGC,EAAAA,KAAyBC,EAAQD,IAGjC,MAAVC,GACkB,MAAjBC,IACHA,EAAgBD,GAIU,mBAAnBD,EAAWvD,MAClBuD,EAAAA,MAAyBf,EAAAA,IAEzBe,EAAAA,IAAsBd,EAASsB,EAC9BR,EACAd,EACAC,GAGDD,EAASuB,EACRtB,EACAa,EACAf,EACAmB,EACAH,EACAf,GAIgC,mBAAvBO,EAAehD,OAQzBgD,EAAAA,IAA0BP,IAG3BA,GACAD,EAAAA,KAAiBC,GACjBA,EAAO5C,YAAc6C,IAIrBD,EAASpB,EAAcmB,IAAAA,IAIzBQ,EAAAA,IAAsBS,EAGjBnF,EAAIsF,EAAmBtF,KACL,MAAlBqF,EAAYrF,KAEgB,mBAAvB0E,EAAehD,MACC,MAAvB2D,EAAYrF,GAAAA,KACZqF,EAAYrF,GAAAA,KAAW0E,EAAAA,MAKvBA,EAAAA,IAA0B3B,EAAc4B,EAAgB3E,EAAI,IAG7D2F,EAAQN,EAAYrF,GAAIqF,EAAYrF,KAAAA,GAKlCoF,EAAAA,IACEpF,EAAI,EAAGA,EAAIoF,EAAKnF,OAAQD,IAC5B4F,EAASR,EAAKpF,GAAIoF,IAAOpF,GAAIoF,IAAOpF,aAK9ByF,EAAgBR,EAAYd,EAAQC,GAAAA,IAA7C,IAKMhC,EAHDmB,EAAI0B,EAAAA,IACJY,EAAM,EACHtC,GAAKsC,EAAMtC,EAAEtD,OAAQ4F,KACvBzD,EAAQmB,EAAEsC,MAMbzD,EAAAA,GAAgB6C,EAGfd,EADwB,mBAAd/B,EAAMV,KACP+D,EAAgBrD,EAAO+B,EAAQC,GAE/BsB,EACRtB,EACAhC,EACAA,EACAmB,EACAnB,EAAAA,IACA+B,IAAAA,OAMGA,WASQ2B,EAAanE,EAAUoE,GAAAA,OACtCA,EAAMA,GAAO,GACG,MAAZpE,GAAuC,kBAAZA,IACpB4D,MAAMC,QAAQ7D,GACxBA,EAASoC,MAAK,SAAAX,GACb0C,EAAa1C,EAAO2C,MAGrBA,EAAIvC,KAAK7B,IAEHoE,WAGCL,EACRtB,EACAa,EACAf,EACAmB,EACAH,EACAf,GAND,IAQK6B,EAuBGC,EAAiBjB,EAAAA,QAAAA,IAtBpBC,EAAAA,IAIHe,EAAUf,EAAAA,IAMVA,EAAAA,SAAAA,OACM,GACM,MAAZf,GACAgB,GAAUf,GACW,MAArBe,EAAO3D,WAEP2E,EAAO,GAAc,MAAV/B,GAAkBA,EAAO5C,aAAe6C,EAClDA,EAAU+B,YAAYjB,GACtBc,EAAU,SACJ,CAAA,IAGDC,EAAS9B,EAAQa,EAAI,GACxBiB,EAASA,EAAOG,cAAgBpB,EAAIK,EAAYpF,OACjD+E,GAAK,EAAA,GAEDiB,GAAUf,EAAAA,MACPgB,EAGR9B,EAAUiC,aAAanB,EAAQf,GAC/B6B,EAAU7B,EAAAA,YAAAA,IAOR6B,EACMA,EAEAd,EAAOkB,qBCvSTE,EAASC,EAAO3E,EAAK4E,GACd,MAAX5E,EAAI,GACP2E,EAAME,YAAY7E,EAAK4E,GAEvBD,EAAM3E,GADa,MAAT4E,EACG,GACa,iBAATA,GAAqBvF,EAAmByF,KAAK9E,GACjD4E,EAEAA,EAAQ,cAYPC,EAAYE,EAAKC,EAAMJ,EAAOK,EAAUhC,GAAjD,IACFiC,EAEJC,EAAG,GAAa,UAATH,EAAAA,GACc,iBAATJ,EACVG,EAAIJ,MAAMS,QAAUR,MACd,CAAA,GACiB,iBAAZK,IACVF,EAAIJ,MAAMS,QAAUH,EAAW,IAG5BA,EAAAA,IACED,KAAQC,EACNL,GAASI,KAAQJ,GACtBF,EAASK,EAAIJ,MAAOK,EAAM,IAAA,GAKzBJ,EAAAA,IACEI,KAAQJ,EACPK,GAAYL,EAAMI,KAAUC,EAASD,IACzCN,EAASK,EAAIJ,MAAOK,EAAMJ,EAAMI,SAOhC,GAAgB,MAAZA,EAAK,IAA0B,MAAZA,EAAK,GAChCE,EAAaF,KAAUA,EAAOA,EAAKK,QAAAA,WAAoB,KAGxBL,EAA3BA,EAAKM,gBAAiBP,EAAYC,EAAKM,cAAczG,MAAM,GACnDmG,EAAKnG,MAAM,GAElBkG,EAAIQ,IAAYR,EAAIQ,EAAa,IACtCR,EAAIQ,EAAWP,EAAOE,GAAcN,EAEhCA,EACEK,GAEJF,EAAIS,iBAAiBR,EADLE,EAAaO,EAAoBC,EACbR,GAIrCH,EAAIY,oBAAoBX,EADRE,EAAaO,EAAoBC,EACVR,QAElC,GAAa,4BAATF,EAAoC,CAAA,GAC1C/B,EAIH+B,EAAOA,EAAKK,QAAAA,aAAsB,KAAKA,QAAAA,SAAkB,UACnD,GACG,SAATL,GACS,SAATA,GACS,SAATA,GAGS,aAATA,GACS,aAATA,GACAA,KAAQD,EAAAA,IAGPA,EAAIC,GAAiB,MAATJ,EAAgB,GAAKA,EAAAA,MAE3BO,EACL,MAAOS,IAUW,mBAAVhB,IAGD,MAATA,KAAAA,IACCA,GAAgC,MAAZI,EAAK,IAA0B,MAAZA,EAAK,IAE7CD,EAAIc,aAAab,EAAMJ,GAEvBG,EAAIe,gBAAgBd,cAUdU,EAAWE,GAAAA,KACdL,EAAWK,EAAE9F,MAAAA,GAAchB,EAAQiH,MAAQjH,EAAQiH,MAAMH,GAAKA,YAG3DH,EAAkBG,GAAAA,KACrBL,EAAWK,EAAE9F,MAAAA,GAAahB,EAAQiH,MAAQjH,EAAQiH,MAAMH,GAAKA,YCpInDnD,EACfD,EACAwD,EACA1D,EACAU,EACAC,EACAC,EACAb,EACAE,EACAY,GATD,IAWKc,EAoBEtC,EAAGsE,EAAOC,EAAUC,EAAUC,EAAUC,EACxCC,EAKAC,EACAC,EAqIA3D,EA/JL4D,EAAUT,EAASlG,KAAAA,QAAAA,IAIhBkG,EAASjF,YAA2B,OAAO,KAGpB,MAAvBuB,EAAAA,MACHa,EAAcb,EAAAA,IACdC,EAASyD,EAAAA,IAAgB1D,EAAAA,IAEzB0D,EAAAA,IAAsB,KACtB9C,EAAoB,CAACX,KAGjB0B,EAAMnF,EAAAA,MAAgBmF,EAAI+B,GAAAA,IAG9B1B,EAAO,GAAsB,mBAAXmC,EAAuB,CAAA,GAEpCH,EAAWN,EAASxG,MAKpB+G,GADJtC,EAAMwC,EAAQC,cACQ1D,EAAciB,EAAAA,KAChCuC,EAAmBvC,EACpBsC,EACCA,EAAS/G,MAAMoF,MACfX,EAAAA,GACDjB,EAGCV,EAAAA,IAEH+D,GADA1E,EAAIqE,EAAAA,IAAsB1D,EAAAA,KAAAA,GAC0BX,EAAAA,KAGhD,cAAe8E,GAAWA,EAAQE,UAAUC,OAE/CZ,EAAAA,IAAsBrE,EAAI,IAAI8E,EAAQH,EAAUE,IAGhDR,EAAAA,IAAsBrE,EAAI,IAAIV,EAAUqF,EAAUE,GAClD7E,EAAEZ,YAAc0F,EAChB9E,EAAEiF,OAASC,GAERN,GAAUA,EAASO,IAAInF,GAE3BA,EAAEnC,MAAQ8G,EACL3E,EAAEoF,QAAOpF,EAAEoF,MAAQ,IACxBpF,EAAET,QAAUsF,EACZ7E,EAAAA,IAAmBqB,EACnBiD,EAAQtE,EAAAA,KAAAA,EACRA,EAAAA,IAAqB,IAIF,MAAhBA,EAAAA,MACHA,EAAAA,IAAeA,EAAEoF,OAEsB,MAApCN,EAAQO,2BACPrF,EAAAA,KAAgBA,EAAEoF,QACrBpF,EAAAA,IAAerC,EAAO,GAAIqC,EAAAA,MAG3BrC,EACCqC,EAAAA,IACA8E,EAAQO,yBAAyBV,EAAU3E,EAAAA,OAI7CuE,EAAWvE,EAAEnC,MACb2G,EAAWxE,EAAEoF,MAGTd,EAEkC,MAApCQ,EAAQO,0BACgB,MAAxBrF,EAAEsF,oBAEFtF,EAAEsF,qBAGwB,MAAvBtF,EAAEuF,mBACLvF,EAAAA,IAAmBC,KAAKD,EAAEuF,uBAErB,CAAA,GAE+B,MAApCT,EAAQO,0BACRV,IAAaJ,GACkB,MAA/BvE,EAAEwF,2BAEFxF,EAAEwF,0BAA0Bb,EAAUE,IAIpC7E,EAAAA,KAC0B,MAA3BA,EAAEyF,wBAAAA,IACFzF,EAAEyF,sBACDd,EACA3E,EAAAA,IACA6E,IAEFR,EAAAA,MAAuB1D,EAAAA,IACtB,CACDX,EAAEnC,MAAQ8G,EACV3E,EAAEoF,MAAQpF,EAAAA,IAENqE,EAAAA,MAAuB1D,EAAAA,MAAoBX,EAAAA,KAAAA,GAC/CA,EAAAA,IAAWqE,EACXA,EAAAA,IAAgB1D,EAAAA,IAChB0D,EAAAA,IAAqB1D,EAAAA,IACrB0D,EAAAA,IAAmBqB,SAAQ,SAAA7G,GACtBA,IAAOA,EAAAA,GAAgBwF,MAExBrE,EAAAA,IAAmBtD,QACtBgE,EAAYT,KAAKD,GAAAA,MAGZ2C,EAGsB,MAAzB3C,EAAE2F,qBACL3F,EAAE2F,oBAAoBhB,EAAU3E,EAAAA,IAAc6E,GAGnB,MAAxB7E,EAAE4F,oBACL5F,EAAAA,IAAmBC,MAAK,WACvBD,EAAE4F,mBAAmBrB,EAAUC,EAAUC,MAK5CzE,EAAET,QAAUsF,EACZ7E,EAAEnC,MAAQ8G,EACV3E,EAAEoF,MAAQpF,EAAAA,KAELsC,EAAMnF,EAAAA,MAAkBmF,EAAI+B,GAEjCrE,EAAAA,KAAAA,EACAA,EAAAA,IAAWqE,EACXrE,EAAAA,IAAea,EAEfyB,EAAMtC,EAAEiF,OAAOjF,EAAEnC,MAAOmC,EAAEoF,MAAOpF,EAAET,SAGnCS,EAAEoF,MAAQpF,EAAAA,IAEe,MAArBA,EAAE6F,kBACLxE,EAAgB1D,EAAOA,EAAO,GAAI0D,GAAgBrB,EAAE6F,oBAGhDvB,GAAsC,MAA7BtE,EAAE8F,0BACfrB,EAAWzE,EAAE8F,wBAAwBvB,EAAUC,IAK5CtD,EADI,MAAPoB,GAAeA,EAAInE,OAASkB,GAAuB,MAAXiD,EAAIjE,IACLiE,EAAIzE,MAAMO,SAAWkE,EAE7DrB,EACCJ,EACAmB,MAAMC,QAAQf,GAAgBA,EAAe,CAACA,GAC9CmD,EACA1D,EACAU,EACAC,EACAC,EACAb,EACAE,EACAY,GAGDxB,EAAEF,KAAOuE,EAAAA,IAGTA,EAAAA,IAAsB,KAElBrE,EAAAA,IAAmBtD,QACtBgE,EAAYT,KAAKD,GAGd0E,IACH1E,EAAAA,IAAkBA,EAAAA,GAAyB,MAG5CA,EAAAA,KAAAA,OAEqB,MAArBuB,GACA8C,EAAAA,MAAuB1D,EAAAA,KAEvB0D,EAAAA,IAAqB1D,EAAAA,IACrB0D,EAAAA,IAAgB1D,EAAAA,KAEhB0D,EAAAA,aAiEFjB,EACAiB,EACA1D,EACAU,EACAC,EACAC,EACAb,EACAc,GARD,IAoBS3B,EAsDHkG,EACAC,EAjEDzB,EAAW5D,EAAS9C,MACpB8G,EAAWN,EAASxG,MACpBoI,EAAW5B,EAASlG,KACpB1B,EAAI,EAAA,GAGS,QAAbwJ,IAAoB3E,GAAAA,GAEC,MAArBC,EAAAA,KACI9E,EAAI8E,EAAkB7E,OAAQD,IAAAA,IAC9BoD,EAAQ0B,EAAkB9E,MAO9BoD,IAAUuD,IACT6C,EAAWpG,EAAMqG,WAAaD,EAA6B,GAAlBpG,EAAMoG,WAChD,CACD7C,EAAMvD,EACN0B,EAAkB9E,GAAK,KAAA,MAAA,GAMf,MAAP2G,EAAa,CAAA,GACC,OAAb6C,EAAAA,OAEIE,SAASC,eAAezB,GAI/BvB,EADG9B,EACG6E,SAASE,gBACd,6BAEAJ,GAGKE,SAASjI,cAEd+H,EACAtB,EAAS2B,IAAM3B,GAKjBpD,EAAoB,KAEpBC,GAAAA,EAAc,GAGE,OAAbyE,EAEC1B,IAAaI,GAAcnD,GAAe4B,EAAImD,OAAS5B,IAC1DvB,EAAImD,KAAO5B,OAEN,CAAA,GAENpD,EAAoBA,GAAqBrE,EAAMuB,KAAK2E,EAAIoD,YAIpDT,GAFJxB,EAAW5D,EAAS9C,OAASL,GAENiJ,wBACnBT,EAAUrB,EAAS8B,yBAIlBjF,EAAa,CAAA,GAGQ,MAArBD,EAAAA,IACHgD,EAAW,GACN9H,EAAI,EAAGA,EAAI2G,EAAIsD,WAAWhK,OAAQD,IACtC8H,EAASnB,EAAIsD,WAAWjK,GAAG4G,MAAQD,EAAIsD,WAAWjK,GAAGwG,OAInD+C,GAAWD,KAGZC,IACED,GAAWC,EAAAA,QAAkBD,EAAAA,QAC/BC,EAAAA,SAAmB5C,EAAIuD,aAExBvD,EAAIuD,UAAaX,GAAWA,EAAAA,QAAmB,KAAA,YD3X1B5C,EAAKuB,EAAUJ,EAAUjD,EAAOsF,GAAAA,IACrDnK,EAAAA,IAECA,KAAK8H,EACC,aAAN9H,GAA0B,QAANA,GAAiBA,KAAKkI,GAC7CzB,EAAYE,EAAK3G,EAAG,KAAM8H,EAAS9H,GAAI6E,GAAAA,IAIpC7E,KAAKkI,EAENiC,GAAiC,mBAAfjC,EAASlI,IACvB,aAANA,GACM,QAANA,GACM,UAANA,GACM,YAANA,GACA8H,EAAS9H,KAAOkI,EAASlI,IAEzByG,EAAYE,EAAK3G,EAAGkI,EAASlI,GAAI8H,EAAS9H,GAAI6E,GC8W/CuF,CAAUzD,EAAKuB,EAAUJ,EAAUjD,EAAOE,GAGtCwE,EACH3B,EAAAA,IAAqB,QAAA,GAErB5H,EAAI4H,EAASxG,MAAMO,SACnB6C,EACCmC,EACApB,MAAMC,QAAQxF,GAAKA,EAAI,CAACA,GACxB4H,EACA1D,EACAU,EACAC,GAAsB,kBAAb2E,EACT1E,EACAb,EACAa,EACGA,EAAkB,GAClBZ,EAAAA,KAAsBnB,EAAcmB,EAAU,GACjDa,GAIwB,MAArBD,EAAAA,IACE9E,EAAI8E,EAAkB7E,OAAQD,KACN,MAAxB8E,EAAkB9E,IAAYqB,EAAWyD,EAAkB9E,IAM7D+E,IAEH,UAAWmD,QAAAA,KACVlI,EAAIkI,EAAS1B,SAKbxG,IAAM2G,EAAIH,OAAuB,aAAbgD,IAA4BxJ,IAEjDyG,EAAYE,EAAK,QAAS3G,EAAG8H,EAAStB,OAAAA,GAGtC,YAAa0B,QAAAA,KACZlI,EAAIkI,EAASmC,UACdrK,IAAM2G,EAAI0D,SAEV5D,EAAYE,EAAK,UAAW3G,EAAG8H,EAASuC,SAAAA,IAAS,OAK7C1D,EA1NW2D,CACfpG,EAAAA,IACA0D,EACA1D,EACAU,EACAC,EACAC,EACAb,EACAc,IAIGc,EAAMnF,EAAQ6J,SAAS1E,EAAI+B,GAC/B,MAAOJ,GACRI,EAAAA,IAAqB,MAEjB7C,GAAoC,MAArBD,KAClB8C,EAAAA,IAAgBzD,EAChByD,EAAAA,MAAwB7C,EACxBD,EAAkBA,EAAkB7B,QAAQkB,IAAW,MAIxDzD,EAAAA,IAAoB8G,EAAGI,EAAU1D,aASnBK,EAAWN,EAAauG,GACnC9J,EAAAA,KAAiBA,EAAAA,IAAgB8J,EAAMvG,GAE3CA,EAAYF,MAAK,SAAAR,GAAAA,IAGfU,EAAcV,EAAAA,IACdA,EAAAA,IAAqB,GACrBU,EAAYF,MAAK,SAAA0G,GAEhBA,EAAGzI,KAAKuB,MAER,MAAOiE,GACR9G,EAAAA,IAAoB8G,EAAGjE,EAAAA,kBAsLVqC,EAAS/D,EAAK2E,EAAOpE,GAAAA,IAEjB,mBAAPP,EAAmBA,EAAI2E,GAC7B3E,EAAI6I,QAAUlE,EAClB,MAAOgB,GACR9G,EAAAA,IAAoB8G,EAAGpF,aAYTuD,EAAQvD,EAAOuI,EAAaC,GAA5C,IACKC,EAoBM7K,EAAAA,GAnBNU,EAAQiF,SAASjF,EAAQiF,QAAQvD,IAEhCyI,EAAIzI,EAAMP,OACTgJ,EAAEH,SAAWG,EAAEH,UAAYtI,EAAAA,KAAYwD,EAASiF,EAAG,KAAMF,IAGjC,OAAzBE,EAAIzI,EAAAA,KAA2B,CAAA,GAC/ByI,EAAEC,qBAAAA,IAEJD,EAAEC,uBACD,MAAOtD,GACR9G,EAAAA,IAAoB8G,EAAGmD,GAIzBE,EAAExH,KAAOwH,EAAAA,IAAe,KAAA,GAGpBA,EAAIzI,EAAAA,IAAAA,IACCpC,EAAI,EAAGA,EAAI6K,EAAE5K,OAAQD,IACzB6K,EAAE7K,IACL2F,EAAQkF,EAAE7K,GAAI2K,EAAkC,mBAAdvI,EAAMV,MAKtCkJ,GAA4B,MAAdxI,EAAAA,KAAoBf,EAAWe,EAAAA,KAIlDA,EAAAA,IAAaA,EAAAA,SAAAA,WAILqG,EAASrH,EAAOuH,EAAO7F,GAAAA,OACxBiI,KAAKpI,YAAYvB,EAAO0B,YClfhB0F,EAAOpG,EAAOgC,EAAW4G,GAAzC,IAMKjG,EAOAb,EAUAD,EAtBAvD,EAAAA,IAAeA,EAAAA,GAAc0B,EAAOgC,GAYpCF,GAPAa,EAAqC,mBAAhBiG,GAQtB,KACCA,GAAeA,EAAAA,KAA0B5G,EAAAA,IAQzCH,EAAc,GAClBI,EACCD,EARDhC,IACG2C,GAAeiG,GACjB5G,GAAAA,IACa3C,EAAcmB,EAAU,KAAM,CAACR,IAS5C8B,GAAYnD,EACZA,OAAAA,IACAqD,EAAUE,iBACTS,GAAeiG,EACb,CAACA,GACD9G,EACA,KACAE,EAAU6G,WACVxK,EAAMuB,KAAKoC,EAAU2F,YACrB,KACH9F,GACCc,GAAeiG,EACbA,EACA9G,EACAA,EAAAA,IACAE,EAAU6G,WACblG,GAIDR,EAAWN,EAAa7B,YAST+H,EAAQ/H,EAAOgC,GAC9BoE,EAAOpG,EAAOgC,EAAW+F,YC/DVe,EAAa9I,EAAOhB,EAAOO,GAAAA,IAEzCC,EACAC,EACA7B,EAHG8B,EAAkBZ,EAAO,GAAIkB,EAAMhB,OAAAA,IAIlCpB,KAAKoB,EACA,OAALpB,EAAY4B,EAAMR,EAAMpB,GACd,OAALA,EAAY6B,EAAMT,EAAMpB,GAC5B8B,EAAgB9B,GAAKoB,EAAMpB,GAAAA,OAG7B+B,UAAU9B,OAAS,IACtB6B,EAAgBH,SACfI,UAAU9B,OAAS,EAAIQ,EAAMuB,KAAKD,UAAW,GAAKJ,GAG7CO,EACNE,EAAMV,KACNI,EACAF,GAAOQ,EAAMR,IACbC,GAAOO,EAAMP,IACb,eL3BcsJ,EAAcC,EAAcC,GAAAA,IAGrCvI,EAAU,CAAAwI,IAFhBD,EAAY,OAASrL,IAAAA,GAILoL,EAEfG,SAAAA,SAASnK,EAAOoK,GAAAA,OAIRpK,EAAMO,SAAS6J,IAGvBC,SAAAA,SAASrK,GAAAA,IAEHsK,EACAC,EAAAA,OAFAZ,KAAK3B,kBACLsC,EAAO,IACPC,EAAM,IACNN,GAAaN,KAAAA,KAEZ3B,gBAAkB,WAAA,OAAMuC,GAAAA,KAExB3C,sBAAwB,SAAS4C,GACjCb,KAAK3J,MAAMoF,QAAUoF,EAAOpF,OAe/BkF,EAAK3H,KAAKT,IAAAA,KAIPoF,IAAM,SAAAnF,GACVmI,EAAKlI,KAAKD,GAAAA,IACNsI,EAAMtI,EAAEuH,qBACZvH,EAAEuH,qBAAuB,WACxBY,EAAKI,OAAOJ,EAAKzI,QAAQM,GAAI,GACzBsI,GAAKA,EAAI7J,KAAKuB,MAKdnC,EAAMO,WAAAA,OAUPmB,EAAQ2I,SAAAA,GAAuB3I,EAAQyI,SAASjD,YAAcxF,EJxC1DrC,EAAQO,EAAUP,MCfzBC,EAAU,CAAA6B,ISJT,SAAqBwJ,EAAO3J,GAAAA,IAAAA,IAE9B4B,EAAWgI,EAAMC,EAEb7J,EAAQA,EAAAA,IAAAA,IACV4B,EAAY5B,EAAAA,OAAsB4B,EAAAA,GAAAA,IAAAA,IAErCgI,EAAOhI,EAAUrB,cAE4B,MAAjCqJ,EAAKE,2BAChBlI,EAAUmI,SAASH,EAAKE,yBAAyBH,IACjDE,EAAUjI,EAAAA,KAGwB,MAA/BA,EAAUoI,oBACbpI,EAAUoI,kBAAkBL,GAC5BE,EAAUjI,EAAAA,KAIPiI,EAAAA,OACKjI,EAAAA,IAA0BA,EAElC,MAAOwD,GACRuE,EAAQvE,EAAAA,MAKLuE,IRjCHpL,EAAU,ECuBdkC,EAAU0F,UAAU4D,SAAW,SAASE,EAAQC,GAAAA,IAE3CC,EAEHA,EADsB,MAAnBxB,KAAAA,KAA2BA,KAAAA,MAAoBA,KAAKpC,MACnDoC,KAAAA,IAEAA,KAAAA,IAAkB7J,EAAO,GAAI6J,KAAKpC,OAGlB,mBAAV0D,IAGVA,EAASA,EAAOnL,EAAO,GAAIqL,GAAIxB,KAAK3J,QAGjCiL,GACHnL,EAAOqL,EAAGF,GAIG,MAAVA,GAEAtB,KAAAA,MACCuB,GAAUvB,KAAAA,IAAsBvH,KAAK8I,GACzChJ,EAAcyH,QAUhBlI,EAAU0F,UAAUiE,YAAc,SAASF,GACtCvB,KAAAA,MAAAA,KAAAA,KAAAA,EAKCuB,GAAUvB,KAAAA,IAAsBvH,KAAK8I,GACzChJ,EAAcyH,QAchBlI,EAAU0F,UAAUC,OAAS5F,EAyFzBhC,EAAgB,GAQdC,EACa,mBAAX4L,QACJA,QAAQlE,UAAUmE,KAAKC,KAAKF,QAAQG,WACpCC,WA2CJpJ,EAAAA,IAAyB,EC9NdzD,EAAI,EOFf,MAAM8M,EAAQ,CACZC,OAAQ7M,GAAOwJ,SAASsD,eAAe9M,GAAI+M,UAAY,GACvDC,IAAG,CAAGC,EAAMC,EAAa,gBAAiBC,EAAY,OACpD,IAAKF,EACH,OAEF,IAAIG,EAAY5D,SAASjI,cAAc,OACvC6L,EAAUpN,GAAK4M,EAAMS,KAAKJ,GAC1BG,EAAUpD,UAAYiD,EACtBG,EAAUE,UAAUN,IAAI,eAAgB,QAASE,GACjD1D,SAAS+D,KAAKtH,YAAYmH,GAC1BT,YAAU,IAAOC,EAAMC,OAAOO,EAAUpN,KAAKmN,IAE/CE,KAAMG,IACJ,IAAIH,EAAO,EACX,GAAkB,GAAdG,EAAIzN,OACN,OAAOsN,EAET,IAAK,IAAIvN,EAAI,EAAGA,EAAI0N,EAAIzN,OAAQD,IAAK,CAEnCuN,GAAQA,GAAQ,GAAKA,EADVG,EAAIC,WAAW3N,GAE1BuN,GAAcA,EAEhB,OAAOA,QAGXK,EAAed,EC1Bf,MAAMe,EAAU,CACdC,MAAK,KACH,IACIC,EADAC,EAAQ,EAEZ,IAAKD,KAAKE,aACJlO,OAAOwI,UAAU2F,eAAelM,KAAKiM,aAAcF,KACrDC,GAA+C,GAArCC,aAAaF,GAAG9N,OAAS8N,EAAE9N,SAGzC,OAAO+N,GAETG,iBAAgB,CAAGrE,EAAMsE,EAAW,QAAlB,MAChBtE,EACAuE,UAAWC,KAAKC,eAChBH,IAEFrB,OAAQ7M,GAAM+N,aAAaO,WAAWtO,GACtCuO,IAAG,CAAGvO,EAAI4J,EAAMsE,EAAW,QACzBH,aAAaS,QACXxO,EACAK,KAAKoO,UAAUd,EAAQM,iBAAiBrE,EAAMsE,KAEzC3B,QAAQG,QAAQ1M,IAEzB0O,IAAK1O,IACH,IAAI4J,EAAOmE,aAAaY,QAAQ3O,GAChC,OAAY,MAAR4J,IACFA,EAAOvJ,KAAKC,MAAMsJ,GACd/J,OAAOwI,UAAU2F,eAAelM,KAAK8H,EAAM,SACtC,IAAI2C,SAAQ5B,GAAKA,EAAEf,EAAKA,QAG5B,IAAI2C,SAAQ5B,GAAKA,EAAE,SAE5BiE,MAAK,IACHb,aAAac,SACbC,OAAOC,cAAc,IAAIC,YAAY,sBAEzCC,EAAetB,aClCfuB,WAJyBC,GACvB,GAAI9J,MAAMC,QAAQ6J,GAAM,OAAOA,IAIT,QAAID,EAAgBA,EAAeE,YAAa,YCyBxEC,WA9B+BF,EAAKrP,GAClC,IAAIwP,EAAY,MAAPH,EAAc,KAAyB,oBAAXI,QAA0BJ,EAAII,OAAOC,WAAaL,EAAI,cAE3F,GAAU,MAANG,EAAJ,CACA,IAIIG,EAAIC,EAJJC,EAAO,GACPC,GAAK,EACLC,GAAK,EAIT,IACE,IAAKP,EAAKA,EAAGxN,KAAKqN,KAAQS,GAAMH,EAAKH,EAAGQ,QAAQC,QAC9CJ,EAAKrM,KAAKmM,EAAGnJ,QAETxG,GAAK6P,EAAK5P,SAAWD,GAH4B8P,GAAK,IAK5D,MAAOI,GACPH,GAAK,EACLH,EAAKM,EACN,QACC,IACOJ,GAAsB,MAAhBN,EAAW,QAAWA,EAAW,SAC7C,QACC,GAAIO,EAAI,MAAMH,GAIlB,OAAOC,KAIe,QAAIN,EAAgBA,EAAeD,YAAa,iBCrBxEa,WAV2Bd,EAAKe,IACnB,MAAPA,GAAeA,EAAMf,EAAIpP,UAAQmQ,EAAMf,EAAIpP,QAE/C,IAAK,IAAID,EAAI,EAAGqQ,EAAO,IAAI9K,MAAM6K,GAAMpQ,EAAIoQ,EAAKpQ,IAC9CqQ,EAAKrQ,GAAKqP,EAAIrP,GAGhB,OAAOqQ,IAIe,QAAIF,EAAgBA,EAAeb,YAAa,GCAxEgB,WATqCvJ,EAAGwJ,GACtC,GAAKxJ,EAAL,CACA,GAAiB,iBAANA,EAAgB,OAAOoJ,EAAiBpJ,EAAGwJ,GACtD,IAAIC,EAAIzQ,OAAOwI,UAAUkI,SAASzO,KAAK+E,GAAGtG,MAAM,GAAG,GAEnD,MADU,WAAN+P,GAAkBzJ,EAAEpE,cAAa6N,EAAIzJ,EAAEpE,YAAYiE,MAC7C,QAAN4J,GAAqB,QAANA,EAAoBjL,MAAMmL,KAAK3J,GACxC,cAANyJ,GAAiB,2CAA+C9J,KAAK8J,GAAWL,EAAiBpJ,EAAGwJ,QAAxG,KAIsB,QAAID,EAAgBA,EAAehB,YAAa,YCRxEqB,aAHE,MAAM,IAAIC,UAAU,+IAIE,QAAID,EAAgBA,EAAerB,YAAa,GCOxEuB,WAJwBxB,EAAKrP,GAC3B,OAAOoP,EAAeC,IAAQE,EAAqBF,EAAKrP,IAAMsQ,EAA2BjB,EAAKrP,IAAM2Q,MAI9E,QAAIE,EAAgBA,EAAevB,YAAa,YCExEwB,WAfyB3P,EAAKS,EAAK4E,GAYjC,OAXI5E,KAAOT,EACTpB,OAAOgR,eAAe5P,EAAKS,EAAK,CAC9B4E,MAAOA,EACPwK,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZ/P,EAAIS,GAAO4E,EAGNrF,IAIe,QAAI2P,EAAgBA,EAAexB,YAAa,ECbxE,IAAI6B,GAGAC,GAeAC,GAZAC,GAAc,EAGdC,GAAoB,GAEpBC,GAAgB9Q,EAAAA,IAChB+Q,GAAkB/Q,EAAAA,IAClBgR,GAAehR,EAAQ6J,OACvBoH,GAAYjR,EAAAA,IACZkR,GAAmBlR,EAAQiF,iBAwEtBkM,GAAaC,EAAOpQ,GACxBhB,EAAAA,KACHA,EAAAA,IAAc0Q,GAAkBU,EAAOR,IAAe5P,GAEvD4P,GAAc,EAAA,IAORS,EACLX,GAAAA,MACCA,GAAAA,IAA2B,CAAA/O,GACpB,GAAAK,IACU,KAAA,OAGfoP,GAASC,EAAAA,GAAY9R,QACxB8R,EAAAA,GAAYvO,KAAK,IAEXuO,EAAAA,GAAYD,YAMJE,GAASC,GAAAA,OACxBX,GAAc,EACPY,GAAWC,GAAgBF,YASnBC,GAAWE,EAASH,EAAcI,GAAAA,IAE3CC,EAAYT,GAAaV,KAAgB,GAAA,OAC/CmB,EAAUC,EAAWH,EAChBE,EAAAA,MACJA,EAAAA,GAAmB,CACjBD,EAAiDA,EAAKJ,GAA/CE,QAAAA,EAA0BF,GAElC,SAAAO,GAAAA,IACOC,EAAYH,EAAUC,EAASD,EAAAA,GAAiB,GAAIE,GACtDF,EAAAA,GAAiB,KAAOG,IAC3BH,EAAAA,GAAmB,CAACG,EAAWH,EAAAA,GAAiB,IAChDA,EAAAA,IAAqBnG,SAAS,OAKjCmG,EAAAA,IAAuBlB,IAGjBkB,EAAAA,YAOQI,GAAUpG,EAAUqG,GAAAA,IAE7BhK,EAAQkJ,GAAaV,KAAgB,IACtCzQ,EAAAA,KAAwBkS,GAAYjK,EAAAA,IAAagK,KACrDhK,EAAAA,GAAe2D,EACf3D,EAAAA,IAAcgK,EAEdvB,GAAAA,IAAAA,IAAyC5N,KAAKmF,aAQhCkK,GAAgBvG,EAAUqG,GAAAA,IAEnChK,EAAQkJ,GAAaV,KAAgB,IACtCzQ,EAAAA,KAAwBkS,GAAYjK,EAAAA,IAAagK,KACrDhK,EAAAA,GAAe2D,EACf3D,EAAAA,IAAcgK,EAEdvB,GAAAA,IAAkC5N,KAAKmF,aAIzBmK,GAAOC,GAAAA,OACtBzB,GAAc,EACP0B,IAAQ,WAAA,MAAO,CAAEtI,QAASqI,KAAiB,aAuBnCC,GAAQC,EAASN,GAAAA,IAE1BhK,EAAQkJ,GAAaV,KAAgB,GAAA,OACvCyB,GAAYjK,EAAAA,IAAagK,KAC5BhK,EAAAA,GAAesK,IACftK,EAAAA,IAAcgK,EACdhK,EAAAA,IAAiBsK,GAGXtK,EAAAA,YAeQuK,GAAWpQ,GAAAA,IACpBqF,EAAWiJ,GAAiBtO,QAAQA,EAAAA,KAKpC6F,EAAQkJ,GAAaV,KAAgB,GAAA,OAI3CxI,EAAAA,EAAiB7F,EACZqF,GAEe,MAAhBQ,EAAAA,KACHA,EAAAA,IAAAA,EACAR,EAASO,IAAI0I,KAEPjJ,EAAS/G,MAAMoF,OANA1D,EAAAA,YA4CdqQ,KACR5B,GAAkBtI,SAAQ,SAAAjF,GAAAA,GACrBA,EAAAA,IAAAA,IAEFA,EAAAA,IAAAA,IAAkCiF,QAAQmK,IAC1CpP,EAAAA,IAAAA,IAAkCiF,QAAQoK,IAC1CrP,EAAAA,IAAAA,IAAoC,GACnC,MAAOwD,GACRxD,EAAAA,IAAAA,IAAoC,GACpCtD,EAAAA,IAAoB8G,EAAGxD,EAAAA,SAI1BuN,GAAoB,GAnRrB7Q,EAAAA,IAAgB,SAAA0B,GACfgP,GAAmB,KACfI,IAAeA,GAAcpP,IAGlC1B,EAAAA,IAAkB,SAAA0B,GACbqP,IAAiBA,GAAgBrP,GAGrC+O,GAAe,EAAA,IAETY,GAHNX,GAAmBhP,EAAAA,KAAAA,IAIf2P,IACHA,EAAAA,IAAsB9I,QAAQmK,IAC9BrB,EAAAA,IAAsB9I,QAAQoK,IAC9BtB,EAAAA,IAAwB,KAI1BrR,EAAQ6J,OAAS,SAAAnI,GACZsP,IAAcA,GAAatP,GAAAA,IAEzBmB,EAAInB,EAAAA,IACNmB,GAAKA,EAAAA,KAAaA,EAAAA,IAAAA,IAA0BtD,SAiSzB,IAhSXsR,GAAkB/N,KAAKD,IAgSP8N,KAAY3Q,EAAQ4S,yBAC/CjC,GAAU3Q,EAAQ4S,wBAvBpB,SAAwBhH,GAAAA,IAQnBiH,EAPEtD,EAAO,WACZuD,aAAaC,GACTC,IAASC,qBAAqBJ,GAClC1G,WAAWP,IAENmH,EAAU5G,WAAWoD,EA3SR,KA8SfyD,KACHH,EAAMD,sBAAsBrD,MAcAkD,KAhS7B/B,GAAmB,MAGpB1Q,EAAAA,IAAkB,SAAC0B,EAAO6B,GACzBA,EAAYF,MAAK,SAAAC,GAAAA,IAEfA,EAAAA,IAA2BiF,QAAQmK,IACnCpP,EAAAA,IAA6BA,EAAAA,IAA2B4P,QAAO,SAAAnJ,GAAAA,OAC9DA,EAAAA,IAAY4I,GAAa5I,MAEzB,MAAOjD,GACRvD,EAAYF,MAAK,SAAAR,GACZA,EAAAA,MAAoBA,EAAAA,IAAqB,OAE9CU,EAAc,GACdvD,EAAAA,IAAoB8G,EAAGxD,EAAAA,SAIrB2N,IAAWA,GAAUvP,EAAO6B,IAGjCvD,EAAQiF,QAAU,SAAAvD,GACbwP,IAAkBA,GAAiBxP,GAAAA,IAEjCmB,EAAInB,EAAAA,IAAAA,GACNmB,GAAKA,EAAAA,IAAAA,IAEPA,EAAAA,IAAAA,GAAgB0F,QAAQmK,IACvB,MAAO5L,GACR9G,EAAAA,IAAoB8G,EAAGjE,EAAAA,OA8N1B,IAAImQ,GAA0C,mBAAzBJ,+BA2CZF,GAAcS,GAAAA,IAGhBC,EAAO1C,GACe,mBAAjByC,EAAAA,KAA6BA,EAAAA,MACxCzC,GAAmB0C,WAOXT,GAAaQ,GAAAA,IAGfC,EAAO1C,GACbyC,EAAAA,IAAgBA,EAAAA,KAChBzC,GAAmB0C,WAOXlB,GAAYmB,EAASC,GAAAA,OAE3BD,GACDA,EAAQ9T,SAAW+T,EAAQ/T,QAC3B+T,EAAQjQ,MAAK,SAACkQ,EAAKnC,GAAAA,OAAUmC,IAAQF,EAAQjC,eAItCK,GAAe8B,EAAKC,GAAAA,MACT,mBAALA,EAAkBA,EAAED,GAAOC,WClX1BhT,GAAOC,EAAKC,GAAAA,IACtB,IAAIpB,KAAKoB,EAAOD,EAAInB,GAAKoB,EAAMpB,GAAAA,OACPmB,WASdgT,GAAetQ,EAAGC,GAAAA,IAC5B,IAAI9D,KAAK6D,EAAAA,GAAa,aAAN7D,KAAsBA,KAAK8D,GAAI,OAAA,EAAO,IACtD,IAAI9D,KAAK8D,EAAAA,GAAa,aAAN9D,GAAoB6D,EAAE7D,KAAO8D,EAAE9D,GAAI,OAAA,EAAO,OAAA,WCdhDoU,GAAcC,GAAAA,KACxBjT,MAAQiT,GAEdD,GAAc7L,UAAY,IAAI1F,GAENyR,sBAAAA,EACxBF,GAAc7L,UAAUS,sBAAwB,SAAS5H,EAAOuH,GAAAA,OACxDwL,GAAepJ,KAAK3J,MAAOA,IAAU+S,GAAepJ,KAAKpC,MAAOA,ICVxE,IAAI4L,GAAc7T,EAAAA,IAClBA,EAAAA,IAAgB,SAAA0B,GACXA,EAAMV,MAAQU,EAAMV,KAAAA,KAAmBU,EAAMP,MAChDO,EAAMhB,MAAMS,IAAMO,EAAMP,IACxBO,EAAMP,IAAM,MAET0S,IAAaA,GAAYnS,IAG9B,IAAaoS,GACM,oBAAV/E,QACPA,OAAOgF,KACPhF,OAAOgF,IAAI,sBACZ,cASeC,GAAWC,YAIjBC,EAAUxT,EAAOS,GAAAA,IACrBgT,EAAQ3T,GAAO,GAAIE,GAAAA,cAChByT,EAAMhT,IAEN8S,EACNE,GAFDhT,EAAMT,EAAMS,KAAOA,KAGM,iBAARA,GAAsB,YAAaA,GAAeA,EAAP,MAAA,OAK7D+S,EAAUE,SAAWN,GAKrBI,EAAUpM,OAASoM,EAEnBA,EAAUrM,UAAUwM,iBAAmBH,EAAAA,KAAAA,EACvCA,EAAUI,YAAc,eAAiBL,EAAGK,aAAeL,EAAG/N,MAAQ,IAC/DgO,EAAAA,IC/CFK,GAAQ,SAACtT,EAAUgT,GAAAA,OACR,MAAZhT,EAAyB,KACtBmE,EAAaA,EAAanE,GAAUuT,IAAIP,KAInCQ,GAAW,CACvBD,IAAKD,GACLhM,QAASgM,GACTG,MAAAA,SAAMzT,GAAAA,OACEA,EAAWmE,EAAanE,GAAU1B,OAAS,GAEnDoV,KAAAA,SAAK1T,GAAAA,IACE2T,EAAaxP,EAAanE,GAAAA,GACN,IAAtB2T,EAAWrV,OAAc,KAAM,gBAAA,OAC5BqV,EAAW,IAEnBC,QAASzP,GChBJ0P,GAAgB9U,EAAAA,IACtBA,EAAAA,IAAsB,SAASqL,EAAOnE,EAAU1D,GAAAA,GAC3C6H,EAAMW,KAAAA,IAAAA,IAEL1I,EACA5B,EAAQwF,EAEJxF,EAAQA,EAAAA,IAAAA,IACV4B,EAAY5B,EAAAA,MAAqB4B,EAAAA,IAAAA,OAChB,MAAjB4D,EAAAA,MACHA,EAAAA,IAAgB1D,EAAAA,IAChB0D,EAAAA,IAAqB1D,EAAAA,KAGfF,EAAAA,IAA2B+H,EAAOnE,GAI5C4N,GAAczJ,EAAOnE,EAAU1D,IAGhC,IAAMuR,GAAa/U,EAAQiF,iBAuEX+P,KAAAA,KAAAA,IAEgB,EAAA3K,KAC1B4K,EAAc,KAAA5K,KAAAzI,IACQ,cAoIZsT,GAAUxT,GAAAA,IAErB4B,EAAY5B,EAAAA,GAAAA,IAAAA,OACT4B,GAAaA,EAAAA,KAAwBA,EAAAA,IAAqB5B,YCjOlDyT,KAAAA,KACVC,EAAQ,KAAA/K,KACRgL,EAAO,KDcbrV,EAAQiF,QAAU,SAASvD,GAAAA,IAEpB4B,EAAY5B,EAAAA,IACd4B,GAAaA,EAAAA,KAChBA,EAAAA,MAOGA,IAAAA,IAAa5B,EAAAA,MAChBA,EAAMV,KAAO,MAGV+T,IAAYA,GAAWrT,KAiE5BsT,GAASnN,UAAY,IAAI1F,GAAAA,IAOa,SAASmT,EAASC,GAAAA,IACjDC,EAAsBD,EAAAA,IAGtB1S,EAAIwH,KAEW,MAAjBxH,EAAEoS,IACLpS,EAAEoS,EAAc,IAEjBpS,EAAEoS,EAAYnS,KAAK0S,GAAAA,IAEbtJ,EAAUgJ,GAAUrS,EAAAA,KAEtBpD,GAAAA,EACEgW,EAAa,WACdhW,IAEJA,GAAAA,EACA+V,EAAAA,IAAiC,KAE7BtJ,EACHA,EAAQwJ,GAERA,MAIFF,EAAAA,IAAiCC,EAAAA,IAE3BC,EAAuB,WAAA,MACrB7S,EAAAA,IAA2B,CAAA,GAG7BA,EAAEoF,MAAAA,IAAkB,CAAA,IACjB0N,EAAiB9S,EAAEoF,MAAAA,IACzBpF,EAAAA,IAAAA,IAAmB,GAAA,SA5Ed+S,EAAelU,EAAOmU,EAAgBC,GAAAA,OAC1CpU,IACHA,EAAAA,IAAkB,KAClBA,EAAAA,IACCA,EAAAA,KACAA,EAAAA,IAAgB8S,KAAI,SAAA9R,GAAAA,OACnBkT,EAAelT,EAAOmT,EAAgBC,MAGpCpU,EAAAA,KACCA,EAAAA,IAAAA,MAAgCmU,IAC/BnU,EAAAA,KACHoU,EAAenQ,aAAajE,EAAAA,IAAYA,EAAAA,KAEzCA,EAAAA,IAAAA,KAAAA,EACAA,EAAAA,IAAAA,IAA8BoU,IAK1BpU,EAwDe,CAClBiU,EACAA,EAAAA,IAAAA,IACAA,EAAAA,IAAAA,KAAAA,IAMET,EAAAA,IAFJrS,EAAE4I,SAAS,CAAA5J,IAAegB,EAAAA,IAAwB,OAG1CqS,EAAYrS,EAAEoS,EAAYc,OACjCb,EAAUpJ,gBAUPkK,GAAAA,IAAeT,EAAAA,IAChB1S,EAAAA,OAAgCmT,GACpCnT,EAAE4I,SAAS,CAAA5J,IAAegB,EAAAA,IAAwBA,EAAAA,IAAAA,IAAmB,KAEtEyS,EAAQtJ,KAAKyJ,EAAYA,IAG1BT,GAASnN,UAAUuC,qBAAuB,WAAAC,KACpC4K,EAAc,IAQpBD,GAASnN,UAAUC,OAAS,SAASpH,EAAOuH,GAAAA,GACvCoC,KAAAA,IAA0B,CAAA,GAIzBA,KAAAA,IAAAA,IAAuB,CAAA,IACpBwL,EAAiB7M,SAASjI,cAAc,OACxCkV,EAAoB5L,KAAAA,IAAAA,IAAsB,GAAAO,IAAAP,KAAA6L,IAAAC,IAC1B,GAAA,SArJhBC,EAAc1U,EAAOmU,EAAgBnS,GAAAA,OACzChC,IACCA,EAAAA,KAAoBA,EAAAA,IAAAA,MACvBA,EAAAA,IAAAA,IAAAA,GAA+B6G,SAAQ,SAAA8N,GACR,mBAAnBA,EAAAA,KAA+BA,EAAAA,SAG3C3U,EAAAA,IAAAA,IAA2B,MAIJ,OADxBA,EAAQlB,GAAO,GAAIkB,IAAAA,MAEdA,EAAAA,IAAAA,MAAgCgC,IACnChC,EAAAA,IAAAA,IAA8BmU,GAE/BnU,EAAAA,IAAmB,MAGpBA,EAAAA,IACCA,EAAAA,KACAA,EAAAA,IAAgB8S,KAAI,SAAA9R,GAAAA,OACnB0T,EAAc1T,EAAOmT,EAAgBnS,OAIjChC,EA4HiB,CACrB2I,KAAAA,IACAwL,EACCI,EAAAA,IAAuCA,EAAAA,KAAAA,KAAAA,IAIf,KAAA,IAKtBK,EACLrO,EAAAA,KAAoBlH,EAAcmB,EAAU,KAAMxB,EAAM4V,UAAAA,OACrDA,IAAUA,EAAAA,IAAsB,MAE7B,CACNvV,EAAcmB,EAAU,KAAM+F,EAAAA,IAAmB,KAAOvH,EAAMO,UAC9DqV,IChMF,IAAMpK,GAAU,SAACqK,EAAM7T,EAAO9B,GAAAA,KACvBA,EAdgB,KAcSA,EAfR,IAqBtB2V,EAAKlB,EAAKmB,OAAO9T,GAQhB6T,EAAK7V,MAAM+V,cACmB,MAA9BF,EAAK7V,MAAM+V,YAAY,KAAcF,EAAKlB,EAAKqB,MAAAA,IAQjD9V,EAAO2V,EAAKnB,EACLxU,GAAM,CAAA,KACLA,EAAKrB,OAAS,GACpBqB,EAAKmV,KAALnV,GAAAA,GAEGA,EA1CiB,GA0CMA,EA3CL,GAAA,MA8CtB2V,EAAKnB,EAAQxU,EAAOA,EA5CJ,cCDT+V,GAAgBjW,GAAAA,OAAAA,KACnBgI,gBAAkB,WAAA,OAAMhI,EAAM0B,SAC5B1B,EAAMO,kBAUL2V,GAAOlW,GAAAA,IACTmW,EAAQxM,KACVyM,EAAYpW,EAAMqW,EAEtBF,EAAMzM,qBAAuB,WAC5BtC,EAAO,KAAM+O,EAAMG,GACnBH,EAAMG,EAAQ,KACdH,EAAME,EAAa,MAKhBF,EAAME,GAAcF,EAAME,IAAeD,GAC5CD,EAAMzM,uBAKH1J,EAAAA,KACEmW,EAAMG,IACVH,EAAME,EAAaD,EAGnBD,EAAMG,EAAQ,CACblO,SAAU,EACVjI,WAAYiW,EACZzN,WAAY,GACZ5D,YAAAA,SAAY/C,GAAAA,KACN2G,WAAWvG,KAAKJ,GACrBmU,EAAME,EAAWtR,YAAY/C,IAE9BiD,aAAAA,SAAajD,EAAOuU,GAAAA,KACd5N,WAAWvG,KAAKJ,GACrBmU,EAAME,EAAWtR,YAAY/C,IAE9B5B,YAAAA,SAAY4B,GAAAA,KACN2G,WAAW+B,OAAOf,KAAKhB,WAAW9G,QAAQG,KAAW,EAAG,GAC7DmU,EAAME,EAAWjW,YAAY4B,MAMhCoF,EACC/G,EAAc4V,GAAiB,CAAEvU,QAASyU,EAAMzU,SAAW1B,EAAAA,KAC3DmW,EAAMG,IAKCH,EAAMG,GACdH,EAAMzM,wBDXR+K,GAAatN,UAAY,IAAI1F,GAAAA,IAEO,SAASO,GAAAA,IACtC6T,EAAOlM,KACP6M,EAAYhC,GAAUqB,EAAAA,KAExB3V,EAAO2V,EAAKlB,EAAKnH,IAAIxL,GAAAA,OACzB9B,EA5DuB,KA8DhB,SAAAuW,GAAAA,IACAC,EAAmB,WACnBb,EAAK7V,MAAM+V,aAKf7V,EAAKkC,KAAKqU,GACVjL,GAAQqK,EAAM7T,EAAO9B,IAHrBuW,KAMED,EACHA,EAAUE,GAEVA,MAKHjC,GAAatN,UAAUC,OAAS,SAASpH,GAAAA,KACnC0U,EAAQ,KAAA/K,KACRgL,EAAO,IAAIgC,IAAAA,IAEVpW,EAAWmE,EAAa1E,EAAMO,UAChCP,EAAM+V,aAAwC,MAAzB/V,EAAM+V,YAAY,IAI1CxV,EAASqW,UAAAA,IAIL,IAAIhY,EAAI2B,EAAS1B,OAAQD,KAAAA,KAYxB+V,EAAKtH,IAAI9M,EAAS3B,GAAK+K,KAAK+K,EAAQ,CAAC,EAAG,EAAG/K,KAAK+K,IAAAA,OAE/C1U,EAAMO,UAGdkU,GAAatN,UAAUY,mBAAqB0M,GAAatN,UAAUO,kBAAoB,WAAA,IAAA0H,EAAAzF,KAAAA,KAOjFgL,EAAK9M,SAAQ,SAAC3H,EAAM8B,GACxBwJ,GAAQ2K,EAAMnU,EAAO9B,OAAAA,IEnHV2W,GACM,oBAAVxI,QAAyBA,OAAOgF,KAAOhF,OAAOgF,IAAI,kBAC1D,MAEKyD,GAAAA,4OAEAC,GAA6B,oBAAbzO,SAKhB0O,GAAoB,SAAA1W,GAAAA,OACP,oBAAV+N,QAA4C,iBAAZA,SAAAA,eAAAA,eAGtC/I,KAAKhF,IAGRmB,EAAU0F,UAAUwM,iBAAmB,GASvC,CACC,qBACA,4BACA,uBACC9L,SAAQ,SAAArH,GACT7B,OAAOgR,eAAelO,EAAU0F,UAAW3G,EAAK,CAC/CqP,cAAAA,EACArC,IAAAA,WAAAA,OACQ7D,KAAK,UAAYnJ,IAEzB6M,IAAAA,SAAI4J,GACHtY,OAAOgR,eAAehG,KAAMnJ,EAAK,CAChCqP,cAAAA,EACAC,UAAAA,EACA1K,MAAO6R,UAiCX,IAAIC,GAAe5X,EAAQiH,eASlB4Q,eAEAC,KAAAA,OACDzN,KAAK0N,sBAGJC,KAAAA,OACD3N,KAAK4N,iBAfbjY,EAAQiH,MAAQ,SAAAH,GAAAA,OACX8Q,KAAc9Q,EAAI8Q,GAAa9Q,IACnCA,EAAEoR,QAAUL,GACZ/Q,EAAEgR,qBAAuBA,GACzBhR,EAAEkR,mBAAqBA,GACflR,EAAEqR,YAAcrR,GAazB,IAuGI4J,GAvGA0H,GAAsB,CACzB7H,cAAAA,EACArC,IAAAA,WAAAA,OACQ7D,KAAKgO,QAIVC,GAAetY,EAAQ0B,MAC3B1B,EAAQ0B,MAAQ,SAAAA,GAAAA,IACXV,EAAOU,EAAMV,KACbN,EAAQgB,EAAMhB,MACdU,EAAkBV,EAAAA,GAGF,iBAATM,EAAmB,CAAA,IACvBuX,GAAAA,IAAmBvX,EAAKuB,QAAQ,KAAA,IAGjC,IAAIjD,KAFT8B,EAAkB,GAEJV,EAAO,CAAA,IAChBoF,EAAQpF,EAAMpB,GAEdmY,IAAgB,aAANnY,GAA6B,aAAT0B,GAInB,UAAN1B,GAAiB,iBAAkBoB,GAAkB,MAAToF,IAK9C,iBAANxG,GACA,UAAWoB,GACI,MAAfA,EAAMoF,MAINxG,EAAI,QACY,aAANA,IAAAA,IAAoBwG,EAM9BA,EAAQ,GAAA,iBACmBE,KAAK1G,GAChCA,EAAI,aAAA,6BAEyB0G,KAAK1G,EAAI0B,KACrC0W,GAAkBhX,EAAMM,MAEzB1B,EAAI,UAAA,6BACmC0G,KAAK1G,GAC5CA,EAAIA,EAAEkH,cACI+R,GAAoBf,GAAYxR,KAAK1G,GAC/CA,EAAIA,EAAEiH,QAAAA,WAAoB,OAAOC,cACb,OAAVV,IACVA,OAAAA,GAGD1E,EAAgB9B,GAAKwG,GAKb,UAAR9E,GACAI,EAAgBoX,UAChB3T,MAAMC,QAAQ1D,EAAgB0E,SAG9B1E,EAAgB0E,MAAQV,EAAa1E,EAAMO,UAAUsH,SAAQ,SAAA7F,GAC5DA,EAAMhC,MAAM+X,UAAAA,GACXrX,EAAgB0E,MAAMvD,QAAQG,EAAMhC,MAAMoF,WAKjC,UAAR9E,GAAoD,MAAhCI,EAAgBsJ,eACvCtJ,EAAgB0E,MAAQV,EAAa1E,EAAMO,UAAUsH,SAAQ,SAAA7F,GAE3DA,EAAMhC,MAAM+X,SADTrX,EAAgBoX,UAAAA,GAElBpX,EAAgBsJ,aAAanI,QAAQG,EAAMhC,MAAMoF,OAGjD1E,EAAgBsJ,cAAgBhI,EAAMhC,MAAMoF,UAKhDpE,EAAMhB,MAAQU,EAGXJ,GAAQN,EAAM2X,OAAS3X,EAAMgY,YAChCN,GAAoB9H,WAAa,cAAe5P,EACzB,MAAnBA,EAAMgY,YAAmBtX,EAAgBiX,MAAQ3X,EAAMgY,WAC3DrZ,OAAOgR,eAAejP,EAAiB,YAAagX,KAGrD1W,EAAM0S,SAAWmD,GAEbe,IAAcA,GAAa5W,IAKhC,IAAMqP,GAAkB/Q,EAAAA,IACxBA,EAAAA,IAAkB,SAAS0B,GACtBqP,IACHA,GAAgBrP,GAEjBgP,GAAmBhP,EAAAA,cChKXiX,GAAeC,GAAAA,QACdA,GAAWA,EAAQxE,WAAamD,GAiD1C,IAiBmBrV,GAiCJ,CACdoP,SAAAA,GACAE,WAAAA,GACAQ,UAAAA,GACAG,gBAAAA,GACAC,OAAAA,GACAyG,6BTmCmC1X,EAAK2X,EAAc7G,GACtDrB,GAAc,EACduB,IACC,WACmB,mBAAPhR,EAAmBA,EAAI2X,KACzB3X,IAAKA,EAAI6I,QAAU8O,OAErB,MAAR7G,EAAeA,EAAOA,EAAK8G,OAAO5X,KSzCnCmR,QAAAA,GACA0G,qBTgE2BpN,EAAUqG,GAAAA,OACrCrB,GAAc,EACP0B,IAAQ,WAAA,OAAM1G,IAAUqG,ISjE/BO,WAAAA,GACAyG,uBT8F6BnT,EAAOoT,GAChClZ,EAAQiZ,eACXjZ,EAAQiZ,cAAcC,EAAYA,EAAUpT,GAASA,IS/FtDqT,QA9He,SA+Hf1E,SAAAA,GACA3M,gBDrGsBpG,EAAO0X,EAAQxN,GAAAA,OAGb,MAApBwN,EAAAA,MACHA,EAAOC,YAAc,IAGtBC,EAAa5X,EAAO0X,GACG,mBAAZxN,GAAwBA,IAE5BlK,EAAQA,EAAAA,IAAmB,MC4FlC+H,iBDzFuB/H,EAAO0X,EAAQxN,GAAAA,OACtC2N,EAAc7X,EAAO0X,GACE,mBAAZxN,GAAwBA,IAE5BlK,EAAQA,EAAAA,IAAmB,MCsFlC8X,gCA9F+B1C,GAAAA,QAC3BA,EAAAA,MACHwC,EAAa,KAAMxC,IAAAA,IA6FpB2C,sBFzF4B/X,EAAOoV,GAAAA,OAC5B/V,EAAc6V,GAAQ,CAAAV,IAAUxU,EAAOqV,EAAYD,KEyF1D/V,cAAAA,EACA0J,cAAAA,EACAiP,uBAhIsB1Y,GAAAA,OACfD,EAAckL,KAAK,KAAMjL,IAgIhCwJ,sBA7GqBoO,GAAAA,OAChBD,GAAeC,GACbe,EAAmBC,MAAM,KAAMvY,WADDuX,GA6GrCiB,qB3BxFeA,MACR,CAAE7P,QAAS,O2BwFlB9H,SAAAA,EACAyW,eAAAA,GACAmB,qBA1FoBxW,GAAAA,OAElBA,IACCA,EAAUX,MAAgC,IAAvBW,EAAUwF,UAAkBxF,IACjD,MAuFDnB,UAAAA,EACAuR,cAAAA,GACAqG,cCvKoBlX,EAAGmX,YACdC,EAAaC,GAAAA,IACjB/Y,EAAMkJ,KAAK3J,MAAMS,IACjBgZ,EAAYhZ,GAAO+Y,EAAU/Y,IAAAA,OAC5BgZ,GAAahZ,IACjBA,EAAIG,KAAOH,EAAI,MAASA,EAAI6I,QAAU,MAGlCgQ,GAIGA,EAAS3P,KAAK3J,MAAOwZ,KAAeC,EAHpC1G,GAAepJ,KAAK3J,MAAOwZ,YAM3BE,EAAO1Z,GAAAA,OAAAA,KACV4H,sBAAwB2R,EACtBlZ,EAAc8B,EAAGnC,GAAAA,OAEzB0Z,EAAO9F,YAAc,SAAWzR,EAAEyR,aAAezR,EAAEqD,MAAQ,IAC3DkU,EAAOvS,UAAUwM,kBAAAA,EACjB+F,EAAAA,KAAAA,EACOA,GDkJPpG,WAAAA,GACAqG,UApEiB,SAACzO,EAAU2H,GAAAA,OAAQ3H,EAAS2H,IAqE7C+G,wBAhF+B,SAAC1O,EAAU2H,GAAAA,OAAQ3H,EAAS2H,IAiF3DgH,WAhEkBrY,EAiElB8S,SAAAA,GACAG,aAAAA,GACAqF,cJqDoBC,GAAAA,IAChBC,EACApX,EACA+H,WAEKsP,EAAKja,GAAAA,GACRga,IACJA,EAAOD,KACFzO,MACJ,SAAA4O,GACCtX,EAAYsX,EAAQC,SAAWD,KAEhC,SAAA9T,GACCuE,EAAQvE,KAKPuE,EAAAA,MACGA,EAAAA,IAGF/H,EAAAA,MACEoX,EAAAA,OAGA3Z,EAAcuC,EAAW5C,GAAAA,OAGjCia,EAAKrG,YAAc,OACnBqG,EAAAA,KAAAA,EACOA,GInFPG,mDDgCiE,CACjEC,uBAAwB,CACvB/Q,QAAS,CACRgR,YAAAA,SAAY5Y,GAAAA,OACJsO,GAAAA,IAAgCtO,EAAAA,KAAa1B,MAAMoF,kBGvN9DmV,YANyBC,EAAUC,GACjC,KAAMD,aAAoBC,GACxB,MAAM,IAAIjL,UAAU,uCAKA,QAAI+K,GAAgBA,GAAerM,YAAa,qBCP/DwM,GAAkBC,EAAQ3a,GACjC,IAAK,IAAIpB,EAAI,EAAGA,EAAIoB,EAAMnB,OAAQD,IAAK,CACrC,IAAIgc,EAAa5a,EAAMpB,GACvBgc,EAAWhL,WAAagL,EAAWhL,aAAc,EACjDgL,EAAW/K,cAAe,EACtB,UAAW+K,IAAYA,EAAW9K,UAAW,GACjDnR,OAAOgR,eAAegL,EAAQC,EAAWpa,IAAKoa,aCFzCC,GAAQC,EAAQC,GAAkB,IAAIrc,EAAOC,OAAOD,KAAKoc,GAAS,GAAInc,OAAOqc,sBAAuB,CAAE,IAAIC,EAAUtc,OAAOqc,sBAAsBF,GAAaC,IAAkBE,EAAUA,EAAQzI,QAAO,SAAU0I,GAAO,OAAOvc,OAAOwc,yBAAyBL,EAAQI,GAAKtL,eAAkBlR,EAAK0D,KAAK8W,MAAMxa,EAAMuc,GAAY,OAAOvc,WAEzU0c,GAAcT,GAAU,IAAK,IAAI/b,EAAI,EAAGA,EAAI+B,UAAU9B,OAAQD,IAAK,CAAE,IAAIyc,EAAyB,MAAhB1a,UAAU/B,GAAa+B,UAAU/B,GAAK,GAAQA,EAAI,EAAKic,GAAQlc,OAAO0c,IAAS,GAAMxT,SAAQ,SAAUrH,GAAO8a,EAAA5L,EAAA,CAAgBiL,EAAQna,EAAK6a,EAAO7a,OAAsB7B,OAAO4c,0BAA6B5c,OAAO6c,iBAAiBb,EAAQhc,OAAO4c,0BAA0BF,IAAmBR,GAAQlc,OAAO0c,IAASxT,SAAQ,SAAUrH,GAAO7B,OAAOgR,eAAegL,EAAQna,EAAK7B,OAAOwc,yBAAyBE,EAAQ7a,OAAe,OAAOma,GDU7gBc,YANsBhB,EAAaiB,EAAYC,GAG7C,OAFID,GAAYhB,GAAkBD,EAAYtT,UAAWuU,GACrDC,GAAajB,GAAkBD,EAAakB,GACzClB,IAIe,QAAIgB,GAAgBA,GAAevN,YAAa,ECRxE,IASI0N,GATAC,GAAiB,CACnBC,SAAU,kBACVC,cAAe,GACfC,oBAAqB,GACrBC,4BAA4B,EAC5BC,mBAAoB,GACpBC,2BAA4B,CAAC,KAAM,SAAU,IAAK,KAClDC,aAAa,GAGJC,GAAcC,GAAMvS,yBAKfwS,KACd,OAAOV,GAEF,IAAIW,GAAmB,oBACnBC,IACPnB,EAAAf,GAAA,CAAgB5Q,KAAM8S,GAEtB9S,KAAK+S,eAAiB,GAmBxB,OAhBApB,EAAAG,GAAA,CAAagB,EAAkB,CAAC,CAC9Bjc,IAAK,oBACL4E,MAAO,SAA2BuX,GAChC,IAAIxG,EAAQxM,KAEZgT,EAAW9U,SAAQ,SAAU+U,GACtBzG,EAAMuG,eAAeE,KAAKzG,EAAMuG,eAAeE,IAAM,QAG7D,CACDpc,IAAK,oBACL4E,MAAO,WACL,OAAOzG,OAAOD,KAAKiL,KAAK+S,oBAIrBD,EAvBqB,YA4BdI,KACd,OAAOjB,GAEF,IAAIkB,GAAmB,CAC5Bxc,KAAM,WACN2Q,KAAM,SAAcuJ,eAvCpB,IAAIlb,EAAUqB,UAAU9B,OAAS,QAAsBwC,IAAjBV,UAAU,GAAmBA,UAAU,GAAK,GAClFkb,GAAiBT,GAAcA,GAAc,GAAIS,IAAiBvc,GAuChEyd,CAAYvC,EAASlb,QAAQ0d,gBATTxC,GACtBoB,GAAepB,EASbyC,CAAQzC,cC9DI0C,KACd,GAAIC,SAAWA,QAAQC,KAAM,CAG3B,IAFA,IAAIC,EAEKC,EAAO3c,UAAU9B,OAAQ0S,EAAO,IAAIpN,MAAMmZ,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAC/EhM,EAAKgM,GAAQ5c,UAAU4c,GAGF,iBAAZhM,EAAK,KAAiBA,EAAK,GAAK,mBAAmB8G,OAAO9G,EAAK,MAEzE8L,EAAWF,SAASC,KAAKlE,MAAMmE,EAAU9L,IAG9C,IAAIiM,GAAgB,YACJC,KACd,IAAK,IAAIC,EAAQ/c,UAAU9B,OAAQ0S,EAAO,IAAIpN,MAAMuZ,GAAQC,EAAQ,EAAGA,EAAQD,EAAOC,IACpFpM,EAAKoM,GAAShd,UAAUgd,GAGH,iBAAZpM,EAAK,IAAmBiM,GAAcjM,EAAK,MAC/B,iBAAZA,EAAK,KAAiBiM,GAAcjM,EAAK,IAAM,IAAIrE,MAC9DgQ,GAAKhE,WAAM,EAAQ3H,aAELqM,GAAeC,EAAMjB,EAAIvT,GACvCwU,EAAKC,eAAelB,GAAI,WACtB,GAAIiB,EAAKE,cACP1U,QACK,CAQLwU,EAAKG,GAAG,eAPU,SAASC,IACzBxS,YAAW,WACToS,EAAKK,IAAI,cAAeD,KACvB,GACH5U,oBAOQ8U,GAAmBvB,EAAIiB,GACrC,IAAIve,EAAUqB,UAAU9B,OAAS,QAAsBwC,IAAjBV,UAAU,GAAmBA,UAAU,GAAK,GAElF,IAAKkd,EAAKO,YAAcP,EAAKO,UAAUvf,OAErC,OADA4e,GAAS,yCAA0CI,EAAKO,YACjD,EAGT,IAAIC,EAAMR,EAAKO,UAAU,GACrBE,IAAcT,EAAKve,SAAUue,EAAKve,QAAQgf,YAC1CC,EAAUV,EAAKO,UAAUP,EAAKO,UAAUvf,OAAS,GACrD,GAA0B,WAAtBwf,EAAIvY,cAA4B,OAAO,EAE3C,IAAI0Y,EAAiB,SAAwBC,EAAGrP,GAC9C,IAAIsP,EAAYb,EAAKc,SAASC,iBAAiBrX,MAAM,GAAG8Q,OAAOoG,EAAG,KAAKpG,OAAOjJ,IAC9E,OAAqB,IAAdsP,GAAkC,IAAdA,GAG7B,QAAIpf,EAAQwc,UAAYxc,EAAQwc,SAASja,QAAQ,qBAAsB,GAAMgc,EAAKc,SAASC,iBAAiBC,SAAWhB,EAAKiB,uBAAyBN,EAAeX,EAAKiB,qBAAsBlC,QAC3LiB,EAAKkB,kBAAkBV,EAAKzB,MAC3BiB,EAAKc,SAASC,iBAAiBC,YAChCL,EAAeH,EAAKzB,IAAS0B,IAAeE,EAAeD,EAAS3B,eAG1DoC,GAAevd,GAC7B,OAAOA,EAAUmS,aAAenS,EAAU+D,OAA8B,iBAAd/D,GAA0BA,EAAU5C,OAAS,EAAI4C,EAAY,oBC7DhHwd,GAAQnE,EAAQC,GAAkB,IAAIrc,EAAOC,OAAOD,KAAKoc,GAAS,GAAInc,OAAOqc,sBAAuB,CAAE,IAAIC,EAAUtc,OAAOqc,sBAAsBF,GAAaC,IAAkBE,EAAUA,EAAQzI,QAAO,SAAU0I,GAAO,OAAOvc,OAAOwc,yBAAyBL,EAAQI,GAAKtL,eAAkBlR,EAAK0D,KAAK8W,MAAMxa,EAAMuc,GAAY,OAAOvc,WAEzUwgB,GAAcvE,GAAU,IAAK,IAAI/b,EAAI,EAAGA,EAAI+B,UAAU9B,OAAQD,IAAK,CAAE,IAAIyc,EAAyB,MAAhB1a,UAAU/B,GAAa+B,UAAU/B,GAAK,GAAQA,EAAI,EAAKqgB,GAAQtgB,OAAO0c,IAAS,GAAMxT,SAAQ,SAAUrH,GAAO8a,EAAA5L,EAAA,CAAgBiL,EAAQna,EAAK6a,EAAO7a,OAAsB7B,OAAO4c,0BAA6B5c,OAAO6c,iBAAiBb,EAAQhc,OAAO4c,0BAA0BF,IAAmB4D,GAAQtgB,OAAO0c,IAASxT,SAAQ,SAAUrH,GAAO7B,OAAOgR,eAAegL,EAAQna,EAAK7B,OAAOwc,yBAAyBE,EAAQ7a,OAAe,OAAOma,WAK7fwE,GAAevC,GAC7B,IAAI5c,EAAQW,UAAU9B,OAAS,QAAsBwC,IAAjBV,UAAU,GAAmBA,UAAU,GAAK,GAC5Eye,EAAgBpf,EAAM6d,KAEtBwB,EAAOC,GAAWjD,KAAgB,GAClCkD,EAAkBF,EAAKxB,KACvB2B,EAAuBH,EAAKI,UAE5B5B,EAAOuB,GAAiBG,GAAmB1C,KAG/C,GAFIgB,IAASA,EAAK6B,mBAAkB7B,EAAK6B,iBAAmB,IAAIlD,KAE3DqB,EAAM,CACTJ,GAAS,0EAET,IAAIkC,EAAY,SAAmBhT,GACjC,OAAOxI,MAAMC,QAAQuI,GAAKA,EAAEA,EAAE9N,OAAS,GAAK8N,GAG1CiT,EAAc,CAACD,EAAW,IAAI,GAIlC,OAHAC,EAAYC,EAAIF,EAChBC,EAAY/B,KAAO,GACnB+B,EAAYE,OAAQ,EACbF,EAGL/B,EAAKve,QAAQ0d,YAAqC3b,IAA5Bwc,EAAKve,QAAQ0d,MAAM+C,MAAoBtC,GAAS,uGAE1E,IAAIuC,EAAcd,GAAcA,GAAcA,GAAc,GAAI3C,MAAgBsB,EAAKve,QAAQ0d,OAAQhd,GAEjGoc,EAAc4D,EAAY5D,YAC1B6D,EAAYD,EAAYC,UACxBtD,EAAaC,GAAM4C,GAAwB3B,EAAKve,SAAWue,EAAKve,QAAQmgB,UAC5E9C,EAAmC,iBAAfA,EAA0B,CAACA,GAAcA,GAAc,CAAC,eACxEkB,EAAK6B,iBAAiBQ,mBAAmBrC,EAAK6B,iBAAiBQ,kBAAkBvD,GACrF,IAAImD,GAASjC,EAAKE,eAAiBF,EAAKsC,uBAAyBxD,EAAWyD,OAAM,SAAUhR,GAC1F,OAAO+O,GAAmB/O,EAAGyO,EAAMmC,eAG5BK,IACP,OAAOxC,EAAKyC,UAAU,KAA6B,aAAvBN,EAAYO,OAAwB5D,EAAaA,EAAW,GAAIsD,GAG9F,IAAIO,EAAYC,GAASJ,GACrBK,EAAapF,EAAA7L,EAAA,CAAe+Q,EAAW,GACvCX,EAAIa,EAAW,GACfC,EAAOD,EAAW,GAElBE,EAAYC,IAAO,GACvBC,IAAU,WACR,IAAIhF,EAAWkE,EAAYlE,SACvBC,EAAgBiE,EAAYjE,uBASvBgF,IACHH,EAAUtX,SAASqX,EAAKN,GAK9B,OAdAO,EAAUtX,SAAU,EAEfwW,GAAU1D,GACbwB,GAAeC,EAAMlB,GAAY,WAC3BiE,EAAUtX,SAASqX,EAAKN,MAQ5BvE,GAAY+B,GAAMA,EAAKG,GAAGlC,EAAUiF,GACpChF,GAAiB8B,GAAMA,EAAKmD,MAAMhD,GAAGjC,EAAegF,GACjD,WACLH,EAAUtX,SAAU,EAChBwS,GAAY+B,GAAM/B,EAASmF,MAAM,KAAKpZ,SAAQ,SAAUzB,GAC1D,OAAOyX,EAAKK,IAAI9X,EAAG2a,MAEjBhF,GAAiB8B,GAAM9B,EAAckF,MAAM,KAAKpZ,SAAQ,SAAUzB,GACpE,OAAOyX,EAAKmD,MAAM9C,IAAI9X,EAAG2a,SAG5B,CAAClD,EAAMlB,EAAWuE,SACrB,IAAIC,EAAYN,IAAO,GACvBC,IAAU,WACJF,EAAUtX,UAAY6X,EAAU7X,SAClCqX,EAAKN,GAGPc,EAAU7X,SAAU,IACnB,CAACuU,IACJ,IAAIuD,EAAM,CAACvB,EAAGhC,EAAMiC,GAIpB,GAHAsB,EAAIvB,EAAIA,EACRuB,EAAIvD,KAAOA,EACXuD,EAAItB,MAAQA,EACRA,EAAO,OAAOsB,EAClB,IAAKtB,IAAU1D,EAAa,OAAOgF,EACnC,MAAM,IAAI/V,SAAQ,SAAUG,GAC1BoS,GAAeC,EAAMlB,GAAY,WAC/BnR,2BCtFN6V,YAfuChG,EAAQiG,GAC7C,GAAc,MAAVjG,EAAgB,MAAO,GAC3B,IAEI7a,EAAK5B,EAFL+b,EAAS,GACT4G,EAAa5iB,OAAOD,KAAK2c,GAG7B,IAAKzc,EAAI,EAAGA,EAAI2iB,EAAW1iB,OAAQD,IACjC4B,EAAM+gB,EAAW3iB,GACb0iB,EAASzf,QAAQrB,IAAQ,IAC7Bma,EAAOna,GAAO6a,EAAO7a,IAGvB,OAAOma,IAIe,QAAI0G,GAAgBA,GAAenT,YAAa,GCKxEsT,YAnBkCnG,EAAQiG,GACxC,GAAc,MAAVjG,EAAgB,MAAO,GAC3B,IACI7a,EAAK5B,EADL+b,EAAS0G,GAA6BhG,EAAQiG,GAGlD,GAAI3iB,OAAOqc,sBAAuB,CAChC,IAAIyG,EAAmB9iB,OAAOqc,sBAAsBK,GAEpD,IAAKzc,EAAI,EAAGA,EAAI6iB,EAAiB5iB,OAAQD,IACvC4B,EAAMihB,EAAiB7iB,GACnB0iB,EAASzf,QAAQrB,IAAQ,GACxB7B,OAAOwI,UAAUua,qBAAqB9gB,KAAKya,EAAQ7a,KACxDma,EAAOna,GAAO6a,EAAO7a,IAIzB,OAAOma,IAIe,QAAI6G,GAAgBA,GAAetT,YAAa,ECnBxE,IAAIyT,GAAY,CAAC,yBAERC,GAAQ9G,EAAQC,GAAkB,IAAIrc,EAAOC,OAAOD,KAAKoc,GAAS,GAAInc,OAAOqc,sBAAuB,CAAE,IAAIC,EAAUtc,OAAOqc,sBAAsBF,GAAaC,IAAkBE,EAAUA,EAAQzI,QAAO,SAAU0I,GAAO,OAAOvc,OAAOwc,yBAAyBL,EAAQI,GAAKtL,eAAkBlR,EAAK0D,KAAK8W,MAAMxa,EAAMuc,GAAY,OAAOvc,WAEzUmjB,GAAclH,GAAU,IAAK,IAAI/b,EAAI,EAAGA,EAAI+B,UAAU9B,OAAQD,IAAK,CAAE,IAAIyc,EAAyB,MAAhB1a,UAAU/B,GAAa+B,UAAU/B,GAAK,GAAQA,EAAI,EAAKgjB,GAAQjjB,OAAO0c,IAAS,GAAMxT,SAAQ,SAAUrH,GAAO8a,EAAA5L,EAAA,CAAgBiL,EAAQna,EAAK6a,EAAO7a,OAAsB7B,OAAO4c,0BAA6B5c,OAAO6c,iBAAiBb,EAAQhc,OAAO4c,0BAA0BF,IAAmBuG,GAAQjjB,OAAO0c,IAASxT,SAAQ,SAAUrH,GAAO7B,OAAOgR,eAAegL,EAAQna,EAAK7B,OAAOwc,yBAAyBE,EAAQ7a,OAAe,OAAOma,WAK7fmH,GAAgBlF,GAC9B,IAAItd,EAAUqB,UAAU9B,OAAS,QAAsBwC,IAAjBV,UAAU,GAAmBA,UAAU,GAAK,GAClF,OAAO,SAAgBohB,YACZC,EAAuB3C,GAC9B,IAAI4C,EAAe5C,EAAK4C,aACpBC,EAAO5G,EAAAkG,GAAA,CAAyBnC,EAAMsC,IAEtCQ,EAAkBhD,GAAevC,EAAIsF,GACrCE,EAAmB9G,EAAA7L,EAAA,CAAe0S,EAAiB,GACnDtC,EAAIuC,EAAiB,GACrBvE,EAAOuE,EAAiB,GACxBtC,EAAQsC,EAAiB,GAEzBC,EAAgBR,GAAcA,GAAc,GAAIK,GAAO,GAAI,CAC7DrC,EAAGA,EACHhC,KAAMA,EACNyE,OAAQxC,IASV,OANIxgB,EAAQijB,SAAWN,EACrBI,EAAc5hB,IAAMwhB,GACV3iB,EAAQijB,SAAWN,IAC7BI,EAAcJ,aAAeA,GAGxB3F,GAAMjc,cAAc0hB,EAAkBM,GAG/CL,EAAuBpO,YAAc,0BAA0ByE,OAAO2G,GAAe+C,GAAmB,KACxGC,EAAuBD,iBAAmBA,EAQ1C,OAAOziB,EAAQijB,QAAUjG,GAAMhJ,YANd,SAAoBtT,EAAOS,GAC1C,OAAO6b,GAAMjc,cAAc2hB,EAAwBrjB,OAAOmB,OAAO,GAAIE,EAAO,CAC1EiiB,aAAcxhB,QAIsCuhB,GC5C5D,MAAMQ,GAAO,CAEXC,WAAYC,IACV,IAEE,OADA,IAAIC,IAAID,IACD,EACP,MAAOE,GACP,OAAO,IAGXC,YAAW,CAAGC,EAAQ9M,EAAO,KACpB,IACF8M,EAAO7B,MAAM,IAAI5hB,MAAM,EAAG0jB,KAAKC,MAAMhN,EAAK,IAC7C8M,EAAOjkB,OAASmX,EAAO,MAAQ,MAC5B8M,EAAO7B,MAAM,IAAI5hB,MAAM0jB,KAAKC,MAAMhN,EAAK,IAAI3W,OAA2B,EAArB0jB,KAAKC,MAAMhN,EAAK,KAAUkL,KAAK,IAEvF+B,YAAaH,GACJA,EAAOjd,QAAP,wBAAwC,QAEjDqd,WAAU,IAAQ,IAAIP,IAAIra,SAAS6a,SAASC,SAASvd,QAAnC,MAAkD,IAEpEwd,MAAOX,GACAA,GAAqB,iBAAPA,EAGfF,GAAKC,WAAWC,GACXA,EAEFY,SAASC,OAASf,GAAKU,aAAeR,EALpC,GAUXc,MAAOC,GAAI,IAAQA,GAAQ,MAAMvW,KAAKC,MAAMkC,WAAWhQ,OAAM,KAAM0jB,KAAKW,SAASrU,WAAWhQ,OAAM,KAElGskB,OAAQ7kB,GAAM8kB,SAAS9kB,EAAG+G,QAAH,SAAoB,IAAK,IAChDge,UAAS,8DACTC,OAAQC,IACN,IAAKA,EACH,MAAO,GAET,IAAIrB,EAAMqB,EAAIC,MAAMxB,GAAKqB,WACzB,GAAInB,GAAOA,EAAI,GAAGuB,WAAW,KAAM,CACjC,IAAIC,EAAOxB,EAAI,GAAGsB,MAAP,gBACXtB,EAAG,OAAawB,EAAI,MACpBxB,EAAI,GAAKA,EAAI,GAAGrjB,MAAM6kB,EAAI,OACtBxB,EAAI,GAAGyB,SAAS,OAClBzB,EAAI,GAAKA,EAAI,GAAGrjB,MAAM,GAAG,IAG7B,OAAOqjB,GAET0B,aAAY,CAAG9X,EAAK+X,IAAU/X,EAAIzN,OAASwlB,EAAb,GAAwB/X,EAAIjN,MAAM,EAAGglB,EAAM,QAAU/X,EAEnFgY,cAAeC,IACb,IAAKA,EACH,MAAO,GAET,IAAIC,EAAI,IAAItX,KAAiB,IAAZqX,GAEjB,OADAC,EAAI,IAAItX,KAAKsX,EAAEC,WAAYD,IAAAA,EAAEE,qBACtBF,EAAEG,cAAc9e,QAAQ,IAAK,KAAKA,QAAlC,QAAmD,KAG5D+e,UAAWL,IACT,MAAA1E,EAAQA,GAAMgF,KACd,IAAKN,EACH,OAAO,KAET,MAAMO,EAAW/B,KAAKgC,IAAIhC,KAAKiC,OAAO9X,KAAKC,MAAQ,IAAOoX,GAAa,KACvE,OAAIO,EAAW,EACNjF,EAAE,YAEPiF,EAAW,GACNjF,EAAE,MAAO,CAAEiF,SAAQ,GAAKA,QAE7BA,EAAW,KACNjF,EAAE,MAAO,CAAEiF,SAAQ,GAAK/B,KAAKC,MAAM8B,EAAW,SAEhDtC,GAAK8B,cAAcC,GAAWtD,MAAM,KAAK,IAGlDgE,MAAO7e,IACL,cAAeA,GACb,IAAK,SACH,OAAOA,EAAIA,EAAEtH,GAAK,KACpB,IAAK,SACH,OAAOsH,EACJ6a,MAAM,KACN5L,MACAxP,QAHI,QAGa,IACjBA,QAJI,SAIc,YAGrB,MADAsX,QAAQxS,MAAMvE,GACR,2BAIZ8e,UAAS,CAAGpmB,EAAIqmB,EAAOC,IACP,iBAAPtmB,GAAoBA,EAAGmlB,WAAW,KAErC,KADAzB,GAAKa,MAAL,yBAAoC8B,KAASC,KAAUtmB,KAG7DumB,KAAI,CAAGvmB,EAAIqmB,EAAOC,IACF,iBAAPtmB,GAAoBA,EAAGmlB,WAAW,KAErC,KADAzB,GAAKa,MAAL,oBAA+B8B,KAASC,KAAUtmB,KAGxDwmB,cACE,6pCACFnZ,KAAMG,GACJA,EAAI2U,MAAM,IAAIsE,QAAd,CAAsB9iB,EAAGN,KAAQM,GAAK,GAAKA,EAAIN,EAAEoK,aAAgB,IACnEiZ,UAAWlZ,GACT,CACE,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WACAyW,KAAKgC,IAAIvC,GAAKrW,KAAKG,IAAQ,IAC/BmZ,eAAgBnZ,IACd,IAAKA,EACH,MAAO,0BAET,IAAIoZ,EAAKlD,GAAKgD,UAAUlZ,GACpBqZ,EAAKnD,GAAKgD,UACZlZ,EACG2U,MAAM,IACNrK,UACAsK,KAAK,MAGV,MAAA,oBACsBwE,sCAFN3C,KAAKgC,IAAIvC,GAAKrW,KAAKG,IAAQ,EAAjC,UAE8DqZ,+BAAgCA,mCAAoCA,mCAAoCA,WAKlLC,YAAaxf,GACS,IAAbA,EAAEyf,SAA8B,IAAbzf,EAAEyf,SAA0B,SAATzf,EAAE5F,KAA2B,KAAT4F,EAAE5F,KAAc,SAA1E4F,EAA0EA,UAGrF0f,GAAetD,GCpKf,MAAMuD,GAAO,CACXC,SAAQ,CAAGC,EAAUC,EAAQC,EAAa,KAAMC,EAAU,OACjD3Z,EACJe,IAAI,UACJlC,MAAK+a,IACJ,IAAIC,EAAM,IAAIC,eACdD,EAAIE,KAAK,OAAT,GAAoBle,SAAS6a,oBAAoB,GACjDmD,EAAIG,iBAAiB,eAAgBJ,GACrCC,EAAItgB,iBAAiB,QAAQI,IACvBA,EAAEuU,OAAO+L,OAAS,KAAOtgB,EAAEuU,OAAO+L,OAAS,IAC7CR,EAAO/mB,KAAKC,MAAMgH,EAAEuU,OAAOgM,WAClBP,EACPA,EAAQhgB,EAAEuU,OAAOiM,YAEjBzJ,QAAQxS,MAAMvE,EAAEuU,OAAOiM,eAGzBT,IACFG,EAAIO,OAAOC,WAAa1gB,GACtB+f,EAAW,CAAEY,OAAQ3gB,EAAE2gB,OAAQna,MAAOxG,EAAEwG,SAExCwZ,GACFE,EAAItgB,iBAAiB,SAASI,GAAKggB,EAAQhgB,KAE7CkgB,EAAIU,KAAKf,MAEVgB,OAAMtc,GAASe,EAAMI,IAAInB,EAAO,kBAErC6C,IAAG,CAAGkV,EAAKwE,GAAU,IACZza,EACJe,IAAI,UACJlC,MAAK+a,IAEJ,KADA3D,EAAMF,GAAKa,MAAMX,IAEf,OAEF,IAAIyE,EAAI,GAOR,OANId,IACFc,EAAE,gBAAkBd,GAElBa,IACFC,EAAE,aAAe,WAEZC,MAAM1E,EAAK,CAChB2E,OAAQ,MACRC,QAAS,IAAIC,QAAQJ,KAEpB7b,MAAKkc,GAAOA,EAAIC,IAAMD,EAAIE,SAC1BT,OAAMnY,GAAOqO,QAAQC,KAAR,aAA0BsF,IAAO5T,QAElDmY,OAAMtc,GAASe,EAAMI,IAAInB,EAAO,kBAErCgd,KAAI,CAAGjF,EAAKha,EAAMkf,EAAc,qBAC9B7B,GAAK8B,QAAQnF,EAAKha,EAAM,OAAQkf,GAClCE,IAAG,CAAGpF,EAAKha,EAAMkf,EAAc,qBAC7B7B,GAAK8B,QAAQnF,EAAKha,EAAM,MAAOkf,GACjC9R,OAAM,CAAG4M,EAAKha,EAAMkf,EAAc,qBAChC7B,GAAK8B,QAAQnF,EAAK,KAAM,SAAUkF,GACpCC,QAAO,CAAGnF,EAAKha,EAAM2e,EAAQO,EAAc,qBAClCnb,EACJe,IAAI,UACJlC,MAAK+a,IAEJ,KADA3D,EAAMF,GAAKa,MAAMX,IAEf,OAEF,IAAIyE,EAAI,GACJd,IACFc,EAAE,gBAAkBd,GAElBuB,IACFT,EAAE,gBAAkBS,GAEtB,IAAIG,EAAe,QACjBV,EACAC,QAAS,IAAIC,QAAQJ,IAQvB,OANIze,IACFqf,EAAa1b,KACI,iBAAR3D,GAA6C,UAAzBA,EAAKnH,YAAYiE,KACxCrG,KAAKoO,UAAU7E,GACfA,GAED0e,MAAM1E,EAAKqF,GACfzc,MAAKkc,IACJ,IACE,MAAc,UAAVH,EACKG,EAAIE,OAEN,GACP,MAAOM,GAEP,OADA7K,QAAQC,KAAK4K,EAAUC,SAChB5c,QAAQ6c,OAAOF,EAAUC,aAGnChB,OAAMnY,GAAOqO,QAAQC,KAAR,aAA0BsF,IAAO5T,QAElDmY,OAAMtc,GAASe,EAAMI,IAAInB,EAAO,uBAGvCwd,GAAepC,GCtGf,MAAMqC,GAAM,CACVC,KAAM,GACNpd,OAAM,IACJ8a,GAAKvY,IAAI,aAAa,GAAMlC,MAAK7B,IAC/B,GAAKA,EAKL,OAFA2e,GAAIC,KAAO1pB,OAAOmB,OAAO,GAAI2J,GAC7BgC,WAAWoC,cAAc,IAAIC,YAAY,oBAClCrE,UAGb6e,GAAeF,OCNfG,GCRiB,CAAGC,IAClB,IAAIC,EAAS,GACTlhB,EAAQ,GAERyZ,EAAQ,CACV0H,SAAUniB,EAAOmC,GAKf,GAJc,cAAVnC,GACFya,EAAM0H,SAAS,YAAa,CAACniB,EAAOmC,EAAM+f,EAAOliB,KAG/CkiB,EAAOliB,GAAQ,CACjB,IAAIoiB,EACJF,EAAOliB,GAAOsB,SAAQjJ,IACpB,IAAIqE,EAAOwlB,EAAOliB,GAAOqiB,SAAShqB,IAAMA,EAAE2I,EAAOmB,EAAMsY,GACnD/d,GAA6B,mBAAdA,EAAKqI,OACtB/D,EAAQ,IAAKA,KAAUtE,GACvB0lB,EAAU,IAAKA,KAAY1lB,OAG3B0lB,GAAS3H,EAAM0H,SAAS,WAAYC,KAI5Cnb,IAAG,IAAQjG,EAEXyW,GAAE,CAAEzX,EAAO8C,MACPof,EAAOliB,KAAWkiB,EAAOliB,GAAS,KAAKnE,KAAKiH,GAExC,KACJof,EAAOliB,GAASkiB,EAAOliB,GAAOiM,QAAO5T,GAAKA,IAAMyK,OAUtD,OALAmf,EAAQ3gB,SAAQjJ,IACVA,GAAGA,EAAEoiB,MAEXA,EAAM0H,SAAS,SAER1H,GDhCK6H,CAAc,CELL7H,IACrBA,EAAMhD,GAAG,SAAT,KAAA,CAA0B8K,GAAI,OAE9B9H,EAAMhD,GAAG,aAAT,CAAuBzW,EAAOuhB,KACrB,IAACA,OCNe9H,IACzBA,EAAMhD,GAAG,SAAT,KAAA,CACE+K,MAAO,GACPjqB,GAAI,GACJsS,OAAQ,GACR4X,QAAS,GACTC,WAAY,GACZC,OAAQ,GACRC,OAAQ,OAGVnI,EAAMhD,GAAG,iBAAT,CAA2B4E,EAAGwG,KACrB,CACLD,OAAQC,EAASD,OACjBH,QAASI,EAASJ,aCZUhI,IAChCA,EAAMhD,GAAG,SAAT,KAAA,CAA0BqL,cAAc,OAExCrI,EAAMhD,GAAG,wBAAT,CAAkCzW,EAAO8hB,EAAgB,MAChD,eAACA,MAGVrI,EAAMhD,GAAG,wBAAT,CAAkCzW,EAAO+hB,KACvCvD,GAAKjQ,OAAL,sBAAkCwT,EAAaxqB,MACxC,CACLuqB,cAAe9hB,EAAM8hB,cAAc7W,QAAOpD,GAAKA,EAAEtQ,IAAMwqB,EAAaxqB,wBCZ1CiB,GAa9B,OATEwpB,GADoB,mBAAXlb,QAAoD,iBAApBA,OAAOC,SACtC,SAAiBvO,GACzB,cAAcA,GAGN,SAAiBA,GACzB,OAAOA,GAAyB,mBAAXsO,QAAyBtO,EAAIwB,cAAgB8M,QAAUtO,IAAQsO,OAAOlH,UAAY,gBAAkBpH,GAItHwpB,GAAQxpB,eCbuBA,EAAKS,EAAK4E,GAYhD,OAXI5E,KAAOT,EACTpB,OAAOgR,eAAe5P,EAAKS,EAAK,CAC9B4E,MAAOA,EACPwK,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZ/P,EAAIS,GAAO4E,EAGNrF,cCX6B4a,GACpC,IAAK,IAAI/b,EAAI,EAAGA,EAAI+B,UAAU9B,OAAQD,IAAK,CACzC,IAAIyc,EAAyB,MAAhB1a,UAAU/B,GAAaD,OAAOgC,UAAU/B,IAAM,GACvD4qB,EAAU7qB,OAAOD,KAAK2c,GAEkB,mBAAjC1c,OAAOqc,uBAChBwO,EAAQpnB,KAAK8W,MAAMsQ,EAAS7qB,OAAOqc,sBAAsBK,GAAQ7I,QAAO,SAAU0I,GAChF,OAAOvc,OAAOwc,yBAAyBE,EAAQH,GAAKtL,eAIxD4Z,EAAQ3hB,SAAQ,SAAUrH,GACxBipB,GAAe9O,EAAQna,EAAK6a,EAAO7a,OAIvC,OAAOma,cCjB+BH,EAAUC,GAChD,KAAMD,aAAoBC,GACxB,MAAM,IAAIjL,UAAU,8CCFfka,GAAkB/O,EAAQ3a,GACjC,IAAK,IAAIpB,EAAI,EAAGA,EAAIoB,EAAMnB,OAAQD,IAAK,CACrC,IAAIgc,EAAa5a,EAAMpB,GACvBgc,EAAWhL,WAAagL,EAAWhL,aAAc,EACjDgL,EAAW/K,cAAe,EACtB,UAAW+K,IAAYA,EAAW9K,UAAW,GACjDnR,OAAOgR,eAAegL,EAAQC,EAAWpa,IAAKoa,gBAIbH,EAAaiB,EAAYC,GAG5D,OAFID,GAAYgO,GAAkBjP,EAAYtT,UAAWuU,GACrDC,GAAa+N,GAAkBjP,EAAakB,GACzClB,qBCbAkP,GAAQ5pB,GAiBf,MAdsB,mBAAXsO,QAAoD,iBAApBA,OAAOC,UAChDsb,GAAiBD,GAAU,SAAiB5pB,GAC1C,cAAcA,GAGhB6pB,GAAwB,QAAIA,GAAgBA,GAAe1b,YAAa,IAExE0b,GAAiBD,GAAU,SAAiB5pB,GAC1C,OAAOA,GAAyB,mBAAXsO,QAAyBtO,EAAIwB,cAAgB8M,QAAUtO,IAAQsO,OAAOlH,UAAY,gBAAkBpH,GAG3H6pB,GAAwB,QAAIA,GAAgBA,GAAe1b,YAAa,GAGnEyb,GAAQ5pB,eCjB8B8pB,GAC7C,QAAa,IAATA,EACF,MAAM,IAAIC,eAAe,6DAG3B,OAAOD,cCH0CA,EAAMjpB,GACvD,GAAIA,IAA2B,WAAlB0a,EAAAsO,GAAA,CAAQhpB,IAAsC,mBAATA,GAChD,OAAOA,EACF,QAAa,IAATA,EACT,MAAM,IAAI4O,UAAU,4DAGtB,OAAOua,GAAsBF,eCTSlkB,GAItC,OAHAqkB,GAAkBrrB,OAAOsrB,eAAiBtrB,OAAOurB,eAAiB,SAAyBvkB,GACzF,OAAOA,EAAEwkB,WAAaxrB,OAAOurB,eAAevkB,IAEvCqkB,GAAgBrkB,eCJeA,EAAGsN,GAMzC,OALAmX,GAAkBzrB,OAAOsrB,gBAAkB,SAAyBtkB,EAAGsN,GAErE,OADAtN,EAAEwkB,UAAYlX,EACPtN,GAGFykB,GAAgBzkB,EAAGsN,eCLMoX,EAAUC,GAC1C,GAA0B,mBAAfA,GAA4C,OAAfA,EACtC,MAAM,IAAI9a,UAAU,sDAGtB6a,EAASljB,UAAYxI,OAAO4rB,OAAOD,GAAcA,EAAWnjB,UAAW,CACrE5F,YAAa,CACX6D,MAAOilB,EACPva,UAAU,EACVD,cAAc,KAGdya,GAAYF,GAAeC,EAAUC,eCbDrc,EAAKe,IAClC,MAAPA,GAAeA,EAAMf,EAAIpP,UAAQmQ,EAAMf,EAAIpP,QAE/C,IAAK,IAAID,EAAI,EAAGqQ,EAAO,IAAI9K,MAAM6K,GAAMpQ,EAAIoQ,EAAKpQ,IAC9CqQ,EAAKrQ,GAAKqP,EAAIrP,GAGhB,OAAOqQ,cCH8BhB,EAAKrP,GAC1C,gBCLsCqP,GACtC,GAAI9J,MAAMC,QAAQ6J,GAAM,OAAOA,EDIxBuc,CAAevc,aELsBA,EAAKrP,GACjD,IAAIwP,EAAY,MAAPH,EAAc,KAAyB,oBAAXI,QAA0BJ,EAAII,OAAOC,WAAaL,EAAI,cAE3F,GAAU,MAANG,EAAJ,CACA,IAIIG,EAAIC,EAJJC,EAAO,GACPC,GAAK,EACLC,GAAK,EAIT,IACE,IAAKP,EAAKA,EAAGxN,KAAKqN,KAAQS,GAAMH,EAAKH,EAAGQ,QAAQC,QAC9CJ,EAAKrM,KAAKmM,EAAGnJ,QAETxG,GAAK6P,EAAK5P,SAAWD,GAH4B8P,GAAK,IAK5D,MAAOI,GACPH,GAAK,EACLH,EAAKM,EACN,QACC,IACOJ,GAAsB,MAAhBN,EAAW,QAAWA,EAAW,SAC7C,QACC,GAAIO,EAAI,MAAMH,GAIlB,OAAOC,GFtBuBgc,CAAqBxc,EAAKrP,aGJN+G,EAAGwJ,GACrD,GAAKxJ,EAAL,CACA,GAAiB,iBAANA,EAAgB,OAAO+kB,GAAiB/kB,EAAGwJ,GACtD,IAAIC,EAAIzQ,OAAOwI,UAAUkI,SAASzO,KAAK+E,GAAGtG,MAAM,GAAG,GAEnD,MADU,WAAN+P,GAAkBzJ,EAAEpE,cAAa6N,EAAIzJ,EAAEpE,YAAYiE,MAC7C,QAAN4J,GAAqB,QAANA,EAAoBjL,MAAMmL,KAAK3J,GACxC,cAANyJ,GAAiB,2CAA+C9J,KAAK8J,GAAWsb,GAAiB/kB,EAAGwJ,QAAxG,GHF8Dwb,CAA2B1c,EAAKrP,eIJ9F,MAAM,IAAI4Q,UAAU,6IJIgFob,IPetGhB,GAAiBD,IACO,QAAIC,GAAgBA,GAAe1b,YAAa,EYXxE,IAAI2c,GAAgB,CAClBvqB,KAAM,SACNwqB,IAAK,SAAavZ,GAChB5H,KAAKohB,OAAO,MAAOxZ,IAErB6L,KAAM,SAAc7L,GAClB5H,KAAKohB,OAAO,OAAQxZ,IAEtB5G,MAAO,SAAe4G,GACpB5H,KAAKohB,OAAO,QAASxZ,IAEvBwZ,OAAQ,SAAgBzqB,EAAMiR,GACxB4L,SAAWA,QAAQ7c,IAAO6c,QAAQ7c,GAAM4Y,MAAMiE,QAAS5L,KAI3DyZ,GAAS,oBACFC,EAAOC,GACd,IAAI5rB,EAAUqB,UAAU9B,OAAS,QAAsBwC,IAAjBV,UAAU,GAAmBA,UAAU,GAAK,GAElFwqB,GAAgBxhB,KAAMshB,GAEtBthB,KAAKsH,KAAKia,EAAgB5rB,GAqE5B,OAlEA8rB,GAAaH,EAAQ,CAAC,CACpBzqB,IAAK,OACL4E,MAAO,SAAc8lB,GACnB,IAAI5rB,EAAUqB,UAAU9B,OAAS,QAAsBwC,IAAjBV,UAAU,GAAmBA,UAAU,GAAK,GAClFgJ,KAAK0hB,OAAS/rB,EAAQ+rB,QAAU,WAChC1hB,KAAK2hB,OAASJ,GAAkBL,GAChClhB,KAAKrK,QAAUA,EACfqK,KAAK4hB,MAAQjsB,EAAQisB,QAEtB,CACD/qB,IAAK,WACL4E,MAAO,SAAkBomB,GACvB7hB,KAAK4hB,MAAQC,IAEd,CACDhrB,IAAK,MACL4E,MAAO,WACL,IAAK,IAAIkY,EAAO3c,UAAU9B,OAAQ0S,EAAO,IAAIpN,MAAMmZ,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAC/EhM,EAAKgM,GAAQ5c,UAAU4c,GAGzB,OAAO5T,KAAK8hB,QAAQla,EAAM,MAAO,IAAI,KAEtC,CACD/Q,IAAK,OACL4E,MAAO,WACL,IAAK,IAAIsY,EAAQ/c,UAAU9B,OAAQ0S,EAAO,IAAIpN,MAAMuZ,GAAQC,EAAQ,EAAGA,EAAQD,EAAOC,IACpFpM,EAAKoM,GAAShd,UAAUgd,GAG1B,OAAOhU,KAAK8hB,QAAQla,EAAM,OAAQ,IAAI,KAEvC,CACD/Q,IAAK,QACL4E,MAAO,WACL,IAAK,IAAIsmB,EAAQ/qB,UAAU9B,OAAQ0S,EAAO,IAAIpN,MAAMunB,GAAQC,EAAQ,EAAGA,EAAQD,EAAOC,IACpFpa,EAAKoa,GAAShrB,UAAUgrB,GAG1B,OAAOhiB,KAAK8hB,QAAQla,EAAM,QAAS,MAEpC,CACD/Q,IAAK,YACL4E,MAAO,WACL,IAAK,IAAIwmB,EAAQjrB,UAAU9B,OAAQ0S,EAAO,IAAIpN,MAAMynB,GAAQC,EAAQ,EAAGA,EAAQD,EAAOC,IACpFta,EAAKsa,GAASlrB,UAAUkrB,GAG1B,OAAOliB,KAAK8hB,QAAQla,EAAM,OAAQ,wBAAwB,KAE3D,CACD/Q,IAAK,UACL4E,MAAO,SAAiBmM,EAAMua,EAAKT,EAAQU,GACzC,OAAIA,IAAcpiB,KAAK4hB,MAAc,MACd,iBAAZha,EAAK,KAAiBA,EAAK,GAAK,GAAG8G,OAAOgT,GAAQhT,OAAO1O,KAAK0hB,OAAQ,KAAKhT,OAAO9G,EAAK,KAC3F5H,KAAK2hB,OAAOQ,GAAKva,MAEzB,CACD/Q,IAAK,SACL4E,MAAO,SAAgB4mB,GACrB,OAAO,IAAIf,EAAOthB,KAAK2hB,OAAQW,GAAc,GAAI,CAC/CZ,OAAQ,GAAGhT,OAAO1O,KAAK0hB,OAAQ,KAAKhT,OAAO2T,EAAY,MACtDriB,KAAKrK,cAIL2rB,EA3EI,GA8ETiB,GAAa,IAAIlB,GAEjBmB,GAAe,oBACRC,IACPjB,GAAgBxhB,KAAMyiB,GAEtBziB,KAAK0iB,UAAY,GAqDnB,OAlDAjB,GAAagB,EAAc,CAAC,CAC1B5rB,IAAK,KACL4E,MAAO,SAAYqjB,EAAQ6D,GACzB,IAAInW,EAAQxM,KAOZ,OALA8e,EAAOxH,MAAM,KAAKpZ,SAAQ,SAAUtB,GAClC4P,EAAMkW,UAAU9lB,GAAS4P,EAAMkW,UAAU9lB,IAAU,GAEnD4P,EAAMkW,UAAU9lB,GAAOnE,KAAKkqB,MAEvB3iB,OAER,CACDnJ,IAAK,MACL4E,MAAO,SAAamB,EAAO+lB,GACpB3iB,KAAK0iB,UAAU9lB,KAEf+lB,EAKL3iB,KAAK0iB,UAAU9lB,GAASoD,KAAK0iB,UAAU9lB,GAAOiM,QAAO,SAAUiM,GAC7D,OAAOA,IAAM6N,YALN3iB,KAAK0iB,UAAU9lB,MAQzB,CACD/F,IAAK,OACL4E,MAAO,SAAcmB,GACnB,IAAK,IAAI+W,EAAO3c,UAAU9B,OAAQ0S,EAAO,IAAIpN,MAAMmZ,EAAO,EAAIA,EAAO,EAAI,GAAIC,EAAO,EAAGA,EAAOD,EAAMC,IAClGhM,EAAKgM,EAAO,GAAK5c,UAAU4c,GAG7B,GAAI5T,KAAK0iB,UAAU9lB,GAAQ,CACzB,IAAIgmB,EAAS,GAAGlU,OAAO1O,KAAK0iB,UAAU9lB,IACtCgmB,EAAO1kB,SAAQ,SAAU2kB,GACvBA,EAAStT,WAAM,EAAQ3H,MAI3B,GAAI5H,KAAK0iB,UAAU,KAAM,CACvB,IAAII,EAAU,GAAGpU,OAAO1O,KAAK0iB,UAAU,MAEvCI,EAAQ5kB,SAAQ,SAAU2kB,GACxBA,EAAStT,MAAMsT,EAAU,CAACjmB,GAAO8R,OAAO9G,YAMzC6a,EAzDU,YA4DVM,KACP,IAAIlF,EACAmF,EACA/X,EAAU,IAAIvJ,SAAQ,SAAUG,EAAS0c,GAC3CV,EAAMhc,EACNmhB,EAAMzE,KAIR,OAFAtT,EAAQpJ,QAAUgc,EAClB5S,EAAQsT,OAASyE,EACV/X,WAEAgY,GAAW9R,GAClB,OAAc,MAAVA,EAAuB,GACpB,GAAKA,WAEL+R,GAAKpqB,EAAG0I,EAAG0U,GAClBpd,EAAEoF,SAAQ,SAAUilB,GACd3hB,EAAE2hB,KAAIjN,EAAEiN,GAAK3hB,EAAE2hB,gBAIdC,GAAcjS,EAAQkS,EAAMC,YAC1BC,EAAS1sB,GAChB,OAAOA,GAAOA,EAAIqB,QAAQ,QAAS,EAAKrB,EAAIqF,QAAO,OAAS,KAAOrF,WAG5D2sB,IACP,OAAQrS,GAA4B,iBAAXA,MAG3B,IAAIsS,EAAwB,iBAATJ,EAAoB,GAAG3U,OAAO2U,GAAQA,EAAK/L,MAAM,KAE7DmM,EAAMvuB,OAAS,GAAG,CACvB,GAAIsuB,IAAwB,MAAO,GACnC,IAAI3sB,EAAM0sB,EAASE,EAAMC,UACpBvS,EAAOta,IAAQysB,IAAOnS,EAAOta,GAAO,IAAIysB,GAG3CnS,EADEnc,OAAOwI,UAAU2F,eAAelM,KAAKka,EAAQta,GACtCsa,EAAOta,GAEP,GAIb,OAAI2sB,IAA+B,GAC5B,CACLptB,IAAK+a,EACLnO,EAAGugB,EAASE,EAAMC,mBAIbC,GAAQxS,EAAQkS,EAAMO,GAC7B,IAAIC,EAAiBT,GAAcjS,EAAQkS,EAAMruB,QACvC6uB,EAAeztB,IACjBytB,EAAe7gB,GAEd4gB,WAWFE,GAAQ3S,EAAQkS,GACvB,IAAIU,EAAkBX,GAAcjS,EAAQkS,GACxCjtB,EAAM2tB,EAAgB3tB,IACtB4M,EAAI+gB,EAAgB/gB,EAExB,GAAK5M,EACL,OAAOA,EAAI4M,YAEJghB,GAAoBjlB,EAAMklB,EAAaptB,GAC9C,IAAI4E,EAAQqoB,GAAQ/kB,EAAMlI,GAE1B,YAAca,IAAV+D,EACKA,EAGFqoB,GAAQG,EAAaptB,YAErBqtB,GAAWlT,EAAQU,EAAQyS,GAClC,IAAK,IAAIC,KAAQ1S,EACF,cAAT0S,GAAiC,gBAATA,IACtBA,KAAQpT,EACkB,iBAAjBA,EAAOoT,IAAsBpT,EAAOoT,aAAiBC,QAAkC,iBAAjB3S,EAAO0S,IAAsB1S,EAAO0S,aAAiBC,OAChIF,IAAWnT,EAAOoT,GAAQ1S,EAAO0S,IAErCF,GAAWlT,EAAOoT,GAAO1S,EAAO0S,GAAOD,GAGzCnT,EAAOoT,GAAQ1S,EAAO0S,IAK5B,OAAOpT,WAEAsT,GAAY3hB,GACnB,OAAOA,EAAIzG,QAAO,sCAAwC,QAE5D,IAAIqoB,GAAa,CACf,IAAK,QACL,IAAK,OACL,IAAK,OACL,IAAK,SACL,IAAK,QACL,IAAK,mBAEEC,GAAOzlB,GACd,MAAoB,iBAATA,EACFA,EAAK7C,QAAO,cAAe,SAAUsF,GAC1C,OAAO+iB,GAAW/iB,MAIfzC,EAET,IAAI0lB,GAA2B,oBAAXxgB,QAA0BA,OAAOygB,WAAazgB,OAAOygB,UAAUC,WAAa1gB,OAAOygB,UAAUC,UAAUzsB,QAAQ,SAAU,EACzI0sB,GAAQ,CAAC,IAAK,IAAK,IAAK,IAAK,cAwBxBC,GAASzuB,EAAKitB,GACrB,IAAIyB,EAAe9tB,UAAU9B,OAAS,QAAsBwC,IAAjBV,UAAU,GAAmBA,UAAU,GAAK,IACvF,GAAKZ,EAAL,CACA,GAAIA,EAAIitB,GAAO,OAAOjtB,EAAIitB,GAI1B,IAHA,IAAI0B,EAAQ1B,EAAK/L,MAAMwN,GACnBnlB,EAAUvJ,EAELnB,EAAI,EAAGA,EAAI8vB,EAAM7vB,SAAUD,EAAG,CACrC,IAAK0K,EAAS,OAEd,GAAiC,iBAAtBA,EAAQolB,EAAM9vB,KAAoBA,EAAI,EAAI8vB,EAAM7vB,OACzD,OAGF,QAA0BwC,IAAtBiI,EAAQolB,EAAM9vB,IAAmB,KACnC,IAAIgF,EAAI,EACJqP,EAAIyb,EAAMrvB,MAAMT,EAAGA,EAAIgF,GAAGsd,KAAKuN,GAC/BE,EAAMrlB,EAAQ2J,QAEH5R,IAARstB,GAAqBD,EAAM7vB,OAASD,EAAIgF,GAC7CA,IAEA+qB,EAAMrlB,EADN2J,EAAIyb,EAAMrvB,MAAMT,EAAGA,EAAIgF,GAAGsd,KAAKuN,IAIjC,QAAYptB,IAARstB,EAAmB,OACvB,GAAmB,iBAARA,EAAkB,OAAOA,EACpC,GAAI1b,GAAuB,iBAAX0b,EAAI1b,GAAiB,OAAO0b,EAAI1b,GAChD,IAAI2b,EAAaF,EAAMrvB,MAAMT,EAAIgF,GAAGsd,KAAKuN,GACzC,OAAIG,EAAmBJ,GAASG,EAAKC,EAAYH,QACjD,EAGFnlB,EAAUA,EAAQolB,EAAM9vB,IAG1B,OAAO0K,GAGT,IAAIulB,GAAgB,SAAUC,YAGnBC,EAAcrmB,GACrB,IAAIyN,EAEA7W,EAAUqB,UAAU9B,OAAS,QAAsBwC,IAAjBV,UAAU,GAAmBA,UAAU,GAAK,CAChFic,GAAI,CAAC,eACL6C,UAAW,eAsBb,OAnBA0L,GAAgBxhB,KAAMolB,GAEtB5Y,EAAQ6Y,GAA2BrlB,KAAMqgB,GAAgB+E,GAAenuB,KAAK+I,OAEzEykB,IACFjC,GAAavrB,KAAKmpB,GAAuB5T,IAG3CA,EAAMzN,KAAOA,GAAQ,GACrByN,EAAM7W,QAAUA,OAEmB+B,IAA/B8U,EAAM7W,QAAQmvB,eAChBtY,EAAM7W,QAAQmvB,aAAe,UAGWptB,IAAtC8U,EAAM7W,QAAQ2vB,sBAChB9Y,EAAM7W,QAAQ2vB,qBAAsB,GAG/B9Y,EA+IT,OA5KA+Y,GAAUH,EAAeD,GAgCzB1D,GAAa2D,EAAe,CAAC,CAC3BvuB,IAAK,gBACL4E,MAAO,SAAuBwX,GACxBjT,KAAKrK,QAAQsd,GAAG/a,QAAQ+a,GAAM,GAChCjT,KAAKrK,QAAQsd,GAAGxa,KAAKwa,KAGxB,CACDpc,IAAK,mBACL4E,MAAO,SAA0BwX,GAC/B,IAAIlM,EAAQ/G,KAAKrK,QAAQsd,GAAG/a,QAAQ+a,GAEhClM,GAAQ,GACV/G,KAAKrK,QAAQsd,GAAGlS,OAAOgG,EAAO,KAGjC,CACDlQ,IAAK,cACL4E,MAAO,SAAqBiZ,EAAKzB,EAAIpc,GACnC,IAAIlB,EAAUqB,UAAU9B,OAAS,QAAsBwC,IAAjBV,UAAU,GAAmBA,UAAU,GAAK,GAC9E8tB,OAAwCptB,IAAzB/B,EAAQmvB,aAA6BnvB,EAAQmvB,aAAe9kB,KAAKrK,QAAQmvB,aACxFQ,OAAsD5tB,IAAhC/B,EAAQ2vB,oBAAoC3vB,EAAQ2vB,oBAAsBtlB,KAAKrK,QAAQ2vB,oBAC7GjC,EAAO,CAAC3O,EAAKzB,GACbpc,GAAsB,iBAARA,IAAkBwsB,EAAOA,EAAK3U,OAAO7X,IACnDA,GAAsB,iBAARA,IAAkBwsB,EAAOA,EAAK3U,OAAOoW,EAAejuB,EAAIygB,MAAMwN,GAAgBjuB,IAE5F6d,EAAIxc,QAAQ,MAAO,IACrBmrB,EAAO3O,EAAI4C,MAAM,MAGnB,IAAIkO,EAAS1B,GAAQ9jB,KAAKjB,KAAMskB,GAChC,OAAImC,IAAWF,GAAsC,iBAARzuB,EAAyB2uB,EAC/DX,GAAS7kB,KAAKjB,MAAQiB,KAAKjB,KAAK2V,IAAQ1U,KAAKjB,KAAK2V,GAAKzB,GAAKpc,EAAKiuB,KAEzE,CACDjuB,IAAK,cACL4E,MAAO,SAAqBiZ,EAAKzB,EAAIpc,EAAK4E,GACxC,IAAI9F,EAAUqB,UAAU9B,OAAS,QAAsBwC,IAAjBV,UAAU,GAAmBA,UAAU,GAAK,CAChFyuB,QAAQ,GAENX,EAAe9kB,KAAKrK,QAAQmvB,kBACXptB,IAAjBotB,IAA4BA,EAAe,KAC/C,IAAIzB,EAAO,CAAC3O,EAAKzB,GACbpc,IAAKwsB,EAAOA,EAAK3U,OAAOoW,EAAejuB,EAAIygB,MAAMwN,GAAgBjuB,IAEjE6d,EAAIxc,QAAQ,MAAO,IAErBuD,EAAQwX,EACRA,GAFAoQ,EAAO3O,EAAI4C,MAAM,MAEP,IAGZtX,KAAK0lB,cAAczS,GACnB0Q,GAAQ3jB,KAAKjB,KAAMskB,EAAM5nB,GACpB9F,EAAQ8vB,QAAQzlB,KAAK2lB,KAAK,QAASjR,EAAKzB,EAAIpc,EAAK4E,KAEvD,CACD5E,IAAK,eACL4E,MAAO,SAAsBiZ,EAAKzB,EAAI2S,GACpC,IAAIjwB,EAAUqB,UAAU9B,OAAS,QAAsBwC,IAAjBV,UAAU,GAAmBA,UAAU,GAAK,CAChFyuB,QAAQ,GAGV,IAAK,IAAItC,KAAKyC,EACgB,iBAAjBA,EAAUzC,IAAqE,mBAAlDnuB,OAAOwI,UAAUkI,SAAS6J,MAAMqW,EAAUzC,KAA0BnjB,KAAK6lB,YAAYnR,EAAKzB,EAAIkQ,EAAGyC,EAAUzC,GAAI,CACrJsC,QAAQ,IAIP9vB,EAAQ8vB,QAAQzlB,KAAK2lB,KAAK,QAASjR,EAAKzB,EAAI2S,KAElD,CACD/uB,IAAK,oBACL4E,MAAO,SAA2BiZ,EAAKzB,EAAI2S,EAAWE,EAAM3B,GAC1D,IAAIxuB,EAAUqB,UAAU9B,OAAS,QAAsBwC,IAAjBV,UAAU,GAAmBA,UAAU,GAAK,CAChFyuB,QAAQ,GAENpC,EAAO,CAAC3O,EAAKzB,GAEbyB,EAAIxc,QAAQ,MAAO,IAErB4tB,EAAOF,EACPA,EAAY3S,EACZA,GAHAoQ,EAAO3O,EAAI4C,MAAM,MAGP,IAGZtX,KAAK0lB,cAAczS,GACnB,IAAI8S,EAAOjC,GAAQ9jB,KAAKjB,KAAMskB,IAAS,GAEnCyC,EACF5B,GAAW6B,EAAMH,EAAWzB,GAE5B4B,EAAOzD,GAAc,GAAIyD,EAAMH,GAGjCjC,GAAQ3jB,KAAKjB,KAAMskB,EAAM0C,GACpBpwB,EAAQ8vB,QAAQzlB,KAAK2lB,KAAK,QAASjR,EAAKzB,EAAI2S,KAElD,CACD/uB,IAAK,uBACL4E,MAAO,SAA8BiZ,EAAKzB,GACpCjT,KAAKoV,kBAAkBV,EAAKzB,WACvBjT,KAAKjB,KAAK2V,GAAKzB,GAGxBjT,KAAKgmB,iBAAiB/S,GACtBjT,KAAK2lB,KAAK,UAAWjR,EAAKzB,KAE3B,CACDpc,IAAK,oBACL4E,MAAO,SAA2BiZ,EAAKzB,GACrC,YAAqCvb,IAA9BsI,KAAKimB,YAAYvR,EAAKzB,KAE9B,CACDpc,IAAK,oBACL4E,MAAO,SAA2BiZ,EAAKzB,GAErC,OADKA,IAAIA,EAAKjT,KAAKrK,QAAQmgB,WACW,OAAlC9V,KAAKrK,QAAQuwB,iBAAkC5D,GAAc,GAAI,GAAItiB,KAAKimB,YAAYvR,EAAKzB,IACxFjT,KAAKimB,YAAYvR,EAAKzB,KAE9B,CACDpc,IAAK,oBACL4E,MAAO,SAA2BiZ,GAChC,OAAO1U,KAAKjB,KAAK2V,KAElB,CACD7d,IAAK,8BACL4E,MAAO,SAAqCiZ,GAC1C,IAAI3V,EAAOiB,KAAKmmB,kBAAkBzR,GAElC,SADQ3V,GAAQ/J,OAAOD,KAAKgK,IAAS,IAC1BqnB,MAAK,SAAU9Y,GACxB,OAAOvO,EAAKuO,IAAMtY,OAAOD,KAAKgK,EAAKuO,IAAIpY,OAAS,OAGnD,CACD2B,IAAK,SACL4E,MAAO,WACL,OAAOuE,KAAKjB,SAITqmB,EA7KW,CA8KlB5C,IAEE6D,GAAgB,CAClBC,WAAY,GACZC,iBAAkB,SAA0BC,GAC1CxmB,KAAKsmB,WAAWE,EAAO3qB,MAAQ2qB,GAEjCC,OAAQ,SAAgBH,EAAY7qB,EAAO5E,EAAKlB,EAAS+wB,GACvD,IAAIla,EAAQxM,KAKZ,OAHAsmB,EAAWpoB,SAAQ,SAAUyoB,GACvBna,EAAM8Z,WAAWK,KAAYlrB,EAAQ+Q,EAAM8Z,WAAWK,GAAWjuB,QAAQ+C,EAAO5E,EAAKlB,EAAS+wB,OAE7FjrB,IAIPmrB,GAAmB,GAEnBC,GAAa,SAAU1B,YAGhB2B,EAAW9R,GAClB,IAAIxI,EAEA7W,EAAUqB,UAAU9B,OAAS,QAAsBwC,IAAjBV,UAAU,GAAmBA,UAAU,GAAK,GAkBlF,OAhBAwqB,GAAgBxhB,KAAM8mB,GAEtBta,EAAQ6Y,GAA2BrlB,KAAMqgB,GAAgByG,GAAY7vB,KAAK+I,OAEtEykB,IACFjC,GAAavrB,KAAKmpB,GAAuB5T,IAG3C0W,GAAK,CAAC,gBAAiB,gBAAiB,iBAAkB,eAAgB,mBAAoB,aAAc,SAAUlO,EAAUoL,GAAuB5T,IACvJA,EAAM7W,QAAUA,OAEmB+B,IAA/B8U,EAAM7W,QAAQmvB,eAChBtY,EAAM7W,QAAQmvB,aAAe,KAG/BtY,EAAMmV,OAASY,GAAW3B,OAAO,cAC1BpU,EAmWT,OA1XA+Y,GAAUuB,EAAY3B,GA0BtB1D,GAAaqF,EAAY,CAAC,CACxBjwB,IAAK,iBACL4E,MAAO,SAAwBiZ,GACzBA,IAAK1U,KAAK+mB,SAAWrS,KAE1B,CACD7d,IAAK,SACL4E,MAAO,SAAgB5E,GACrB,IAAIlB,EAAUqB,UAAU9B,OAAS,QAAsBwC,IAAjBV,UAAU,GAAmBA,UAAU,GAAK,CAChFgwB,cAAe,IAGjB,GAAInwB,MAAAA,EACF,OAAO,EAGT,IAAIzB,EAAW4K,KAAK6B,QAAQhL,EAAKlB,GACjC,OAAOP,QAA6BsC,IAAjBtC,EAASyoB,MAE7B,CACDhnB,IAAK,iBACL4E,MAAO,SAAwB5E,EAAKlB,GAClC,IAAIsxB,OAAsCvvB,IAAxB/B,EAAQsxB,YAA4BtxB,EAAQsxB,YAAcjnB,KAAKrK,QAAQsxB,iBACrEvvB,IAAhBuvB,IAA2BA,EAAc,KAC7C,IAAInC,OAAwCptB,IAAzB/B,EAAQmvB,aAA6BnvB,EAAQmvB,aAAe9kB,KAAKrK,QAAQmvB,aACxF9R,EAAard,EAAQsd,IAAMjT,KAAKrK,QAAQmgB,UACxCoR,EAAuBD,GAAepwB,EAAIqB,QAAQ+uB,IAAe,EACjEE,IAAwBnnB,KAAKrK,QAAQyxB,yBAA4BzxB,EAAQmvB,cAAiB9kB,KAAKrK,QAAQ0xB,wBAA2B1xB,EAAQsxB,sBArTvHpwB,EAAKowB,EAAanC,GAC7CmC,EAAcA,GAAe,GAC7BnC,EAAeA,GAAgB,GAC/B,IAAIwC,EAAgB1C,GAAM/b,QAAO,SAAUrQ,GACzC,OAAOyuB,EAAY/uB,QAAQM,GAAK,GAAKssB,EAAa5sB,QAAQM,GAAK,KAEjE,GAA6B,IAAzB8uB,EAAcpyB,OAAc,OAAO,EACvC,IAAI4K,EAAI,IAAIynB,OAAO,IAAI7Y,OAAO4Y,EAAcnd,KAAI,SAAU3R,GACxD,MAAa,MAANA,EAAY,MAAQA,KAC1B+e,KAAK,KAAM,MACViQ,GAAW1nB,EAAEnE,KAAK9E,GAEtB,IAAK2wB,EAAS,CACZ,IAAIC,EAAK5wB,EAAIqB,QAAQ4sB,GAEjB2C,EAAK,IAAM3nB,EAAEnE,KAAK9E,EAAI6wB,UAAU,EAAGD,MACrCD,GAAU,GAId,OAAOA,EAiS2JG,CAAoB9wB,EAAKowB,EAAanC,IAEpM,GAAIoC,IAAyBC,EAAsB,CACjD,IAAIhE,EAAItsB,EAAIwjB,MAAMra,KAAK4nB,aAAaC,eAEpC,GAAI1E,GAAKA,EAAEjuB,OAAS,EAClB,MAAO,CACL2B,IAAKA,EACLmc,WAAYA,GAIhB,IAAI8U,EAAQjxB,EAAIygB,MAAM2P,IAClBA,IAAgBnC,GAAgBmC,IAAgBnC,GAAgB9kB,KAAKrK,QAAQsd,GAAG/a,QAAQ4vB,EAAM,KAAM,KAAI9U,EAAa8U,EAAMpE,SAC/H7sB,EAAMixB,EAAMvQ,KAAKuN,GAInB,MAD0B,iBAAf9R,IAAyBA,EAAa,CAACA,IAC3C,CACLnc,IAAKA,EACLmc,WAAYA,KAGf,CACDnc,IAAK,YACL4E,MAAO,SAAmB1G,EAAMY,EAASoyB,GACvC,IAAIC,EAAShoB,KAOb,GALyB,WAArB4f,GAAQjqB,IAAyBqK,KAAKrK,QAAQsyB,mCAChDtyB,EAAUqK,KAAKrK,QAAQsyB,iCAAiCjxB,YAGrDrB,IAASA,EAAU,IACpBZ,MAAAA,EAAqC,MAAO,GAC3CyF,MAAMC,QAAQ1F,KAAOA,EAAO,CAACsvB,OAAOtvB,KACzC,IAAI+vB,OAAwCptB,IAAzB/B,EAAQmvB,aAA6BnvB,EAAQmvB,aAAe9kB,KAAKrK,QAAQmvB,aAExFoD,EAAuBloB,KAAKmoB,eAAepzB,EAAKA,EAAKG,OAAS,GAAIS,GAClEkB,EAAMqxB,EAAqBrxB,IAC3Bmc,EAAakV,EAAqBlV,WAElCoV,EAAYpV,EAAWA,EAAW9d,OAAS,GAC3Cwf,EAAM/e,EAAQ+e,KAAO1U,KAAK+mB,SAC1BsB,EAA0B1yB,EAAQ0yB,yBAA2BroB,KAAKrK,QAAQ0yB,wBAE9E,GAAI3T,GAA6B,WAAtBA,EAAIvY,cAA4B,CACzC,GAAIksB,EAAyB,CAC3B,IAAIpB,EAActxB,EAAQsxB,aAAejnB,KAAKrK,QAAQsxB,YACtD,OAAOmB,EAAYnB,EAAcpwB,EAGnC,OAAOA,EAGT,IAAIzB,EAAW4K,KAAK6B,QAAQ9M,EAAMY,GAC9BkoB,EAAMzoB,GAAYA,EAASyoB,IAC3ByK,EAAalzB,GAAYA,EAASmzB,SAAW1xB,EAC7C2xB,EAAkBpzB,GAAYA,EAASqzB,cAAgB5xB,EACvD6xB,EAAU1zB,OAAOwI,UAAUkI,SAAS6J,MAAMsO,GAC1C8K,EAAW,CAAC,kBAAmB,oBAAqB,mBACpDC,OAAoClxB,IAAvB/B,EAAQizB,WAA2BjzB,EAAQizB,WAAa5oB,KAAKrK,QAAQizB,WAClFC,GAA8B7oB,KAAK8oB,YAAc9oB,KAAK8oB,WAAWC,eACjEA,EAAgC,iBAARlL,GAAmC,kBAARA,GAAoC,iBAARA,EAEnF,GAAIgL,GAA8BhL,GAAOkL,GAAkBJ,EAASzwB,QAAQwwB,GAAW,IAA6B,iBAAfE,GAAuC,mBAAZF,GAA+B,CAC7J,IAAK/yB,EAAQqzB,gBAAkBhpB,KAAKrK,QAAQqzB,cAK1C,OAJKhpB,KAAKrK,QAAQszB,uBAChBjpB,KAAK2hB,OAAOlO,KAAK,mEAGZzT,KAAKrK,QAAQszB,sBAAwBjpB,KAAKrK,QAAQszB,sBAAsBX,EAAYzK,EAAKyE,GAAc,GAAI3sB,EAAS,CACzHsd,GAAID,KACA,QAAQtE,OAAO7X,EAAK,MAAM6X,OAAO1O,KAAK+mB,SAAU,4CAGxD,GAAIjC,EAAc,CAChB,IAAIoE,EAA6B,mBAAZR,EACjBS,EAAOD,EAAiB,GAAK,GAC7BE,EAAcF,EAAiBV,EAAkBF,EAErD,IAAK,IAAInF,KAAKtF,EACZ,GAAI7oB,OAAOwI,UAAU2F,eAAelM,KAAK4mB,EAAKsF,GAAI,CAChD,IAAIkG,EAAU,GAAG3a,OAAO0a,GAAa1a,OAAOoW,GAAcpW,OAAOyU,GACjEgG,EAAKhG,GAAKnjB,KAAKspB,UAAUD,EAAS/G,GAAc,GAAI3sB,EAAS,CAC3DizB,YAAY,EACZ3V,GAAID,KAEFmW,EAAKhG,KAAOkG,IAASF,EAAKhG,GAAKtF,EAAIsF,IAI3CtF,EAAMsL,QAEH,GAAIN,GAAoD,iBAAfD,GAAuC,mBAAZF,GACzE7K,EAAMA,EAAItG,KAAKqR,MACN/K,EAAM7d,KAAKupB,kBAAkB1L,EAAK9oB,EAAMY,EAASoyB,QACrD,CACL,IAAIyB,GAAc,EACdjB,GAAU,EACVkB,OAAwC/xB,IAAlB/B,EAAQ0U,OAAgD,iBAAlB1U,EAAQ0U,MACpEqf,EAAkB5C,EAAW4C,gBAAgB/zB,GAC7Cg0B,EAAqBF,EAAsBzpB,KAAK4pB,eAAeC,UAAUnV,EAAK/e,EAAQ0U,MAAO1U,GAAW,GACxG0K,EAAe1K,EAAQ,eAAe+Y,OAAOib,KAAwBh0B,EAAQ0K,cAE5EL,KAAK8pB,cAAcjM,IAAQ6L,IAC9BF,GAAc,EACd3L,EAAMxd,GAGHL,KAAK8pB,cAAcjM,KACtB0K,GAAU,EACV1K,EAAMhnB,GAGR,IAAIkzB,EAAiCp0B,EAAQo0B,gCAAkC/pB,KAAKrK,QAAQo0B,+BACxFC,EAAgBD,GAAkCxB,OAAU7wB,EAAYmmB,EACxEoM,EAAgBP,GAAmBrpB,IAAiBwd,GAAO7d,KAAKrK,QAAQs0B,cAE5E,GAAI1B,GAAWiB,GAAeS,EAAe,CAG3C,GAFAjqB,KAAK2hB,OAAOR,IAAI8I,EAAgB,YAAc,aAAcvV,EAAK0T,EAAWvxB,EAAKozB,EAAgB5pB,EAAewd,GAE5GiH,EAAc,CAChB,IAAIoF,EAAKlqB,KAAK6B,QAAQhL,EAAKyrB,GAAc,GAAI3sB,EAAS,CACpDmvB,cAAc,KAEZoF,GAAMA,EAAGrM,KAAK7d,KAAK2hB,OAAOlO,KAAK,mLAGrC,IAAI0W,EAAO,GACPC,EAAepqB,KAAKqqB,cAAcC,iBAAiBtqB,KAAKrK,QAAQgf,YAAahf,EAAQ+e,KAAO1U,KAAK+mB,UAErG,GAAmC,aAA/B/mB,KAAKrK,QAAQ40B,eAAgCH,GAAgBA,EAAa,GAC5E,IAAK,IAAIn1B,EAAI,EAAGA,EAAIm1B,EAAal1B,OAAQD,IACvCk1B,EAAK1xB,KAAK2xB,EAAan1B,QAEe,QAA/B+K,KAAKrK,QAAQ40B,cACtBJ,EAAOnqB,KAAKqqB,cAAcG,mBAAmB70B,EAAQ+e,KAAO1U,KAAK+mB,UAEjEoD,EAAK1xB,KAAK9C,EAAQ+e,KAAO1U,KAAK+mB,UAGhC,IAAI1J,EAAO,SAAcvI,EAAG9R,EAAGynB,GACzBzC,EAAOryB,QAAQ+0B,kBACjB1C,EAAOryB,QAAQ+0B,kBAAkB5V,EAAGsT,EAAWplB,EAAGinB,EAAgBQ,EAAgBT,EAAeC,EAAet0B,GACvGqyB,EAAO/S,kBAAoB+S,EAAO/S,iBAAiB0V,aAC5D3C,EAAO/S,iBAAiB0V,YAAY7V,EAAGsT,EAAWplB,EAAGinB,EAAgBQ,EAAgBT,EAAeC,EAAet0B,GAGrHqyB,EAAOrC,KAAK,aAAc7Q,EAAGsT,EAAWplB,EAAG6a,IAGzC7d,KAAKrK,QAAQg1B,cACX3qB,KAAKrK,QAAQi1B,oBAAsBnB,EACrCU,EAAKjsB,SAAQ,SAAU6oB,GACrBiB,EAAO4B,eAAeiB,YAAY9D,GAAU7oB,SAAQ,SAAU4sB,GAC5DzN,EAAK,CAAC0J,GAAWlwB,EAAMi0B,EAAQn1B,EAAQ,eAAe+Y,OAAOoc,KAAYzqB,SAI7Egd,EAAK8M,EAAMtzB,EAAKwJ,IAKtBwd,EAAM7d,KAAKupB,kBAAkB1L,EAAK9oB,EAAMY,EAASP,EAAU2yB,GACvDQ,GAAW1K,IAAQhnB,GAAOmJ,KAAKrK,QAAQo1B,8BAA6BlN,EAAM,GAAGnP,OAAO0Z,EAAW,KAAK1Z,OAAO7X,KAC1G0xB,GAAWiB,IAAgBxpB,KAAKrK,QAAQq1B,yBAAwBnN,EAAM7d,KAAKrK,QAAQq1B,uBAAuBnN,IAGjH,OAAOA,IAER,CACDhnB,IAAK,oBACL4E,MAAO,SAA2BoiB,EAAKhnB,EAAKlB,EAASP,EAAU2yB,GAC7D,IAAIkD,EAASjrB,KAEb,GAAIA,KAAK8oB,YAAc9oB,KAAK8oB,WAAWrzB,MACrCooB,EAAM7d,KAAK8oB,WAAWrzB,MAAMooB,EAAKloB,EAASP,EAAS81B,QAAS91B,EAAS+1B,OAAQ/1B,EAASmzB,QAAS,CAC7FnzB,SAAUA,SAEP,IAAKO,EAAQy1B,kBAAmB,CACjCz1B,EAAQqxB,eAAehnB,KAAK4nB,aAAatgB,KAAKgb,GAAc,GAAI3sB,EAAS,CAC3EqxB,cAAe1E,GAAc,GAAItiB,KAAKrK,QAAQqxB,cAAerxB,EAAQqxB,kBAEvE,IACIqE,EADAC,EAAkB31B,EAAQqxB,eAAiBrxB,EAAQqxB,cAAcsE,iBAAmBtrB,KAAKrK,QAAQqxB,cAAcsE,gBAGnH,GAAIA,EAAiB,CACnB,IAAIC,EAAK1N,EAAIxD,MAAMra,KAAK4nB,aAAaC,eACrCwD,EAAUE,GAAMA,EAAGr2B,OAGrB,IAAI6J,EAAOpJ,EAAQuG,SAAsC,iBAApBvG,EAAQuG,QAAuBvG,EAAQuG,QAAUvG,EAItF,GAHIqK,KAAKrK,QAAQqxB,cAAcwE,mBAAkBzsB,EAAOujB,GAAc,GAAItiB,KAAKrK,QAAQqxB,cAAcwE,iBAAkBzsB,IACvH8e,EAAM7d,KAAK4nB,aAAa6D,YAAY5N,EAAK9e,EAAMpJ,EAAQ+e,KAAO1U,KAAK+mB,SAAUpxB,GAEzE21B,EAAiB,CACnB,IAAII,EAAK7N,EAAIxD,MAAMra,KAAK4nB,aAAaC,eAEjCwD,GADUK,GAAMA,EAAGx2B,UACAS,EAAQg2B,MAAO,IAGnB,IAAjBh2B,EAAQg2B,OAAgB9N,EAAM7d,KAAK4nB,aAAa+D,KAAK9N,GAAK,WAC5D,IAAK,IAAIlK,EAAO3c,UAAU9B,OAAQ0S,EAAO,IAAIpN,MAAMmZ,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAC/EhM,EAAKgM,GAAQ5c,UAAU4c,GAGzB,OAAImU,GAAWA,EAAQ,KAAOngB,EAAK,KAAOjS,EAAQoC,SAChDkzB,EAAOtJ,OAAOlO,KAAK,6CAA6C/E,OAAO9G,EAAK,GAAI,aAAa8G,OAAO7X,EAAI,KAEjG,MAGFo0B,EAAO3B,UAAU/Z,MAAM0b,EAAQrjB,EAAK8G,OAAO,CAAC7X,OAClDlB,IACCA,EAAQqxB,eAAehnB,KAAK4nB,aAAa7jB,QAG/C,IAAI6nB,EAAcj2B,EAAQi2B,aAAe5rB,KAAKrK,QAAQi2B,YAClDC,EAA4C,iBAAhBD,EAA2B,CAACA,GAAeA,EAQ3E,OANI/N,MAAAA,GAAqCgO,GAAsBA,EAAmB32B,SAAyC,IAA/BS,EAAQm2B,qBAClGjO,EAAMwI,GAAcI,OAAOoF,EAAoBhO,EAAKhnB,EAAKmJ,KAAKrK,SAAWqK,KAAKrK,QAAQo2B,wBAA0BzJ,GAAc,CAC5H0J,aAAc52B,GACbO,GAAWA,EAASqK,OAGlB6d,IAER,CACDhnB,IAAK,UACL4E,MAAO,SAAiB1G,GACtB,IAGIk3B,EACA1D,EACAE,EACAyC,EACAC,EAPAe,EAASlsB,KAETrK,EAAUqB,UAAU9B,OAAS,QAAsBwC,IAAjBV,UAAU,GAAmBA,UAAU,GAAK,GAwDlF,MAlDoB,iBAATjC,IAAmBA,EAAO,CAACA,IACtCA,EAAKmJ,SAAQ,SAAU8E,GACrB,IAAIkpB,EAAOpC,cAAcmC,GAAzB,CAEA,IAAIE,EAAYD,EAAO/D,eAAenlB,EAAGrN,GAErCkB,EAAMs1B,EAAUt1B,IACpB0xB,EAAU1xB,EACV,IAAImc,EAAamZ,EAAUnZ,WACvBkZ,EAAOv2B,QAAQy2B,aAAYpZ,EAAaA,EAAWtE,OAAOwd,EAAOv2B,QAAQy2B,aAC7E,IAAI3C,OAAwC/xB,IAAlB/B,EAAQ0U,OAAgD,iBAAlB1U,EAAQ0U,MACpEgiB,OAA2C30B,IAApB/B,EAAQoC,UAAqD,iBAApBpC,EAAQoC,SAAmD,iBAApBpC,EAAQoC,UAA6C,KAApBpC,EAAQoC,QAChJu0B,EAAQ32B,EAAQw0B,KAAOx0B,EAAQw0B,KAAO+B,EAAO7B,cAAcG,mBAAmB70B,EAAQ+e,KAAOwX,EAAOnF,SAAUpxB,EAAQgf,aAC1H3B,EAAW9U,SAAQ,SAAU+U,GACvBiZ,EAAOpC,cAAcmC,KACzBd,EAASlY,GAEJ2T,GAAiB,GAAGlY,OAAO4d,EAAM,GAAI,KAAK5d,OAAOuE,KAAQiZ,EAAOK,OAASL,EAAOK,MAAMC,qBAAuBN,EAAOK,MAAMC,mBAAmBrB,KAChJvE,GAAiB,GAAGlY,OAAO4d,EAAM,GAAI,KAAK5d,OAAOuE,KAAO,EAExDiZ,EAAOvK,OAAOlO,KAAK,QAAS/E,OAAO6Z,EAAS,qBAAuB7Z,OAAO4d,EAAM/U,KAAK,MAAO,wCAAyC7I,OAAOyc,EAAQ,wBAA0B,6NAGhLmB,EAAMpuB,SAAQ,SAAUuuB,GACtB,IAAIP,EAAOpC,cAAcmC,GAAzB,CACAf,EAAUuB,EACV,IAMMC,EAOFC,EAbAC,EAAW/1B,EACXg2B,EAAY,CAACD,GAEjB,GAAIV,EAAOpD,YAAcoD,EAAOpD,WAAWgE,cACzCZ,EAAOpD,WAAWgE,cAAcD,EAAWh2B,EAAK41B,EAAMxZ,EAAItd,QAGtD8zB,IAAqBiD,EAAeR,EAAOtC,eAAeC,UAAU4C,EAAM92B,EAAQ0U,MAAO1U,IACzF8zB,GAAuB4C,GAAsBQ,EAAUp0B,KAAKm0B,EAAWF,GACvEL,GAAsBQ,EAAUp0B,KAAKm0B,GAAY,GAAGle,OAAOwd,EAAOv2B,QAAQo3B,kBAAkBre,OAAO/Y,EAAQoC,UAC3G0xB,GAAqBoD,EAAUp0B,KAAKm0B,GAAYF,QAK/CC,EAAcE,EAAUnhB,OACxBwgB,EAAOpC,cAAcmC,KACxBxD,EAAekE,EACfV,EAAQC,EAAOjG,YAAYwG,EAAMxZ,EAAI0Z,EAAah3B,gBAMrD,CACLkoB,IAAKoO,EACL1D,QAASA,EACTE,aAAcA,EACdyC,QAASA,EACTC,OAAQA,KAGX,CACDt0B,IAAK,gBACL4E,MAAO,SAAuBoiB,GAC5B,aAAenmB,IAARmmB,IAAwB7d,KAAKrK,QAAQq3B,YAAsB,OAARnP,IAAoB7d,KAAKrK,QAAQs3B,mBAA6B,KAARpP,KAEjH,CACDhnB,IAAK,cACL4E,MAAO,SAAqBgxB,EAAMxZ,EAAIpc,GACpC,IAAIlB,EAAUqB,UAAU9B,OAAS,QAAsBwC,IAAjBV,UAAU,GAAmBA,UAAU,GAAK,GAClF,OAAIgJ,KAAK8oB,YAAc9oB,KAAK8oB,WAAW7C,YAAoBjmB,KAAK8oB,WAAW7C,YAAYwG,EAAMxZ,EAAIpc,EAAKlB,GAC/FqK,KAAKktB,cAAcjH,YAAYwG,EAAMxZ,EAAIpc,EAAKlB,MAErD,CAAC,CACHkB,IAAK,kBACL4E,MAAO,SAAyB9F,GAC9B,IAAI+rB,EAAS,eAEb,IAAK,IAAIyL,KAAUx3B,EACjB,GAAIX,OAAOwI,UAAU2F,eAAelM,KAAKtB,EAASw3B,IAAWzL,IAAWyL,EAAOzF,UAAU,EAAGhG,EAAOxsB,cAAWwC,IAAc/B,EAAQw3B,GAClI,OAAO,EAIX,OAAO,MAIJrG,EA3XQ,CA4XftE,aAEO4K,GAAWjU,GAClB,OAAOA,EAAOkU,OAAO,GAAGC,cAAgBnU,EAAOzjB,MAAM,GAGvD,IAAI63B,GAAe,oBACRC,EAAa73B,GACpB6rB,GAAgBxhB,KAAMwtB,GAEtBxtB,KAAKrK,QAAUA,EACfqK,KAAKytB,cAAgBztB,KAAKrK,QAAQ83B,gBAAiB,EACnDztB,KAAK2hB,OAASY,GAAW3B,OAAO,iBAwIlC,OArIAa,GAAa+L,EAAc,CAAC,CAC1B32B,IAAK,wBACL4E,MAAO,SAA+BgxB,GACpC,IAAKA,GAAQA,EAAKv0B,QAAQ,KAAO,EAAG,OAAO,KAC3C,IAAIoR,EAAImjB,EAAKnV,MAAM,KACnB,OAAiB,IAAbhO,EAAEpU,OAAqB,MAC3BoU,EAAEoC,MACoC,MAAlCpC,EAAEA,EAAEpU,OAAS,GAAGiH,cAA8B,KAC3C6D,KAAK0tB,mBAAmBpkB,EAAEiO,KAAK,SAEvC,CACD1gB,IAAK,0BACL4E,MAAO,SAAiCgxB,GACtC,IAAKA,GAAQA,EAAKv0B,QAAQ,KAAO,EAAG,OAAOu0B,EAC3C,IAAInjB,EAAImjB,EAAKnV,MAAM,KACnB,OAAOtX,KAAK0tB,mBAAmBpkB,EAAE,MAElC,CACDzS,IAAK,qBACL4E,MAAO,SAA4BgxB,GACjC,GAAoB,iBAATA,GAAqBA,EAAKv0B,QAAQ,MAAO,EAAI,CACtD,IAAIy1B,EAAe,CAAC,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,QAChErkB,EAAImjB,EAAKnV,MAAM,KAkBnB,OAhBItX,KAAKrK,QAAQi4B,aACftkB,EAAIA,EAAEa,KAAI,SAAU0jB,GAClB,OAAOA,EAAK1xB,iBAEQ,IAAbmN,EAAEpU,QACXoU,EAAE,GAAKA,EAAE,GAAGnN,cACZmN,EAAE,GAAKA,EAAE,GAAGgkB,cACRK,EAAaz1B,QAAQoR,EAAE,GAAGnN,gBAAiB,IAAImN,EAAE,GAAK8jB,GAAW9jB,EAAE,GAAGnN,iBACpD,IAAbmN,EAAEpU,SACXoU,EAAE,GAAKA,EAAE,GAAGnN,cACQ,IAAhBmN,EAAE,GAAGpU,SAAcoU,EAAE,GAAKA,EAAE,GAAGgkB,eACtB,QAAThkB,EAAE,IAAgC,IAAhBA,EAAE,GAAGpU,SAAcoU,EAAE,GAAKA,EAAE,GAAGgkB,eACjDK,EAAaz1B,QAAQoR,EAAE,GAAGnN,gBAAiB,IAAImN,EAAE,GAAK8jB,GAAW9jB,EAAE,GAAGnN,gBACtEwxB,EAAaz1B,QAAQoR,EAAE,GAAGnN,gBAAiB,IAAImN,EAAE,GAAK8jB,GAAW9jB,EAAE,GAAGnN,iBAGrEmN,EAAEiO,KAAK,KAGhB,OAAOvX,KAAKrK,QAAQm4B,WAAa9tB,KAAKrK,QAAQi4B,aAAenB,EAAKtwB,cAAgBswB,IAEnF,CACD51B,IAAK,kBACL4E,MAAO,SAAyBgxB,GAK9B,OAJ0B,iBAAtBzsB,KAAKrK,QAAQo4B,MAA2B/tB,KAAKrK,QAAQq4B,4BACvDvB,EAAOzsB,KAAKiuB,wBAAwBxB,KAG9BzsB,KAAKytB,gBAAkBztB,KAAKytB,cAAcv4B,QAAU8K,KAAKytB,cAAcv1B,QAAQu0B,IAAQ,IAEhG,CACD51B,IAAK,wBACL4E,MAAO,SAA+B6wB,GACpC,IAGIL,EAHAzf,EAAQxM,KAEZ,OAAKssB,GAELA,EAAMpuB,SAAQ,SAAUuuB,GACtB,IAAIR,EAAJ,CAEA,IAAIiC,EAAa1hB,EAAMkhB,mBAAmBjB,GAErCjgB,EAAM7W,QAAQ83B,gBAAiBjhB,EAAM2hB,gBAAgBD,KAAajC,EAAQiC,QAG5EjC,GAASjsB,KAAKrK,QAAQ83B,eACzBnB,EAAMpuB,SAAQ,SAAUuuB,GACtB,IAAIR,EAAJ,CAEA,IAAImC,EAAU5hB,EAAMyhB,wBAAwBxB,GAE5C,GAAIjgB,EAAM2hB,gBAAgBC,GAAU,OAAOnC,EAAQmC,EACnDnC,EAAQzf,EAAM7W,QAAQ83B,cAAcrH,MAAK,SAAUiI,GACjD,GAAsC,IAAlCA,EAAan2B,QAAQk2B,GAAgB,OAAOC,SAKjDpC,IAAOA,EAAQjsB,KAAKsqB,iBAAiBtqB,KAAKrK,QAAQgf,aAAa,IAC7DsX,GAxBY,OA0BpB,CACDp1B,IAAK,mBACL4E,MAAO,SAA0B6yB,EAAW7B,GAC1C,IAAK6B,EAAW,MAAO,GAGvB,GAFyB,mBAAdA,IAA0BA,EAAYA,EAAU7B,IAClC,iBAAd6B,IAAwBA,EAAY,CAACA,IACG,mBAA/Ct5B,OAAOwI,UAAUkI,SAAS6J,MAAM+e,GAAiC,OAAOA,EAC5E,IAAK7B,EAAM,OAAO6B,EAAmB,SAAK,GAC1C,IAAIrC,EAAQqC,EAAU7B,GAKtB,OAJKR,IAAOA,EAAQqC,EAAUtuB,KAAKuuB,sBAAsB9B,KACpDR,IAAOA,EAAQqC,EAAUtuB,KAAK0tB,mBAAmBjB,KACjDR,IAAOA,EAAQqC,EAAUtuB,KAAKiuB,wBAAwBxB,KACtDR,IAAOA,EAAQqC,EAAmB,SAChCrC,GAAS,KAEjB,CACDp1B,IAAK,qBACL4E,MAAO,SAA4BgxB,EAAM+B,GACvC,IAAIxG,EAAShoB,KAETyuB,EAAgBzuB,KAAKsqB,iBAAiBkE,GAAgBxuB,KAAKrK,QAAQgf,aAAe,GAAI8X,GACtFH,EAAQ,GAERoC,EAAU,SAAiBl2B,GACxBA,IAEDwvB,EAAOmG,gBAAgB31B,GACzB8zB,EAAM7zB,KAAKD,GAEXwvB,EAAOrG,OAAOlO,KAAK,uDAAuD/E,OAAOlW,MAerF,MAXoB,iBAATi0B,GAAqBA,EAAKv0B,QAAQ,MAAO,GACxB,iBAAtB8H,KAAKrK,QAAQo4B,MAAyBW,EAAQ1uB,KAAK0tB,mBAAmBjB,IAChD,iBAAtBzsB,KAAKrK,QAAQo4B,MAAiD,gBAAtB/tB,KAAKrK,QAAQo4B,MAAwBW,EAAQ1uB,KAAKuuB,sBAAsB9B,IAC1F,gBAAtBzsB,KAAKrK,QAAQo4B,MAAwBW,EAAQ1uB,KAAKiuB,wBAAwBxB,KACrD,iBAATA,GAChBiC,EAAQ1uB,KAAK0tB,mBAAmBjB,IAGlCgC,EAAcvwB,SAAQ,SAAUywB,GAC1BrC,EAAMp0B,QAAQy2B,GAAM,GAAGD,EAAQ1G,EAAO0F,mBAAmBiB,OAExDrC,MAIJkB,EA9IU,GAiJfoB,GAAO,CAAC,CACVzE,KAAM,CAAC,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,MAAO,KAAM,MAAO,KAAM,KAAM,KAAM,KAAM,QAAS,KAAM,KAAM,KAAM,KAAM,KAAM,MACjI0E,GAAI,CAAC,EAAG,GACRF,GAAI,GACH,CACDxE,KAAM,CAAC,KAAM,KAAM,MAAO,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAAO,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAAO,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAAO,KAAM,KAAM,KAAM,MAAO,MAAO,KAAM,KAAM,KAAM,KAAM,KAAM,MAAO,KAAM,MAAO,MAAO,KAAM,QAAS,KAAM,MAAO,KAAM,KAAM,KAAM,MAAO,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MACzY0E,GAAI,CAAC,EAAG,GACRF,GAAI,GACH,CACDxE,KAAM,CAAC,KAAM,KAAM,MAAO,KAAM,KAAM,KAAM,KAAM,MAAO,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAAO,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MACxI0E,GAAI,CAAC,GACLF,GAAI,GACH,CACDxE,KAAM,CAAC,KAAM,KAAM,MAAO,KAAM,KAAM,KAAM,KAAM,MAClD0E,GAAI,CAAC,EAAG,EAAG,GACXF,GAAI,GACH,CACDxE,KAAM,CAAC,MACP0E,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,KACrBF,GAAI,GACH,CACDxE,KAAM,CAAC,KAAM,MACb0E,GAAI,CAAC,EAAG,EAAG,GACXF,GAAI,GACH,CACDxE,KAAM,CAAC,MAAO,MACd0E,GAAI,CAAC,EAAG,EAAG,GACXF,GAAI,GACH,CACDxE,KAAM,CAAC,MACP0E,GAAI,CAAC,EAAG,EAAG,EAAG,GACdF,GAAI,GACH,CACDxE,KAAM,CAAC,MACP0E,GAAI,CAAC,EAAG,GACRF,GAAI,GACH,CACDxE,KAAM,CAAC,MACP0E,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,IACjBF,GAAI,IACH,CACDxE,KAAM,CAAC,MACP0E,GAAI,CAAC,EAAG,EAAG,EAAG,IACdF,GAAI,IACH,CACDxE,KAAM,CAAC,MACP0E,GAAI,CAAC,EAAG,GACRF,GAAI,IACH,CACDxE,KAAM,CAAC,MACP0E,GAAI,CAAC,EAAG,GACRF,GAAI,IACH,CACDxE,KAAM,CAAC,MACP0E,GAAI,CAAC,EAAG,EAAG,EAAG,GACdF,GAAI,IACH,CACDxE,KAAM,CAAC,MACP0E,GAAI,CAAC,EAAG,EAAG,IACXF,GAAI,IACH,CACDxE,KAAM,CAAC,MACP0E,GAAI,CAAC,EAAG,EAAG,GACXF,GAAI,IACH,CACDxE,KAAM,CAAC,MACP0E,GAAI,CAAC,EAAG,GACRF,GAAI,IACH,CACDxE,KAAM,CAAC,OACP0E,GAAI,CAAC,EAAG,EAAG,GACXF,GAAI,IACH,CACDxE,KAAM,CAAC,MACP0E,GAAI,CAAC,EAAG,EAAG,GAAI,IACfF,GAAI,IACH,CACDxE,KAAM,CAAC,MACP0E,GAAI,CAAC,EAAG,GACRF,GAAI,GACH,CACDxE,KAAM,CAAC,MACP0E,GAAI,CAAC,EAAG,EAAG,IACXF,GAAI,IACH,CACDxE,KAAM,CAAC,MACP0E,GAAI,CAAC,EAAG,EAAG,EAAG,GACdF,GAAI,IACH,CACDxE,KAAM,CAAC,KAAM,MACb0E,GAAI,CAAC,EAAG,EAAG,GAAI,IACfF,GAAI,KAEFG,GAAqB,CACvB,EAAG,SAAWrpB,GACZ,OAAOspB,OAAOtpB,EAAI,IAEpB,EAAG,SAAWA,GACZ,OAAOspB,OAAY,GAALtpB,IAEhB,EAAG,SAAWA,GACZ,OAAO,GAET,EAAG,SAAWA,GACZ,OAAOspB,OAAOtpB,EAAI,IAAM,GAAKA,EAAI,KAAO,GAAK,EAAIA,EAAI,IAAM,GAAKA,EAAI,IAAM,IAAMA,EAAI,IAAM,IAAMA,EAAI,KAAO,IAAM,EAAI,IAEvH,EAAG,SAAWA,GACZ,OAAOspB,OAAY,GAALtpB,EAAS,EAAS,GAALA,EAAS,EAAS,GAALA,EAAS,EAAIA,EAAI,KAAO,GAAKA,EAAI,KAAO,GAAK,EAAIA,EAAI,KAAO,GAAK,EAAI,IAE/G,EAAG,SAAWA,GACZ,OAAOspB,OAAY,GAALtpB,EAAS,EAAIA,GAAK,GAAKA,GAAK,EAAI,EAAI,IAEpD,EAAG,SAAWA,GACZ,OAAOspB,OAAY,GAALtpB,EAAS,EAAIA,EAAI,IAAM,GAAKA,EAAI,IAAM,IAAMA,EAAI,IAAM,IAAMA,EAAI,KAAO,IAAM,EAAI,IAEjG,EAAG,SAAWA,GACZ,OAAOspB,OAAY,GAALtpB,EAAS,EAAS,GAALA,EAAS,EAAS,GAALA,GAAe,IAALA,EAAU,EAAI,IAElE,EAAG,SAAWA,GACZ,OAAOspB,OAAOtpB,GAAK,IAErB,GAAI,SAAWA,GACb,OAAOspB,OAAY,GAALtpB,EAAS,EAAS,GAALA,EAAS,EAAIA,EAAI,EAAI,EAAIA,EAAI,GAAK,EAAI,IAEnE,GAAI,SAAWA,GACb,OAAOspB,OAAY,GAALtpB,GAAe,IAALA,EAAU,EAAS,GAALA,GAAe,IAALA,EAAU,EAAIA,EAAI,GAAKA,EAAI,GAAK,EAAI,IAEtF,GAAI,SAAWA,GACb,OAAOspB,OAAOtpB,EAAI,IAAM,GAAKA,EAAI,KAAO,KAE1C,GAAI,SAAWA,GACb,OAAOspB,OAAa,IAANtpB,IAEhB,GAAI,SAAWA,GACb,OAAOspB,OAAY,GAALtpB,EAAS,EAAS,GAALA,EAAS,EAAS,GAALA,EAAS,EAAI,IAEvD,GAAI,SAAWA,GACb,OAAOspB,OAAOtpB,EAAI,IAAM,GAAKA,EAAI,KAAO,GAAK,EAAIA,EAAI,IAAM,IAAMA,EAAI,IAAM,IAAMA,EAAI,KAAO,IAAM,EAAI,IAExG,GAAI,SAAWA,GACb,OAAOspB,OAAOtpB,EAAI,IAAM,GAAKA,EAAI,KAAO,GAAK,EAAU,IAANA,EAAU,EAAI,IAEjE,GAAI,SAAWA,GACb,OAAOspB,OAAY,GAALtpB,GAAUA,EAAI,IAAM,GAAKA,EAAI,KAAO,GAAK,EAAI,IAE7D,GAAI,SAAWA,GACb,OAAOspB,OAAY,GAALtpB,EAAS,EAAS,GAALA,EAAS,EAAI,IAE1C,GAAI,SAAWA,GACb,OAAOspB,OAAY,GAALtpB,EAAS,EAAS,GAALA,GAAUA,EAAI,IAAM,GAAKA,EAAI,IAAM,GAAK,EAAIA,EAAI,IAAM,IAAMA,EAAI,IAAM,GAAK,EAAI,IAE5G,GAAI,SAAWA,GACb,OAAOspB,OAAY,GAALtpB,EAAS,EAAS,GAALA,GAAUA,EAAI,IAAM,GAAKA,EAAI,IAAM,GAAK,EAAI,IAEzE,GAAI,SAAWA,GACb,OAAOspB,OAAOtpB,EAAI,KAAO,EAAI,EAAIA,EAAI,KAAO,EAAI,EAAIA,EAAI,KAAO,GAAKA,EAAI,KAAO,EAAI,EAAI,IAEzF,GAAI,SAAWA,GACb,OAAOspB,OAAY,GAALtpB,EAAS,EAAS,GAALA,EAAS,GAAKA,EAAI,GAAKA,EAAI,KAAOA,EAAI,IAAM,EAAI,EAAI,KAG/EupB,GAAyB,CAAC,KAAM,KAAM,MACtCC,GAAgB,CAClBC,KAAM,EACNC,IAAK,EACLC,IAAK,EACLC,IAAK,EACLC,KAAM,EACNC,MAAO,YAGAC,KACP,IAAIC,EAAQ,GASZ,OARAb,GAAK1wB,SAAQ,SAAUwF,GACrBA,EAAIymB,KAAKjsB,SAAQ,SAAU4W,GACzB2a,EAAM3a,GAAK,CACT4a,QAAShsB,EAAImrB,GACbc,QAASb,GAAmBprB,EAAIirB,WAI/Bc,EAGT,IAAIG,GAAiB,oBACVC,EAAexF,GACtB,IAAI10B,EAAUqB,UAAU9B,OAAS,QAAsBwC,IAAjBV,UAAU,GAAmBA,UAAU,GAAK,GAElFwqB,GAAgBxhB,KAAM6vB,GAEtB7vB,KAAKqqB,cAAgBA,EACrBrqB,KAAKrK,QAAUA,EACfqK,KAAK2hB,OAASY,GAAW3B,OAAO,kBAE1B5gB,KAAKrK,QAAQm6B,mBAAwD,OAAnC9vB,KAAKrK,QAAQm6B,mBAAgD,oBAATC,MAAyBA,KAAKC,cACxHhwB,KAAKrK,QAAQm6B,kBAAoB,KACjC9vB,KAAK2hB,OAAO3gB,MAAM,uJAGpBhB,KAAKyvB,MAAQD,KA6Hf,OA1HA/N,GAAaoO,EAAgB,CAAC,CAC5Bh5B,IAAK,UACL4E,MAAO,SAAiBiZ,EAAKte,GAC3B4J,KAAKyvB,MAAM/a,GAAOte,IAEnB,CACDS,IAAK,UACL4E,MAAO,SAAiBgxB,GACtB,IAAI92B,EAAUqB,UAAU9B,OAAS,QAAsBwC,IAAjBV,UAAU,GAAmBA,UAAU,GAAK,GAElF,GAAIgJ,KAAKiwB,mBACP,IACE,OAAO,IAAIF,KAAKC,YAAYvD,EAAM,CAChC91B,KAAMhB,EAAQu6B,QAAU,UAAY,aAEtC,MAAOC,GACP,OAIJ,OAAOnwB,KAAKyvB,MAAMhD,IAASzsB,KAAKyvB,MAAMzvB,KAAKqqB,cAAc4D,wBAAwBxB,MAElF,CACD51B,IAAK,cACL4E,MAAO,SAAqBgxB,GAC1B,IAAI92B,EAAUqB,UAAU9B,OAAS,QAAsBwC,IAAjBV,UAAU,GAAmBA,UAAU,GAAK,GAC9Eo5B,EAAOpwB,KAAKqwB,QAAQ5D,EAAM92B,GAE9B,OAAIqK,KAAKiwB,mBACAG,GAAQA,EAAKE,kBAAkBC,iBAAiBr7B,OAAS,EAG3Dk7B,GAAQA,EAAKV,QAAQx6B,OAAS,IAEtC,CACD2B,IAAK,sBACL4E,MAAO,SAA6BgxB,EAAM51B,GACxC,IAAIlB,EAAUqB,UAAU9B,OAAS,QAAsBwC,IAAjBV,UAAU,GAAmBA,UAAU,GAAK,GAClF,OAAOgJ,KAAK6qB,YAAY4B,EAAM92B,GAASwU,KAAI,SAAU2gB,GACnD,MAAO,GAAGpc,OAAO7X,GAAK6X,OAAOoc,QAGhC,CACDj0B,IAAK,cACL4E,MAAO,SAAqBgxB,GAC1B,IAAIjgB,EAAQxM,KAERrK,EAAUqB,UAAU9B,OAAS,QAAsBwC,IAAjBV,UAAU,GAAmBA,UAAU,GAAK,GAC9Eo5B,EAAOpwB,KAAKqwB,QAAQ5D,EAAM92B,GAE9B,OAAKy6B,EAIDpwB,KAAKiwB,mBACAG,EAAKE,kBAAkBC,iBAAiB13B,MAAK,SAAU23B,EAAiBC,GAC7E,OAAOxB,GAAcuB,GAAmBvB,GAAcwB,MACrDtmB,KAAI,SAAUumB,GACf,MAAO,GAAGhiB,OAAOlC,EAAM7W,QAAQg7B,SAASjiB,OAAOgiB,MAI5CN,EAAKV,QAAQvlB,KAAI,SAAUymB,GAChC,OAAOpkB,EAAMqd,UAAU4C,EAAMmE,EAAQj7B,MAZ9B,KAeV,CACDkB,IAAK,YACL4E,MAAO,SAAmBgxB,EAAMpiB,GAC9B,IAAI1U,EAAUqB,UAAU9B,OAAS,QAAsBwC,IAAjBV,UAAU,GAAmBA,UAAU,GAAK,GAC9Eo5B,EAAOpwB,KAAKqwB,QAAQ5D,EAAM92B,GAE9B,OAAIy6B,EACEpwB,KAAKiwB,mBACA,GAAGvhB,OAAO1O,KAAKrK,QAAQg7B,SAASjiB,OAAO0hB,EAAKS,OAAOxmB,IAGrDrK,KAAK8wB,yBAAyBV,EAAM/lB,IAG7CrK,KAAK2hB,OAAOlO,KAAK,6BAA6B/E,OAAO+d,IAC9C,MAER,CACD51B,IAAK,2BACL4E,MAAO,SAAkC20B,EAAM/lB,GAC7C,IAAI2d,EAAShoB,KAET+wB,EAAMX,EAAKY,MAAQZ,EAAKT,QAAQtlB,GAAS+lB,EAAKT,QAAQvW,KAAKgC,IAAI/Q,IAC/DygB,EAASsF,EAAKV,QAAQqB,GAEtB/wB,KAAKrK,QAAQs7B,sBAAgD,IAAxBb,EAAKV,QAAQx6B,QAAoC,IAApBk7B,EAAKV,QAAQ,KAClE,IAAX5E,EACFA,EAAS,SACW,IAAXA,IACTA,EAAS,KAIb,IAAIoG,EAAe,WACjB,OAAOlJ,EAAOryB,QAAQg7B,SAAW7F,EAAOplB,WAAasiB,EAAOryB,QAAQg7B,QAAU7F,EAAOplB,WAAaolB,EAAOplB,YAG3G,MAAuC,OAAnC1F,KAAKrK,QAAQm6B,kBACA,IAAXhF,EAAqB,GACH,iBAAXA,EAA4B,WAAWpc,OAAOoc,EAAOplB,YACzDwrB,IACqC,OAAnClxB,KAAKrK,QAAQm6B,mBAEb9vB,KAAKrK,QAAQs7B,sBAAgD,IAAxBb,EAAKV,QAAQx6B,QAAoC,IAApBk7B,EAAKV,QAAQ,GADjFwB,IAKFlxB,KAAKrK,QAAQg7B,SAAWI,EAAIrrB,WAAa1F,KAAKrK,QAAQg7B,QAAUI,EAAIrrB,WAAaqrB,EAAIrrB,aAE7F,CACD7O,IAAK,mBACL4E,MAAO,WACL,OAAQuzB,GAAuB/P,SAASjf,KAAKrK,QAAQm6B,uBAIlDD,EA5IY,GA+IjBsB,GAAe,oBACRC,IACP,IAAIz7B,EAAUqB,UAAU9B,OAAS,QAAsBwC,IAAjBV,UAAU,GAAmBA,UAAU,GAAK,GAElFwqB,GAAgBxhB,KAAMoxB,GAEtBpxB,KAAK2hB,OAASY,GAAW3B,OAAO,gBAChC5gB,KAAKrK,QAAUA,EAEfqK,KAAKqxB,OAAS17B,EAAQqxB,eAAiBrxB,EAAQqxB,cAAcqK,QAAU,SAAU51B,GAC/E,OAAOA,GAGTuE,KAAKsH,KAAK3R,GAuMZ,OApMA8rB,GAAa2P,EAAc,CAAC,CAC1Bv6B,IAAK,OACL4E,MAAO,WACL,IAAI9F,EAAUqB,UAAU9B,OAAS,QAAsBwC,IAAjBV,UAAU,GAAmBA,UAAU,GAAK,GAC7ErB,EAAQqxB,gBAAerxB,EAAQqxB,cAAgB,CAClDsK,aAAa,IAEf,IAAIC,EAAQ57B,EAAQqxB,cACpBhnB,KAAKwxB,YAA0B95B,IAAjB65B,EAAMC,OAAuBD,EAAMC,OAAShN,GAC1DxkB,KAAKsxB,iBAAoC55B,IAAtB65B,EAAMD,aAA4BC,EAAMD,YAC3DtxB,KAAKyxB,yBAAoD/5B,IAA9B65B,EAAME,qBAAoCF,EAAME,oBAC3EzxB,KAAK0hB,OAAS6P,EAAM7P,OAAS4C,GAAYiN,EAAM7P,QAAU6P,EAAMG,eAAiB,KAChF1xB,KAAK8qB,OAASyG,EAAMzG,OAASxG,GAAYiN,EAAMzG,QAAUyG,EAAMI,eAAiB,KAChF3xB,KAAK4xB,gBAAkBL,EAAMK,gBAAkBL,EAAMK,gBAAkBL,EAAMK,iBAAmB,IAChG5xB,KAAK6xB,eAAiBN,EAAMO,eAAiB,GAAKP,EAAMM,gBAAkB,IAC1E7xB,KAAK8xB,eAAiB9xB,KAAK6xB,eAAiB,GAAKN,EAAMO,gBAAkB,GACzE9xB,KAAK+xB,cAAgBR,EAAMQ,cAAgBzN,GAAYiN,EAAMQ,eAAiBR,EAAMS,sBAAwB1N,GAAY,OACxHtkB,KAAKiyB,cAAgBV,EAAMU,cAAgB3N,GAAYiN,EAAMU,eAAiBV,EAAMW,sBAAwB5N,GAAY,KACxHtkB,KAAKmyB,wBAA0BZ,EAAMY,wBAA0BZ,EAAMY,wBAA0BZ,EAAMY,yBAA2B,IAChInyB,KAAKoyB,YAAcb,EAAMa,YAAcb,EAAMa,YAAc,IAC3DpyB,KAAKqyB,kBAAsC36B,IAAvB65B,EAAMc,cAA6Bd,EAAMc,aAC7DryB,KAAKsyB,gBAEN,CACDz7B,IAAK,QACL4E,MAAO,WACDuE,KAAKrK,SAASqK,KAAKsH,KAAKtH,KAAKrK,WAElC,CACDkB,IAAK,cACL4E,MAAO,WACL,IAAI82B,EAAY,GAAG7jB,OAAO1O,KAAK0hB,OAAQ,SAAShT,OAAO1O,KAAK8qB,QAC5D9qB,KAAKwyB,OAAS,IAAIjL,OAAOgL,EAAW,KACpC,IAAIE,EAAoB,GAAG/jB,OAAO1O,KAAK0hB,QAAQhT,OAAO1O,KAAK6xB,eAAgB,SAASnjB,OAAO1O,KAAK8xB,gBAAgBpjB,OAAO1O,KAAK8qB,QAC5H9qB,KAAK0yB,eAAiB,IAAInL,OAAOkL,EAAmB,KACpD,IAAIE,EAAmB,GAAGjkB,OAAO1O,KAAK+xB,cAAe,SAASrjB,OAAO1O,KAAKiyB,eAC1EjyB,KAAK6nB,cAAgB,IAAIN,OAAOoL,EAAkB,OAEnD,CACD97B,IAAK,cACL4E,MAAO,SAAqBkH,EAAK5D,EAAM2V,EAAK/e,GAC1C,IAEI0kB,EACA5e,EACAm3B,EAJApmB,EAAQxM,KAKRikB,EAAcjkB,KAAKrK,SAAWqK,KAAKrK,QAAQqxB,eAAiBhnB,KAAKrK,QAAQqxB,cAAcwE,kBAAoB,YAEtGqH,EAAUC,GACjB,OAAOA,EAAI52B,QAAO,MAAQ,QAG5B,IAAI62B,EAAe,SAAsBl8B,GACvC,GAAIA,EAAIqB,QAAQsU,EAAMolB,iBAAmB,EAAG,CAC1C,IAAIvO,EAAOW,GAAoBjlB,EAAMklB,EAAaptB,GAClD,OAAO2V,EAAM6lB,aAAe7lB,EAAM6kB,OAAOhO,OAAM3rB,EAAWgd,EAAK4N,GAAc,GAAI3sB,EAASoJ,EAAM,CAC9Fi0B,iBAAkBn8B,KACdwsB,EAGR,IAAI/Z,EAAIzS,EAAIygB,MAAM9K,EAAMolB,iBACpB5uB,EAAIsG,EAAEoa,QAAQuP,OACd9pB,EAAIG,EAAEiO,KAAK/K,EAAMolB,iBAAiBqB,OACtC,OAAOzmB,EAAM6kB,OAAOrN,GAAoBjlB,EAAMklB,EAAajhB,GAAImG,EAAGuL,EAAK4N,GAAc,GAAI3sB,EAASoJ,EAAM,CACtGi0B,iBAAkBhwB,MAItBhD,KAAKsyB,cACL,IAAIY,EAA8Bv9B,GAAWA,EAAQu9B,6BAA+BlzB,KAAKrK,QAAQu9B,4BAC7F5H,EAAkB31B,GAAWA,EAAQqxB,eAAiBrxB,EAAQqxB,cAAcsE,iBAAmBtrB,KAAKrK,QAAQqxB,cAAcsE,gBAmD9H,MAlDY,CAAC,CACX6H,MAAOnzB,KAAK0yB,eACZU,UAAW,SAAmBN,GAC5B,OAAOD,EAAUC,KAElB,CACDK,MAAOnzB,KAAKwyB,OACZY,UAAW,SAAmBN,GAC5B,OAAOtmB,EAAM8kB,YAAcuB,EAAUrmB,EAAMglB,OAAOsB,IAAQD,EAAUC,MAGlE50B,SAAQ,SAAUm1B,OACtBT,EAAW,EAEJvY,EAAQgZ,EAAKF,MAAMG,KAAK3wB,IAAM,CAGnC,QAAcjL,KAFd+D,EAAQs3B,EAAa1Y,EAAM,GAAG4Y,SAG5B,GAA2C,mBAAhCC,EAA4C,CACrD,IAAIK,EAAOL,EAA4BvwB,EAAK0X,EAAO1kB,GACnD8F,EAAwB,iBAAT83B,EAAoBA,EAAO,OACrC,CAAA,GAAIjI,EAAiB,CAC1B7vB,EAAQ4e,EAAM,GACd,SAEA7N,EAAMmV,OAAOlO,KAAK,8BAA8B/E,OAAO2L,EAAM,GAAI,uBAAuB3L,OAAO/L,IAE/FlH,EAAQ,OAEgB,iBAAVA,GAAuB+Q,EAAMilB,sBAC7Ch2B,EAAQwnB,GAAWxnB,IAGrB,IAAI23B,EAAYC,EAAKD,UAAU33B,GAY/B,GAXAkH,EAAMA,EAAIzG,QAAQme,EAAM,GAAI+Y,GAExB9H,GACF+H,EAAKF,MAAMK,WAAaJ,EAAUl+B,OAClCm+B,EAAKF,MAAMK,WAAanZ,EAAM,GAAGnlB,QAEjCm+B,EAAKF,MAAMK,UAAY,IAGzBZ,GAEgBpmB,EAAM4lB,YACpB,UAICzvB,IAER,CACD9L,IAAK,OACL4E,MAAO,SAAckH,EAAKgsB,GACxB,IAGItU,EACA5e,EAJAusB,EAAShoB,KAETrK,EAAUqB,UAAU9B,OAAS,QAAsBwC,IAAjBV,UAAU,GAAmBA,UAAU,GAAK,GAI9Ey8B,EAAgBnR,GAAc,GAAI3sB,YAK7B+9B,EAAiB78B,EAAK88B,GAC7B,IAAIC,EAAM5zB,KAAKmyB,wBACf,GAAIt7B,EAAIqB,QAAQ07B,GAAO,EAAG,OAAO/8B,EACjC,IAAI2B,EAAI3B,EAAIygB,MAAM,IAAIiQ,OAAO,GAAG7Y,OAAOklB,EAAK,WACxCC,EAAgB,IAAInlB,OAAOlW,EAAE,IACjC3B,EAAM2B,EAAE,GAERq7B,GADAA,EAAgB7zB,KAAKyrB,YAAYoI,EAAeJ,IAClBv3B,QAAO,KAAO,KAE5C,IACEu3B,EAAgBj+B,KAAKC,MAAMo+B,GACvBF,IAAkBF,EAAgBnR,GAAc,GAAIqR,EAAkBF,IAC1E,MAAOh3B,GAEP,OADAuD,KAAK2hB,OAAOlO,KAAK,oDAAoD/E,OAAO7X,GAAM4F,GAC3E,GAAGiS,OAAO7X,GAAK6X,OAAOklB,GAAKllB,OAAOmlB,GAI3C,cADOJ,EAAcpzB,aACdxJ,MArBT48B,EAAc3H,oBAAqB,SAC5B2H,EAAcpzB,aAuBdga,EAAQra,KAAK6nB,cAAcyL,KAAK3wB,IAAM,CAC3C,IAAImxB,EAAa,GACbC,GAAW,EAEf,IAA+C,IAA3C1Z,EAAM,GAAGniB,QAAQ8H,KAAK4xB,mBAAuB,OAAYj2B,KAAK0e,EAAM,IAAK,CAC3E,IAAIva,EAAIua,EAAM,GAAG/C,MAAMtX,KAAK4xB,iBAAiBznB,KAAI,SAAU6pB,GACzD,OAAOA,EAAKf,UAEd5Y,EAAM,GAAKva,EAAE4jB,QACboQ,EAAah0B,EACbi0B,GAAW,EAIb,IADAt4B,EAAQkzB,EAAG+E,EAAiBz8B,KAAK+I,KAAMqa,EAAM,GAAG4Y,OAAQQ,GAAgBA,KAC3DpZ,EAAM,KAAO1X,GAAwB,iBAAVlH,EAAoB,OAAOA,EAC9C,iBAAVA,IAAoBA,EAAQwnB,GAAWxnB,IAE7CA,IACHuE,KAAK2hB,OAAOlO,KAAK,qBAAqB/E,OAAO2L,EAAM,GAAI,iBAAiB3L,OAAO/L,IAC/ElH,EAAQ,IAGNs4B,IACFt4B,EAAQq4B,EAAWlY,QAAO,SAAUtO,EAAGnE,GACrC,OAAO6e,EAAOqJ,OAAO/jB,EAAGnE,EAAGxT,EAAQ+e,IAAK4N,GAAc,GAAI3sB,EAAS,CACjEq9B,iBAAkB3Y,EAAM,GAAG4Y,YAE5Bx3B,EAAMw3B,SAGXtwB,EAAMA,EAAIzG,QAAQme,EAAM,GAAI5e,GAC5BuE,KAAKwyB,OAAOgB,UAAY,EAG1B,OAAO7wB,MAIJyuB,EApNU,GA4PnB,IAAI6C,GAAY,oBACLC,IACP,IAAIv+B,EAAUqB,UAAU9B,OAAS,QAAsBwC,IAAjBV,UAAU,GAAmBA,UAAU,GAAK,GAElFwqB,GAAgBxhB,KAAMk0B,GAEtBl0B,KAAK2hB,OAASY,GAAW3B,OAAO,aAChC5gB,KAAKrK,QAAUA,EACfqK,KAAKm0B,QAAU,CACbvD,OAAQ,SAAgBkC,EAAKpe,EAAK/e,GAChC,OAAO,IAAIo6B,KAAKqE,aAAa1f,EAAK/e,GAAS07B,OAAOyB,IAEpDuB,SAAU,SAAkBvB,EAAKpe,EAAK/e,GACpC,OAAO,IAAIo6B,KAAKqE,aAAa1f,EAAK4N,GAAc,GAAI3sB,EAAS,CAC3D6F,MAAO,cACL61B,OAAOyB,IAEbwB,SAAU,SAAkBxB,EAAKpe,EAAK/e,GACpC,OAAO,IAAIo6B,KAAKwE,eAAe7f,EAAK4N,GAAc,GAAI3sB,IAAU07B,OAAOyB,IAEzE0B,aAAc,SAAsB1B,EAAKpe,EAAK/e,GAC5C,OAAO,IAAIo6B,KAAK0E,mBAAmB/f,EAAK4N,GAAc,GAAI3sB,IAAU07B,OAAOyB,EAAKn9B,EAAQ++B,OAAS,QAEnGxoB,KAAM,SAAc4mB,EAAKpe,EAAK/e,GAC5B,OAAO,IAAIo6B,KAAK4E,WAAWjgB,EAAK4N,GAAc,GAAI3sB,IAAU07B,OAAOyB,KAGvE9yB,KAAKsH,KAAK3R,GAmDZ,OAhDA8rB,GAAayS,EAAW,CAAC,CACvBr9B,IAAK,OACL4E,MAAO,SAAcuZ,GACnB,IAAIrf,EAAUqB,UAAU9B,OAAS,QAAsBwC,IAAjBV,UAAU,GAAmBA,UAAU,GAAK,CAChFgwB,cAAe,IAEbuK,EAAQ57B,EAAQqxB,cACpBhnB,KAAK4xB,gBAAkBL,EAAMK,gBAAkBL,EAAMK,gBAAkBL,EAAMK,iBAAmB,MAEjG,CACD/6B,IAAK,MACL4E,MAAO,SAAaI,EAAM8yB,GACxB3uB,KAAKm0B,QAAQt4B,GAAQ8yB,IAEtB,CACD93B,IAAK,SACL4E,MAAO,SAAgBA,EAAOm5B,EAASlgB,EAAK/e,GAC1C,IAAI6W,EAAQxM,KA2BZ,OAzBc40B,EAAQtd,MAAMtX,KAAK4xB,iBAEZhW,QAAO,SAAUiZ,EAAK1rB,GACzC,IAAI2rB,WAzFYC,GACtB,IAAIC,EAAaD,EAAU54B,cACvB84B,EAAgB,GAEpB,GAAIF,EAAU78B,QAAQ,MAAO,EAAI,CAC/B,IAAIoR,EAAIyrB,EAAUzd,MAAM,KACxB0d,EAAa1rB,EAAE,GAAGnN,cAClB,IAAI+4B,EAAS5rB,EAAE,GAAGoe,UAAU,EAAGpe,EAAE,GAAGpU,OAAS,GAE1B,aAAf8/B,GAA6BE,EAAOh9B,QAAQ,KAAO,EAChD+8B,EAAcZ,WAAUY,EAAcZ,SAAWa,EAAOjC,QACrC,iBAAf+B,GAAiCE,EAAOh9B,QAAQ,KAAO,EAC3D+8B,EAAcP,QAAOO,EAAcP,MAAQQ,EAAOjC,QAE5CiC,EAAO5d,MAAM,KACnBpZ,SAAQ,SAAUi3B,GACrB,GAAKA,EAAL,CAEA,IACIC,EAAcC,GADDF,EAAI7d,MAAM,KACkB,GACzCzgB,EAAMu+B,EAAY,GAClBtC,EAAMsC,EAAY,GAEH,UAAftC,EAAIG,SAAoBgC,EAAcp+B,EAAIo8B,SAAU,GACrC,SAAfH,EAAIG,SAAmBgC,EAAcp+B,EAAIo8B,SAAU,GAClDqC,MAAMxC,EAAIG,UAASgC,EAAcp+B,EAAIo8B,QAAUhZ,SAAS6Y,EAAIG,OAAQ,KACpEgC,EAAcp+B,EAAIo8B,UAASgC,EAAcp+B,EAAIo8B,QAAUH,EAAIG,YAKtE,MAAO,CACL+B,WAAYA,EACZC,cAAeA,GAwDWM,CAAepsB,GACjC6rB,EAAaF,EAAgBE,WAC7BC,EAAgBH,EAAgBG,cAEpC,GAAIzoB,EAAM2nB,QAAQa,GAAa,CAC7B,IAAIQ,EAAYX,EAEhB,IACE,IAAIY,EAAa9/B,GAAWA,EAAQ+/B,cAAgB//B,EAAQ+/B,aAAa//B,EAAQq9B,mBAAqB,GAClGle,EAAI2gB,EAAWE,QAAUF,EAAW/gB,KAAO/e,EAAQggC,QAAUhgC,EAAQ+e,KAAOA,EAChF8gB,EAAYhpB,EAAM2nB,QAAQa,GAAYH,EAAK/f,EAAGwN,GAAc,GAAI2S,EAAet/B,EAAS8/B,IACxF,MAAOz0B,GACPwL,EAAMmV,OAAOlO,KAAKzS,GAGpB,OAAOw0B,EAKT,OAHEhpB,EAAMmV,OAAOlO,KAAK,oCAAoC/E,OAAOsmB,IAGxDH,IACNp5B,OAKAy4B,EA9EO,GA0FhB,IAAI0B,GAAY,SAAUzQ,YAGf0Q,EAAU3gB,EAASmC,EAAOrC,GACjC,IAAIxI,EAEA7W,EAAUqB,UAAU9B,OAAS,QAAsBwC,IAAjBV,UAAU,GAAmBA,UAAU,GAAK,GAuBlF,OArBAwqB,GAAgBxhB,KAAM61B,GAEtBrpB,EAAQ6Y,GAA2BrlB,KAAMqgB,GAAgBwV,GAAW5+B,KAAK+I,OAErEykB,IACFjC,GAAavrB,KAAKmpB,GAAuB5T,IAG3CA,EAAM0I,QAAUA,EAChB1I,EAAM6K,MAAQA,EACd7K,EAAMwI,SAAWA,EACjBxI,EAAM6d,cAAgBrV,EAASqV,cAC/B7d,EAAM7W,QAAUA,EAChB6W,EAAMmV,OAASY,GAAW3B,OAAO,oBACjCpU,EAAM5O,MAAQ,GACd4O,EAAM5T,MAAQ,GAEV4T,EAAM0I,SAAW1I,EAAM0I,QAAQ5N,MACjCkF,EAAM0I,QAAQ5N,KAAK0N,EAAUrf,EAAQuf,QAASvf,GAGzC6W,EA4LT,OAxNA+Y,GAAUsQ,EAAW1Q,GA+BrB1D,GAAaoU,EAAW,CAAC,CACvBh/B,IAAK,YACL4E,MAAO,SAAmBgZ,EAAWzB,EAAYrd,EAAS4L,GACxD,IAAIymB,EAAShoB,KAET81B,EAAS,GACTC,EAAU,GACVC,EAAkB,GAClBC,EAAmB,GA8BvB,OA7BAxhB,EAAUvW,SAAQ,SAAUwW,GAC1B,IAAIwhB,GAAmB,EACvBljB,EAAW9U,SAAQ,SAAU+U,GAC3B,IAAIpX,EAAO,GAAG6S,OAAOgG,EAAK,KAAKhG,OAAOuE,IAEjCtd,EAAQwgC,QAAUnO,EAAO3Q,MAAMjC,kBAAkBV,EAAKzB,GACzD+U,EAAOpqB,MAAM/B,GAAQ,EACZmsB,EAAOpqB,MAAM/B,GAAQ,IAAqC,IAAvBmsB,EAAOpqB,MAAM/B,GACrDk6B,EAAQ79B,QAAQ2D,GAAQ,GAAGk6B,EAAQt9B,KAAKoD,IAE5CmsB,EAAOpqB,MAAM/B,GAAQ,EACrBq6B,GAAmB,EACfH,EAAQ79B,QAAQ2D,GAAQ,GAAGk6B,EAAQt9B,KAAKoD,GACxCi6B,EAAO59B,QAAQ2D,GAAQ,GAAGi6B,EAAOr9B,KAAKoD,GACtCo6B,EAAiB/9B,QAAQ+a,GAAM,GAAGgjB,EAAiBx9B,KAAKwa,QAG3DijB,GAAkBF,EAAgBv9B,KAAKic,OAG1CohB,EAAO5gC,QAAU6gC,EAAQ7gC,SAC3B8K,KAAKpH,MAAMH,KAAK,CACds9B,QAASA,EACT3Y,OAAQ,GACRgZ,OAAQ,GACR70B,SAAUA,IAIP,CACLu0B,OAAQA,EACRC,QAASA,EACTC,gBAAiBA,EACjBC,iBAAkBA,KAGrB,CACDp/B,IAAK,SACL4E,MAAO,SAAgBI,EAAMsJ,EAAKpG,GAChC,IAAIyC,EAAI3F,EAAKyb,MAAM,KACf5C,EAAMlT,EAAE,GACRyR,EAAKzR,EAAE,GACP2D,GAAKnF,KAAK2lB,KAAK,gBAAiBjR,EAAKzB,EAAI9N,GAEzCpG,GACFiB,KAAKqX,MAAMgf,kBAAkB3hB,EAAKzB,EAAIlU,GAGxCiB,KAAKpC,MAAM/B,GAAQsJ,GAAM,EAAK,EAC9B,IAAIiY,EAAS,GACbpd,KAAKpH,MAAMsF,SAAQ,SAAUo4B,OA3kDjBnlB,EAAcyS,EAAUlV,EACpC6nB,EACAngC,EACA4M,EAHYmO,EA4kDDmlB,EAAElZ,OA5kDawG,EA4kDE3Q,EA3kD5BsjB,EAAkBnT,GAAcjS,EA2kDX,CAACuD,GA3kDwB1f,QAC9CoB,EAAMmgC,EAAgBngC,IACtB4M,EAAIuzB,EAAgBvzB,EAExB5M,EAAI4M,GAAK5M,EAAI4M,IAAM,GACf0L,IAAQtY,EAAI4M,GAAK5M,EAAI4M,GAAG0L,OAAOkV,IAC9BlV,GAAQtY,EAAI4M,GAAGvK,KAAKmrB,YAg+CXtf,EAAKkyB,OACnB,IAAIvK,EAAQ3nB,EAAIpM,QAAQs+B,IAEP,IAAVvK,GACL3nB,EAAIvD,OAAOkrB,EAAO,GAClBA,EAAQ3nB,EAAIpM,QAAQs+B,GAiGhBC,CAAOH,EAAEP,QAASl6B,GACdsJ,GAAKmxB,EAAEF,OAAO39B,KAAK0M,GAEE,IAArBmxB,EAAEP,QAAQ7gC,QAAiBohC,EAAEpxB,OAC/BlQ,OAAOD,KAAKuhC,EAAElZ,QAAQlf,SAAQ,SAAU4W,GACjCsI,EAAOtI,KAAIsI,EAAOtI,GAAK,IAExBwhB,EAAElZ,OAAOtI,GAAG5f,QACdohC,EAAElZ,OAAOtI,GAAG5W,SAAQ,SAAU+U,GACxBmK,EAAOtI,GAAG5c,QAAQ+a,GAAM,GAAGmK,EAAOtI,GAAGrc,KAAKwa,SAIpDqjB,EAAEpxB,MAAO,EAELoxB,EAAEF,OAAOlhC,OACXohC,EAAE/0B,SAAS+0B,EAAEF,QAEbE,EAAE/0B,eAIRvB,KAAK2lB,KAAK,SAAUvI,GACpBpd,KAAKpH,MAAQoH,KAAKpH,MAAMiQ,QAAO,SAAUytB,GACvC,OAAQA,EAAEpxB,UAGb,CACDrO,IAAK,OACL4E,MAAO,SAAciZ,EAAKzB,EAAIyjB,GAC5B,IAAIzL,EAASjrB,KAET22B,EAAQ3/B,UAAU9B,OAAS,QAAsBwC,IAAjBV,UAAU,GAAmBA,UAAU,GAAK,EAC5Eof,EAAOpf,UAAU9B,OAAS,QAAsBwC,IAAjBV,UAAU,GAAmBA,UAAU,GAAK,IAC3EuK,EAAWvK,UAAU9B,OAAS,EAAI8B,UAAU,QAAKU,EACrD,OAAKgd,EAAIxf,OACF8K,KAAKkV,QAAQwhB,GAAQhiB,EAAKzB,GAAI,SAAU9N,EAAKpG,GAC9CoG,GAAOpG,GAAQ43B,EAAQ,EACzB70B,YAAW,WACTmpB,EAAO2L,KAAK3/B,KAAKg0B,EAAQvW,EAAKzB,EAAIyjB,EAAQC,EAAQ,EAAU,EAAPvgB,EAAU7U,KAC9D6U,GAIL7U,EAAS4D,EAAKpG,MATQwC,EAAS,KAAM,MAYxC,CACD1K,IAAK,iBACL4E,MAAO,SAAwBgZ,EAAWzB,GACxC,IAAIkZ,EAASlsB,KAETrK,EAAUqB,UAAU9B,OAAS,QAAsBwC,IAAjBV,UAAU,GAAmBA,UAAU,GAAK,GAC9EuK,EAAWvK,UAAU9B,OAAS,EAAI8B,UAAU,QAAKU,EAErD,IAAKsI,KAAKkV,QAER,OADAlV,KAAK2hB,OAAOlO,KAAK,kEACVlS,GAAYA,IAGI,iBAAdkT,IAAwBA,EAAYzU,KAAKqqB,cAAcG,mBAAmB/V,IAC3D,iBAAfzB,IAAyBA,EAAa,CAACA,IAClD,IAAI8iB,EAAS91B,KAAK62B,UAAUpiB,EAAWzB,EAAYrd,EAAS4L,GAE5D,IAAKu0B,EAAOA,OAAO5gC,OAEjB,OADK4gC,EAAOC,QAAQ7gC,QAAQqM,IACrB,KAGTu0B,EAAOA,OAAO53B,SAAQ,SAAUrC,GAC9BqwB,EAAO4K,QAAQj7B,QAGlB,CACDhF,IAAK,OACL4E,MAAO,SAAcgZ,EAAWzB,EAAYzR,GAC1CvB,KAAK+2B,eAAetiB,EAAWzB,EAAY,GAAIzR,KAEhD,CACD1K,IAAK,SACL4E,MAAO,SAAgBgZ,EAAWzB,EAAYzR,GAC5CvB,KAAK+2B,eAAetiB,EAAWzB,EAAY,CACzCmjB,QAAQ,GACP50B,KAEJ,CACD1K,IAAK,UACL4E,MAAO,SAAiBI,GACtB,IAAIm7B,EAASh3B,KAET0hB,EAAS1qB,UAAU9B,OAAS,QAAsBwC,IAAjBV,UAAU,GAAmBA,UAAU,GAAK,GAC7EwK,EAAI3F,EAAKyb,MAAM,KACf5C,EAAMlT,EAAE,GACRyR,EAAKzR,EAAE,GACXxB,KAAK42B,KAAKliB,EAAKzB,EAAI,YAAQvb,OAAWA,GAAW,SAAUyN,EAAKpG,GAC1DoG,GAAK6xB,EAAOrV,OAAOlO,KAAK,GAAG/E,OAAOgT,EAAQ,sBAAsBhT,OAAOuE,EAAI,kBAAkBvE,OAAOgG,EAAK,WAAYvP,IACpHA,GAAOpG,GAAMi4B,EAAOrV,OAAOR,IAAI,GAAGzS,OAAOgT,EAAQ,qBAAqBhT,OAAOuE,EAAI,kBAAkBvE,OAAOgG,GAAM3V,GAErHi4B,EAAO5Z,OAAOvhB,EAAMsJ,EAAKpG,QAG5B,CACDlI,IAAK,cACL4E,MAAO,SAAqBgZ,EAAW2T,EAAWvxB,EAAK4zB,EAAewM,GACpE,IAAIthC,EAAUqB,UAAU9B,OAAS,QAAsBwC,IAAjBV,UAAU,GAAmBA,UAAU,GAAK,GAE9EgJ,KAAKgV,SAASuX,OAASvsB,KAAKgV,SAASuX,MAAMC,qBAAuBxsB,KAAKgV,SAASuX,MAAMC,mBAAmBpE,GAC3GpoB,KAAK2hB,OAAOlO,KAAK,qBAAsB/E,OAAO7X,EAAK,wBAA0B6X,OAAO0Z,EAAW,wBAA0B,4NAIvHvxB,MAAAA,GAA6C,KAARA,IAErCmJ,KAAKkV,SAAWlV,KAAKkV,QAAQ0L,QAC/B5gB,KAAKkV,QAAQ0L,OAAOnM,EAAW2T,EAAWvxB,EAAK4zB,EAAe,KAAMnI,GAAc,GAAI3sB,EAAS,CAC7FshC,SAAUA,KAITxiB,GAAcA,EAAU,IAC7BzU,KAAKqX,MAAMwO,YAAYpR,EAAU,GAAI2T,EAAWvxB,EAAK4zB,QAIlDoL,EAzNO,CA0NdrT,aAEO0U,KACP,MAAO,CACLtV,OAAO,EACPuV,eAAe,EACflkB,GAAI,CAAC,eACL6C,UAAW,CAAC,eACZnB,YAAa,CAAC,OACdyX,YAAY,EACZqB,eAAe,EACfO,0BAA0B,EAC1BD,KAAM,MACNqJ,SAAS,EACTnG,sBAAsB,EACtBnM,aAAc,IACdmC,YAAa,IACboQ,gBAAiB,IACjBtK,iBAAkB,IAClBuK,yBAAyB,EACzB3M,aAAa,EACbV,eAAe,EACfM,cAAe,WACfK,oBAAoB,EACpBF,mBAAmB,EACnBwI,6BAA6B,EAC7BtH,aAAa,EACbG,yBAAyB,EACzBiB,YAAY,EACZC,mBAAmB,EACnBjE,eAAe,EACfJ,YAAY,EACZK,uBAAuB,EACvB+B,wBAAwB,EACxBD,6BAA6B,EAC7B1C,yBAAyB,EACzBJ,iCAAkC,SAAgBrgB,GAChD,IAAI6P,EAAM,GAKV,GAJyB,WAArBmI,GAAQhY,EAAK,MAAkB6P,EAAM7P,EAAK,IACvB,iBAAZA,EAAK,KAAiB6P,EAAIpX,aAAeuH,EAAK,IAClC,iBAAZA,EAAK,KAAiB6P,EAAI8f,aAAe3vB,EAAK,IAEhC,WAArBgY,GAAQhY,EAAK,KAAyC,WAArBgY,GAAQhY,EAAK,IAAkB,CAClE,IAAIjS,EAAUiS,EAAK,IAAMA,EAAK,GAC9B5S,OAAOD,KAAKY,GAASuI,SAAQ,SAAUrH,GACrC4gB,EAAI5gB,GAAOlB,EAAQkB,MAIvB,OAAO4gB,GAETuP,cAAe,CACbsK,aAAa,EACbD,OAAQ,SAAgB51B,EAAOm5B,EAASlgB,EAAK/e,GAC3C,OAAO8F,GAETimB,OAAQ,KACRoJ,OAAQ,KACR8G,gBAAiB,IACjBC,eAAgB,IAChBE,cAAe,MACfE,cAAe,IACfE,wBAAyB,IACzBC,YAAa,IACb9G,iBAAiB,aAIdkM,GAAiB7hC,GASxB,MAR0B,iBAAfA,EAAQsd,KAAiBtd,EAAQsd,GAAK,CAACtd,EAAQsd,KACvB,iBAAxBtd,EAAQgf,cAA0Bhf,EAAQgf,YAAc,CAAChf,EAAQgf,cAC1C,iBAAvBhf,EAAQy2B,aAAyBz2B,EAAQy2B,WAAa,CAACz2B,EAAQy2B,aAEtEz2B,EAAQ83B,eAAiB93B,EAAQ83B,cAAcv1B,QAAQ,UAAY,IACrEvC,EAAQ83B,cAAgB93B,EAAQ83B,cAAc/e,OAAO,CAAC,YAGjD/Y,WAGA8hC,MAET,IAAIC,GAAO,SAAUvS,YAGVwS,IACP,IAAInrB,EAEA7W,EAAUqB,UAAU9B,OAAS,QAAsBwC,IAAjBV,UAAU,GAAmBA,UAAU,GAAK,GAC9EuK,EAAWvK,UAAU9B,OAAS,EAAI8B,UAAU,QAAKU,EAiBrD,GAfA8pB,GAAgBxhB,KAAM23B,GAEtBnrB,EAAQ6Y,GAA2BrlB,KAAMqgB,GAAgBsX,GAAM1gC,KAAK+I,OAEhEykB,IACFjC,GAAavrB,KAAKmpB,GAAuB5T,IAG3CA,EAAM7W,QAAU6hC,GAAiB7hC,GACjC6W,EAAMwI,SAAW,GACjBxI,EAAMmV,OAASY,GACf/V,EAAMqS,QAAU,CACd+Y,SAAU,IAGRr2B,IAAaiL,EAAM4H,gBAAkBze,EAAQkiC,QAAS,CACxD,IAAKrrB,EAAM7W,QAAQwhC,cAGjB,OAFA3qB,EAAMlF,KAAK3R,EAAS4L,GAEb8jB,GAA2B7Y,EAAO4T,GAAuB5T,IAGlE1K,YAAW,WACT0K,EAAMlF,KAAK3R,EAAS4L,KACnB,GAGL,OAAOiL,EA0hBT,OA7jBA+Y,GAAUoS,EAAMxS,GAsChB1D,GAAakW,EAAM,CAAC,CAClB9gC,IAAK,OACL4E,MAAO,WACL,IAAIusB,EAAShoB,KAETrK,EAAUqB,UAAU9B,OAAS,QAAsBwC,IAAjBV,UAAU,GAAmBA,UAAU,GAAK,GAC9EuK,EAAWvK,UAAU9B,OAAS,EAAI8B,UAAU,QAAKU,EAE9B,mBAAZ/B,IACT4L,EAAW5L,EACXA,EAAU,KAGPA,EAAQmgB,WAAangB,EAAQsd,KACN,iBAAftd,EAAQsd,GACjBtd,EAAQmgB,UAAYngB,EAAQsd,GACnBtd,EAAQsd,GAAG/a,QAAQ,eAAiB,IAC7CvC,EAAQmgB,UAAYngB,EAAQsd,GAAG,KAInC,IAAI6kB,EAAUZ,cAWLa,EAAoBC,GAC3B,OAAKA,EACwB,mBAAlBA,EAAqC,IAAIA,EAC7CA,EAFoB,KAK7B,GAhBAh4B,KAAKrK,QAAU2sB,GAAc,GAAIwV,EAAS93B,KAAKrK,QAAS6hC,GAAiB7hC,SAE5C+B,IAAzB/B,EAAQmvB,eACV9kB,KAAKrK,QAAQyxB,wBAA0BzxB,EAAQmvB,mBAGrBptB,IAAxB/B,EAAQsxB,cACVjnB,KAAKrK,QAAQ0xB,uBAAyB1xB,EAAQsxB,cAS3CjnB,KAAKrK,QAAQkiC,QAAS,CAOzB,IAAIhpB,EANA7O,KAAK6e,QAAQ8C,OACfY,GAAWjb,KAAKywB,EAAoB/3B,KAAK6e,QAAQ8C,QAAS3hB,KAAKrK,SAE/D4sB,GAAWjb,KAAK,KAAMtH,KAAKrK,SAKzBqK,KAAK6e,QAAQhQ,UACfA,EAAY7O,KAAK6e,QAAQhQ,UACA,oBAATkhB,OAChBlhB,EAAYolB,IAGd,IAAIgE,EAAK,IAAI1K,GAAavtB,KAAKrK,SAC/BqK,KAAKqX,MAAQ,IAAI6N,GAAcllB,KAAKrK,QAAQiwB,UAAW5lB,KAAKrK,SAC5D,IAAI6L,EAAIxB,KAAKgV,SACbxT,EAAEmgB,OAASY,GACX/gB,EAAE0rB,cAAgBltB,KAAKqX,MACvB7V,EAAE6oB,cAAgB4N,EAClBz2B,EAAEooB,eAAiB,IAAIgG,GAAeqI,EAAI,CACxCtH,QAAS3wB,KAAKrK,QAAQ0hC,gBACtBvH,kBAAmB9vB,KAAKrK,QAAQm6B,kBAChCmB,qBAAsBjxB,KAAKrK,QAAQs7B,wBAGjCpiB,GAAe7O,KAAKrK,QAAQqxB,cAAcqK,QAAUrxB,KAAKrK,QAAQqxB,cAAcqK,SAAWyG,EAAQ9Q,cAAcqK,SAClH7vB,EAAEqN,UAAYkpB,EAAoBlpB,GAClCrN,EAAEqN,UAAUvH,KAAK9F,EAAGxB,KAAKrK,SACzBqK,KAAKrK,QAAQqxB,cAAcqK,OAAS7vB,EAAEqN,UAAUwiB,OAAOzvB,KAAKJ,EAAEqN,YAGhErN,EAAEomB,aAAe,IAAIuJ,GAAanxB,KAAKrK,SACvC6L,EAAE+qB,MAAQ,CACRC,mBAAoBxsB,KAAKwsB,mBAAmB5qB,KAAK5B,OAEnDwB,EAAEyT,iBAAmB,IAAI2gB,GAAUmC,EAAoB/3B,KAAK6e,QAAQ3J,SAAU1T,EAAE0rB,cAAe1rB,EAAGxB,KAAKrK,SACvG6L,EAAEyT,iBAAiBZ,GAAG,KAAK,SAAUzX,GACnC,IAAK,IAAI+W,EAAO3c,UAAU9B,OAAQ0S,EAAO,IAAIpN,MAAMmZ,EAAO,EAAIA,EAAO,EAAI,GAAIC,EAAO,EAAGA,EAAOD,EAAMC,IAClGhM,EAAKgM,EAAO,GAAK5c,UAAU4c,GAG7BoU,EAAOrC,KAAKpW,MAAMyY,EAAQ,CAACprB,GAAO8R,OAAO9G,OAGvC5H,KAAK6e,QAAQqZ,mBACf12B,EAAE02B,iBAAmBH,EAAoB/3B,KAAK6e,QAAQqZ,kBACtD12B,EAAE02B,iBAAiB5wB,KAAK9F,EAAGxB,KAAKrK,QAAQwiC,UAAWn4B,KAAKrK,UAGtDqK,KAAK6e,QAAQiK,aACftnB,EAAEsnB,WAAaiP,EAAoB/3B,KAAK6e,QAAQiK,YAC5CtnB,EAAEsnB,WAAWxhB,MAAM9F,EAAEsnB,WAAWxhB,KAAKtH,OAG3CA,KAAK0mB,WAAa,IAAIG,GAAW7mB,KAAKgV,SAAUhV,KAAKrK,SACrDqK,KAAK0mB,WAAWrS,GAAG,KAAK,SAAUzX,GAChC,IAAK,IAAImX,EAAQ/c,UAAU9B,OAAQ0S,EAAO,IAAIpN,MAAMuZ,EAAQ,EAAIA,EAAQ,EAAI,GAAIC,EAAQ,EAAGA,EAAQD,EAAOC,IACxGpM,EAAKoM,EAAQ,GAAKhd,UAAUgd,GAG9BgU,EAAOrC,KAAKpW,MAAMyY,EAAQ,CAACprB,GAAO8R,OAAO9G,OAE3C5H,KAAK6e,QAAQ+Y,SAAS15B,SAAQ,SAAUilB,GAClCA,EAAE7b,MAAM6b,EAAE7b,KAAK0gB,MAOvB,GAHAhoB,KAAKqxB,OAASrxB,KAAKrK,QAAQqxB,cAAcqK,OACpC9vB,IAAUA,EAAWk2B,IAEtBz3B,KAAKrK,QAAQgf,cAAgB3U,KAAKgV,SAASkjB,mBAAqBl4B,KAAKrK,QAAQ+e,IAAK,CACpF,IAAI4X,EAAQtsB,KAAKgV,SAASqV,cAAcC,iBAAiBtqB,KAAKrK,QAAQgf,aAClE2X,EAAMp3B,OAAS,GAAkB,QAAbo3B,EAAM,KAActsB,KAAKrK,QAAQ+e,IAAM4X,EAAM,IAGlEtsB,KAAKgV,SAASkjB,kBAAqBl4B,KAAKrK,QAAQ+e,KACnD1U,KAAK2hB,OAAOlO,KAAK,2DAGnB,IAAI2kB,EAAW,CAAC,cAAe,oBAAqB,oBAAqB,qBACzEA,EAASl6B,SAAQ,SAAUw4B,GACzB1O,EAAO0O,GAAU,WACf,IAAI2B,EAEJ,OAAQA,EAAerQ,EAAO3Q,OAAOqf,GAAQnnB,MAAM8oB,EAAcrhC,eAGrE,IAAIshC,EAAkB,CAAC,cAAe,eAAgB,oBAAqB,wBAC3EA,EAAgBp6B,SAAQ,SAAUw4B,GAChC1O,EAAO0O,GAAU,WACf,IAAI6B,EAIJ,OAFCA,EAAgBvQ,EAAO3Q,OAAOqf,GAAQnnB,MAAMgpB,EAAevhC,WAErDgxB,MAGX,IAAIwQ,EAAWzV,KAEXgL,EAAO,WACT,IAAI0K,EAAS,SAAgBtzB,EAAK+Q,GAC5B8R,EAAO5T,gBAAkB4T,EAAOxR,sBAAsBwR,EAAOrG,OAAOlO,KAAK,yEAC7EuU,EAAO5T,eAAgB,EAClB4T,EAAOryB,QAAQkiC,SAAS7P,EAAOrG,OAAOR,IAAI,cAAe6G,EAAOryB,SAErEqyB,EAAOrC,KAAK,cAAeqC,EAAOryB,SAElC6iC,EAAS32B,QAAQqU,GACjB3U,EAAS4D,EAAK+Q,IAGhB,GAAI8R,EAAOvT,WAAiD,OAApCuT,EAAOryB,QAAQuwB,mBAA8B8B,EAAO5T,cAAe,OAAOqkB,EAAO,KAAMzQ,EAAO9R,EAAEtU,KAAKomB,IAE7HA,EAAO0Q,eAAe1Q,EAAOryB,QAAQ+e,IAAK+jB,IAS5C,OANIz4B,KAAKrK,QAAQiwB,YAAc5lB,KAAKrK,QAAQwhC,cAC1CpJ,IAEAjsB,WAAWisB,EAAM,GAGZyK,IAER,CACD3hC,IAAK,gBACL4E,MAAO,SAAuBsrB,GAC5B,IAAIkE,EAASjrB,KAETuB,EAAWvK,UAAU9B,OAAS,QAAsBwC,IAAjBV,UAAU,GAAmBA,UAAU,GAAKygC,GAC/EkB,EAAep3B,EACf2pB,EAA8B,iBAAbnE,EAAwBA,EAAW/mB,KAAK+mB,SAG7D,GAFwB,mBAAbA,IAAyB4R,EAAe5R,IAE9C/mB,KAAKrK,QAAQiwB,WAAa5lB,KAAKrK,QAAQ2hC,wBAAyB,CACnE,GAAIpM,GAAqC,WAA1BA,EAAQ/uB,cAA4B,OAAOw8B,IAC1D,IAAI7C,EAAS,GAET8C,EAAS,SAAgBlkB,GACtBA,GAEMuW,EAAOjW,SAASqV,cAAcG,mBAAmB9V,GAEvDxW,SAAQ,SAAU4W,GACjBghB,EAAO59B,QAAQ4c,GAAK,GAAGghB,EAAOr9B,KAAKqc,OAI3C,GAAKoW,EAMH0N,EAAO1N,OANK,CACZ,IAAIoD,EAAYtuB,KAAKgV,SAASqV,cAAcC,iBAAiBtqB,KAAKrK,QAAQgf,aAC1E2Z,EAAUpwB,SAAQ,SAAU4W,GAC1B,OAAO8jB,EAAO9jB,MAMd9U,KAAKrK,QAAQyhC,SACfp3B,KAAKrK,QAAQyhC,QAAQl5B,SAAQ,SAAU4W,GACrC,OAAO8jB,EAAO9jB,MAIlB9U,KAAKgV,SAASC,iBAAiB8Y,KAAK+H,EAAQ91B,KAAKrK,QAAQsd,GAAI0lB,QAE7DA,EAAa,QAGhB,CACD9hC,IAAK,kBACL4E,MAAO,SAAyB0uB,EAAMlX,EAAI1R,GACxC,IAAIi3B,EAAWzV,KAQf,OAPKoH,IAAMA,EAAOnqB,KAAKyU,WAClBxB,IAAIA,EAAKjT,KAAKrK,QAAQsd,IACtB1R,IAAUA,EAAWk2B,IAC1Bz3B,KAAKgV,SAASC,iBAAiBkhB,OAAOhM,EAAMlX,GAAI,SAAU9N,GACxDqzB,EAAS32B,UACTN,EAAS4D,MAEJqzB,IAER,CACD3hC,IAAK,MACL4E,MAAO,SAAa+qB,GAClB,IAAKA,EAAQ,MAAM,IAAInxB,MAAM,iGAC7B,IAAKmxB,EAAO7vB,KAAM,MAAM,IAAItB,MAAM,4FA8BlC,MA5BoB,YAAhBmxB,EAAO7vB,OACTqJ,KAAK6e,QAAQ3J,QAAUsR,IAGL,WAAhBA,EAAO7vB,MAAqB6vB,EAAOrF,KAAOqF,EAAO/S,MAAQ+S,EAAOxlB,SAClEhB,KAAK6e,QAAQ8C,OAAS6E,GAGJ,qBAAhBA,EAAO7vB,OACTqJ,KAAK6e,QAAQqZ,iBAAmB1R,GAGd,eAAhBA,EAAO7vB,OACTqJ,KAAK6e,QAAQiK,WAAatC,GAGR,kBAAhBA,EAAO7vB,MACT0vB,GAAcE,iBAAiBC,GAGb,cAAhBA,EAAO7vB,OACTqJ,KAAK6e,QAAQhQ,UAAY2X,GAGP,aAAhBA,EAAO7vB,MACTqJ,KAAK6e,QAAQ+Y,SAASn/B,KAAK+tB,GAGtBxmB,OAER,CACDnJ,IAAK,iBACL4E,MAAO,SAAwBiZ,EAAKnT,GAClC,IAAI2qB,EAASlsB,KAEbA,KAAKmV,qBAAuBT,EAC5B,IAAI8jB,EAAWzV,KACf/iB,KAAK2lB,KAAK,mBAAoBjR,GAE9B,IAAImkB,EAAc,SAAqB/jB,GAIrC,GAHAoX,EAAOnF,SAAWjS,EAClBoX,EAAOzX,UAAYyX,EAAOlX,SAASqV,cAAcG,mBAAmB1V,GACpEoX,EAAO4M,sBAAmBphC,IACtB,CAAC,SAAU,OAAOQ,QAAQ4c,IAAK,GAEnC,IAAK,IAAIikB,EAAK,EAAGA,EAAK7M,EAAOzX,UAAUvf,OAAQ6jC,IAAM,CACnD,IAAIC,EAAY9M,EAAOzX,UAAUskB,GACjC,KAAI,CAAC,SAAU,OAAO7gC,QAAQ8gC,IAAa,IAEvC9M,EAAO7U,MAAM4hB,4BAA4BD,GAAY,CACvD9M,EAAO4M,iBAAmBE,EAC1B,SA4BFE,EAAS,SAAgB/O,GACtBzV,GAAQyV,IAAQ+B,EAAOlX,SAASkjB,mBAAkB/N,EAAO,IAC9D,IAAIrV,EAAoB,iBAATqV,EAAoBA,EAAO+B,EAAOlX,SAASqV,cAAc8O,sBAAsBhP,GAE1FrV,IACGoX,EAAOnF,UACV8R,EAAY/jB,GAGToX,EAAOxF,WAAWK,UAAUmF,EAAOxF,WAAWgS,eAAe5jB,GAC9DoX,EAAOlX,SAASkjB,kBAAkBhM,EAAOlX,SAASkjB,iBAAiBkB,kBAAkBtkB,IAG3FoX,EAAOmN,cAAcvkB,GAAG,SAAU3P,IApCzB,SAAcA,EAAK2P,GACxBA,GACF+jB,EAAY/jB,GAEZoX,EAAOxF,WAAWgS,eAAe5jB,GAEjCoX,EAAO/W,0BAAuBzd,EAE9Bw0B,EAAOvG,KAAK,kBAAmB7Q,GAE/BoX,EAAOvK,OAAOR,IAAI,kBAAmBrM,IAErCoX,EAAO/W,0BAAuBzd,EAGhC8gC,EAAS32B,SAAQ,WACf,OAAOqqB,EAAOhW,EAAE3G,MAAM2c,EAAQl1B,cAE5BuK,GAAUA,EAAS4D,GAAK,WAC1B,OAAO+mB,EAAOhW,EAAE3G,MAAM2c,EAAQl1B,cAkB9BkO,CAAKC,EAAK2P,OAYd,OARKJ,IAAO1U,KAAKgV,SAASkjB,kBAAqBl4B,KAAKgV,SAASkjB,iBAAiBoB,OAElE5kB,GAAO1U,KAAKgV,SAASkjB,kBAAoBl4B,KAAKgV,SAASkjB,iBAAiBoB,MAClFt5B,KAAKgV,SAASkjB,iBAAiBqB,OAAOL,GAEtCA,EAAOxkB,GAJPwkB,EAAOl5B,KAAKgV,SAASkjB,iBAAiBqB,UAOjCf,IAER,CACD3hC,IAAK,YACL4E,MAAO,SAAmBiZ,EAAKzB,EAAIqD,GACjC,IAAI0gB,EAASh3B,KAETw5B,EAAS,SAASA,EAAO3iC,EAAK4iC,GAChC,IAAI9jC,EAEJ,GAAsB,WAAlBiqB,GAAQ6Z,GAAoB,CAC9B,IAAK,IAAI1X,EAAQ/qB,UAAU9B,OAAQqjB,EAAO,IAAI/d,MAAMunB,EAAQ,EAAIA,EAAQ,EAAI,GAAIC,EAAQ,EAAGA,EAAQD,EAAOC,IACxGzJ,EAAKyJ,EAAQ,GAAKhrB,UAAUgrB,GAG9BrsB,EAAUqhC,EAAOrhC,QAAQsyB,iCAAiC,CAACpxB,EAAK4iC,GAAM/qB,OAAO6J,SAE7E5iB,EAAU2sB,GAAc,GAAImX,GAG9B9jC,EAAQ+e,IAAM/e,EAAQ+e,KAAO8kB,EAAO9kB,IACpC/e,EAAQw0B,KAAOx0B,EAAQw0B,MAAQqP,EAAOrP,KACtCx0B,EAAQsd,GAAKtd,EAAQsd,IAAMumB,EAAOvmB,GAClC,IAAI6R,EAAekS,EAAOrhC,QAAQmvB,cAAgB,IAC9C4U,EAAYpjB,EAAY,GAAG5H,OAAO4H,GAAW5H,OAAOoW,GAAcpW,OAAO7X,GAAOA,EACpF,OAAOmgC,EAAO9gB,EAAEwjB,EAAW/jC,IAW7B,MARmB,iBAAR+e,EACT8kB,EAAO9kB,IAAMA,EAEb8kB,EAAOrP,KAAOzV,EAGhB8kB,EAAOvmB,GAAKA,EACZumB,EAAOljB,UAAYA,EACZkjB,IAER,CACD3iC,IAAK,IACL4E,MAAO,WACL,IAAIk+B,EAEJ,OAAO35B,KAAK0mB,aAAeiT,EAAmB35B,KAAK0mB,YAAY4C,UAAU/Z,MAAMoqB,EAAkB3iC,aAElG,CACDH,IAAK,SACL4E,MAAO,WACL,IAAIm+B,EAEJ,OAAO55B,KAAK0mB,aAAekT,EAAoB55B,KAAK0mB,YAAYmT,OAAOtqB,MAAMqqB,EAAmB5iC,aAEjG,CACDH,IAAK,sBACL4E,MAAO,SAA6BwX,GAClCjT,KAAKrK,QAAQmgB,UAAY7C,IAE1B,CACDpc,IAAK,qBACL4E,MAAO,SAA4BwX,GACjC,IAAI6mB,EAAS95B,KAETrK,EAAUqB,UAAU9B,OAAS,QAAsBwC,IAAjBV,UAAU,GAAmBA,UAAU,GAAK,GAElF,IAAKgJ,KAAKoU,cAER,OADApU,KAAK2hB,OAAOlO,KAAK,kDAAmDzT,KAAKyU,YAClE,EAGT,IAAKzU,KAAKyU,YAAczU,KAAKyU,UAAUvf,OAErC,OADA8K,KAAK2hB,OAAOlO,KAAK,6DAA8DzT,KAAKyU,YAC7E,EAGT,IAAIC,EAAM1U,KAAK84B,kBAAoB94B,KAAKyU,UAAU,GAC9CE,IAAc3U,KAAKrK,SAAUqK,KAAKrK,QAAQgf,YAC1CC,EAAU5U,KAAKyU,UAAUzU,KAAKyU,UAAUvf,OAAS,GACrD,GAA0B,WAAtBwf,EAAIvY,cAA4B,OAAO,EAE3C,IAAI0Y,EAAiB,SAAwBC,EAAGrP,GAC9C,IAAIsP,EAAY+kB,EAAO9kB,SAASC,iBAAiBrX,MAAM,GAAG8Q,OAAOoG,EAAG,KAAKpG,OAAOjJ,IAEhF,OAAqB,IAAdsP,GAAkC,IAAdA,GAG7B,GAAIpf,EAAQokC,SAAU,CACpB,IAAIC,EAAYrkC,EAAQokC,SAAS/5B,KAAM6U,GACvC,QAAkBnd,IAAdsiC,EAAyB,OAAOA,EAGtC,QAAIh6B,KAAKoV,kBAAkBV,EAAKzB,MAC3BjT,KAAKgV,SAASC,iBAAiBC,YAChCL,EAAeH,EAAKzB,IAAS0B,IAAeE,EAAeD,EAAS3B,OAGzE,CACDpc,IAAK,iBACL4E,MAAO,SAAwBwX,EAAI1R,GACjC,IAAI04B,EAASj6B,KAETw4B,EAAWzV,KAEf,OAAK/iB,KAAKrK,QAAQsd,IAKA,iBAAPA,IAAiBA,EAAK,CAACA,IAClCA,EAAG/U,SAAQ,SAAUuH,GACfw0B,EAAOtkC,QAAQsd,GAAG/a,QAAQuN,GAAK,GAAGw0B,EAAOtkC,QAAQsd,GAAGxa,KAAKgN,MAE/DzF,KAAKq5B,eAAc,SAAUl0B,GAC3BqzB,EAAS32B,UACLN,GAAUA,EAAS4D,MAElBqzB,IAZLj3B,GAAYA,IACLG,QAAQG,aAalB,CACDhL,IAAK,gBACL4E,MAAO,SAAuB0uB,EAAM5oB,GAClC,IAAIi3B,EAAWzV,KACK,iBAAToH,IAAmBA,EAAO,CAACA,IACtC,IAAI+P,EAAYl6B,KAAKrK,QAAQyhC,SAAW,GACpC+C,EAAUhQ,EAAKthB,QAAO,SAAU6L,GAClC,OAAOwlB,EAAUhiC,QAAQwc,GAAO,KAGlC,OAAKylB,EAAQjlC,QAKb8K,KAAKrK,QAAQyhC,QAAU8C,EAAUxrB,OAAOyrB,GACxCn6B,KAAKq5B,eAAc,SAAUl0B,GAC3BqzB,EAAS32B,UACLN,GAAUA,EAAS4D,MAElBqzB,IATDj3B,GAAUA,IACPG,QAAQG,aAUlB,CACDhL,IAAK,MACL4E,MAAO,SAAaiZ,GAElB,GADKA,IAAKA,EAAM1U,KAAK84B,mBAAqB94B,KAAKyU,WAAazU,KAAKyU,UAAUvf,OAAS,EAAI8K,KAAKyU,UAAU,GAAKzU,KAAK+mB,YAC5GrS,EAAK,MAAO,MAEjB,MADc,CAAC,KAAM,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,KAAM,KAAM,KAAM,MAAO,MAAO,MAAO,MAAO,MAAO,KAAM,KAAM,MAAO,MAAO,MAAO,KAAM,KAAM,MAAO,MAAO,MAAO,KAAM,MAAO,MAAO,MAAO,MAAO,KAAM,MAAO,OACjaxc,QAAQ8H,KAAKgV,SAASqV,cAAc4D,wBAAwBvZ,KAAS,EAAI,MAAQ,QAEjG,CACD7d,IAAK,iBACL4E,MAAO,WACL,IAAI9F,EAAUqB,UAAU9B,OAAS,QAAsBwC,IAAjBV,UAAU,GAAmBA,UAAU,GAAK,GAC9EuK,EAAWvK,UAAU9B,OAAS,EAAI8B,UAAU,QAAKU,EACrD,OAAO,IAAIigC,EAAKhiC,EAAS4L,KAE1B,CACD1K,IAAK,gBACL4E,MAAO,WACL,IAAI2+B,EAASp6B,KAETrK,EAAUqB,UAAU9B,OAAS,QAAsBwC,IAAjBV,UAAU,GAAmBA,UAAU,GAAK,GAC9EuK,EAAWvK,UAAU9B,OAAS,QAAsBwC,IAAjBV,UAAU,GAAmBA,UAAU,GAAKygC,GAE/E4C,EAAgB/X,GAAc,GAAItiB,KAAKrK,QAASA,EAAS,CAC3DkiC,SAAS,IAGP/tB,EAAQ,IAAI6tB,EAAK0C,GACjBC,EAAgB,CAAC,QAAS,WAAY,YAqB1C,OApBAA,EAAcp8B,SAAQ,SAAUilB,GAC9BrZ,EAAMqZ,GAAKiX,EAAOjX,MAEpBrZ,EAAMkL,SAAWsN,GAAc,GAAItiB,KAAKgV,UACxClL,EAAMkL,SAASuX,MAAQ,CACrBC,mBAAoB1iB,EAAM0iB,mBAAmB5qB,KAAKkI,IAEpDA,EAAM4c,WAAa,IAAIG,GAAW/c,EAAMkL,SAAUlL,EAAMnU,SACxDmU,EAAM4c,WAAWrS,GAAG,KAAK,SAAUzX,GACjC,IAAK,IAAIqlB,EAAQjrB,UAAU9B,OAAQ0S,EAAO,IAAIpN,MAAMynB,EAAQ,EAAIA,EAAQ,EAAI,GAAIC,EAAQ,EAAGA,EAAQD,EAAOC,IACxGta,EAAKsa,EAAQ,GAAKlrB,UAAUkrB,GAG9BpY,EAAM6b,KAAKpW,MAAMzF,EAAO,CAAClN,GAAO8R,OAAO9G,OAEzCkC,EAAMxC,KAAK+yB,EAAe94B,GAC1BuI,EAAM4c,WAAW/wB,QAAUmU,EAAMnU,QACjCmU,EAAM4c,WAAWzR,iBAAiBD,SAASuX,MAAQ,CACjDC,mBAAoB1iB,EAAM0iB,mBAAmB5qB,KAAKkI,IAE7CA,IAER,CACDjT,IAAK,SACL4E,MAAO,WACL,MAAO,CACL9F,QAASqK,KAAKrK,QACd0hB,MAAOrX,KAAKqX,MACZ0P,SAAU/mB,KAAK+mB,SACftS,UAAWzU,KAAKyU,UAChBqkB,iBAAkB94B,KAAK84B,sBAKtBnB,EA9jBE,CA+jBTnV,IAIF+X,GAFc,IAAI7C,GCxjFlB,MAAMvY,GAAK,CAETtb,UACSwT,EAAP,OAAO,QAAAA,EAAAA,GAAMxT,aAANwT,IAAAA,OAAAA,EAAAA,EAAa8H,IAGlBpgB,eACKsY,EAAAmjB,EAAP,OAAO,QAAAnjB,EAAAA,GAAMxT,aAANwT,IAAAA,GAAA,QAAAmjB,EAAAnjB,EAAa8H,UAAb9H,IAAAmjB,OAAAnjB,EAAAmjB,EAAiBz7B,MAGtB07B,eACKpjB,EAAAqjB,EAAAC,EAAP,OAAO,QAAAtjB,EAAAA,GAAMxT,aAANwT,IAAAA,GAAA,QAAAqjB,EAAArjB,EAAa8H,UAAb9H,IAAAqjB,GAAA,QAAAC,EAAAD,EAAiB37B,YAAjBsY,IAAAsjB,OAAAtjB,EAAAsjB,EAAuBF,MAG5BG,iBACKvjB,EAAAwjB,EAAP,OAAO,QAAAxjB,EAAAA,GAAMxT,aAANwT,IAAAA,GAAA,QAAAwjB,EAAAxjB,EAAa8H,UAAb9H,IAAAwjB,OAAAxjB,EAAAwjB,EAAiBD,QAGtBzlC,aACKkiB,EAAAyjB,EAAP,OAAO,QAAAzjB,EAAAA,GAAMxT,aAANwT,IAAAA,GAAA,QAAAyjB,EAAAzjB,EAAa8H,UAAb9H,IAAAyjB,OAAAzjB,EAAAyjB,EAAiB3lC,IAGtB4lC,iBACK1jB,EAAA2jB,EAAP,OAAO,QAAA3jB,EAAAA,GAAMxT,aAANwT,IAAAA,GAAA,QAAA2jB,EAAA3jB,EAAa8H,UAAb9H,IAAA2jB,OAAA3jB,EAAA2jB,EAAiBD,QAG1BE,aAAa9lC,OACCkiB,EAAZ,IAAI6jB,EAAQ,QAAA7jB,EAAAA,GAAMxT,MAAN,cAAAwT,IAAAA,OAAAA,EAAAA,EAAuB+O,MAAK+U,GAAKA,EAAC,IAAUhmC,IACxD,OAAO+lC,EAAQA,EAAK,KAAW,IAGjC55B,OAAM,IACG8a,GAAKvY,IAAI,WAAW,GAAMlC,MAAK7B,QAWhBA,EAVpB,GAAKA,IAAMA,MAAAA,OAAAA,EAAAA,EAAG3K,IAWd,OAPAuM,QAAQ05B,IAAIt7B,EAAE86B,OAAOzwB,KAAIgxB,GAAK/e,GAAKvY,IAAL,eAAwBs3B,EAAEhmC,MAAMwM,MAAKu5B,GAASA,OAASv5B,MACnFi5B,IACE96B,EAAE86B,OAASA,EACXvjB,GAAM0H,SAAS,YAAa/pB,OAAOmB,OAAO,CAACinB,QAAQ,GAAOtd,OAG9DoU,GAAKwkB,eAAe54B,MAAAA,GAAA,QAAAA,EAAAA,EAAGf,YAAHe,IAAAA,OAAAA,EAAAA,EAAS26B,MACtB36B,EAVLuX,GAAM0H,SAAS,SAAU,OAc/BtB,MAAK,IACCpG,GAAMxT,MAAN,OACK,IAAInC,SAAQ5B,GAAKA,EAAEuX,GAAMxT,SAE3Bsb,GAAG7d,SAGZ+5B,YAAYlmC,OACEkiB,EACMzZ,EADlB,IAAIA,EAAQ,QAAAyZ,EAAAA,GAAMxT,aAANwT,IAAAA,OAAAA,EAAAA,EAAa8H,GACzB,QAAI3kB,MAAMC,QAAQmD,MAAAA,GAAA,QAAAA,EAAAA,EAAOmB,YAAPnB,IAAAA,OAAAA,EAAAA,EAAa09B,YACtB19B,EAAMmB,KAAKu8B,UAAUtiC,MAAKuiC,GAAOA,IAAQpmC,KAKpDqmC,eAAermC,GACbkiB,GAAM0H,SAAS,kBAAmB5pB,IAGpCsmC,YAAYtmC,GACVkiB,GAAM0H,SAAS,eAAgB5pB,IAGjC4O,QACEsT,GAAM0H,SAAS,UAGjB2c,SACE54B,EAAQiB,QACRE,OAAO0V,SAASgiB,KAAO13B,OAAO0V,SAASC,gBAI3CgiB,GAAezc,GCtFfqH,GAAiBhxB,KAAKC,MAAM,w9GCA5B+wB,GAAiBhxB,KAAKC,MAAM,09HCA5B+wB,GAAiBhxB,KAAKC,MAAM,opHCA5B+wB,GAAiBhxB,KAAKC,MAAM,6jHCS5B,MAAMglC,GAAO,CACXoB,aAAc,CACZC,GAAI,UACJC,GAAI,UACJC,GAAI,WACJC,GAAI,aAEN30B,KAAI,KACF4M,GACGgoB,IAAIC,IACJ70B,KAAK,CACJse,UAAW,CACTkW,GAAI,CACFM,YAAaN,EAAAA,KAEfE,GAAI,CACFI,YAAaJ,EAAAA,KAEfC,GAAI,CACFG,YAAaH,EAAAA,KAEfF,GAAI,CACFK,YAAaL,EAAAA,MAGjBrnB,IAAK+lB,GAAK4B,iBACV1nB,YAAa8lB,GAAK6B,iBAClBtV,cAAe,CACbsK,aAAa,MAIrBgL,eAAc,KACX39B,SAAS49B,cAAc,oCAAsC,IAAIC,SAClE,KACFH,eAAc,IAAQld,GAAGsb,MAAQA,GAAK6B,kBCzCxC,MAAM5c,GAAgB,CAEpB7b,UACSwT,EAAP,OAAO,QAAAA,EAAAA,GAAMxT,aAANwT,IAAAA,OAAAA,EAAAA,EAAaqI,gBAAiB,IAGvCpe,OAAM,IACG8a,GAAKvY,IAAL,6BAAsClC,MAAK7B,IAChDuX,GAAM0H,SAAS,uBAAwBjf,MAI3ChD,MAAM3H,GACJ,IAAIyI,EAAQyZ,GAAMxT,MAClB,QAAIrJ,MAAMC,QAAQmD,EAAK,gBACdA,EAAM8hB,cAAc1mB,MACzByM,GACEia,GAAc+c,kBAAkBh3B,EAAGtQ,IACxB,eAAVsQ,EAAE9O,MAAyB8O,EAAEi3B,YAAYvnC,KAAOA,KAMzDwnC,yBACE,IAAI/+B,EAAQyZ,GAAMxT,MACdrJ,MAAMC,QAAQmD,EAAK,gBACrBA,EAAM8hB,cAAcxhB,SAAQuH,GAAK4R,GAAM0H,SAAS,uBAAwBtZ,MAI5Em3B,4BAA4BznC,GAC1B,IAAIyI,EAAQyZ,GAAMxT,MACdrJ,MAAMC,QAAQmD,EAAK,gBACrBA,EAAM8hB,cACH7W,QAAOpD,GAAKia,GAAc+c,kBAAkBh3B,EAAGtQ,KAC/C+I,SAAQuH,GAAK4R,GAAM0H,SAAS,uBAAwBtZ,MAI3Dg3B,kBAAiB,CAACI,EAAO1nC,IACnB0nC,EAAM1nC,KAAOA,GAGb0nC,EAAM7rB,SAAW7b,GC1CzB,MAAM2nC,GAAS,CAEbj5B,IAAG,IACMwT,GAAMxT,MAGXub,YACF,IACE,OAAO0d,GAAOC,cAAcpjB,SAASF,UAAU/jB,MAAM,GAAG4hB,MAAM,KAAK,GACnE,MACA,MAAO,KAIPniB,SACF,IACE,OAAO2nC,GAAOC,cAAcpjB,SAASF,UAAU/jB,MAAM,GAAG4hB,MAAM,KAAK,GACnE,MACA,MAAO,KAIP7P,aACF,IACE,OAAOq1B,GAAOC,cAAcpjB,SAASF,UAAU/jB,MAAM,GAAG4hB,MAAM,KAAK,GACnE,MACA,MAAO,KAIP+H,kBAEKhI,EAAP,OADA7D,QAAQrO,IAAI,qBACL,QAAAkS,EAAAA,GAAMxT,aAANwT,IAAAA,OAAAA,EAAAA,EAAagI,SAGlBE,aACF,OAAO5F,SAAS4F,OAAO7pB,MAAM,IAG/BsnC,UAAS,IACHF,GAAOG,SAASH,GAAO1d,OAClBhD,GAAKvY,IAAL,QAAiBi5B,GAAO1d,SAAS0d,GAAO3nC,MAE1CuM,QAAQG,QAAQ,MAGrB2d,iBAEKnI,EAAP,OADA7D,QAAQrO,IAAI,oBACL,QAAAkS,EAAAA,GAAMxT,aAANwT,IAAAA,OAAAA,EAAAA,EAAamI,QAGtBud,cAAe1Z,GACbA,EAAOA,EAAKnnB,QAAQ,IAAIqrB,OAAJ,IAAe1O,GAAKU,gBAAiB,IAAM,GAEjE2jB,SAAQ,CAAGC,EAAOC,EAAen5B,OAAO0V,SAAS4F,OAAOmI,UAAU,MAChE,IAAI7J,EAAMuf,EAAa9lB,MAAM,KAAK8O,MAAK3pB,GAAKA,EAAE6a,MAAM,KAAK,KAAO6lB,IAChE,OAAOtf,EAAMwf,mBAAmBxf,EAAIvG,MAAM,KAAK,IAAM,IAGvDgmB,YAAW,IACPR,GACCC,cAAc94B,OAAO0V,SAASF,UAC9B/jB,MAAM,GACN4hB,MAAM,KAAK,GACXA,MAAM,KAGXimB,UAAS,IACP,CACE,QACA,iBACA,SACA,aACA,2BACA,UACAte,SAAS6d,GAAO1d,OAAS0d,GAAOQ,cAAc,IAElDL,SAAQ,IAAQ,CAAC,WAAY,SAAU,QAAS,QAAS,SAAShe,SAAS6d,GAAOQ,cAAc,IAEhGE,iBAAkBzkB,IAChB,IAAI0kB,EAAa,GAYjB,OAXI1kB,IACF0kB,EAAW1kB,IAAM,IAAIC,IAAID,GACzB0kB,EAAWpa,KAAOoa,EAAW1kB,IAAIU,SACjCgkB,EAAWle,OAASke,EAAW1kB,IAAIwG,OAAO7pB,MAAM,IAC/C+nC,EAAWre,MAAOqe,EAAWtoC,GAAIsoC,EAAWh2B,QAAUq1B,GACpDC,cAAcU,EAAWpa,MACzB3tB,MAAM,GACN4hB,MAAM,MAEXmmB,EAAWne,WAAa,GACxBme,EAAWpe,QAAU,GACdoe,ICvFJ,MAAM17B,GAAQ27B,EACRjf,GAAMkf,GACNvhB,GAAOwhB,GACPnD,GHiCEA,GGhCFtb,GAAK0e,GACLne,GFuCEA,GEtCFod,GDoFEA,GCnFFh6B,GAAUg7B,EACVjlB,GAAOklB,eCjBmBrd,EAAUC,GAC/CD,EAASljB,UAAYxI,OAAO4rB,OAAOD,EAAWnjB,WAC9CkjB,EAASljB,UAAU5F,YAAc8oB,EACjCD,GAAeC,EAAUC,wBCWzB,OAdAqd,GAAWhpC,OAAOmB,QAAU,SAAU6a,GACpC,IAAK,IAAI/b,EAAI,EAAGA,EAAI+B,UAAU9B,OAAQD,IAAK,CACzC,IAAIyc,EAAS1a,UAAU/B,GAEvB,IAAK,IAAI4B,KAAO6a,EACV1c,OAAOwI,UAAU2F,eAAelM,KAAKya,EAAQ7a,KAC/Cma,EAAOna,GAAO6a,EAAO7a,IAK3B,OAAOma,GAGFgtB,GAASzuB,MAAMvP,KAAMhJ,oBCfrBinC,GAAWxkB,GAClB,MAA8B,MAAvBA,EAAS4T,OAAO,YAIhB6Q,GAAUhyB,EAAMnF,GACvB,IAAK,IAAI9R,EAAI8R,EAAO/D,EAAI/N,EAAI,EAAGwQ,EAAIyG,EAAKhX,OAAQ8N,EAAIyC,EAAGxQ,GAAK,EAAG+N,GAAK,EAClEkJ,EAAKjX,GAAKiX,EAAKlJ,GAGjBkJ,EAAKR,wCCHP,uCAISyyB,cACAC,KACTA,EAAuBC,kBAAoBF,EAE3C3X,EAAAjW,QAAiB,oBACN+tB,EAAKjoC,EAAOkoC,EAAUC,EAAe7kB,EAAU8kB,EAAcC,GACpE,GAAIA,IAAWC,EAAf,CAIA,IAAIx5B,EAAM,IAAI9P,MACZ,mLAKF,MADA8P,EAAItJ,KAAO,sBACLsJ,YAGCy5B,IACP,OAAON,EAFTA,EAAKO,WAAaP,EAMlB,IAAIQ,EAAiB,CACnBC,MAAOT,EACPzc,KAAMyc,EACNU,KAAMV,EACN1N,OAAQ0N,EACRntB,OAAQmtB,EACRnlB,OAAQmlB,EACRW,OAAQX,EAERY,IAAKZ,EACLa,QAASP,EACTrwB,QAAS+vB,EACTc,YAAad,EACbe,WAAYT,EACZroC,KAAM+nC,EACNgB,SAAUV,EACVW,MAAOX,EACPY,UAAWZ,EACXa,MAAOb,EACPc,MAAOd,EAEPe,eAAgBvB,EAChBC,kBAAmBF,GAKrB,OAFAW,EAAec,UAAYd,EAEpBA,wCCvDT,aAIAtY,EAAAjW,QAF2B,kDCQzBsvB,GAAiBvqC,EAAA,QAAA,OHyDnBwqC,YA5DyBC,EAAIp6B,QACdjO,IAATiO,IAAoBA,EAAO,IAE/B,IAkBIq6B,EAlBAC,EAAWF,GAAMA,EAAGzoB,MAAM,MAAS,GACnC4oB,EAAav6B,GAAQA,EAAK2R,MAAM,MAAS,GAEzC6oB,EAAUJ,GAAM9B,GAAW8B,GAC3BK,EAAYz6B,GAAQs4B,GAAWt4B,GAC/B06B,EAAaF,GAAWC,EAW5B,GATIL,GAAM9B,GAAW8B,GAEnBG,EAAYD,EACHA,EAAQ/qC,SAEjBgrC,EAAUx0B,MACVw0B,EAAYA,EAAUxxB,OAAOuxB,KAG1BC,EAAUhrC,OAAQ,MAAO,IAG9B,GAAIgrC,EAAUhrC,OAAQ,CACpB,IAAIorC,EAAOJ,EAAUA,EAAUhrC,OAAS,GACxC8qC,EAA4B,MAATM,GAAyB,OAATA,GAA0B,KAATA,OAEpDN,GAAmB,EAIrB,IADA,IAAIO,EAAK,EACAtrC,EAAIirC,EAAUhrC,OAAQD,GAAK,EAAGA,IAAK,CAC1C,IAAI44B,EAAOqS,EAAUjrC,GAER,MAAT44B,EACFqQ,GAAUgC,EAAWjrC,GACH,OAAT44B,GACTqQ,GAAUgC,EAAWjrC,GACrBsrC,KACSA,IACTrC,GAAUgC,EAAWjrC,GACrBsrC,KAIJ,IAAKF,EAAY,KAAOE,KAAUL,EAAUM,QAAQ,OAGlDH,GACiB,KAAjBH,EAAU,IACRA,EAAU,IAAOjC,GAAWiC,EAAU,KAExCA,EAAUM,QAAQ,IAEpB,IAAIhb,EAAS0a,EAAU3oB,KAAK,KAI5B,OAFIyoB,GAA0C,MAAtBxa,EAAOib,QAAO,KAAajb,GAAU,KAEtDA,YIvEAkb,GAAQtqC,GACf,OAAOA,EAAIuqC,QAAUvqC,EAAIuqC,UAAY3rC,OAAOwI,UAAUmjC,QAAQ1pC,KAAKb,OAkCrEwqC,YA/BSC,EAAW/nC,EAAGC,GAErB,GAAID,IAAMC,EAAG,OAAO,EAGpB,GAAS,MAALD,GAAkB,MAALC,EAAW,OAAO,EAEnC,GAAIyB,MAAMC,QAAQ3B,GAChB,OACE0B,MAAMC,QAAQ1B,IACdD,EAAE5D,SAAW6D,EAAE7D,QACf4D,EAAE2d,OAAM,SAASqqB,EAAM/5B,GACrB,OAAO85B,EAAWC,EAAM/nC,EAAEgO,OAKhC,GAAiB,iBAANjO,GAA+B,iBAANC,EAAgB,CAClD,IAAIgoC,EAASL,GAAQ5nC,GACjBkoC,EAASN,GAAQ3nC,GAErB,OAAIgoC,IAAWjoC,GAAKkoC,IAAWjoC,EAAU8nC,EAAWE,EAAQC,GAErDhsC,OAAOD,KAAKC,OAAOmB,OAAO,GAAI2C,EAAGC,IAAI0d,OAAM,SAAS5f,GACzD,OAAOgqC,EAAW/nC,EAAEjC,GAAMkC,EAAElC,OAIhC,OAAO,GC/BLoqC,GAAS,uBAWbC,YAVmBC,EAAW7iB,GAC1B,IAAI6iB,EAIA,MAAM,IAAI9rC,MAAM4rC,cCDfG,GAAgB/d,GACvB,MAA0B,MAAnBA,EAAKgK,OAAO,GAAahK,EAAO,IAAMA,WAEtCge,GAAkBhe,GACzB,MAA0B,MAAnBA,EAAKgK,OAAO,GAAahK,EAAKod,OAAO,GAAKpd,WAK1Cie,GAAcje,EAAM3B,GAC3B,gBAJmB2B,EAAM3B,GACzB,OAA4D,IAArD2B,EAAKlnB,cAAcjE,QAAQwpB,EAAOvlB,iBAAsE,IAA9C,MAAMjE,QAAQmrB,EAAKgK,OAAO3L,EAAOxsB,SAG3FqsC,CAAYle,EAAM3B,GAAU2B,EAAKod,OAAO/e,EAAOxsB,QAAUmuB,WAEzDme,GAAmBne,GAC1B,MAAwC,MAAjCA,EAAKgK,OAAOhK,EAAKnuB,OAAS,GAAamuB,EAAK3tB,MAAM,GAAG,GAAM2tB,WA0B3Doe,GAAW9nB,GAClB,IAAIF,EAAWE,EAASF,SACpB8F,EAAS5F,EAAS4F,OAClB/c,EAAOmX,EAASnX,KAChB6gB,EAAO5J,GAAY,IAGvB,OAFI8F,GAAqB,MAAXA,IAAgB8D,GAA6B,MAArB9D,EAAO8N,OAAO,GAAa9N,EAAS,IAAMA,GAC5E/c,GAAiB,MAATA,IAAc6gB,GAA2B,MAAnB7gB,EAAK6qB,OAAO,GAAa7qB,EAAO,IAAMA,GACjE6gB,WAGAqe,GAAere,EAAMzlB,EAAO/G,EAAK8qC,GACxC,IAAIhoB,EAEgB,iBAAT0J,GAET1J,WAvCe0J,GACjB,IAAI5J,EAAW4J,GAAQ,IACnB9D,EAAS,GACT/c,EAAO,GACPo/B,EAAYnoB,EAASvhB,QAAQ,MAEf,IAAd0pC,IACFp/B,EAAOiX,EAASgnB,OAAOmB,GACvBnoB,EAAWA,EAASgnB,OAAO,EAAGmB,IAGhC,IAAIC,EAAcpoB,EAASvhB,QAAQ,KAOnC,OALoB,IAAhB2pC,IACFtiB,EAAS9F,EAASgnB,OAAOoB,GACzBpoB,EAAWA,EAASgnB,OAAO,EAAGoB,IAGzB,CACLpoB,SAAUA,EACV8F,OAAmB,MAAXA,EAAiB,GAAKA,EAC9B/c,KAAe,MAATA,EAAe,GAAKA,GAkBfs/B,CAAUze,GACrB1J,EAAS/b,MAAQA,SAISlG,KAD1BiiB,EAAWqkB,GAAS,GAAI3a,IACX5J,WAAwBE,EAASF,SAAW,IAErDE,EAAS4F,OACuB,MAA9B5F,EAAS4F,OAAO8N,OAAO,KAAY1T,EAAS4F,OAAS,IAAM5F,EAAS4F,QAExE5F,EAAS4F,OAAS,GAGhB5F,EAASnX,KACqB,MAA5BmX,EAASnX,KAAK6qB,OAAO,KAAY1T,EAASnX,KAAO,IAAMmX,EAASnX,MAEpEmX,EAASnX,KAAO,QAGJ9K,IAAVkG,QAA0ClG,IAAnBiiB,EAAS/b,QAAqB+b,EAAS/b,MAAQA,IAG5E,IACE+b,EAASF,SAAWsoB,UAAUpoB,EAASF,UACvC,MAAOhd,GACP,MAAIA,aAAaulC,SACT,IAAIA,SAAS,aAAeroB,EAASF,SAAxB,iFAEbhd,EAoBV,OAhBI5F,IAAK8iB,EAAS9iB,IAAMA,GAEpB8qC,EAEGhoB,EAASF,SAE6B,MAAhCE,EAASF,SAAS4T,OAAO,KAClC1T,EAASF,SAAWqmB,GAAgBnmB,EAASF,SAAUkoB,EAAgBloB,WAFvEE,EAASF,SAAWkoB,EAAgBloB,SAMjCE,EAASF,WACZE,EAASF,SAAW,KAIjBE,WAMAsoB,KACP,IAAIC,EAAS,KAiCb,IAAIC,EAAY,GA4BhB,MAAO,CACLC,mBA5DiBC,GAGjB,OADAH,EAASG,EACF,WACDH,IAAWG,IAAYH,EAAS,QAyDtCI,6BArD2B3oB,EAAUlS,EAAQ86B,EAAqBhhC,GAIlE,GAAc,MAAV2gC,EAAgB,CAClB,IAAI1c,EAA2B,mBAAX0c,EAAwBA,EAAOvoB,EAAUlS,GAAUy6B,EAEjD,iBAAX1c,EAC0B,mBAAxB+c,EACTA,EAAoB/c,EAAQjkB,GAG5BA,GAAS,GAIXA,GAAoB,IAAXikB,QAGXjkB,GAAS,IAmCXihC,wBA7BsB54B,GACtB,IAAI64B,GAAW,WAEN9f,IACH8f,GAAU74B,EAAG2F,WAAM,EAAQvY,WAIjC,OADAmrC,EAAU1pC,KAAKkqB,GACR,WACL8f,GAAW,EACXN,EAAYA,EAAUt5B,QAAO,SAAUi4B,GACrC,OAAOA,IAASne,OAmBpB+f,2BAbA,IAAK,IAAI/uB,EAAO3c,UAAU9B,OAAQ0S,EAAO,IAAIpN,MAAMmZ,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAC/EhM,EAAKgM,GAAQ5c,UAAU4c,GAGzBuuB,EAAUjkC,SAAQ,SAAUykB,GAC1B,OAAOA,EAASpT,WAAM,EAAQ3H,QAYpC,IAAI+6B,KAAiC,oBAAX1+B,SAA0BA,OAAOtF,WAAYsF,OAAOtF,SAASjI,wBAC9EksC,GAAgBtkB,EAAS/c,GAChCA,EAAS0C,OAAO4+B,QAAQvkB,IAwC1B,IAAIwkB,GAAgB,WAChBC,GAAkB,sBAEbC,KACP,IACE,OAAO/+B,OAAOg/B,QAAQrlC,OAAS,GAC/B,MAAOnB,GAGP,MAAO,IAMR,SAGMymC,GAAqB7sC,QACd,IAAVA,IACFA,EAAQ,KAGTssC,IAAsGzB,IAAU,GACjH,IArDIiC,EAqDAC,EAAgBn/B,OAAOg/B,QACvBI,IArD8B,KAD9BF,EAAKl/B,OAAOygB,UAAUC,WAClBzsB,QAAQ,gBAAsD,IAA9BirC,EAAGjrC,QAAQ,iBAA0D,IAAhCirC,EAAGjrC,QAAQ,mBAAoD,IAAzBirC,EAAGjrC,QAAQ,YAAoD,IAAhCirC,EAAGjrC,QAAQ,mBACtJ+L,OAAOg/B,SAAW,cAAeh/B,OAAOg/B,QAqD3CK,KA7CqD,IAAlDr/B,OAAOygB,UAAUC,UAAUzsB,QAAQ,YA8CtC2I,EAASxK,EACTktC,EAAsB1iC,EAAO2iC,aAC7BA,OAAuC,IAAxBD,GAAyCA,EACxDE,EAAwB5iC,EAAO0hC,oBAC/BA,OAAgD,IAA1BkB,EAAmCb,GAAkBa,EAC3EC,EAAmB7iC,EAAO8iC,UAC1BA,OAAiC,IAArBD,EAA8B,EAAIA,EAC9CE,EAAWvtC,EAAMutC,SAAWpC,GAAmBJ,GAAgB/qC,EAAMutC,WAAa,YAE7EC,EAAeC,GACtB,IAAIpuB,EAAOouB,GAAgB,GACvBjtC,EAAM6e,EAAK7e,IACX+G,EAAQ8X,EAAK9X,MAEbmmC,EAAmB9/B,OAAO0V,SAI1B0J,EAHW0gB,EAAiBtqB,SACnBsqB,EAAiBxkB,OACnBwkB,EAAiBvhC,KAI5B,OADIohC,IAAUvgB,EAAOie,GAAcje,EAAMugB,IAClClC,GAAere,EAAMzlB,EAAO/G,YAG5BmtC,IACP,OAAO5qB,KAAKW,SAASrU,SAAS,IAAI+6B,OAAO,EAAGkD,GAG9C,IAAIM,EAAoBhC,cAEf7gC,EAAS8iC,GAChBlG,GAASiF,EAASiB,GAElBjB,EAAQ/tC,OAASkuC,EAAcluC,OAC/B+uC,EAAkBvB,gBAAgBO,EAAQtpB,SAAUspB,EAAQx7B,iBAGrD08B,EAAevnC,IAtEvB,SAEgCA,GACjC,YAAuBlF,IAAhBkF,EAAMgB,QAAgE,IAAzC8mB,UAAUC,UAAUzsB,QAAQ,UAqE1DksC,CAA0BxnC,IAC9BynC,EAAUR,EAAejnC,EAAMgB,iBAGxB0mC,IACPD,EAAUR,EAAeb,OAG3B,IAAIuB,GAAe,WAEVF,EAAU1qB,GACjB,GAAI4qB,EACFA,GAAe,EACfnjC,QACK,CAEL6iC,EAAkB3B,oBAAoB3oB,EADzB,MAC2C4oB,GAAqB,SAAUzkB,GACjFA,EACF1c,EAAS,CACPqG,OAJO,MAKPkS,SAAUA,aASD6qB,GACjB,IAAIC,EAAaxB,EAAQtpB,SAIrB+qB,EAAUC,EAAQzsC,QAAQusC,EAAW5tC,MACzB,IAAZ6tC,IAAgBA,EAAU,GAC9B,IAAIE,EAAYD,EAAQzsC,QAAQssC,EAAa3tC,MAC3B,IAAd+tC,IAAkBA,EAAY,GAClC,IAAIC,EAAQH,EAAUE,EAElBC,IACFN,GAAe,EACfO,EAAGD,IAnBCE,CAAUprB,OAuBlB,IAAIqrB,EAAkBnB,EAAeb,MACjC2B,EAAU,CAACK,EAAgBnuC,cAEtBouC,EAAWtrB,GAClB,OAAOiqB,EAAWnC,GAAW9nB,YAuEtBmrB,EAAGr/B,GACV29B,EAAc0B,GAAGr/B,GAWnB,IAAIy/B,EAAgB,WAEXC,EAAkBN,GAGH,KAFtBK,GAAiBL,IAEoB,IAAVA,GACzB5gC,OAAO5H,iBAAiBymC,GAAeqB,GACnCb,GAAyBr/B,OAAO5H,iBAAiB0mC,GAAiBuB,IAC3C,IAAlBY,IACTjhC,OAAOzH,oBAAoBsmC,GAAeqB,GACtCb,GAAyBr/B,OAAOzH,oBAAoBumC,GAAiBuB,IAI7E,IAAIc,GAAY,EAiChB,IAAInC,EAAU,CACZ/tC,OAAQkuC,EAAcluC,OACtBuS,OAAQ,MACRkS,SAAUqrB,EACVC,WAAYA,EACZxsC,cApIY4qB,EAAMzlB,GAElB,IAAI6J,EAAS,OACTkS,EAAW+nB,GAAere,EAAMzlB,EAAOomC,IAAaf,EAAQtpB,UAChEsqB,EAAkB3B,oBAAoB3oB,EAAUlS,EAAQ86B,GAAqB,SAAUzkB,GACrF,GAAKA,EAAL,CACA,IAAI6d,EAAOsJ,EAAWtrB,GAClB9iB,EAAM8iB,EAAS9iB,IACf+G,EAAQ+b,EAAS/b,MAErB,GAAIylC,EAMF,GALAD,EAAciC,UAAU,CACtBxuC,IAAKA,EACL+G,MAAOA,GACN,KAAM+9B,GAEL6H,EACFv/B,OAAO0V,SAASgiB,KAAOA,MAClB,CACL,IAAI2J,EAAYX,EAAQzsC,QAAQ+qC,EAAQtpB,SAAS9iB,KAC7C0uC,EAAWZ,EAAQjvC,MAAM,EAAG4vC,EAAY,GAC5CC,EAAS9sC,KAAKkhB,EAAS9iB,KACvB8tC,EAAUY,EACVnkC,EAAS,CACPqG,OAAQA,EACRkS,SAAUA,SAKd1V,OAAO0V,SAASgiB,KAAOA,OAuG3Bz/B,iBAlGemnB,EAAMzlB,GAErB,IAAI6J,EAAS,UACTkS,EAAW+nB,GAAere,EAAMzlB,EAAOomC,IAAaf,EAAQtpB,UAChEsqB,EAAkB3B,oBAAoB3oB,EAAUlS,EAAQ86B,GAAqB,SAAUzkB,GACrF,GAAKA,EAAL,CACA,IAAI6d,EAAOsJ,EAAWtrB,GAClB9iB,EAAM8iB,EAAS9iB,IACf+G,EAAQ+b,EAAS/b,MAErB,GAAIylC,EAMF,GALAD,EAAcoC,aAAa,CACzB3uC,IAAKA,EACL+G,MAAOA,GACN,KAAM+9B,GAEL6H,EACFv/B,OAAO0V,SAASzd,QAAQy/B,OACnB,CACL,IAAI2J,EAAYX,EAAQzsC,QAAQ+qC,EAAQtpB,SAAS9iB,MAC/B,IAAdyuC,IAAkBX,EAAQW,GAAa3rB,EAAS9iB,KACpDuK,EAAS,CACPqG,OAAQA,EACRkS,SAAUA,SAKd1V,OAAO0V,SAASzd,QAAQy/B,QAuE5BmJ,GAAIA,EACJW,kBA9DAX,GAAG,IA+DHY,qBA3DAZ,EAAG,IA4DHa,eAzCazD,QACE,IAAXA,IACFA,GAAS,GAGX,IAAI0D,EAAU3B,EAAkB7B,UAAUF,GAO1C,OALKkD,IACHD,EAAkB,GAClBC,GAAY,GAGP,WAML,OALIA,IACFA,GAAY,EACZD,GAAkB,IAGbS,MAwBTC,gBApBcljB,GACd,IAAImjB,EAAW7B,EAAkBzB,eAAe7f,GAEhD,OADAwiB,EAAkB,GACX,WACLA,GAAkB,GAClBW,OAiBJ,OAAO7C,EAGT,IAAI8C,GAAoB,aACpBC,GAAiB,CACnBC,SAAU,CACRC,WAAY,SAAoB7iB,GAC9B,MAA0B,MAAnBA,EAAKgK,OAAO,GAAahK,EAAO,KAAOge,GAAkBhe,IAElE8iB,WAAY,SAAoB9iB,GAC9B,MAA0B,MAAnBA,EAAKgK,OAAO,GAAahK,EAAKod,OAAO,GAAKpd,IAGrD+iB,QAAS,CACPF,WAAY7E,GACZ8E,WAAY/E,IAEdiF,MAAO,CACLH,WAAY9E,GACZ+E,WAAY/E,cAIPkF,GAAUvtB,GACjB,IAAI6oB,EAAY7oB,EAAI7gB,QAAQ,KAC5B,OAAqB,IAAd0pC,EAAmB7oB,EAAMA,EAAIrjB,MAAM,EAAGksC,YAGtC2E,KAGP,IAAI5K,EAAO13B,OAAO0V,SAASgiB,KACvBiG,EAAYjG,EAAKzjC,QAAQ,KAC7B,OAAqB,IAAd0pC,EAAmB,GAAKjG,EAAKjU,UAAUka,EAAY,YAOnD4E,GAAgBnjB,GACvBpf,OAAO0V,SAASzd,QAAQoqC,GAAUriC,OAAO0V,SAASgiB,MAAQ,IAAMtY,YAGzDojB,GAAkBpwC,QACX,IAAVA,IACFA,EAAQ,KAGTssC,IAAmGzB,IAAU,GAC9G,IAAIkC,EAAgBn/B,OAAOg/B,QAEvBpiC,GAnUGoD,OAAOygB,UAAUC,UAAUzsB,QAAQ,WAmU7B7B,GACTotC,EAAwB5iC,EAAO0hC,oBAC/BA,OAAgD,IAA1BkB,EAAmCb,GAAkBa,EAC3EiD,EAAkB7lC,EAAO8lC,SACzBA,OAA+B,IAApBD,EAA6B,QAAUA,EAClD9C,EAAWvtC,EAAMutC,SAAWpC,GAAmBJ,GAAgB/qC,EAAMutC,WAAa,GAClFgD,EAAwBZ,GAAeW,GACvCT,EAAaU,EAAsBV,WACnCC,EAAaS,EAAsBT,oBAE9BtC,IACP,IAAIxgB,EAAO8iB,EAAWI,MAGtB,OADI3C,IAAUvgB,EAAOie,GAAcje,EAAMugB,IAClClC,GAAere,GAGxB,IAAI4gB,EAAoBhC,cAEf7gC,EAAS8iC,GAChBlG,GAASiF,EAASiB,GAElBjB,EAAQ/tC,OAASkuC,EAAcluC,OAC/B+uC,EAAkBvB,gBAAgBO,EAAQtpB,SAAUspB,EAAQx7B,QAG9D,IAAI88B,GAAe,EACfsC,EAAa,cAMRvC,IACP,IAL4BxrC,EAAGC,EAK3BsqB,EAAOkjB,KACPO,EAAcZ,EAAW7iB,GAE7B,GAAIA,IAASyjB,EAEXN,GAAgBM,OACX,CACL,IAAIntB,EAAWkqB,IACXkD,EAAe9D,EAAQtpB,SAC3B,IAAK4qB,IAdwBxrC,EAc2B4gB,GAd9B7gB,EAcgBiuC,GAbnCttB,WAAa1gB,EAAE0gB,UAAY3gB,EAAEymB,SAAWxmB,EAAEwmB,QAAUzmB,EAAE0J,OAASzJ,EAAEyJ,MAaL,OAEnE,GAAIqkC,IAAepF,GAAW9nB,GAAW,OAEzCktB,EAAa,cAKEltB,GACjB,GAAI4qB,EACFA,GAAe,EACfnjC,QACK,CACL,IAAIqG,EAAS,MACbw8B,EAAkB3B,oBAAoB3oB,EAAUlS,EAAQ86B,GAAqB,SAAUzkB,GACjFA,EACF1c,EAAS,CACPqG,OAAQA,EACRkS,SAAUA,aASD6qB,GACjB,IAAIC,EAAaxB,EAAQtpB,SAIrB+qB,EAAUsC,EAASC,YAAYxF,GAAWgD,KAC9B,IAAZC,IAAgBA,EAAU,GAC9B,IAAIE,EAAYoC,EAASC,YAAYxF,GAAW+C,KAC9B,IAAdI,IAAkBA,EAAY,GAClC,IAAIC,EAAQH,EAAUE,EAElBC,IACFN,GAAe,EACfO,EAAGD,IAnBCE,CAAUprB,OAjBd0qB,CAAU1qB,IAyCd,IAAI0J,EAAOkjB,KACPO,EAAcZ,EAAW7iB,GACzBA,IAASyjB,GAAaN,GAAgBM,GAC1C,IAAI9B,EAAkBnB,IAClBmD,EAAW,CAACvF,GAAWuD,aAuElBF,EAAGr/B,GAEV29B,EAAc0B,GAAGr/B,GAWnB,IAAIy/B,EAAgB,WAEXC,EAAkBN,GAGH,KAFtBK,GAAiBL,IAEoB,IAAVA,EACzB5gC,OAAO5H,iBAAiB0pC,GAAmBzB,GAChB,IAAlBY,GACTjhC,OAAOzH,oBAAoBupC,GAAmBzB,GAIlD,IAAIc,GAAY,EAiChB,IAAInC,EAAU,CACZ/tC,OAAQkuC,EAAcluC,OACtBuS,OAAQ,MACRkS,SAAUqrB,EACVC,oBAnIkBtrB,GAClB,IAAIutB,EAAUvoC,SAAS49B,cAAc,QACjCZ,EAAO,GAMX,OAJIuL,GAAWA,EAAQC,aAAa,UAClCxL,EAAO2K,GAAUriC,OAAO0V,SAASgiB,OAG5BA,EAAO,IAAMuK,EAAWtC,EAAWnC,GAAW9nB,KA4HrDlhB,cAzHY4qB,EAAMzlB,GAElB,IAAI6J,EAAS,OACTkS,EAAW+nB,GAAere,OAAM3rB,OAAWA,EAAWurC,EAAQtpB,UAClEsqB,EAAkB3B,oBAAoB3oB,EAAUlS,EAAQ86B,GAAqB,SAAUzkB,GACrF,GAAKA,EAAL,CACA,IAAIuF,EAAOoe,GAAW9nB,GAClBmtB,EAAcZ,EAAWtC,EAAWvgB,GAGxC,GAFkBkjB,OAAkBO,EAEnB,CAIfD,EAAaxjB,WAxICA,GACpBpf,OAAO0V,SAASnX,KAAO6gB,EAwIjB+jB,CAAaN,GACb,IAAIxB,EAAY0B,EAASC,YAAYxF,GAAWwB,EAAQtpB,WACpD0tB,EAAYL,EAAStxC,MAAM,EAAG4vC,EAAY,GAC9C+B,EAAU5uC,KAAK4qB,GACf2jB,EAAWK,EACXjmC,EAAS,CACPqG,OAAQA,EACRkS,SAAUA,SAIZvY,SAgGJlF,iBA3FemnB,EAAMzlB,GAErB,IAAI6J,EAAS,UACTkS,EAAW+nB,GAAere,OAAM3rB,OAAWA,EAAWurC,EAAQtpB,UAClEsqB,EAAkB3B,oBAAoB3oB,EAAUlS,EAAQ86B,GAAqB,SAAUzkB,GACrF,GAAKA,EAAL,CACA,IAAIuF,EAAOoe,GAAW9nB,GAClBmtB,EAAcZ,EAAWtC,EAAWvgB,GACtBkjB,OAAkBO,IAMlCD,EAAaxjB,EACbmjB,GAAgBM,IAGlB,IAAIxB,EAAY0B,EAAS9uC,QAAQupC,GAAWwB,EAAQtpB,YAClC,IAAd2rB,IAAkB0B,EAAS1B,GAAajiB,GAC5CjiB,EAAS,CACPqG,OAAQA,EACRkS,SAAUA,SAsEdmrB,GAAIA,EACJW,kBA5DAX,GAAG,IA6DHY,qBAzDAZ,EAAG,IA0DHa,eAzCazD,QACE,IAAXA,IACFA,GAAS,GAGX,IAAI0D,EAAU3B,EAAkB7B,UAAUF,GAO1C,OALKkD,IACHD,EAAkB,GAClBC,GAAY,GAGP,WAML,OALIA,IACFA,GAAY,EACZD,GAAkB,IAGbS,MAwBTC,gBApBcljB,GACd,IAAImjB,EAAW7B,EAAkBzB,eAAe7f,GAEhD,OADAwiB,EAAkB,GACX,WACLA,GAAkB,GAClBW,OAiBJ,OAAO7C,WAGAqE,GAAM7hC,EAAG8hC,EAAYC,GAC5B,OAAOpuB,KAAKquB,IAAIruB,KAAKsuB,IAAIjiC,EAAG8hC,GAAaC,GAIxC,SAGMG,GAAoBtxC,QACb,IAAVA,IACFA,EAAQ,IAGV,IAAIwK,EAASxK,EACTksC,EAAsB1hC,EAAO0hC,oBAC7BqF,EAAwB/mC,EAAOgnC,eAC/BA,OAA2C,IAA1BD,EAAmC,CAAC,KAAOA,EAC5DE,EAAsBjnC,EAAOknC,aAC7BA,OAAuC,IAAxBD,EAAiC,EAAIA,EACpDpE,EAAmB7iC,EAAO8iC,UAC1BA,OAAiC,IAArBD,EAA8B,EAAIA,EAC9CO,EAAoBhC,cAEf7gC,EAAS8iC,GAChBlG,GAASiF,EAASiB,GAElBjB,EAAQ/tC,OAAS+tC,EAAQ+E,QAAQ9yC,OACjC+uC,EAAkBvB,gBAAgBO,EAAQtpB,SAAUspB,EAAQx7B,iBAGrDu8B,IACP,OAAO5qB,KAAKW,SAASrU,SAAS,IAAI+6B,OAAO,EAAGkD,GAG9C,IAAI58B,EAAQugC,GAAMS,EAAc,EAAGF,EAAe3yC,OAAS,GACvD8yC,EAAUH,EAAe19B,KAAI,SAAU89B,GACzC,OAAmCvG,GAAeuG,OAAOvwC,EAAjC,iBAAVuwC,EAAsDjE,IAAgDiE,EAAMpxC,KAAOmtC,QAG/HiB,EAAaxD,YAyCRqD,EAAGr/B,GACV,IAAIyiC,EAAYZ,GAAMrE,EAAQl8B,MAAQtB,EAAG,EAAGw9B,EAAQ+E,QAAQ9yC,OAAS,GAEjEykB,EAAWspB,EAAQ+E,QAAQE,GAC/BjE,EAAkB3B,oBAAoB3oB,EAFzB,MAE2C4oB,GAAqB,SAAUzkB,GACjFA,EACF1c,EAAS,CACPqG,OALO,MAMPkS,SAAUA,EACV5S,MAAOmhC,IAKT9mC,OA8BN,IAAI6hC,EAAU,CACZ/tC,OAAQ8yC,EAAQ9yC,OAChBuS,OAAQ,MACRkS,SAAUquB,EAAQjhC,GAClBA,MAAOA,EACPihC,QAASA,EACT/C,WAAYA,EACZxsC,cA1FY4qB,EAAMzlB,GAElB,IAAI6J,EAAS,OACTkS,EAAW+nB,GAAere,EAAMzlB,EAAOomC,IAAaf,EAAQtpB,UAChEsqB,EAAkB3B,oBAAoB3oB,EAAUlS,EAAQ86B,GAAqB,SAAUzkB,GACrF,GAAKA,EAAL,CACA,IACIoqB,EADYjF,EAAQl8B,MACI,EACxBohC,EAAclF,EAAQ+E,QAAQtyC,MAAM,GAEpCyyC,EAAYjzC,OAASgzC,EACvBC,EAAYpnC,OAAOmnC,EAAWC,EAAYjzC,OAASgzC,EAAWvuB,GAE9DwuB,EAAY1vC,KAAKkhB,GAGnBvY,EAAS,CACPqG,OAAQA,EACRkS,SAAUA,EACV5S,MAAOmhC,EACPF,QAASG,SAuEbjsC,iBAlEemnB,EAAMzlB,GAErB,IAAI6J,EAAS,UACTkS,EAAW+nB,GAAere,EAAMzlB,EAAOomC,IAAaf,EAAQtpB,UAChEsqB,EAAkB3B,oBAAoB3oB,EAAUlS,EAAQ86B,GAAqB,SAAUzkB,GAChFA,IACLmlB,EAAQ+E,QAAQ/E,EAAQl8B,OAAS4S,EACjCvY,EAAS,CACPqG,OAAQA,EACRkS,SAAUA,SA0DdmrB,GAAIA,EACJW,kBAlCAX,GAAG,IAmCHY,qBA/BAZ,EAAG,IAgCHsD,eA7Ba3iC,GACb,IAAIyiC,EAAYjF,EAAQl8B,MAAQtB,EAChC,OAAOyiC,GAAa,GAAKA,EAAYjF,EAAQ+E,QAAQ9yC,QA4BrDywC,eAzBazD,GAKb,YAJe,IAAXA,IACFA,GAAS,GAGJ+B,EAAkB7B,UAAUF,IAqBnC2D,gBAlBcljB,GACd,OAAOshB,EAAkBzB,eAAe7f,KAmB1C,OAAOsgB,EC94BT,IAAIoF,GAAwB,WACxBC,GAAuC,oBAAfC,WAA6BA,WAA+B,oBAAXtkC,OAAyBA,YAA2B,IAAXukC,EAAyBA,EAAS,YAe/IC,GAAmBhtC,GAC1B,IAAIitC,EAAW,GACf,MAAO,CACLr0B,GAAI,SAAYs0B,GACdD,EAASjwC,KAAKkwC,IAEhBp0B,IAAK,SAAao0B,GAChBD,EAAWA,EAAS7/B,QAAO,SAAU2U,GACnC,OAAOA,IAAMmrB,MAGjB9kC,IAAK,WACH,OAAOpI,GAETiI,IAAK,SAAakgB,EAAUglB,GAC1BntC,EAAQmoB,EACR8kB,EAASxqC,SAAQ,SAAUyqC,GACzB,OAAOA,EAAQltC,EAAOmtC,QAuI9B,IAAIC,GAAQl2B,GAAMvS,wBA7HUC,EAAcyoC,GACxC,IAAIC,EAAuBC,EAxCvBnyC,EA0CAoyC,EAAc,4BAzCXX,GADHzxC,EAAM,yBACoByxC,GAAezxC,IAAQ,GAAK,GAyCI,MAE1D6J,EAAwB,SAAUwoC,YAG3BxoC,IACP,IAAI8L,EAIJ,OAFAA,EAAQ08B,EAAW35B,MAAMvP,KAAMhJ,YAAcgJ,MACvCmpC,QAAUV,GAAmBj8B,EAAMnW,MAAMoF,OACxC+Q,EAPT48B,GAAe1oC,EAAUwoC,GAUzB,IAAIG,EAAS3oC,EAASlD,UAoCtB,OAlCA6rC,EAAOhrC,gBAAkB,WACvB,IAAIqX,EAEJ,OAAOA,EAAO,IAASuzB,GAAejpC,KAAKmpC,QAASzzB,GAGtD2zB,EAAOrrC,0BAA4B,SAAmC6R,GACpE,GAAI7P,KAAK3J,MAAMoF,QAAUoU,EAAUpU,MAAO,CACxC,IAEImtC,EAFA9sC,EAAWkE,KAAK3J,MAAMoF,MACtBmoB,EAAW/T,EAAUpU,QA9Df6tC,EAiEGxtC,MAjEAytC,EAiEU3lB,GA/Dd,IAAN0lB,GAAW,EAAIA,GAAM,EAAIC,EAEzBD,GAAMA,GAAKC,GAAMA,GA8DlBX,EAAc,GAEdA,EAA8C,mBAAzBE,EAAsCA,EAAqBhtC,EAAU8nB,GAAYykB,GAQlF,KAFpBO,GAAe,IAGb5oC,KAAKmpC,QAAQzlC,IAAImM,EAAUpU,MAAOmtC,QA7E5BU,EAAGC,GAmFjBF,EAAO5rC,OAAS,WACd,OAAOuC,KAAK3J,MAAMO,UAGb8J,EA/CmB,CAgD1B8oC,GAEF9oC,EAAS+oC,oBAAqBV,EAAwB,IAA0BE,GAAet3B,EAAAkuB,IAAU1uB,OAAO0tB,WAAYkK,GAE5H,IAAIvoC,EAAwB,SAAUkpC,YAG3BlpC,IACP,IAAIwnB,EAiBJ,OAfAA,EAAS0hB,EAAYn6B,MAAMvP,KAAMhJ,YAAcgJ,MACxCpC,MAAQ,CACbnC,MAAOusB,EAAO2hB,YAGhB3hB,EAAO4hB,SAAW,SAAUhmB,EAAUglB,GAGC,KAFI,EAAtB5gB,EAAO6hB,cAENjB,IAClB5gB,EAAO5mB,SAAS,CACd3F,MAAOusB,EAAO2hB,cAKb3hB,EApBTohB,GAAe5oC,EAAUkpC,GAuBzB,IAAII,EAAUtpC,EAAShD,UAkCvB,OAhCAssC,EAAQ9rC,0BAA4B,SAAmC6R,GACrE,IAAIg6B,EAAeh6B,EAAUg6B,aAC7B7pC,KAAK6pC,aAAeA,MAAAA,EAAsDxB,GAAwBwB,GAGpGC,EAAQ/rC,kBAAoB,WACtBiC,KAAKjI,QAAQkxC,IACfjpC,KAAKjI,QAAQkxC,GAAa50B,GAAGrU,KAAK4pC,UAGpC,IAAIC,EAAe7pC,KAAK3J,MAAMwzC,aAC9B7pC,KAAK6pC,aAAeA,MAAAA,EAAsDxB,GAAwBwB,GAGpGC,EAAQ/pC,qBAAuB,WACzBC,KAAKjI,QAAQkxC,IACfjpC,KAAKjI,QAAQkxC,GAAa10B,IAAIvU,KAAK4pC,WAIvCE,EAAQH,SAAW,WACjB,OAAI3pC,KAAKjI,QAAQkxC,GACRjpC,KAAKjI,QAAQkxC,GAAaplC,MAE1BxD,GAIXypC,EAAQrsC,OAAS,WACf,OApHa7G,EAoHIoJ,KAAK3J,MAAMO,SAnHzB4D,MAAMC,QAAQ7D,GAAYA,EAAS,GAAKA,GAmHLoJ,KAAKpC,MAAMnC,WApHpC7E,GAuHR4J,EA1DmB,CA2D1BgpC,GAGF,OADAhpC,EAASupC,eAAgBf,EAAwB,IAA0BC,GAAet3B,EAAAkuB,IAAU1uB,OAAQ63B,GACrG,CACLtoC,SAAUA,EACVF,SAAUA,IAMdwpC,GAAenB,eC/KfoB,GAAiBzvC,MAAMC,SAAW,SAAU6J,GAC1C,MAA8C,kBAAvCtP,OAAOwI,UAAUkI,SAASzO,KAAKqN,KCIxC4lC,GAAiBC,IACF10C,MAAQ20C,GACvBF,GAAeG,QAqGZ,SACe1nC,EAAKhN,GACrB,OAAO20C,GAAiBF,GAAMznC,EAAKhN,GAAUA,IAtG/Cu0C,GAAeK,iBAAmBD,GAClCJ,GAAeM,eAAiBC,GAOhC,IAAIC,GAAc,IAAInjB,OAAO,CAG3B,UAOA,0GACAhQ,KAAK,KAAM,KAQV,SACM6yB,GAAOznC,EAAKhN,OACnB,IAKIkoB,EALA8sB,EAAS,GACT9zC,EAAM,EACNkQ,EAAQ,EACRsc,EAAO,GACPunB,EAAmBj1C,GAAWA,EAAQk1C,WAAa,IAGf,OAAhChtB,EAAM6sB,GAAYpX,KAAK3wB,KAAe,CAC5C,IAAIwgB,EAAItF,EAAI,GACRitB,EAAUjtB,EAAI,GACdktB,EAASltB,EAAI9W,MAKjB,GAJAsc,GAAQ1gB,EAAIjN,MAAMqR,EAAOgkC,GACzBhkC,EAAQgkC,EAAS5nB,EAAEjuB,OAGf41C,EACFznB,GAAQynB,EAAQ,OADlB,CAKA,IAAI7lC,EAAOtC,EAAIoE,GACX2a,EAAS7D,EAAI,GACbhiB,EAAOgiB,EAAI,GACXmtB,EAAUntB,EAAI,GACdqd,EAAQrd,EAAI,GACZotB,EAAWptB,EAAI,GACfqtB,EAAWrtB,EAAI,GAGfwF,IACFsnB,EAAOlyC,KAAK4qB,GACZA,EAAO,IAGT,IAAI8nB,EAAoB,MAAVzpB,GAA0B,MAARzc,GAAgBA,IAASyc,EACrD0pB,EAAsB,MAAbH,GAAiC,MAAbA,EAC7BI,EAAwB,MAAbJ,GAAiC,MAAbA,EAC/BJ,EAAYhtB,EAAI,IAAM+sB,EACtBU,EAAUN,GAAW9P,EAEzByP,EAAOlyC,KAAK,CACVoD,KAAMA,GAAQhF,IACd6qB,OAAQA,GAAU,GAClBmpB,UAAWA,EACXQ,SAAUA,EACVD,OAAQA,EACRD,QAASA,EACTD,WAAYA,EACZI,QAASA,EAAUC,GAAYD,GAAYJ,EAAW,KAAO,KAAOM,GAAaX,GAAa,SAclG,OATI9jC,EAAQpE,EAAIzN,SACdmuB,GAAQ1gB,EAAI89B,OAAO15B,IAIjBsc,GACFsnB,EAAOlyC,KAAK4qB,GAGPsnB,EAmBN,SACMc,GAA0B9oC,GACjC,OAAO+oC,UAAU/oC,GAAKzG,QAAO,WAAY,SAAU1D,GACjD,MAAO,IAAMA,EAAEoK,WAAW,GAAG8C,SAAS,IAAI4nB,iBAkB3C,SACMgd,GAAkBK,EAAQh1C,GAKjC,IAHA,IAAIg2C,EAAU,IAAInxC,MAAMmwC,EAAOz1C,QAGtBD,EAAI,EAAGA,EAAI01C,EAAOz1C,OAAQD,IACR,iBAAd01C,EAAO11C,KAChB02C,EAAQ12C,GAAK,IAAIsyB,OAAO,OAASojB,EAAO11C,GAAGq2C,QAAU,KAAMM,GAAMj2C,KAIrE,OAAO,SAAUS,EAAKqjC,GAMpB,IALA,IAAIpW,EAAO,GACPtkB,EAAO3I,GAAO,GAEdy1C,GADUpS,GAAQ,IACDqS,OAASL,GAA2BM,mBAEhD92C,EAAI,EAAGA,EAAI01C,EAAOz1C,OAAQD,IAAK,CACtC,IAAI+2C,EAAQrB,EAAO11C,GAEnB,GAAqB,iBAAV+2C,EAAX,CAMA,IACIC,EADAxwC,EAAQsD,EAAKitC,EAAMnwC,MAGvB,GAAa,MAATJ,EAAe,CACjB,GAAIuwC,EAAMX,SAAU,CAEdW,EAAMb,UACR9nB,GAAQ2oB,EAAMtqB,QAGhB,SAEA,MAAM,IAAI7b,UAAU,aAAemmC,EAAMnwC,KAAO,mBAIpD,GAAIouC,GAAQxuC,GAAZ,CACE,IAAKuwC,EAAMZ,OACT,MAAM,IAAIvlC,UAAU,aAAemmC,EAAMnwC,KAAO,kCAAoCrG,KAAKoO,UAAUnI,GAAS,KAG9G,GAAqB,IAAjBA,EAAMvG,OAAc,CACtB,GAAI82C,EAAMX,SACR,SAEA,MAAM,IAAIxlC,UAAU,aAAemmC,EAAMnwC,KAAO,qBAIpD,IAAK,IAAI5B,EAAI,EAAGA,EAAIwB,EAAMvG,OAAQ+E,IAAK,CAGrC,GAFAgyC,EAAUJ,EAAOpwC,EAAMxB,KAElB0xC,EAAQ12C,GAAG0G,KAAKswC,GACnB,MAAM,IAAIpmC,UAAU,iBAAmBmmC,EAAMnwC,KAAO,eAAiBmwC,EAAMV,QAAU,oBAAsB91C,KAAKoO,UAAUqoC,GAAW,KAGvI5oB,IAAe,IAANppB,EAAU+xC,EAAMtqB,OAASsqB,EAAMnB,WAAaoB,OApBzD,CA4BA,GAFAA,EAAUD,EAAMd,SA5EbQ,UA4EuCjwC,GA5ExBS,QAAO,SAAU,SAAU1D,GAC/C,MAAO,IAAMA,EAAEoK,WAAW,GAAG8C,SAAS,IAAI4nB,iBA2EWue,EAAOpwC,IAErDkwC,EAAQ12C,GAAG0G,KAAKswC,GACnB,MAAM,IAAIpmC,UAAU,aAAemmC,EAAMnwC,KAAO,eAAiBmwC,EAAMV,QAAU,oBAAsBW,EAAU,KAGnH5oB,GAAQ2oB,EAAMtqB,OAASuqB,QArDrB5oB,GAAQ2oB,EAwDZ,OAAO3oB,GASR,SACMmoB,GAAc7oC,GACrB,OAAOA,EAAIzG,QAAO,6BAA+B,QAQhD,SACMqvC,GAAarQ,GACpB,OAAOA,EAAMh/B,QAAO,gBAAkB,QASrC,SACMgwC,GAAYC,EAAIp3C,GAEvB,OADAo3C,EAAGp3C,KAAOA,EACHo3C,EAQN,SACMP,GAAOj2C,GACd,OAAOA,GAAWA,EAAQy2C,UAAY,GAAK,IAuE1C,SACM3B,GAAgBE,EAAQ51C,EAAMY,GAChCs0C,GAAQl1C,KACXY,EAAkCZ,GAAQY,EAC1CZ,EAAO,IAUT,IALA,IAAIs3C,GAFJ12C,EAAUA,GAAW,IAEA02C,OACjBC,GAAsB,IAAhB32C,EAAQ22C,IACdltB,EAAQ,GAGHnqB,EAAI,EAAGA,EAAI01C,EAAOz1C,OAAQD,IAAK,CACtC,IAAI+2C,EAAQrB,EAAO11C,GAEnB,GAAqB,iBAAV+2C,EACT5sB,GAASosB,GAAaQ,OACjB,CACL,IAAItqB,EAAS8pB,GAAaQ,EAAMtqB,QAC5BspB,EAAU,MAAQgB,EAAMV,QAAU,IAEtCv2C,EAAK0D,KAAKuzC,GAENA,EAAMZ,SACRJ,GAAW,MAAQtpB,EAASspB,EAAU,MAaxC5rB,GANI4rB,EAJAgB,EAAMX,SACHW,EAAMb,QAGCzpB,EAAS,IAAMspB,EAAU,KAFzB,MAAQtpB,EAAS,IAAMspB,EAAU,MAKnCtpB,EAAS,IAAMspB,EAAU,KAOzC,IAAIH,EAAYW,GAAa71C,EAAQk1C,WAAa,KAC9C0B,EAAoBntB,EAAM1pB,OAAOm1C,EAAU31C,UAAY21C,EAkB3D,OAZKwB,IACHjtB,GAASmtB,EAAoBntB,EAAM1pB,MAAM,GAAIm1C,EAAU31C,QAAUkqB,GAAS,MAAQyrB,EAAY,WAI9FzrB,GADEktB,EACO,IAIAD,GAAUE,EAAoB,GAAK,MAAQ1B,EAAY,MAG3DqB,GAAW,IAAI3kB,OAAO,IAAMnI,EAAOwsB,GAAMj2C,IAAWZ,GAc1D,SACMo1C,GAAc9mB,EAAMtuB,EAAMY,GAQjC,OAPKs0C,GAAQl1C,KACXY,EAAkCZ,GAAQY,EAC1CZ,EAAO,IAGTY,EAAUA,GAAW,GAEjB0tB,aAAgBkE,OAnJnB,SACsBlE,EAAMtuB,GAE7B,IAAI6lC,EAASvX,EAAK3R,OAAO2I,MAAK,aAE9B,GAAIugB,EACF,IAAK,IAAI3lC,EAAI,EAAGA,EAAI2lC,EAAO1lC,OAAQD,IACjCF,EAAK0D,KAAK,CACRoD,KAAM5G,EACNysB,OAAQ,KACRmpB,UAAW,KACXQ,UAAU,EACVD,QAAQ,EACRD,SAAS,EACTD,UAAU,EACVI,QAAS,OAKf,OAAOY,GAAW7oB,EAAMtuB,GAgIfy3C,CAAenpB,EAA6BtuB,GAGjDk1C,GAAQ5mB,GAzHX,SACqBA,EAAMtuB,EAAMY,GAGlC,IAFA,IAAImyB,EAAQ,GAEH7yB,EAAI,EAAGA,EAAIouB,EAAKnuB,OAAQD,IAC/B6yB,EAAMrvB,KAAK0xC,GAAa9mB,EAAKpuB,GAAIF,EAAMY,GAAS+b,QAKlD,OAAOw6B,GAFM,IAAI3kB,OAAO,MAAQO,EAAMvQ,KAAK,KAAO,IAAKq0B,GAAMj2C,IAEnCZ,GAgHjB03C,CAAqCppB,EAA8BtuB,EAAOY,GAtGlF,SACsB0tB,EAAMtuB,EAAMY,GACnC,OAAO80C,GAAeL,GAAM/mB,EAAM1tB,GAAUZ,EAAMY,GAuG3C+2C,CAAsCrpB,EAA8BtuB,EAAOY,yBCxa9B+b,EAAQiG,GAC5D,GAAc,MAAVjG,EAAgB,MAAO,GAC3B,IAEI7a,EAAK5B,EAFL+b,EAAS,GACT4G,EAAa5iB,OAAOD,KAAK2c,GAG7B,IAAKzc,EAAI,EAAGA,EAAI2iB,EAAW1iB,OAAQD,IACjC4B,EAAM+gB,EAAW3iB,GACb0iB,EAASzf,QAAQrB,IAAQ,IAC7Bma,EAAOna,GAAO6a,EAAO7a,IAGvB,OAAOma,oCCD+R,IAAmB27B,EAAyBC,EAA0BC,EAA0BC,EAAkBC,EAAqBC,EAAmBC,EAAeC,EAAeC,EAAiBC,EAC/dC,EAAqBC,EAAmBC,EAAuCC,EAA2CC,EAA6CC,EAAuDC,EAAgEC,EAAqEC,EAAgDC,EAA4CC,EAChbC,EAA8CC,EAAgDC,EAAkDC,EAAgDC,EACnKC,EAAsQC,4jEALvT,IAAIC,EAAE,mBAAoB7pC,QAAQA,OAAOgF,IAAI8kC,EAAED,EAAE7pC,OAAOgF,IAAI,iBAAiB,MAAM+kC,EAAEF,EAAE7pC,OAAOgF,IAAI,gBAAgB,MAAMglC,EAAEH,EAAE7pC,OAAOgF,IAAI,kBAAkB,MAAMilC,EAAEJ,EAAE7pC,OAAOgF,IAAI,qBAAqB,MAAMklC,EAAEL,EAAE7pC,OAAOgF,IAAI,kBAAkB,MAAMmlC,EAAEN,EAAE7pC,OAAOgF,IAAI,kBAAkB,MAAMolC,EAAEP,EAAE7pC,OAAOgF,IAAI,iBAAiB,MAAMqlC,EAAER,EAAE7pC,OAAOgF,IAAI,oBAAoB,MAAMslC,EAAET,EAAE7pC,OAAOgF,IAAI,yBAAyB,MAAMulC,EAAEV,EAAE7pC,OAAOgF,IAAI,qBAAqB,MAAMwlC,EAAEX,EAAE7pC,OAAOgF,IAAI,kBAAkB,MAAMylC,EAAEZ,EACpf7pC,OAAOgF,IAAI,uBAAuB,MAAM0lC,EAAEb,EAAE7pC,OAAOgF,IAAI,cAAc,MAAM2lC,EAAEd,EAAE7pC,OAAOgF,IAAI,cAAc,MAAM4lC,EAAEf,EAAE7pC,OAAOgF,IAAI,eAAe,MAAM6lC,EAAEhB,EAAE7pC,OAAOgF,IAAI,qBAAqB,MAAM8lC,EAAEjB,EAAE7pC,OAAOgF,IAAI,mBAAmB,MAAM+lC,EAAElB,EAAE7pC,OAAOgF,IAAI,eAAe,eACzPgmC,EAAE52C,GAAG,GAAG,iBAAkBA,GAAG,OAAOA,EAAE,CAAC,IAAI62C,EAAE72C,EAAEiR,SAAS,OAAO4lC,GAAG,KAAKnB,EAAE,OAAO11C,EAAEA,EAAEnC,MAAQ,KAAKo4C,EAAE,KAAKC,EAAE,KAAKN,EAAE,KAAKE,EAAE,KAAKD,EAAE,KAAKO,EAAE,OAAOp2C,UAAU,OAAOA,EAAEA,GAAGA,EAAEiR,UAAY,KAAK+kC,EAAE,KAAKG,EAAE,KAAKI,EAAE,KAAKD,EAAE,KAAKP,EAAE,OAAO/1C,UAAU,OAAO62C,GAAG,KAAKlB,EAAE,OAAOkB,aAAaC,EAAE92C,GAAG,OAAO42C,EAAE52C,KAAKk2C,EAAErC,EAAkBoC,EAAEnC,EAAuBoC,EAAEnC,EAAwBiC,EAAEhC,EAAwB+B,EAAE9B,EAAgByB,EAAExB,EAAmBiC,EAAEhC,EAAiByB,EAAExB,EAAamC,EAAElC,EAAaiC,EAAEhC,EAAeqB,EAChfpB,EAAiBuB,EAAEtB,EAAmBqB,EAAEpB,EAAiB2B,EAAE1B,EAAoB,SAAS10C,GAAG,OAAO82C,EAAE92C,IAAI42C,EAAE52C,KAAKi2C,GAAGtB,EAAyBmC,EAAElC,EAA0B,SAAS50C,GAAG,OAAO42C,EAAE52C,KAAKg2C,GAAGnB,EAA0B,SAAS70C,GAAG,OAAO42C,EAAE52C,KAAK+1C,GAAGjB,EAAkB,SAAS90C,GAAG,MAAM,iBAAkBA,GAAG,OAAOA,GAAGA,EAAEiR,WAAWykC,GAAGX,EAAqB,SAAS/0C,GAAG,OAAO42C,EAAE52C,KAAKm2C,GAAGnB,EAAmB,SAASh1C,GAAG,OAAO42C,EAAE52C,KAAK41C,GAAGX,EAAe,SAASj1C,GAAG,OAAO42C,EAAE52C,KAAKu2C,GACzdrB,EAAe,SAASl1C,GAAG,OAAO42C,EAAE52C,KAAKs2C,GAAGnB,EAAiB,SAASn1C,GAAG,OAAO42C,EAAE52C,KAAK21C,GAAGP,EAAmB,SAASp1C,GAAG,OAAO42C,EAAE52C,KAAK81C,GAAGT,EAAqB,SAASr1C,GAAG,OAAO42C,EAAE52C,KAAK61C,GAAGP,EAAmB,SAASt1C,GAAG,OAAO42C,EAAE52C,KAAKo2C,GACzOb,EAA2B,SAASv1C,GAAG,MAAM,iBAAkBA,GAAG,mBAAoBA,GAAGA,IAAI41C,GAAG51C,IAAIk2C,GAAGl2C,IAAI81C,GAAG91C,IAAI61C,GAAG71C,IAAIo2C,GAAGp2C,IAAIq2C,GAAG,iBAAkBr2C,GAAG,OAAOA,IAAIA,EAAEiR,WAAWslC,GAAGv2C,EAAEiR,WAAWqlC,GAAGt2C,EAAEiR,WAAW8kC,GAAG/1C,EAAEiR,WAAW+kC,GAAGh2C,EAAEiR,WAAWklC,GAAGn2C,EAAEiR,WAAWwlC,GAAGz2C,EAAEiR,WAAWylC,GAAG12C,EAAEiR,WAAW0lC,GAAG32C,EAAEiR,WAAWulC,IAAIhB,EAAeoB,KCXjUG,GAAiBv6C,EAAA,gBCKfw6C,GAAgB,CAClBrG,mBAAmB,EACnBlsC,aAAa,EACbwsC,cAAc,EACd7yC,cAAc,EACd+S,aAAa,EACb8lC,iBAAiB,EACjB5uC,0BAA0B,EAC1BtD,0BAA0B,EAC1BmyC,QAAQ,EACRC,WAAW,EACXt5C,MAAM,GAEJu5C,GAAgB,CAClBr0C,MAAM,EACN3G,QAAQ,EACRsI,WAAW,EACX2yC,QAAQ,EACRC,QAAQ,EACRp5C,WAAW,EACXq5C,OAAO,GASLC,GAAe,CACjBvmC,UAAY,EACZwmC,SAAS,EACTr5C,cAAc,EACd+S,aAAa,EACbgmC,WAAW,EACXt5C,MAAM,GAEJ65C,GAAe,YAIVC,GAAWx3C,GAElB,OAAI42C,GAAAa,OAAez3C,GACVq3C,GAIFE,GAAav3C,EAAoB,WAAM62C,GAVhDU,GAAaX,GAAAc,YAhBa,CACxB5mC,UAAY,EACZtM,QAAQ,EACRvG,cAAc,EACd+S,aAAa,EACbgmC,WAAW,GAYbO,GAAaX,GAAAe,MAAgBN,GAY7B,IAAIO,GAAiB77C,OAAOgR,eACxB8qC,GAAsB97C,OAAO+7C,oBAC7BC,GAAwBh8C,OAAOqc,sBAC/B4/B,GAA2Bj8C,OAAOwc,yBAClC0/B,GAAiBl8C,OAAOurB,eACxB4wB,GAAkBn8C,OAAOwI,UAsC7B4zC,YArCSC,EAAqBC,EAAiBC,EAAiBC,GAC9D,GAA+B,iBAApBD,EAA8B,CAEvC,GAAIJ,GAAiB,CACnB,IAAIM,EAAqBP,GAAeK,GAEpCE,GAAsBA,IAAuBN,IAC/CE,EAAqBC,EAAiBG,EAAoBD,GAI9D,IAAIz8C,EAAO+7C,GAAoBS,GAE3BP,KACFj8C,EAAOA,EAAK2Z,OAAOsiC,GAAsBO,KAM3C,IAHA,IAAIG,EAAgBjB,GAAWa,GAC3BK,EAAgBlB,GAAWc,GAEtBt8C,EAAI,EAAGA,EAAIF,EAAKG,SAAUD,EAAG,CACpC,IAAI4B,EAAM9B,EAAKE,GAEf,KAAKi7C,GAAcr5C,IAAU26C,GAAaA,EAAU36C,IAAW86C,GAAiBA,EAAc96C,IAAW66C,GAAiBA,EAAc76C,IAAO,CAC7I,IAAIoa,EAAaggC,GAAyBM,EAAiB16C,GAE3D,IAEEg6C,GAAeS,EAAiBz6C,EAAKoa,GACrC,MAAOxU,OAKf,OAAO60C,GChGT,IAAMM,GAAqB,SAAA/1C,GACnB9D,IAAAA,EAAUqI,KAGTrI,OAFPA,EAAQkS,YAAcpO,EAEf9D,GCLH85C,GAA+BD,GAAmB,kBCAlD75C,GAAwB65C,GAAmB,UCQ3CE,GAAAA,SAAAA,YAKQz7C,EAAAA,gBACJA,EAAAA,EAAAA,KAAAA,KAAAA,IAAAA,MAEDuH,MAAQ,CACX+b,SAAUtjB,EAAM4sC,QAAQtpB,UAQrBo4B,EAAAA,YAAa,EACbC,EAAAA,iBAAmB,KAEnB37C,EAAM47C,gBACJnM,EAAAA,SAAWzvC,EAAM4sC,QAAQ4C,QAAO,SAAAlsB,GAC/BnN,EAAKulC,WACF3wC,EAAAA,SAAS,CAAEuY,SAAAA,IAEXq4B,EAAAA,iBAAmBr4B,gBAxBzBu4B,EAAAA,iBAAP,SAAwBz4B,GACf,MAAA,CAAE4J,KAAM,IAAKtK,IAAK,IAAKo5B,OAAQ,GAAIC,QAAsB,MAAb34B,6BA6BrD1b,EAAAA,kBAAA,WACOg0C,KAAAA,YAAa,EAEd/xC,KAAKgyC,kBACF5wC,KAAAA,SAAS,CAAEuY,SAAU3Z,KAAKgyC,oBAInCjyC,EAAAA,qBAAA,WACMC,KAAK8lC,WACFA,KAAAA,WACAiM,KAAAA,YAAa,EACbC,KAAAA,iBAAmB,OAI5Bv0C,EAAAA,OAAA,WAEI,OAAAkV,GAAAjc,cAAC27C,GAAc3xC,SAAf,CACEjF,MAAO,CACLwnC,QAASjjC,KAAK3J,MAAM4sC,QACpBtpB,SAAU3Z,KAAKpC,MAAM+b,SACrBU,MAAOy3B,EAAOI,iBAAiBlyC,KAAKpC,MAAM+b,SAASF,UACnDw4B,cAAejyC,KAAK3J,MAAM47C,gBAG5Bt/B,GAAAjc,cAAC47C,GAAe5xC,SAAhB,CACE9J,SAAUoJ,KAAK3J,MAAMO,UAAY,KACjC6E,MAAOuE,KAAK3J,MAAM4sC,cA3DtB6O,CAAeS,GAAMz6C,WCRrB06C,ICQqBD,GAAMz6C,UDR3B06C,SAAAA,sFACJz0C,EAAAA,kBAAA,WACMiC,KAAK3J,MAAMo8C,SAASzyC,KAAK3J,MAAMo8C,QAAQx7C,KAAK+I,KAAMA,OAGxD5B,EAAAA,mBAAA,SAAmBs0C,GACb1yC,KAAK3J,MAAMuzC,UAAU5pC,KAAK3J,MAAMuzC,SAAS3yC,KAAK+I,KAAMA,KAAM0yC,IAGhE3yC,EAAAA,qBAAA,WACMC,KAAK3J,MAAMs8C,WAAW3yC,KAAK3J,MAAMs8C,UAAU17C,KAAK+I,KAAMA,OAG5DvC,EAAAA,OAAA,WACS,OAAA,QAdL+0C,CAAkBD,GAAMz6C,YEA9B,IAAM86C,GAAQ,GAEVC,GAAa,WAkBRC,GAAazvB,EAAY8uB,GACzB9uB,YADaA,IAAAA,IAAAA,EAAO,UAAK8uB,IAAAA,IAAAA,EAAS,IACzB,MAAT9uB,EAAeA,WAjBHA,GACfuvB,GAAAA,GAAMvvB,GAAO,OAAOuvB,GAAMvvB,GAExB0vB,IAAAA,EAAYC,EAAAA,IAAa3I,QAAQhnB,GAOhC0vB,OALHF,GARa,MASfD,GAAMvvB,GAAQ0vB,EACdF,MAGKE,EAOsBE,CAAY5vB,EAAZ4vB,CAAkBd,EAAQ,CAAErG,QAAQ,aCX1DoH,GAATx9B,GAAoBy9B,IAAAA,EAAmCz9B,EAAnCy9B,cAAepT,EAAoBrqB,EAApBqqB,GAAItnC,EAAAA,EAAAA,KAAAA,OAAgB,IAAA26C,GAAhB36C,EAEnC,OAAAka,GAAAjc,cAAC27C,GAAc7xC,SAAf,MACG,SAAAzI,IACWA,GAAVs7C,IAAS,GAEDpQ,IAAAA,EAA2BlrC,EAA3BkrC,QAASgP,EAAkBl6C,EAAlBk6C,cAEXv0B,EAASjlB,EAAOwqC,EAAQxqC,KAAOwqC,EAAQ/mC,QACvCyd,EAAW25B,GACfH,EACkB,iBAAPpT,EACL+S,GAAa/S,EAAIoT,EAAchB,QADjCnU,GAAA,GAGO+B,EALPpmB,CAMIF,SAAUq5B,GAAa/S,EAAGtmB,SAAU05B,EAAchB,UAEtDpS,GAKFkS,OAAAA,GACFv0B,EAAO/D,GACA,MAIPhH,GAAAjc,cAAC68C,GAAD,CACEd,QAAS,WACP/0B,EAAO/D,IAETiwB,SAAU,SAAC1pB,EAAMwyB,GACT3L,IfiEOjuC,EAAGC,EejEVguC,EAAeuM,GAAeZ,EAAU3S,IfiEjCjnC,Ee/DQiuC,Ef+DLhuC,Ee/DIilC,GAAA,GACbrkB,EADL,CAEE9iB,IAAKkwC,EAAalwC,Mf8D3BiC,EAAE2gB,WAAa1gB,EAAE0gB,UAAY3gB,EAAEymB,SAAWxmB,EAAEwmB,QAAUzmB,EAAE0J,OAASzJ,EAAEyJ,MAAQ1J,EAAEjC,MAAQkC,EAAElC,KAAO+pC,GAAW9nC,EAAE8E,MAAO7E,EAAE6E,Qe3D7G8f,EAAO/D,IAGXomB,GAAIA,OCrDhB,IAAM6S,GAAQ,GAEVC,GAAa,WAuBRW,GAAU/5B,EAAU9jB,QAAAA,IAAAA,IAAAA,EAAU,KACd,iBAAZA,GAAwB6E,MAAMC,QAAQ9E,MAC/CA,EAAU,CAAE0tB,KAAM1tB,IAG+CA,IAAAA,EAAAA,EAA3D0tB,EALiCowB,EAKjCpwB,KAAMqc,EAAAA,EAAAA,MAAAA,OAL2B,IAAAgU,GAK3BhU,EAAe2M,EAAAA,EAAAA,OAAAA,OALY,IAAAsH,GAKZtH,EAAgBD,EAAAA,EAAAA,UAAAA,OALJ,IAAAwH,GAKIxH,EAItCrnB,MAFO,GAAGrW,OAAO2U,GAEXzH,QAAO,SAAC4L,EAASnE,GACxB,IAACA,GAAiB,KAATA,EAAa,OAAO,KAC7BmE,GAAAA,EAAS,OAAOA,EAEKyrB,IAAAA,WAlCR5vB,EAAM1tB,GACnBk+C,IAAAA,EAAQ,GAAMl+C,EAAQ22C,IAAM32C,EAAQ02C,OAAS12C,EAAQy2C,UACrD0H,EAAYlB,GAAMiB,KAAcjB,GAAMiB,GAAY,IAEpDC,GAAAA,EAAUzwB,GAAO,OAAOywB,EAAUzwB,GAEhCtuB,IAAAA,EAAO,GAEPywB,EAAS,CAAEgN,OADFwgB,EAAAA,GAAAA,CAAa3vB,EAAMtuB,EAAMY,GACfZ,KAAAA,GAOlBywB,OALHqtB,GAba,MAcfiB,EAAUzwB,GAAQmC,EAClBqtB,MAGKrtB,EAmBoBytB,CAAY5vB,EAAM,CACzCipB,IAAK5M,EACL2M,OAAAA,EACAD,UAAAA,IAHM5Z,EAJ6BuhB,EAI7BvhB,OAAQz9B,EAJqBg/C,EAIrBh/C,KAKVslB,EAAQmY,EAAOc,KAAK7Z,GAEtB,IAACY,EAAO,OAAO,KAEZtB,IAAAA,EAAkBsB,EAAlBtB,GAAQi7B,EAAU35B,EAAV25B,MAAAA,GACT5B,EAAU34B,IAAaV,EAEzB2mB,OAAAA,IAAU0S,EAAgB,KAEvB,CACL/uB,KAAAA,EACAtK,IAAc,MAATsK,GAAwB,KAARtK,EAAa,IAAMA,EACxCq5B,QAAAA,EACAD,OAAQp9C,EAAK6mB,QAAO,SAAClM,EAAM7Y,EAAKkQ,GAEvB2I,OADPA,EAAK7Y,EAAIgF,MAAQm4C,EAAOjtC,GACjB2I,IACN,OAEJ,MClCCukC,IAAAA,GAAAA,SAAAA,gFACJx2C,OAAA,sBAEI,OAAAkV,GAAAjc,cAAC27C,GAAc7xC,SAAf,MACG,SAAAzI,IACWA,GAAVs7C,IAAS,GAEH15B,IAAAA,EAAWnN,EAAKnW,MAAMsjB,UAAY5hB,EAAQ4hB,SAO1CtjB,EAAK2nC,GAAA,GAAQjmC,EAAb1B,CAAsBsjB,SAAAA,EAAUU,MANxB7N,EAAKnW,MAAM88C,cACrB3mC,EAAKnW,MAAM88C,cACX3mC,EAAKnW,MAAMgtB,KACXmwB,GAAU75B,EAASF,SAAUjN,EAAKnW,OAClC0B,EAAQsiB,QAI0B65B,EAAA1nC,EAAKnW,MAArCO,EAZIs9C,EAYJt9C,SAAUqC,EAZNi7C,EAYMj7C,UAAWwE,EAZjBy2C,EAYiBz2C,OASzB,OALEjD,MAAMC,QAAQ7D,aAxCHA,GAChB27C,OAAmC,IAAnCA,GAAMnoC,SAASC,MAAMzT,GAuCWu9C,CAAgBv9C,KAC7CA,EAAW,MAIX+b,GAAAjc,cAAC27C,GAAc3xC,SAAf,CAAwBjF,MAAOpF,GAC5BA,EAAMgkB,MACHzjB,EACsB,mBAAbA,EAGHA,EAASP,GACXO,EACFqC,EACAs5C,GAAM77C,cAAcuC,EAAW5C,GAC/BoH,EACAA,EAAOpH,GACP,KACkB,mBAAbO,EAGLA,EAASP,GACX,YA1CZ49C,CAAc1B,GAAMz6C,oBCrBjBs8C,GAAgB/wB,GAChBA,MAAmB,MAAnBA,EAAKgK,OAAO,GAAahK,EAAO,IAAMA,WAYtCgxB,GAAczQ,EAAUjqB,GAC3B,IAACiqB,EAAU,OAAOjqB,EAEhBrhB,IAAAA,EAAO87C,GAAgBxQ,GAEzBjqB,OAAoC,IAApCA,EAASF,SAASvhB,QAAQI,GAAoBqhB,EAG7CA,GAAAA,GAAAA,EAAAA,CACHF,SAAUE,EAASF,SAASgnB,OAAOnoC,EAAKpD,mBAInCo/C,GAAU36B,GACV,MAAoB,iBAAbA,EAAwBA,EAAW46B,GAAW56B,YAGrD66B,GAAcC,GACd,OAAA,WACLpB,IAAS,aAIJqB,MAQkBnC,GAAMz6C,UAA3B68C,ICzCAC,GAAAA,SAAAA,gFACJn3C,OAAA,sBAEI,OAAAkV,GAAAjc,cAAC27C,GAAc7xC,SAAf,MACG,SAAAzI,IACWA,GAAVs7C,IAAS,GAEH15B,IAEFpL,EAAS8L,EAFPV,EAAWnN,EAAKnW,MAAMsjB,UAAY5hB,EAAQ4hB,SAoBzCU,OAZPk4B,GAAMnoC,SAASlM,QAAQsO,EAAKnW,MAAMO,UAAU,SAAAyB,GACtCgiB,GAAS,MAATA,GAAiBk4B,GAAMjkC,eAAejW,GAAQ,CAChDkW,EAAUlW,EAEJgrB,IAAAA,EAAOhrB,EAAMhC,MAAMgtB,MAAQhrB,EAAMhC,MAAMsP,KAE7C0U,EAAQgJ,EACJmwB,GAAU75B,EAASF,SAAVukB,GAAA,GAAyB3lC,EAAMhC,MAD5CgkB,CACmDgJ,KAAAA,KAC/CtrB,EAAQsiB,UAITA,EACHk4B,GAAMpyC,aAAaoO,EAAS,CAAEoL,SAAAA,EAAUw5B,cAAe94B,IACvD,WA7BRu6B,CAAerC,GAAMz6C,oBCDlB+8C,GAAW/8C,GACZmS,IAAAA,EAAW,eAAiBnS,EAAUmS,aAAenS,EAAU+D,MAApD,IACXi5C,EAAI,SAAAz+C,GACA0+C,IAAAA,EAA2C1+C,EAA3C0+C,oBAAwBC,EADfC,GACkC5+C,EAAnB2+C,CAAAA,wBAG9B,OAAAriC,GAAAjc,cAAC27C,GAAc7xC,SAAf,MACG,SAAAzI,GAMG,OAJAA,GADFs7C,IAAS,GAKP1gC,GAAAjc,cAACoB,EAADkmC,GAAA,GACMgX,EACAj9C,EAFN,CAGEjB,IAAKi+C,SAqBVG,OAbPJ,EAAE7qC,YAAcA,EAChB6qC,EAAE18B,iBAAmBtgB,EAYdo9C,EAAAA,GAAAA,CAAaJ,EAAGh9C,GCxCzB,IAAMqQ,GAAaoqC,GAAMpqC,WCEnBgtC,IAAAA,GAAAA,SAAAA,2IACJlS,QAAUmS,GAAc5oC,EAAKnW,oCAE7BoH,OAAA,WACS,OAAAkV,GAAAjc,cAAC2+C,GAAD,CAAQpS,QAASjjC,KAAKijC,QAASrsC,SAAUoJ,KAAK3J,MAAMO,cAJzDu+C,CAAsB5C,GAAMz6C,WCPrBw9C,ICOY/C,GAAMz6C,UDPE,SAACioC,EAAI4B,GACpC,MAAc,mBAAP5B,EAAoBA,EAAG4B,GAAmB5B,IAEtCwV,GAAsB,SAACxV,EAAI4B,GAC/B,MAAc,iBAAP5B,EACVuT,GAAevT,EAAI,KAAM,KAAM4B,GAC/B5B,GEGAyV,GAAiB,SAAAV,GAAKA,OAAAA,GACtBnrC,GAAe4oC,GAAf5oC,gBACoB,IAAfA,KACTA,GAAa6rC,IAOf,IAAMC,GAAa9rC,IACjB,SAAA+L,EAOE4C,GALEo9B,IAAAA,EAMChgC,EANDggC,SACAC,EAKCjgC,EALDigC,SACAC,EAIClgC,EAJDkgC,QACGr9B,EAAAA,GAAAA,EAAAA,CAAAA,WAAAA,WAAAA,YAIGvH,EAAWuH,EAAXvH,OAEJ3a,EAAK2nC,GAAA,GACJzlB,EADDliB,CAEFu/C,QAAS,SAAAh5C,GACH,IACEg5C,GAASA,EAAQh5C,GACrB,MAAOi5C,GAEDA,MADNj5C,EAAMk5C,iBACAD,EAILj5C,EAAMgR,kBACU,IAAjBhR,EAAMm5C,QACJ/kC,GAAqB,UAAXA,YA7BGpU,GAChB,SAAGA,EAAMo5C,SAAWp5C,EAAMq5C,QAAUr5C,EAAMs5C,SAAWt5C,EAAMu5C,UA6BzDC,CAAgBx5C,KAEjBA,EAAMk5C,iBACNH,QAaC,OANLt/C,EAAMS,IADJ0+C,KAAmB7rC,IACT2O,GAEAo9B,EAIP/iC,GAAAjc,cAAA,IAAOL,MAWZggD,GAAO1sC,IACX,SAAA2sC,EAQEh+B,GANErf,IAAAA,EAAAA,EAAAA,UAAAA,OAOC,IAAAs9C,EAPWd,GAAZx8C,EACAiD,EAMCo6C,EANDp6C,QACA6jC,EAKCuW,EALDvW,GACA2V,EAICY,EAJDZ,SACGn9B,EAAAA,GAAAA,EAAAA,CAAAA,YAAAA,UAAAA,KAAAA,aAKH,OAAA5F,GAAAjc,cAAC27C,GAAc7xC,SAAf,MACG,SAAAzI,IACWA,GAAVs7C,IAAS,GAEDpQ,IAAAA,EAAYlrC,EAAZkrC,QAEFtpB,EAAW47B,GACfD,GAAkBvV,EAAIhoC,EAAQ4hB,UAC9B5hB,EAAQ4hB,UAGJgiB,EAAOhiB,EAAWspB,EAAQgC,WAAWtrB,GAAY,GACjDtjB,EAAK2nC,GAAA,GACNzlB,EADCliB,CAEJslC,KAAAA,EACAga,SAHS,WAIDh8B,IAAAA,EAAW27B,GAAkBvV,EAAIhoC,EAAQ4hB,UACzC68B,EAAwBjC,GAAWx8C,EAAQ4hB,YAAc46B,GAAWgB,GAAoB57B,KAC9Ezd,GAAWs6C,EAAyBvT,EAAQ/mC,QAAU+mC,EAAQxqC,MAEvEkhB,MAWJ44B,OANHiD,KAAmB7rC,GACrBtT,EAAMS,IAAMwhB,GAAgBo9B,EAE5Br/C,EAAMq/C,SAAWA,EAGZnD,GAAM77C,cAAcuC,EAAW5C,SC1G1Cm/C,GAAiB,SAAAV,GAAKA,OAAAA,GACtBnrC,GAAe4oC,GAAf5oC,gBACoB,IAAfA,KACTA,GAAa6rC,IAUf,OAAgB7rC,IACd,SAAA+L,EAgBE4C,GAdE,IAAAm+B,EAAA/gC,EAAA,gBAAgBghC,OAef,IAAAD,EAf6B,OAAdC,EAChBC,EAAAA,EAAAA,gBAAAA,OAcC,IAAAC,EAdiB,SAAlBD,EACAE,EAaCnhC,EAbDmhC,YACWC,EAYVphC,EAZDrH,UACAqxB,EAWChqB,EAXDgqB,MACUqX,EAUTrhC,EAVD+sB,SACUuU,EASTthC,EATDiE,SACAyyB,EAQC12B,EARD02B,UACAC,EAOC32B,EAPD22B,OACO4K,EAMNvhC,EANDla,MACAukC,EAKCrqB,EALDqqB,GACA2V,EAIChgC,EAJDggC,SACGn9B,EAAAA,GAAAA,EAAAA,CAAAA,eAAAA,kBAAAA,cAAAA,YAAAA,QAAAA,WAAAA,WAAAA,YAAAA,SAAAA,QAAAA,KAAAA,aAKH,OAAA5F,GAAAjc,cAAC27C,GAAc7xC,SAAf,MACG,SAAAzI,IACWA,GAAVs7C,IAAS,GAEH1R,IAAAA,EAAkBqV,GAAgBj/C,EAAQ4hB,SAC1C8qB,EAAa8Q,GACjBD,GAAkBvV,EAAI4B,GACtBA,GAEgBte,EAASohB,EAAnBhrB,SAEFy9B,EACJ7zB,GAAQA,EAAKnnB,QAAL,4BAA0C,QAE9Cme,EAAQ68B,EACV1D,GAAU7R,EAAgBloB,SAAU,CAClC4J,KAAM6zB,EACNxX,MAAAA,EACA0M,UAAAA,EACAC,OAAAA,IAEF,KACE5J,KAAcsU,EAChBA,EAAa18B,EAAOsnB,GACpBtnB,GAEAhM,EACuB,mBAAlByoC,EACHA,EAAcrU,GACdqU,EAEFt7C,EACmB,mBAAdy7C,EAA2BA,EAAUxU,GAAYwU,EAEtDxU,IACFp0B,aA9De8oC,IAAAA,IAAAA,EAAAA,UAAAA,OAAAA,EAAAA,IAAAA,MAAAA,GAAAA,EAAAA,EAAAA,EAAAA,EAAAA,IAAAA,EAAAA,GAAAA,UAAAA,GAClBA,OAAAA,EAAWtuC,QAAO,SAAA5T,GAAKA,OAAAA,KAAGsiB,KAAK,KA6DhB6/B,CAAe/oC,EAAWsoC,GACtCn7C,EAAKwiC,GAAA,GAAQxiC,EAAUq7C,IAGnBxgD,IAAAA,EAAAA,GAAAA,CACaosC,eAAAA,GAAYiU,GAAgB,KAC7CroC,UAAAA,EACA7S,MAAAA,EACAukC,GAAI0E,GACDlsB,GAUE,OANHi9B,KAAmB7rC,GACrBtT,EAAMS,IAAMwhB,GAAgBo9B,EAE5Br/C,EAAMq/C,SAAWA,EAGZ/iC,GAAAjc,cAAC2gD,GAAShhD,2CCpD3B,IAAoBihD,+EA5CpB,IAAIC,EAAY,YA6BPC,EAAWz+B,GAClB,OAAQ,GAAKA,GAAK7c,QAAO,wCAA0C,MAAQ,IAc7Eo7C,WA1C4BniD,GAC1B,IAAIsG,EAAQ87C,EAAUpiD,GAOtB,OALKsG,IACHA,aAQF,IACE,MAAM,IAAIpG,MACV,MAAO8P,GACP,IAAIwmC,GAAW,GAAKxmC,EAAIse,OAAOpJ,MAAK,kCAEpC,GAAIsxB,EAGF,OAAO6L,EAAW7L,EAAQ,IAI9B,MAAO,IApBG8L,GACRF,EAAUpiD,GAAMsG,GAGXA,MCZTi8C,GAAiBpiD,EAAA,SAAAqiD,aAA6C,SAAWriD,EAAA,SAAAuM,QAA6C,aCoItH+1C,GAAeC,IAAAA,CAAkBhD,iBA/Hb/8C,EAclBiG,oBACE+E,GAAQiB,QAGV+zC,kBAAkBr7C,GAChBA,EAAEq5C,iBACF,IAAIiC,EAAQp5C,SAASsD,eAAe,SAASxG,OAAS,GACtDs8C,EAAM57C,cACN6D,KAAKoB,SAAS,CAAE42C,SAAS,IACzB57B,GAAK4B,KAAK,2BAA4B,CAAEi6B,KAAMF,IAASp2C,MAAKkc,IAC1D7d,KAAKoB,SAAS,CAAE42C,SAAS,IACrBn6B,IAAQA,EAAIS,QACdvc,GAAMI,IAAInC,KAAK3J,MAAM6f,EAAE,6BAEvBnU,GAAMI,IAAInC,KAAK3J,MAAM6f,EAAE2H,EAAIS,SAAU,mBAK3C45B,cAAcz7C,GACZA,EAAEq5C,iBACF91C,KAAKoB,SAAS,CAAE+2C,WAAW,EAAOH,SAAS,IAC3C,IAAID,EAAQp5C,SAASsD,eAAe,SAASxG,OAAS,GACtDs8C,EAAM57C,cACN,MAAMi8C,EAAWz5C,SAASsD,eAAe,YAAYxG,MACrD2gB,GAAK4B,KAAK,aAAc,OAAE+5B,WAAOK,IAAYz2C,MAAKkc,IAChD7d,KAAKoB,SAAS,CAAE42C,SAAS,IACrBn6B,GAAOA,EAAIw6B,QACbv1C,GAAQY,IAAI,SAAUma,EAAIw6B,SAAS12C,MAAnC,KACE6R,QAAQ2N,IAAI,SACZhC,GAAG7d,SAASK,MAAZ,KACEG,YAAU,IAAO9B,KAAK3J,MAAM4sC,QAAQxqC,KAAK,MAAM,WAG1ColB,GAAOA,EAAIS,QAClBvc,GAAMI,IAAInC,KAAK3J,MAAM6f,EAAE2H,EAAIS,SAAU,gBAErCvc,GAAMI,IAAInC,KAAK3J,MAAM6f,EAAE,SAAU,mBAKzCoiC,oBACEt4C,KAAKoB,SAAS,CAAEm3C,mBAAmB,IAGrC96C,SACE,OACE+6C,EADF,MAAA,CACOxqC,MAAM,SACTwqC,EADF,MAAA,CACOxqC,MAAM,cACTwqC,EADF,MAAA,CACOC,IAAG,IAAAz/B,IAAA0+B,OACN13C,KAAKpC,MAAM26C,mBACXC,EAAA,OAAA,KACEA,EAHJ,MAAA,CAGSxqC,MAAM,cACTwqC,EADF,QAAA,CAEI7hD,KAAK,QACLqX,MAAM,eACN0qC,UAAQ,EACRvjD,GAAG,QACHwjD,YAAa34C,KAAK3J,MAAM6f,EAAE,wBAG9BsiC,EARE,MAAA,CAQGxqC,MAAM,cACTwqC,EADF,QAAA,CAEI7hD,KAAK,WACLqX,MAAM,eACN0qC,UAAQ,EACRvjD,GAAG,WACHwjD,YAAa34C,KAAK3J,MAAM6f,EAAE,2BAG9BsiC,EARE,MAAA,CAQGxqC,MAAM,mBACTwqC,EADF,OAAA,CACQ5C,QAASn5C,GAAKuD,KAAKs4C,kBAAkB77C,IACxCuD,KAAK3J,MAAM6f,EAAE,qBAGlBsiC,EAJE,SAAA,CAKA7hD,KAAK,SACLqX,MAAM,gBACN4nC,QAASn5C,GAAKuD,KAAKk4C,cAAcz7C,GACjCm8C,SAAU54C,KAAKpC,MAAMo6C,SAEpBh4C,KAAK3J,MAAM6f,EAAE,eAIjBlW,KAAKpC,MAAM26C,mBACZC,EAAA,OAAA,KACEA,EAZA,MAAA,CAYKxqC,MAAM,cACTwqC,EADF,QAAA,CAEI7hD,KAAK,QACLqX,MAAM,eACN0qC,UAAQ,EACRvjD,GAAG,QACHwjD,YAAa34C,KAAK3J,MAAM6f,EAAE,wBAG9BsiC,EARE,SAAA,CASA7hD,KAAK,SACLqX,MAAM,gBACN4nC,QAASn5C,GAAKuD,KAAK83C,kBAAkBr7C,GACrCm8C,SAAU54C,KAAKpC,MAAMo6C,SAEpBh4C,KAAK3J,MAAM6f,EAAE,4BAnH1B2iC,QACA74C,KAAKpC,MAAQ,CACXu6C,WAAW,EACXn3C,MAAO,IAEThB,KAAKk4C,cAAgBl4C,KAAKk4C,cAAct2C,KAAK5B,MAC7CA,KAAK83C,kBAAoB93C,KAAK83C,kBAAkBl2C,KAAK5B,MACrDA,KAAKs4C,kBAAoBt4C,KAAKs4C,kBAAkB12C,KAAK5B,MAErD8C,GAAQe,IAAI,UAAUlC,MAAK+a,GAAUA,GAAU1c,KAAK3J,MAAM4sC,QAAQxqC,KAAK,eC2D3EqgD,GAAejB,IAAAA,CAAkBhD,iBAtEL/8C,EAM1BihD,gBAAgBt8C,GACdA,EAAEq5C,iBACFhzC,GAAQY,IAAI,SAAU,IACtB,MAAM00C,EAAWz5C,SAASsD,eAAe,YAAYxG,OAAS,GACxDu9C,EAAuBr6C,SAASsD,eAAe,yBAAyBxG,OAAS,GACjFw8C,EAAOnb,GAAOI,SAAS,QACvBrmC,EAAMimC,GAAOI,SAAS,OAC5B,GAAI+a,GAAQG,EAAU,CACpB,GAAIA,GAAYY,EAEd,YADAj3C,GAAMI,IAAInC,KAAK3J,MAAM6f,EAAE,yBAGzBkG,GACG4B,KAAK,oBAAqB,MAAEi6B,MAAMphD,WAAKuhD,IACvCz2C,MAAKkc,IACAA,EAAIw6B,SACNv1C,GAAQY,IAAI,SAAUma,EAAIw6B,SAC1Bv2C,YAAU,IAAO9B,KAAK3J,MAAM4sC,QAAQxqC,KAAK,MAAM,MAE/CsJ,GAAMI,IAAInC,KAAK3J,MAAM6f,EAAE2H,EAAIS,aAG9BhB,OAAMO,GAAOrK,QAAQC,KAAKoK,MAIjCpgB,SACE,OACE+6C,EADF,MAAA,CACOxqC,MAAM,SACTwqC,EADF,MAAA,CACOxqC,MAAM,cACTwqC,EADF,KAAA,CACMxqC,MAAM,SAAShO,KAAK3J,MAAM6f,EAAE,yBAChCsiC,EAAA,OAAA,KACEA,EAFF,MAAA,CAEOxqC,MAAM,cACTwqC,EADF,QAAA,CAEI7hD,KAAK,WACLqX,MAAM,eACN0qC,UAAQ,EACRvjD,GAAG,WACHwjD,YAAa34C,KAAK3J,MAAM6f,EAAE,+BAG9BsiC,EARE,MAAA,CAQGxqC,MAAM,cACTwqC,EADF,QAAA,CAEI7hD,KAAK,WACLqX,MAAM,eACN0qC,UAAQ,EACRvjD,GAAG,wBACHwjD,YAAa34C,KAAK3J,MAAM6f,EAAE,mCAG9BsiC,EARE,SAAA,CASA7hD,KAAK,SACLqX,MAAM,gBACN4nC,QAASn5C,GAAKuD,KAAK+4C,gBAAgBt8C,IAElCuD,KAAK3J,MAAM6f,EAAE,4BA3DxB2iC,QACA74C,KAAK+4C,gBAAkB/4C,KAAK+4C,gBAAgBn3C,KAAK5B,cCsErDi5C,GAAepB,IAAAA,CAAkBhD,iBAzEZ/8C,EAWnBohD,eAAez8C,GACbA,EAAEq5C,iBACF91C,KAAKoB,SAAS,CAAE+2C,WAAW,IAC3B,IAAIJ,EAAQp5C,SAASsD,eAAe,SAASxG,OAAS,GACtDs8C,EAAM57C,cACN,MAAMi8C,EAAWz5C,SAASsD,eAAe,YAAYxG,MACrDqH,GAAQY,IAAI,SAAU,IACtB0Y,GACG4B,KAAK,cAAe,OACnB+5B,WACAK,EACAe,WAAYn5C,KAAKpC,MAAMw7C,YAExBz3C,MAAKkc,IACAA,IAAQA,EAAIS,SACdxb,GAAQY,IAAI,SAAUma,EAAIw6B,SAC1Bv2C,YAAU,IAAO9B,KAAK3J,MAAM4sC,QAAQxqC,KAAK,MAAM,MAE/CsJ,GAAMI,IAAInC,KAAK3J,MAAM6f,EAAE2H,EAAIS,aAKnC7gB,SACE,OACE+6C,EADF,MAAA,CACOxqC,MAAM,UACTwqC,EADF,MAAA,CACOxqC,MAAM,eACTwqC,EADF,MAAA,CACOC,IAAI,+BACTD,EADA,MAAA,CACKxqC,MAAM,gBAAgBhO,KAAK3J,MAAM6f,EAAE,uBACxCsiC,EAAA,OAAA,KACEA,EAFF,MAAA,CAEOxqC,MAAM,cACTwqC,EADF,QAAA,CAEI7hD,KAAK,QACLqX,MAAM,eACN0qC,UAAQ,EACRvjD,GAAG,QACHwjD,YAAa34C,KAAK3J,MAAM6f,EAAE,wBAG9BsiC,EARE,MAAA,CAQGxqC,MAAM,cACTwqC,EADF,QAAA,CAEI7hD,KAAK,WACLqX,MAAM,eACN0qC,UAAQ,EACRvjD,GAAG,WACHwjD,YAAa34C,KAAK3J,MAAM6f,EAAE,2BAG9BsiC,EARE,SAAA,CASA7hD,KAAK,SACLqX,MAAM,gBACN4nC,QAASn5C,GAAKuD,KAAKk5C,eAAez8C,IAEjCuD,KAAK3J,MAAM6f,EAAE,4BA9DxB2iC,QACA74C,KAAKpC,MAAQ,CACXu6C,WAAW,EACXn3C,MAAO,GACPo4C,UAAWtc,GAAOI,SAAS,cAE7Bl9B,KAAKk5C,eAAiBl5C,KAAKk5C,eAAet3C,KAAK5B,cCUnDq5C,GAAexB,IAAAA,eAnBsB//C,EAcnC2F,SACE,OAAO+6C,EAAA,MAAA,KAAMx4C,KAAKpC,MAAM0gB,SAAW,kBAbnCu6B,QACAz8B,GACGvY,IADH,OACgBI,OAAO0V,SAASF,YAC7B9X,MAFH,KAGI3B,KAAKoB,SAAS,CAAEkd,QAASte,KAAK3J,MAAM6f,EAAE,oCAEvCoH,OAAMnY,IACLqO,QAAQC,KAAKtO,GACbnF,KAAKoB,SAAS,CAAEkd,QAASte,KAAK3J,MAAM6f,EAAE,uBCZzBojC,WAAsBxhD,EACzC2F,SACE,MAAM87C,EAAQ,GACTv5C,KAAK3J,MAAM0iB,2EAEhB,OAAI/Y,KAAKpC,MAAM47C,SAEXhB,EADF,MAAA,CACOxqC,MAAM,yDACTwqC,EADF,SAAA,CACUxqC,MAAM,wBAAwByqC,IAAKc,KAK/Cf,EADF,MAAA,CAEIxqC,MAAM,gBACN4nC,QAAO,IAAQ51C,KAAKoB,SAAS,CAAEo4C,UAAU,KAEzChB,EAJF,MAAA,CAIOxqC,MAAM,aACXwqC,EADA,MAAA,CACKC,IAAKz4C,KAAK3J,MAAMojD,kBClBRC,WAAqB5hD,EACxC2F,SACE,OAAIuC,KAAKpC,MAAM47C,SAEXhB,EADF,MAAA,CACOxqC,MAAM,2CACTwqC,EADF,SAAA,CAEImB,iBAAe,EACf3rC,MAAM,wBACNyqC,IAAKz4C,KAAK3J,MAAM0iB,OAMtBy/B,EADF,MAAA,CAEIxqC,MAAM,gBACN4nC,QAAO,IAAQ51C,KAAKoB,SAAS,CAACo4C,UAAU,KAExChB,EAJF,MAAA,CAIOnqC,UAAWrO,KAAK3J,MAAMujD,eAC3BpB,EADA,MAAA,CACKC,IAAKz4C,KAAK3J,MAAMojD,kBChBRI,WAAmB/hD,EACtCgiD,iBACMC,EAAAvf,EAGJ,IAHI,QAAAuf,EAAA/5C,KAAK3J,aAAL,IAAA0jD,GAAA,QAAAvf,EAAAuf,EAAYh7C,YAAZ,IAAAy7B,OAAA,EAAAA,EAAkBnc,YACpB7K,QAAQC,KAAKzT,KAAK3J,MAAM0I,MAEtBiB,KAAK3J,MAAM0I,KAAX,aAAiC,CACnC,GAAI,YAAciB,KAAK3J,MAAM0I,KAAX,aAAgC5C,eAE1C6D,KAAK3J,MAAM0I,KAAX,KACF,OACEy5C,EADF,MAAA,CACOxqC,MAAM,kBAAkB/O,wBAAyB,CAAE+6C,OAAQh6C,KAAK3J,MAAM0I,KAAX,QAIxE,GAAI,cAAgBiB,KAAK3J,MAAM0I,KAAX,aAAgC5C,eAC5C6D,KAAK3J,MAAM0I,KAAX,KACF,OACEy5C,EAACyB,GADH,CAEIR,QAAS5gC,GAAK6C,KAAK1b,KAAK3J,MAAMojD,QAAQtkD,GAAI,KAAM,KAChD4jB,IAAG,GACE/Y,KAAK3J,MAAM0I,KAAX,KAAwBsb,MAAxB,qBAAmD,oBAGxDu/B,aAAc,eAKxB,GAAI,YAAc55C,KAAK3J,MAAM0I,KAAX,aAAgC5C,eAC5C6D,KAAK3J,MAAM0I,KAAX,KAAyB,CAC3B,IAAI5J,EAAK6K,KAAK3J,MAAM0I,KAAX,KAAwBsb,MAAxB,yBAIT,GAHKllB,IACHA,EAAK6K,KAAK3J,MAAM0I,KAAX,KAAwBsb,MAAxB,0BAEHllB,EACF,OACEqjD,EAAC0B,GADH,CAEET,QAAS5gC,GAAK6C,KAAK1b,KAAK3J,MAAMojD,QAAQtkD,GAAI,KAAM,KAChD4jB,IAAK5jB,EAAG,KAMhB,GAAI,eAAiB6K,KAAK3J,MAAM0I,KAAX,aAAgC5C,cAAe,KACxDg+C,EAAgCzf,EAAoCC,EAA9E,IAAI5hB,GAAM,QAAAjiB,EAAAkJ,KAAK3J,aAAL,IAAAS,GAAA,QAAAqjD,EAAArjD,EAAYiI,YAAZ,IAAAo7C,OAAA,EAAAA,EAAkBphC,MAAuC,iBAAzB,QAAA2hB,EAAA16B,KAAK3J,aAAL,IAAAqkC,OAAA,EAAAA,EAAY37B,KAAKga,KAAmB,QAAA4hB,EAAA36B,KAAK3J,MAAM0I,YAAX,IAAA47B,OAAA,EAAAA,EAAiB5hB,IAAM/Y,KAAK3J,MAAM0iB,IAChH,GAAIF,GAAKC,WAAWC,KAASA,EAAIsB,MAAJ,WAAuBtB,EAAIsB,MAAJ,WAAuBtB,EAAIsB,MAAJ,QAAmB,CAE5F,IAAIllB,EADJ4jB,EAAM,IAAIC,IAAID,EAAI7c,QAAQ,eAAgB,uBAE1C,IACE/G,EAAK4jB,EAAIU,SAASnC,MAAM,KAAK5hB,OAAM,GAAI,GACvC,MAAO+G,GACPtH,EAAK,GAGP,GADA4jB,EAAM,IAAIC,IAAID,EAAI4iB,KAAKz/B,QAAQ/G,EAAIA,EAAGO,MAAM,EAAG,KAC3CP,EACF,OACEqjD,EAACyB,GADH,CAEIR,QAAS5gC,GAAK6C,KAAK1b,KAAK3J,MAAMojD,QAAQtkD,GAAI,IAAK,KAC/C4jB,IAAKA,EACL6gC,aAAc,aAMxB,GAAI,WAAa55C,KAAK3J,MAAM0I,KAAX,aAAgC5C,cAAe,KACpDi+C,EAAgCC,EAAoCrf,EAC1Esf,EAAAC,EADJ,IAAIxhC,GAAM,QAAAjiB,EAAAkJ,KAAK3J,aAAL,IAAAS,GAAA,QAAAsjD,EAAAtjD,EAAYiI,YAAZ,IAAAq7C,OAAA,EAAAA,EAAkBrhC,MAAuC,iBAAzB,QAAAshC,EAAAr6C,KAAK3J,aAAL,IAAAgkD,OAAA,EAAAA,EAAYt7C,KAAKga,KAAmB,QAAAiiB,EAAAh7B,KAAK3J,MAAM0I,YAAX,IAAAi8B,OAAA,EAAAA,EAAiBjiB,IAAM/Y,KAAK3J,MAAM0iB,IAChH,IAAI,QAAAuhC,EAAAt6C,KAAK3J,aAAL,IAAAikD,GAAA,QAAAC,EAAAD,EAAYb,eAAZ,IAAAc,OAAA,EAAAA,EAAqBplD,KAAM4jB,EAC7B,OACEy/B,EAACyB,GADH,CAEIR,QAAS5gC,GAAK6C,KAAK1b,KAAK3J,MAAMojD,QAAQtkD,GAAI,KAAM,KAChD4jB,IAAG,GACEA,EAAI7c,QAAQ,WAAY,+CAE7B09C,aAAc,YAKtB,GAAI,aAAe55C,KAAK3J,MAAM0I,KAAX,aAAgC5C,cAAe,KACtDrF,EAAA0jD,EAAgCC,EAAoCC,EAC1EC,EAAAC,EADJ,IAAI7hC,GAAM,QAAAjiB,EAAAkJ,KAAK3J,aAAL,IAAAS,GAAA,QAAA0jD,EAAA1jD,EAAYiI,YAAZ,IAAAy7C,OAAA,EAAAA,EAAkBzhC,MAAuC,iBAAzB,QAAA0hC,EAAAz6C,KAAK3J,aAAL,IAAAokD,OAAA,EAAAA,EAAY17C,KAAKga,KAAmB,QAAA2hC,EAAA16C,KAAK3J,MAAM0I,YAAX,IAAA27C,OAAA,EAAAA,EAAiB3hC,IAAM/Y,KAAK3J,MAAM0iB,IAChH,IAAI,QAAA4hC,EAAA36C,KAAK3J,aAAL,IAAAskD,GAAA,QAAAC,EAAAD,EAAYlB,eAAZ,IAAAmB,OAAA,EAAAA,EAAqBzlD,KAAM4jB,EAC7B,OACEy/B,EAACyB,GADH,CAEIR,QAAS5gC,GAAK6C,KAAK1b,KAAK3J,MAAMojD,QAAQtkD,GAAI,KAAM,KAChD4jB,IAAG,GACEA,EAAI7c,QAAQ,WAAY,YAE7B09C,aAAc,aAMxB,MAAA,QAAYj+C,KAAKqE,KAAK3J,MAAM0I,KAAK,iBAE7By5C,EADF,MAAA,CACOxqC,MAAM,wEACTwqC,EADF,MAAA,CAEI,YAAWx4C,KAAK3J,MAAMwkD,SACtBlf,KAAM9iB,GAAKa,MAAM1Z,KAAK3J,MAAM0iB,KAC5B/K,MAAM,2BACN,cAAahO,KAAK3J,MAAM0iB,IACxB,WACE/Y,KAAK3J,MAAMojD,UAAX,MAA6B99C,KAAKqE,KAAK3J,MAAM0I,KAAK,iBAC9C8Z,GAAK0C,UAAUvb,KAAK3J,MAAMojD,QAAQtkD,GAAI,KAAM,KAC5C6K,KAAK3J,MAAM0iB,IAEjB0/B,IACEz4C,KAAK3J,MAAMojD,UAAX,MAA6B99C,KAAKqE,KAAK3J,MAAM0I,KAAK,iBAC9C8Z,GAAK0C,UAAUvb,KAAK3J,MAAMojD,QAAQtkD,GAAI,KAAM,OAC5C6K,KAAK3J,MAAM0iB,OAOzB,QAAYpd,KAAKqE,KAAK3J,MAAM0I,KAAK,kBAAuD,mBAAnCiB,KAAK3J,MAAM0I,KAAK,gBAEjEy5C,EADF,MAAA,CACOxqC,MAAM,wEACTwqC,EADF,QAAA,CACSxqC,MAAM,YAAY8sC,UAAQ,EAACrC,IAAKz4C,KAAK3J,MAAM0iB,OAIxD,QAAYpd,KAAKqE,KAAK3J,MAAM0I,KAAK,iBAE7By5C,EADF,MAAA,CACOxqC,MAAM,wEACTwqC,EADF,QAAA,CACSxqC,MAAM,QAAQ8sC,UAAA,GACnBtC,EADF,SAAA,CACUC,IAAKz4C,KAAK3J,MAAM0iB,QAM9B/Y,KAAK3J,MAAM0I,KAAX,QACCiB,KAAK3J,MAAMojD,SAAWz5C,KAAK3J,MAAM0I,KAAX,aAGrBy5C,EADF,IAAA,CAEIxqC,MAAM,4CACNgD,OAAO,SACP+pC,IAAI,aACJpf,KAAM9iB,GAAKa,MAAM1Z,KAAK3J,MAAM0iB,MAE5By/B,EANF,MAAA,CAMOxqC,MAAM,OAAOxS,MAAM,oBACrBwE,KAAK3J,MAAMojD,SACVjB,EAFJ,MAAA,CAGMxqC,MAAM,eACNyqC,IAAK5/B,GAAK6C,KAAK1b,KAAK3J,MAAMojD,QAAQtkD,GAAI,IAAK,OAG/CqjD,EALE,MAAA,CAKGxqC,MAAM,iBACTwqC,EAAA,KAAA,KAAKx4C,KAAK3J,MAAM0I,KAAX,OACJiB,KAAK3J,MAAM0I,KAAX,aACCy5C,EAAA,IAAA,KACEA,EAAA,QAAA,KAAQx4C,KAAK3J,MAAM0I,KAAX,YAA+BrJ,MAAM,EAAG,UAQvD,KAGT+H,SACE,IAAKuC,KAAK3J,MAAM0iB,MAAQ/Y,KAAK3J,MAAM0I,KACjC,OAAO,KAET,IAAI06C,EAAUz5C,KAAK85C,aACnB,OAAIL,EACKjB,EAAP,IAAA,CAAUxqC,MAAM,yBAAyByrC,GAEpC,MClLJ,MAAMuB,iBCEuBljD,EA4BlC2F,SACE,MAAMw9C,EAAOj7C,KAAKpC,MAAMoC,KAAK3J,MAAM6kD,QAAQl7C,KAAK3J,MAAM4kD,MACtD,OACEA,GACEzC,EAFJ,MAAA,CAGMh9C,MAAOwE,KAAK3J,MAAM8kD,SAAX,qBAA2Cn7C,KAAK3J,MAAM8kD,YAAc,KAC3E9sC,UAAS,WAAerO,KAAK3J,MAAM6kD,UAAcl7C,KAAK3J,MAAM4kD,QAAQj7C,KAAK3J,MAAM8kD,WAC/EC,QAAO,OAAWH,EAAK,MAAUA,EAAK,MAEtCzC,EALF,OAAA,CAKQ6C,KAAK,eAAexgC,EAAGogC,EAAK,kBApC9B5kD,GACVwiD,MAAMxiD,GACN2J,KAAKpC,MAAQ,CACX09C,QAAS,CACPC,QAAS,CAAC,IAAK,IAAK,GAAI,OAAQ,0bAChCC,SAAU,CAAC,IAAK,IAAK,GAAI,OAAQ,8JACjCC,OAAQ,CAAE,IAAK,IAAK,GAAI,OAAQ,wjBAChC,eAAgB,CAAC,IAAK,IAAK,GAAI,OAAQ,yfACvC,WAAY,CAAC,IAAK,IAAK,GAAI,OAAQ,kyBACnCC,KAAM,CAAC,IAAK,IAAK,GAAI,OAAQ,6jBAC7B,iBAAkB,CAAC,IAAK,IAAK,GAAI,OAAQ,gSAE3CC,MAAO,CACLH,SAAU,CAAC,IAAK,IAAK,GAAI,OAAQ,gFACjCD,QAAS,CAAC,IAAK,IAAK,GAAI,OAAQ,gOAChC,aAAc,CAAC,IAAK,IAAK,GAAI,OAAQ,qdACrC,aAAc,CAAC,IAAK,IAAK,GAAI,OAAQ,4PACrC,aAAc,CAAC,IAAK,IAAK,GAAI,OAAQ,2HACrCK,KAAM,CAAC,IAAK,IAAK,GAAI,OAAQ,wkCAC7BC,MAAO,CAAC,IAAK,IAAK,GAAI,OAAQ,maAC9BH,KAAM,CAAC,IAAK,IAAK,GAAI,OAAQ,iZAC7B,aAAc,CAAC,IAAK,IAAK,GAAI,OAAQ,6NACrCn8B,OAAQ,CAAC,IAAK,IAAK,GAAI,OAAQ,mYC3BvCiH,EAAAjW,QAAkBjb,EAAA,QAAA,CAAuCA,EAAA,SAAAqiD,aAA6C,SAAWriD,EAAA,SAAAuM,QAA6C,UAAWF,MAAI,IAAOrM,EAAc,gDCAlM,8BAIAkxB,EAAAjW,QAAiBurC,GAAY,SAAUC,GACrC,OAAO,IAAIr6C,SAAQ,SAAUG,EAAS0c,GAEpC,IAAIy9B,EAAkBr9C,SAASs9C,qBAAqB,UAEpD,GAAI,GAAGvtC,OAAOstC,GAAiBhjD,MAAK,SAAyBkjD,GAC3D,OAAOA,EAAOzD,MAAQsD,KAEtBl6C,QAHF,CAOA,IAAIq6C,EAASv9C,SAASjI,cAAc,UACpCwlD,EAAO5iB,OAAQ,EACf4iB,EAAOvlD,KAAO,kBACdulD,EAAOC,QAAU,QACjBD,EAAOzD,IAAMsD,EAEbG,EAAOE,QAAU,SAAU3/C,GACzBy/C,EAAOE,QAAUF,EAAOG,OAAS,KACjCH,EAAOl6C,SACPuc,EAAO9hB,IAGTy/C,EAAOG,OAAS,WACdH,EAAOE,QAAUF,EAAOG,OAAS,KACjCx6C,KAGFlD,SAASs9C,qBAAqB,QAAQ,GAAG7gD,YAAY8gD,+CCjCzD,aAEA,IAAII,EAAgB,GAChBC,EAAiB,GACjBC,EAAmB,YAEdC,EAAS9lD,GAChB,OAAQA,GACN,IAAK,UACH,OAAO4lD,EAET,IAAK,WACH,OAAOC,UAGP,OAAOF,GAIb91B,EAAAjW,QAAiB,SAAUH,EAAQzZ,GACjC,OAAO,SAAUolD,GACf,IAAInJ,EAAQ6J,EAAS9lD,GAErB,OAAIi8C,EAAMmJ,GACDnJ,EAAMmJ,GAGRnJ,EAAMmJ,GAAU3rC,EAAOb,MAAM,KAAMvY,WAAWsmB,OAAM,SAAU7gB,GAEnE,aADOm2C,EAAMmJ,GACPt/C,cCgNZigD,GAAe7E,IAAAA,eAxOQ//C,EAgBrB6kD,WAAWC,GACTA,EAAIC,kBACJD,EAAI9G,iBACgC,mBAAzB91C,KAAK3J,MAAMsmD,YACpB38C,KAAK3J,MAAMsmD,WAAWC,EAAIE,cAAc3V,aAAa,cAIzD4V,oBAAoBC,GAClB,IAAIC,EAAWD,EAAKE,WAAL,UAA4BF,EAAKE,aAAe,KAC3DnkC,EAAMkkC,EAKV,OAJA,QAAYthD,KAAKqhD,EAAKrmD,OAAsB,aAAbqmD,EAAKrmD,OAElCoiB,EAAMF,GAAK0C,UAAUyhC,EAAK7nD,GAAI,KAAM,SAE9B6nD,EAAKjgC,QACX,IAAK,MACH,OACEy7B,EADF,IAAA,CACKxqC,MAAM,WACPwqC,EADF,MAAA,CACOxqC,MAAM,aACTwqC,EAAC2E,GADH,CACUjC,OAAQ,UAAWD,KAAM,mBAIzC,IAAK,UACH,OACEzC,EADF,IAAA,CACKxqC,MAAM,WACPwqC,EADF,MAAA,CAEIxqC,MAAM,sBACNxS,MAAK,yBAA2Bqd,GAAK6C,KAAKshC,EAAK7nD,GAAI,IAAK,WAE1DqjD,EAJA,MAAA,CAIKxqC,MAAM,0BACTwqC,EAAA,MAAA,MAAOA,EAAA,MAAA,MAAOA,EAAA,MAAA,MAAOA,EAAA,MAAA,MAAOA,EAAA,MAAA,OAE5BwE,GAAQA,EAAKI,SAAW,GACxB5E,EAJF,MAAA,CAIOxqC,MAAM,gBACTwqC,EADF,MAAA,CACOh9C,MAAO,CAAEggB,MAAK,GAAKwhC,EAAKI,yBAOrC,GAAA,MAAUzhD,KAAKqhD,EAAKrmD,OAAhB,QAAiCgF,KAAKqhD,EAAKrmD,OAAsB,aAAbqmD,EAAKrmD,KAC3D,OACE6hD,EADF,IAAA,CAEI,YAAWx4C,KAAK3J,MAAMwkD,SACtB,cAAahiC,GAAKa,MAAMujC,GACxBthB,KAAO37B,KAAK3J,MAAMwkD,cAA6BnjD,EAAlBmhB,GAAKa,MAAMX,GACxC1K,UAAS,iBAAkB2uC,EAAKK,QAAU,WAAa,KAEvD7E,EANF,MAAA,CAOInqC,UAAS,aAAc2uC,EAAKK,QAAU,WAAa,IACnD7hD,MAAK,yBACsBqd,GAAK6C,KAAKshC,EAAK7nD,GAAI,IAAK,WAGrDqjD,EANA,MAAA,CAOExqC,MAAM,gBACNxS,MAAOwhD,EAAKK,QAAU,YAAc,GACpCC,UAAWN,EAAKM,UAChB1H,QAASn5C,GAAKuD,KAAK28C,WAAWlgD,IAE9B+7C,EAAC2E,GANH,CAMUjC,OAAQ,QAASD,KAAM,YAKvC,GAAA,QAAYt/C,KAAKqhD,EAAKrmD,OAAsB,aAAbqmD,EAAKrmD,KAClC,OACE6hD,EADF,IAAA,CAEI,YAAWx4C,KAAK3J,MAAMwkD,SACtB,cAAahiC,GAAKa,MAAMujC,GACxB,WAAUpkC,GAAK0C,UAAUyhC,EAAK7nD,GAAI,KAAM,KACxCwmC,KAAO37B,KAAK3J,MAAMwkD,cAA6BnjD,EAAlBmhB,GAAKa,MAAMX,GACxC/K,MAAM,WAENwqC,EAPF,MAAA,CAQInqC,UAAS,aAAc2uC,EAAKK,QAAU,WAAa,IACnD7hD,MAAK,yBACsBqd,GAAK6C,KAAKshC,EAAK7nD,GAAI,IAAK,WAGrDqjD,EANA,MAAA,CAOExqC,MAAM,gBACNxS,MAAOwhD,EAAKK,QAAU,YAAc,GACpCC,UAAWN,EAAKM,UAChB1H,QAASn5C,GAAKuD,KAAK28C,WAAWlgD,IAE9B+7C,EAAC2E,GANH,CAMUjC,OAAQ,QAASD,KAAM,aAQ7CsC,cAAcP,GACZ,IAAIC,EAAWD,EAAKE,WAAL,UAA8BF,EAAKE,aAAe,KAC7DnkC,EAAMkkC,EAKV,GAJA,QAAYthD,KAAKqhD,EAAKrmD,OAAsB,aAAbqmD,EAAKrmD,OAElCoiB,EAAMF,GAAK0C,UAAUyhC,EAAK7nD,GAAI,KAAM,SAElC6nD,EAAKE,WAAY,CACnB,GAAA,QAAYvhD,KAAKqhD,EAAKrmD,MACpB,MAAmB,SAAfqmD,EAAKjgC,OAELy7B,EADF,QAAA,CAEIgF,OAAQ3kC,GAAK0C,UAAUyhC,EAAK7nD,GAAI,KAAM,KACtC6Y,MAAM,mCACN8sC,SAAS,OACTrC,IAAK1/B,IAKTy/B,EADF,IAAA,CACKxqC,MAAM,wBACPwqC,EADF,MAAA,CAEIxqC,MAAM,sBACNyqC,IAAK5/B,GAAK6C,KAAKshC,EAAK7nD,GAAI,IAAK,OAE/BqjD,EAJA,MAAA,CAIKxqC,MAAM,mBACRhO,KAAK3J,MAAM6f,EAAE,qBAKtB,GAAA,MAAUva,KAAKqhD,EAAKrmD,MAClB,OACE6hD,EADF,IAAA,CAEI,YAAWx4C,KAAK3J,MAAMwkD,SACtB,cAAahiC,GAAKa,MAAMujC,GACxBthB,KAAO37B,KAAK3J,MAAMwkD,cAA6BnjD,EAAlBmhB,GAAKa,MAAMX,GACxC1K,UAAS,qBAAsB2uC,EAAKK,QAAU,WAAa,KAE3D7E,EANF,MAAA,CAMOxqC,MAAM,YAAYyqC,IAAK5/B,GAAK0C,UAAUyhC,EAAK7nD,GAAI,IAAO,OAC3DqjD,EADA,MAAA,CAEExqC,MAAM,gBACNxS,MAAOwhD,EAAKK,QAAU,YAAc,GACpCC,UAAWN,EAAKM,UAChB1H,QAASn5C,GAAKuD,KAAK28C,WAAWlgD,IAE9B+7C,EAAC2E,GANH,CAMUjC,OAAQ,QAASD,KAAM,YAKvC,GAAA,QAAYt/C,KAAKqhD,EAAKrmD,MACpB,OACE6hD,EADF,IAAA,CAEI,YAAWx4C,KAAK3J,MAAMwkD,SACtB,cAAahiC,GAAKa,MAAMujC,GACxBthB,KAAO37B,KAAK3J,MAAMwkD,cAA6BnjD,EAAlBmhB,GAAKa,MAAMX,GACxC1K,UAAS,SAAY2uC,EAAKK,QAAU,WAAa,KAEjD7E,EANF,MAAA,CAMOxqC,MAAM,YAAYyqC,IAAK1/B,IAC5By/B,EADA,MAAA,CAEExqC,MAAM,gBACNxS,MAAOwhD,EAAKK,QAAU,YAAc,GACpCC,UAAWN,EAAKM,UAChB1H,QAASn5C,GAAKuD,KAAK28C,WAAWlgD,IAE9B+7C,EAAC2E,GANH,CAMUjC,OAAQ,QAASD,KAAM,YAMzC,OACEzC,EADF,MAAA,CACOxqC,MAAM,oBACRgvC,EAAI,MACHxE,EAFJ,MAAA,CAESxqC,MAAM,gBAAX,KAEAwqC,EAFA,MAAA,CAEKxqC,MAAM,0BACTwqC,EAAA,MAAA,MAAOA,EAAA,MAAA,MAAOA,EAAA,MAAA,MAAOA,EAAA,MAAA,MAAOA,EAAA,MAAA,OAGhCA,EAJE,MAAA,CAIGxqC,MAAM,gBACTwqC,EADF,MAAA,CACOh9C,MAAO,CAAEggB,MAAK,GAAKwhC,EAAKI,iBAMrC3/C,SACE,OAAKuC,KAAK3J,MAAMonD,OAAqC,IAA5Bz9C,KAAK3J,MAAMonD,MAAMvoD,OAGtC8K,KAAK3J,MAAMonD,OAASz9C,KAAK3J,MAAMonD,MAAMvoD,OAAS,EAE9CsjD,EADF,MAAA,CACOxqC,MAAM,aACRhO,KAAK3J,MAAMonD,MACT5kD,MADF,CACQC,EAAGC,IAAOD,EAAEwkD,UAAYvkD,EAAEukD,UAAY,GAAI,IAChDnzC,KAAI1N,GAAKuD,KAAK+8C,oBAAoBtgD,MAKzC+7C,EADF,MAAA,CACOxqC,MAAM,2CACRhO,KAAK3J,MAAMonD,MACT5kD,MADF,CACQC,EAAGC,IAAOD,EAAEwkD,UAAYvkD,EAAEukD,UAAY,GAAI,IAChDnzC,KAAI1N,GAAKuD,KAAKu9C,cAAc9gD,MAf1B,KAoBXsB,oBACEzI,EAAA,SAA2BqM,MAAK+7C,GAAOA,EAAIltC,QAAQmtC,UAGrDv/C,qBACE9I,EAAA,SAA2BqM,MAAK+7C,GAAOA,EAAIltC,QAAQmtC,sBAnOzCtnD,GACVwiD,MAAMxiD,GACN2J,KAAK28C,WAAa38C,KAAK28C,WAAW/6C,KAAK5B,MACvC,IAAIy9C,EAAQ,GACRjjD,MAAMC,QAAQpE,EAAMonD,QACtBpnD,EAAMonD,MAAMv/C,SAAZ,CAAqBzB,EAAGxH,KACH,MAAfwH,EAAE6gD,YACJ7gD,EAAE6gD,UAAYroD,GAEhBwoD,EAAM18C,OAAOtE,EAAE6gD,UAAW,EAAG7gD,MAGjCuD,KAAKpC,MAAQ,OAAE6/C,YCbEG,WAAoB9lD,EAMvC+lD,qBACE,IAAK79C,KAAK3J,MAAMioB,QAAQvf,KACtB,MAAO,GAGT,IAAIqb,EAAMpa,KAAK3J,MAAMioB,QAAQvf,KAAnB,KACP7C,QADO,KACO,QACdA,QAFO,KAEO,QACd+2B,OAECvP,EAAQ,EACRrJ,EAAQ,UACJA,EAAQxB,GAAKsB,OAAOC,EAAI1kB,MAAMguB,KAAU,CAC9C,IAAI3K,EAAMsB,EAAM,GACZtB,EAAI7jB,QAAU,KAChB6jB,EAAG,GAAMA,EAAIrjB,MAAM,EAAG,SAAaqjB,EAAIrjB,OAAM,OAE/C,IAAI6kB,EAAI,YAAeF,EAAM,uBAAuBtB,QACpDqB,EACEA,EAAI1kB,MAAM,EAAG2kB,EAAK,MAAYqJ,GAC9BnJ,EACAH,EAAI1kB,MAAM2kB,EAAK,MAAYqJ,EAAQrJ,EAAM,GAAGnlB,QAC9CwuB,GAASrJ,EAAK,MAAYE,EAAKrlB,OAIjC,OADAklB,EAAMA,EAAIle,QAAJ,MAAmB,SAClB,CAAE89C,OAAQ5/B,GAGnBrc,oBACEiC,KAAK7B,sBAGPA,sBACE,IAAK6B,KAAKpC,MAAMkgD,YAAc99C,KAAK3J,MAAMioB,SACnCte,KAAK3J,MAAMioB,QAAQvf,KAAM,CAC3B,IAAIg/C,EAAallC,GAAKsB,OAAOna,KAAK3J,MAAMioB,QAAQvf,KAAnB,MACzBg/C,EACF3hC,GACGvY,IADH,yBACgCkoC,mBAAmBgS,EAAW,OAC3Dp8C,MAAK7B,IACJE,KAAKoB,SAAS,CACZq4C,QAAS35C,EACTg+C,YAAY,OAIlB99C,KAAKoB,SAAS,CACZ08C,YAAY,KAOtBrgD,SACE,OACE+6C,EADF,MAAA,CACOxqC,MAAM,gBACRhO,KAAK3J,MAAMioB,QAAQvf,MAAQiB,KAAK3J,MAAMioB,QAAQvf,KAAKi/C,OAClDxF,EAFJ,MAAA,CAESxqC,MAAM,SACTwqC,EAAA,OAAA,KAAOx4C,KAAK3J,MAAMioB,QAAQvf,KAAKi/C,QAGlCh+C,KAAK3J,MAAMioB,QAAQvf,MAClBiB,KAAK3J,MAAMioB,QAAQvf,KAAKqD,MACxBpC,KAAK3J,MAAMioB,QAAQvf,KAAKqD,KAAK6wB,QAC3BulB,EAPF,IAAA,CAQIxqC,MAAM,YACN/O,wBAAyBe,KAAK69C,uBAGnC79C,KAAKpC,MAAM67C,WAAaz5C,KAAK3J,MAAMioB,QAAQvf,OAASiB,KAAK3J,MAAMioB,QAAQvf,KAAnB,WACnDy5C,EAACyF,GANC,CAOApnD,IAAKmJ,KAAKpC,MAAM67C,QAAQ1gC,IACxBA,IAAK/Y,KAAKpC,MAAM67C,QAAQ1gC,IACxB0gC,QAASz5C,KAAKpC,MAAM67C,QAAQA,QAC5B16C,KAAMiB,KAAKpC,MAAM67C,QAAQ16C,OAG5BiB,KAAK3J,MAAMonD,OACVjF,EAACkE,GARD,CAQUe,MAAOz9C,KAAK3J,MAAMonD,qBArFxBpnD,GACVwiD,MAAMxiD,GACN2J,KAAKpC,MAAQ,CAAE67C,QAAS,WCiH5ByE,GAAerG,IAAAA,eApHe//C,EAW5BqmD,WAAWvhD,GACT,MAAMwhD,EAASxhD,EAAMyhD,OACjBD,EAAOrvC,QAAU8J,GAAKyC,MAAM8iC,EAAOrvC,SAAW/O,KAAK3J,MAAMlB,IAC3D6K,KAAKoB,UAASk9C,IAAS,CACrBC,mBAAoBD,EAAUC,mBAAqB,MAKzDC,cACE,IAAIC,EAAsB,EACtBF,EAAqB,EACzB,GAAIv+C,KAAK3J,MAAMqoD,cAAcxpD,OAAQ,CACnC,IAAIypD,EAAW7hB,GAAOr1B,OAClBzH,KAAK3J,MAAMqoD,cAAcE,WAAUniD,GAAKA,GAAKA,EAAEtH,KAAO2nC,GAAOr1B,UAC7D,GACY,GAAZk3C,GACFF,EAAsBrlC,KAAKsuB,IAAI,EAAGiX,EAAW,GAC7CJ,EAAqBnlC,KAAKquB,IACxBznC,KAAK3J,MAAMqoD,cAAcxpD,OACzBypD,EAAW,KAGbF,EACEz+C,KAAK3J,MAAMqoD,eAAiB1+C,KAAK3J,MAAMqoD,cAAcxpD,OAAS,EAChEqpD,EACEv+C,KAAK3J,MAAMqoD,eAAiB1+C,KAAK3J,MAAMqoD,cAAcxpD,QAG3D8K,KAAKoB,SAAS,qBACZq9C,qBACAF,IAIJM,0BACE7+C,KAAKoB,UAASk9C,IAAS,CACrBG,oBAAqBrlC,KAAKsuB,IAAI,EAAG4W,EAAUG,oBAAsB,QAIrEK,sBACE9+C,KAAKoB,UAASk9C,IAAS,CACrBC,mBAAoBnlC,KAAKquB,IACvBznC,KAAK3J,MAAMqoD,cAAcxpD,OACzBopD,EAAUC,mBAAqB,QAKrCxgD,oBACEiC,KAAKw+C,cAGP/gD,SACE,OACEuC,KAAKpC,MAAM2gD,mBAAqBv+C,KAAKpC,MAAM6gD,oBAAsB,IAChEz+C,KAAK3J,MAAMqoD,cAEL,KAGPlG,EADF,MAAA,CACOxqC,MAAM,YACRhO,KAAKpC,MAAM6gD,oBAAsB,GAChCjG,EAFJ,MAAA,CAESxqC,MAAM,UACTwqC,EADF,IAAA,CAEIxqC,MAAM,yBACN4nC,QAAO,IAAQ51C,KAAK6+C,2BAEnB7+C,KAAK3J,MAAM6f,EAAE,mBAInBlW,KAAK3J,MAAMqoD,cAAcv0C,KAAzB,CAA8B1N,EAAGxH,IAE9BA,EAAI+K,KAAKpC,MAAM6gD,qBACfxpD,EAAI+K,KAAKpC,MAAM2gD,mBAER,KAIP/F,EAACuG,GADH,CAEI5pD,GAAIsH,EAAEtH,GACN0B,IAAK4F,EAAEtH,GACP6pD,SAAUh/C,KAAK3J,MAAM2oD,aAI1Bh/C,KAAKpC,MAAM2gD,mBAAqB,EAC/Bv+C,KAAK3J,MAAMqoD,cAAcxpD,QACzBsjD,EAHD,MAAA,CAGMxqC,MAAM,UACTwqC,EADF,OAAA,CAEIxqC,MAAM,yBACN4nC,QAAO,IAAQ51C,KAAK8+C,uBAEnB9+C,KAAK3J,MAAM6f,EAAE,4BA1Gd7f,GACVwiD,MAAMxiD,GACN2J,KAAKm+C,WAAan+C,KAAKm+C,WAAWv8C,KAAK5B,MACvCA,KAAKw+C,YAAcx+C,KAAKw+C,YAAY58C,KAAK5B,MACzCA,KAAK6+C,wBAA0B7+C,KAAK6+C,wBAAwBj9C,KAAK5B,MACjEA,KAAK8+C,oBAAsB9+C,KAAK8+C,oBAAoBl9C,KAAK5B,MACzDA,KAAKpC,MAAQ,CAAE6gD,oBAAqB,EAAGF,mBAAoB,GAC3Dt6C,OAAO5H,iBAAiB,WAAY2D,KAAKm+C,6BCT3C,OACE3F,EADF,MAAA,CACOxqC,MAAM,uBACTwqC,EAAA,MAAA,KACEA,EAFJ,MAAA,CAGMnqC,UAAS,yCAELrO,KAAK3J,MAAM4oD,QAAUj/C,KAAK3J,MAAM4oD,OAAOpjD,KAAO,GAAK,iBAEvDL,MAAOqd,GAAKiD,eACV9b,KAAK3J,MAAM4oD,QAAUj/C,KAAK3J,MAAM4oD,OAAOpjD,KAAOmE,KAAK3J,MAAM4oD,QAAUj/C,KAAK3J,MAAM4oD,OAAO9pD,GAAK,IAE5FsjD,IACEz4C,KAAK3J,MAAM4oD,QAAUj/C,KAAK3J,MAAM4oD,OAAOlkB,OACnCliB,GAAK6C,KAAK1b,KAAK3J,MAAM4oD,OAAOlkB,OAAO5lC,GAAI,IAAK,KAC5C0jB,GAAK8C,cAEXqiC,MAAOh+C,KAAK3J,MAAM4oD,QAAUj/C,KAAK3J,MAAM4oD,OAAOpjD,KAAOmE,KAAK3J,MAAM4oD,OAAOpjD,KAAO,OAGhFmE,KAAK3J,MAAM6oD,SACX1G,EAjBA,MAAA,CAiBKxqC,MAAM,SACTwqC,EADF,OAAA,CACQxqC,MAAM,qBACThO,KAAK3J,MAAM4oD,QAAUj/C,KAAK3J,MAAM4oD,OAAOpjD,KAAOmE,KAAK3J,MAAM4oD,OAAOpjD,KAAO,wBCMrEs+C,EAAA3f,EA8DArb,EAvFb,MAAAjJ,EAAQA,GAAMgF,KACd,OACEs9B,EADF,MAAA,CACOxqC,MAAM,kBACTwqC,EADF,MAAA,CACOxqC,MAAM,UACPhO,KAAK3J,MAAM2oD,UACTh/C,KAAK3J,MAAM4oD,QACXj/C,KAAK3J,MAAM4oD,OAAO9pD,IAAMgqB,GAAGhqB,IACzBqjD,EAAC2G,EAAD,KACE3G,EALV,IAAA,CAMYxqC,MAAM,iEACN4nC,QAASn5C,GAAKuD,KAAK3J,MAAM+oD,YAAY3iD,IAEpCyZ,EAAE,SAELsiC,EANA,MAAA,CAMKxqC,MAAM,yBAAX,OAGNhO,KAAK3J,MAAM2oD,UAAYh/C,KAAK3J,MAAM6oD,SAClC1G,EAAC2G,EAAD,KACE3G,EAACnB,GALG,CAMFrpC,MAAM,+CACN+xB,GAAE,aACa//B,KAAK3J,MAAMioB,QAAQnpB,KAAK6K,KAAK3J,MAAMioB,QAAQ1nB,SAAS1B,OAAS,GAAK,mBAGhF,QAAAilD,EAAAn6C,KAAK3J,aAAL,IAAA8jD,GAAA,QAAA3f,EAAA2f,EAAY77B,eAAZ,IAAAkc,OAAA,EAAAA,EAAqB5jC,SAAS1B,QAC7B8K,KAAK3J,MAAMioB,QAAQ1nB,SAASoC,MAAKyD,GAAKijB,GAAc5iB,MAAML,EAAEtH,MAC1DqjD,EAAA,IAAA,KACGtiC,EAAE,UAAW,CACZ7L,MAAOrK,KAAK3J,MAAMioB,QAAQ1nB,SAAS1B,UAIvCghB,EAAE,UAAW,CACX7L,MAAOrK,KAAK3J,MAAMioB,QAAQ1nB,SAAS1B,SAIvCghB,EAAE,UAGNsiC,EARmB,MAAA,CAQdxqC,MAAM,OAAX,MAGJwqC,EAHI,MAAA,CAIFxqC,MAAM,oBACNgwC,MAAOnlC,GAAK8B,cAAc3a,KAAK3J,MAAMioB,QAAQhb,YAE5CuV,GAAKoC,UAAUjb,KAAK3J,MAAMioB,QAAQhb,YAErCk1C,EAAC2G,EAAD,KACE3G,EAPF,MAAA,CAOOxqC,MAAM,OAAX,KACAwqC,EADA,MAAA,CACKxqC,MAAM,gBAEPhO,KAAK3J,MAAM4oD,QAAUj/C,KAAK3J,MAAM4oD,OAAOpjD,KAAOmE,KAAK3J,MAAM4oD,OAAOpjD,KAAO,QAK/E28C,EAAA,MAAA,MACIx4C,KAAK3J,MAAM2oD,UACXxG,EATA,MAAA,CAUExqC,MAAM,mBACN4nC,QAASn5C,QACLA,EAAA4iD,SAAA,UAAA5iD,MAAAA,GAAA,QAAAA,EAAAA,EAAGuU,cAAHvU,IAAAA,OAAAA,EAAAA,EAAW6iD,QAAQ,oBAAnB7iD,IAAA4iD,OAAA5iD,EAAA4iD,EAAiC58C,UAAU88C,OAAO,YAGtD/G,EANF,MAAA,CAMOxqC,MAAM,yBACTwqC,EAAC2E,GADH,CACUjC,OAAO,QAAQD,KAAK,gBAE9BzC,EAFE,MAAA,CAEGxqC,MAAM,kCACRhO,KAAK3J,MAAM4oD,QAAUj/C,KAAK3J,MAAM4oD,OAAO9pD,IAAMgqB,GAAGhqB,IAC/CqjD,EAACnB,GAFL,CAGMrpC,MAAM,2BACN4nC,QAASn5C,GAAKuD,KAAK3J,MAAMmpD,cAAc/iD,IAEtCyZ,EAAE,WAILsiC,EARA,IAAA,CASExqC,MAAM,2BACN4nC,QAASn5C,GAAKuD,KAAK3J,MAAMopD,eAAehjD,IAEvCyZ,EAAE,iBAGN,QAAAiJ,EAAAA,GAAGyb,cAAHzb,IAAAA,OAAAA,EAAAA,EAAWjqB,QAAS,GACnBsjD,EARA,IAAA,CASExqC,MAAM,2BACN4nC,QAASn5C,GAAKuD,KAAK3J,MAAMqpD,aAAajjD,IAErCyZ,EAAE,mBAGLlW,KAAK3J,MAAMioB,QAAQqhC,WACjB3/C,KAAK3J,MAAM4oD,QACXj/C,KAAK3J,MAAM4oD,OAAO9pD,IAAMgqB,GAAGhqB,IACzBqjD,EAVJ,IAAA,CAWMxqC,MAAM,2BACN4nC,QAASn5C,GAAKuD,KAAK3J,MAAMupD,eAAenjD,IAEvCyZ,EAAE,sBAGTiJ,GAAGkc,YAAYr7B,KAAK3J,MAAMioB,QAAQnpB,KAClCqjD,EARI,IAAA,CASFxqC,MAAM,2BACN4nC,QAAO,IAAQz2B,GAAGsc,YAAYz7B,KAAK3J,MAAMioB,QAAQnpB,KAEhD+gB,EAAE,iBAGNiJ,GAAGkc,YAAYr7B,KAAK3J,MAAMioB,QAAQnpB,KACjCqjD,EARA,IAAA,CASExqC,MAAM,2BACN4nC,QAAO,IAAQz2B,GAAGqc,eAAex7B,KAAK3J,MAAMioB,QAAQnpB,KAEnD+gB,EAAE,oBAGNlW,KAAK3J,MAAM4oD,QAAUj/C,KAAK3J,MAAM4oD,OAAO9pD,IAAMgqB,GAAGhqB,IAC/CqjD,EARA,IAAA,CASExqC,MAAM,2BACN4nC,QAASn5C,GAAKuD,KAAK3J,MAAM+oD,YAAY3iD,IAEpCyZ,EAAE,iBCtCrB2pC,GAAehL,iBA3FkB/8C,EAE/BgoD,WAAWxhC,EAASmF,EAAQ,IAC1BrH,GAAKvY,IAAL,iBAA0Bya,EAAQnpB,MAAMwM,MAAKwhB,IAC3C,IAAI46B,EAAallC,GAAKsB,OAAOgJ,EAAEpkB,KAAF,MACzBg/C,EACF3hC,GAAKvY,IAAL,yBAAkCkoC,mBAAmBgS,EAAW,OAAOp8C,MAAK83C,IAC1Et2B,EAAC,QAAcs2B,EACfh2B,EAAMhrB,KAAK0qB,IACPA,MAAAA,OAAAA,EAAAA,EAAGpU,QACL/O,KAAK8/C,WAAW38B,EAAEpU,OAAQ0U,GAE1BrH,GAAKvY,IAAL,eAAwBsf,EAAE+X,MAAM/lC,MAAMwM,MAAKw5B,IACzC1X,EAAMhrB,KAAK0iC,GACX1X,EAAQA,EAAMxW,UACdjN,KAAKoB,SAAS,OAACqiB,WAKrBA,EAAMhrB,KAAK0qB,IACPA,MAAAA,OAAAA,EAAAA,EAAGpU,QACL/O,KAAK8/C,WAAW38B,EAAEpU,OAAQ0U,GAE1BrH,GAAKvY,IAAL,eAAwBsf,EAAE+X,MAAM/lC,MAAMwM,MAAKw5B,IACzC1X,EAAMhrB,KAAK0iC,GACX1X,EAAQA,EAAMxW,UACdjN,KAAKoB,SAAS,OAACqiB,WAOzB1lB,oBACEiC,KAAK8/C,WAAW,CAAC3qD,GAAI6K,KAAK3J,MAAMlB,KAGlC4qD,SAASzhC,GACP,GAAIA,EAAS,CACX,GAAIA,EAAO,MAAYA,EAAO,KAAP,MACrB,OAAOA,EAAO,KAAP,MAET,GAAIA,EAAO,SAAeA,EAAO,QAAP,KACxB,OAAOA,EAAO,QAAP,KAAA,MAET,GAAIA,EAAO,MAAYA,EAAO,KAAP,KAAyB,CAC9C,IAAIvF,EAAMF,GAAKsB,OAAOmE,EAAO,KAAP,MAItB,OAHIvF,GAAOA,EAAI7jB,OAAS,IACtB6jB,EAAMA,EAAI,IAERA,GAGGuF,EAAO,KAAP,MAGX,MAAO,GAGT7gB,aACM3G,EAAJ,OAAI,QAAAA,EAAAkJ,KAAKpC,aAAL,IAAA9G,OAAA,EAAAA,EAAY2sB,OAEZ+0B,EADF,MAAA,CACOxqC,MAAM,uBACTwqC,EADF,MAAA,CACOh9C,MAAM,iCACTg9C,EADF,KAAA,CACMxqC,MAAM,cACP,CAAChO,KAAKpC,MAAM6lB,MAAM,MAAOzjB,KAAKpC,MAAM6lB,MAAM/tB,OAA6C,EAAvC0jB,KAAKquB,IAAI,EAAGznC,KAAKpC,MAAM6lB,MAAMvuB,SAAcQ,MAAM,IAAIyU,KAArG,CAA0G1N,EAAGxH,IAAMwH,GAAKA,EAAEtH,IACzHqjD,EAAC2G,EAAD,KACE3G,EAAC2G,EAAD,KACQ,GAALlqD,GAAU+K,KAAKpC,MAAM6lB,MAAMvuB,OAAS,GACnCsjD,EALV,KAAA,CAKcxqC,MAAM,mBAAV,QAGJwqC,EAHI,KAAA,CAGAxqC,MAAM,mBACRwqC,EAACnB,GADH,CAEIxgD,IAAK4F,EAAEtH,GACP4qC,GAAE,IAAMtjC,EAAE6iB,eAAe7iB,EAAEtH,KAC3B6Y,MAAM,iBACN6K,GAAKK,aAA6B,WAAhBzc,EAAE6iB,WAA0Btf,KAAK+/C,SAAStjD,GAAKA,MAAAA,OAAAA,EAAAA,EAAGZ,OAASY,EAAEtH,GAAI,YAS9F,6PC3FXqxB,EAAAjW,QAAkBjb,EAAA,QAAA,CAAuCA,EAAA,SAAAqiD,aAA6C,SAAWriD,EAAA,SAAAuM,QAA6C,UAAWF,MAAI,IAAOrM,EAAc,kBC8alM0qD,GAAenI,IAAAA,CAAkBhD,iBAtaZ/8C,EA2BnBgG,qBACEkC,KAAKoB,SAAS,CACZq8C,MAAOz9C,KAAK3J,MAAMonD,OAAS,GAC3BljC,KAAM,KACNk/B,QAAS,OAIb17C,oBACMY,SAASsD,eAAe,WAC1BtD,SAASsD,eAAe,SAASxG,MAAQuE,KAAK3J,MAAM2nD,OAAS,IAE3Dr/C,SAASsD,eAAe,UAC1BtD,SAASsD,eAAe,QAAQxG,MAAQuE,KAAK3J,MAAM+L,MAAQ,IAI/DrC,uBACEkgD,cAAcjgD,KAAKpC,MAAMsiD,eAG3BC,WAAWvjD,EAAOwjD,GAAe,GAC3BxjD,EAAMs5C,SAAWr9B,GAAKoD,YAAYrf,GACpCoD,KAAKqgD,cAGF,CAAC,IAAK,QAAS,KAAKphC,SAASriB,EAAM/F,MAGpCupD,GACFpgD,KAAKsgD,WAAW1jD,EAAMkgD,eAI1BwD,WAAWpqC,GACTA,EAAE1a,MAAMigB,OAAS,MACjBvF,EAAE1a,MAAMigB,OAAR,GAAoB,GAAKvF,EAAEqqC,iBAE3Bz+C,YAAU,KAER,IAAI0+C,EADStqC,EAAEza,MACE4e,MAAL,yBACRmmC,GAASA,EAAM,IAAMxgD,KAAKpC,MAAM2c,MAClC6B,GACGvY,IADH,yBACkCkoC,mBAAmByU,EAAM,OACxD7+C,MAAK7B,IACAA,GAAKoW,EAAEza,MAAMvD,QAAQsoD,EAAM,KAAO,GACpCxgD,KAAKoB,SAAS,CAAEmZ,KAAMimC,EAAM,GAAI/G,QAAS35C,SAIhD,GAIL68C,WAAWW,GACT,IAAIG,EAAQz9C,KAAKpC,MAAM6/C,MACnBt0C,EAAIs0C,EAAMr3B,MAAKjd,GAAKA,EAAEm0C,WAAaA,IACvCn0C,EAAEk0C,SAAWl0C,EAAEk0C,QACfr9C,KAAKoB,SAAS,OAAEq8C,IAGlB4C,cACMrgD,KAAK3J,MAAMoqD,UACbzgD,KAAK0gD,aAEL1gD,KAAK2gD,cAITD,aACE,IAAIE,EAAM,CACRnD,MAAOz9C,KAAKpC,MAAM6/C,MACf50C,QAAOpM,IAAMA,EAAE4gD,UACfx0C,QAAOpM,GAAiB,SAAZA,EAAEsgB,SACd5S,KAAI1N,GAAKA,EAAC,KACVoM,QAAOpM,KAAOA,IACjBsC,KAAM,CACJqD,KAAMzD,SAASsD,eAAe,QAAQxG,QAGtCkD,SAASsD,eAAe,WAC1B2+C,EAAI7hD,KAAKi/C,MAAQr/C,SAASsD,eAAe,SAASxG,OAAS,IAE7D2gB,GAAK+B,IAAL,iBAA0Bne,KAAK3J,MAAMoqD,YAAaG,GAAKj/C,MAAKkc,IAC1D7d,KAAKoB,SAAS,CAAC42C,SAAS,IACnBn6B,EAIL5Z,OAAOC,cAAc,IAAIC,YAAY,cAAe,CAAEk6C,OAAQxgC,KAH5D9b,GAAMI,IAAInC,KAAK3J,MAAM6f,EAAE,qBAAsB,mBAKjDlW,KAAKoB,SAAS,CAAC42C,SAAS,IAG1B2I,cACE,IAAIC,EAAM,CACRt9C,UAAW8V,KAAKC,MAAM9V,KAAKC,MAAQ,KACnCy7C,OAAQ9/B,GAAGhqB,GACX+lC,MAAOriB,GAAKyC,MAAMtb,KAAK3J,MAAM6kC,OAC7BtkC,SAAU,GACV6mD,MAAOz9C,KAAKpC,MAAM6/C,MACf50C,QAAOpM,IAAMA,EAAE4gD,UACfx0C,QAAOpM,GAAiB,SAAZA,EAAEsgB,SACd5S,KAAI1N,GAAKA,EAAC,KACVoM,QAAOpM,KAAOA,IACjBsC,KAAM,CACJqD,MAAOzD,SAASsD,eAAe,QAAQxG,OAAS,IAAIisB,UAAU,EAAG,MAEnEm5B,iBAAkBznC,KAAKC,MAAM9V,KAAKC,MAAQ,MAExCxD,KAAK3J,MAAM0Y,SACb6xC,EAAI7xC,OAAS8J,GAAKyC,MAAMtb,KAAK3J,MAAM0Y,SAEjCpQ,SAASsD,eAAe,WAC1B2+C,EAAI7hD,KAAKi/C,MAAQr/C,SAASsD,eAAe,SAASxG,OAAS,IAGxDmlD,EAAInD,MAAMvoD,QAAW0rD,EAAI7hD,KAAKqD,MAASw+C,EAAI7hD,KAAKi/C,OAIrD5hC,GAAK4B,KAAK,gBAAiB4iC,GAAKj/C,MAAKkc,IACnC,IAAKA,EAGH,OAFA7d,KAAKoB,SAAS,CAAE42C,SAAS,SACzBj2C,GAAMI,IAAInC,KAAK3J,MAAM6f,EAAE,qBAAsB,gBAG3ClW,KAAK3J,MAAM6oD,SACbl/C,KAAKoB,SAAS,CAAE42C,SAAS,IACzB/zC,OAAOC,cAAc,IAAIC,YAAY,WAAY,CAAEk6C,OAAQxgC,MAE3D/b,YAAU,KACRmC,OAAOC,cAAc,IAAIC,YAAY,YAAa,CAAEk6C,OAAQxgC,KAC5D7d,KAAK3J,MAAM4sC,QAAQxqC,KAAKogB,GAAKa,MAAL,aAAwBmE,EAAI1oB,SACnD,KAEL6K,KAAKoB,SAAS,CACZq8C,MAAO,GACPljC,KAAM,KACNk/B,QAAS,KACTqH,SAAUjoC,GAAKgB,UAEblb,SAASsD,eAAe,UAC1BtD,SAASsD,eAAe,QAAQxG,MAAQ,OAG5CuE,KAAKoB,SAAS,CAAE42C,SAAS,KA5BvBj2C,GAAMI,IAAInC,KAAK3J,MAAM6f,EAAE,iBAAkB,gBA+B7C6qC,iBAAiBC,GACf,MAAMC,EAAQtiD,SAASjI,cAAc,SACrCiI,SAAS+D,KAAKtH,YAAY6lD,GAC1BA,EAAMzlD,MAAM0lD,QAAU,OACtBD,EAAMtqD,KAAO,OACbsqD,EAAME,OAASH,EACfC,EAAM5kD,iBAAiB,UAAUO,IAC/BoD,KAAKohD,QAAQxkD,EAAMoU,OAAOysC,MAAM,GAAIuD,MAEtCC,EAAMI,QAGRC,aACE,MAAML,EAAQtiD,SAASjI,cAAc,SACrCiI,SAAS+D,KAAKtH,YAAY6lD,GAC1BA,EAAMzlD,MAAM0lD,QAAU,OACtBD,EAAMtqD,KAAO,OACbsqD,EAAME,OAAS,UACfF,EAAM5kD,iBAAiB,UAAUO,IAC/BoD,KAAKohD,QAAQxkD,EAAMoU,OAAOysC,MAAM,GAAI,YAEtCwD,EAAMI,QAGRE,cACE,MAAMN,EAAQtiD,SAASjI,cAAc,SACrCiI,SAAS+D,KAAKtH,YAAY6lD,GAC1BA,EAAMzlD,MAAM0lD,QAAU,OACtBD,EAAMtqD,KAAO,OACbsqD,EAAM9yC,SAAW,WACjB8yC,EAAME,OAAS,UACfF,EAAM5kD,iBAAiB,UAAUO,IACpBpC,MAAMmL,KAAK/I,EAAMoU,OAAOysC,OAC9BtzC,KAAI1N,GAAKuD,KAAKohD,QAAQ3kD,EAAG,cAEhCwkD,EAAMI,QAGRD,QAAQI,EAAW7qD,GACjBqJ,KAAKoB,UAASk9C,IAAS,CACrBb,MAAO,IAAIa,EAAUb,MAAO,WAC1B+D,OACA7qD,EACAxB,GAAI0jB,GAAKgB,QACTujC,SAAU,EACVrgC,OAAQ,gBAKd0kC,WAAWtsD,EAAI6nD,EAAMz7C,EAAW,MAC9BvB,KAAKoB,UAASk9C,IAAS,CACrBb,MAAOa,EAAUb,MAAMtzC,KAAIhB,GAAKA,EAAEhU,KAAOA,EAAKH,OAAOmB,OAAOgT,EAAG6zC,GAAQ7zC,OACrE5H,GAGNmgD,WAAWvsD,GACT6K,KAAKoB,UAASk9C,IAAS,CACrBb,MAAOa,EAAUb,MAAM50C,QAAOM,GAAKA,EAAEhU,IAAMA,QAI/CwsD,gBACE,GAAI3hD,KAAKpC,MAAMgkD,QAAQ1sD,QAAUwvB,UAAUm9B,oBACzC,OAEF,IAAI7wC,EAAShR,KAAKpC,MAAM6/C,MAAMr3B,MAC5B3pB,IAAMuD,KAAKpC,MAAMgkD,QAAQz3C,KAAI23C,GAAKA,EAAE9wC,QAAU8wC,EAAE9wC,OAAO7b,KAAI8pB,SAASxiB,EAAEtH,KAAmB,WAAZsH,EAAEsgB,SAEjF,GAAI/L,EAAQ,CACV,IAAI+wC,EAAS,QACX/wC,EACA7b,GAAI0jB,GAAKgB,SAEX7Z,KAAKoB,UAASk9C,IAAS,CACrBsD,QAAS,IAAItD,EAAUsD,QAASG,WACxB/hD,KAAKgiD,UAAUD,EAAO5sD,OAIpC8sD,aAAaC,GACXliD,KAAKoB,UAASk9C,IAAS,CACrBsD,QAAStD,EAAUsD,QAAQ/4C,QAAOpM,GAAKA,EAAEtH,IAAM+sD,QAInDF,UAAUE,GACR,IAAIH,EAAS/hD,KAAKpC,MAAMgkD,QAAQx7B,MAAK3pB,GAAKA,EAAEtH,IAAM+sD,IAClD,OAAQH,EAAO/wC,OAAOra,MACpB,IAAK,QACHrB,EAAA,SAAqCqM,MAAKwgD,IACxCA,EAAa3xC,QAAQ4xC,YACnBL,EAAO/wC,OAAOwwC,WACd3jC,IACE7d,KAAKyhD,WACHM,EAAO/wC,OAAO7b,GACd,CAACqsD,UAAW3jC,GACZ7d,KAAKqiD,WAAWN,EAAO/wC,OAAO7b,IAA9B,IAAwC6K,KAAKiiD,aAAaC,YAKlE,MACF,IAAK,QAGL,IAAK,kBACHliD,KAAKqiD,WAAWN,EAAO/wC,OAAO7b,IAA9B,IAAwC6K,KAAKiiD,aAAaC,KAC1D,cAIA1uC,QAAQC,KAAKsuC,EAAO/wC,QACpBwC,QAAQC,KAAK,iCAInB4uC,WAAWC,EAAQ/gD,EAAW,MAC5B,MAAM+a,EAAW,IAAIimC,SACrB,IAAIvF,EAAOh9C,KAAKpC,MAAM6/C,MAAMr3B,MAAK3pB,GAAKA,EAAEtH,IAAMmtD,IAC9C,IAAKtF,IAASA,EAAKwE,UAGjB,MADAhuC,QAAQxS,MAAMhB,KAAKpC,MAAOo/C,EAAMsF,GAC1B,QAERhmC,EAASsc,OAAO,OAAQokB,EAAKwE,WAC7BllC,EAASsc,OAAO,YAAa54B,KAAKpC,MAAM6/C,MAAMmB,WAAUz1C,GAAKA,EAAEhU,IAAM6nD,EAAK7nD,MAG1E,IAAI2rD,EAAW9gD,KAAKpC,MAAMkjD,SAE1B1kC,GAAKC,SACHC,GACA0gC,IAEM8D,GAAY9gD,KAAKpC,MAAMkjD,WACzB9D,EAAI,OAAa,QACjBh9C,KAAKyhD,WAAWa,EAAQtF,EAAMz7C,OAGlC9E,IACEuD,KAAKyhD,WACHa,EACA,CAAClF,SAAUhkC,KAAKC,MAAO5c,EAAE2gB,OAAS3gB,EAAEwG,MAAS,UAGjDxG,IACE+W,QAAQC,KAAKhX,GACbsF,GAAMI,IAAInC,KAAK3J,MAAM6f,EAAE,gBAAiB,gBACxClW,KAAK0hD,WAAWY,MAKtB7kD,SACE,OAAIuC,KAAKpC,MAAMo6C,QAEXQ,EADF,MAAA,CACOxqC,MAAM,uBACTwqC,EADF,MAAA,CACOxqC,MAAM,0BACTwqC,EAAA,MAAA,MAAOA,EAAA,MAAA,MAAOA,EAAA,MAAA,MAAOA,EAAA,MAAA,MAAOA,EAAA,MAAA,QAMlCA,EADF,MAAA,CACOxqC,MAAM,WACPhO,KAAK3J,MAAM6oD,SACX1G,EAFJ,QAAA,CAGM7hD,KAAK,OACLxB,GAAG,QACHgrD,WAAY1jD,GAAKuD,KAAKmgD,WAAW1jD,GACjCk8C,YAAa34C,KAAK3J,MAAM6f,EAAE,uBAG9BsiC,EAPE,WAAA,CAQA2H,WAAY1jD,GAAKuD,KAAKmgD,WAAW1jD,GAAG,GACpCtH,GAAG,OACHqtD,KAAK,IACLC,aAAa,MACbC,UAAW1iD,KAAK3J,MAAMssD,MACtBhK,YAAa34C,KAAK3J,MAAM6f,EAAE,oBAC1B0sC,UAAU,UAEX5iD,KAAKpC,MAAM67C,SACVjB,EAACyF,GAVH4E,GAAA,CAUchI,UAAU,GAAU76C,KAAKpC,MAAM67C,YAE1Cz5C,KAAKpC,MAAM6/C,MAAMvoD,QAClBsjD,EAACkE,GAHD,CAIE7lD,IAAKmJ,KAAKpC,MAAM6/C,MAAM7hC,QAAjB,CACF9iB,EAAGN,IAAMM,EAAIN,EAAErD,GAAKqD,EAAE8kD,UAAY9kD,EAAEwI,OACrC,IAEFy8C,MAAOz9C,KAAKpC,MAAM6/C,MAClBd,WAAY38C,KAAK28C,WACjB9B,UAAU,IAGdrC,EAVE,MAAA,CAUGxqC,MAAM,WACRyQ,IAAOA,GAAIC,MAAQD,GAAIC,KAAKxB,QAAUuB,GAAIC,KAAKxB,OAAO4lC,OACrDtK,EAFJ,SAAA,CAGMxqC,MAAM,SACN4nC,QAAO,IAAQ51C,KAAKuhD,cACpBvD,MAAOh+C,KAAK3J,MAAM6f,EAAE,iBAEpBsiC,EAAC2E,GALH,CAKUjC,OAAQ,UAAWD,KAAM,YAGpCx8B,IAAOA,GAAIC,MAAQD,GAAIC,KAAKxB,QAAUuB,GAAIC,KAAKxB,OAAO6lC,OACrDvK,EAJE,SAAA,CAKAxqC,MAAM,SACN4nC,QAAO,IAAQ51C,KAAKshD,aACpBtD,MAAOh+C,KAAK3J,MAAM6f,EAAE,iBAEpBsiC,EAAC2E,GALH,CAKUjC,OAAQ,QAASD,KAAM,UAGlCx8B,IAAOA,GAAIC,MAAQD,GAAIC,KAAKxB,QAAUuB,GAAIC,KAAKxB,OAAO8lC,KACrDxK,EAJE,SAAA,CAKAxqC,MAAM,SACN4nC,QAAO,IAAQ51C,KAAK+gD,iBAAiB,mBACrC/C,MAAOh+C,KAAK3J,MAAM6f,EAAE,eAEpBsiC,EAAC2E,GALH,CAKUjC,OAAQ,UAAWD,KAAM,cAGrCzC,EAHI,MAAA,CAGCxqC,MAAM,WACRhO,KAAK3J,MAAM4sD,QACVzK,EAFJ,SAAA,CAEYxqC,MAAM,SAAS4nC,QAASn5C,GAAKuD,KAAK3J,MAAM4sD,OAAOxmD,IACpDuD,KAAK3J,MAAM6f,EAAE,WAGlBsiC,EAJE,SAAA,CAKAI,UAAW54C,KAAK3J,MAAM6kC,MACtBvkC,KAAK,SACLqX,MAAM,SACN4nC,QAASn5C,GAAKuD,KAAKqgD,YAAY5jD,IAE9BuD,KAAK3J,MAAM6f,EAAE,0BA3Zd7f,GACVwiD,MAAMxiD,GACN2J,KAAKqgD,YAAcrgD,KAAKqgD,YAAYz+C,KAAK5B,MACzCA,KAAKsgD,WAAatgD,KAAKsgD,WAAW1+C,KAAK5B,MACvCA,KAAK2gD,YAAc3gD,KAAK2gD,YAAY/+C,KAAK5B,MACzCA,KAAK0gD,WAAa1gD,KAAK0gD,WAAW9+C,KAAK5B,MACvCA,KAAKmgD,WAAangD,KAAKmgD,WAAWv+C,KAAK5B,MACvCA,KAAK28C,WAAa38C,KAAK28C,WAAW/6C,KAAK5B,MACvCA,KAAKuhD,YAAcvhD,KAAKuhD,YAAY3/C,KAAK5B,MACzCA,KAAKshD,WAAathD,KAAKshD,WAAW1/C,KAAK5B,MACvCA,KAAKqiD,WAAariD,KAAKqiD,WAAWzgD,KAAK5B,MACvCA,KAAKohD,QAAUphD,KAAKohD,QAAQx/C,KAAK5B,MACjCA,KAAK0hD,WAAa1hD,KAAK0hD,WAAW9/C,KAAK5B,MACvCA,KAAKyhD,WAAazhD,KAAKyhD,WAAW7/C,KAAK5B,MACvCA,KAAK2hD,cAAgB3hD,KAAK2hD,cAAc//C,KAAK5B,MAC7CA,KAAKiiD,aAAejiD,KAAKiiD,aAAargD,KAAK5B,MAC3CA,KAAKgiD,UAAYhiD,KAAKgiD,UAAUpgD,KAAK5B,MACrCA,KAAKpC,MAAQ,CACX6/C,MAAO,GACPqD,SAAUjoC,GAAKgB,QACf+nC,QAAS,GACT1B,cAAegD,YAAYljD,KAAK2hD,cAAe,UCrBrD,IAAIwB,GAAeC,IAEfC,GACgB,oBAAXp/C,OAAyBq/C,GAAkBnsC,GA+BhDosC,IA7BgBxrD,GA6BWorD,GA7BJ,IAAQpuD,KACjC,IAAIsiB,EAAQ1B,GAAW5d,IAQnByrD,EAAW1sC,GAAS,IASxB,OAPAusC,IAAyB,IAChBhsC,EAAMhD,GAAG,YAAU,CAAG4E,EAAGwqC,KACV1uD,EAAKiE,MAAKnC,GAAOA,KAAO4sD,KACzBD,EAAS,GAAG,QAEhC,IAEIE,IAAO,KACZ,IAAI9lD,EAAQyZ,EAAMxT,MACd9E,EAAO,GAKX,OAJAhK,EAAKmJ,SAAQrH,IACXkI,EAAKlI,GAAO+G,EAAM/G,MAEpBkI,EAAKggB,SAAW1H,EAAM0H,SACfhgB,IACN,CAACykD,EAAS,OA1BE,IAAGzrD,GA+BpB,IAAI4rD,GAAc,IAAO5uD,KACvB,IAAI+C,EAAY/C,EAAK2W,MACrB,OAAOk4C,IAAU,CAAEC,EAAa/sD,KAC9B,IAAIT,EAAQ,IAAKwtD,KAAgBN,MAAcxuD,OAAO+B,GACtD,OAAO0hD,EAAE1gD,EAAWzB,WCsNxBytD,GAAeC,GAAe,KAAMlM,IAAAA,CAAkBhD,iBA5PhC/8C,EAkBpBksD,eAAe7gC,OAITA,EAHJ/G,GAAKvY,IAAL,cAAuBsf,EAAE87B,OAAO9pD,MAAMwM,MAAKguC,IACzC3vC,KAAKoB,SAAS,CAAC69C,OAAQtP,QAErBxsB,MAAAA,GAAA,QAAAA,EAAAA,EAAGpU,cAAHoU,IAAAA,OAAAA,EAAAA,EAAWhuB,KACbinB,GAAKvY,IAAL,iBAA0Bsf,EAAEpU,OAAO5Z,MAAMwM,MAAK2H,IAC5CtJ,KAAKoB,SAAS,CAAC2N,OAAQzF,QAGvB6Z,MAAAA,OAAAA,EAAAA,EAAGs6B,MAAMvoD,SACXwM,QAAQ05B,IAAIjY,EAAEs6B,MAAMtzC,KAAIhB,GAAKiT,GAAKvY,IAAL,cAAuBsF,EAAEhU,MAAMwM,MAAKwH,GAAKA,OAAKxH,MACzE87C,GAASz9C,KAAKoB,SAAS,OAACq8C,MAG5Bz9C,KAAKoB,SAAS,CAACkd,QAAS6E,IAG1Bq7B,cACEpiC,GAAKvY,IAAL,iBAA0B7D,KAAK3J,MAAMlB,MAAMwM,MAAKwhB,IAC9CnjB,KAAKgkD,eAAe7gC,MAIxBplB,oBACEiC,KAAKw+C,cACL9+B,GAAckd,4BAA4B58B,KAAK3J,MAAMlB,IAEhD6K,KAAK3J,MAAM6oD,SACdp9C,YAAU,IAAOmC,OAAOggD,SAAS,EAAG,KAGtCniD,YAAU,KACR,GAAI9B,KAAK3J,MAAMlB,IAAM2nC,GAAOr1B,OAAQ,CAClC,MAAMy8C,EAAavlD,SAASsD,eAAejC,KAAK3J,MAAMlB,IAClD+uD,IACFA,EAAWC,eAAe,CAAExe,MAAO,QAASye,SAAU,WACtDtiD,YAAU,IAAOoiD,EAAWzhD,UAAUT,OAAO,cAAc,SAG9D,KAGLm8C,WAAWvhD,GACT,MAAMwhD,EAASxhD,EAAMyhD,OACrB,IAAIuC,EAAM5gD,KAAKpC,MAAM0gB,QACjB8/B,EAAOrvC,QAAU8J,GAAKyC,MAAM8iC,EAAOrvC,SAAW6xC,EAAIzrD,KACpDipD,EAAOa,OAAS9/B,GAAGtb,MACnB+8C,EAAIhqD,SAAW,IAAIgqD,EAAIhqD,SAAUwnD,GACjCp+C,KAAKoB,SAAS,CAACkd,QAASsiC,0BAIPhkD,GACnBA,EAAMk5C,iBACN,IAAIuO,EAASpgD,OAAO4Y,KAAK,cAAe,UACxC,MAAMgB,QAAYzB,GAAKvY,IAAL,iBACC7D,KAAK3J,MAAMlB,sBAE9BkvD,EAAO1qC,SAAP,GAAqBhb,SAAS6a,iBAAiBqE,EAAImuB,QAGrDsY,cAAc1nD,GACRA,EAAMyhD,OAAOlpD,IAAM6K,KAAK3J,MAAMlB,KAChC6K,KAAKoB,SAAS,CACZmjD,MAAM,IAERvkD,KAAKgkD,eAAepnD,EAAMyhD,QAC1Br+C,KAAK3J,MAAMQ,KAAO0M,KAAKC,OAI3BghD,oBACE,IAAIC,EAAK,UAOT,OANIzkD,KAAK3J,MAAM6oD,UACbuF,GAAM,UAEJzkD,KAAK3J,MAAMlB,IAAM2nC,GAAOr1B,SAC1Bg9C,GAAM,cAEDA,EAGTjF,cAAc5iD,GACZA,EAAMk5C,iBACFjT,QAAQ7iC,KAAK3J,MAAM6f,EAAE,wBACvBkG,GAAKjQ,OAAL,iBAA6BnM,KAAK3J,MAAMlB,MAAMwM,MAA9C,KACM3B,KAAK3J,MAAM6oD,QACbl/C,KAAKoB,SAAS,CAACsjD,WAAW,IAE1B1kD,KAAK3J,MAAM4sC,QAAQxqC,KAAnB,WAAmCuH,KAAKpC,MAAM0gB,QAAQ4c,MAAM/lC,KAAM,CAChE4J,KAAM,CAAC4lD,mBAAmB,QAOpCjF,aAAa9iD,GACXA,EAAMk5C,iBACN91C,KAAK3J,MAAM4sC,QAAQxqC,KAAnB,kBAA0CuH,KAAK3J,MAAMlB,MAGvDiqD,YAAYxiD,GACVA,EAAMk5C,iBACN91C,KAAKoB,SAAS,CAAEmjD,MAAM,IAGxB3E,iBACExjC,GACG+B,IADH,iBACwBne,KAAK3J,MAAMlB,KAAM,CACrC0rD,iBAAkBznC,KAAKC,MAAM9V,KAAKC,MAAQ,KAC1Cm8C,WAAW,IAEZh+C,MAAKkc,IACCA,EAIL7d,KAAK3J,MAAM4sC,QAAQxqC,KAAnB,WAAmCuH,KAAKpC,MAAM0gB,QAAQ4c,MAAM/lC,MAH1D4M,MAAMI,IAAInC,KAAK3J,MAAM6f,EAAE,SAAU,mBAOzC0uC,WAAWhoD,GACTA,EAAMk5C,iBACN91C,KAAKoB,SAAS,CAAEmjD,MAAM,IAGxBM,cAAc3F,EAASyD,OASG7rD,EAAA0jC,EARxB,OACEge,EAACwH,GADH,CAEIiD,OAAQjjD,KAAKpC,MAAM2mD,KAAOvkD,KAAK4kD,WAAa,KAC5CnH,MAAOz9C,KAAKpC,MAAM2mD,KAAOvkD,KAAKpC,MAAM6/C,MAAQ,GAC5CkF,MAAOA,KAAW3iD,KAAKpC,MAAM2mD,KAC7BrpB,MAAOl7B,KAAKpC,MAAM0gB,QAAQ4c,MAC1BulB,UAAWzgD,KAAKpC,MAAM2mD,KAAOvkD,KAAK3J,MAAMlB,GAAK,KAC7C4Z,OACE/O,KAAKpC,MAAM2mD,KAAO,QAAAztD,EAAAkJ,KAAKpC,aAAL,IAAA9G,GAAA,QAAA0jC,EAAA1jC,EAAYiY,cAAZ,IAAAyrB,OAAA,EAAAA,EAAoBrlC,GAAK6K,KAAK3J,MAAMlB,GAExDiN,KAAMpC,KAAKpC,MAAM2mD,KAAOvkD,KAAKpC,MAAM0gB,QAAQvf,KAAnB,KAAkC,GAC1Di/C,MAAOh+C,KAAKpC,MAAM2mD,KAAOvkD,KAAKpC,MAAM0gB,QAAQvf,KAAnB,MAAmC,GAC5DmgD,QAASA,IAKfzhD,aACM3G,EAA0B4jC,EAsBEvb,EAOZ2lC,EACCC,EAOAC,EAKCjL,EACCkL,EA3CvB,OAAI,QAAAnuD,EAAAkJ,KAAKpC,aAAL,IAAA9G,OAAA,EAAAA,EAAY4tD,cAAc,QAAAhqB,EAAA16B,KAAKpC,aAAL,IAAA88B,OAAA,EAAAA,EAAYpc,SAGtCk6B,EADF,MAAA,CACOrjD,GAAI6K,KAAK3J,MAAMlB,GAAIkZ,UAAU,YAIpCmqC,EAAC2G,EAAD,MACIn/C,KAAK3J,MAAM6oD,SACX1G,EAACqH,GAHP,CAG0B1qD,GAAI6K,KAAK3J,MAAMlB,KAErCqjD,EAFE,MAAA,CAEGrjD,GAAI6K,KAAK3J,MAAMlB,GAAIkZ,UAAWrO,KAAKwkD,qBACrCxkD,KAAKpC,MAAM2mD,MAAQvkD,KAAK6kD,cAAc7kD,KAAK3J,MAAM6oD,UAChDl/C,KAAKpC,MAAM2mD,MACX/L,EAAC2G,EAAD,KACGn/C,KAAK3J,MAAM6oD,SAAWl/C,KAAKpC,MAAM2mD,MAChC/L,EALR,MAAA,CAKaxqC,MAAM,kCACTwqC,EADF,MAAA,CAEIxqC,MAAM,4CACNxS,MAAOqd,GAAKiD,eAAeqD,GAAGhqB,IAC9BsjD,IACEt5B,GAAG4b,OACCliB,GAAK6C,KAAK,QAAAyD,EAAAA,GAAG4b,cAAH5b,IAAAA,OAAAA,EAAAA,EAAWhqB,GAAI,IAAK,KAC9B0jB,GAAK8C,iBAKjB68B,EAAC0M,GAXG,CAYFjG,OAAQ,QAAA6F,EAAA9kD,KAAKpC,aAAL,IAAAknD,OAAA,EAAAA,EAAY7F,OACpB3gC,QAAS,QAAAymC,EAAA/kD,KAAKpC,aAAL,IAAAmnD,OAAA,EAAAA,EAAYzmC,QACrB0gC,SAAUh/C,KAAK3J,MAAM2oD,SACrBE,QAASl/C,KAAK3J,MAAM6oD,UAEtB1G,EANA,MAAA,CAMKxqC,MAAM,QACTwqC,EAAC2M,GADH,CAEI7mC,QAASte,KAAKpC,MAAM0gB,QACpBm/B,OAAO,QAAAuH,EAAAhlD,KAAKpC,aAAL,IAAAonD,OAAA,EAAAA,EAAYvH,QAAS,GAC5BuB,SAAUh/C,KAAK3J,MAAM2oD,SACrBE,QAASl/C,KAAK3J,MAAM6oD,UAEtB1G,EAAC4M,GAND,CAOEnG,OAAQ,QAAAlF,EAAA/5C,KAAKpC,aAAL,IAAAm8C,OAAA,EAAAA,EAAYkF,OACpB3gC,QAAS,QAAA2mC,EAAAjlD,KAAKpC,aAAL,IAAAqnD,OAAA,EAAAA,EAAY3mC,QACrB8gC,YAAap/C,KAAKo/C,YAClBI,cAAex/C,KAAKw/C,cACpBE,aAAc1/C,KAAK0/C,aACnBE,eAAgB5/C,KAAK4/C,eACrBH,eAAgBz/C,KAAKy/C,eACrBT,SAAUh/C,KAAK3J,MAAM2oD,SACrBE,QAASl/C,KAAK3J,MAAM6oD,aAM7Bl/C,KAAK3J,MAAMgvD,sBACVrlD,KAAK3J,MAAM6oD,SACX1G,EAAC0F,GAjBK,CAkBJQ,cAAe1+C,KAAKpC,MAAM0gB,QAAQ1nB,SAClCooD,SAAUh/C,KAAK3J,MAAM2oD,SACrBnoD,IAAKmJ,KAAK3J,MAAMlB,GAChBA,GAAI6K,KAAK3J,MAAMlB,MAGjB6K,KAAKpC,MAAM2mD,OAASvkD,KAAK3J,MAAM2oD,WAAah/C,KAAK3J,MAAM6oD,SACvD1G,EARA,MAAA,CAQKxqC,MAAM,sBACRmR,GAAGhqB,IACFqjD,EAFJ,MAAA,CAESxqC,MAAM,kCACTwqC,EADF,MAAA,CAEIxqC,MAAM,4CACNxS,MAAOqd,GAAKiD,eAAeqD,GAAGhqB,IAC9BsjD,IACEt5B,GAAG4b,OACCliB,GAAK6C,KAAKyD,GAAG4b,OAAH,GAAiB,IAAK,KAChCliB,GAAK8C,iBAKhB3b,KAAK6kD,eAAc,EAAM7kD,KAAK3J,MAAMssD,qBAnPnCtsD,GACVwiD,MAAMxiD,GACN2J,KAAKwkD,kBAAoBxkD,KAAKwkD,kBAAkB5iD,KAAK5B,MACrDA,KAAKo/C,YAAcp/C,KAAKo/C,YAAYx9C,KAAK5B,MACzCA,KAAKw/C,cAAgBx/C,KAAKw/C,cAAc59C,KAAK5B,MAC7CA,KAAK0/C,aAAe1/C,KAAK0/C,aAAa99C,KAAK5B,MAC3CA,KAAK4/C,eAAiB5/C,KAAK4/C,eAAeh+C,KAAK5B,MAC/CA,KAAK4kD,WAAa5kD,KAAK4kD,WAAWhjD,KAAK5B,MACvCA,KAAKskD,cAAgBtkD,KAAKskD,cAAc1iD,KAAK5B,MAC7CA,KAAKy/C,eAAiBz/C,KAAKy/C,eAAe79C,KAAK5B,MAC/CA,KAAKm+C,WAAan+C,KAAKm+C,WAAWv8C,KAAK5B,MACvCA,KAAKw+C,YAAcx+C,KAAKw+C,YAAY58C,KAAK5B,MACzCA,KAAKgkD,eAAiBhkD,KAAKgkD,eAAepiD,KAAK5B,MAC/CiE,OAAO5H,iBAAiB,WAAY2D,KAAKm+C,YACzCl6C,OAAO5H,iBAAiB,cAAe2D,KAAKskD,kCCvB9C,OACE9L,EAACsL,GADH,CAEI3uD,GAAI6K,KAAK3J,MAAMlB,GACf6pD,SAAUh/C,KAAK3J,MAAM2oD,SACrBE,SAAS,QCsFfoG,GAAezN,IAAAA,eAzFW//C,EAcxBmjC,eACE,GAAIj7B,KAAK3J,MAAM8oB,GAAGyb,QAAsC,SAA5BkC,GAAOtd,OAAOF,WAAuB,CAC/D,IAAI4b,EAAQl7B,KAAK3J,MAAM8oB,GAAGyb,OAAOxU,MAAK+U,GAAKA,EAAC,IAAUtiB,GAAKyC,MAAMwhB,GAAOtd,UACxE,OAAO0b,EAAQA,EAAK,KAAW,GAEjC,MAAO,GAGTn7B,uBACEkE,OAAOzH,oBAAoB,oBAAqBwD,KAAKulD,cAGvDxnD,oBACEiC,KAAKulD,eACLthD,OAAO5H,iBAAiB,oBAAqB2D,KAAKulD,cAGpDA,eACE,MAAMhmC,EAASud,GAAOI,SAAS,UACzBsoB,EAAW1oB,GAAOI,SAAS,YACjCl9B,KAAKoB,SAAS,QAACme,WAAQimC,IACvBppC,GACG4B,KAAK,uBAAwB,CAC5Bkd,MAAOl7B,KAAKpC,MAAM6nD,eAClBlmC,WACAimC,IAED7jD,MAAKkc,IACAA,GAAOrjB,MAAMC,QAAQojB,EAAG,WAC1B7d,KAAKoB,SAAS,QACZme,EACAmmC,SAAU7nC,EAAG,SACb8nC,cAAe9nC,EAAG,WAClBT,QAAQ,OAMlB3f,SACE,OACEjD,MAAMC,QAAQuF,KAAKpC,MAAM8nD,WACvBlN,EAAA,MAAA,KACEA,EAHN,UAAA,CAGerjD,GAAG,QAAQ6Y,MAAM,iCACxBwqC,EADF,MAAA,CACOxqC,MAAM,oFACsB,GAA9BhO,KAAKpC,MAAM8nD,SAASxwD,SAAgB8K,KAAKpC,MAAMwf,QAC9Co7B,EAAA,IAAA,KACEA,EAHN,MAAA,CAGWxqC,MAAM,+BACTwqC,EAAA,MAAA,MAAOA,EAAA,MAAA,MAAOA,EAAA,MAAA,MAAOA,EAAA,MAAA,MAAOA,EAAA,MAAA,QAIH,GAA9Bx4C,KAAKpC,MAAM8nD,SAASxwD,QAAe8K,KAAKpC,MAAMwf,QAC7Co7B,EAAA,IAAA,KAAIx4C,KAAK3J,MAAM6f,EAAE,0BAElBlW,KAAKpC,MAAM8nD,SAASv7C,KAApB,CAAyBy2C,EAAK3rD,IAE3BujD,EAACoN,GADH,CAEIC,SAAU5wD,EAAI,EACd4B,IAAK+pD,EAAIzrD,GACTmpB,QAASsiC,EACT6E,QAASzlD,KAAKpC,MAAM6nD,QACpBlmC,OAAQvf,KAAKpC,MAAM2hB,OACnBimC,SAAUxlD,KAAKpC,MAAM4nD,4BA5E3BnvD,GACVwiD,MAAMxiD,GACN2J,KAAKpC,MAAQ,CACX6nD,QAASpvD,EAAMlB,GACfioB,QAAQ,EACRsoC,SAAU,GACVC,cAAe,EACfpmC,OAAQ,GACRimC,SAAU,IAEZxlD,KAAKulD,aAAevlD,KAAKulD,aAAa3jD,KAAK5B,aCoD/C8lD,GAAejO,IAAAA,eAhEW//C,EAMxBiuD,aAAanpD,GACXA,EAAMk5C,iBACN,MAAMj6C,EAAO8C,SAAS49B,cAAc,yCACjC9gC,MACH,IAAIy/B,EAAQ,GACZ,IAAIr/B,EAGF,OAAO,EAFPq/B,EAAMr/B,KAAOA,EAIfq/B,EAAM53B,UAAY8V,KAAKC,MAAM9V,KAAKC,MAAQ,KAC1C4Y,GAAK4B,KAAK,cAAekd,GAAOv5B,MAAKkc,IACnCzB,GAAK4B,KAAL,0BAAsCH,EAAImoC,YAAa,IAAIrkD,MAAKkc,IAC9D5Z,OAAO0V,SAAWmjB,GAAOpjB,MAAP,WAAwBmE,EAAI1oB,YAKpDsI,SACE,OACE+6C,EADF,MAAA,CACOxqC,MAAM,kBACTwqC,EADF,MAAA,CACOxqC,MAAM,kBACTwqC,EADF,MAAA,CACOxqC,MAAM,QACTwqC,EADF,MAAA,CACOxqC,MAAM,aACTwqC,EADF,MAAA,CACOxqC,MAAM,uBACTwqC,EADF,MAAA,CACOxqC,MAAM,OACTwqC,EADF,MAAA,CACOxqC,MAAM,oBACTwqC,EADF,OAAA,CACQrjD,GAAG,oBAAoB6Y,MAAM,QACjCwqC,EADF,MAAA,CACOxqC,MAAM,cACTwqC,EADF,QAAA,CACS9uC,IAAI,QAAQ1J,KAAK3J,MAAM6f,EAAE,QAAhC,MACAsiC,EADA,QAAA,CAEE7hD,KAAK,OACLkF,KAAK,OACLoqD,UAAU,IACVrD,UAAU,MACVjK,YAAa34C,KAAK3J,MAAM6f,EAAE,cAC1BlI,MAAM,eACN0qC,UAAA,KAGJF,EAVE,SAAA,CAWA5C,QAASn5C,GAAKuD,KAAK+lD,aAAatpD,GAChCuR,MAAM,mBAELhO,KAAK3J,MAAM6f,EAAE,2CAhDlC2iC,QACA74C,KAAK+lD,aAAe/lD,KAAK+lD,aAAankD,KAAK5B,aCuB/CkmD,GAAenC,GAAe,qBAvBT5kC,EAAuBA,EAQjCA,EART,GAAK3kB,MAAMC,QAAQ,QAAA0kB,EAAAA,GAAGpgB,YAAHogB,IAAAA,OAAAA,EAAAA,EAASmc,eAAc,QAAAnc,EAAAA,GAAGpgB,YAAHogB,IAAAA,OAAAA,EAAAA,EAASmc,UAAUpmC,QAAS,GAItE,OACEsjD,EAAA,MAAA,KACEA,EAFJ,UAAA,CAEarjD,GAAG,QAAQ6Y,MAAM,iCACxBwqC,EADF,MAAA,CACOxqC,MAAM,6EACR,QAAAmR,EAAAA,GAAGpgB,YAAHogB,IAAAA,OAAAA,EAAAA,EAASmc,UAAUnxB,KAAnB,CAAwBhV,EAAIF,IAEzBujD,EAAC2N,GADH,CAEIN,SAAU5wD,EAAI,EACd4B,IAAK1B,EACLA,GAAIA,gBCgMpBixD,GAAevO,IAAAA,eA/MY//C,EAczBiG,oBACEqe,GAAKvY,IAAL,sBAA+B7D,KAAK3J,MAAMlB,MAAMwM,MAAK8D,IACnD/D,QAAQ05B,IAAI,gBACK31B,EAAE4gD,UAAUlxD,mBACbsQ,EAAE6gD,SAASnxD,sBACRsQ,EAAEi3B,YAAYvnC,MAC/BgV,KAAI4O,GAAOqD,GAAKvY,IAAIkV,GAAKpX,MAAKlF,GAAKA,OAAKkF,MAAKkc,IAC7C7d,KAAKoB,SAAS,CACZ4P,OAAQhR,KAAKumD,UAAU9gD,EAAGoY,EAAI,GAAIA,EAAI,IACtCpW,OAAQzH,KAAKwmD,UAAU/gD,GACvBu4C,MAAOh+C,KAAK+/C,SAASt6C,EAAGoY,EAAI,IAC5B8B,aAAcla,EACdy1B,MAAOrd,EAAI,GACX4oC,KAAM5oC,EAAI,GACVS,QAAST,EAAI,WAMrB6oC,aAAa/mC,EAAc8mC,GACzB,IAAIE,EAAS9tC,GAAK8C,cAQlB,OANE8qC,GACAA,EAAK1rB,QACgB,uBAArBpb,EAAahpB,OAEbgwD,EAAS9tC,GAAK6C,KAAK+qC,EAAK1rB,OAAL,GAAmB,GAAI,KAG1Cyd,EADF,MAAA,CAEIh9C,MAAOqd,GAAKiD,eACV2qC,EAAOA,EAAKtxD,GAAK,IAEnBsjD,IAAKkO,EACLC,QAASnqD,GAAKuD,KAAK6mD,oBAAoBpqD,KAK7CoqD,oBAAoBjqD,GAClBA,EAAMkgD,cAAcrE,IAAM5/B,GAAK8C,cAGjC6qC,UAAU7mC,GACR,OAAQA,MAAAA,OAAAA,EAAAA,EAAchpB,MACpB,IAAK,cACH,OAAOqJ,KAAK3J,MAAM6f,EAAE,iBACtB,IAAK,cACH,OAAOlW,KAAK3J,MAAM6f,EAAE,oBACtB,IAAK,oBACH,OAAOlW,KAAK3J,MAAM6f,EAAE,cACtB,IAAK,kBACH,OAAOlW,KAAK3J,MAAM6f,EAAE,YACtB,IAAK,oBACH,OAAOlW,KAAK3J,MAAM6f,EAAE,8BAEpB,MAAO,IAIb6pC,SAASpgC,EAAcrB,GACrB,OAAQqB,MAAAA,OAAAA,EAAAA,EAAchpB,MACpB,IAAK,cACL,IAAK,cACH,GAAI2nB,GAAWA,EAAO,KAAU,CAC9B,GAAIA,EAAO,KAAP,MACF,OAAOA,EAAO,KAAP,MAET,GAAIA,EAAO,KAAP,KAAyB,CAC3B,IAAIvF,EAAMF,GAAKsB,OAAOmE,EAAO,KAAP,MAItB,OAHIvF,GAAOA,EAAI7jB,OAAS,IACtB6jB,EAAMA,EAAI,IAERA,GACFqD,GAAKvY,IAAL,yBAAkCkoC,mBAAmBhzB,MAAQpX,MAAK7B,QAC1CA,EAAkBA,EAAwBA,EAAhEE,KAAKoB,SAAS,CAAC48C,OAAOl+C,MAAAA,GAAA,QAAAA,EAAAA,EAAGf,YAAHe,IAAAA,OAAAA,EAAAA,EAASk+C,SAASl+C,MAAAA,GAAA,QAAAA,EAAAA,EAAGf,YAAHe,IAAAA,OAAAA,EAAAA,EAASgnD,eAAehnD,MAAAA,GAAA,QAAAA,EAAAA,EAAGf,YAAHe,IAAAA,OAAAA,EAAAA,EAASiZ,UAEpEA,GAEFuF,EAAO,KAAP,MAGX,MAAO,WAEP,MAAO,IAIbyoC,UAAUpnC,GACR,OAAQA,MAAAA,OAAAA,EAAAA,EAAchpB,MACpB,IAAK,kBAIIG,EAHP,OACE0hD,EAAC2G,EAAD,KACE3G,EAAA,SAAA,KACG,QAAA1hD,EAAAkJ,KAAKpC,aAAL,IAAA9G,OAAA,EAAAA,EAAYokC,MAAMr/B,MAEpBmE,KAAKpC,MAAMogD,OACVxF,EAAC2G,EAAD,KACE3G,EAAA,KAAA,MACAA,EAAA,QAAA,KAAOA,EAAA,KAAA,KAAK3/B,GAAK4B,aAAaza,KAAKpC,MAAMogD,MAAO,QAK1D,IAAK,cACH,OACExF,EAAA,OAAA,KAAA,GACMx4C,KAAK3J,MAAM6f,EAAE,uBACjBsiC,EAAA,SAAA,KACGx4C,KAAKpC,MAAM0gB,SAAWte,KAAKpC,MAAM0gB,QAAX,OACnBte,KAAKpC,MAAM0gB,QAAX,OAAA,KACA,IAELte,KAAKpC,MAAMogD,OACVxF,EAAC2G,EAAD,KACE3G,EAAA,KAAA,MACAA,EAAA,QAAA,KAAOA,EAAA,KAAA,KAAK3/B,GAAK4B,aAAaza,KAAKpC,MAAMogD,MAAO,QAK1D,IAAK,oBACL,IAAK,sBAGEjE,EAFL,OACEvB,EAAA,SAAA,KACG,QAAAuB,EAAA/5C,KAAKpC,aAAL,IAAAm8C,OAAA,EAAAA,EAAY7e,MAAMr/B,MAGzB,IAAK,oBACH,OACE28C,EAAA,OAAA,KACEA,EAAA,SAAA,KAASx4C,KAAKpC,MAAM+hB,aAAa5gB,KAAxB,mBAAA,IACJiB,KAAK3J,MAAM6f,EAAE,SAClBsiC,EAAA,SAAA,KAASx4C,KAAKpC,MAAM+hB,aAAa5gB,KAAxB,eAGf,IAAK,sBACH,OAAOiB,KAAKpC,MAAM+hB,aAAa5gB,KAAxB,aAEP,MAAO,IAIbwnD,UAAU5mC,EAAcub,EAAO5c,GAC7B,OAAQqB,MAAAA,OAAAA,EAAAA,EAAchpB,MACpB,IAAK,oBACL,IAAK,kBACL,IAAK,oBACH,MAAA,WAAkBukC,EAAM/lC,KAC1B,IAAK,cACH,MAAA,aAAoBwqB,EAAa3O,SACnC,IAAK,cACH,MAAA,aACesN,EAAQnpB,MAAMwqB,EAAa3O,SAE5C,IAAK,sBACH,OAAO2O,EAAa3O,eAEpB,MAAO,IAIbvT,aACO3G,EAAL,OAAK,QAAAA,EAAAkJ,KAAKpC,aAAL,IAAA9G,OAAA,EAAAA,EAAY6oB,cAIf64B,EAACnB,GADH,CAEIrpC,MAAM,0CACN+xB,GAAI//B,KAAKpC,MAAMoT,OACfgtC,MAAOh+C,KAAKpC,MAAMogD,OAElBxF,EALF,MAAA,CAKOxqC,MAAM,0BAA0BhO,KAAK0mD,aAAa1mD,KAAKpC,MAAM+hB,aAAc3f,KAAKpC,MAAM6oD,OAC3FjO,EADA,MAAA,CACKxqC,MAAM,SACTwqC,EADF,MAAA,CACOxqC,MAAM,eACwB,uBAAhChO,KAAKpC,MAAM+hB,aAAahpB,MACvB6hD,EAAC2G,EAAD,KACE3G,EAAA,SAAA,KAASx4C,KAAKpC,MAAM6oD,KAAK5qD,MAAQ,MACjC28C,EAAA,OAAA,KAAA,IAAWx4C,KAAKpC,MAAM6J,YAGzBzH,KAAK+mD,UAAU/mD,KAAKpC,MAAM+hB,eAE7B64B,EATA,MAAA,CASKxqC,MAAM,QACR6K,GAAKoC,UAAUjb,KAAKpC,MAAM+hB,aAAarc,cApBvC,iBAlLCjN,GACVwiD,MAAMxiD,GACN2J,KAAKpC,MAAQ,CACXoT,OAAQ,KACRvJ,OAAQ,KACRu2C,MAAO,KACPr+B,aAAc,KACdub,MAAO,KACPurB,KAAM,KACNnoC,QAAS,aC6Cf0oC,GAAenS,GAAWkP,GAAe,qBAnDvC,MAAA7tC,EAAQA,GAAMgF,KACd,IAAI+nB,EnCOG96B,GAAWmqC,ImCoBlB,OACEkG,EADF,OAAA,CACQxqC,MAAM,4BAA4Bi5C,SAAUxqD,IAAYA,EAzB1Dq5C,sBACJhZ,GAAOE,YAAYr7B,MAAK6d,IACtB,IAAI0nC,EAAW,KACf,OAAQ1nC,EAAOF,YACb,IAAK,QACH4nC,EAAW1nC,EAAOrqB,GAClB,MACF,IAAK,UACH+xD,EAAW1nC,EAAO0b,MAAM/lC,GAK5B,IAAIgyD,EAAcxoD,SACfsD,eAAe,UACfxG,MAAM2rD,UAAU,OAChBlrD,QAHe,mBAGa,IAC5Bob,MAAM,KACT2rB,EAAQxqC,KAAR,WACayuD,YAAmBC,EAAY5vC,KAAK,aAOjDihC,EADF,MAAA,CACOxqC,MAAM,eACTwqC,EADF,QAAA,CAEIxqC,MAAM,eACNrX,KAAK,OACLxB,GAAG,SACHwjD,YAAaziC,EAAE,mBACfza,MAAOqhC,GAAOI,SAAS,YAEzBsb,EAPA,MAAA,CAOKxqC,MAAM,sBACTwqC,EADF,SAAA,CAEIxqC,MAAM,oBACNrX,KAAK,UAEL6hD,EAAC2E,GAJH,CAIUjC,OAAQ,QAASD,KAAM,uBCyE3CoM,GAAexP,IAAAA,CAAkBkM,GAAe,mBAvH5BjsD,EAiBlBiG,oBAGE,MAAMupD,EAASnoC,GAAG9K,GAAG,YAAN,IAAwBU,MACvC,IAAIA,EAAS,KACX,GAAyB,GAArB/U,KAAKpC,MAAMwf,OAEb,YADAkqC,IAGF,IAAIb,EAAOtnC,GAAGtb,MACK,GAAf4iD,EAAKrpC,SACHqpC,EAAK1nD,KAAL,eACFiB,KAAKoB,SAAS,CAAE85B,MAAOurB,EAAK1nD,KAAL,gBACvB+9B,GAAOzd,QAAP,WAA4BonC,EAAK1nD,KAAL,iBACG,GAAtB0nD,EAAK7rB,OAAO1lC,SACnB8K,KAAKoB,SAAS,CAAE85B,MAAOurB,EAAK7rB,OAAO,GAAZ,KACvBkC,GAAOzd,QAAP,WAA4BonC,EAAK7rB,OAAO,MAExC56B,KAAKpC,MAAM2pD,WAAWnqB,aAAav5B,IAAI,WACzCuY,GACGvY,IADH,iBAEuB7D,KAAKpC,MAAM2pD,WAAWnqB,aAAav5B,IAAI,cAE3DlC,MAAKwhB,IACJnjB,KAAKoB,SAAS,CACZgc,QAAQ,EACR4gC,MAAQ76B,GAAKA,EAAEpkB,KAAKi/C,OAAU,GAC9B57C,KAAO+gB,GAAKA,EAAEpkB,KAAKqD,MAAS,GAC5B2W,IAAK,GACL0kC,MAAQt6B,GAAKA,EAAEs6B,OAAU,UAI/Bz9C,KAAKoB,SAAS,CAAEgc,QAAQ,IAE1BkqC,MAKNE,YAAY/qD,GACVuD,KAAKoB,SAAS,CAAE85B,MAAOz+B,EAAEuU,OAAOvV,QAChCqhC,GAAOzd,QAAP,WAA4B5iB,EAAEuU,OAAOvV,QAGvCgC,SACE,GAAKuC,KAAK3J,MAAM8oB,GAAX,OAGL,OACEq5B,EADF,UAAA,CACWxqC,MAAM,QACbwqC,EADF,MAAA,CACOxqC,MAAM,aACRhO,KAAKpC,MAAMmR,QAAU/O,KAAK3J,MAAM8oB,IAAMnf,KAAK3J,MAAM8oB,GAAGyb,OAAO1lC,OAAS,GACnEsjD,EAFJ,MAAA,CAESxqC,MAAM,QACTwqC,EADF,QAAA,CACSxqC,MAAM,OAAOtE,IAAI,sBACrB1J,KAAK3J,MAAM6f,EAAE,uBAEhBsiC,EAHA,SAAA,CAIE/8C,MAAOuE,KAAKpC,MAAMs9B,MAClBltB,MAAM,eACNnS,KAAK,qBACL4rD,SAAUhrD,GAAKuD,KAAKwnD,YAAY/qD,GAChCi8C,UAAA,GAEC14C,KAAK3J,MAAM8oB,GAAGyb,OAAOzwB,KAAI1N,GACxB+7C,EARJ,SAAA,CAQY/8C,MAAOgB,EAAC,IAASA,EAAEZ,UAKlCmE,KAAKpC,MAAMmR,QACVypC,EANM,MAAA,CAMDxqC,MAAM,cACTwqC,EADF,QAAA,CACS9uC,IAAI,UACR1J,KAAK3J,MAAM6f,EAAE,kBADhB,IACoC,KAEpCsiC,EAHA,QAAA,CAIE7hD,KAAK,OACLkF,KAAK,iBACLJ,MAAOuE,KAAKpC,MAAMmR,OAClBf,MAAM,4BACN05C,SAAS,cAIflP,EAACwH,GATG,CAUF2C,OAAO,EACPznB,MAAOl7B,KAAKpC,MAAMs9B,MAClB8iB,MAAOh+C,KAAKpC,MAAMogD,MAClBjvC,OAAQ/O,KAAKpC,MAAMmR,OACnB3M,KACEpC,KAAKpC,MAAMwE,MAAQpC,KAAKpC,MAAMmb,IAA9B,GACO/Y,KAAKpC,MAAMwE,SAAapC,KAAKpC,MAAMmb,MACtC,GAEN0kC,MAAOz9C,KAAKpC,MAAM6/C,wBA7G1B5E,QACA,IAAI0O,EAAa,IAAIvuC,IAAI/U,OAAO0V,UAChC3Z,KAAKpC,MAAQ,CACXwf,QAAQ,EACR8d,MAAO,gBACPqsB,EACAvJ,MAAOuJ,EAAWnqB,aAAav5B,IAAI,UAAY,GAC/CzB,KAAMmlD,EAAWnqB,aAAav5B,IAAI,SAAW,GAC7CkV,IAAKwuC,EAAWnqB,aAAav5B,IAAI,QAAU,GAC3CkL,OAAQw4C,EAAWnqB,aAAav5B,IAAI,WAAa,GACjD45C,MAAO,MAETz9C,KAAKwnD,YAAcxnD,KAAKwnD,YAAY5lD,KAAK5B,UCZtC,MAAM2nD,GAAcC,GACdC,iBCF2B/vD,EAmBtCgwD,cACE9nD,KAAKulD,aAAa,GAGpBxnD,oBACEiC,KAAKulD,aAAa,GAClBthD,OAAO5H,iBAAiB,SAAU2D,KAAK+nD,UAGzChoD,uBACEkE,OAAOzH,oBAAoB,SAAUwD,KAAK+nD,UAG5CxC,aAAayC,GACX5rC,GACGvY,IADH,eACsB7D,KAAK3J,MAAMlB,MAC9BwM,MAAKkc,IACJ7d,KAAKoB,SAAS,CACZ85B,MAAOrd,OAIbzB,GACGvY,IADH,eACsB7D,KAAK3J,MAAMlB,WAAW6yD,KACzCrmD,MAAKkc,IACJ,GAAIA,GAAOrjB,MAAMC,QAAQojB,EAAG,UAAe,CACzC,IAAIoqC,EAAa7uC,KAAKsuB,IAAI1nC,KAAKpC,MAAMwf,OAAe,GAAP4qC,GACzCE,EAAUloD,KAAKpC,MAAM8nD,SAEzB7nC,EAAG,SAAa1T,KACdgZ,IAAM+kC,EAAQ9hC,MAAKw6B,GAAOA,EAAIzrD,IAAMguB,EAAEhuB,MAAO+yD,EAAQzvD,KAAK0qB,KAE5DnjB,KAAKoB,SAAS,CACZskD,SAAUwC,EACVvC,cAAe9nC,EAAG,gBAClBmqC,EACA5qC,OAAQ6qC,IAEO,IAAZD,EAAO,GAAUC,GACpBnmD,YAAU,IAAO9B,KAAKulD,aAAayC,EAAO,SAMpDD,WAIkB,QADd9jD,OAAOkkD,iBAAiBxpD,SAASsD,eAAe,SAASzL,YACtD0qD,SAKDlhD,KAAKooD,gBAAkB,IAAM7kD,KAAKC,QACpCxD,KAAKooD,gBAAkB7kD,KAAKC,MAC5BxD,KAAKoB,SAAS,CAAEinD,YAAapkD,OAAOokD,cAGlC7tD,MAAMC,QAAQuF,KAAKpC,MAAM8nD,WACzB/mD,SAAS+D,KAAK69C,aAAet8C,OAAOqkD,OAAO7sC,OAAS,IAClDxX,OAAOokD,aACTroD,KAAKpC,MAAMwf,OAASpd,KAAKpC,MAAM+nD,gBAE/B3lD,KAAKoB,UAASk9C,IAAS,CAAOlhC,OAAQkhC,EAAUlhC,OAAS,OACrDpd,KAAKpC,MAAMwf,OAAS,GAAKpd,KAAKpC,MAAM8nD,SAASxwD,SAC/C8K,KAAKulD,aAAavlD,KAAKpC,MAAMoqD,KAAO,GAEpChoD,KAAKoB,UAASk9C,IAAS,CAAO0J,KAAM1J,EAAU0J,KAAO,SAM7DvqD,SACE,GAAKuC,KAAK3J,MAAMlB,GAGhB,OACEqjD,EAAA,OAAA,KACEA,EAAC+P,GAAD,MACA/P,EAHJ,MAAA,CAGSxqC,MAAM,WACTwqC,EAAA,MAAA,KACIA,EAAA,MAAA,KACEA,EAHR,UAAA,CAGiBrjD,GAAG,QAAQ6Y,MAAM,iCACxBwqC,EADF,MAAA,CACOxqC,MAAM,6EACRxT,MAAMC,QAAQuF,KAAKpC,MAAM8nD,WAAa1lD,KAAKpC,MAAM8nD,SAAShwD,MAAM,EAAGsK,KAAKpC,MAAMwf,QAAQjT,KAAhD,CAAqDy2C,EAAK3rD,IAE7FujD,EAAC2N,GADH,CAEIN,SAAU5wD,EAAI,EACd4B,IAAK+pD,EAAIzrD,GACTA,GAAIyrD,EAAIzrD,UAOtBqjD,EAACnB,GAJQ,CAKPrpC,MAAM,6CACN+xB,GAAE,WAAa//B,KAAK3J,MAAMlB,YAE1BqjD,EAAC2E,GAJH,CAIUjC,OAAQ,QAASD,KAAM,+BAxH/B5kD,GACVwiD,MAAMxiD,GACN,IAAI+mB,EAAS,EAAIhE,KAAKC,MAAOpV,OAAOqkD,OAAO9sC,MAAQvX,OAAOqkD,OAAO7sC,OAAW,OAC5Ezb,KAAKpC,MAAQ,QACXwf,EACAsoC,SAAU,GACV8C,UAAW,EACX7C,cAAe,EACf0C,YAAa,EACbL,KAAM,GAERhoD,KAAKooD,gBAAkB7kD,KAAKC,MAC5BxD,KAAK+nD,SAAW/nD,KAAK+nD,SAASnmD,KAAK5B,MACnCA,KAAKulD,aAAevlD,KAAKulD,aAAa3jD,KAAK5B,MAC3CA,KAAK8nD,YAAc9nD,KAAK8nD,YAAYlmD,KAAK5B,MACzCiE,OAAO5H,iBAAiB,YAAa2D,KAAK8nD,eDbjCW,GAAgBC,GAChBC,GAAeC,GACfC,GAASC,GACTC,GAAQC,GACRC,iBEVqBnxD,EAWhCiG,oBACEohB,GAAG1B,QAAQ9b,MAAK8kD,IACd,IAAIyC,GAAY,EACZC,EAAW,aAIT1C,EAHFA,IACFyC,GAAY,EACZC,EAAW,iBACP,QAAA1C,EAAAA,EAAK1nD,YAAL0nD,IAAAA,OAAAA,EAAAA,EAAW2C,eACbD,EAAQ,WAAc1C,MAAAA,OAAAA,EAAAA,EAAM1nD,KAAN,iBACb0nD,MAAAA,OAAAA,EAAAA,EAAM7rB,OAAO,MACtBuuB,EAAQ,WAAc1C,MAAAA,OAAAA,EAAAA,EAAM7rB,OAAO,GAAGzlC,OAG1C6K,KAAKoB,SAAS,CACZgc,QAAQ,YACR8rC,WACAC,OAKN1rD,SACE,OAAKuC,KAAKpC,MAAMwf,OAIdo7B,EAAC6Q,GADH,CACYtpB,GAAI//B,KAAKpC,MAAMurD,WAHlB,iBAhCC9yD,GACVwiD,MAAMxiD,GACN2J,KAAKpC,MAAQ,CACXsrD,WAAW,EACX9rC,QAAQ,EACR+rC,SAAU,UCsDhBG,GAAevF,GAAe,KAAMlP,mBAlCtB11B,EAAAqb,EAtBZ,MAAAtkB,EAAQA,GAAMgF,KACd,OACEs9B,EADF,MAAA,CACOxqC,MAAM,+CACTwqC,EADF,MAAA,CACOxqC,MAAM,gBACTwqC,EADF,MAAA,CAEIxqC,MAAM,+BACN63C,SAAS,KACTjQ,QAASn5C,GAAKA,EAAEqgD,cAAcr6C,UAAU88C,OAAO,WAE/C/G,EALF,MAAA,CAKOxqC,MAAM,sCACTwqC,EADF,MAAA,CAEIxqC,MAAM,iBACNxS,MAAOqd,GAAKiD,eAAeqD,GAAGhqB,IAC9BsjD,IACEt5B,GAAG4b,OACCliB,GAAK6C,KAAKyD,GAAG4b,OAAH,GAAiB,GAAI,IAC/BliB,GAAK8C,cAEXirC,QAASnqD,GAAMA,EAAEqgD,cAAcrE,IAAM5/B,GAAK8C,iBAG9C68B,EAXE,MAAA,CAWGxqC,MAAM,iCACP,QAAAmR,EAAAA,GAAGpgB,YAAHogB,IAAAA,GAAA,QAAAqb,EAAArb,EAASmc,iBAATnc,IAAAqb,OAAArb,EAAAqb,EAAoBtlC,SACpBsjD,EAACnB,GAFL,CAGMrpC,MAAM,mCACN+xB,GAAI,cAEH7pB,EAAE,cAGPsiC,EAACnB,GAPC,CAQArpC,MAAM,mCACN+xB,GAAE,UAAY5gB,GAAGhqB,eAEhB+gB,EAAE,aAELsiC,EAACnB,GAND,CAOErpC,MAAM,mCACN+xB,GAAI,WAEH7pB,EAAE,aAITsiC,EAAC+Q,GAAD,OAEA,CAAC,WAAY,UAAUtqC,SAAS6d,GAAO1d,QACvCo5B,EAACgR,GAAD,MAEFhR,EAbM,MAAA,CAaDxqC,MAAM,gBACTwqC,EAACiR,GADH,CACwB7uB,OAAQzb,GAAGyb,kOCtDlC,MAAM8uB,GAAcC,GACdC,cCAX,MAAA1zC,EAAQA,GAAMgF,KACd,OACEs9B,EAAC2G,EAAD,KACGn/C,KAAK3J,MAAMukC,QACV4d,EAHN,MAAA,CAIQxqC,MAAM,wCACN63C,SAAS,KACTjQ,QAASn5C,GAAKA,EAAEqgD,cAAcr6C,UAAU88C,OAAO,WAE/C/G,EALF,MAAA,CAKOxqC,MAAM,qBACRkI,EAAE,UADL,IACgBsiC,EAAC2E,GADjB,CACwBjC,OAAQ,QAASD,KAAM,gBAE/CzC,EAFgB,MAAA,CAEXxqC,MAAM,+BACRhO,KAAK3J,MAAMukC,OAAOzwB,KAAI1N,GACrB+7C,EAACnB,GAFL,CAGMxgD,IAAK4F,EAAEtH,GACP4qC,GAAE,WAAatjC,EAAEtH,KACjB6Y,MAAM,sCAELvR,EAAEZ,QAGP28C,EAACnB,GARC,CASAtX,GAAI,gBACJ/xB,MAAM,8BAFR,KAIQkI,EAAE,yBDzBT2zC,GAASC,GACTC,cEEX,MAAAhrC,SAAQA,EAAFW,cAAYA,GAAkBsqC,GAAW,iBAC/C,IAAKtqC,EACH,OAAO,KAET,MAAAxJ,EAAQA,GAAMgF,KAEd,OACEs9B,EADF,MAAA,CAEInqC,UAAS,iBACSqR,EAAcxqB,OAAS,kBAAoB,IAE7D8oD,MAAO9nC,EAAE,iBACT2vC,SAAS,KACTjQ,QAASn5C,GACPijB,EAAcxqB,QACduH,EAAEqgD,cAAcr6C,UAAU88C,OAAO,WAGnC/G,EAXF,MAAA,CAWOxqC,MAAM,kCACTwqC,EAAC2E,GADH,CAEIjC,OAAQx7B,EAAcxqB,OAAS,QAAU,UACzC+lD,KAAM,WAELv7B,EAAcxqB,QACfsjD,EALF,OAAA,CAKQxqC,MAAM,eAAeoL,KAAKquB,IAAI/nB,EAAcxqB,OAAQ,KAAOwqB,EAAcxqB,OAAS,GAAK,IAAM,MAGvGsjD,EAHI,MAAA,CAGCxqC,MAAM,mDACTwqC,EADF,MAAA,CACOxqC,MAAM,uBACTwqC,EADF,SAAA,CACUxqC,MAAM,cAAckI,EAAE,kBAC9BsiC,EADA,MAAA,CAEExqC,MAAM,oBACN4nC,QAAO,IAAQqU,GAAOttB,0BAErBzmB,EAAE,uBAGNwJ,MAAAA,OAAAA,EAAAA,EAAexqB,SACdwqB,EAAc7mB,MAAd,CAAoBC,EAAGC,IAAMA,EAAEuK,UAAYxK,EAAEwK,YAAW5N,MAAM,EAAE,IAAIyU,KAAI1N,GAAK+7C,EAAC0R,GAR9EC,GAAA,CAQ2FtzD,IAAK4F,EAAEtH,IAAQsH,SCpC7G,MAOM2tD,cCbX,OACE5R,EAAA,OAAA,KACEA,EAAC+P,GAAD,MACA/P,EAHJ,MAAA,CAGSxqC,MAAM,WACTwqC,EADF,UAAA,CACWxqC,MAAM,sCACbwqC,EADF,MAAA,CACOxqC,MAAM,kBACTwqC,EAACsL,GADH,CAEInB,QAAS7lB,GAAOI,SAAS,QAASJ,GAAOvd,QACzCy/B,SAAUh/C,KAAK3J,MAAM2oD,SACrBE,SAAS,EACT/pD,GAAI6K,KAAK3J,MAAMlB,UDIhBk1D,iBEC+BvyD,EAY1CiG,oBACEqe,GAAKvY,IAAL,iBAA0B7D,KAAK3J,MAAMlB,cAAcwM,MAAK2H,IACtDtJ,KAAKoB,SAAS,IAAIkI,OAItB7L,aACO3G,EAOM0jC,EAIJ8vB,EAIoDjL,EAIxBkL,EAOvBpQ,EACmBzf,EAGpBC,EACgBmqB,EAGdC,EAEKC,EAGoBjL,EA1EvB0M,EAmCf,OAAK,QAAA3vD,EAAAkJ,KAAKpC,aAAL,IAAA9G,OAAA,EAAAA,EAAY3B,IAIfqjD,EAACnB,GADH,CAEItX,GAAE,aAAe//B,KAAKpC,MAAMzI,KAC5B6Y,MAAM,4DACNgwC,MAAO,QAAAxjB,EAAAx6B,KAAKpC,aAAL,IAAA48B,OAAA,EAAAA,EAAYz7B,KAAZ,OAEPy5C,EALF,MAAA,CAKOqN,SAAU7lD,KAAK3J,MAAMwvD,SAAU73C,MAAM,mCA1C9CwqC,EADF,MAAA,CAEIwF,OAHayI,EA6CEzmD,KAAKpC,MAAMqhD,QA1CZwH,EAAK5qD,KAAO,KAC1BwS,UAAS,0BAA2Bo4C,EAAO,GAAK,iBAChDjrD,MAAOqd,GAAKiD,eAAe2qC,EAAOA,EAAKtxD,GAAK,IAC5CsjD,KACEgO,MAAAA,OAAAA,EAAAA,EAAM1rB,QACFliB,GAAK6C,KAAK+qC,EAAK1rB,OAAL,GAAmB,IAAK,KAClCliB,GAAK8C,cAEXirC,QAASnqD,GAAMA,EAAEqgD,cAAcrE,IAAM5/B,GAAK8C,iBAmCrC,QAAA2uC,EAAAtqD,KAAKpC,aAAL,IAAA0sD,OAAA,EAAAA,EAAY7Q,SACXjB,EAHJ,MAAA,CAIMxqC,MAAM,iBACNxS,MAAK,0BACuBqd,GAAK6C,KAAK7C,GAAKyC,MAAM,QAAA+jC,EAAAr/C,KAAKpC,aAAL,IAAAyhD,OAAA,EAAAA,EAAY5F,SAAU,IAAK,WAI9EjB,EAPA,MAAA,CAOKxqC,MAAM,gBAAgB,QAAAu8C,EAAAvqD,KAAKpC,aAAL,IAAA2sD,OAAA,EAAAA,EAAYxrD,KAAZ,MAE7By5C,EAFE,MAAA,CAEGxqC,MAAM,uDACTwqC,EADF,OAAA,CACQxqC,MAAM,gBACZwqC,EADA,OAAA,CAEExqC,MAAM,QACNgwC,OACE,QAAA7D,EAAAn6C,KAAKpC,aAAL,IAAAu8C,OAAA,EAAAA,EAAYp7C,KAAZ,QACA8Z,GAAK8B,cAAc,QAAA+f,EAAA16B,KAAKpC,aAAL,IAAA88B,OAAA,EAAAA,EAAYmmB,oBAGhC,QAAAlmB,EAAA36B,KAAKpC,aAAL,IAAA+8B,OAAA,EAAAA,EAAY57B,KAAZ,QACC8Z,GAAKoC,UAAU,QAAA6pC,EAAA9kD,KAAKpC,aAAL,IAAAknD,OAAA,EAAAA,EAAYjE,mBAE/BrI,EAVA,OAAA,CAUMxqC,MAAM,eACP,QAAA+2C,EAAA/kD,KAAKpC,aAAL,IAAAmnD,OAAA,EAAAA,EAAYnuD,WACb4hD,EAAA,OAAA,KAAA,GACM,QAAAwM,EAAAhlD,KAAKpC,aAAL,IAAAonD,OAAA,EAAAA,EAAYpuD,YAChB4hD,EAAC2E,GAJP,CAKQjC,OACEx7B,GAAc5iB,MAAM,QAAAi9C,EAAA/5C,KAAKpC,aAAL,IAAAm8C,OAAA,EAAAA,EAAY5kD,IAAM,QAAU,UAElD8lD,KAAM,iBAxCb,iBAnBC5kD,GACVwiD,MAAMxiD,GACN2J,KAAKpC,MAAQ,CACXqhD,OAAQ,KACRxF,QAAS,KACTtkD,GAAI,KACJ4J,KAAM,KACN8hD,iBAAkB,QFRX2J,iBGhBoC1yD,EAe/CiG,oBACMiC,KAAK3J,MAAMioB,QAAQ2gC,QACrB7iC,GACGvY,IADH,cACuB7D,KAAK3J,MAAMioB,QAAQ2gC,UACvCt9C,MAAKs9C,GAAUA,GAAUj/C,KAAKoB,SAAS,QAAE69C,MAIhDwL,oBACE,IAAKzqD,KAAKpC,MAAMqhD,OACd,MAAO,CAAEjF,OAAQ,MAEnB,IAAI0Q,EAAa1qD,KAAKpC,MAAMqhD,OAAOpjD,KAG/B8uD,EAAQD,EAAWpzC,MAAM,KAC7B,IAAK,IAAIrd,EAAI,EAAGA,EAAI0wD,EAAMz1D,OAAQ+E,IAChC,IAAK0wD,EAAM1wD,GAAGogB,MAAMxB,GAAKqB,WAAY,CACnC,IAAIitC,EAAcnnD,KAAK3J,MAAMkpB,OAAOjI,MAAM,KAC1C,IAAK,IAAItU,EAAI,EAAGA,EAAImkD,EAAYjyD,OAAQ8N,IACtC2nD,EAAM1wD,GAAK0wD,EAAM1wD,GAAGiC,QAClB,IAAIqrB,OAAO1O,GAAKS,YAAY6tC,EAAYnkD,IAAK,MAC7C,aAMR,OADA0nD,EAAaC,EAAMpzC,KAAK,KACjB,CAAEyiC,OAAQ0Q,GAGnBE,0BACO9zD,EAAA0jC,EAAA8vB,EAC6BjL,EAAAkL,EADlC,KAAK,QAAAzzD,EAAAkJ,KAAK3J,aAAL,IAAAS,GAAA,QAAA0jC,EAAA1jC,EAAYwnB,eAAZ,IAAAkc,GAAA,QAAA8vB,EAAA9vB,EAAqBz7B,YAArB,IAAAurD,OAAA,EAAAA,EAA2BtM,OAC9B,MAAO,CAAEhE,OAAQnhC,GAAKoC,UAAU,QAAAokC,EAAAr/C,KAAK3J,aAAL,IAAAgpD,GAAA,QAAAkL,EAAAlL,EAAY/gC,eAAZ,IAAAisC,OAAA,EAAAA,EAAqB1J,mBAGvD,IAAI7C,EAAQh+C,KAAK3J,MAAMioB,QAAQvf,KAAKi/C,MAAM9hD,QAA9B,KAA4C,QAAQA,QAApD,KAAkE,QAAQ+2B,OAGlF03B,EAAQ3M,EAAM1mC,MAAM,KACpB6vC,EAAcnnD,KAAK3J,MAAMkpB,OAAOjI,MAAM,KAC1C,IAAK,IAAIrd,EAAI,EAAGA,EAAI0wD,EAAMz1D,OAAQ+E,IAChC,IAAK0wD,EAAM1wD,GAAGogB,MAAMxB,GAAKqB,WACvB,IAAK,IAAIlX,EAAI,EAAGA,EAAImkD,EAAYjyD,OAAQ8N,IACtC2nD,EAAM1wD,GAAK0wD,EAAM1wD,GAAGiC,QAAQ,IAAIqrB,OAAO1O,GAAKS,YAAY6tC,EAAYnkD,IAAK,MAAO,aAKtF,OADAg7C,EAAQ2M,EAAMpzC,KAAK,KACZ,CAAEyiC,OAAQgE,GAGnBH,qBACE,IAAK79C,KAAK3J,MAAMioB,QAAQvf,OAASiB,KAAK3J,MAAMioB,QAAQvf,KAAnB,KAC/B,MAAO,GAIT,IAAIqb,EAAMpa,KAAK3J,MAAMioB,QAAQvf,KAAnB,KACP7C,QADO,KACO,QACdA,QAFO,KAEO,QACd+2B,OAGC43B,EAAQzwC,EAAI9C,MAAM,MACtB,IAAK,IAAIriB,EAAI,EAAGA,EAAI41D,EAAM31D,OAAQD,IAAK,CACrC,IAAI01D,EAAQE,EAAM51D,GAAGqiB,MAAM,KAC3B,IAAK,IAAIrd,EAAI,EAAGA,EAAI0wD,EAAMz1D,OAAQ+E,IAChC,IAAK0wD,EAAM1wD,GAAGogB,MAAMxB,GAAKqB,WAAY,CACnC,IAAIitC,EAAcnnD,KAAK3J,MAAMkpB,OAAOjI,MAAM,KAC1C,IAAK,IAAItU,EAAI,EAAGA,EAAImkD,EAAYjyD,OAAQ8N,IACjCmkD,EAAYnkD,KAGjB2nD,EAAM1wD,GAAK0wD,EAAM1wD,GAAGiC,QAClB,IAAIqrB,OAAO1O,GAAKS,YAAY6tC,EAAYnkD,IAAK,MAC7C,cAGJ,IAAIwiD,EAAWxlD,KAAK3J,MAAMmvD,SAASluC,MAAM,KACzC,IAAK,IAAItU,EAAI,EAAGA,EAAIwiD,EAAStwD,OAAQ8N,IAC9BwiD,EAASxiD,KAGd2nD,EAAM1wD,GAAK0wD,EAAM1wD,GAAGiC,QAClB,IAAIqrB,OAAJ,IAAiBi+B,EAASxiD,KAAM,MAChC,cAKR6nD,EAAM51D,GAAK01D,EAAMpzC,KAAK,KAExB6C,EAAMywC,EAAMtzC,KAAK,MAGjB,IAAImM,EAAQ,EACRrJ,EAAQ,UACJA,EAAQxB,GAAKsB,OAAOC,EAAI1kB,MAAMguB,KAAU,CAC9C,IAAI3K,EAAMsB,EAAM,GACZtB,EAAI7jB,QAAU,KAChB6jB,EAAG,GAAMA,EAAIrjB,MAAM,EAAG,SAAaqjB,EAAIrjB,OAAM,OAE/C,IAAIyxD,EAAcnnD,KAAK3J,MAAMkpB,OAAOjI,MAAM,KAC1C,IAAK,IAAIriB,EAAI,EAAGA,EAAIkyD,EAAYjyD,OAAQD,IACtC8jB,EAAMA,EAAI7c,QAAQ,IAAIqrB,OAAO1O,GAAKS,YAAY6tC,EAAYlyD,IAAK,MAAO,aAExE,IAAIslB,EAAI,YAAiBF,EAAM,uBAA2BtB,QAC1DqB,EACEA,EAAI1kB,MAAM,EAAG2kB,EAAK,MAAYqJ,GAC9BnJ,EACAH,EAAI1kB,MAAM2kB,EAAK,MAAYqJ,EAAQrJ,EAAM,GAAGnlB,QAC9CwuB,GAASrJ,EAAK,MAAYE,EAAKrlB,OAMjC,OAFAklB,EAAMA,EAAIle,QAAJ,MAAmB,SAElB,CAAE89C,OAAQ5/B,GAGnBssC,eACE,GAAI1mD,KAAKpC,MAAM67C,QACb,OACEjB,EADF,MAAA,CAEIxqC,MAAM,iBACNxS,MAAK,0BAEHqd,GAAK6C,KAAK1b,KAAKpC,MAAM67C,QAAS,IAAK,WAM3C,IAAI1e,EAASliB,GAAK8C,cAQlB,OANE3b,KAAKpC,MAAMqhD,QACXj/C,KAAKpC,MAAMqhD,OAAOlkB,QAClB/6B,KAAKpC,MAAMqhD,OAAOlkB,OAAO5lC,KAEzB4lC,EAASliB,GAAK6C,KAAK1b,KAAKpC,MAAMqhD,OAAOlkB,OAAlB,GAAgC,IAAK,MAGxDyd,EADF,MAAA,CAEIxqC,MAAM,iBACNxS,MAAK,0BAA8Bu/B,QAKzC+vB,UACE,OAAI9qD,KAAKpC,MAAM0gB,QAAQvP,QAAyC,GAA/B/O,KAAKpC,MAAM0gB,QAAQ1nB,SAClD,aACiBoJ,KAAKpC,MAAM0gB,QAAQvP,UAAc/O,KAAKpC,MAAM0gB,QAAQnpB,KAGvE,aAAsB6K,KAAKpC,MAAM0gB,QAAQnpB,KAG3CsI,SACE,OACE+6C,EAACnB,GADH,CAEIrpC,MAAM,4DACN+xB,GAAI//B,KAAK8qD,UACT9M,MAAOh+C,KAAKpC,MAAMogD,OAElBxF,EALF,MAAA,CAKOqN,SAAU7lD,KAAK3J,MAAMwvD,SAAU73C,MAAM,mCACxCwqC,EADF,MAAA,CACOxqC,MAAM,wBACRhO,KAAK0mD,eACNlO,EAFF,MAAA,CAEOxqC,MAAM,SACTwqC,EADF,MAAA,CAEIxqC,MAAM,QACN/O,wBAAyBe,KAAKyqD,sBAEhCjS,EAJA,MAAA,CAIKxqC,MAAM,OAAX,KACAwqC,EADA,MAAA,CAEExqC,MAAM,QACNgwC,MACEh+C,KAAKpC,MAAMogD,OACXnlC,GAAK8B,cAAc3a,KAAKpC,MAAM0gB,QAAQuiC,kBAExC5hD,wBAAyBe,KAAK4qD,yBAGlCpS,EATE,MAAA,CASGxqC,MAAM,QACRhO,KAAKpC,MAAMwE,KAAK6wB,QACfulB,EAFJ,IAAA,CAGMxqC,MAAM,YACN/O,wBAAyBe,KAAK69C,wBAIpCrF,EANI,MAAA,CAMCxqC,MAAM,cACNhO,KAAKpC,MAAM0gB,QAAQ1nB,UACpB4hD,EAAA,OAAA,KAAA,GACMx4C,KAAKpC,MAAM0gB,QAAQ1nB,YACvB4hD,EAAC2E,GAJP,CAKQjC,OACE/7B,GAAGriB,MAAMkD,KAAKpC,MAAM0gB,QAAQnpB,IAAM,QAAU,UAE9C8lD,KAAM,6BAtNZ5kD,GACVwiD,MAAMxiD,GACN2J,KAAKpC,MAAQ,CACX0gB,QAASjoB,EAAMioB,QACf0/B,MAAO3nD,EAAMioB,QAAQvf,KAAd,OAA+B,GACtCqD,KAAM/L,EAAMioB,QAAQvf,KAAd,MAA8B,GACpC06C,QAASpjD,EAAMioB,QAAN,SAA4B,MAEvCte,KAAK0mD,aAAe1mD,KAAK0mD,aAAa9kD,KAAK5B,MAC3CA,KAAK8qD,QAAU9qD,KAAK8qD,QAAQlpD,KAAK5B,MACjCA,KAAK4qD,oBAAsB5qD,KAAK4qD,oBAAoBhpD,KAAK5B,MACzDA,KAAK69C,mBAAqB79C,KAAK69C,mBAAmBj8C,KAAK5B,QCXpD,MAAM+qD,GAAQC,GACRC,GAAgBC,GAChBC,GAASC,GACTC,GAAyBC,GACzBC,iBCNuBzzD,EAMlCiG,oBACMiC,KAAK3J,MAAM21C,OACb5vB,GACGvY,IADH,eACwB7D,KAAK3J,MAAM21C,SAChCrqC,MAAKkc,GAAO7d,KAAKoB,SAAS,CAAEkd,QAAST,MAI5CpgB,SACE,GAAKuC,KAAKpC,MAAM0gB,QAGhB,OACEk6B,EADF,UAAA,CACWxqC,MAAM,sCACbwqC,EADF,MAAA,CACOxqC,MAAM,aACTwqC,EAACgT,GADH,CAEIxM,UAAU,EACVnoD,IAAKmJ,KAAKpC,MAAM0gB,QAAQnpB,GACxBmpB,QAASte,KAAKpC,MAAM0gB,wBAvBlBjoB,GACVwiD,MAAMxiD,GACN2J,KAAKpC,MAAQ,SC4JjB6tD,GAAe5T,IAAAA,CAAkBhD,iBA9JL/8C,EAU1BiG,oBACE2D,QAAQ05B,IAAIp7B,KAAK3J,MAAMq1D,MAAMvhD,KAAIwlC,GAAKvzB,GAAKvY,IAAL,cAAuB8rC,EAAEx6C,MAAMwM,MAAKguC,GAAKA,OAAKhuC,MAClF+pD,GAAS1rD,KAAKoB,SAAS,OAACsqD,MAI5BC,eAAe/uD,GACbA,EAAMk5C,iBACN15B,GACG4B,KADH,eACuBhe,KAAKpC,MAAMzI,sBAAuB,IACtDwM,MAAKkc,IACJ9b,GAAMI,IAAInC,KAAK3J,MAAM6f,EAAE,kBACvBlW,KAAKoB,SAAS,CAAE4kD,UAAWnoC,EAAG,eAIpC+tC,eAAehvD,GACbA,EAAMk5C,iBACN,MAAMj6C,EAAO8C,SAAS49B,cAAc,qCACjC9gC,MACH,IAAIy/B,EAAQ,GACRr/B,IACFq/B,EAAMr/B,KAAOA,GAEfugB,GAAK+B,IAAL,eAA0Bne,KAAKpC,MAAMzI,KAAM+lC,GAAOv5B,MAAKkc,IACrD9b,GAAMI,IAAInC,KAAK3J,MAAM6f,EAAE,kBACvBlW,KAAKoB,UAASk9C,GAAatpD,OAAOmB,OAAOmoD,EAAWzgC,QAIxDguC,WAAWjvD,OAELuiB,EAAJ,GADAviB,EAAMk5C,kBACF,QAAA32B,EAAAA,GAAGpgB,YAAHogB,IAAAA,OAAAA,EAAAA,EAASiqC,gBAAiBppD,KAAKpC,MAAMzI,GAAI,CAC3C,IAAIsxD,EAAO,GACXA,EAAK1nD,KAAO,CAAEqqD,cAAejqC,GAAGyb,OAAO,GAAGzlC,IAC1CinB,GAAK+B,IAAL,cAAuBgB,GAAGhqB,KAAMsxD,GAAM9kD,MAAtC,KACE3B,KAAK3J,MAAM0oB,SAAS,YACpB/e,KAAK8rD,gBAGP9rD,KAAK8rD,QAITA,QACE1vC,GAAK4B,KAAL,eAA2Bhe,KAAKpC,MAAMzI,WAAc,IAAIwM,MAAKkc,IACtDA,GAAQA,EAAG,YAGd7d,KAAK3J,MAAM0oB,SAAS,YACpBhd,GAAMI,IAAInC,KAAK3J,MAAM6f,EAAE,eACvBlW,KAAK3J,MAAM4sC,QAAQxqC,KAAK,MAJxBsJ,GAAMI,IAAInC,KAAK3J,MAAM6f,EAAE,SAAU,mBASvCzY,SACE,OACE+6C,EAAA,MAAA,KACEA,EAFJ,MAAA,CAESxqC,MAAM,uBACTwqC,EADF,MAAA,CACOxqC,MAAM,QACTwqC,EADF,MAAA,CACOxqC,MAAM,aACTwqC,EADF,MAAA,CACOxqC,MAAM,uBACTwqC,EADF,MAAA,CACOxqC,MAAM,OACTwqC,EADF,MAAA,CACOxqC,MAAM,oBACTwqC,EADF,OAAA,CACQrjD,GAAG,gBAAgB6Y,MAAM,2BAC7BwqC,EADF,MAAA,CACOxqC,MAAM,cACTwqC,EADF,QAAA,CACS9uC,IAAI,QAAQ1J,KAAK3J,MAAM6f,EAAE,QAAhC,MACAsiC,EADA,QAAA,CAEE7hD,KAAK,OACLkF,KAAK,OACLoqD,UAAU,IACVrD,UAAU,MACVjK,YAAa34C,KAAK3J,MAAM6f,EAAE,cAC1Bza,MAAOuE,KAAKpC,MAAM/B,KAClBmS,MAAM,eACN0qC,UAAA,KAGJF,EAXE,SAAA,CAYA5C,QAAS51C,KAAK4rD,eACd59C,MAAM,6BAELhO,KAAK3J,MAAM6f,EAAE,kBAGlBsiC,EAPE,OAAA,CAOIxqC,MAAM,2BACVwqC,EADF,MAAA,CACOxqC,MAAM,cACTwqC,EADF,QAAA,CACS9uC,IAAI,aACR1J,KAAK3J,MAAM6f,EAAE,mBADhB,IACqC,KAErCsiC,EAHA,QAAA,CAIE7hD,KAAK,OACLkF,KAAK,YACLJ,MAAK,GACAke,SAASoyC,aAAapyC,SAASqyC,mBAAmBhsD,KAAKpC,MAAMooD,YAElEh4C,MAAM,4BACN05C,SAAS,cAGblP,EAVE,SAAA,CAWAxqC,MAAM,4BACN4nC,QAAS51C,KAAK2rD,gBAEb3rD,KAAK3J,MAAM6f,EAAE,2BAGlBsiC,EAAA,OAAA,KACEA,EARA,SAAA,CASE5C,QAASn5C,GAAKuD,KAAK6rD,WAAWpvD,GAC9BuR,MAAM,0BAELhO,KAAK3J,MAAM6f,EAAE,sBAS9BsiC,EAbc,MAAA,CAaTxqC,MAAM,kBACTwqC,EAAA,KAAA,KAAKx4C,KAAK3J,MAAM6f,EAAE,UACjBlW,KAAKpC,MAAM8tD,MAAMvhD,KAChBs8C,GACEA,GACEjO,EALR,MAAA,CAKaxqC,MAAM,aACTwqC,EADF,MAAA,CAEIxqC,MAAM,oCACNxS,MAAOqd,GAAKiD,eAAe2qC,EAAKtxD,IAChCsjD,IACEgO,EAAK1rB,OACDliB,GAAK6C,KAAK+qC,EAAK1rB,OAAL,GAAmB,IAAK,KAClCliB,GAAK8C,cAEXirC,QAASnqD,GAAMA,EAAEqgD,cAAcrE,IAAM5/B,GAAK8C,gBAE5C68B,EAAA,OAAA,KAAOiO,EAAI,uBAnJfpwD,GACVwiD,MAAMxiD,GACN2J,KAAK4rD,eAAiB5rD,KAAK4rD,eAAehqD,KAAK5B,MAC/CA,KAAK6rD,WAAa7rD,KAAK6rD,WAAWjqD,KAAK5B,MACvCA,KAAK8rD,MAAQ9rD,KAAK8rD,MAAMlqD,KAAK5B,MAC7BA,KAAK2rD,eAAiB3rD,KAAK2rD,eAAe/pD,KAAK5B,MAC/CA,KAAKpC,MAAQ5I,OAAOmB,OAAO,CAAE81D,cAAe,IAAM51D,WCmPtD61D,GAAerU,IAAAA,eA3PY//C,EAUzBiG,oBACE+E,GAAQe,IAAI,UAAUlC,MAAK+a,GAAU1c,KAAKoB,SAAS,QAACsb,MAGtDyvC,YAAYvvD,GACVA,EAAMk5C,iBACN15B,GAAK4B,KAAL,cAAwBhe,KAAKpC,MAAMzI,mBAAoB,IAAIwM,MAA3D,IAAsEm7B,GAAOpB,WAG/E0wB,cACE,MAAMnL,EAAQtiD,SAASjI,cAAc,SACrCuqD,EAAMtqD,KAAO,OACbsqD,EAAME,OAAS,UACfF,EAAM5kD,iBAAiB,UAAUO,IAC/BtH,EAAA,SAAqCqM,MAAKwgD,IACxCA,EAAa3xC,QAAQ4xC,YACnBxlD,EAAMoU,OAAOysC,MAAM,IACnB4O,IACE,MAAM/vC,EAAW,IAAIimC,SACrBjmC,EAASsc,OAAO,OAAQyzB,GACxBjwC,GAAK4B,KAAK,aAAc1B,GAAU,GAAO3a,MAAKq7C,IAC5C5gC,GACG+B,IADH,cACqBne,KAAKpC,MAAMzI,KAAM,CAAE4lC,OAAQiiB,EAAI,KACjDr7C,MAFH,KAGI3B,KAAKoB,SAAS,CAAE25B,OAAQiiB,IACxBj7C,GAAMI,IAAInC,KAAK3J,MAAM6f,EAAE,oCAOrC+qC,EAAMI,QAGRiL,eAAe1vD,GACbA,EAAMk5C,iBACgBjT,QAAQ7iC,KAAK3J,MAAM6f,EAAE,kBAEzCkG,GAAKjQ,OAAL,cAA0BnM,KAAKpC,MAAMzI,MAAMwM,MAA3C,KACE3B,KAAK3J,MAAM4sC,QAAQxqC,KAAK,cAK9BmzD,eAAehvD,GACbA,EAAMk5C,iBACN,MAAMj6C,EAAO8C,SAAS49B,cAAc,qCACjC9gC,MACGs8C,EAAQp5C,SAAS49B,cAAc,sCAClC9gC,MACG28C,EAAWz5C,SAAS49B,cACxB,yCACA9gC,MACI8wD,EAAsB5tD,SAAS49B,cACnC,qDACA9gC,MACI2tD,EAAgBzqD,SAAS49B,cAC7B,+CACA9gC,MACIg/B,EAAO97B,SAAS49B,cAAc,sCACjC9gC,MACH,IAAIgrD,EAAO,GACP5qD,IACF4qD,EAAK5qD,KAAOA,GAEVk8C,IACF0O,EAAK1O,MAAQA,GAEXK,IACFqO,EAAKrO,SAAWA,GAElBqO,EAAK1nD,KAAO,qBACVwtD,gBACAnD,OACA3uB,GAEFre,GAAK+B,IAAL,cAAuBne,KAAKpC,MAAMzI,KAAMsxD,GAAM9kD,MAAKkc,IAC7CA,EAAG,MACL9b,GAAMI,IAAI0b,EAAG,MAAW,iBAExB7d,KAAKoB,UAASk9C,GAAatpD,OAAOmB,OAAOmoD,EAAWzgC,KACpDlE,SAASgiB,KAAO9iB,GAAKa,MAAL,GACXC,SAASF,uCAMpBhc,aAiFuB0hB,EAhFrB,OACEq5B,EADF,MAAA,CACOxqC,MAAM,iBACTwqC,EADF,MAAA,CACOxqC,MAAM,QACTwqC,EADF,MAAA,CACOxqC,MAAM,sBACTwqC,EADF,MAAA,CACOxqC,MAAM,uBACTwqC,EADF,MAAA,CACOxqC,MAAM,OACTwqC,EADF,MAAA,CACOxqC,MAAM,mBACTwqC,EADF,MAAA,CAEIxqC,MAAM,kDACNyqC,IACEz4C,KAAKpC,MAAMm9B,OACPliB,GAAK6C,KAAK1b,KAAKpC,MAAMm9B,OAAX,GAAyB,IAAK,KACxCliB,GAAK8C,cAEXngB,MAAOqd,GAAKiD,eAAe9b,KAAKpC,MAAL,IAAoB,IAC/CgpD,QAASnqD,GAAMA,EAAEqgD,cAAcrE,IAAM5/B,GAAK8C,cAC1Ci6B,QAASn5C,GAAKuD,KAAKosD,YAAY3vD,MAGnC+7C,EAZE,MAAA,CAYGxqC,MAAM,oBACTwqC,EADF,OAAA,CACQrjD,GAAG,gBAAgB6Y,MAAM,QAC7BwqC,EADF,MAAA,CACOxqC,MAAM,cACTwqC,EADF,QAAA,CACS9uC,IAAI,QAAQ1J,KAAK3J,MAAM6f,EAAE,QAAhC,MACAsiC,EADA,QAAA,CAEE7hD,KAAK,OACLkF,KAAK,OACLoqD,UAAU,IACVrD,UAAU,MACVjK,YAAa34C,KAAK3J,MAAM6f,EAAE,cAC1Bza,MAAOuE,KAAKpC,MAAM/B,KAClBmS,MAAM,kBAGVwqC,EAVE,MAAA,CAUGxqC,MAAM,cACTwqC,EADF,QAAA,CACS9uC,IAAI,SAAS1J,KAAK3J,MAAM6f,EAAE,SAAjC,MACAsiC,EADA,QAAA,CAEE7hD,KAAK,QACLkF,KAAK,QACL88C,YAAa34C,KAAK3J,MAAM6f,EAAE,eAC1Bza,MAAOuE,KAAKpC,MAAMm6C,MAClB/pC,MAAM,kBAGVwqC,EARE,MAAA,CAQGxqC,MAAM,cACTwqC,EADF,QAAA,CACS9uC,IAAI,YAAY1J,KAAK3J,MAAM6f,EAAE,YAApC,MACAsiC,EADA,QAAA,CAEE7hD,KAAK,WACLkF,KAAK,WACL4mD,aAAa,MACbwD,UAAU,IACVrD,UAAU,MACVjK,YAAa34C,KAAK3J,MAAM6f,EAAE,kBAC1BlI,MAAM,kBAGVwqC,EAVE,MAAA,CAUGxqC,MAAM,cACTwqC,EADF,QAAA,CACS9uC,IAAI,uBACR1J,KAAK3J,MAAM6f,EAAE,uBADhB,KAGAsiC,EAHA,SAAA,CAIE38C,KAAK,sBACLmS,MAAM,eACNvS,MAAOuE,KAAKpC,MAAMmB,KAAX,qBAEPy5C,EALF,SAAA,CAKU/8C,MAAM,QAAQuE,KAAK3J,MAAM6f,EAAE,SACnCsiC,EADA,SAAA,CACQ/8C,MAAM,UAAUuE,KAAK3J,MAAM6f,EAAE,WACrCsiC,EADA,SAAA,CACQ/8C,MAAM,SAASuE,KAAK3J,MAAM6f,EAAE,UACpCsiC,EADA,SAAA,CACQ/8C,MAAM,UAAUuE,KAAK3J,MAAM6f,EAAE,WACrCsiC,EADA,SAAA,CACQ/8C,MAAM,WAAWuE,KAAK3J,MAAM6f,EAAE,cAG1CsiC,EAHI,MAAA,CAGCxqC,MAAM,cACTwqC,EADF,QAAA,CACS9uC,IAAI,iBACR1J,KAAK3J,MAAM6f,EAAE,iBADhB,KAGAsiC,EAHA,SAAA,CAIE38C,KAAK,gBACLmS,MAAM,eACNvS,MAAOuE,KAAKpC,MAAMmB,KAAX,eAEN,QAAAogB,EAAAA,GAAGyb,cAAHzb,IAAAA,OAAAA,EAAAA,EAAWhV,KAAI1N,GACd+7C,EANJ,SAAA,CAMY3hD,IAAK4F,EAAEtH,GAAIsG,MAAOgB,EAAEtH,IAAKsH,EAAEZ,UAIzC28C,EAJM,MAAA,CAIDxqC,MAAM,cACTwqC,EADF,QAAA,CACSxqC,MAAM,aAAatE,IAAI,QAC3B1J,KAAK3J,MAAM6f,EAAE,QADhB,KAGAsiC,EAHA,SAAA,CAIE38C,KAAK,OACLmS,MAAM,eACNvS,MAAOg/B,GAAK4B,kBAEXrnC,OAAOD,KAAK0lC,GAAKoB,cAAc1xB,KAAInH,GAClCw1C,EANJ,SAAA,CAMY3hD,IAAKmM,EAAGvH,MAAOuH,GAAIy3B,GAAKoB,aAAa74B,QAInDw1C,EAJM,SAAA,CAKJ5C,QAASn5C,GAAKuD,KAAK4rD,eAAenvD,GAClCuR,MAAM,mBAELhO,KAAK3J,MAAM6f,EAAE,kBAGlBsiC,EAPE,OAAA,CAOIrjD,GAAG,gBACPqjD,EADF,MAAA,CACOxqC,MAAM,cACTwqC,EADF,QAAA,CACS9uC,IAAI,UACR1J,KAAK3J,MAAM6f,EAAE,WADhB,IAC6B,KAE7BsiC,EAHA,QAAA,CAIE7hD,KAAK,OACLkF,KAAK,SACLJ,MAAOuE,KAAKpC,MAAM8e,OAClB1O,MAAM,4BACN05C,SAAS,cAGblP,EARE,SAAA,CASAxqC,MAAM,4BACN4nC,QAAS51C,KAAKmsD,aAEbnsD,KAAK3J,MAAM6f,EAAE,mBAGlBsiC,EAPE,OAAA,CAOIrjD,GAAG,gBACPqjD,EADF,QAAA,CACSxqC,MAAM,UAAUtE,IAAI,mBACxB1J,KAAK3J,MAAM6f,EAAE,4BAEhBsiC,EAHA,SAAA,CAIE5C,QAASn5C,GAAKuD,KAAKssD,eAAe7vD,GAClCZ,KAAK,kBACLmS,MAAM,kBAELhO,KAAK3J,MAAM6f,EAAE,0BAQ3BlW,KAAKpC,MAAMmE,OACVy2C,EAdU,MAAA,CAcLxqC,MAAM,oCAAoChO,KAAKpC,MAAMmE,oBAnPtD1L,GACVwiD,MAAMxiD,GACN2J,KAAKssD,eAAiBtsD,KAAKssD,eAAe1qD,KAAK5B,MAC/CA,KAAKosD,YAAcpsD,KAAKosD,YAAYxqD,KAAK5B,MACzCA,KAAK4rD,eAAiB5rD,KAAK4rD,eAAehqD,KAAK5B,MAC/CA,KAAKmsD,YAAcnsD,KAAKmsD,YAAYvqD,KAAK5B,MACzCA,KAAKpC,MAAQ5I,OAAOmB,OAAO,CAACumB,OAAQ,IAAKrmB,UCuE7Cm2D,GAAe3U,IAAAA,CAAkBkM,GAAe,mBAzEzBjsD,EAMrBiG,oBACEqe,GAAKvY,IAAL,QAAiB7D,KAAK3J,MAAMM,QAAQqJ,KAAK3J,MAAMlB,MAAMwM,MACnDkc,IACE7d,KAAKoB,SAAS,CAACoe,OAAQ3B,OAK7BpgB,aAoBiB3G,EAYM0jC,EA/BrB,GAAKx6B,KAAKpC,MAAM4hB,QAAWxf,KAAK3J,MAAM8oB,GAAGhqB,GAGzC,OACEqjD,EAAA,OAAA,KACEA,EAAC+P,GAAD,MACA/P,EAHJ,MAAA,CAGSxqC,MAAM,WACTwqC,EADF,UAAA,CACWxqC,MAAM,sCACbwqC,EADF,MAAA,CACOxqC,MAAM,kBACTwqC,EADF,MAAA,CACOxqC,MAAM,YACTwqC,EADF,KAAA,CACMxqC,MAAM,gBACRwqC,EADF,KAAA,CACMxqC,MAAM,YACRwqC,EAACnB,GADH,CAEIrpC,MAAK,YAAgD,QAAnChO,KAAKpC,MAAM4hB,OAAX,WAA4C,UAAY,IAC1EugB,GAAE,UAAY//B,KAAK3J,MAAM8oB,GAAGhqB,eAE3B6K,KAAK3J,MAAM6f,EAAE,cAGjB,QAAApf,EAAAkJ,KAAK3J,MAAM8oB,GAAGyb,cAAd,IAAA9jC,OAAA,EAAAA,EAAsB5B,QAAS,GAC9BsjD,EARA,KAAA,CASExqC,MAAM,+BACN63C,SAAS,KACTjQ,QAASn5C,GAAKA,EAAEqgD,cAAcr6C,UAAU88C,OAAO,WAE/C/G,EALF,MAAA,CAMIxqC,MAAK,YAAgD,SAAnChO,KAAKpC,MAAM4hB,OAAX,WAA6C,UAAY,KAE1Exf,KAAK3J,MAAM6f,EAAE,WAEhBsiC,EALA,MAAA,CAKKxqC,MAAM,iBACR,QAAAwsB,EAAAx6B,KAAK3J,MAAM8oB,GAAGyb,cAAd,IAAAJ,OAAA,EAAAA,EAAsBrwB,KAAI1N,GACzB+7C,EAACnB,GAFL,CAGMrpC,MAAM,gBACN+xB,GAAE,WAAatjC,EAAEtH,eAEhBsH,EAAEZ,WAOsB,SAApCmE,KAAKpC,MAAM4hB,OAAX,YACCg5B,EAAC0T,GAAiBlsD,KAAKpC,MAAM4hB,QAEM,UAApCxf,KAAKpC,MAAM4hB,OAAX,YACCg5B,EAACiT,GAAkBzrD,KAAKpC,MAAM4hB,yBA7DlCnpB,GACVwiD,MAAMxiD,GACN2J,KAAKpC,MAAQ,OCRV,MACM6uD,GAAWC,OCwLxBC,GAAe9X,iBAxKG/8C,EAqDhB2F,SAEE,OACE+6C,EAACoU,GAAD,KACEpU,EAACqU,GAAD,KAEErU,EAACsU,GAJP,CAIazpC,KAAK,IAAIqc,OAAO,EAAMjiC,OAAM,IAC/B+6C,EAACuU,GADwB,QAI7BvU,EAACsU,GAJD,CAIOzpC,KAAK,UAAU5lB,OAAM,IAC1B+6C,EAACwU,GADmB,QAItBxU,EAACsU,GAJD,CAIOzpC,KAAK,4BAA4B5lB,OAAM,IAC5C+6C,EAACyU,GADqC,QAIxCzU,EAACsU,GAJD,CAIOzpC,KAAK,iBAAiB5lB,OAAQpH,GACnCmiD,EAAC0U,GAD0B,CACnBlhB,MAAO31C,EAAMgkB,MAAM83B,OAAOnG,MAAOn1C,IAAKR,EAAMgkB,MAAM83B,OAAOnG,UAGnEwM,EAACsU,GAJD,CAIOzpC,KAAK,kBAAkB5lB,OAAM,IAClC+6C,EAAC2U,GAD2B,QAI9B3U,EAACsU,GAJD,CAIOzpC,KAAK,SAAS5lB,OAAM,IACzB+6C,EAAC4U,GADkB,QAIrB5U,EAACsU,GAJD,CAIOzpC,KAAK,UAAU5lB,OAAM,IAAQ0hB,GAAGuc,WAEvC8c,EAACsU,GAFD,CAEOzpC,KAAK,sBAAsB5lB,OAAQpH,GACxCmiD,EAAC6U,GAD+B,CAE9B12D,KAAMN,EAAMgkB,MAAM83B,OAAOx7C,KACzBxB,GAAIkB,EAAMgkB,MAAM83B,OAAOh9C,GACvB0B,IAAKR,EAAMgkB,MAAM83B,OAAOh9C,OAI5BqjD,EAACsU,GARD,CAQOzpC,KAAK,gBAAgB5lB,OAAM,IAChC+6C,EAAA,OAAA,KACEA,EAAC+P,GAAD,MACA/P,EAHwB,MAAA,CAGnBxqC,MAAM,WACTwqC,EAAC8U,GAAD,MADF,QAMJ9U,EAACsU,GATD,CASOzpC,KAAK,SAAS5lB,OAAM,IACzB+6C,EAAA,OAAA,KACEA,EAAC+P,GAAD,MACA/P,EAHiB,MAAA,CAGZxqC,MAAM,WACTwqC,EAAC+U,GAAD,MADF,QAMJ/U,EAACsU,GATD,CASOzpC,KAAK,gBAAgB5lB,OAAQpH,GAClCmiD,EAACgT,GADyB,CACX30D,IAAKR,EAAMgkB,MAAM83B,OAAOh9C,GAAIA,GAAIkB,EAAMgkB,MAAM83B,OAAOh9C,GAAI6pD,UAAU,MAGlFxG,EAACsU,GAJD,CAIOzpC,KAAK,aAAa5lB,OAAM,IAC7B+6C,EAAA,OAAA,KACEA,EAAC+P,GAAD,MACA/P,EAHqB,MAAA,CAGhBxqC,MAAM,WACTwqC,EAAA,MAAA,KACEA,EAACgV,GAAD,WAMRhV,EAACsU,GAXD,CAWOzpC,KAAK,oBAAoB5lB,OAAQpH,GACtCmiD,EAAA,OAAA,KACEA,EAAC+P,GAAD,MACA/P,EAH4B,MAAA,CAGvBxqC,MAAM,WACTwqC,EADF,UAAA,CACWxqC,MAAM,QACbwqC,EADF,MAAA,CACOxqC,MAAM,kBACTwqC,EAACwH,GADH,CACU2C,OAAO,EAAMznB,MAAO7kC,EAAMgkB,MAAM83B,OAAOh9C,WAOzDqjD,EAACsU,GAbD,CAaOzpC,KAAK,cAAc5lB,OAAQpH,GAG9BymC,GAAOI,SAAS,SAAU7mC,EAAMsjB,SAAS4F,OAAOmI,UAAU,KACvDoV,GAAOI,SAAS,WAAY7mC,EAAMsjB,SAAS4F,OAAOmI,UAAU,IAG7D8wB,EAAA,OAAA,KACEA,EAAC+P,GAAD,MACA/P,EAHJ,MAAA,CAGSxqC,MAAM,WACTwqC,EADF,UAAA,CACWxqC,MAAM,QACbwqC,EADF,MAAA,CACOxqC,MAAM,kBACTwqC,EAACiV,GADH,CACe52D,IAAKR,EAAMgkB,MAAM83B,OAAOh9C,GAAIA,GAAIkB,EAAMgkB,MAAM83B,OAAOh9C,SAQrEqjD,EAACkV,GAAR,CAAmB72D,IAAKR,EAAMgkB,MAAM83B,OAAOh9C,GAAIA,GAAIkB,EAAMgkB,MAAM83B,OAAOh9C,qBA9JpEkB,GACVwiD,MAAMxiD,GAGNooB,GAAInd,SAGJ6d,GAAG7d,SACHoe,GAAcpe,SAGdm5B,GAAKnzB,OACLrD,OAAO5H,iBAAiB,kBAAxB,KACEyF,YAAU,IAAO9B,KAAKoB,SAAS,CAACq5B,KAAM,QAAQ,OAIhDx2B,OAAO5H,iBAAiB,SAASI,IAC1BA,EAAEuU,OAAOsuC,QAAQ,aAOpB3gD,SACGgvD,iBAAiB,aACjBzvD,SAAQuH,IACJA,GAAKhJ,EAAEuU,OAAOsuC,QAAQ,cACvB75C,EAAEhD,UAAUT,OAAO,aATzBrD,SACGgvD,iBAAiB,aACjBzvD,SAAQuH,GAAKA,EAAEhD,UAAUT,OAAO,eAcvCc,GAAQe,IAAI,UAAUlC,MAAK+a,IACL,cAAhBogB,GAAO1d,MACH1C,EACFN,GAAK4B,KAAL,0BAAoC8e,GAAO3nC,KAAM,IAAIwM,MAArD,KACE3B,KAAK3J,MAAM4sC,QAAQxqC,KAAK,QAG1BuH,KAAK3J,MAAM4sC,QAAQxqC,KAAnB,qBAA6CqkC,GAAO3nC,MAE9C2nC,GAAOS,aAAgB7gB,GAEjC1c,KAAK3J,MAAM4sC,QAAQxqC,KAAK,yBCrDvBm1D,KACP,OACEpV,EAAC2K,GAAaziD,SADhB,CACyBjF,MAAO4b,IAC5BmhC,EAACmU,GAAD,OAKNlvD,EAAO+6C,cAfL,OACEA,EAACoU,GAAD,KACEpU,EAACqV,GAAD,SAaC,MAAWlvD,SAAS+D,aCxB3BorD,GAAiBx4D,EAAA,SAAAqiD,aAA6C,SAAWriD,EAAA,SAAAuM,QAA6C,SD0BlH,kBAAmB6iB,WACrBzgB,OAAO5H,iBAAiB,QAAxB,KACMsd,SAAS4F,OAAON,SAAS,gCAC3ByF,UAAUqpC,cAAcC,mBAAmBrsD,MAAMssD,IAC/C,IAAK,IAAIC,KAAgBD,EACvBC,EAAaC,gBAGjB36C,QAAQ2N,IAAI,iCAEduD,UAAUqpC,cAAcx4D,SAAxBu4D,IAAmGnsD,MAChGusD,IACC16C,QAAQ2N,IACN,qDACA+sC,EAAaE,UAGhBjpD,IACCqO,QAAQC,KAAK,sCAAuCtO","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-940685c40c1f7362.js","node_modules/preact/src/constants.js","node_modules/preact/src/util.js","node_modules/preact/src/options.js","node_modules/preact/src/create-element.js","node_modules/preact/src/component.js","node_modules/preact/src/create-context.js","node_modules/preact/src/diff/children.js","node_modules/preact/src/diff/props.js","node_modules/preact/src/diff/index.js","node_modules/preact/src/render.js","node_modules/preact/src/clone-element.js","node_modules/preact/src/diff/catch-error.js","src/core/alert.js","src/core/storage.js","node_modules/@babel/runtime/helpers/arrayWithHoles.js","node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","node_modules/@babel/runtime/helpers/arrayLikeToArray.js","node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","node_modules/@babel/runtime/helpers/nonIterableRest.js","node_modules/@babel/runtime/helpers/slicedToArray.js","node_modules/@babel/runtime/helpers/defineProperty.js","node_modules/preact/hooks/src/index.js","node_modules/preact/compat/src/util.js","node_modules/preact/compat/src/PureComponent.js","node_modules/preact/compat/src/forwardRef.js","node_modules/preact/compat/src/Children.js","node_modules/preact/compat/src/suspense.js","node_modules/preact/compat/src/suspense-list.js","node_modules/preact/compat/src/portals.js","node_modules/preact/compat/src/render.js","node_modules/preact/compat/src/index.js","node_modules/preact/compat/src/memo.js","node_modules/@babel/runtime/helpers/classCallCheck.js","node_modules/@babel/runtime/helpers/createClass.js","node_modules/react-i18next/dist/es/context.js","node_modules/react-i18next/dist/es/utils.js","node_modules/react-i18next/dist/es/useTranslation.js","node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","node_modules/@babel/runtime/helpers/objectWithoutProperties.js","node_modules/react-i18next/dist/es/withTranslation.js","src/core/util.js","src/core/http.js","src/core/api.js","src/store/index.js","node_modules/storeon/index.js","src/store/me.js","src/store/router.js","src/store/notifications.js","node_modules/@babel/runtime/helpers/esm/typeof.js","node_modules/@babel/runtime/helpers/esm/defineProperty.js","node_modules/@babel/runtime/helpers/esm/objectSpread.js","node_modules/@babel/runtime/helpers/esm/classCallCheck.js","node_modules/@babel/runtime/helpers/esm/createClass.js","node_modules/@babel/runtime/helpers/typeof.js","node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","node_modules/@babel/runtime/helpers/esm/inherits.js","node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","node_modules/@babel/runtime/helpers/esm/slicedToArray.js","node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","node_modules/i18next/dist/esm/i18next.js","src/core/me.js","src/lang/en.json","src/lang/fr.json","src/lang/es.json","src/lang/sk.json","src/core/lang.js","src/core/notifications.js","src/core/router.js","src/core/index.js","node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","node_modules/@babel/runtime/helpers/esm/extends.js","node_modules/resolve-pathname/esm/resolve-pathname.js","node_modules/prop-types/factoryWithThrowingShims.js","node_modules/prop-types/lib/ReactPropTypesSecret.js","node_modules/prop-types/index.js","node_modules/value-equal/esm/value-equal.js","node_modules/tiny-invariant/dist/tiny-invariant.esm.js","node_modules/history/esm/history.js","node_modules/mini-create-react-context/dist/esm/index.js","node_modules/react-router/node_modules/isarray/index.js","node_modules/react-router/node_modules/path-to-regexp/index.js","node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","node_modules/react-is/cjs/react-is.production.min.js","node_modules/react-is/index.js","node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js","node_modules/react-router/modules/createNameContext.js","node_modules/react-router/modules/HistoryContext.js","node_modules/react-router/modules/RouterContext.js","node_modules/react-router/modules/Router.js","node_modules/react-router/modules/Lifecycle.js","node_modules/react-router/modules/MemoryRouter.js","node_modules/react-router/modules/generatePath.js","node_modules/react-router/modules/Redirect.js","node_modules/react-router/modules/matchPath.js","node_modules/react-router/modules/Route.js","node_modules/react-router/modules/StaticRouter.js","node_modules/react-router/modules/Switch.js","node_modules/react-router/modules/withRouter.js","node_modules/react-router/modules/hooks.js","node_modules/react-router-dom/modules/BrowserRouter.js","node_modules/react-router-dom/modules/utils/locationUtils.js","node_modules/react-router-dom/modules/HashRouter.js","node_modules/react-router-dom/modules/Link.js","node_modules/react-router-dom/modules/NavLink.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-22d3d6ca166382c8.js","src/outside/login.component.js","src/outside/reset-password.component.js","src/outside/signup.component.js","src/outside/stop-notification-emails.component.js","src/message/embeds/bandcamp-embed.component.js","src/message/embeds/generic-embed.component.js","src/message/embed-block.component.js","src/misc/index.js","src/misc/fa-icon.component.js","node_modules/@parcel/runtime-js/lib/runtime-7e29bb4e6d1fa8af.js","node_modules/@parcel/runtime-js/lib/helpers/browser/js-loader.js","node_modules/@parcel/runtime-js/lib/helpers/cacheLoader.js","src/message/file-grid.component.js","src/message/message-body.component.js","src/message/message-children.component.js","src/message/message-head.component.js","src/message/message-footer.component.js","src/message/message-breadcrumbs.component.js","node_modules/@parcel/runtime-js/lib/runtime-588d97ef026c1ec2.js","src/message/writer.component.js","node_modules/storeon/preact/index.js","src/message/message.component.js","src/message/message-child.component.js","src/navbar/group-search.component.js","src/pages/create-group.component.js","src/pages/bookmark-board.component.js","src/pages/notification.component.js","src/pages/search.component.js","src/pages/share.component.js","src/pages/index.js","src/pages/group-board.component.js","src/pages/home.component.js","src/navbar/navbar.component.js","src/navbar/index.js","src/navbar/groups-dropdown-navbar.component.js","src/navbar/notifications-dropdown-navbar.component.js","src/message/index.js","src/message/message-parent.component.js","src/message/message-preview.component.js","src/message/message-search-result.component.js","src/outside/index.js","src/outside/public.component.js","src/settings/group-settings.component.js","src/settings/user-settings.component.js","src/settings/settings.component.js","src/settings/index.js","src/app.js","src/index.js","node_modules/@parcel/runtime-js/lib/runtime-fb5211b511f75f6d.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"88FtB\\\":\\\"index.6f919ad3.js\\\",\\\"fGyc1\\\":\\\"service-workers.js\\\",\\\"051d2\\\":\\\"zusam_logo.1eebfd28.svg\\\",\\\"fkfVe\\\":\\\"nlg.17bd5b64.js\\\",\\\"hNwwJ\\\":\\\"image-service.815dd16d.js\\\"}\"));","export const EMPTY_OBJ = {};\nexport const EMPTY_ARR = [];\nexport const IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;\n","import { EMPTY_ARR } from \"./constants\";\n\n/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\t// @ts-ignore We change the type of `obj` to be `O & P`\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Remove a child node from its parent if attached. This is a workaround for\n * IE11 which doesn't support `Element.prototype.remove()`. Using this function\n * is smaller than including a dedicated polyfill.\n * @param {Node} node The node to remove\n */\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\nexport const slice = EMPTY_ARR.slice;\n","import { _catchError } from './diff/catch-error';\n\n/**\n * The `option` object can potentially contain callback functions\n * that are called during various stages of our renderer. This is the\n * foundation on which all our addons like `preact/debug`, `preact/compat`,\n * and `preact/hooks` are based on. See the `Options` type in `internal.d.ts`\n * for a full list of available option hooks (most editors/IDEs allow you to\n * ctrl+click or cmd+click on mac the type definition below).\n * @type {import('./internal').Options}\n */\nconst options = {\n\t_catchError\n};\n\nexport default options;\n","import { slice } from './util';\nimport options from './options';\n\nlet vnodeId = 0;\n\n/**\n * Create an virtual node (used for JSX)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * constructor for this virtual node\n * @param {object | null | undefined} [props] The properties of the virtual node\n * @param {Array<import('.').ComponentChildren>} [children] The children of the virtual node\n * @returns {import('./internal').VNode}\n */\nexport function createElement(type, props, children) {\n\tlet normalizedProps = {},\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\t// If a Component VNode, check for and apply defaultProps\n\t// Note: type may be undefined in development, must never error here.\n\tif (typeof type == 'function' && type.defaultProps != null) {\n\t\tfor (i in type.defaultProps) {\n\t\t\tif (normalizedProps[i] === undefined) {\n\t\t\t\tnormalizedProps[i] = type.defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn createVNode(type, normalizedProps, key, ref, null);\n}\n\n/**\n * Create a VNode (used internally by Preact)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * Constructor for this virtual node\n * @param {object | string | number | null} props The properties of this virtual node.\n * If this virtual node represents a text node, this is the text of the node (string or number).\n * @param {string | number | null} key The key for this virtual node, used when\n * diffing it against its children\n * @param {import('./internal').VNode[\"ref\"]} ref The ref property that will\n * receive a reference to its created child\n * @returns {import('./internal').VNode}\n */\nexport function createVNode(type, props, key, ref, original) {\n\t// V8 seems to be better at detecting type shapes if the object is allocated from the same call site\n\t// Do not inline into createElement and coerceToVNode!\n\tconst vnode = {\n\t\ttype,\n\t\tprops,\n\t\tkey,\n\t\tref,\n\t\t_children: null,\n\t\t_parent: null,\n\t\t_depth: 0,\n\t\t_dom: null,\n\t\t// _nextDom must be initialized to undefined b/c it will eventually\n\t\t// be set to dom.nextSibling which can return `null` and it is important\n\t\t// to be able to distinguish between an uninitialized _nextDom and\n\t\t// a _nextDom that has been set to `null`\n\t\t_nextDom: undefined,\n\t\t_component: null,\n\t\t_hydrating: null,\n\t\tconstructor: undefined,\n\t\t_original: original == null ? ++vnodeId : original\n\t};\n\n\t// Only invoke the vnode hook if this was *not* a direct copy:\n\tif (original == null && options.vnode != null) options.vnode(vnode);\n\n\treturn vnode;\n}\n\nexport function createRef() {\n\treturn { current: null };\n}\n\nexport function Fragment(props) {\n\treturn props.children;\n}\n\n/**\n * Check if a the argument is a valid Preact VNode.\n * @param {*} vnode\n * @returns {vnode is import('./internal').VNode}\n */\nexport const isValidElement = vnode =>\n\tvnode != null && vnode.constructor === undefined;\n","import { assign } from './util';\nimport { diff, commitRoot } from './diff/index';\nimport options from './options';\nimport { Fragment } from './create-element';\n\n/**\n * Base Component class. Provides `setState()` and `forceUpdate()`, which\n * trigger rendering\n * @param {object} props The initial component props\n * @param {object} context The initial context from parent components'\n * getChildContext\n */\nexport function Component(props, context) {\n\tthis.props = props;\n\tthis.context = context;\n}\n\n/**\n * Update component state and schedule a re-render.\n * @this {import('./internal').Component}\n * @param {object | ((s: object, p: object) => object)} update A hash of state\n * properties to update with new values or a function that given the current\n * state and props returns a new partial state\n * @param {() => void} [callback] A function to be called once component state is\n * updated\n */\nComponent.prototype.setState = function(update, callback) {\n\t// only clone state when copying to nextState the first time.\n\tlet s;\n\tif (this._nextState != null && this._nextState !== this.state) {\n\t\ts = this._nextState;\n\t} else {\n\t\ts = this._nextState = assign({}, this.state);\n\t}\n\n\tif (typeof update == 'function') {\n\t\t// Some libraries like `immer` mark the current state as readonly,\n\t\t// preventing us from mutating it, so we need to clone it. See #2716\n\t\tupdate = update(assign({}, s), this.props);\n\t}\n\n\tif (update) {\n\t\tassign(s, update);\n\t}\n\n\t// Skip update if updater function returned null\n\tif (update == null) return;\n\n\tif (this._vnode) {\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Immediately perform a synchronous re-render of the component\n * @this {import('./internal').Component}\n * @param {() => void} [callback] A function to be called after component is\n * re-rendered\n */\nComponent.prototype.forceUpdate = function(callback) {\n\tif (this._vnode) {\n\t\t// Set render mode so that we can differentiate where the render request\n\t\t// is coming from. We need this because forceUpdate should never call\n\t\t// shouldComponentUpdate\n\t\tthis._force = true;\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n * Virtual DOM is generally constructed via [JSX](http://jasonformat.com/wtf-is-jsx).\n * @param {object} props Props (eg: JSX attributes) received from parent\n * element/component\n * @param {object} state The component's current state\n * @param {object} context Context object, as returned by the nearest\n * ancestor's `getChildContext()`\n * @returns {import('./index').ComponentChildren | void}\n */\nComponent.prototype.render = Fragment;\n\n/**\n * @param {import('./internal').VNode} vnode\n * @param {number | null} [childIndex]\n */\nexport function getDomSibling(vnode, childIndex) {\n\tif (childIndex == null) {\n\t\t// Use childIndex==null as a signal to resume the search from the vnode's sibling\n\t\treturn vnode._parent\n\t\t\t? getDomSibling(vnode._parent, vnode._parent._children.indexOf(vnode) + 1)\n\t\t\t: null;\n\t}\n\n\tlet sibling;\n\tfor (; childIndex < vnode._children.length; childIndex++) {\n\t\tsibling = vnode._children[childIndex];\n\n\t\tif (sibling != null && sibling._dom != null) {\n\t\t\t// Since updateParentDomPointers keeps _dom pointer correct,\n\t\t\t// we can rely on _dom to tell us if this subtree contains a\n\t\t\t// rendered DOM node, and what the first rendered DOM node is\n\t\t\treturn sibling._dom;\n\t\t}\n\t}\n\n\t// If we get here, we have not found a DOM node in this vnode's children.\n\t// We must resume from this vnode's sibling (in it's parent _children array)\n\t// Only climb up and search the parent if we aren't searching through a DOM\n\t// VNode (meaning we reached the DOM parent of the original vnode that began\n\t// the search)\n\treturn typeof vnode.type == 'function' ? getDomSibling(vnode) : null;\n}\n\n/**\n * Trigger in-place re-rendering of a component.\n * @param {import('./internal').Component} component The component to rerender\n */\nfunction renderComponent(component) {\n\tlet vnode = component._vnode,\n\t\toldDom = vnode._dom,\n\t\tparentDom = component._parentDom;\n\n\tif (parentDom) {\n\t\tlet commitQueue = [];\n\t\tconst oldVNode = assign({}, vnode);\n\t\toldVNode._original = vnode._original + 1;\n\n\t\tdiff(\n\t\t\tparentDom,\n\t\t\tvnode,\n\t\t\toldVNode,\n\t\t\tcomponent._globalContext,\n\t\t\tparentDom.ownerSVGElement !== undefined,\n\t\t\tvnode._hydrating != null ? [oldDom] : null,\n\t\t\tcommitQueue,\n\t\t\toldDom == null ? getDomSibling(vnode) : oldDom,\n\t\t\tvnode._hydrating\n\t\t);\n\t\tcommitRoot(commitQueue, vnode);\n\n\t\tif (vnode._dom != oldDom) {\n\t\t\tupdateParentDomPointers(vnode);\n\t\t}\n\t}\n}\n\n/**\n * @param {import('./internal').VNode} vnode\n */\nfunction updateParentDomPointers(vnode) {\n\tif ((vnode = vnode._parent) != null && vnode._component != null) {\n\t\tvnode._dom = vnode._component.base = null;\n\t\tfor (let i = 0; i < vnode._children.length; i++) {\n\t\t\tlet child = vnode._children[i];\n\t\t\tif (child != null && child._dom != null) {\n\t\t\t\tvnode._dom = vnode._component.base = child._dom;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn updateParentDomPointers(vnode);\n\t}\n}\n\n/**\n * The render queue\n * @type {Array<import('./internal').Component>}\n */\nlet rerenderQueue = [];\n\n/**\n * Asynchronously schedule a callback\n * @type {(cb: () => void) => void}\n */\n/* istanbul ignore next */\n// Note the following line isn't tree-shaken by rollup cuz of rollup/rollup#2566\nconst defer =\n\ttypeof Promise == 'function'\n\t\t? Promise.prototype.then.bind(Promise.resolve())\n\t\t: setTimeout;\n\n/*\n * The value of `Component.debounce` must asynchronously invoke the passed in callback. It is\n * important that contributors to Preact can consistently reason about what calls to `setState`, etc.\n * do, and when their effects will be applied. See the links below for some further reading on designing\n * asynchronous APIs.\n * * [Designing APIs for Asynchrony](https://blog.izs.me/2013/08/designing-apis-for-asynchrony)\n * * [Callbacks synchronous and asynchronous](https://blog.ometer.com/2011/07/24/callbacks-synchronous-and-asynchronous/)\n */\n\nlet prevDebounce;\n\n/**\n * Enqueue a rerender of a component\n * @param {import('./internal').Component} c The component to rerender\n */\nexport function enqueueRender(c) {\n\tif (\n\t\t(!c._dirty &&\n\t\t\t(c._dirty = true) &&\n\t\t\trerenderQueue.push(c) &&\n\t\t\t!process._rerenderCount++) ||\n\t\tprevDebounce !== options.debounceRendering\n\t) {\n\t\tprevDebounce = options.debounceRendering;\n\t\t(prevDebounce || defer)(process);\n\t}\n}\n\n/** Flush the render queue by rerendering all queued components */\nfunction process() {\n\tlet queue;\n\twhile ((process._rerenderCount = rerenderQueue.length)) {\n\t\tqueue = rerenderQueue.sort((a, b) => a._vnode._depth - b._vnode._depth);\n\t\trerenderQueue = [];\n\t\t// Don't update `renderCount` yet. Keep its value non-zero to prevent unnecessary\n\t\t// process() calls from getting scheduled while `queue` is still being consumed.\n\t\tqueue.some(c => {\n\t\t\tif (c._dirty) renderComponent(c);\n\t\t});\n\t}\n}\nprocess._rerenderCount = 0;\n","import { enqueueRender } from './component';\n\nexport let i = 0;\n\nexport function createContext(defaultValue, contextId) {\n\tcontextId = '__cC' + i++;\n\n\tconst context = {\n\t\t_id: contextId,\n\t\t_defaultValue: defaultValue,\n\t\t/** @type {import('./internal').FunctionComponent} */\n\t\tConsumer(props, contextValue) {\n\t\t\t// return props.children(\n\t\t\t// \tcontext[contextId] ? context[contextId].props.value : defaultValue\n\t\t\t// );\n\t\t\treturn props.children(contextValue);\n\t\t},\n\t\t/** @type {import('./internal').FunctionComponent} */\n\t\tProvider(props) {\n\t\t\tif (!this.getChildContext) {\n\t\t\t\tlet subs = [];\n\t\t\t\tlet ctx = {};\n\t\t\t\tctx[contextId] = this;\n\n\t\t\t\tthis.getChildContext = () => ctx;\n\n\t\t\t\tthis.shouldComponentUpdate = function(_props) {\n\t\t\t\t\tif (this.props.value !== _props.value) {\n\t\t\t\t\t\t// I think the forced value propagation here was only needed when `options.debounceRendering` was being bypassed:\n\t\t\t\t\t\t// https://github.com/preactjs/preact/commit/4d339fb803bea09e9f198abf38ca1bf8ea4b7771#diff-54682ce380935a717e41b8bfc54737f6R358\n\t\t\t\t\t\t// In those cases though, even with the value corrected, we're double-rendering all nodes.\n\t\t\t\t\t\t// It might be better to just tell folks not to use force-sync mode.\n\t\t\t\t\t\t// Currently, using `useContext()` in a class component will overwrite its `this.context` value.\n\t\t\t\t\t\t// subs.some(c => {\n\t\t\t\t\t\t// \tc.context = _props.value;\n\t\t\t\t\t\t// \tenqueueRender(c);\n\t\t\t\t\t\t// });\n\n\t\t\t\t\t\t// subs.some(c => {\n\t\t\t\t\t\t// \tc.context[contextId] = _props.value;\n\t\t\t\t\t\t// \tenqueueRender(c);\n\t\t\t\t\t\t// });\n\t\t\t\t\t\tsubs.some(enqueueRender);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.sub = c => {\n\t\t\t\t\tsubs.push(c);\n\t\t\t\t\tlet old = c.componentWillUnmount;\n\t\t\t\t\tc.componentWillUnmount = () => {\n\t\t\t\t\t\tsubs.splice(subs.indexOf(c), 1);\n\t\t\t\t\t\tif (old) old.call(c);\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn props.children;\n\t\t}\n\t};\n\n\t// Devtools needs access to the context object when it\n\t// encounters a Provider. This is necessary to support\n\t// setting `displayName` on the context object instead\n\t// of on the component itself. See:\n\t// https://reactjs.org/docs/context.html#contextdisplayname\n\n\treturn (context.Provider._contextRef = context.Consumer.contextType = context);\n}\n","import { diff, unmount, applyRef } from './index';\nimport { createVNode, Fragment } from '../create-element';\nimport { EMPTY_OBJ, EMPTY_ARR } from '../constants';\nimport { getDomSibling } from '../component';\n\n/**\n * Diff the children of a virtual node\n * @param {import('../internal').PreactElement} parentDom The DOM element whose\n * children are being diffed\n * @param {import('../internal').ComponentChildren[]} renderResult\n * @param {import('../internal').VNode} newParentVNode The new virtual\n * node whose children should be diff'ed against oldParentVNode\n * @param {import('../internal').VNode} oldParentVNode The old virtual\n * node whose children should be diff'ed against newParentVNode\n * @param {object} globalContext The current context object - modified by getChildContext\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').PreactElement} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n */\nexport function diffChildren(\n\tparentDom,\n\trenderResult,\n\tnewParentVNode,\n\toldParentVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet i, j, oldVNode, childVNode, newDom, firstChildDom, refs;\n\n\t// This is a compression of oldParentVNode!=null && oldParentVNode != EMPTY_OBJ && oldParentVNode._children || EMPTY_ARR\n\t// as EMPTY_OBJ._children should be `undefined`.\n\tlet oldChildren = (oldParentVNode && oldParentVNode._children) || EMPTY_ARR;\n\n\tlet oldChildrenLength = oldChildren.length;\n\n\tnewParentVNode._children = [];\n\tfor (i = 0; i < renderResult.length; i++) {\n\t\tchildVNode = renderResult[i];\n\n\t\tif (childVNode == null || typeof childVNode == 'boolean') {\n\t\t\tchildVNode = newParentVNode._children[i] = null;\n\t\t}\n\t\t// If this newVNode is being reused (e.g. <div>{reuse}{reuse}</div>) in the same diff,\n\t\t// or we are rendering a component (e.g. setState) copy the oldVNodes so it can have\n\t\t// it's own DOM & etc. pointers\n\t\telse if (\n\t\t\ttypeof childVNode == 'string' ||\n\t\t\ttypeof childVNode == 'number' ||\n\t\t\t// eslint-disable-next-line valid-typeof\n\t\t\ttypeof childVNode == 'bigint'\n\t\t) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tnull,\n\t\t\t\tchildVNode,\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tchildVNode\n\t\t\t);\n\t\t} else if (Array.isArray(childVNode)) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tFragment,\n\t\t\t\t{ children: childVNode },\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tnull\n\t\t\t);\n\t\t} else if (childVNode._depth > 0) {\n\t\t\t// VNode is already in use, clone it. This can happen in the following\n\t\t\t// scenario:\n\t\t\t//   const reuse = <div />\n\t\t\t//   <div>{reuse}<span />{reuse}</div>\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tchildVNode.type,\n\t\t\t\tchildVNode.props,\n\t\t\t\tchildVNode.key,\n\t\t\t\tnull,\n\t\t\t\tchildVNode._original\n\t\t\t);\n\t\t} else {\n\t\t\tchildVNode = newParentVNode._children[i] = childVNode;\n\t\t}\n\n\t\t// Terser removes the `continue` here and wraps the loop body\n\t\t// in a `if (childVNode) { ... } condition\n\t\tif (childVNode == null) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tchildVNode._parent = newParentVNode;\n\t\tchildVNode._depth = newParentVNode._depth + 1;\n\n\t\t// Check if we find a corresponding element in oldChildren.\n\t\t// If found, delete the array item by setting to `undefined`.\n\t\t// We use `undefined`, as `null` is reserved for empty placeholders\n\t\t// (holes).\n\t\toldVNode = oldChildren[i];\n\n\t\tif (\n\t\t\toldVNode === null ||\n\t\t\t(oldVNode &&\n\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\tchildVNode.type === oldVNode.type)\n\t\t) {\n\t\t\toldChildren[i] = undefined;\n\t\t} else {\n\t\t\t// Either oldVNode === undefined or oldChildrenLength > 0,\n\t\t\t// so after this loop oldVNode == null or oldVNode is a valid value.\n\t\t\tfor (j = 0; j < oldChildrenLength; j++) {\n\t\t\t\toldVNode = oldChildren[j];\n\t\t\t\t// If childVNode is unkeyed, we only match similarly unkeyed nodes, otherwise we match by key.\n\t\t\t\t// We always match by type (in either case).\n\t\t\t\tif (\n\t\t\t\t\toldVNode &&\n\t\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\t\tchildVNode.type === oldVNode.type\n\t\t\t\t) {\n\t\t\t\t\toldChildren[j] = undefined;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\toldVNode = null;\n\t\t\t}\n\t\t}\n\n\t\toldVNode = oldVNode || EMPTY_OBJ;\n\n\t\t// Morph the old element into the new one, but don't append it to the dom yet\n\t\tdiff(\n\t\t\tparentDom,\n\t\t\tchildVNode,\n\t\t\toldVNode,\n\t\t\tglobalContext,\n\t\t\tisSvg,\n\t\t\texcessDomChildren,\n\t\t\tcommitQueue,\n\t\t\toldDom,\n\t\t\tisHydrating\n\t\t);\n\n\t\tnewDom = childVNode._dom;\n\n\t\tif ((j = childVNode.ref) && oldVNode.ref != j) {\n\t\t\tif (!refs) refs = [];\n\t\t\tif (oldVNode.ref) refs.push(oldVNode.ref, null, childVNode);\n\t\t\trefs.push(j, childVNode._component || newDom, childVNode);\n\t\t}\n\n\t\tif (newDom != null) {\n\t\t\tif (firstChildDom == null) {\n\t\t\t\tfirstChildDom = newDom;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\ttypeof childVNode.type == 'function' &&\n\t\t\t\tchildVNode._children === oldVNode._children\n\t\t\t) {\n\t\t\t\tchildVNode._nextDom = oldDom = reorderChildren(\n\t\t\t\t\tchildVNode,\n\t\t\t\t\toldDom,\n\t\t\t\t\tparentDom\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\toldDom = placeChild(\n\t\t\t\t\tparentDom,\n\t\t\t\t\tchildVNode,\n\t\t\t\t\toldVNode,\n\t\t\t\t\toldChildren,\n\t\t\t\t\tnewDom,\n\t\t\t\t\toldDom\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (typeof newParentVNode.type == 'function') {\n\t\t\t\t// Because the newParentVNode is Fragment-like, we need to set it's\n\t\t\t\t// _nextDom property to the nextSibling of its last child DOM node.\n\t\t\t\t//\n\t\t\t\t// `oldDom` contains the correct value here because if the last child\n\t\t\t\t// is a Fragment-like, then oldDom has already been set to that child's _nextDom.\n\t\t\t\t// If the last child is a DOM VNode, then oldDom will be set to that DOM\n\t\t\t\t// node's nextSibling.\n\t\t\t\tnewParentVNode._nextDom = oldDom;\n\t\t\t}\n\t\t} else if (\n\t\t\toldDom &&\n\t\t\toldVNode._dom == oldDom &&\n\t\t\toldDom.parentNode != parentDom\n\t\t) {\n\t\t\t// The above condition is to handle null placeholders. See test in placeholder.test.js:\n\t\t\t// `efficiently replace null placeholders in parent rerenders`\n\t\t\toldDom = getDomSibling(oldVNode);\n\t\t}\n\t}\n\n\tnewParentVNode._dom = firstChildDom;\n\n\t// Remove remaining oldChildren if there are any.\n\tfor (i = oldChildrenLength; i--; ) {\n\t\tif (oldChildren[i] != null) {\n\t\t\tif (\n\t\t\t\ttypeof newParentVNode.type == 'function' &&\n\t\t\t\toldChildren[i]._dom != null &&\n\t\t\t\toldChildren[i]._dom == newParentVNode._nextDom\n\t\t\t) {\n\t\t\t\t// If the newParentVNode.__nextDom points to a dom node that is about to\n\t\t\t\t// be unmounted, then get the next sibling of that vnode and set\n\t\t\t\t// _nextDom to it\n\t\t\t\tnewParentVNode._nextDom = getDomSibling(oldParentVNode, i + 1);\n\t\t\t}\n\n\t\t\tunmount(oldChildren[i], oldChildren[i]);\n\t\t}\n\t}\n\n\t// Set refs only after unmount\n\tif (refs) {\n\t\tfor (i = 0; i < refs.length; i++) {\n\t\t\tapplyRef(refs[i], refs[++i], refs[++i]);\n\t\t}\n\t}\n}\n\nfunction reorderChildren(childVNode, oldDom, parentDom) {\n\t// Note: VNodes in nested suspended trees may be missing _children.\n\tlet c = childVNode._children;\n\tlet tmp = 0;\n\tfor (; c && tmp < c.length; tmp++) {\n\t\tlet vnode = c[tmp];\n\t\tif (vnode) {\n\t\t\t// We typically enter this code path on sCU bailout, where we copy\n\t\t\t// oldVNode._children to newVNode._children. If that is the case, we need\n\t\t\t// to update the old children's _parent pointer to point to the newVNode\n\t\t\t// (childVNode here).\n\t\t\tvnode._parent = childVNode;\n\n\t\t\tif (typeof vnode.type == 'function') {\n\t\t\t\toldDom = reorderChildren(vnode, oldDom, parentDom);\n\t\t\t} else {\n\t\t\t\toldDom = placeChild(\n\t\t\t\t\tparentDom,\n\t\t\t\t\tvnode,\n\t\t\t\t\tvnode,\n\t\t\t\t\tc,\n\t\t\t\t\tvnode._dom,\n\t\t\t\t\toldDom\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn oldDom;\n}\n\n/**\n * Flatten and loop through the children of a virtual node\n * @param {import('../index').ComponentChildren} children The unflattened\n * children of a virtual node\n * @returns {import('../internal').VNode[]}\n */\nexport function toChildArray(children, out) {\n\tout = out || [];\n\tif (children == null || typeof children == 'boolean') {\n\t} else if (Array.isArray(children)) {\n\t\tchildren.some(child => {\n\t\t\ttoChildArray(child, out);\n\t\t});\n\t} else {\n\t\tout.push(children);\n\t}\n\treturn out;\n}\n\nfunction placeChild(\n\tparentDom,\n\tchildVNode,\n\toldVNode,\n\toldChildren,\n\tnewDom,\n\toldDom\n) {\n\tlet nextDom;\n\tif (childVNode._nextDom !== undefined) {\n\t\t// Only Fragments or components that return Fragment like VNodes will\n\t\t// have a non-undefined _nextDom. Continue the diff from the sibling\n\t\t// of last DOM child of this child VNode\n\t\tnextDom = childVNode._nextDom;\n\n\t\t// Eagerly cleanup _nextDom. We don't need to persist the value because\n\t\t// it is only used by `diffChildren` to determine where to resume the diff after\n\t\t// diffing Components and Fragments. Once we store it the nextDOM local var, we\n\t\t// can clean up the property\n\t\tchildVNode._nextDom = undefined;\n\t} else if (\n\t\toldVNode == null ||\n\t\tnewDom != oldDom ||\n\t\tnewDom.parentNode == null\n\t) {\n\t\touter: if (oldDom == null || oldDom.parentNode !== parentDom) {\n\t\t\tparentDom.appendChild(newDom);\n\t\t\tnextDom = null;\n\t\t} else {\n\t\t\t// `j<oldChildrenLength; j+=2` is an alternative to `j++<oldChildrenLength/2`\n\t\t\tfor (\n\t\t\t\tlet sibDom = oldDom, j = 0;\n\t\t\t\t(sibDom = sibDom.nextSibling) && j < oldChildren.length;\n\t\t\t\tj += 2\n\t\t\t) {\n\t\t\t\tif (sibDom == newDom) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t}\n\t\t\tparentDom.insertBefore(newDom, oldDom);\n\t\t\tnextDom = oldDom;\n\t\t}\n\t}\n\n\t// If we have pre-calculated the nextDOM node, use it. Else calculate it now\n\t// Strictly check for `undefined` here cuz `null` is a valid value of `nextDom`.\n\t// See more detail in create-element.js:createVNode\n\tif (nextDom !== undefined) {\n\t\toldDom = nextDom;\n\t} else {\n\t\toldDom = newDom.nextSibling;\n\t}\n\n\treturn oldDom;\n}\n","import { IS_NON_DIMENSIONAL } from '../constants';\nimport options from '../options';\n\n/**\n * Diff the old and new properties of a VNode and apply changes to the DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to apply\n * changes to\n * @param {object} newProps The new props\n * @param {object} oldProps The old props\n * @param {boolean} isSvg Whether or not this node is an SVG node\n * @param {boolean} hydrate Whether or not we are in hydration mode\n */\nexport function diffProps(dom, newProps, oldProps, isSvg, hydrate) {\n\tlet i;\n\n\tfor (i in oldProps) {\n\t\tif (i !== 'children' && i !== 'key' && !(i in newProps)) {\n\t\t\tsetProperty(dom, i, null, oldProps[i], isSvg);\n\t\t}\n\t}\n\n\tfor (i in newProps) {\n\t\tif (\n\t\t\t(!hydrate || typeof newProps[i] == 'function') &&\n\t\t\ti !== 'children' &&\n\t\t\ti !== 'key' &&\n\t\t\ti !== 'value' &&\n\t\t\ti !== 'checked' &&\n\t\t\toldProps[i] !== newProps[i]\n\t\t) {\n\t\t\tsetProperty(dom, i, newProps[i], oldProps[i], isSvg);\n\t\t}\n\t}\n}\n\nfunction setStyle(style, key, value) {\n\tif (key[0] === '-') {\n\t\tstyle.setProperty(key, value);\n\t} else if (value == null) {\n\t\tstyle[key] = '';\n\t} else if (typeof value != 'number' || IS_NON_DIMENSIONAL.test(key)) {\n\t\tstyle[key] = value;\n\t} else {\n\t\tstyle[key] = value + 'px';\n\t}\n}\n\n/**\n * Set a property value on a DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to modify\n * @param {string} name The name of the property to set\n * @param {*} value The value to set the property to\n * @param {*} oldValue The old value the property had\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node or not\n */\nexport function setProperty(dom, name, value, oldValue, isSvg) {\n\tlet useCapture;\n\n\to: if (name === 'style') {\n\t\tif (typeof value == 'string') {\n\t\t\tdom.style.cssText = value;\n\t\t} else {\n\t\t\tif (typeof oldValue == 'string') {\n\t\t\t\tdom.style.cssText = oldValue = '';\n\t\t\t}\n\n\t\t\tif (oldValue) {\n\t\t\t\tfor (name in oldValue) {\n\t\t\t\t\tif (!(value && name in value)) {\n\t\t\t\t\t\tsetStyle(dom.style, name, '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (value) {\n\t\t\t\tfor (name in value) {\n\t\t\t\t\tif (!oldValue || value[name] !== oldValue[name]) {\n\t\t\t\t\t\tsetStyle(dom.style, name, value[name]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// Benchmark for comparison: https://esbench.com/bench/574c954bdb965b9a00965ac6\n\telse if (name[0] === 'o' && name[1] === 'n') {\n\t\tuseCapture = name !== (name = name.replace(/Capture$/, ''));\n\n\t\t// Infer correct casing for DOM built-in events:\n\t\tif (name.toLowerCase() in dom) name = name.toLowerCase().slice(2);\n\t\telse name = name.slice(2);\n\n\t\tif (!dom._listeners) dom._listeners = {};\n\t\tdom._listeners[name + useCapture] = value;\n\n\t\tif (value) {\n\t\t\tif (!oldValue) {\n\t\t\t\tconst handler = useCapture ? eventProxyCapture : eventProxy;\n\t\t\t\tdom.addEventListener(name, handler, useCapture);\n\t\t\t}\n\t\t} else {\n\t\t\tconst handler = useCapture ? eventProxyCapture : eventProxy;\n\t\t\tdom.removeEventListener(name, handler, useCapture);\n\t\t}\n\t} else if (name !== 'dangerouslySetInnerHTML') {\n\t\tif (isSvg) {\n\t\t\t// Normalize incorrect prop usage for SVG:\n\t\t\t// - xlink:href / xlinkHref --> href (xlink:href was removed from SVG and isn't needed)\n\t\t\t// - className --> class\n\t\t\tname = name.replace(/xlink[H:h]/, 'h').replace(/sName$/, 's');\n\t\t} else if (\n\t\t\tname !== 'href' &&\n\t\t\tname !== 'list' &&\n\t\t\tname !== 'form' &&\n\t\t\t// Default value in browsers is `-1` and an empty string is\n\t\t\t// cast to `0` instead\n\t\t\tname !== 'tabIndex' &&\n\t\t\tname !== 'download' &&\n\t\t\tname in dom\n\t\t) {\n\t\t\ttry {\n\t\t\t\tdom[name] = value == null ? '' : value;\n\t\t\t\t// labelled break is 1b smaller here than a return statement (sorry)\n\t\t\t\tbreak o;\n\t\t\t} catch (e) {}\n\t\t}\n\n\t\t// ARIA-attributes have a different notion of boolean values.\n\t\t// The value `false` is different from the attribute not\n\t\t// existing on the DOM, so we can't remove it. For non-boolean\n\t\t// ARIA-attributes we could treat false as a removal, but the\n\t\t// amount of exceptions would cost us too many bytes. On top of\n\t\t// that other VDOM frameworks also always stringify `false`.\n\n\t\tif (typeof value === 'function') {\n\t\t\t// never serialize functions as attribute values\n\t\t} else if (\n\t\t\tvalue != null &&\n\t\t\t(value !== false || (name[0] === 'a' && name[1] === 'r'))\n\t\t) {\n\t\t\tdom.setAttribute(name, value);\n\t\t} else {\n\t\t\tdom.removeAttribute(name);\n\t\t}\n\t}\n}\n\n/**\n * Proxy an event to hooked event handlers\n * @param {Event} e The event object from the browser\n * @private\n */\nfunction eventProxy(e) {\n\tthis._listeners[e.type + false](options.event ? options.event(e) : e);\n}\n\nfunction eventProxyCapture(e) {\n\tthis._listeners[e.type + true](options.event ? options.event(e) : e);\n}\n","import { EMPTY_OBJ } from '../constants';\nimport { Component, getDomSibling } from '../component';\nimport { Fragment } from '../create-element';\nimport { diffChildren } from './children';\nimport { diffProps, setProperty } from './props';\nimport { assign, removeNode, slice } from '../util';\nimport options from '../options';\n\n/**\n * Diff two virtual nodes and apply proper changes to the DOM\n * @param {import('../internal').PreactElement} parentDom The parent of the DOM element\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object. Modified by getChildContext\n * @param {boolean} isSvg Whether or not this element is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').PreactElement} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} [isHydrating] Whether or not we are in hydration\n */\nexport function diff(\n\tparentDom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet tmp,\n\t\tnewType = newVNode.type;\n\n\t// When passing through createElement it assigns the object\n\t// constructor as undefined. This to prevent JSON-injection.\n\tif (newVNode.constructor !== undefined) return null;\n\n\t// If the previous diff bailed out, resume creating/hydrating.\n\tif (oldVNode._hydrating != null) {\n\t\tisHydrating = oldVNode._hydrating;\n\t\toldDom = newVNode._dom = oldVNode._dom;\n\t\t// if we resume, we want the tree to be \"unlocked\"\n\t\tnewVNode._hydrating = null;\n\t\texcessDomChildren = [oldDom];\n\t}\n\n\tif ((tmp = options._diff)) tmp(newVNode);\n\n\ttry {\n\t\touter: if (typeof newType == 'function') {\n\t\t\tlet c, isNew, oldProps, oldState, snapshot, clearProcessingException;\n\t\t\tlet newProps = newVNode.props;\n\n\t\t\t// Necessary for createContext api. Setting this property will pass\n\t\t\t// the context value as `this.context` just for this component.\n\t\t\ttmp = newType.contextType;\n\t\t\tlet provider = tmp && globalContext[tmp._id];\n\t\t\tlet componentContext = tmp\n\t\t\t\t? provider\n\t\t\t\t\t? provider.props.value\n\t\t\t\t\t: tmp._defaultValue\n\t\t\t\t: globalContext;\n\n\t\t\t// Get component and set it to `c`\n\t\t\tif (oldVNode._component) {\n\t\t\t\tc = newVNode._component = oldVNode._component;\n\t\t\t\tclearProcessingException = c._processingException = c._pendingError;\n\t\t\t} else {\n\t\t\t\t// Instantiate the new component\n\t\t\t\tif ('prototype' in newType && newType.prototype.render) {\n\t\t\t\t\t// @ts-ignore The check above verifies that newType is suppose to be constructed\n\t\t\t\t\tnewVNode._component = c = new newType(newProps, componentContext); // eslint-disable-line new-cap\n\t\t\t\t} else {\n\t\t\t\t\t// @ts-ignore Trust me, Component implements the interface we want\n\t\t\t\t\tnewVNode._component = c = new Component(newProps, componentContext);\n\t\t\t\t\tc.constructor = newType;\n\t\t\t\t\tc.render = doRender;\n\t\t\t\t}\n\t\t\t\tif (provider) provider.sub(c);\n\n\t\t\t\tc.props = newProps;\n\t\t\t\tif (!c.state) c.state = {};\n\t\t\t\tc.context = componentContext;\n\t\t\t\tc._globalContext = globalContext;\n\t\t\t\tisNew = c._dirty = true;\n\t\t\t\tc._renderCallbacks = [];\n\t\t\t}\n\n\t\t\t// Invoke getDerivedStateFromProps\n\t\t\tif (c._nextState == null) {\n\t\t\t\tc._nextState = c.state;\n\t\t\t}\n\t\t\tif (newType.getDerivedStateFromProps != null) {\n\t\t\t\tif (c._nextState == c.state) {\n\t\t\t\t\tc._nextState = assign({}, c._nextState);\n\t\t\t\t}\n\n\t\t\t\tassign(\n\t\t\t\t\tc._nextState,\n\t\t\t\t\tnewType.getDerivedStateFromProps(newProps, c._nextState)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\toldProps = c.props;\n\t\t\toldState = c.state;\n\n\t\t\t// Invoke pre-render lifecycle methods\n\t\t\tif (isNew) {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tc.componentWillMount != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillMount();\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidMount != null) {\n\t\t\t\t\tc._renderCallbacks.push(c.componentDidMount);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tnewProps !== oldProps &&\n\t\t\t\t\tc.componentWillReceiveProps != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillReceiveProps(newProps, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t(!c._force &&\n\t\t\t\t\t\tc.shouldComponentUpdate != null &&\n\t\t\t\t\t\tc.shouldComponentUpdate(\n\t\t\t\t\t\t\tnewProps,\n\t\t\t\t\t\t\tc._nextState,\n\t\t\t\t\t\t\tcomponentContext\n\t\t\t\t\t\t) === false) ||\n\t\t\t\t\tnewVNode._original === oldVNode._original\n\t\t\t\t) {\n\t\t\t\t\tc.props = newProps;\n\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t\t// More info about this here: https://gist.github.com/JoviDeCroock/bec5f2ce93544d2e6070ef8e0036e4e8\n\t\t\t\t\tif (newVNode._original !== oldVNode._original) c._dirty = false;\n\t\t\t\t\tc._vnode = newVNode;\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t\tnewVNode._children.forEach(vnode => {\n\t\t\t\t\t\tif (vnode) vnode._parent = newVNode;\n\t\t\t\t\t});\n\t\t\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\t\t\tcommitQueue.push(c);\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\n\t\t\t\tif (c.componentWillUpdate != null) {\n\t\t\t\t\tc.componentWillUpdate(newProps, c._nextState, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidUpdate != null) {\n\t\t\t\t\tc._renderCallbacks.push(() => {\n\t\t\t\t\t\tc.componentDidUpdate(oldProps, oldState, snapshot);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tc.context = componentContext;\n\t\t\tc.props = newProps;\n\t\t\tc.state = c._nextState;\n\n\t\t\tif ((tmp = options._render)) tmp(newVNode);\n\n\t\t\tc._dirty = false;\n\t\t\tc._vnode = newVNode;\n\t\t\tc._parentDom = parentDom;\n\n\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t// Handle setState called in render, see #2553\n\t\t\tc.state = c._nextState;\n\n\t\t\tif (c.getChildContext != null) {\n\t\t\t\tglobalContext = assign(assign({}, globalContext), c.getChildContext());\n\t\t\t}\n\n\t\t\tif (!isNew && c.getSnapshotBeforeUpdate != null) {\n\t\t\t\tsnapshot = c.getSnapshotBeforeUpdate(oldProps, oldState);\n\t\t\t}\n\n\t\t\tlet isTopLevelFragment =\n\t\t\t\ttmp != null && tmp.type === Fragment && tmp.key == null;\n\t\t\tlet renderResult = isTopLevelFragment ? tmp.props.children : tmp;\n\n\t\t\tdiffChildren(\n\t\t\t\tparentDom,\n\t\t\t\tArray.isArray(renderResult) ? renderResult : [renderResult],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\toldDom,\n\t\t\t\tisHydrating\n\t\t\t);\n\n\t\t\tc.base = newVNode._dom;\n\n\t\t\t// We successfully rendered this VNode, unset any stored hydration/bailout state:\n\t\t\tnewVNode._hydrating = null;\n\n\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\tcommitQueue.push(c);\n\t\t\t}\n\n\t\t\tif (clearProcessingException) {\n\t\t\t\tc._pendingError = c._processingException = null;\n\t\t\t}\n\n\t\t\tc._force = false;\n\t\t} else if (\n\t\t\texcessDomChildren == null &&\n\t\t\tnewVNode._original === oldVNode._original\n\t\t) {\n\t\t\tnewVNode._children = oldVNode._children;\n\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t} else {\n\t\t\tnewVNode._dom = diffElementNodes(\n\t\t\t\toldVNode._dom,\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\tisHydrating\n\t\t\t);\n\t\t}\n\n\t\tif ((tmp = options.diffed)) tmp(newVNode);\n\t} catch (e) {\n\t\tnewVNode._original = null;\n\t\t// if hydrating or creating initial tree, bailout preserves DOM:\n\t\tif (isHydrating || excessDomChildren != null) {\n\t\t\tnewVNode._dom = oldDom;\n\t\t\tnewVNode._hydrating = !!isHydrating;\n\t\t\texcessDomChildren[excessDomChildren.indexOf(oldDom)] = null;\n\t\t\t// ^ could possibly be simplified to:\n\t\t\t// excessDomChildren.length = 0;\n\t\t}\n\t\toptions._catchError(e, newVNode, oldVNode);\n\t}\n}\n\n/**\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').VNode} root\n */\nexport function commitRoot(commitQueue, root) {\n\tif (options._commit) options._commit(root, commitQueue);\n\n\tcommitQueue.some(c => {\n\t\ttry {\n\t\t\t// @ts-ignore Reuse the commitQueue variable here so the type changes\n\t\t\tcommitQueue = c._renderCallbacks;\n\t\t\tc._renderCallbacks = [];\n\t\t\tcommitQueue.some(cb => {\n\t\t\t\t// @ts-ignore See above ts-ignore on commitQueue\n\t\t\t\tcb.call(c);\n\t\t\t});\n\t\t} catch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t});\n}\n\n/**\n * Diff two virtual nodes representing DOM element\n * @param {import('../internal').PreactElement} dom The DOM element representing\n * the virtual nodes being diffed\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {*} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @returns {import('../internal').PreactElement}\n */\nfunction diffElementNodes(\n\tdom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\tisHydrating\n) {\n\tlet oldProps = oldVNode.props;\n\tlet newProps = newVNode.props;\n\tlet nodeType = newVNode.type;\n\tlet i = 0;\n\n\t// Tracks entering and exiting SVG namespace when descending through the tree.\n\tif (nodeType === 'svg') isSvg = true;\n\n\tif (excessDomChildren != null) {\n\t\tfor (; i < excessDomChildren.length; i++) {\n\t\t\tconst child = excessDomChildren[i];\n\n\t\t\t// if newVNode matches an element in excessDomChildren or the `dom`\n\t\t\t// argument matches an element in excessDomChildren, remove it from\n\t\t\t// excessDomChildren so it isn't later removed in diffChildren\n\t\t\tif (\n\t\t\t\tchild &&\n\t\t\t\t(child === dom ||\n\t\t\t\t\t(nodeType ? child.localName == nodeType : child.nodeType == 3))\n\t\t\t) {\n\t\t\t\tdom = child;\n\t\t\t\texcessDomChildren[i] = null;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (dom == null) {\n\t\tif (nodeType === null) {\n\t\t\t// @ts-ignore createTextNode returns Text, we expect PreactElement\n\t\t\treturn document.createTextNode(newProps);\n\t\t}\n\n\t\tif (isSvg) {\n\t\t\tdom = document.createElementNS(\n\t\t\t\t'http://www.w3.org/2000/svg',\n\t\t\t\t// @ts-ignore We know `newVNode.type` is a string\n\t\t\t\tnodeType\n\t\t\t);\n\t\t} else {\n\t\t\tdom = document.createElement(\n\t\t\t\t// @ts-ignore We know `newVNode.type` is a string\n\t\t\t\tnodeType,\n\t\t\t\tnewProps.is && newProps\n\t\t\t);\n\t\t}\n\n\t\t// we created a new parent, so none of the previously attached children can be reused:\n\t\texcessDomChildren = null;\n\t\t// we are creating a new node, so we can assume this is a new subtree (in case we are hydrating), this deopts the hydrate\n\t\tisHydrating = false;\n\t}\n\n\tif (nodeType === null) {\n\t\t// During hydration, we still have to split merged text from SSR'd HTML.\n\t\tif (oldProps !== newProps && (!isHydrating || dom.data !== newProps)) {\n\t\t\tdom.data = newProps;\n\t\t}\n\t} else {\n\t\t// If excessDomChildren was not null, repopulate it with the current element's children:\n\t\texcessDomChildren = excessDomChildren && slice.call(dom.childNodes);\n\n\t\toldProps = oldVNode.props || EMPTY_OBJ;\n\n\t\tlet oldHtml = oldProps.dangerouslySetInnerHTML;\n\t\tlet newHtml = newProps.dangerouslySetInnerHTML;\n\n\t\t// During hydration, props are not diffed at all (including dangerouslySetInnerHTML)\n\t\t// @TODO we should warn in debug mode when props don't match here.\n\t\tif (!isHydrating) {\n\t\t\t// But, if we are in a situation where we are using existing DOM (e.g. replaceNode)\n\t\t\t// we should read the existing DOM attributes to diff them\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\toldProps = {};\n\t\t\t\tfor (i = 0; i < dom.attributes.length; i++) {\n\t\t\t\t\toldProps[dom.attributes[i].name] = dom.attributes[i].value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (newHtml || oldHtml) {\n\t\t\t\t// Avoid re-applying the same '__html' if it did not changed between re-render\n\t\t\t\tif (\n\t\t\t\t\t!newHtml ||\n\t\t\t\t\t((!oldHtml || newHtml.__html != oldHtml.__html) &&\n\t\t\t\t\t\tnewHtml.__html !== dom.innerHTML)\n\t\t\t\t) {\n\t\t\t\t\tdom.innerHTML = (newHtml && newHtml.__html) || '';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tdiffProps(dom, newProps, oldProps, isSvg, isHydrating);\n\n\t\t// If the new vnode didn't have dangerouslySetInnerHTML, diff its children\n\t\tif (newHtml) {\n\t\t\tnewVNode._children = [];\n\t\t} else {\n\t\t\ti = newVNode.props.children;\n\t\t\tdiffChildren(\n\t\t\t\tdom,\n\t\t\t\tArray.isArray(i) ? i : [i],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg && nodeType !== 'foreignObject',\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\texcessDomChildren\n\t\t\t\t\t? excessDomChildren[0]\n\t\t\t\t\t: oldVNode._children && getDomSibling(oldVNode, 0),\n\t\t\t\tisHydrating\n\t\t\t);\n\n\t\t\t// Remove children that are not part of any vnode.\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\tfor (i = excessDomChildren.length; i--; ) {\n\t\t\t\t\tif (excessDomChildren[i] != null) removeNode(excessDomChildren[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// (as above, don't diff props during hydration)\n\t\tif (!isHydrating) {\n\t\t\tif (\n\t\t\t\t'value' in newProps &&\n\t\t\t\t(i = newProps.value) !== undefined &&\n\t\t\t\t// #2756 For the <progress>-element the initial value is 0,\n\t\t\t\t// despite the attribute not being present. When the attribute\n\t\t\t\t// is missing the progress bar is treated as indeterminate.\n\t\t\t\t// To fix that we'll always update it when it is 0 for progress elements\n\t\t\t\t(i !== dom.value || (nodeType === 'progress' && !i))\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'value', i, oldProps.value, false);\n\t\t\t}\n\t\t\tif (\n\t\t\t\t'checked' in newProps &&\n\t\t\t\t(i = newProps.checked) !== undefined &&\n\t\t\t\ti !== dom.checked\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'checked', i, oldProps.checked, false);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n/**\n * Invoke or update a ref, depending on whether it is a function or object ref.\n * @param {object|function} ref\n * @param {any} value\n * @param {import('../internal').VNode} vnode\n */\nexport function applyRef(ref, value, vnode) {\n\ttry {\n\t\tif (typeof ref == 'function') ref(value);\n\t\telse ref.current = value;\n\t} catch (e) {\n\t\toptions._catchError(e, vnode);\n\t}\n}\n\n/**\n * Unmount a virtual node from the tree and apply DOM changes\n * @param {import('../internal').VNode} vnode The virtual node to unmount\n * @param {import('../internal').VNode} parentVNode The parent of the VNode that\n * initiated the unmount\n * @param {boolean} [skipRemove] Flag that indicates that a parent node of the\n * current element is already detached from the DOM.\n */\nexport function unmount(vnode, parentVNode, skipRemove) {\n\tlet r;\n\tif (options.unmount) options.unmount(vnode);\n\n\tif ((r = vnode.ref)) {\n\t\tif (!r.current || r.current === vnode._dom) applyRef(r, null, parentVNode);\n\t}\n\n\tif ((r = vnode._component) != null) {\n\t\tif (r.componentWillUnmount) {\n\t\t\ttry {\n\t\t\t\tr.componentWillUnmount();\n\t\t\t} catch (e) {\n\t\t\t\toptions._catchError(e, parentVNode);\n\t\t\t}\n\t\t}\n\n\t\tr.base = r._parentDom = null;\n\t}\n\n\tif ((r = vnode._children)) {\n\t\tfor (let i = 0; i < r.length; i++) {\n\t\t\tif (r[i]) {\n\t\t\t\tunmount(r[i], parentVNode, typeof vnode.type != 'function');\n\t\t\t}\n\t\t}\n\t}\n\n\tif (!skipRemove && vnode._dom != null) removeNode(vnode._dom);\n\n\t// Must be set to `undefined` to properly clean up `_nextDom`\n\t// for which `null` is a valid value. See comment in `create-element.js`\n\tvnode._dom = vnode._nextDom = undefined;\n}\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n","import { EMPTY_OBJ } from './constants';\nimport { commitRoot, diff } from './diff/index';\nimport { createElement, Fragment } from './create-element';\nimport options from './options';\nimport { slice } from './util';\n\n/**\n * Render a Preact virtual node into a DOM element\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * render into\n * @param {import('./internal').PreactElement | object} [replaceNode] Optional: Attempt to re-use an\n * existing DOM tree rooted at `replaceNode`\n */\nexport function render(vnode, parentDom, replaceNode) {\n\tif (options._root) options._root(vnode, parentDom);\n\n\t// We abuse the `replaceNode` parameter in `hydrate()` to signal if we are in\n\t// hydration mode or not by passing the `hydrate` function instead of a DOM\n\t// element..\n\tlet isHydrating = typeof replaceNode === 'function';\n\n\t// To be able to support calling `render()` multiple times on the same\n\t// DOM node, we need to obtain a reference to the previous tree. We do\n\t// this by assigning a new `_children` property to DOM nodes which points\n\t// to the last rendered tree. By default this property is not present, which\n\t// means that we are mounting a new tree for the first time.\n\tlet oldVNode = isHydrating\n\t\t? null\n\t\t: (replaceNode && replaceNode._children) || parentDom._children;\n\n\tvnode = (\n\t\t(!isHydrating && replaceNode) ||\n\t\tparentDom\n\t)._children = createElement(Fragment, null, [vnode]);\n\n\t// List of effects that need to be called after diffing.\n\tlet commitQueue = [];\n\tdiff(\n\t\tparentDom,\n\t\t// Determine the new vnode tree and store it on the DOM element on\n\t\t// our custom `_children` property.\n\t\tvnode,\n\t\toldVNode || EMPTY_OBJ,\n\t\tEMPTY_OBJ,\n\t\tparentDom.ownerSVGElement !== undefined,\n\t\t!isHydrating && replaceNode\n\t\t\t? [replaceNode]\n\t\t\t: oldVNode\n\t\t\t? null\n\t\t\t: parentDom.firstChild\n\t\t\t? slice.call(parentDom.childNodes)\n\t\t\t: null,\n\t\tcommitQueue,\n\t\t!isHydrating && replaceNode\n\t\t\t? replaceNode\n\t\t\t: oldVNode\n\t\t\t? oldVNode._dom\n\t\t\t: parentDom.firstChild,\n\t\tisHydrating\n\t);\n\n\t// Flush all queued effects\n\tcommitRoot(commitQueue, vnode);\n}\n\n/**\n * Update an existing DOM element with data from a Preact virtual node\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * update\n */\nexport function hydrate(vnode, parentDom) {\n\trender(vnode, parentDom, hydrate);\n}\n","import { assign, slice } from './util';\nimport { createVNode } from './create-element';\n\n/**\n * Clones the given VNode, optionally adding attributes/props and replacing its children.\n * @param {import('./internal').VNode} vnode The virtual DOM element to clone\n * @param {object} props Attributes/props to add when cloning\n * @param {Array<import('./internal').ComponentChildren>} rest Any additional arguments will be used as replacement children.\n * @returns {import('./internal').VNode}\n */\nexport function cloneElement(vnode, props, children) {\n\tlet normalizedProps = assign({}, vnode.props),\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\treturn createVNode(\n\t\tvnode.type,\n\t\tnormalizedProps,\n\t\tkey || vnode.key,\n\t\tref || vnode.ref,\n\t\tnull\n\t);\n}\n","/**\n * Find the closest error boundary to a thrown error and call it\n * @param {object} error The thrown value\n * @param {import('../internal').VNode} vnode The vnode that threw\n * the error that was caught (except for unmounting when this parameter\n * is the highest parent that was being unmounted)\n */\nexport function _catchError(error, vnode) {\n\t/** @type {import('../internal').Component} */\n\tlet component, ctor, handled;\n\n\tfor (; (vnode = vnode._parent); ) {\n\t\tif ((component = vnode._component) && !component._processingException) {\n\t\t\ttry {\n\t\t\t\tctor = component.constructor;\n\n\t\t\t\tif (ctor && ctor.getDerivedStateFromError != null) {\n\t\t\t\t\tcomponent.setState(ctor.getDerivedStateFromError(error));\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\tif (component.componentDidCatch != null) {\n\t\t\t\t\tcomponent.componentDidCatch(error);\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\t// This is an error boundary. Mark it as having bailed out, and whether it was mid-hydration.\n\t\t\t\tif (handled) {\n\t\t\t\t\treturn (component._pendingError = component);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\terror = e;\n\t\t\t}\n\t\t}\n\t}\n\n\tthrow error;\n}\n","const alert = {\n  remove: id => (document.getElementById(id).outerHTML = \"\"),\n  add: (text, alertStyle = \"alert-success\", countdown = 5000) => {\n    if (!text) {\n      return;\n    }\n    let alertNode = document.createElement(\"DIV\");\n    alertNode.id = alert.hash(text);\n    alertNode.innerHTML = text;\n    alertNode.classList.add(\"global-alert\", \"alert\", alertStyle);\n    document.body.appendChild(alertNode);\n    setTimeout(() => alert.remove(alertNode.id), countdown);\n  },\n  hash: str => {\n    let hash = 0;\n    if (str.length == 0) {\n      return hash;\n    }\n    for (let i = 0; i < str.length; i++) {\n      let char = str.charCodeAt(i);\n      hash = (hash << 5) - hash + char;\n      hash = hash & hash; // Convert to 32bit integer\n    }\n    return hash;\n  }\n};\nexport default alert;\n","const storage = {\n  usage: () => {\n    let total = 0;\n    let k;\n    for (k in localStorage) {\n      if (Object.prototype.hasOwnProperty.call(localStorage, k)) {\n        total += (localStorage[k].length + k.length) * 2;\n      }\n    }\n    return total;\n  },\n  createStorageBox: (data, metadata = null) => ({\n    data,\n    createdAt: Date.now(),\n    metadata\n  }),\n  remove: id => localStorage.removeItem(id),\n  set: (id, data, metadata = null) => {\n    localStorage.setItem(\n      id,\n      JSON.stringify(storage.createStorageBox(data, metadata))\n    );\n    return Promise.resolve(id);\n  },\n  get: id => {\n    let data = localStorage.getItem(id);\n    if (data != null) {\n      data = JSON.parse(data);\n      if (Object.prototype.hasOwnProperty.call(data, \"data\")) {\n        return new Promise(r => r(data.data));\n      }\n    }\n    return new Promise(r => r(null));\n  },\n  reset: () =>\n    localStorage.clear() &&\n    window.dispatchEvent(new CustomEvent(\"resetStorage\"))\n};\nexport default storage;\n","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayWithHoles = require(\"./arrayWithHoles.js\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableRest = require(\"./nonIterableRest.js\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","import { options } from 'preact';\n\n/** @type {number} */\nlet currentIndex;\n\n/** @type {import('./internal').Component} */\nlet currentComponent;\n\n/** @type {number} */\nlet currentHook = 0;\n\n/** @type {Array<import('./internal').Component>} */\nlet afterPaintEffects = [];\n\nlet oldBeforeDiff = options._diff;\nlet oldBeforeRender = options._render;\nlet oldAfterDiff = options.diffed;\nlet oldCommit = options._commit;\nlet oldBeforeUnmount = options.unmount;\n\nconst RAF_TIMEOUT = 100;\nlet prevRaf;\n\noptions._diff = vnode => {\n\tcurrentComponent = null;\n\tif (oldBeforeDiff) oldBeforeDiff(vnode);\n};\n\noptions._render = vnode => {\n\tif (oldBeforeRender) oldBeforeRender(vnode);\n\n\tcurrentComponent = vnode._component;\n\tcurrentIndex = 0;\n\n\tconst hooks = currentComponent.__hooks;\n\tif (hooks) {\n\t\thooks._pendingEffects.forEach(invokeCleanup);\n\t\thooks._pendingEffects.forEach(invokeEffect);\n\t\thooks._pendingEffects = [];\n\t}\n};\n\noptions.diffed = vnode => {\n\tif (oldAfterDiff) oldAfterDiff(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks && c.__hooks._pendingEffects.length) {\n\t\tafterPaint(afterPaintEffects.push(c));\n\t}\n\tcurrentComponent = null;\n};\n\noptions._commit = (vnode, commitQueue) => {\n\tcommitQueue.some(component => {\n\t\ttry {\n\t\t\tcomponent._renderCallbacks.forEach(invokeCleanup);\n\t\t\tcomponent._renderCallbacks = component._renderCallbacks.filter(cb =>\n\t\t\t\tcb._value ? invokeEffect(cb) : true\n\t\t\t);\n\t\t} catch (e) {\n\t\t\tcommitQueue.some(c => {\n\t\t\t\tif (c._renderCallbacks) c._renderCallbacks = [];\n\t\t\t});\n\t\t\tcommitQueue = [];\n\t\t\toptions._catchError(e, component._vnode);\n\t\t}\n\t});\n\n\tif (oldCommit) oldCommit(vnode, commitQueue);\n};\n\noptions.unmount = vnode => {\n\tif (oldBeforeUnmount) oldBeforeUnmount(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks) {\n\t\ttry {\n\t\t\tc.__hooks._list.forEach(invokeCleanup);\n\t\t} catch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t}\n};\n\n/**\n * Get a hook's state from the currentComponent\n * @param {number} index The index of the hook to get\n * @param {number} type The index of the hook to get\n * @returns {any}\n */\nfunction getHookState(index, type) {\n\tif (options._hook) {\n\t\toptions._hook(currentComponent, index, currentHook || type);\n\t}\n\tcurrentHook = 0;\n\n\t// Largely inspired by:\n\t// * https://github.com/michael-klein/funcy.js/blob/f6be73468e6ec46b0ff5aa3cc4c9baf72a29025a/src/hooks/core_hooks.mjs\n\t// * https://github.com/michael-klein/funcy.js/blob/650beaa58c43c33a74820a3c98b3c7079cf2e333/src/renderer.mjs\n\t// Other implementations to look at:\n\t// * https://codesandbox.io/s/mnox05qp8\n\tconst hooks =\n\t\tcurrentComponent.__hooks ||\n\t\t(currentComponent.__hooks = {\n\t\t\t_list: [],\n\t\t\t_pendingEffects: []\n\t\t});\n\n\tif (index >= hooks._list.length) {\n\t\thooks._list.push({});\n\t}\n\treturn hooks._list[index];\n}\n\n/**\n * @param {import('./index').StateUpdater<any>} [initialState]\n */\nexport function useState(initialState) {\n\tcurrentHook = 1;\n\treturn useReducer(invokeOrReturn, initialState);\n}\n\n/**\n * @param {import('./index').Reducer<any, any>} reducer\n * @param {import('./index').StateUpdater<any>} initialState\n * @param {(initialState: any) => void} [init]\n * @returns {[ any, (state: any) => void ]}\n */\nexport function useReducer(reducer, initialState, init) {\n\t/** @type {import('./internal').ReducerHookState} */\n\tconst hookState = getHookState(currentIndex++, 2);\n\thookState._reducer = reducer;\n\tif (!hookState._component) {\n\t\thookState._value = [\n\t\t\t!init ? invokeOrReturn(undefined, initialState) : init(initialState),\n\n\t\t\taction => {\n\t\t\t\tconst nextValue = hookState._reducer(hookState._value[0], action);\n\t\t\t\tif (hookState._value[0] !== nextValue) {\n\t\t\t\t\thookState._value = [nextValue, hookState._value[1]];\n\t\t\t\t\thookState._component.setState({});\n\t\t\t\t}\n\t\t\t}\n\t\t];\n\n\t\thookState._component = currentComponent;\n\t}\n\n\treturn hookState._value;\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {any[]} args\n */\nexport function useEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 3);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._args = args;\n\n\t\tcurrentComponent.__hooks._pendingEffects.push(state);\n\t}\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {any[]} args\n */\nexport function useLayoutEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 4);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._args = args;\n\n\t\tcurrentComponent._renderCallbacks.push(state);\n\t}\n}\n\nexport function useRef(initialValue) {\n\tcurrentHook = 5;\n\treturn useMemo(() => ({ current: initialValue }), []);\n}\n\n/**\n * @param {object} ref\n * @param {() => object} createHandle\n * @param {any[]} args\n */\nexport function useImperativeHandle(ref, createHandle, args) {\n\tcurrentHook = 6;\n\tuseLayoutEffect(\n\t\t() => {\n\t\t\tif (typeof ref == 'function') ref(createHandle());\n\t\t\telse if (ref) ref.current = createHandle();\n\t\t},\n\t\targs == null ? args : args.concat(ref)\n\t);\n}\n\n/**\n * @param {() => any} factory\n * @param {any[]} args\n */\nexport function useMemo(factory, args) {\n\t/** @type {import('./internal').MemoHookState} */\n\tconst state = getHookState(currentIndex++, 7);\n\tif (argsChanged(state._args, args)) {\n\t\tstate._value = factory();\n\t\tstate._args = args;\n\t\tstate._factory = factory;\n\t}\n\n\treturn state._value;\n}\n\n/**\n * @param {() => void} callback\n * @param {any[]} args\n */\nexport function useCallback(callback, args) {\n\tcurrentHook = 8;\n\treturn useMemo(() => callback, args);\n}\n\n/**\n * @param {import('./internal').PreactContext} context\n */\nexport function useContext(context) {\n\tconst provider = currentComponent.context[context._id];\n\t// We could skip this call here, but than we'd not call\n\t// `options._hook`. We need to do that in order to make\n\t// the devtools aware of this hook.\n\t/** @type {import('./internal').ContextHookState} */\n\tconst state = getHookState(currentIndex++, 9);\n\t// The devtools needs access to the context object to\n\t// be able to pull of the default value when no provider\n\t// is present in the tree.\n\tstate._context = context;\n\tif (!provider) return context._defaultValue;\n\t// This is probably not safe to convert to \"!\"\n\tif (state._value == null) {\n\t\tstate._value = true;\n\t\tprovider.sub(currentComponent);\n\t}\n\treturn provider.props.value;\n}\n\n/**\n * Display a custom label for a custom hook for the devtools panel\n * @type {<T>(value: T, cb?: (value: T) => string | number) => void}\n */\nexport function useDebugValue(value, formatter) {\n\tif (options.useDebugValue) {\n\t\toptions.useDebugValue(formatter ? formatter(value) : value);\n\t}\n}\n\n/**\n * @param {(error: any) => void} cb\n */\nexport function useErrorBoundary(cb) {\n\t/** @type {import('./internal').ErrorBoundaryHookState} */\n\tconst state = getHookState(currentIndex++, 10);\n\tconst errState = useState();\n\tstate._value = cb;\n\tif (!currentComponent.componentDidCatch) {\n\t\tcurrentComponent.componentDidCatch = err => {\n\t\t\tif (state._value) state._value(err);\n\t\t\terrState[1](err);\n\t\t};\n\t}\n\treturn [\n\t\terrState[0],\n\t\t() => {\n\t\t\terrState[1](undefined);\n\t\t}\n\t];\n}\n\n/**\n * After paint effects consumer.\n */\nfunction flushAfterPaintEffects() {\n\tafterPaintEffects.forEach(component => {\n\t\tif (component._parentDom) {\n\t\t\ttry {\n\t\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeCleanup);\n\t\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeEffect);\n\t\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t\t} catch (e) {\n\t\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t\t\toptions._catchError(e, component._vnode);\n\t\t\t}\n\t\t}\n\t});\n\tafterPaintEffects = [];\n}\n\nlet HAS_RAF = typeof requestAnimationFrame == 'function';\n\n/**\n * Schedule a callback to be invoked after the browser has a chance to paint a new frame.\n * Do this by combining requestAnimationFrame (rAF) + setTimeout to invoke a callback after\n * the next browser frame.\n *\n * Also, schedule a timeout in parallel to the the rAF to ensure the callback is invoked\n * even if RAF doesn't fire (for example if the browser tab is not visible)\n *\n * @param {() => void} callback\n */\nfunction afterNextFrame(callback) {\n\tconst done = () => {\n\t\tclearTimeout(timeout);\n\t\tif (HAS_RAF) cancelAnimationFrame(raf);\n\t\tsetTimeout(callback);\n\t};\n\tconst timeout = setTimeout(done, RAF_TIMEOUT);\n\n\tlet raf;\n\tif (HAS_RAF) {\n\t\traf = requestAnimationFrame(done);\n\t}\n}\n\n// Note: if someone used options.debounceRendering = requestAnimationFrame,\n// then effects will ALWAYS run on the NEXT frame instead of the current one, incurring a ~16ms delay.\n// Perhaps this is not such a big deal.\n/**\n * Schedule afterPaintEffects flush after the browser paints\n * @param {number} newQueueLength\n */\nfunction afterPaint(newQueueLength) {\n\tif (newQueueLength === 1 || prevRaf !== options.requestAnimationFrame) {\n\t\tprevRaf = options.requestAnimationFrame;\n\t\t(prevRaf || afterNextFrame)(flushAfterPaintEffects);\n\t}\n}\n\n/**\n * @param {import('./internal').EffectHookState} hook\n */\nfunction invokeCleanup(hook) {\n\t// A hook cleanup can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\tif (typeof hook._cleanup == 'function') hook._cleanup();\n\tcurrentComponent = comp;\n}\n\n/**\n * Invoke a Hook's effect\n * @param {import('./internal').EffectHookState} hook\n */\nfunction invokeEffect(hook) {\n\t// A hook call can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\thook._cleanup = hook._value();\n\tcurrentComponent = comp;\n}\n\n/**\n * @param {any[]} oldArgs\n * @param {any[]} newArgs\n */\nfunction argsChanged(oldArgs, newArgs) {\n\treturn (\n\t\t!oldArgs ||\n\t\toldArgs.length !== newArgs.length ||\n\t\tnewArgs.some((arg, index) => arg !== oldArgs[index])\n\t);\n}\n\nfunction invokeOrReturn(arg, f) {\n\treturn typeof f == 'function' ? f(arg) : f;\n}\n","/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Check if two objects have a different shape\n * @param {object} a\n * @param {object} b\n * @returns {boolean}\n */\nexport function shallowDiffers(a, b) {\n\tfor (let i in a) if (i !== '__source' && !(i in b)) return true;\n\tfor (let i in b) if (i !== '__source' && a[i] !== b[i]) return true;\n\treturn false;\n}\n\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n","import { Component } from 'preact';\nimport { shallowDiffers } from './util';\n\n/**\n * Component class with a predefined `shouldComponentUpdate` implementation\n */\nexport function PureComponent(p) {\n\tthis.props = p;\n}\nPureComponent.prototype = new Component();\n// Some third-party libraries check if this property is present\nPureComponent.prototype.isPureReactComponent = true;\nPureComponent.prototype.shouldComponentUpdate = function(props, state) {\n\treturn shallowDiffers(this.props, props) || shallowDiffers(this.state, state);\n};\n","import { options } from 'preact';\nimport { assign } from './util';\n\nlet oldDiffHook = options._diff;\noptions._diff = vnode => {\n\tif (vnode.type && vnode.type._forwarded && vnode.ref) {\n\t\tvnode.props.ref = vnode.ref;\n\t\tvnode.ref = null;\n\t}\n\tif (oldDiffHook) oldDiffHook(vnode);\n};\n\nexport const REACT_FORWARD_SYMBOL =\n\t(typeof Symbol != 'undefined' &&\n\t\tSymbol.for &&\n\t\tSymbol.for('react.forward_ref')) ||\n\t0xf47;\n\n/**\n * Pass ref down to a child. This is mainly used in libraries with HOCs that\n * wrap components. Using `forwardRef` there is an easy way to get a reference\n * of the wrapped component instead of one of the wrapper itself.\n * @param {import('./index').ForwardFn} fn\n * @returns {import('./internal').FunctionComponent}\n */\nexport function forwardRef(fn) {\n\t// We always have ref in props.ref, except for\n\t// mobx-react. It will call this function directly\n\t// and always pass ref as the second argument.\n\tfunction Forwarded(props, ref) {\n\t\tlet clone = assign({}, props);\n\t\tdelete clone.ref;\n\t\tref = props.ref || ref;\n\t\treturn fn(\n\t\t\tclone,\n\t\t\t!ref || (typeof ref === 'object' && !('current' in ref)) ? null : ref\n\t\t);\n\t}\n\n\t// mobx-react checks for this being present\n\tForwarded.$$typeof = REACT_FORWARD_SYMBOL;\n\t// mobx-react heavily relies on implementation details.\n\t// It expects an object here with a `render` property,\n\t// and prototype.render will fail. Without this\n\t// mobx-react throws.\n\tForwarded.render = Forwarded;\n\n\tForwarded.prototype.isReactComponent = Forwarded._forwarded = true;\n\tForwarded.displayName = 'ForwardRef(' + (fn.displayName || fn.name) + ')';\n\treturn Forwarded;\n}\n","import { toChildArray } from 'preact';\n\nconst mapFn = (children, fn) => {\n\tif (children == null) return null;\n\treturn toChildArray(toChildArray(children).map(fn));\n};\n\n// This API is completely unnecessary for Preact, so it's basically passthrough.\nexport const Children = {\n\tmap: mapFn,\n\tforEach: mapFn,\n\tcount(children) {\n\t\treturn children ? toChildArray(children).length : 0;\n\t},\n\tonly(children) {\n\t\tconst normalized = toChildArray(children);\n\t\tif (normalized.length !== 1) throw 'Children.only';\n\t\treturn normalized[0];\n\t},\n\ttoArray: toChildArray\n};\n","import { Component, createElement, options, Fragment } from 'preact';\nimport { assign } from './util';\n\nconst oldCatchError = options._catchError;\noptions._catchError = function(error, newVNode, oldVNode) {\n\tif (error.then) {\n\t\t/** @type {import('./internal').Component} */\n\t\tlet component;\n\t\tlet vnode = newVNode;\n\n\t\tfor (; (vnode = vnode._parent); ) {\n\t\t\tif ((component = vnode._component) && component._childDidSuspend) {\n\t\t\t\tif (newVNode._dom == null) {\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t}\n\t\t\t\t// Don't call oldCatchError if we found a Suspense\n\t\t\t\treturn component._childDidSuspend(error, newVNode);\n\t\t\t}\n\t\t}\n\t}\n\toldCatchError(error, newVNode, oldVNode);\n};\n\nconst oldUnmount = options.unmount;\noptions.unmount = function(vnode) {\n\t/** @type {import('./internal').Component} */\n\tconst component = vnode._component;\n\tif (component && component._onResolve) {\n\t\tcomponent._onResolve();\n\t}\n\n\t// if the component is still hydrating\n\t// most likely it is because the component is suspended\n\t// we set the vnode.type as `null` so that it is not a typeof function\n\t// so the unmount will remove the vnode._dom\n\tif (component && vnode._hydrating === true) {\n\t\tvnode.type = null;\n\t}\n\n\tif (oldUnmount) oldUnmount(vnode);\n};\n\nfunction detachedClone(vnode, detachedParent, parentDom) {\n\tif (vnode) {\n\t\tif (vnode._component && vnode._component.__hooks) {\n\t\t\tvnode._component.__hooks._list.forEach(effect => {\n\t\t\t\tif (typeof effect._cleanup == 'function') effect._cleanup();\n\t\t\t});\n\n\t\t\tvnode._component.__hooks = null;\n\t\t}\n\n\t\tvnode = assign({}, vnode);\n\t\tif (vnode._component != null) {\n\t\t\tif (vnode._component._parentDom === parentDom) {\n\t\t\t\tvnode._component._parentDom = detachedParent;\n\t\t\t}\n\t\t\tvnode._component = null;\n\t\t}\n\n\t\tvnode._children =\n\t\t\tvnode._children &&\n\t\t\tvnode._children.map(child =>\n\t\t\t\tdetachedClone(child, detachedParent, parentDom)\n\t\t\t);\n\t}\n\n\treturn vnode;\n}\n\nfunction removeOriginal(vnode, detachedParent, originalParent) {\n\tif (vnode) {\n\t\tvnode._original = null;\n\t\tvnode._children =\n\t\t\tvnode._children &&\n\t\t\tvnode._children.map(child =>\n\t\t\t\tremoveOriginal(child, detachedParent, originalParent)\n\t\t\t);\n\n\t\tif (vnode._component) {\n\t\t\tif (vnode._component._parentDom === detachedParent) {\n\t\t\t\tif (vnode._dom) {\n\t\t\t\t\toriginalParent.insertBefore(vnode._dom, vnode._nextDom);\n\t\t\t\t}\n\t\t\t\tvnode._component._force = true;\n\t\t\t\tvnode._component._parentDom = originalParent;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn vnode;\n}\n\n// having custom inheritance instead of a class here saves a lot of bytes\nexport function Suspense() {\n\t// we do not call super here to golf some bytes...\n\tthis._pendingSuspensionCount = 0;\n\tthis._suspenders = null;\n\tthis._detachOnNextRender = null;\n}\n\n// Things we do here to save some bytes but are not proper JS inheritance:\n// - call `new Component()` as the prototype\n// - do not set `Suspense.prototype.constructor` to `Suspense`\nSuspense.prototype = new Component();\n\n/**\n * @this {import('./internal').SuspenseComponent}\n * @param {Promise} promise The thrown promise\n * @param {import('./internal').VNode<any, any>} suspendingVNode The suspending component\n */\nSuspense.prototype._childDidSuspend = function(promise, suspendingVNode) {\n\tconst suspendingComponent = suspendingVNode._component;\n\n\t/** @type {import('./internal').SuspenseComponent} */\n\tconst c = this;\n\n\tif (c._suspenders == null) {\n\t\tc._suspenders = [];\n\t}\n\tc._suspenders.push(suspendingComponent);\n\n\tconst resolve = suspended(c._vnode);\n\n\tlet resolved = false;\n\tconst onResolved = () => {\n\t\tif (resolved) return;\n\n\t\tresolved = true;\n\t\tsuspendingComponent._onResolve = null;\n\n\t\tif (resolve) {\n\t\t\tresolve(onSuspensionComplete);\n\t\t} else {\n\t\t\tonSuspensionComplete();\n\t\t}\n\t};\n\n\tsuspendingComponent._onResolve = onResolved;\n\n\tconst onSuspensionComplete = () => {\n\t\tif (!--c._pendingSuspensionCount) {\n\t\t\t// If the suspension was during hydration we don't need to restore the\n\t\t\t// suspended children into the _children array\n\t\t\tif (c.state._suspended) {\n\t\t\t\tconst suspendedVNode = c.state._suspended;\n\t\t\t\tc._vnode._children[0] = removeOriginal(\n\t\t\t\t\tsuspendedVNode,\n\t\t\t\t\tsuspendedVNode._component._parentDom,\n\t\t\t\t\tsuspendedVNode._component._originalParentDom\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tc.setState({ _suspended: (c._detachOnNextRender = null) });\n\n\t\t\tlet suspended;\n\t\t\twhile ((suspended = c._suspenders.pop())) {\n\t\t\t\tsuspended.forceUpdate();\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * We do not set `suspended: true` during hydration because we want the actual markup\n\t * to remain on screen and hydrate it when the suspense actually gets resolved.\n\t * While in non-hydration cases the usual fallback -> component flow would occour.\n\t */\n\tconst wasHydrating = suspendingVNode._hydrating === true;\n\tif (!c._pendingSuspensionCount++ && !wasHydrating) {\n\t\tc.setState({ _suspended: (c._detachOnNextRender = c._vnode._children[0]) });\n\t}\n\tpromise.then(onResolved, onResolved);\n};\n\nSuspense.prototype.componentWillUnmount = function() {\n\tthis._suspenders = [];\n};\n\n/**\n * @this {import('./internal').SuspenseComponent}\n * @param {import('./internal').SuspenseComponent[\"props\"]} props\n * @param {import('./internal').SuspenseState} state\n */\nSuspense.prototype.render = function(props, state) {\n\tif (this._detachOnNextRender) {\n\t\t// When the Suspense's _vnode was created by a call to createVNode\n\t\t// (i.e. due to a setState further up in the tree)\n\t\t// it's _children prop is null, in this case we \"forget\" about the parked vnodes to detach\n\t\tif (this._vnode._children) {\n\t\t\tconst detachedParent = document.createElement('div');\n\t\t\tconst detachedComponent = this._vnode._children[0]._component;\n\t\t\tthis._vnode._children[0] = detachedClone(\n\t\t\t\tthis._detachOnNextRender,\n\t\t\t\tdetachedParent,\n\t\t\t\t(detachedComponent._originalParentDom = detachedComponent._parentDom)\n\t\t\t);\n\t\t}\n\n\t\tthis._detachOnNextRender = null;\n\t}\n\n\t// Wrap fallback tree in a VNode that prevents itself from being marked as aborting mid-hydration:\n\t/** @type {import('./internal').VNode} */\n\tconst fallback =\n\t\tstate._suspended && createElement(Fragment, null, props.fallback);\n\tif (fallback) fallback._hydrating = null;\n\n\treturn [\n\t\tcreateElement(Fragment, null, state._suspended ? null : props.children),\n\t\tfallback\n\t];\n};\n\n/**\n * Checks and calls the parent component's _suspended method, passing in the\n * suspended vnode. This is a way for a parent (e.g. SuspenseList) to get notified\n * that one of its children/descendants suspended.\n *\n * The parent MAY return a callback. The callback will get called when the\n * suspension resolves, notifying the parent of the fact.\n * Moreover, the callback gets function `unsuspend` as a parameter. The resolved\n * child descendant will not actually get unsuspended until `unsuspend` gets called.\n * This is a way for the parent to delay unsuspending.\n *\n * If the parent does not return a callback then the resolved vnode\n * gets unsuspended immediately when it resolves.\n *\n * @param {import('./internal').VNode} vnode\n * @returns {((unsuspend: () => void) => void)?}\n */\nexport function suspended(vnode) {\n\t/** @type {import('./internal').Component} */\n\tlet component = vnode._parent._component;\n\treturn component && component._suspended && component._suspended(vnode);\n}\n\nexport function lazy(loader) {\n\tlet prom;\n\tlet component;\n\tlet error;\n\n\tfunction Lazy(props) {\n\t\tif (!prom) {\n\t\t\tprom = loader();\n\t\t\tprom.then(\n\t\t\t\texports => {\n\t\t\t\t\tcomponent = exports.default || exports;\n\t\t\t\t},\n\t\t\t\te => {\n\t\t\t\t\terror = e;\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\n\t\tif (error) {\n\t\t\tthrow error;\n\t\t}\n\n\t\tif (!component) {\n\t\t\tthrow prom;\n\t\t}\n\n\t\treturn createElement(component, props);\n\t}\n\n\tLazy.displayName = 'Lazy';\n\tLazy._forwarded = true;\n\treturn Lazy;\n}\n","import { Component, toChildArray } from 'preact';\nimport { suspended } from './suspense.js';\n\n// Indexes to linked list nodes (nodes are stored as arrays to save bytes).\nconst SUSPENDED_COUNT = 0;\nconst RESOLVED_COUNT = 1;\nconst NEXT_NODE = 2;\n\n// Having custom inheritance instead of a class here saves a lot of bytes.\nexport function SuspenseList() {\n\tthis._next = null;\n\tthis._map = null;\n}\n\n// Mark one of child's earlier suspensions as resolved.\n// Some pending callbacks may become callable due to this\n// (e.g. the last suspended descendant gets resolved when\n// revealOrder === 'together'). Process those callbacks as well.\nconst resolve = (list, child, node) => {\n\tif (++node[RESOLVED_COUNT] === node[SUSPENDED_COUNT]) {\n\t\t// The number a child (or any of its descendants) has been suspended\n\t\t// matches the number of times it's been resolved. Therefore we\n\t\t// mark the child as completely resolved by deleting it from ._map.\n\t\t// This is used to figure out when *all* children have been completely\n\t\t// resolved when revealOrder is 'together'.\n\t\tlist._map.delete(child);\n\t}\n\n\t// If revealOrder is falsy then we can do an early exit, as the\n\t// callbacks won't get queued in the node anyway.\n\t// If revealOrder is 'together' then also do an early exit\n\t// if all suspended descendants have not yet been resolved.\n\tif (\n\t\t!list.props.revealOrder ||\n\t\t(list.props.revealOrder[0] === 't' && list._map.size)\n\t) {\n\t\treturn;\n\t}\n\n\t// Walk the currently suspended children in order, calling their\n\t// stored callbacks on the way. Stop if we encounter a child that\n\t// has not been completely resolved yet.\n\tnode = list._next;\n\twhile (node) {\n\t\twhile (node.length > 3) {\n\t\t\tnode.pop()();\n\t\t}\n\t\tif (node[RESOLVED_COUNT] < node[SUSPENDED_COUNT]) {\n\t\t\tbreak;\n\t\t}\n\t\tlist._next = node = node[NEXT_NODE];\n\t}\n};\n\n// Things we do here to save some bytes but are not proper JS inheritance:\n// - call `new Component()` as the prototype\n// - do not set `Suspense.prototype.constructor` to `Suspense`\nSuspenseList.prototype = new Component();\n\nSuspenseList.prototype._suspended = function(child) {\n\tconst list = this;\n\tconst delegated = suspended(list._vnode);\n\n\tlet node = list._map.get(child);\n\tnode[SUSPENDED_COUNT]++;\n\n\treturn unsuspend => {\n\t\tconst wrappedUnsuspend = () => {\n\t\t\tif (!list.props.revealOrder) {\n\t\t\t\t// Special case the undefined (falsy) revealOrder, as there\n\t\t\t\t// is no need to coordinate a specific order or unsuspends.\n\t\t\t\tunsuspend();\n\t\t\t} else {\n\t\t\t\tnode.push(unsuspend);\n\t\t\t\tresolve(list, child, node);\n\t\t\t}\n\t\t};\n\t\tif (delegated) {\n\t\t\tdelegated(wrappedUnsuspend);\n\t\t} else {\n\t\t\twrappedUnsuspend();\n\t\t}\n\t};\n};\n\nSuspenseList.prototype.render = function(props) {\n\tthis._next = null;\n\tthis._map = new Map();\n\n\tconst children = toChildArray(props.children);\n\tif (props.revealOrder && props.revealOrder[0] === 'b') {\n\t\t// If order === 'backwards' (or, well, anything starting with a 'b')\n\t\t// then flip the child list around so that the last child will be\n\t\t// the first in the linked list.\n\t\tchildren.reverse();\n\t}\n\t// Build the linked list. Iterate through the children in reverse order\n\t// so that `_next` points to the first linked list node to be resolved.\n\tfor (let i = children.length; i--; ) {\n\t\t// Create a new linked list node as an array of form:\n\t\t// \t[suspended_count, resolved_count, next_node]\n\t\t// where suspended_count and resolved_count are numeric counters for\n\t\t// keeping track how many times a node has been suspended and resolved.\n\t\t//\n\t\t// Note that suspended_count starts from 1 instead of 0, so we can block\n\t\t// processing callbacks until componentDidMount has been called. In a sense\n\t\t// node is suspended at least until componentDidMount gets called!\n\t\t//\n\t\t// Pending callbacks are added to the end of the node:\n\t\t// \t[suspended_count, resolved_count, next_node, callback_0, callback_1, ...]\n\t\tthis._map.set(children[i], (this._next = [1, 0, this._next]));\n\t}\n\treturn props.children;\n};\n\nSuspenseList.prototype.componentDidUpdate = SuspenseList.prototype.componentDidMount = function() {\n\t// Iterate through all children after mounting for two reasons:\n\t// 1. As each node[SUSPENDED_COUNT] starts from 1, this iteration increases\n\t//    each node[RELEASED_COUNT] by 1, therefore balancing the counters.\n\t//    The nodes can now be completely consumed from the linked list.\n\t// 2. Handle nodes that might have gotten resolved between render and\n\t//    componentDidMount.\n\tthis._map.forEach((node, child) => {\n\t\tresolve(this, child, node);\n\t});\n};\n","import { createElement, render } from 'preact';\n\n/**\n * @param {import('../../src/index').RenderableProps<{ context: any }>} props\n */\nfunction ContextProvider(props) {\n\tthis.getChildContext = () => props.context;\n\treturn props.children;\n}\n\n/**\n * Portal component\n * @this {import('./internal').Component}\n * @param {object | null | undefined} props\n *\n * TODO: use createRoot() instead of fake root\n */\nfunction Portal(props) {\n\tconst _this = this;\n\tlet container = props._container;\n\n\t_this.componentWillUnmount = function() {\n\t\trender(null, _this._temp);\n\t\t_this._temp = null;\n\t\t_this._container = null;\n\t};\n\n\t// When we change container we should clear our old container and\n\t// indicate a new mount.\n\tif (_this._container && _this._container !== container) {\n\t\t_this.componentWillUnmount();\n\t}\n\n\t// When props.vnode is undefined/false/null we are dealing with some kind of\n\t// conditional vnode. This should not trigger a render.\n\tif (props._vnode) {\n\t\tif (!_this._temp) {\n\t\t\t_this._container = container;\n\n\t\t\t// Create a fake DOM parent node that manages a subset of `container`'s children:\n\t\t\t_this._temp = {\n\t\t\t\tnodeType: 1,\n\t\t\t\tparentNode: container,\n\t\t\t\tchildNodes: [],\n\t\t\t\tappendChild(child) {\n\t\t\t\t\tthis.childNodes.push(child);\n\t\t\t\t\t_this._container.appendChild(child);\n\t\t\t\t},\n\t\t\t\tinsertBefore(child, before) {\n\t\t\t\t\tthis.childNodes.push(child);\n\t\t\t\t\t_this._container.appendChild(child);\n\t\t\t\t},\n\t\t\t\tremoveChild(child) {\n\t\t\t\t\tthis.childNodes.splice(this.childNodes.indexOf(child) >>> 1, 1);\n\t\t\t\t\t_this._container.removeChild(child);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\t// Render our wrapping element into temp.\n\t\trender(\n\t\t\tcreateElement(ContextProvider, { context: _this.context }, props._vnode),\n\t\t\t_this._temp\n\t\t);\n\t}\n\t// When we come from a conditional render, on a mounted\n\t// portal we should clear the DOM.\n\telse if (_this._temp) {\n\t\t_this.componentWillUnmount();\n\t}\n}\n\n/**\n * Create a `Portal` to continue rendering the vnode tree at a different DOM node\n * @param {import('./internal').VNode} vnode The vnode to render\n * @param {import('./internal').PreactElement} container The DOM node to continue rendering in to.\n */\nexport function createPortal(vnode, container) {\n\treturn createElement(Portal, { _vnode: vnode, _container: container });\n}\n","import {\n\trender as preactRender,\n\thydrate as preactHydrate,\n\toptions,\n\ttoChildArray,\n\tComponent\n} from 'preact';\n\nexport const REACT_ELEMENT_TYPE =\n\t(typeof Symbol != 'undefined' && Symbol.for && Symbol.for('react.element')) ||\n\t0xeac7;\n\nconst CAMEL_PROPS = /^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;\n\nconst IS_DOM = typeof document !== 'undefined';\n\n// Input types for which onchange should not be converted to oninput.\n// type=\"file|checkbox|radio\", plus \"range\" in IE11.\n// (IE11 doesn't support Symbol, which we use here to turn `rad` into `ra` which matches \"range\")\nconst onChangeInputType = type =>\n\t(typeof Symbol != 'undefined' && typeof Symbol() == 'symbol'\n\t\t? /fil|che|rad/i\n\t\t: /fil|che|ra/i\n\t).test(type);\n\n// Some libraries like `react-virtualized` explicitly check for this.\nComponent.prototype.isReactComponent = {};\n\n// `UNSAFE_*` lifecycle hooks\n// Preact only ever invokes the unprefixed methods.\n// Here we provide a base \"fallback\" implementation that calls any defined UNSAFE_ prefixed method.\n// - If a component defines its own `componentDidMount()` (including via defineProperty), use that.\n// - If a component defines `UNSAFE_componentDidMount()`, `componentDidMount` is the alias getter/setter.\n// - If anything assigns to an `UNSAFE_*` property, the assignment is forwarded to the unprefixed property.\n// See https://github.com/preactjs/preact/issues/1941\n[\n\t'componentWillMount',\n\t'componentWillReceiveProps',\n\t'componentWillUpdate'\n].forEach(key => {\n\tObject.defineProperty(Component.prototype, key, {\n\t\tconfigurable: true,\n\t\tget() {\n\t\t\treturn this['UNSAFE_' + key];\n\t\t},\n\t\tset(v) {\n\t\t\tObject.defineProperty(this, key, {\n\t\t\t\tconfigurable: true,\n\t\t\t\twritable: true,\n\t\t\t\tvalue: v\n\t\t\t});\n\t\t}\n\t});\n});\n\n/**\n * Proxy render() since React returns a Component reference.\n * @param {import('./internal').VNode} vnode VNode tree to render\n * @param {import('./internal').PreactElement} parent DOM node to render vnode tree into\n * @param {() => void} [callback] Optional callback that will be called after rendering\n * @returns {import('./internal').Component | null} The root component reference or null\n */\nexport function render(vnode, parent, callback) {\n\t// React destroys any existing DOM nodes, see #1727\n\t// ...but only on the first render, see #1828\n\tif (parent._children == null) {\n\t\tparent.textContent = '';\n\t}\n\n\tpreactRender(vnode, parent);\n\tif (typeof callback == 'function') callback();\n\n\treturn vnode ? vnode._component : null;\n}\n\nexport function hydrate(vnode, parent, callback) {\n\tpreactHydrate(vnode, parent);\n\tif (typeof callback == 'function') callback();\n\n\treturn vnode ? vnode._component : null;\n}\n\nlet oldEventHook = options.event;\noptions.event = e => {\n\tif (oldEventHook) e = oldEventHook(e);\n\te.persist = empty;\n\te.isPropagationStopped = isPropagationStopped;\n\te.isDefaultPrevented = isDefaultPrevented;\n\treturn (e.nativeEvent = e);\n};\n\nfunction empty() {}\n\nfunction isPropagationStopped() {\n\treturn this.cancelBubble;\n}\n\nfunction isDefaultPrevented() {\n\treturn this.defaultPrevented;\n}\n\nlet classNameDescriptor = {\n\tconfigurable: true,\n\tget() {\n\t\treturn this.class;\n\t}\n};\n\nlet oldVNodeHook = options.vnode;\noptions.vnode = vnode => {\n\tlet type = vnode.type;\n\tlet props = vnode.props;\n\tlet normalizedProps = props;\n\n\t// only normalize props on Element nodes\n\tif (typeof type === 'string') {\n\t\tconst nonCustomElement = type.indexOf('-') === -1;\n\t\tnormalizedProps = {};\n\n\t\tfor (let i in props) {\n\t\t\tlet value = props[i];\n\n\t\t\tif (IS_DOM && i === 'children' && type === 'noscript') {\n\t\t\t\t// Emulate React's behavior of not rendering the contents of noscript tags on the client.\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\telse if (i === 'value' && 'defaultValue' in props && value == null) {\n\t\t\t\t// Skip applying value if it is null/undefined and we already set\n\t\t\t\t// a default value\n\t\t\t\tcontinue;\n\t\t\t} else if (\n\t\t\t\ti === 'defaultValue' &&\n\t\t\t\t'value' in props &&\n\t\t\t\tprops.value == null\n\t\t\t) {\n\t\t\t\t// `defaultValue` is treated as a fallback `value` when a value prop is present but null/undefined.\n\t\t\t\t// `defaultValue` for Elements with no value prop is the same as the DOM defaultValue property.\n\t\t\t\ti = 'value';\n\t\t\t} else if (i === 'download' && value === true) {\n\t\t\t\t// Calling `setAttribute` with a truthy value will lead to it being\n\t\t\t\t// passed as a stringified value, e.g. `download=\"true\"`. React\n\t\t\t\t// converts it to an empty string instead, otherwise the attribute\n\t\t\t\t// value will be used as the file name and the file will be called\n\t\t\t\t// \"true\" upon downloading it.\n\t\t\t\tvalue = '';\n\t\t\t} else if (/ondoubleclick/i.test(i)) {\n\t\t\t\ti = 'ondblclick';\n\t\t\t} else if (\n\t\t\t\t/^onchange(textarea|input)/i.test(i + type) &&\n\t\t\t\t!onChangeInputType(props.type)\n\t\t\t) {\n\t\t\t\ti = 'oninput';\n\t\t\t} else if (/^on(Ani|Tra|Tou|BeforeInp)/.test(i)) {\n\t\t\t\ti = i.toLowerCase();\n\t\t\t} else if (nonCustomElement && CAMEL_PROPS.test(i)) {\n\t\t\t\ti = i.replace(/[A-Z0-9]/, '-$&').toLowerCase();\n\t\t\t} else if (value === null) {\n\t\t\t\tvalue = undefined;\n\t\t\t}\n\n\t\t\tnormalizedProps[i] = value;\n\t\t}\n\n\t\t// Add support for array select values: <select multiple value={[]} />\n\t\tif (\n\t\t\ttype == 'select' &&\n\t\t\tnormalizedProps.multiple &&\n\t\t\tArray.isArray(normalizedProps.value)\n\t\t) {\n\t\t\t// forEach() always returns undefined, which we abuse here to unset the value prop.\n\t\t\tnormalizedProps.value = toChildArray(props.children).forEach(child => {\n\t\t\t\tchild.props.selected =\n\t\t\t\t\tnormalizedProps.value.indexOf(child.props.value) != -1;\n\t\t\t});\n\t\t}\n\n\t\t// Adding support for defaultValue in select tag\n\t\tif (type == 'select' && normalizedProps.defaultValue != null) {\n\t\t\tnormalizedProps.value = toChildArray(props.children).forEach(child => {\n\t\t\t\tif (normalizedProps.multiple) {\n\t\t\t\t\tchild.props.selected =\n\t\t\t\t\t\tnormalizedProps.defaultValue.indexOf(child.props.value) != -1;\n\t\t\t\t} else {\n\t\t\t\t\tchild.props.selected =\n\t\t\t\t\t\tnormalizedProps.defaultValue == child.props.value;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tvnode.props = normalizedProps;\n\t}\n\n\tif (type && props.class != props.className) {\n\t\tclassNameDescriptor.enumerable = 'className' in props;\n\t\tif (props.className != null) normalizedProps.class = props.className;\n\t\tObject.defineProperty(normalizedProps, 'className', classNameDescriptor);\n\t}\n\n\tvnode.$$typeof = REACT_ELEMENT_TYPE;\n\n\tif (oldVNodeHook) oldVNodeHook(vnode);\n};\n\n// Only needed for react-relay\nlet currentComponent;\nconst oldBeforeRender = options._render;\noptions._render = function(vnode) {\n\tif (oldBeforeRender) {\n\t\toldBeforeRender(vnode);\n\t}\n\tcurrentComponent = vnode._component;\n};\n\n// This is a very very private internal function for React it\n// is used to sort-of do runtime dependency injection. So far\n// only `react-relay` makes use of it. It uses it to read the\n// context value.\nexport const __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = {\n\tReactCurrentDispatcher: {\n\t\tcurrent: {\n\t\t\treadContext(context) {\n\t\t\t\treturn currentComponent._globalContext[context._id].props.value;\n\t\t\t}\n\t\t}\n\t}\n};\n","import {\n\tcreateElement,\n\trender as preactRender,\n\tcloneElement as preactCloneElement,\n\tcreateRef,\n\tComponent,\n\tcreateContext,\n\tFragment\n} from 'preact';\nimport {\n\tuseState,\n\tuseReducer,\n\tuseEffect,\n\tuseLayoutEffect,\n\tuseRef,\n\tuseImperativeHandle,\n\tuseMemo,\n\tuseCallback,\n\tuseContext,\n\tuseDebugValue\n} from 'preact/hooks';\nimport { PureComponent } from './PureComponent';\nimport { memo } from './memo';\nimport { forwardRef } from './forwardRef';\nimport { Children } from './Children';\nimport { Suspense, lazy } from './suspense';\nimport { SuspenseList } from './suspense-list';\nimport { createPortal } from './portals';\nimport {\n\thydrate,\n\trender,\n\tREACT_ELEMENT_TYPE,\n\t__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED\n} from './render';\n\nconst version = '17.0.2'; // trick libraries to think we are react\n\n/**\n * Legacy version of createElement.\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component constructor\n */\nfunction createFactory(type) {\n\treturn createElement.bind(null, type);\n}\n\n/**\n * Check if the passed element is a valid (p)react node.\n * @param {*} element The element to check\n * @returns {boolean}\n */\nfunction isValidElement(element) {\n\treturn !!element && element.$$typeof === REACT_ELEMENT_TYPE;\n}\n\n/**\n * Wrap `cloneElement` to abort if the passed element is not a valid element and apply\n * all vnode normalizations.\n * @param {import('./internal').VNode} element The vnode to clone\n * @param {object} props Props to add when cloning\n * @param {Array<import('./internal').ComponentChildren>} rest Optional component children\n */\nfunction cloneElement(element) {\n\tif (!isValidElement(element)) return element;\n\treturn preactCloneElement.apply(null, arguments);\n}\n\n/**\n * Remove a component tree from the DOM, including state and event handlers.\n * @param {import('./internal').PreactElement} container\n * @returns {boolean}\n */\nfunction unmountComponentAtNode(container) {\n\tif (container._children) {\n\t\tpreactRender(null, container);\n\t\treturn true;\n\t}\n\treturn false;\n}\n\n/**\n * Get the matching DOM node for a component\n * @param {import('./internal').Component} component\n * @returns {import('./internal').PreactElement | null}\n */\nfunction findDOMNode(component) {\n\treturn (\n\t\t(component &&\n\t\t\t(component.base || (component.nodeType === 1 && component))) ||\n\t\tnull\n\t);\n}\n\n/**\n * Deprecated way to control batched rendering inside the reconciler, but we\n * already schedule in batches inside our rendering code\n * @template Arg\n * @param {(arg: Arg) => void} callback function that triggers the updated\n * @param {Arg} [arg] Optional argument that can be passed to the callback\n */\n// eslint-disable-next-line camelcase\nconst unstable_batchedUpdates = (callback, arg) => callback(arg);\n\n/**\n * In React, `flushSync` flushes the entire tree and forces a rerender. It's\n * implmented here as a no-op.\n * @template Arg\n * @template Result\n * @param {(arg: Arg) => Result} callback function that runs before the flush\n * @param {Arg} [arg] Optional arugment that can be passed to the callback\n * @returns\n */\nconst flushSync = (callback, arg) => callback(arg);\n\n/**\n * Strict Mode is not implemented in Preact, so we provide a stand-in for it\n * that just renders its children without imposing any restrictions.\n */\nconst StrictMode = Fragment;\n\nexport * from 'preact/hooks';\nexport {\n\tversion,\n\tChildren,\n\trender,\n\thydrate,\n\tunmountComponentAtNode,\n\tcreatePortal,\n\tcreateElement,\n\tcreateContext,\n\tcreateFactory,\n\tcloneElement,\n\tcreateRef,\n\tFragment,\n\tisValidElement,\n\tfindDOMNode,\n\tComponent,\n\tPureComponent,\n\tmemo,\n\tforwardRef,\n\tflushSync,\n\t// eslint-disable-next-line camelcase\n\tunstable_batchedUpdates,\n\tStrictMode,\n\tSuspense,\n\tSuspenseList,\n\tlazy,\n\t__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED\n};\n\n// React copies the named exports to the default one.\nexport default {\n\tuseState,\n\tuseReducer,\n\tuseEffect,\n\tuseLayoutEffect,\n\tuseRef,\n\tuseImperativeHandle,\n\tuseMemo,\n\tuseCallback,\n\tuseContext,\n\tuseDebugValue,\n\tversion,\n\tChildren,\n\trender,\n\thydrate,\n\tunmountComponentAtNode,\n\tcreatePortal,\n\tcreateElement,\n\tcreateContext,\n\tcreateFactory,\n\tcloneElement,\n\tcreateRef,\n\tFragment,\n\tisValidElement,\n\tfindDOMNode,\n\tComponent,\n\tPureComponent,\n\tmemo,\n\tforwardRef,\n\tflushSync,\n\tunstable_batchedUpdates,\n\tStrictMode,\n\tSuspense,\n\tSuspenseList,\n\tlazy,\n\t__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED\n};\n","import { createElement } from 'preact';\nimport { shallowDiffers } from './util';\n\n/**\n * Memoize a component, so that it only updates when the props actually have\n * changed. This was previously known as `React.pure`.\n * @param {import('./internal').FunctionComponent} c functional component\n * @param {(prev: object, next: object) => boolean} [comparer] Custom equality function\n * @returns {import('./internal').FunctionComponent}\n */\nexport function memo(c, comparer) {\n\tfunction shouldUpdate(nextProps) {\n\t\tlet ref = this.props.ref;\n\t\tlet updateRef = ref == nextProps.ref;\n\t\tif (!updateRef && ref) {\n\t\t\tref.call ? ref(null) : (ref.current = null);\n\t\t}\n\n\t\tif (!comparer) {\n\t\t\treturn shallowDiffers(this.props, nextProps);\n\t\t}\n\n\t\treturn !comparer(this.props, nextProps) || !updateRef;\n\t}\n\n\tfunction Memoed(props) {\n\t\tthis.shouldComponentUpdate = shouldUpdate;\n\t\treturn createElement(c, props);\n\t}\n\tMemoed.displayName = 'Memo(' + (c.displayName || c.name) + ')';\n\tMemoed.prototype.isReactComponent = true;\n\tMemoed._forwarded = true;\n\treturn Memoed;\n}\n","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nvar defaultOptions = {\n  bindI18n: 'languageChanged',\n  bindI18nStore: '',\n  transEmptyNodeValue: '',\n  transSupportBasicHtmlNodes: true,\n  transWrapTextNodes: '',\n  transKeepBasicHtmlNodesFor: ['br', 'strong', 'i', 'p'],\n  useSuspense: true\n};\nvar i18nInstance;\nexport var I18nContext = React.createContext();\nexport function setDefaults() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  defaultOptions = _objectSpread(_objectSpread({}, defaultOptions), options);\n}\nexport function getDefaults() {\n  return defaultOptions;\n}\nexport var ReportNamespaces = function () {\n  function ReportNamespaces() {\n    _classCallCheck(this, ReportNamespaces);\n\n    this.usedNamespaces = {};\n  }\n\n  _createClass(ReportNamespaces, [{\n    key: \"addUsedNamespaces\",\n    value: function addUsedNamespaces(namespaces) {\n      var _this = this;\n\n      namespaces.forEach(function (ns) {\n        if (!_this.usedNamespaces[ns]) _this.usedNamespaces[ns] = true;\n      });\n    }\n  }, {\n    key: \"getUsedNamespaces\",\n    value: function getUsedNamespaces() {\n      return Object.keys(this.usedNamespaces);\n    }\n  }]);\n\n  return ReportNamespaces;\n}();\nexport function setI18n(instance) {\n  i18nInstance = instance;\n}\nexport function getI18n() {\n  return i18nInstance;\n}\nexport var initReactI18next = {\n  type: '3rdParty',\n  init: function init(instance) {\n    setDefaults(instance.options.react);\n    setI18n(instance);\n  }\n};\nexport function composeInitialProps(ForComponent) {\n  return function (ctx) {\n    return new Promise(function (resolve) {\n      var i18nInitialProps = getInitialProps();\n\n      if (ForComponent.getInitialProps) {\n        ForComponent.getInitialProps(ctx).then(function (componentsInitialProps) {\n          resolve(_objectSpread(_objectSpread({}, componentsInitialProps), i18nInitialProps));\n        });\n      } else {\n        resolve(i18nInitialProps);\n      }\n    });\n  };\n}\nexport function getInitialProps() {\n  var i18n = getI18n();\n  var namespaces = i18n.reportNamespaces ? i18n.reportNamespaces.getUsedNamespaces() : [];\n  var ret = {};\n  var initialI18nStore = {};\n  i18n.languages.forEach(function (l) {\n    initialI18nStore[l] = {};\n    namespaces.forEach(function (ns) {\n      initialI18nStore[l][ns] = i18n.getResourceBundle(l, ns) || {};\n    });\n  });\n  ret.initialI18nStore = initialI18nStore;\n  ret.initialLanguage = i18n.language;\n  return ret;\n}","export function warn() {\n  if (console && console.warn) {\n    var _console;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (typeof args[0] === 'string') args[0] = \"react-i18next:: \".concat(args[0]);\n\n    (_console = console).warn.apply(_console, args);\n  }\n}\nvar alreadyWarned = {};\nexport function warnOnce() {\n  for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    args[_key2] = arguments[_key2];\n  }\n\n  if (typeof args[0] === 'string' && alreadyWarned[args[0]]) return;\n  if (typeof args[0] === 'string') alreadyWarned[args[0]] = new Date();\n  warn.apply(void 0, args);\n}\nexport function loadNamespaces(i18n, ns, cb) {\n  i18n.loadNamespaces(ns, function () {\n    if (i18n.isInitialized) {\n      cb();\n    } else {\n      var initialized = function initialized() {\n        setTimeout(function () {\n          i18n.off('initialized', initialized);\n        }, 0);\n        cb();\n      };\n\n      i18n.on('initialized', initialized);\n    }\n  });\n}\nexport function hasLoadedNamespace(ns, i18n) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  if (!i18n.languages || !i18n.languages.length) {\n    warnOnce('i18n.languages were undefined or empty', i18n.languages);\n    return true;\n  }\n\n  var lng = i18n.languages[0];\n  var fallbackLng = i18n.options ? i18n.options.fallbackLng : false;\n  var lastLng = i18n.languages[i18n.languages.length - 1];\n  if (lng.toLowerCase() === 'cimode') return true;\n\n  var loadNotPending = function loadNotPending(l, n) {\n    var loadState = i18n.services.backendConnector.state[\"\".concat(l, \"|\").concat(n)];\n    return loadState === -1 || loadState === 2;\n  };\n\n  if (options.bindI18n && options.bindI18n.indexOf('languageChanging') > -1 && i18n.services.backendConnector.backend && i18n.isLanguageChangingTo && !loadNotPending(i18n.isLanguageChangingTo, ns)) return false;\n  if (i18n.hasResourceBundle(lng, ns)) return true;\n  if (!i18n.services.backendConnector.backend) return true;\n  if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns))) return true;\n  return false;\n}\nexport function getDisplayName(Component) {\n  return Component.displayName || Component.name || (typeof Component === 'string' && Component.length > 0 ? Component : 'Unknown');\n}","import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useState, useEffect, useContext, useRef } from 'react';\nimport { getI18n, getDefaults, ReportNamespaces, I18nContext } from './context';\nimport { warnOnce, loadNamespaces, hasLoadedNamespace } from './utils';\nexport function useTranslation(ns) {\n  var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var i18nFromProps = props.i18n;\n\n  var _ref = useContext(I18nContext) || {},\n      i18nFromContext = _ref.i18n,\n      defaultNSFromContext = _ref.defaultNS;\n\n  var i18n = i18nFromProps || i18nFromContext || getI18n();\n  if (i18n && !i18n.reportNamespaces) i18n.reportNamespaces = new ReportNamespaces();\n\n  if (!i18n) {\n    warnOnce('You will need to pass in an i18next instance by using initReactI18next');\n\n    var notReadyT = function notReadyT(k) {\n      return Array.isArray(k) ? k[k.length - 1] : k;\n    };\n\n    var retNotReady = [notReadyT, {}, false];\n    retNotReady.t = notReadyT;\n    retNotReady.i18n = {};\n    retNotReady.ready = false;\n    return retNotReady;\n  }\n\n  if (i18n.options.react && i18n.options.react.wait !== undefined) warnOnce('It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.');\n\n  var i18nOptions = _objectSpread(_objectSpread(_objectSpread({}, getDefaults()), i18n.options.react), props);\n\n  var useSuspense = i18nOptions.useSuspense,\n      keyPrefix = i18nOptions.keyPrefix;\n  var namespaces = ns || defaultNSFromContext || i18n.options && i18n.options.defaultNS;\n  namespaces = typeof namespaces === 'string' ? [namespaces] : namespaces || ['translation'];\n  if (i18n.reportNamespaces.addUsedNamespaces) i18n.reportNamespaces.addUsedNamespaces(namespaces);\n  var ready = (i18n.isInitialized || i18n.initializedStoreOnce) && namespaces.every(function (n) {\n    return hasLoadedNamespace(n, i18n, i18nOptions);\n  });\n\n  function getT() {\n    return i18n.getFixedT(null, i18nOptions.nsMode === 'fallback' ? namespaces : namespaces[0], keyPrefix);\n  }\n\n  var _useState = useState(getT),\n      _useState2 = _slicedToArray(_useState, 2),\n      t = _useState2[0],\n      setT = _useState2[1];\n\n  var isMounted = useRef(true);\n  useEffect(function () {\n    var bindI18n = i18nOptions.bindI18n,\n        bindI18nStore = i18nOptions.bindI18nStore;\n    isMounted.current = true;\n\n    if (!ready && !useSuspense) {\n      loadNamespaces(i18n, namespaces, function () {\n        if (isMounted.current) setT(getT);\n      });\n    }\n\n    function boundReset() {\n      if (isMounted.current) setT(getT);\n    }\n\n    if (bindI18n && i18n) i18n.on(bindI18n, boundReset);\n    if (bindI18nStore && i18n) i18n.store.on(bindI18nStore, boundReset);\n    return function () {\n      isMounted.current = false;\n      if (bindI18n && i18n) bindI18n.split(' ').forEach(function (e) {\n        return i18n.off(e, boundReset);\n      });\n      if (bindI18nStore && i18n) bindI18nStore.split(' ').forEach(function (e) {\n        return i18n.store.off(e, boundReset);\n      });\n    };\n  }, [i18n, namespaces.join()]);\n  var isInitial = useRef(true);\n  useEffect(function () {\n    if (isMounted.current && !isInitial.current) {\n      setT(getT);\n    }\n\n    isInitial.current = false;\n  }, [i18n]);\n  var ret = [t, i18n, ready];\n  ret.t = t;\n  ret.i18n = i18n;\n  ret.ready = ready;\n  if (ready) return ret;\n  if (!ready && !useSuspense) return ret;\n  throw new Promise(function (resolve) {\n    loadNamespaces(i18n, namespaces, function () {\n      resolve();\n    });\n  });\n}","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var objectWithoutPropertiesLoose = require(\"./objectWithoutPropertiesLoose.js\");\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutProperties;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"forwardedRef\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport { useTranslation } from './useTranslation';\nimport { getDisplayName } from './utils';\nexport function withTranslation(ns) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return function Extend(WrappedComponent) {\n    function I18nextWithTranslation(_ref) {\n      var forwardedRef = _ref.forwardedRef,\n          rest = _objectWithoutProperties(_ref, _excluded);\n\n      var _useTranslation = useTranslation(ns, rest),\n          _useTranslation2 = _slicedToArray(_useTranslation, 3),\n          t = _useTranslation2[0],\n          i18n = _useTranslation2[1],\n          ready = _useTranslation2[2];\n\n      var passDownProps = _objectSpread(_objectSpread({}, rest), {}, {\n        t: t,\n        i18n: i18n,\n        tReady: ready\n      });\n\n      if (options.withRef && forwardedRef) {\n        passDownProps.ref = forwardedRef;\n      } else if (!options.withRef && forwardedRef) {\n        passDownProps.forwardedRef = forwardedRef;\n      }\n\n      return React.createElement(WrappedComponent, passDownProps);\n    }\n\n    I18nextWithTranslation.displayName = \"withI18nextTranslation(\".concat(getDisplayName(WrappedComponent), \")\");\n    I18nextWithTranslation.WrappedComponent = WrappedComponent;\n\n    var forwardRef = function forwardRef(props, ref) {\n      return React.createElement(I18nextWithTranslation, Object.assign({}, props, {\n        forwardedRef: ref\n      }));\n    };\n\n    return options.withRef ? React.forwardRef(forwardRef) : I18nextWithTranslation;\n  };\n}","import { useTranslation } from \"react-i18next\";\n\n// Stateless utilities\n// Should be agnostic of other components of zusam if possible\n\nconst util = {\n  // check if the input is a valid URL\n  isValidUrl: url => {\n    try {\n      new URL(url);\n      return true;\n    } catch (_) {\n      return false;\n    }\n  },\n  limitLength: (string, size = 20) => {\n    return [\n      ...string.split('').slice(0, Math.floor(size/2)),\n      string.length > size ? '...' : '',\n      ...string.split('').slice(Math.floor(size/2)).slice(Math.floor(size/2) * -1)].join('')\n  },\n  escapeRegex: string => {\n    return string.replace(/[-/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n  },\n  getSubpath: () => new URL(document.baseURI).pathname.replace(/\\/$/, \"\"),\n  // toApp transforms an api url into an \"app\" url that the user can naviate to\n  toApp: url => {\n    if (!url || typeof url != \"string\") {\n      return \"\";\n    }\n    if (util.isValidUrl(url)) {\n      return url;\n    }\n    return location.origin + util.getSubpath() + url;\n  },\n  // genId starts with a letter to be DOM friendly\n  // seed can be used to order ids\n  // TODO improve using ideas from ai/nanoid\n  genId: seed => `z${seed || \"\"}-${Date.now().toString().slice(-5)}${Math.random().toString().slice(-5)}`,\n  // transform an id into int for the API (TODO: revisit this on 0.5)\n  id2Int: id => parseInt(id.replace(/[^\\d]/g,''), 10),\n  urlRegExp: /(\\([^()]*)?https?:\\/\\/[^[\\]\\n\\r ]*[-A-Za-z0-9+&@#/%=~_()|]/i,\n  getUrl: txt => {\n    if (!txt) {\n      return \"\";\n    }\n    let url = txt.match(util.urlRegExp);\n    if (url && url[0].startsWith(\"(\")) {\n      let link = url[0].match(/https?:\\/\\//i);\n      url[\"index\"] += link[\"index\"];\n      url[0] = url[0].slice(link[\"index\"]);\n      if (url[0].endsWith(\")\")) {\n        url[0] = url[0].slice(0, -1);\n      }\n    }\n    return url;\n  },\n  limitStrSize: (str, limit) => str.length > limit ? `${str.slice(0, limit-3)}...` : str,\n  // full datetime as a string adapted to the users timezone\n  humanFullDate: timestamp => {\n    if (!timestamp) {\n      return \"\";\n    }\n    let d = new Date(timestamp * 1000);\n    d = new Date(d.getTime() + d.getTimezoneOffset() * 60000 * -1);\n    return d.toISOString().replace(\"T\", \" \").replace(/\\..*$/, \"\");\n  },\n  // duration relative to event\n  humanTime: timestamp => {\n    const { t } = useTranslation();\n    if (!timestamp) {\n      return null;\n    }\n    const duration = Math.abs(Math.round((Date.now() / 1000 - timestamp) / 60));\n    if (duration < 1) {\n      return t(\"just_now\");\n    }\n    if (duration < 60) {\n      return t(\"ago\", { duration: `${duration  }mn` });\n    }\n    if (duration < 60 * 24) {\n      return t(\"ago\", { duration: `${Math.floor(duration / 60)  }h` });\n    }\n    return util.humanFullDate(timestamp).split(\" \")[0];\n  },\n  // get the id of an object from an url\n  getId: e => {\n    switch (typeof e) {\n      case \"object\":\n        return e ? e.id : null;\n      case \"string\":\n        return e\n          .split(\"/\")\n          .pop()\n          .replace(/\\?.*$/, \"\")\n          .replace(/\\.\\w+$/, \"\");\n      default:\n        console.error(e);\n        throw \"Could not extract id !\";\n    }\n  },\n  // get the url to a thubmnail\n  thumbnail: (id, width, height) =>\n    typeof(id) == \"string\" && !id.startsWith(\"z\")\n      ? util.toApp(`/api/images/thumbnail/${width}/${height}/${id}`)\n      : null,\n  // same as http.thumbnail but for a crop\n  crop: (id, width, height) =>\n    typeof(id) == \"string\" && !id.startsWith(\"z\")\n      ? util.toApp(`/api/images/crop/${width}/${height}/${id}`)\n      : null,\n  // default avatar in base64\n  defaultAvatar:\n    \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAABlBMVEUAAAD///+l2Z/dAAAAAnRSTlMA/iyWEiMAAAMJSURBVHja7ZtBjpwwEEWxmIhFFmiURZZEyi6HCLkZHCXr2eQKHIUjoEiRSGRRiWB6klaDU/hDF4z+W6LuNz3+ZRvbkCSEEEIIIYQQQgghhBBCCCGEEEIIITvwGfy+kxoTpNJigkw6TJBLjwkK8ZiglMFYUInAAqwQRKRBBR0q8FhXEKwVR0GLCvxCjeo6oyzkoIxnEvj5661acPO3yvFqpxdcV+Pj88VeNZ7cGB4ul1QFkv399KT4KBIpmGEwF4i9oL6DIN/3FzToL2ju8AvsBeE2aNFfQMFJBCkF0/R+bkHyCgSVuaDcVaC5zyvMBTkqyHYVaBZDKSpw5oJgLcMC5doXFBSoIMNutjcQBHJULmlhQYUKlmNQbs9kqGC5P2o3FqBBOVjMWkEOdcZQKam3dyqkkgP/g35zxmEpLhbjir0ZFz2tXHgbPR5deI+EMPKmig/hhU/fIkOYL4iYDbIyqpCXajp2Zy4yhNuxqUfbMCaEIraQZ9swJgQBQ0jBQr6eYXrzQrYIYdtC9uaFbDKayJajyTkL+VijyWA+mnBajGpDeFrMzAu5BNvwKoQBDaFHQ+jQEBo0hBoMYUBD8GgIHRpCi44mcAiJRQhoITvzQs63LGQxL2SOJnEhiHUI296bwNOixb1JYr5kz8yX7Odf6XDfBC9kd6yVzq+np69QIY/8AEJ45kt0T4hIM0VONm5CiLlVhLflS+CwdTGEVa2AnfOFTogaVAAfcg1QivpqzLFHD4LnrR0q8FAhqlux3PPUu0EFLSrooL6kLeaQwKMCTY4OfUjVoY+IOvTxSFiw81NtnbmgRwXeXDAg08IxBPIKBPX5BQ0FBxC0+wtSCg4gcBT853nruwiqfQXNHQT/LDiGD9Old6sEL2umn3MtqxDks9NotVbwfaG+FDfL6fznsjV32365cTXrtqoPdJKYrbmreIDvT42DCMYoIUEu4FvIKSpwgr6JvYEAfJm8QgUl+j58gb6Rn4Nvcv/p0jUmcODr8IQQQgghhBBCCCGEEEIIIYQQQgghs/wGp6uYgtiKODIAAAAASUVORK5CYII=\",\n  hash: str =>\n    str.split(\"\").reduce((a, c) => ((a << 5) - a + c.charCodeAt()) | 0),\n  colorHash: str =>\n    [\n      \"#000000\",\n      \"#333366\",\n      \"#333399\",\n      \"#3333CC\",\n      \"#339933\",\n      \"#339999\",\n      \"#33CC33\",\n      \"#33CC99\",\n      \"#663333\",\n      \"#663366\",\n      \"#666633\",\n      \"#666699\",\n      \"#66CC33\",\n      \"#66CCCC\",\n      \"#993333\",\n      \"#993366\",\n      \"#993399\",\n      \"#996633\",\n      \"#999966\",\n      \"#CC3333\",\n      \"#CC3366\",\n      \"#CC3399\",\n      \"#CC33CC\",\n      \"#CC6633\",\n      \"#CC9933\",\n      \"#CC99CC\",\n      \"#CCCC33\"\n    ][Math.abs(util.hash(str)) % 27],\n  backgroundHash: str => {\n    if (!str) {\n      return \"background-color: #aaa;\";\n    }\n    let c1 = util.colorHash(str);\n    let c2 = util.colorHash(\n      str\n        .split(\"\")\n        .reverse()\n        .join(\".\")\n    );\n    let deg = 45 * (Math.abs(util.hash(str)) % 4);\n    return (\n      `background-color:${c1};background-image:linear-gradient(${deg}deg, ${c2} 15%, transparent 15% 30%, ${c2} 30% 45%, transparent 45% 60%, ${c2} 60% 75%, transparent 75% 90%, ${c2} 90%);`\n    );\n  },\n  // Accepts a keydown event and checks if it's enter. Compatibility between browsers\n  // We do it the permissive way\n  is_it_enter: e => {\n    return e.keyCode == 13 || e.keyCode == 10 || e.key == \"Enter\" || e.key == \"\" || e.code == \"Enter\";\n  }\n};\nexport default util;\n","import alert from \"./alert.js\";\nimport storage from \"./storage.js\";\nimport util from \"./util.js\";\n\nconst http = {\n  sendFile: (formData, loadFn, progressFn = null, errorFn = null) => {\n    return storage\n      .get(\"apiKey\")\n      .then(apiKey => {\n        let xhr = new XMLHttpRequest();\n        xhr.open(\"POST\", `${document.baseURI}api/files`, true);\n        xhr.setRequestHeader(\"X-AUTH-TOKEN\", apiKey);\n        xhr.addEventListener(\"load\", e => {\n          if (e.target.status > 199 && e.target.status < 300) {\n            loadFn(JSON.parse(e.target.response));\n          } else if (errorFn) {\n              errorFn(e.target.statusText);\n            } else {\n              console.error(e.target.statusText);\n            }\n        });\n        if (progressFn) {\n          xhr.upload.onprogress = e =>\n            progressFn({ loaded: e.loaded, total: e.total });\n        }\n        if (errorFn) {\n          xhr.addEventListener(\"error\", e => errorFn(e));\n        }\n        xhr.send(formData);\n      })\n      .catch(error => alert.add(error, \"alert-danger\"));\n  },\n  get: (url, nocache = false) => {\n    return storage\n      .get(\"apiKey\")\n      .then(apiKey => {\n        url = util.toApp(url);\n        if (!url) {\n          return;\n        }\n        let h = {};\n        if (apiKey) {\n          h[\"X-AUTH-TOKEN\"] = apiKey;\n        }\n        if (nocache) {\n          h[\"X-NOCACHE\"] = \"nocache\";\n        }\n        return fetch(url, {\n          method: \"GET\",\n          headers: new Headers(h)\n        })\n          .then(res => res.ok && res.json())\n          .catch(err => console.warn(`ERROR for ${url}`, err));\n      })\n      .catch(error => alert.add(error, \"alert-danger\"));\n  },\n  post: (url, data, contentType = \"application/json\") =>\n    http.request(url, data, \"POST\", contentType),\n  put: (url, data, contentType = \"application/json\") =>\n    http.request(url, data, \"PUT\", contentType),\n  delete: (url, data, contentType = \"application/json\") =>\n    http.request(url, null, \"DELETE\", contentType),\n  request: (url, data, method, contentType = \"application/json\") => {\n    return storage\n      .get(\"apiKey\")\n      .then(apiKey => {\n        url = util.toApp(url);\n        if (!url) {\n          return;\n        }\n        let h = {};\n        if (apiKey) {\n          h[\"X-AUTH-TOKEN\"] = apiKey;\n        }\n        if (contentType) {\n          h[\"Content-type\"] = contentType;\n        }\n        let fetchOptions = {\n          method,\n          headers: new Headers(h)\n        };\n        if (data) {\n          fetchOptions.body =\n            typeof data == \"object\" && data.constructor.name == \"Object\"\n              ? JSON.stringify(data)\n              : data;\n        }\n        return fetch(url, fetchOptions)\n          .then(res => {\n            try {\n              if (method != \"DELETE\") {\n                return res.json();\n              }\n              return {};\n            } catch (exception) {\n              console.warn(exception.message);\n              return Promise.reject(exception.message);\n            }\n          })\n          .catch(err => console.warn(`ERROR for ${url}`, err));\n      })\n      .catch(error => alert.add(error, \"alert-danger\"));\n  }\n};\nexport default http;\n","import http from \"./http.js\";\n\nconst api = {\n  info: {},\n  update: () =>\n    http.get(\"/api/info\", true).then(r => {\n      if (!r) {\n        return;\n      }\n      api.info = Object.assign({}, r);\n      setTimeout(dispatchEvent(new CustomEvent(\"apiStateChange\")));\n      return r;\n    }),\n};\nexport default api;\n","import { createStoreon } from 'storeon';\n//import { crossTab } from '@storeon/crosstab';\n\nimport { meStore } from './me.js';\nimport { routerStore } from './router.js';\nimport { notificationsStore } from './notifications.js';\n\nconst store = createStoreon([meStore, routerStore, notificationsStore]);\nexport default store;\n","let createStoreon = modules => {\n  let events = {}\n  let state = {}\n\n  let store = {\n    dispatch (event, data) {\n      if (event !== '@dispatch') {\n        store.dispatch('@dispatch', [event, data, events[event]])\n      }\n\n      if (events[event]) {\n        let changes\n        events[event].forEach(i => {\n          let diff = events[event].includes(i) && i(state, data, store)\n          if (diff && typeof diff.then !== 'function') {\n            state = { ...state, ...diff }\n            changes = { ...changes, ...diff }\n          }\n        })\n        if (changes) store.dispatch('@changed', changes)\n      }\n    },\n\n    get: () => state,\n\n    on (event, cb) {\n      ;(events[event] || (events[event] = [])).push(cb)\n\n      return () => {\n        events[event] = events[event].filter(i => i !== cb)\n      }\n    }\n  }\n\n  modules.forEach(i => {\n    if (i) i(store)\n  })\n  store.dispatch('@init')\n\n  return store\n}\n\nexport { createStoreon }\n","//import { http } from \"/src/core\";\n\nexport const meStore = store => {\n  store.on('@init', () => ({me: {}}))\n\n  store.on('me/update', (state, me) => {\n    return {me};\n  })\n\n  //store.on('bookmark/add', (state, id) => {\n  //  if (!me.hasBookmark(id)) {\n  //    http.post(`/api/bookmarks/${id}`).then(user => {\n  //      store.dispatch('me/update', user);\n  //    });\n  //  }\n  //})\n\n  //store.on('bookmark/remove', (state, id) => {\n  //  if (me.hasBookmark(id)) {\n  //    http.delete(`/api/bookmarks/${id}`).then(user => {\n  //      store.dispatch('me/update', user);\n  //    });\n  //  }\n  //})\n}\n","export const routerStore = store => {\n  store.on('@init', () => ({\n    route: \"\",\n    id: \"\",\n    action: \"\",\n    backUrl: \"\",\n    entityType: \"\",\n    search: \"\",\n    entity: {},\n  }))\n\n  store.on('router/update', (_, newState) => {\n    return {\n      entity: newState.entity,\n      backUrl: newState.backUrl,\n    };\n  })\n}\n","import { http } from \"/src/core\";\n\nexport const notificationsStore = store => {\n  store.on('@init', () => ({notifications:[]}))\n\n  store.on('notifications/update', (state, notifications = []) => {\n    return {notifications};\n  })\n\n  store.on('notifications/remove', (state, notification) => {\n    http.delete(`/api/notifications/${notification.id}`);\n    return {\n      notifications: state.notifications.filter(n => n.id != notification.id)\n    };\n  })\n}\n","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? Object(arguments[i]) : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys.push.apply(ownKeys, Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import _typeof from \"@babel/runtime/helpers/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import _typeof from '@babel/runtime/helpers/esm/typeof';\nimport _objectSpread from '@babel/runtime/helpers/esm/objectSpread';\nimport _classCallCheck from '@babel/runtime/helpers/esm/classCallCheck';\nimport _createClass from '@babel/runtime/helpers/esm/createClass';\nimport _possibleConstructorReturn from '@babel/runtime/helpers/esm/possibleConstructorReturn';\nimport _getPrototypeOf from '@babel/runtime/helpers/esm/getPrototypeOf';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _inherits from '@babel/runtime/helpers/esm/inherits';\nimport _slicedToArray from '@babel/runtime/helpers/esm/slicedToArray';\n\nvar consoleLogger = {\n  type: 'logger',\n  log: function log(args) {\n    this.output('log', args);\n  },\n  warn: function warn(args) {\n    this.output('warn', args);\n  },\n  error: function error(args) {\n    this.output('error', args);\n  },\n  output: function output(type, args) {\n    if (console && console[type]) console[type].apply(console, args);\n  }\n};\n\nvar Logger = function () {\n  function Logger(concreteLogger) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Logger);\n\n    this.init(concreteLogger, options);\n  }\n\n  _createClass(Logger, [{\n    key: \"init\",\n    value: function init(concreteLogger) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      this.prefix = options.prefix || 'i18next:';\n      this.logger = concreteLogger || consoleLogger;\n      this.options = options;\n      this.debug = options.debug;\n    }\n  }, {\n    key: \"setDebug\",\n    value: function setDebug(bool) {\n      this.debug = bool;\n    }\n  }, {\n    key: \"log\",\n    value: function log() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return this.forward(args, 'log', '', true);\n    }\n  }, {\n    key: \"warn\",\n    value: function warn() {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return this.forward(args, 'warn', '', true);\n    }\n  }, {\n    key: \"error\",\n    value: function error() {\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      return this.forward(args, 'error', '');\n    }\n  }, {\n    key: \"deprecate\",\n    value: function deprecate() {\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n\n      return this.forward(args, 'warn', 'WARNING DEPRECATED: ', true);\n    }\n  }, {\n    key: \"forward\",\n    value: function forward(args, lvl, prefix, debugOnly) {\n      if (debugOnly && !this.debug) return null;\n      if (typeof args[0] === 'string') args[0] = \"\".concat(prefix).concat(this.prefix, \" \").concat(args[0]);\n      return this.logger[lvl](args);\n    }\n  }, {\n    key: \"create\",\n    value: function create(moduleName) {\n      return new Logger(this.logger, _objectSpread({}, {\n        prefix: \"\".concat(this.prefix, \":\").concat(moduleName, \":\")\n      }, this.options));\n    }\n  }]);\n\n  return Logger;\n}();\n\nvar baseLogger = new Logger();\n\nvar EventEmitter = function () {\n  function EventEmitter() {\n    _classCallCheck(this, EventEmitter);\n\n    this.observers = {};\n  }\n\n  _createClass(EventEmitter, [{\n    key: \"on\",\n    value: function on(events, listener) {\n      var _this = this;\n\n      events.split(' ').forEach(function (event) {\n        _this.observers[event] = _this.observers[event] || [];\n\n        _this.observers[event].push(listener);\n      });\n      return this;\n    }\n  }, {\n    key: \"off\",\n    value: function off(event, listener) {\n      if (!this.observers[event]) return;\n\n      if (!listener) {\n        delete this.observers[event];\n        return;\n      }\n\n      this.observers[event] = this.observers[event].filter(function (l) {\n        return l !== listener;\n      });\n    }\n  }, {\n    key: \"emit\",\n    value: function emit(event) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      if (this.observers[event]) {\n        var cloned = [].concat(this.observers[event]);\n        cloned.forEach(function (observer) {\n          observer.apply(void 0, args);\n        });\n      }\n\n      if (this.observers['*']) {\n        var _cloned = [].concat(this.observers['*']);\n\n        _cloned.forEach(function (observer) {\n          observer.apply(observer, [event].concat(args));\n        });\n      }\n    }\n  }]);\n\n  return EventEmitter;\n}();\n\nfunction defer() {\n  var res;\n  var rej;\n  var promise = new Promise(function (resolve, reject) {\n    res = resolve;\n    rej = reject;\n  });\n  promise.resolve = res;\n  promise.reject = rej;\n  return promise;\n}\nfunction makeString(object) {\n  if (object == null) return '';\n  return '' + object;\n}\nfunction copy(a, s, t) {\n  a.forEach(function (m) {\n    if (s[m]) t[m] = s[m];\n  });\n}\n\nfunction getLastOfPath(object, path, Empty) {\n  function cleanKey(key) {\n    return key && key.indexOf('###') > -1 ? key.replace(/###/g, '.') : key;\n  }\n\n  function canNotTraverseDeeper() {\n    return !object || typeof object === 'string';\n  }\n\n  var stack = typeof path !== 'string' ? [].concat(path) : path.split('.');\n\n  while (stack.length > 1) {\n    if (canNotTraverseDeeper()) return {};\n    var key = cleanKey(stack.shift());\n    if (!object[key] && Empty) object[key] = new Empty();\n\n    if (Object.prototype.hasOwnProperty.call(object, key)) {\n      object = object[key];\n    } else {\n      object = {};\n    }\n  }\n\n  if (canNotTraverseDeeper()) return {};\n  return {\n    obj: object,\n    k: cleanKey(stack.shift())\n  };\n}\n\nfunction setPath(object, path, newValue) {\n  var _getLastOfPath = getLastOfPath(object, path, Object),\n      obj = _getLastOfPath.obj,\n      k = _getLastOfPath.k;\n\n  obj[k] = newValue;\n}\nfunction pushPath(object, path, newValue, concat) {\n  var _getLastOfPath2 = getLastOfPath(object, path, Object),\n      obj = _getLastOfPath2.obj,\n      k = _getLastOfPath2.k;\n\n  obj[k] = obj[k] || [];\n  if (concat) obj[k] = obj[k].concat(newValue);\n  if (!concat) obj[k].push(newValue);\n}\nfunction getPath(object, path) {\n  var _getLastOfPath3 = getLastOfPath(object, path),\n      obj = _getLastOfPath3.obj,\n      k = _getLastOfPath3.k;\n\n  if (!obj) return undefined;\n  return obj[k];\n}\nfunction getPathWithDefaults(data, defaultData, key) {\n  var value = getPath(data, key);\n\n  if (value !== undefined) {\n    return value;\n  }\n\n  return getPath(defaultData, key);\n}\nfunction deepExtend(target, source, overwrite) {\n  for (var prop in source) {\n    if (prop !== '__proto__' && prop !== 'constructor') {\n      if (prop in target) {\n        if (typeof target[prop] === 'string' || target[prop] instanceof String || typeof source[prop] === 'string' || source[prop] instanceof String) {\n          if (overwrite) target[prop] = source[prop];\n        } else {\n          deepExtend(target[prop], source[prop], overwrite);\n        }\n      } else {\n        target[prop] = source[prop];\n      }\n    }\n  }\n\n  return target;\n}\nfunction regexEscape(str) {\n  return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n}\nvar _entityMap = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;',\n  '/': '&#x2F;'\n};\nfunction escape(data) {\n  if (typeof data === 'string') {\n    return data.replace(/[&<>\"'\\/]/g, function (s) {\n      return _entityMap[s];\n    });\n  }\n\n  return data;\n}\nvar isIE10 = typeof window !== 'undefined' && window.navigator && window.navigator.userAgent && window.navigator.userAgent.indexOf('MSIE') > -1;\nvar chars = [' ', ',', '?', '!', ';'];\nfunction looksLikeObjectPath(key, nsSeparator, keySeparator) {\n  nsSeparator = nsSeparator || '';\n  keySeparator = keySeparator || '';\n  var possibleChars = chars.filter(function (c) {\n    return nsSeparator.indexOf(c) < 0 && keySeparator.indexOf(c) < 0;\n  });\n  if (possibleChars.length === 0) return true;\n  var r = new RegExp(\"(\".concat(possibleChars.map(function (c) {\n    return c === '?' ? '\\\\?' : c;\n  }).join('|'), \")\"));\n  var matched = !r.test(key);\n\n  if (!matched) {\n    var ki = key.indexOf(keySeparator);\n\n    if (ki > 0 && !r.test(key.substring(0, ki))) {\n      matched = true;\n    }\n  }\n\n  return matched;\n}\n\nfunction deepFind(obj, path) {\n  var keySeparator = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '.';\n  if (!obj) return undefined;\n  if (obj[path]) return obj[path];\n  var paths = path.split(keySeparator);\n  var current = obj;\n\n  for (var i = 0; i < paths.length; ++i) {\n    if (!current) return undefined;\n\n    if (typeof current[paths[i]] === 'string' && i + 1 < paths.length) {\n      return undefined;\n    }\n\n    if (current[paths[i]] === undefined) {\n      var j = 2;\n      var p = paths.slice(i, i + j).join(keySeparator);\n      var mix = current[p];\n\n      while (mix === undefined && paths.length > i + j) {\n        j++;\n        p = paths.slice(i, i + j).join(keySeparator);\n        mix = current[p];\n      }\n\n      if (mix === undefined) return undefined;\n      if (typeof mix === 'string') return mix;\n      if (p && typeof mix[p] === 'string') return mix[p];\n      var joinedPath = paths.slice(i + j).join(keySeparator);\n      if (joinedPath) return deepFind(mix, joinedPath, keySeparator);\n      return undefined;\n    }\n\n    current = current[paths[i]];\n  }\n\n  return current;\n}\n\nvar ResourceStore = function (_EventEmitter) {\n  _inherits(ResourceStore, _EventEmitter);\n\n  function ResourceStore(data) {\n    var _this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      ns: ['translation'],\n      defaultNS: 'translation'\n    };\n\n    _classCallCheck(this, ResourceStore);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ResourceStore).call(this));\n\n    if (isIE10) {\n      EventEmitter.call(_assertThisInitialized(_this));\n    }\n\n    _this.data = data || {};\n    _this.options = options;\n\n    if (_this.options.keySeparator === undefined) {\n      _this.options.keySeparator = '.';\n    }\n\n    if (_this.options.ignoreJSONStructure === undefined) {\n      _this.options.ignoreJSONStructure = true;\n    }\n\n    return _this;\n  }\n\n  _createClass(ResourceStore, [{\n    key: \"addNamespaces\",\n    value: function addNamespaces(ns) {\n      if (this.options.ns.indexOf(ns) < 0) {\n        this.options.ns.push(ns);\n      }\n    }\n  }, {\n    key: \"removeNamespaces\",\n    value: function removeNamespaces(ns) {\n      var index = this.options.ns.indexOf(ns);\n\n      if (index > -1) {\n        this.options.ns.splice(index, 1);\n      }\n    }\n  }, {\n    key: \"getResource\",\n    value: function getResource(lng, ns, key) {\n      var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n      var keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n      var ignoreJSONStructure = options.ignoreJSONStructure !== undefined ? options.ignoreJSONStructure : this.options.ignoreJSONStructure;\n      var path = [lng, ns];\n      if (key && typeof key !== 'string') path = path.concat(key);\n      if (key && typeof key === 'string') path = path.concat(keySeparator ? key.split(keySeparator) : key);\n\n      if (lng.indexOf('.') > -1) {\n        path = lng.split('.');\n      }\n\n      var result = getPath(this.data, path);\n      if (result || !ignoreJSONStructure || typeof key !== 'string') return result;\n      return deepFind(this.data && this.data[lng] && this.data[lng][ns], key, keySeparator);\n    }\n  }, {\n    key: \"addResource\",\n    value: function addResource(lng, ns, key, value) {\n      var options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {\n        silent: false\n      };\n      var keySeparator = this.options.keySeparator;\n      if (keySeparator === undefined) keySeparator = '.';\n      var path = [lng, ns];\n      if (key) path = path.concat(keySeparator ? key.split(keySeparator) : key);\n\n      if (lng.indexOf('.') > -1) {\n        path = lng.split('.');\n        value = ns;\n        ns = path[1];\n      }\n\n      this.addNamespaces(ns);\n      setPath(this.data, path, value);\n      if (!options.silent) this.emit('added', lng, ns, key, value);\n    }\n  }, {\n    key: \"addResources\",\n    value: function addResources(lng, ns, resources) {\n      var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {\n        silent: false\n      };\n\n      for (var m in resources) {\n        if (typeof resources[m] === 'string' || Object.prototype.toString.apply(resources[m]) === '[object Array]') this.addResource(lng, ns, m, resources[m], {\n          silent: true\n        });\n      }\n\n      if (!options.silent) this.emit('added', lng, ns, resources);\n    }\n  }, {\n    key: \"addResourceBundle\",\n    value: function addResourceBundle(lng, ns, resources, deep, overwrite) {\n      var options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {\n        silent: false\n      };\n      var path = [lng, ns];\n\n      if (lng.indexOf('.') > -1) {\n        path = lng.split('.');\n        deep = resources;\n        resources = ns;\n        ns = path[1];\n      }\n\n      this.addNamespaces(ns);\n      var pack = getPath(this.data, path) || {};\n\n      if (deep) {\n        deepExtend(pack, resources, overwrite);\n      } else {\n        pack = _objectSpread({}, pack, resources);\n      }\n\n      setPath(this.data, path, pack);\n      if (!options.silent) this.emit('added', lng, ns, resources);\n    }\n  }, {\n    key: \"removeResourceBundle\",\n    value: function removeResourceBundle(lng, ns) {\n      if (this.hasResourceBundle(lng, ns)) {\n        delete this.data[lng][ns];\n      }\n\n      this.removeNamespaces(ns);\n      this.emit('removed', lng, ns);\n    }\n  }, {\n    key: \"hasResourceBundle\",\n    value: function hasResourceBundle(lng, ns) {\n      return this.getResource(lng, ns) !== undefined;\n    }\n  }, {\n    key: \"getResourceBundle\",\n    value: function getResourceBundle(lng, ns) {\n      if (!ns) ns = this.options.defaultNS;\n      if (this.options.compatibilityAPI === 'v1') return _objectSpread({}, {}, this.getResource(lng, ns));\n      return this.getResource(lng, ns);\n    }\n  }, {\n    key: \"getDataByLanguage\",\n    value: function getDataByLanguage(lng) {\n      return this.data[lng];\n    }\n  }, {\n    key: \"hasLanguageSomeTranslations\",\n    value: function hasLanguageSomeTranslations(lng) {\n      var data = this.getDataByLanguage(lng);\n      var n = data && Object.keys(data) || [];\n      return !!n.find(function (v) {\n        return data[v] && Object.keys(data[v]).length > 0;\n      });\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      return this.data;\n    }\n  }]);\n\n  return ResourceStore;\n}(EventEmitter);\n\nvar postProcessor = {\n  processors: {},\n  addPostProcessor: function addPostProcessor(module) {\n    this.processors[module.name] = module;\n  },\n  handle: function handle(processors, value, key, options, translator) {\n    var _this = this;\n\n    processors.forEach(function (processor) {\n      if (_this.processors[processor]) value = _this.processors[processor].process(value, key, options, translator);\n    });\n    return value;\n  }\n};\n\nvar checkedLoadedFor = {};\n\nvar Translator = function (_EventEmitter) {\n  _inherits(Translator, _EventEmitter);\n\n  function Translator(services) {\n    var _this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Translator);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Translator).call(this));\n\n    if (isIE10) {\n      EventEmitter.call(_assertThisInitialized(_this));\n    }\n\n    copy(['resourceStore', 'languageUtils', 'pluralResolver', 'interpolator', 'backendConnector', 'i18nFormat', 'utils'], services, _assertThisInitialized(_this));\n    _this.options = options;\n\n    if (_this.options.keySeparator === undefined) {\n      _this.options.keySeparator = '.';\n    }\n\n    _this.logger = baseLogger.create('translator');\n    return _this;\n  }\n\n  _createClass(Translator, [{\n    key: \"changeLanguage\",\n    value: function changeLanguage(lng) {\n      if (lng) this.language = lng;\n    }\n  }, {\n    key: \"exists\",\n    value: function exists(key) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        interpolation: {}\n      };\n\n      if (key === undefined || key === null) {\n        return false;\n      }\n\n      var resolved = this.resolve(key, options);\n      return resolved && resolved.res !== undefined;\n    }\n  }, {\n    key: \"extractFromKey\",\n    value: function extractFromKey(key, options) {\n      var nsSeparator = options.nsSeparator !== undefined ? options.nsSeparator : this.options.nsSeparator;\n      if (nsSeparator === undefined) nsSeparator = ':';\n      var keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n      var namespaces = options.ns || this.options.defaultNS;\n      var wouldCheckForNsInKey = nsSeparator && key.indexOf(nsSeparator) > -1;\n      var seemsNaturalLanguage = !this.options.userDefinedKeySeparator && !options.keySeparator && !this.options.userDefinedNsSeparator && !options.nsSeparator && !looksLikeObjectPath(key, nsSeparator, keySeparator);\n\n      if (wouldCheckForNsInKey && !seemsNaturalLanguage) {\n        var m = key.match(this.interpolator.nestingRegexp);\n\n        if (m && m.length > 0) {\n          return {\n            key: key,\n            namespaces: namespaces\n          };\n        }\n\n        var parts = key.split(nsSeparator);\n        if (nsSeparator !== keySeparator || nsSeparator === keySeparator && this.options.ns.indexOf(parts[0]) > -1) namespaces = parts.shift();\n        key = parts.join(keySeparator);\n      }\n\n      if (typeof namespaces === 'string') namespaces = [namespaces];\n      return {\n        key: key,\n        namespaces: namespaces\n      };\n    }\n  }, {\n    key: \"translate\",\n    value: function translate(keys, options, lastKey) {\n      var _this2 = this;\n\n      if (_typeof(options) !== 'object' && this.options.overloadTranslationOptionHandler) {\n        options = this.options.overloadTranslationOptionHandler(arguments);\n      }\n\n      if (!options) options = {};\n      if (keys === undefined || keys === null) return '';\n      if (!Array.isArray(keys)) keys = [String(keys)];\n      var keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n\n      var _this$extractFromKey = this.extractFromKey(keys[keys.length - 1], options),\n          key = _this$extractFromKey.key,\n          namespaces = _this$extractFromKey.namespaces;\n\n      var namespace = namespaces[namespaces.length - 1];\n      var lng = options.lng || this.language;\n      var appendNamespaceToCIMode = options.appendNamespaceToCIMode || this.options.appendNamespaceToCIMode;\n\n      if (lng && lng.toLowerCase() === 'cimode') {\n        if (appendNamespaceToCIMode) {\n          var nsSeparator = options.nsSeparator || this.options.nsSeparator;\n          return namespace + nsSeparator + key;\n        }\n\n        return key;\n      }\n\n      var resolved = this.resolve(keys, options);\n      var res = resolved && resolved.res;\n      var resUsedKey = resolved && resolved.usedKey || key;\n      var resExactUsedKey = resolved && resolved.exactUsedKey || key;\n      var resType = Object.prototype.toString.apply(res);\n      var noObject = ['[object Number]', '[object Function]', '[object RegExp]'];\n      var joinArrays = options.joinArrays !== undefined ? options.joinArrays : this.options.joinArrays;\n      var handleAsObjectInI18nFormat = !this.i18nFormat || this.i18nFormat.handleAsObject;\n      var handleAsObject = typeof res !== 'string' && typeof res !== 'boolean' && typeof res !== 'number';\n\n      if (handleAsObjectInI18nFormat && res && handleAsObject && noObject.indexOf(resType) < 0 && !(typeof joinArrays === 'string' && resType === '[object Array]')) {\n        if (!options.returnObjects && !this.options.returnObjects) {\n          if (!this.options.returnedObjectHandler) {\n            this.logger.warn('accessing an object - but returnObjects options is not enabled!');\n          }\n\n          return this.options.returnedObjectHandler ? this.options.returnedObjectHandler(resUsedKey, res, _objectSpread({}, options, {\n            ns: namespaces\n          })) : \"key '\".concat(key, \" (\").concat(this.language, \")' returned an object instead of string.\");\n        }\n\n        if (keySeparator) {\n          var resTypeIsArray = resType === '[object Array]';\n          var copy = resTypeIsArray ? [] : {};\n          var newKeyToUse = resTypeIsArray ? resExactUsedKey : resUsedKey;\n\n          for (var m in res) {\n            if (Object.prototype.hasOwnProperty.call(res, m)) {\n              var deepKey = \"\".concat(newKeyToUse).concat(keySeparator).concat(m);\n              copy[m] = this.translate(deepKey, _objectSpread({}, options, {\n                joinArrays: false,\n                ns: namespaces\n              }));\n              if (copy[m] === deepKey) copy[m] = res[m];\n            }\n          }\n\n          res = copy;\n        }\n      } else if (handleAsObjectInI18nFormat && typeof joinArrays === 'string' && resType === '[object Array]') {\n        res = res.join(joinArrays);\n        if (res) res = this.extendTranslation(res, keys, options, lastKey);\n      } else {\n        var usedDefault = false;\n        var usedKey = false;\n        var needsPluralHandling = options.count !== undefined && typeof options.count !== 'string';\n        var hasDefaultValue = Translator.hasDefaultValue(options);\n        var defaultValueSuffix = needsPluralHandling ? this.pluralResolver.getSuffix(lng, options.count, options) : '';\n        var defaultValue = options[\"defaultValue\".concat(defaultValueSuffix)] || options.defaultValue;\n\n        if (!this.isValidLookup(res) && hasDefaultValue) {\n          usedDefault = true;\n          res = defaultValue;\n        }\n\n        if (!this.isValidLookup(res)) {\n          usedKey = true;\n          res = key;\n        }\n\n        var missingKeyNoValueFallbackToKey = options.missingKeyNoValueFallbackToKey || this.options.missingKeyNoValueFallbackToKey;\n        var resForMissing = missingKeyNoValueFallbackToKey && usedKey ? undefined : res;\n        var updateMissing = hasDefaultValue && defaultValue !== res && this.options.updateMissing;\n\n        if (usedKey || usedDefault || updateMissing) {\n          this.logger.log(updateMissing ? 'updateKey' : 'missingKey', lng, namespace, key, updateMissing ? defaultValue : res);\n\n          if (keySeparator) {\n            var fk = this.resolve(key, _objectSpread({}, options, {\n              keySeparator: false\n            }));\n            if (fk && fk.res) this.logger.warn('Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.');\n          }\n\n          var lngs = [];\n          var fallbackLngs = this.languageUtils.getFallbackCodes(this.options.fallbackLng, options.lng || this.language);\n\n          if (this.options.saveMissingTo === 'fallback' && fallbackLngs && fallbackLngs[0]) {\n            for (var i = 0; i < fallbackLngs.length; i++) {\n              lngs.push(fallbackLngs[i]);\n            }\n          } else if (this.options.saveMissingTo === 'all') {\n            lngs = this.languageUtils.toResolveHierarchy(options.lng || this.language);\n          } else {\n            lngs.push(options.lng || this.language);\n          }\n\n          var send = function send(l, k, fallbackValue) {\n            if (_this2.options.missingKeyHandler) {\n              _this2.options.missingKeyHandler(l, namespace, k, updateMissing ? fallbackValue : resForMissing, updateMissing, options);\n            } else if (_this2.backendConnector && _this2.backendConnector.saveMissing) {\n              _this2.backendConnector.saveMissing(l, namespace, k, updateMissing ? fallbackValue : resForMissing, updateMissing, options);\n            }\n\n            _this2.emit('missingKey', l, namespace, k, res);\n          };\n\n          if (this.options.saveMissing) {\n            if (this.options.saveMissingPlurals && needsPluralHandling) {\n              lngs.forEach(function (language) {\n                _this2.pluralResolver.getSuffixes(language).forEach(function (suffix) {\n                  send([language], key + suffix, options[\"defaultValue\".concat(suffix)] || defaultValue);\n                });\n              });\n            } else {\n              send(lngs, key, defaultValue);\n            }\n          }\n        }\n\n        res = this.extendTranslation(res, keys, options, resolved, lastKey);\n        if (usedKey && res === key && this.options.appendNamespaceToMissingKey) res = \"\".concat(namespace, \":\").concat(key);\n        if ((usedKey || usedDefault) && this.options.parseMissingKeyHandler) res = this.options.parseMissingKeyHandler(res);\n      }\n\n      return res;\n    }\n  }, {\n    key: \"extendTranslation\",\n    value: function extendTranslation(res, key, options, resolved, lastKey) {\n      var _this3 = this;\n\n      if (this.i18nFormat && this.i18nFormat.parse) {\n        res = this.i18nFormat.parse(res, options, resolved.usedLng, resolved.usedNS, resolved.usedKey, {\n          resolved: resolved\n        });\n      } else if (!options.skipInterpolation) {\n        if (options.interpolation) this.interpolator.init(_objectSpread({}, options, {\n          interpolation: _objectSpread({}, this.options.interpolation, options.interpolation)\n        }));\n        var skipOnVariables = options.interpolation && options.interpolation.skipOnVariables || this.options.interpolation.skipOnVariables;\n        var nestBef;\n\n        if (skipOnVariables) {\n          var nb = res.match(this.interpolator.nestingRegexp);\n          nestBef = nb && nb.length;\n        }\n\n        var data = options.replace && typeof options.replace !== 'string' ? options.replace : options;\n        if (this.options.interpolation.defaultVariables) data = _objectSpread({}, this.options.interpolation.defaultVariables, data);\n        res = this.interpolator.interpolate(res, data, options.lng || this.language, options);\n\n        if (skipOnVariables) {\n          var na = res.match(this.interpolator.nestingRegexp);\n          var nestAft = na && na.length;\n          if (nestBef < nestAft) options.nest = false;\n        }\n\n        if (options.nest !== false) res = this.interpolator.nest(res, function () {\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n\n          if (lastKey && lastKey[0] === args[0] && !options.context) {\n            _this3.logger.warn(\"It seems you are nesting recursively key: \".concat(args[0], \" in key: \").concat(key[0]));\n\n            return null;\n          }\n\n          return _this3.translate.apply(_this3, args.concat([key]));\n        }, options);\n        if (options.interpolation) this.interpolator.reset();\n      }\n\n      var postProcess = options.postProcess || this.options.postProcess;\n      var postProcessorNames = typeof postProcess === 'string' ? [postProcess] : postProcess;\n\n      if (res !== undefined && res !== null && postProcessorNames && postProcessorNames.length && options.applyPostProcessor !== false) {\n        res = postProcessor.handle(postProcessorNames, res, key, this.options && this.options.postProcessPassResolved ? _objectSpread({\n          i18nResolved: resolved\n        }, options) : options, this);\n      }\n\n      return res;\n    }\n  }, {\n    key: \"resolve\",\n    value: function resolve(keys) {\n      var _this4 = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var found;\n      var usedKey;\n      var exactUsedKey;\n      var usedLng;\n      var usedNS;\n      if (typeof keys === 'string') keys = [keys];\n      keys.forEach(function (k) {\n        if (_this4.isValidLookup(found)) return;\n\n        var extracted = _this4.extractFromKey(k, options);\n\n        var key = extracted.key;\n        usedKey = key;\n        var namespaces = extracted.namespaces;\n        if (_this4.options.fallbackNS) namespaces = namespaces.concat(_this4.options.fallbackNS);\n        var needsPluralHandling = options.count !== undefined && typeof options.count !== 'string';\n        var needsContextHandling = options.context !== undefined && (typeof options.context === 'string' || typeof options.context === 'number') && options.context !== '';\n        var codes = options.lngs ? options.lngs : _this4.languageUtils.toResolveHierarchy(options.lng || _this4.language, options.fallbackLng);\n        namespaces.forEach(function (ns) {\n          if (_this4.isValidLookup(found)) return;\n          usedNS = ns;\n\n          if (!checkedLoadedFor[\"\".concat(codes[0], \"-\").concat(ns)] && _this4.utils && _this4.utils.hasLoadedNamespace && !_this4.utils.hasLoadedNamespace(usedNS)) {\n            checkedLoadedFor[\"\".concat(codes[0], \"-\").concat(ns)] = true;\n\n            _this4.logger.warn(\"key \\\"\".concat(usedKey, \"\\\" for languages \\\"\").concat(codes.join(', '), \"\\\" won't get resolved as namespace \\\"\").concat(usedNS, \"\\\" was not yet loaded\"), 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');\n          }\n\n          codes.forEach(function (code) {\n            if (_this4.isValidLookup(found)) return;\n            usedLng = code;\n            var finalKey = key;\n            var finalKeys = [finalKey];\n\n            if (_this4.i18nFormat && _this4.i18nFormat.addLookupKeys) {\n              _this4.i18nFormat.addLookupKeys(finalKeys, key, code, ns, options);\n            } else {\n              var pluralSuffix;\n              if (needsPluralHandling) pluralSuffix = _this4.pluralResolver.getSuffix(code, options.count, options);\n              if (needsPluralHandling && needsContextHandling) finalKeys.push(finalKey + pluralSuffix);\n              if (needsContextHandling) finalKeys.push(finalKey += \"\".concat(_this4.options.contextSeparator).concat(options.context));\n              if (needsPluralHandling) finalKeys.push(finalKey += pluralSuffix);\n            }\n\n            var possibleKey;\n\n            while (possibleKey = finalKeys.pop()) {\n              if (!_this4.isValidLookup(found)) {\n                exactUsedKey = possibleKey;\n                found = _this4.getResource(code, ns, possibleKey, options);\n              }\n            }\n          });\n        });\n      });\n      return {\n        res: found,\n        usedKey: usedKey,\n        exactUsedKey: exactUsedKey,\n        usedLng: usedLng,\n        usedNS: usedNS\n      };\n    }\n  }, {\n    key: \"isValidLookup\",\n    value: function isValidLookup(res) {\n      return res !== undefined && !(!this.options.returnNull && res === null) && !(!this.options.returnEmptyString && res === '');\n    }\n  }, {\n    key: \"getResource\",\n    value: function getResource(code, ns, key) {\n      var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n      if (this.i18nFormat && this.i18nFormat.getResource) return this.i18nFormat.getResource(code, ns, key, options);\n      return this.resourceStore.getResource(code, ns, key, options);\n    }\n  }], [{\n    key: \"hasDefaultValue\",\n    value: function hasDefaultValue(options) {\n      var prefix = 'defaultValue';\n\n      for (var option in options) {\n        if (Object.prototype.hasOwnProperty.call(options, option) && prefix === option.substring(0, prefix.length) && undefined !== options[option]) {\n          return true;\n        }\n      }\n\n      return false;\n    }\n  }]);\n\n  return Translator;\n}(EventEmitter);\n\nfunction capitalize(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\nvar LanguageUtil = function () {\n  function LanguageUtil(options) {\n    _classCallCheck(this, LanguageUtil);\n\n    this.options = options;\n    this.supportedLngs = this.options.supportedLngs || false;\n    this.logger = baseLogger.create('languageUtils');\n  }\n\n  _createClass(LanguageUtil, [{\n    key: \"getScriptPartFromCode\",\n    value: function getScriptPartFromCode(code) {\n      if (!code || code.indexOf('-') < 0) return null;\n      var p = code.split('-');\n      if (p.length === 2) return null;\n      p.pop();\n      if (p[p.length - 1].toLowerCase() === 'x') return null;\n      return this.formatLanguageCode(p.join('-'));\n    }\n  }, {\n    key: \"getLanguagePartFromCode\",\n    value: function getLanguagePartFromCode(code) {\n      if (!code || code.indexOf('-') < 0) return code;\n      var p = code.split('-');\n      return this.formatLanguageCode(p[0]);\n    }\n  }, {\n    key: \"formatLanguageCode\",\n    value: function formatLanguageCode(code) {\n      if (typeof code === 'string' && code.indexOf('-') > -1) {\n        var specialCases = ['hans', 'hant', 'latn', 'cyrl', 'cans', 'mong', 'arab'];\n        var p = code.split('-');\n\n        if (this.options.lowerCaseLng) {\n          p = p.map(function (part) {\n            return part.toLowerCase();\n          });\n        } else if (p.length === 2) {\n          p[0] = p[0].toLowerCase();\n          p[1] = p[1].toUpperCase();\n          if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());\n        } else if (p.length === 3) {\n          p[0] = p[0].toLowerCase();\n          if (p[1].length === 2) p[1] = p[1].toUpperCase();\n          if (p[0] !== 'sgn' && p[2].length === 2) p[2] = p[2].toUpperCase();\n          if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());\n          if (specialCases.indexOf(p[2].toLowerCase()) > -1) p[2] = capitalize(p[2].toLowerCase());\n        }\n\n        return p.join('-');\n      }\n\n      return this.options.cleanCode || this.options.lowerCaseLng ? code.toLowerCase() : code;\n    }\n  }, {\n    key: \"isSupportedCode\",\n    value: function isSupportedCode(code) {\n      if (this.options.load === 'languageOnly' || this.options.nonExplicitSupportedLngs) {\n        code = this.getLanguagePartFromCode(code);\n      }\n\n      return !this.supportedLngs || !this.supportedLngs.length || this.supportedLngs.indexOf(code) > -1;\n    }\n  }, {\n    key: \"getBestMatchFromCodes\",\n    value: function getBestMatchFromCodes(codes) {\n      var _this = this;\n\n      if (!codes) return null;\n      var found;\n      codes.forEach(function (code) {\n        if (found) return;\n\n        var cleanedLng = _this.formatLanguageCode(code);\n\n        if (!_this.options.supportedLngs || _this.isSupportedCode(cleanedLng)) found = cleanedLng;\n      });\n\n      if (!found && this.options.supportedLngs) {\n        codes.forEach(function (code) {\n          if (found) return;\n\n          var lngOnly = _this.getLanguagePartFromCode(code);\n\n          if (_this.isSupportedCode(lngOnly)) return found = lngOnly;\n          found = _this.options.supportedLngs.find(function (supportedLng) {\n            if (supportedLng.indexOf(lngOnly) === 0) return supportedLng;\n          });\n        });\n      }\n\n      if (!found) found = this.getFallbackCodes(this.options.fallbackLng)[0];\n      return found;\n    }\n  }, {\n    key: \"getFallbackCodes\",\n    value: function getFallbackCodes(fallbacks, code) {\n      if (!fallbacks) return [];\n      if (typeof fallbacks === 'function') fallbacks = fallbacks(code);\n      if (typeof fallbacks === 'string') fallbacks = [fallbacks];\n      if (Object.prototype.toString.apply(fallbacks) === '[object Array]') return fallbacks;\n      if (!code) return fallbacks[\"default\"] || [];\n      var found = fallbacks[code];\n      if (!found) found = fallbacks[this.getScriptPartFromCode(code)];\n      if (!found) found = fallbacks[this.formatLanguageCode(code)];\n      if (!found) found = fallbacks[this.getLanguagePartFromCode(code)];\n      if (!found) found = fallbacks[\"default\"];\n      return found || [];\n    }\n  }, {\n    key: \"toResolveHierarchy\",\n    value: function toResolveHierarchy(code, fallbackCode) {\n      var _this2 = this;\n\n      var fallbackCodes = this.getFallbackCodes(fallbackCode || this.options.fallbackLng || [], code);\n      var codes = [];\n\n      var addCode = function addCode(c) {\n        if (!c) return;\n\n        if (_this2.isSupportedCode(c)) {\n          codes.push(c);\n        } else {\n          _this2.logger.warn(\"rejecting language code not found in supportedLngs: \".concat(c));\n        }\n      };\n\n      if (typeof code === 'string' && code.indexOf('-') > -1) {\n        if (this.options.load !== 'languageOnly') addCode(this.formatLanguageCode(code));\n        if (this.options.load !== 'languageOnly' && this.options.load !== 'currentOnly') addCode(this.getScriptPartFromCode(code));\n        if (this.options.load !== 'currentOnly') addCode(this.getLanguagePartFromCode(code));\n      } else if (typeof code === 'string') {\n        addCode(this.formatLanguageCode(code));\n      }\n\n      fallbackCodes.forEach(function (fc) {\n        if (codes.indexOf(fc) < 0) addCode(_this2.formatLanguageCode(fc));\n      });\n      return codes;\n    }\n  }]);\n\n  return LanguageUtil;\n}();\n\nvar sets = [{\n  lngs: ['ach', 'ak', 'am', 'arn', 'br', 'fil', 'gun', 'ln', 'mfe', 'mg', 'mi', 'oc', 'pt', 'pt-BR', 'tg', 'tl', 'ti', 'tr', 'uz', 'wa'],\n  nr: [1, 2],\n  fc: 1\n}, {\n  lngs: ['af', 'an', 'ast', 'az', 'bg', 'bn', 'ca', 'da', 'de', 'dev', 'el', 'en', 'eo', 'es', 'et', 'eu', 'fi', 'fo', 'fur', 'fy', 'gl', 'gu', 'ha', 'hi', 'hu', 'hy', 'ia', 'it', 'kk', 'kn', 'ku', 'lb', 'mai', 'ml', 'mn', 'mr', 'nah', 'nap', 'nb', 'ne', 'nl', 'nn', 'no', 'nso', 'pa', 'pap', 'pms', 'ps', 'pt-PT', 'rm', 'sco', 'se', 'si', 'so', 'son', 'sq', 'sv', 'sw', 'ta', 'te', 'tk', 'ur', 'yo'],\n  nr: [1, 2],\n  fc: 2\n}, {\n  lngs: ['ay', 'bo', 'cgg', 'fa', 'ht', 'id', 'ja', 'jbo', 'ka', 'km', 'ko', 'ky', 'lo', 'ms', 'sah', 'su', 'th', 'tt', 'ug', 'vi', 'wo', 'zh'],\n  nr: [1],\n  fc: 3\n}, {\n  lngs: ['be', 'bs', 'cnr', 'dz', 'hr', 'ru', 'sr', 'uk'],\n  nr: [1, 2, 5],\n  fc: 4\n}, {\n  lngs: ['ar'],\n  nr: [0, 1, 2, 3, 11, 100],\n  fc: 5\n}, {\n  lngs: ['cs', 'sk'],\n  nr: [1, 2, 5],\n  fc: 6\n}, {\n  lngs: ['csb', 'pl'],\n  nr: [1, 2, 5],\n  fc: 7\n}, {\n  lngs: ['cy'],\n  nr: [1, 2, 3, 8],\n  fc: 8\n}, {\n  lngs: ['fr'],\n  nr: [1, 2],\n  fc: 9\n}, {\n  lngs: ['ga'],\n  nr: [1, 2, 3, 7, 11],\n  fc: 10\n}, {\n  lngs: ['gd'],\n  nr: [1, 2, 3, 20],\n  fc: 11\n}, {\n  lngs: ['is'],\n  nr: [1, 2],\n  fc: 12\n}, {\n  lngs: ['jv'],\n  nr: [0, 1],\n  fc: 13\n}, {\n  lngs: ['kw'],\n  nr: [1, 2, 3, 4],\n  fc: 14\n}, {\n  lngs: ['lt'],\n  nr: [1, 2, 10],\n  fc: 15\n}, {\n  lngs: ['lv'],\n  nr: [1, 2, 0],\n  fc: 16\n}, {\n  lngs: ['mk'],\n  nr: [1, 2],\n  fc: 17\n}, {\n  lngs: ['mnk'],\n  nr: [0, 1, 2],\n  fc: 18\n}, {\n  lngs: ['mt'],\n  nr: [1, 2, 11, 20],\n  fc: 19\n}, {\n  lngs: ['or'],\n  nr: [2, 1],\n  fc: 2\n}, {\n  lngs: ['ro'],\n  nr: [1, 2, 20],\n  fc: 20\n}, {\n  lngs: ['sl'],\n  nr: [5, 1, 2, 3],\n  fc: 21\n}, {\n  lngs: ['he', 'iw'],\n  nr: [1, 2, 20, 21],\n  fc: 22\n}];\nvar _rulesPluralsTypes = {\n  1: function _(n) {\n    return Number(n > 1);\n  },\n  2: function _(n) {\n    return Number(n != 1);\n  },\n  3: function _(n) {\n    return 0;\n  },\n  4: function _(n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  5: function _(n) {\n    return Number(n == 0 ? 0 : n == 1 ? 1 : n == 2 ? 2 : n % 100 >= 3 && n % 100 <= 10 ? 3 : n % 100 >= 11 ? 4 : 5);\n  },\n  6: function _(n) {\n    return Number(n == 1 ? 0 : n >= 2 && n <= 4 ? 1 : 2);\n  },\n  7: function _(n) {\n    return Number(n == 1 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  8: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n != 8 && n != 11 ? 2 : 3);\n  },\n  9: function _(n) {\n    return Number(n >= 2);\n  },\n  10: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n < 7 ? 2 : n < 11 ? 3 : 4);\n  },\n  11: function _(n) {\n    return Number(n == 1 || n == 11 ? 0 : n == 2 || n == 12 ? 1 : n > 2 && n < 20 ? 2 : 3);\n  },\n  12: function _(n) {\n    return Number(n % 10 != 1 || n % 100 == 11);\n  },\n  13: function _(n) {\n    return Number(n !== 0);\n  },\n  14: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n == 3 ? 2 : 3);\n  },\n  15: function _(n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  16: function _(n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n !== 0 ? 1 : 2);\n  },\n  17: function _(n) {\n    return Number(n == 1 || n % 10 == 1 && n % 100 != 11 ? 0 : 1);\n  },\n  18: function _(n) {\n    return Number(n == 0 ? 0 : n == 1 ? 1 : 2);\n  },\n  19: function _(n) {\n    return Number(n == 1 ? 0 : n == 0 || n % 100 > 1 && n % 100 < 11 ? 1 : n % 100 > 10 && n % 100 < 20 ? 2 : 3);\n  },\n  20: function _(n) {\n    return Number(n == 1 ? 0 : n == 0 || n % 100 > 0 && n % 100 < 20 ? 1 : 2);\n  },\n  21: function _(n) {\n    return Number(n % 100 == 1 ? 1 : n % 100 == 2 ? 2 : n % 100 == 3 || n % 100 == 4 ? 3 : 0);\n  },\n  22: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : (n < 0 || n > 10) && n % 10 == 0 ? 2 : 3);\n  }\n};\nvar deprecatedJsonVersions = ['v1', 'v2', 'v3'];\nvar suffixesOrder = {\n  zero: 0,\n  one: 1,\n  two: 2,\n  few: 3,\n  many: 4,\n  other: 5\n};\n\nfunction createRules() {\n  var rules = {};\n  sets.forEach(function (set) {\n    set.lngs.forEach(function (l) {\n      rules[l] = {\n        numbers: set.nr,\n        plurals: _rulesPluralsTypes[set.fc]\n      };\n    });\n  });\n  return rules;\n}\n\nvar PluralResolver = function () {\n  function PluralResolver(languageUtils) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, PluralResolver);\n\n    this.languageUtils = languageUtils;\n    this.options = options;\n    this.logger = baseLogger.create('pluralResolver');\n\n    if ((!this.options.compatibilityJSON || this.options.compatibilityJSON === 'v4') && (typeof Intl === 'undefined' || !Intl.PluralRules)) {\n      this.options.compatibilityJSON = 'v3';\n      this.logger.error('Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.');\n    }\n\n    this.rules = createRules();\n  }\n\n  _createClass(PluralResolver, [{\n    key: \"addRule\",\n    value: function addRule(lng, obj) {\n      this.rules[lng] = obj;\n    }\n  }, {\n    key: \"getRule\",\n    value: function getRule(code) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      if (this.shouldUseIntlApi()) {\n        try {\n          return new Intl.PluralRules(code, {\n            type: options.ordinal ? 'ordinal' : 'cardinal'\n          });\n        } catch (_unused) {\n          return;\n        }\n      }\n\n      return this.rules[code] || this.rules[this.languageUtils.getLanguagePartFromCode(code)];\n    }\n  }, {\n    key: \"needsPlural\",\n    value: function needsPlural(code) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var rule = this.getRule(code, options);\n\n      if (this.shouldUseIntlApi()) {\n        return rule && rule.resolvedOptions().pluralCategories.length > 1;\n      }\n\n      return rule && rule.numbers.length > 1;\n    }\n  }, {\n    key: \"getPluralFormsOfKey\",\n    value: function getPluralFormsOfKey(code, key) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      return this.getSuffixes(code, options).map(function (suffix) {\n        return \"\".concat(key).concat(suffix);\n      });\n    }\n  }, {\n    key: \"getSuffixes\",\n    value: function getSuffixes(code) {\n      var _this = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var rule = this.getRule(code, options);\n\n      if (!rule) {\n        return [];\n      }\n\n      if (this.shouldUseIntlApi()) {\n        return rule.resolvedOptions().pluralCategories.sort(function (pluralCategory1, pluralCategory2) {\n          return suffixesOrder[pluralCategory1] - suffixesOrder[pluralCategory2];\n        }).map(function (pluralCategory) {\n          return \"\".concat(_this.options.prepend).concat(pluralCategory);\n        });\n      }\n\n      return rule.numbers.map(function (number) {\n        return _this.getSuffix(code, number, options);\n      });\n    }\n  }, {\n    key: \"getSuffix\",\n    value: function getSuffix(code, count) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var rule = this.getRule(code, options);\n\n      if (rule) {\n        if (this.shouldUseIntlApi()) {\n          return \"\".concat(this.options.prepend).concat(rule.select(count));\n        }\n\n        return this.getSuffixRetroCompatible(rule, count);\n      }\n\n      this.logger.warn(\"no plural rule found for: \".concat(code));\n      return '';\n    }\n  }, {\n    key: \"getSuffixRetroCompatible\",\n    value: function getSuffixRetroCompatible(rule, count) {\n      var _this2 = this;\n\n      var idx = rule.noAbs ? rule.plurals(count) : rule.plurals(Math.abs(count));\n      var suffix = rule.numbers[idx];\n\n      if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {\n        if (suffix === 2) {\n          suffix = 'plural';\n        } else if (suffix === 1) {\n          suffix = '';\n        }\n      }\n\n      var returnSuffix = function returnSuffix() {\n        return _this2.options.prepend && suffix.toString() ? _this2.options.prepend + suffix.toString() : suffix.toString();\n      };\n\n      if (this.options.compatibilityJSON === 'v1') {\n        if (suffix === 1) return '';\n        if (typeof suffix === 'number') return \"_plural_\".concat(suffix.toString());\n        return returnSuffix();\n      } else if (this.options.compatibilityJSON === 'v2') {\n        return returnSuffix();\n      } else if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {\n        return returnSuffix();\n      }\n\n      return this.options.prepend && idx.toString() ? this.options.prepend + idx.toString() : idx.toString();\n    }\n  }, {\n    key: \"shouldUseIntlApi\",\n    value: function shouldUseIntlApi() {\n      return !deprecatedJsonVersions.includes(this.options.compatibilityJSON);\n    }\n  }]);\n\n  return PluralResolver;\n}();\n\nvar Interpolator = function () {\n  function Interpolator() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Interpolator);\n\n    this.logger = baseLogger.create('interpolator');\n    this.options = options;\n\n    this.format = options.interpolation && options.interpolation.format || function (value) {\n      return value;\n    };\n\n    this.init(options);\n  }\n\n  _createClass(Interpolator, [{\n    key: \"init\",\n    value: function init() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      if (!options.interpolation) options.interpolation = {\n        escapeValue: true\n      };\n      var iOpts = options.interpolation;\n      this.escape = iOpts.escape !== undefined ? iOpts.escape : escape;\n      this.escapeValue = iOpts.escapeValue !== undefined ? iOpts.escapeValue : true;\n      this.useRawValueToEscape = iOpts.useRawValueToEscape !== undefined ? iOpts.useRawValueToEscape : false;\n      this.prefix = iOpts.prefix ? regexEscape(iOpts.prefix) : iOpts.prefixEscaped || '{{';\n      this.suffix = iOpts.suffix ? regexEscape(iOpts.suffix) : iOpts.suffixEscaped || '}}';\n      this.formatSeparator = iOpts.formatSeparator ? iOpts.formatSeparator : iOpts.formatSeparator || ',';\n      this.unescapePrefix = iOpts.unescapeSuffix ? '' : iOpts.unescapePrefix || '-';\n      this.unescapeSuffix = this.unescapePrefix ? '' : iOpts.unescapeSuffix || '';\n      this.nestingPrefix = iOpts.nestingPrefix ? regexEscape(iOpts.nestingPrefix) : iOpts.nestingPrefixEscaped || regexEscape('$t(');\n      this.nestingSuffix = iOpts.nestingSuffix ? regexEscape(iOpts.nestingSuffix) : iOpts.nestingSuffixEscaped || regexEscape(')');\n      this.nestingOptionsSeparator = iOpts.nestingOptionsSeparator ? iOpts.nestingOptionsSeparator : iOpts.nestingOptionsSeparator || ',';\n      this.maxReplaces = iOpts.maxReplaces ? iOpts.maxReplaces : 1000;\n      this.alwaysFormat = iOpts.alwaysFormat !== undefined ? iOpts.alwaysFormat : false;\n      this.resetRegExp();\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      if (this.options) this.init(this.options);\n    }\n  }, {\n    key: \"resetRegExp\",\n    value: function resetRegExp() {\n      var regexpStr = \"\".concat(this.prefix, \"(.+?)\").concat(this.suffix);\n      this.regexp = new RegExp(regexpStr, 'g');\n      var regexpUnescapeStr = \"\".concat(this.prefix).concat(this.unescapePrefix, \"(.+?)\").concat(this.unescapeSuffix).concat(this.suffix);\n      this.regexpUnescape = new RegExp(regexpUnescapeStr, 'g');\n      var nestingRegexpStr = \"\".concat(this.nestingPrefix, \"(.+?)\").concat(this.nestingSuffix);\n      this.nestingRegexp = new RegExp(nestingRegexpStr, 'g');\n    }\n  }, {\n    key: \"interpolate\",\n    value: function interpolate(str, data, lng, options) {\n      var _this = this;\n\n      var match;\n      var value;\n      var replaces;\n      var defaultData = this.options && this.options.interpolation && this.options.interpolation.defaultVariables || {};\n\n      function regexSafe(val) {\n        return val.replace(/\\$/g, '$$$$');\n      }\n\n      var handleFormat = function handleFormat(key) {\n        if (key.indexOf(_this.formatSeparator) < 0) {\n          var path = getPathWithDefaults(data, defaultData, key);\n          return _this.alwaysFormat ? _this.format(path, undefined, lng, _objectSpread({}, options, data, {\n            interpolationkey: key\n          })) : path;\n        }\n\n        var p = key.split(_this.formatSeparator);\n        var k = p.shift().trim();\n        var f = p.join(_this.formatSeparator).trim();\n        return _this.format(getPathWithDefaults(data, defaultData, k), f, lng, _objectSpread({}, options, data, {\n          interpolationkey: k\n        }));\n      };\n\n      this.resetRegExp();\n      var missingInterpolationHandler = options && options.missingInterpolationHandler || this.options.missingInterpolationHandler;\n      var skipOnVariables = options && options.interpolation && options.interpolation.skipOnVariables || this.options.interpolation.skipOnVariables;\n      var todos = [{\n        regex: this.regexpUnescape,\n        safeValue: function safeValue(val) {\n          return regexSafe(val);\n        }\n      }, {\n        regex: this.regexp,\n        safeValue: function safeValue(val) {\n          return _this.escapeValue ? regexSafe(_this.escape(val)) : regexSafe(val);\n        }\n      }];\n      todos.forEach(function (todo) {\n        replaces = 0;\n\n        while (match = todo.regex.exec(str)) {\n          value = handleFormat(match[1].trim());\n\n          if (value === undefined) {\n            if (typeof missingInterpolationHandler === 'function') {\n              var temp = missingInterpolationHandler(str, match, options);\n              value = typeof temp === 'string' ? temp : '';\n            } else if (skipOnVariables) {\n              value = match[0];\n              continue;\n            } else {\n              _this.logger.warn(\"missed to pass in variable \".concat(match[1], \" for interpolating \").concat(str));\n\n              value = '';\n            }\n          } else if (typeof value !== 'string' && !_this.useRawValueToEscape) {\n            value = makeString(value);\n          }\n\n          var safeValue = todo.safeValue(value);\n          str = str.replace(match[0], safeValue);\n\n          if (skipOnVariables) {\n            todo.regex.lastIndex += safeValue.length;\n            todo.regex.lastIndex -= match[0].length;\n          } else {\n            todo.regex.lastIndex = 0;\n          }\n\n          replaces++;\n\n          if (replaces >= _this.maxReplaces) {\n            break;\n          }\n        }\n      });\n      return str;\n    }\n  }, {\n    key: \"nest\",\n    value: function nest(str, fc) {\n      var _this2 = this;\n\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var match;\n      var value;\n\n      var clonedOptions = _objectSpread({}, options);\n\n      clonedOptions.applyPostProcessor = false;\n      delete clonedOptions.defaultValue;\n\n      function handleHasOptions(key, inheritedOptions) {\n        var sep = this.nestingOptionsSeparator;\n        if (key.indexOf(sep) < 0) return key;\n        var c = key.split(new RegExp(\"\".concat(sep, \"[ ]*{\")));\n        var optionsString = \"{\".concat(c[1]);\n        key = c[0];\n        optionsString = this.interpolate(optionsString, clonedOptions);\n        optionsString = optionsString.replace(/'/g, '\"');\n\n        try {\n          clonedOptions = JSON.parse(optionsString);\n          if (inheritedOptions) clonedOptions = _objectSpread({}, inheritedOptions, clonedOptions);\n        } catch (e) {\n          this.logger.warn(\"failed parsing options string in nesting for key \".concat(key), e);\n          return \"\".concat(key).concat(sep).concat(optionsString);\n        }\n\n        delete clonedOptions.defaultValue;\n        return key;\n      }\n\n      while (match = this.nestingRegexp.exec(str)) {\n        var formatters = [];\n        var doReduce = false;\n\n        if (match[0].indexOf(this.formatSeparator) !== -1 && !/{.*}/.test(match[1])) {\n          var r = match[1].split(this.formatSeparator).map(function (elem) {\n            return elem.trim();\n          });\n          match[1] = r.shift();\n          formatters = r;\n          doReduce = true;\n        }\n\n        value = fc(handleHasOptions.call(this, match[1].trim(), clonedOptions), clonedOptions);\n        if (value && match[0] === str && typeof value !== 'string') return value;\n        if (typeof value !== 'string') value = makeString(value);\n\n        if (!value) {\n          this.logger.warn(\"missed to resolve \".concat(match[1], \" for nesting \").concat(str));\n          value = '';\n        }\n\n        if (doReduce) {\n          value = formatters.reduce(function (v, f) {\n            return _this2.format(v, f, options.lng, _objectSpread({}, options, {\n              interpolationkey: match[1].trim()\n            }));\n          }, value.trim());\n        }\n\n        str = str.replace(match[0], value);\n        this.regexp.lastIndex = 0;\n      }\n\n      return str;\n    }\n  }]);\n\n  return Interpolator;\n}();\n\nfunction parseFormatStr(formatStr) {\n  var formatName = formatStr.toLowerCase();\n  var formatOptions = {};\n\n  if (formatStr.indexOf('(') > -1) {\n    var p = formatStr.split('(');\n    formatName = p[0].toLowerCase();\n    var optStr = p[1].substring(0, p[1].length - 1);\n\n    if (formatName === 'currency' && optStr.indexOf(':') < 0) {\n      if (!formatOptions.currency) formatOptions.currency = optStr.trim();\n    } else if (formatName === 'relativetime' && optStr.indexOf(':') < 0) {\n      if (!formatOptions.range) formatOptions.range = optStr.trim();\n    } else {\n      var opts = optStr.split(';');\n      opts.forEach(function (opt) {\n        if (!opt) return;\n\n        var _opt$split = opt.split(':'),\n            _opt$split2 = _slicedToArray(_opt$split, 2),\n            key = _opt$split2[0],\n            val = _opt$split2[1];\n\n        if (val.trim() === 'false') formatOptions[key.trim()] = false;\n        if (val.trim() === 'true') formatOptions[key.trim()] = true;\n        if (!isNaN(val.trim())) formatOptions[key.trim()] = parseInt(val.trim(), 10);\n        if (!formatOptions[key.trim()]) formatOptions[key.trim()] = val.trim();\n      });\n    }\n  }\n\n  return {\n    formatName: formatName,\n    formatOptions: formatOptions\n  };\n}\n\nvar Formatter = function () {\n  function Formatter() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Formatter);\n\n    this.logger = baseLogger.create('formatter');\n    this.options = options;\n    this.formats = {\n      number: function number(val, lng, options) {\n        return new Intl.NumberFormat(lng, options).format(val);\n      },\n      currency: function currency(val, lng, options) {\n        return new Intl.NumberFormat(lng, _objectSpread({}, options, {\n          style: 'currency'\n        })).format(val);\n      },\n      datetime: function datetime(val, lng, options) {\n        return new Intl.DateTimeFormat(lng, _objectSpread({}, options)).format(val);\n      },\n      relativetime: function relativetime(val, lng, options) {\n        return new Intl.RelativeTimeFormat(lng, _objectSpread({}, options)).format(val, options.range || 'day');\n      },\n      list: function list(val, lng, options) {\n        return new Intl.ListFormat(lng, _objectSpread({}, options)).format(val);\n      }\n    };\n    this.init(options);\n  }\n\n  _createClass(Formatter, [{\n    key: \"init\",\n    value: function init(services) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        interpolation: {}\n      };\n      var iOpts = options.interpolation;\n      this.formatSeparator = iOpts.formatSeparator ? iOpts.formatSeparator : iOpts.formatSeparator || ',';\n    }\n  }, {\n    key: \"add\",\n    value: function add(name, fc) {\n      this.formats[name] = fc;\n    }\n  }, {\n    key: \"format\",\n    value: function format(value, _format, lng, options) {\n      var _this = this;\n\n      var formats = _format.split(this.formatSeparator);\n\n      var result = formats.reduce(function (mem, f) {\n        var _parseFormatStr = parseFormatStr(f),\n            formatName = _parseFormatStr.formatName,\n            formatOptions = _parseFormatStr.formatOptions;\n\n        if (_this.formats[formatName]) {\n          var formatted = mem;\n\n          try {\n            var valOptions = options && options.formatParams && options.formatParams[options.interpolationkey] || {};\n            var l = valOptions.locale || valOptions.lng || options.locale || options.lng || lng;\n            formatted = _this.formats[formatName](mem, l, _objectSpread({}, formatOptions, options, valOptions));\n          } catch (error) {\n            _this.logger.warn(error);\n          }\n\n          return formatted;\n        } else {\n          _this.logger.warn(\"there was no format function for \".concat(formatName));\n        }\n\n        return mem;\n      }, value);\n      return result;\n    }\n  }]);\n\n  return Formatter;\n}();\n\nfunction remove(arr, what) {\n  var found = arr.indexOf(what);\n\n  while (found !== -1) {\n    arr.splice(found, 1);\n    found = arr.indexOf(what);\n  }\n}\n\nvar Connector = function (_EventEmitter) {\n  _inherits(Connector, _EventEmitter);\n\n  function Connector(backend, store, services) {\n    var _this;\n\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n    _classCallCheck(this, Connector);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Connector).call(this));\n\n    if (isIE10) {\n      EventEmitter.call(_assertThisInitialized(_this));\n    }\n\n    _this.backend = backend;\n    _this.store = store;\n    _this.services = services;\n    _this.languageUtils = services.languageUtils;\n    _this.options = options;\n    _this.logger = baseLogger.create('backendConnector');\n    _this.state = {};\n    _this.queue = [];\n\n    if (_this.backend && _this.backend.init) {\n      _this.backend.init(services, options.backend, options);\n    }\n\n    return _this;\n  }\n\n  _createClass(Connector, [{\n    key: \"queueLoad\",\n    value: function queueLoad(languages, namespaces, options, callback) {\n      var _this2 = this;\n\n      var toLoad = [];\n      var pending = [];\n      var toLoadLanguages = [];\n      var toLoadNamespaces = [];\n      languages.forEach(function (lng) {\n        var hasAllNamespaces = true;\n        namespaces.forEach(function (ns) {\n          var name = \"\".concat(lng, \"|\").concat(ns);\n\n          if (!options.reload && _this2.store.hasResourceBundle(lng, ns)) {\n            _this2.state[name] = 2;\n          } else if (_this2.state[name] < 0) ; else if (_this2.state[name] === 1) {\n            if (pending.indexOf(name) < 0) pending.push(name);\n          } else {\n            _this2.state[name] = 1;\n            hasAllNamespaces = false;\n            if (pending.indexOf(name) < 0) pending.push(name);\n            if (toLoad.indexOf(name) < 0) toLoad.push(name);\n            if (toLoadNamespaces.indexOf(ns) < 0) toLoadNamespaces.push(ns);\n          }\n        });\n        if (!hasAllNamespaces) toLoadLanguages.push(lng);\n      });\n\n      if (toLoad.length || pending.length) {\n        this.queue.push({\n          pending: pending,\n          loaded: {},\n          errors: [],\n          callback: callback\n        });\n      }\n\n      return {\n        toLoad: toLoad,\n        pending: pending,\n        toLoadLanguages: toLoadLanguages,\n        toLoadNamespaces: toLoadNamespaces\n      };\n    }\n  }, {\n    key: \"loaded\",\n    value: function loaded(name, err, data) {\n      var s = name.split('|');\n      var lng = s[0];\n      var ns = s[1];\n      if (err) this.emit('failedLoading', lng, ns, err);\n\n      if (data) {\n        this.store.addResourceBundle(lng, ns, data);\n      }\n\n      this.state[name] = err ? -1 : 2;\n      var loaded = {};\n      this.queue.forEach(function (q) {\n        pushPath(q.loaded, [lng], ns);\n        remove(q.pending, name);\n        if (err) q.errors.push(err);\n\n        if (q.pending.length === 0 && !q.done) {\n          Object.keys(q.loaded).forEach(function (l) {\n            if (!loaded[l]) loaded[l] = [];\n\n            if (q.loaded[l].length) {\n              q.loaded[l].forEach(function (ns) {\n                if (loaded[l].indexOf(ns) < 0) loaded[l].push(ns);\n              });\n            }\n          });\n          q.done = true;\n\n          if (q.errors.length) {\n            q.callback(q.errors);\n          } else {\n            q.callback();\n          }\n        }\n      });\n      this.emit('loaded', loaded);\n      this.queue = this.queue.filter(function (q) {\n        return !q.done;\n      });\n    }\n  }, {\n    key: \"read\",\n    value: function read(lng, ns, fcName) {\n      var _this3 = this;\n\n      var tried = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n      var wait = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 350;\n      var callback = arguments.length > 5 ? arguments[5] : undefined;\n      if (!lng.length) return callback(null, {});\n      return this.backend[fcName](lng, ns, function (err, data) {\n        if (err && data && tried < 5) {\n          setTimeout(function () {\n            _this3.read.call(_this3, lng, ns, fcName, tried + 1, wait * 2, callback);\n          }, wait);\n          return;\n        }\n\n        callback(err, data);\n      });\n    }\n  }, {\n    key: \"prepareLoading\",\n    value: function prepareLoading(languages, namespaces) {\n      var _this4 = this;\n\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var callback = arguments.length > 3 ? arguments[3] : undefined;\n\n      if (!this.backend) {\n        this.logger.warn('No backend was added via i18next.use. Will not load resources.');\n        return callback && callback();\n      }\n\n      if (typeof languages === 'string') languages = this.languageUtils.toResolveHierarchy(languages);\n      if (typeof namespaces === 'string') namespaces = [namespaces];\n      var toLoad = this.queueLoad(languages, namespaces, options, callback);\n\n      if (!toLoad.toLoad.length) {\n        if (!toLoad.pending.length) callback();\n        return null;\n      }\n\n      toLoad.toLoad.forEach(function (name) {\n        _this4.loadOne(name);\n      });\n    }\n  }, {\n    key: \"load\",\n    value: function load(languages, namespaces, callback) {\n      this.prepareLoading(languages, namespaces, {}, callback);\n    }\n  }, {\n    key: \"reload\",\n    value: function reload(languages, namespaces, callback) {\n      this.prepareLoading(languages, namespaces, {\n        reload: true\n      }, callback);\n    }\n  }, {\n    key: \"loadOne\",\n    value: function loadOne(name) {\n      var _this5 = this;\n\n      var prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n      var s = name.split('|');\n      var lng = s[0];\n      var ns = s[1];\n      this.read(lng, ns, 'read', undefined, undefined, function (err, data) {\n        if (err) _this5.logger.warn(\"\".concat(prefix, \"loading namespace \").concat(ns, \" for language \").concat(lng, \" failed\"), err);\n        if (!err && data) _this5.logger.log(\"\".concat(prefix, \"loaded namespace \").concat(ns, \" for language \").concat(lng), data);\n\n        _this5.loaded(name, err, data);\n      });\n    }\n  }, {\n    key: \"saveMissing\",\n    value: function saveMissing(languages, namespace, key, fallbackValue, isUpdate) {\n      var options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};\n\n      if (this.services.utils && this.services.utils.hasLoadedNamespace && !this.services.utils.hasLoadedNamespace(namespace)) {\n        this.logger.warn(\"did not save key \\\"\".concat(key, \"\\\" as the namespace \\\"\").concat(namespace, \"\\\" was not yet loaded\"), 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');\n        return;\n      }\n\n      if (key === undefined || key === null || key === '') return;\n\n      if (this.backend && this.backend.create) {\n        this.backend.create(languages, namespace, key, fallbackValue, null, _objectSpread({}, options, {\n          isUpdate: isUpdate\n        }));\n      }\n\n      if (!languages || !languages[0]) return;\n      this.store.addResource(languages[0], namespace, key, fallbackValue);\n    }\n  }]);\n\n  return Connector;\n}(EventEmitter);\n\nfunction get() {\n  return {\n    debug: false,\n    initImmediate: true,\n    ns: ['translation'],\n    defaultNS: ['translation'],\n    fallbackLng: ['dev'],\n    fallbackNS: false,\n    supportedLngs: false,\n    nonExplicitSupportedLngs: false,\n    load: 'all',\n    preload: false,\n    simplifyPluralSuffix: true,\n    keySeparator: '.',\n    nsSeparator: ':',\n    pluralSeparator: '_',\n    contextSeparator: '_',\n    partialBundledLanguages: false,\n    saveMissing: false,\n    updateMissing: false,\n    saveMissingTo: 'fallback',\n    saveMissingPlurals: true,\n    missingKeyHandler: false,\n    missingInterpolationHandler: false,\n    postProcess: false,\n    postProcessPassResolved: false,\n    returnNull: true,\n    returnEmptyString: true,\n    returnObjects: false,\n    joinArrays: false,\n    returnedObjectHandler: false,\n    parseMissingKeyHandler: false,\n    appendNamespaceToMissingKey: false,\n    appendNamespaceToCIMode: false,\n    overloadTranslationOptionHandler: function handle(args) {\n      var ret = {};\n      if (_typeof(args[1]) === 'object') ret = args[1];\n      if (typeof args[1] === 'string') ret.defaultValue = args[1];\n      if (typeof args[2] === 'string') ret.tDescription = args[2];\n\n      if (_typeof(args[2]) === 'object' || _typeof(args[3]) === 'object') {\n        var options = args[3] || args[2];\n        Object.keys(options).forEach(function (key) {\n          ret[key] = options[key];\n        });\n      }\n\n      return ret;\n    },\n    interpolation: {\n      escapeValue: true,\n      format: function format(value, _format, lng, options) {\n        return value;\n      },\n      prefix: '{{',\n      suffix: '}}',\n      formatSeparator: ',',\n      unescapePrefix: '-',\n      nestingPrefix: '$t(',\n      nestingSuffix: ')',\n      nestingOptionsSeparator: ',',\n      maxReplaces: 1000,\n      skipOnVariables: true\n    }\n  };\n}\nfunction transformOptions(options) {\n  if (typeof options.ns === 'string') options.ns = [options.ns];\n  if (typeof options.fallbackLng === 'string') options.fallbackLng = [options.fallbackLng];\n  if (typeof options.fallbackNS === 'string') options.fallbackNS = [options.fallbackNS];\n\n  if (options.supportedLngs && options.supportedLngs.indexOf('cimode') < 0) {\n    options.supportedLngs = options.supportedLngs.concat(['cimode']);\n  }\n\n  return options;\n}\n\nfunction noop() {}\n\nvar I18n = function (_EventEmitter) {\n  _inherits(I18n, _EventEmitter);\n\n  function I18n() {\n    var _this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var callback = arguments.length > 1 ? arguments[1] : undefined;\n\n    _classCallCheck(this, I18n);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(I18n).call(this));\n\n    if (isIE10) {\n      EventEmitter.call(_assertThisInitialized(_this));\n    }\n\n    _this.options = transformOptions(options);\n    _this.services = {};\n    _this.logger = baseLogger;\n    _this.modules = {\n      external: []\n    };\n\n    if (callback && !_this.isInitialized && !options.isClone) {\n      if (!_this.options.initImmediate) {\n        _this.init(options, callback);\n\n        return _possibleConstructorReturn(_this, _assertThisInitialized(_this));\n      }\n\n      setTimeout(function () {\n        _this.init(options, callback);\n      }, 0);\n    }\n\n    return _this;\n  }\n\n  _createClass(I18n, [{\n    key: \"init\",\n    value: function init() {\n      var _this2 = this;\n\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var callback = arguments.length > 1 ? arguments[1] : undefined;\n\n      if (typeof options === 'function') {\n        callback = options;\n        options = {};\n      }\n\n      if (!options.defaultNS && options.ns) {\n        if (typeof options.ns === 'string') {\n          options.defaultNS = options.ns;\n        } else if (options.ns.indexOf('translation') < 0) {\n          options.defaultNS = options.ns[0];\n        }\n      }\n\n      var defOpts = get();\n      this.options = _objectSpread({}, defOpts, this.options, transformOptions(options));\n\n      if (options.keySeparator !== undefined) {\n        this.options.userDefinedKeySeparator = options.keySeparator;\n      }\n\n      if (options.nsSeparator !== undefined) {\n        this.options.userDefinedNsSeparator = options.nsSeparator;\n      }\n\n      function createClassOnDemand(ClassOrObject) {\n        if (!ClassOrObject) return null;\n        if (typeof ClassOrObject === 'function') return new ClassOrObject();\n        return ClassOrObject;\n      }\n\n      if (!this.options.isClone) {\n        if (this.modules.logger) {\n          baseLogger.init(createClassOnDemand(this.modules.logger), this.options);\n        } else {\n          baseLogger.init(null, this.options);\n        }\n\n        var formatter;\n\n        if (this.modules.formatter) {\n          formatter = this.modules.formatter;\n        } else if (typeof Intl !== 'undefined') {\n          formatter = Formatter;\n        }\n\n        var lu = new LanguageUtil(this.options);\n        this.store = new ResourceStore(this.options.resources, this.options);\n        var s = this.services;\n        s.logger = baseLogger;\n        s.resourceStore = this.store;\n        s.languageUtils = lu;\n        s.pluralResolver = new PluralResolver(lu, {\n          prepend: this.options.pluralSeparator,\n          compatibilityJSON: this.options.compatibilityJSON,\n          simplifyPluralSuffix: this.options.simplifyPluralSuffix\n        });\n\n        if (formatter && (!this.options.interpolation.format || this.options.interpolation.format === defOpts.interpolation.format)) {\n          s.formatter = createClassOnDemand(formatter);\n          s.formatter.init(s, this.options);\n          this.options.interpolation.format = s.formatter.format.bind(s.formatter);\n        }\n\n        s.interpolator = new Interpolator(this.options);\n        s.utils = {\n          hasLoadedNamespace: this.hasLoadedNamespace.bind(this)\n        };\n        s.backendConnector = new Connector(createClassOnDemand(this.modules.backend), s.resourceStore, s, this.options);\n        s.backendConnector.on('*', function (event) {\n          for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n            args[_key - 1] = arguments[_key];\n          }\n\n          _this2.emit.apply(_this2, [event].concat(args));\n        });\n\n        if (this.modules.languageDetector) {\n          s.languageDetector = createClassOnDemand(this.modules.languageDetector);\n          s.languageDetector.init(s, this.options.detection, this.options);\n        }\n\n        if (this.modules.i18nFormat) {\n          s.i18nFormat = createClassOnDemand(this.modules.i18nFormat);\n          if (s.i18nFormat.init) s.i18nFormat.init(this);\n        }\n\n        this.translator = new Translator(this.services, this.options);\n        this.translator.on('*', function (event) {\n          for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n            args[_key2 - 1] = arguments[_key2];\n          }\n\n          _this2.emit.apply(_this2, [event].concat(args));\n        });\n        this.modules.external.forEach(function (m) {\n          if (m.init) m.init(_this2);\n        });\n      }\n\n      this.format = this.options.interpolation.format;\n      if (!callback) callback = noop;\n\n      if (this.options.fallbackLng && !this.services.languageDetector && !this.options.lng) {\n        var codes = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n        if (codes.length > 0 && codes[0] !== 'dev') this.options.lng = codes[0];\n      }\n\n      if (!this.services.languageDetector && !this.options.lng) {\n        this.logger.warn('init: no languageDetector is used and no lng is defined');\n      }\n\n      var storeApi = ['getResource', 'hasResourceBundle', 'getResourceBundle', 'getDataByLanguage'];\n      storeApi.forEach(function (fcName) {\n        _this2[fcName] = function () {\n          var _this2$store;\n\n          return (_this2$store = _this2.store)[fcName].apply(_this2$store, arguments);\n        };\n      });\n      var storeApiChained = ['addResource', 'addResources', 'addResourceBundle', 'removeResourceBundle'];\n      storeApiChained.forEach(function (fcName) {\n        _this2[fcName] = function () {\n          var _this2$store2;\n\n          (_this2$store2 = _this2.store)[fcName].apply(_this2$store2, arguments);\n\n          return _this2;\n        };\n      });\n      var deferred = defer();\n\n      var load = function load() {\n        var finish = function finish(err, t) {\n          if (_this2.isInitialized && !_this2.initializedStoreOnce) _this2.logger.warn('init: i18next is already initialized. You should call init just once!');\n          _this2.isInitialized = true;\n          if (!_this2.options.isClone) _this2.logger.log('initialized', _this2.options);\n\n          _this2.emit('initialized', _this2.options);\n\n          deferred.resolve(t);\n          callback(err, t);\n        };\n\n        if (_this2.languages && _this2.options.compatibilityAPI !== 'v1' && !_this2.isInitialized) return finish(null, _this2.t.bind(_this2));\n\n        _this2.changeLanguage(_this2.options.lng, finish);\n      };\n\n      if (this.options.resources || !this.options.initImmediate) {\n        load();\n      } else {\n        setTimeout(load, 0);\n      }\n\n      return deferred;\n    }\n  }, {\n    key: \"loadResources\",\n    value: function loadResources(language) {\n      var _this3 = this;\n\n      var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n      var usedCallback = callback;\n      var usedLng = typeof language === 'string' ? language : this.language;\n      if (typeof language === 'function') usedCallback = language;\n\n      if (!this.options.resources || this.options.partialBundledLanguages) {\n        if (usedLng && usedLng.toLowerCase() === 'cimode') return usedCallback();\n        var toLoad = [];\n\n        var append = function append(lng) {\n          if (!lng) return;\n\n          var lngs = _this3.services.languageUtils.toResolveHierarchy(lng);\n\n          lngs.forEach(function (l) {\n            if (toLoad.indexOf(l) < 0) toLoad.push(l);\n          });\n        };\n\n        if (!usedLng) {\n          var fallbacks = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n          fallbacks.forEach(function (l) {\n            return append(l);\n          });\n        } else {\n          append(usedLng);\n        }\n\n        if (this.options.preload) {\n          this.options.preload.forEach(function (l) {\n            return append(l);\n          });\n        }\n\n        this.services.backendConnector.load(toLoad, this.options.ns, usedCallback);\n      } else {\n        usedCallback(null);\n      }\n    }\n  }, {\n    key: \"reloadResources\",\n    value: function reloadResources(lngs, ns, callback) {\n      var deferred = defer();\n      if (!lngs) lngs = this.languages;\n      if (!ns) ns = this.options.ns;\n      if (!callback) callback = noop;\n      this.services.backendConnector.reload(lngs, ns, function (err) {\n        deferred.resolve();\n        callback(err);\n      });\n      return deferred;\n    }\n  }, {\n    key: \"use\",\n    value: function use(module) {\n      if (!module) throw new Error('You are passing an undefined module! Please check the object you are passing to i18next.use()');\n      if (!module.type) throw new Error('You are passing a wrong module! Please check the object you are passing to i18next.use()');\n\n      if (module.type === 'backend') {\n        this.modules.backend = module;\n      }\n\n      if (module.type === 'logger' || module.log && module.warn && module.error) {\n        this.modules.logger = module;\n      }\n\n      if (module.type === 'languageDetector') {\n        this.modules.languageDetector = module;\n      }\n\n      if (module.type === 'i18nFormat') {\n        this.modules.i18nFormat = module;\n      }\n\n      if (module.type === 'postProcessor') {\n        postProcessor.addPostProcessor(module);\n      }\n\n      if (module.type === 'formatter') {\n        this.modules.formatter = module;\n      }\n\n      if (module.type === '3rdParty') {\n        this.modules.external.push(module);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"changeLanguage\",\n    value: function changeLanguage(lng, callback) {\n      var _this4 = this;\n\n      this.isLanguageChangingTo = lng;\n      var deferred = defer();\n      this.emit('languageChanging', lng);\n\n      var setLngProps = function setLngProps(l) {\n        _this4.language = l;\n        _this4.languages = _this4.services.languageUtils.toResolveHierarchy(l);\n        _this4.resolvedLanguage = undefined;\n        if (['cimode', 'dev'].indexOf(l) > -1) return;\n\n        for (var li = 0; li < _this4.languages.length; li++) {\n          var lngInLngs = _this4.languages[li];\n          if (['cimode', 'dev'].indexOf(lngInLngs) > -1) continue;\n\n          if (_this4.store.hasLanguageSomeTranslations(lngInLngs)) {\n            _this4.resolvedLanguage = lngInLngs;\n            break;\n          }\n        }\n      };\n\n      var done = function done(err, l) {\n        if (l) {\n          setLngProps(l);\n\n          _this4.translator.changeLanguage(l);\n\n          _this4.isLanguageChangingTo = undefined;\n\n          _this4.emit('languageChanged', l);\n\n          _this4.logger.log('languageChanged', l);\n        } else {\n          _this4.isLanguageChangingTo = undefined;\n        }\n\n        deferred.resolve(function () {\n          return _this4.t.apply(_this4, arguments);\n        });\n        if (callback) callback(err, function () {\n          return _this4.t.apply(_this4, arguments);\n        });\n      };\n\n      var setLng = function setLng(lngs) {\n        if (!lng && !lngs && _this4.services.languageDetector) lngs = [];\n        var l = typeof lngs === 'string' ? lngs : _this4.services.languageUtils.getBestMatchFromCodes(lngs);\n\n        if (l) {\n          if (!_this4.language) {\n            setLngProps(l);\n          }\n\n          if (!_this4.translator.language) _this4.translator.changeLanguage(l);\n          if (_this4.services.languageDetector) _this4.services.languageDetector.cacheUserLanguage(l);\n        }\n\n        _this4.loadResources(l, function (err) {\n          done(err, l);\n        });\n      };\n\n      if (!lng && this.services.languageDetector && !this.services.languageDetector.async) {\n        setLng(this.services.languageDetector.detect());\n      } else if (!lng && this.services.languageDetector && this.services.languageDetector.async) {\n        this.services.languageDetector.detect(setLng);\n      } else {\n        setLng(lng);\n      }\n\n      return deferred;\n    }\n  }, {\n    key: \"getFixedT\",\n    value: function getFixedT(lng, ns, keyPrefix) {\n      var _this5 = this;\n\n      var fixedT = function fixedT(key, opts) {\n        var options;\n\n        if (_typeof(opts) !== 'object') {\n          for (var _len3 = arguments.length, rest = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n            rest[_key3 - 2] = arguments[_key3];\n          }\n\n          options = _this5.options.overloadTranslationOptionHandler([key, opts].concat(rest));\n        } else {\n          options = _objectSpread({}, opts);\n        }\n\n        options.lng = options.lng || fixedT.lng;\n        options.lngs = options.lngs || fixedT.lngs;\n        options.ns = options.ns || fixedT.ns;\n        var keySeparator = _this5.options.keySeparator || '.';\n        var resultKey = keyPrefix ? \"\".concat(keyPrefix).concat(keySeparator).concat(key) : key;\n        return _this5.t(resultKey, options);\n      };\n\n      if (typeof lng === 'string') {\n        fixedT.lng = lng;\n      } else {\n        fixedT.lngs = lng;\n      }\n\n      fixedT.ns = ns;\n      fixedT.keyPrefix = keyPrefix;\n      return fixedT;\n    }\n  }, {\n    key: \"t\",\n    value: function t() {\n      var _this$translator;\n\n      return this.translator && (_this$translator = this.translator).translate.apply(_this$translator, arguments);\n    }\n  }, {\n    key: \"exists\",\n    value: function exists() {\n      var _this$translator2;\n\n      return this.translator && (_this$translator2 = this.translator).exists.apply(_this$translator2, arguments);\n    }\n  }, {\n    key: \"setDefaultNamespace\",\n    value: function setDefaultNamespace(ns) {\n      this.options.defaultNS = ns;\n    }\n  }, {\n    key: \"hasLoadedNamespace\",\n    value: function hasLoadedNamespace(ns) {\n      var _this6 = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      if (!this.isInitialized) {\n        this.logger.warn('hasLoadedNamespace: i18next was not initialized', this.languages);\n        return false;\n      }\n\n      if (!this.languages || !this.languages.length) {\n        this.logger.warn('hasLoadedNamespace: i18n.languages were undefined or empty', this.languages);\n        return false;\n      }\n\n      var lng = this.resolvedLanguage || this.languages[0];\n      var fallbackLng = this.options ? this.options.fallbackLng : false;\n      var lastLng = this.languages[this.languages.length - 1];\n      if (lng.toLowerCase() === 'cimode') return true;\n\n      var loadNotPending = function loadNotPending(l, n) {\n        var loadState = _this6.services.backendConnector.state[\"\".concat(l, \"|\").concat(n)];\n\n        return loadState === -1 || loadState === 2;\n      };\n\n      if (options.precheck) {\n        var preResult = options.precheck(this, loadNotPending);\n        if (preResult !== undefined) return preResult;\n      }\n\n      if (this.hasResourceBundle(lng, ns)) return true;\n      if (!this.services.backendConnector.backend) return true;\n      if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns))) return true;\n      return false;\n    }\n  }, {\n    key: \"loadNamespaces\",\n    value: function loadNamespaces(ns, callback) {\n      var _this7 = this;\n\n      var deferred = defer();\n\n      if (!this.options.ns) {\n        callback && callback();\n        return Promise.resolve();\n      }\n\n      if (typeof ns === 'string') ns = [ns];\n      ns.forEach(function (n) {\n        if (_this7.options.ns.indexOf(n) < 0) _this7.options.ns.push(n);\n      });\n      this.loadResources(function (err) {\n        deferred.resolve();\n        if (callback) callback(err);\n      });\n      return deferred;\n    }\n  }, {\n    key: \"loadLanguages\",\n    value: function loadLanguages(lngs, callback) {\n      var deferred = defer();\n      if (typeof lngs === 'string') lngs = [lngs];\n      var preloaded = this.options.preload || [];\n      var newLngs = lngs.filter(function (lng) {\n        return preloaded.indexOf(lng) < 0;\n      });\n\n      if (!newLngs.length) {\n        if (callback) callback();\n        return Promise.resolve();\n      }\n\n      this.options.preload = preloaded.concat(newLngs);\n      this.loadResources(function (err) {\n        deferred.resolve();\n        if (callback) callback(err);\n      });\n      return deferred;\n    }\n  }, {\n    key: \"dir\",\n    value: function dir(lng) {\n      if (!lng) lng = this.resolvedLanguage || (this.languages && this.languages.length > 0 ? this.languages[0] : this.language);\n      if (!lng) return 'rtl';\n      var rtlLngs = ['ar', 'shu', 'sqr', 'ssh', 'xaa', 'yhd', 'yud', 'aao', 'abh', 'abv', 'acm', 'acq', 'acw', 'acx', 'acy', 'adf', 'ads', 'aeb', 'aec', 'afb', 'ajp', 'apc', 'apd', 'arb', 'arq', 'ars', 'ary', 'arz', 'auz', 'avl', 'ayh', 'ayl', 'ayn', 'ayp', 'bbz', 'pga', 'he', 'iw', 'ps', 'pbt', 'pbu', 'pst', 'prp', 'prd', 'ug', 'ur', 'ydd', 'yds', 'yih', 'ji', 'yi', 'hbo', 'men', 'xmn', 'fa', 'jpr', 'peo', 'pes', 'prs', 'dv', 'sam', 'ckb'];\n      return rtlLngs.indexOf(this.services.languageUtils.getLanguagePartFromCode(lng)) >= 0 ? 'rtl' : 'ltr';\n    }\n  }, {\n    key: \"createInstance\",\n    value: function createInstance() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var callback = arguments.length > 1 ? arguments[1] : undefined;\n      return new I18n(options, callback);\n    }\n  }, {\n    key: \"cloneInstance\",\n    value: function cloneInstance() {\n      var _this8 = this;\n\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n\n      var mergedOptions = _objectSpread({}, this.options, options, {\n        isClone: true\n      });\n\n      var clone = new I18n(mergedOptions);\n      var membersToCopy = ['store', 'services', 'language'];\n      membersToCopy.forEach(function (m) {\n        clone[m] = _this8[m];\n      });\n      clone.services = _objectSpread({}, this.services);\n      clone.services.utils = {\n        hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)\n      };\n      clone.translator = new Translator(clone.services, clone.options);\n      clone.translator.on('*', function (event) {\n        for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n          args[_key4 - 1] = arguments[_key4];\n        }\n\n        clone.emit.apply(clone, [event].concat(args));\n      });\n      clone.init(mergedOptions, callback);\n      clone.translator.options = clone.options;\n      clone.translator.backendConnector.services.utils = {\n        hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)\n      };\n      return clone;\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      return {\n        options: this.options,\n        store: this.store,\n        language: this.language,\n        languages: this.languages,\n        resolvedLanguage: this.resolvedLanguage\n      };\n    }\n  }]);\n\n  return I18n;\n}(EventEmitter);\n\nvar i18next = new I18n();\n\nexport default i18next;\n","import http from \"./http.js\";\nimport storage from \"./storage.js\";\nimport store from \"/src/store\";\nimport i18n from \"i18next\";\n\nconst me = {\n\n  get() {\n    return store.get()?.me;\n  },\n\n  get data() {\n    return store.get()?.me?.data;\n  },\n\n  get lang() {\n    return store.get()?.me?.data?.lang;\n  },\n\n  get groups() {\n    return store.get()?.me?.groups;\n  },\n\n  get id() {\n    return store.get()?.me?.id;\n  },\n\n  get avatar() {\n    return store.get()?.me?.avatar;\n  },\n\n  getGroupName(id) {\n    let group = store.get()[\"groups\"]?.find(g => g[\"id\"] == id);\n    return group ? group[\"name\"] : \"\";\n  },\n\n  update() {\n    return http.get(\"/api/me\", true).then(r => {\n      if (!r || !r?.id) {\n        store.dispatch('update', {});\n        return;\n      }\n      Promise.all(r.groups.map(g => http.get(`/api/groups/${g.id}`).then(group => group))).then(\n        groups => {\n          r.groups = groups;\n          store.dispatch('me/update', Object.assign({loaded: true}, r));\n        }\n      );\n      i18n.changeLanguage(r?.data?.lang);\n      return r;\n    });\n  },\n\n  fetch() {\n    if (store.get()[\"loaded\"]) {\n      return new Promise(r => r(store.get()));\n    }\n    return me.update();\n  },\n\n  hasBookmark(id) {\n    let state = store.get()?.me;\n    if (Array.isArray(state?.data?.bookmarks)) {\n      return state.data.bookmarks.some(bid => bid === id);\n    }\n    return false;\n  },\n\n  removeBookmark(id) {\n    store.dispatch('bookmark/remove', id);\n  },\n\n  addBookmark(id) {\n    store.dispatch('bookmark/add', id);\n  },\n\n  reset() {\n    store.dispatch('@init');\n  },\n\n  logout() {\n    storage.reset();\n    window.location.href = window.location.origin;\n  }\n}\n\nexport default me;\n","{\n    \"previous_coms\": \"See previous comments\",\n    \"next_coms\": \"See next comments\",\n    \"ago\": \"{{duration}} ago\",\n    \"groups\": \"Groups\",\n    \"login_placeholder\": \"email\",\n    \"password_placeholder\": \"password\",\n    \"new_password_placeholder\": \"new password\",\n    \"confirm_password_placeholder\": \"confirm password\",\n    \"connect\": \"Connection\",\n    \"submit\": \"Submit\",\n    \"title_placeholder\": \"Title of your message (optional)\",\n    \"text_placeholder\": \"Write your message here\",\n    \"upload_image\": \"Add photos\",\n    \"upload_video\": \"Add videos\",\n    \"upload_music\": \"Add musics\",\n    \"upload_pdf\": \"Add pdf\",\n    \"add_date\": \"Add a date\",\n    \"logout\": \"Logout\",\n    \"settings\": \"Settings\",\n    \"name\": \"Name\",\n    \"name_input\": \"Choose a name\",\n    \"login\": \"Login\",\n    \"login_input\": \"Choose a login\",\n    \"email\": \"Email\",\n    \"email_input\": \"Fill in your email here\",\n    \"save_changes\": \"Save changes\",\n    \"password\": \"Password\",\n    \"password_input\": \"Write a new password here\",\n    \"Invalid login/password\": \"Invalid login and/or password\",\n    \"edit\": \"Edit\",\n    \"delete\": \"Delete\",\n    \"ask_delete_message\": \"Are you sure to delete this message?\",\n    \"account\": \"Account\",\n    \"groups\": \"Groups\",\n    \"forgot_password\": \"Did you forget your password?\",\n    \"password_reset_mail_sent\": \"The password reset email was sent !\",\n    \"User not found\": \"User not found\",\n    \"reset_password_title\": \"Reset your password\",\n    \"error\": \"An error occurred\",\n    \"passwords_dont_match\": \"Passwords don't match\",\n    \"invitation_link\": \"Invitation link\",\n    \"reset_invitation_link\": \"Reset invitation link\",\n    \"invitation_welcome\": \"Welcome on Zusam ! Please sign up before joining the group.\",\n    \"signup\": \"Sign up\",\n    \"create_a_group\": \"Create a group\",\n    \"create_the_group\": \"Create the group\",\n    \"quit_group\": \"Leave the group\",\n    \"settings_updated\": \"Your settings were updated\",\n    \"group_updated\": \"The group was updated !\",\n    \"group_left\": \"You left the group !\",\n    \"multiple_photos_upload\": \"An error ocurred. Try uploading images one by one (this can happen in some browsers)\",\n    \"error_new_message\": \"An error occurred while sending your message\",\n    \"error_upload\": \"An error occurred during the upload\",\n    \"cancel_write\": \"Do you really want to cancel writing a new message?\",\n    \"empty_message\": \"The message is empty and cannot be sent !\",\n    \"cancel\": \"Cancel\",\n    \"just_now\": \"Just now\",\n    \"notification_emails\": \"Email notifications\",\n    \"none\": \"None\",\n    \"hourly\": \"Hourly\",\n    \"daily\": \"Daily\",\n    \"weekly\": \"Weekly\",\n    \"monthly\": \"Monthly\",\n    \"notification_emails_stopped\": \"Email notifications stopped !\",\n    \"group_share_choice\": \"To which group do you want to send this message?\",\n    \"public_link\": \"public link\",\n    \"default_group\": \"Default group\",\n    \"destroy_account\": \"Delete your account\",\n    \"destroy_account_explain\": \"Once you delete your account, there is no going back. Please be certain.\",\n    \"are_you_sure\": \"Are you sure?\",\n    \"share_message\": \"share the message\",\n    \"users\": \"users\",\n    \"has_posted_in\": \"has posted in\",\n    \"has_commented_on\": \"has commented on\",\n    \"has_joined\": \"has joined\",\n    \"has_left\": \"has left\",\n    \"the_message_from\": \"the message from\",\n    \"in\": \"in\",\n    \"lang\": \"language\",\n    \"reply\": \"reply\",\n    \"replies_one\": \"{{count}} reply\",\n    \"replies_other\":\"{{count}} replies\",\n    \"publish_in_group\": \"publish in the group\",\n    \"search_in_group\": \"search in this group\",\n    \"changed_group_name\": \"changed the group's name\",\n    \"to\": \"to\",\n    \"notifications\": \"notifications\",\n    \"mark_all_as_read\": \"mark all as read\",\n    \"search_without_result\": \"Your search did not match any message.\",\n    \"add_bookmark\": \"Bookmark message\",\n    \"remove_bookmark\": \"Unbookmark message\",\n    \"bookmarks\": \"bookmarks\",\n    \"api_key\": \"API key\",\n    \"reset_api_key\": \"Reset the API key (you will be disconnected)\",\n    \"video_not_ready\": \"Video is not ready yet.\",\n    \"bookmark_added\": \"Message added to bookmarks !\",\n    \"bookmark_removed\": \"Message removed from bookmarks !\",\n    \"parent_message\": \"Parent message\"\n}\n","{\n    \"previous_coms\": \"Voir les commentaires prcdents\",\n    \"next_coms\": \"Voir les commentaires suivants\",\n    \"ago\": \"Il y a {{duration}}\",\n    \"groups\": \"Groupes\",\n    \"login_placeholder\": \"email\",\n    \"password_placeholder\": \"mot de passe\",\n    \"new_password_placeholder\": \"nouveau mot de passe\",\n    \"confirm_password_placeholder\": \"confirmez le mot de passe\",\n    \"connect\": \"Connexion\",\n    \"submit\": \"Envoyer\",\n    \"title_placeholder\": \"Titre de votre message (optionnel)\",\n    \"text_placeholder\": \"Ecrivez votre message ici\",\n    \"upload_image\": \"Ajouter des photos\",\n    \"upload_video\": \"Ajouter des vidos\",\n    \"upload_music\": \"Ajouter des musiques\",\n    \"upload_pdf\": \"Ajouter un pdf\",\n    \"add_date\": \"Prciser une date\",\n    \"logout\": \"Se dconnecter\",\n    \"settings\": \"Paramtres\",\n    \"name\": \"Nom\",\n    \"name_input\": \"Choisissez un nom\",\n    \"login\": \"Identifiant\",\n    \"login_input\": \"Choisissez un identifiant\",\n    \"email\": \"Email\",\n    \"email_input\": \"Renseignez votre adresse mail ici\",\n    \"save_changes\": \"Sauvegarder les changements\",\n    \"password\": \"Mot de passe\",\n    \"password_input\": \"Entrez un nouveau mot de passe\",\n    \"Invalid login/password\": \"Identifiant et/ou mot de passe invalide\",\n    \"edit\": \"Editer\",\n    \"delete\": \"Supprimer\",\n    \"ask_delete_message\": \"tes-vous sr de vouloir supprimer ce message ?\",\n    \"account\": \"Compte\",\n    \"groups\": \"Groupes\",\n    \"forgot_password\": \"Mot de passe oubli ?\",\n    \"password_reset_mail_sent\": \"Le mail de rinitialisation a bien t envoy !\",\n    \"User not found\": \"Utilisateur inexistant\",\n    \"reset_password_title\": \"Rinitialisation de votre mot de passe\",\n    \"error\": \"Une erreur est survenue. Veuillez ressayer.\",\n    \"passwords_dont_match\": \"Les mots de passe ne sont pas identiques !\",\n    \"invitation_link\": \"Lien d'invitation\",\n    \"reset_invitation_link\": \"Rinitialiser le lien d'invitation\",\n    \"invitation_welcome\": \"Bienvenue sur Zusam ! Veuillez vous inscrire avant de rejoindre le groupe.\",\n    \"signup\": \"S'inscrire\",\n    \"create_a_group\": \"Crer un groupe\",\n    \"create_the_group\": \"Crer le groupe\",\n    \"quit_group\": \"Quitter le groupe\",\n    \"settings_updated\": \"Vos prfrences ont t mises  jour !\",\n    \"group_updated\": \"Le groupe a t mis  jour !\",\n    \"group_left\": \"Vous avez quitt le groupe !\",\n    \"multiple_photos_upload\": \"Une erreur est survenue. Veuillez essayer avec une seule photo (certains navigateurs bloquent l'ajout de plusieurs photos en simultan).\",\n    \"error_new_message\": \"Une erreur inconnue est survenue pendant l'envoi de votre message.\",\n    \"error_upload\": \"Une erreur s'est produite pendant l'envoi.\",\n    \"cancel_write\": \"Voulez-vous annuler l'criture d'un nouveau message ?\",\n    \"empty_message\": \"Le message est vide !\",\n    \"cancel\": \"Annuler\",\n    \"just_now\": \"A l'instant\",\n    \"notification_emails\": \"Mail de notification\",\n    \"none\": \"Aucun\",\n    \"hourly\": \"Une fois par heure\",\n    \"daily\": \"Journalier\",\n    \"weekly\": \"Hebdomadaire\",\n    \"monthly\": \"Mensuel\",\n    \"notification_emails_stopped\": \"Notifications par email dsactives !\",\n    \"group_share_choice\": \"A quel groupe voulez-vous envoyer ce message ?\",\n    \"public_link\": \"lien public\",\n    \"default_group\": \"Groupe par dfaut\",\n    \"destroy_account\": \"Supprimer votre compte\",\n    \"destroy_account_explain\": \"Une fois votre compte supprim, il sera impossible d'annuler l'opration.\",\n    \"are_you_sure\": \"Etes-vous sr ?\",\n    \"share_message\": \"partager le message\",\n    \"users\": \"utilisateurs\",\n    \"has_posted_in\": \"a post dans\",\n    \"has_commented_on\": \"a comment\",\n    \"has_joined\": \"a rejoint\",\n    \"has_left\": \"a quitt\",\n    \"the_message_from\": \"le message de\",\n    \"in\": \"dans\",\n    \"lang\": \"langue\",\n    \"reply\": \"rpondre\",\n    \"replies_one\": \"{{count}} rponse\",\n    \"replies_other\": \"{{count}} rponses\",\n    \"publish_in_group\": \"promouvoir le message\",\n    \"search_in_group\": \"rechercher dans le groupe\",\n    \"changed_group_name\": \"a chang le nom du groupe\",\n    \"to\": \"en\",\n    \"notifications\": \"notifications\",\n    \"mark_all_as_read\": \"tout marquer comme lu\",\n    \"search_without_result\": \"Votre recherche ne correspond  aucun message.\",\n    \"add_bookmark\": \"Ajouter aux marque-pages\",\n    \"remove_bookmark\": \"Supprimer des marque-pages\",\n    \"bookmarks\": \"marque-pages\",\n    \"api_key\": \"Clef d'API\",\n    \"reset_api_key\": \"Changer votre clef d'API (vous allez tre dconnect)\",\n    \"video_not_ready\": \"La vido n'est pas encore prte.\",\n    \"bookmark_added\": \"Message ajout aux marque-pages !\",\n    \"bookmark_removed\": \"Message supprim des marque-pages !\",\n    \"parent_message\": \"Message parent\"\n}\n","{\n    \"previous_coms\": \"Ver los comentarios anteriores\",\n    \"next_coms\": \"Ver los siguientes comentarios\",\n    \"ago\": \"Hace {{duration}}\",\n    \"groups\": \"Grupos\",\n    \"login_placeholder\": \"correo\",\n    \"password_placeholder\": \"contrasea\",\n    \"new_password_placeholder\": \"nueva contrasea\",\n    \"confirm_password_placeholder\": \"confirmar contrasea\",\n    \"connect\": \"Conectarse\",\n    \"submit\": \"Enviar\",\n    \"title_placeholder\": \"Asunto (opcional)\",\n    \"text_placeholder\": \"Escribe tu mensaje aqu\",\n    \"upload_image\": \"Aadir fotos\",\n    \"upload_video\": \"Aadir videos\",\n    \"upload_music\": \"Aadir msica\",\n    \"upload_pdf\": \"Aadir pdf\",\n    \"add_date\": \"Aadir una fecha\",\n    \"logout\": \"Desconectarse\",\n    \"settings\": \"Parmetros\",\n    \"name\": \"Nombre\",\n    \"name_input\": \"Elige un nombre\",\n    \"login\": \"Usuario\",\n    \"login_input\": \"Elige un usuario\",\n    \"email\": \"Correo\",\n    \"email_input\": \"Indicar correo electrnico\",\n    \"save_changes\": \"Guardar los cambios\",\n    \"password\": \"Contrasea\",\n    \"password_input\": \"Indicar una nueva contrasea\",\n    \"Invalid login/password\": \"Usuario o contrasea incorrecto\",\n    \"edit\": \"Editar\",\n    \"delete\": \"Borrar\",\n    \"ask_delete_message\": \"Quieres borrar este mensaje?\",\n    \"account\": \"Cuenta\",\n    \"groups\": \"Grupos\",\n    \"forgot_password\": \"Olvidaste tu contrasea?\",\n    \"password_reset_mail_sent\": \"El correo ha sido enviado!\",\n    \"User not found\": \"El usuario no existe\",\n    \"reset_password_title\": \"Cambia tu contrasea\",\n    \"error\": \"Un error ocurri. Vuelve a intentar.\",\n    \"passwords_dont_match\": \"Las contraseas no coinciden\",\n    \"invitation_link\": \"Enlace de invitacin\",\n    \"reset_invitation_link\": \"Cambiar el enlace de invitacin\",\n    \"invitation_welcome\": \"Bienvenido a Zusam ! Inscribete para conectarte con un grupo.\",\n    \"signup\": \"Inscribirse\",\n    \"create_a_group\": \"Crear un grupo\",\n    \"create_the_group\": \"Crear el grupo\",\n    \"quit_group\": \"Dejar el grupo\",\n    \"settings_updated\": \"Tus preferencias han sido actualizadas!\",\n    \"group_updated\": \"El grupo ha sido actualizado!\",\n    \"group_left\": \"Has abandonado el grupo\",\n    \"multiple_photos_upload\": \"Un error ocurri. Vuelve a intentar con solo una foto (algunos navegadores impiden aadir varias fotos al mismo tiempo).\",\n    \"error_new_message\": \"Un error desconocido ocurri durante el envo del mensaje.\",\n    \"error_upload\": \"Un error ocurri durante el envo.\",\n    \"cancel_write\": \"Quieres cancelar este nuevo mensaje?\",\n    \"empty_message\": \"No hay mensaje!\",\n    \"cancel\": \"Cancelar\",\n    \"just_now\": \"Ahora\",\n    \"notification_emails\": \"Correo de notificacin\",\n    \"none\": \"Ninguno\",\n    \"hourly\": \"Cada hora\",\n    \"daily\": \"Diario\",\n    \"weekly\": \"Semanal\",\n    \"monthly\": \"Mensual\",\n    \"notification_emails_stopped\": \"Notificaciones de correo electrnico detenidas!\",\n    \"group_share_choice\": \"A qu grupo desea enviar este mensaje?\",\n    \"public_link\": \"enlace pblico\",\n    \"default_group\": \"Grupo predeterminado\",\n    \"destroy_account\": \"Borrar la cuenta\",\n    \"destroy_account_explain\": \"Una vez que elimines tu cuenta, no hay vuelta atrs.\",\n    \"are_you_sure\": \"Ests seguro ?\",\n    \"share_message\": \"comparte el mensaje\",\n    \"users\": \"usuarios\",\n    \"has_posted_in\": \"ha publicado en\",\n    \"has_commented_on\": \"ha comentado\",\n    \"has_joined\": \"se has unido\",\n    \"has_left\": \"ha dejado\",\n    \"the_message_from\": \"el mensaje de\",\n    \"in\": \"en\",\n    \"lang\": \"idioma\",\n    \"reply\": \"responder\",\n    \"replies_one\": \"{{count}} respuesta\",\n    \"replies_other\":\"{{count}} respuestas\",\n    \"publish_in_group\": \"publicar en el grupo\",\n    \"search_in_group\": \"buscar en este grupo\",\n    \"changed_group_name\": \"cambi el nombre del grupo\",\n    \"to\": \"a\",\n    \"notifications\": \"notificaciones\",\n    \"mark_all_as_read\": \"marcar todo como leido\",\n    \"search_without_result\": \"Su bsqueda no coincide con ningn mensaje.\",\n    \"add_bookmark\": \"Marcar este mensaje\",\n    \"remove_bookmark\": \"Desmarcar este mensaje\",\n    \"bookmarks\": \"marcadores\",\n    \"api_key\": \"Clave API\",\n    \"reset_api_key\": \"Restablecer la clave API (se desconectar)\",\n    \"video_not_ready\": \"El video an no est listo\",\n    \"bookmark_added\": \"Mensaje agregado a marcadores !\",\n    \"bookmark_removed\": \"Mensaje eliminado de los marcadores !\",\n    \"parent_message\": \"Mensaje para padres\"\n\n}\n","{\n    \"previous_coms\": \"Pozri predchdzajce komentre\",\n    \"next_coms\": \"Pozri nasledujce komentre\",\n    \"ago\": \"{{duration}} sp\",\n    \"groups\": \"Skupiny\",\n    \"login_placeholder\": \"email\",\n    \"password_placeholder\": \"heslo\",\n    \"new_password_placeholder\": \"nov heslo\",\n    \"confirm_password_placeholder\": \"potvrdi heslo\",\n    \"connect\": \"Connection\",\n    \"submit\": \"Odosla\",\n    \"title_placeholder\": \"Nadpis vho prspevku (nie je povinn)\",\n    \"text_placeholder\": \"Tu nap prspevok\",\n    \"upload_image\": \"Prida fotografie\",\n    \"upload_video\": \"Prida vide\",\n    \"upload_music\": \"Prida hudbu\",\n    \"upload_pdf\": \"Prida pdf\",\n    \"add_date\": \"Prida dtum\",\n    \"logout\": \"Odhlsi\",\n    \"settings\": \"Nastavenia\",\n    \"name\": \"Meno\",\n    \"name_input\": \"Zvo si nejak meno\",\n    \"login\": \"Login\",\n    \"login_input\": \"Zvo si nejak prihlasovacie meno\",\n    \"email\": \"Email\",\n    \"email_input\": \"Nap tvoj email sem\",\n    \"save_changes\": \"Uloi zmeny\",\n    \"password\": \"Heslo\",\n    \"password_input\": \"Tu nap heslo\",\n    \"Invalid login/password\": \"Nesprvny login alebo heslo\",\n    \"edit\": \"Upravi\",\n    \"delete\": \"Zmaza\",\n    \"ask_delete_message\": \"Si si ist, e chce zmaza tento prspevok?\",\n    \"account\": \"et\",\n    \"groups\": \"Skupiny\",\n    \"forgot_password\": \"Zabudol si svoje heslo?\",\n    \"password_reset_mail_sent\": \"Email s informciami o nastaven novho hesla bol odoslan!\",\n    \"User not found\": \"Neexistujci uvate\",\n    \"reset_password_title\": \"Zmena hesla\",\n    \"error\": \"Chyba\",\n    \"passwords_dont_match\": \"Hesl sa nezhoduj\",\n    \"invitation_link\": \"Pozvac odkaz\",\n    \"reset_invitation_link\": \"Reset invitation link\",\n    \"invitation_welcome\": \"Vitajte v Zusam ! Zaregistrujte sa pred pripojenm sa ku skupine.\",\n    \"signup\": \"Prihlsi\",\n    \"create_a_group\": \"Vytvori skupinu\",\n    \"create_the_group\": \"Vytvori skupinu\",\n    \"quit_group\": \"Opusti skupinu\",\n    \"settings_updated\": \"Vae nastavenia boli zmenen\",\n    \"group_updated\": \"Nastavenia skupiny boli zmenen\",\n    \"group_left\": \"Opustili ste skupinu\",\n    \"multiple_photos_upload\": \"Objavila sa chyba. Skste priloi obrzky po jednom (tto chyba sa me objavova v niektorch prehliadaoch)\",\n    \"error_new_message\": \"Pri odosielan prspevku sa objavila chyba\",\n    \"error_upload\": \"Objavila sa chyba poas odosielania\",\n    \"cancel_write\": \"Chcete naozaj zrui vytvranie novho prspevku?\",\n    \"empty_message\": \"Przdna sprva neme by odoslan\",\n    \"cancel\": \"Zrui\",\n    \"just_now\": \"Prve teraz\",\n    \"notification_emails\": \"Notifikan email\",\n    \"none\": \"iadne\",\n    \"hourly\": \"Kad hodinu\",\n    \"daily\": \"Denne\",\n    \"weekly\": \"Tdenne\",\n    \"monthly\": \"Mesane\",\n    \"notification_emails_stopped\": \"E-mailov upozornenia sa zastavili!\",\n    \"group_share_choice\": \"Do ktorej skupiny chcete odosla tto sprvu ?\",\n    \"public_link\": \"verejn spojenie\",\n    \"default_group\": \"Predvolen skupinu\",\n    \"destroy_account\": \"Odstrte svoj et\",\n    \"destroy_account_explain\": \"Po odstrnen tu sa u nevrti\",\n    \"are_you_sure\": \"Si si ist ?\",\n    \"share_message\": \"zdieajte sprvu\",\n    \"users\": \"uvatelia\",\n    \"has_posted_in\": \"zverejnila v\",\n    \"has_commented_on\": \"komentoval\",\n    \"has_joined\": \"sa pripojil k\",\n    \"has_left\": \"opustil\",\n    \"the_message_from\": \"sprva od\",\n    \"in\": \"v\",\n    \"lang\": \"jazyk\",\n    \"reply\": \"odpove\",\n    \"replies_one\": \"{{count}} odpove\",\n    \"replies_other\":\"{{count}} odpoved\",\n    \"publish_in_group\": \"publikova v skupine\",\n    \"search_in_group\": \"hada v tejto skupine\",\n    \"changed_group_name\": \"zmenil nzov skupiny\",\n    \"to\": \"na\",\n    \"notifications\": \"oznmenia\",\n    \"mark_all_as_read\": \"oznai vetko ako pretan\",\n    \"search_without_result\": \"Vmu vyhadvaniu nezodpoved iadna sprva\",\n    \"add_bookmark\": \"Tto sprvu uloi medzi zloky\",\n    \"remove_bookmark\": \"Zrute oznaenie tejto sprvy\",\n    \"bookmarks\": \"zloky\",\n    \"api_key\": \"K API\",\n    \"reset_api_key\": \"Obnovte k rozhrania API (budete odpojen)\",\n    \"video_not_ready\": \"Video ete nie je pripraven\",\n    \"bookmark_added\": \"Sprva pridan do zloiek !\",\n    \"bookmark_removed\": \"Sprva bola odstrnen zo zloiek !\",\n    \"parent_message\": \"Sprva rodia\"\n\n}\n","import me from \"./me.js\";\nimport i18n from \"i18next\";\nimport { initReactI18next } from \"react-i18next\";\n\nimport en from \"/src/lang/en.json\";\nimport fr from \"/src/lang/fr.json\";\nimport es from \"/src/lang/es.json\";\nimport sk from \"/src/lang/sk.json\";\n\nconst lang = {\n  possibleLang: {\n    en: \"English\",\n    es: \"Espaol\",\n    fr: \"Franais\",\n    sk: \"Slovensk\"\n  }, // possible dicts names to load\n  init: () => {\n    i18n\n      .use(initReactI18next)\n      .init({\n        resources: {\n          en: {\n            translation: en\n          },\n          fr: {\n            translation: fr\n          },\n          sk: {\n            translation: sk\n          },\n          es: {\n            translation: es\n          },\n        },\n        lng: lang.getCurrentLang(), // if you're using a language detector, do not define the lng option\n        fallbackLng: lang.getDefaultLang(),\n        interpolation: {\n          escapeValue: false // react already safes from xss => https://www.i18next.com/translation-function/interpolation#unescape\n        }\n      });\n  },\n  getDefaultLang: () =>\n    (document.querySelector(\"meta[name='zusam:default-lang']\") || {}).content ||\n    \"en\",\n  getCurrentLang: () => me.lang || lang.getDefaultLang(),\n};\nexport default lang;\n","import http from \"./http.js\";\nimport store from \"/src/store\";\n\nconst notifications = {\n\n  get() {\n    return store.get()?.notifications || [];\n  },\n\n  update() {\n    return http.get(`/api/me/notifications/100`).then(r => {\n      store.dispatch('notifications/update', r);\n    });\n  },\n\n  isNew(id) {\n    let state = store.get();\n    if (Array.isArray(state[\"notifications\"])) {\n      return state.notifications.some(\n        n =>\n          notifications.matchNotification(n, id) ||\n          (n.type == \"new_comment\" && n.fromMessage.id === id)\n      );\n    }\n    return false;\n  },\n\n  removeAllNotifications() {\n    let state = store.get();\n    if (Array.isArray(state[\"notifications\"])) {\n      state.notifications.forEach(n => store.dispatch('notifications/remove', n))\n    }\n  },\n\n  removeMatchingNotifications(id) {\n    let state = store.get();\n    if (Array.isArray(state[\"notifications\"])) {\n      state.notifications\n        .filter(n => notifications.matchNotification(n, id))\n        .forEach(n => store.dispatch('notifications/remove', n));\n    }\n  },\n\n  matchNotification(notif, id) {\n    if (notif.id === id) {\n      return true;\n    }\n    if (notif.target === id) {\n      return true;\n    }\n    return false;\n  },\n}\n\nexport default notifications;\n","import util from \"./util.js\";\nimport storage from \"./storage.js\";\nimport http from \"./http.js\";\nimport store from \"/src/store\";\n\nconst router = {\n\n  get() {\n    return store.get();\n  },\n\n  get route() {\n    try {\n      return router.removeSubpath(location.pathname).slice(1).split(\"/\")[0];\n    } catch {\n      return \"\";\n    }\n  },\n\n  get id() {\n    try {\n      return router.removeSubpath(location.pathname).slice(1).split(\"/\")[1];\n    } catch {\n      return \"\";\n    }\n  },\n\n  get action() {\n    try {\n      return router.removeSubpath(location.pathname).slice(1).split(\"/\")[2];\n    } catch {\n      return \"\";\n    }\n  },\n\n  get backUrl() {\n    console.err(\"don't use backUrl\");\n    return store.get()?.backUrl;\n  },\n\n  get search() {\n    return location.search.slice(1);\n  },\n\n  getEntity() {\n    if (router.isEntity(router.route)) {\n      return http.get(`/api/${router.route}/${router.id}`);\n    }\n    return Promise.resolve(null);\n  },\n\n  get entity() {\n    console.err(\"don't use entity\");\n    return store.get()?.entity;\n  },\n\n  removeSubpath: path =>\n    path ? path.replace(new RegExp(`^${util.getSubpath()}`), \"\") : \"\",\n\n  getParam: (param, searchParams = window.location.search.substring(1)) => {\n    let res = searchParams.split(\"&\").find(e => e.split(\"=\")[0] === param);\n    return res ? decodeURIComponent(res.split(\"=\")[1]) : \"\";\n  },\n\n  getSegments: () =>\n      router\n      .removeSubpath(window.location.pathname)\n      .slice(1)\n      .split(\"?\")[0]\n      .split(\"/\"),\n\n  // check if route is \"outside\": accessible to non connected user\n  isOutside: () =>\n    [\n      \"login\",\n      \"password-reset\",\n      \"signup\",\n      \"invitation\",\n      \"stop-notification-emails\",\n      \"public\"\n    ].includes(router.route || router.getSegments()[0]),\n\n  isEntity: () => [\"messages\", \"groups\", \"users\", \"links\", \"files\"].includes(router.getSegments()[0]),\n\n  getUrlComponents: url => {\n    let components = {};\n    if (url) {\n      components.url = new URL(url);\n      components.path = components.url.pathname;\n      components.search = components.url.search.slice(1);\n      [components.route, components.id, components.action] = router\n        .removeSubpath(components.path)\n        .slice(1)\n        .split(\"/\");\n    }\n    components.entityType = \"\";\n    components.backUrl = \"\";\n    return components;\n  },\n};\nexport default router;\n","import _alert from \"./alert.js\";\nimport _api from \"./api.js\";\nimport _http from \"./http.js\";\nimport _lang from \"./lang.js\";\nimport _me from \"./me.js\";\nimport _notifications from \"./notifications.js\";\nimport _router from \"./router.js\";\nimport _storage from \"./storage.js\";\nimport _util from \"./util.js\";\n\nexport const alert = _alert;\nexport const api = _api;\nexport const http = _http;\nexport const lang = _lang;\nexport const me = _me;\nexport const notifications = _notifications;\nexport const router = _router;\nexport const storage = _storage;\nexport const util = _util;\n","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","function isAbsolute(pathname) {\n  return pathname.charAt(0) === '/';\n}\n\n// About 1.5x faster than the two-arg version of Array#splice()\nfunction spliceOne(list, index) {\n  for (var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1) {\n    list[i] = list[k];\n  }\n\n  list.pop();\n}\n\n// This implementation is based heavily on node's url.parse\nfunction resolvePathname(to, from) {\n  if (from === undefined) from = '';\n\n  var toParts = (to && to.split('/')) || [];\n  var fromParts = (from && from.split('/')) || [];\n\n  var isToAbs = to && isAbsolute(to);\n  var isFromAbs = from && isAbsolute(from);\n  var mustEndAbs = isToAbs || isFromAbs;\n\n  if (to && isAbsolute(to)) {\n    // to is absolute\n    fromParts = toParts;\n  } else if (toParts.length) {\n    // to is relative, drop the filename\n    fromParts.pop();\n    fromParts = fromParts.concat(toParts);\n  }\n\n  if (!fromParts.length) return '/';\n\n  var hasTrailingSlash;\n  if (fromParts.length) {\n    var last = fromParts[fromParts.length - 1];\n    hasTrailingSlash = last === '.' || last === '..' || last === '';\n  } else {\n    hasTrailingSlash = false;\n  }\n\n  var up = 0;\n  for (var i = fromParts.length; i >= 0; i--) {\n    var part = fromParts[i];\n\n    if (part === '.') {\n      spliceOne(fromParts, i);\n    } else if (part === '..') {\n      spliceOne(fromParts, i);\n      up++;\n    } else if (up) {\n      spliceOne(fromParts, i);\n      up--;\n    }\n  }\n\n  if (!mustEndAbs) for (; up--; up) fromParts.unshift('..');\n\n  if (\n    mustEndAbs &&\n    fromParts[0] !== '' &&\n    (!fromParts[0] || !isAbsolute(fromParts[0]))\n  )\n    fromParts.unshift('');\n\n  var result = fromParts.join('/');\n\n  if (hasTrailingSlash && result.substr(-1) !== '/') result += '/';\n\n  return result;\n}\n\nexport default resolvePathname;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","function valueOf(obj) {\n  return obj.valueOf ? obj.valueOf() : Object.prototype.valueOf.call(obj);\n}\n\nfunction valueEqual(a, b) {\n  // Test for strict equality first.\n  if (a === b) return true;\n\n  // Otherwise, if either of them == null they are not equal.\n  if (a == null || b == null) return false;\n\n  if (Array.isArray(a)) {\n    return (\n      Array.isArray(b) &&\n      a.length === b.length &&\n      a.every(function(item, index) {\n        return valueEqual(item, b[index]);\n      })\n    );\n  }\n\n  if (typeof a === 'object' || typeof b === 'object') {\n    var aValue = valueOf(a);\n    var bValue = valueOf(b);\n\n    if (aValue !== a || bValue !== b) return valueEqual(aValue, bValue);\n\n    return Object.keys(Object.assign({}, a, b)).every(function(key) {\n      return valueEqual(a[key], b[key]);\n    });\n  }\n\n  return false;\n}\n\nexport default valueEqual;\n","var isProduction = process.env.NODE_ENV === 'production';\nvar prefix = 'Invariant failed';\nfunction invariant(condition, message) {\n    if (condition) {\n        return;\n    }\n    if (isProduction) {\n        throw new Error(prefix);\n    }\n    throw new Error(prefix + \": \" + (message || ''));\n}\n\nexport default invariant;\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport resolvePathname from 'resolve-pathname';\nimport valueEqual from 'value-equal';\nimport warning from 'tiny-warning';\nimport invariant from 'tiny-invariant';\n\nfunction addLeadingSlash(path) {\n  return path.charAt(0) === '/' ? path : '/' + path;\n}\nfunction stripLeadingSlash(path) {\n  return path.charAt(0) === '/' ? path.substr(1) : path;\n}\nfunction hasBasename(path, prefix) {\n  return path.toLowerCase().indexOf(prefix.toLowerCase()) === 0 && '/?#'.indexOf(path.charAt(prefix.length)) !== -1;\n}\nfunction stripBasename(path, prefix) {\n  return hasBasename(path, prefix) ? path.substr(prefix.length) : path;\n}\nfunction stripTrailingSlash(path) {\n  return path.charAt(path.length - 1) === '/' ? path.slice(0, -1) : path;\n}\nfunction parsePath(path) {\n  var pathname = path || '/';\n  var search = '';\n  var hash = '';\n  var hashIndex = pathname.indexOf('#');\n\n  if (hashIndex !== -1) {\n    hash = pathname.substr(hashIndex);\n    pathname = pathname.substr(0, hashIndex);\n  }\n\n  var searchIndex = pathname.indexOf('?');\n\n  if (searchIndex !== -1) {\n    search = pathname.substr(searchIndex);\n    pathname = pathname.substr(0, searchIndex);\n  }\n\n  return {\n    pathname: pathname,\n    search: search === '?' ? '' : search,\n    hash: hash === '#' ? '' : hash\n  };\n}\nfunction createPath(location) {\n  var pathname = location.pathname,\n      search = location.search,\n      hash = location.hash;\n  var path = pathname || '/';\n  if (search && search !== '?') path += search.charAt(0) === '?' ? search : \"?\" + search;\n  if (hash && hash !== '#') path += hash.charAt(0) === '#' ? hash : \"#\" + hash;\n  return path;\n}\n\nfunction createLocation(path, state, key, currentLocation) {\n  var location;\n\n  if (typeof path === 'string') {\n    // Two-arg form: push(path, state)\n    location = parsePath(path);\n    location.state = state;\n  } else {\n    // One-arg form: push(location)\n    location = _extends({}, path);\n    if (location.pathname === undefined) location.pathname = '';\n\n    if (location.search) {\n      if (location.search.charAt(0) !== '?') location.search = '?' + location.search;\n    } else {\n      location.search = '';\n    }\n\n    if (location.hash) {\n      if (location.hash.charAt(0) !== '#') location.hash = '#' + location.hash;\n    } else {\n      location.hash = '';\n    }\n\n    if (state !== undefined && location.state === undefined) location.state = state;\n  }\n\n  try {\n    location.pathname = decodeURI(location.pathname);\n  } catch (e) {\n    if (e instanceof URIError) {\n      throw new URIError('Pathname \"' + location.pathname + '\" could not be decoded. ' + 'This is likely caused by an invalid percent-encoding.');\n    } else {\n      throw e;\n    }\n  }\n\n  if (key) location.key = key;\n\n  if (currentLocation) {\n    // Resolve incomplete/relative pathname relative to current location.\n    if (!location.pathname) {\n      location.pathname = currentLocation.pathname;\n    } else if (location.pathname.charAt(0) !== '/') {\n      location.pathname = resolvePathname(location.pathname, currentLocation.pathname);\n    }\n  } else {\n    // When there is no prior location and pathname is empty, set it to /\n    if (!location.pathname) {\n      location.pathname = '/';\n    }\n  }\n\n  return location;\n}\nfunction locationsAreEqual(a, b) {\n  return a.pathname === b.pathname && a.search === b.search && a.hash === b.hash && a.key === b.key && valueEqual(a.state, b.state);\n}\n\nfunction createTransitionManager() {\n  var prompt = null;\n\n  function setPrompt(nextPrompt) {\n    process.env.NODE_ENV !== \"production\" ? warning(prompt == null, 'A history supports only one prompt at a time') : void 0;\n    prompt = nextPrompt;\n    return function () {\n      if (prompt === nextPrompt) prompt = null;\n    };\n  }\n\n  function confirmTransitionTo(location, action, getUserConfirmation, callback) {\n    // TODO: If another transition starts while we're still confirming\n    // the previous one, we may end up in a weird state. Figure out the\n    // best way to handle this.\n    if (prompt != null) {\n      var result = typeof prompt === 'function' ? prompt(location, action) : prompt;\n\n      if (typeof result === 'string') {\n        if (typeof getUserConfirmation === 'function') {\n          getUserConfirmation(result, callback);\n        } else {\n          process.env.NODE_ENV !== \"production\" ? warning(false, 'A history needs a getUserConfirmation function in order to use a prompt message') : void 0;\n          callback(true);\n        }\n      } else {\n        // Return false from a transition hook to cancel the transition.\n        callback(result !== false);\n      }\n    } else {\n      callback(true);\n    }\n  }\n\n  var listeners = [];\n\n  function appendListener(fn) {\n    var isActive = true;\n\n    function listener() {\n      if (isActive) fn.apply(void 0, arguments);\n    }\n\n    listeners.push(listener);\n    return function () {\n      isActive = false;\n      listeners = listeners.filter(function (item) {\n        return item !== listener;\n      });\n    };\n  }\n\n  function notifyListeners() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    listeners.forEach(function (listener) {\n      return listener.apply(void 0, args);\n    });\n  }\n\n  return {\n    setPrompt: setPrompt,\n    confirmTransitionTo: confirmTransitionTo,\n    appendListener: appendListener,\n    notifyListeners: notifyListeners\n  };\n}\n\nvar canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\nfunction getConfirmation(message, callback) {\n  callback(window.confirm(message)); // eslint-disable-line no-alert\n}\n/**\n * Returns true if the HTML5 history API is supported. Taken from Modernizr.\n *\n * https://github.com/Modernizr/Modernizr/blob/master/LICENSE\n * https://github.com/Modernizr/Modernizr/blob/master/feature-detects/history.js\n * changed to avoid false negatives for Windows Phones: https://github.com/reactjs/react-router/issues/586\n */\n\nfunction supportsHistory() {\n  var ua = window.navigator.userAgent;\n  if ((ua.indexOf('Android 2.') !== -1 || ua.indexOf('Android 4.0') !== -1) && ua.indexOf('Mobile Safari') !== -1 && ua.indexOf('Chrome') === -1 && ua.indexOf('Windows Phone') === -1) return false;\n  return window.history && 'pushState' in window.history;\n}\n/**\n * Returns true if browser fires popstate on hash change.\n * IE10 and IE11 do not.\n */\n\nfunction supportsPopStateOnHashChange() {\n  return window.navigator.userAgent.indexOf('Trident') === -1;\n}\n/**\n * Returns false if using go(n) with hash history causes a full page reload.\n */\n\nfunction supportsGoWithoutReloadUsingHash() {\n  return window.navigator.userAgent.indexOf('Firefox') === -1;\n}\n/**\n * Returns true if a given popstate event is an extraneous WebKit event.\n * Accounts for the fact that Chrome on iOS fires real popstate events\n * containing undefined state when pressing the back button.\n */\n\nfunction isExtraneousPopstateEvent(event) {\n  return event.state === undefined && navigator.userAgent.indexOf('CriOS') === -1;\n}\n\nvar PopStateEvent = 'popstate';\nvar HashChangeEvent = 'hashchange';\n\nfunction getHistoryState() {\n  try {\n    return window.history.state || {};\n  } catch (e) {\n    // IE 11 sometimes throws when accessing window.history.state\n    // See https://github.com/ReactTraining/history/pull/289\n    return {};\n  }\n}\n/**\n * Creates a history object that uses the HTML5 history API including\n * pushState, replaceState, and the popstate event.\n */\n\n\nfunction createBrowserHistory(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  !canUseDOM ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Browser history needs a DOM') : invariant(false) : void 0;\n  var globalHistory = window.history;\n  var canUseHistory = supportsHistory();\n  var needsHashChangeListener = !supportsPopStateOnHashChange();\n  var _props = props,\n      _props$forceRefresh = _props.forceRefresh,\n      forceRefresh = _props$forceRefresh === void 0 ? false : _props$forceRefresh,\n      _props$getUserConfirm = _props.getUserConfirmation,\n      getUserConfirmation = _props$getUserConfirm === void 0 ? getConfirmation : _props$getUserConfirm,\n      _props$keyLength = _props.keyLength,\n      keyLength = _props$keyLength === void 0 ? 6 : _props$keyLength;\n  var basename = props.basename ? stripTrailingSlash(addLeadingSlash(props.basename)) : '';\n\n  function getDOMLocation(historyState) {\n    var _ref = historyState || {},\n        key = _ref.key,\n        state = _ref.state;\n\n    var _window$location = window.location,\n        pathname = _window$location.pathname,\n        search = _window$location.search,\n        hash = _window$location.hash;\n    var path = pathname + search + hash;\n    process.env.NODE_ENV !== \"production\" ? warning(!basename || hasBasename(path, basename), 'You are attempting to use a basename on a page whose URL path does not begin ' + 'with the basename. Expected path \"' + path + '\" to begin with \"' + basename + '\".') : void 0;\n    if (basename) path = stripBasename(path, basename);\n    return createLocation(path, state, key);\n  }\n\n  function createKey() {\n    return Math.random().toString(36).substr(2, keyLength);\n  }\n\n  var transitionManager = createTransitionManager();\n\n  function setState(nextState) {\n    _extends(history, nextState);\n\n    history.length = globalHistory.length;\n    transitionManager.notifyListeners(history.location, history.action);\n  }\n\n  function handlePopState(event) {\n    // Ignore extraneous popstate events in WebKit.\n    if (isExtraneousPopstateEvent(event)) return;\n    handlePop(getDOMLocation(event.state));\n  }\n\n  function handleHashChange() {\n    handlePop(getDOMLocation(getHistoryState()));\n  }\n\n  var forceNextPop = false;\n\n  function handlePop(location) {\n    if (forceNextPop) {\n      forceNextPop = false;\n      setState();\n    } else {\n      var action = 'POP';\n      transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n        if (ok) {\n          setState({\n            action: action,\n            location: location\n          });\n        } else {\n          revertPop(location);\n        }\n      });\n    }\n  }\n\n  function revertPop(fromLocation) {\n    var toLocation = history.location; // TODO: We could probably make this more reliable by\n    // keeping a list of keys we've seen in sessionStorage.\n    // Instead, we just default to 0 for keys we don't know.\n\n    var toIndex = allKeys.indexOf(toLocation.key);\n    if (toIndex === -1) toIndex = 0;\n    var fromIndex = allKeys.indexOf(fromLocation.key);\n    if (fromIndex === -1) fromIndex = 0;\n    var delta = toIndex - fromIndex;\n\n    if (delta) {\n      forceNextPop = true;\n      go(delta);\n    }\n  }\n\n  var initialLocation = getDOMLocation(getHistoryState());\n  var allKeys = [initialLocation.key]; // Public interface\n\n  function createHref(location) {\n    return basename + createPath(location);\n  }\n\n  function push(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(!(typeof path === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to push when the 1st ' + 'argument is a location-like object that already has state; it is ignored') : void 0;\n    var action = 'PUSH';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var href = createHref(location);\n      var key = location.key,\n          state = location.state;\n\n      if (canUseHistory) {\n        globalHistory.pushState({\n          key: key,\n          state: state\n        }, null, href);\n\n        if (forceRefresh) {\n          window.location.href = href;\n        } else {\n          var prevIndex = allKeys.indexOf(history.location.key);\n          var nextKeys = allKeys.slice(0, prevIndex + 1);\n          nextKeys.push(location.key);\n          allKeys = nextKeys;\n          setState({\n            action: action,\n            location: location\n          });\n        }\n      } else {\n        process.env.NODE_ENV !== \"production\" ? warning(state === undefined, 'Browser history cannot push state in browsers that do not support HTML5 history') : void 0;\n        window.location.href = href;\n      }\n    });\n  }\n\n  function replace(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(!(typeof path === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to replace when the 1st ' + 'argument is a location-like object that already has state; it is ignored') : void 0;\n    var action = 'REPLACE';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var href = createHref(location);\n      var key = location.key,\n          state = location.state;\n\n      if (canUseHistory) {\n        globalHistory.replaceState({\n          key: key,\n          state: state\n        }, null, href);\n\n        if (forceRefresh) {\n          window.location.replace(href);\n        } else {\n          var prevIndex = allKeys.indexOf(history.location.key);\n          if (prevIndex !== -1) allKeys[prevIndex] = location.key;\n          setState({\n            action: action,\n            location: location\n          });\n        }\n      } else {\n        process.env.NODE_ENV !== \"production\" ? warning(state === undefined, 'Browser history cannot replace state in browsers that do not support HTML5 history') : void 0;\n        window.location.replace(href);\n      }\n    });\n  }\n\n  function go(n) {\n    globalHistory.go(n);\n  }\n\n  function goBack() {\n    go(-1);\n  }\n\n  function goForward() {\n    go(1);\n  }\n\n  var listenerCount = 0;\n\n  function checkDOMListeners(delta) {\n    listenerCount += delta;\n\n    if (listenerCount === 1 && delta === 1) {\n      window.addEventListener(PopStateEvent, handlePopState);\n      if (needsHashChangeListener) window.addEventListener(HashChangeEvent, handleHashChange);\n    } else if (listenerCount === 0) {\n      window.removeEventListener(PopStateEvent, handlePopState);\n      if (needsHashChangeListener) window.removeEventListener(HashChangeEvent, handleHashChange);\n    }\n  }\n\n  var isBlocked = false;\n\n  function block(prompt) {\n    if (prompt === void 0) {\n      prompt = false;\n    }\n\n    var unblock = transitionManager.setPrompt(prompt);\n\n    if (!isBlocked) {\n      checkDOMListeners(1);\n      isBlocked = true;\n    }\n\n    return function () {\n      if (isBlocked) {\n        isBlocked = false;\n        checkDOMListeners(-1);\n      }\n\n      return unblock();\n    };\n  }\n\n  function listen(listener) {\n    var unlisten = transitionManager.appendListener(listener);\n    checkDOMListeners(1);\n    return function () {\n      checkDOMListeners(-1);\n      unlisten();\n    };\n  }\n\n  var history = {\n    length: globalHistory.length,\n    action: 'POP',\n    location: initialLocation,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    block: block,\n    listen: listen\n  };\n  return history;\n}\n\nvar HashChangeEvent$1 = 'hashchange';\nvar HashPathCoders = {\n  hashbang: {\n    encodePath: function encodePath(path) {\n      return path.charAt(0) === '!' ? path : '!/' + stripLeadingSlash(path);\n    },\n    decodePath: function decodePath(path) {\n      return path.charAt(0) === '!' ? path.substr(1) : path;\n    }\n  },\n  noslash: {\n    encodePath: stripLeadingSlash,\n    decodePath: addLeadingSlash\n  },\n  slash: {\n    encodePath: addLeadingSlash,\n    decodePath: addLeadingSlash\n  }\n};\n\nfunction stripHash(url) {\n  var hashIndex = url.indexOf('#');\n  return hashIndex === -1 ? url : url.slice(0, hashIndex);\n}\n\nfunction getHashPath() {\n  // We can't use window.location.hash here because it's not\n  // consistent across browsers - Firefox will pre-decode it!\n  var href = window.location.href;\n  var hashIndex = href.indexOf('#');\n  return hashIndex === -1 ? '' : href.substring(hashIndex + 1);\n}\n\nfunction pushHashPath(path) {\n  window.location.hash = path;\n}\n\nfunction replaceHashPath(path) {\n  window.location.replace(stripHash(window.location.href) + '#' + path);\n}\n\nfunction createHashHistory(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  !canUseDOM ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Hash history needs a DOM') : invariant(false) : void 0;\n  var globalHistory = window.history;\n  var canGoWithoutReload = supportsGoWithoutReloadUsingHash();\n  var _props = props,\n      _props$getUserConfirm = _props.getUserConfirmation,\n      getUserConfirmation = _props$getUserConfirm === void 0 ? getConfirmation : _props$getUserConfirm,\n      _props$hashType = _props.hashType,\n      hashType = _props$hashType === void 0 ? 'slash' : _props$hashType;\n  var basename = props.basename ? stripTrailingSlash(addLeadingSlash(props.basename)) : '';\n  var _HashPathCoders$hashT = HashPathCoders[hashType],\n      encodePath = _HashPathCoders$hashT.encodePath,\n      decodePath = _HashPathCoders$hashT.decodePath;\n\n  function getDOMLocation() {\n    var path = decodePath(getHashPath());\n    process.env.NODE_ENV !== \"production\" ? warning(!basename || hasBasename(path, basename), 'You are attempting to use a basename on a page whose URL path does not begin ' + 'with the basename. Expected path \"' + path + '\" to begin with \"' + basename + '\".') : void 0;\n    if (basename) path = stripBasename(path, basename);\n    return createLocation(path);\n  }\n\n  var transitionManager = createTransitionManager();\n\n  function setState(nextState) {\n    _extends(history, nextState);\n\n    history.length = globalHistory.length;\n    transitionManager.notifyListeners(history.location, history.action);\n  }\n\n  var forceNextPop = false;\n  var ignorePath = null;\n\n  function locationsAreEqual$$1(a, b) {\n    return a.pathname === b.pathname && a.search === b.search && a.hash === b.hash;\n  }\n\n  function handleHashChange() {\n    var path = getHashPath();\n    var encodedPath = encodePath(path);\n\n    if (path !== encodedPath) {\n      // Ensure we always have a properly-encoded hash.\n      replaceHashPath(encodedPath);\n    } else {\n      var location = getDOMLocation();\n      var prevLocation = history.location;\n      if (!forceNextPop && locationsAreEqual$$1(prevLocation, location)) return; // A hashchange doesn't always == location change.\n\n      if (ignorePath === createPath(location)) return; // Ignore this change; we already setState in push/replace.\n\n      ignorePath = null;\n      handlePop(location);\n    }\n  }\n\n  function handlePop(location) {\n    if (forceNextPop) {\n      forceNextPop = false;\n      setState();\n    } else {\n      var action = 'POP';\n      transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n        if (ok) {\n          setState({\n            action: action,\n            location: location\n          });\n        } else {\n          revertPop(location);\n        }\n      });\n    }\n  }\n\n  function revertPop(fromLocation) {\n    var toLocation = history.location; // TODO: We could probably make this more reliable by\n    // keeping a list of paths we've seen in sessionStorage.\n    // Instead, we just default to 0 for paths we don't know.\n\n    var toIndex = allPaths.lastIndexOf(createPath(toLocation));\n    if (toIndex === -1) toIndex = 0;\n    var fromIndex = allPaths.lastIndexOf(createPath(fromLocation));\n    if (fromIndex === -1) fromIndex = 0;\n    var delta = toIndex - fromIndex;\n\n    if (delta) {\n      forceNextPop = true;\n      go(delta);\n    }\n  } // Ensure the hash is encoded properly before doing anything else.\n\n\n  var path = getHashPath();\n  var encodedPath = encodePath(path);\n  if (path !== encodedPath) replaceHashPath(encodedPath);\n  var initialLocation = getDOMLocation();\n  var allPaths = [createPath(initialLocation)]; // Public interface\n\n  function createHref(location) {\n    var baseTag = document.querySelector('base');\n    var href = '';\n\n    if (baseTag && baseTag.getAttribute('href')) {\n      href = stripHash(window.location.href);\n    }\n\n    return href + '#' + encodePath(basename + createPath(location));\n  }\n\n  function push(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(state === undefined, 'Hash history cannot push state; it is ignored') : void 0;\n    var action = 'PUSH';\n    var location = createLocation(path, undefined, undefined, history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var path = createPath(location);\n      var encodedPath = encodePath(basename + path);\n      var hashChanged = getHashPath() !== encodedPath;\n\n      if (hashChanged) {\n        // We cannot tell if a hashchange was caused by a PUSH, so we'd\n        // rather setState here and ignore the hashchange. The caveat here\n        // is that other hash histories in the page will consider it a POP.\n        ignorePath = path;\n        pushHashPath(encodedPath);\n        var prevIndex = allPaths.lastIndexOf(createPath(history.location));\n        var nextPaths = allPaths.slice(0, prevIndex + 1);\n        nextPaths.push(path);\n        allPaths = nextPaths;\n        setState({\n          action: action,\n          location: location\n        });\n      } else {\n        process.env.NODE_ENV !== \"production\" ? warning(false, 'Hash history cannot PUSH the same path; a new entry will not be added to the history stack') : void 0;\n        setState();\n      }\n    });\n  }\n\n  function replace(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(state === undefined, 'Hash history cannot replace state; it is ignored') : void 0;\n    var action = 'REPLACE';\n    var location = createLocation(path, undefined, undefined, history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var path = createPath(location);\n      var encodedPath = encodePath(basename + path);\n      var hashChanged = getHashPath() !== encodedPath;\n\n      if (hashChanged) {\n        // We cannot tell if a hashchange was caused by a REPLACE, so we'd\n        // rather setState here and ignore the hashchange. The caveat here\n        // is that other hash histories in the page will consider it a POP.\n        ignorePath = path;\n        replaceHashPath(encodedPath);\n      }\n\n      var prevIndex = allPaths.indexOf(createPath(history.location));\n      if (prevIndex !== -1) allPaths[prevIndex] = path;\n      setState({\n        action: action,\n        location: location\n      });\n    });\n  }\n\n  function go(n) {\n    process.env.NODE_ENV !== \"production\" ? warning(canGoWithoutReload, 'Hash history go(n) causes a full page reload in this browser') : void 0;\n    globalHistory.go(n);\n  }\n\n  function goBack() {\n    go(-1);\n  }\n\n  function goForward() {\n    go(1);\n  }\n\n  var listenerCount = 0;\n\n  function checkDOMListeners(delta) {\n    listenerCount += delta;\n\n    if (listenerCount === 1 && delta === 1) {\n      window.addEventListener(HashChangeEvent$1, handleHashChange);\n    } else if (listenerCount === 0) {\n      window.removeEventListener(HashChangeEvent$1, handleHashChange);\n    }\n  }\n\n  var isBlocked = false;\n\n  function block(prompt) {\n    if (prompt === void 0) {\n      prompt = false;\n    }\n\n    var unblock = transitionManager.setPrompt(prompt);\n\n    if (!isBlocked) {\n      checkDOMListeners(1);\n      isBlocked = true;\n    }\n\n    return function () {\n      if (isBlocked) {\n        isBlocked = false;\n        checkDOMListeners(-1);\n      }\n\n      return unblock();\n    };\n  }\n\n  function listen(listener) {\n    var unlisten = transitionManager.appendListener(listener);\n    checkDOMListeners(1);\n    return function () {\n      checkDOMListeners(-1);\n      unlisten();\n    };\n  }\n\n  var history = {\n    length: globalHistory.length,\n    action: 'POP',\n    location: initialLocation,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    block: block,\n    listen: listen\n  };\n  return history;\n}\n\nfunction clamp(n, lowerBound, upperBound) {\n  return Math.min(Math.max(n, lowerBound), upperBound);\n}\n/**\n * Creates a history object that stores locations in memory.\n */\n\n\nfunction createMemoryHistory(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  var _props = props,\n      getUserConfirmation = _props.getUserConfirmation,\n      _props$initialEntries = _props.initialEntries,\n      initialEntries = _props$initialEntries === void 0 ? ['/'] : _props$initialEntries,\n      _props$initialIndex = _props.initialIndex,\n      initialIndex = _props$initialIndex === void 0 ? 0 : _props$initialIndex,\n      _props$keyLength = _props.keyLength,\n      keyLength = _props$keyLength === void 0 ? 6 : _props$keyLength;\n  var transitionManager = createTransitionManager();\n\n  function setState(nextState) {\n    _extends(history, nextState);\n\n    history.length = history.entries.length;\n    transitionManager.notifyListeners(history.location, history.action);\n  }\n\n  function createKey() {\n    return Math.random().toString(36).substr(2, keyLength);\n  }\n\n  var index = clamp(initialIndex, 0, initialEntries.length - 1);\n  var entries = initialEntries.map(function (entry) {\n    return typeof entry === 'string' ? createLocation(entry, undefined, createKey()) : createLocation(entry, undefined, entry.key || createKey());\n  }); // Public interface\n\n  var createHref = createPath;\n\n  function push(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(!(typeof path === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to push when the 1st ' + 'argument is a location-like object that already has state; it is ignored') : void 0;\n    var action = 'PUSH';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var prevIndex = history.index;\n      var nextIndex = prevIndex + 1;\n      var nextEntries = history.entries.slice(0);\n\n      if (nextEntries.length > nextIndex) {\n        nextEntries.splice(nextIndex, nextEntries.length - nextIndex, location);\n      } else {\n        nextEntries.push(location);\n      }\n\n      setState({\n        action: action,\n        location: location,\n        index: nextIndex,\n        entries: nextEntries\n      });\n    });\n  }\n\n  function replace(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(!(typeof path === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to replace when the 1st ' + 'argument is a location-like object that already has state; it is ignored') : void 0;\n    var action = 'REPLACE';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      history.entries[history.index] = location;\n      setState({\n        action: action,\n        location: location\n      });\n    });\n  }\n\n  function go(n) {\n    var nextIndex = clamp(history.index + n, 0, history.entries.length - 1);\n    var action = 'POP';\n    var location = history.entries[nextIndex];\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (ok) {\n        setState({\n          action: action,\n          location: location,\n          index: nextIndex\n        });\n      } else {\n        // Mimic the behavior of DOM histories by\n        // causing a render after a cancelled POP.\n        setState();\n      }\n    });\n  }\n\n  function goBack() {\n    go(-1);\n  }\n\n  function goForward() {\n    go(1);\n  }\n\n  function canGo(n) {\n    var nextIndex = history.index + n;\n    return nextIndex >= 0 && nextIndex < history.entries.length;\n  }\n\n  function block(prompt) {\n    if (prompt === void 0) {\n      prompt = false;\n    }\n\n    return transitionManager.setPrompt(prompt);\n  }\n\n  function listen(listener) {\n    return transitionManager.appendListener(listener);\n  }\n\n  var history = {\n    length: entries.length,\n    action: 'POP',\n    location: entries[index],\n    index: index,\n    entries: entries,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    canGo: canGo,\n    block: block,\n    listen: listen\n  };\n  return history;\n}\n\nexport { createBrowserHistory, createHashHistory, createMemoryHistory, createLocation, locationsAreEqual, parsePath, createPath };\n","import React, { Component } from 'react';\nimport _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport PropTypes from 'prop-types';\nimport warning from 'tiny-warning';\n\nvar MAX_SIGNED_31_BIT_INT = 1073741823;\nvar commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : {};\n\nfunction getUniqueId() {\n  var key = '__global_unique_id__';\n  return commonjsGlobal[key] = (commonjsGlobal[key] || 0) + 1;\n}\n\nfunction objectIs(x, y) {\n  if (x === y) {\n    return x !== 0 || 1 / x === 1 / y;\n  } else {\n    return x !== x && y !== y;\n  }\n}\n\nfunction createEventEmitter(value) {\n  var handlers = [];\n  return {\n    on: function on(handler) {\n      handlers.push(handler);\n    },\n    off: function off(handler) {\n      handlers = handlers.filter(function (h) {\n        return h !== handler;\n      });\n    },\n    get: function get() {\n      return value;\n    },\n    set: function set(newValue, changedBits) {\n      value = newValue;\n      handlers.forEach(function (handler) {\n        return handler(value, changedBits);\n      });\n    }\n  };\n}\n\nfunction onlyChild(children) {\n  return Array.isArray(children) ? children[0] : children;\n}\n\nfunction createReactContext(defaultValue, calculateChangedBits) {\n  var _Provider$childContex, _Consumer$contextType;\n\n  var contextProp = '__create-react-context-' + getUniqueId() + '__';\n\n  var Provider = /*#__PURE__*/function (_Component) {\n    _inheritsLoose(Provider, _Component);\n\n    function Provider() {\n      var _this;\n\n      _this = _Component.apply(this, arguments) || this;\n      _this.emitter = createEventEmitter(_this.props.value);\n      return _this;\n    }\n\n    var _proto = Provider.prototype;\n\n    _proto.getChildContext = function getChildContext() {\n      var _ref;\n\n      return _ref = {}, _ref[contextProp] = this.emitter, _ref;\n    };\n\n    _proto.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n      if (this.props.value !== nextProps.value) {\n        var oldValue = this.props.value;\n        var newValue = nextProps.value;\n        var changedBits;\n\n        if (objectIs(oldValue, newValue)) {\n          changedBits = 0;\n        } else {\n          changedBits = typeof calculateChangedBits === 'function' ? calculateChangedBits(oldValue, newValue) : MAX_SIGNED_31_BIT_INT;\n\n          if (process.env.NODE_ENV !== 'production') {\n            warning((changedBits & MAX_SIGNED_31_BIT_INT) === changedBits, 'calculateChangedBits: Expected the return value to be a ' + '31-bit integer. Instead received: ' + changedBits);\n          }\n\n          changedBits |= 0;\n\n          if (changedBits !== 0) {\n            this.emitter.set(nextProps.value, changedBits);\n          }\n        }\n      }\n    };\n\n    _proto.render = function render() {\n      return this.props.children;\n    };\n\n    return Provider;\n  }(Component);\n\n  Provider.childContextTypes = (_Provider$childContex = {}, _Provider$childContex[contextProp] = PropTypes.object.isRequired, _Provider$childContex);\n\n  var Consumer = /*#__PURE__*/function (_Component2) {\n    _inheritsLoose(Consumer, _Component2);\n\n    function Consumer() {\n      var _this2;\n\n      _this2 = _Component2.apply(this, arguments) || this;\n      _this2.state = {\n        value: _this2.getValue()\n      };\n\n      _this2.onUpdate = function (newValue, changedBits) {\n        var observedBits = _this2.observedBits | 0;\n\n        if ((observedBits & changedBits) !== 0) {\n          _this2.setState({\n            value: _this2.getValue()\n          });\n        }\n      };\n\n      return _this2;\n    }\n\n    var _proto2 = Consumer.prototype;\n\n    _proto2.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n      var observedBits = nextProps.observedBits;\n      this.observedBits = observedBits === undefined || observedBits === null ? MAX_SIGNED_31_BIT_INT : observedBits;\n    };\n\n    _proto2.componentDidMount = function componentDidMount() {\n      if (this.context[contextProp]) {\n        this.context[contextProp].on(this.onUpdate);\n      }\n\n      var observedBits = this.props.observedBits;\n      this.observedBits = observedBits === undefined || observedBits === null ? MAX_SIGNED_31_BIT_INT : observedBits;\n    };\n\n    _proto2.componentWillUnmount = function componentWillUnmount() {\n      if (this.context[contextProp]) {\n        this.context[contextProp].off(this.onUpdate);\n      }\n    };\n\n    _proto2.getValue = function getValue() {\n      if (this.context[contextProp]) {\n        return this.context[contextProp].get();\n      } else {\n        return defaultValue;\n      }\n    };\n\n    _proto2.render = function render() {\n      return onlyChild(this.props.children)(this.state.value);\n    };\n\n    return Consumer;\n  }(Component);\n\n  Consumer.contextTypes = (_Consumer$contextType = {}, _Consumer$contextType[contextProp] = PropTypes.object, _Consumer$contextType);\n  return {\n    Provider: Provider,\n    Consumer: Consumer\n  };\n}\n\nvar index = React.createContext || createReactContext;\n\nexport default index;\n","module.exports = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]';\n};\n","var isarray = require('isarray')\n\n/**\n * Expose `pathToRegexp`.\n */\nmodule.exports = pathToRegexp\nmodule.exports.parse = parse\nmodule.exports.compile = compile\nmodule.exports.tokensToFunction = tokensToFunction\nmodule.exports.tokensToRegExp = tokensToRegExp\n\n/**\n * The main path matching regexp utility.\n *\n * @type {RegExp}\n */\nvar PATH_REGEXP = new RegExp([\n  // Match escaped characters that would otherwise appear in future matches.\n  // This allows the user to escape special characters that won't transform.\n  '(\\\\\\\\.)',\n  // Match Express-style parameters and un-named parameters with a prefix\n  // and optional suffixes. Matches appear as:\n  //\n  // \"/:test(\\\\d+)?\" => [\"/\", \"test\", \"\\d+\", undefined, \"?\", undefined]\n  // \"/route(\\\\d+)\"  => [undefined, undefined, undefined, \"\\d+\", undefined, undefined]\n  // \"/*\"            => [\"/\", undefined, undefined, undefined, undefined, \"*\"]\n  '([\\\\/.])?(?:(?:\\\\:(\\\\w+)(?:\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))?|\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))([+*?])?|(\\\\*))'\n].join('|'), 'g')\n\n/**\n * Parse a string for the raw tokens.\n *\n * @param  {string}  str\n * @param  {Object=} options\n * @return {!Array}\n */\nfunction parse (str, options) {\n  var tokens = []\n  var key = 0\n  var index = 0\n  var path = ''\n  var defaultDelimiter = options && options.delimiter || '/'\n  var res\n\n  while ((res = PATH_REGEXP.exec(str)) != null) {\n    var m = res[0]\n    var escaped = res[1]\n    var offset = res.index\n    path += str.slice(index, offset)\n    index = offset + m.length\n\n    // Ignore already escaped sequences.\n    if (escaped) {\n      path += escaped[1]\n      continue\n    }\n\n    var next = str[index]\n    var prefix = res[2]\n    var name = res[3]\n    var capture = res[4]\n    var group = res[5]\n    var modifier = res[6]\n    var asterisk = res[7]\n\n    // Push the current path onto the tokens.\n    if (path) {\n      tokens.push(path)\n      path = ''\n    }\n\n    var partial = prefix != null && next != null && next !== prefix\n    var repeat = modifier === '+' || modifier === '*'\n    var optional = modifier === '?' || modifier === '*'\n    var delimiter = res[2] || defaultDelimiter\n    var pattern = capture || group\n\n    tokens.push({\n      name: name || key++,\n      prefix: prefix || '',\n      delimiter: delimiter,\n      optional: optional,\n      repeat: repeat,\n      partial: partial,\n      asterisk: !!asterisk,\n      pattern: pattern ? escapeGroup(pattern) : (asterisk ? '.*' : '[^' + escapeString(delimiter) + ']+?')\n    })\n  }\n\n  // Match any characters still remaining.\n  if (index < str.length) {\n    path += str.substr(index)\n  }\n\n  // If the path exists, push it onto the end.\n  if (path) {\n    tokens.push(path)\n  }\n\n  return tokens\n}\n\n/**\n * Compile a string to a template function for the path.\n *\n * @param  {string}             str\n * @param  {Object=}            options\n * @return {!function(Object=, Object=)}\n */\nfunction compile (str, options) {\n  return tokensToFunction(parse(str, options), options)\n}\n\n/**\n * Prettier encoding of URI path segments.\n *\n * @param  {string}\n * @return {string}\n */\nfunction encodeURIComponentPretty (str) {\n  return encodeURI(str).replace(/[\\/?#]/g, function (c) {\n    return '%' + c.charCodeAt(0).toString(16).toUpperCase()\n  })\n}\n\n/**\n * Encode the asterisk parameter. Similar to `pretty`, but allows slashes.\n *\n * @param  {string}\n * @return {string}\n */\nfunction encodeAsterisk (str) {\n  return encodeURI(str).replace(/[?#]/g, function (c) {\n    return '%' + c.charCodeAt(0).toString(16).toUpperCase()\n  })\n}\n\n/**\n * Expose a method for transforming tokens into the path function.\n */\nfunction tokensToFunction (tokens, options) {\n  // Compile all the tokens into regexps.\n  var matches = new Array(tokens.length)\n\n  // Compile all the patterns before compilation.\n  for (var i = 0; i < tokens.length; i++) {\n    if (typeof tokens[i] === 'object') {\n      matches[i] = new RegExp('^(?:' + tokens[i].pattern + ')$', flags(options))\n    }\n  }\n\n  return function (obj, opts) {\n    var path = ''\n    var data = obj || {}\n    var options = opts || {}\n    var encode = options.pretty ? encodeURIComponentPretty : encodeURIComponent\n\n    for (var i = 0; i < tokens.length; i++) {\n      var token = tokens[i]\n\n      if (typeof token === 'string') {\n        path += token\n\n        continue\n      }\n\n      var value = data[token.name]\n      var segment\n\n      if (value == null) {\n        if (token.optional) {\n          // Prepend partial segment prefixes.\n          if (token.partial) {\n            path += token.prefix\n          }\n\n          continue\n        } else {\n          throw new TypeError('Expected \"' + token.name + '\" to be defined')\n        }\n      }\n\n      if (isarray(value)) {\n        if (!token.repeat) {\n          throw new TypeError('Expected \"' + token.name + '\" to not repeat, but received `' + JSON.stringify(value) + '`')\n        }\n\n        if (value.length === 0) {\n          if (token.optional) {\n            continue\n          } else {\n            throw new TypeError('Expected \"' + token.name + '\" to not be empty')\n          }\n        }\n\n        for (var j = 0; j < value.length; j++) {\n          segment = encode(value[j])\n\n          if (!matches[i].test(segment)) {\n            throw new TypeError('Expected all \"' + token.name + '\" to match \"' + token.pattern + '\", but received `' + JSON.stringify(segment) + '`')\n          }\n\n          path += (j === 0 ? token.prefix : token.delimiter) + segment\n        }\n\n        continue\n      }\n\n      segment = token.asterisk ? encodeAsterisk(value) : encode(value)\n\n      if (!matches[i].test(segment)) {\n        throw new TypeError('Expected \"' + token.name + '\" to match \"' + token.pattern + '\", but received \"' + segment + '\"')\n      }\n\n      path += token.prefix + segment\n    }\n\n    return path\n  }\n}\n\n/**\n * Escape a regular expression string.\n *\n * @param  {string} str\n * @return {string}\n */\nfunction escapeString (str) {\n  return str.replace(/([.+*?=^!:${}()[\\]|\\/\\\\])/g, '\\\\$1')\n}\n\n/**\n * Escape the capturing group by escaping special characters and meaning.\n *\n * @param  {string} group\n * @return {string}\n */\nfunction escapeGroup (group) {\n  return group.replace(/([=!:$\\/()])/g, '\\\\$1')\n}\n\n/**\n * Attach the keys as a property of the regexp.\n *\n * @param  {!RegExp} re\n * @param  {Array}   keys\n * @return {!RegExp}\n */\nfunction attachKeys (re, keys) {\n  re.keys = keys\n  return re\n}\n\n/**\n * Get the flags for a regexp from the options.\n *\n * @param  {Object} options\n * @return {string}\n */\nfunction flags (options) {\n  return options && options.sensitive ? '' : 'i'\n}\n\n/**\n * Pull out keys from a regexp.\n *\n * @param  {!RegExp} path\n * @param  {!Array}  keys\n * @return {!RegExp}\n */\nfunction regexpToRegexp (path, keys) {\n  // Use a negative lookahead to match only capturing groups.\n  var groups = path.source.match(/\\((?!\\?)/g)\n\n  if (groups) {\n    for (var i = 0; i < groups.length; i++) {\n      keys.push({\n        name: i,\n        prefix: null,\n        delimiter: null,\n        optional: false,\n        repeat: false,\n        partial: false,\n        asterisk: false,\n        pattern: null\n      })\n    }\n  }\n\n  return attachKeys(path, keys)\n}\n\n/**\n * Transform an array into a regexp.\n *\n * @param  {!Array}  path\n * @param  {Array}   keys\n * @param  {!Object} options\n * @return {!RegExp}\n */\nfunction arrayToRegexp (path, keys, options) {\n  var parts = []\n\n  for (var i = 0; i < path.length; i++) {\n    parts.push(pathToRegexp(path[i], keys, options).source)\n  }\n\n  var regexp = new RegExp('(?:' + parts.join('|') + ')', flags(options))\n\n  return attachKeys(regexp, keys)\n}\n\n/**\n * Create a path regexp from string input.\n *\n * @param  {string}  path\n * @param  {!Array}  keys\n * @param  {!Object} options\n * @return {!RegExp}\n */\nfunction stringToRegexp (path, keys, options) {\n  return tokensToRegExp(parse(path, options), keys, options)\n}\n\n/**\n * Expose a function for taking tokens and returning a RegExp.\n *\n * @param  {!Array}          tokens\n * @param  {(Array|Object)=} keys\n * @param  {Object=}         options\n * @return {!RegExp}\n */\nfunction tokensToRegExp (tokens, keys, options) {\n  if (!isarray(keys)) {\n    options = /** @type {!Object} */ (keys || options)\n    keys = []\n  }\n\n  options = options || {}\n\n  var strict = options.strict\n  var end = options.end !== false\n  var route = ''\n\n  // Iterate over the tokens and create our regexp string.\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i]\n\n    if (typeof token === 'string') {\n      route += escapeString(token)\n    } else {\n      var prefix = escapeString(token.prefix)\n      var capture = '(?:' + token.pattern + ')'\n\n      keys.push(token)\n\n      if (token.repeat) {\n        capture += '(?:' + prefix + capture + ')*'\n      }\n\n      if (token.optional) {\n        if (!token.partial) {\n          capture = '(?:' + prefix + '(' + capture + '))?'\n        } else {\n          capture = prefix + '(' + capture + ')?'\n        }\n      } else {\n        capture = prefix + '(' + capture + ')'\n      }\n\n      route += capture\n    }\n  }\n\n  var delimiter = escapeString(options.delimiter || '/')\n  var endsWithDelimiter = route.slice(-delimiter.length) === delimiter\n\n  // In non-strict mode we allow a slash at the end of match. If the path to\n  // match already ends with a slash, we remove it for consistency. The slash\n  // is valid at the end of a path match, not in the middle. This is important\n  // in non-ending mode, where \"/test/\" shouldn't match \"/test//route\".\n  if (!strict) {\n    route = (endsWithDelimiter ? route.slice(0, -delimiter.length) : route) + '(?:' + delimiter + '(?=$))?'\n  }\n\n  if (end) {\n    route += '$'\n  } else {\n    // In non-ending mode, we need the capturing groups to match as much as\n    // possible by using a positive lookahead to the end or next path segment.\n    route += strict && endsWithDelimiter ? '' : '(?=' + delimiter + '|$)'\n  }\n\n  return attachKeys(new RegExp('^' + route, flags(options)), keys)\n}\n\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n *\n * @param  {(string|RegExp|Array)} path\n * @param  {(Array|Object)=}       keys\n * @param  {Object=}               options\n * @return {!RegExp}\n */\nfunction pathToRegexp (path, keys, options) {\n  if (!isarray(keys)) {\n    options = /** @type {!Object} */ (keys || options)\n    keys = []\n  }\n\n  options = options || {}\n\n  if (path instanceof RegExp) {\n    return regexpToRegexp(path, /** @type {!Array} */ (keys))\n  }\n\n  if (isarray(path)) {\n    return arrayToRegexp(/** @type {!Array} */ (path), /** @type {!Array} */ (keys), options)\n  }\n\n  return stringToRegexp(/** @type {string} */ (path), /** @type {!Array} */ (keys), options)\n}\n","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","/** @license React v16.13.1\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';var b=\"function\"===typeof Symbol&&Symbol.for,c=b?Symbol.for(\"react.element\"):60103,d=b?Symbol.for(\"react.portal\"):60106,e=b?Symbol.for(\"react.fragment\"):60107,f=b?Symbol.for(\"react.strict_mode\"):60108,g=b?Symbol.for(\"react.profiler\"):60114,h=b?Symbol.for(\"react.provider\"):60109,k=b?Symbol.for(\"react.context\"):60110,l=b?Symbol.for(\"react.async_mode\"):60111,m=b?Symbol.for(\"react.concurrent_mode\"):60111,n=b?Symbol.for(\"react.forward_ref\"):60112,p=b?Symbol.for(\"react.suspense\"):60113,q=b?\nSymbol.for(\"react.suspense_list\"):60120,r=b?Symbol.for(\"react.memo\"):60115,t=b?Symbol.for(\"react.lazy\"):60116,v=b?Symbol.for(\"react.block\"):60121,w=b?Symbol.for(\"react.fundamental\"):60117,x=b?Symbol.for(\"react.responder\"):60118,y=b?Symbol.for(\"react.scope\"):60119;\nfunction z(a){if(\"object\"===typeof a&&null!==a){var u=a.$$typeof;switch(u){case c:switch(a=a.type,a){case l:case m:case e:case g:case f:case p:return a;default:switch(a=a&&a.$$typeof,a){case k:case n:case t:case r:case h:return a;default:return u}}case d:return u}}}function A(a){return z(a)===m}exports.AsyncMode=l;exports.ConcurrentMode=m;exports.ContextConsumer=k;exports.ContextProvider=h;exports.Element=c;exports.ForwardRef=n;exports.Fragment=e;exports.Lazy=t;exports.Memo=r;exports.Portal=d;\nexports.Profiler=g;exports.StrictMode=f;exports.Suspense=p;exports.isAsyncMode=function(a){return A(a)||z(a)===l};exports.isConcurrentMode=A;exports.isContextConsumer=function(a){return z(a)===k};exports.isContextProvider=function(a){return z(a)===h};exports.isElement=function(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===c};exports.isForwardRef=function(a){return z(a)===n};exports.isFragment=function(a){return z(a)===e};exports.isLazy=function(a){return z(a)===t};\nexports.isMemo=function(a){return z(a)===r};exports.isPortal=function(a){return z(a)===d};exports.isProfiler=function(a){return z(a)===g};exports.isStrictMode=function(a){return z(a)===f};exports.isSuspense=function(a){return z(a)===p};\nexports.isValidElementType=function(a){return\"string\"===typeof a||\"function\"===typeof a||a===e||a===m||a===g||a===f||a===p||a===q||\"object\"===typeof a&&null!==a&&(a.$$typeof===t||a.$$typeof===r||a.$$typeof===h||a.$$typeof===k||a.$$typeof===n||a.$$typeof===w||a.$$typeof===x||a.$$typeof===y||a.$$typeof===v)};exports.typeOf=z;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","'use strict';\n\nvar reactIs = require('react-is');\n\n/**\n * Copyright 2015, Yahoo! Inc.\n * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n */\nvar REACT_STATICS = {\n  childContextTypes: true,\n  contextType: true,\n  contextTypes: true,\n  defaultProps: true,\n  displayName: true,\n  getDefaultProps: true,\n  getDerivedStateFromError: true,\n  getDerivedStateFromProps: true,\n  mixins: true,\n  propTypes: true,\n  type: true\n};\nvar KNOWN_STATICS = {\n  name: true,\n  length: true,\n  prototype: true,\n  caller: true,\n  callee: true,\n  arguments: true,\n  arity: true\n};\nvar FORWARD_REF_STATICS = {\n  '$$typeof': true,\n  render: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true\n};\nvar MEMO_STATICS = {\n  '$$typeof': true,\n  compare: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true,\n  type: true\n};\nvar TYPE_STATICS = {};\nTYPE_STATICS[reactIs.ForwardRef] = FORWARD_REF_STATICS;\nTYPE_STATICS[reactIs.Memo] = MEMO_STATICS;\n\nfunction getStatics(component) {\n  // React v16.11 and below\n  if (reactIs.isMemo(component)) {\n    return MEMO_STATICS;\n  } // React v16.12 and above\n\n\n  return TYPE_STATICS[component['$$typeof']] || REACT_STATICS;\n}\n\nvar defineProperty = Object.defineProperty;\nvar getOwnPropertyNames = Object.getOwnPropertyNames;\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar getPrototypeOf = Object.getPrototypeOf;\nvar objectPrototype = Object.prototype;\nfunction hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {\n  if (typeof sourceComponent !== 'string') {\n    // don't hoist over string (html) components\n    if (objectPrototype) {\n      var inheritedComponent = getPrototypeOf(sourceComponent);\n\n      if (inheritedComponent && inheritedComponent !== objectPrototype) {\n        hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);\n      }\n    }\n\n    var keys = getOwnPropertyNames(sourceComponent);\n\n    if (getOwnPropertySymbols) {\n      keys = keys.concat(getOwnPropertySymbols(sourceComponent));\n    }\n\n    var targetStatics = getStatics(targetComponent);\n    var sourceStatics = getStatics(sourceComponent);\n\n    for (var i = 0; i < keys.length; ++i) {\n      var key = keys[i];\n\n      if (!KNOWN_STATICS[key] && !(blacklist && blacklist[key]) && !(sourceStatics && sourceStatics[key]) && !(targetStatics && targetStatics[key])) {\n        var descriptor = getOwnPropertyDescriptor(sourceComponent, key);\n\n        try {\n          // Avoid failures from read-only properties\n          defineProperty(targetComponent, key, descriptor);\n        } catch (e) {}\n      }\n    }\n  }\n\n  return targetComponent;\n}\n\nmodule.exports = hoistNonReactStatics;\n","// TODO: Replace with React.createContext once we can assume React 16+\nimport createContext from \"mini-create-react-context\";\n\nconst createNamedContext = name => {\n  const context = createContext();\n  context.displayName = name;\n\n  return context;\n};\n\nexport default createNamedContext;\n","import createNamedContext from \"./createNameContext\";\n\nconst historyContext = /*#__PURE__*/ createNamedContext(\"Router-History\");\nexport default historyContext;\n","import createNamedContext from \"./createNameContext\";\n\nconst context = /*#__PURE__*/ createNamedContext(\"Router\");\nexport default context;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport warning from \"tiny-warning\";\n\nimport HistoryContext from \"./HistoryContext.js\";\nimport RouterContext from \"./RouterContext.js\";\n\n/**\n * The public API for putting history on context.\n */\nclass Router extends React.Component {\n  static computeRootMatch(pathname) {\n    return { path: \"/\", url: \"/\", params: {}, isExact: pathname === \"/\" };\n  }\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      location: props.history.location\n    };\n\n    // This is a bit of a hack. We have to start listening for location\n    // changes here in the constructor in case there are any <Redirect>s\n    // on the initial render. If there are, they will replace/push when\n    // they mount and since cDM fires in children before parents, we may\n    // get a new location before the <Router> is mounted.\n    this._isMounted = false;\n    this._pendingLocation = null;\n\n    if (!props.staticContext) {\n      this.unlisten = props.history.listen(location => {\n        if (this._isMounted) {\n          this.setState({ location });\n        } else {\n          this._pendingLocation = location;\n        }\n      });\n    }\n  }\n\n  componentDidMount() {\n    this._isMounted = true;\n\n    if (this._pendingLocation) {\n      this.setState({ location: this._pendingLocation });\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.unlisten) {\n      this.unlisten();\n      this._isMounted = false;\n      this._pendingLocation = null;\n    }\n  }\n\n  render() {\n    return (\n      <RouterContext.Provider\n        value={{\n          history: this.props.history,\n          location: this.state.location,\n          match: Router.computeRootMatch(this.state.location.pathname),\n          staticContext: this.props.staticContext\n        }}\n      >\n        <HistoryContext.Provider\n          children={this.props.children || null}\n          value={this.props.history}\n        />\n      </RouterContext.Provider>\n    );\n  }\n}\n\nif (__DEV__) {\n  Router.propTypes = {\n    children: PropTypes.node,\n    history: PropTypes.object.isRequired,\n    staticContext: PropTypes.object\n  };\n\n  Router.prototype.componentDidUpdate = function(prevProps) {\n    warning(\n      prevProps.history === this.props.history,\n      \"You cannot change <Router history>\"\n    );\n  };\n}\n\nexport default Router;\n","import React from \"react\";\n\nclass Lifecycle extends React.Component {\n  componentDidMount() {\n    if (this.props.onMount) this.props.onMount.call(this, this);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.onUpdate) this.props.onUpdate.call(this, this, prevProps);\n  }\n\n  componentWillUnmount() {\n    if (this.props.onUnmount) this.props.onUnmount.call(this, this);\n  }\n\n  render() {\n    return null;\n  }\n}\n\nexport default Lifecycle;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { createMemoryHistory as createHistory } from \"history\";\nimport warning from \"tiny-warning\";\n\nimport Router from \"./Router.js\";\n\n/**\n * The public API for a <Router> that stores location in memory.\n */\nclass MemoryRouter extends React.Component {\n  history = createHistory(this.props);\n\n  render() {\n    return <Router history={this.history} children={this.props.children} />;\n  }\n}\n\nif (__DEV__) {\n  MemoryRouter.propTypes = {\n    initialEntries: PropTypes.array,\n    initialIndex: PropTypes.number,\n    getUserConfirmation: PropTypes.func,\n    keyLength: PropTypes.number,\n    children: PropTypes.node\n  };\n\n  MemoryRouter.prototype.componentDidMount = function() {\n    warning(\n      !this.props.history,\n      \"<MemoryRouter> ignores the history prop. To use a custom history, \" +\n        \"use `import { Router }` instead of `import { MemoryRouter as Router }`.\"\n    );\n  };\n}\n\nexport default MemoryRouter;\n","import pathToRegexp from \"path-to-regexp\";\n\nconst cache = {};\nconst cacheLimit = 10000;\nlet cacheCount = 0;\n\nfunction compilePath(path) {\n  if (cache[path]) return cache[path];\n\n  const generator = pathToRegexp.compile(path);\n\n  if (cacheCount < cacheLimit) {\n    cache[path] = generator;\n    cacheCount++;\n  }\n\n  return generator;\n}\n\n/**\n * Public API for generating a URL pathname from a path and parameters.\n */\nfunction generatePath(path = \"/\", params = {}) {\n  return path === \"/\" ? path : compilePath(path)(params, { pretty: true });\n}\n\nexport default generatePath;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { createLocation, locationsAreEqual } from \"history\";\nimport invariant from \"tiny-invariant\";\n\nimport Lifecycle from \"./Lifecycle.js\";\nimport RouterContext from \"./RouterContext.js\";\nimport generatePath from \"./generatePath.js\";\n\n/**\n * The public API for navigating programmatically with a component.\n */\nfunction Redirect({ computedMatch, to, push = false }) {\n  return (\n    <RouterContext.Consumer>\n      {context => {\n        invariant(context, \"You should not use <Redirect> outside a <Router>\");\n\n        const { history, staticContext } = context;\n\n        const method = push ? history.push : history.replace;\n        const location = createLocation(\n          computedMatch\n            ? typeof to === \"string\"\n              ? generatePath(to, computedMatch.params)\n              : {\n                  ...to,\n                  pathname: generatePath(to.pathname, computedMatch.params)\n                }\n            : to\n        );\n\n        // When rendering in a static context,\n        // set the new location immediately.\n        if (staticContext) {\n          method(location);\n          return null;\n        }\n\n        return (\n          <Lifecycle\n            onMount={() => {\n              method(location);\n            }}\n            onUpdate={(self, prevProps) => {\n              const prevLocation = createLocation(prevProps.to);\n              if (\n                !locationsAreEqual(prevLocation, {\n                  ...location,\n                  key: prevLocation.key\n                })\n              ) {\n                method(location);\n              }\n            }}\n            to={to}\n          />\n        );\n      }}\n    </RouterContext.Consumer>\n  );\n}\n\nif (__DEV__) {\n  Redirect.propTypes = {\n    push: PropTypes.bool,\n    from: PropTypes.string,\n    to: PropTypes.oneOfType([PropTypes.string, PropTypes.object]).isRequired\n  };\n}\n\nexport default Redirect;\n","import pathToRegexp from \"path-to-regexp\";\n\nconst cache = {};\nconst cacheLimit = 10000;\nlet cacheCount = 0;\n\nfunction compilePath(path, options) {\n  const cacheKey = `${options.end}${options.strict}${options.sensitive}`;\n  const pathCache = cache[cacheKey] || (cache[cacheKey] = {});\n\n  if (pathCache[path]) return pathCache[path];\n\n  const keys = [];\n  const regexp = pathToRegexp(path, keys, options);\n  const result = { regexp, keys };\n\n  if (cacheCount < cacheLimit) {\n    pathCache[path] = result;\n    cacheCount++;\n  }\n\n  return result;\n}\n\n/**\n * Public API for matching a URL pathname to a path.\n */\nfunction matchPath(pathname, options = {}) {\n  if (typeof options === \"string\" || Array.isArray(options)) {\n    options = { path: options };\n  }\n\n  const { path, exact = false, strict = false, sensitive = false } = options;\n\n  const paths = [].concat(path);\n\n  return paths.reduce((matched, path) => {\n    if (!path && path !== \"\") return null;\n    if (matched) return matched;\n\n    const { regexp, keys } = compilePath(path, {\n      end: exact,\n      strict,\n      sensitive\n    });\n    const match = regexp.exec(pathname);\n\n    if (!match) return null;\n\n    const [url, ...values] = match;\n    const isExact = pathname === url;\n\n    if (exact && !isExact) return null;\n\n    return {\n      path, // the path used to match\n      url: path === \"/\" && url === \"\" ? \"/\" : url, // the matched portion of the URL\n      isExact, // whether or not we matched exactly\n      params: keys.reduce((memo, key, index) => {\n        memo[key.name] = values[index];\n        return memo;\n      }, {})\n    };\n  }, null);\n}\n\nexport default matchPath;\n","import React from \"react\";\nimport { isValidElementType } from \"react-is\";\nimport PropTypes from \"prop-types\";\nimport invariant from \"tiny-invariant\";\nimport warning from \"tiny-warning\";\n\nimport RouterContext from \"./RouterContext.js\";\nimport matchPath from \"./matchPath.js\";\n\nfunction isEmptyChildren(children) {\n  return React.Children.count(children) === 0;\n}\n\nfunction evalChildrenDev(children, props, path) {\n  const value = children(props);\n\n  warning(\n    value !== undefined,\n    \"You returned `undefined` from the `children` function of \" +\n      `<Route${path ? ` path=\"${path}\"` : \"\"}>, but you ` +\n      \"should have returned a React element or `null`\"\n  );\n\n  return value || null;\n}\n\n/**\n * The public API for matching a single path and rendering.\n */\nclass Route extends React.Component {\n  render() {\n    return (\n      <RouterContext.Consumer>\n        {context => {\n          invariant(context, \"You should not use <Route> outside a <Router>\");\n\n          const location = this.props.location || context.location;\n          const match = this.props.computedMatch\n            ? this.props.computedMatch // <Switch> already computed the match for us\n            : this.props.path\n            ? matchPath(location.pathname, this.props)\n            : context.match;\n\n          const props = { ...context, location, match };\n\n          let { children, component, render } = this.props;\n\n          // Preact uses an empty array as children by\n          // default, so use null if that's the case.\n          if (Array.isArray(children) && isEmptyChildren(children)) {\n            children = null;\n          }\n\n          return (\n            <RouterContext.Provider value={props}>\n              {props.match\n                ? children\n                  ? typeof children === \"function\"\n                    ? __DEV__\n                      ? evalChildrenDev(children, props, this.props.path)\n                      : children(props)\n                    : children\n                  : component\n                  ? React.createElement(component, props)\n                  : render\n                  ? render(props)\n                  : null\n                : typeof children === \"function\"\n                ? __DEV__\n                  ? evalChildrenDev(children, props, this.props.path)\n                  : children(props)\n                : null}\n            </RouterContext.Provider>\n          );\n        }}\n      </RouterContext.Consumer>\n    );\n  }\n}\n\nif (__DEV__) {\n  Route.propTypes = {\n    children: PropTypes.oneOfType([PropTypes.func, PropTypes.node]),\n    component: (props, propName) => {\n      if (props[propName] && !isValidElementType(props[propName])) {\n        return new Error(\n          `Invalid prop 'component' supplied to 'Route': the prop is not a valid React component`\n        );\n      }\n    },\n    exact: PropTypes.bool,\n    location: PropTypes.object,\n    path: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.arrayOf(PropTypes.string)\n    ]),\n    render: PropTypes.func,\n    sensitive: PropTypes.bool,\n    strict: PropTypes.bool\n  };\n\n  Route.prototype.componentDidMount = function() {\n    warning(\n      !(\n        this.props.children &&\n        !isEmptyChildren(this.props.children) &&\n        this.props.component\n      ),\n      \"You should not use <Route component> and <Route children> in the same route; <Route component> will be ignored\"\n    );\n\n    warning(\n      !(\n        this.props.children &&\n        !isEmptyChildren(this.props.children) &&\n        this.props.render\n      ),\n      \"You should not use <Route render> and <Route children> in the same route; <Route render> will be ignored\"\n    );\n\n    warning(\n      !(this.props.component && this.props.render),\n      \"You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored\"\n    );\n  };\n\n  Route.prototype.componentDidUpdate = function(prevProps) {\n    warning(\n      !(this.props.location && !prevProps.location),\n      '<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no \"location\" prop and then provided one on a subsequent render.'\n    );\n\n    warning(\n      !(!this.props.location && prevProps.location),\n      '<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a \"location\" prop initially but omitted it on a subsequent render.'\n    );\n  };\n}\n\nexport default Route;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { createLocation, createPath } from \"history\";\nimport invariant from \"tiny-invariant\";\nimport warning from \"tiny-warning\";\n\nimport Router from \"./Router.js\";\n\nfunction addLeadingSlash(path) {\n  return path.charAt(0) === \"/\" ? path : \"/\" + path;\n}\n\nfunction addBasename(basename, location) {\n  if (!basename) return location;\n\n  return {\n    ...location,\n    pathname: addLeadingSlash(basename) + location.pathname\n  };\n}\n\nfunction stripBasename(basename, location) {\n  if (!basename) return location;\n\n  const base = addLeadingSlash(basename);\n\n  if (location.pathname.indexOf(base) !== 0) return location;\n\n  return {\n    ...location,\n    pathname: location.pathname.substr(base.length)\n  };\n}\n\nfunction createURL(location) {\n  return typeof location === \"string\" ? location : createPath(location);\n}\n\nfunction staticHandler(methodName) {\n  return () => {\n    invariant(false, \"You cannot %s with <StaticRouter>\", methodName);\n  };\n}\n\nfunction noop() {}\n\n/**\n * The public top-level API for a \"static\" <Router>, so-called because it\n * can't actually change the current location. Instead, it just records\n * location changes in a context object. Useful mainly in testing and\n * server-rendering scenarios.\n */\nclass StaticRouter extends React.Component {\n  navigateTo(location, action) {\n    const { basename = \"\", context = {} } = this.props;\n    context.action = action;\n    context.location = addBasename(basename, createLocation(location));\n    context.url = createURL(context.location);\n  }\n\n  handlePush = location => this.navigateTo(location, \"PUSH\");\n  handleReplace = location => this.navigateTo(location, \"REPLACE\");\n  handleListen = () => noop;\n  handleBlock = () => noop;\n\n  render() {\n    const { basename = \"\", context = {}, location = \"/\", ...rest } = this.props;\n\n    const history = {\n      createHref: path => addLeadingSlash(basename + createURL(path)),\n      action: \"POP\",\n      location: stripBasename(basename, createLocation(location)),\n      push: this.handlePush,\n      replace: this.handleReplace,\n      go: staticHandler(\"go\"),\n      goBack: staticHandler(\"goBack\"),\n      goForward: staticHandler(\"goForward\"),\n      listen: this.handleListen,\n      block: this.handleBlock\n    };\n\n    return <Router {...rest} history={history} staticContext={context} />;\n  }\n}\n\nif (__DEV__) {\n  StaticRouter.propTypes = {\n    basename: PropTypes.string,\n    context: PropTypes.object,\n    location: PropTypes.oneOfType([PropTypes.string, PropTypes.object])\n  };\n\n  StaticRouter.prototype.componentDidMount = function() {\n    warning(\n      !this.props.history,\n      \"<StaticRouter> ignores the history prop. To use a custom history, \" +\n        \"use `import { Router }` instead of `import { StaticRouter as Router }`.\"\n    );\n  };\n}\n\nexport default StaticRouter;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport invariant from \"tiny-invariant\";\nimport warning from \"tiny-warning\";\n\nimport RouterContext from \"./RouterContext.js\";\nimport matchPath from \"./matchPath.js\";\n\n/**\n * The public API for rendering the first <Route> that matches.\n */\nclass Switch extends React.Component {\n  render() {\n    return (\n      <RouterContext.Consumer>\n        {context => {\n          invariant(context, \"You should not use <Switch> outside a <Router>\");\n\n          const location = this.props.location || context.location;\n\n          let element, match;\n\n          // We use React.Children.forEach instead of React.Children.toArray().find()\n          // here because toArray adds keys to all child elements and we do not want\n          // to trigger an unmount/remount for two <Route>s that render the same\n          // component at different URLs.\n          React.Children.forEach(this.props.children, child => {\n            if (match == null && React.isValidElement(child)) {\n              element = child;\n\n              const path = child.props.path || child.props.from;\n\n              match = path\n                ? matchPath(location.pathname, { ...child.props, path })\n                : context.match;\n            }\n          });\n\n          return match\n            ? React.cloneElement(element, { location, computedMatch: match })\n            : null;\n        }}\n      </RouterContext.Consumer>\n    );\n  }\n}\n\nif (__DEV__) {\n  Switch.propTypes = {\n    children: PropTypes.node,\n    location: PropTypes.object\n  };\n\n  Switch.prototype.componentDidUpdate = function(prevProps) {\n    warning(\n      !(this.props.location && !prevProps.location),\n      '<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no \"location\" prop and then provided one on a subsequent render.'\n    );\n\n    warning(\n      !(!this.props.location && prevProps.location),\n      '<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a \"location\" prop initially but omitted it on a subsequent render.'\n    );\n  };\n}\n\nexport default Switch;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport hoistStatics from \"hoist-non-react-statics\";\nimport invariant from \"tiny-invariant\";\n\nimport RouterContext from \"./RouterContext.js\";\n\n/**\n * A public higher-order component to access the imperative API\n */\nfunction withRouter(Component) {\n  const displayName = `withRouter(${Component.displayName || Component.name})`;\n  const C = props => {\n    const { wrappedComponentRef, ...remainingProps } = props;\n\n    return (\n      <RouterContext.Consumer>\n        {context => {\n          invariant(\n            context,\n            `You should not use <${displayName} /> outside a <Router>`\n          );\n          return (\n            <Component\n              {...remainingProps}\n              {...context}\n              ref={wrappedComponentRef}\n            />\n          );\n        }}\n      </RouterContext.Consumer>\n    );\n  };\n\n  C.displayName = displayName;\n  C.WrappedComponent = Component;\n\n  if (__DEV__) {\n    C.propTypes = {\n      wrappedComponentRef: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.func,\n        PropTypes.object\n      ])\n    };\n  }\n\n  return hoistStatics(C, Component);\n}\n\nexport default withRouter;\n","import React from \"react\";\nimport invariant from \"tiny-invariant\";\n\nimport RouterContext from \"./RouterContext.js\";\nimport HistoryContext from \"./HistoryContext.js\";\nimport matchPath from \"./matchPath.js\";\n\nconst useContext = React.useContext;\n\nexport function useHistory() {\n  if (__DEV__) {\n    invariant(\n      typeof useContext === \"function\",\n      \"You must use React >= 16.8 in order to use useHistory()\"\n    );\n  }\n\n  return useContext(HistoryContext);\n}\n\nexport function useLocation() {\n  if (__DEV__) {\n    invariant(\n      typeof useContext === \"function\",\n      \"You must use React >= 16.8 in order to use useLocation()\"\n    );\n  }\n\n  return useContext(RouterContext).location;\n}\n\nexport function useParams() {\n  if (__DEV__) {\n    invariant(\n      typeof useContext === \"function\",\n      \"You must use React >= 16.8 in order to use useParams()\"\n    );\n  }\n\n  const match = useContext(RouterContext).match;\n  return match ? match.params : {};\n}\n\nexport function useRouteMatch(path) {\n  if (__DEV__) {\n    invariant(\n      typeof useContext === \"function\",\n      \"You must use React >= 16.8 in order to use useRouteMatch()\"\n    );\n  }\n\n  const location = useLocation();\n  const match = useContext(RouterContext).match;\n  return path ? matchPath(location.pathname, path) : match;\n}\n","import React from \"react\";\nimport { Router } from \"react-router\";\nimport { createBrowserHistory as createHistory } from \"history\";\nimport PropTypes from \"prop-types\";\nimport warning from \"tiny-warning\";\n\n/**\n * The public API for a <Router> that uses HTML5 history.\n */\nclass BrowserRouter extends React.Component {\n  history = createHistory(this.props);\n\n  render() {\n    return <Router history={this.history} children={this.props.children} />;\n  }\n}\n\nif (__DEV__) {\n  BrowserRouter.propTypes = {\n    basename: PropTypes.string,\n    children: PropTypes.node,\n    forceRefresh: PropTypes.bool,\n    getUserConfirmation: PropTypes.func,\n    keyLength: PropTypes.number\n  };\n\n  BrowserRouter.prototype.componentDidMount = function() {\n    warning(\n      !this.props.history,\n      \"<BrowserRouter> ignores the history prop. To use a custom history, \" +\n        \"use `import { Router }` instead of `import { BrowserRouter as Router }`.\"\n    );\n  };\n}\n\nexport default BrowserRouter;\n","import { createLocation } from \"history\";\n\nexport const resolveToLocation = (to, currentLocation) =>\n  typeof to === \"function\" ? to(currentLocation) : to;\n\nexport const normalizeToLocation = (to, currentLocation) => {\n  return typeof to === \"string\"\n    ? createLocation(to, null, null, currentLocation)\n    : to;\n};\n","import React from \"react\";\nimport { Router } from \"react-router\";\nimport { createHashHistory as createHistory } from \"history\";\nimport PropTypes from \"prop-types\";\nimport warning from \"tiny-warning\";\n\n/**\n * The public API for a <Router> that uses window.location.hash.\n */\nclass HashRouter extends React.Component {\n  history = createHistory(this.props);\n\n  render() {\n    return <Router history={this.history} children={this.props.children} />;\n  }\n}\n\nif (__DEV__) {\n  HashRouter.propTypes = {\n    basename: PropTypes.string,\n    children: PropTypes.node,\n    getUserConfirmation: PropTypes.func,\n    hashType: PropTypes.oneOf([\"hashbang\", \"noslash\", \"slash\"])\n  };\n\n  HashRouter.prototype.componentDidMount = function() {\n    warning(\n      !this.props.history,\n      \"<HashRouter> ignores the history prop. To use a custom history, \" +\n        \"use `import { Router }` instead of `import { HashRouter as Router }`.\"\n    );\n  };\n}\n\nexport default HashRouter;\n","import React from \"react\";\nimport { __RouterContext as RouterContext } from \"react-router\";\nimport { createPath } from 'history';\nimport PropTypes from \"prop-types\";\nimport invariant from \"tiny-invariant\";\nimport {\n  resolveToLocation,\n  normalizeToLocation\n} from \"./utils/locationUtils.js\";\n\n// React 15 compat\nconst forwardRefShim = C => C;\nlet { forwardRef } = React;\nif (typeof forwardRef === \"undefined\") {\n  forwardRef = forwardRefShim;\n}\n\nfunction isModifiedEvent(event) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n}\n\nconst LinkAnchor = forwardRef(\n  (\n    {\n      innerRef, // TODO: deprecate\n      navigate,\n      onClick,\n      ...rest\n    },\n    forwardedRef\n  ) => {\n    const { target } = rest;\n\n    let props = {\n      ...rest,\n      onClick: event => {\n        try {\n          if (onClick) onClick(event);\n        } catch (ex) {\n          event.preventDefault();\n          throw ex;\n        }\n\n        if (\n          !event.defaultPrevented && // onClick prevented default\n          event.button === 0 && // ignore everything but left clicks\n          (!target || target === \"_self\") && // let browser handle \"target=_blank\" etc.\n          !isModifiedEvent(event) // ignore clicks with modifier keys\n        ) {\n          event.preventDefault();\n          navigate();\n        }\n      }\n    };\n\n    // React 15 compat\n    if (forwardRefShim !== forwardRef) {\n      props.ref = forwardedRef || innerRef;\n    } else {\n      props.ref = innerRef;\n    }\n\n    /* eslint-disable-next-line jsx-a11y/anchor-has-content */\n    return <a {...props} />;\n  }\n);\n\nif (__DEV__) {\n  LinkAnchor.displayName = \"LinkAnchor\";\n}\n\n/**\n * The public API for rendering a history-aware <a>.\n */\nconst Link = forwardRef(\n  (\n    {\n      component = LinkAnchor,\n      replace,\n      to,\n      innerRef, // TODO: deprecate\n      ...rest\n    },\n    forwardedRef\n  ) => {\n    return (\n      <RouterContext.Consumer>\n        {context => {\n          invariant(context, \"You should not use <Link> outside a <Router>\");\n\n          const { history } = context;\n\n          const location = normalizeToLocation(\n            resolveToLocation(to, context.location),\n            context.location\n          );\n\n          const href = location ? history.createHref(location) : \"\";\n          const props = {\n            ...rest,\n            href,\n            navigate() {\n              const location = resolveToLocation(to, context.location);\n              const isDuplicateNavigation = createPath(context.location) === createPath(normalizeToLocation(location));\n              const method = (replace || isDuplicateNavigation) ? history.replace : history.push;\n\n              method(location);\n            }\n          };\n\n          // React 15 compat\n          if (forwardRefShim !== forwardRef) {\n            props.ref = forwardedRef || innerRef;\n          } else {\n            props.innerRef = innerRef;\n          }\n\n          return React.createElement(component, props);\n        }}\n      </RouterContext.Consumer>\n    );\n  }\n);\n\nif (__DEV__) {\n  const toType = PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.object,\n    PropTypes.func\n  ]);\n  const refType = PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.any })\n  ]);\n\n  Link.displayName = \"Link\";\n\n  Link.propTypes = {\n    innerRef: refType,\n    onClick: PropTypes.func,\n    replace: PropTypes.bool,\n    target: PropTypes.string,\n    to: toType.isRequired\n  };\n}\n\nexport default Link;\n","import React from \"react\";\nimport { __RouterContext as RouterContext, matchPath } from \"react-router\";\nimport PropTypes from \"prop-types\";\nimport invariant from \"tiny-invariant\";\nimport Link from \"./Link.js\";\nimport {\n  resolveToLocation,\n  normalizeToLocation\n} from \"./utils/locationUtils.js\";\n\n// React 15 compat\nconst forwardRefShim = C => C;\nlet { forwardRef } = React;\nif (typeof forwardRef === \"undefined\") {\n  forwardRef = forwardRefShim;\n}\n\nfunction joinClassnames(...classnames) {\n  return classnames.filter(i => i).join(\" \");\n}\n\n/**\n * A <Link> wrapper that knows if it's \"active\" or not.\n */\nconst NavLink = forwardRef(\n  (\n    {\n      \"aria-current\": ariaCurrent = \"page\",\n      activeClassName = \"active\", // TODO: deprecate\n      activeStyle, // TODO: deprecate\n      className: classNameProp,\n      exact,\n      isActive: isActiveProp,\n      location: locationProp,\n      sensitive,\n      strict,\n      style: styleProp,\n      to,\n      innerRef, // TODO: deprecate\n      ...rest\n    },\n    forwardedRef\n  ) => {\n    return (\n      <RouterContext.Consumer>\n        {context => {\n          invariant(context, \"You should not use <NavLink> outside a <Router>\");\n\n          const currentLocation = locationProp || context.location;\n          const toLocation = normalizeToLocation(\n            resolveToLocation(to, currentLocation),\n            currentLocation\n          );\n          const { pathname: path } = toLocation;\n          // Regex taken from: https://github.com/pillarjs/path-to-regexp/blob/master/index.js#L202\n          const escapedPath =\n            path && path.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, \"\\\\$1\");\n\n          const match = escapedPath\n            ? matchPath(currentLocation.pathname, {\n                path: escapedPath,\n                exact,\n                sensitive,\n                strict\n              })\n            : null;\n          const isActive = !!(isActiveProp\n            ? isActiveProp(match, currentLocation)\n            : match);\n\n          let className =\n            typeof classNameProp === \"function\"\n              ? classNameProp(isActive)\n              : classNameProp;\n\n          let style =\n            typeof styleProp === \"function\" ? styleProp(isActive) : styleProp;\n\n          if (isActive) {\n            className = joinClassnames(className, activeClassName);\n            style = { ...style, ...activeStyle };\n          }\n\n          const props = {\n            \"aria-current\": (isActive && ariaCurrent) || null,\n            className,\n            style,\n            to: toLocation,\n            ...rest\n          };\n\n          // React 15 compat\n          if (forwardRefShim !== forwardRef) {\n            props.ref = forwardedRef || innerRef;\n          } else {\n            props.innerRef = innerRef;\n          }\n\n          return <Link {...props} />;\n        }}\n      </RouterContext.Consumer>\n    );\n  }\n);\n\nif (__DEV__) {\n  NavLink.displayName = \"NavLink\";\n\n  const ariaCurrentType = PropTypes.oneOf([\n    \"page\",\n    \"step\",\n    \"location\",\n    \"date\",\n    \"time\",\n    \"true\",\n    \"false\"\n  ]);\n\n  NavLink.propTypes = {\n    ...Link.propTypes,\n    \"aria-current\": ariaCurrentType,\n    activeClassName: PropTypes.string,\n    activeStyle: PropTypes.object,\n    className: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n    exact: PropTypes.bool,\n    isActive: PropTypes.func,\n    location: PropTypes.object,\n    sensitive: PropTypes.bool,\n    strict: PropTypes.bool,\n    style: PropTypes.oneOfType([PropTypes.object, PropTypes.func])\n  };\n}\n\nexport default NavLink;\n","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","module.exports = require('./helpers/bundle-url').getBundleURL('88FtB') + require('./helpers/bundle-manifest').resolve(\"051d2\");","import { h, Component } from \"preact\";\nimport { alert, storage, http, me } from \"/src/core\";\nimport { withRouter } from \"react-router-dom\";\nimport { withTranslation } from 'react-i18next';\n\nclass Login extends Component {\n  constructor() {\n    super();\n    this.state = {\n      showAlert: false,\n      error: \"\"\n    };\n    this.sendLoginForm = this.sendLoginForm.bind(this);\n    this.sendPasswordReset = this.sendPasswordReset.bind(this);\n    this.showPasswordReset = this.showPasswordReset.bind(this);\n    // reroute if already logged in\n    storage.get(\"apiKey\").then(apiKey => apiKey && this.props.history.push(\"/\"));\n  }\n\n  componentDidMount() {\n    storage.reset();\n  }\n\n  sendPasswordReset(e) {\n    e.preventDefault();\n    let login = document.getElementById(\"login\").value || \"\";\n    login.toLowerCase();\n    this.setState({ sending: true });\n    http.post(\"/api/password-reset-mail\", { mail: login }).then(res => {\n      this.setState({ sending: false });\n      if (res && !res.message) {\n        alert.add(this.props.t(\"password_reset_mail_sent\"));\n      } else {\n        alert.add(this.props.t(res.message), \"alert-danger\");\n      }\n    });\n  }\n\n  sendLoginForm(e) {\n    e.preventDefault();\n    this.setState({ showAlert: false, sending: true });\n    let login = document.getElementById(\"login\").value || \"\";\n    login.toLowerCase();\n    const password = document.getElementById(\"password\").value;\n    http.post(\"/api/login\", { login, password }).then(res => {\n      this.setState({ sending: false });\n      if (res && res.api_key) {\n        storage.set(\"apiKey\", res.api_key).then(() => {\n          console.log('login');\n          me.update().then(() => {\n            setTimeout(() => this.props.history.push(\"/\"), 100);\n          });\n        });\n      } else if (res && res.message) {\n          alert.add(this.props.t(res.message), \"alert-danger\");\n        } else {\n          alert.add(this.props.t(\"error\"), \"alert-danger\");\n        }\n    });\n  }\n\n  showPasswordReset() {\n    this.setState({ showResetPassword: true });\n  }\n\n  render() {\n    return (\n      <div class=\"login\">\n        <div class=\"login-form\">\n          <img src={new URL(\"/src/assets/zusam_logo.svg\", import.meta.url)} />\n          {!this.state.showResetPassword && (\n            <form>\n              <div class=\"form-group\">\n                <input\n                  type=\"email\"\n                  class=\"form-control\"\n                  required\n                  id=\"login\"\n                  placeholder={this.props.t(\"login_placeholder\")}\n                />\n              </div>\n              <div class=\"form-group\">\n                <input\n                  type=\"password\"\n                  class=\"form-control\"\n                  required\n                  id=\"password\"\n                  placeholder={this.props.t(\"password_placeholder\")}\n                />\n              </div>\n              <div class=\"forgot-password\">\n                <span onClick={e => this.showPasswordReset(e)}>\n                  {this.props.t(\"forgot_password\")}\n                </span>\n              </div>\n              <button\n                type=\"submit\"\n                class=\"btn btn-light\"\n                onClick={e => this.sendLoginForm(e)}\n                disabled={this.state.sending}\n              >\n                {this.props.t(\"connect\")}\n              </button>\n            </form>\n          )}\n          {!!this.state.showResetPassword && (\n            <form>\n              <div class=\"form-group\">\n                <input\n                  type=\"email\"\n                  class=\"form-control\"\n                  required\n                  id=\"login\"\n                  placeholder={this.props.t(\"login_placeholder\")}\n                />\n              </div>\n              <button\n                type=\"submit\"\n                class=\"btn btn-light\"\n                onClick={e => this.sendPasswordReset(e)}\n                disabled={this.state.sending}\n              >\n                {this.props.t(\"submit\")}\n              </button>\n            </form>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withTranslation()(withRouter(Login));\n","import { h, Component } from \"preact\";\nimport { alert, storage, http, router } from \"/src/core\";\nimport { withRouter } from \"react-router-dom\";\nimport { withTranslation } from 'react-i18next';\n\nclass ResetPassword extends Component {\n  constructor() {\n    super();\n    this.sendNewPassword = this.sendNewPassword.bind(this);\n  }\n\n  sendNewPassword(e) {\n    e.preventDefault();\n    storage.set(\"apiKey\", \"\");\n    const password = document.getElementById(\"password\").value || \"\";\n    const passwordConfirmation = document.getElementById(\"password_confirmation\").value || \"\";\n    const mail = router.getParam(\"mail\");\n    const key = router.getParam(\"key\");\n    if (mail && password) {\n      if (password != passwordConfirmation) {\n        alert.add(this.props.t(\"passwords_dont_match\"));\n        return;\n      }\n      http\n        .post(\"/api/new-password\", { mail, key, password })\n        .then(res => {\n          if (res.api_key) {\n            storage.set(\"apiKey\", res.api_key);\n            setTimeout(() => this.props.history.push(\"/\"), 100);\n          } else {\n            alert.add(this.props.t(res.message));\n          }\n        })\n        .catch(res => console.warn(res));\n    }\n  }\n\n  render() {\n    return (\n      <div class=\"login\">\n        <div class=\"login-form\">\n          <h2 class=\"title\">{this.props.t(\"reset_password_title\")}</h2>\n          <form>\n            <div class=\"form-group\">\n              <input\n                type=\"password\"\n                class=\"form-control\"\n                required\n                id=\"password\"\n                placeholder={this.props.t(\"new_password_placeholder\")}\n              />\n            </div>\n            <div class=\"form-group\">\n              <input\n                type=\"password\"\n                class=\"form-control\"\n                required\n                id=\"password_confirmation\"\n                placeholder={this.props.t(\"confirm_password_placeholder\")}\n              />\n            </div>\n            <button\n              type=\"submit\"\n              class=\"btn btn-light\"\n              onClick={e => this.sendNewPassword(e)}\n            >\n              {this.props.t(\"submit\")}\n            </button>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withTranslation()(withRouter(ResetPassword));\n","import { h, Component } from \"preact\";\nimport { alert, storage, http, router } from \"/src/core\";\nimport { withRouter } from \"react-router-dom\";\nimport { withTranslation } from 'react-i18next';\n\nclass Signup extends Component {\n  constructor() {\n    super();\n    this.state = {\n      showAlert: false,\n      error: \"\",\n      inviteKey: router.getParam(\"inviteKey\")\n    };\n    this.sendSignupForm = this.sendSignupForm.bind(this);\n  }\n\n  sendSignupForm(e) {\n    e.preventDefault();\n    this.setState({ showAlert: false });\n    let login = document.getElementById(\"login\").value || \"\";\n    login.toLowerCase();\n    const password = document.getElementById(\"password\").value;\n    storage.set(\"apiKey\", \"\");\n    http\n      .post(\"/api/signup\", {\n        login,\n        password,\n        invite_key: this.state.inviteKey\n      })\n      .then(res => {\n        if (res && !res.message) {\n          storage.set(\"apiKey\", res.api_key);\n          setTimeout(() => this.props.history.push(\"/\"), 100);\n        } else {\n          alert.add(this.props.t(res.message));\n        }\n      });\n  }\n\n  render() {\n    return (\n      <div class=\"signup\">\n        <div class=\"signup-form\">\n          <img src=\"/src/assets/zusam_logo.svg\" />\n          <div class=\"welcome lead\">{this.props.t(\"invitation_welcome\")}</div>\n          <form>\n            <div class=\"form-group\">\n              <input\n                type=\"email\"\n                class=\"form-control\"\n                required\n                id=\"login\"\n                placeholder={this.props.t(\"login_placeholder\")}\n              />\n            </div>\n            <div class=\"form-group\">\n              <input\n                type=\"password\"\n                class=\"form-control\"\n                required\n                id=\"password\"\n                placeholder={this.props.t(\"password_placeholder\")}\n              />\n            </div>\n            <button\n              type=\"submit\"\n              class=\"btn btn-light\"\n              onClick={e => this.sendSignupForm(e)}\n            >\n              {this.props.t(\"signup\")}\n            </button>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withTranslation()(withRouter(Signup));\n","import { h, Component } from \"preact\";\nimport { http } from \"/src/core\";\nimport { withTranslation } from 'react-i18next';\n\nclass StopNotificationEmails extends Component {\n  constructor() {\n    super();\n    http\n      .get(`/api${  window.location.pathname}`)\n      .then(() => {\n        this.setState({ message: this.props.t(\"notification_emails_stopped\") });\n      })\n      .catch(err => {\n        console.warn(err);\n        this.setState({ message: this.props.t(\"error\") });\n      });\n  }\n\n  render() {\n    return <div>{this.state.message || \"\"}</div>;\n  }\n}\n\nexport default withTranslation()(StopNotificationEmails);\n","import { h, Component } from \"preact\";\n\nexport default class BandCampEmbed extends Component {\n  render() {\n    const embedUrl =\n      `${this.props.url \n      }/size=large/bgcol=f5f5f5/linkcol=0687f5/minimal=true/tracklist=false/`;\n    if (this.state.revealed) {\n      return (\n        <div class=\"bandcamp-embed embed-responsive embed-responsive-1by1\">\n          <iframe class=\"embed-responsive-item\" src={embedUrl} />\n        </div>\n      );\n    }\n    return (\n      <div\n        class=\"embed-preview\"\n        onClick={() => this.setState({ revealed: true })}\n      >\n        <div class=\"bandcamp\" />\n        <img src={this.props.preview} />\n      </div>\n    );\n  }\n}\n","import { h, Component } from \"preact\";\n\nexport default class GenericEmbed extends Component {\n  render() {\n    if (this.state.revealed) {\n      return (\n        <div class=\"embed-responsive embed-responsive-16by9\">\n          <iframe\n            allowfullscreen\n            class=\"embed-responsive-item\"\n            src={this.props.url}\n           />\n        </div>\n      );\n    }\n    return (\n      <div\n        class=\"embed-preview\"\n        onClick={() => this.setState({revealed: true})}\n      >\n        <div className={this.props.playBtnClass} />\n        <img src={this.props.preview} />\n      </div>\n    );\n  }\n}\n","import { h, Component } from \"preact\";\nimport { util } from \"/src/core\";\nimport BandCampEmbed from \"./embeds/bandcamp-embed.component.js\";\nimport GenericEmbed from \"./embeds/generic-embed.component.js\";\n\nexport default class EmbedBlock extends Component {\n  getPreview() {\n    if (this.props?.data?.exception) {\n      console.warn(this.props.data);\n    }\n    if (this.props.data[\"providerName\"]) {\n      if (\"peertube\" == this.props.data[\"providerName\"].toLowerCase()) {\n          // default embed code\n          if (this.props.data[\"code\"]) {\n            return (\n              <div class=\"embed-container\" dangerouslySetInnerHTML={{ __html: this.props.data[\"code\"] }} />\n            );\n          }\n      }\n      if (\"soundcloud\" == this.props.data[\"providerName\"].toLowerCase()) {\n          if (this.props.data[\"code\"]) {\n            return (\n              <GenericEmbed\n                preview={util.crop(this.props.preview.id, 1024, 270)}\n                url={\n                  `${this.props.data[\"code\"].match(/https:\\/\\/[^\"\\s]+/)[0] \n                  }&auto_play=true`\n                }\n                playBtnClass={\"soundcloud\"}\n              />\n            );\n          }\n      }\n      if (\"bandcamp\" == this.props.data[\"providerName\"].toLowerCase()) {\n        if (this.props.data[\"code\"]) {\n          let id = this.props.data[\"code\"].match(/https:\\/\\/.*album=\\d+/);\n          if (!id) {\n            id = this.props.data[\"code\"].match(/https:\\/\\/.*track=\\d+/);\n          }\n          if (id) {\n            return (\n              <BandCampEmbed\n              preview={util.crop(this.props.preview.id, 1024, 270)}\n              url={id[0]}\n              />\n            );\n          }\n        }\n      }\n      if (\"lichess.org\" == this.props.data[\"providerName\"].toLowerCase()) {\n        let url = this.props?.data?.url && typeof(this.props?.data.url) == \"string\" ? this.props.data?.url : this.props.url;\n        if (util.isValidUrl(url) && !url.match(/embed/) && !url.match(/study/) && !url.match(/blog/)) {\n          url = new URL(url.replace(\"lichess.org/\", \"lichess.org/embed/\"));\n          let id;\n          try {\n            id = url.pathname.split(\"/\").slice(-1)[0];\n          } catch (e) {\n            id = \"\";\n          }\n          url = new URL(url.href.replace(id, id.slice(0, 8)));\n          if (id) {\n            return (\n              <GenericEmbed\n                preview={util.crop(this.props.preview.id, 270, 270)}\n                url={url}\n                playBtnClass={\"lichess\"}\n              />\n            );\n          }\n        }\n      }\n      if (\"youtube\" == this.props.data[\"providerName\"].toLowerCase()) {\n        let url = this.props?.data?.url && typeof(this.props?.data.url) == \"string\" ? this.props.data?.url : this.props.url;\n        if (this.props?.preview?.id && url) {\n          return (\n            <GenericEmbed\n              preview={util.crop(this.props.preview.id, 1024, 270)}\n              url={\n                `${url.replace(\"watch?v=\", \"embed/\")}?autoplay=1&controls=2&wmode=opaque`\n              }\n              playBtnClass={\"youtube\"}\n            />\n          );\n        }\n      }\n      if (\"invidious\" == this.props.data[\"providerName\"].toLowerCase()) {\n        let url = this.props?.data?.url && typeof(this.props?.data.url) == \"string\" ? this.props.data?.url : this.props.url;\n        if (this.props?.preview?.id && url) {\n          return (\n            <GenericEmbed\n              preview={util.crop(this.props.preview.id, 1024, 270)}\n              url={\n                `${url.replace(\"watch?v=\", \"embed/\")}`\n              }\n              playBtnClass={\"youtube\"}\n            />\n          );\n        }\n      }\n    }\n    if (/image/.test(this.props.data[\"content-type\"])) {\n      return (\n        <div class=\"container d-flex justify-content-center flex-wrap align-items-center\">\n          <img\n            data-nlg={!this.props.inWriter}\n            href={util.toApp(this.props.url)}\n            class=\"img-fluid cursor-pointer\"\n            data-origin={this.props.url}\n            data-src={\n              this.props.preview && !/gif/.test(this.props.data[\"content-type\"])\n                ? util.thumbnail(this.props.preview.id, 1366, 768)\n                : this.props.url\n            }\n            src={\n              this.props.preview && !/gif/.test(this.props.data[\"content-type\"])\n                ? util.thumbnail(this.props.preview.id, 1366, 99999)\n                : this.props.url\n            }\n          />\n        </div>\n      );\n    }\n    // application/ogg: https://developer.mozilla.org/en-US/docs/Web/HTTP/Configuring_servers_for_Ogg_media\n    if (/video/.test(this.props.data[\"content-type\"]) || this.props.data[\"content-type\"] == \"application/ogg\") {\n      return (\n        <div class=\"container d-flex justify-content-center flex-wrap align-items-center\">\n          <video class=\"img-fluid\" controls src={this.props.url} />\n        </div>\n      );\n    }\n    if (/audio/.test(this.props.data[\"content-type\"])) {\n      return (\n        <div class=\"container d-flex justify-content-center flex-wrap align-items-center\">\n          <audio class=\"w-100\" controls>\n            <source src={this.props.url} />\n          </audio>\n        </div>\n      );\n    }\n    if (\n      this.props.data[\"title\"] &&\n      (this.props.preview || this.props.data[\"description\"])\n    ) {\n      return (\n        <a\n          class=\"preview-card seamless-link d-inline-block\"\n          target=\"_blank\"\n          rel=\"noreferrer\"\n          href={util.toApp(this.props.url)}\n        >\n          <div class=\"card\" style=\"max-width: 480px\">\n            {this.props.preview && (\n              <img\n                class=\"card-img-top\"\n                src={util.crop(this.props.preview.id, 320, 180)}\n              />\n            )}\n            <div class=\"card-body p-1\">\n              <h5>{this.props.data[\"title\"]}</h5>\n              {this.props.data[\"description\"] && (\n                <p>\n                  <small>{this.props.data[\"description\"].slice(0, 500)}</small>\n                </p>\n              )}\n            </div>\n          </div>\n        </a>\n      );\n    }\n    return null;\n  }\n\n  render() {\n    if (!this.props.url || !this.props.data) {\n      return null;\n    }\n    let preview = this.getPreview();\n    if (preview) {\n      return <p class=\"text-center card-text\">{preview}</p>;\n    }\n    return null;\n  }\n}\n","import _FaIcon from \"./fa-icon.component.js\";\n\nexport const FaIcon = _FaIcon;\n","import { h, Component } from \"preact\";\n\n// Fontawesome icons taken from https://raw.githubusercontent.com/FortAwesome/Font-Awesome/master/js/all.js\n\nexport default class FaIcon extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      regular: {\n        comment: [512, 512, [], \"f075\", \"M256 32C114.6 32 0 125.1 0 240c0 47.6 19.9 91.2 52.9 126.3C38 405.7 7 439.1 6.5 439.5c-6.6 7-8.4 17.2-4.6 26S14.4 480 24 480c61.5 0 110-25.7 139.1-46.3C192 442.8 223.2 448 256 448c141.4 0 256-93.1 256-208S397.4 32 256 32zm0 368c-26.7 0-53.1-4.1-78.4-12.1l-22.7-7.2-19.5 13.8c-14.3 10.1-33.9 21.4-57.5 29 7.3-12.1 14.4-25.7 19.9-40.2l10.6-28.1-20.6-21.8C69.7 314.1 48 282.2 48 240c0-88.2 93.3-160 208-160s208 71.8 208 160-93.3 160-208 160z\"],\n        bookmark: [384, 512, [], \"f02e\", \"M336 0H48C21.49 0 0 21.49 0 48v464l192-112 192 112V48c0-26.51-21.49-48-48-48zm0 428.43l-144-84-144 84V54a6 6 0 0 1 6-6h276c3.314 0 6 2.683 6 5.996V428.43z\"],\n        images: [ 576, 512, [], \"f302\", \"M480 416v16c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V176c0-26.51 21.49-48 48-48h16v48H54a6 6 0 0 0-6 6v244a6 6 0 0 0 6 6h372a6 6 0 0 0 6-6v-10h48zm42-336H150a6 6 0 0 0-6 6v244a6 6 0 0 0 6 6h372a6 6 0 0 0 6-6V86a6 6 0 0 0-6-6zm6-48c26.51 0 48 21.49 48 48v256c0 26.51-21.49 48-48 48H144c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h384zM264 144c0 22.091-17.909 40-40 40s-40-17.909-40-40 17.909-40 40-40 40 17.909 40 40zm-72 96l39.515-39.515c4.686-4.686 12.284-4.686 16.971 0L288 240l103.515-103.515c4.686-4.686 12.284-4.686 16.971 0L480 208v80H192v-48z\"],\n        \"check-circle\": [512, 512, [], \"f058\", \"M256 8C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm0 48c110.532 0 200 89.451 200 200 0 110.532-89.451 200-200 200-110.532 0-200-89.451-200-200 0-110.532 89.451-200 200-200m140.204 130.267l-22.536-22.718c-4.667-4.705-12.265-4.736-16.97-.068L215.346 303.697l-59.792-60.277c-4.667-4.705-12.265-4.736-16.97-.069l-22.719 22.536c-4.705 4.667-4.736 12.265-.068 16.971l90.781 91.516c4.667 4.705 12.265 4.736 16.97.068l172.589-171.204c4.704-4.668 4.734-12.266.067-16.971z\"],\n        \"file-pdf\": [384, 512, [], \"f1c1\", \"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm250.2-143.7c-12.2-12-47-8.7-64.4-6.5-17.2-10.5-28.7-25-36.8-46.3 3.9-16.1 10.1-40.6 5.4-56-4.2-26.2-37.8-23.6-42.6-5.9-4.4 16.1-.4 38.5 7 67.1-10 23.9-24.9 56-35.4 74.4-20 10.3-47 26.2-51 46.2-3.3 15.8 26 55.2 76.1-31.2 22.4-7.4 46.8-16.5 68.4-20.1 18.9 10.2 41 17 55.8 17 25.5 0 28-28.2 17.5-38.7zm-198.1 77.8c5.1-13.7 24.5-29.5 30.4-35-19 30.3-30.4 35.7-30.4 35zm81.6-190.6c7.4 0 6.7 32.1 1.8 40.8-4.4-13.9-4.3-40.8-1.8-40.8zm-24.4 136.6c9.7-16.9 18-37 24.7-54.7 8.3 15.1 18.9 27.2 30.1 35.5-20.8 4.3-38.9 13.1-54.8 19.2zm131.6-5s-5 6-37.3-7.8c35.1-2.6 40.9 5.4 37.3 7.8z\"],\n        bell: [448, 512, [], \"f0f3\", \"M439.39 362.29c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71zM67.53 368c21.22-27.97 44.42-74.33 44.53-159.42 0-.2-.06-.38-.06-.58 0-61.86 50.14-112 112-112s112 50.14 112 112c0 .2-.06.38-.06.58.11 85.1 23.31 131.46 44.53 159.42H67.53zM224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64z\"],\n        \"level-down-alt\": [320, 512, [], \"f3be\", \"M313.553 392.331L209.587 504.334c-9.485 10.214-25.676 10.229-35.174 0L70.438 392.331C56.232 377.031 67.062 352 88.025 352H152V80H68.024a11.996 11.996 0 0 1-8.485-3.515l-56-56C-4.021 12.926 1.333 0 12.024 0H208c13.255 0 24 10.745 24 24v328h63.966c20.878 0 31.851 24.969 17.587 40.331z\"]\n      },\n      solid: {\n        bookmark: [384, 512, [], \"f02e\", \"M0 512V48C0 21.49 21.49 0 48 0h288c26.51 0 48 21.49 48 48v464L192 400 0 512z\"],\n        comment: [512, 512, [], \"f075\", \"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32z\"],\n        \"pencil-alt\": [512, 512, [], \"f303\", \"M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z\"],\n        \"arrow-left\": [448, 512, [], \"f060\", \"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z\"],\n        \"caret-down\": [320, 512, [], \"f0d7\", \"M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z\"],\n        film: [512, 512, [], \"f008\", \"M488 64h-8v20c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12V64H96v20c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12V64h-8C10.7 64 0 74.7 0 88v336c0 13.3 10.7 24 24 24h8v-20c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v20h320v-20c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v20h8c13.3 0 24-10.7 24-24V88c0-13.3-10.7-24-24-24zM96 372c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm272 208c0 6.6-5.4 12-12 12H156c-6.6 0-12-5.4-12-12v-96c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v96zm0-168c0 6.6-5.4 12-12 12H156c-6.6 0-12-5.4-12-12v-96c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v96zm112 152c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40z\"],\n        times: [352, 512, [], \"f00d\", \"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z\"],\n        bell: [448, 512, [], \"f0f3\", \"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z\"],\n        \"ellipsis-h\": [512, 512, [], \"f141\", \"M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z\"],\n        search: [512, 512, [], \"f002\", \"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z\"]\n      }\n    };\n  }\n\n  render() {\n    const icon = this.state[this.props.family][this.props.icon];\n    return (\n      icon && (\n        <svg\n          style={this.props.rotation ? `transform: rotate(${this.props.rotation})` : null}\n          className={`fa-icon ${  this.props.family  } ${  this.props.icon} ${this.props.rotation}`}\n          viewBox={`0 0 ${  icon[0]  } ${  icon[1]}`}\n        >\n          <path fill=\"currentColor\" d={icon[4]} />\n        </svg>\n      )\n    );\n  }\n}\n","module.exports = (require(\"./helpers/browser/js-loader\")(require('./helpers/bundle-url').getBundleURL('88FtB') + require('./helpers/bundle-manifest').resolve(\"fkfVe\"))).then(() => parcelRequire('4frmd'));","\"use strict\";\n\nvar cacheLoader = require('../cacheLoader');\n\nmodule.exports = cacheLoader(function (bundle) {\n  return new Promise(function (resolve, reject) {\n    // Don't insert the same script twice (e.g. if it was already in the HTML)\n    var existingScripts = document.getElementsByTagName('script');\n\n    if ([].concat(existingScripts).some(function isCurrentBundle(script) {\n      return script.src === bundle;\n    })) {\n      resolve();\n      return;\n    }\n\n    var script = document.createElement('script');\n    script.async = true;\n    script.type = 'text/javascript';\n    script.charset = 'utf-8';\n    script.src = bundle;\n\n    script.onerror = function (e) {\n      script.onerror = script.onload = null;\n      script.remove();\n      reject(e);\n    };\n\n    script.onload = function () {\n      script.onerror = script.onload = null;\n      resolve();\n    };\n\n    document.getElementsByTagName('head')[0].appendChild(script);\n  });\n});","\"use strict\";\n\nvar cachedBundles = {};\nvar cachedPreloads = {};\nvar cachedPrefetches = {};\n\nfunction getCache(type) {\n  switch (type) {\n    case 'preload':\n      return cachedPreloads;\n\n    case 'prefetch':\n      return cachedPrefetches;\n\n    default:\n      return cachedBundles;\n  }\n}\n\nmodule.exports = function (loader, type) {\n  return function (bundle) {\n    var cache = getCache(type);\n\n    if (cache[bundle]) {\n      return cache[bundle];\n    }\n\n    return cache[bundle] = loader.apply(null, arguments).catch(function (e) {\n      delete cache[bundle];\n      throw e;\n    });\n  };\n};","import { h, Component } from \"preact\";\nimport { util } from \"/src/core\";\nimport { FaIcon } from \"/src/misc\";\nimport { withTranslation } from 'react-i18next';\n\nclass FileGrid extends Component {\n  constructor(props) {\n    super(props);\n    this.toggleFile = this.toggleFile.bind(this);\n    let files = [];\n    if (Array.isArray(props.files)) {\n      props.files.forEach((e, i) => {\n        if (e.fileIndex == null) {\n          e.fileIndex = i;\n        }\n        files.splice(e.fileIndex, 0, e);\n      });\n    }\n    this.state = { files };\n  }\n\n  toggleFile(evt) {\n    evt.stopPropagation();\n    evt.preventDefault();\n    if (typeof this.props.toggleFile == \"function\") {\n      this.props.toggleFile(evt.currentTarget.getAttribute(\"fileIndex\"));\n    }\n  }\n\n  renderMiniatureFile(file) {\n    let filePath = file.contentUrl ? `/files/${file.contentUrl}` : null;\n    let url = filePath;\n    if (/image/.test(file.type) && file.type != \"image/gif\") {\n      // no limit in height for long format images\n      url = util.thumbnail(file.id, 1366, 999999);\n    }\n    switch (file.status) {\n      case \"raw\":\n        return (\n          <a class=\"rounded\">\n            <div class=\"miniature\">\n              <FaIcon family={\"regular\"} icon={\"check-circle\"} />\n            </div>\n          </a>\n        );\n      case \"initial\":\n        return (\n          <a class=\"rounded\">\n            <div\n              class=\"miniature video-raw\"\n              style={`background-image:url('${util.crop(file.id, 160, 160)}')`}\n             />\n            <div class=\"spinner orange-spinner\">\n              <div /><div /><div /><div /><div />\n            </div>\n            { file && file.progress > 0 && (\n              <div class=\"progress-bar\">\n                <div style={{ width: `${file.progress}%` }} />\n              </div>\n            )}\n          </a>\n        );\n      case \"ready\":\n      default:\n        if (/pdf/.test(file.type) || /video/.test(file.type) || file.type == \"image/gif\") {\n          return (\n            <a\n              data-nlg={!this.props.inWriter}\n              data-origin={util.toApp(filePath)}\n              href={!this.props.inWriter ? util.toApp(url) : undefined}\n              className={`rounded image${file.removed ? \" removed\" : \"\"}`}\n            >\n              <div\n                className={`miniature${file.removed ? \" removed\" : \"\"}`}\n                style={\n                  `background-image:url('${util.crop(file.id, 160, 160)}')`\n                }\n               />\n              <div\n                class=\"remove-button\"\n                style={file.removed ? \"color:red\" : \"\"}\n                fileIndex={file.fileIndex}\n                onClick={e => this.toggleFile(e)}\n              >\n                <FaIcon family={\"solid\"} icon={\"times\"} />\n              </div>\n            </a>\n          );\n        }\n        if (/image/.test(file.type) && file.type != \"image/gif\") {\n          return (\n            <a\n              data-nlg={!this.props.inWriter}\n              data-origin={util.toApp(filePath)}\n              data-src={util.thumbnail(file.id, 1366, 768)}\n              href={!this.props.inWriter ? util.toApp(url) : undefined}\n              class=\"rounded\"\n            >\n              <div\n                className={`miniature${file.removed ? \" removed\" : \"\"}`}\n                style={\n                  `background-image:url('${util.crop(file.id, 160, 160)}')`\n                }\n               />\n              <div\n                class=\"remove-button\"\n                style={file.removed ? \"color:red\" : \"\"}\n                fileIndex={file.fileIndex}\n                onClick={e => this.toggleFile(e)}\n              >\n                <FaIcon family={\"solid\"} icon={\"times\"} />\n              </div>\n            </a>\n          );\n        }\n    }\n  }\n\n  renderBigFile(file) {\n    let filePath = file.contentUrl ? `/files/${  file.contentUrl}` : null;\n    let url = filePath;\n    if (/image/.test(file.type) && file.type != \"image/gif\") {\n      // no limit in height for long format images\n      url = util.thumbnail(file.id, 1366, 999999);\n    }\n    if (file.contentUrl) {\n      if (/video/.test(file.type)) {\n        if (file.status == \"ready\") {\n          return (\n            <video\n              poster={util.thumbnail(file.id, 1280, 720)}\n              class=\"img-fluid contained-height video\"\n              controls=\"true\"\n              src={url}\n             />\n          );\n        }\n        return (\n          <a class=\"image video-uploaded\">\n            <img\n              class=\"img-fluid video-raw\"\n              src={util.crop(file.id, 320, 180)}\n             />\n            <div class=\"video-not-ready\">\n              {this.props.t(\"video_not_ready\")}\n            </div>\n          </a>\n        );\n      }\n      if (/pdf/.test(file.type)) {\n        return (\n          <a\n            data-nlg={!this.props.inWriter}\n            data-origin={util.toApp(filePath)}\n            href={!this.props.inWriter ? util.toApp(url) : undefined}\n            className={`pdf-outline image${file.removed ? \" removed\" : \"\"}`}\n          >\n            <img class=\"img-fluid\" src={util.thumbnail(file.id, 210*2, 497*2)} />\n            <div\n              class=\"remove-button\"\n              style={file.removed ? \"color:red\" : \"\"}\n              fileIndex={file.fileIndex}\n              onClick={e => this.toggleFile(e)}\n            >\n              <FaIcon family={\"solid\"} icon={\"times\"} />\n            </div>\n          </a>\n        );\n      }\n      if (/image/.test(file.type)) {\n        return (\n          <a\n            data-nlg={!this.props.inWriter}\n            data-origin={util.toApp(filePath)}\n            href={!this.props.inWriter ? util.toApp(url) : undefined}\n            className={`image${  file.removed ? \" removed\" : \"\"}`}\n          >\n            <img class=\"img-fluid\" src={url} />\n            <div\n              class=\"remove-button\"\n              style={file.removed ? \"color:red\" : \"\"}\n              fileIndex={file.fileIndex}\n              onClick={e => this.toggleFile(e)}\n            >\n              <FaIcon family={\"solid\"} icon={\"times\"} />\n            </div>\n          </a>\n        );\n      }\n    }\n    return (\n      <div class=\"file-placeholder\">\n        {file[\"error\"] ? (\n          <div class=\"orange-error\">&times;</div>\n        ) : (\n          <div class=\"spinner orange-spinner\">\n            <div /><div /><div /><div /><div />\n          </div>\n        )}\n        <div class=\"progress-bar\">\n          <div style={{ width: `${file.progress}%` }} />\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    if (!this.props.files || this.props.files.length === 0) {\n      return null;\n    }\n    if (this.props.files && this.props.files.length > 3) {\n      return (\n        <div class=\"file-grid\">\n          {this.props.files\n            .sort((a, b) => (a.fileIndex > b.fileIndex ? 1 : -1))\n            .map(e => this.renderMiniatureFile(e))}\n        </div>\n      );\n    }\n    return (\n      <div class=\"d-flex justify-content-center flex-wrap\">\n        {this.props.files\n          .sort((a, b) => (a.fileIndex > b.fileIndex ? 1 : -1))\n          .map(e => this.renderBigFile(e))}\n      </div>\n    );\n  }\n\n  componentDidMount() {\n    import(\"/src/lazy/nlg.js\").then(nlg => nlg.default.start());\n  }\n\n  componentDidUpdate() {\n    import(\"/src/lazy/nlg.js\").then(nlg => nlg.default.start());\n  }\n}\n\nexport default withTranslation()(FileGrid);\n","import { h, Component } from \"preact\";\nimport { http, util } from \"/src/core\";\nimport EmbedBlock from \"./embed-block.component.js\";\nimport FileGrid from \"./file-grid.component.js\";\n\nexport default class MessageBody extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { preview: null };\n  }\n\n  displayMessageText() {\n    if (!this.props.message.data) {\n      return \"\";\n    }\n    // escape html a little (just enough to avoid xss I hope)\n    let txt = this.props.message.data[\"text\"]\n      .replace(/</g, \"&lt;\")\n      .replace(/>/g, \"&gt;\")\n      .trim();\n    // replace url by real links\n    let shift = 0;\n    let match = null;\n    while ((match = util.getUrl(txt.slice(shift)))) {\n      let url = match[0];\n      if (url.length >= 50) {\n        url = `${url.slice(0, 25)  }...${  url.slice(-24)}`;\n      }\n      let link = `<a href=\"${match[0]}\" target=\"_blank\">${url}</a>`;\n      txt =\n        txt.slice(0, match[\"index\"] + shift) +\n        link +\n        txt.slice(match[\"index\"] + shift + match[0].length);\n      shift += match[\"index\"] + link.length;\n    }\n    // replace line returns\n    txt = txt.replace(/\\n/g, \"<br/>\");\n    return { __html: txt };\n  }\n\n  componentDidMount() {\n    this.componentWillUpdate();\n  }\n\n  componentWillUpdate() {\n    if (!this.state.gotPreview && this.props.message) {\n      if (this.props.message.data) {\n        let previewUrl = util.getUrl(this.props.message.data[\"text\"]);\n        if (previewUrl) {\n          http\n            .get(`/api/links/by_url?url=${encodeURIComponent(previewUrl[0])}`)\n            .then(r => {\n              this.setState({\n                preview: r,\n                gotPreview: true\n              });\n            });\n        } else {\n          this.setState({\n            gotPreview: true\n          });\n        }\n      }\n    }\n  }\n\n  render() {\n    return (\n      <div class=\"message-body\">\n        {this.props.message.data && this.props.message.data.title && (\n          <div class=\"title\">\n            <span>{this.props.message.data.title}</span>\n          </div>\n        )}\n        {this.props.message.data &&\n          this.props.message.data.text &&\n          this.props.message.data.text.trim() && (\n            <p\n              class=\"card-text\"\n              dangerouslySetInnerHTML={this.displayMessageText()}\n             />\n          )}\n        {this.state.preview && (!this.props.message.data || !this.props.message.data[\"no_embed\"]) && (\n          <EmbedBlock\n            key={this.state.preview.url}\n            url={this.state.preview.url}\n            preview={this.state.preview.preview}\n            data={this.state.preview.data}\n          />\n        )}\n        {this.props.files && (\n          <FileGrid files={this.props.files} />\n        )}\n      </div>\n    );\n  }\n}\n","import { h, Component } from \"preact\";\nimport { router, util } from \"/src/core\";\nimport MessageChild from \"./message-child.component.js\";\nimport { withTranslation } from 'react-i18next';\n\nclass MessageChildren extends Component {\n  constructor(props) {\n    super(props);\n    this.onNewChild = this.onNewChild.bind(this);\n    this.loadMessage = this.loadMessage.bind(this);\n    this.displayPreviousChildren = this.displayPreviousChildren.bind(this);\n    this.displayNextChildren = this.displayNextChildren.bind(this);\n    this.state = { firstDisplayedChild: 0, lastDisplayedChild: 0 };\n    window.addEventListener(\"newChild\", this.onNewChild);\n  }\n\n  onNewChild(event) {\n    const newMsg = event.detail;\n    if (newMsg.parent && util.getId(newMsg.parent) == this.props.id) {\n      this.setState(prevState => ({\n        lastDisplayedChild: prevState.lastDisplayedChild + 1\n      }));\n    }\n  }\n\n  loadMessage() {\n    let firstDisplayedChild = 0;\n    let lastDisplayedChild = 0;\n    if (this.props.childMessages.length) {\n      let msgIndex = router.action\n        ? this.props.childMessages.findIndex(e => e && e.id === router.action)\n        : -1;\n      if (msgIndex != -1) {\n        firstDisplayedChild = Math.max(0, msgIndex - 1);\n        lastDisplayedChild = Math.min(\n          this.props.childMessages.length,\n          msgIndex + 1\n        );\n      } else {\n        firstDisplayedChild =\n          this.props.childMessages && this.props.childMessages.length - 5; // display the last 5 children\n        lastDisplayedChild =\n          this.props.childMessages && this.props.childMessages.length;\n      }\n    }\n    this.setState({\n      firstDisplayedChild,\n      lastDisplayedChild\n    });\n  }\n\n  displayPreviousChildren() {\n    this.setState(prevState => ({\n      firstDisplayedChild: Math.max(0, prevState.firstDisplayedChild - 10)\n    }));\n  }\n\n  displayNextChildren() {\n    this.setState(prevState => ({\n      lastDisplayedChild: Math.min(\n        this.props.childMessages.length,\n        prevState.lastDisplayedChild + 10\n      )\n    }));\n  }\n\n  componentDidMount() {\n    this.loadMessage();\n  }\n\n  render() {\n    if (\n      this.state.lastDisplayedChild - this.state.firstDisplayedChild < 1 ||\n      !this.props.childMessages\n    ) {\n      return null;\n    }\n    return (\n      <div class=\"children\">\n        {this.state.firstDisplayedChild > 0 && (\n          <div class=\"d-flex\">\n            <a\n              class=\"more-coms unselectable\"\n              onClick={() => this.displayPreviousChildren()}\n            >\n              {this.props.t(\"previous_coms\")}\n            </a>\n          </div>\n        )}\n        {this.props.childMessages.map((e, i) => {\n          if (\n            i < this.state.firstDisplayedChild ||\n            i > this.state.lastDisplayedChild\n          ) {\n            return null;\n          }\n\n          return (\n            <MessageChild\n              id={e.id}\n              key={e.id}\n              isPublic={this.props.isPublic}\n            />\n          );\n        })}\n        {this.state.lastDisplayedChild + 1 <\n          this.props.childMessages.length && (\n          <div class=\"d-flex\">\n            <span\n              class=\"more-coms unselectable\"\n              onClick={() => this.displayNextChildren()}\n            >\n              {this.props.t(\"next_coms\")}\n            </span>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default withTranslation()(MessageChildren);\n","import { h } from \"preact\";\nimport { util } from \"/src/core\";\n\nexport default function MessageHead() {\n  return (\n    <div class=\"message-head d-flex\">\n      <div>\n        <img\n          className={\n            `rounded-circle material-shadow avatar${ \n              this.props.author && this.props.author.name ? \"\" : \" removed-user\"}`\n          }\n          style={util.backgroundHash(\n            this.props.author && this.props.author.name ? this.props.author && this.props.author.id : \"\"\n          )}\n          src={\n            this.props.author && this.props.author.avatar\n              ? util.crop(this.props.author.avatar.id, 100, 100)\n              : util.defaultAvatar\n          }\n          title={this.props.author && this.props.author.name ? this.props.author.name : \"\"}\n        />\n      </div>\n      {!this.props.isChild && (\n        <div class=\"infos\">\n          <span class=\"capitalize author\">\n            {this.props.author && this.props.author.name ? this.props.author.name : \"\"}\n          </span>\n        </div>\n      )}\n    </div>\n  );\n}\n","import { h, Fragment } from \"preact\";\nimport { util, me, notifications } from \"/src/core\";\nimport { Link } from \"react-router-dom\";\nimport { FaIcon } from \"/src/misc\";\nimport { useTranslation } from \"react-i18next\";\n\nexport default function MessageFooter() {\n  const { t } = useTranslation();\n  return (\n    <div class=\"message-footer\">\n      <div class=\"infos\">\n        {!this.props.isPublic &&\n            this.props.author &&\n            this.props.author.id == me.id && (\n              <Fragment>\n                <a\n                  class=\"action seamless-link font-size-90 capitalize d-none d-sm-block\"\n                  onClick={e => this.props.editMessage(e)}\n                >\n                  {t(\"edit\")}\n                </a>\n                <div class=\"dot d-none d-sm-block\">&bull;</div>\n              </Fragment>\n            )}\n        {!this.props.isPublic && this.props.isChild && (\n          <Fragment>\n            <Link\n              class=\"action seamless-link font-size-90 capitalize\"\n              to={\n                `/messages/${this.props.message.id}${this.props.message.children.length ? \"\" : \"?focus=reply\"}`\n              }\n            >\n              {this.props?.message?.children.length ? (\n                this.props.message.children.some(e => notifications.isNew(e.id)) ? (\n                  <b>\n                    {t(\"replies\", {\n                      count: this.props.message.children.length\n                    })}\n                  </b>\n                ) : (\n                  t(\"replies\", {\n                    count: this.props.message.children.length\n                  })\n                )\n              ) : (\n                t(\"reply\")\n              )}\n            </Link>\n            <div class=\"dot\">&bull;</div>\n          </Fragment>\n        )}\n        <div\n          class=\"date font-size-90\"\n          title={util.humanFullDate(this.props.message.createdAt)}\n        >\n          {util.humanTime(this.props.message.createdAt)}\n        </div>\n        <Fragment>\n          <div class=\"dot\">&bull;</div>\n          <div class=\"font-size-90\">\n            {\n              this.props.author && this.props.author.name ? this.props.author.name : \"--\"\n            }\n          </div>\n        </Fragment>\n      </div>\n      <div>\n        {!this.props.isPublic && (\n          <div\n            class=\"options dropdown\"\n            onClick={e =>\n                e?.target?.closest(\".dropdown\")?.classList.toggle(\"active\")\n            }\n          >\n            <div class=\"none-if-follows-empty\">\n              <FaIcon family=\"solid\" icon=\"ellipsis-h\" />\n            </div>\n            <div class=\"dropdown-menu dropdown-options\">\n              {this.props.author && this.props.author.id == me.id && (\n                <Link\n                  class=\"seamless-link capitalize\"\n                  onClick={e => this.props.deleteMessage(e)}\n                >\n                  {t(\"delete\")}\n                </Link>\n              )}\n              {\n                <a\n                  class=\"seamless-link capitalize\"\n                  onClick={e => this.props.openPublicLink(e)}\n                >\n                  {t(\"public_link\")}\n                </a>\n              }\n              {me.groups?.length > 1 && (\n                <a\n                  class=\"seamless-link capitalize\"\n                  onClick={e => this.props.shareMessage(e)}\n                >\n                  {t(\"share_message\")}\n                </a>\n              )}\n              {!this.props.message.isInFront &&\n                  this.props.author &&\n                  this.props.author.id == me.id && (\n                    <a\n                      class=\"seamless-link capitalize\"\n                      onClick={e => this.props.publishInGroup(e)}\n                    >\n                      {t(\"publish_in_group\")}\n                    </a>\n                  )}\n              {!me.hasBookmark(this.props.message.id) && (\n                <a\n                  class=\"seamless-link capitalize\"\n                  onClick={() => me.addBookmark(this.props.message.id)}\n                >\n                  {t(\"add_bookmark\")}\n                </a>\n              )}\n              {me.hasBookmark(this.props.message.id) && (\n                <a\n                  class=\"seamless-link capitalize\"\n                  onClick={() => me.removeBookmark(this.props.message.id)}\n                >\n                  {t(\"remove_bookmark\")}\n                </a>\n              )}\n              {this.props.author && this.props.author.id == me.id && (\n                <a\n                  class=\"seamless-link capitalize\"\n                  onClick={e => this.props.editMessage(e)}\n                >\n                  {t(\"edit\")}\n                </a>\n              )}\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","import { h, Component, Fragment } from \"preact\";\nimport { http, util } from \"/src/core\";\nimport { Link, withRouter } from \"react-router-dom\";\n\nclass MessageBreadcrumbs extends Component {\n\n  buildStack(message, stack = []) {\n    http.get(`/api/messages/${message.id}`).then(m => {\n      let previewUrl = util.getUrl(m.data[\"text\"]);\n      if (previewUrl) {\n        http.get(`/api/links/by_url?url=${encodeURIComponent(previewUrl[0])}`).then(preview => {\n          m[\"preview\"] = preview;\n          stack.push(m);\n          if (m?.parent) {\n            this.buildStack(m.parent, stack);\n          } else {\n            http.get(`/api/groups/${m.group.id}`).then(g => {\n              stack.push(g);\n              stack = stack.reverse();\n              this.setState({stack});\n            });\n          }\n        });\n      } else {\n        stack.push(m);\n        if (m?.parent) {\n          this.buildStack(m.parent, stack);\n        } else {\n          http.get(`/api/groups/${m.group.id}`).then(g => {\n            stack.push(g);\n            stack = stack.reverse();\n            this.setState({stack});\n          });\n        }\n      }\n    });\n  }\n\n  componentDidMount() {\n    this.buildStack({id: this.props.id});\n  }\n\n  getTitle(message) {\n    if (message) {\n      if (message['data'] && message['data']['title']) {\n        return message['data']['title'];\n      }\n      if (message['preview'] && message['preview']['data']) {\n        return message['preview']['data']['title'];\n      }\n      if (message['data'] && message['data']['text']) {\n        let url = util.getUrl(message['data']['text']);\n        if (url && url.length > 0) {\n          url = url[0];\n        }\n        if (url) {\n          return url;\n        }\n        return message['data']['text'];\n      }\n    }\n    return \"\";\n  }\n\n  render() {\n    if (this.state?.stack) {\n      return (\n        <div class=\"message-breadcrumbs\">\n          <nav style=\"--bs-breadcrumb-divider: '>';\">\n            <ol class=\"breadcrumb\">\n              {[this.state.stack[0], ...this.state.stack.slice(Math.min(3, this.state.stack.length) * -1).slice(1)].map((e, i) => e && e.id && (\n                <Fragment>\n                  <Fragment>\n                    {i == 1 && this.state.stack.length > 3 && (\n                      <li class=\"breadcrumb-item\">...</li>\n                    )}\n                  </Fragment>\n                  <li class=\"breadcrumb-item\">\n                    <Link\n                      key={e.id}\n                      to={`/${e.entityType}s/${e.id}`}\n                      class=\"no-decoration\"\n                    >{util.limitLength((e.entityType == \"message\" ? this.getTitle(e) : e?.name) || e.id, 40)}</Link>\n                  </li>\n                </Fragment>\n              ))}\n            </ol>\n          </nav>\n        </div>\n      );\n    }\n    return null;\n  }\n}\n\nexport default withRouter(MessageBreadcrumbs);\n","module.exports = (require(\"./helpers/browser/js-loader\")(require('./helpers/bundle-url').getBundleURL('88FtB') + require('./helpers/bundle-manifest').resolve(\"hNwwJ\"))).then(() => parcelRequire('7GElY'));","import { h, Component } from \"preact\";\nimport { alert, http, util, api, me } from \"/src/core\";\nimport { FaIcon } from \"/src/misc\";\nimport EmbedBlock from \"./embed-block.component.js\";\nimport FileGrid from \"./file-grid.component.js\";\nimport { withRouter } from \"react-router-dom\";\nimport { withTranslation } from 'react-i18next';\n\nclass Writer extends Component {\n\n  constructor(props) {\n    super(props);\n    this.sendMessage = this.sendMessage.bind(this);\n    this.genPreview = this.genPreview.bind(this);\n    this.postMessage = this.postMessage.bind(this);\n    this.putMessage = this.putMessage.bind(this);\n    this.onKeyPress = this.onKeyPress.bind(this);\n    this.toggleFile = this.toggleFile.bind(this);\n    this.inputImages = this.inputImages.bind(this);\n    this.inputVideo = this.inputVideo.bind(this);\n    this.uploadFile = this.uploadFile.bind(this);\n    this.addFile = this.addFile.bind(this);\n    this.removeFile = this.removeFile.bind(this);\n    this.updateFile = this.updateFile.bind(this);\n    this.manageWorkers = this.manageWorkers.bind(this);\n    this.removeWorker = this.removeWorker.bind(this);\n    this.addWorker = this.addWorker.bind(this);\n    this.state = {\n      files: [],\n      writerId: util.genId(),\n      workers: [],\n      workerManager: setInterval(this.manageWorkers, 1000),\n    };\n  }\n\n  componentWillMount() {\n    this.setState({\n      files: this.props.files || [],\n      link: null,\n      preview: null\n    });\n  }\n\n  componentDidMount() {\n    if (document.getElementById(\"title\")) {\n      document.getElementById(\"title\").value = this.props.title || \"\";\n    }\n    if (document.getElementById(\"text\")) {\n      document.getElementById(\"text\").value = this.props.text || \"\";\n    }\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.state.workerManager);\n  }\n\n  onKeyPress(event, doGenPreview = false) {\n    if (event.ctrlKey && util.is_it_enter(event)) {\n      this.sendMessage();\n      return;\n    }\n    if (![\" \", \"Enter\", \"v\"].includes(event.key)) {\n      return;\n    }\n    if (doGenPreview) {\n      this.genPreview(event.currentTarget);\n    }\n  }\n\n  genPreview(t) {\n    t.style.height = \"1px\";\n    t.style.height = `${25 + t.scrollHeight  }px`;\n    // waiting for the dom to be updated\n    setTimeout(() => {\n      const text = t.value;\n      let links = text.match(/(https?:\\/\\/[^\\s]+)/gi);\n      if (links && links[0] != this.state.link) {\n        http\n          .get(`/api/links/by_url?url=${  encodeURIComponent(links[0])}`)\n          .then(r => {\n            if (r && t.value.indexOf(links[0]) >= 0) {\n              this.setState({ link: links[0], preview: r });\n            }\n          });\n      }\n    }, 0);\n  }\n\n  // toggle state (removed or not) of a file\n  toggleFile(fileIndex) {\n    let files = this.state.files;\n    let f = files.find(f => f.fileIndex == fileIndex);\n    f.removed = !f.removed;\n    this.setState({ files });\n  }\n\n  sendMessage() {\n    if (this.props.messageId) {\n      this.putMessage();\n    } else {\n      this.postMessage();\n    }\n  }\n\n  putMessage() {\n    let msg = {\n      files: this.state.files\n        .filter(e => !e.removed)\n        .filter(e => e.status == \"ready\")\n        .map(e => e[\"id\"])\n        .filter(e => !!e),\n      data: {\n        text: document.getElementById(\"text\").value\n      }\n    };\n    if (document.getElementById(\"title\")) {\n      msg.data.title = document.getElementById(\"title\").value || \"\";\n    }\n    http.put(`/api/messages/${this.props.messageId}`, msg).then(res => {\n      this.setState({sending: false});\n      if (!res) {\n        alert.add(this.props.t(\"error_new_message\"), \"alert-danger\");\n        return;\n      }\n      window.dispatchEvent(new CustomEvent(\"editMessage\", { detail: res }));\n    });\n    this.setState({sending: true});\n  }\n\n  postMessage() {\n    let msg = {\n      createdAt: Math.floor(Date.now() / 1000),\n      author: me.id,\n      group: util.getId(this.props.group),\n      children: [],\n      files: this.state.files\n        .filter(e => !e.removed)\n        .filter(e => e.status == \"ready\")\n        .map(e => e[\"id\"])\n        .filter(e => !!e),\n      data: {\n        text: (document.getElementById(\"text\").value || \"\").substring(0, 50000)\n      },\n      lastActivityDate: Math.floor(Date.now() / 1000)\n    };\n    if (this.props.parent) {\n      msg.parent = util.getId(this.props.parent);\n    }\n    if (document.getElementById(\"title\")) {\n      msg.data.title = document.getElementById(\"title\").value || \"\";\n    }\n    // don't post if there is nothing to post\n    if (!msg.files.length && !msg.data.text && !msg.data.title) {\n      alert.add(this.props.t(\"empty_message\"), \"alert-danger\");\n      return;\n    }\n    http.post(\"/api/messages\", msg).then(res => {\n      if (!res) {\n        this.setState({ sending: false });\n        alert.add(this.props.t(\"error_new_message\"), \"alert-danger\");\n        return;\n      }\n      if (this.props.isChild) {\n        this.setState({ sending: false });\n        window.dispatchEvent(new CustomEvent(\"newChild\", { detail: res }));\n      } else {\n        setTimeout(() => {\n          window.dispatchEvent(new CustomEvent(\"newParent\", { detail: res }));\n          this.props.history.push(util.toApp(`/messages/${res.id}`));\n        }, 500);\n      }\n      this.setState({\n        files: [],\n        link: null,\n        preview: null,\n        writerId: util.genId(),\n      });\n      if (document.getElementById(\"text\")) {\n        document.getElementById(\"text\").value = \"\";\n      }\n    });\n    this.setState({ sending: true });\n  }\n\n  inputGenericFile(mimetype) {\n    const input = document.createElement(\"input\");\n    document.body.appendChild(input);\n    input.style.display = \"none\";\n    input.type = \"file\";\n    input.accept = mimetype;\n    input.addEventListener(\"change\", event => {\n      this.addFile(event.target.files[0], mimetype);\n    });\n    input.click();\n  }\n\n  inputVideo() {\n    const input = document.createElement(\"input\");\n    document.body.appendChild(input);\n    input.style.display = \"none\";\n    input.type = \"file\";\n    input.accept = \"video/*\";\n    input.addEventListener(\"change\", event => {\n      this.addFile(event.target.files[0], \"video\");\n    });\n    input.click();\n  }\n\n  inputImages() {\n    const input = document.createElement(\"input\");\n    document.body.appendChild(input);\n    input.style.display = \"none\";\n    input.type = \"file\";\n    input.multiple = \"multiple\";\n    input.accept = \"image/*\";\n    input.addEventListener(\"change\", event => {\n      let list = Array.from(event.target.files);\n      list.map(e => this.addFile(e, \"image\"));\n    });\n    input.click();\n  }\n\n  addFile(inputFile, type) {\n    this.setState(prevState => ({\n      files: [...prevState.files, {\n        inputFile,\n        type,\n        id: util.genId(),\n        progress: 0,\n        status: 'initial'\n      }]\n    }));\n  }\n\n  updateFile(id, file, callback = null) {\n    this.setState(prevState => ({\n      files: prevState.files.map(f => f.id === id ? Object.assign(f, file) : f)\n    }), callback);\n  }\n\n  removeFile(id) {\n    this.setState(prevState => ({\n      files: prevState.files.filter(f => f.id != id)\n    }));\n  }\n\n  manageWorkers() {\n    if (this.state.workers.length >= navigator.hardwareConcurrency) {\n      return;\n    }\n    let target = this.state.files.find(\n      e => !this.state.workers.map(w => w.target && w.target.id).includes(e.id) && e.status == 'initial'\n    );\n    if (target) {\n      let worker = {\n        target,\n        id: util.genId(),\n      };\n      this.setState(prevState => ({\n        workers: [...prevState.workers, worker]\n      }), () => this.addWorker(worker.id));\n    }\n  }\n\n  removeWorker(workerId) {\n    this.setState(prevState => ({\n      workers: prevState.workers.filter(e => e.id != workerId)\n    }));\n  }\n\n  addWorker(workerId) {\n    let worker = this.state.workers.find(e => e.id == workerId);\n    switch (worker.target.type) {\n      case \"image\":\n        import(\"/src/lazy/image-service.js\").then(imageService => {\n          imageService.default.handleImage(\n            worker.target.inputFile,\n            res => {\n              this.updateFile(\n                worker.target.id,\n                {inputFile: res},\n                this.uploadFile(worker.target.id, () => this.removeWorker(workerId))\n              );\n            }\n          );\n        });\n        break;\n      case \"video\":\n        this.uploadFile(worker.target.id, () => this.removeWorker(workerId));\n        break;\n      case \"application/pdf\":\n        this.uploadFile(worker.target.id, () => this.removeWorker(workerId));\n        break;\n      default:\n        // don't know what to do\n        // TODO handle this properly\n        console.warn(worker.target);\n        console.warn(\"unknown file type for worker\");\n    }\n  }\n\n  uploadFile(fileId, callback = null) {\n    const formData = new FormData();\n    let file = this.state.files.find(e => e.id == fileId);\n    if (!file || !file.inputFile) {\n      // TODO handle this properly\n      console.error(this.state, file, fileId);\n      throw \"error\";\n    }\n    formData.append(\"file\", file.inputFile);\n    formData.append(\"fileIndex\", this.state.files.findIndex(f => f.id == file.id));\n\n    // store current writerId for later comparison\n    let writerId = this.state.writerId;\n\n    http.sendFile(\n      formData,\n      file => {\n        // update state only if it's the good writeId\n        if (writerId == this.state.writerId) {\n          file['status'] = 'ready';\n          this.updateFile(fileId, file, callback);\n        }\n      },\n      e => {\n        this.updateFile(\n          fileId,\n          {progress: Math.floor((e.loaded / e.total) * 100)}\n        )\n      },\n      e => {\n        console.warn(e);\n        alert.add(this.props.t(\"error_upload\"), \"alert-danger\");\n        this.removeFile(fileId);\n      }\n    );\n  }\n\n  render() {\n    if (this.state.sending) {\n      return (\n        <div class=\"message-placeholder\">\n          <div class=\"spinner orange-spinner\">\n            <div /><div /><div /><div /><div />\n          </div>\n        </div>\n      );\n    }\n    return (\n      <div class=\"writer\">\n        {!this.props.isChild && (\n          <input\n            type=\"text\"\n            id=\"title\"\n            onKeyPress={e => this.onKeyPress(e)}\n            placeholder={this.props.t(\"title_placeholder\")}\n           />\n        )}\n        <textarea\n          onKeyPress={e => this.onKeyPress(e, true)}\n          id=\"text\"\n          rows=\"5\"\n          autocomplete=\"off\"\n          autofocus={this.props.focus}\n          placeholder={this.props.t(\"text_placeholder\")}\n          maxlength=\"50000\"\n         />\n        {this.state.preview && (\n          <EmbedBlock inWriter={true} {...this.state.preview} />\n        )}\n        {!!this.state.files.length && (\n          <FileGrid\n            key={this.state.files.reduce(\n              (a, c) => a + c.id + c.fileIndex + c.error,\n              \"\"\n            )}\n            files={this.state.files}\n            toggleFile={this.toggleFile}\n            inWriter={true}\n          />\n        )}\n        <div class=\"options\">\n          {api && api.info && api.info.upload && api.info.upload.image && (\n            <button\n              class=\"option\"\n              onClick={() => this.inputImages()}\n              title={this.props.t(\"upload_image\")}\n            >\n              <FaIcon family={\"regular\"} icon={\"images\"} />\n            </button>\n          )}\n          {api && api.info && api.info.upload && api.info.upload.video && (\n            <button\n              class=\"option\"\n              onClick={() => this.inputVideo()}\n              title={this.props.t(\"upload_video\")}\n            >\n              <FaIcon family={\"solid\"} icon={\"film\"} />\n            </button>\n          )}\n          {api && api.info && api.info.upload && api.info.upload.pdf && (\n            <button\n              class=\"option\"\n              onClick={() => this.inputGenericFile(\"application/pdf\")}\n              title={this.props.t(\"upload_pdf\")}\n            >\n              <FaIcon family={\"regular\"} icon={\"file-pdf\"} />\n            </button>\n          )}\n          <div class=\"actions\">\n            {this.props.cancel && (\n              <button class=\"cancel\" onClick={e => this.props.cancel(e)}>\n                {this.props.t(\"cancel\")}\n              </button>\n            )}\n            <button\n              disabled={!this.props.group}\n              type=\"submit\"\n              class=\"submit\"\n              onClick={e => this.sendMessage(e)}\n            >\n              {this.props.t(\"submit\")}\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withTranslation()(withRouter(Writer));\n","import {\n  useMemo,\n  useContext,\n  useState,\n  useLayoutEffect,\n  useEffect\n} from 'preact/hooks'\nimport { createContext, h } from 'preact'\nimport { forwardRef } from 'preact/compat'\n\nlet StoreContext = createContext()\n\nlet useIsomorphicLayoutEffect =\n  typeof window !== 'undefined' ? useLayoutEffect : useEffect\n\nlet customContext = context => (...keys) => {\n  let store = useContext(context)\n  if (process.env.NODE_ENV !== 'production' && !store) {\n    throw new Error(\n      'Could not find storeon context value.' +\n        'Please ensure the component is wrapped in a <StoreContext.Provider>'\n    )\n  }\n\n  let rerender = useState({})\n\n  useIsomorphicLayoutEffect(() => {\n    return store.on('@changed', (_, changed) => {\n      let changesInKeys = keys.some(key => key in changed)\n      if (changesInKeys) rerender[1]({})\n    })\n  }, [])\n\n  return useMemo(() => {\n    let state = store.get()\n    let data = {}\n    keys.forEach(key => {\n      data[key] = state[key]\n    })\n    data.dispatch = store.dispatch\n    return data\n  }, [rerender[0]])\n}\n\nlet useStoreon = customContext(StoreContext)\n\nlet connectStoreon = (...keys) => {\n  let Component = keys.pop()\n  return forwardRef((originProps, ref) => {\n    let props = { ...originProps, ...useStoreon(...keys), ref }\n    return h(Component, props)\n  })\n}\n\nexport { useStoreon, StoreContext, connectStoreon, customContext }\n","import { h, Fragment, Component } from \"preact\";\nimport { http, router, util, me, notifications } from \"/src/core\";\nimport MessageChildren from \"./message-children.component.js\";\nimport MessageHead from \"./message-head.component.js\";\nimport MessageFooter from \"./message-footer.component.js\";\nimport MessageBody from \"./message-body.component.js\";\nimport MessageBreadcrumbs from \"./message-breadcrumbs.component.js\";\nimport Writer from \"./writer.component.js\";\nimport { withRouter } from \"react-router-dom\";\nimport { withTranslation } from 'react-i18next';\nimport { connectStoreon } from 'storeon/preact';\n\nclass Message extends Component {\n  constructor(props) {\n    super(props);\n    this.getComponentClass = this.getComponentClass.bind(this);\n    this.editMessage = this.editMessage.bind(this);\n    this.deleteMessage = this.deleteMessage.bind(this);\n    this.shareMessage = this.shareMessage.bind(this);\n    this.publishInGroup = this.publishInGroup.bind(this);\n    this.cancelEdit = this.cancelEdit.bind(this);\n    this.onEditMessage = this.onEditMessage.bind(this);\n    this.openPublicLink = this.openPublicLink.bind(this);\n    this.onNewChild = this.onNewChild.bind(this);\n    this.loadMessage = this.loadMessage.bind(this);\n    this.hydrateMessage = this.hydrateMessage.bind(this);\n    window.addEventListener(\"newChild\", this.onNewChild);\n    window.addEventListener(\"editMessage\", this.onEditMessage);\n  }\n\n  hydrateMessage(m) {\n    http.get(`/api/users/${m.author.id}`).then(u => {\n      this.setState({author: u});\n    });\n    if (m?.parent?.id) {\n      http.get(`/api/messages/${m.parent.id}`).then(p => {\n        this.setState({parent: p});\n      });\n    }\n    if (m?.files.length) {\n      Promise.all(m.files.map(f => http.get(`/api/files/${f.id}`).then(f => f))).then(\n        files => this.setState({files})\n      );\n    }\n    this.setState({message: m});\n  }\n\n  loadMessage() {\n    http.get(`/api/messages/${this.props.id}`).then(m => {\n      this.hydrateMessage(m)\n    });\n  }\n\n  componentDidMount() {\n    this.loadMessage();\n    notifications.removeMatchingNotifications(this.props.id);\n\n    if (!this.props.isChild) {\n      setTimeout(() => window.scrollTo(0, 0));\n    }\n\n    setTimeout(() => {\n      if (this.props.id == router.action) {\n        const msgElement = document.getElementById(this.props.id);\n        if (msgElement) {\n          msgElement.scrollIntoView({ block: \"start\", behavior: \"smooth\" });\n          setTimeout(() => msgElement.classList.remove(\"highlight\"), 1000);\n        }\n      }\n    }, 1000);\n  }\n\n  onNewChild(event) {\n    const newMsg = event.detail;\n    let msg = this.state.message;\n    if (newMsg.parent && util.getId(newMsg.parent) == msg.id) {\n      newMsg.author = me.get();\n      msg.children = [...msg.children, newMsg];\n      this.setState({message: msg});\n    }\n  }\n\n  async openPublicLink(event) {\n    event.preventDefault();\n    let newTab = window.open(\"about:blank\", \"_blank\");\n    const res = await http.get(\n      `/api/messages/${this.props.id}/get-public-link`\n    );\n    newTab.location = `${document.baseURI}public/${res.token}`;\n  }\n\n  onEditMessage(event) {\n    if (event.detail.id == this.props.id) {\n      this.setState({\n        edit: false,\n      });\n      this.hydrateMessage(event.detail)\n      this.props.key = +Date.now();\n    }\n  }\n\n  getComponentClass() {\n    let cn = \"message\";\n    if (this.props.isChild) {\n      cn += \" child\";\n    }\n    if (this.props.id == router.action) {\n      cn += \" highlight\";\n    }\n    return cn;\n  }\n\n  deleteMessage(event) {\n    event.preventDefault();\n    if (confirm(this.props.t(\"ask_delete_message\"))) {\n      http.delete(`/api/messages/${this.props.id}`).then(() => {\n        if (this.props.isChild) {\n          this.setState({isRemoved: true});\n        } else {\n          this.props.history.push(`/groups/${this.state.message.group.id}`, {\n            data: {resetGroupDisplay: true}\n          });\n        }\n      });\n    }\n  }\n\n  shareMessage(event) {\n    event.preventDefault();\n    this.props.history.push(`/share?message=${this.props.id}`);\n  }\n\n  editMessage(event) {\n    event.preventDefault();\n    this.setState({ edit: true });\n  }\n\n  publishInGroup() {\n    http\n      .put(`/api/messages/${this.props.id}`, {\n        lastActivityDate: Math.floor(Date.now() / 1000),\n        isInFront: true\n      })\n      .then(res => {\n        if (!res) {\n          alert.add(this.props.t(\"error\"), \"alert-danger\");\n          return;\n        }\n        this.props.history.push(`/groups/${this.state.message.group.id}`);\n      });\n  }\n\n  cancelEdit(event) {\n    event.preventDefault();\n    this.setState({ edit: false });\n  }\n\n  displayWriter(isChild, focus) {\n    return (\n      <Writer\n        cancel={this.state.edit ? this.cancelEdit : null}\n        files={this.state.edit ? this.state.files : []}\n        focus={focus || !!this.state.edit}\n        group={this.state.message.group}\n        messageId={this.state.edit ? this.props.id : null}\n        parent={\n          this.state.edit ? this.state?.parent?.id : this.props.id\n        }\n        text={this.state.edit ? this.state.message.data[\"text\"] : \"\"}\n        title={this.state.edit ? this.state.message.data[\"title\"] : \"\"}\n        isChild={isChild}\n      />\n    );\n  }\n\n  render() {\n    if (this.state?.isRemoved || !this.state?.message) {\n      // placeholder\n      return (\n        <div id={this.props.id} className=\"message\" />\n      );\n    }\n    return (\n      <Fragment>\n        {!this.props.isChild && (\n          <MessageBreadcrumbs id={this.props.id} />\n        )}\n        <div id={this.props.id} className={this.getComponentClass()}>\n          {this.state.edit && this.displayWriter(this.props.isChild)}\n          {!this.state.edit && (\n            <Fragment>\n              {this.props.isChild && this.state.edit && (\n                <div class=\"message-head d-none d-md-block\">\n                  <img\n                    class=\"rounded-circle w-3 material-shadow avatar\"\n                    style={util.backgroundHash(me.id)}\n                    src={\n                      me.avatar\n                        ? util.crop(me.avatar?.id, 100, 100)\n                        : util.defaultAvatar\n                    }\n                  />\n                </div>\n              )}\n              <MessageHead\n                author={this.state?.author}\n                message={this.state?.message}\n                isPublic={this.props.isPublic}\n                isChild={this.props.isChild}\n              />\n              <div class=\"main\">\n                <MessageBody\n                  message={this.state.message}\n                  files={this.state?.files || []}\n                  isPublic={this.props.isPublic}\n                  isChild={this.props.isChild}\n                />\n                <MessageFooter\n                  author={this.state?.author}\n                  message={this.state?.message}\n                  editMessage={this.editMessage}\n                  deleteMessage={this.deleteMessage}\n                  shareMessage={this.shareMessage}\n                  publishInGroup={this.publishInGroup}\n                  openPublicLink={this.openPublicLink}\n                  isPublic={this.props.isPublic}\n                  isChild={this.props.isChild}\n                />\n              </div>\n            </Fragment>\n          )}\n        </div>\n        {this.props.postMessageComponent}\n        {!this.props.isChild && (\n          <MessageChildren\n            childMessages={this.state.message.children}\n            isPublic={this.props.isPublic}\n            key={this.props.id}\n            id={this.props.id}\n          />\n        )}\n        {!this.state.edit && !this.props.isPublic && !this.props.isChild && (\n          <div class=\"message child mt-2\">\n            {me.id && (\n              <div class=\"message-head d-none d-md-block\">\n                <img\n                  class=\"rounded-circle w-3 material-shadow avatar\"\n                  style={util.backgroundHash(me.id)}\n                  src={\n                    me.avatar\n                      ? util.crop(me.avatar[\"id\"], 100, 100)\n                      : util.defaultAvatar\n                  }\n                />\n              </div>\n            )}\n            {this.displayWriter(true, this.props.focus)}\n          </div>\n        )}\n      </Fragment>\n    );\n  }\n}\n\nexport default connectStoreon('me', withTranslation()(withRouter(Message)));\n","import { h } from \"preact\";\nimport Message from \"./message.component.js\";\n\nexport default function MessageChild() {\n  return (\n    <Message\n      id={this.props.id}\n      isPublic={this.props.isPublic}\n      isChild={true}\n     />\n  );\n}\n","import { h, Component } from \"preact\";\nimport { router, util, http } from \"/src/core\";\nimport { MessageSearchResult } from \"/src/message\";\nimport { withTranslation } from 'react-i18next';\n\nclass GroupSearch extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      groupId: props.id,\n      loaded: false,\n      messages: [],\n      totalMessages: 0,\n      search: \"\",\n      hashtags: \"\",\n    };\n    this.loadMessages = this.loadMessages.bind(this);\n  }\n\n  getGroupName() {\n    if (this.props.me.groups && router.entity.entityType == \"group\") {\n      let group = this.props.me.groups.find(g => g[\"id\"] == util.getId(router.entity));\n      return group ? group[\"name\"] : \"\";\n    }\n    return \"\";\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"routerStateChange\", this.loadMessages);\n  }\n\n  componentDidMount() {\n    this.loadMessages();\n    window.addEventListener(\"routerStateChange\", this.loadMessages);\n  }\n\n  loadMessages() {\n    const search = router.getParam(\"search\")\n    const hashtags = router.getParam(\"hashtags\")\n    this.setState({search, hashtags});\n    http\n      .post(\"/api/messages/search\", {\n        group: this.state.groupId,\n        search,\n        hashtags\n      })\n      .then(res => {\n        if (res && Array.isArray(res[\"messages\"])) {\n          this.setState({\n            search,\n            messages: res[\"messages\"],\n            totalMessages: res[\"totalItems\"],\n            loaded: true\n          });\n        }\n      });\n  }\n\n  render() {\n    return (\n      Array.isArray(this.state.messages) && (\n        <div>\n          <article id=\"group\" class=\"justify-content-center d-flex\">\n            <div class=\"search-results-container container-fluid d-flex justify-content-center flex-wrap\">\n              {this.state.messages.length == 0 && !this.state.loaded && (\n                <p>\n                  <div class=\"mt-5 spinner orange-spinner\">\n                    <div /><div /><div /><div /><div />\n                  </div>\n                </p>\n              )}\n              {this.state.messages.length == 0 && this.state.loaded && (\n                <p>{this.props.t(\"search_without_result\")}</p>\n              )}\n              {this.state.messages.map((msg, i) => {\n                return (\n                  <MessageSearchResult\n                    tabindex={i + 1}\n                    key={msg.id}\n                    message={msg}\n                    groupId={this.state.groupId}\n                    search={this.state.search}\n                    hashtags={this.state.hashtags}\n                  />\n                );\n              })}\n            </div>\n          </article>\n        </div>\n      )\n    );\n  }\n}\n\nexport default withTranslation()(GroupSearch);\n","import { h, Component } from \"preact\";\nimport { http, router } from \"/src/core\";\nimport { withTranslation } from 'react-i18next';\n\nclass CreateGroup extends Component {\n  constructor() {\n    super();\n    this.postNewGroup = this.postNewGroup.bind(this);\n  }\n\n  postNewGroup(event) {\n    event.preventDefault();\n    const name = document.querySelector(\"#create_group_form input[name='name']\")\n      .value;\n    let group = {};\n    if (name) {\n      group.name = name;\n    } else {\n      return false;\n    }\n    group.createdAt = Math.floor(Date.now() / 1000);\n    http.post(\"/api/groups\", group).then(res => {\n      http.post(`/api/groups/invitation/${  res.secretKey}`, {}).then(res => {\n        window.location = router.toApp(`/groups/${res.id}`);\n      });\n    });\n  }\n\n  render() {\n    return (\n      <div class=\"container mt-2\">\n        <div class=\"group-settings\">\n          <div class=\"card\">\n            <div class=\"card-body\">\n              <div class=\"container-fluid p-1\">\n                <div class=\"row\">\n                  <div class=\"col-12 col-md-10\">\n                    <form id=\"create_group_form\" class=\"mb-1\">\n                      <div class=\"form-group\">\n                        <label for=\"name\">{this.props.t(\"name\")}: </label>\n                        <input\n                          type=\"text\"\n                          name=\"name\"\n                          minlength=\"1\"\n                          maxlength=\"128\"\n                          placeholder={this.props.t(\"name_input\")}\n                          class=\"form-control\"\n                          required\n                         />\n                      </div>\n                      <button\n                        onClick={e => this.postNewGroup(e)}\n                        class=\"btn btn-primary\"\n                      >\n                        {this.props.t(\"create_the_group\")}\n                      </button>\n                    </form>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withTranslation()(CreateGroup);\n","import { h, Component } from \"preact\";\nimport { util, http, me } from \"/src/core\";\nimport { MessagePreview } from \"/src/message\";\nimport { connectStoreon } from 'storeon/preact';\n\nfunction BookmarkBoard() {\n\n  if (!Array.isArray(me.data?.bookmarks) || me.data?.bookmarks.length < 1) {\n    return;\n  }\n\n  return (\n    <div>\n      <article id=\"group\" class=\"justify-content-center d-flex\">\n        <div class=\"message-container container-fluid d-flex justify-content-center flex-wrap\">\n          {me.data?.bookmarks.map((id, i) => {\n            return (\n              <MessagePreview\n                tabindex={i + 1}\n                key={id}\n                id={id}\n              />\n            );\n          })}\n        </div>\n      </article>\n    </div>\n  );\n}\n\nexport default connectStoreon('me', BookmarkBoard);\n","import { h, Component, Fragment } from \"preact\";\nimport { http, util } from \"/src/core\";\nimport { Link } from \"react-router-dom\";\nimport { withTranslation } from 'react-i18next';\n\nclass Notification extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      target: null,\n      action: null,\n      title: null,\n      notification: null,\n      group: null,\n      user: null,\n      message: null,\n    };\n  }\n\n  componentDidMount() {\n    http.get(`/api/notifications/${this.props.id}`).then(n => {\n      Promise.all([\n        `/api/groups/${n.fromGroup.id}`,\n        `/api/users/${n.fromUser.id}`,\n        `/api/messages/${n.fromMessage.id}`,\n      ].map(url => http.get(url).then(e => e))).then(res => {\n        this.setState({\n          target: this.getTarget(n, res[0], res[2]),\n          action: this.getAction(n),\n          title: this.getTitle(n, res[2]),\n          notification: n,\n          group: res[0],\n          user: res[1],\n          message: res[2],\n        });\n      });\n    });\n  }\n\n  getMiniature(notification, user) {\n    let imgSrc = util.defaultAvatar;\n    if (\n      user &&\n      user.avatar &&\n      notification.type != \"global_notification\"\n    ) {\n      imgSrc = util.crop(user.avatar[\"id\"], 80, 80);\n    }\n    return (\n      <img\n        style={util.backgroundHash(\n          user ? user.id : \"\"\n        )}\n        src={imgSrc}\n        onError={e => this.setMiniatureOnError(e)}\n      />\n    );\n  }\n\n  setMiniatureOnError(event) {\n    event.currentTarget.src = util.defaultAvatar;\n  }\n\n  getAction(notification) {\n    switch (notification?.type) {\n      case \"new_message\":\n        return this.props.t(\"has_posted_in\");\n      case \"new_comment\":\n        return this.props.t(\"has_commented_on\");\n      case \"user_joined_group\":\n        return this.props.t(\"has_joined\");\n      case \"user_left_group\":\n        return this.props.t(\"has_left\");\n      case \"group_name_change\":\n        return this.props.t(\"changed_group_name\");\n      default:\n        return \"\";\n    }\n  }\n\n  getTitle(notification, message) {\n    switch (notification?.type) {\n      case \"new_message\":\n      case \"new_comment\":\n        if (message && message['data']) {\n          if (message['data']['title']) {\n            return message['data']['title'];\n          }\n          if (message['data']['text']) {\n            let url = util.getUrl(message['data']['text']);\n            if (url && url.length > 0) {\n              url = url[0];\n            }\n            if (url) {\n              http.get(`/api/links/by_url?url=${encodeURIComponent(url)}`).then(r => {\n                this.setState({title: r?.data?.title || r?.data?.description || r?.data?.url});\n              });\n              return url;\n            }\n            return message['data']['text'];\n          }\n        }\n        return \"\";\n      default:\n        return \"\";\n    }\n  }\n\n  getObject(notification) {\n    switch (notification?.type) {\n      case \"new_message\":\n        return (\n          <Fragment>\n            <strong>\n              {this.state?.group.name}\n            </strong>\n            {this.state.title && (\n              <Fragment>\n                <br />\n                <small><em>{util.limitStrSize(this.state.title, 52)}</em></small>\n              </Fragment>\n            )}\n          </Fragment>\n        );\n      case \"new_comment\":\n        return (\n          <span>\n            {`${this.props.t(\"the_message_from\")  } `}\n            <strong>\n              {this.state.message && this.state.message[\"author\"]\n                ? this.state.message[\"author\"][\"name\"]\n                : \"\"}\n            </strong>\n            {this.state.title && (\n              <Fragment>\n                <br />\n                <small><em>{util.limitStrSize(this.state.title, 52)}</em></small>\n              </Fragment>\n            )}\n          </span>\n        );\n      case \"user_joined_group\":\n      case \"user_left_group\":\n        return (\n          <strong>\n            {this.state?.group.name}\n          </strong>\n        );\n      case \"group_name_change\":\n        return (\n          <span>\n            <strong>{this.state.notification.data[\"previousGroupName\"]}</strong>\n            {` ${this.props.t(\"to\")} `}\n            <strong>{this.state.notification.data[\"newGroupName\"]}</strong>\n          </span>\n        );\n      case \"global_notification\":\n        return this.state.notification.data[\"text\"];\n      default:\n        return \"\";\n    }\n  }\n\n  getTarget(notification, group, message) {\n    switch (notification?.type) {\n      case \"user_joined_group\":\n      case \"user_left_group\":\n      case \"group_name_change\":\n        return `/groups/${group.id}`;\n      case \"new_message\":\n        return `/messages/${notification.target}`;\n      case \"new_comment\":\n        return (\n          `/messages/${message.id}/${notification.target}`\n        );\n      case \"global_notification\":\n        return notification.target;\n      default:\n        return \"\";\n    }\n  }\n\n  render() {\n    if (!this.state?.notification) {\n      return null;\n    }\n    return (\n      <Link\n        class=\"notification seamless-link unselectable\"\n        to={this.state.target}\n        title={this.state.title}\n      >\n        <div class=\"miniature unselectable\">{this.getMiniature(this.state.notification, this.state.user)}</div>\n        <div class=\"infos\">\n          <div class=\"description\">\n            {this.state.notification.type != \"global_notification\" && (\n              <Fragment>\n                <strong>{this.state.user.name || \"--\"}</strong>\n                <span>{` ${this.state.action} `}</span>\n              </Fragment>\n            )}\n            {this.getObject(this.state.notification)}\n          </div>\n          <div class=\"date\">\n            {util.humanTime(this.state.notification.createdAt)}\n          </div>\n        </div>\n      </Link>\n    );\n  }\n}\n\nexport default withTranslation()(Notification);\n","import { h } from \"preact\";\nimport { router } from \"/src/core\";\nimport { FaIcon } from \"/src/misc\";\nimport { connectStoreon } from 'storeon/preact'\nimport { withRouter, useHistory } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\n\nfunction Search() {\n\n  const { t } = useTranslation();\n  let history = useHistory();\n\n  function search(evt) {\n    evt.preventDefault();\n    router.getEntity().then(entity => {\n      let group_id = null;\n      switch (entity.entityType) {\n        case \"group\":\n          group_id = entity.id;\n          break;\n        case \"message\":\n          group_id = entity.group.id;\n          break;\n        default:\n      }\n      // https://stackoverflow.com/a/37511463\n      let searchTerms = document\n        .getElementById(\"search\")\n        .value.normalize(\"NFD\")\n        .replace(/[\\u0300-\\u036f]/g, \"\")\n        .split(\" \");\n      history.push(\n        `/groups/${group_id}?search=${searchTerms.join(\"+\")}`\n      );\n    });\n  }\n\n  return (\n    <form class=\"navbar-block search-block\" onSubmit={e => search(e)}>\n      <div class=\"input-group\">\n        <input\n          class=\"form-control\"\n          type=\"text\"\n          id=\"search\"\n          placeholder={t(\"search_in_group\")}\n          value={router.getParam(\"search\")}\n         />\n        <div class=\"input-group-append\">\n          <button\n            class=\"btn btn-secondary\"\n            type=\"submit\"\n          >\n            <FaIcon family={\"solid\"} icon={\"search\"} />\n          </button>\n        </div>\n      </div>\n    </form>\n  );\n}\n\nexport default withRouter(connectStoreon('entity', Search));\n","import { h, Component } from \"preact\";\nimport { me, router, http } from \"/src/core\";\nimport Writer from \"/src/message/writer.component.js\";\nimport { connectStoreon } from \"storeon/preact\";\nimport { withTranslation } from 'react-i18next';\n\nclass Share extends Component {\n  constructor() {\n    super();\n    let currentUrl = new URL(window.location);\n    this.state = {\n      loaded: false,\n      group: null,\n      currentUrl,\n      title: currentUrl.searchParams.get(\"title\") || \"\",\n      text: currentUrl.searchParams.get(\"text\") || \"\",\n      url: currentUrl.searchParams.get(\"url\") || \"\",\n      parent: currentUrl.searchParams.get(\"parent\") || \"\",\n      files: null\n    };\n    this.groupSelect = this.groupSelect.bind(this);\n  }\n\n  componentDidMount() {\n    // we want to load the component with informations fetched about the user\n    // BUT ONLY ONCE\n    const unbind = me.on(\"@changed\", () => loadState());\n    let loadState = () => {\n      if (this.state.loaded == true) {\n        unbind();\n        return;\n      }\n      let user = me.get();\n      if (user.loaded == true) {\n        if (user.data[\"default_group\"]) {\n          this.setState({ group: user.data[\"default_group\"] });\n          router.backUrl = `/groups/${user.data[\"default_group\"]}`;\n        } else if (user.groups.length == 1) {\n            this.setState({ group: user.groups[0][\"id\"] });\n            router.backUrl = `/groups/${user.groups[0]}`;\n        }\n        if (this.state.currentUrl.searchParams.get(\"message\")) {\n          http\n            .get(\n              `/api/messages/${  this.state.currentUrl.searchParams.get(\"message\")}`\n            )\n            .then(m => {\n              this.setState({\n                loaded: true,\n                title: (m && m.data.title) || \"\",\n                text: (m && m.data.text) || \"\",\n                url: \"\",\n                files: (m && m.files) || null\n              });\n            });\n        } else {\n          this.setState({ loaded: true });\n        }\n        unbind();\n      }\n    }\n  }\n\n  groupSelect(e) {\n    this.setState({ group: e.target.value });\n    router.backUrl = `/groups/${e.target.value}`;\n  }\n\n  render() {\n    if (!this.props.me[\"loaded\"]) {\n      return;\n    }\n    return (\n      <article class=\"mt-2\">\n        <div class=\"container\">\n          {this.state.parent && this.props.me && this.props.me.groups.length > 1 && (\n            <div class=\"mb-1\">\n              <label class=\"px-1\" for=\"group_share_choice\">\n                {this.props.t(\"group_share_choice\")}\n              </label>\n              <select\n                value={this.state.group}\n                class=\"form-control\"\n                name=\"group_share_choice\"\n                onChange={e => this.groupSelect(e)}\n                required\n              >\n                {this.props.me.groups.map(e => (\n                  <option value={e[\"id\"]}>{e.name}</option>\n                ))}\n              </select>\n            </div>\n          )}\n          {this.state.parent && (\n            <div class=\"form-group\">\n              <label for=\"apiKey\">\n                {this.props.t(\"parent_message\")}:{\" \"}\n              </label>\n              <input\n                type=\"text\"\n                name=\"parent_message\"\n                value={this.state.parent}\n                class=\"form-control font-size-80\"\n                readonly=\"readonly\"\n               />\n            </div>\n          )}\n          <Writer\n            focus={true}\n            group={this.state.group}\n            title={this.state.title}\n            parent={this.state.parent}\n            text={\n              this.state.text || this.state.url\n                ? `${this.state.text  }\\n${  this.state.url}`\n                : \"\"\n            }\n            files={this.state.files}\n          />\n        </div>\n      </article>\n    );\n  }\n}\n\nexport default withTranslation()(connectStoreon('me', Share));\n","import _CreateGroup from \"./create-group.component.js\";\nimport _GroupBoard from \"./group-board.component.js\";\nimport _BookmarkBoard from \"./bookmark-board.component.js\";\nimport _Notification from \"./notification.component.js\";\nimport _Search from \"./search.component.js\";\nimport _Share from \"./share.component.js\";\nimport _Home from \"./home.component.js\";\n\nexport const CreateGroup = _CreateGroup;\nexport const GroupBoard = _GroupBoard;\nexport const BookmarkBoard = _BookmarkBoard;\nexport const Notification = _Notification;\nexport const Search = _Search;\nexport const Share = _Share;\nexport const Home = _Home;\n","import { h, Component } from \"preact\";\nimport { http } from \"/src/core\";\nimport { FaIcon } from \"/src/misc\";\nimport { Navbar } from \"/src/navbar\";\nimport { MessagePreview } from \"/src/message\";\nimport { Link } from \"react-router-dom\";\n\nexport default class GroupBoard extends Component {\n  constructor(props) {\n    super(props);\n    let loaded = 1 + Math.floor((window.screen.width * window.screen.height) / (320 * 215));\n    this.state = {\n      loaded,\n      messages: [],\n      scrollTop: 0,\n      totalMessages: 0,\n      pageYOffset: 0,\n      page: 0\n    };\n    this.scroll_cooldown = Date.now();\n    this.onScroll = this.onScroll.bind(this);\n    this.loadMessages = this.loadMessages.bind(this);\n    this.onNewParent = this.onNewParent.bind(this);\n    window.addEventListener(\"newParent\", this.onNewParent);\n  }\n\n  onNewParent() {\n    this.loadMessages(0);\n  }\n\n  componentDidMount() {\n    this.loadMessages(0);\n    window.addEventListener(\"scroll\", this.onScroll);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"scroll\", this.onScroll);\n  }\n\n  loadMessages(page) {\n    http\n      .get(`/api/groups/${this.props.id}`)\n      .then(res => {\n        this.setState({\n          group: res\n        });\n      });\n\n    http\n      .get(`/api/groups/${this.props.id}/page/${page}`)\n      .then(res => {\n        if (res && Array.isArray(res[\"messages\"])) {\n          let new_loaded = Math.max(this.state.loaded, page * 30);\n          let msgList = this.state.messages;\n          // don't add already added messages\n          res[\"messages\"].map(\n            m => !msgList.find(msg => msg.id == m.id) && msgList.push(m)\n          );\n          this.setState({\n            messages: msgList,\n            totalMessages: res[\"totalItems\"],\n            page,\n            loaded: new_loaded\n          });\n          if ((page + 1) * 30 < new_loaded) {\n            setTimeout(() => this.loadMessages(page + 1));\n          }\n        }\n      });\n  }\n\n  onScroll() {\n    // prevent loading messages if we are in a post\n    if (\n      window.getComputedStyle(document.getElementById(\"group\").parentNode)\n        .display == \"none\"\n    ) {\n      return;\n    }\n    // don't load if on cooldown\n    if (this.scroll_cooldown + 100 < Date.now()) {\n      this.scroll_cooldown = Date.now();\n      this.setState({ pageYOffset: window.pageYOffset });\n      // don't load if unecessary\n      if (\n        Array.isArray(this.state.messages) &&\n        document.body.scrollHeight - window.screen.height - 500 <\n          window.pageYOffset &&\n        this.state.loaded < this.state.totalMessages\n      ) {\n        this.setState(prevState => ({ loaded: prevState.loaded + 10 }));\n        if (this.state.loaded + 30 > this.state.messages.length) {\n          this.loadMessages(this.state.page + 1);\n          // update page count right away\n          this.setState(prevState => ({ page: prevState.page + 1 }));\n        }\n      }\n    }\n  }\n\n  render() {\n    if (!this.props.id) {\n      return;\n    }\n    return (\n      <main>\n        <Navbar />\n        <div class=\"content\">\n          <div>\n              <div>\n                <article id=\"group\" class=\"justify-content-center d-flex\">\n                  <div class=\"message-container container-fluid d-flex justify-content-center flex-wrap\">\n                    {Array.isArray(this.state.messages) && this.state.messages.slice(0, this.state.loaded).map((msg, i) => {\n                      return (\n                        <MessagePreview\n                          tabindex={i + 1}\n                          key={msg.id}\n                          id={msg.id}\n                        />\n                      );\n                    })}\n                  </div>\n                </article>\n              </div>\n            <Link\n              class=\"write-button material-shadow seamless-link\"\n              to={`/groups/${this.props.id}/write`}\n            >\n              <FaIcon family={\"solid\"} icon={\"pencil-alt\"} />\n            </Link>\n          </div>\n        </div>\n      </main>\n    );\n  }\n}\n","import { h, Component } from \"preact\";\nimport { me } from \"/src/core\";\nimport { Redirect } from \"react-router-dom\";\n\nexport default class Home extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      connected: false,\n      loaded: false,\n      redirect: \"\",\n    };\n  }\n\n  componentDidMount() {\n    me.fetch().then(user => {\n      let connected = false;\n      let redirect = \"/login\";\n      if (user) {\n        connected = true;\n        redirect = \"/create-group\";\n        if (user.data?.default_group) {\n          redirect = `/groups/${user?.data[\"default_group\"]}`;\n        } else if (user?.groups[0]) {\n          redirect = `/groups/${user?.groups[0].id}`;\n        }\n      }\n      this.setState({\n        loaded: true,\n        connected,\n        redirect,\n      });\n    });\n  }\n\n  render() {\n    if (!this.state.loaded) {\n      return null;\n    }\n    return (\n      <Redirect to={this.state.redirect} />\n    );\n  }\n}\n","import { h } from \"preact\";\nimport { router, util, me } from \"/src/core\";\nimport { Search } from \"/src/pages\";\nimport { GroupsDropdownNavbar, NotificationsDropdownNavbar } from \"/src/navbar\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport { connectStoreon } from 'storeon/preact';\nimport { useTranslation } from \"react-i18next\";\n\nfunction Navbar() {\n  const { t } = useTranslation();\n  return (\n    <div class=\"main-nav nav align-items-center z-index-100\">\n      <div class=\"navbar-block\">\n        <div\n          class=\"menu dropdown cursor-pointer\"\n          tabindex=\"-1\"\n          onClick={e => e.currentTarget.classList.toggle(\"active\")}\n        >\n          <div class=\"rounded-circle avatar unselectable\">\n            <img\n              class=\"rounded-circle\"\n              style={util.backgroundHash(me.id)}\n              src={\n                me.avatar\n                  ? util.crop(me.avatar[\"id\"], 80, 80)\n                  : util.defaultAvatar\n              }\n              onError={e => (e.currentTarget.src = util.defaultAvatar)}\n            />\n          </div>\n          <div class=\"dropdown-menu dropdown-right\">\n            { me.data?.bookmarks?.length && (\n              <Link\n                class=\"d-block seamless-link capitalize\"\n                to={\"/bookmarks\"}\n              >\n                {t('bookmarks')}\n              </Link>\n            )}\n            <Link\n              class=\"d-block seamless-link capitalize\"\n              to={`/users/${me.id}/settings`}\n            >\n              {t(\"settings\")}\n            </Link>\n            <Link\n              class=\"d-block seamless-link capitalize\"\n              to={\"/logout\"}\n            >\n              {t(\"logout\")}\n            </Link>\n          </div>\n        </div>\n        <NotificationsDropdownNavbar />\n      </div>\n      { [\"messages\", \"groups\"].includes(router.route) && (\n        <Search />\n      )}\n      <div class=\"navbar-block\">\n        <GroupsDropdownNavbar groups={me.groups} />\n      </div>\n    </div>\n  );\n}\n\nexport default connectStoreon('me', withRouter(Navbar));\n","import _GroupSearch from \"./group-search.component.js\";\nimport _GroupsDropdownNavbar from \"./groups-dropdown-navbar.component.js\";\nimport _Navbar from \"./navbar.component.js\";\nimport _NotificationsDropdownNavbar from \"./notifications-dropdown-navbar.component.js\";\n\nexport const GroupSearch = _GroupSearch;\nexport const GroupsDropdownNavbar = _GroupsDropdownNavbar;\nexport const Navbar = _Navbar;\nexport const NotificationsDropdownNavbar = _NotificationsDropdownNavbar;\n","import { h, Fragment } from \"preact\";\nimport { FaIcon } from \"/src/misc\";\nimport { Link } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\n\nexport default function GroupsDropdownNavbar() {\n  const { t } = useTranslation();\n  return (\n    <Fragment>\n      {this.props.groups && (\n        <div\n          class=\"nav-link dropdown groups unselectable\"\n          tabindex=\"-1\"\n          onClick={e => e.currentTarget.classList.toggle(\"active\")}\n        >\n          <div class=\"unselectable pr-1\">\n            {t(\"groups\")} <FaIcon family={\"solid\"} icon={\"caret-down\"} />\n          </div>\n          <div class=\"dropdown-menu dropdown-left\">\n            {this.props.groups.map(e => (\n              <Link\n                key={e.id}\n                to={`/groups/${e.id}`}\n                class=\"d-block seamless-link unselectable\"\n              >\n                {e.name}\n              </Link>\n            ))}\n            <Link\n              to={\"/create-group\"}\n              class=\"seamless-link unselectable\"\n            >\n              {`+ ${t(\"create_a_group\")}`}\n            </Link>\n          </div>\n        </div>\n      )}\n    </Fragment>\n  );\n}\n","import { h } from \"preact\";\nimport { me, notifications as notifs } from \"/src/core\";\nimport { FaIcon } from \"/src/misc\";\nimport { Notification } from \"/src/pages\";\nimport { useStoreon } from 'storeon/preact'\nimport { useTranslation } from \"react-i18next\";\n\nexport default function NotificationsDropdownNavbar() {\n\n  // TODO remove dispatch\n  const { dispatch, notifications } = useStoreon('notifications');\n  if (!notifications) {\n    return null;\n  }\n  const { t } = useTranslation();\n\n  return (\n    <div\n      className={\n        `menu dropdown${notifications.length ? \" cursor-pointer\" : \"\"}`\n      }\n      title={t('notifications')}\n      tabindex=\"-1\"\n      onClick={e =>\n        notifications.length &&\n        e.currentTarget.classList.toggle(\"active\")\n      }\n    >\n      <div class=\"unselectable button-with-count\">\n        <FaIcon\n          family={notifications.length ? \"solid\" : \"regular\"}\n          icon={\"bell\"}\n        />\n        {!!notifications.length && (\n          <span class=\"badge-count\">{Math.min(notifications.length, 99) + (notifications.length > 99 ? \"+\" : \"\")}</span>\n        )}\n      </div>\n      <div class=\"dropdown-menu dropdown-right notifications-menu\">\n        <div class=\"notification-header\">\n          <strong class=\"capitalize\">{t(\"notifications\")}</strong>\n          <div\n            class=\"action capitalize\"\n            onClick={() => notifs.removeAllNotifications()}\n          >\n            {t(\"mark_all_as_read\")}\n          </div>\n        </div>\n        {notifications?.length && (\n          notifications.sort((a, b) => b.createdAt - a.createdAt).slice(0,99).map(e => <Notification key={e.id} {...e} />)\n        )}\n      </div>\n    </div>\n  );\n}\n","import _EmbedBlock from \"./embed-block.component.js\";\nimport _FileGrid from \"./file-grid.component.js\";\nimport _MessageBody from \"./message-body.component.js\";\nimport _MessageChild from \"./message-child.component.js\";\nimport _MessageChildren from \"./message-children.component.js\";\nimport _MessageFooter from \"./message-footer.component.js\";\nimport _MessageHead from \"./message-head.component.js\";\nimport _MessageParent from \"./message-parent.component.js\";\nimport _MessagePreview from \"./message-preview.component.js\";\nimport _MessageSearchResult from \"./message-search-result.component.js\";\nimport _MessageBreadcrumbs from \"./message-breadcrumbs.component.js\";\n\nexport const EmbedBlock = _EmbedBlock;\nexport const FileGrid = _FileGrid;\nexport const MessageBody = _MessageBody;\nexport const MessageChild = _MessageChild;\nexport const MessageChildren = _MessageChildren;\nexport const MessageFooter = _MessageFooter;\nexport const MessageHead = _MessageHead;\nexport const MessageParent = _MessageParent;\nexport const MessagePreview = _MessagePreview;\nexport const MessageSearchResult = _MessageSearchResult;\nexport const MessageBreadcrumbs = _MessageBreadcrumbs;\n","import { h } from \"preact\";\nimport { router } from \"/src/core\";\nimport Message from \"./message.component.js\";\nimport { Navbar } from \"/src/navbar\";\n\nexport default function MessageParent() {\n  return (\n    <main>\n      <Navbar />\n      <div class=\"content\">\n        <article class=\"mb-3 justify-content-center d-flex\">\n          <div class=\"container pb-3\">\n            <Message\n              focus={!!router.getParam(\"focus\", router.search)}\n              isPublic={this.props.isPublic}\n              isChild={false}\n              id={this.props.id}\n             />\n          </div>\n        </article>\n      </div>\n    </main>\n  );\n}\n","import { h, Component } from \"preact\";\nimport { util, notifications, http } from \"/src/core\";\nimport { FaIcon } from \"/src/misc\";\nimport { Link } from \"react-router-dom\";\n\nfunction getAvatar(user) {\n  return (\n    <img\n      title={user ? user.name : \"--\"}\n      className={`avatar material-shadow${user ? \"\" : \" removed-user\"}`}\n      style={util.backgroundHash(user ? user.id : \"\")}\n      src={\n        user?.avatar\n          ? util.crop(user.avatar[\"id\"], 100, 100)\n          : util.defaultAvatar\n      }\n      onError={e => (e.currentTarget.src = util.defaultAvatar)}\n    />\n  );\n}\n\nexport default class MessagePreview extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      author: null,\n      preview: null,\n      id: null,\n      data: null,\n      lastActivityDate: null,\n    };\n  }\n\n  componentDidMount() {\n    http.get(`/api/messages/${this.props.id}/preview`).then(p => {\n      this.setState({...p});\n    });\n  }\n\n  render() {\n    if (!this.state?.id) {\n      return null;\n    }\n    return (\n      <Link\n        to={`/messages/${this.state.id}`}\n        class=\"d-inline-block seamless-link message-preview unselectable\"\n        title={this.state?.data[\"title\"]}\n      >\n        <div tabindex={this.props.tabindex} class=\"card material-shadow-with-hover\">\n          {getAvatar(this.state.author)}\n          {this.state?.preview ? (\n            <div\n              class=\"card-miniature\"\n              style={\n                `background-image: url('${util.crop(util.getId(this.state?.preview), 320, 180)}')`\n              }\n            />\n          ) : (\n            <div class=\"text-preview\">{this.state?.data[\"text\"]}</div>\n          )}\n          <div class=\"card-body border-top d-flex justify-content-between\">\n            <span class=\"left-buffer\" />\n            <span\n              class=\"title\"\n              title={\n                this.state?.data[\"title\"] ||\n                util.humanFullDate(this.state?.lastActivityDate)\n              }\n            >\n              {this.state?.data[\"title\"] ||\n                util.humanTime(this.state?.lastActivityDate)}\n            </span>\n            <span class=\"children\">\n              {!!this.state?.children && (\n                <span>\n                  {`${this.state?.children} `}\n                  <FaIcon\n                    family={\n                      notifications.isNew(this.state?.id) ? \"solid\" : \"regular\"\n                    }\n                    icon={\"comment\"}\n                  />\n                </span>\n              )}\n            </span>\n          </div>\n        </div>\n      </Link>\n    );\n  }\n}\n","import { h, Component } from \"preact\";\nimport { http, util, me } from \"/src/core\";\nimport { FaIcon } from \"/src/misc\";\nimport { Link } from \"react-router-dom\";\n\nexport default class MessageSearchResult extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      message: props.message,\n      title: props.message.data[\"title\"] || \"\",\n      text: props.message.data[\"text\"] || \"\",\n      preview: props.message[\"preview\"] || null\n    };\n    this.getMiniature = this.getMiniature.bind(this);\n    this.getLink = this.getLink.bind(this);\n    this.displayMessageTitle = this.displayMessageTitle.bind(this);\n    this.displayMessageText = this.displayMessageText.bind(this);\n  }\n\n  componentDidMount() {\n    if (this.props.message.author) {\n      http\n        .get(`/api/users/${  this.props.message.author}`)\n        .then(author => author && this.setState({ author }));\n    }\n  }\n\n  displayAuthorName() {\n    if (!this.state.author) {\n      return { __html: \"--\" };\n    }\n    let authorName = this.state.author.name;\n\n    // make the search terms stand out\n    let words = authorName.split(\" \");\n    for (let j = 0; j < words.length; j++) {\n      if (!words[j].match(util.urlRegExp)) {\n        let searchTerms = this.props.search.split(\" \");\n        for (let k = 0; k < searchTerms.length; k++) {\n          words[j] = words[j].replace(\n            new RegExp(util.escapeRegex(searchTerms[k]), \"gi\"),\n            \"<b>$&</b>\"\n          );\n        }\n      }\n    }\n    authorName = words.join(\" \");\n    return { __html: authorName };\n  }\n\n  displayMessageTitle() {\n    if (!this.props?.message?.data?.title) {\n      return { __html: util.humanTime(this.props?.message?.lastActivityDate) };\n    }\n    // escape html a little (just enough to avoid xss I hope)\n    let title = this.props.message.data.title.replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").trim();\n\n    // make the search terms stand out\n    let words = title.split(\" \");\n    let searchTerms = this.props.search.split(\" \");\n    for (let j = 0; j < words.length; j++) {\n      if (!words[j].match(util.urlRegExp)) {\n        for (let k = 0; k < searchTerms.length; k++) {\n          words[j] = words[j].replace(new RegExp(util.escapeRegex(searchTerms[k]), \"gi\"), \"<b>$&</b>\");\n        }\n      }\n    }\n    title = words.join(\" \");\n    return { __html: title };\n  }\n\n  displayMessageText() {\n    if (!this.props.message.data || !this.props.message.data[\"text\"]) {\n      return \"\";\n    }\n\n    // escape html a little (just enough to avoid xss I hope)\n    let txt = this.props.message.data[\"text\"]\n      .replace(/</g, \"&lt;\")\n      .replace(/>/g, \"&gt;\")\n      .trim();\n\n    // make the search terms stand out for not url words\n    let lines = txt.split(\"\\n\");\n    for (let i = 0; i < lines.length; i++) {\n      let words = lines[i].split(\" \");\n      for (let j = 0; j < words.length; j++) {\n        if (!words[j].match(util.urlRegExp)) {\n          let searchTerms = this.props.search.split(\" \");\n          for (let k = 0; k < searchTerms.length; k++) {\n            if (!searchTerms[k]) {\n              continue;\n            }\n            words[j] = words[j].replace(\n              new RegExp(util.escapeRegex(searchTerms[k]), \"gi\"),\n              \"<b>$&</b>\"\n            );\n          }\n          let hashtags = this.props.hashtags.split(\" \");\n          for (let k = 0; k < hashtags.length; k++) {\n            if (!hashtags[k]) {\n              continue;\n            }\n            words[j] = words[j].replace(\n              new RegExp(`#${  hashtags[k]}`, \"gi\"),\n              \"<b>$&</b>\"\n            );\n          }\n        }\n      }\n      lines[i] = words.join(\" \");\n    }\n    txt = lines.join(\"\\n\");\n\n    // replace url by real links\n    let shift = 0;\n    let match = null;\n    while ((match = util.getUrl(txt.slice(shift)))) {\n      let url = match[0];\n      if (url.length >= 50) {\n        url = `${url.slice(0, 25)  }...${  url.slice(-24)}`;\n      }\n      let searchTerms = this.props.search.split(\" \");\n      for (let i = 0; i < searchTerms.length; i++) {\n        url = url.replace(new RegExp(util.escapeRegex(searchTerms[i]), \"gi\"), \"<b>$&</b>\");\n      }\n      let link = `<a href=\"${  match[0]  }\" target=\"_blank\">${  url  }</a>`;\n      txt =\n        txt.slice(0, match[\"index\"] + shift) +\n        link +\n        txt.slice(match[\"index\"] + shift + match[0].length);\n      shift += match[\"index\"] + link.length;\n    }\n\n    // replace line returns\n    txt = txt.replace(/\\n/g, \"<br/>\");\n\n    return { __html: txt };\n  }\n\n  getMiniature() {\n    if (this.state.preview) {\n      return (\n        <div\n          class=\"card-miniature\"\n          style={\n            `background-image: url('${ \n            util.crop(this.state.preview, 100, 100) \n            }')`\n          }\n        />\n      );\n    }\n    let avatar = util.defaultAvatar;\n    if (\n      this.state.author &&\n      this.state.author.avatar &&\n      this.state.author.avatar.id\n    ) {\n      avatar = util.crop(this.state.author.avatar[\"id\"], 100, 100);\n    }\n    return (\n      <div\n        class=\"card-miniature\"\n        style={`background-image: url('${  avatar  }')`}\n      />\n    );\n  }\n\n  getLink() {\n    if (this.state.message.parent && this.state.message.children == 0) {\n      return (\n        `/messages/${  this.state.message.parent  }/${  this.state.message.id}`\n      );\n    }\n    return `/messages/${  this.state.message.id}`;\n  }\n\n  render() {\n    return (\n      <Link\n        class=\"d-inline-block seamless-link message-preview unselectable\"\n        to={this.getLink()}\n        title={this.state.title}\n      >\n        <div tabindex={this.props.tabindex} class=\"card material-shadow-with-hover\">\n          <div class=\"card-body border-top\">\n            {this.getMiniature()}\n            <div class=\"infos\">\n              <div\n                class=\"title\"\n                dangerouslySetInnerHTML={this.displayAuthorName()}\n               />\n              <div class=\"dot\">&bull;</div>\n              <div\n                class=\"title\"\n                title={\n                  this.state.title ||\n                  util.humanFullDate(this.state.message.lastActivityDate)\n                }\n                dangerouslySetInnerHTML={this.displayMessageTitle()}\n               />\n            </div>\n            <div class=\"text\">\n              {this.state.text.trim() && (\n                <p\n                  class=\"card-text\"\n                  dangerouslySetInnerHTML={this.displayMessageText()}\n                 />\n              )}\n            </div>\n            <div class=\"children\">\n              {!!this.state.message.children && (\n                <span>\n                  {`${this.state.message.children  } `}\n                  <FaIcon\n                    family={\n                      me.isNew(this.state.message.id) ? \"solid\" : \"regular\"\n                    }\n                    icon={\"comment\"}\n                  />\n                </span>\n              )}\n            </div>\n          </div>\n        </div>\n      </Link>\n    );\n  }\n}\n","import _Login from \"./login.component.js\";\nimport _ResetPassword from \"./reset-password.component.js\";\nimport _Signup from \"./signup.component.js\";\nimport _StopNotificationEmails from \"./stop-notification-emails.component.js\";\nimport _Public from \"./public.component.js\";\n\nexport const Login = _Login;\nexport const ResetPassword = _ResetPassword;\nexport const Signup = _Signup;\nexport const StopNotificationEmails = _StopNotificationEmails;\nexport const Public = _Public;\n","import { h, Component } from \"preact\";\nimport { http } from \"/src/core\";\nimport { MessageParent } from \"/src/message\";\n\nexport default class Public extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  componentDidMount() {\n    if (this.props.token) {\n      http\n        .get(`/api/public/${  this.props.token}`)\n        .then(res => this.setState({ message: res }));\n    }\n  }\n\n  render() {\n    if (!this.state.message) {\n      return;\n    }\n    return (\n      <article class=\"justify-content-center d-flex mt-2\">\n        <div class=\"container\">\n          <MessageParent\n            isPublic={true}\n            key={this.state.message.id}\n            message={this.state.message}\n          />\n        </div>\n      </article>\n    );\n  }\n}\n","import { h, Component } from \"preact\";\nimport { alert, http, util, me } from \"/src/core\";\nimport { withRouter } from \"react-router-dom\";\nimport { withTranslation } from 'react-i18next';\n\nclass GroupSettings extends Component {\n  constructor(props) {\n    super(props);\n    this.updateSettings = this.updateSettings.bind(this);\n    this.leaveGroup = this.leaveGroup.bind(this);\n    this.leave = this.leave.bind(this);\n    this.resetSecretKey = this.resetSecretKey.bind(this);\n    this.state = Object.assign({ hydratedUsers: [] }, props);\n  }\n\n  componentDidMount() {\n    Promise.all(this.props.users.map(u => http.get(`/api/users/${u.id}`).then(u => u))).then(\n      users => this.setState({users})\n    );\n  }\n\n  resetSecretKey(event) {\n    event.preventDefault();\n    http\n      .post(`/api/groups/${this.state.id}/reset-invite-key`, {})\n      .then(res => {\n        alert.add(this.props.t(\"group_updated\"));\n        this.setState({ secretKey: res[\"inviteKey\"] });\n      });\n  }\n\n  updateSettings(event) {\n    event.preventDefault();\n    const name = document.querySelector(\"#settings_form input[name='name']\")\n      .value;\n    let group = {};\n    if (name) {\n      group.name = name;\n    }\n    http.put(`/api/groups/${  this.state.id}`, group).then(res => {\n      alert.add(this.props.t(\"group_updated\"));\n      this.setState(prevState => Object.assign(prevState, res));\n    });\n  }\n\n  leaveGroup(event) {\n    event.preventDefault();\n    if (me.data?.default_group == this.state.id) {\n      let user = {};\n      user.data = { default_group: me.groups[0].id };\n      http.put(`/api/users/${me.id}`, user).then(() => {\n        this.props.dispatch('me/fetch');\n        this.leave();\n      });\n    } else {\n      this.leave();\n    }\n  }\n\n  leave() {\n    http.post(`/api/groups/${  this.state.id  }/leave`, {}).then(res => {\n      if (!res || !res[\"entityType\"]) {\n        alert.add(this.props.t(\"error\"), \"alert-danger\");\n      } else {\n        this.props.dispatch('me/fetch');\n        alert.add(this.props.t(\"group_left\"));\n        this.props.history.push(\"/\");\n      }\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        <div class=\"group-settings mb-3\">\n          <div class=\"card\">\n            <div class=\"card-body\">\n              <div class=\"container-fluid p-1\">\n                <div class=\"row\">\n                  <div class=\"col-12 col-md-10\">\n                    <form id=\"settings_form\" class=\"mb-1 border-bottom pb-1\">\n                      <div class=\"form-group\">\n                        <label for=\"name\">{this.props.t(\"name\")}: </label>\n                        <input\n                          type=\"text\"\n                          name=\"name\"\n                          minlength=\"1\"\n                          maxlength=\"128\"\n                          placeholder={this.props.t(\"name_input\")}\n                          value={this.state.name}\n                          class=\"form-control\"\n                          required\n                         />\n                      </div>\n                      <button\n                        onClick={this.updateSettings}\n                        class=\"btn btn-outline-secondary\"\n                      >\n                        {this.props.t(\"save_changes\")}\n                      </button>\n                    </form>\n                    <form class=\"mb-1 border-bottom pb-1\">\n                      <div class=\"form-group\">\n                        <label for=\"inviteKey\">\n                          {this.props.t(\"invitation_link\")}:{\" \"}\n                        </label>\n                        <input\n                          type=\"text\"\n                          name=\"inviteKey\"\n                          value={\n                            `${location.protocol}//${location.host}/invitation/${this.state.secretKey}`\n                          }\n                          class=\"form-control font-size-80\"\n                          readonly=\"readonly\"\n                         />\n                      </div>\n                      <button\n                        class=\"btn btn-outline-secondary\"\n                        onClick={this.resetSecretKey}\n                      >\n                        {this.props.t(\"reset_invitation_link\")}\n                      </button>\n                    </form>\n                    <form>\n                      <button\n                        onClick={e => this.leaveGroup(e)}\n                        class=\"btn btn-outline-danger\"\n                      >\n                        {this.props.t(\"quit_group\")}\n                      </button>\n                    </form>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"user-list mb-3\">\n          <h3>{this.props.t(\"users\")}</h3>\n          {this.state.users.map(\n            user =>\n              user && (\n                <div class=\"user-card\">\n                  <img\n                    class=\"avatar material-shadow-with-hover\"\n                    style={util.backgroundHash(user.id)}\n                    src={\n                      user.avatar\n                        ? util.crop(user.avatar[\"id\"], 200, 200)\n                        : util.defaultAvatar\n                    }\n                    onError={e => (e.currentTarget.src = util.defaultAvatar)}\n                  />\n                  <span>{user[\"name\"]}</span>\n                </div>\n              )\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withTranslation()(withRouter(GroupSettings));\n","import { h, Component } from \"preact\";\nimport { lang, router, alert, http, util, storage, me } from \"/src/core\";\nimport { withTranslation } from 'react-i18next';\n\nclass UserSettings extends Component {\n  constructor(props) {\n    super(props);\n    this.destroyAccount = this.destroyAccount.bind(this);\n    this.inputAvatar = this.inputAvatar.bind(this);\n    this.updateSettings = this.updateSettings.bind(this);\n    this.resetApiKey = this.resetApiKey.bind(this);\n    this.state = Object.assign({apiKey: \"\"}, props);\n  }\n\n  componentDidMount() {\n    storage.get(\"apiKey\").then(apiKey => this.setState({apiKey}));\n  }\n\n  resetApiKey(event) {\n    event.preventDefault();\n    http.post(`/api/users/${this.state.id}/reset-api-key`, {}).then(() => router.logout());\n  }\n\n  inputAvatar() {\n    const input = document.createElement(\"input\");\n    input.type = \"file\";\n    input.accept = \"image/*\";\n    input.addEventListener(\"change\", event => {\n      import(\"/src/lazy/image-service.js\").then(imageService => {\n        imageService.default.handleImage(\n          event.target.files[0],\n          blob => {\n            const formData = new FormData();\n            formData.append(\"file\", blob);\n            http.post(\"/api/files\", formData, false).then(file => {\n              http\n                .put(`/api/users/${this.state.id}`, { avatar: file[\"id\"] })\n                .then(() => {\n                  this.setState({ avatar: file });\n                  alert.add(this.props.t(\"settings_updated\"));\n                });\n            });\n          }\n        );\n      });\n    });\n    input.click();\n  }\n\n  destroyAccount(event) {\n    event.preventDefault();\n    let confirmDeletion = confirm(this.props.t(\"are_you_sure\"));\n    if (confirmDeletion) {\n      http.delete(`/api/users/${this.state.id}`).then(() => {\n        this.props.history.push(\"/logout\");\n      });\n    }\n  }\n\n  updateSettings(event) {\n    event.preventDefault();\n    const name = document.querySelector(\"#settings_form input[name='name']\")\n      .value;\n    const login = document.querySelector(\"#settings_form input[name='email']\")\n      .value;\n    const password = document.querySelector(\n      \"#settings_form input[name='password']\"\n    ).value;\n    const notification_emails = document.querySelector(\n      \"#settings_form select[name='notification_emails']\"\n    ).value;\n    const default_group = document.querySelector(\n      \"#settings_form select[name='default_group']\"\n    ).value;\n    const lang = document.querySelector(\"#settings_form select[name='lang']\")\n      .value;\n    let user = {};\n    if (name) {\n      user.name = name;\n    }\n    if (login) {\n      user.login = login;\n    }\n    if (password) {\n      user.password = password;\n    }\n    user.data = {\n      notification_emails,\n      default_group,\n      lang\n    };\n    http.put(`/api/users/${this.state.id}`, user).then(res => {\n      if (res[\"error\"]) {\n        alert.add(res[\"error\"], \"alert-danger\");\n      } else {\n        this.setState(prevState => Object.assign(prevState, res));\n        location.href = util.toApp(\n          `${location.pathname}?alert=settings_updated`\n        );\n      }\n    });\n  }\n\n  render() {\n    return (\n      <div class=\"user-settings\">\n        <div class=\"card\">\n          <div class=\"identite card-body\">\n            <div class=\"container-fluid p-1\">\n              <div class=\"row\">\n                <div class=\"col-12 col-md-2\">\n                  <img\n                    class=\"img-fluid rounded-circle material-shadow avatar\"\n                    src={\n                      this.state.avatar\n                        ? util.crop(this.state.avatar[\"id\"], 100, 100)\n                        : util.defaultAvatar\n                    }\n                    style={util.backgroundHash(this.state['id'] || \"\")}\n                    onError={e => (e.currentTarget.src = util.defaultAvatar)}\n                    onClick={e => this.inputAvatar(e)}\n                  />\n                </div>\n                <div class=\"col-12 col-md-10\">\n                  <form id=\"settings_form\" class=\"mb-3\">\n                    <div class=\"form-group\">\n                      <label for=\"name\">{this.props.t(\"name\")}: </label>\n                      <input\n                        type=\"text\"\n                        name=\"name\"\n                        minlength=\"1\"\n                        maxlength=\"128\"\n                        placeholder={this.props.t(\"name_input\")}\n                        value={this.state.name}\n                        class=\"form-control\"\n                       />\n                    </div>\n                    <div class=\"form-group\">\n                      <label for=\"email\">{this.props.t(\"email\")}: </label>\n                      <input\n                        type=\"email\"\n                        name=\"email\"\n                        placeholder={this.props.t(\"email_input\")}\n                        value={this.state.login}\n                        class=\"form-control\"\n                       />\n                    </div>\n                    <div class=\"form-group\">\n                      <label for=\"password\">{this.props.t(\"password\")}: </label>\n                      <input\n                        type=\"password\"\n                        name=\"password\"\n                        autocomplete=\"off\"\n                        minlength=\"8\"\n                        maxlength=\"128\"\n                        placeholder={this.props.t(\"password_input\")}\n                        class=\"form-control\"\n                       />\n                    </div>\n                    <div class=\"form-group\">\n                      <label for=\"notification_emails\">\n                        {this.props.t(\"notification_emails\")}:\n                      </label>\n                      <select\n                        name=\"notification_emails\"\n                        class=\"form-control\"\n                        value={this.state.data[\"notification_emails\"]}\n                      >\n                        <option value=\"none\">{this.props.t(\"none\")}</option>\n                        <option value=\"hourly\">{this.props.t(\"hourly\")}</option>\n                        <option value=\"daily\">{this.props.t(\"daily\")}</option>\n                        <option value=\"weekly\">{this.props.t(\"weekly\")}</option>\n                        <option value=\"monthly\">{this.props.t(\"monthly\")}</option>\n                      </select>\n                    </div>\n                    <div class=\"form-group\">\n                      <label for=\"default_group\">\n                        {this.props.t(\"default_group\")}:\n                      </label>\n                      <select\n                        name=\"default_group\"\n                        class=\"form-control\"\n                        value={this.state.data[\"default_group\"]}\n                      >\n                        {me.groups?.map(e => (\n                          <option key={e.id} value={e.id}>{e.name}</option>\n                        ))}\n                      </select>\n                    </div>\n                    <div class=\"form-group\">\n                      <label class=\"capitalize\" for=\"lang\">\n                        {this.props.t(\"lang\")}:\n                      </label>\n                      <select\n                        name=\"lang\"\n                        class=\"form-control\"\n                        value={lang.getCurrentLang()}\n                      >\n                        {Object.keys(lang.possibleLang).map(k => (\n                          <option key={k} value={k}>{lang.possibleLang[k]}</option>\n                        ))}\n                      </select>\n                    </div>\n                    <button\n                      onClick={e => this.updateSettings(e)}\n                      class=\"btn btn-primary\"\n                    >\n                      {this.props.t(\"save_changes\")}\n                    </button>\n                  </form>\n                  <form id=\"api_key_form\">\n                    <div class=\"form-group\">\n                      <label for=\"apiKey\">\n                        {this.props.t(\"api_key\")}:{\" \"}\n                      </label>\n                      <input\n                        type=\"text\"\n                        name=\"apiKey\"\n                        value={this.state.apiKey}\n                        class=\"form-control font-size-80\"\n                        readonly=\"readonly\"\n                       />\n                    </div>\n                    <button\n                      class=\"btn btn-outline-secondary\"\n                      onClick={this.resetApiKey}\n                    >\n                      {this.props.t(\"reset_api_key\")}\n                    </button>\n                  </form>\n                  <form id=\"destroy_form\">\n                    <label class=\"d-block\" for=\"destroy_account\">\n                      {this.props.t(\"destroy_account_explain\")}\n                    </label>\n                    <button\n                      onClick={e => this.destroyAccount(e)}\n                      name=\"destroy_account\"\n                      class=\"btn btn-danger\"\n                    >\n                      {this.props.t(\"destroy_account\")}\n                    </button>\n                  </form>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        {this.state.alert && (\n          <div class=\"global-alert alert alert-success\">{this.state.alert}</div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default withTranslation()(UserSettings);\n","import { h, Component } from \"preact\";\nimport { http } from \"/src/core\";\nimport UserSettings from \"./user-settings.component.js\";\nimport GroupSettings from \"./group-settings.component.js\";\nimport { Navbar } from \"/src/navbar\";\nimport { Link } from \"react-router-dom\";\nimport { connectStoreon } from 'storeon/preact'\nimport { withTranslation } from 'react-i18next';\n\nclass Settings extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  componentDidMount() {\n    http.get(`/api/${this.props.type}/${this.props.id}`).then(\n      res => {\n        this.setState({entity: res});\n      }\n    );\n  }\n\n  render() {\n    if (!this.state.entity || !this.props.me.id) {\n      return;\n    }\n    return (\n      <main>\n        <Navbar />\n        <div class=\"content\">\n          <article class=\"mt-2 justify-content-center d-flex\">\n            <div class=\"container pb-3\">\n              <div class=\"settings\">\n                <ul class=\"nav nav-tabs\">\n                  <li class=\"nav-item\">\n                    <Link\n                      class={`nav-link${this.state.entity[\"entityType\"] == \"user\" ? \" active\" : \"\"}`}\n                      to={`/users/${this.props.me.id}/settings`}\n                    >\n                      {this.props.t(\"account\")}\n                    </Link>\n                  </li>\n                  {this.props.me.groups?.length > 0 && (\n                    <li\n                      class=\"nav-item dropdown group-list\"\n                      tabindex=\"-1\"\n                      onClick={e => e.currentTarget.classList.toggle(\"active\")}\n                    >\n                      <div\n                        class={`nav-link${this.state.entity[\"entityType\"] == \"group\" ? \" active\" : \"\"}`}\n                      >\n                        {this.props.t(\"groups\")}\n                      </div>\n                      <div class=\"dropdown-menu\">\n                        {this.props.me.groups?.map(e => (\n                          <Link\n                            class=\"seamless-link\"\n                            to={`/groups/${e.id}/settings`}\n                          >\n                            {e.name}\n                          </Link>\n                        ))}\n                      </div>\n                    </li>\n                  )}\n                </ul>\n                {this.state.entity[\"entityType\"] === \"user\" && (\n                  <UserSettings {...this.state.entity} />\n                )}\n                {this.state.entity[\"entityType\"] === \"group\" && (\n                  <GroupSettings {...this.state.entity} />\n                )}\n              </div>\n            </div>\n          </article>\n        </div>\n      </main>\n    );\n  }\n}\n\nexport default withTranslation()(connectStoreon('me', Settings));\n","import _GroupSettings from \"./group-settings.component.js\";\nimport _Settings from \"./settings.component.js\";\nimport _UserSettings from \"./user-settings.component.js\";\n\nexport const GroupSettings = _GroupSettings;\nexport const Settings = _Settings;\nexport const UserSettings = _UserSettings;\n","import { h, Component } from \"preact\";\nimport { http, storage, router, api, me, lang, notifications } from \"/src/core\";\nimport {\n  Login,\n  Public,\n  ResetPassword,\n  Signup,\n  StopNotificationEmails\n} from \"/src/outside\";\nimport { MessageParent } from \"/src/message\";\nimport { Home, CreateGroup, GroupBoard, Share, BookmarkBoard } from \"/src/pages\";\nimport { Settings } from \"/src/settings\";\nimport { Navbar, GroupSearch } from \"/src/navbar\";\nimport Writer from \"/src/message/writer.component.js\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  withRouter,\n} from \"react-router-dom\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    // load api infos\n    api.update();\n\n    // update data\n    me.update();\n    notifications.update();\n\n    // i18n dict management\n    lang.init();\n    window.addEventListener(\"fetchedNewDict\", () => {\n      setTimeout(() => this.setState({lang: \"up\"}), 10);\n    });\n\n    // manage dropdowns\n    window.addEventListener(\"click\", e => {\n      if (!e.target.closest(\".dropdown\")) {\n        // close dropdowns if we are clicking on something else\n        document\n          .querySelectorAll(\".dropdown\")\n          .forEach(n => n.classList.remove(\"active\"));\n      } else {\n        // close dropdowns that are not clicked on\n        document\n          .querySelectorAll(\".dropdown\")\n          .forEach(n => {\n            if(n != e.target.closest(\".dropdown\")) {\n              n.classList.remove(\"active\")\n            }\n          });\n      }\n    });\n\n    // check if user is connected\n    storage.get(\"apiKey\").then(apiKey => {\n      if (router.route == \"invitation\") {\n          if (apiKey) {\n            http.post(`/api/groups/invitation/${router.id}`, {}).then(() => {\n              this.props.history.push(\"/\");\n            });\n          } else {\n            this.props.history.push(`/signup?inviteKey=${router.id}`);\n          }\n      } else if (!router.isOutside() && !apiKey) {\n        // redirect to login if we don't have an apiKey\n        this.props.history.push(\"/login\");\n      }\n    });\n  }\n\n  render() {\n\n    return (\n      <Router>\n        <Switch>\n\n          <Route path=\"/\" exact={true} render={() => (\n              <Home />\n          )} />\n\n          <Route path=\"/signup\" render={() => (\n            <Signup />\n          )} />\n\n          <Route path=\"/stop-notification-emails\" render={() => (\n            <StopNotificationEmails />\n          )} />\n\n          <Route path=\"/public/:token\" render={props => (\n            <Public token={props.match.params.token} key={props.match.params.token} />\n          )} />\n\n          <Route path=\"/reset-password\" render={() => (\n            <ResetPassword />\n          )} />\n\n          <Route path=\"/login\" render={() => (\n            <Login />\n          )} />\n\n          <Route path=\"/logout\" render={() => me.logout()} />\n\n          <Route path=\"/:type/:id/settings\" render={props => (\n            <Settings\n              type={props.match.params.type}\n              id={props.match.params.id}\n              key={props.match.params.id}\n            />\n          )} />\n\n          <Route path=\"/create-group\" render={() => (\n            <main>\n              <Navbar />\n              <div class=\"content\">\n                <CreateGroup />;\n              </div>\n            </main>\n          )} />\n\n          <Route path=\"/share\" render={() => (\n            <main>\n              <Navbar />\n              <div class=\"content\">\n                <Share />;\n              </div>\n            </main>\n          )} />\n\n          <Route path=\"/messages/:id\" render={props => (\n            <MessageParent key={props.match.params.id} id={props.match.params.id} isPublic={false} />\n          )} />\n\n          <Route path=\"/bookmarks\" render={() => (\n            <main>\n              <Navbar />\n              <div class=\"content\">\n                <div>\n                  <BookmarkBoard />\n                </div>\n              </div>\n            </main>\n          )} />\n\n          <Route path=\"/groups/:id/write\" render={props => (\n            <main>\n              <Navbar />\n              <div class=\"content\">\n                <article class=\"mb-3\">\n                  <div class=\"container pb-3\">\n                    <Writer focus={true} group={props.match.params.id} />\n                  </div>\n                </article>\n              </div>\n            </main>\n          )} />\n\n          <Route path=\"/groups/:id\" render={props => {\n\n            if (\n              router.getParam(\"search\", props.location.search.substring(1))\n              || router.getParam(\"hashtags\", props.location.search.substring(1))\n            ) {\n              return (\n                <main>\n                  <Navbar />\n                  <div class=\"content\">\n                    <article class=\"mb-3\">\n                      <div class=\"container pb-3\">\n                        <GroupSearch key={props.match.params.id} id={props.match.params.id} />\n                      </div>\n                    </article>\n                  </div>\n                </main>\n              );\n            }\n\n            return <GroupBoard key={props.match.params.id} id={props.match.params.id} />\n          }} />\n\n        </Switch>\n      </Router>\n    );\n  }\n}\n\nexport default withRouter(App);\n","import { h, render } from \"preact\";\nimport App from './app.js';\nimport {\n  BrowserRouter as Router,\n} from \"react-router-dom\";\nimport { StoreContext } from 'storeon/preact';\nimport store from \"/src/store\";\n\nfunction Index() {\n  return (\n    <Router>\n      <MainRouter />\n    </Router>\n  );\n}\n\nfunction MainRouter() {\n  return (\n    <StoreContext.Provider value={store}>\n      <App />\n    </StoreContext.Provider>\n  );\n}\n\nrender(<Index />, document.body);\n\nif (\"serviceWorker\" in navigator) {\n  window.addEventListener(\"load\", () => {\n    if (location.search.includes(\"service-workers=unregister\")) {\n      navigator.serviceWorker.getRegistrations().then((registrations) => {\n        for (let registration of registrations) {\n          registration.unregister();\n        }\n      });\n      console.log(\"Service workers unregistered\");\n    }\n    navigator.serviceWorker.register(new URL('service-workers.js', import.meta.url), {type: 'module'}).then(\n      (registration) => {\n        console.log(\n          \"ServiceWorker registration successful with scope: \",\n          registration.scope\n        );\n      },\n      (err) => {\n        console.warn(\"ServiceWorker registration failed: \", err);\n      }\n    );\n  });\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('88FtB') + require('./helpers/bundle-manifest').resolve(\"fGyc1\");"],"names":["$505b8421e380ecc6$export$6503ec6e8aabbaf","$505b8421e380ecc6$export$f7ad0328861e2f03","$505b8421e380ecc6$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","slice","options","vnodeId","rerenderQueue","defer","prevDebounce","EMPTY_OBJ","EMPTY_ARR","IS_NON_DIMENSIONAL","assign","obj","props","removeNode","node","parentNode","removeChild","createElement","type","children","key","ref","normalizedProps","arguments","call","defaultProps","createVNode","original","vnode","__","__b","__e","__d","undefined","__h","constructor","Fragment","Component","context","getDomSibling","childIndex","indexOf","sibling","updateParentDomPointers","child","base","enqueueRender","c","push","process","debounceRendering","queue","sort","a","b","some","component","commitQueue","oldVNode","oldDom","parentDom","diff","ownerSVGElement","commitRoot","diffChildren","renderResult","newParentVNode","oldParentVNode","globalContext","isSvg","excessDomChildren","isHydrating","j","childVNode","newDom","firstChildDom","refs","oldChildren","oldChildrenLength","Array","isArray","reorderChildren","placeChild","unmount","applyRef","tmp","toChildArray","out","nextDom","sibDom","outer","appendChild","nextSibling","insertBefore","setStyle","style","value","setProperty","test","dom","name","oldValue","useCapture","o","cssText","replace","toLowerCase","_listeners","addEventListener","eventProxyCapture","eventProxy","removeEventListener","e","setAttribute","removeAttribute","event","newVNode","isNew","oldProps","oldState","snapshot","clearProcessingException","newProps","provider","componentContext","newType","contextType","prototype","render","doRender","sub","state","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","forEach","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","oldHtml","newHtml","nodeType","localName","document","createTextNode","createElementNS","is","data","childNodes","dangerouslySetInnerHTML","attributes","innerHTML","hydrate","diffProps","checked","diffElementNodes","diffed","root","cb","current","parentVNode","skipRemove","r","componentWillUnmount","this","replaceNode","firstChild","cloneElement","createContext","defaultValue","contextId","__c","Consumer","contextValue","Provider","subs","ctx","_props","old","splice","error","ctor","handled","getDerivedStateFromError","setState","componentDidCatch","update","callback","s","forceUpdate","Promise","then","bind","resolve","setTimeout","alert","remove","getElementById","outerHTML","add","text","alertStyle","countdown","alertNode","hash","classList","body","str","charCodeAt","$965d8b034b5a035b$export$2e2bcd8739ae039","storage","usage","k","total","localStorage","hasOwnProperty","createStorageBox","metadata","createdAt","Date","now","removeItem","set","setItem","stringify","get","getItem","reset","clear","window","dispatchEvent","CustomEvent","$15bf00c5a9ebafaa$export$2e2bcd8739ae039","$73c715c0af210c69$exports","arr","__esModule","$0b3a89fad4d3a390$exports","_i","Symbol","iterator","_s","_e","_arr","_n","_d","next","done","err","$ce621edfd6ecdab9$exports","len","arr2","$9f3376b0a7b645d7$exports","minLen","n","toString","from","$943a3677d4695728$exports","TypeError","$d2d032661ac419e4$exports","$82e555395579e1ae$exports","defineProperty","enumerable","configurable","writable","currentIndex","currentComponent","prevRaf","currentHook","afterPaintEffects","oldBeforeDiff","oldBeforeRender","oldAfterDiff","oldCommit","oldBeforeUnmount","getHookState","index","hooks","useState","initialState","useReducer","invokeOrReturn","reducer","init","hookState","_reducer","action","nextValue","useEffect","args","argsChanged","useLayoutEffect","useRef","initialValue","useMemo","factory","useContext","flushAfterPaintEffects","invokeCleanup","invokeEffect","requestAnimationFrame","raf","clearTimeout","timeout","HAS_RAF","cancelAnimationFrame","filter","hook","comp","oldArgs","newArgs","arg","f","shallowDiffers","PureComponent","p","isPureReactComponent","oldDiffHook","REACT_FORWARD_SYMBOL","for","forwardRef","fn","Forwarded","clone","$$typeof","isReactComponent","displayName","mapFn","map","Children","count","only","normalized","toArray","oldCatchError","oldUnmount","Suspense","_suspenders","suspended","SuspenseList","_next","_map","promise","suspendingVNode","suspendingComponent","onResolved","onSuspensionComplete","suspendedVNode","removeOriginal","detachedParent","originalParent","pop","wasHydrating","detachedComponent","__v","__k","detachedClone","effect","fallback","list","delete","revealOrder","size","ContextProvider","Portal","_this","container","_container","_temp","before","delegated","unsuspend","wrappedUnsuspend","Map","reverse","REACT_ELEMENT_TYPE","CAMEL_PROPS","IS_DOM","onChangeInputType","v","oldEventHook","empty","isPropagationStopped","cancelBubble","isDefaultPrevented","defaultPrevented","persist","nativeEvent","classNameDescriptor","class","oldVNodeHook","nonCustomElement","multiple","selected","className","isValidElement","element","useImperativeHandle","createHandle","concat","useCallback","useDebugValue","formatter","version","parent","textContent","preactRender","preactHydrate","unmountComponentAtNode","createPortal","createFactory","preactCloneElement","apply","createRef","findDOMNode","memo","comparer","shouldUpdate","nextProps","updateRef","Memoed","flushSync","unstable_batchedUpdates","StrictMode","lazy","loader","prom","Lazy","exports","default","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ReactCurrentDispatcher","readContext","$d753bbd189d0b20a$exports","instance","Constructor","$a0ee31404e004605$var$_defineProperties","target","descriptor","$a6a4853fe069bc1d$var$ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","$a6a4853fe069bc1d$var$_objectSpread","source","$parcel$interopDefault","getOwnPropertyDescriptors","defineProperties","$a0ee31404e004605$exports","protoProps","staticProps","$a6a4853fe069bc1d$var$i18nInstance","$a6a4853fe069bc1d$var$defaultOptions","bindI18n","bindI18nStore","transEmptyNodeValue","transSupportBasicHtmlNodes","transWrapTextNodes","transKeepBasicHtmlNodesFor","useSuspense","$a6a4853fe069bc1d$export$5603ab5ced17ce64","$c9d322eeb636f8e5$export$2e2bcd8739ae039","$a6a4853fe069bc1d$export$212bb2fc580a90a8","$a6a4853fe069bc1d$export$ea171b67e3820290","ReportNamespaces","usedNamespaces","namespaces","ns","$a6a4853fe069bc1d$export$64af334f494c2f47","$a6a4853fe069bc1d$export$ae7e14d40d89f296","$a6a4853fe069bc1d$export$2e2366488d12e20d","react","$a6a4853fe069bc1d$export$a039134f2fc7e0","$52be05fa2baefe83$export$c106dd0671a0fc2d","console","warn","_console","_len","_key","$52be05fa2baefe83$var$alreadyWarned","$52be05fa2baefe83$export$5b28268982f175ba","_len2","_key2","$52be05fa2baefe83$export$83be934b53fff43b","i18n","loadNamespaces","isInitialized","on","initialized","off","$52be05fa2baefe83$export$93d9ee97c1ad3f31","languages","lng","fallbackLng","lastLng","loadNotPending","l","loadState","services","backendConnector","backend","isLanguageChangingTo","hasResourceBundle","$52be05fa2baefe83$export$be63e0664592e141","$829be5acfdd67d69$var$ownKeys","$829be5acfdd67d69$var$_objectSpread","$829be5acfdd67d69$export$9fc83ad70ead8663","i18nFromProps","_ref","$35130c2d97e6777b$export$fae74005e78b1a27","i18nFromContext","defaultNSFromContext","defaultNS","reportNamespaces","notReadyT","retNotReady","t","ready","wait","i18nOptions","keyPrefix","addUsedNamespaces","initializedStoreOnce","every","getT","getFixedT","nsMode","_useState","$35130c2d97e6777b$export$60241385465d0a34","_useState2","setT","isMounted","$35130c2d97e6777b$export$b8f5890fc79d6aca","$35130c2d97e6777b$export$6d9c69b0de29b591","boundReset","store","split","join","isInitial","ret","$8fafb67a490e78bc$exports","excluded","sourceKeys","$aa75c5cbc9977fe7$exports","sourceSymbolKeys","propertyIsEnumerable","$5fa4965e78bef7fc$var$_excluded","$5fa4965e78bef7fc$var$ownKeys","$5fa4965e78bef7fc$var$_objectSpread","$5fa4965e78bef7fc$export$2dcb0053efd21124","WrappedComponent","I18nextWithTranslation","forwardedRef","rest","_useTranslation","_useTranslation2","passDownProps","tReady","withRef","util","isValidUrl","url","URL","_","limitLength","string","Math","floor","escapeRegex","getSubpath","baseURI","pathname","toApp","location","origin","genId","seed","random","id2Int","parseInt","urlRegExp","getUrl","txt","match","startsWith","link","endsWith","limitStrSize","limit","humanFullDate","timestamp","d","getTime","getTimezoneOffset","toISOString","humanTime","useTranslation","duration","abs","round","getId","thumbnail","width","height","crop","defaultAvatar","reduce","colorHash","backgroundHash","c1","c2","is_it_enter","keyCode","$0d89305838e7d07e$export$2e2bcd8739ae039","http","sendFile","formData","loadFn","progressFn","errorFn","apiKey","xhr","XMLHttpRequest","open","setRequestHeader","status","response","statusText","upload","onprogress","loaded","send","catch","nocache","h","fetch","method","headers","Headers","res","ok","json","post","contentType","request","put","fetchOptions","exception","message","reject","$747de4a7b04ce4ba$export$2e2bcd8739ae039","api","info","$df6632f9961dbefb$export$2e2bcd8739ae039","$5e4e939c48db0130$export$2e2bcd8739ae039","modules","events","dispatch","changes","includes","createStoreon","me","route","backUrl","entityType","search","entity","newState","notifications","notification","$fb8f84c9a5169d5f$export$2e2bcd8739ae039","ownKeys","$d2d17a3cd181d167$export$2e2bcd8739ae039","$2b8e6a874ebc9459$var$_defineProperties","$96c13eb21173d247$var$_typeof","$96c13eb21173d247$exports","self","ReferenceError","$a2effb6ef828f8c0$export$2e2bcd8739ae039","$20e66b58535b9e80$export$2e2bcd8739ae039","setPrototypeOf","getPrototypeOf","__proto__","$ded81b099fd1d878$export$2e2bcd8739ae039","subClass","superClass","create","$757af2869df27e2a$export$2e2bcd8739ae039","$a8c0fa42daf71ac5$export$2e2bcd8739ae039","$b6a911c5579c42a0$export$2e2bcd8739ae039","$6be8751296140edf$export$2e2bcd8739ae039","$f36b48af74148a0a$export$2e2bcd8739ae039","$d7301ad24121e92e$var$consoleLogger","log","output","$d7301ad24121e92e$var$Logger","Logger","concreteLogger","$3f08158b3a84b4ac$export$2e2bcd8739ae039","$2b8e6a874ebc9459$export$2e2bcd8739ae039","prefix","logger","debug","bool","forward","_len3","_key3","_len4","_key4","lvl","debugOnly","moduleName","$2aa0cd53711a4c79$export$2e2bcd8739ae039","$d7301ad24121e92e$var$baseLogger","$d7301ad24121e92e$var$EventEmitter","EventEmitter","observers","listener","cloned","observer","_cloned","$d7301ad24121e92e$var$defer","rej","$d7301ad24121e92e$var$makeString","$d7301ad24121e92e$var$copy","m","$d7301ad24121e92e$var$getLastOfPath","path","Empty","cleanKey","canNotTraverseDeeper","stack","shift","$d7301ad24121e92e$var$setPath","newValue","_getLastOfPath","$d7301ad24121e92e$var$getPath","_getLastOfPath3","$d7301ad24121e92e$var$getPathWithDefaults","defaultData","$d7301ad24121e92e$var$deepExtend","overwrite","prop","String","$d7301ad24121e92e$var$regexEscape","$d7301ad24121e92e$var$_entityMap","$d7301ad24121e92e$var$escape","$d7301ad24121e92e$var$isIE10","navigator","userAgent","$d7301ad24121e92e$var$chars","$d7301ad24121e92e$var$deepFind","keySeparator","paths","mix","joinedPath","$d7301ad24121e92e$var$ResourceStore","_EventEmitter","ResourceStore","$d57d2e9a6ae0d618$export$2e2bcd8739ae039","ignoreJSONStructure","$91445e52b0bd770c$export$2e2bcd8739ae039","result","silent","addNamespaces","emit","resources","addResource","deep","pack","removeNamespaces","getResource","compatibilityAPI","getDataByLanguage","find","$d7301ad24121e92e$var$postProcessor","processors","addPostProcessor","module","handle","translator","processor","$d7301ad24121e92e$var$checkedLoadedFor","$d7301ad24121e92e$var$Translator","Translator","language","interpolation","nsSeparator","wouldCheckForNsInKey","seemsNaturalLanguage","userDefinedKeySeparator","userDefinedNsSeparator","possibleChars","RegExp","matched","ki","substring","$d7301ad24121e92e$var$looksLikeObjectPath","interpolator","nestingRegexp","parts","lastKey","_this2","overloadTranslationOptionHandler","_this$extractFromKey","extractFromKey","namespace","appendNamespaceToCIMode","resUsedKey","usedKey","resExactUsedKey","exactUsedKey","resType","noObject","joinArrays","handleAsObjectInI18nFormat","i18nFormat","handleAsObject","returnObjects","returnedObjectHandler","resTypeIsArray","copy","newKeyToUse","deepKey","translate","extendTranslation","usedDefault","needsPluralHandling","hasDefaultValue","defaultValueSuffix","pluralResolver","getSuffix","isValidLookup","missingKeyNoValueFallbackToKey","resForMissing","updateMissing","fk","lngs","fallbackLngs","languageUtils","getFallbackCodes","saveMissingTo","toResolveHierarchy","fallbackValue","missingKeyHandler","saveMissing","saveMissingPlurals","getSuffixes","suffix","appendNamespaceToMissingKey","parseMissingKeyHandler","_this3","usedLng","usedNS","skipInterpolation","nestBef","skipOnVariables","nb","defaultVariables","interpolate","na","nest","postProcess","postProcessorNames","applyPostProcessor","postProcessPassResolved","i18nResolved","found","_this4","extracted","fallbackNS","needsContextHandling","codes","utils","hasLoadedNamespace","code","pluralSuffix","possibleKey","finalKey","finalKeys","addLookupKeys","contextSeparator","returnNull","returnEmptyString","resourceStore","option","$d7301ad24121e92e$var$capitalize","charAt","toUpperCase","$d7301ad24121e92e$var$LanguageUtil","LanguageUtil","supportedLngs","formatLanguageCode","specialCases","lowerCaseLng","part","cleanCode","load","nonExplicitSupportedLngs","getLanguagePartFromCode","cleanedLng","isSupportedCode","lngOnly","supportedLng","fallbacks","getScriptPartFromCode","fallbackCode","fallbackCodes","addCode","fc","$d7301ad24121e92e$var$sets","nr","$d7301ad24121e92e$var$_rulesPluralsTypes","Number","$d7301ad24121e92e$var$deprecatedJsonVersions","$d7301ad24121e92e$var$suffixesOrder","zero","one","two","few","many","other","$d7301ad24121e92e$var$createRules","rules","numbers","plurals","$d7301ad24121e92e$var$PluralResolver","PluralResolver","compatibilityJSON","Intl","PluralRules","shouldUseIntlApi","ordinal","_unused","rule","getRule","resolvedOptions","pluralCategories","pluralCategory1","pluralCategory2","pluralCategory","prepend","number","select","getSuffixRetroCompatible","idx","noAbs","simplifyPluralSuffix","returnSuffix","$d7301ad24121e92e$var$Interpolator","Interpolator","format","escapeValue","iOpts","escape","useRawValueToEscape","prefixEscaped","suffixEscaped","formatSeparator","unescapePrefix","unescapeSuffix","nestingPrefix","nestingPrefixEscaped","nestingSuffix","nestingSuffixEscaped","nestingOptionsSeparator","maxReplaces","alwaysFormat","resetRegExp","regexpStr","regexp","regexpUnescapeStr","regexpUnescape","nestingRegexpStr","replaces","regexSafe","val","handleFormat","interpolationkey","trim","missingInterpolationHandler","regex","safeValue","todo","exec","temp","lastIndex","clonedOptions","handleHasOptions","inheritedOptions","sep","optionsString","formatters","doReduce","elem","$d7301ad24121e92e$var$Formatter","Formatter","formats","NumberFormat","currency","datetime","DateTimeFormat","relativetime","RelativeTimeFormat","range","ListFormat","_format","mem","_parseFormatStr","formatStr","formatName","formatOptions","optStr","opt","_opt$split2","$72322aa17b152b51$export$2e2bcd8739ae039","isNaN","$d7301ad24121e92e$var$parseFormatStr","formatted","valOptions","formatParams","locale","$d7301ad24121e92e$var$Connector","Connector","toLoad","pending","toLoadLanguages","toLoadNamespaces","hasAllNamespaces","reload","errors","addResourceBundle","q","_getLastOfPath2","what","$d7301ad24121e92e$var$remove","fcName","tried","read","queueLoad","loadOne","prepareLoading","_this5","isUpdate","$d7301ad24121e92e$var$get","initImmediate","preload","pluralSeparator","partialBundledLanguages","tDescription","$d7301ad24121e92e$var$transformOptions","$d7301ad24121e92e$var$noop","$d7301ad24121e92e$var$I18n","I18n","external","isClone","defOpts","createClassOnDemand","ClassOrObject","lu","languageDetector","detection","storeApi","_this2$store","storeApiChained","_this2$store2","deferred","finish","changeLanguage","usedCallback","append","setLngProps","resolvedLanguage","li","lngInLngs","hasLanguageSomeTranslations","setLng","getBestMatchFromCodes","cacheUserLanguage","loadResources","async","detect","fixedT","opts","resultKey","_this$translator","_this$translator2","exists","_this6","precheck","preResult","_this7","preloaded","newLngs","_this8","mergedOptions","membersToCopy","$d7301ad24121e92e$export$2e2bcd8739ae039","ref1","lang","ref6","ref7","groups","ref16","ref21","avatar","ref26","getGroupName","group","g","all","hasBookmark","bookmarks","bid","removeBookmark","addBookmark","logout","href","$1747d3542bece520$export$2e2bcd8739ae039","possibleLang","en","es","fr","sk","use","initReactI18next","translation","getCurrentLang","getDefaultLang","querySelector","content","matchNotification","fromMessage","removeAllNotifications","removeMatchingNotifications","notif","router","removeSubpath","getEntity","isEntity","getParam","param","searchParams","decodeURIComponent","getSegments","isOutside","getUrlComponents","components","_alert","_api","_http","_me","_storage","_util","$e836541e8e8ca833$export$2e2bcd8739ae039","$2ba682a9740ae5be$var$isAbsolute","$2ba682a9740ae5be$var$spliceOne","$8198934627230fd6$var$emptyFunction","$8198934627230fd6$var$emptyFunctionWithReset","resetWarningCache","shim","propName","componentName","propFullName","secret","$4grdL","getShim","isRequired","ReactPropTypes","array","func","symbol","any","arrayOf","elementType","instanceOf","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","$16bacbe363c85ec3$exports","$2ba682a9740ae5be$export$2e2bcd8739ae039","to","hasTrailingSlash","toParts","fromParts","isToAbs","isFromAbs","mustEndAbs","last","up","unshift","substr","$4b99a26d3cdc65c3$var$valueOf","valueOf","$4b99a26d3cdc65c3$export$2e2bcd8739ae039","$4b99a26d3cdc65c3$var$valueEqual","item","aValue","bValue","$a93d8ad7f8f1daf7$var$prefix","$a93d8ad7f8f1daf7$export$2e2bcd8739ae039","condition","$6a62a35ff5f0bd14$var$addLeadingSlash","$6a62a35ff5f0bd14$var$stripLeadingSlash","$6a62a35ff5f0bd14$var$stripBasename","$6a62a35ff5f0bd14$var$hasBasename","$6a62a35ff5f0bd14$var$stripTrailingSlash","$6a62a35ff5f0bd14$export$fe53371bee54353d","$6a62a35ff5f0bd14$export$90c043f1c57770b8","currentLocation","hashIndex","searchIndex","$6a62a35ff5f0bd14$export$8ccf933b0513f8d0","decodeURI","URIError","$6a62a35ff5f0bd14$var$createTransitionManager","prompt","listeners","setPrompt","nextPrompt","confirmTransitionTo","getUserConfirmation","appendListener","isActive","notifyListeners","$6a62a35ff5f0bd14$var$canUseDOM","$6a62a35ff5f0bd14$var$getConfirmation","confirm","$6a62a35ff5f0bd14$var$PopStateEvent","$6a62a35ff5f0bd14$var$HashChangeEvent","$6a62a35ff5f0bd14$var$getHistoryState","history","$6a62a35ff5f0bd14$export$719fc203c4e16dee","ua","globalHistory","canUseHistory","needsHashChangeListener","_props$forceRefresh","forceRefresh","_props$getUserConfirm","_props$keyLength","keyLength","basename","getDOMLocation","historyState","_window$location","createKey","transitionManager","nextState","handlePopState","$6a62a35ff5f0bd14$var$isExtraneousPopstateEvent","handlePop","handleHashChange","forceNextPop","fromLocation","toLocation","toIndex","allKeys","fromIndex","delta","go","revertPop","initialLocation","createHref","listenerCount","checkDOMListeners","isBlocked","pushState","prevIndex","nextKeys","replaceState","goBack","goForward","block","unblock","listen","unlisten","$6a62a35ff5f0bd14$var$HashChangeEvent$1","$6a62a35ff5f0bd14$var$HashPathCoders","hashbang","encodePath","decodePath","noslash","slash","$6a62a35ff5f0bd14$var$stripHash","$6a62a35ff5f0bd14$var$getHashPath","$6a62a35ff5f0bd14$var$replaceHashPath","$6a62a35ff5f0bd14$export$b71fdd3798280242","_props$hashType","hashType","_HashPathCoders$hashT","ignorePath","encodedPath","prevLocation","allPaths","lastIndexOf","baseTag","getAttribute","$6a62a35ff5f0bd14$var$pushHashPath","nextPaths","$6a62a35ff5f0bd14$var$clamp","lowerBound","upperBound","min","max","$6a62a35ff5f0bd14$export$2b76ad033c6e6d08","_props$initialEntries","initialEntries","_props$initialIndex","initialIndex","entries","entry","nextIndex","nextEntries","canGo","$d508be23b3bcd707$var$MAX_SIGNED_31_BIT_INT","$d508be23b3bcd707$var$commonjsGlobal","globalThis","$parcel$global","$d508be23b3bcd707$var$createEventEmitter","handlers","handler","changedBits","$d508be23b3bcd707$var$index","calculateChangedBits","_Provider$childContex","_Consumer$contextType","contextProp","_Component","emitter","$9b8855a62b84dcf3$export$2e2bcd8739ae039","_proto","x","y","$bc4b82f252aed4aa$export$16fa2f45be04daa8","childContextTypes","_Component2","getValue","onUpdate","observedBits","_proto2","contextTypes","$d508be23b3bcd707$export$2e2bcd8739ae039","$fec9bb678e29204f$exports","$b697e3815095c0f0$exports","$b697e3815095c0f0$var$pathToRegexp","$b697e3815095c0f0$var$parse","compile","$b697e3815095c0f0$var$tokensToFunction","tokensToFunction","tokensToRegExp","$b697e3815095c0f0$var$tokensToRegExp","$b697e3815095c0f0$var$PATH_REGEXP","tokens","defaultDelimiter","delimiter","escaped","offset","capture","modifier","asterisk","partial","repeat","optional","pattern","$b697e3815095c0f0$var$escapeGroup","$b697e3815095c0f0$var$escapeString","$b697e3815095c0f0$var$encodeURIComponentPretty","encodeURI","matches","$b697e3815095c0f0$var$flags","encode","pretty","encodeURIComponent","token","segment","$b697e3815095c0f0$var$attachKeys","re","sensitive","strict","end","endsWithDelimiter","$b697e3815095c0f0$var$regexpToRegexp","$b697e3815095c0f0$var$arrayToRegexp","$b697e3815095c0f0$var$stringToRegexp","$6fe2b8291eeb65d3$export$2b8d127b894957b9","$6fe2b8291eeb65d3$export$cea3a54a6425200c","$6fe2b8291eeb65d3$export$a7c73072b1a182ae","$6fe2b8291eeb65d3$export$9f27bc3417b4524d","$6fe2b8291eeb65d3$export$db77ccec0bb4ccac","$6fe2b8291eeb65d3$export$8392c0c9d3dcbd35","$6fe2b8291eeb65d3$export$ffb0004e005737fa","$6fe2b8291eeb65d3$export$b624eff549462981","$6fe2b8291eeb65d3$export$7897aa7841a5380c","$6fe2b8291eeb65d3$export$602eac185826482c","$6fe2b8291eeb65d3$export$e2c29f18771995cb","$6fe2b8291eeb65d3$export$5f8d39834fd61797","$6fe2b8291eeb65d3$export$74bf444e3cd11ea5","$6fe2b8291eeb65d3$export$92387174baf9b227","$6fe2b8291eeb65d3$export$ec112efeb987d9c6","$6fe2b8291eeb65d3$export$b706b080d889d2c9","$6fe2b8291eeb65d3$export$5be5a87408f70ddc","$6fe2b8291eeb65d3$export$45a5e7f76e0caa8d","$6fe2b8291eeb65d3$export$455c2e768291efa6","$6fe2b8291eeb65d3$export$9522e17588c12572","$6fe2b8291eeb65d3$export$2110ac352bb060b9","$6fe2b8291eeb65d3$export$56885ab8b9c456ab","$6fe2b8291eeb65d3$export$d927fcb6adf8f9de","$6fe2b8291eeb65d3$export$b82d16f27459e05a","$6fe2b8291eeb65d3$export$522c17b4f5e123e8","$6fe2b8291eeb65d3$export$1aabd8a0274ecfd6","$6fe2b8291eeb65d3$export$9b621391a187a31a","$6fe2b8291eeb65d3$export$f5bbd400c2f4426f","$6fe2b8291eeb65d3$var$b","$6fe2b8291eeb65d3$var$c","$6fe2b8291eeb65d3$var$d","$6fe2b8291eeb65d3$var$e","$6fe2b8291eeb65d3$var$f","$6fe2b8291eeb65d3$var$g","$6fe2b8291eeb65d3$var$h","$6fe2b8291eeb65d3$var$k","$6fe2b8291eeb65d3$var$l","$6fe2b8291eeb65d3$var$m","$6fe2b8291eeb65d3$var$n","$6fe2b8291eeb65d3$var$p","$6fe2b8291eeb65d3$var$q","$6fe2b8291eeb65d3$var$r","$6fe2b8291eeb65d3$var$t","$6fe2b8291eeb65d3$var$v","$6fe2b8291eeb65d3$var$w","$6fe2b8291eeb65d3$var$x","$6fe2b8291eeb65d3$var$y","$6fe2b8291eeb65d3$var$z","u","$6fe2b8291eeb65d3$var$A","$bd87f71d2f049fd1$exports","$9712399dbaf29ad9$var$REACT_STATICS","getDefaultProps","mixins","propTypes","$9712399dbaf29ad9$var$KNOWN_STATICS","caller","callee","arity","$9712399dbaf29ad9$var$MEMO_STATICS","compare","$9712399dbaf29ad9$var$TYPE_STATICS","$9712399dbaf29ad9$var$getStatics","isMemo","ForwardRef","Memo","$9712399dbaf29ad9$var$defineProperty","$9712399dbaf29ad9$var$getOwnPropertyNames","getOwnPropertyNames","$9712399dbaf29ad9$var$getOwnPropertySymbols","$9712399dbaf29ad9$var$getOwnPropertyDescriptor","$9712399dbaf29ad9$var$getPrototypeOf","$9712399dbaf29ad9$var$objectPrototype","$9712399dbaf29ad9$exports","$9712399dbaf29ad9$var$hoistNonReactStatics","targetComponent","sourceComponent","blacklist","inheritedComponent","targetStatics","sourceStatics","createNamedContext","historyContext","Router","_isMounted","_pendingLocation","staticContext","computeRootMatch","params","isExact","RouterContext","HistoryContext","React","Lifecycle","onMount","prevProps","onUnmount","cache","cacheCount","generatePath","generator","pathToRegexp","compilePath","Redirect","computedMatch","_ref$push","invariant","createLocation","$4767c8c8c03f6058$var$Lifecycle","matchPath","_options","_options$exact","_options$strict","_options$sensitive","cacheKey","pathCache","_compilePath","values","Route","_this$props","isEmptyChildren","addLeadingSlash","stripBasename","createURL","createPath","staticHandler","methodName","noop","StaticRouter","Switch","withRouter","C","wrappedComponentRef","remainingProps","$2922143d6f8d4099$export$2e2bcd8739ae039","hoistStatics","BrowserRouter","createHistory","$4767c8c8c03f6058$export$55185c17a0fcbe46","resolveToLocation","normalizeToLocation","forwardRefShim","LinkAnchor","innerRef","navigate","onClick","ex","preventDefault","button","metaKey","altKey","ctrlKey","shiftKey","isModifiedEvent","Link","_ref2","_ref2$component","isDuplicateNavigation","_ref$ariaCurrent","ariaCurrent","activeClassName","_ref$activeClassName","activeStyle","classNameProp","isActiveProp","locationProp","styleProp","escapedPath","classnames","joinClassnames","$8f0cec92ac203e08$export$a6c7ac8248d6e38a","$f965482ec7a35662$export$bdfd709ae4826697","$f965482ec7a35662$var$bundleURL","$f965482ec7a35662$var$getBaseURL","$f965482ec7a35662$var$getBundleURL","$fd00660e7c465403$exports","getBundleURL","$0426dbc898a9b87d$export$2e2bcd8739ae039","withTranslation","sendPasswordReset","login","sending","mail","sendLoginForm","showAlert","password","api_key","showPasswordReset","showResetPassword","$bc4b82f252aed4aa$export$c8a8987d4410bf2d","src","required","placeholder","disabled","super","$5a2cfa601dcd77fa$export$2e2bcd8739ae039","sendNewPassword","passwordConfirmation","$4b4c42fcf86b8acc$export$2e2bcd8739ae039","sendSignupForm","invite_key","inviteKey","$f79e9cb5c3dbdf1a$export$2e2bcd8739ae039","BandCampEmbed","embedUrl","revealed","preview","GenericEmbed","allowfullscreen","playBtnClass","EmbedBlock","getPreview","ref11","__html","$54406de631e0b73e$export$2e2bcd8739ae039","$6dae1daf7574982b$export$2e2bcd8739ae039","ref5","ref24","ref25","ref27","ref28","ref52","ref53","ref54","ref55","ref56","inWriter","controls","rel","FaIcon","icon","family","rotation","viewBox","fill","regular","comment","bookmark","images","bell","solid","film","times","$iypuK","bundle","existingScripts","getElementsByTagName","script","charset","onerror","onload","$d81f2db619dc4fc2$var$cachedBundles","$d81f2db619dc4fc2$var$cachedPreloads","$d81f2db619dc4fc2$var$cachedPrefetches","$d81f2db619dc4fc2$var$getCache","$45295780a16661b7$export$2e2bcd8739ae039","toggleFile","evt","stopPropagation","currentTarget","renderMiniatureFile","file","filePath","contentUrl","$85c05060c4c33f8a$export$8b29a4b6778bf7f","progress","removed","fileIndex","renderBigFile","poster","files","nlg","start","MessageBody","displayMessageText","gotPreview","previewUrl","title","$128470cc23550ac8$export$2e2bcd8739ae039","$021afc89466d3c0c$export$2e2bcd8739ae039","onNewChild","newMsg","detail","prevState","lastDisplayedChild","loadMessage","firstDisplayedChild","childMessages","msgIndex","findIndex","displayPreviousChildren","displayNextChildren","$c6a97b4c72e49883$export$2e2bcd8739ae039","isPublic","author","isChild","$bc4b82f252aed4aa$export$ffb0004e005737fa","editMessage","ref3","closest","toggle","deleteMessage","openPublicLink","shareMessage","isInFront","publishInGroup","$0329eb4a81e3801e$export$2e2bcd8739ae039","buildStack","getTitle","$5b35a95da8d0538c$export$2e2bcd8739ae039","clearInterval","workerManager","onKeyPress","doGenPreview","sendMessage","genPreview","scrollHeight","links","messageId","putMessage","postMessage","msg","lastActivityDate","writerId","inputGenericFile","mimetype","input","display","accept","addFile","click","inputVideo","inputImages","inputFile","updateFile","removeFile","manageWorkers","workers","hardwareConcurrency","w","worker","addWorker","removeWorker","workerId","imageService","handleImage","uploadFile","fileId","FormData","rows","autocomplete","autofocus","focus","maxlength","$5b35a95da8d0538c$var$_extends","image","video","pdf","cancel","setInterval","$5133ef8bc2964922$export$554ccc96b126a426","$bc4b82f252aed4aa$export$fd42f52fd3ae1109","$5133ef8bc2964922$var$useIsomorphicLayoutEffect","$35130c2d97e6777b$export$e5c5a5f917a5871c","$5133ef8bc2964922$export$11aeef812f154e9e","rerender","changed","$35130c2d97e6777b$export$1538c33de8887b59","$5133ef8bc2964922$export$c8172487361f669f","$c9d322eeb636f8e5$export$257a8862b851cb5b","originProps","$30c5ca0a60c8316e$export$2e2bcd8739ae039","connectStoreon","hydrateMessage","scrollTo","msgElement","scrollIntoView","behavior","newTab","onEditMessage","edit","getComponentClass","cn","isRemoved","resetGroupDisplay","cancelEdit","displayWriter","ref8","ref9","ref10","ref12","$9b716d635261f1d3$export$2e2bcd8739ae039","$7128f2b1295b6a89$export$2e2bcd8739ae039","$ad65ccb0e164de06$export$2e2bcd8739ae039","postMessageComponent","$ef522b83495e3114$export$2e2bcd8739ae039","loadMessages","hashtags","groupId","messages","totalMessages","$19924b6e568a4f60$export$423dfe6469a8e0dd","tabindex","$968c795b42e82a14$export$2e2bcd8739ae039","postNewGroup","secretKey","minlength","$c6bf11b1e742cb38$export$2e2bcd8739ae039","$19924b6e568a4f60$export$84c965ec8b6b0f92","$31634567bd2e908e$export$2e2bcd8739ae039","fromGroup","fromUser","getTarget","getAction","user","getMiniature","imgSrc","onError","setMiniatureOnError","description","getObject","$5df68f20e9e897ff$export$2e2bcd8739ae039","onSubmit","group_id","searchTerms","normalize","$e5d5ff45104628e8$export$2e2bcd8739ae039","unbind","currentUrl","groupSelect","onChange","readonly","CreateGroup","_CreateGroup","GroupBoard","onNewParent","onScroll","page","new_loaded","msgList","getComputedStyle","scroll_cooldown","pageYOffset","screen","$a779245c27c6d4b9$export$42cfbb80f7861e77","scrollTop","BookmarkBoard","_BookmarkBoard","Notification","_Notification","Search","_Search","Share","_Share","Home","connected","redirect","default_group","$4767c8c8c03f6058$export$2d8d895a0a0f636e","$9cd3479cd46259b1$export$2e2bcd8739ae039","$a779245c27c6d4b9$export$2d8ae0bb40c793f6","$e4fc23afeade3f60$export$4b85d3515bd863a5","$a779245c27c6d4b9$export$ffe0a8eecde78dfa","GroupSearch","_GroupSearch","GroupsDropdownNavbar","Navbar","_Navbar","NotificationsDropdownNavbar","useStoreon","notifs","$e4fc23afeade3f60$export$14834abbfce3b8cd","$5cdf1c2fc07a1db5$var$_extends","MessageParent","MessagePreview","ref2","ref4","MessageSearchResult","displayAuthorName","authorName","words","displayMessageTitle","lines","getLink","Login","_Login","ResetPassword","_ResetPassword","Signup","_Signup","StopNotificationEmails","_StopNotificationEmails","Public","$19924b6e568a4f60$export$4025c8e17986f775","$eeb1ed40e8ffc517$export$2e2bcd8739ae039","users","resetSecretKey","updateSettings","leaveGroup","leave","protocol","host","hydratedUsers","$6b414d55358a8032$export$2e2bcd8739ae039","resetApiKey","inputAvatar","blob","destroyAccount","notification_emails","$e445918a5a4228c3$export$2e2bcd8739ae039","Settings","_Settings","$c94d87274290ed2f$export$2e2bcd8739ae039","$8f0cec92ac203e08$export$9ba4e89fdfa1fc54","$4767c8c8c03f6058$export$b5d5cf8927ab7262","$4767c8c8c03f6058$export$e7b0ac011bb776c6","$e4fc23afeade3f60$export$b94310965bed44e6","$7a4a2b5c7de24037$export$89200835fb4edfb9","$7a4a2b5c7de24037$export$e9e03eeea26d4dee","$7a4a2b5c7de24037$export$68b4491d6924a6d1","$7a4a2b5c7de24037$export$a4c3d56613a57187","$7a4a2b5c7de24037$export$21a94553ffa41578","$15e77f43f1e3331f$export$c72f6eaae7b9adff","$e4fc23afeade3f60$export$1a13290ec7702c7","$e4fc23afeade3f60$export$c9915453de10000b","$e4fc23afeade3f60$export$9c257beea3dbd13a","$a779245c27c6d4b9$export$8eb86eb08c0b5c12","$e4fc23afeade3f60$export$959a4441e74dcd2b","querySelectorAll","MainRouter","$9a3e4fde01996651$var$MainRouter","$b428a552d886237b$exports","serviceWorker","getRegistrations","registrations","registration","unregister","scope"],"version":3,"file":"index.6f919ad3.js.map"}