!function(){let e,t,n,i,a;function r(e,t,n,i){Object.defineProperty(e,t,{get:n,set:i,enumerable:!0,configurable:!0})}function o(e){return e&&e.__esModule?e.default:e}var s,l,d,u,c,h,p,g,f,m,v,_,y,b,x="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},w={},k={},S=x.parcelRequiredc87;null==S&&((S=function(e){if(e in w)return w[e].exports;if(e in k){var t=k[e];delete k[e];var n={id:e,exports:{}};return w[e]=n,t.call(n.exports,n,n.exports),n.exports}var i=Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){k[e]=t},x.parcelRequiredc87=S),S.register("lpwGa",function(e,t){r(e.exports,"getBundleURL",function(){return n},function(e){return n=e});var n,i={};n=function(e){var t=i[e];return t||(t=function(){try{throw Error()}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/[^)\n]+/g);if(e)// Use the 3rd one, which will be a runtime in the original bundle.
return(""+e[2]).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}return"/"}(),i[e]=t),t}});var C,E,A,z,L,T,P,O,N={},j=[],D=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,I=Array.isArray;function R(e,t){for(var n in t)e[n]=t[n];return e}function M(e){var t=e.parentNode;t&&t.removeChild(e)}function $(e,t,n){var i,a,r,o={};for(r in t)"key"==r?i=t[r]:"ref"==r?a=t[r]:o[r]=t[r];if(arguments.length>2&&(o.children=arguments.length>3?C.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(r in e.defaultProps)void 0===o[r]&&(o[r]=e.defaultProps[r]);return U(e,o,i,a,null)}function U(e,t,n,i,a){var r={type:e,props:t,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==a?++A:a};return null==a&&null!=E.vnode&&E.vnode(r),r}function B(){return{current:null}}function F(e){return e.children}function H(e,t){this.props=e,this.context=t}function V(e,t){if(null==t)return e.__?V(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?V(e):null}function q(e){(!e.__d&&(e.__d=!0)&&z.push(e)&&!W.__r++||L!==E.debounceRendering)&&((L=E.debounceRendering)||T)(W)}function W(){var e,t,n,i,a,r,o,s,l;for(z.sort(P);e=z.shift();)e.__d&&(t=z.length,i=void 0,a=void 0,r=void 0,s=(o=(n=e).__v).__e,(l=n.__P)&&(i=[],a=[],(r=R({},o)).__v=o.__v+1,ee(l,o,r,n.__n,void 0!==l.ownerSVGElement,null!=o.__h?[s]:null,i,null==s?V(o):s,o.__h,a),et(i,o,a),o.__e!=s&&function e(t){var n,i;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,n=0;n<t.__k.length;n++)if(null!=(i=t.__k[n])&&null!=i.__e){t.__e=t.__c.base=i.__e;break}return e(t)}}(o)),z.length>t&&z.sort(P));W.__r=0}function Y(e,t,n,i,a,r,o,s,l,d,u){var c,h,p,g,f,m,v,_,y,b=0,x=i&&i.__k||j,w=x.length,k=w,S=t.length;for(n.__k=[],c=0;c<S;c++)null!=(g=n.__k[c]=null==(g=t[c])||"boolean"==typeof g||"function"==typeof g?null:"string"==typeof g||"number"==typeof g||"bigint"==typeof g?U(null,g,null,null,g):I(g)?U(F,{children:g},null,null,null):g.__b>0?U(g.type,g.props,g.key,g.ref?g.ref:null,g.__v):g)?(g.__=n,g.__b=n.__b+1,-1===(_=function(e,t,n,i){var a=e.key,r=e.type,o=n-1,s=n+1,l=t[n];if(null===l||l&&a==l.key&&r===l.type)return n;if(i>(null!=l?1:0))for(;o>=0||s<t.length;){if(o>=0){if((l=t[o])&&a==l.key&&r===l.type)return o;o--}if(s<t.length){if((l=t[s])&&a==l.key&&r===l.type)return s;s++}}return -1}(g,x,v=c+b,k))?p=N:(p=x[_]||N,x[_]=void 0,k--),ee(e,g,p,a,r,o,s,l,d,u),f=g.__e,(h=g.ref)&&p.ref!=h&&(p.ref&&en(p.ref,null,g),u.push(h,g.__c||f,g)),null!=f&&(null==m&&(m=f),(y=p===N||null===p.__v)?-1==_&&b--:_!==v&&(_===v+1?b++:_>v?k>S-v?b+=_-v:b--:b=_<v&&_==v-1?_-v:0),v=c+b,"function"!=typeof g.type||_===v&&p.__k!==g.__k?"function"!=typeof g.type&&(_!==v||y)?l=X(e,f,l):void 0!==g.__d?(l=g.__d,g.__d=void 0):l=f.nextSibling:l=function e(t,n,i){for(var a,r=t.__k,o=0;r&&o<r.length;o++)(a=r[o])&&(a.__=t,n="function"==typeof a.type?e(a,n,i):X(i,a.__e,n));return n}(g,l,e),"function"==typeof n.type&&(n.__d=l))):(p=x[c])&&null==p.key&&p.__e&&(p.__e==l&&(l=V(p)),ei(p,p,!1),x[c]=null);for(n.__e=m,c=w;c--;)null!=x[c]&&("function"==typeof n.type&&null!=x[c].__e&&x[c].__e==n.__d&&(n.__d=x[c].__e.nextSibling),ei(x[c],x[c]))}function K(e,t){return t=t||[],null==e||"boolean"==typeof e||(I(e)?e.some(function(e){K(e,t)}):t.push(e)),t}function X(e,t,n){return null==n||n.parentNode!==e?e.insertBefore(t,null):t==n&&null!=t.parentNode||e.insertBefore(t,n),t.nextSibling}function G(e,t,n){"-"===t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||D.test(t)?n:n+"px"}function J(e,t,n,i,a){var r;e:if("style"===t){if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof i&&(e.style.cssText=i=""),i)for(t in i)n&&t in n||G(e.style,t,"");if(n)for(t in n)i&&n[t]===i[t]||G(e.style,t,n[t])}}else if("o"===t[0]&&"n"===t[1])r=t!==(t=t.replace(/(PointerCapture)$|Capture$/,"$1")),t=t.toLowerCase() in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+r]=n,n?i||e.addEventListener(t,r?Q:Z,r):e.removeEventListener(t,r?Q:Z,r);else if("dangerouslySetInnerHTML"!==t){if(a)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==t&&"height"!==t&&"href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&"rowSpan"!==t&&"colSpan"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,n))}}function Z(e){return this.l[e.type+!1](E.event?E.event(e):e)}function Q(e){return this.l[e.type+!0](E.event?E.event(e):e)}function ee(e,t,n,i,a,r,o,s,l,d){var u,c,h,p,g,f,m,v,_,y,b,x,w,k,S,A=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(l=n.__h,s=t.__e=n.__e,t.__h=null,r=[s]),(u=E.__b)&&u(t);e:if("function"==typeof A)try{if(v=t.props,_=(u=A.contextType)&&i[u.__c],y=u?_?_.props.value:u.__:i,n.__c?m=(c=t.__c=n.__c).__=c.__E:("prototype"in A&&A.prototype.render?t.__c=c=new A(v,y):(t.__c=c=new H(v,y),c.constructor=A,c.render=ea),_&&_.sub(c),c.props=v,c.state||(c.state={}),c.context=y,c.__n=i,h=c.__d=!0,c.__h=[],c._sb=[]),null==c.__s&&(c.__s=c.state),null!=A.getDerivedStateFromProps&&(c.__s==c.state&&(c.__s=R({},c.__s)),R(c.__s,A.getDerivedStateFromProps(v,c.__s))),p=c.props,g=c.state,c.__v=t,h)null==A.getDerivedStateFromProps&&null!=c.componentWillMount&&c.componentWillMount(),null!=c.componentDidMount&&c.__h.push(c.componentDidMount);else{if(null==A.getDerivedStateFromProps&&v!==p&&null!=c.componentWillReceiveProps&&c.componentWillReceiveProps(v,y),!c.__e&&(null!=c.shouldComponentUpdate&&!1===c.shouldComponentUpdate(v,c.__s,y)||t.__v===n.__v)){for(t.__v!==n.__v&&(c.props=v,c.state=c.__s,c.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(e){e&&(e.__=t)}),b=0;b<c._sb.length;b++)c.__h.push(c._sb[b]);c._sb=[],c.__h.length&&o.push(c);break e}null!=c.componentWillUpdate&&c.componentWillUpdate(v,c.__s,y),null!=c.componentDidUpdate&&c.__h.push(function(){c.componentDidUpdate(p,g,f)})}if(c.context=y,c.props=v,c.__P=e,c.__e=!1,x=E.__r,w=0,"prototype"in A&&A.prototype.render){for(c.state=c.__s,c.__d=!1,x&&x(t),u=c.render(c.props,c.state,c.context),k=0;k<c._sb.length;k++)c.__h.push(c._sb[k]);c._sb=[]}else do c.__d=!1,x&&x(t),u=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++w<25)c.state=c.__s,null!=c.getChildContext&&(i=R(R({},i),c.getChildContext())),h||null==c.getSnapshotBeforeUpdate||(f=c.getSnapshotBeforeUpdate(p,g)),Y(e,I(S=null!=u&&u.type===F&&null==u.key?u.props.children:u)?S:[S],t,n,i,a,r,o,s,l,d),c.base=t.__e,t.__h=null,c.__h.length&&o.push(c),m&&(c.__E=c.__=null)}catch(e){t.__v=null,(l||null!=r)&&(t.__e=s,t.__h=!!l,r[r.indexOf(s)]=null),E.__e(e,t,n)}else null==r&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=function(e,t,n,i,a,r,o,s,l){var d,u,c,h=n.props,p=t.props,g=t.type,f=0;if("svg"===g&&(a=!0),null!=r){for(;f<r.length;f++)if((d=r[f])&&"setAttribute"in d==!!g&&(g?d.localName===g:3===d.nodeType)){e=d,r[f]=null;break}}if(null==e){if(null===g)return document.createTextNode(p);e=a?document.createElementNS("http://www.w3.org/2000/svg",g):document.createElement(g,p.is&&p),r=null,s=!1}if(null===g)h===p||s&&e.data===p||(e.data=p);else{if(r=r&&C.call(e.childNodes),u=(h=n.props||N).dangerouslySetInnerHTML,c=p.dangerouslySetInnerHTML,!s){if(null!=r)for(h={},f=0;f<e.attributes.length;f++)h[e.attributes[f].name]=e.attributes[f].value;(c||u)&&(c&&(u&&c.__html==u.__html||c.__html===e.innerHTML)||(e.innerHTML=c&&c.__html||""))}if(function(e,t,n,i,a){var r;for(r in n)"children"===r||"key"===r||r in t||J(e,r,null,n[r],i);for(r in t)a&&"function"!=typeof t[r]||"children"===r||"key"===r||"value"===r||"checked"===r||n[r]===t[r]||J(e,r,t[r],n[r],i)}(e,p,h,a,s),c)t.__k=[];else if(Y(e,I(f=t.props.children)?f:[f],t,n,i,a&&"foreignObject"!==g,r,o,r?r[0]:n.__k&&V(n,0),s,l),null!=r)for(f=r.length;f--;)null!=r[f]&&M(r[f]);s||("value"in p&&void 0!==(f=p.value)&&(f!==e.value||"progress"===g&&!f||"option"===g&&f!==h.value)&&J(e,"value",f,h.value,!1),"checked"in p&&void 0!==(f=p.checked)&&f!==e.checked&&J(e,"checked",f,h.checked,!1))}return e}(n.__e,t,n,i,a,r,o,l,d);(u=E.diffed)&&u(t)}function et(e,t,n){for(var i=0;i<n.length;i++)en(n[i],n[++i],n[++i]);E.__c&&E.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){E.__e(e,t.__v)}})}function en(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){E.__e(e,n)}}function ei(e,t,n){var i,a;if(E.unmount&&E.unmount(e),(i=e.ref)&&(i.current&&i.current!==e.__e||en(i,null,t)),null!=(i=e.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(e){E.__e(e,t)}i.base=i.__P=null,e.__c=void 0}if(i=e.__k)for(a=0;a<i.length;a++)i[a]&&ei(i[a],t,n||"function"!=typeof e.type);n||null==e.__e||M(e.__e),e.__=e.__e=e.__d=void 0}function ea(e,t,n){return this.constructor(e,n)}function er(e,t,n){var i,a,r,o;E.__&&E.__(e,t),a=(i="function"==typeof n)?null:n&&n.__k||t.__k,r=[],o=[],ee(t,e=(!i&&n||t).__k=$(F,null,[e]),a||N,N,void 0!==t.ownerSVGElement,!i&&n?[n]:a?null:t.firstChild?C.call(t.childNodes):null,r,!i&&n?n:a?a.__e:t.firstChild,i,o),et(r,e,o)}function eo(e,t,n){var i,a,r,o,s=R({},e.props);for(r in e.type&&e.type.defaultProps&&(o=e.type.defaultProps),t)"key"==r?i=t[r]:"ref"==r?a=t[r]:s[r]=void 0===t[r]&&void 0!==o?o[r]:t[r];return arguments.length>2&&(s.children=arguments.length>3?C.call(arguments,2):n),U(e.type,s,i||e.key,a||e.ref,null)}function es(e,t){var n={__c:t="__cC"+O++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,i;return this.getChildContext||(n=[],(i={})[t]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some(function(e){e.__e=!0,q(e)})},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n}C=j.slice,E={__e:function(e,t,n,i){for(var a,r,o;t=t.__;)if((a=t.__c)&&!a.__)try{if((r=a.constructor)&&null!=r.getDerivedStateFromError&&(a.setState(r.getDerivedStateFromError(e)),o=a.__d),null!=a.componentDidCatch&&(a.componentDidCatch(e,i||{}),o=a.__d),o)return a.__E=a}catch(t){e=t}throw e}},A=0,H.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=R({},this.state),"function"==typeof e&&(e=e(R({},n),this.props)),e&&R(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),q(this))},H.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),q(this))},H.prototype.render=F,z=[],T="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,P=function(e,t){return e.__v.__b-t.__v.__b},W.__r=0,O=0;let el={remove:e=>document.getElementById(e).outerHTML="",add:(e,t="alert-success",n=5e3)=>{if(!e)return;let i=document.createElement("DIV");i.id=el.hash(e),i.innerHTML=e,i.classList.add("global-alert","alert",t),document.body.appendChild(i),setTimeout(()=>el.remove(i.id),n)},hash:e=>{let t=0;if(0==e.length)return t;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return t}},ed={usage:()=>{let e,t=0;for(e in localStorage)Object.prototype.hasOwnProperty.call(localStorage,e)&&(t+=(localStorage[e].length+e.length)*2);return t},createStorageBox:(e,t=null)=>({data:e,createdAt:Date.now(),metadata:t}),remove:e=>localStorage.removeItem(e),set:(e,t,n=null)=>(localStorage.setItem(e,JSON.stringify(ed.createStorageBox(t,n))),Promise.resolve(e)),get:e=>{let t=localStorage.getItem(e);return new Promise(null!=t&&(t=JSON.parse(t),Object.prototype.hasOwnProperty.call(t,"data"))?e=>e(t.data):e=>e(null))},reset:()=>localStorage.clear()&&window.dispatchEvent(new CustomEvent("resetStorage"))},eu=(eJ=[e=>{e.on("@init",()=>({api:{}})),e.on("api/update",(e,t)=>({api:t}))},e=>{e.on("@init",()=>({me:{}})),e.on("me/update",(e,t)=>({me:t}))},e=>{e.on("@init",()=>({route:"",id:"",action:"",backUrl:"",entityType:"",search:"",entity:{}})),e.on("router/update",(e,t)=>({entity:t.entity,backUrl:t.backUrl}))},e=>{e.on("@init",()=>({notifications:[]})),e.on("notifications/update",(e,t=[])=>({notifications:t})),e.on("notifications/remove",(e,t)=>({notifications:e.notifications.filter(e=>e.id!=t.id)})),e.on("notifications/read",(e,t)=>({notifications:e.notifications.map(e=>e.id===t.id?Object.assign(e,{read:!0}):e)}))},e=>{e.on("@init",()=>({bookmarks:[]})),e.on("bookmarks/update",(e,t=[])=>({bookmarks:t})),e.on("bookmark/remove",(e,t)=>(nH.delete(`/api/bookmarks/${t.id}`),{bookmarks:e.bookmarks.filter(e=>e.id!=t.id)})),e.on("bookmark/add",(t,n)=>{nH.post("/api/bookmarks",{message_id:n}).then(n=>{e.dispatch("bookmarks/update",[...t.bookmarks,n])})})}],t={},n={},i={dispatch(e,a){if("@dispatch"!==e&&i.dispatch("@dispatch",[e,a,t[e]]),t[e]){let r;t[e].forEach(o=>{let s=t[e].includes(o)&&o(n,a,i);s&&"function"!=typeof s.then&&(n={...n,...s},r={...r,...s})}),r&&i.dispatch("@changed",r)}},get:()=>n,on:(e,n)=>((t[e]||(t[e]=[])).push(n),()=>{t[e]=t[e].filter(e=>e!==n)})},eJ.forEach(e=>{e&&e(i)}),i.dispatch("@init"),i),ec={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class eh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||ec,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,n,i){return i&&!this.debug?null:("string"==typeof e[0]&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new eh(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new eh(this.logger,e)}}var ep=new eh;class eg{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(e=>{this.observers[e]=this.observers[e]||[],this.observers[e].push(t)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e]=this.observers[e].filter(e=>e!==t)}}emit(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(this.observers[e]){let t=[].concat(this.observers[e]);t.forEach(e=>{e(...n)})}if(this.observers["*"]){let t=[].concat(this.observers["*"]);t.forEach(t=>{t.apply(t,[e,...n])})}}}function ef(){let e,t;let n=new Promise((n,i)=>{e=n,t=i});return n.resolve=e,n.reject=t,n}function em(e){return null==e?"":""+e}function ev(e,t,n){function i(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function a(){return!e||"string"==typeof e}let r="string"!=typeof t?[].concat(t):t.split(".");for(;r.length>1;){if(a())return{};let t=i(r.shift());!e[t]&&n&&(e[t]=new n),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{}}return a()?{}:{obj:e,k:i(r.shift())}}function e_(e,t,n){let{obj:i,k:a}=ev(e,t,Object);i[a]=n}function ey(e,t){let{obj:n,k:i}=ev(e,t);if(n)return n[i]}function eb(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var ex={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function ew(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,e=>ex[e]):e}let ek=[" ",",","?","!",";"];function eS(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e)return;if(e[t])return e[t];let i=t.split(n),a=e;for(let e=0;e<i.length;++e){if(!a||"string"==typeof a[i[e]]&&e+1<i.length)return;if(void 0===a[i[e]]){let r=2,o=i.slice(e,e+r).join(n),s=a[o];for(;void 0===s&&i.length>e+r;)r++,s=a[o=i.slice(e,e+r).join(n)];if(void 0===s)return;if(null===s)return null;if(t.endsWith(o)){if("string"==typeof s)return s;if(o&&"string"==typeof s[o])return s[o]}let l=i.slice(e+r).join(n);if(l)return eS(s,l,n);return}a=a[i[e]]}return a}function eC(e){return e&&e.indexOf("_")>0?e.replace("_","-"):e}class eE extends eg{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){0>this.options.ns.indexOf(e)&&this.options.ns.push(e)}removeNamespaces(e){let t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,r=void 0!==i.ignoreJSONStructure?i.ignoreJSONStructure:this.options.ignoreJSONStructure,o=[e,t];n&&"string"!=typeof n&&(o=o.concat(n)),n&&"string"==typeof n&&(o=o.concat(a?n.split(a):n)),e.indexOf(".")>-1&&(o=e.split("."));let s=ey(this.data,o);return s||!r||"string"!=typeof n?s:eS(this.data&&this.data[e]&&this.data[e][t],n,a)}addResource(e,t,n,i){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},r=void 0!==a.keySeparator?a.keySeparator:this.options.keySeparator,o=[e,t];n&&(o=o.concat(r?n.split(r):n)),e.indexOf(".")>-1&&(o=e.split("."),i=t,t=o[1]),this.addNamespaces(t),e_(this.data,o,i),a.silent||this.emit("added",e,t,n,i)}addResources(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(let i in n)("string"==typeof n[i]||"[object Array]"===Object.prototype.toString.apply(n[i]))&&this.addResource(e,t,i,n[i],{silent:!0});i.silent||this.emit("added",e,t,n)}addResourceBundle(e,t,n,i,a){let r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},o=[e,t];e.indexOf(".")>-1&&(o=e.split("."),i=n,n=t,t=o[1]),this.addNamespaces(t);let s=ey(this.data,o)||{};i?function e(t,n,i){for(let a in n)"__proto__"!==a&&"constructor"!==a&&(a in t?"string"==typeof t[a]||t[a]instanceof String||"string"==typeof n[a]||n[a]instanceof String?i&&(t[a]=n[a]):e(t[a],n[a],i):t[a]=n[a]);return t}(s,n,a):s={...s,...n},e_(this.data,o,s),r.silent||this.emit("added",e,t,n)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return(t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI)?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){let t=this.getDataByLanguage(e),n=t&&Object.keys(t)||[];return!!n.find(e=>t[e]&&Object.keys(t[e]).length>0)}toJSON(){return this.data}}var eA={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,i,a){return e.forEach(e=>{this.processors[e]&&(t=this.processors[e].process(t,n,i,a))}),t}};let ez={};class eL extends eg{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),function(e,t,n){e.forEach(e=>{t[e]&&(n[e]=t[e])})}(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=ep.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;let n=this.resolve(e,t);return n&&void 0!==n.res}extractFromKey(e,t){let n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");let i=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,a=t.ns||this.options.defaultNS||[],r=n&&e.indexOf(n)>-1,o=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!function(e,t,n){t=t||"",n=n||"";let i=ek.filter(e=>0>t.indexOf(e)&&0>n.indexOf(e));if(0===i.length)return!0;let a=RegExp(`(${i.map(e=>"?"===e?"\\?":e).join("|")})`),r=!a.test(e);if(!r){let t=e.indexOf(n);t>0&&!a.test(e.substring(0,t))&&(r=!0)}return r}(e,n,i);if(r&&!o){let t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:a};let r=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(r[0])>-1)&&(a=r.shift()),e=r.join(i)}return"string"==typeof a&&(a=[a]),{key:e,namespaces:a}}translate(e,t,n){if("object"!=typeof t&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof t&&(t={...t}),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);let i=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,a=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,{key:r,namespaces:o}=this.extractFromKey(e[e.length-1],t),s=o[o.length-1],l=t.lng||this.language,d=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(l&&"cimode"===l.toLowerCase()){if(d){let e=t.nsSeparator||this.options.nsSeparator;return i?{res:`${s}${e}${r}`,usedKey:r,exactUsedKey:r,usedLng:l,usedNS:s}:`${s}${e}${r}`}return i?{res:r,usedKey:r,exactUsedKey:r,usedLng:l,usedNS:s}:r}let u=this.resolve(e,t),c=u&&u.res,h=u&&u.usedKey||r,p=u&&u.exactUsedKey||r,g=Object.prototype.toString.apply(c),f=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,m=!this.i18nFormat||this.i18nFormat.handleAsObject,v="string"!=typeof c&&"boolean"!=typeof c&&"number"!=typeof c;if(m&&c&&v&&0>["[object Number]","[object Function]","[object RegExp]"].indexOf(g)&&!("string"==typeof f&&"[object Array]"===g)){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");let e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(h,c,{...t,ns:o}):`key '${r} (${this.language})' returned an object instead of string.`;return i?(u.res=e,u):e}if(a){let e="[object Array]"===g,n=e?[]:{},i=e?p:h;for(let e in c)if(Object.prototype.hasOwnProperty.call(c,e)){let r=`${i}${a}${e}`;n[e]=this.translate(r,{...t,joinArrays:!1,ns:o}),n[e]===r&&(n[e]=c[e])}c=n}}else if(m&&"string"==typeof f&&"[object Array]"===g)(c=c.join(f))&&(c=this.extendTranslation(c,e,t,n));else{let i=!1,o=!1,d=void 0!==t.count&&"string"!=typeof t.count,h=eL.hasDefaultValue(t),p=d?this.pluralResolver.getSuffix(l,t.count,t):"",g=t.ordinal&&d?this.pluralResolver.getSuffix(l,t.count,{ordinal:!1}):"",f=t[`defaultValue${p}`]||t[`defaultValue${g}`]||t.defaultValue;!this.isValidLookup(c)&&h&&(i=!0,c=f),this.isValidLookup(c)||(o=!0,c=r);let m=t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,v=m&&o?void 0:c,_=h&&f!==c&&this.options.updateMissing;if(o||i||_){if(this.logger.log(_?"updateKey":"missingKey",l,s,r,_?f:c),a){let e=this.resolve(r,{...t,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[],n=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&n&&n[0])for(let t=0;t<n.length;t++)e.push(n[t]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(t.lng||this.language):e.push(t.lng||this.language);let i=(e,n,i)=>{let a=h&&i!==c?i:v;this.options.missingKeyHandler?this.options.missingKeyHandler(e,s,n,a,_,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(e,s,n,a,_,t),this.emit("missingKey",e,s,n,c)};this.options.saveMissing&&(this.options.saveMissingPlurals&&d?e.forEach(e=>{this.pluralResolver.getSuffixes(e,t).forEach(n=>{i([e],r+n,t[`defaultValue${n}`]||f)})}):i(e,r,f))}c=this.extendTranslation(c,e,t,u,n),o&&c===r&&this.options.appendNamespaceToMissingKey&&(c=`${s}:${r}`),(o||i)&&this.options.parseMissingKeyHandler&&(c="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${s}:${r}`:r,i?c:void 0):this.options.parseMissingKeyHandler(c))}return i?(u.res=c,u):c}extendTranslation(e,t,n,i,a){var r=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){let o;n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});let s="string"==typeof e&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(s){let t=e.match(this.interpolator.nestingRegexp);o=t&&t.length}let l=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(l={...this.options.interpolation.defaultVariables,...l}),e=this.interpolator.interpolate(e,l,n.lng||this.language,n),s){let t=e.match(this.interpolator.nestingRegexp),i=t&&t.length;o<i&&(n.nest=!1)}!n.lng&&"v1"!==this.options.compatibilityAPI&&i&&i.res&&(n.lng=i.usedLng),!1!==n.nest&&(e=this.interpolator.nest(e,function(){for(var e=arguments.length,i=Array(e),o=0;o<e;o++)i[o]=arguments[o];return a&&a[0]===i[0]&&!n.context?(r.logger.warn(`It seems you are nesting recursively key: ${i[0]} in key: ${t[0]}`),null):r.translate(...i,t)},n)),n.interpolation&&this.interpolator.reset()}let o=n.postProcess||this.options.postProcess,s="string"==typeof o?[o]:o;return null!=e&&s&&s.length&&!1!==n.applyPostProcessor&&(e=eA.handle(s,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:i,...n}:n,this)),e}resolve(e){let t,n,i,a,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach(e=>{if(this.isValidLookup(t))return;let s=this.extractFromKey(e,o),l=s.key;n=l;let d=s.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));let u=void 0!==o.count&&"string"!=typeof o.count,c=u&&!o.ordinal&&0===o.count&&this.pluralResolver.shouldUseIntlApi(),h=void 0!==o.context&&("string"==typeof o.context||"number"==typeof o.context)&&""!==o.context,p=o.lngs?o.lngs:this.languageUtils.toResolveHierarchy(o.lng||this.language,o.fallbackLng);d.forEach(e=>{this.isValidLookup(t)||(r=e,!ez[`${p[0]}-${e}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(r)&&(ez[`${p[0]}-${e}`]=!0,this.logger.warn(`key "${n}" for languages "${p.join(", ")}" won't get resolved as namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach(n=>{let r;if(this.isValidLookup(t))return;a=n;let s=[l];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(s,l,n,e,o);else{let e;u&&(e=this.pluralResolver.getSuffix(n,o.count,o));let t=`${this.options.pluralSeparator}zero`,i=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(u&&(s.push(l+e),o.ordinal&&0===e.indexOf(i)&&s.push(l+e.replace(i,this.options.pluralSeparator)),c&&s.push(l+t)),h){let n=`${l}${this.options.contextSeparator}${o.context}`;s.push(n),u&&(s.push(n+e),o.ordinal&&0===e.indexOf(i)&&s.push(n+e.replace(i,this.options.pluralSeparator)),c&&s.push(n+t))}}for(;r=s.pop();)this.isValidLookup(t)||(i=r,t=this.getResource(n,e,r,o))}))})}),{res:t,usedKey:n,exactUsedKey:i,usedLng:a,usedNS:r}}isValidLookup(e){return void 0!==e&&!(!this.options.returnNull&&null===e)&&!(!this.options.returnEmptyString&&""===e)}getResource(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,i):this.resourceStore.getResource(e,t,n,i)}static hasDefaultValue(e){let t="defaultValue";for(let n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,t.length)&&void 0!==e[n])return!0;return!1}}function eT(e){return e.charAt(0).toUpperCase()+e.slice(1)}class eP{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ep.create("languageUtils")}getScriptPartFromCode(e){if(!(e=eC(e))||0>e.indexOf("-"))return null;let t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase())?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(!(e=eC(e))||0>e.indexOf("-"))return e;let t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if("string"==typeof e&&e.indexOf("-")>-1){let t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map(e=>e.toLowerCase()):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=eT(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=eT(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=eT(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){let t;return e?(e.forEach(e=>{if(t)return;let n=this.formatLanguageCode(e);(!this.options.supportedLngs||this.isSupportedCode(n))&&(t=n)}),!t&&this.options.supportedLngs&&e.forEach(e=>{if(t)return;let n=this.getLanguagePartFromCode(e);if(this.isSupportedCode(n))return t=n;t=this.options.supportedLngs.find(e=>{if(e===n||!(0>e.indexOf("-")&&0>n.indexOf("-"))&&0===e.indexOf(n))return e})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}getFallbackCodes(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];let n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}toResolveHierarchy(e,t){let n=this.getFallbackCodes(t||this.options.fallbackLng||[],e),i=[],a=e=>{e&&(this.isSupportedCode(e)?i.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return"string"==typeof e&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&a(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&a(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&a(this.getLanguagePartFromCode(e))):"string"==typeof e&&a(this.formatLanguageCode(e)),n.forEach(e=>{0>i.indexOf(e)&&a(this.formatLanguageCode(e))}),i}}let eO=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],eN={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}},ej=["v1","v2","v3"],eD=["v4"],eI={zero:0,one:1,two:2,few:3,many:4,other:5};class eR{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=ep.create("pluralResolver"),(!this.options.compatibilityJSON||eD.includes(this.options.compatibilityJSON))&&("undefined"==typeof Intl||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=function(){let e={};return eO.forEach(t=>{t.lngs.forEach(n=>{e[n]={numbers:t.nr,plurals:eN[t.fc]}})}),e}()}addRule(e,t){this.rules[e]=t}getRule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(eC(e),{type:t.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map(e=>`${t}${e}`)}getSuffixes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((e,t)=>eI[e]-eI[t]).map(e=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${e}`):n.numbers.map(n=>this.getSuffix(e,n,t)):[]}getSuffix(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this.getRule(e,n);return i?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i.select(t)}`:this.getSuffixRetroCompatible(i,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){let n=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),i=e.numbers[n];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===i?i="plural":1===i&&(i=""));let a=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return"v1"===this.options.compatibilityJSON?1===i?"":"number"==typeof i?`_plural_${i.toString()}`:a():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?a():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!ej.includes(this.options.compatibilityJSON)}}function eM(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",a=!(arguments.length>4)||void 0===arguments[4]||arguments[4],r=function(e,t,n){let i=ey(e,n);return void 0!==i?i:ey(t,n)}(e,t,n);return!r&&a&&"string"==typeof n&&void 0===(r=eS(e,n,i))&&(r=eS(t,n,i)),r}class e${constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=ep.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(e=>e),this.init(e)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});let t=e.interpolation;this.escape=void 0!==t.escape?t.escape:ew,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?eb(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?eb(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?eb(t.nestingPrefix):t.nestingPrefixEscaped||eb("$t("),this.nestingSuffix=t.nestingSuffix?eb(t.nestingSuffix):t.nestingSuffixEscaped||eb(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){let e=`${this.prefix}(.+?)${this.suffix}`;this.regexp=RegExp(e,"g");let t=`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`;this.regexpUnescape=RegExp(t,"g");let n=`${this.nestingPrefix}(.+?)${this.nestingSuffix}`;this.nestingRegexp=RegExp(n,"g")}interpolate(e,t,n,i){let a,r,o;let s=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function l(e){return e.replace(/\$/g,"$$$$")}let d=e=>{if(0>e.indexOf(this.formatSeparator)){let a=eM(t,s,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(a,void 0,n,{...i,...t,interpolationkey:e}):a}let a=e.split(this.formatSeparator),r=a.shift().trim(),o=a.join(this.formatSeparator).trim();return this.format(eM(t,s,r,this.options.keySeparator,this.options.ignoreJSONStructure),o,n,{...i,...t,interpolationkey:r})};this.resetRegExp();let u=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,c=i&&i.interpolation&&void 0!==i.interpolation.skipOnVariables?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,h=[{regex:this.regexpUnescape,safeValue:e=>l(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?l(this.escape(e)):l(e)}];return h.forEach(t=>{for(o=0;a=t.regex.exec(e);){let n=a[1].trim();if(void 0===(r=d(n))){if("function"==typeof u){let t=u(e,a,i);r="string"==typeof t?t:""}else if(i&&Object.prototype.hasOwnProperty.call(i,n))r="";else if(c){r=a[0];continue}else this.logger.warn(`missed to pass in variable ${n} for interpolating ${e}`),r=""}else"string"==typeof r||this.useRawValueToEscape||(r=em(r));let s=t.safeValue(r);if(e=e.replace(a[0],s),c?(t.regex.lastIndex+=r.length,t.regex.lastIndex-=a[0].length):t.regex.lastIndex=0,++o>=this.maxReplaces)break}}),e}nest(e,t){let n,i,a,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};function o(e,t){let n=this.nestingOptionsSeparator;if(0>e.indexOf(n))return e;let i=e.split(RegExp(`${n}[ ]*{`)),r=`{${i[1]}`;e=i[0],r=this.interpolate(r,a);let o=r.match(/'/g),s=r.match(/"/g);(o&&o.length%2==0&&!s||s.length%2!=0)&&(r=r.replace(/'/g,'"'));try{a=JSON.parse(r),t&&(a={...t,...a})}catch(t){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,t),`${e}${n}${r}`}return delete a.defaultValue,e}for(;n=this.nestingRegexp.exec(e);){let s=[];(a=(a={...r}).replace&&"string"!=typeof a.replace?a.replace:a).applyPostProcessor=!1,delete a.defaultValue;let l=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){let e=n[1].split(this.formatSeparator).map(e=>e.trim());n[1]=e.shift(),s=e,l=!0}if((i=t(o.call(this,n[1].trim(),a),a))&&n[0]===e&&"string"!=typeof i)return i;"string"!=typeof i&&(i=em(i)),i||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${e}`),i=""),l&&(i=s.reduce((e,t)=>this.format(e,t,r.lng,{...r,interpolationkey:n[1].trim()}),i.trim())),e=e.replace(n[0],i),this.regexp.lastIndex=0}return e}}function eU(e){let t={};return function(n,i,a){let r=i+JSON.stringify(a),o=t[r];return o||(o=e(eC(i),a),t[r]=o),o(n)}}class eB{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=ep.create("formatter"),this.options=e,this.formats={number:eU((e,t)=>{let n=new Intl.NumberFormat(e,{...t});return e=>n.format(e)}),currency:eU((e,t)=>{let n=new Intl.NumberFormat(e,{...t,style:"currency"});return e=>n.format(e)}),datetime:eU((e,t)=>{let n=new Intl.DateTimeFormat(e,{...t});return e=>n.format(e)}),relativetime:eU((e,t)=>{let n=new Intl.RelativeTimeFormat(e,{...t});return e=>n.format(e,t.range||"day")}),list:eU((e,t)=>{let n=new Intl.ListFormat(e,{...t});return e=>n.format(e)})},this.init(e)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=t.interpolation;this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=eU(t)}format(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=t.split(this.formatSeparator),r=a.reduce((e,t)=>{let{formatName:a,formatOptions:r}=function(e){let t=e.toLowerCase().trim(),n={};if(e.indexOf("(")>-1){let i=e.split("(");t=i[0].toLowerCase().trim();let a=i[1].substring(0,i[1].length-1);if("currency"===t&&0>a.indexOf(":"))n.currency||(n.currency=a.trim());else if("relativetime"===t&&0>a.indexOf(":"))n.range||(n.range=a.trim());else{let e=a.split(";");e.forEach(e=>{if(!e)return;let[t,...i]=e.split(":"),a=i.join(":").trim().replace(/^'+|'+$/g,"");n[t.trim()]||(n[t.trim()]=a),"false"===a&&(n[t.trim()]=!1),"true"===a&&(n[t.trim()]=!0),isNaN(a)||(n[t.trim()]=parseInt(a,10))})}}return{formatName:t,formatOptions:n}}(t);if(this.formats[a]){let t=e;try{let o=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},s=o.locale||o.lng||i.locale||i.lng||n;t=this.formats[a](e,s,{...r,...i,...o})}catch(e){this.logger.warn(e)}return t}return this.logger.warn(`there was no format function for ${a}`),e},e);return r}}class eF extends eg{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=ep.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,i.backend,i)}queueLoad(e,t,n,i){let a={},r={},o={},s={};return e.forEach(e=>{let i=!0;t.forEach(t=>{let o=`${e}|${t}`;!n.reload&&this.store.hasResourceBundle(e,t)?this.state[o]=2:this.state[o]<0||(1===this.state[o]?void 0===r[o]&&(r[o]=!0):(this.state[o]=1,i=!1,void 0===r[o]&&(r[o]=!0),void 0===a[o]&&(a[o]=!0),void 0===s[t]&&(s[t]=!0)))}),i||(o[e]=!0)}),(Object.keys(a).length||Object.keys(r).length)&&this.queue.push({pending:r,pendingCount:Object.keys(r).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(a),pending:Object.keys(r),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(s)}}loaded(e,t,n){let i=e.split("|"),a=i[0],r=i[1];t&&this.emit("failedLoading",a,r,t),n&&this.store.addResourceBundle(a,r,n),this.state[e]=t?-1:2;let o={};this.queue.forEach(n=>{(function(e,t,n,i){let{obj:a,k:r}=ev(e,t,Object);a[r]=a[r]||[],i&&(a[r]=a[r].concat(n)),i||a[r].push(n)})(n.loaded,[a],r),void 0!==n.pending[e]&&(delete n.pending[e],n.pendingCount--),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach(e=>{o[e]||(o[e]={});let t=n.loaded[e];t.length&&t.forEach(t=>{void 0===o[e][t]&&(o[e][t]=!0)})}),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(e=>!e.done)}read(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,r=arguments.length>5?arguments[5]:void 0;if(!e.length)return r(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:n,tried:i,wait:a,callback:r});return}this.readingCalls++;let o=(o,s)=>{if(this.readingCalls--,this.waitingReads.length>0){let e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}if(o&&s&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,n,i+1,2*a,r)},a);return}r(o,s)},s=this.backend[n].bind(this.backend);if(2===s.length){try{let n=s(e,t);n&&"function"==typeof n.then?n.then(e=>o(null,e)).catch(o):o(null,n)}catch(e){o(e)}return}return s(e,t,o)}prepareLoading(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);let a=this.queueLoad(e,t,n,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach(e=>{this.loadOne(e)})}load(e,t,n){this.prepareLoading(e,t,{},n)}reload(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}loadOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.split("|"),i=n[0],a=n[1];this.read(i,a,"read",void 0,void 0,(n,r)=>{n&&this.logger.warn(`${t}loading namespace ${a} for language ${i} failed`,n),!n&&r&&this.logger.log(`${t}loaded namespace ${a} for language ${i}`,r),this.loaded(e,n,r)})}saveMissing(e,t,n,i,a){let r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${n}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(null!=n&&""!==n){if(this.backend&&this.backend.create){let s={...r,isUpdate:a},l=this.backend.create.bind(this.backend);if(l.length<6)try{let a;(a=5===l.length?l(e,t,n,i,s):l(e,t,n,i))&&"function"==typeof a.then?a.then(e=>o(null,e)).catch(o):o(null,a)}catch(e){o(e)}else l(e,t,n,i,o,s)}e&&e[0]&&this.store.addResource(e[0],t,n,i)}}}function eH(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){let t={};if("object"==typeof e[1]&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){let n=e[3]||e[2];Object.keys(n).forEach(e=>{t[e]=n[e]})}return t},interpolation:{escapeValue:!0,format:(e,t,n,i)=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function eV(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&0>e.supportedLngs.indexOf("cimode")&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function eq(){}class eW extends eg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=eV(e),this.services={},this.logger=ep,this.modules={external:[]},!function(e){let t=Object.getOwnPropertyNames(Object.getPrototypeOf(e));t.forEach(t=>{"function"==typeof e[t]&&(e[t]=e[t].bind(e))})}(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;"function"==typeof t&&(n=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&("string"==typeof t.ns?t.defaultNS=t.ns:0>t.ns.indexOf("translation")&&(t.defaultNS=t.ns[0]));let i=eH();function a(e){return e?"function"==typeof e?new e:e:null}if(this.options={...i,...this.options,...eV(t)},"v1"!==this.options.compatibilityAPI&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),!this.options.isClone){let t;this.modules.logger?ep.init(a(this.modules.logger),this.options):ep.init(null,this.options),this.modules.formatter?t=this.modules.formatter:"undefined"!=typeof Intl&&(t=eB);let n=new eP(this.options);this.store=new eE(this.options.resources,this.options);let r=this.services;r.logger=ep,r.resourceStore=this.store,r.languageUtils=n,r.pluralResolver=new eR(n,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),t&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(r.formatter=a(t),r.formatter.init(r,this.options),this.options.interpolation.format=r.formatter.format.bind(r.formatter)),r.interpolator=new e$(this.options),r.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},r.backendConnector=new eF(a(this.modules.backend),r.resourceStore,r,this.options),r.backendConnector.on("*",function(t){for(var n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];e.emit(t,...i)}),this.modules.languageDetector&&(r.languageDetector=a(this.modules.languageDetector),r.languageDetector.init&&r.languageDetector.init(r,this.options.detection,this.options)),this.modules.i18nFormat&&(r.i18nFormat=a(this.modules.i18nFormat),r.i18nFormat.init&&r.i18nFormat.init(this)),this.translator=new eL(this.services,this.options),this.translator.on("*",function(t){for(var n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];e.emit(t,...i)}),this.modules.external.forEach(e=>{e.init&&e.init(this)})}if(this.format=this.options.interpolation.format,n||(n=eq),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){let e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(t=>{this[t]=function(){return e.store[t](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(t=>{this[t]=function(){return e.store[t](...arguments),e}});let r=ef(),o=()=>{let e=(e,t)=>{this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),r.resolve(t),n(e,t)};if(this.languages&&"v1"!==this.options.compatibilityAPI&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initImmediate?o():setTimeout(o,0),r}loadResources(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:eq,n=t,i="string"==typeof e?e:this.language;if("function"==typeof e&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&"cimode"===i.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return n();let e=[],t=t=>{if(!t||"cimode"===t)return;let n=this.services.languageUtils.toResolveHierarchy(t);n.forEach(t=>{"cimode"!==t&&0>e.indexOf(t)&&e.push(t)})};if(i)t(i);else{let e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.forEach(e=>t(e))}this.options.preload&&this.options.preload.forEach(e=>t(e)),this.services.backendConnector.load(e,this.options.ns,e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),n(e)})}else n(null)}reloadResources(e,t,n){let i=ef();return e||(e=this.languages),t||(t=this.options.ns),n||(n=eq),this.services.backendConnector.reload(e,t,e=>{i.resolve(),n(e)}),i}use(e){if(!e)throw Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&eA.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(let e=0;e<this.languages.length;e++){let t=this.languages[e];if(!(["cimode","dev"].indexOf(t)>-1)&&this.store.hasLanguageSomeTranslations(t)){this.resolvedLanguage=t;break}}}changeLanguage(e,t){var n=this;this.isLanguageChangingTo=e;let i=ef();this.emit("languageChanging",e);let a=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},r=(e,r)=>{r?(a(r),this.translator.changeLanguage(r),this.isLanguageChangingTo=void 0,this.emit("languageChanged",r),this.logger.log("languageChanged",r)):this.isLanguageChangingTo=void 0,i.resolve(function(){return n.t(...arguments)}),t&&t(e,function(){return n.t(...arguments)})},o=t=>{e||t||!this.services.languageDetector||(t=[]);let n="string"==typeof t?t:this.services.languageUtils.getBestMatchFromCodes(t);n&&(this.language||a(n),this.translator.language||this.translator.changeLanguage(n),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(n)),this.loadResources(n,e=>{r(e,n)})};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e):o(this.services.languageDetector.detect()),i}getFixedT(e,t,n){var i=this;let a=function(e,t){let r,o;if("object"!=typeof t){for(var s=arguments.length,l=Array(s>2?s-2:0),d=2;d<s;d++)l[d-2]=arguments[d];r=i.options.overloadTranslationOptionHandler([e,t].concat(l))}else r={...t};r.lng=r.lng||a.lng,r.lngs=r.lngs||a.lngs,r.ns=r.ns||a.ns,r.keyPrefix=r.keyPrefix||n||a.keyPrefix;let u=i.options.keySeparator||".";return o=r.keyPrefix&&Array.isArray(e)?e.map(e=>`${r.keyPrefix}${u}${e}`):r.keyPrefix?`${r.keyPrefix}${u}${e}`:e,i.t(o,r)};return"string"==typeof e?a.lng=e:a.lngs=e,a.ns=t,a.keyPrefix=n,a}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;let n=t.lng||this.resolvedLanguage||this.languages[0],i=!!this.options&&this.options.fallbackLng,a=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;let r=(e,t)=>{let n=this.services.backendConnector.state[`${e}|${t}`];return -1===n||2===n};if(t.precheck){let e=t.precheck(this,r);if(void 0!==e)return e}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||r(n,e)&&(!i||r(a,e)))}loadNamespaces(e,t){let n=ef();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach(e=>{0>this.options.ns.indexOf(e)&&this.options.ns.push(e)}),this.loadResources(e=>{n.resolve(),t&&t(e)}),n):(t&&t(),Promise.resolve())}loadLanguages(e,t){let n=ef();"string"==typeof e&&(e=[e]);let i=this.options.preload||[],a=e.filter(e=>0>i.indexOf(e));return a.length?(this.options.preload=i.concat(a),this.loadResources(e=>{n.resolve(),t&&t(e)}),n):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";let t=this.services&&this.services.languageUtils||new eP(eH());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new eW(e,t)}cloneInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:eq,n=e.forkResourceStore;n&&delete e.forkResourceStore;let i={...this.options,...e,isClone:!0},a=new eW(i);return(void 0!==e.debug||void 0!==e.prefix)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(e=>{a[e]=this[e]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},n&&(a.store=new eE(this.store.data,i),a.services.resourceStore=a.store),a.translator=new eL(a.services,i),a.translator.on("*",function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];a.emit(e,...n)}),a.init(i,t),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}let eY=eW.createInstance();eY.createInstance=eW.createInstance,eY.createInstance,eY.dir,eY.init,eY.loadResources,eY.reloadResources,eY.use,eY.changeLanguage,eY.getFixedT,eY.t,eY.exists,eY.setDefaultNamespace,eY.hasLoadedNamespace,eY.loadNamespaces,eY.loadLanguages;let eK={get:()=>eu.get()?.me,get data(){return eu.get()?.me?.data},get lang(){return eu.get()?.me?.data?.lang},get groups(){return eu.get()?.me?.groups},get id(){return eu.get()?.me?.id},get avatar(){return eu.get()?.me?.avatar},getGroupName(e){let t=eu.get().groups?.find(t=>t.id==e);return t?t.name:""},update:()=>n$.get("/api/me",!0).then(e=>{if(!e||!e?.id){eu.dispatch("update",{});return}return Promise.all(e.groups.map(e=>n$.get(`/api/groups/${e.id}`).then(e=>e))).then(t=>{e.groups=t,eu.dispatch("me/update",Object.assign({loaded:!0},e))}),eY.changeLanguage(e?.data?.lang),e}),fetch:()=>eu.get().loaded?new Promise(e=>e(eu.get())):eK.update(),reset(){eu.dispatch("@init")},logout(){ed.reset()}};var eX={};Object.defineProperty(eX,"__esModule",{value:!0,configurable:!0}),r(eX,"PureComponent",function(){return tw}),r(eX,"memo",function(){return tk}),r(eX,"forwardRef",function(){return tE}),r(eX,"Children",function(){return tz}),r(eX,"Suspense",function(){return tP}),r(eX,"lazy",function(){return tN}),r(eX,"SuspenseList",function(){return tj}),r(eX,"createPortal",function(){return tM}),r(eX,"render",function(){return tV}),r(eX,"hydrate",function(){return tq}),r(eX,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",function(){return t1}),r(eX,"version",function(){return t2}),r(eX,"createFactory",function(){return t4}),r(eX,"isValidElement",function(){return t3}),r(eX,"isFragment",function(){return t6}),r(eX,"cloneElement",function(){return t5}),r(eX,"unmountComponentAtNode",function(){return t9}),r(eX,"findDOMNode",function(){return t8}),r(eX,"unstable_batchedUpdates",function(){return t7}),r(eX,"flushSync",function(){return ne}),r(eX,"StrictMode",function(){return nt}),r(eX,"startTransition",function(){return nn}),r(eX,"useDeferredValue",function(){return ni}),r(eX,"useTransition",function(){return na}),r(eX,"useInsertionEffect",function(){return nr}),r(eX,"isElement",function(){return no}),r(eX,"useSyncExternalStore",function(){return ns}),r(eX,"default",function(){return nl}),r(eX,"Component",function(){return H}),r(eX,"Fragment",function(){return F}),r(eX,"createContext",function(){return es}),r(eX,"createElement",function(){return $}),r(eX,"createRef",function(){return B});var eG={};r(eG,"useState",function(){return tt}),r(eG,"useReducer",function(){return tn}),r(eG,"useEffect",function(){return ti}),r(eG,"useLayoutEffect",function(){return ta}),r(eG,"useRef",function(){return tr}),r(eG,"useMemo",function(){return ts}),r(eG,"useImperativeHandle",function(){return to}),r(eG,"useCallback",function(){return tl}),r(eG,"useContext",function(){return td}),r(eG,"useDebugValue",function(){return tu}),r(eG,"useErrorBoundary",function(){return tc}),r(eG,"useId",function(){return th});var eJ,eZ,eQ,e0,e1,e2=0,e4=[],e3=[],e6=E.__b,e5=E.__r,e9=E.diffed,e8=E.__c,e7=E.unmount;function te(e,t){E.__h&&E.__h(eQ,e,e2||t),e2=0;var n=eQ.__H||(eQ.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:e3}),n.__[e]}function tt(e){return e2=1,tn(t_,e)}function tn(e,t,n){var i=te(eZ++,2);if(i.t=e,!i.__c&&(i.__=[n?n(t):t_(void 0,t),function(e){var t=i.__N?i.__N[0]:i.__[0],n=i.t(t,e);t!==n&&(i.__N=[n,i.__[1]],i.__c.setState({}))}],i.__c=eQ,!eQ.u)){var a=function(e,t,n){if(!i.__c.__H)return!0;var a=i.__c.__H.__.filter(function(e){return e.__c});if(a.every(function(e){return!e.__N}))return!r||r.call(this,e,t,n);var o=!1;return a.forEach(function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(o=!0)}}),!(!o&&i.__c.props===e)&&(!r||r.call(this,e,t,n))};eQ.u=!0;var r=eQ.shouldComponentUpdate,o=eQ.componentWillUpdate;eQ.componentWillUpdate=function(e,t,n){if(this.__e){var i=r;r=void 0,a(e,t,n),r=i}o&&o.call(this,e,t,n)},eQ.shouldComponentUpdate=a}return i.__N||i.__}function ti(e,t){var n=te(eZ++,3);!E.__s&&tv(n.__H,t)&&(n.__=e,n.i=t,eQ.__H.__h.push(n))}function ta(e,t){var n=te(eZ++,4);!E.__s&&tv(n.__H,t)&&(n.__=e,n.i=t,eQ.__h.push(n))}function tr(e){return e2=5,ts(function(){return{current:e}},[])}function to(e,t,n){e2=6,ta(function(){return"function"==typeof e?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0},null==n?n:n.concat(e))}function ts(e,t){var n=te(eZ++,7);return tv(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function tl(e,t){return e2=8,ts(function(){return e},t)}function td(e){var t=eQ.context[e.__c],n=te(eZ++,9);return n.c=e,t?(null==n.__&&(n.__=!0,t.sub(eQ)),t.props.value):e.__}function tu(e,t){E.useDebugValue&&E.useDebugValue(t?t(e):e)}function tc(e){var t=te(eZ++,10),n=tt();return t.__=e,eQ.componentDidCatch||(eQ.componentDidCatch=function(e,i){t.__&&t.__(e,i),n[1](e)}),[n[0],function(){n[1](void 0)}]}function th(){var e=te(eZ++,11);if(!e.__){for(var t=eQ.__v;null!==t&&!t.__m&&null!==t.__;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function tp(){for(var e;e=e4.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(tf),e.__H.__h.forEach(tm),e.__H.__h=[]}catch(t){e.__H.__h=[],E.__e(t,e.__v)}}E.__b=function(e){eQ=null,e6&&e6(e)},E.__r=function(e){e5&&e5(e),eZ=0;var t=(eQ=e.__c).__H;t&&(e0===eQ?(t.__h=[],eQ.__h=[],t.__.forEach(function(e){e.__N&&(e.__=e.__N),e.__V=e3,e.__N=e.i=void 0})):(t.__h.forEach(tf),t.__h.forEach(tm),t.__h=[],eZ=0)),e0=eQ},E.diffed=function(e){e9&&e9(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==e4.push(t)&&e1===E.requestAnimationFrame||((e1=E.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(i),tg&&cancelAnimationFrame(t),setTimeout(e)},i=setTimeout(n,100);tg&&(t=requestAnimationFrame(n))})(tp)),t.__H.__.forEach(function(e){e.i&&(e.__H=e.i),e.__V!==e3&&(e.__=e.__V),e.i=void 0,e.__V=e3})),e0=eQ=null},E.__c=function(e,t){t.some(function(e){try{e.__h.forEach(tf),e.__h=e.__h.filter(function(e){return!e.__||tm(e)})}catch(n){t.some(function(e){e.__h&&(e.__h=[])}),t=[],E.__e(n,e.__v)}}),e8&&e8(e,t)},E.unmount=function(e){e7&&e7(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(e){try{tf(e)}catch(e){t=e}}),n.__H=void 0,t&&E.__e(t,n.__v))};var tg="function"==typeof requestAnimationFrame;function tf(e){var t=eQ,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),eQ=t}function tm(e){var t=eQ;e.__c=e.__(),eQ=t}function tv(e,t){return!e||e.length!==t.length||t.some(function(t,n){return t!==e[n]})}function t_(e,t){return"function"==typeof t?t(e):t}function ty(e,t){for(var n in t)e[n]=t[n];return e}function tb(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var i in t)if("__source"!==i&&e[i]!==t[i])return!0;return!1}function tx(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}function tw(e){this.props=e}function tk(e,t){function n(e){var n=this.props.ref,i=n==e.ref;return!i&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!i:tb(this.props,e)}function i(t){return this.shouldComponentUpdate=n,$(e,t)}return i.displayName="Memo("+(e.displayName||e.name)+")",i.prototype.isReactComponent=!0,i.__f=!0,i}(tw.prototype=new H).isPureReactComponent=!0,tw.prototype.shouldComponentUpdate=function(e,t){return tb(this.props,e)||tb(this.state,t)};var tS=E.__b;E.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),tS&&tS(e)};var tC="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function tE(e){function t(t){var n=ty({},t);return delete n.ref,e(n,t.ref||null)}return t.$$typeof=tC,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var tA=function(e,t){return null==e?null:K(K(e).map(t))},tz={map:tA,forEach:tA,count:function(e){return e?K(e).length:0},only:function(e){var t=K(e);if(1!==t.length)throw"Children.only";return t[0]},toArray:K},tL=E.__e;E.__e=function(e,t,n,i){if(e.then){for(var a,r=t;r=r.__;)if((a=r.__c)&&a.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),a.__c(e,t)}tL(e,t,n,i)};var tT=E.unmount;function tP(){this.__u=0,this.t=null,this.__b=null}function tO(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function tN(e){var t,n,i;function a(a){if(t||(t=e()).then(function(e){n=e.default||e},function(e){i=e}),i)throw i;if(!n)throw t;return $(n,a)}return a.displayName="Lazy",a.__f=!0,a}function tj(){this.u=null,this.o=null}E.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),tT&&tT(e)},(tP.prototype=new H).__c=function(e,t){var n=t.__c,i=this;null==i.t&&(i.t=[]),i.t.push(n);var a=tO(i.__v),r=!1,o=function(){r||(r=!0,n.__R=null,a?a(s):s())};n.__R=o;var s=function(){if(!--i.__u){if(i.state.__a){var e,t=i.state.__a;i.__v.__k[0]=function e(t,n,i){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(t){return e(t,n,i)}),t.__c&&t.__c.__P===n&&(t.__e&&i.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=i)),t}(t,t.__c.__P,t.__c.__O)}for(i.setState({__a:i.__b=null});e=i.t.pop();)e.forceUpdate()}},l=!0===t.__h;i.__u++||l||i.setState({__a:i.__b=i.__v.__k[0]}),e.then(o,o)},tP.prototype.componentWillUnmount=function(){this.t=[]},tP.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=function e(t,n,i){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(e){"function"==typeof e.__c&&e.__c()}),t.__c.__H=null),null!=(t=ty({},t)).__c&&(t.__c.__P===i&&(t.__c.__P=n),t.__c=null),t.__k=t.__k&&t.__k.map(function(t){return e(t,n,i)})),t}(this.__b,n,i.__O=i.__P)}this.__b=null}var a=t.__a&&$(F,null,e.fallback);return a&&(a.__h=null),[$(F,null,t.__a?null:e.children),a]};var tD=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function tI(e){return this.getChildContext=function(){return e.context},e.children}function tR(e){var t=this,n=e.i;t.componentWillUnmount=function(){er(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(e){this.childNodes.push(e),t.i.appendChild(e)},insertBefore:function(e,n){this.childNodes.push(e),t.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e)}}),er($(tI,{context:t.context},e.__v),t.l)}function tM(e,t){var n=$(tR,{__v:e,i:t});return n.containerInfo=t,n}(tj.prototype=new H).__a=function(e){var t=this,n=tO(t.__v),i=t.o.get(e);return i[0]++,function(a){var r=function(){t.props.revealOrder?(i.push(a),tD(t,e,i)):a()};n?n(r):r()}},tj.prototype.render=function(e){this.u=null,this.o=new Map;var t=K(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},tj.prototype.componentDidUpdate=tj.prototype.componentDidMount=function(){var e=this;this.o.forEach(function(t,n){tD(e,n,t)})};var t$="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,tU=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,tB=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,tF=/[A-Z0-9]/g,tH="undefined"!=typeof document;function tV(e,t,n){return null==t.__k&&(t.textContent=""),er(e,t),"function"==typeof n&&n(),e?e.__c:null}function tq(e,t,n){return function e(t,n){er(t,n,e)}(e,t),"function"==typeof n&&n(),e?e.__c:null}H.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(H.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var tW=E.event;function tY(){}function tK(){return this.cancelBubble}function tX(){return this.defaultPrevented}E.event=function(e){return tW&&(e=tW(e)),e.persist=tY,e.isPropagationStopped=tK,e.isDefaultPrevented=tX,e.nativeEvent=e};var tG,tJ={enumerable:!1,configurable:!0,get:function(){return this.class}},tZ=E.vnode;E.vnode=function(e){"string"==typeof e.type&&function(e){var t=e.props,n=e.type,i={};for(var a in t){var r=t[a];if(!("value"===a&&"defaultValue"in t&&null==r||tH&&"children"===a&&"noscript"===n||"class"===a||"className"===a)){var o,s=a.toLowerCase();"defaultValue"===a&&"value"in t&&null==t.value?a="value":"download"===a&&!0===r?r="":"ondoubleclick"===s?a="ondblclick":"onchange"!==s||"input"!==n&&"textarea"!==n||(o=t.type,("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(o))?"onfocus"===s?a="onfocusin":"onblur"===s?a="onfocusout":tB.test(a)?a=s:-1===n.indexOf("-")&&tU.test(a)?a=a.replace(tF,"-$&").toLowerCase():null===r&&(r=void 0):s=a="oninput","oninput"===s&&i[a=s]&&(a="oninputCapture"),i[a]=r}}"select"==n&&i.multiple&&Array.isArray(i.value)&&(i.value=K(t.children).forEach(function(e){e.props.selected=-1!=i.value.indexOf(e.props.value)})),"select"==n&&null!=i.defaultValue&&(i.value=K(t.children).forEach(function(e){e.props.selected=i.multiple?-1!=i.defaultValue.indexOf(e.props.value):i.defaultValue==e.props.value})),t.class&&!t.className?(i.class=t.class,Object.defineProperty(i,"className",tJ)):(t.className&&!t.class||t.class&&t.className)&&(i.class=i.className=t.className),e.props=i}(e),e.$$typeof=t$,tZ&&tZ(e)};var tQ=E.__r;E.__r=function(e){tQ&&tQ(e),tG=e.__c};var t0=E.diffed;E.diffed=function(e){t0&&t0(e);var t=e.props,n=e.__e;null!=n&&"textarea"===e.type&&"value"in t&&t.value!==n.value&&(n.value=null==t.value?"":t.value),tG=null};var t1={ReactCurrentDispatcher:{current:{readContext:function(e){return tG.__n[e.__c].props.value}}}},t2="17.0.2";function t4(e){return $.bind(null,e)}function t3(e){return!!e&&e.$$typeof===t$}function t6(e){return t3(e)&&e.type===F}function t5(e){return t3(e)?eo.apply(null,arguments):e}function t9(e){return!!e.__k&&(er(null,e),!0)}function t8(e){return e&&(e.base||1===e.nodeType&&e)||null}var t7=function(e,t){return e(t)},ne=function(e,t){return e(t)},nt=F;function nn(e){e()}function ni(e){return e}function na(){return[!1,nn]}var nr=ta,no=t3;function ns(e,t){var n=t(),i=tt({h:{__:n,v:t}}),a=i[0].h,r=i[1];return ta(function(){a.__=n,a.v=t,tx(a.__,t())||r({h:a})},[e,n,t]),ti(function(){return tx(a.__,a.v())||r({h:a}),e(function(){tx(a.__,a.v())||r({h:a})})},[e]),n}var nl={useState:tt,useId:th,useReducer:tn,useEffect:ti,useLayoutEffect:ta,useInsertionEffect:nr,useTransition:na,useDeferredValue:ni,useSyncExternalStore:ns,startTransition:nn,useRef:tr,useImperativeHandle:to,useMemo:ts,useCallback:tl,useContext:td,useDebugValue:tu,version:"17.0.2",Children:tz,render:tV,hydrate:tq,unmountComponentAtNode:t9,createPortal:tM,createElement:$,createContext:es,createFactory:t4,cloneElement:t5,createRef:B,Fragment:F,isValidElement:t3,isElement:no,isFragment:t6,findDOMNode:t8,Component:H,PureComponent:tw,memo:tk,forwardRef:tE,flushSync:ne,unstable_batchedUpdates:t7,StrictMode:nt,Suspense:tP,SuspenseList:tj,lazy:tN,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:t1};Object.keys(eG).forEach(function(e){"default"===e||"__esModule"===e||eX.hasOwnProperty(e)||Object.defineProperty(eX,e,{enumerable:!0,get:function(){return eG[e]}})});var nd={};function nu(){return(nd=nu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).__esModule=!0,nd.default=nd,nu.apply(this,arguments)}(nd=nu).__esModule=!0,nd.default=nd,Object.create(null);let nc={};function nh(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"==typeof t[0]&&nc[t[0]]||("string"==typeof t[0]&&(nc[t[0]]=new Date),function(){if(console&&console.warn){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"==typeof t[0]&&(t[0]=`react-i18next:: ${t[0]}`),console.warn(...t)}}(...t))}let np=(e,t)=>()=>{if(e.isInitialized)t();else{let n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}};function ng(e,t,n){e.loadNamespaces(t,np(e,n))}function nf(e,t,n,i){"string"==typeof n&&(n=[n]),n.forEach(t=>{0>e.options.ns.indexOf(t)&&e.options.ns.push(t)}),e.loadLanguages(t,np(e,i))}let nm=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,nv={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"\xa9","&#169;":"\xa9","&reg;":"\xae","&#174;":"\xae","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},n_=e=>nv[e],ny={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e=>e.replace(nm,n_)},nb=es();class nx{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}let nw=(e,t)=>{let n=tr();return ti(()=>{n.current=t?n.current:e},[e,t]),n.current};function nk(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{i18n:i}=n,{i18n:a,defaultNS:r}=td(nb)||{},o=i||a||e;if(o&&!o.reportNamespaces&&(o.reportNamespaces=new nx),!o){nh("You will need to pass in an i18next instance by using initReactI18next");let e=(e,t)=>"string"==typeof t?t:t&&"object"==typeof t&&"string"==typeof t.defaultValue?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,t=[e,{},!1];return t.t=e,t.i18n={},t.ready=!1,t}o.options.react&&void 0!==o.options.react.wait&&nh("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");let s={...ny,...o.options.react,...n},{useSuspense:l,keyPrefix:d}=s,u=t||r||o.options&&o.options.defaultNS;u="string"==typeof u?[u]:u||["translation"],o.reportNamespaces.addUsedNamespaces&&o.reportNamespaces.addUsedNamespaces(u);let c=(o.isInitialized||o.initializedStoreOnce)&&u.every(e=>(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.languages||!t.languages.length)return nh("i18n.languages were undefined or empty",t.languages),!0;let i=void 0!==t.options.ignoreJSONStructure;return i?t.hasLoadedNamespace(e,{lng:n.lng,precheck:(t,i)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!i(t.isLanguageChangingTo,e))return!1}}):function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=t.languages[0],a=!!t.options&&t.options.fallbackLng,r=t.languages[t.languages.length-1];if("cimode"===i.toLowerCase())return!0;let o=(e,n)=>{let i=t.services.backendConnector.state[`${e}|${n}`];return -1===i||2===i};return(!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1)||!t.services.backendConnector.backend||!t.isLanguageChangingTo||!!o(t.isLanguageChangingTo,e))&&!!(t.hasResourceBundle(i,e)||!t.services.backendConnector.backend||t.options.resources&&!t.options.partialBundledLanguages||o(i,e)&&(!a||o(r,e)))}(e,t,n)})(e,o,s));function h(){return o.getFixedT(n.lng||null,"fallback"===s.nsMode?u:u[0],d)}let[p,g]=tt(h),f=u.join();n.lng&&(f=`${n.lng}${f}`);let m=nw(f),v=tr(!0);ti(()=>{let{bindI18n:e,bindI18nStore:t}=s;function i(){v.current&&g(h)}return v.current=!0,c||l||(n.lng?nf(o,n.lng,u,()=>{v.current&&g(h)}):ng(o,u,()=>{v.current&&g(h)})),c&&m&&m!==f&&v.current&&g(h),e&&o&&o.on(e,i),t&&o&&o.store.on(t,i),()=>{v.current=!1,e&&o&&e.split(" ").forEach(e=>o.off(e,i)),t&&o&&t.split(" ").forEach(e=>o.store.off(e,i))}},[o,f]);let _=tr(!0);ti(()=>{v.current&&!_.current&&g(h),_.current=!1},[o,d]);let y=[p,o,c];if(y.t=p,y.i18n=o,y.ready=c,c||!c&&!l)return y;throw new Promise(e=>{n.lng?nf(o,n.lng,u,()=>e()):ng(o,u,()=>e())})}function nS(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){function i(i){let{forwardedRef:a,...r}=i,[o,s,l]=nk(e,{...r,keyPrefix:t.keyPrefix}),d={...r,t:o,i18n:s,tReady:l};return t.withRef&&a?d.ref=a:!t.withRef&&a&&(d.forwardedRef=a),$(n,d)}return i.displayName=`withI18nextTranslation(${n.displayName||n.name||("string"==typeof n&&n.length>0?n:"Unknown")})`,i.WrappedComponent=n,t.withRef?tE((e,t)=>$(i,Object.assign({},e,{forwardedRef:t}))):i}}var nC={};nC=JSON.parse('{"hourly":"Hodinov\xe1","next_coms":"Shl\xe9dnout dal\xed koment\xe1e","ago":"ped {{duration}}","login_placeholder":"e-mail","password_placeholder":"heslo","new_password_placeholder":"nov\xe9 heslo","confirm_password_placeholder":"potvrdit heslo","connect":"Pipojen\xed","submit":"Odeslat","title_placeholder":"Nadpis zpr\xe1vy (voliteln)","text_placeholder":"Zde napite svou zpr\xe1vu","upload_pdf":"Nahr\xe1t pdf","upload_image":"Nahr\xe1t fotky","upload_video":"Nahr\xe1t video","upload_music":"Nahr\xe1t hudbu","add_date":"Zadat datum","logout":"Odhl\xe1sit","settings":"Nastaven\xed","name":"Jm\xe9no","name_input":"Vybrat jm\xe9no","login":"Login","login_input":"Vybrat login","email":"E-mail","email_input":"Vyplte sem svj e-mail","save_changes":"Uloit zmny","password":"Heslo","password_input":"Vyplte sem nov\xe9 heslo","Invalid login/password":"Neplatn\xfd login a/nebo heslo","edit":"Upravit","delete":"Smazat","ask_delete_message":"Opravdu chcete smazat tuto zpr\xe1vu?","account":"\xdaet","forgot_password":"Zapomli jste sv\xe9 heslo?","password_reset_mail_sent":"E-mail pro obnovu hesla byl odesl\xe1n!","User not found":"Uivatel nenalezen","reset_password_title":"Resetovat heslo","error":"Dolo k chyb","passwords_dont_match":"Hesla se neshoduj\xed","invitation_link":"Odkaz s pozv\xe1nkou","reset_invitation_link":"Resetovat odkaz s pozv\xe1nkou","invitation_welcome":"V\xedtejte na Zusam! Ped vstupem do skupiny se pihlate.","signup":"Zaloit \xfaet","create_a_group":"Vytvoit skupinu","create_the_group":"Vytvoit tuto skupinu","quit_group":"Opustit skupinu","settings_updated":"Nastaven\xed byla aktualizov\xe1na","group_updated":"Skupina byla aktualizov\xe1na!","group_left":"Opustili jste tuto skupinu!","multiple_photos_upload":"Dolo k chyb. Zkuste nahr\xe1t obr\xe1zky jeden po druh\xe9m (toto se obas v nkter\xfdch prohl\xede\xedch stane).","error_new_message":"Dolo k chyb bhem odes\xedl\xe1n\xed zpr\xe1vy.","error_upload":"Dolo k chyb bhem nahr\xe1v\xe1n\xed","cancel_write":"Opravdu chcete ukonit psan\xed nov\xe9 zpr\xe1vy?","empty_message":"Pr\xe1zdnou zpr\xe1vu nelze odeslat!","cancel":"Zruit","just_now":"Pr\xe1v te","notification_emails":"E-mailov\xe1 upozornn\xed","monthly":"Ms\xedn\xed","notification_emails_stopped":"E-mailov\xe1 upozornn\xed zastavena!","group_share_choice":"Do kter\xe9 skupiny chcete poslat tuto zpr\xe1vu?","public_link":"veejn\xfd odkaz","default_group":"V\xfdchoz\xed skupina","destroy_account":"Smazat \xfaet","destroy_account_explain":"Smaz\xe1n\xed \xfatu nelze vr\xe1tit zpt. Bute si opravdu jisti.","are_you_sure":"Jste si opravdu jisti?","share_message":"sd\xedlet zpr\xe1vu","previous_coms":"Shl\xe9dnout pedchoz\xed koment\xe1e","users":"uivatel\xe9","has_posted_in":"zveejnili v","has_commented_on":"komentovali v","has_joined":"vstoupili","has_left":"opustili","the_message_from":"zpr\xe1vu od","in":"v","lang":"jazyk","reply":"odpov","replies_one":"{{count}} odpov","replies_other":"{{count}} odpovd\xed","publish_in_group":"zveejnit ve skupin","search_in_group":"hledat ve skupin","changed_group_name":"zmnili jm\xe9no skupiny","to":"na","notifications":"upozornn\xed","mark_all_as_read":"oznait ve jako peten\xe9","search_without_result":"Hled\xe1n\xed nevr\xe1tilo adn\xe9 odpov\xeddaj\xedc\xed zpr\xe1vy.","add_bookmark":"Pidat zpr\xe1vu do z\xe1loek","remove_bookmark":"Smazat zpr\xe1vu ze z\xe1loek","bookmarks":"z\xe1loky","api_key":"API kl\xed","reset_api_key":"Resetovat API kl\xed (budete odpojeni)","video_not_ready":"Video jet nen\xed pipraveno.","bookmark_added":"Zpr\xe1va pid\xe1na do z\xe1loek!","bookmark_removed":"Zpr\xe1va odstranna ze z\xe1loek!","parent_message":"Nadazen\xe1 zpr\xe1va","groups":"Skupiny","none":"\xe1dn\xe1","daily":"Denn\xed","weekly":"T\xfddenn\xed"}');var nE={};nE=JSON.parse('{"edit":"Bearbeiten","add_date":"Ein Datum hinzuf\xfcgen","save_changes":"\xc4nderungen speichern","password_input":"Gib hier ein neues Passwort ein","next_coms":"N\xe4chste Kommentare ansehen","previous_coms":"Vorherige Kommentare ansehen","ago":"Vor {{duration}}","submit":"Senden","groups":"Gruppen","password_placeholder":"Passwort","title_placeholder":"Titel deiner Nachricht (optional)","text_placeholder":"Schreibe deine Nachricht hier","upload_video":"Video hinzuf\xfcgen","login_placeholder":"E-Mail","new_password_placeholder":"Neues Passwort","upload_music":"Musik hinzuf\xfcgen","upload_pdf":"PDF hinzuf\xfcgen","confirm_password_placeholder":"Passwort best\xe4tigen","delete":"L\xf6schen","upload_image":"Fotos hinzuf\xfcgen","logout":"Abmelden","name":"Name","connect":"Anmelden","name_input":"W\xe4hle einen Namen","settings":"Einstellungen","login_input":"W\xe4hle einen Benutzername","email":"E-Mail","login":"Benutzername","email_input":"Gib hier deine E-Mail-Adresse ein","password":"Passwort","Invalid login/password":"Ung\xfcltiges Benutzername oder Passwort","forgot_password":"Hast du dein Passwort vergessen?","ask_delete_message":"Bist du sicher, dass du diese Nachricht l\xf6schen willst?","account":"Konto","password_reset_mail_sent":"Die E-Mail zum Zur\xfccksetzen des Passworts wurde gesendet!","create_a_group":"Eine Gruppe erstellen","users":"Benutzer","to":"zu","remove_bookmark":"Nachricht aus den Lesezeichnen entfernen","bookmarks":"Lesezeichen","multiple_photos_upload":"Ein Fehler ist aufgetreten. Versuche, die Bilder nacheinander hochzuladen (dies kann bei einigen Browsern vorkommen).","passwords_dont_match":"Passw\xf6rter stimmen nicht \xfcberein","User not found":"Benutzer nicht gefunden","reset_password_title":"Dein Passwort zur\xfccksetzen","error":"Ein Fehler ist aufgetreten","invitation_link":"Einladungslink","reset_invitation_link":"Einladungslink zur\xfccksetzen","invitation_welcome":"Willkommen bei Zusam! Bitte melde dich an, bevor du der Gruppe beitrittst.","notification_emails_stopped":"E-Mail-Benachrichtigungen gestoppt!","the_message_from":"die Nachricht von","signup":"Registrieren","group_updated":"Die Gruppe wurde aktualisiert!","group_left":"Du hast die Gruppe verlassen!","create_the_group":"Die Gruppe erstellen","quit_group":"Die Gruppe verlassen","settings_updated":"Deine Einstellungen wurden aktualisiert","monthly":"Monatlich","error_new_message":"Beim Senden deiner Nachricht ist ein Fehler aufgetreten.","just_now":"Gerade jetzt","none":"Keine","weekly":"W\xf6chentlich","are_you_sure":"Bist du sicher?","error_upload":"Beim Hochladen ist ein Fehler aufgetreten","cancel_write":"Willst du das Schreiben einer neuen Nachricht wirklich abbrechen?","empty_message":"Die Nachricht ist leer und kann nicht gesendet werden!","cancel":"Abbrechen","notification_emails":"E-Mail-Benachrichtigungen","hourly":"St\xfcndlich","daily":"T\xe4glich","group_share_choice":"An welche Gruppe m\xf6chtest du diese Nachricht senden?","destroy_account":"Dein Konto l\xf6schen","has_left":"hat verlassen","publish_in_group":"in der Gruppe ver\xf6ffentlichen","public_link":"\xf6ffentlicher Link","default_group":"Standard-Gruppe","has_posted_in":"hat ver\xf6ffentlicht in","has_joined":"ist beigetreten","lang":"Sprache","reply":"antworten","destroy_account_explain":"Wenn du dein Konto einmal gel\xf6scht hast, gibt es keinen Weg zur\xfcck. Bitte sei sicher.","share_message":"die Nachricht teilen","search_in_group":"in dieser Gruppe suchen","mark_all_as_read":"alle als gelesen markieren","has_commented_on":"hat kommentiert","in":"in","replies_one":"{{count}} Antwort","replies_other":"{{count}} Antworten","changed_group_name":"hat den Gruppenamen ge\xe4ndert","notifications":"Benachrichtigungen","reset_api_key":"Setze den API-Schl\xfcssel zur\xfcck (die Verbindung wird unterbrochen)","video_not_ready":"Das Video ist noch nicht fertig.","bookmark_added":"Nachricht zu den Lesezeichen hinzugef\xfcgt!","search_without_result":"Deine Suche hat zu keiner Nachricht gef\xfchrt.","add_bookmark":"Nachricht zu den Lesezeichnen hinzuf\xfcgen","api_key":"API-Schl\xfcssel","bookmark_removed":"Nachricht aus den Lesezeichen entfernt!","parent_message":"Quellenachricht","audio_not_ready":"Audio ist noch nicht fertig.","upload_audio":"Audio hinzuf\xfcgen."}');var nA={};nA=JSON.parse('{"previous_coms":"See previous comments","next_coms":"See next comments","ago":"{{duration}} ago","groups":"Groups","login_placeholder":"email","password_placeholder":"password","new_password_placeholder":"new password","confirm_password_placeholder":"confirm password","connect":"Connection","submit":"Submit","title_placeholder":"Title of your message (optional)","text_placeholder":"Write your message here","upload_image":"Add photos","upload_video":"Add a video","upload_music":"Add musics","upload_pdf":"Add pdf","add_date":"Add a date","logout":"Logout","settings":"Settings","name":"Name","name_input":"Choose a name","login":"Login","login_input":"Choose a login","email":"Email","email_input":"Fill in your email here","save_changes":"Save changes","password":"Password","password_input":"Write a new password here","Invalid login/password":"Invalid login and/or password","edit":"Edit","delete":"Delete","ask_delete_message":"Are you sure to delete this message?","account":"Account","forgot_password":"Did you forget your password?","password_reset_mail_sent":"The password reset email was sent !","User not found":"User not found","reset_password_title":"Reset your password","error":"An error occurred","passwords_dont_match":"Passwords don\'t match","invitation_link":"Invitation link","reset_invitation_link":"Reset invitation link","invitation_welcome":"Welcome on Zusam ! Please sign up before joining the group.","signup":"Sign up","create_a_group":"Create a group","create_the_group":"Create the group","quit_group":"Leave the group","settings_updated":"Your settings were updated","group_updated":"The group was updated !","group_left":"You left the group !","multiple_photos_upload":"An error occurred. Try uploading images one by one (this can happen in some browsers).","error_new_message":"An error occurred while sending your message.","error_upload":"An error occurred during the upload","cancel_write":"Do you really want to cancel writing a new message?","empty_message":"The message is empty and cannot be sent !","cancel":"Cancel","just_now":"Just now","notification_emails":"Email notifications","none":"None","hourly":"Hourly","daily":"Daily","weekly":"Weekly","monthly":"Monthly","notification_emails_stopped":"Email notifications stopped !","group_share_choice":"To which group do you want to send this message?","public_link":"public link","default_group":"Default group","destroy_account":"Delete your account","destroy_account_explain":"Once you delete your account, there is no going back. Please be certain.","are_you_sure":"Are you sure?","share_message":"share the message","users":"users","has_posted_in":"has posted in","has_commented_on":"has commented on","has_joined":"has joined","has_left":"has left","the_message_from":"the message from","in":"in","lang":"language","reply":"reply","replies_one":"{{count}} reply","replies_other":"{{count}} replies","publish_in_group":"publish in the group","search_in_group":"search in this group","changed_group_name":"changed the group\'s name","to":"to","notifications":"notifications","mark_all_as_read":"mark all as read","search_without_result":"Your search did not match any message.","add_bookmark":"Bookmark message","remove_bookmark":"Unbookmark message","bookmarks":"bookmarks","api_key":"API key","reset_api_key":"Reset the API key (you will be disconnected)","video_not_ready":"Video is not ready yet.","bookmark_added":"Message added to bookmarks !","bookmark_removed":"Message removed from bookmarks !","parent_message":"Parent message","audio_not_ready":"Audio is not ready yet.","upload_audio":"Add an audio file."}');var nz={};nz=JSON.parse('{"previous_coms":"Ver los comentarios anteriores","next_coms":"Ver los siguientes comentarios","ago":"Hace {{duration}}","groups":"Grupos","login_placeholder":"correo","password_placeholder":"contrase\xf1a","new_password_placeholder":"nueva contrase\xf1a","confirm_password_placeholder":"confirmar contrase\xf1a","connect":"Conectarse","submit":"Enviar","title_placeholder":"Asunto (opcional)","text_placeholder":"Escribe tu mensaje aqu\xed","upload_image":"A\xf1adir fotos","upload_video":"A\xf1adir video","upload_music":"A\xf1adir m\xfasica","upload_pdf":"A\xf1adir pdf","add_date":"A\xf1adir una fecha","logout":"Desconectarse","settings":"Par\xe1metros","name":"Nombre","name_input":"Elige un nombre","login":"Usuario","login_input":"Elige un usuario","email":"Correo","email_input":"Indicar correo electr\xf3nico","save_changes":"Guardar los cambios","password":"Contrase\xf1a","password_input":"Indicar una nueva contrase\xf1a","Invalid login/password":"Usuario o contrase\xf1a incorrecto","edit":"Editar","delete":"Borrar","ask_delete_message":"\xbfQuieres borrar este mensaje?","account":"Cuenta","forgot_password":"\xbfOlvidaste tu contrase\xf1a?","password_reset_mail_sent":"El correo ha sido enviado!","User not found":"El usuario no existe","reset_password_title":"Cambia tu contrase\xf1a","error":"Se ha producido un error","passwords_dont_match":"Las contrase\xf1as no coinciden","invitation_link":"Enlace de invitaci\xf3n","reset_invitation_link":"Cambiar el enlace de invitaci\xf3n","invitation_welcome":"Bienvenido a Zusam ! Inscribete para conectarte con un grupo.","signup":"Inscribirse","create_a_group":"Crear un grupo","create_the_group":"Crear el grupo","quit_group":"Dejar el grupo","settings_updated":"Sus ajustes fueron actualizados","group_updated":"El grupo ha sido actualizado!","group_left":"\xa1Has dejado el grupo!","multiple_photos_upload":"Se ha producido un error. Intenta subir las im\xe1genes una a una (esto puede ocurrir en algunos navegadores).","error_new_message":"Se ha producido un error al enviar su mensaje.","error_upload":"Se ha producido un error durante la carga","cancel_write":"\xbfQuieres cancelar este nuevo mensaje?","empty_message":"No hay mensaje!","cancel":"Cancelar","just_now":"Ahora","notification_emails":"Correo de notificaci\xf3n","none":"Ninguno","hourly":"Cada hora","daily":"Diario","weekly":"Semanal","monthly":"Mensual","notification_emails_stopped":"Notificaciones de correo electr\xf3nico detenidas!","group_share_choice":"\xbfA qu\xe9 grupo desea enviar este mensaje?","public_link":"enlace p\xfablico","default_group":"Grupo predeterminado","destroy_account":"Borrar la cuenta","destroy_account_explain":"Una vez que elimines tu cuenta, no hay vuelta atr\xe1s.","are_you_sure":"Est\xe1s seguro ?","share_message":"comparte el mensaje","users":"usuarios","has_posted_in":"ha publicado en","has_commented_on":"ha comentado","has_joined":"se has unido","has_left":"ha dejado","the_message_from":"el mensaje de","in":"en","lang":"idioma","reply":"responder","replies_one":"{{count}} respuesta","replies_other":"{{count}} respuestas","publish_in_group":"publicar en el grupo","search_in_group":"buscar en este grupo","changed_group_name":"cambi\xf3 el nombre del grupo","to":"a","notifications":"notificaciones","mark_all_as_read":"marcar todo como leido","search_without_result":"Su b\xfasqueda no coincide con ning\xfan mensaje.","add_bookmark":"Marcar este mensaje","remove_bookmark":"Desmarcar este mensaje","bookmarks":"marcadores","api_key":"Clave API","reset_api_key":"Restablecer la clave API (se desconectar\xe1)","video_not_ready":"El v\xeddeo a\xfan no est\xe1 listo.","bookmark_added":"Mensaje agregado a marcadores !","bookmark_removed":"Mensaje eliminado de los marcadores !","parent_message":"Mensaje para padres","audio_not_ready":"El audio a\xfan no est\xe1 listo.","upload_audio":"A\xf1adir un archivo de audio."}');var nL={};nL=JSON.parse('{"previous_coms":"Voir les commentaires pr\xe9c\xe9dents","next_coms":"Voir les commentaires suivants","ago":"Il y a {{duration}}","groups":"Groupes","login_placeholder":"courriel","password_placeholder":"mot de passe","new_password_placeholder":"nouveau mot de passe","confirm_password_placeholder":"confirmez le mot de passe","connect":"Connexion","submit":"Envoyer","title_placeholder":"Titre de votre message (optionnel)","text_placeholder":"\xc9crivez votre message ici","upload_image":"Ajouter des photos","upload_video":"Ajouter une vid\xe9o","upload_music":"Ajouter des musiques","upload_pdf":"Ajouter un pdf","add_date":"Pr\xe9ciser une date","logout":"Se d\xe9connecter","settings":"Param\xe8tres","name":"Nom","name_input":"Choisissez un nom","login":"Identifiant","login_input":"Choisissez un identifiant","email":"Courriel","email_input":"Saisissez votre adresse \xe9lectronique ici","save_changes":"Sauvegarder les changements","password":"Mot de passe","password_input":"Entrez un nouveau mot de passe","Invalid login/password":"Identifiant et/ou mot de passe invalide","edit":"Modifier","delete":"Supprimer","ask_delete_message":"\xcates-vous s\xfbr de vouloir supprimer ce message ?","account":"Compte","forgot_password":"Mot de passe oubli\xe9 ?","password_reset_mail_sent":"Le courriel de r\xe9initialisation a bien \xe9t\xe9 envoy\xe9\xa0!","User not found":"Utilisateur inexistant","reset_password_title":"R\xe9initialisation de votre mot de passe","error":"Une erreur s\'est produite","passwords_dont_match":"Les mots de passe ne correspondent pas","invitation_link":"Lien d\'invitation","reset_invitation_link":"R\xe9initialiser le lien d\'invitation","invitation_welcome":"Bienvenue sur Zusam ! Veuillez vous inscrire avant de rejoindre le groupe.","signup":"S\'inscrire","create_a_group":"Cr\xe9er un groupe","create_the_group":"Cr\xe9er le groupe","quit_group":"Quitter le groupe","settings_updated":"Vos param\xe8tres ont \xe9t\xe9 mis \xe0 jour","group_updated":"Le groupe a \xe9t\xe9 mis \xe0 jour !","group_left":"Vous avez quitt\xe9 le groupe !","multiple_photos_upload":"Une erreur s\'est produite. Essayez de t\xe9l\xe9charger les images une par une (cela peut se produire dans certains navigateurs).","error_new_message":"Une erreur sest produite lors de lenvoi de votre message.","error_upload":"Une erreur s\'est produite pendant le t\xe9l\xe9versement","cancel_write":"Voulez-vous annuler l\'\xe9criture d\'un nouveau message\xa0?","empty_message":"Le message est vide et ne peut \xeatre envoy\xe9\xa0!","cancel":"Annuler","just_now":"\xc0 l\'instant","notification_emails":"Courriel de notification","none":"Aucun","hourly":"Une fois par heure","daily":"Journalier","weekly":"Hebdomadaire","monthly":"Mensuel","notification_emails_stopped":"Notifications par courriel d\xe9sactiv\xe9es\xa0!","group_share_choice":"A quel groupe voulez-vous envoyer ce message ?","public_link":"lien public","default_group":"Groupe par d\xe9faut","destroy_account":"Supprimer votre compte","destroy_account_explain":"Une fois votre compte supprim\xe9, il sera impossible d\'annuler l\'op\xe9ration.","are_you_sure":"\xcates-vous s\xfbr ?","share_message":"partager le message","users":"utilisateurs","has_posted_in":"a post\xe9 dans","has_commented_on":"a comment\xe9","has_joined":"a rejoint","has_left":"a quitt\xe9","the_message_from":"le message de","in":"dans","lang":"langue","reply":"r\xe9pondre","replies_one":"{{count}} r\xe9ponse","replies_other":"{{count}} r\xe9ponses","publish_in_group":"promouvoir le message","search_in_group":"rechercher dans le groupe","changed_group_name":"a chang\xe9 le nom du groupe","to":"en","notifications":"notifications","mark_all_as_read":"tout marquer comme lu","search_without_result":"Votre recherche ne correspond \xe0 aucun message.","add_bookmark":"Ajouter aux marque-pages","remove_bookmark":"Supprimer des marque-pages","bookmarks":"marque-pages","api_key":"Clef d\'API","reset_api_key":"Changer votre clef d\'API (vous allez \xeatre d\xe9connect\xe9)","video_not_ready":"La vid\xe9o n\'est pas encore pr\xeate.","bookmark_added":"Message ajout\xe9 aux marque-pages !","bookmark_removed":"Message supprim\xe9 des marque-pages !","parent_message":"Message parent","audio_not_ready":"Le fichier audio n\'est pas pr\xeat.","upload_audio":"Ajouter un fichier audio."}');var nT={};nT=JSON.parse('{"next_coms":"K\xf6vetkez hozz\xe1sz\xf3l\xe1sok","ago":"{{duration}} ezel\xf6tt","groups":"Csoportok","new_password_placeholder":"\xfaj jelsz\xf3","connect":"Kapcsolat","submit":"K\xfcld\xe9s","title_placeholder":"\xdczenet c\xedme (nem k\xf6telez)","login_placeholder":"email","previous_coms":"Kor\xe1bbi hozz\xe1sz\xf3l\xe1sok","password_placeholder":"jelsz\xf3","confirm_password_placeholder":"jelsz\xf3 megers\xedt\xe9se","text_placeholder":"\xcdrd ide az \xfczenetet","upload_image":"Fot\xf3k hozz\xe1ad\xe1sa","upload_video":"Vide\xf3 hozz\xe1ad\xe1sa","upload_music":"Zen\xe9k hozz\xe1ad\xe1sa","upload_pdf":"Pdf hozz\xe1ad\xe1sa","add_date":"D\xe1tum hozz\xe1ad\xe1sa","logout":"Kijelentkez\xe9s","name_input":"V\xe1lassz egy nevet","login":"Bejelentkez\xe9s","login_input":"V\xe1lassz ki egy bejelentkez\xe9st","email":"Email","email_input":"\xcdrd az email c\xedmedet ide","save_changes":"V\xe1ltoz\xe1sok ment\xe9se","password":"Jelsz\xf3","Invalid login/password":"Hib\xe1s felhaszn\xe1l\xf3 \xe9s/vagy jelsz\xf3","delete":"T\xf6rl\xe9s","account":"Fi\xf3k","forgot_password":"Elfelejtetted a jelszavad?","password_reset_mail_sent":"A jelsz\xf3helyre\xe1ll\xedt\xf3 email el lett k\xfcldve!","User not found":"Felhaszn\xe1l\xf3 nem tal\xe1lhat\xf3","reset_password_title":"Jelsz\xf3 alaphelyzetbe \xe1ll\xedt\xe1s","error":"Hiba t\xf6rt\xe9nt","invitation_link":"Megh\xedv\xf3 link","invitation_welcome":"\xdcdv\xf6z\xf6l a Zusam ! Regisztr\xe1lj miel\xf6tt bel\xe9psz egy csoportba.","signup":"Regisztr\xe1ci\xf3","create_a_group":"Egy csoport l\xe9trehoz\xe1sa","create_the_group":"A csoport l\xe9trehoz\xe1sa","quit_group":"Kil\xe9p\xe9s a csoportb\xf3l","group_updated":"A csoport friss\xedtve !","group_left":"Elhagytad a csoportot !","error_new_message":"Hiba t\xf6rt\xe9nt az \xfczenet k\xfcld\xe9se k\xf6zben.","error_upload":"Hiba t\xf6rt\xe9nt a felt\xf6lt\xe9s k\xf6zben","empty_message":"Az \xfczenet \xfcres \xe9s \xedgy nem k\xfcldhet el !","cancel":"M\xe9gsem","just_now":"Csak most","notification_emails":"Email \xe9rtes\xedt\xe9sek","none":"Egyik sem","hourly":"\xd3r\xe1nk\xe9nt","daily":"Napi","weekly":"Heti","monthly":"Havi","notification_emails_stopped":"Az e-mail \xe9rtes\xedt\xe9sek le\xe1lltak !","public_link":"nyilv\xe1nos link","default_group":"Alap\xe9rtelmezett csoport","destroy_account":"A fi\xf3k t\xf6rl\xe9se","are_you_sure":"Biztos vagy benne?","share_message":"Az \xfczenet megoszt\xe1sa","users":"felhaszn\xe1l\xf3k","has_posted_in":"k\xf6zz\xe9t\xe9ve","has_commented_on":"hozz\xe1szolt","has_joined":"csatlakozott","has_left":"kil\xe9pett","in":"ban","lang":"nyelv","reply":"v\xe1lasz","replies_other":"{{count}} v\xe1lasz","search_in_group":"keres\xe9s ebben a csoportban","changed_group_name":"megv\xe1ltoztatta a csoport nev\xe9t","mark_all_as_read":"\xf6sszes megjel\xf6l\xe9se olvasottk\xe9nt","search_without_result":"A keres\xe9s nem egyezett egyetlen \xfczenettel sem.","bookmarks":"k\xf6nyvjelzk","add_bookmark":"\xdczenet elrak\xe1sa a k\xf6nyvjelzkh\xf6z","api_key":"API kulcs","reset_api_key":"Az API-kulcs alaphelyzetbe \xe1ll\xedt\xe1sa (megszakad a kapcsolat)","video_not_ready":"A vide\xf3 m\xe9g nem \xe1ll k\xe9szen.","bookmark_added":"\xdczenet hozz\xe1adva a k\xf6nyvjelzkh\xf6z !","bookmark_removed":"Az \xfczenet elt\xe1vol\xedtva a k\xf6nyvjelzk k\xf6z\xfcl!","parent_message":"Sz\xfcl \xfczenet","settings":"Be\xe1ll\xedt\xe1sok","name":"N\xe9v","password_input":"\xcdrd ide az \xfaj jelsz\xf3t","edit":"Szerkeszt\xe9s","ask_delete_message":"Biztos, hogy t\xf6rl\xf6d az \xfczenetet?","passwords_dont_match":"A jelszavak nem egyeznek","reset_invitation_link":"Megh\xedv\xf3 link alaphelyzetbe \xe1ll\xedt\xe1sa","settings_updated":"A be\xe1ll\xedt\xe1sok friss\xfcltek","multiple_photos_upload":"Hiba t\xf6rt\xe9nt. Pr\xf3b\xe1ld a k\xe9peket egyes\xe9vel felt\xf6lteni ( n\xe9h\xe1ny b\xf6ng\xe9szben ez t\xf6rt\xe9nhet ).","cancel_write":"Biztos, hogy megszak\xedt\xf3d az \xfaj \xfczeneted \xedr\xe1s\xe1t?","group_share_choice":"Melyik csoportnak szeretn\xe9 elk\xfcldeni ezt az \xfczenetet?","destroy_account_explain":"Miut\xe1n t\xf6r\xf6lte a fi\xf3kj\xe1t, nincs vissza\xfat. K\xe9rlek, l\xe9gy biztos.","notifications":"\xe9rtes\xedt\xe9sek","the_message_from":"az \xfczenet k\xfcldje","replies_one":"{{count}} v\xe1lasz","publish_in_group":"k\xf6zz\xe9t\xe9tel a csoportban","to":"hoz","remove_bookmark":"\xdczenet k\xf6nyvjelzj\xe9nek t\xf6rl\xe9se"}');var nP={};nP=JSON.parse('{"groups":"","new_password_placeholder":" ","confirm_password_placeholder":" ","title_placeholder":"  ()","upload_pdf":"PDF ","password":"","password_input":"   ","password_reset_mail_sent":"   !","settings_updated":" ","notification_emails_stopped":"  !","public_link":" ","has_commented_on":" ","the_message_from":"","previous_coms":"  ","next_coms":"  ","ago":"{{duration}} ","name_input":" ","login_placeholder":"","submit":"","add_date":" ","name":"","password_placeholder":"","upload_music":" ","logout":"","connect":"","text_placeholder":"  ","upload_video":" ","settings":"","login":"","login_input":" ","upload_image":" ","save_changes":"  ","email":"","email_input":"  ","Invalid login/password":"  / ","edit":"","delete":"","ask_delete_message":"  ?","account":"","forgot_password":" ?","signup":"","notification_emails":" ","none":"","User not found":"   ","reset_password_title":" ","invitation_link":" ","reset_invitation_link":"  ","error":" ","passwords_dont_match":"  ","invitation_welcome":"Zusam   !    .","create_a_group":" ","daily":"","create_the_group":" ","quit_group":" ","group_updated":" !","multiple_photos_upload":" .     (    ).","group_left":" !","error_new_message":"    .","empty_message":"     !","default_group":" ","error_upload":"   ","weekly":"","monthly":"","cancel_write":"   ?","cancel":"","group_share_choice":"    ?","hourly":" ","just_now":" ","users":"","has_posted_in":"","destroy_account":" ","destroy_account_explain":"    .   .","are_you_sure":"?","share_message":" ","has_joined":"","lang":"","reply":"","replies_one":"{{count}} ","publish_in_group":" ","search_in_group":"  ","to":"","search_without_result":"   .","bookmarks":"","video_not_ready":"   .","parent_message":" ","in":"","changed_group_name":"  ","notifications":"","mark_all_as_read":"   ","reset_api_key":"API   ( )","has_left":"","replies_other":"{{count}} ","remove_bookmark":"  ","api_key":"API ","bookmark_added":"  !","bookmark_removed":"  !","add_bookmark":" ","audio_not_ready":"   .","upload_audio":"  ."}');var nO={};nO=JSON.parse('{"previous_coms":"Zie vorige","next_coms":"Zie volgende","ago":"{{duration}} geleden","groups":"Groepen","login_placeholder":"email","password_placeholder":"wachtwoord","new_password_placeholder":"nieuw wachtwoord","confirm_password_placeholder":"bevestig wachtwoord","connect":"Verbind","submit":"Verstuur","title_placeholder":"Titel van jouw bericht (optioneel)","text_placeholder":"Schrijf jouw bericht hier","upload_image":"Voeg foto\'s toe","upload_video":"Voeg filmpje toe","upload_music":"Voeg muziek toe","upload_pdf":"Voeg PDF toe","add_date":"Voeg een datum toe","logout":"Afmelden","settings":"Instellingen","name":"Naam","name_input":"Kies een naam","login":"Aanmelden","login_input":"Kies een aanmeldingsnaam","email":"Email","email_input":"Voeg uw email adres hier in","save_changes":"Wijzigingen opslaan","password":"Wachtwoord","password_input":"Kies een nieuw wachtwoord","Invalid login/password":"Ongeldige aanmeldnaam/wachtwoord combinatie","edit":"Bewerken","delete":"Verwijderen","ask_delete_message":"Bent u zeker dat u dit bericht wil verwijderen?","account":"Account","forgot_password":"Wachtwoord vergeten?","password_reset_mail_sent":"De wachtwoord reset link is naar uw email adres verstuurd !","User not found":"Gebruiker niet gevonden","reset_password_title":"Reset uw wachtwoord","error":"Er is een fout opgetreden","passwords_dont_match":"Wachtwoorden komen niet overeen","invitation_link":"Uitnodigings link","reset_invitation_link":"Reset uitnodiging link","invitation_welcome":"Welkom op Zusam ! Gelieve aan te melden vooraleer in een groep in te schrijven.","signup":"Inschrijven","create_a_group":"Maak een groep","create_the_group":"Maak de groep","quit_group":"Verlaat de groep","settings_updated":"Uw instellingen werden aangepast","group_updated":"De groep werd aangepast !","group_left":"U heeft de groep verlaten !","multiple_photos_upload":"Er is een fout opgetreden. Probeer foto\'s 1 voor 1 op te laden","error_new_message":"Er is een fout opgetreden bij het doorsturen van uw bericht.","error_upload":"Er is een fout opgetreden bij het uploaden","cancel_write":"Bent u zeker dat u dit bericht wil annuleren?","empty_message":"Dit bericht is leeg en kan niet worden verzonden !","cancel":"Annuleren","just_now":"Net","notification_emails":"Email notificaties","none":"Niets","hourly":"Elk uur","daily":"Elke dag","weekly":"Elke week","monthly":"Elke maand","notification_emails_stopped":"Email notificaties zijn gestopt !","group_share_choice":"Naar welke groep wenst u dit bericht te sturen?","public_link":"publieke link","default_group":"Standaard groep","destroy_account":"Verwijder jouw account","destroy_account_explain":"Indien u uw account verwijdert, kan deze niet meer worden teruggehaald.","are_you_sure":"Bent u zeker?","share_message":"Deel bericht","users":"gebruikers","has_posted_in":"heeft gepost in","has_commented_on":"heeft commentaar gegeven op","has_joined":"is erbij gekomen","has_left":"is weggegaan","the_message_from":"het bericht van","in":"in","lang":"taal","reply":"antwoorden","replies_one":"{{count}} antwoord","replies_other":"{{count}} antwoorden","publish_in_group":"gepubliseerd in de groep","search_in_group":"zoek in deze groep","changed_group_name":"verandert de groepsnaam","to":"aan","notifications":"notificaties","mark_all_as_read":"markeer als gelezen","search_without_result":"Er werd geen enkel bericht gevonden met deze criteria.","add_bookmark":"Bookmark bericht","remove_bookmark":"Unbookmark bericht","bookmarks":"bookmarks","api_key":"API key","reset_api_key":"Reset the API key (you will be disconnected)","video_not_ready":"Video is nog niet klaar.","bookmark_added":"Bericht toegevoegd aan bookmarks !","bookmark_removed":"Bericht verwijderd uit bookmarks !","parent_message":"Parent bericht"}');var nN={};nN=JSON.parse('{"previous_coms":"Pozri predch\xe1dzaj\xface koment\xe1re","next_coms":"Pozri nasleduj\xface koment\xe1re","ago":"{{duration}} sp\xe4","groups":"Skupiny","login_placeholder":"email","password_placeholder":"heslo","new_password_placeholder":"nov\xe9 heslo","confirm_password_placeholder":"potvrdi heslo","connect":"Pripojenie","submit":"Odosla","title_placeholder":"Nadpis v\xe1ho pr\xedspevku (nie je povinn\xe9)","text_placeholder":"Tu nap\xed pr\xedspevok","upload_image":"Prida fotografie","upload_video":"Pridajte video","upload_music":"Prida hudbu","upload_pdf":"Prida pdf","add_date":"Prida d\xe1tum","logout":"Odhl\xe1si","settings":"Nastavenia","name":"Meno","name_input":"Zvo si nejak\xe9 meno","login":"Login","login_input":"Zvo si nejak\xe9 prihlasovacie meno","email":"Email","email_input":"Nap\xed tvoj email sem","save_changes":"Uloi zmeny","password":"Heslo","password_input":"Tu nap\xed heslo","Invalid login/password":"Nespr\xe1vny login alebo heslo","edit":"Upravi","delete":"Zmaza","ask_delete_message":"Si si ist\xfd, e chce zmaza tento pr\xedspevok?","account":"\xdaet","forgot_password":"Zabudol si svoje heslo?","password_reset_mail_sent":"Email s inform\xe1ciami o nastaven\xed nov\xe9ho hesla bol odoslan\xfd!","User not found":"Neexistuj\xfaci u\xedvate","reset_password_title":"Zmena hesla","error":"Chyba","passwords_dont_match":"Hesl\xe1 sa nezhoduj\xfa","invitation_link":"Poz\xfdvac\xed odkaz","reset_invitation_link":"Obnovi pozv\xe1nku odkaz","invitation_welcome":"Vitajte v Zusam ! Zaregistrujte sa pred pripojen\xedm sa ku skupine.","signup":"Prihl\xe1si","create_a_group":"Vytvori skupinu","create_the_group":"Vytvori skupinu","quit_group":"Opusti skupinu","settings_updated":"Vae nastavenia boli zmenen\xe9","group_updated":"Nastavenia skupiny boli zmenen\xe9!","group_left":"Opustili ste skupinu!","multiple_photos_upload":"Vyskytla sa chyba. Sk\xfaste nahr\xe1va obr\xe1zky jeden po druhom (m\xf4e sa to sta v niektor\xfdch prehliadaoch).","error_new_message":"Pri odosielan\xed vaej spr\xe1vy dolo k chybe.","error_upload":"Objavila sa chyba poas odosielania","cancel_write":"Chcete naozaj zrui vytv\xe1ranie nov\xe9ho pr\xedspevku?","empty_message":"Spr\xe1va je pr\xe1zdna a nie je mon\xe1!","cancel":"Zrui","just_now":"Pr\xe1ve teraz","notification_emails":"Notifikan\xfd email","none":"iadne","hourly":"Kad\xfa hodinu","daily":"Denne","weekly":"T\xfddenne","monthly":"Mesane","notification_emails_stopped":"E-mailov\xe9 upozornenia sa zastavili!","group_share_choice":"Do ktorej skupiny chcete odosla t\xfato spr\xe1vu ?","public_link":"verejn\xe9 spojenie","default_group":"Predvolen\xfa skupinu","destroy_account":"Odstr\xe1te svoj \xfaet","destroy_account_explain":"Potom, o vymaete svoj \xfaet, nie je tam iadny n\xe1vrat. Pros\xedm, uistite sa.","are_you_sure":"Si si ist\xfd ?","share_message":"zdieajte spr\xe1vu","users":"u\xedvatelia","has_posted_in":"zverejnila v","has_commented_on":"komentoval","has_joined":"sa pripojil k","has_left":"opustil","the_message_from":"spr\xe1va od","in":"v","lang":"jazyk","reply":"odpove","replies_one":"{{count}} odpove","replies_other":"{{count}} odpoved\xed","publish_in_group":"publikova v skupine","search_in_group":"hada v tejto skupine","changed_group_name":"zmenil n\xe1zov skupiny","to":"na","notifications":"ozn\xe1menia","mark_all_as_read":"oznai vetko ako pre\xedtan\xe9","search_without_result":"Vae vyhad\xe1vanie nezhodla iadne spr\xe1vy.","add_bookmark":"T\xfato spr\xe1vu uloi medzi z\xe1loky","remove_bookmark":"Zrute oznaenie tejto spr\xe1vy","bookmarks":"z\xe1loky","api_key":"K\xfa API","reset_api_key":"Obnovte k\xfa rozhrania API (budete odpojen\xed)","video_not_ready":"Video ete nie je pripraven\xe9.","bookmark_added":"Spr\xe1va pridan\xe1 do z\xe1loiek !","bookmark_removed":"Spr\xe1va bola odstr\xe1nen\xe1 zo z\xe1loiek !","parent_message":"Spr\xe1va rodia","audio_not_ready":"Audio ete nie je pripraven\xfd.","upload_audio":"Pridajte zvukov\xfd s\xfabor."}');var nj={};nj=JSON.parse('{"login":"","login_input":"   ","email":"","email_input":"   ","save_changes":" ","password":"  ","password_input":"     ","delete":"","account":"","name":"","name_input":"   ","next_coms":"  ","ago":"{{duration}} ","previous_coms":"  ","groups":"","login_placeholder":"","password_placeholder":"  ","submit":"","new_password_placeholder":"   ","confirm_password_placeholder":"   ","text_placeholder":"   ","upload_music":" ","connect":"","title_placeholder":"    ()","upload_image":" ","upload_video":" ","upload_pdf":" pdf","add_date":"   ","logout":"","settings":"","edit":"","lang":"","ask_delete_message":"     ?","Invalid login/password":"  /   ","forgot_password":"     ?","User not found":"  ","group_left":"   !","api_key":"  API","replies_other":"{{count}} ","notifications":"","reset_password_title":"      ","passwords_dont_match":"    ","invitation_link":"  ","password_reset_mail_sent":"         !","error":"   ","reset_invitation_link":"     ","invitation_welcome":"   Zusam !        .","signup":"","create_a_group":"   ","create_the_group":" ","quit_group":"  ","settings_updated":"  ","group_updated":"   !","publish_in_group":"  ","search_in_group":"  ","changed_group_name":"   ","to":"","mark_all_as_read":"   ","cancel":"","notification_emails":"  ","none":"","hourly":" ","daily":" ","weekly":" ","monthly":" ","has_joined":"","search_without_result":"      .","just_now":" ","notification_emails_stopped":"    !","destroy_account":"  ","has_posted_in":" ","has_commented_on":"  ","has_left":"","the_message_from":" ","in":"","reply":"","public_link":" ","default_group":" ","are_you_sure":" ?","users":"","share_message":"  ","multiple_photos_upload":".        (       ).","error_new_message":"     .","cancel_write":"         ?","empty_message":"      !","group_share_choice":"        ?","destroy_account_explain":"   ,    .   .","replies_one":"{{count}} ","error_upload":"  ","add_bookmark":"    ","parent_message":"  ","remove_bookmark":"   ","bookmarks":"  ","reset_api_key":"   API (   )","video_not_ready":"   .","bookmark_added":"      !","bookmark_removed":"      !"}');var nD={};nD=JSON.parse('{"password_placeholder":"","title_placeholder":"()","upload_image":"","text_placeholder":"","upload_music":"","upload_pdf":"PDF","add_date":"","logout":"","settings":"","name":"","name_input":"","login":"","login_input":"","email":"","email_input":"","passwords_dont_match":"","invitation_link":"","reset_invitation_link":"","invitation_welcome":"Zusam ! ,","signup":"","create_a_group":"","create_the_group":"","quit_group":"","settings_updated":"","group_left":"!","group_updated":"!","multiple_photos_upload":" ()","error_new_message":"","error_upload":"","cancel_write":"?","empty_message":"!","notification_emails":"","destroy_account_explain":",! ","replies_one":"{{count}}","replies_other":"{{count}}","publish_in_group":"","search_in_group":"","changed_group_name":"","to":"","notifications":"","mark_all_as_read":"","search_without_result":"","add_bookmark":"","previous_coms":"","next_coms":"","ago":"{{duration}}","groups":"","login_placeholder":"","new_password_placeholder":"","confirm_password_placeholder":"","connect":"","submit":"","save_changes":"","password":"","password_input":"","Invalid login/password":"","edit":"","delete":"","account":"","forgot_password":"?","password_reset_mail_sent":"!","User not found":"","reset_password_title":"","error":"","ask_delete_message":"?","cancel":"","just_now":"","none":"","hourly":"","daily":"","weekly":"","monthly":"","notification_emails_stopped":"!","public_link":"","default_group":"","destroy_account":"","are_you_sure":"?","share_message":"","users":"","has_posted_in":"","has_commented_on":"","has_joined":"","has_left":"","the_message_from":"","in":"","lang":"","reply":"","remove_bookmark":"","bookmarks":"","api_key":"API","reset_api_key":"API()","video_not_ready":"","bookmark_added":"!","bookmark_removed":"!","parent_message":"","group_share_choice":"?","audio_not_ready":"","upload_video":"","upload_audio":""}');let nI={possibleLang:{cs_CZ:"etina",de_DE:"Deutsch",en_US:"english",es_ES:"espa\xf1ol",fr_FR:"fran\xe7ais",hu_HU:"magyar nyelv",ko_KR:"",nl_NL:"Nederlands",sk_SK:"Slovensk\xfd",zgh:"",zh_Hans:""},// possible dicts names to load
getDefaultLang:()=>(document.querySelector("meta[name='zusam:default-lang']")||{}).content||"en_US",getCurrentLang:()=>eK.lang||nI.getDefaultLang()};eY.use({type:"3rdParty",init(t){!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ny={...ny,...e}}(t.options.react),e=t}}).init({resources:{cs_CZ:{translation:/*@__PURE__*/o(nC)},de_DE:{translation:/*@__PURE__*/o(nE)},en:{translation:/*@__PURE__*/o(nA)},// backwards compatibility, remove for 0.6
en_US:{translation:/*@__PURE__*/o(nA)},es_ES:{translation:/*@__PURE__*/o(nz)},es:{translation:/*@__PURE__*/o(nz)},// backwards compatibility, remove for 0.6
fr_FR:{translation:/*@__PURE__*/o(nL)},fr:{translation:/*@__PURE__*/o(nL)},// backwards compatibility, remove for 0.6
hu_HU:{translation:/*@__PURE__*/o(nT)},ko_KR:{translation:/*@__PURE__*/o(nP)},nl_NL:{translation:/*@__PURE__*/o(nO)},nl:{translation:/*@__PURE__*/o(nO)},// backwards compatibility, remove for 0.6
sk_SK:{translation:/*@__PURE__*/o(nN)},sk:{translation:/*@__PURE__*/o(nN)},// backwards compatibility, remove for 0.6
zgh:{translation:/*@__PURE__*/o(nj)},zh_Hans:{translation:/*@__PURE__*/o(nD)}},lng:nI.getCurrentLang(),// if you're using a language detector, do not define the lng option
fallbackLng:nI.getDefaultLang(),interpolation:{escapeValue:!1// react already safes from xss => https://www.i18next.com/translation-function/interpolation#unescape
}});// Stateless utilities
// Should be agnostic of other components of zusam if possible
let nR={// check if the input is a valid URL
isValidUrl:e=>{try{return new URL(e),!0}catch(e){return!1}},limitLength:(e,t=20)=>[...e.split("").slice(0,Math.floor(t/2)),e.length>t?"...":"",...e.split("").slice(Math.floor(t/2)).slice(-1*Math.floor(t/2))].join(""),escapeRegex:e=>e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),getSubpath:()=>new URL(document.baseURI).pathname.replace(/\/$/,""),// toApp transforms an api url into an "app" url that the user can naviate to
toApp:e=>e&&"string"==typeof e?nR.isValidUrl(e)?e:location.origin+nR.getSubpath()+e:"",// genId starts with a letter to be DOM friendly
// seed can be used to order ids
// TODO improve using ideas from ai/nanoid
genId:e=>`z${e||""}-${Date.now().toString().slice(-5)}${Math.random().toString().slice(-5)}`,// transform an id into int for the API (TODO: revisit this on 0.5)
id2Int:e=>parseInt(e.replace(/[^\d]/g,""),10),urlRegExp:/(\([^()]*)?https?:\/\/[^[\]\n\r ]*[-A-Za-z0-9+&@#/%=~_()|]/i,getUrl:e=>{if(!e)return"";let t=e.match(nR.urlRegExp);if(t&&t[0].startsWith("(")){let e=t[0].match(/https?:\/\//i);t.index+=e.index,t[0]=t[0].slice(e.index),t[0].endsWith(")")&&(t[0]=t[0].slice(0,-1))}return t},limitStrSize:(e,t)=>e.length>t?`${e.slice(0,t-3)}...`:e,// full datetime as a string adapted to the users timezone
humanFullDate:e=>{if(!e)return"";let t=new Date(1e3*e);return(t=new Date(t.getTime()+-6e4*t.getTimezoneOffset())).toISOString().replace("T"," ").replace(/\..*$/,"")},// duration relative to event
humanTime:e=>{if(!e)return null;let t=Math.abs(Math.round((Date.now()/1e3-e)/60));return t<1?eY.t("just_now"):t<60?eY.t("ago",{duration:`${t}mn`}):t<1440?eY.t("ago",{duration:`${Math.floor(t/60)}h`}):nR.humanFullDate(e).split(" ")[0]},// get the id of an object from an url
getId:e=>{switch(typeof e){case"object":return e?e.id:null;case"string":return e.split("/").pop().replace(/\?.*$/,"").replace(/\.\w+$/,"");default:throw console.error(e),"Could not extract id !"}},// get the url to a thubmnail
thumbnail:(e,t,n=99999)=>"string"!=typeof e||e.startsWith("z")?null:nR.toApp(`/api/images/thumbnail/${t}/${n}/${e}`),// same as http.thumbnail but for a crop
crop:(e,t,n)=>"string"!=typeof e||e.startsWith("z")?null:nR.toApp(`/api/images/crop/${t}/${n}/${e}`),// default avatar in base64
defaultAvatar:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAABlBMVEUAAAD///+l2Z/dAAAAAnRSTlMA/iyWEiMAAAMJSURBVHja7ZtBjpwwEEWxmIhFFmiURZZEyi6HCLkZHCXr2eQKHIUjoEiRSGRRiWB6klaDU/hDF4z+W6LuNz3+ZRvbkCSEEEIIIYQQQgghhBBCCCGEEEIIITvwGfy+kxoTpNJigkw6TJBLjwkK8ZiglMFYUInAAqwQRKRBBR0q8FhXEKwVR0GLCvxCjeo6oyzkoIxnEvj5661acPO3yvFqpxdcV+Pj88VeNZ7cGB4ul1QFkv399KT4KBIpmGEwF4i9oL6DIN/3FzToL2ju8AvsBeE2aNFfQMFJBCkF0/R+bkHyCgSVuaDcVaC5zyvMBTkqyHYVaBZDKSpw5oJgLcMC5doXFBSoIMNutjcQBHJULmlhQYUKlmNQbs9kqGC5P2o3FqBBOVjMWkEOdcZQKam3dyqkkgP/g35zxmEpLhbjir0ZFz2tXHgbPR5deI+EMPKmig/hhU/fIkOYL4iYDbIyqpCXajp2Zy4yhNuxqUfbMCaEIraQZ9swJgQBQ0jBQr6eYXrzQrYIYdtC9uaFbDKayJajyTkL+VijyWA+mnBajGpDeFrMzAu5BNvwKoQBDaFHQ+jQEBo0hBoMYUBD8GgIHRpCi44mcAiJRQhoITvzQs63LGQxL2SOJnEhiHUI296bwNOixb1JYr5kz8yX7Odf6XDfBC9kd6yVzq+np69QIY/8AEJ45kt0T4hIM0VONm5CiLlVhLflS+CwdTGEVa2AnfOFTogaVAAfcg1QivpqzLFHD4LnrR0q8FAhqlux3PPUu0EFLSrooL6kLeaQwKMCTY4OfUjVoY+IOvTxSFiw81NtnbmgRwXeXDAg08IxBPIKBPX5BQ0FBxC0+wtSCg4gcBT853nruwiqfQXNHQT/LDiGD9Old6sEL2umn3MtqxDks9NotVbwfaG+FDfL6fznsjV32365cTXrtqoPdJKYrbmreIDvT42DCMYoIUEu4FvIKSpwgr6JvYEAfJm8QgUl+j58gb6Rn4Nvcv/p0jUmcODr8IQQQgghhBBCCCGEEEIIIYQQQgghs/wGp6uYgtiKODIAAAAASUVORK5CYII=",hash:e=>e.split("").reduce((e,t)=>(e<<5)-e+t.charCodeAt()|0),colorHash:e=>["#000000","#333366","#333399","#3333CC","#339933","#339999","#33CC33","#33CC99","#663333","#663366","#666633","#666699","#66CC33","#66CCCC","#993333","#993366","#993399","#996633","#999966","#CC3333","#CC3366","#CC3399","#CC33CC","#CC6633","#CC9933","#CC99CC","#CCCC33"][Math.abs(nR.hash(e))%27],backgroundHash:e=>{if(!e)return"background-color: #aaa;";let t=nR.colorHash(e),n=nR.colorHash(e.split("").reverse().join("."));return`background-color:${t};background-image:linear-gradient(${45*(Math.abs(nR.hash(e))%4)}deg, ${n} 15%, transparent 15% 30%, ${n} 30% 45%, transparent 45% 60%, ${n} 60% 75%, transparent 75% 90%, ${n} 90%);`},// Accepts a keydown event and checks if it's enter. Compatibility between browsers
// We do it the permissive way
is_it_enter:e=>13==e.keyCode||10==e.keyCode||"Enter"==e.key||""==e.key||"Enter"==e.code,getVersion:()=>(document.querySelector("meta[name='zusam:version']")||{}).content||"unknown",getWidthBreakpoint:()=>window.innerWidth>1800?1800:window.innerWidth>1400?1400:window.innerWidth>992?992:window.innerWidth>768?768:window.innerWidth>576?576:window.innerWidth},nM={sendFile:(e,t,n=null,i=null)=>ed.get("apiKey").then(a=>{let r=new XMLHttpRequest;r.open("POST",`${document.baseURI}api/files`,!0),r.setRequestHeader("X-AUTH-TOKEN",a),r.addEventListener("load",e=>{e.target.status>199&&e.target.status<300?t(JSON.parse(e.target.response)):i?i(e.target.statusText):console.error(e.target.statusText)}),n&&(r.upload.onprogress=e=>n({loaded:e.loaded,total:e.total})),i&&r.addEventListener("error",e=>i(e)),r.send(e)}).catch(e=>el.add(e,"alert-danger")),get:(e,t=!1,n=0)=>ed.get("apiKey").then(e=>new Promise(t=>setTimeout(()=>t(e),n))).then(n=>{if(!(e=nR.toApp(e)))return;let i={};return n&&(i["X-AUTH-TOKEN"]=n),t&&(i["X-NOCACHE"]="nocache"),fetch(e,{method:"GET",headers:new Headers(i)}).then(e=>e.ok&&e.json()).catch(t=>console.warn(`ERROR for ${e}`,t))}).catch(e=>el.add(e,"alert-danger")),post:(e,t,n=0,i="application/json")=>nM.request(e,t,"POST",n,i),put:(e,t,n=0,i="application/json")=>nM.request(e,t,"PUT",n,i),delete:(e,t,n=0,i="application/json")=>nM.request(e,null,"DELETE",n,i),request:(e,t,n,i=0,a="application/json")=>ed.get("apiKey").then(e=>new Promise(t=>setTimeout(()=>t(e),i))).then(i=>{if(!(e=nR.toApp(e)))return;let r={};i&&(r["X-AUTH-TOKEN"]=i),a&&(r["Content-type"]=a);let o={method:n,headers:new Headers(r)};return t&&(o.body="object"==typeof t&&"Object"==t.constructor.name?JSON.stringify(t):t),fetch(e,o).then(e=>{try{if("DELETE"!=n)return e.json();return{}}catch(e){return console.warn(e.message),Promise.reject(e.message)}}).catch(t=>console.warn(`ERROR for ${e}`,t))}).catch(e=>el.add(e,"alert-danger"))};var n$=nM;let nU={LIMIT:20,get:()=>eu.get()?.notifications||[],update:()=>n$.get(`/api/me/notifications/${nU.LIMIT+1}`).then(e=>{eu.dispatch("notifications/update",e)}),isNew(e){let t=eu.get();return!!Array.isArray(t.notifications)&&t.notifications.filter(e=>!e.read).some(t=>nU.matchNotification(t,e)||"new_comment"==t.type&&t.fromMessage.id===e)},removeAllNotifications(){let e=eu.get();Array.isArray(e.notifications)&&e.notifications.forEach(e=>{n$.delete(`/api/notifications/${e.id}`).then(()=>{eu.dispatch("notifications/remove",e)})})},markAllNotificationsAsRead(){let e=eu.get();Array.isArray(e.notifications)&&e.notifications.forEach(e=>{n$.put(`/api/notifications/${e.id}`,{read:!0}).then(()=>{eu.dispatch("notifications/read",e)})})},removeMatchingNotifications:e=>Promise.all(eu.get().notifications.filter(t=>nU.matchNotification(t,e)).map(e=>{n$.delete(`/api/notifications/${e.id}`).then(()=>{eu.dispatch("notifications/remove",e)})})),markAsRead:e=>Promise.all(eu.get().notifications.filter(t=>nU.matchNotification(t,e)).map(e=>{n$.put(`/api/notifications/${e.id}`,{read:!0}).then(()=>{eu.dispatch("notifications/read",e)})})),matchNotification:(e,t)=>e.id===t||e.target===t},nB={get:()=>eu.get(),get route(){try{return nB.removeSubpath(location.pathname).slice(1).split("/")[0]}catch{return""}},get id(){try{return nB.removeSubpath(location.pathname).slice(1).split("/")[1]}catch{return""}},get action(){try{return nB.removeSubpath(location.pathname).slice(1).split("/")[2]}catch{return""}},get backUrl(){return console.err("don't use backUrl"),eu.get()?.backUrl},get search(){return location.search.slice(1)},getEntity:()=>nB.isEntity(nB.route)?n$.get(`/api/${nB.route}/${nB.id}`):Promise.resolve(null),get entity(){return console.err("don't use entity"),eu.get()?.entity},removeSubpath:e=>e?e.replace(RegExp(`^${nR.getSubpath()}`),""):"",getParam:(e,t=window.location.search.substring(1))=>{let n=t.split("&").find(t=>t.split("=")[0]===e);return n?decodeURIComponent(n.split("=")[1]):""},getSegments:()=>nB.removeSubpath(window.location.pathname).slice(1).split("?")[0].split("/"),// check if route is "outside": accessible to non connected user
isOutside:()=>["login","password-reset","signup","invitation","stop-notification-emails","public"].includes(nB.route||nB.getSegments()[0]),isEntity:()=>["messages","groups","users","links","files"].includes(nB.getSegments()[0]),getUrlComponents:e=>{let t={};return e&&(t.url=new URL(e),t.path=t.url.pathname,t.search=t.url.search.slice(1),[t.route,t.id,t.action]=nB.removeSubpath(t.path).slice(1).split("/")),t.entityType="",t.backUrl="",t}},nF={get info(){return eu.get()?.api},update:()=>n$.get("/api/info",!0).then(e=>{if(e)return eu.dispatch("api/update",Object.assign({},e)),setTimeout(dispatchEvent(new CustomEvent("apiStateChange"))),e})},nH=n$;/**
 * React Router DOM v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 *//**
 * React Router v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 *//**
 * @remix-run/router v1.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nV(){return(nV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}/**
   * A POP indicates a change to an arbitrary index in the history stack, such
   * as a back or forward navigation. It does not describe the direction of the
   * navigation, only that the current index changed.
   *
   * Note: This is the default action for newly created history objects.
   */(l=v||(v={})).Pop="POP",/**
   * A PUSH indicates a new entry being added to the history stack, such as when
   * a link is clicked and a new page loads. When this happens, all subsequent
   * entries in the stack are lost.
   */l.Push="PUSH",/**
   * A REPLACE indicates the entry at the current index in the history stack
   * being replaced by a new one.
   */l.Replace="REPLACE";let nq="popstate";function nW(e,t){if(!1===e||null==e)throw Error(t)}function nY(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{// Welcome to debugging history!
//
// This error is thrown as a convenience so you can more easily
// find the source for a warning that appears in the console by
// enabling "pause on exceptions" in your JavaScript debugger.
throw Error(t);// eslint-disable-next-line no-empty
}catch(e){}}}/**
 * For browser-based histories, we combine the state and key into an object
 */function nK(e,t){return{usr:e.state,key:e.key,idx:t}}/**
 * Creates a Location object with a unique key from the given Path
 */function nX(e,t,n,i){return void 0===n&&(n=null),nV({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?nJ(t):t,{state:n,// TODO: This could be cleaned up.  push/replace should probably just take
// full Locations now and avoid the need to run through this flow at all
// But that's a pretty big refactor to the current test suite so going to
// keep as is for the time being and just let any incoming keys take precedence
key:t&&t.key||i||Math.random().toString(36).substr(2,8)})}/**
 * Creates a string URL path from the given pathname, search, and hash components.
 */function nG(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(t+="#"===i.charAt(0)?i:"#"+i),t}/**
 * Parses a string URL path into its separate pathname, search, and hash components.
 */function nJ(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}(d=_||(_={})).data="data",d.deferred="deferred",d.redirect="redirect",d.error="error";let nZ=new Set(["lazy","caseSensitive","path","id","index","children"]);// Walk the route tree generating unique IDs where necessary so we are working
// solely with AgnosticDataRouteObject's within the Router
function nQ(e,t,n,i){return void 0===n&&(n=[]),void 0===i&&(i={}),e.map((e,a)=>{let r=[...n,a],o="string"==typeof e.id?e.id:r.join("-");if(nW(!0!==e.index||!e.children,"Cannot specify children on an index route"),nW(!i[o],'Found a route id collision on id "'+o+"\".  Route id's must be globally unique within Data Router usages"),!0===e.index){let n=nV({},e,t(e),{id:o});return i[o]=n,n}{let n=nV({},e,t(e),{id:o,children:void 0});return i[o]=n,e.children&&(n.children=nQ(e.children,t,r,i)),n}})}/**
 * Matches the given routes to a location and returns the match data.
 *
 * @see https://reactrouter.com/utils/match-routes
 */function n0(e,t,n){void 0===n&&(n="/");let i=n4(("string"==typeof t?nJ(t):t).pathname||"/",n);if(null==i)return null;let a=function e(t,n,i,a){void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===a&&(a="");let r=(t,r,o)=>{var s;let l,d,u={relativePath:void 0===o?t.path||"":o,caseSensitive:!0===t.caseSensitive,childrenIndex:r,route:t};u.relativePath.startsWith("/")&&(nW(u.relativePath.startsWith(a),'Absolute route path "'+u.relativePath+'" nested under path "'+a+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),u.relativePath=u.relativePath.slice(a.length));let c=n9([a,u.relativePath]),h=i.concat(u);t.children&&t.children.length>0&&(nW(// @ts-expect-error
!0!==t.index,'Index routes must not have child routes. Please remove all child routes from route path "'+c+'".'),e(t.children,n,h,c)),(null!=t.path||t.index)&&n.push({path:c,score:(s=t.index,d=(l=c.split("/")).length,l.some(n2)&&(d+=-2),s&&(d+=2),l.filter(e=>!n2(e)).reduce((e,t)=>e+(n1.test(t)?3:""===t?1:10),d)),routesMeta:h})};return t.forEach((e,t)=>{var n;// coarse-grain check for optional params
if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let n of /**
 * Computes all combinations of optional path segments for a given path,
 * excluding combinations that are ambiguous and of lower priority.
 *
 * For example, `/one/:two?/three/:four?/:five?` explodes to:
 * - `/one/three`
 * - `/one/:two/three`
 * - `/one/three/:four`
 * - `/one/three/:five`
 * - `/one/:two/three/:four`
 * - `/one/:two/three/:five`
 * - `/one/three/:four/:five`
 * - `/one/:two/three/:four/:five`
 */function e(t){let n=t.split("/");if(0===n.length)return[];let[i,...a]=n,r=i.endsWith("?"),o=i.replace(/\?$/,"");if(0===a.length)// `["one", "", "three"]` corresponds to omitting `:two` from `/one/:two?/three` -> `/one/three`
return r?[o,""]:[o];let s=e(a.join("/")),l=[];// for absolute paths, ensure `/` instead of empty segment
return(// All child paths with the prefix.  Do this for all children before the
// optional version for all children so we get consistent ordering where the
// parent optional aspect is preferred as required.  Otherwise, we can get
// child sections interspersed where deeper optional segments are higher than
// parent optional segments, where for example, /:two would explodes _earlier_
// then /:one.  By always including the parent as required _for all children_
// first, we avoid this issue
l.push(...s.map(e=>""===e?o:[o,e].join("/"))),r&&l.push(...s),l.map(e=>t.startsWith("/")&&""===e?"/":e))}(e.path))r(e,t,n);else r(e,t)}),n}(e);!function(e){e.sort((e,t)=>{var n,i;return e.score!==t.score?t.score-e.score// Higher score first
:(n=e.routesMeta.map(e=>e.childrenIndex),i=t.routesMeta.map(e=>e.childrenIndex),n.length===i.length&&n.slice(0,-1).every((e,t)=>e===i[t])?// first. This allows people to have fine-grained control over the matching
// behavior by simply putting routes with identical paths in the order they
// want them tried.
n[n.length-1]-i[i.length-1]:// so they sort equally.
0)})}(a);let r=null;for(let e=0;null==r&&e<a.length;++e)r=function(e,t){let{routesMeta:n}=e,i={},a="/",r=[];for(let e=0;e<n.length;++e){let o=n[e],s=e===n.length-1,l="/"===a?t:t.slice(a.length)||"/",d=/**
 * Performs pattern matching on a URL pathname and returns information about
 * the match.
 *
 * @see https://reactrouter.com/utils/match-path
 */function(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0),nY("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let i=[],a="^"+e.replace(/\/*\*?$/,"")// Ignore trailing / and /*, we'll handle it below
.replace(/^\/*/,"/")// Make sure it has a leading /
.replace(/[\\.*+^$?{}|()[\]]/g,"\\$&")// Escape special regex chars
.replace(/\/:(\w+)/g,(e,t)=>(i.push(t),"/([^\\/]+)"));return e.endsWith("*")?(i.push("*"),a+="*"===e||"/*"===e?"(.*)$"// Already matched the initial /, just match the rest
:"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&// then we have _some_ form of path in our regex so we should expect to
// match only if we find the end of this path segment.  Look for an optional
// non-captured trailing slash (to match a portion of the URL) or the end
// of the path (if we've matched to the end).  We used to do this with a
// word boundary but that gives false positives on routes like
// /user-preferences since `-` counts as a word boundary.
(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),i]}(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let r=a[0],o=r.replace(/(.)\/+$/,"$1"),s=a.slice(1);return{params:i.reduce((e,t,n)=>{// We need to compute the pathnameBase here using the raw splat value
// instead of using params["*"] later because it will be decoded then
if("*"===t){let e=s[n]||"";o=r.slice(0,r.length-e.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return nY(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(s[n]||"",t),e},{}),pathname:r,pathnameBase:o,pattern:e}}({path:o.relativePath,caseSensitive:o.caseSensitive,end:s},l);if(!d)return null;Object.assign(i,d.params);let u=o.route;r.push({// TODO: Can this as be avoided?
params:i,pathname:n9([a,d.pathname]),pathnameBase:n8(n9([a,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(a=n9([a,d.pathnameBase]))}return r}(a[e],// or from router.navigate, but we want to match against the unencoded
// paths in the route definitions.  Memory router locations won't be
// encoded here but there also shouldn't be anything to decode so this
// should be a safe operation.  This avoids needing matchRoutes to be
// history-aware.
function(e){try{return decodeURI(e)}catch(t){return nY(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}(i));return r}let n1=/^:\w+$/,n2=e=>"*"===e;/**
 * @private
 */function n4(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;// We want to leave trailing slash behavior in the user's control, so if they
// specify a basename with a trailing slash, we should support it
let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&"/"!==i?null:e.slice(n)||"/"}function n3(e,t,n,i){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t)+"` field ["+JSON.stringify(i)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}/**
 * @private
 *
 * When processing relative navigation we want to ignore ancestor routes that
 * do not contribute to the path, such that index/pathless layout routes don't
 * interfere.
 *
 * For example, when moving a route element into an index route and/or a
 * pathless layout route, relative link behavior contained within should stay
 * the same.  Both of the following examples should link back to the root:
 *
 *   <Route path="/">
 *     <Route path="accounts" element={<Link to=".."}>
 *   </Route>
 *
 *   <Route path="/">
 *     <Route path="accounts">
 *       <Route element={<AccountsLayout />}>       // <-- Does not contribute
 *         <Route index element={<Link to=".."} />  // <-- Does not contribute
 *       </Route
 *     </Route>
 *   </Route>
 */function n6(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}/**
 * @private
 */function n5(e,t,n,i){let a,r;void 0===i&&(i=!1),"string"==typeof e?a=nJ(e):(nW(!(a=nV({},e)).pathname||!a.pathname.includes("?"),n3("?","pathname","search",a)),nW(!a.pathname||!a.pathname.includes("#"),n3("#","pathname","hash",a)),nW(!a.search||!a.search.includes("#"),n3("#","search","hash",a)));let o=""===e||""===a.pathname,s=o?"/":a.pathname;// Routing is relative to the current pathname if explicitly requested.
//
// If a pathname is explicitly provided in `to`, it should be relative to the
// route context. This is explained in `Note on `<Link to>` values` in our
// migration guide from v5 as a means of disambiguation between `to` values
// that begin with `/` and those that do not. However, this is problematic for
// `to` values that do not provide a pathname. `to` can simply be a search or
// hash string, in which case we should assume that the navigation is relative
// to the current location's pathname and *not* the route pathname.
if(i||null==s)r=n;else{let e=t.length-1;if(s.startsWith("..")){let t=s.split("/");// Each leading .. segment means "go up one route" instead of "go up one
// URL segment".  This is a key difference from how <a href> works and a
// major reason we call this a "to" value instead of a "href".
for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}// If there are more ".." segments than parent routes, resolve relative to
// the root / URL.
r=e>=0?t[e]:"/"}let l=/**
 * Returns a resolved path object relative to the given pathname.
 *
 * @see https://reactrouter.com/utils/resolve-path
 */function(e,t){let n;void 0===t&&(t="/");let{pathname:i,search:a="",hash:r=""}="string"==typeof e?nJ(e):e;return{pathname:i?i.startsWith("/")?i:(n=t.replace(/\/+$/,"").split("/"),i.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"):t,search:n7(a),hash:ie(r)}}(a,r),d=s&&"/"!==s&&s.endsWith("/"),u=(o||"."===s)&&n.endsWith("/");return!l.pathname.endsWith("/")&&(d||u)&&(l.pathname+="/"),l}/**
 * @private
 */let n9=e=>e.join("/").replace(/\/\/+/g,"/"),n8=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),n7=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",ie=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";/**
 * @private
 * Utility class we use to hold auto-unwrapped 4xx/5xx Response bodies
 */class it{constructor(e,t,n,i){void 0===i&&(i=!1),this.status=e,this.statusText=t||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}/**
 * Check if the given error is an ErrorResponse generated from a 4xx/5xx
 * Response thrown from an action/loader
 */function ii(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}let ia=["post","put","patch","delete"],ir=new Set(ia),io=["get",...ia],is=new Set(io),il=new Set([301,302,303,307,308]),id=new Set([307,308]),iu={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ic={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ih={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ip=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ig=e=>({hasErrorBoundary:!!e.hasErrorBoundary});function im(e,t,n,i,a,r,o){let s,l;if(null!=r&&"path"!==o){for(let e of(// Grab matches up to the calling route so our route-relative logic is
// relative to the correct source route.  When using relative:path,
// fromRouteId is ignored since that is always relative to the current
// location path
s=[],t))if(s.push(e),e.route.id===r){l=e;break}}else s=t,l=t[t.length-1];// Resolve the relative path
let d=n5(a||".",n6(s).map(e=>e.pathnameBase),n4(e.pathname,n)||e.pathname,"path"===o);return null==a&&(d.search=e.search,d.hash=e.hash),(null==a||""===a||"."===a)&&l&&l.route.index&&!i$(d.search)&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),i&&"/"!==n&&(d.pathname="/"===d.pathname?n:n9([n,d.pathname])),nG(d)}// Normalize navigation options by converting formMethod=GET formData objects to
// URLSearchParams so they behave identically to links with query params
function iv(e,t,n,i){var a;let r,o;// Return location verbatim on non-submission navigations
if(!i||!(null!=i&&("formData"in i&&null!=i.formData||"body"in i&&void 0!==i.body)))return{path:n};if(i.formMethod&&(a=i.formMethod,!is.has(a.toLowerCase())))return{path:n,error:iT(405,{method:i.formMethod})};let s=()=>({path:n,error:iT(400,{type:"invalid-body"})}),l=i.formMethod||"get",d=e?l.toUpperCase():l.toLowerCase(),u=iO(n);if(void 0!==i.body){if("text/plain"===i.formEncType){// text only support POST/PUT/PATCH/DELETE submissions
if(!iI(d))return s();let e="string"==typeof i.body?i.body:i.body instanceof FormData||i.body instanceof URLSearchParams?Array.from(i.body.entries()).reduce((e,t)=>{let[n,i]=t;return""+e+n+"="+i+"\n"},""):String(i.body);return{path:n,submission:{formMethod:d,formAction:u,formEncType:i.formEncType,formData:void 0,json:void 0,text:e}}}if("application/json"===i.formEncType){// json only supports POST/PUT/PATCH/DELETE submissions
if(!iI(d))return s();try{let e="string"==typeof i.body?JSON.parse(i.body):i.body;return{path:n,submission:{formMethod:d,formAction:u,formEncType:i.formEncType,formData:void 0,json:e,text:void 0}}}catch(e){return s()}}}if(nW("function"==typeof FormData,"FormData is not available in this environment"),i.formData)r=iS(i.formData),o=i.formData;else if(i.body instanceof FormData)r=iS(i.body),o=i.body;else if(i.body instanceof URLSearchParams)o=iC(r=i.body);else if(null==i.body)r=new URLSearchParams,o=new FormData;else try{r=new URLSearchParams(i.body),o=iC(r)}catch(e){return s()}let c={formMethod:d,formAction:u,formEncType:i&&i.formEncType||"application/x-www-form-urlencoded",formData:o,json:void 0,text:void 0};if(iI(c.formMethod))return{path:n,submission:c};// Flatten submission onto URLSearchParams for GET submissions
let h=nJ(n);return t&&h.search&&i$(h.search)&&r.append("index",""),h.search="?"+r,{path:nG(h),submission:c}}function i_(e,t,n,i,a,r,o,s,l,d,u,c,h,p){let g=p?Object.values(p)[0]:h?Object.values(h)[0]:void 0,f=e.createURL(t.location),m=e.createURL(a),v=// Filter out all routes below any caught error as they aren't going to
// render so we don't need to load them
(function(e,t){let n=e;if(t){let i=e.findIndex(e=>e.route.id===t);i>=0&&(n=e.slice(0,i))}return n})(n,p?Object.keys(p)[0]:void 0).filter((e,n)=>{var a,s;let l,d;if(e.route.lazy)return!0;if(null==e.route.loader)return!1;// Always call the loader on new route instances and pending defer cancellations
if(a=t.loaderData,l=!(s=t.matches[n])||// [a, b] -> [a, c]
e.route.id!==s.route.id,d=void 0===a[e.route.id],l||d||o.some(t=>t===e.route.id))return!0;// This is the default implementation for when we revalidate.  If the route
// provides it's own implementation, then we give them full control but
// provide this value so they can leverage it if needed after they check
// their own specific use cases
let u=t.matches[n];return ib(e,nV({currentUrl:f,currentParams:u.params,nextUrl:m,nextParams:e.params},i,{actionResult:g,defaultShouldRevalidate:r||// Clicked the same link, resubmitted a GET form
f.pathname+f.search===m.pathname+m.search||// Search params affect all loaders
f.search!==m.search||iy(u,e)}))}),_=[];return l.forEach((e,a)=>{// Don't revalidate if fetcher won't be present in the subsequent render
if(!n.some(t=>t.route.id===e.routeId))return;let o=n0(u,e.path,c);// If the fetcher path no longer matches, push it in with null matches so
// we can trigger a 404 in callLoadersAndMaybeResolveData.  Note this is
// currently only a use-case for Remix HMR where the route tree can change
// at runtime and remove a route previously loaded via a fetcher
if(!o){_.push({key:a,routeId:e.routeId,path:e.path,matches:null,match:null,controller:null});return}// Revalidating fetchers are decoupled from the route matches since they
// load from a static href.  They revalidate based on explicit revalidation
// (submission, useRevalidator, or X-Remix-Revalidate)
let l=t.fetchers.get(a),h=iU(o,e.path);!d.has(a)&&(s.includes(a)||(l&&"idle"!==l.state&&void 0===l.data?r:ib(h,nV({currentUrl:f,currentParams:t.matches[t.matches.length-1].params,nextUrl:m,nextParams:n[n.length-1].params},i,{actionResult:g,defaultShouldRevalidate:r}))))&&_.push({key:a,routeId:e.routeId,path:e.path,matches:o,match:h,controller:new AbortController})}),[v,_]}function iy(e,t){let n=e.route.path;return e.pathname!==t.pathname||// splat param changed, which is not present in match.path
// e.g. /files/images/avatar.jpg -> files/finances.xls
null!=n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function ib(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if("boolean"==typeof n)return n}return t.defaultShouldRevalidate}/**
 * Execute route.lazy() methods to lazily load route modules (loader, action,
 * shouldRevalidate) and update the routeManifest in place which shares objects
 * with dataRoutes so those get updated as well.
 */async function ix(e,t,n){if(!e.lazy)return;let i=await e.lazy();// If the lazy route function was executed and removed by another parallel
// call then we can return - first lazy() to finish wins because the return
// value of lazy is expected to be static
if(!e.lazy)return;let a=n[e.id];nW(a,"No route found in manifest");// Update the route in place.  This should be safe because there's no way
// we could yet be sitting on this route as we can't get there without
// resolving lazy() first.
//
// This is different than the HMR "update" use-case where we may actively be
// on the route being updated.  The main concern boils down to "does this
// mutation affect any ongoing navigations or any current state.matches
// values?".  If not, it should be safe to update in place.
let r={};for(let e in i){let t=void 0!==a[e]&&// This property isn't static since it should always be updated based
// on the route updates
"hasErrorBoundary"!==e;nY(!t,'Route "'+a.id+'" has a static property "'+e+'" defined but its lazy function is also returning a value for this property. The lazy route property "'+e+'" will be ignored.'),t||nZ.has(e)||(r[e]=i[e])}// Mutate the route with the provided updates.  Do this first so we pass
// the updated version to mapRouteProperties
Object.assign(a,r),// Mutate the `hasErrorBoundary` property on the route based on the route
// updates and remove the `lazy` function so we don't resolve the lazy
// route again.
Object.assign(a,nV({},t(a),{lazy:void 0}))}async function iw(e,t,n,i,a,r,o,s){var l,d,u,c;let h,p,g;void 0===s&&(s={});let f=e=>{let i;let a=new Promise((e,t)=>i=t);return g=()=>i(),t.signal.addEventListener("abort",g),Promise.race([e({request:t,params:n.params,context:s.requestContext}),a])};try{let i=n.route[e];if(n.route.lazy){if(i)p=(await Promise.all([f(i),ix(n.route,r,a)]))[0];else if(// Load lazy route module, then run any returned handler
await ix(n.route,r,a),i=n.route[e])// with un-abortable behavior of handler execution on non-lazy or
// previously-lazy-loaded routes
p=await f(i);else{if("action"!==e)// hit the invariant below that errors on returning undefined.
return{type:_.data,data:void 0};let i=new URL(t.url),a=i.pathname+i.search;throw iT(405,{method:t.method,pathname:a,routeId:n.route.id})}}else if(i)p=await f(i);else{let e=new URL(t.url),n=e.pathname+e.search;throw iT(404,{pathname:n})}nW(void 0!==p,"You defined "+("action"===e?"an action":"a loader")+" for route "+('"'+n.route.id)+"\" but didn't return anything from your `"+e+"` function. Please return a value or `null`.")}catch(e){h=_.error,p=e}finally{g&&t.signal.removeEventListener("abort",g)}if(null!=(l=p)&&"number"==typeof l.status&&"string"==typeof l.statusText&&"object"==typeof l.headers&&void 0!==l.body){let e,a=p.status;// Process redirects
if(il.has(a)){let e=p.headers.get("Location");// Support relative routing in internal redirects
if(nW(e,"Redirects returned/thrown from loaders/actions must have a Location header"),ip.test(e)){if(!s.isStaticRequest){// Strip off the protocol+origin for same-origin + same-basename absolute
// redirects. If this is a static request, we can let it go back to the
// browser as-is
let n=new URL(t.url),i=new URL(e.startsWith("//")?n.protocol+e:e),a=null!=n4(i.pathname,o);i.origin===n.origin&&a&&(e=i.pathname+i.search+i.hash)}}else e=im(new URL(t.url),i.slice(0,i.indexOf(n)+1),o,!0,e);// Don't process redirects in the router during static requests requests.
// Instead, throw the Response and let the server handle it with an HTTP
// redirect.  We also update the Location header in place in this flow so
// basename and relative routing is taken into account
if(s.isStaticRequest)throw p.headers.set("Location",e),p;return{type:_.redirect,status:a,location:e,revalidate:null!==p.headers.get("X-Remix-Revalidate"),reloadDocument:null!==p.headers.get("X-Remix-Reload-Document")}}// For SSR single-route requests, we want to hand Responses back directly
// without unwrapping.  We do this with the QueryRouteResponse wrapper
// interface so we can know whether it was returned or thrown
if(s.isRouteRequest)throw{type:h===_.error?_.error:_.data,response:p};let r=p.headers.get("Content-Type");return(e=r&&/\bapplication\/json\b/.test(r)?await p.json():await p.text(),h===_.error)?{type:h,error:new it(a,p.statusText,e),headers:p.headers}:{type:_.data,data:e,statusCode:p.status,headers:p.headers}}return h===_.error?{type:h,error:p}:(d=p)&&"object"==typeof d&&"object"==typeof d.data&&"function"==typeof d.subscribe&&"function"==typeof d.cancel&&"function"==typeof d.resolveData?{type:_.deferred,deferredData:p,statusCode:null==(u=p.init)?void 0:u.status,headers:(null==(c=p.init)?void 0:c.headers)&&new Headers(p.init.headers)}:{type:_.data,data:p}}// Utility method for creating the Request instances for loaders/actions during
// client-side navigations and fetches.  During SSR we will always have a
// Request instance from the static handler (query/queryRoute)
function ik(e,t,n,i){let a=e.createURL(iO(t)).toString(),r={signal:n};if(i&&iI(i.formMethod)){let{formMethod:e,formEncType:t}=i;// Didn't think we needed this but it turns out unlike other methods, patch
// won't be properly normalized to uppercase and results in a 405 error.
// See: https://fetch.spec.whatwg.org/#concept-method
r.method=e.toUpperCase(),"application/json"===t?(r.headers=new Headers({"Content-Type":t}),r.body=JSON.stringify(i.json)):"text/plain"===t?r.body=i.text:"application/x-www-form-urlencoded"===t&&i.formData?r.body=iS(i.formData):r.body=i.formData}return new Request(a,r)}function iS(e){let t=new URLSearchParams;for(let[n,i]of e.entries())t.append(n,"string"==typeof i?i:i.name);return t}function iC(e){let t=new FormData;for(let[n,i]of e.entries())t.append(n,i);return t}function iE(e,t,n,i,a,r,o,s){var l;let d,u,c,h,p;let{loaderData:g,errors:f}=(l=a,u={},c=null,h=!1,p={},// Process loader results into state.loaderData/state.errors
i.forEach((e,i)=>{let a=n[i].route.id;if(nW(!iD(e),"Cannot handle redirect results in processLoaderData"),ij(e)){// Look upwards from the matched route for the closest ancestor
// error boundary, defaulting to the root match
let n=iz(t,a),i=e.error;l&&(i=Object.values(l)[0],l=void 0),null==(c=c||{})[n.route.id]&&(c[n.route.id]=i),// Clear our any prior loaderData for the throwing route
u[a]=void 0,h||(h=!0,d=ii(e.error)?e.error.status:500),e.headers&&(p[a]=e.headers)}else iN(e)?(s.set(a,e.deferredData),u[a]=e.deferredData.data):u[a]=e.data,null==e.statusCode||200===e.statusCode||h||(d=e.statusCode),e.headers&&(p[a]=e.headers)}),l&&(c=l,u[Object.keys(l)[0]]=void 0),{loaderData:u,errors:c,statusCode:d||200,loaderHeaders:p});// Process results from our revalidating fetchers
for(let t=0;t<r.length;t++){let{key:n,match:i,controller:a}=r[t];nW(void 0!==o&&void 0!==o[t],"Did not find corresponding fetcher result");let s=o[t];// Process fetcher non-redirect errors
if(!a||!a.signal.aborted){if(ij(s)){let t=iz(e.matches,null==i?void 0:i.route.id);f&&f[t.route.id]||(f=nV({},f,{[t.route.id]:s.error})),e.fetchers.delete(n)}else if(iD(s))// keep this to type narrow to a success result in the else
nW(!1,"Unhandled fetcher revalidation redirect");else if(iN(s))// in resolveDeferredResults
nW(!1,"Unhandled fetcher deferred data");else{let t=iV(s.data);e.fetchers.set(n,t)}}}return{loaderData:g,errors:f}}function iA(e,t,n,i){let a=nV({},t);for(let r of n){let n=r.route.id;if(t.hasOwnProperty(n)?void 0!==t[n]&&(a[n]=t[n]):void 0!==e[n]&&r.route.loader&&// wasn't removed by HMR
(a[n]=e[n]),i&&i.hasOwnProperty(n))break}return a}// Find the nearest error boundary, looking upwards from the leaf route (or the
// route specified by routeId) for the closest ancestor error boundary,
// defaulting to the root match
function iz(e,t){return(t?e.slice(0,e.findIndex(e=>e.route.id===t)+1):[...e]).reverse().find(e=>!0===e.route.hasErrorBoundary)||e[0]}function iL(e){// Prefer a root layout route if present, otherwise shim in a route object
let t=e.find(e=>e.index||!e.path||"/"===e.path)||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function iT(e,t){let{pathname:n,routeId:i,method:a,type:r}=void 0===t?{}:t,o="Unknown Server Error",s="Unknown @remix-run/router error";return 400===e?(o="Bad Request",a&&n&&i?s="You made a "+a+' request to "'+n+'" but did not provide a `loader` for route "'+i+'", so there is no way to handle the request.':"defer-action"===r?s="defer() is not supported in actions":"invalid-body"===r&&(s="Unable to encode submission body")):403===e?(o="Forbidden",s='Route "'+i+'" does not match URL "'+n+'"'):404===e?(o="Not Found",s='No route matches URL "'+n+'"'):405===e&&(o="Method Not Allowed",a&&n&&i?s="You made a "+a.toUpperCase()+' request to "'+n+'" but did not provide an `action` for route "'+i+'", so there is no way to handle the request.':a&&(s='Invalid request method "'+a.toUpperCase()+'"')),new it(e||500,o,Error(s),!0)}// Find any returned redirect errors, starting from the lowest match
function iP(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(iD(n))return{result:n,idx:t}}}function iO(e){let t="string"==typeof e?nJ(e):e;return nG(nV({},t,{hash:""}))}function iN(e){return e.type===_.deferred}function ij(e){return e.type===_.error}function iD(e){return(e&&e.type)===_.redirect}function iI(e){return ir.has(e.toLowerCase())}async function iR(e,t,n,i,a,r){for(let o=0;o<n.length;o++){let s=n[o],l=t[o];// If we don't have a match, then we can have a deferred result to do
// anything with.  This is for revalidating fetchers where the route was
// removed during HMR
if(!l)continue;let d=e.find(e=>e.route.id===l.route.id),u=null!=d&&!iy(d,l)&&(r&&r[l.route.id])!==void 0;if(iN(s)&&(a||u)){// Note: we do not have to touch activeDeferreds here since we race them
// against the signal in resolveDeferredData and they'll get aborted
// there if needed
let e=i[o];nW(e,"Expected an AbortSignal for revalidating fetcher deferred result"),await iM(s,e,a).then(e=>{e&&(n[o]=e||n[o])})}}}async function iM(e,t,n){if(void 0===n&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:_.data,data:e.deferredData.unwrappedData}}catch(e){// Handle any TrackedPromise._error values encountered while unwrapping
return{type:_.error,error:e}}return{type:_.data,data:e.deferredData.data}}}function i$(e){return new URLSearchParams(e).getAll("index").some(e=>""===e)}function iU(e,t){let n="string"==typeof t?nJ(t).search:t.search;if(e[e.length-1].route.index&&i$(n||""))return e[e.length-1];// Otherwise grab the deepest "path contributing" match (ignoring index and
// pathless layout routes)
let i=n6(e);return i[i.length-1]}function iB(e){let{formMethod:t,formAction:n,formEncType:i,text:a,formData:r,json:o}=e;if(t&&n&&i){if(null!=a)return{formMethod:t,formAction:n,formEncType:i,formData:void 0,json:void 0,text:a};if(null!=r)return{formMethod:t,formAction:n,formEncType:i,formData:r,json:void 0,text:void 0};if(void 0!==o)return{formMethod:t,formAction:n,formEncType:i,formData:void 0,json:o,text:void 0}}}function iF(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function iH(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t," _hasFetcherDoneAnything ":!0}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t," _hasFetcherDoneAnything ":!0}}function iV(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e," _hasFetcherDoneAnything ":!0}}function iq(){return(iq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}Symbol("deferred");// Create react-specific types from the agnostic types in @remix-run/router to
// export from react-router
let iW=/*#__PURE__*/eX.createContext(null),iY=/*#__PURE__*/eX.createContext(null),iK=/*#__PURE__*/eX.createContext(null),iX=/*#__PURE__*/eX.createContext(null),iG=/*#__PURE__*/eX.createContext({outlet:null,matches:[],isDataRoute:!1}),iJ=/*#__PURE__*/eX.createContext(null);/**
 * Returns true if this component is a descendant of a <Router>.
 *
 * @see https://reactrouter.com/hooks/use-in-router-context
 */function iZ(){return null!=eX.useContext(iX)}/**
 * Returns the current location object, which represents the current URL in web
 * browsers.
 *
 * Note: If you're using this it may mean you're doing some of your own
 * "routing" in your app, and we'd like to know what your use case is. We may
 * be able to provide something higher-level to better suit your needs.
 *
 * @see https://reactrouter.com/hooks/use-location
 */function iQ(){return iZ()||nW(!1),eX.useContext(iX).location}// Mute warnings for calls to useNavigate in SSR environments
function i0(e){eX.useContext(iK).static||// See: https://github.com/facebook/react/pull/26395
// eslint-disable-next-line react-hooks/rules-of-hooks
eX.useLayoutEffect(e)}/**
 * Returns an imperative method for changing the location. Used by <Link>s, but
 * may also be used by other elements to change the location.
 *
 * @see https://reactrouter.com/hooks/use-navigate
 */function i1(){let{isDataRoute:e}=eX.useContext(iG);// Conditional usage is OK here because the usage of a data router is static
// eslint-disable-next-line react-hooks/rules-of-hooks
return e?/**
 * Stable version of useNavigate that is used when we are in the context of
 * a RouterProvider.
 */function(){let e;let{router:t}=(i8.UseNavigateStable,(e=eX.useContext(iW))||nW(!1),e),n=ae(i7.UseNavigateStable),i=eX.useRef(!1);return i0(()=>{i.current=!0}),eX.useCallback(function(e,a){void 0===a&&(a={}),i.current&&("number"==typeof e?t.navigate(e):t.navigate(e,iq({fromRouteId:n},a)))},[t,n])}():function(){iZ()||nW(!1);let e=eX.useContext(iW),{basename:t,navigator:n}=eX.useContext(iK),{matches:i}=eX.useContext(iG),{pathname:a}=iQ(),r=JSON.stringify(n6(i).map(e=>e.pathnameBase)),o=eX.useRef(!1);return i0(()=>{o.current=!0}),eX.useCallback(function(i,s){// Short circuit here since if this happens on first render the navigate
// is useless because we haven't wired up our history listener yet
if(void 0===s&&(s={}),!o.current)return;if("number"==typeof i){n.go(i);return}let l=n5(i,JSON.parse(r),a,"path"===s.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:n9([t,l.pathname])),(s.replace?n.replace:n.push)(l,s.state,s)},[t,n,r,a,e])}()}/**
 * Returns an object of key/value pairs of the dynamic params from the current
 * URL that were matched by the route path.
 *
 * @see https://reactrouter.com/hooks/use-params
 */function i2(){let{matches:e}=eX.useContext(iG),t=e[e.length-1];return t?t.params:{}}/**
 * Resolves the pathname of the given `to` value against the current location.
 *
 * @see https://reactrouter.com/hooks/use-resolved-path
 */function i4(e,t){let{relative:n}=void 0===t?{}:t,{matches:i}=eX.useContext(iG),{pathname:a}=iQ(),r=JSON.stringify(n6(i).map(e=>e.pathnameBase));return eX.useMemo(()=>n5(e,JSON.parse(r),a,"path"===n),[e,r,a,n])}// Internal implementation with accept optional param for RouterProvider usage
function i3(e,t,n){let i;iZ()||nW(!1);let{navigator:a}=eX.useContext(iK),{matches:r}=eX.useContext(iG),o=r[r.length-1],s=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let d=iQ();if(t){var u;let e="string"==typeof t?nJ(t):t;"/"===l||(null==(u=e.pathname)?void 0:u.startsWith(l))||nW(!1),i=e}else i=d;let c=i.pathname||"/",h=n0(e,{pathname:"/"===l?c:c.slice(l.length)||"/"}),p=function(e,t,n){var i,a;if(void 0===t&&(t=[]),void 0===n&&(n=null),null==e){if(null==(a=n)||!a.errors)return null;// boundary.  Use the pre-matched (or shimmed) matches
e=n.matches}let r=e,o=null==(i=n)?void 0:i.errors;if(null!=o){let e=r.findIndex(e=>e.route.id&&(null==o?void 0:o[e.route.id]));e>=0||nW(!1),r=r.slice(0,Math.min(r.length,e+1))}return r.reduceRight((e,i,a)=>{let s=i.route.id?null==o?void 0:o[i.route.id]:null,l=null;n&&(l=i.route.errorElement||i6);let d=t.concat(r.slice(0,a+1)),u=()=>{let t;return t=s?l:i.route.Component?/*#__PURE__*/eX.createElement(i.route.Component,null):i.route.element?i.route.element:e,/*#__PURE__*/eX.createElement(i9,{match:i,routeContext:{outlet:e,matches:d,isDataRoute:null!=n},children:t})};// Only wrap in an error boundary within data router usages when we have an
// ErrorBoundary/errorElement on this route.  Otherwise let it bubble up to
// an ancestor ErrorBoundary/errorElement
return n&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?/*#__PURE__*/eX.createElement(i5,{location:n.location,revalidation:n.revalidation,component:l,error:s,children:u(),routeContext:{outlet:null,matches:d,isDataRoute:!0}}):u()},null)}(h&&h.map(e=>Object.assign({},e,{params:Object.assign({},s,e.params),pathname:n9([l,// Re-encode pathnames that were decoded inside matchRoutes
    a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:n9([l,// Re-encode pathnames that were decoded inside matchRoutes
    a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),r,n);return(// When a user passes in a `locationArg`, the associated routes need to
// be wrapped in a new `LocationContext.Provider` in order for `useLocation`
// to use the scoped location instead of the global location.
t&&p?/*#__PURE__*/eX.createElement(iX.Provider,{value:{location:iq({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:v.Pop}},p):p)}let i6=/*#__PURE__*/eX.createElement(function(){var e;let t,n,i;let a=(n=eX.useContext(iJ),i7.UseRouteError,(t=eX.useContext(iY))||nW(!1),i=ae(i7.UseRouteError),// If this was a render error, we put it in a RouteError context inside
// of RenderErrorBoundary
n||(null==(e=t.errors)?void 0:e[i])),r=ii(a)?a.status+" "+a.statusText:a instanceof Error?a.message:JSON.stringify(a),o=a instanceof Error?a.stack:null;return /*#__PURE__*/eX.createElement(eX.Fragment,null,/*#__PURE__*/eX.createElement("h2",null,"Unexpected Application Error!"),/*#__PURE__*/eX.createElement("h3",{style:{fontStyle:"italic"}},r),o?/*#__PURE__*/eX.createElement("pre",{style:{padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"}},o):null,null)},null);class i5 extends eX.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return(// When we get into an error state, the user will likely click "back" to the
// previous page that didn't have an error. Because this wraps the entire
// application, that will have no effect--the error page continues to display.
// This gives us a mechanism to recover from the error when the location changes.
//
// Whether we're in an error state or not, we update the location in state
// so that when we are in an error state, it gets reset when a new location
// comes in and the user recovers from the error.
t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation})}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?/*#__PURE__*/eX.createElement(iG.Provider,{value:this.props.routeContext},/*#__PURE__*/eX.createElement(iJ.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function i9(e){let{routeContext:t,match:n,children:i}=e,a=eX.useContext(iW);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),/*#__PURE__*/eX.createElement(iG.Provider,{value:t},i)}var i8=((u=i8||{}).UseBlocker="useBlocker",u.UseRevalidator="useRevalidator",u.UseNavigateStable="useNavigate",u),i7=((c=i7||{}).UseBlocker="useBlocker",c.UseLoaderData="useLoaderData",c.UseActionData="useActionData",c.UseRouteError="useRouteError",c.UseNavigation="useNavigation",c.UseRouteLoaderData="useRouteLoaderData",c.UseMatches="useMatches",c.UseRevalidator="useRevalidator",c.UseNavigateStable="useNavigate",c.UseRouteId="useRouteId",c);// Internal version with hookName-aware debugging
function ae(e){let t;let n=((t=eX.useContext(iG))||nW(!1),t),i=n.matches[n.matches.length-1];return i.route.id||nW(!1),i.route.id}let at=eX.startTransition;/**
 * Given a Remix Router instance, render the appropriate UI
 */function an(e){let{fallbackElement:t,router:n,future:i}=e,[a,r]=eX.useState(n.state),{v7_startTransition:o}=i||{},s=eX.useCallback(e=>{o&&at?at(()=>r(e)):r(e)},[r,o]);eX.useLayoutEffect(()=>n.subscribe(s),[n,s]);let l=eX.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:e=>n.navigate(e),push:(e,t,i)=>n.navigate(e,{state:t,preventScrollReset:null==i?void 0:i.preventScrollReset}),replace:(e,t,i)=>n.navigate(e,{replace:!0,state:t,preventScrollReset:null==i?void 0:i.preventScrollReset})}),[n]),d=n.basename||"/",u=eX.useMemo(()=>({router:n,navigator:l,static:!1,basename:d}),[n,l,d]);// The fragment and {null} here are important!  We need them to keep React 18's
// useId happy when we are server-rendering since we may have a <script> here
// containing the hydrated server-side staticContext (from StaticRouterProvider).
// useId relies on the component tree structure to generate deterministic id's
// so we need to ensure it remains the same on the client even though
// we don't need the <script> tag
return /*#__PURE__*/eX.createElement(eX.Fragment,null,/*#__PURE__*/eX.createElement(iW.Provider,{value:u},/*#__PURE__*/eX.createElement(iY.Provider,{value:a},/*#__PURE__*/eX.createElement(ao,{basename:d,location:a.location,navigationType:a.historyAction,navigator:l},a.initialized?/*#__PURE__*/eX.createElement(ai,{routes:n.routes,state:a}):t))),null)}function ai(e){let{routes:t,state:n}=e;return i3(t,void 0,n)}/**
 * Changes the current location.
 *
 * Note: This API is mostly useful in React.Component subclasses that are not
 * able to use hooks. In functional components, we recommend you use the
 * `useNavigate` hook instead.
 *
 * @see https://reactrouter.com/components/navigate
 */function aa(e){let{to:t,replace:n,state:i,relative:a}=e;iZ()||nW(!1);let{matches:r}=eX.useContext(iG),{pathname:o}=iQ(),s=i1(),l=JSON.stringify(n5(t,n6(r).map(e=>e.pathnameBase),o,"path"===a));return eX.useEffect(()=>s(JSON.parse(l),{replace:n,state:i,relative:a}),[s,l,a,n,i]),null}/**
 * Declares an element that should be rendered at a certain URL path.
 *
 * @see https://reactrouter.com/components/route
 */function ar(e){nW(!1)}/**
 * Provides location context for the rest of the app.
 *
 * Note: You usually won't render a <Router> directly. Instead, you'll render a
 * router that is more specific to your environment such as a <BrowserRouter>
 * in web browsers or a <StaticRouter> for server rendering.
 *
 * @see https://reactrouter.com/router-components/router
 */function ao(e){let{basename:t="/",children:n=null,location:i,navigationType:a=v.Pop,navigator:r,static:o=!1}=e;iZ()&&nW(!1);// Preserve trailing slashes on basename, so we can let the user control
// the enforcement of trailing slashes throughout the app
let s=t.replace(/^\/*/,"/"),l=eX.useMemo(()=>({basename:s,navigator:r,static:o}),[s,r,o]);"string"==typeof i&&(i=nJ(i));let{pathname:d="/",search:u="",hash:c="",state:h=null,key:p="default"}=i,g=eX.useMemo(()=>{let e=n4(d,s);return null==e?null:{location:{pathname:e,search:u,hash:c,state:h,key:p},navigationType:a}},[s,d,u,c,h,p,a]);return null==g?null:/*#__PURE__*/eX.createElement(iK.Provider,{value:l},/*#__PURE__*/eX.createElement(iX.Provider,{children:n,value:g}))}/**
 * A container for a nested tree of <Route> elements that renders the branch
 * that best matches the current location.
 *
 * @see https://reactrouter.com/components/routes
 */function as(e){let{children:t,location:n}=e;return i3(///////////////////////////////////////////////////////////////////////////////
// UTILS
///////////////////////////////////////////////////////////////////////////////
/**
 * Creates a route config from a React "children" object, which is usually
 * either a `<Route>` element or an array of them. Used internally by
 * `<Routes>` to create a route config from its children.
 *
 * @see https://reactrouter.com/utils/create-routes-from-children
 */function e(t,n){void 0===n&&(n=[]);let i=[];return eX.Children.forEach(t,(t,a)=>{if(!/*#__PURE__*/eX.isValidElement(t))// conditionals in their route config.
return;let r=[...n,a];if(t.type===eX.Fragment){// Transparently support React.Fragment and its children.
i.push.apply(i,e(t.props.children,r));return}t.type!==ar&&nW(!1),t.props.index&&t.props.children&&nW(!1);let o={id:t.props.id||r.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(o.children=e(t.props.children,r)),i.push(o)}),i}(t),n)}var al=((h=al||{})[h.pending=0]="pending",h[h.success=1]="success",h[h.error=2]="error",h);function ad(){return(ad=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function au(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}new Promise(()=>{});let ac=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],ah=["reloadDocument","replace","state","method","action","onSubmit","submit","relative","preventScrollReset"];eX.startTransition;let ap="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,ag=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,af=/*#__PURE__*/eX.forwardRef(function(e,t){let n,{onClick:i,relative:a,reloadDocument:r,replace:o,state:s,target:l,to:d,preventScrollReset:u}=e,c=au(e,ac),{basename:h}=eX.useContext(iK),p=!1;if("string"==typeof d&&ag.test(d)&&(// Render the absolute href server- and client-side
n=d,ap))try{let e=new URL(window.location.href),t=new URL(d.startsWith("//")?e.protocol+d:d),n=n4(t.pathname,h);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:p=!0}catch(e){}// Rendered into <a href> for relative URLs
let g=/**
 * Returns the full href for the given "to" value. This is useful for building
 * custom links that are also accessible and preserve right-click behavior.
 *
 * @see https://reactrouter.com/hooks/use-href
 */function(e,t){let{relative:n}=void 0===t?{}:t;iZ()||nW(!1);let{basename:i,navigator:a}=eX.useContext(iK),{hash:r,pathname:o,search:s}=i4(e,{relative:n}),l=o;return"/"!==i&&(l="/"===o?i:n9([i,o])),a.createHref({pathname:l,search:s,hash:r})}(d,{relative:a}),f=/**
 * Handles the click behavior for router `<Link>` components. This is useful if
 * you need to create custom `<Link>` components with the same click behavior we
 * use in our exported `<Link>`.
 */function(e,t){let{target:n,replace:i,state:a,preventScrollReset:r,relative:o}=void 0===t?{}:t,s=i1(),l=iQ(),d=i4(e,{relative:o});return eX.useCallback(t=>{0!==t.button||// Ignore everything but left clicks
n&&"_self"!==n||t.metaKey||t.altKey||t.ctrlKey||t.shiftKey||(t.preventDefault(),s(e,{replace:void 0!==i?i:nG(l)===nG(d),state:a,preventScrollReset:r,relative:o}))},[l,s,d,i,a,n,e,r,o])}(d,{replace:o,state:s,target:l,preventScrollReset:u,relative:a});return /*#__PURE__*/eX.createElement("a",ad({},c,{href:n||g,onClick:p||r?i:function(e){i&&i(e),e.defaultPrevented||f(e)},ref:t,target:l}))});(p=y||(y={})).UseScrollRestoration="useScrollRestoration",p.UseSubmit="useSubmit",p.UseSubmitFetcher="useSubmitFetcher",p.UseFetcher="useFetcher",(g=b||(b={})).UseFetchers="useFetchers",g.UseScrollRestoration="useScrollRestoration";var am={};am=S("lpwGa").getBundleURL("88FtB")+S("6TJWq").resolve("051d2");var av=nS()(class extends H{constructor(){super(),nH.get(`/api${window.location.pathname}`).then(()=>{this.setState({message:this.props.t("notification_emails_stopped")})}).catch(e=>{console.warn(e),this.setState({message:this.props.t("error")})})}render(){return $("div",null,this.state.message||"")}});function a_(e){return $(a0,{id:e.id,isChild:!0})}function ay(e){let{t:t}=nk(),[n,i]=tt(0),[a,r]=tt(0),o=t=>{let n=t.detail;n.parent&&nR.getId(n.parent)==e.id&&// The issue is that we can't simply increment lastDisplayedChild as it is not defined here
// Another issue is that a user could load a comment in the middle of the list and create a new one...
// The real answer is to make a paginated list but that is for another time
r(1024)},s=()=>{i(Math.max(0,n-10))},l=()=>{r(Math.min(e.childMessages.length,a+10))};return(ti(()=>{window.addEventListener("newChild",o);let t=0,n=0;if(e.childMessages.length){let i=nB.action?e.childMessages.findIndex(e=>e&&e.id===nB.action):-1;-1!=i?(t=Math.max(0,i-1),n=Math.min(e.childMessages.length,i+1)):(t=e.childMessages&&e.childMessages.length-5,n=e.childMessages&&e.childMessages.length)}i(t),r(n)},[]),a-n<1||!e.childMessages)?null:$("div",{class:"children"},n>0&&$("div",{class:"d-flex"},$("a",{class:"more-coms unselectable",onClick:()=>s()},t("previous_coms"))),e.childMessages.map((e,t)=>t<n||t>a?null:$(a_,{id:e.id,key:e.id})),a+1<e.childMessages.length&&$("div",{class:"d-flex"},$("span",{class:"more-coms unselectable",onClick:()=>l()},t("next_coms"))))}function ab(e){return $("div",{class:"message-head d-flex"},!e.isPublic&&$("div",null,$("img",{className:`rounded-circle material-shadow avatar${e.author&&e.author.name?"":" removed-user"}`,style:nR.backgroundHash(e.author&&e.author.name?e.author&&e.author.id:""),src:e.author&&e.author.avatar?nR.crop(e.author.avatar.id,100,100):nR.defaultAvatar,title:e.author&&e.author.name?e.author.name:""})),!e.isChild&&!e.isPublic&&$("div",{class:"infos"},$("span",{class:"capitalize author"},e.author&&e.author.name?e.author.name:"")))}let ax=// Fontawesome icons taken from https://raw.githubusercontent.com/FortAwesome/Font-Awesome/master/js/all.js
function(){let e={regular:{comment:[512,512,[],"f075","M256 32C114.6 32 0 125.1 0 240c0 47.6 19.9 91.2 52.9 126.3C38 405.7 7 439.1 6.5 439.5c-6.6 7-8.4 17.2-4.6 26S14.4 480 24 480c61.5 0 110-25.7 139.1-46.3C192 442.8 223.2 448 256 448c141.4 0 256-93.1 256-208S397.4 32 256 32zm0 368c-26.7 0-53.1-4.1-78.4-12.1l-22.7-7.2-19.5 13.8c-14.3 10.1-33.9 21.4-57.5 29 7.3-12.1 14.4-25.7 19.9-40.2l10.6-28.1-20.6-21.8C69.7 314.1 48 282.2 48 240c0-88.2 93.3-160 208-160s208 71.8 208 160-93.3 160-208 160z"],bookmark:[384,512,[],"f02e","M336 0H48C21.49 0 0 21.49 0 48v464l192-112 192 112V48c0-26.51-21.49-48-48-48zm0 428.43l-144-84-144 84V54a6 6 0 0 1 6-6h276c3.314 0 6 2.683 6 5.996V428.43z"],images:[576,512,[],"f302","M480 416v16c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V176c0-26.51 21.49-48 48-48h16v48H54a6 6 0 0 0-6 6v244a6 6 0 0 0 6 6h372a6 6 0 0 0 6-6v-10h48zm42-336H150a6 6 0 0 0-6 6v244a6 6 0 0 0 6 6h372a6 6 0 0 0 6-6V86a6 6 0 0 0-6-6zm6-48c26.51 0 48 21.49 48 48v256c0 26.51-21.49 48-48 48H144c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h384zM264 144c0 22.091-17.909 40-40 40s-40-17.909-40-40 17.909-40 40-40 40 17.909 40 40zm-72 96l39.515-39.515c4.686-4.686 12.284-4.686 16.971 0L288 240l103.515-103.515c4.686-4.686 12.284-4.686 16.971 0L480 208v80H192v-48z"],"check-circle":[512,512,[],"f058","M256 8C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm0 48c110.532 0 200 89.451 200 200 0 110.532-89.451 200-200 200-110.532 0-200-89.451-200-200 0-110.532 89.451-200 200-200m140.204 130.267l-22.536-22.718c-4.667-4.705-12.265-4.736-16.97-.068L215.346 303.697l-59.792-60.277c-4.667-4.705-12.265-4.736-16.97-.069l-22.719 22.536c-4.705 4.667-4.736 12.265-.068 16.971l90.781 91.516c4.667 4.705 12.265 4.736 16.97.068l172.589-171.204c4.704-4.668 4.734-12.266.067-16.971z"],"file-pdf":[384,512,[],"f1c1","M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm250.2-143.7c-12.2-12-47-8.7-64.4-6.5-17.2-10.5-28.7-25-36.8-46.3 3.9-16.1 10.1-40.6 5.4-56-4.2-26.2-37.8-23.6-42.6-5.9-4.4 16.1-.4 38.5 7 67.1-10 23.9-24.9 56-35.4 74.4-20 10.3-47 26.2-51 46.2-3.3 15.8 26 55.2 76.1-31.2 22.4-7.4 46.8-16.5 68.4-20.1 18.9 10.2 41 17 55.8 17 25.5 0 28-28.2 17.5-38.7zm-198.1 77.8c5.1-13.7 24.5-29.5 30.4-35-19 30.3-30.4 35.7-30.4 35zm81.6-190.6c7.4 0 6.7 32.1 1.8 40.8-4.4-13.9-4.3-40.8-1.8-40.8zm-24.4 136.6c9.7-16.9 18-37 24.7-54.7 8.3 15.1 18.9 27.2 30.1 35.5-20.8 4.3-38.9 13.1-54.8 19.2zm131.6-5s-5 6-37.3-7.8c35.1-2.6 40.9 5.4 37.3 7.8z"],bell:[448,512,[],"f0f3","M439.39 362.29c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71zM67.53 368c21.22-27.97 44.42-74.33 44.53-159.42 0-.2-.06-.38-.06-.58 0-61.86 50.14-112 112-112s112 50.14 112 112c0 .2-.06.38-.06.58.11 85.1 23.31 131.46 44.53 159.42H67.53zM224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64z"],"level-down-alt":[320,512,[],"f3be","M313.553 392.331L209.587 504.334c-9.485 10.214-25.676 10.229-35.174 0L70.438 392.331C56.232 377.031 67.062 352 88.025 352H152V80H68.024a11.996 11.996 0 0 1-8.485-3.515l-56-56C-4.021 12.926 1.333 0 12.024 0H208c13.255 0 24 10.745 24 24v328h63.966c20.878 0 31.851 24.969 17.587 40.331z"]},solid:{bookmark:[384,512,[],"f02e","M0 512V48C0 21.49 21.49 0 48 0h288c26.51 0 48 21.49 48 48v464L192 400 0 512z"],comment:[512,512,[],"f075","M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32z"],"pencil-alt":[512,512,[],"f303","M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"],"arrow-left":[448,512,[],"f060","M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"],"caret-down":[320,512,[],"f0d7","M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z"],film:[512,512,[],"f008","M488 64h-8v20c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12V64H96v20c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12V64h-8C10.7 64 0 74.7 0 88v336c0 13.3 10.7 24 24 24h8v-20c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v20h320v-20c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v20h8c13.3 0 24-10.7 24-24V88c0-13.3-10.7-24-24-24zM96 372c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm272 208c0 6.6-5.4 12-12 12H156c-6.6 0-12-5.4-12-12v-96c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v96zm0-168c0 6.6-5.4 12-12 12H156c-6.6 0-12-5.4-12-12v-96c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v96zm112 152c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40z"],times:[352,512,[],"f00d","M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"],bell:[448,512,[],"f0f3","M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"],"ellipsis-h":[512,512,[],"f141","M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"],search:[512,512,[],"f002","M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"]}}[this.props.family][this.props.icon];if(e)return $("svg",{style:this.props.rotation?`transform: rotate(${this.props.rotation})`:null,className:`fa-icon ${this.props.family} ${this.props.icon}`,viewBox:`0 0 ${e[0]} ${e[1]}`},$("path",{fill:"currentColor",d:e[4]}))},aw=es(),ak="undefined"!=typeof window?ta:ti,aS=(...e)=>{let t=td(aw),n=tt({});return ak(()=>t.on("@changed",(t,i)=>{e.some(e=>e in i)&&n[1]({})}),[]),ts(()=>{let n=t.get(),i={};return e.forEach(e=>{i[e]=n[e]}),i.dispatch=t.dispatch,i},[n[0]])};function aC(){return(aC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}let aE=function(e){let{t:t}=nk(),n=tt(e.id),[i,a]=tt(!1),[r,o]=tt(""),[s,l]=tt(""),[d,u]=tt([]),c=()=>{let e=nB.getParam("q"),t=nB.getParam("hashtags");o(e),l(t),a(!1),u([]),nH.post("/api/messages/search",{group:n,search:e,hashtags:t}).then(t=>{t&&Array.isArray(t.messages)&&(o(e),u(t.messages),a(!0))})};if(ti(()=>(c(),window.addEventListener("groupSearch",c),()=>{window.removeEventListener("groupSearch",c)}),[]),Array.isArray(d))return $("div",null,$("article",{id:"group",class:"justify-content-center d-flex"},$("div",{class:"search-results-container container-fluid d-flex justify-content-center flex-wrap"},0==d.length&&!i&&$("p",null,$("div",{class:"mt-5 spinner orange-spinner"},$("div",null),$("div",null),$("div",null),$("div",null),$("div",null))),0==d.length&&i&&$("p",null,t("search_without_result")),d.map((e,t)=>$(a3,{tabindex:t+1,key:e.id,message:e,groupId:n,search:r,hashtags:s})))))},aA=function(){let e=i2();return $("main",null,$(aL,null),$("div",{class:"content"},$("article",{class:"mb-3"},$("div",{class:"container pb-3"},$(aE,{key:e.id,id:e.id})))))},az=function(){let{t:e}=nk();return $(F,null,this.props.groups&&$("div",{class:"nav-link dropdown groups unselectable",tabindex:"-1",onClick:e=>e.currentTarget.classList.toggle("active")},$("div",{class:"unselectable pr-1"},e("groups")," ",$(ax,{family:"solid",icon:"caret-down"})),$("div",{class:"dropdown-menu dropdown-left"},this.props.groups.filter(e=>!!e).map(e=>$(af,{key:e.id,to:`/groups/${e.id}`,class:"d-block seamless-link unselectable"},e.name)),$(af,{to:"/create-group",class:"seamless-link unselectable"},`+ ${e("create_a_group")}`))))},aL=function(){let{t:e}=nk(),{bookmarks:t}=aS("bookmarks"),{me:n}=aS("me");return $("div",{class:"main-nav nav align-items-center z-index-100"},$("div",{class:"navbar-block"},$("div",{class:"menu dropdown cursor-pointer",tabindex:"-1",onClick:e=>e.currentTarget.classList.toggle("active")},$("div",{class:"rounded-circle avatar unselectable"},$("img",{class:"rounded-circle",style:nR.backgroundHash(n.id),src:n.avatar?nR.crop(n.avatar.id,80,80):nR.defaultAvatar,onError:e=>e.currentTarget.src=nR.defaultAvatar})),$("div",{class:"dropdown-menu dropdown-right"},t?.length>0&&$(af,{class:"d-block seamless-link capitalize",to:"/bookmarks"},e("bookmarks")),$(af,{class:"d-block seamless-link capitalize",to:`/users/${n.id}/settings`},e("settings")),$(af,{class:"d-block seamless-link capitalize",to:"/logout"},e("logout")))),$(aT,null)),["messages","groups"].includes(nB.route)&&$(aX,null),$("div",{class:"navbar-block"},$(az,{groups:n.groups})))},aT=function(){let{t:e}=nk(),{notifications:t}=aS("notifications");return t?$("div",{className:`menu dropdown${t.length?" cursor-pointer":""}`,title:e("notifications"),tabindex:"-1",onClick:e=>t.length&&e.currentTarget.classList.toggle("active")},$("div",{class:"unselectable button-with-count"},$(ax,{family:t.length?"solid":"regular",icon:"bell"}),!!t.filter(e=>!e.read).length&&$("div",{class:"unread-badge"})),$("div",{class:"dropdown-menu dropdown-right notifications-menu"},$("div",{class:"notification-header"},$("strong",{class:"capitalize"},e("notifications")),$("div",{class:"action capitalize",onClick:()=>{nU.markAllNotificationsAsRead()}},e("mark_all_as_read"))),t?.length&&t.sort((e,t)=>t.createdAt-e.createdAt).slice(0,nU.LIMIT).map(e=>$(aY,aC({key:e.id+e.read},e))))):null};var aP=nS()(class extends H{constructor(){super(),this.postNewGroup=this.postNewGroup.bind(this)}postNewGroup(e){e.preventDefault();let t=document.querySelector("#create_group_form input[name='name']").value,n={};if(!t)return!1;n.name=t,n.createdAt=Math.floor(Date.now()/1e3),nH.post("/api/groups",n).then(e=>{nH.post(`/api/groups/invitation/${e.secretKey}`,{}).then(e=>{window.location=nR.toApp(`/groups/${e.id}`)})})}render(){return $("main",null,$(aL,null),$("div",{class:"content"},$("div",{class:"container mt-2"},$("div",{class:"group-settings"},$("div",{class:"card"},$("div",{class:"card-body"},$("div",{class:"container-fluid p-1"},$("div",{class:"row"},$("div",{class:"col-12 col-md-10"},$("form",{id:"create_group_form",class:"mb-1"},$("div",{class:"form-group"},$("label",{for:"name"},this.props.t("name"),": "),$("input",{type:"text",name:"name",minlength:"1",maxlength:"128",placeholder:this.props.t("name_input"),class:"form-control",required:!0})),$("button",{onClick:e=>this.postNewGroup(e),class:"btn btn-primary"},this.props.t("create_the_group"))))))))))))}});class aO extends H{render(){let e=`${this.props.url}/size=large/bgcol=f5f5f5/linkcol=0687f5/minimal=true/tracklist=false/`;return this.state.revealed?$("div",{class:"bandcamp-embed embed-responsive embed-responsive-1by1"},$("iframe",{class:"embed-responsive-item",src:e})):$("div",{class:"embed-preview",onClick:()=>this.setState({revealed:!0})},$("div",{class:"bandcamp"}),$("img",{src:this.props.preview}))}}class aN extends H{render(){return this.state.revealed?$("div",{class:"embed-responsive embed-responsive-16by9"},$("iframe",{allowfullscreen:!0,class:"embed-responsive-item",src:this.props.url})):$("div",{class:"embed-preview",onClick:()=>this.setState({revealed:!0})},$("div",{className:this.props.playBtnClass}),$("img",{src:this.props.preview}))}}var aj={};aj=function(){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}var a=Date.now();function r(){var e={},t=!0,n=0,i=arguments.length;for("[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],n++);n<i;n++){var a=arguments[n];!function(n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t&&"[object Object]"===Object.prototype.toString.call(n[i])?e[i]=r(!0,e[i],n[i]):e[i]=n[i])}(a)}return e}function o(e,t){if((S(e)||e===window||e===document)&&(e=[e]),E(e)||A(e)||(e=[e]),0!=T(e)){if(E(e)&&!A(e))for(var n=e.length,i=0;i<n&&!1!==t.call(e[i],e[i],i,e);i++);else if(A(e)){for(var a in e)if(L(e,a)&&!1===t.call(e[a],e[a],a,e))break}}}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=e[a]=e[a]||[],r={all:i,evt:null,found:null};return t&&n&&T(i)>0&&o(i,function(e,i){if(e.eventName==t&&e.fn.toString()==n.toString())return r.found=!0,r.evt=i,!1}),r}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.onElement,i=t.withCallback,a=t.avoidDuplicate,r=void 0===a||a,l=t.once,d=void 0!==l&&l,u=t.useCapture,c=void 0!==u&&u,h=arguments.length>2?arguments[2]:void 0,p=n||[];function g(e){w(i)&&i.call(h,e,this),d&&g.destroy()}return k(p)&&(p=document.querySelectorAll(p)),g.destroy=function(){o(p,function(t){var n=s(t,e,g);n.found&&n.all.splice(n.evt,1),t.removeEventListener&&t.removeEventListener(e,g,c)})},o(p,function(t){var n=s(t,e,g);(t.addEventListener&&r&&!n.found||!r)&&(t.addEventListener(e,g,c),n.all.push({eventName:e,fn:g}))}),g}function d(e,t){o(t.split(" "),function(t){return e.classList.add(t)})}function u(e,t){o(t.split(" "),function(t){return e.classList.remove(t)})}function c(e,t){return e.classList.contains(t)}function h(e,t){for(;e!==document.body;){if(!(e=e.parentElement))return!1;if("function"==typeof e.matches?e.matches(t):e.msMatchesSelector(t))return e}}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e||""===t)return!1;if("none"===t)return w(n)&&n(),!1;var i=function(){var e,t=document.createElement("fakeelement"),n={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(e in n)if(void 0!==t.style[e])return n[e]}(),a=t.split(" ");o(a,function(t){d(e,"g"+t)}),l(i,{onElement:e,avoidDuplicate:!1,once:!0,withCallback:function(e,t){o(a,function(e){u(t,"g"+e)}),w(n)&&n()}})}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(""===t)return e.style.webkitTransform="",e.style.MozTransform="",e.style.msTransform="",e.style.OTransform="",e.style.transform="",!1;e.style.webkitTransform=t,e.style.MozTransform=t,e.style.msTransform=t,e.style.OTransform=t,e.style.transform=t}function f(e){e.style.display="block"}function m(e){e.style.display="none"}function v(e){var t=document.createDocumentFragment(),n=document.createElement("div");for(n.innerHTML=e;n.firstChild;)t.appendChild(n.firstChild);return t}function _(){return{width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}}function y(e,t,n,i){if(e())t();else{n||(n=100);var a,r=setInterval(function(){e()&&(clearInterval(r),a&&clearTimeout(a),t())},n);i&&(a=setTimeout(function(){clearInterval(r)},i))}}function b(e,t,n){if(z(e))console.error("Inject assets error");else if(w(t)&&(n=t,t=!1),k(t)&&t in window)w(n)&&n();else{var i;if(-1!==e.indexOf(".css")){if((i=document.querySelectorAll('link[href="'+e+'"]'))&&i.length>0)return void(w(n)&&n());var a=document.getElementsByTagName("head")[0],r=a.querySelectorAll('link[rel="stylesheet"]'),o=document.createElement("link");return o.rel="stylesheet",o.type="text/css",o.href=e,o.media="all",r?a.insertBefore(o,r[0]):a.appendChild(o),void(w(n)&&n())}if((i=document.querySelectorAll('script[src="'+e+'"]'))&&i.length>0){if(w(n)){if(k(t))return y(function(){return void 0!==window[t]},function(){n()}),!1;n()}}else{var s=document.createElement("script");s.type="text/javascript",s.src=e,s.onload=function(){if(w(n)){if(k(t))return y(function(){return void 0!==window[t]},function(){n()}),!1;n()}},document.body.appendChild(s)}}}function x(){return"navigator"in window&&window.navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(Android)|(PlayBook)|(BB10)|(BlackBerry)|(Opera Mini)|(IEMobile)|(webOS)|(MeeGo)/i)}function w(e){return"function"==typeof e}function k(e){return"string"==typeof e}function S(e){return!(!e||!e.nodeType||1!=e.nodeType)}function C(e){return Array.isArray(e)}function E(e){return e&&e.length&&isFinite(e.length)}function A(t){return"object"===e(t)&&null!=t&&!w(t)&&!C(t)}function z(e){return null==e}function L(e,t){return null!==e&&hasOwnProperty.call(e,t)}function T(e){if(A(e)){if(e.keys)return e.keys().length;var t=0;for(var n in e)L(e,n)&&t++;return t}return e.length}function P(e){return!isNaN(parseFloat(e))&&isFinite(e)}function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=document.querySelectorAll(".gbtn[data-taborder]:not(.disabled)");if(!t.length)return!1;if(1==t.length)return t[0];"string"==typeof e&&(e=parseInt(e));var n=[];o(t,function(e){n.push(e.getAttribute("data-taborder"))});var i=Math.max.apply(Math,n.map(function(e){return parseInt(e)})),a=e<0?1:e+1;a>i&&(a="1");var r=n.filter(function(e){return e>=parseInt(a)}).sort()[0];return document.querySelector('.gbtn[data-taborder="'.concat(r,'"]'))}function N(e){return Math.sqrt(e.x*e.x+e.y*e.y)}var j=function(){function e(n){t(this,e),this.handlers=[],this.el=n}return i(e,[{key:"add",value:function(e){this.handlers.push(e)}},{key:"del",value:function(e){e||(this.handlers=[]);for(var t=this.handlers.length;t>=0;t--)this.handlers[t]===e&&this.handlers.splice(t,1)}},{key:"dispatch",value:function(){for(var e=0,t=this.handlers.length;e<t;e++){var n=this.handlers[e];"function"==typeof n&&n.apply(this.el,arguments)}}}]),e}();function D(e,t){var n=new j(e);return n.add(t),n}var I=function(){function e(n,i){t(this,e),this.element="string"==typeof n?document.querySelector(n):n,this.start=this.start.bind(this),this.move=this.move.bind(this),this.end=this.end.bind(this),this.cancel=this.cancel.bind(this),this.element.addEventListener("touchstart",this.start,!1),this.element.addEventListener("touchmove",this.move,!1),this.element.addEventListener("touchend",this.end,!1),this.element.addEventListener("touchcancel",this.cancel,!1),this.preV={x:null,y:null},this.pinchStartLen=null,this.zoom=1,this.isDoubleTap=!1;var a=function(){};this.rotate=D(this.element,i.rotate||a),this.touchStart=D(this.element,i.touchStart||a),this.multipointStart=D(this.element,i.multipointStart||a),this.multipointEnd=D(this.element,i.multipointEnd||a),this.pinch=D(this.element,i.pinch||a),this.swipe=D(this.element,i.swipe||a),this.tap=D(this.element,i.tap||a),this.doubleTap=D(this.element,i.doubleTap||a),this.longTap=D(this.element,i.longTap||a),this.singleTap=D(this.element,i.singleTap||a),this.pressMove=D(this.element,i.pressMove||a),this.twoFingerPressMove=D(this.element,i.twoFingerPressMove||a),this.touchMove=D(this.element,i.touchMove||a),this.touchEnd=D(this.element,i.touchEnd||a),this.touchCancel=D(this.element,i.touchCancel||a),this.translateContainer=this.element,this._cancelAllHandler=this.cancelAll.bind(this),window.addEventListener("scroll",this._cancelAllHandler),this.delta=null,this.last=null,this.now=null,this.tapTimeout=null,this.singleTapTimeout=null,this.longTapTimeout=null,this.swipeTimeout=null,this.x1=this.x2=this.y1=this.y2=null,this.preTapPosition={x:null,y:null}}return i(e,[{key:"start",value:function(e){if(e.touches){if(e.target&&e.target.nodeName&&["a","button","input"].indexOf(e.target.nodeName.toLowerCase())>=0)console.log("ignore drag for this touched element",e.target.nodeName.toLowerCase());else{this.now=Date.now(),this.x1=e.touches[0].pageX,this.y1=e.touches[0].pageY,this.delta=this.now-(this.last||this.now),this.touchStart.dispatch(e,this.element),null!==this.preTapPosition.x&&(this.isDoubleTap=this.delta>0&&this.delta<=250&&30>Math.abs(this.preTapPosition.x-this.x1)&&30>Math.abs(this.preTapPosition.y-this.y1),this.isDoubleTap&&clearTimeout(this.singleTapTimeout)),this.preTapPosition.x=this.x1,this.preTapPosition.y=this.y1,this.last=this.now;var t=this.preV;if(e.touches.length>1){this._cancelLongTap(),this._cancelSingleTap();var n={x:e.touches[1].pageX-this.x1,y:e.touches[1].pageY-this.y1};t.x=n.x,t.y=n.y,this.pinchStartLen=N(t),this.multipointStart.dispatch(e,this.element)}this._preventTap=!1,this.longTapTimeout=setTimeout((function(){this.longTap.dispatch(e,this.element),this._preventTap=!0}).bind(this),750)}}}},{key:"move",value:function(e){if(e.touches){var t=this.preV,n=e.touches.length,i=e.touches[0].pageX,a=e.touches[0].pageY;if(this.isDoubleTap=!1,n>1){var r,o=e.touches[1].pageX,s=e.touches[1].pageY,l={x:e.touches[1].pageX-i,y:e.touches[1].pageY-a};null!==t.x&&(this.pinchStartLen>0&&(e.zoom=N(l)/this.pinchStartLen,this.pinch.dispatch(e,this.element)),e.angle=(r=function(e,t){var n=N(e)*N(t);if(0===n)return 0;var i=(e.x*t.x+e.y*t.y)/n;return i>1&&(i=1),Math.acos(i)}(l,t),l.x*t.y-t.x*l.y>0&&(r*=-1),180*r/Math.PI),this.rotate.dispatch(e,this.element)),t.x=l.x,t.y=l.y,null!==this.x2&&null!==this.sx2?(e.deltaX=(i-this.x2+o-this.sx2)/2,e.deltaY=(a-this.y2+s-this.sy2)/2):(e.deltaX=0,e.deltaY=0),this.twoFingerPressMove.dispatch(e,this.element),this.sx2=o,this.sy2=s}else{if(null!==this.x2){e.deltaX=i-this.x2,e.deltaY=a-this.y2;var d=Math.abs(this.x1-this.x2),u=Math.abs(this.y1-this.y2);(d>10||u>10)&&(this._preventTap=!0)}else e.deltaX=0,e.deltaY=0;this.pressMove.dispatch(e,this.element)}this.touchMove.dispatch(e,this.element),this._cancelLongTap(),this.x2=i,this.y2=a,n>1&&e.preventDefault()}}},{key:"end",value:function(e){if(e.changedTouches){this._cancelLongTap();var t=this;e.touches.length<2&&(this.multipointEnd.dispatch(e,this.element),this.sx2=this.sy2=null),this.x2&&Math.abs(this.x1-this.x2)>30||this.y2&&Math.abs(this.y1-this.y2)>30?(e.direction=this._swipeDirection(this.x1,this.x2,this.y1,this.y2),this.swipeTimeout=setTimeout(function(){t.swipe.dispatch(e,t.element)},0)):(this.tapTimeout=setTimeout(function(){t._preventTap||t.tap.dispatch(e,t.element),t.isDoubleTap&&(t.doubleTap.dispatch(e,t.element),t.isDoubleTap=!1)},0),t.isDoubleTap||(t.singleTapTimeout=setTimeout(function(){t.singleTap.dispatch(e,t.element)},250))),this.touchEnd.dispatch(e,this.element),this.preV.x=0,this.preV.y=0,this.zoom=1,this.pinchStartLen=null,this.x1=this.x2=this.y1=this.y2=null}}},{key:"cancelAll",value:function(){this._preventTap=!0,clearTimeout(this.singleTapTimeout),clearTimeout(this.tapTimeout),clearTimeout(this.longTapTimeout),clearTimeout(this.swipeTimeout)}},{key:"cancel",value:function(e){this.cancelAll(),this.touchCancel.dispatch(e,this.element)}},{key:"_cancelLongTap",value:function(){clearTimeout(this.longTapTimeout)}},{key:"_cancelSingleTap",value:function(){clearTimeout(this.singleTapTimeout)}},{key:"_swipeDirection",value:function(e,t,n,i){return Math.abs(e-t)>=Math.abs(n-i)?e-t>0?"Left":"Right":n-i>0?"Up":"Down"}},{key:"on",value:function(e,t){this[e]&&this[e].add(t)}},{key:"off",value:function(e,t){this[e]&&this[e].del(t)}},{key:"destroy",value:function(){return this.singleTapTimeout&&clearTimeout(this.singleTapTimeout),this.tapTimeout&&clearTimeout(this.tapTimeout),this.longTapTimeout&&clearTimeout(this.longTapTimeout),this.swipeTimeout&&clearTimeout(this.swipeTimeout),this.element.removeEventListener("touchstart",this.start),this.element.removeEventListener("touchmove",this.move),this.element.removeEventListener("touchend",this.end),this.element.removeEventListener("touchcancel",this.cancel),this.rotate.del(),this.touchStart.del(),this.multipointStart.del(),this.multipointEnd.del(),this.pinch.del(),this.swipe.del(),this.tap.del(),this.doubleTap.del(),this.longTap.del(),this.singleTap.del(),this.pressMove.del(),this.twoFingerPressMove.del(),this.touchMove.del(),this.touchEnd.del(),this.touchCancel.del(),this.preV=this.pinchStartLen=this.zoom=this.isDoubleTap=this.delta=this.last=this.now=this.tapTimeout=this.singleTapTimeout=this.longTapTimeout=this.swipeTimeout=this.x1=this.x2=this.y1=this.y2=this.preTapPosition=this.rotate=this.touchStart=this.multipointStart=this.multipointEnd=this.pinch=this.swipe=this.tap=this.doubleTap=this.longTap=this.singleTap=this.pressMove=this.touchMove=this.touchEnd=this.touchCancel=this.twoFingerPressMove=null,window.removeEventListener("scroll",this._cancelAllHandler),null}}]),e}();function R(e){var t=function(){var e,t=document.createElement("fakeelement"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in n)if(void 0!==t.style[e])return n[e]}(),n=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,i=c(e,"gslide-media")?e:e.querySelector(".gslide-media"),a=h(i,".ginner-container"),r=e.querySelector(".gslide-description");n>769&&(i=a),d(i,"greset"),g(i,"translate3d(0, 0, 0)"),l(t,{onElement:i,once:!0,withCallback:function(e,t){u(i,"greset")}}),i.style.opacity="",r&&(r.style.opacity="")}var M=function(){function e(n,i){var a=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(t(this,e),this.img=n,this.slide=i,this.onclose=r,this.img.setZoomEvents)return!1;this.active=!1,this.zoomedIn=!1,this.dragging=!1,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.img.addEventListener("mousedown",function(e){return a.dragStart(e)},!1),this.img.addEventListener("mouseup",function(e){return a.dragEnd(e)},!1),this.img.addEventListener("mousemove",function(e){return a.drag(e)},!1),this.img.addEventListener("click",function(e){return a.slide.classList.contains("dragging-nav")?(a.zoomOut(),!1):a.zoomedIn?void(a.zoomedIn&&!a.dragging&&a.zoomOut()):a.zoomIn()},!1),this.img.setZoomEvents=!0}return i(e,[{key:"zoomIn",value:function(){var e=this.widowWidth();if(!(this.zoomedIn||e<=768)){var t=this.img;if(t.setAttribute("data-style",t.getAttribute("style")),t.style.maxWidth=t.naturalWidth+"px",t.style.maxHeight=t.naturalHeight+"px",t.naturalWidth>e){var n=e/2-t.naturalWidth/2;this.setTranslate(this.img.parentNode,n,0)}this.slide.classList.add("zoomed"),this.zoomedIn=!0}}},{key:"zoomOut",value:function(){this.img.parentNode.setAttribute("style",""),this.img.setAttribute("style",this.img.getAttribute("data-style")),this.slide.classList.remove("zoomed"),this.zoomedIn=!1,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.onclose&&"function"==typeof this.onclose&&this.onclose()}},{key:"dragStart",value:function(e){e.preventDefault(),this.zoomedIn?("touchstart"===e.type?(this.initialX=e.touches[0].clientX-this.xOffset,this.initialY=e.touches[0].clientY-this.yOffset):(this.initialX=e.clientX-this.xOffset,this.initialY=e.clientY-this.yOffset),e.target===this.img&&(this.active=!0,this.img.classList.add("dragging"))):this.active=!1}},{key:"dragEnd",value:function(e){var t=this;e.preventDefault(),this.initialX=this.currentX,this.initialY=this.currentY,this.active=!1,setTimeout(function(){t.dragging=!1,t.img.isDragging=!1,t.img.classList.remove("dragging")},100)}},{key:"drag",value:function(e){this.active&&(e.preventDefault(),"touchmove"===e.type?(this.currentX=e.touches[0].clientX-this.initialX,this.currentY=e.touches[0].clientY-this.initialY):(this.currentX=e.clientX-this.initialX,this.currentY=e.clientY-this.initialY),this.xOffset=this.currentX,this.yOffset=this.currentY,this.img.isDragging=!0,this.dragging=!0,this.setTranslate(this.img,this.currentX,this.currentY))}},{key:"onMove",value:function(e){if(this.zoomedIn){var t=e.clientX-this.img.naturalWidth/2,n=e.clientY-this.img.naturalHeight/2;this.setTranslate(this.img,t,n)}}},{key:"setTranslate",value:function(e,t,n){e.style.transform="translate3d("+t+"px, "+n+"px, 0)"}},{key:"widowWidth",value:function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}}]),e}(),$=function(){function e(){var n=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,e);var a=i.dragEl,r=i.toleranceX,o=i.toleranceY,s=i.slide,l=i.instance;this.el=a,this.active=!1,this.dragging=!1,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.direction=null,this.lastDirection=null,this.toleranceX=void 0===r?40:r,this.toleranceY=void 0===o?65:o,this.toleranceReached=!1,this.dragContainer=this.el,this.slide=void 0===s?null:s,this.instance=void 0===l?null:l,this.el.addEventListener("mousedown",function(e){return n.dragStart(e)},!1),this.el.addEventListener("mouseup",function(e){return n.dragEnd(e)},!1),this.el.addEventListener("mousemove",function(e){return n.drag(e)},!1)}return i(e,[{key:"dragStart",value:function(e){if(this.slide.classList.contains("zoomed"))this.active=!1;else{"touchstart"===e.type?(this.initialX=e.touches[0].clientX-this.xOffset,this.initialY=e.touches[0].clientY-this.yOffset):(this.initialX=e.clientX-this.xOffset,this.initialY=e.clientY-this.yOffset);var t=e.target.nodeName.toLowerCase();e.target.classList.contains("nodrag")||h(e.target,".nodrag")||-1!==["input","select","textarea","button","a"].indexOf(t)?this.active=!1:(e.preventDefault(),(e.target===this.el||"img"!==t&&h(e.target,".gslide-inline"))&&(this.active=!0,this.el.classList.add("dragging"),this.dragContainer=h(e.target,".ginner-container")))}}},{key:"dragEnd",value:function(e){var t=this;e&&e.preventDefault(),this.initialX=0,this.initialY=0,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.active=!1,this.doSlideChange&&(this.instance.preventOutsideClick=!0,"right"==this.doSlideChange&&this.instance.prevSlide(),"left"==this.doSlideChange&&this.instance.nextSlide()),this.doSlideClose&&this.instance.close(),this.toleranceReached||this.setTranslate(this.dragContainer,0,0,!0),setTimeout(function(){t.instance.preventOutsideClick=!1,t.toleranceReached=!1,t.lastDirection=null,t.dragging=!1,t.el.isDragging=!1,t.el.classList.remove("dragging"),t.slide.classList.remove("dragging-nav"),t.dragContainer.style.transform="",t.dragContainer.style.transition=""},100)}},{key:"drag",value:function(e){if(this.active){e.preventDefault(),this.slide.classList.add("dragging-nav"),"touchmove"===e.type?(this.currentX=e.touches[0].clientX-this.initialX,this.currentY=e.touches[0].clientY-this.initialY):(this.currentX=e.clientX-this.initialX,this.currentY=e.clientY-this.initialY),this.xOffset=this.currentX,this.yOffset=this.currentY,this.el.isDragging=!0,this.dragging=!0,this.doSlideChange=!1,this.doSlideClose=!1;var t=Math.abs(this.currentX),n=Math.abs(this.currentY);if(t>0&&t>=Math.abs(this.currentY)&&(!this.lastDirection||"x"==this.lastDirection)){this.yOffset=0,this.lastDirection="x",this.setTranslate(this.dragContainer,this.currentX,0);var i=this.shouldChange();if(!this.instance.settings.dragAutoSnap&&i&&(this.doSlideChange=i),this.instance.settings.dragAutoSnap&&i)return this.instance.preventOutsideClick=!0,this.toleranceReached=!0,this.active=!1,this.instance.preventOutsideClick=!0,this.dragEnd(null),"right"==i&&this.instance.prevSlide(),void("left"==i&&this.instance.nextSlide())}if(this.toleranceY>0&&n>0&&n>=t&&(!this.lastDirection||"y"==this.lastDirection)){this.xOffset=0,this.lastDirection="y",this.setTranslate(this.dragContainer,0,this.currentY);var a=this.shouldClose();return!this.instance.settings.dragAutoSnap&&a&&(this.doSlideClose=!0),void(this.instance.settings.dragAutoSnap&&a&&this.instance.close())}}}},{key:"shouldChange",value:function(){var e=!1;if(Math.abs(this.currentX)>=this.toleranceX){var t=this.currentX>0?"right":"left";("left"==t&&this.slide!==this.slide.parentNode.lastChild||"right"==t&&this.slide!==this.slide.parentNode.firstChild)&&(e=t)}return e}},{key:"shouldClose",value:function(){var e=!1;return Math.abs(this.currentY)>=this.toleranceY&&(e=!0),e}},{key:"setTranslate",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.style.transition=i?"all .2s ease":"",e.style.transform="translate3d(".concat(t,"px, ").concat(n,"px, 0)")}}]),e}();function U(e,t,n,i){var a=this,r=e.querySelector(".ginner-container"),o="gvideo"+n,s=e.querySelector(".gslide-media"),l=this.getAllPlayers();d(r,"gvideo-container"),s.insertBefore(v('<div class="gvideo-wrapper"></div>'),s.firstChild);var u=e.querySelector(".gvideo-wrapper");b(this.settings.plyr.css,"Plyr");var c=t.href,h=null==t?void 0:t.videoProvider,p=!1;s.style.maxWidth=t.width,b(this.settings.plyr.js,"Plyr",function(){if(!h&&c.match(/vimeo\.com\/([0-9]*)/)&&(h="vimeo"),!h&&(c.match(/(youtube\.com|youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/)||c.match(/youtu\.be\/([a-zA-Z0-9\-_]+)/)||c.match(/(youtube\.com|youtube-nocookie\.com)\/embed\/([a-zA-Z0-9\-_]+)/))&&(h="youtube"),"local"===h||!h){h="local";var r='<video id="'+o+'" ';r+='style="background:#000; max-width: '.concat(t.width,';" ')+'preload="metadata" x-webkit-airplay="allow" playsinline controls class="gvideo-local">'+'<source src="'.concat(c,'">'),p=v(r+="</video>")}var s=p||v('<div id="'.concat(o,'" data-plyr-provider="').concat(h,'" data-plyr-embed-id="').concat(c,'"></div>'));d(u,"".concat(h,"-video gvideo")),u.appendChild(s),u.setAttribute("data-id",o),u.setAttribute("data-index",n);var g=L(a.settings.plyr,"config")?a.settings.plyr.config:{},f=new Plyr("#"+o,g);f.on("ready",function(e){l[o]=e.detail.plyr,w(i)&&i()}),y(function(){return e.querySelector("iframe")&&"true"==e.querySelector("iframe").dataset.ready},function(){a.resize(e)}),f.on("enterfullscreen",B),f.on("exitfullscreen",B)})}function B(e){var t=h(e.target,".gslide-media");"enterfullscreen"===e.type&&d(t,"fullscreen"),"exitfullscreen"===e.type&&u(t,"fullscreen")}function F(e,t,n,i){var a,r=this,o=e.querySelector(".gslide-media"),s=!(!L(t,"href")||!t.href)&&t.href.split("#").pop().trim(),u=!(!L(t,"content")||!t.content)&&t.content;if(u&&(k(u)&&(a=v('<div class="ginlined-content">'.concat(u,"</div>"))),S(u))){"none"==u.style.display&&(u.style.display="block");var c=document.createElement("div");c.className="ginlined-content",c.appendChild(u),a=c}if(s){var h=document.getElementById(s);if(!h)return!1;var p=h.cloneNode(!0);p.style.height=t.height,p.style.maxWidth=t.width,d(p,"ginlined-content"),a=p}if(!a)return console.error("Unable to append inline slide content",t),!1;o.style.height=t.height,o.style.width=t.width,o.appendChild(a),this.events["inlineclose"+s]=l("click",{onElement:o.querySelectorAll(".gtrigger-close"),withCallback:function(e){e.preventDefault(),r.close()}}),w(i)&&i()}function H(e,t,n,i){var a,r,o,s,l,u,c=e.querySelector(".gslide-media"),h=(r=(a={url:t.href,callback:i}).url,o=a.allow,s=a.callback,l=a.appendTo,(u=document.createElement("iframe")).className="vimeo-video gvideo",u.src=r,u.style.width="100%",u.style.height="100%",o&&u.setAttribute("allow",o),u.onload=function(){u.onload=null,d(u,"node-ready"),w(s)&&s()},l&&l.appendChild(u),u);c.parentNode.style.maxWidth=t.width,c.parentNode.style.height=t.height,c.appendChild(h)}var V=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,e),this.defaults={href:"",sizes:"",srcset:"",title:"",type:"",videoProvider:"",description:"",alt:"",descPosition:"bottom",effect:"",width:"",height:"",content:!1,zoomable:!0,draggable:!0},A(n)&&(this.defaults=r(this.defaults,n))}return i(e,[{key:"sourceType",value:function(e){var t=e;return null!==(e=e.toLowerCase()).match(/\.(jpeg|jpg|jpe|gif|png|apn|webp|avif|svg)/)?"image":e.match(/(youtube\.com|youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/)||e.match(/youtu\.be\/([a-zA-Z0-9\-_]+)/)||e.match(/(youtube\.com|youtube-nocookie\.com)\/embed\/([a-zA-Z0-9\-_]+)/)||e.match(/vimeo\.com\/([0-9]*)/)||null!==e.match(/\.(mp4|ogg|webm|mov)/)?"video":null!==e.match(/\.(mp3|wav|wma|aac|ogg)/)?"audio":e.indexOf("#")>-1&&""!==t.split("#").pop().trim()?"inline":e.indexOf("goajax=true")>-1?"ajax":"external"}},{key:"parseConfig",value:function(e,t){var n,i=this,a=r({descPosition:t.descPosition},this.defaults);if(A(e)&&!S(e)){L(e,"type")||(L(e,"content")&&e.content?e.type="inline":L(e,"href")&&(e.type=this.sourceType(e.href)));var s=r(a,e);return this.setSize(s,t),s}var l="",d=e.getAttribute("data-glightbox"),u=e.nodeName.toLowerCase();if("a"===u&&(l=e.href),"img"===u&&(l=e.src,a.alt=e.alt),a.href=l,o(a,function(n,r){L(t,r)&&"width"!==r&&(a[r]=t[r]);var o=e.dataset[r];z(o)||(a[r]=i.sanitizeValue(o))}),a.content&&(a.type="inline"),!a.type&&l&&(a.type=this.sourceType(l)),z(d)){if(!a.title&&"a"==u){var c=e.title;z(c)||""===c||(a.title=c)}if(!a.title&&"img"==u){var h=e.alt;z(h)||""===h||(a.title=h)}}else{var p=[];o(a,function(e,t){p.push(";\\s?"+t)}),p=p.join("\\s?:|"),""!==d.trim()&&o(a,function(e,t){var n=RegExp("s?"+t+"s?:s?(.*?)("+p+"s?:|$)"),r=d.match(n);if(r&&r.length&&r[1]){var o=r[1].trim().replace(/;\s*$/,"");a[t]=i.sanitizeValue(o)}})}if(a.description&&"."===a.description.substring(0,1)){try{n=document.querySelector(a.description).innerHTML}catch(e){if(!(e instanceof DOMException))throw e}n&&(a.description=n)}if(!a.description){var g=e.querySelector(".glightbox-desc");g&&(a.description=g.innerHTML)}return this.setSize(a,t,e),this.slideConfig=a,a}},{key:"setSize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i="video"==e.type?this.checkSize(t.videosWidth):this.checkSize(t.width),a=this.checkSize(t.height);return e.width=L(e,"width")&&""!==e.width?this.checkSize(e.width):i,e.height=L(e,"height")&&""!==e.height?this.checkSize(e.height):a,n&&"image"==e.type&&(e._hasCustomWidth=!!n.dataset.width,e._hasCustomHeight=!!n.dataset.height),e}},{key:"checkSize",value:function(e){return P(e)?"".concat(e,"px"):e}},{key:"sanitizeValue",value:function(e){return"true"!==e&&"false"!==e?e:"true"===e}}]),e}(),q=function(){function e(n,i,a){t(this,e),this.element=n,this.instance=i,this.index=a}return i(e,[{key:"setContent",value:function(){var e,t,n,i,a=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(c(r,"loaded"))return!1;var s=this.instance.settings,l=this.slideConfig,u=x();w(s.beforeSlideLoad)&&s.beforeSlideLoad({index:this.index,slide:r,player:!1});var h=l.type,p=l.descPosition,g=r.querySelector(".gslide-media"),f=r.querySelector(".gslide-title"),m=r.querySelector(".gslide-desc"),v=r.querySelector(".gdesc-inner"),_=o,y="gSlideTitle_"+this.index,b="gSlideDesc_"+this.index;if(w(s.afterSlideLoad)&&(_=function(){w(o)&&o(),s.afterSlideLoad({index:a.index,slide:r,player:a.instance.getSlidePlayerInstance(a.index)})}),""==l.title&&""==l.description?v&&v.parentNode.parentNode.removeChild(v.parentNode):(f&&""!==l.title?(f.id=y,f.innerHTML=l.title):f.parentNode.removeChild(f),m&&""!==l.description?(m.id=b,u&&s.moreLength>0?(l.smallDescription=this.slideShortDesc(l.description,s.moreLength,s.moreText),m.innerHTML=l.smallDescription,this.descriptionEvents(m,l)):m.innerHTML=l.description):m.parentNode.removeChild(m),d(g.parentNode,"desc-".concat(p)),d(v.parentNode,"description-".concat(p))),d(g,"gslide-".concat(h)),d(r,"loaded"),"video"!==h){if("external"!==h)return"inline"===h?(F.apply(this.instance,[r,l,this.index,_]),void(l.draggable&&new $({dragEl:r.querySelector(".gslide-inline"),toleranceX:s.dragToleranceX,toleranceY:s.dragToleranceY,slide:r,instance:this.instance}))):void("image"!==h?w(_)&&_():(e=this.index,t=function(){var e=r.querySelector("img");l.draggable&&new $({dragEl:e,toleranceX:s.dragToleranceX,toleranceY:s.dragToleranceY,slide:r,instance:a.instance}),l.zoomable&&e.naturalWidth>e.offsetWidth&&(d(e,"zoomable"),new M(e,r,function(){a.instance.resize()})),w(_)&&_()},n=r.querySelector(".gslide-media"),(i=new Image).addEventListener("load",function(){w(t)&&t()},!1),i.src=l.href,""!=l.sizes&&""!=l.srcset&&(i.sizes=l.sizes,i.srcset=l.srcset),i.alt="",z(l.alt)||""===l.alt||(i.alt=l.alt),""!==l.title&&i.setAttribute("aria-labelledby","gSlideTitle_"+e),""!==l.description&&i.setAttribute("aria-describedby","gSlideDesc_"+e),l.hasOwnProperty("_hasCustomWidth")&&l._hasCustomWidth&&(i.style.width=l.width),l.hasOwnProperty("_hasCustomHeight")&&l._hasCustomHeight&&(i.style.height=l.height),n.insertBefore(i,n.firstChild)));H.apply(this,[r,l,this.index,_])}else U.apply(this.instance,[r,l,this.index,_])}},{key:"slideShortDesc",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=document.createElement("div");if(i.innerHTML=e,(e=i.innerText.trim()).length<=t)return e;var a=e.substr(0,t-1);return n?(i=null,a+'... <a href="#" class="desc-more">'+n+"</a>"):a}},{key:"descriptionEvents",value:function(e,t){var n=this,i=e.querySelector(".desc-more");if(!i)return!1;l("click",{onElement:i,withCallback:function(e,i){e.preventDefault();var a=document.body,r=h(i,".gslide-desc");if(!r)return!1;r.innerHTML=t.description,d(a,"gdesc-open");var o=l("click",{onElement:[a,h(r,".gslide-description")],withCallback:function(e,i){"a"!==e.target.nodeName.toLowerCase()&&(u(a,"gdesc-open"),d(a,"gdesc-closed"),r.innerHTML=t.smallDescription,n.descriptionEvents(r,t),setTimeout(function(){u(a,"gdesc-closed")},400),o.destroy())}})}})}},{key:"create",value:function(){return v(this.instance.settings.slideHTML)}},{key:"getConfig",value:function(){S(this.element)||this.element.hasOwnProperty("draggable")||(this.element.draggable=this.instance.settings.draggable);var e=new V(this.instance.settings.slideExtraAttributes);return this.slideConfig=e.parseConfig(this.element,this.instance.settings),this.slideConfig}}]),e}(),W=x(),Y=null!==x()||void 0!==document.createTouch||"ontouchstart"in window||"onmsgesturechange"in window||navigator.msMaxTouchPoints,K=document.getElementsByTagName("html")[0],X={selector:".glightbox",elements:null,skin:"clean",theme:"clean",closeButton:!0,startAt:null,autoplayVideos:!0,autofocusVideos:!0,descPosition:"bottom",width:"900px",height:"506px",videosWidth:"960px",beforeSlideChange:null,afterSlideChange:null,beforeSlideLoad:null,afterSlideLoad:null,slideInserted:null,slideRemoved:null,slideExtraAttributes:null,onOpen:null,onClose:null,loop:!1,zoomable:!0,draggable:!0,dragAutoSnap:!1,dragToleranceX:40,dragToleranceY:65,preload:!0,oneSlidePerOpen:!1,touchNavigation:!0,touchFollowAxis:!0,keyboardNavigation:!0,closeOnOutsideClick:!0,plugins:!1,plyr:{css:"https://cdn.plyr.io/3.6.12/plyr.css",js:"https://cdn.plyr.io/3.6.12/plyr.js",config:{ratio:"16:9",fullscreen:{enabled:!0,iosNative:!0},youtube:{noCookie:!0,rel:0,showinfo:0,iv_load_policy:3},vimeo:{byline:!1,portrait:!1,title:!1,transparent:!1}}},openEffect:"zoom",closeEffect:"zoom",slideEffect:"slide",moreText:"See more",moreLength:60,cssEfects:{fade:{in:"fadeIn",out:"fadeOut"},zoom:{in:"zoomIn",out:"zoomOut"},slide:{in:"slideInRight",out:"slideOutLeft"},slideBack:{in:"slideInLeft",out:"slideOutRight"},none:{in:"none",out:"none"}},svg:{close:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" xml:space="preserve"><g><g><path d="M505.943,6.058c-8.077-8.077-21.172-8.077-29.249,0L6.058,476.693c-8.077,8.077-8.077,21.172,0,29.249C10.096,509.982,15.39,512,20.683,512c5.293,0,10.586-2.019,14.625-6.059L505.943,35.306C514.019,27.23,514.019,14.135,505.943,6.058z"/></g></g><g><g><path d="M505.942,476.694L35.306,6.059c-8.076-8.077-21.172-8.077-29.248,0c-8.077,8.076-8.077,21.171,0,29.248l470.636,470.636c4.038,4.039,9.332,6.058,14.625,6.058c5.293,0,10.587-2.019,14.624-6.057C514.018,497.866,514.018,484.771,505.942,476.694z"/></g></g></svg>',next:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 477.175 477.175" xml:space="preserve"> <g><path d="M360.731,229.075l-225.1-225.1c-5.3-5.3-13.8-5.3-19.1,0s-5.3,13.8,0,19.1l215.5,215.5l-215.5,215.5c-5.3,5.3-5.3,13.8,0,19.1c2.6,2.6,6.1,4,9.5,4c3.4,0,6.9-1.3,9.5-4l225.1-225.1C365.931,242.875,365.931,234.275,360.731,229.075z"/></g></svg>',prev:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 477.175 477.175" xml:space="preserve"><g><path d="M145.188,238.575l215.5-215.5c5.3-5.3,5.3-13.8,0-19.1s-13.8-5.3-19.1,0l-225.1,225.1c-5.3,5.3-5.3,13.8,0,19.1l225.1,225c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1L145.188,238.575z"/></g></svg>'},slideHTML:'<div class="gslide">\n    <div class="gslide-inner-content">\n        <div class="ginner-container">\n            <div class="gslide-media">\n            </div>\n            <div class="gslide-description">\n                <div class="gdesc-inner">\n                    <h4 class="gslide-title"></h4>\n                    <div class="gslide-desc"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>',lightboxHTML:'<div id="glightbox-body" class="glightbox-container" tabindex="-1" role="dialog" aria-hidden="false">\n    <div class="gloader visible"></div>\n    <div class="goverlay"></div>\n    <div class="gcontainer">\n    <div id="glightbox-slider" class="gslider"></div>\n    <button class="gclose gbtn" aria-label="Close" data-taborder="3">{closeSVG}</button>\n    <button class="gprev gbtn" aria-label="Previous" data-taborder="2">{prevSVG}</button>\n    <button class="gnext gbtn" aria-label="Next" data-taborder="1">{nextSVG}</button>\n</div>\n</div>'},G=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,e),this.customOptions=n,this.settings=r(X,n),this.effectsClasses=this.getAnimationClasses(),this.videoPlayers={},this.apiEvents=[],this.fullElementsList=!1}return i(e,[{key:"init",value:function(){var e=this,t=this.getSelector();t&&(this.baseEvents=l("click",{onElement:t,withCallback:function(t,n){t.preventDefault(),e.open(n)}})),this.elements=this.getElements()}},{key:"open",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(0===this.elements.length)return!1;this.activeSlide=null,this.prevActiveSlideIndex=null,this.prevActiveSlide=null;var i=P(n)?n:this.settings.startAt;if(S(t)){var a=t.getAttribute("data-gallery");a&&(this.fullElementsList=this.elements,this.elements=this.getGalleryElements(this.elements,a)),z(i)&&(i=this.getElementIndex(t))<0&&(i=0)}P(i)||(i=0),this.build(),p(this.overlay,"none"===this.settings.openEffect?"none":this.settings.cssEfects.fade.in);var r=document.body,o=window.innerWidth-document.documentElement.clientWidth;if(o>0){var s=document.createElement("style");s.type="text/css",s.className="gcss-styles",s.innerText=".gscrollbar-fixer {margin-right: ".concat(o,"px}"),document.head.appendChild(s),d(r,"gscrollbar-fixer")}d(r,"glightbox-open"),d(K,"glightbox-open"),W&&(d(document.body,"glightbox-mobile"),this.settings.slideEffect="slide"),this.showSlide(i,!0),1===this.elements.length?(d(this.prevButton,"glightbox-button-hidden"),d(this.nextButton,"glightbox-button-hidden")):(u(this.prevButton,"glightbox-button-hidden"),u(this.nextButton,"glightbox-button-hidden")),this.lightboxOpen=!0,this.trigger("open"),w(this.settings.onOpen)&&this.settings.onOpen(),Y&&this.settings.touchNavigation&&function(e){if(e.events.hasOwnProperty("touch"))return 0;var t,n,i,a=_(),r=a.width,o=a.height,s=!1,l=null,p=null,f=null,m=!1,v=1,y=1,b=!1,x=!1,w=null,k=null,S=null,C=null,E=0,A=0,z=!1,L=!1,T={},P={},O=0,N=0,j=document.getElementById("glightbox-slider"),D=document.querySelector(".goverlay"),M=new I(j,{touchStart:function(t){s=!0,(c(t.targetTouches[0].target,"ginner-container")||h(t.targetTouches[0].target,".gslide-desc")||"a"==t.targetTouches[0].target.nodeName.toLowerCase())&&(s=!1),h(t.targetTouches[0].target,".gslide-inline")&&!c(t.targetTouches[0].target.parentNode,"gslide-inline")&&(s=!1),!s||(P=t.targetTouches[0],T.pageX=t.targetTouches[0].pageX,T.pageY=t.targetTouches[0].pageY,O=t.targetTouches[0].clientX,N=t.targetTouches[0].clientY,p=(l=e.activeSlide).querySelector(".gslide-media"),i=l.querySelector(".gslide-inline"),f=null,c(p,"gslide-image")&&(f=p.querySelector("img")),(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)>769&&(p=l.querySelector(".ginner-container")),u(D,"greset"),t.pageX>20&&t.pageX<window.innerWidth-20||t.preventDefault())},touchMove:function(a){if(s&&(P=a.targetTouches[0],!b&&!x)){if(i&&i.offsetHeight>o&&13>=Math.abs(T.pageX-P.pageX))return!1;m=!0;var l,d=a.targetTouches[0].clientX,u=a.targetTouches[0].clientY;if(Math.abs(O-d)>Math.abs(N-u)?(z=!1,L=!0):(L=!1,z=!0),E=100*(t=P.pageX-T.pageX)/r,A=100*(n=P.pageY-T.pageY)/o,z&&f&&(l=1-Math.abs(n)/o,D.style.opacity=l,e.settings.touchFollowAxis&&(E=0)),L&&(l=1-Math.abs(t)/r,p.style.opacity=l,e.settings.touchFollowAxis&&(A=0)),!f)return g(p,"translate3d(".concat(E,"%, 0, 0)"));g(p,"translate3d(".concat(E,"%, ").concat(A,"%, 0)"))}},touchEnd:function(){if(s){if(m=!1,x||b)return S=w,void(C=k);var t=Math.abs(parseInt(A)),n=Math.abs(parseInt(E));if(!(t>29&&f))return t<29&&n<25?(d(D,"greset"),D.style.opacity=1,R(p)):void 0;e.close()}},multipointEnd:function(){setTimeout(function(){b=!1},50)},multipointStart:function(){b=!0,v=y||1},pinch:function(e){if(!f||m)return!1;b=!0,f.scaleX=f.scaleY=v*e.zoom;var t=v*e.zoom;if(x=!0,t<=1)return x=!1,t=1,C=null,S=null,w=null,k=null,void f.setAttribute("style","");t>4.5&&(t=4.5),f.style.transform="scale3d(".concat(t,", ").concat(t,", 1)"),y=t},pressMove:function(e){if(x&&!b){var t=P.pageX-T.pageX,n=P.pageY-T.pageY;S&&(t+=S),C&&(n+=C),w=t,k=n;var i="translate3d(".concat(t,"px, ").concat(n,"px, 0)");y&&(i+=" scale3d(".concat(y,", ").concat(y,", 1)")),g(f,i)}},swipe:function(t){if(!x){if(b)b=!1;else{if("Left"==t.direction){if(e.index==e.elements.length-1)return R(p);e.nextSlide()}if("Right"==t.direction){if(0==e.index)return R(p);e.prevSlide()}}}}});e.events.touch=M}(this),this.settings.keyboardNavigation&&(e=this,e.events.hasOwnProperty("keyboard")||(e.events.keyboard=l("keydown",{onElement:window,withCallback:function(t,n){var i=(t=t||window.event).keyCode;if(9==i){var a=document.querySelector(".gbtn.focused");if(!a){var r=!(!document.activeElement||!document.activeElement.nodeName)&&document.activeElement.nodeName.toLocaleLowerCase();if("input"==r||"textarea"==r||"button"==r)return}t.preventDefault();var o=document.querySelectorAll(".gbtn[data-taborder]");if(!o||o.length<=0)return;if(!a){var s=O();return void(s&&(s.focus(),d(s,"focused")))}var l=O(a.getAttribute("data-taborder"));u(a,"focused"),l&&(l.focus(),d(l,"focused"))}39==i&&e.nextSlide(),37==i&&e.prevSlide(),27==i&&e.close()}})))}},{key:"openAt",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.open(null,e)}},{key:"showSlide",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];f(this.loader),this.index=parseInt(t);var i=this.slidesContainer.querySelector(".current");i&&u(i,"current"),this.slideAnimateOut();var a=this.slidesContainer.querySelectorAll(".gslide")[t];if(c(a,"loaded"))this.slideAnimateIn(a,n),m(this.loader);else{f(this.loader);var r=this.elements[t],o={index:this.index,slide:a,slideNode:a,slideConfig:r.slideConfig,slideIndex:this.index,trigger:r.node,player:null};this.trigger("slide_before_load",o),r.instance.setContent(a,function(){m(e.loader),e.resize(),e.slideAnimateIn(a,n),e.trigger("slide_after_load",o)})}this.slideDescription=a.querySelector(".gslide-description"),this.slideDescriptionContained=this.slideDescription&&c(this.slideDescription.parentNode,"gslide-media"),this.settings.preload&&(this.preloadSlide(t+1),this.preloadSlide(t-1)),this.updateNavigationClasses(),this.activeSlide=a}},{key:"preloadSlide",value:function(e){var t=this;if(e<0||e>this.elements.length-1||z(this.elements[e]))return!1;var n=this.slidesContainer.querySelectorAll(".gslide")[e];if(c(n,"loaded"))return!1;var i=this.elements[e],a=i.type,r={index:e,slide:n,slideNode:n,slideConfig:i.slideConfig,slideIndex:e,trigger:i.node,player:null};this.trigger("slide_before_load",r),"video"===a||"external"===a?setTimeout(function(){i.instance.setContent(n,function(){t.trigger("slide_after_load",r)})},200):i.instance.setContent(n,function(){t.trigger("slide_after_load",r)})}},{key:"prevSlide",value:function(){this.goToSlide(this.index-1)}},{key:"nextSlide",value:function(){this.goToSlide(this.index+1)}},{key:"goToSlide",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.prevActiveSlide=this.activeSlide,this.prevActiveSlideIndex=this.index,!this.loop()&&(e<0||e>this.elements.length-1))return!1;e<0?e=this.elements.length-1:e>=this.elements.length&&(e=0),this.showSlide(e)}},{key:"insertSlide",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;t<0&&(t=this.elements.length);var n=new q(e,this,t),i=n.getConfig(),a=r({},i),o=n.create(),s=this.elements.length-1;a.index=t,a.node=!1,a.instance=n,a.slideConfig=i,this.elements.splice(t,0,a);var l=null,d=null;if(this.slidesContainer){if(t>s)this.slidesContainer.appendChild(o);else{var u=this.slidesContainer.querySelectorAll(".gslide")[t];this.slidesContainer.insertBefore(o,u)}(this.settings.preload&&0==this.index&&0==t||this.index-1==t||this.index+1==t)&&this.preloadSlide(t),0===this.index&&0===t&&(this.index=1),this.updateNavigationClasses(),l=this.slidesContainer.querySelectorAll(".gslide")[t],d=this.getSlidePlayerInstance(t),a.slideNode=l}this.trigger("slide_inserted",{index:t,slide:l,slideNode:l,slideConfig:i,slideIndex:t,trigger:null,player:d}),w(this.settings.slideInserted)&&this.settings.slideInserted({index:t,slide:l,player:d})}},{key:"removeSlide",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;if(e<0||e>this.elements.length-1)return!1;var t=this.slidesContainer&&this.slidesContainer.querySelectorAll(".gslide")[e];t&&(this.getActiveSlideIndex()==e&&(e==this.elements.length-1?this.prevSlide():this.nextSlide()),t.parentNode.removeChild(t)),this.elements.splice(e,1),this.trigger("slide_removed",e),w(this.settings.slideRemoved)&&this.settings.slideRemoved(e)}},{key:"slideAnimateIn",value:function(e,t){var n=this,i=e.querySelector(".gslide-media"),a=e.querySelector(".gslide-description"),r={index:this.prevActiveSlideIndex,slide:this.prevActiveSlide,slideNode:this.prevActiveSlide,slideIndex:this.prevActiveSlide,slideConfig:z(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].slideConfig,trigger:z(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].node,player:this.getSlidePlayerInstance(this.prevActiveSlideIndex)},o={index:this.index,slide:this.activeSlide,slideNode:this.activeSlide,slideConfig:this.elements[this.index].slideConfig,slideIndex:this.index,trigger:this.elements[this.index].node,player:this.getSlidePlayerInstance(this.index)};if(i.offsetWidth>0&&a&&(m(a),a.style.display=""),u(e,this.effectsClasses),t)p(e,this.settings.cssEfects[this.settings.openEffect].in,function(){n.settings.autoplayVideos&&n.slidePlayerPlay(e),n.trigger("slide_changed",{prev:r,current:o}),w(n.settings.afterSlideChange)&&n.settings.afterSlideChange.apply(n,[r,o])});else{var s=this.settings.slideEffect,l="none"!==s?this.settings.cssEfects[s].in:s;this.prevActiveSlideIndex>this.index&&"slide"==this.settings.slideEffect&&(l=this.settings.cssEfects.slideBack.in),p(e,l,function(){n.settings.autoplayVideos&&n.slidePlayerPlay(e),n.trigger("slide_changed",{prev:r,current:o}),w(n.settings.afterSlideChange)&&n.settings.afterSlideChange.apply(n,[r,o])})}setTimeout(function(){n.resize(e)},100),d(e,"current")}},{key:"slideAnimateOut",value:function(){if(!this.prevActiveSlide)return!1;var e=this.prevActiveSlide;u(e,this.effectsClasses),d(e,"prev");var t=this.settings.slideEffect,n="none"!==t?this.settings.cssEfects[t].out:t;this.slidePlayerPause(e),this.trigger("slide_before_change",{prev:{index:this.prevActiveSlideIndex,slide:this.prevActiveSlide,slideNode:this.prevActiveSlide,slideIndex:this.prevActiveSlideIndex,slideConfig:z(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].slideConfig,trigger:z(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].node,player:this.getSlidePlayerInstance(this.prevActiveSlideIndex)},current:{index:this.index,slide:this.activeSlide,slideNode:this.activeSlide,slideIndex:this.index,slideConfig:this.elements[this.index].slideConfig,trigger:this.elements[this.index].node,player:this.getSlidePlayerInstance(this.index)}}),w(this.settings.beforeSlideChange)&&this.settings.beforeSlideChange.apply(this,[{index:this.prevActiveSlideIndex,slide:this.prevActiveSlide,player:this.getSlidePlayerInstance(this.prevActiveSlideIndex)},{index:this.index,slide:this.activeSlide,player:this.getSlidePlayerInstance(this.index)}]),this.prevActiveSlideIndex>this.index&&"slide"==this.settings.slideEffect&&(n=this.settings.cssEfects.slideBack.out),p(e,n,function(){var t=e.querySelector(".ginner-container"),n=e.querySelector(".gslide-media"),i=e.querySelector(".gslide-description");t.style.transform="",n.style.transform="",u(n,"greset"),n.style.opacity="",i&&(i.style.opacity=""),u(e,"prev")})}},{key:"getAllPlayers",value:function(){return this.videoPlayers}},{key:"getSlidePlayerInstance",value:function(e){var t="gvideo"+e,n=this.getAllPlayers();return!(!L(n,t)||!n[t])&&n[t]}},{key:"stopSlideVideo",value:function(e){if(S(e)){var t=e.querySelector(".gvideo-wrapper");t&&(e=t.getAttribute("data-index"))}console.log("stopSlideVideo is deprecated, use slidePlayerPause");var n=this.getSlidePlayerInstance(e);n&&n.playing&&n.pause()}},{key:"slidePlayerPause",value:function(e){if(S(e)){var t=e.querySelector(".gvideo-wrapper");t&&(e=t.getAttribute("data-index"))}var n=this.getSlidePlayerInstance(e);n&&n.playing&&n.pause()}},{key:"playSlideVideo",value:function(e){if(S(e)){var t=e.querySelector(".gvideo-wrapper");t&&(e=t.getAttribute("data-index"))}console.log("playSlideVideo is deprecated, use slidePlayerPlay");var n=this.getSlidePlayerInstance(e);n&&!n.playing&&n.play()}},{key:"slidePlayerPlay",value:function(e){var t;if(!W||null!==(t=this.settings.plyr.config)&&void 0!==t&&t.muted){if(S(e)){var n=e.querySelector(".gvideo-wrapper");n&&(e=n.getAttribute("data-index"))}var i=this.getSlidePlayerInstance(e);i&&!i.playing&&(i.play(),this.settings.autofocusVideos&&i.elements.container.focus())}}},{key:"setElements",value:function(e){var t=this;this.settings.elements=!1;var n=[];e&&e.length&&o(e,function(e,i){var a=new q(e,t,i),o=a.getConfig(),s=r({},o);s.slideConfig=o,s.instance=a,s.index=i,n.push(s)}),this.elements=n,this.lightboxOpen&&(this.slidesContainer.innerHTML="",this.elements.length&&(o(this.elements,function(){var e=v(t.settings.slideHTML);t.slidesContainer.appendChild(e)}),this.showSlide(0,!0)))}},{key:"getElementIndex",value:function(e){var t=!1;return o(this.elements,function(n,i){if(L(n,"node")&&n.node==e)return t=i,!0}),t}},{key:"getElements",value:function(){var e=this,t=[];this.elements=this.elements?this.elements:[],!z(this.settings.elements)&&C(this.settings.elements)&&this.settings.elements.length&&o(this.settings.elements,function(n,i){var a=new q(n,e,i),o=a.getConfig(),s=r({},o);s.node=!1,s.index=i,s.instance=a,s.slideConfig=o,t.push(s)});var n=!1;return this.getSelector()&&(n=document.querySelectorAll(this.getSelector())),n&&o(n,function(n,i){var a=new q(n,e,i),o=a.getConfig(),s=r({},o);s.node=n,s.index=i,s.instance=a,s.slideConfig=o,s.gallery=n.getAttribute("data-gallery"),t.push(s)}),t}},{key:"getGalleryElements",value:function(e,t){return e.filter(function(e){return e.gallery==t})}},{key:"getSelector",value:function(){return!this.settings.elements&&(this.settings.selector&&"data-"==this.settings.selector.substring(0,5)?"*[".concat(this.settings.selector,"]"):this.settings.selector)}},{key:"getActiveSlide",value:function(){return this.slidesContainer.querySelectorAll(".gslide")[this.index]}},{key:"getActiveSlideIndex",value:function(){return this.index}},{key:"getAnimationClasses",value:function(){var e=[];for(var t in this.settings.cssEfects)if(this.settings.cssEfects.hasOwnProperty(t)){var n=this.settings.cssEfects[t];e.push("g".concat(n.in)),e.push("g".concat(n.out))}return e.join(" ")}},{key:"build",value:function(){var e=this;if(this.built)return!1;var t=document.body.childNodes,n=[];o(t,function(e){e.parentNode==document.body&&"#"!==e.nodeName.charAt(0)&&e.hasAttribute&&!e.hasAttribute("aria-hidden")&&(n.push(e),e.setAttribute("aria-hidden","true"))});var i=L(this.settings.svg,"next")?this.settings.svg.next:"",a=L(this.settings.svg,"prev")?this.settings.svg.prev:"",r=L(this.settings.svg,"close")?this.settings.svg.close:"",s=this.settings.lightboxHTML;s=v(s=(s=(s=s.replace(/{nextSVG}/g,i)).replace(/{prevSVG}/g,a)).replace(/{closeSVG}/g,r)),document.body.appendChild(s);var u=document.getElementById("glightbox-body");this.modal=u;var p=u.querySelector(".gclose");this.prevButton=u.querySelector(".gprev"),this.nextButton=u.querySelector(".gnext"),this.overlay=u.querySelector(".goverlay"),this.loader=u.querySelector(".gloader"),this.slidesContainer=document.getElementById("glightbox-slider"),this.bodyHiddenChildElms=n,this.events={},d(this.modal,"glightbox-"+this.settings.skin),this.settings.closeButton&&p&&(this.events.close=l("click",{onElement:p,withCallback:function(t,n){t.preventDefault(),e.close()}})),p&&!this.settings.closeButton&&p.parentNode.removeChild(p),this.nextButton&&(this.events.next=l("click",{onElement:this.nextButton,withCallback:function(t,n){t.preventDefault(),e.nextSlide()}})),this.prevButton&&(this.events.prev=l("click",{onElement:this.prevButton,withCallback:function(t,n){t.preventDefault(),e.prevSlide()}})),this.settings.closeOnOutsideClick&&(this.events.outClose=l("click",{onElement:u,withCallback:function(t,n){e.preventOutsideClick||c(document.body,"glightbox-mobile")||h(t.target,".ginner-container")||h(t.target,".gbtn")||c(t.target,"gnext")||c(t.target,"gprev")||e.close()}})),o(this.elements,function(t,n){e.slidesContainer.appendChild(t.instance.create()),t.slideNode=e.slidesContainer.querySelectorAll(".gslide")[n]}),Y&&d(document.body,"glightbox-touch"),this.events.resize=l("resize",{onElement:window,withCallback:function(){e.resize()}}),this.built=!0}},{key:"resize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if((e=e||this.activeSlide)&&!c(e,"zoomed")){var t=_(),n=e.querySelector(".gvideo-wrapper"),i=e.querySelector(".gslide-image"),a=this.slideDescription,r=t.width,o=t.height;if(r<=768?d(document.body,"glightbox-mobile"):u(document.body,"glightbox-mobile"),n||i){var s=!1;if(a&&(c(a,"description-bottom")||c(a,"description-top"))&&!c(a,"gabsolute")&&(s=!0),i){if(r<=768)i.querySelector("img");else if(s){var l=a.offsetHeight,h=i.querySelector("img");h.setAttribute("style","max-height: calc(100vh - ".concat(l,"px)")),a.setAttribute("style","max-width: ".concat(h.offsetWidth,"px;"))}}if(n){var p=L(this.settings.plyr.config,"ratio")?this.settings.plyr.config.ratio:"";if(!p){var g=n.clientWidth,f=n.clientHeight,m=g/f;p="".concat(g/m,":").concat(f/m)}var v=p.split(":"),y=this.settings.videosWidth,b=this.settings.videosWidth,x=(b=P(y)||-1!==y.indexOf("px")?parseInt(y):-1!==y.indexOf("vw")?r*parseInt(y)/100:-1!==y.indexOf("vh")?o*parseInt(y)/100:-1!==y.indexOf("%")?r*parseInt(y)/100:parseInt(n.clientWidth))/(parseInt(v[0])/parseInt(v[1]));if(x=Math.floor(x),s&&(o-=a.offsetHeight),b>r||x>o||o<x&&r>b){var w={width:n.offsetWidth*(o/n.offsetHeight)};n.parentNode.setAttribute("style","max-width: ".concat(w.width,"px")),s&&a.setAttribute("style","max-width: ".concat(w.width,"px;"))}else n.parentNode.style.maxWidth="".concat(y),s&&a.setAttribute("style","max-width: ".concat(y,";"))}}}}},{key:"reload",value:function(){this.init()}},{key:"updateNavigationClasses",value:function(){var e=this.loop();u(this.nextButton,"disabled"),u(this.prevButton,"disabled"),0==this.index&&this.elements.length-1==0?(d(this.prevButton,"disabled"),d(this.nextButton,"disabled")):0!==this.index||e?this.index!==this.elements.length-1||e||d(this.nextButton,"disabled"):d(this.prevButton,"disabled")}},{key:"loop",value:function(){var e=L(this.settings,"loopAtEnd")?this.settings.loopAtEnd:null;return L(this.settings,"loop")?this.settings.loop:e}},{key:"close",value:function(){var e=this;if(!this.lightboxOpen){if(this.events){for(var t in this.events)this.events.hasOwnProperty(t)&&this.events[t].destroy();this.events=null}return!1}if(this.closing)return!1;this.closing=!0,this.slidePlayerPause(this.activeSlide),this.fullElementsList&&(this.elements=this.fullElementsList),this.bodyHiddenChildElms.length&&o(this.bodyHiddenChildElms,function(e){e.removeAttribute("aria-hidden")}),d(this.modal,"glightbox-closing"),p(this.overlay,"none"==this.settings.openEffect?"none":this.settings.cssEfects.fade.out),p(this.activeSlide,this.settings.cssEfects[this.settings.closeEffect].out,function(){if(e.activeSlide=null,e.prevActiveSlideIndex=null,e.prevActiveSlide=null,e.built=!1,e.events){for(var t in e.events)e.events.hasOwnProperty(t)&&e.events[t].destroy();e.events=null}var n=document.body;u(K,"glightbox-open"),u(n,"glightbox-open touching gdesc-open glightbox-touch glightbox-mobile gscrollbar-fixer"),e.modal.parentNode.removeChild(e.modal),e.trigger("close"),w(e.settings.onClose)&&e.settings.onClose();var i=document.querySelector(".gcss-styles");i&&i.parentNode.removeChild(i),e.lightboxOpen=!1,e.closing=null})}},{key:"destroy",value:function(){this.close(),this.clearAllEvents(),this.baseEvents&&this.baseEvents.destroy()}},{key:"on",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e||!w(t))throw TypeError("Event name and callback must be defined");this.apiEvents.push({evt:e,once:n,callback:t})}},{key:"once",value:function(e,t){this.on(e,t,!0)}},{key:"trigger",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=[];o(this.apiEvents,function(t,a){var r=t.evt,o=t.once,s=t.callback;r==e&&(s(n),o&&i.push(a))}),i.length&&o(i,function(e){return t.apiEvents.splice(e,1)})}},{key:"clearAllEvents",value:function(){this.apiEvents.splice(0,this.apiEvents.length)}},{key:"version",value:function(){return"3.1.0"}}]),e}();return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new G(e);return t.init(),t}}();var aD={};!function(e){var t="dnd-poly-",n=["none","copy","copyLink","copyMove","link","linkMove","move","all"];function i(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(e){}return e}var a=i();function r(e){return e&&e.tagName}function o(e,t,n){void 0===n&&(n=!0),document.addEventListener(e,t,!!a&&{passive:n})}function s(e,t){document.removeEventListener(e,t)}function l(e,t,n,i){void 0===i&&(i=!1);var r=a?{passive:!0,capture:i}:i;return e.addEventListener(t,n,r),{off:function(){e.removeEventListener(t,n,r)}}}function d(e){return 0===e.length?0:e.reduce(function(e,t){return t+e},0)/e.length}function u(e,t){for(var n=0;n<e.changedTouches.length;n++)if(e.changedTouches[n].identifier===t)return!0;return!1}function c(e,t,n){for(var i=[],a=[],r=0;r<t.touches.length;r++){var o=t.touches[r];i.push(o[e+"X"]),a.push(o[e+"Y"])}n.x=d(i),n.y=d(a)}var h=["","-webkit-"];function p(e,t,n,i,a){var r=t.x,t=t.y;i&&(r+=i.x,t+=i.y),(a=void 0===a||a)&&(r-=parseInt(e.offsetWidth,10)/2,t-=parseInt(e.offsetHeight,10)/2);for(var o="translate3d("+r+"px,"+t+"px, 0)",s=0;s<h.length;s++){var l=h[s]+"transform";e.style[l]=o+" "+n[s]}}var g=(Object.defineProperty(f.prototype,"dropEffect",{get:function(){return this.t},set:function(e){0!==this.i.mode&&-1<n.indexOf(e)&&(this.t=e)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"types",{get:function(){if(0!==this.i.mode)return Object.freeze(this.i.types)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"effectAllowed",{get:function(){return this.i.effectAllowed},set:function(e){2===this.i.mode&&-1<n.indexOf(e)&&(this.i.effectAllowed=e)},enumerable:!1,configurable:!0}),f.prototype.setData=function(e,t){if(2===this.i.mode){if(-1<e.indexOf(" "))throw Error("illegal arg: type contains space");this.i.data[e]=t,-1===this.i.types.indexOf(e)&&this.i.types.push(e)}},f.prototype.getData=function(e){if(1===this.i.mode||2===this.i.mode)return this.i.data[e]||""},f.prototype.clearData=function(e){2===this.i.mode&&(e&&this.i.data[e]?(delete this.i.data[e],-1<(e=this.i.types.indexOf(e))&&this.i.types.splice(e,1)):(this.i.data={},this.i.types=[]))},f.prototype.setDragImage=function(e,t,n){2===this.i.mode&&this.h(e,t,n)},f);function f(e,t){this.i=e,this.h=t,this.t="none"}function m(e,t){return e?e===n[0]?"none":0===e.indexOf(n[1])||e===n[7]?"copy":0===e.indexOf(n[4])?"link":e===n[6]?"move":"copy":3===t.nodeType&&"A"===t.tagName?"link":"copy"}function v(e,t,n,i,a,r,o){var s,l,d,u,c;return void 0===o&&(o=null),s=t,c=r=void 0===r||r,document.defaultView,l=a,d=o,void 0===o&&(d=null),u=n.changedTouches[0],(c=new Event(e,{bubbles:!0,cancelable:c})).dataTransfer=l,c.relatedTarget=d,c.screenX=u.screenX,c.screenY=u.screenY,c.clientX=u.clientX,c.clientY=u.clientY,c.pageX=u.pageX,c.pageY=u.pageY,s=s.getBoundingClientRect(),c.offsetX=c.clientX-s.left,c.offsetY=c.clientY-s.top,a=c,a=!t.dispatchEvent(a),i.mode=0,a}function _(e,t){if(!e||e===n[7])return t;if("copy"===t){if(0===e.indexOf("copy"))return"copy"}else if("link"===t){if(0===e.indexOf("link")||-1<e.indexOf("Link"))return"link"}else if("move"===t&&(0===e.indexOf("move")||-1<e.indexOf("Move")))return"move";return"none"}var y=(b.prototype.o=function(){var e=this;this.u=1,this.l="none",this.v={data:{},effectAllowed:void 0,mode:3,types:[]},this.p={x:null,y:null},this.g={x:null,y:null};var t=this.m;if(this.I=new g(this.v,function(n,i,a){t=n,"number"!=typeof i&&"number"!=typeof a||(e.j={x:i||0,y:a||0})}),this.v.mode=2,this.I.dropEffect="none",v("dragstart",this.m,this.k,this.v,this.I))return this.u=3,this.C(),!1;c("page",this.k,this.g);var n,i,a=this.S.dragImageSetup(t);return this.A=(n=a,h.map(function(e){return(e=n.style[e+"transform"])&&"none"!==e?e.replace(/translate\(\D*\d+[^,]*,\D*\d+[^,]*\)\s*/g,""):""})),a.style.position="absolute",a.style.left="0px",a.style.top="0px",a.style.zIndex="999999",a.classList.add("dnd-poly-drag-image"),a.classList.add("dnd-poly-icon"),this.O=a,this.j||(this.S.dragImageOffset?this.j={x:this.S.dragImageOffset.x,y:this.S.dragImageOffset.y}:this.S.dragImageCenterOnTouch?(i=getComputedStyle(t),this.j={x:0-parseInt(i.marginLeft,10),y:0-parseInt(i.marginTop,10)}):(a=t.getBoundingClientRect(),i=getComputedStyle(t),this.j={x:a.left-this.M.clientX-parseInt(i.marginLeft,10)+a.width/2,y:a.top-this.M.clientY-parseInt(i.marginTop,10)+a.height/2})),p(this.O,this.g,this.A,this.j,this.S.dragImageCenterOnTouch),document.body.appendChild(this.O),this.D=window.setInterval(function(){e.F||(e.F=!0,e.N(),e.F=!1)},this.S.iterationInterval),!0},b.prototype.C=function(){this.D&&(clearInterval(this.D),this.D=null),s("touchmove",this.P),s("touchend",this.T),s("touchcancel",this.T),this.O&&(this.O.parentNode.removeChild(this.O),this.O=null),this.L(this.S,this.k,this.u)},b.prototype._=function(e){var t=this;if(!1!==u(e,this.M.identifier)){if(this.k=e,0===this.u){var n=void 0;if(this.S.dragStartConditionOverride)try{n=this.S.dragStartConditionOverride(e)}catch(e){n=!1}else n=1===e.touches.length;return n?void(!0===this.o()&&(this.H.preventDefault(),e.preventDefault())):void this.C()}if(e.preventDefault(),c("client",e,this.p),c("page",e,this.g),this.S.dragImageTranslateOverride)try{var i=!1;if(this.S.dragImageTranslateOverride(e,{x:this.p.x,y:this.p.y},this.V,function(e,n){t.O&&(i=!0,t.p.x+=e,t.p.y+=n,t.g.x+=e,t.g.y+=n,p(t.O,t.g,t.A,t.j,t.S.dragImageCenterOnTouch))}),i)return}catch(e){}p(this.O,this.g,this.A,this.j,this.S.dragImageCenterOnTouch)}},b.prototype.X=function(e){if(!1!==u(e,this.M.identifier)){if(this.S.dragImageTranslateOverride)try{this.S.dragImageTranslateOverride(void 0,void 0,void 0,function(){})}catch(e){}0!==this.u?(e.preventDefault(),this.u="touchcancel"===e.type?3:2):this.C()}},b.prototype.N=function(){var e=this,n=this.l;this.v.mode=3,this.I.dropEffect="none";var i,a,o,s,l,d=v("drag",this.m,this.k,this.v,this.I);if(d&&(this.l="none"),d||2===this.u||3===this.u)return this.Y(this.u)?(s=this.m,i=this.O,a=this.A,c=function(){e.q()},void("hidden"!==(l=getComputedStyle(s)).visibility&&"none"!==l.display?(i.classList.add("dnd-poly-snapback"),isNaN(d=parseFloat((o=getComputedStyle(i)).transitionDuration))||0===d?c():((s={x:(u=s.getBoundingClientRect()).left,y:u.top}).x+=document.body.scrollLeft||document.documentElement.scrollLeft,s.y+=document.body.scrollTop||document.documentElement.scrollTop,s.x-=parseInt(l.marginLeft,10),s.y-=parseInt(l.marginTop,10),u=Math.round(1e3*(d+(u=parseFloat(o.transitionDelay)))),p(i,s,a,void 0,!1),setTimeout(c,u))):c())):void this.q();var u=this.S.elementFromPoint(this.p.x,this.p.y),c=this.B;u!==this.V&&u!==this.B&&(this.V=u,null!==this.B&&(this.v.mode=3,this.I.dropEffect="none",v("dragexit",this.B,this.k,this.v,this.I,!1)),null===this.V?this.B=this.V:(this.v.mode=3,this.I.dropEffect=m(this.v.effectAllowed,this.m),v("dragenter",this.V,this.k,this.v,this.I)?(this.B=this.V,this.l=_(this.I.effectAllowed,this.I.dropEffect)):this.V!==document.body&&(this.B=document.body))),c!==this.B&&r(c)&&(this.v.mode=3,this.I.dropEffect="none",v("dragleave",c,this.k,this.v,this.I,!1,this.B)),r(this.B)&&(this.v.mode=3,this.I.dropEffect=m(this.v.effectAllowed,this.m),!1===v("dragover",this.B,this.k,this.v,this.I)?this.l="none":this.l=_(this.I.effectAllowed,this.I.dropEffect)),n!==this.l&&this.O.classList.remove(t+n),n=t+this.l,this.O.classList.add(n)},b.prototype.Y=function(e){return(e="none"===this.l||null===this.B||3===e)?r(this.B)&&(this.v.mode=3,this.I.dropEffect="none",v("dragleave",this.B,this.k,this.v,this.I,!1)):r(this.B)&&(this.v.mode=1,this.I.dropEffect=this.l,!0===v("drop",this.B,this.k,this.v,this.I)?this.l=this.I.dropEffect:this.l="none"),e},b.prototype.q=function(){this.v.mode=3,this.I.dropEffect=this.l,v("dragend",this.m,this.k,this.v,this.I,!1),this.u=2,this.C()},b);function b(e,t,n,i){this.H=e,this.S=t,this.m=n,this.L=i,this.u=0,this.V=null,this.B=null,this.k=e,this.M=e.changedTouches[0],this.P=this._.bind(this),this.T=this.X.bind(this),o("touchmove",this.P,!1),o("touchend",this.T,!1),o("touchcancel",this.T,!1)}var x,w={iterationInterval:150,tryFindDraggableTarget:function(e){for(var t=0,n=e.composedPath();t<n.length;t++){var i=n[t];do if(!1!==i.draggable&&(!0===i.draggable||i.getAttribute&&"true"===i.getAttribute("draggable")))return i;while((i=i.parentNode)&&i!==document.body)}},dragImageSetup:function(e){var t=e.cloneNode(!0);return function e(t,n){if(1===t.nodeType){for(var i,a=getComputedStyle(t),r=0;r<a.length;r++){var o=a[r];n.style.setProperty(o,a.getPropertyValue(o),a.getPropertyPriority(o))}n.style.pointerEvents="none",n.removeAttribute("id"),n.removeAttribute("class"),n.removeAttribute("draggable"),"CANVAS"===n.nodeName&&(i=(i=t).getContext("2d").getImageData(0,0,i.width,i.height),n.getContext("2d").putImageData(i,0,0))}if(t.hasChildNodes())for(r=0;r<t.childNodes.length;r++)e(t.childNodes[r],n.childNodes[r]);!function e(t){if(t instanceof HTMLElement&&(t.style.pointerEvents="none"),t.children&&t.children.length)for(var n=0;n<t.children.length;n++)e(t.children[n]);if(t.shadowRoot&&t.shadowRoot.children.length)for(n=0;n<t.shadowRoot.children.length;n++)e(t.shadowRoot.children[n])}(n)}(e,t),t},elementFromPoint:function(e,t){var n=document.elementFromPoint(e,t);if(n){for(;n.shadowRoot;){var i=n.shadowRoot.elementFromPoint(e,t);if(null===i||i===n)break;n=i}return n}}};function k(e){if(!x){var t=w.tryFindDraggableTarget(e);if(t)try{x=new y(e,w,t,C)}catch(t){throw C(w,e,3),t}}}function S(e){function t(e){a.off(),r.off(),o.off(),s.off(),n&&n.dispatchEvent(new CustomEvent("dnd-poly-dragstart-cancel",{bubbles:!0,cancelable:!0})),clearTimeout(i)}var n=e.target;n&&n.dispatchEvent(new CustomEvent("dnd-poly-dragstart-pending",{bubbles:!0,cancelable:!0}));var i=window.setTimeout(function(){a.off(),r.off(),o.off(),s.off(),k(e)},w.holdToDrag),a=l(n,"touchend",t),r=l(n,"touchcancel",t),o=l(n,"touchmove",t),s=l(window,"scroll",t,!0)}function C(e,t,n){if(0===n&&e.defaultActionOverride)try{e.defaultActionOverride(t),t.defaultPrevented}catch(e){}x=null}e.polyfill=function(e){var t;return e&&Object.keys(e).forEach(function(t){w[t]=e[t]}),(!!w.forceApply||(t=!!window.chrome||/chrome/i.test(navigator.userAgent),!(t={dragEvents:"ondragstart"in document.documentElement,draggable:"draggable"in document.documentElement,userAgentSupportingNativeDnD:!(/iPad|iPhone|iPod|Android/.test(navigator.userAgent)||t&&"ontouchstart"in document.documentElement)}).userAgentSupportingNativeDnD||!t.draggable||!t.dragEvents))&&(w.holdToDrag?o("touchstart",S,!1):o("touchstart",k,!1),!0)},e.supportsPassiveEventListener=i,Object.defineProperty(e,"G",{value:!0})}(aD);let aI=function(e){let[t,n]=tt(null);ti(()=>{n(/*@__PURE__*/o(aj)({autoplayVideos:!1,draggable:!0,loop:!1,touchNavigation:!0,zoomable:!0,elements:[]}))},[]);let i=e=>{if(e.preventDefault(),e.stopPropagation(),null!=t&&Array.from(document.getElementsByClassName("glightbox")).length>0){let n=Array.from(document.getElementsByClassName("glightbox")).map(e=>{let t={href:e.href};return e?.dataset?.width&&(t.width=e?.dataset?.width),e?.dataset?.height&&(t.height=e?.dataset?.height),e?.dataset?.type&&(t.type=e?.dataset?.type),e?.dataset?.srcset&&(t.srcset=e?.dataset?.srcset),e?.dataset?.sizes&&(t.sizes=e?.dataset?.sizes),t});t.setElements(n),t.open(null,n.findIndex(t=>t.href===e.target.closest(".glightbox").href))}};if(!e.url||!e.data)return null;let a=(()=>{if(e?.data?.exception&&console.warn(e.data),e.data.providerName){if("peertube"==e.data.providerName.toLowerCase()&&e.data.code)return $("div",{class:"embed-container",dangerouslySetInnerHTML:{__html:e.data.code}});if("soundcloud"==e.data.providerName.toLowerCase()&&e.data.code)return $(aN,{preview:nR.crop(e.preview.id,1024,270),url:`${e.data.code.match(/https:\/\/[^"\s]+/)[0]}&auto_play=true`,playBtnClass:"soundcloud"});if("bandcamp"==e.data.providerName.toLowerCase()&&e.data.code){let t=e.data.code.match(/https:\/\/.*album=\d+/);if(t||(t=e.data.code.match(/https:\/\/.*track=\d+/)),t)return $(aO,{preview:nR.crop(e.preview.id,1024,270),url:t[0]})}if("lichess.org"==e.data.providerName.toLowerCase()){let t=e?.data?.url&&"string"==typeof e?.data.url?e.data?.url:e.url;if(nR.isValidUrl(t)&&!t.match(/embed/)&&!t.match(/study/)&&!t.match(/blog/)){let n;t=new URL(t.replace("lichess.org/","lichess.org/embed/"));try{n=t.pathname.split("/").slice(-1)[0]}catch(e){n=""}if(t=new URL(t.href.replace(n,n.slice(0,8))),n)return $(aN,{preview:nR.crop(e.preview.id,270,270),url:t,playBtnClass:"lichess"})}}if("youtube"==e.data.providerName.toLowerCase()){let t=e.url;if(e?.preview?.id&&t){let n,i;("www.youtube.com"==(t=new URL(t)).host||"m.youtube.com"==t.host||"youtube.com"==t.host||"music.youtube.com"==t.host)&&(t.pathname.match(/shorts/)?(n=[`v=${t.pathname.split("/").slice(-1)[0]}`],i=[]):t.pathname.match(/embed/)?(n=[`v=${t.pathname.split("/").slice(-1)[0]}`],i=[]):(n=t.search.substring(1).split("&").filter(e=>e.match(/^v=/)),i=t.search.substring(1).split("&").filter(e=>e.match(/^list=/)))),"youtu.be"==t.host&&(n=[`v=${t.pathname.slice(1)}`],i=[]);let a=nB.getParam("t",t.search.substring(1));if(i.length&&n.length)return $(aN,{preview:nR.crop(e.preview.id,1024,270),url:`https://youtube.com/embed/${n[0].split("=")[1]}?autoplay=1&controls=2&wmode=opaque&list=${i[0].split("=")[1]}${a?`&start=${a}`:""}`,playBtnClass:"youtube"});if(i.length)return $(aN,{preview:nR.crop(e.preview.id,1024,270),url:`https://youtube.com/embed/videoseries?list=${i[0].split("=")[1]}&autoplay=1&controls=2&wmode=opaque${a?`&start=${a}`:""}`,playBtnClass:"youtube"});if(n.length)return $(aN,{preview:nR.crop(e.preview.id,1024,270),url:`https://youtube.com/embed/${n[0].split("=")[1]}?autoplay=1&controls=2&wmode=opaque${a?`&start=${a}`:""}`,playBtnClass:"youtube"})}}}return"image/gif"==e.data["content-type"]?$("div",{class:"container d-flex justify-content-center flex-wrap align-items-center"},$("img",{href:nR.toApp(e.url),class:"img-fluid","data-origin":e.url,"data-src":e.url,src:e.url})):/image/.test(e.data["content-type"])?$("div",{class:"container d-flex justify-content-center flex-wrap align-items-center"},$("a",{href:nR.toApp(e.url),class:"glightbox","data-type":"image","data-srcset":`${nR.thumbnail(e.preview.id,720)} 720w, ${nR.thumbnail(e.preview.id,1366)} 1366w, ${nR.thumbnail(e.preview.id,2048)} 2048w`,"data-sizes":"(max-width: 992px) 720px, (max-width: 1400px) 1366px, 2048px",onClick:e=>i(e)},$("img",{href:nR.toApp(e.url),class:"img-fluid cursor-pointer","data-origin":e.url,"data-src":nR.thumbnail(e.preview.id,1366),src:nR.thumbnail(e.preview.id,2048)}))):/video/.test(e.data["content-type"])||"application/ogg"==e.data["content-type"]?$("div",{class:"container d-flex justify-content-center flex-wrap align-items-center"},$("video",{class:"img-fluid",controls:!0,src:e.url})):/audio/.test(e.data["content-type"])?$("div",{class:"container d-flex justify-content-center flex-wrap align-items-center"},$("audio",{class:"w-100",controls:!0},$("source",{src:e.url}))):e.data.title&&(e.preview||e.data.description)?$("a",{class:"preview-card seamless-link d-inline-block",target:"_blank",rel:"noreferrer",href:nR.toApp(e.url)},$("div",{class:"card",style:"max-width: 480px"},e.preview&&$("img",{class:"card-img-top",src:nR.crop(e.preview.id,320,180)}),$("div",{class:"card-body p-1"},$("h5",null,e.data.title),e.data.description&&$("p",null,$("small",null,e.data.description.slice(0,500)))))):null})();return a?$("p",{class:"text-center card-text"},a):null},aR=function(e){let t=t=>{t.stopPropagation(),t.preventDefault(),"function"==typeof e.toggleFile&&e.toggleFile(t.target.closest(".file-embed").id)};return e.files&&0!==e.files.length?e.files&&e.files.length>3?$("div",{class:"file-grid"},e.files.map(n=>$(a$,{key:n.id,invertFiles:e.invertFiles,toggleFile:t,file:n,inWriter:e.inWriter}))):$("div",{class:"d-flex justify-content-center flex-wrap"},e.files.map(n=>$(aM,{key:n.id,toggleFile:t,invertFiles:e.invertFiles,file:n,inWriter:e.inWriter}))):null},aM=function(e){let[t,n]=tt(null),{t:i}=nk(),a=e.file.contentUrl?`/files/${e.file.contentUrl}`:null;ti(()=>{n(/*@__PURE__*/o(aj)({autoplayVideos:!1,draggable:!0,loop:!1,touchNavigation:!0,zoomable:!0,elements:[]}))},[]);let r=n=>{if(!e.inWriter&&(n.preventDefault(),n.stopPropagation(),null!=t&&Array.from(document.getElementsByClassName("glightbox")).length>0)){let e=Array.from(document.getElementsByClassName("glightbox")).map(e=>{let t={href:e.href};return e?.dataset?.width&&(t.width=e?.dataset?.width),e?.dataset?.height&&(t.height=e?.dataset?.height),e?.dataset?.type&&(t.type=e?.dataset?.type),e?.dataset?.srcset&&(t.srcset=e?.dataset?.srcset),e?.dataset?.sizes&&(t.sizes=e?.dataset?.sizes),t});t.setElements(e),t.open(null,e.findIndex(e=>e.href===n.target.closest(".glightbox").href))}};if(e.file.contentUrl){if(/video/.test(e.file.type))return"ready"==e.file.status?$("video",{draggable:"false",poster:nR.thumbnail(e.file.id,1280,720),class:"file-embed img-fluid contained-height video",controls:"true",src:a,id:e.file.id}):$("a",{class:"file-embed file-loading image video-uploaded",id:e.file.id},$("img",{class:"img-fluid video-raw",src:nR.crop(e.file.id,320,180)}),$("div",{class:"video-not-ready"},i("video_not_ready")));if(/pdf/.test(e.file.type))return $("a",{"data-origin":nR.toApp(a),draggable:"false",href:e.inWriter?void 0:nR.toApp(a),className:`glightbox file-embed pdf-outline image${e.file.removed?" removed":""}`,id:e.file.id,"data-width":"calc(90vw - 10px)","data-height":"100vh",onClick:e=>r(e)},$("img",{class:"img-fluid",src:nR.thumbnail(e.file.id,420,994)}),$("div",{class:"remove-button",style:e.file.removed?"color:red":"",onClick:t=>e.toggleFile(t)},$(ax,{family:"solid",icon:"times"})));if(/image/.test(e.file.type))return"image/gif"==e.file.type?$("a",{"data-origin":nR.toApp(a),draggable:"false",href:e.inWriter?void 0:nR.toApp(a),className:`glightbox file-embed image${e.file.removed?" removed":""}`,id:e.file.id,"data-type":"image",onClick:e=>r(e)},$("img",{class:"img-fluid",src:nR.toApp(a)}),$("div",{class:"remove-button",style:e.file.removed?"color:red":"",onClick:t=>e.toggleFile(t)},$(ax,{family:"solid",icon:"times"}))):$("a",{"data-origin":nR.toApp(a),draggable:"false","data-type":"image","data-srcset":`${nR.thumbnail(e.file.id,720)} 720w, ${nR.thumbnail(e.file.id,1366)} 1366w, ${nR.thumbnail(e.file.id,2048)} 2048w`,"data-sizes":"(max-width: 992px) 720px, (max-width: 1400px) 1366px, 2048px",href:e.inWriter?void 0:nR.toApp(a),className:`glightbox file-embed image${e.file.removed?" removed":""}`,id:e.file.id,onClick:e=>r(e)},$("img",{class:"img-fluid",src:nR.thumbnail(e.file.id,720)}),$("div",{class:"remove-button",style:e.file.removed?"color:red":"",onClick:t=>e.toggleFile(t)},$(ax,{family:"solid",icon:"times"})))}return"loading"==e.file.status?$("div",{class:"file-embed file-placeholder",id:e.file.id}):$("div",{class:"file-embed file-placeholder",id:e.file.id},e.file.error?$("div",{class:"orange-error"},"\xd7"):$("div",{class:"spinner orange-spinner"},$("div",null),$("div",null),$("div",null),$("div",null),$("div",null)),$("div",{class:"progress-bar"},$("div",{style:{width:`${e.file.progress}%`}})))},a$=function(e){let[t,n]=tt(null),i=e.file.contentUrl?`/files/${e.file.contentUrl}`:null,a=tr(null);(0,aD.polyfill)({tryFindDraggableTarget:t=>{if(!e.inWriter)return;let n=t.composedPath();for(let e of n){let t=e;do{if(!1===t.draggable)continue;if(!0===t.draggable||t.getAttribute&&"true"===t.getAttribute("draggable"))return t}while((t=t.parentNode)&&t!==document.body)}}}),ti(()=>{n(/*@__PURE__*/o(aj)({autoplayVideos:!1,draggable:!0,loop:!1,touchNavigation:!0,zoomable:!0,elements:[]}))},[]);let r=n=>{if(!e.inWriter&&(n.preventDefault(),n.stopPropagation(),null!=t&&Array.from(document.getElementsByClassName("glightbox")).length>0)){let e=Array.from(document.getElementsByClassName("glightbox")).map(e=>{let t={href:e.href};return e?.dataset?.width&&(t.width=e?.dataset?.width),e?.dataset?.height&&(t.height=e?.dataset?.height),e?.dataset?.type&&(t.type=e?.dataset?.type),e?.dataset?.srcset&&(t.srcset=e?.dataset?.srcset),e?.dataset?.sizes&&(t.sizes=e?.dataset?.sizes),t});t.setElements(e),t.open(null,e.findIndex(e=>e.href===n.target.closest(".glightbox").href))}},s=t=>{t.target.style.opacity="0.4",t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("id",e.file.id),document.querySelectorAll(".remove-button").forEach(e=>e.style.display="none")},l=e=>{e.target.style.opacity="1",document.querySelectorAll(".remove-button").forEach(e=>e.style.display="block"),document.querySelectorAll(".drag-over").forEach(e=>e.classList.remove("drag-over"))},d=e=>(e.preventDefault(),a.current.classList.add("drag-over"),!1),u=e=>(e.preventDefault(),a.current.classList.remove("drag-over"),!1),c=e=>(e.preventDefault(),!1),h=t=>(// stops the browser from redirecting.
    t.preventDefault(),e.invertFiles(t.dataTransfer.getData("id"),e.file.id),!1);switch(ti(()=>{if(e.inWriter&&"ready"==e.file.status&&a&&a.current)return a.current.addEventListener("dragstart",s),a.current.addEventListener("dragend",l),a.current.addEventListener("dragover",c),a.current.addEventListener("dragenter",d),a.current.addEventListener("dragleave",u),a.current.addEventListener("drop",h),()=>{a.current.removeEventListener("dragstart",s),a.current.removeEventListener("dragend",l),a.current.removeEventListener("dragover",c),a.current.removeEventListener("dragenter",d),a.current.removeEventListener("dragleave",u),a.current.removeEventListener("drop",h)}},[]),e.file.status){case"raw":return $("a",{class:"file-embed file-loading rounded",id:e.file.id},$("div",{class:"miniature"},$(ax,{family:"regular",icon:"check-circle"})));case"loading":return $("a",{class:"file-embed file-loading rounded",id:e.file.id},$("div",{class:"miniature"}));case"uploading":case"initial":return $("a",{class:"file-embed file-loading rounded",id:e.file.id},$("div",{class:"miniature video-raw",style:`background-image:url("${nR.crop(e.file.id,160,160)}")`}),$("div",{class:"spinner orange-spinner"},$("div",null),$("div",null),$("div",null),$("div",null),$("div",null)),e.file&&e.file.progress>0&&$("div",{class:"progress-bar"},$("div",{style:{width:`${e.file.progress}%`}})));default:if(/pdf/.test(e.file.type)||/video/.test(e.file.type))return $("a",{ref:a,draggable:!!e.inWriter,"data-origin":nR.toApp(i),href:e.inWriter?void 0:nR.toApp(i),className:`${e.inWriter?"":"glightbox "}file-embed rounded ${e.file.removed?" removed":""}`,id:e.file.id,"data-width":"calc(90vw - 10px)","data-height":"100vh",onClick:e=>r(e)},$("div",{className:`miniature${e.file.removed?" removed":""}`,style:`background-image:url("${nR.crop(e.file.id,160,160)}")`}),$("div",{class:"remove-button",style:e.file.removed?"color:red":"",onClick:t=>e.toggleFile(t)},$(ax,{family:"solid",icon:"times"})));if("image/gif"==e.file.type)return $("a",{ref:a,draggable:!!e.inWriter,"data-origin":nR.toApp(i),href:e.inWriter?void 0:nR.toApp(i),class:`${e.inWriter?"":"glightbox "}file-embed rounded`,id:e.file.id,"data-type":"image",onClick:e=>r(e)},$("div",{className:`miniature${e.file.removed?" removed":""}`,style:`background-image:url("${nR.crop(e.file.id,160,160)}")`}),$("div",{class:"remove-button",style:e.file.removed?"color:red":"",onClick:t=>e.toggleFile(t)},$(ax,{family:"solid",icon:"times"})));if(/image/.test(e.file.type))return $("a",{ref:a,draggable:!!e.inWriter,"data-origin":nR.toApp(i),"data-type":"image","data-srcset":`${nR.thumbnail(e.file.id,720)} 720w, ${nR.thumbnail(e.file.id,1366)} 1366w, ${nR.thumbnail(e.file.id,2048)} 2048w`,"data-sizes":"(max-width: 992px) 720px, (max-width: 1400px) 1366px, 2048px",href:e.inWriter?void 0:nR.toApp(i),class:`${e.inWriter?"":"glightbox "}file-embed rounded`,id:e.file.id,onClick:e=>r(e)},$("div",{className:`miniature${e.file.removed?" removed":""}`,style:`background-image:url("${nR.crop(e.file.id,160,160)}")`}),$("div",{class:"remove-button",style:e.file.removed?"color:red":"",onClick:t=>e.toggleFile(t)},$(ax,{family:"solid",icon:"times"})))}};function aU(){return(aU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}let aB=function(){let e=i2();return $("main",null,$(aL,null),$("div",{class:"content"},$("article",{class:"mb-3"},$("div",{class:"container pb-3"},$(aF,{focus:!0,group:e.id})))))},aF=function(e){let{t:t}=nk(),n=i1(),[i,a]=tt(e?.files||[]),[r,o]=tt(!1),[s,l]=tt(!1),d=// trick from https://stackoverflow.com/a/53837442
function(){let[e,t]=tt(0);// integer state
return()=>t(e=>e+1);// update state to force render
}(),u=nR.genId(),c=tr();c.current=i;let h=(e,t=[],n="",i="")=>{a(t),Array.from(e.current.getElementsByClassName("title-input")).map(e=>e.value=n),Array.from(e.current.getElementsByClassName("text-input")).map(e=>e.value=i)},p=(e,t)=>{a(c.current.map(n=>n.id===e?Object.assign(n,t):n))},g=e=>{a(i.filter(t=>t.id!=e))},f=e=>{let n=new FormData,a=i.find(t=>t.id==e);if(!a||!a.inputFile)throw(// TODO handle this properly
console.error(i,a,e),"error");n.append("file",a.inputFile),p(e,Object.assign(a,{status:"uploading"})),l(!0),nH.sendFile(n,t=>{l(!1),p(e,Object.assign({status:"ready"},t))},t=>{p(e,{status:"uploading",progress:Math.floor(t.loaded/t.total*100)})},n=>{l(!1),console.warn(n),el.add(t("error_upload"),"alert-danger"),g(e)})},m=(n,i)=>{nH.put(`/api/messages/${e.messageId}`,n).then(e=>{if(h(i,[],"",""),o(!1),!e){el.add(t("error_new_message"),"alert-danger");return}window.dispatchEvent(new CustomEvent("editMessage",{detail:e}))}),o(!0)},v=(i,a)=>{// don't post if there is nothing to post
if(i=Object.assign(i,{createdAt:Math.floor(Date.now()/1e3),author:eK.id,group:nR.getId(e.group),children:[],lastActivityDate:Math.floor(Date.now()/1e3)}),e.parent&&(i.parent=nR.getId(e.parent)),!i.files.length&&!i.data.text&&!i.data.title){el.add(t("empty_message"),"alert-danger");return}nH.post("/api/messages",i).then(i=>{if(!i){o(!1),el.add(t("error_new_message"),"alert-danger");return}e.isChild?(o(!1),window.dispatchEvent(new CustomEvent("newChild",{detail:i}))):n(`/messages/${i.id}`),h(a,[],"","")}),o(!0)},_=(e,t)=>{a([...i,...Array.from(t).map(t=>({inputFile:t,type:e,id:nR.genId(),progress:0,status:"initial"}))])};return ti(()=>{if(i.filter(e=>"uploading"===e.status).length<2){for(let e=0;e<i.length;e++)if("initial"==i[e].status&&i[e].inputFile){f(i[e].id);break}}},[i]),$(aH,{id:u,sending:r,uploading:s,inputFile:(e,t=!1)=>{let n=document.createElement("input");document.body.appendChild(n),n.style.display="none",n.type="file",n.accept=e,t&&(n.multiple="multiple"),n.addEventListener("change",t=>{_(e,t.target.files)}),n.click()},sendMessage:(t,n)=>{let a={files:i.filter(e=>!e?.removed).filter(e=>["ready","raw"].includes(e?.status)).map(e=>e?.id).filter(e=>!!e),data:{title:n?.title,text:n?.text}};e.messageId?m(a,t):v(a,t)},cancel:e.cancel,files:i,toggleFile:e=>{a(i.map(t=>(t.id==e&&(t.removed=!t.removed),t)))},invertFiles:(e,t)=>{let n=i.findIndex(t=>t.id===e),r=i.findIndex(e=>e.id===t);[i[n],i[r]]=[i[r],i[n]],a(i),d()},addFiles:_,group:e.group,isChild:e.isChild,text:e.text,title:e.title})},aH=function(e){let[t,n]=tt(null),[i,a]=tt(""),[r,o]=tt(e.text||""),[s,l]=tt(e.title||""),{t:d}=nk(),u=tr(null),c=()=>{n(null),a(null),o(""),l("")},h=t=>{e.sendMessage(t,{// we get the raw value here because onChange() does not capture all possible inputs
// and then the values of text/title could not be up to date
title:t?.current?.querySelector(".title-input")?.value,text:t?.current?.querySelector(".text-input")?.value}),c()},p=e=>{e&&(e.style.height="1px",e.style.height=`${25+e.scrollHeight}px`,// waiting for the dom to be updated
setTimeout(()=>{let t=e.value,r=t.match(/(https?:\/\/[^\s]+)/gi);r&&r[0]!=i&&nH.get(`/api/links/by_url?url=${encodeURIComponent(r[0])}`).then(t=>{t&&e.value.indexOf(r[0])>=0&&(a(r[0]),n(t))})},0))},g=(e,t=!1)=>{if(e.ctrlKey&&nR.is_it_enter(e)){h(u);return}[" ","Enter","v"].includes(e.key)&&t&&p(e.currentTarget)},f=t=>{e.addFiles("image/jpeg",t.clipboardData.files)};return(ti(()=>{p(document?.getElementById(e.id)?.querySelector(".text-input"))},[]),e.sending)?$("div",{class:"message-placeholder"},$("div",{class:"spinner orange-spinner"},$("div",null),$("div",null),$("div",null),$("div",null),$("div",null))):$("div",{id:e.id,class:"writer",ref:u},!e.isChild&&$("input",{type:"text",class:"title-input",onKeyPress:e=>g(e),placeholder:d("title_placeholder"),value:s,onChange:e=>l(e.target.value)}),$("textarea",{onKeyPress:e=>g(e,!0),onPaste:e=>f(e),class:"text-input",rows:"5",autocomplete:"off",autofocus:e.focus,placeholder:d("text_placeholder"),maxlength:"50000",value:r,onChange:e=>o(e.target.value)}),!!t&&$(aI,aU({inWriter:!0},t)),!!e.files.length&&$(aR,{files:e.files,toggleFile:e.toggleFile,invertFiles:e.invertFiles,inWriter:!0}),$("div",{class:"options"},nF?.info?.upload?.image&&$("button",{class:"option",onClick:()=>e.inputFile("image/*",!0),title:d("upload_image")},$(ax,{family:"regular",icon:"images"})),nF?.info?.upload?.video&&$("button",{class:"option",onClick:()=>e.inputFile("video/*"),title:d("upload_video")},$(ax,{family:"solid",icon:"film"})),nF?.info?.upload?.pdf&&$("button",{class:"option",onClick:()=>e.inputFile("application/pdf"),title:d("upload_pdf")},$(ax,{family:"regular",icon:"file-pdf"})),$("div",{class:"actions"},!!e.cancel&&$("button",{class:"cancel",onClick:t=>e.cancel(t)},d("cancel")),$("button",{disabled:!e.group||e.uploading,type:"submit",class:"submit",onClick:()=>h(u)},d("submit")))))},aV=function(){let{bookmarks:e}=aS("bookmarks");return e?Array.isArray(e)&&!(e.length<1)?$("main",null,$(aL,null),$("div",{class:"content"},$("article",{id:"group",class:"justify-content-center d-flex"},$("div",{class:"message-container container-fluid d-flex justify-content-center flex-wrap"},e.map((e,t)=>$(a4,{tabindex:t+1,key:e.message.id,id:e.message.id})))))):void 0:null},aq=function(){let e=i2();return $("main",null,$(aL,null),$("div",{class:"content"},$("div",null,$("div",null,$("article",{id:"group",class:"justify-content-center d-flex"},$("div",{class:"message-container container-fluid d-flex justify-content-center flex-wrap"},$(a1,{key:e.id,id:e.id})))),$(af,{class:"write-button material-shadow seamless-link",to:`/groups/${e.id}/write`},$(ax,{family:"solid",icon:"pencil-alt"})))))},aW=function(e){let{t:t}=nk();return $(F,null,(e=>{if(!e)return null;let n=Math.abs(Math.round((Date.now()/1e3-e)/60));return n<1?t("just_now"):n<60?t("ago",{duration:`${n}mn`}):n<1440?t("ago",{duration:`${Math.floor(n/60)}h`}):nR.humanFullDate(e).split(" ")[0]})(e.timestamp))},aY=function(e){let t;i1();let{t:n}=nk(),[i,a]=tt(null),[r,o]=tt(null),[s,l]=tt(null),[d,u]=tt(null),[c,h]=tt(null),p=e=>{e.currentTarget.src=nR.defaultAvatar},g=e=>{switch(e?.type){case"new_message":return n("has_posted_in");case"new_comment":return n("has_commented_on");case"user_joined_group":return n("has_joined");case"user_left_group":return n("has_left");case"group_name_change":return n("changed_group_name");default:return""}},f=(e,t)=>{switch(e?.type){case"user_joined_group":case"user_left_group":case"group_name_change":return`/groups/${e.fromGroup.id}`;case"new_message":return`/messages/${e.target}`;case"new_comment":return`/messages/${t}/${e.target}`;case"global_notification":return e.target;default:return""}};return(ti(()=>{nH.get(`/api/notifications/${e.id}`,!1,100).then(e=>{e&&(a(f(e,e.fromMessage?.id)),o(g(e)),l(e.title),e?.fromUser?.id&&nH.get(`/api/users/${e.fromUser.id}`).then(e=>{u(e)}),h(e))})},[]),c)?$(af,{key:e.id,class:`notification seamless-link unselectable ${c.read?"":"unread"}`,to:i,title:s},$("div",{class:"miniature unselectable"},(t=nR.defaultAvatar,c?.miniature&&"global_notification"!=c.type&&(t=nR.crop(c?.miniature?.id,80,80)),$("img",{style:nR.backgroundHash(c?.fromUser?.id),src:t,onError:e=>p(e)}))),$("div",{class:"infos"},$("div",{class:"description"},"global_notification"!=c.type&&$(F,null,$("strong",null,d?.name||"--"),$("span",null,` ${r} `)),(e=>{switch(e?.type){case"new_message":return $(F,null,$("strong",null,e?.fromGroup.name),s&&$(F,null,$("br",null),$("small",null,$("em",null,nR.limitStrSize(s,50)))));case"new_comment":return $("span",null,`${n("the_message_from")} `,$("strong",null,e?.parentAuthorName),s&&$(F,null,$("br",null),$("small",null,$("em",null,nR.limitStrSize(s,50)))));case"user_joined_group":case"user_left_group":return $("strong",null,e?.fromGroup.name);case"group_name_change":return $("span",null,$("strong",null,e.data.previousGroupName),` ${n("to")} `,$("strong",null,e.data.newGroupName));case"global_notification":return e.data.text;default:return""}})(c)),$("div",{class:"date"},nR.humanTime(c.createdAt))),$("div",{class:"options dropdown",onClick:e=>{e.stopPropagation(),e.preventDefault(),e?.target?.closest(".dropdown")?.classList.toggle("active")}},$("div",{class:"none-if-follows-empty"},$(ax,{family:"solid",icon:"ellipsis-h"})),$("div",{class:"dropdown-menu dropdown-options"},$("a",{class:"seamless-link capitalize",onClick:()=>nU.removeMatchingNotifications(c.id)},n("delete"))))):null},aK=function(){let e=i2(),[t,n]=tt(null);if(ti(()=>{nH.get(`/api/groups/${e.id}/random`).then(e=>{n(e)})},[]),t)return $(aa,{to:`/messages/${t.id}`,replace:!0})},aX=function(){let{t:e}=nk(),t=i1();return $("form",{class:"navbar-block search-block",onSubmit:e=>{e.preventDefault(),nB.getEntity().then(e=>{let n=null;switch(e.entityType){case"group":n=e.id;break;case"message":n=e.group.id}t(`/groups/${n}/search?q=${document.getElementById("search").value.normalize("NFD").replace(/[\u0300-\u036f]/g,"").split(" ").join("+")}`),window.dispatchEvent(new CustomEvent("groupSearch"))})}},$("div",{class:"input-group"},$("input",{class:"form-control",type:"text",id:"search",placeholder:e("search_in_group"),value:nB.getParam("q").replace(/\+/g," ")}),$("div",{class:"input-group-append"},$("button",{class:"btn btn-secondary",type:"submit"},$(ax,{family:"solid",icon:"search"})))))},aG=function(){let{t:e}=nk(),{me:t}=aS("me"),n=iQ(),i=new URLSearchParams(n.search),[a,r]=tt(!1),[o,s]=tt(i.get("title")||""),[l,d]=tt(i.get("text")||""),[u,c]=tt(i.get("url")||""),h=i.get("parent")||"",[p,g]=tt([]),[f,m]=tt("");if(ti(()=>{setTimeout(()=>{eK.fetch().then(e=>{e.data.default_group?m(e.data.default_group):1==e.groups.length&&m(e.groups[0].id),i.get("message")?nH.get(`/api/messages/${i.get("message")}`).then(e=>{e?.files?.length?Promise.all(e.files.map(e=>nH.get(`/api/files/${e.id}`).then(e=>e))).then(t=>{g(t),s(e?.data?.title||""),d(e?.data?.text||""),c(""),r(!0)}):(s(e?.data?.title||""),d(e?.data?.text||""),c(""),r(!0))}):r(!0)})},100)},[]),a)return $("main",null,$(aL,null),$("div",{class:"content"},$("article",{class:"mt-2"},$("div",{class:"container"},!h&&t?.groups?.length>1&&$("div",{class:"mb-1"},$("label",{class:"px-1",for:"group_share_choice"},e("group_share_choice")),$("select",{value:f,class:"form-select",name:"group_share_choice",onChange:e=>m(e.target.value),required:!0},t?.groups.map(e=>$("option",{key:e.id,value:e.id},e.name)))),!!h&&$("div",{class:"form-group"},$("label",{for:"apiKey"},e("parent_message"),":"," "),$("input",{type:"text",name:"parent_message",value:h,class:"form-control font-size-80",readonly:"readonly"})),$(aF,{focus:!0,group:f,title:o,parent:h,text:l||u?`${l}
${u}`:"",files:p})))))};function aJ(e){let{t:t}=nk(),{bookmarks:n}=aS("bookmarks");return $("div",{class:"message-footer"},$("div",{class:"infos"},!e?.isPublic&&e?.author&&e?.author?.id===eK.id&&$(F,null,$("a",{class:"action seamless-link font-size-90 capitalize d-none d-sm-block",onClick:t=>e.editMessage(t)},t("edit")),$("div",{class:"dot d-none d-sm-block"},"")),!e?.isPublic&&e?.isChild&&e?.message&&$(F,null,$(af,{class:"action seamless-link font-size-90 capitalize",to:`/messages/${e?.message.id}${e?.message?.children.length?"":"?focus=reply"}`},e?.message?.children.length?e.message.children.some(e=>nU.isNew(e.id))?$("b",null,t("replies",{count:e.message.children.length})):t("replies",{count:e.message.children.length}):t("reply")),$("div",{class:"dot"},"")),$("div",{class:"date font-size-90",title:nR.humanFullDate(e?.message.createdAt)},$(aW,{timestamp:e?.message.createdAt})),$(F,null,$("div",{class:"dot"},""),$("div",{class:"font-size-90"},e?.author&&e?.author?.name?e.author.name:"--"))),$("div",null,!e?.isPublic&&$("div",{class:"options dropdown",onClick:e=>e?.target?.closest(".dropdown")?.classList.toggle("active")},$("div",{class:"none-if-follows-empty"},$(ax,{family:"solid",icon:"ellipsis-h"})),$("div",{class:"dropdown-menu dropdown-options"},e?.author&&e?.author?.id===eK.id&&$("a",{class:"seamless-link capitalize",onClick:t=>e.deleteMessage(t)},t("delete")),$("a",{class:"seamless-link capitalize",onClick:t=>e.openPublicLink(t)},t("public_link")),eK.groups?.length>1&&$("a",{class:"seamless-link capitalize",onClick:t=>e.shareMessage(t)},t("share_message")),!e?.message?.isInFront&&e?.author&&e?.author.id==eK.id&&$("a",{class:"seamless-link capitalize",onClick:t=>e.publishInGroup(t)},t("publish_in_group")),!n.some(t=>t.message.id===e?.message.id)&&$("a",{class:"seamless-link capitalize",onClick:()=>{el.add(t("bookmark_added")),eu.dispatch("bookmark/add",e.message.id)}},t("add_bookmark")),n.some(t=>t.message.id===e?.message.id)&&$("a",{class:"seamless-link capitalize",onClick:()=>{el.add(t("bookmark_removed")),eu.dispatch("bookmark/remove",n.find(t=>t.message.id===e.message.id))}},t("remove_bookmark")),e?.author?.id==eK.id&&$("a",{class:"seamless-link capitalize",onClick:t=>e.editMessage(t)},t("edit"))))))}function aZ(e){let[t,n]=tt(null);return ti(()=>{if(!t&&e.message&&e.message.data){let t=nR.getUrl(e.message.data.text);t&&nH.get(`/api/links/by_url?url=${encodeURIComponent(t[0])}`).then(e=>n(e))}}),$("div",{class:"message-body"},e.message.data&&e.message.data.title&&$("div",{class:"title"},$("span",null,e.message.data.title)),e.message.data&&e.message.data.text&&e.message.data.text.trim()&&$("p",{class:"card-text",dangerouslySetInnerHTML:(()=>{if(!e.message.data)return"";// escape html a little (just enough to avoid xss I hope)
let t=e.message.data.text.replace(/</g,"&lt;").replace(/>/g,"&gt;").trim(),n=0,i=null;for(;i=nR.getUrl(t.slice(n));){let e=i[0];e.length>=50&&(e=`${e.slice(0,25)}...${e.slice(-24)}`);let a=`<a href="${i[0]}" target="_blank">${e}</a>`;t=t.slice(0,i.index+n)+a+t.slice(i.index+n+i[0].length),n+=i.index+a.length}return{__html:// replace line returns
t=t.replace(/\n/g,"<br/>")}})()}),t&&(!e.message.data||!e.message.data.no_embed)&&$(aI,{key:t.url,url:t.url,preview:t.preview,data:t.data}),e.files&&$(aR,{files:e.files}))}function aQ(e){let t=[e.message.id,...e.message.lineage].reverse(),[n,i]=tt([]),[a,r]=tt(null),o=(e,t)=>{if(e){if(e.data&&e.data.title)return e.data.title;if(t&&t.data)return t.data.title;if(e.data&&e.data.text){let t=nR.getUrl(e.data.text);return(t&&t.length>0&&(t=t[0]),t)?t:e.data.text}}// When all else fails, just say who and when
return`${e?.author?.name}, ${nR.humanTime(e.createdAt)}`},s=e=>{let t=[];Promise.all(e.map(e=>nH.get(`/api/messages/${e}`))).then(n=>{Promise.all(n.map(e=>{let t=nR.getUrl(e?.data?.text);return t?nH.get(`/api/links/by_url?url=${encodeURIComponent(t[0])}`):Promise.resolve(null)})).then(a=>{for(let i=0;i<e.length;i++)t[i]=o(n[i],a[i]);i(t)})})};if(ti(()=>{s(t),nH.get(`/api/groups/${e.message.group.id}`).then(e=>{r(e)})},[]),t.length>0){let e=[t[0],...t.slice(-1*Math.min(3,t.length)).slice(1)],i=[n[0],...n.slice(-1*Math.min(3,n.length)).slice(1)];return $("div",{class:"message-breadcrumbs"},$("nav",{style:"--bs-breadcrumb-divider: '>';"},$("ol",{class:"breadcrumb"},a&&$("li",{class:"breadcrumb-item"},$(af,{key:a.id,to:`/groups/${a.id}`,class:"no-decoration"},nR.limitLength(a.name||a.id.slice(0,8),30))),e.map((e,n)=>$(F,{key:e},$(F,null,1==n&&t.length>3&&$("li",{class:"breadcrumb-item"},"...")),$("li",{class:"breadcrumb-item"},$(af,{key:e,to:`/messages/${e}`,class:"no-decoration"},nR.limitLength(i[n]||e.slice(0,8),30))))))))}}function a0(e){let t;let n=i1(),{t:i}=nk(),{me:a}=aS("me"),[r,o]=tt(null),[s,l]=tt(null),[d,u]=tt(null),[c,h]=tt(!1),[p,g]=tt(!1),[f,m]=tt(null),v=tr(f),_=e=>{v.current=e,m(e)},[,y]=tn(e=>e+1,0);ti(()=>{window.addEventListener("newChild",w),window.addEventListener("editMessage",S),x(),nU.markAsRead(e.id),e.isChild||setTimeout(()=>window.scrollTo(0,0)),setTimeout(()=>{if(e.id==nB.action){let t=document.getElementById(e.id);t&&(t.scrollIntoView({block:"start",behavior:"smooth"}),setTimeout(()=>t.classList.remove("highlight"),1e3))}},1e3)},[]);let b=e=>{_(e),e?.author?.id&&nH.get(`/api/users/${e.author.id}`).then(e=>{o(e)}),e?.parent?.id&&nH.get(`/api/messages/${e.parent.id}`).then(e=>{l(e)}),// delay loading of files a little bit
setTimeout(()=>{e?.files?.length&&Promise.all(e.files.map(e=>nH.get(`/api/files/${e.id}`).then(e=>e))).then(e=>u(e))},100)},x=()=>{e?.message?(e?.files?.length&&u(e?.message?.files.map(e=>({id:e.id,status:"loading"}))),b(e.message)):e?.token?nH.get(`/api/public/${e.token}`).then(e=>{e?.files?.length&&u(e?.files.map(e=>({id:e.id,status:"loading"}))),b(e)}):nH.get(`/api/messages/${e.id}`).then(e=>{e?.files?.length&&u(e?.files.map(e=>({id:e.id,status:"loading"}))),b(e)})},w=t=>{if(!v.current?.id)return;let n=t.detail;if(n?.parent&&nR.getId(n?.parent)==e.id){n.author=a;let e=v?.current?.children?[...v.current.children,n]:[n];_(Object.assign(v.current,{children:e})),y()}},k=async t=>{t.preventDefault();let n=window.open("about:blank","_blank"),i=await nH.get(`/api/messages/${e.id}/get-public-link`);n.location=`${document.baseURI}public/${i.token}`},S=t=>{t.detail.id==e.id&&(g(!1),b(t.detail),e.key=+Date.now())},C=e=>{e.preventDefault(),g(!1)},E=(t,n)=>$(aF,{cancel:p?C:null,files:p?d:[],focus:n||!!p,group:f.group,messageId:p?e.id:null,parent:p?s?.id:e.id,text:p?f.data.text:"",title:p?f.data.title:"",isChild:t});return c||!f?$("div",{id:e.id,className:"message"}):$(F,null,!e?.isChild&&!e?.isPublic&&$(aQ,{key:f?.id,message:f}),$("div",{id:e.id,className:(t="message",e.isChild&&(t+=" child"),e.id==nB.action&&(t+=" highlight"),t)},p&&E(e?.isChild),!p&&$(F,null,e.isChild&&!e.isPublic&&p&&$("div",{class:"message-head d-none d-md-block"},$("img",{class:"rounded-circle w-3 material-shadow avatar",style:nR.backgroundHash(a.id),src:a.avatar?nR.crop(a.avatar?.id,100,100):nR.defaultAvatar})),$(ab,{author:r,message:f,isPublic:e?.isPublic,isChild:e?.isChild}),$("div",{class:"main"},$(aZ,{message:f,files:d||[],isPublic:e?.isPublic,isChild:e?.isChild}),$(aJ,{author:r,message:f,editMessage:e=>{e.preventDefault(),g(!0)},deleteMessage:t=>{t.preventDefault(),confirm(i("ask_delete_message"))&&nH.delete(`/api/messages/${e.id}`).then(()=>{e.isChild?h(!0):n(`/groups/${f.group.id}`)})},shareMessage:t=>{t.preventDefault(),n(`/share?message=${e.id}`)},publishInGroup:()=>{nH.put(`/api/messages/${e.id}`,{lastActivityDate:Math.floor(Date.now()/1e3),isInFront:!0}).then(e=>{if(!e){alert.add(i("error"),"alert-danger");return}n(`/groups/${f.group.id}`)})},openPublicLink:k,isPublic:e?.isPublic,isChild:e?.isChild})))),e?.postMessageComponent,!e?.isChild&&!e?.isPublic&&$(ay,{childMessages:f?.children,key:e.id,id:e.id}),!p&&!e?.isPublic&&!e?.isChild&&$("div",{class:"message child mt-2"},a?.id&&$("div",{class:"message-head d-none d-md-block"},$("img",{class:"rounded-circle w-3 material-shadow avatar",style:nR.backgroundHash(a.id),src:a?.avatar?nR.crop(a.avatar.id,100,100):nR.defaultAvatar})),E(!0,e.focus)))}let a1=class extends H{constructor(e){super(e);let t=1+Math.floor(window.screen.width*window.screen.height/68800);this.state={loaded:t,messages:[],scrollTop:0,totalMessages:0,pageYOffset:0,page:0},this.scroll_cooldown=Date.now(),this.onScroll=this.onScroll.bind(this),this.loadMessages=this.loadMessages.bind(this),this.onNewParent=this.onNewParent.bind(this),window.addEventListener("newParent",this.onNewParent)}onNewParent(){this.loadMessages(0)}componentDidMount(){this.loadMessages(0),window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){window.removeEventListener("scroll",this.onScroll)}loadMessages(e){nH.get(`/api/groups/${this.props.id}`).then(e=>{this.setState({group:e})}),nH.get(`/api/groups/${this.props.id}/page/${e}`).then(t=>{if(t&&Array.isArray(t.messages)){let n=Math.max(this.state.loaded,30*e),i=this.state.messages;// don't add already added messages
t.messages.map(e=>!i.find(t=>t.id==e)&&i.push({id:e})),this.setState({messages:i,totalMessages:t.totalItems,page:e,loaded:n}),(e+1)*30<n&&setTimeout(()=>this.loadMessages(e+1))}})}onScroll(){"none"!=window.getComputedStyle(document.getElementById("group").parentNode).display&&this.scroll_cooldown+100<Date.now()&&(this.scroll_cooldown=Date.now(),this.setState({pageYOffset:window.pageYOffset}),Array.isArray(this.state.messages)&&document.body.scrollHeight-window.screen.height-500<window.pageYOffset&&this.state.loaded<this.state.totalMessages&&(this.setState(e=>({loaded:e.loaded+10})),this.state.loaded+30>this.state.messages.length&&(this.loadMessages(this.state.page+1),// update page count right away
this.setState(e=>({page:e.page+1})))))}render(){if(this.props.id)return $(F,null,Array.isArray(this.state.messages)&&this.state.messages.slice(0,this.state.loaded).map((e,t)=>$(a4,{tabindex:t+1,key:e.id,id:e.id})))}},a2=function(e){let t=i2();return $("main",null,$(aL,null),$("div",{class:"content"},$("article",{class:"mb-3 justify-content-center d-flex"},$("div",{class:"container pb-3"},$(a0,{focus:!!nB.getParam("focus",nB.search),isPublic:!1,isChild:!1,message:e?.message,id:t.id,key:t.id})))))},a4=function(e){let[t,n]=tt(null),[i,a]=tt(null),[r,o]=tt(null),[s,l]=tt(null),[d,u]=tt(null),[c,h]=tt(0),[p,g]=tt(!1),f=e=>{e.currentTarget.src=nR.defaultAvatar,e.currentTarget.style.height="180px",e.currentTarget.style.width="auto",e.currentTarget.style.position="absolute",e.currentTarget.style.left="50%",e.currentTarget.style.transform="translate(-50%, 0%)"};return(ti(()=>{nH.get(`/api/messages/${e.id}/preview`).then(e=>{e?.author?.id&&nH.get(`/api/users/${e.author.id}`).then(e=>{n(e)}),a(e?.preview),o(e?.id),h(e?.children),g(!0),u(e?.lastActivityDate),l(e?.data)})},[]),e?.id&&s)?$(af,{to:`/messages/${r}`,class:"d-inline-block seamless-link message-preview unselectable",title:s?.title},$("div",{tabindex:e?.tabindex,class:"card material-shadow-with-hover"},$("img",{title:t?t.name:"--",className:`avatar material-shadow${t?"":" removed-user"}`,style:nR.backgroundHash(t?t.id:""),src:t?.avatar?nR.crop(t.avatar.id,100,100):nR.defaultAvatar,onError:e=>e.currentTarget.src=nR.defaultAvatar}),$("div",{class:"card-miniature-loading"},p&&$(F,null,i?$("div",{class:"card-miniature"},$("img",{width:"320",height:"180",src:nR.crop(nR.getId(i),320,180),onError:e=>f(e)})):$("div",{class:"text-preview"},s?.text))),$("div",{class:"card-body border-top d-flex justify-content-between"},$("span",{class:"left-buffer"}),$("span",{class:"title",title:s?.title||nR.humanFullDate(d)},s?.title||$(aW,{timestamp:d})),$("span",{class:"children"},c>0&&$("span",null,`${c} `,$(ax,{family:nU.isNew(r)?"solid":"regular",icon:"comment"})))))):null},a3=function(e){let[t,n]=tt(e?.message?.author||null);return ti(()=>{e?.message?.author&&nH.get(`/api/users/${e.message.author}`).then(e=>e&&n(e))},[]),$(af,{class:"d-inline-block seamless-link message-preview unselectable",to:e.message.parent&&0==e.message.children?`/messages/${e.message.parent}/${e.message.id}`:`/messages/${e.message.id}`,title:e?.title},$("div",{tabindex:e.tabindex,class:"card material-shadow-with-hover"},$("div",{class:"card-body border-top"},(()=>{if(e?.preview)return $("div",{class:"card-miniature",style:`background-image: url('${nR.crop(e?.preview,100,100)}')`});let n=nR.defaultAvatar;return t?.avatar?.id&&(n=nR.crop(t.avatar.id,100,100)),$("div",{class:"card-miniature",style:`background-image: url('${n}')`})})(),$("div",{class:"infos"},$("div",{class:"title",dangerouslySetInnerHTML:(()=>{if(!t?.name)return{__html:"--"};let n=t.name,i=n.split(" ");for(let t=0;t<i.length;t++)if(!i[t].match(nR.urlRegExp)){let n=e.search.split(" ");for(let e=0;e<n.length;e++)i[t]=i[t].replace(RegExp(nR.escapeRegex(n[e]),"gi"),"<b>$&</b>")}return{__html:n=i.join(" ")}})()}),$("div",{class:"dot"},""),$("div",{class:"title",title:e?.title||nR.humanFullDate(e.message.lastActivityDate),dangerouslySetInnerHTML:(()=>{if(!e?.message?.data?.title)return{__html:nR.humanTime(e?.message?.lastActivityDate)};// escape html a little (just enough to avoid xss I hope)
let t=e?.message?.data?.title.replace(/</g,"&lt;").replace(/>/g,"&gt;").trim(),n=t.split(" "),i=e?.search.split(" ")||[];for(let e=0;e<n.length;e++)if(!n[e].match(nR.urlRegExp))for(let t=0;t<i.length;t++)n[e]=n[e].replace(RegExp(nR.escapeRegex(i[t]),"gi"),"<b>$&</b>");return{__html:t=n.join(" ")}})()})),$("div",{class:"text"},e?.message?.data?.text.trim()&&$("p",{class:"card-text",dangerouslySetInnerHTML:(()=>{if(!e?.message?.data?.text)return"";// escape html a little (just enough to avoid xss I hope)
let t=e?.message?.data?.text.replace(/</g,"&lt;").replace(/>/g,"&gt;").trim(),n=t.split("\n");for(let t=0;t<n.length;t++){let i=n[t].split(" ");for(let t=0;t<i.length;t++)if(!i[t].match(nR.urlRegExp)){let n=e.search.split(" ");for(let e=0;e<n.length;e++)n[e]&&(i[t]=i[t].replace(RegExp(nR.escapeRegex(n[e]),"gi"),"<b>$&</b>"));let a=e?.hashtags.split(" ")||[];for(let e=0;e<a.length;e++)a[e]&&(i[t]=i[t].replace(RegExp(`#${a[e]}`,"gi"),"<b>$&</b>"))}n[t]=i.join(" ")}t=n.join("\n");// replace url by real links
let i=0,a=null;for(;a=nR.getUrl(t.slice(i));){let n=a[0];n.length>=50&&(n=`${n.slice(0,25)}...${n.slice(-24)}`);let r=e?.search.split(" ")||[];for(let e=0;e<r.length;e++)n=n.replace(RegExp(nR.escapeRegex(r[e]),"gi"),"<b>$&</b>");let o=`<a href="${a[0]}" target="_blank">${n}</a>`;t=t.slice(0,a.index+i)+o+t.slice(a.index+i+a[0].length),i+=a.index+o.length}return{__html:// replace line returns
t=t.replace(/\n/g,"<br/>")}})()})),$("div",{class:"children"},!!e.message.children&&$("span",null,`${e.message.children} `,$(ax,{family:nU.isNew(e.message.id)?"solid":"regular",icon:"comment"}))))))},a6=function(){let[e,t]=tt(!1),[n,i]=tt(!1),a=i1(),{t:r}=nk();ti(()=>{ed.get("apiKey").then(e=>e&&a("/")),ed.reset()},[]);let o=e=>{e.preventDefault();let n=document.getElementById("login").value||"";n.toLowerCase(),t(!0),nH.post("/api/password-reset-mail",{mail:n}).then(e=>{t(!1),e&&!e.message?el.add(r("password_reset_mail_sent")):el.add(r(e.message),"alert-danger")})},s=e=>{e.preventDefault(),t(!0);let n=document.getElementById("login").value||"";n.toLowerCase();let i=document.getElementById("password").value;nH.post("/api/login",{login:n,password:i}).then(e=>{t(!1),e&&e.api_key?ed.set("apiKey",e.api_key).then(()=>{eK.update().then(e=>{let t="/create-group";e.data?.default_group?t=`/groups/${e?.data.default_group}`:e?.groups[0]&&(t=`/groups/${e?.groups[0].id}`),a(t)})}):e&&e.message?el.add(r(e.message),"alert-danger"):el.add(r("error"),"alert-danger")})};return $("div",{class:"login"},$("div",{class:"login-form"},$("img",{src:new URL(am)}),!n&&$("form",null,$("div",{class:"form-group mb-3"},$("input",{type:"email",class:"form-control",required:!0,id:"login",placeholder:r("login_placeholder")})),$("div",{class:"form-group"},$("input",{type:"password",class:"form-control",required:!0,id:"password",placeholder:r("password_placeholder")})),$("div",{class:"forgot-password"},$("span",{onClick:()=>i(!0)},r("forgot_password"))),$("button",{type:"submit",class:"btn btn-light",onClick:e=>s(e),disabled:e},r("connect"))),!!n&&$("form",null,$("div",{class:"form-group mb-3"},$("input",{type:"email",class:"form-control",required:!0,id:"login",placeholder:r("login_placeholder")})),$("button",{type:"submit",class:"btn btn-light",onClick:e=>o(e),disabled:e},r("submit")))))},a5=function(){let{t:e}=nk(),t=i1(),n=n=>{n.preventDefault(),ed.set("apiKey","");let i=document.getElementById("password").value||"",a=document.getElementById("password_confirmation").value||"",r=nB.getParam("mail"),o=nB.getParam("key");if(r&&i){if(i!=a){el.add(e("passwords_dont_match"));return}nH.post("/api/new-password",{mail:r,key:o,password:i}).then(n=>{n.api_key?(ed.set("apiKey",n.api_key),setTimeout(()=>t("/"),100)):el.add(e(n.message))}).catch(e=>console.warn(e))}};return $("div",{class:"login"},$("div",{class:"login-form"},$("h2",{class:"title"},e("reset_password_title")),$("form",null,$("div",{class:"form-group"},$("input",{type:"password",class:"form-control",required:!0,id:"password",placeholder:e("new_password_placeholder")})),$("div",{class:"form-group"},$("input",{type:"password",class:"form-control",required:!0,id:"password_confirmation",placeholder:e("confirm_password_placeholder")})),$("button",{type:"submit",class:"btn btn-light",onClick:e=>n(e)},e("submit")))))},a9=function(){let e=i1(),{t:t}=nk(),n=n=>{n.preventDefault();let i=document.getElementById("login").value||"";i.toLowerCase();let a=document.getElementById("password").value;ed.set("apiKey",""),nH.post("/api/signup",{login:i,password:a,invite_key:nB.getParam("inviteKey")}).then(n=>{n&&!n.message?(ed.set("apiKey",n.api_key),setTimeout(()=>e("/"),100)):el.add(t(n.message))})};return $("div",{class:"signup"},$("div",{class:"signup-form"},$("img",{src:new URL(am)}),$("div",{class:"welcome lead"},t("invitation_welcome")),$("form",null,$("div",{class:"form-group"},$("input",{type:"email",class:"form-control",required:!0,id:"login",placeholder:t("login_placeholder")})),$("div",{class:"form-group"},$("input",{type:"password",class:"form-control",required:!0,id:"password",placeholder:t("password_placeholder")})),$("button",{type:"submit",class:"btn btn-light",onClick:e=>n(e)},t("signup")))))},a8=function(){return $("article",{class:"justify-content-center d-flex mt-2"},$("div",{class:"container"},$("main",null,$("div",{class:"content"},$("article",{class:"mb-3 justify-content-center d-flex"},$("div",{class:"container pb-3"},$(a0,{focus:!1,isPublic:!0,isChild:!1,token:i2().token})))))))};function a7(){let e=i2(),{t:t}=nk(),{me:n,dispatch:i}=aS("me"),a=i1(),[r,o]=tt(""),[s,l]=tt([]),[d,u]=tt({}),[c,h]=tt("");ti(()=>{nH.get(`/api/groups/${e.id}`).then(e=>{u(e),o(e.secretKey),Promise.all(e.users.map(e=>nH.get(`/api/users/${e.id}`).then(e=>e))).then(e=>l(e))}),h(t(nB.getParam("alert")))},[]);let p=e=>{if(e.preventDefault(),n.data?.default_group==d.id){let e={};e.data={default_group:n.groups[0].id},nH.put(`/api/users/${n.id}`,e).then(()=>{i("me/fetch"),g()})}else g()},g=()=>{nH.post(`/api/groups/${d.id}/leave`,{}).then(e=>{e&&e.entityType?(i("me/fetch"),el.add(t("group_left")),a("/")):el.add(t("error"),"alert-danger")})};return $("div",null,$("div",{class:"group-settings mb-3"},$("div",{class:"card"},$("div",{class:"card-body"},$("div",{class:"container-fluid p-1"},$("div",{class:"row"},$("div",{class:"col-12 col-md-10"},$("form",{id:"settings_form",class:"mb-1 border-bottom pb-1"},$("div",{class:"form-group"},$("label",{for:"name"},t("name"),": "),$("input",{type:"text",name:"name",minlength:"1",maxlength:"128",placeholder:t("name_input"),value:d.name,class:"form-control",required:!0})),$("button",{onClick:e=>{e.preventDefault();let n=document.querySelector("#settings_form input[name='name']").value;n&&(d.name=n),u(Object.assign({},d)),nH.put(`/api/groups/${d.id}`,d).then(e=>{u(e),h(t("group_updated")),a(`${location.pathname}?alert=group_updated`)})},class:"btn btn-outline-secondary"},t("save_changes"))),$("form",{class:"mb-1 border-bottom pb-1"},$("div",{class:"form-group"},$("label",{for:"inviteKey"},t("invitation_link"),":"," "),$("input",{type:"text",name:"inviteKey",value:`${window.location.protocol}//${window.location.host}/invitation/${r}`,class:"form-control font-size-80",readonly:"readonly"})),$("button",{class:"btn btn-outline-secondary",onClick:e=>{e.preventDefault(),nH.post(`/api/groups/${d.id}/reset-invite-key`,{}).then(e=>{el.add(t("group_updated")),o(e.inviteKey)})}},t("reset_invitation_link"))),$("form",null,$("button",{onClick:e=>p(e),class:"btn btn-outline-danger"},t("quit_group"))))))))),$("div",{class:"user-list mb-3"},$("h3",null,t("users")),s.map(e=>e&&$("div",{class:"user-card"},$("img",{class:"avatar material-shadow-with-hover",style:nR.backgroundHash(e.id),src:e.avatar?nR.crop(e.avatar.id,200,200):nR.defaultAvatar,onError:e=>e.currentTarget.src=nR.defaultAvatar}),$("span",null,e.name)))),c&&$("div",{class:"global-alert alert alert-success"},c))}function re(){let{t:e}=nk(),{me:t}=aS("me"),n=i1(),i=iQ(),[a,r]=tt(null),[o,s]=tt("");ti(()=>{ed.get("apiKey").then(e=>r(e)),s(e(nB.getParam("alert")))},[]);let l=()=>{let a=document.createElement("input");a.type="file",a.accept="image/*",a.addEventListener("change",a=>{let r=new FormData;r.append("file",a.target.files[0]),nH.sendFile(r,a=>{nH.put(`/api/users/${t.id}`,{avatar:a.id}).then(()=>{s(e("settings_updated")),n(`${i.pathname}?alert=settings_updated`)})})}),a.click()},d=i=>{i.preventDefault(),confirm(e("are_you_sure"))&&nH.delete(`/api/users/${t.id}`).then(()=>{n("/logout")})},u=a=>{a.preventDefault();let r=document.querySelector("#settings_form input[name='name']").value,o=document.querySelector("#settings_form input[name='email']").value,l=document.querySelector("#settings_form input[name='password']").value,d=document.querySelector("#settings_form select[name='notification_emails']").value,u=document.querySelector("#settings_form select[name='default_group']").value,c=document.querySelector("#settings_form select[name='lang']").value,h={};r&&(h.name=r),o&&(h.login=o),l&&(h.password=l),h.data={notification_emails:d,default_group:u,lang:c},nH.put(`/api/users/${t.id}`,h).then(t=>{t.error?el.add(t.error,"alert-danger"):(s(e("settings_updated")),n(`${i.pathname}?alert=settings_updated`))})};if(t&&t?.data)return $("div",{class:"user-settings"},$("div",{class:"card"},$("div",{class:"identite card-body"},$("div",{class:"container-fluid p-1"},$("div",{class:"row"},$("div",{class:"col-12 col-md-2"},$("img",{class:"img-fluid rounded-circle material-shadow avatar",src:t.avatar?nR.crop(t.avatar.id,100,100):nR.defaultAvatar,style:nR.backgroundHash(t.id||""),onError:e=>e.currentTarget.src=nR.defaultAvatar,onClick:e=>l(e)})),$("div",{class:"col-12 col-md-10"},$("form",{id:"settings_form",class:"mb-3"},$("div",{class:"form-group"},$("label",{for:"name"},e("name"),": "),$("input",{type:"text",name:"name",minlength:"1",maxlength:"128",placeholder:e("name_input"),value:t.name,class:"form-control"})),$("div",{class:"form-group"},$("label",{for:"email"},e("email"),": "),$("input",{type:"email",name:"email",placeholder:e("email_input"),value:t.login,class:"form-control"})),$("div",{class:"form-group"},$("label",{for:"password"},e("password"),": "),$("input",{type:"password",name:"password",autocomplete:"off",minlength:"8",maxlength:"128",placeholder:e("password_input"),class:"form-control"})),$("div",{class:"form-group"},$("label",{for:"notification_emails"},e("notification_emails"),":"),$("select",{name:"notification_emails",class:"form-control",value:t?.data.notification_emails},$("option",{value:"none"},e("none")),$("option",{value:"hourly"},e("hourly")),$("option",{value:"daily"},e("daily")),$("option",{value:"weekly"},e("weekly")),$("option",{value:"monthly"},e("monthly")))),$("div",{class:"form-group"},$("label",{for:"default_group"},e("default_group"),":"),$("select",{name:"default_group",class:"form-control",value:t?.data.default_group},t.groups?.map(e=>$("option",{key:e.id,value:e.id},e.name)))),$("div",{class:"form-group"},$("label",{class:"capitalize",for:"lang"},e("lang"),":"),$("select",{name:"lang",class:"form-control",value:nI.getCurrentLang()},Object.keys(nI.possibleLang).map(e=>$("option",{key:e,value:e},nI.possibleLang[e])))),$("button",{onClick:e=>u(e),class:"btn btn-primary"},e("save_changes"))),$("form",{id:"api_key_form"},$("div",{class:"form-group"},$("label",{for:"apiKey"},e("api_key"),":"," "),$("input",{type:"text",name:"apiKey",value:a,class:"form-control font-size-80",readonly:"readonly"})),$("button",{class:"btn btn-outline-secondary",onClick:e=>{e.preventDefault(),nH.post(`/api/users/${t.id}/reset-api-key`,{}).then(()=>nB.logout())}},e("reset_api_key"))),$("form",{id:"destroy_form"},$("label",{class:"d-block",for:"destroy_account"},e("destroy_account_explain")),$("button",{onClick:e=>d(e),name:"destroy_account",class:"btn btn-danger"},e("destroy_account")))))))),o&&$("div",{class:"global-alert alert alert-success"},o))}let rt=function(){let e=i2(),{t:t}=nk(),{me:n}=aS("me");return $("main",null,$(aL,null),$("div",{class:"content"},$("article",{class:"mt-2 justify-content-center d-flex"},$("div",{class:"container pb-3"},$("div",{class:"settings"},$("ul",{class:"nav nav-tabs"},$("li",{class:"nav-item"},$(af,{class:`nav-link${"users"==e.type?" active":""}`,to:`/users/${n.id}/settings`},t("account"))),n.groups?.length>0&&$("li",{class:"nav-item dropdown group-list",tabindex:"-1",onClick:e=>e.currentTarget.classList.toggle("active")},$("div",{class:`nav-link${"groups"==e.type?" active":""}`},t("groups")),$("div",{class:"dropdown-menu"},n.groups?.map(e=>$(af,{key:`/groups/${e.id}/settings`,class:"seamless-link",to:`/groups/${e.id}/settings`},e.name))))),"users"===e.type&&$(re,{id:e.id,key:e.id}),"groups"===e.type&&$(a7,{id:e.id,key:e.id}))))))},rn=(f=[{path:"*",Component:function(){let e=i1(),t=iQ(),n=e=>{e.target.closest(".dropdown")?document.querySelectorAll(".dropdown").forEach(t=>{t!=e.target.closest(".dropdown")&&t.classList.remove("active")}):document.querySelectorAll(".dropdown").forEach(e=>e.classList.remove("active"))};return ti(()=>(nF&&"function"==typeof nF.update?nF.update():console.error("Could not use api.update()"),nU.update(),n$.get("/api/me/bookmarks/1001").then(e=>{eu.dispatch("bookmarks/update",e)}),// manage dropdowns
    window.addEventListener("click",e=>n(e)),()=>{window.removeEventListener("click",e=>n(e))})),eK.fetch().then(n=>{if("/"==t.pathname){let t="/login";n&&(t="/create-group",n.data?.default_group?t=`/groups/${n?.data.default_group}`:n?.groups[0]&&(t=`/groups/${n?.groups[0].id}`)),e(t)}t.pathname.match(/^\/invitation/)&&(n?nH.post(`/api/groups/invitation/${nB.id}`,{}).then(()=>{e("/")}):e(`/signup?inviteKey=${nB.id}`)),nB.isOutside()||n||e("/login")}),$(as,null,$(ar,{path:"/password-reset",element:$(a5,null)}),$(ar,{path:"/public/:token",element:$(a8,null)}),$(ar,{path:"/share",element:$(aG,null)}),$(ar,{path:"/signup",element:$(a9,null)}),$(ar,{path:"/stop-notification-emails",element:$(av,null)}),$(ar,{path:"/login",element:$(a6,null)}),$(ar,{path:"/logout",element:$(aa,{replace:!0,to:"/login"})}),$(ar,{path:"/:type/:id/settings",element:$(rt,null)}),$(ar,{path:"/bookmarks",element:$(aV,null)}),$(ar,{path:"/create-group",element:$(aP,null)}),$(ar,{path:"/groups/:id",element:$(aq,null)}),$(ar,{path:"/groups/:id/random",element:$(aK,null)}),$(ar,{path:"/groups/:id/search",element:$(aA,null)}),$(ar,{path:"/groups/:id/write",element:$(aB,null)}),$(ar,{path:"/messages/:id",element:$(a2,null)}),$(ar,{path:"/messages/:id/:child_id",element:$(a2,null)}))}}],//#endregion
////////////////////////////////////////////////////////////////////////////////
//#region createRouter
////////////////////////////////////////////////////////////////////////////////
/**
 * Create a router and listen to history POP navigations
 */(function(e){let t,n,i,a;let r=e.window?e.window:"undefined"!=typeof window?window:void 0,o=void 0!==r&&void 0!==r.document&&void 0!==r.document.createElement,s=!o;if(nW(e.routes.length>0,"You must provide a non-empty routes array to createRouter"),e.mapRouteProperties)t=e.mapRouteProperties;else if(e.detectErrorBoundary){// If they are still using the deprecated version, wrap it with the new API
let n=e.detectErrorBoundary;t=e=>({hasErrorBoundary:n(e)})}else t=ig;// Routes keyed by ID
let l={},d=nQ(e.routes,t,void 0,l),u=e.basename||"/",c=nV({v7_normalizeFormMethod:!1,v7_prependBasename:!1},e.future),h=null,p=new Set,g=null,f=null,m=null,y=null!=e.hydrationData,b=n0(d,e.history.location,u),x=null;if(null==b){// If we do not match a user-provided-route, fall back to the root
// to allow the error boundary to take over
let t=iT(404,{pathname:e.history.location.pathname}),{matches:n,route:i}=iL(d);b=n,x={[i.id]:t}}let w=// functions around still then we'll need to run them in initialize()
!b.some(e=>e.route.lazy)&&// And we have to either have no loaders or have been provided hydrationData
(!b.some(e=>e.route.loader)||null!=e.hydrationData),k={historyAction:e.history.action,location:e.history.location,matches:b,initialized:w,navigation:iu,// Don't restore on initial updateState() if we were SSR'd
restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||x,fetchers:new Map,blockers:new Map},S=v.Pop,C=!1,E=!1,A=!1,z=[],L=[],T=new Map,P=0,O=-1,N=new Map,j=new Set,D=new Map,I=new Map,R=new Map,M=!1;// Update our state and notify the calling context of the change
function $(e){k=nV({},k,e),p.forEach(e=>e(k))}// Complete a navigation returning the state.navigation back to the IDLE_NAVIGATION
// and setting state.[historyAction/location/matches] to the new route.
// - Location is a required param
// - Navigation will always be set to IDLE_NAVIGATION
// - Can pass any other state in newState
function U(t,i){var a,r;let o;// Deduce if we're in a loading/actionReload state:
// - We have committed actionData in the store
// - The current navigation was a mutation submission
// - We're past the submitting state and into the loading state
// - The location being loaded is not the result of a redirect
let s=null!=k.actionData&&null!=k.navigation.formMethod&&iI(k.navigation.formMethod)&&"loading"===k.navigation.state&&(null==(a=t.state)?void 0:a._isRedirect)!==!0;o=i.actionData?Object.keys(i.actionData).length>0?i.actionData:null:s?k.actionData:null;// Always preserve any existing loaderData from re-used routes
let l=i.loaderData?iA(k.loaderData,i.loaderData,i.matches||[],i.errors):k.loaderData,u=k.blockers;u.size>0&&(u=new Map(u)).forEach((e,t)=>u.set(t,ih));// Always respect the user flag.  Otherwise don't reset on mutation
// submission navigations unless they redirect
let c=!0===C||null!=k.navigation.formMethod&&iI(k.navigation.formMethod)&&(null==(r=t.state)?void 0:r._isRedirect)!==!0;n&&(d=n,n=void 0),E||S===v.Pop||(S===v.Push?e.history.push(t,t.state):S===v.Replace&&e.history.replace(t,t.state)),$(nV({},i,{actionData:o,loaderData:l,historyAction:S,location:t,initialized:!0,navigation:iu,revalidation:"idle",restoreScrollPosition:el(t,i.matches||k.matches),preventScrollReset:c,blockers:u})),// Reset stateful navigation vars
S=v.Pop,C=!1,E=!1,A=!1,z=[],L=[]}// Trigger a navigation event, which can either be a numerical POP or a PUSH
// replace with an optional submission
async function B(t,n){if("number"==typeof t){e.history.go(t);return}let i=im(k.location,k.matches,u,c.v7_prependBasename,t,null==n?void 0:n.fromRouteId,null==n?void 0:n.relative),{path:a,submission:r,error:o}=iv(c.v7_normalizeFormMethod,!1,i,n),s=k.location,l=nX(k.location,a,n&&n.state);// When using navigate as a PUSH/REPLACE we aren't reading an already-encoded
// URL from window.location, so we need to encode it here so the behavior
// remains the same as POP and non-data-router usages.  new URL() does all
// the same encoding we'd get from a history.pushState/window.location read
// without having to touch history
l=nV({},l,e.history.encodeLocation(l));let d=n&&null!=n.replace?n.replace:void 0,h=v.Push;!0===d?h=v.Replace:!1===d||null!=r&&iI(r.formMethod)&&r.formAction===k.location.pathname+k.location.search&&// users don't have to double-click the back button to get to the prior
// location.  If the user redirects to a different location from the
// action/loader this will be ignored and the redirect will be a PUSH
(h=v.Replace);let p=n&&"preventScrollReset"in n?!0===n.preventScrollReset:void 0,g=er({currentLocation:s,nextLocation:l,historyAction:h});if(g){// Put the blocker into a blocked state
ea(g,{state:"blocked",location:l,proceed(){ea(g,{state:"proceeding",proceed:void 0,reset:void 0,location:l}),// Send the same navigation through
B(t,n)},reset(){let e=new Map(k.blockers);e.set(g,ih),$({blockers:e})}});return}return await F(h,l,{submission:r,// Send through the formData serialization error if we have one so we can
// render at the right error boundary after we match routes
pendingError:o,preventScrollReset:p,replace:n&&n.replace})}// Start a navigation to the given action/location.  Can optionally provide a
// overrideNavigation which will override the normalLoad in the case of a redirect
// navigation
async function F(t,i,r){var o,s,l;let c,h;// Abort any in-progress navigations and start a new one. Unset any ongoing
// uninterrupted revalidations unless told otherwise, since we want this
// new navigation to update history normally
a&&a.abort(),a=null,S=t,E=!0===(r&&r.startUninterruptedRevalidation),o=k.location,s=k.matches,g&&m&&(g[es(o,s)]=m()),C=!0===(r&&r.preventScrollReset);let p=n||d,f=r&&r.overrideNavigation,v=n0(p,i,u);// Short circuit with a 404 on the root error boundary if we match nothing
if(!v){let e=iT(404,{pathname:i.pathname}),{matches:t,route:n}=iL(p);// Cancel all pending deferred on 404s since we don't keep any routes
eo(),U(i,{matches:t,loaderData:{},errors:{[n.id]:e}});return}// Short circuit if it's only a hash change and not a revalidation or
// mutation submission.
//
// Ignore on initial page loads because since the initial load will always
// be "same hash".  For example, on /page#hash and submit a <Form method="post">
// which will default to a navigation to /page
if(k.initialized&&!A&&(l=k.location).pathname===i.pathname&&l.search===i.search&&(""===l.hash?""!==i.hash:l.hash===i.hash||""!==i.hash)&&!(r&&r.submission&&iI(r.submission.formMethod))){U(i,{matches:v});return}// Create a controller/Request for this navigation
a=new AbortController;let _=ik(e.history,i,a.signal,r&&r.submission);if(r&&r.pendingError)// with binary FormData so assign here and skip to handleLoaders.  That
// way we handle calling loaders above the boundary etc.  It's not really
// different from an actionError in that sense.
h={[iz(v).route.id]:r.pendingError};else if(r&&r.submission&&iI(r.submission.formMethod)){// Call action if we received an action submission
let e=await H(_,i,r.submission,v,{replace:r.replace});if(e.shortCircuited)return;c=e.pendingActionData,h=e.pendingActionError,f=iF(i,r.submission),// Create a GET request for the loaders
_=new Request(_.url,{signal:_.signal})}// Call loaders
let{shortCircuited:y,loaderData:b,errors:x}=await V(_,i,v,f,r&&r.submission,r&&r.fetcherSubmission,r&&r.replace,c,h);y||(// Clean up now that the action/loaders have completed.  Don't clean up if
// we short circuited because pendingNavigationController will have already
// been assigned to a new controller for the next navigation
a=null,U(i,nV({matches:v},c?{actionData:c}:{},{loaderData:b,errors:x})))}// Call the action matched by the leaf route for this navigation and handle
// redirects/errors
async function H(e,n,i,a,r){let o;void 0===r&&(r={}),G(),$({navigation:{state:"submitting",location:n,formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text}});let s=iU(a,n);if(s.route.action||s.route.lazy){if(o=await iw("action",e,s,a,l,t,u),e.signal.aborted)return{shortCircuited:!0}}else o={type:_.error,error:iT(405,{method:e.method,pathname:n.pathname,routeId:s.route.id})};if(iD(o)){let e;return e=r&&null!=r.replace?r.replace:o.location===k.location.pathname+k.location.search,await K(k,o,{submission:i,replace:e}),{shortCircuited:!0}}if(ij(o)){// Store off the pending error - we use it to determine which loaders
// to call and will commit it when we complete the navigation
let e=iz(a,s.route.id);return!0!==(r&&r.replace)&&(S=v.Push),{// Send back an empty object we can use to clear out any prior actionData
pendingActionData:{},pendingActionError:{[e.route.id]:o.error}}}if(iN(o))throw iT(400,{type:"defer-action"});return{pendingActionData:{[s.route.id]:o.data}}}// Call all applicable loaders for the given matches, handling redirects,
// errors, etc.
async function V(t,i,r,o,s,l,c,h,p){// Figure out the right navigation we want to use for data loading
let g=o||iF(i,s),f=s||l||iB(g),m=n||d,[v,_]=i_(e.history,k,r,f,i,A,z,L,D,j,m,u,h,p);// Short circuit if we have no loaders to run
if(// Cancel pending deferreds for no-longer-matched routes or routes we're
// about to reload.  Note that if this is an action reload we would have
// already cancelled all pending deferreds so this would be a no-op
eo(e=>!(r&&r.some(t=>t.route.id===e))||v&&v.some(t=>t.route.id===e)),O=++P,0===v.length&&0===_.length){let e=et();return U(i,nV({matches:r,loaderData:{},// Commit pending error if we're short circuiting
errors:p||null},h?{actionData:h}:{},e?{fetchers:new Map(k.fetchers)}:{})),{shortCircuited:!0}}// If this is an uninterrupted revalidation, we remain in our current idle
// state.  If not, we need to switch to our loading state and load data,
// preserving any new action data or existing action data (in the case of
// a revalidation interrupting an actionReload)
if(!E){_.forEach(e=>{let t=k.fetchers.get(e.key),n=iH(void 0,t?t.data:void 0);k.fetchers.set(e.key,n)});let e=h||k.actionData;$(nV({navigation:g},e?0===Object.keys(e).length?{actionData:null}:{actionData:e}:{},_.length>0?{fetchers:new Map(k.fetchers)}:{}))}_.forEach(e=>{T.has(e.key)&&Q(e.key),e.controller&&// (via deleteFetcher) does not abort the triggering navigation that
// triggered the revalidation
T.set(e.key,e.controller)});// Proxy navigation abort through to revalidation fetchers
let y=()=>_.forEach(e=>Q(e.key));a&&a.signal.addEventListener("abort",y);let{results:b,loaderResults:x,fetcherResults:w}=await X(k.matches,r,v,_,t);if(t.signal.aborted)return{shortCircuited:!0};a&&a.signal.removeEventListener("abort",y),_.forEach(e=>T.delete(e.key));// If any loaders returned a redirect Response, start a new REPLACE navigation
let S=iP(b);if(S){if(S.idx>=v.length){// If this redirect came from a fetcher make sure we mark it in
// fetchRedirectIds so it doesn't get revalidated on the next set of
// loader executions
let e=_[S.idx-v.length].key;j.add(e)}return await K(k,S.result,{replace:c}),{shortCircuited:!0}}// Process and commit output from loaders
let{loaderData:C,errors:N}=iE(k,r,v,x,p,_,w,I);// Wire up subscribers to update loaderData as promises settle
I.forEach((e,t)=>{e.subscribe(n=>{(n||e.done)&&I.delete(t)})});let R=et(),M=en(O),B=R||M||_.length>0;return nV({loaderData:C,errors:N},B?{fetchers:new Map(k.fetchers)}:{})}function q(e){return k.fetchers.get(e)||ic}// Call the action for the matched fetcher.submit(), and then handle redirects,
// errors, and revalidation
async function W(i,r,o,s,c,h){var p;if(G(),D.delete(i),!s.route.action&&!s.route.lazy){let e=iT(405,{method:h.formMethod,pathname:o,routeId:r});J(i,r,e);return}let g=(p=k.fetchers.get(i),{state:"submitting",formMethod:h.formMethod,formAction:h.formAction,formEncType:h.formEncType,formData:h.formData,json:h.json,text:h.text,data:p?p.data:void 0," _hasFetcherDoneAnything ":!0});k.fetchers.set(i,g),$({fetchers:new Map(k.fetchers)});// Call the action for the fetcher
let f=new AbortController,m=ik(e.history,o,f.signal,h);T.set(i,f);let v=P,_=await iw("action",m,s,c,l,t,u);if(m.signal.aborted){T.get(i)===f&&T.delete(i);return}if(iD(_)){if(T.delete(i),O>v){// A new navigation was kicked off after our action started, so that
// should take precedence over this redirect navigation.  We already
// set isRevalidationRequired so all loaders for the new route should
// fire unless opted out via shouldRevalidate
let e=iV(void 0);k.fetchers.set(i,e),$({fetchers:new Map(k.fetchers)});return}{j.add(i);let e=iH(h);return k.fetchers.set(i,e),$({fetchers:new Map(k.fetchers)}),K(k,_,{submission:h,isFetchActionRedirect:!0})}}// Process any non-redirect errors thrown
if(ij(_)){J(i,r,_.error);return}if(iN(_))throw iT(400,{type:"defer-action"});// Start the data load for current matches, or the next location if we're
// in the middle of a navigation
let y=k.navigation.location||k.location,b=ik(e.history,y,f.signal),x=n||d,w="idle"!==k.navigation.state?n0(x,k.navigation.location,u):k.matches;nW(w,"Didn't find any matches after fetcher action");let C=++P;N.set(i,C);let E=iH(h,_.data);k.fetchers.set(i,E);let[R,M]=i_(e.history,k,w,h,y,A,z,L,D,j,x,u,{[s.route.id]:_.data},void 0// No need to send through errors since we short circuit above
);// Put all revalidating fetchers into the loading state, except for the
// current fetcher which we want to keep in it's current loading state which
// contains it's action submission info + action data
M.filter(e=>e.key!==i).forEach(e=>{let t=e.key,n=k.fetchers.get(t),i=iH(void 0,n?n.data:void 0);k.fetchers.set(t,i),T.has(t)&&Q(t),e.controller&&T.set(t,e.controller)}),$({fetchers:new Map(k.fetchers)});let B=()=>M.forEach(e=>Q(e.key));f.signal.addEventListener("abort",B);let{results:F,loaderResults:H,fetcherResults:V}=await X(k.matches,w,R,M,b);if(f.signal.aborted)return;f.signal.removeEventListener("abort",B),N.delete(i),T.delete(i),M.forEach(e=>T.delete(e.key));let q=iP(F);if(q){if(q.idx>=R.length){// If this redirect came from a fetcher make sure we mark it in
// fetchRedirectIds so it doesn't get revalidated on the next set of
// loader executions
let e=M[q.idx-R.length].key;j.add(e)}return K(k,q.result)}// Process and commit output from loaders
let{loaderData:W,errors:Y}=iE(k,k.matches,R,H,void 0,M,V,I);// Since we let revalidations complete even if the submitting fetcher was
// deleted, only put it back to idle if it hasn't been deleted
if(k.fetchers.has(i)){let e=iV(_.data);k.fetchers.set(i,e)}let Z=en(C);"loading"===k.navigation.state&&C>O?(nW(S,"Expected pending action"),a&&a.abort(),U(k.navigation.location,{matches:w,loaderData:W,errors:Y,fetchers:new Map(k.fetchers)})):(// otherwise just update with the fetcher data, preserving any existing
// loaderData for loaders that did not need to reload.  We have to
// manually merge here since we aren't going through completeNavigation
$(nV({errors:Y,loaderData:iA(k.loaderData,W,w,Y)},Z||M.length>0?{fetchers:new Map(k.fetchers)}:{})),A=!1)}// Call the matched loader for fetcher.load(), handling redirects, errors, etc.
async function Y(n,i,a,r,o,s){let d=k.fetchers.get(n),c=iH(s,d?d.data:void 0);k.fetchers.set(n,c),$({fetchers:new Map(k.fetchers)});// Call the loader for this fetcher route match
let h=new AbortController,p=ik(e.history,a,h.signal);T.set(n,h);let g=P,f=await iw("loader",p,r,o,l,t,u);if(iN(f)&&(f=await iM(f,p.signal,!0)||f),T.get(n)===h&&T.delete(n),p.signal.aborted)return;// If the loader threw a redirect Response, start a new REPLACE navigation
if(iD(f)){if(O>g){// A new navigation was kicked off after our loader started, so that
// should take precedence over this redirect navigation
let e=iV(void 0);k.fetchers.set(n,e),$({fetchers:new Map(k.fetchers)});return}j.add(n),await K(k,f);return}// Process any non-redirect errors thrown
if(ij(f)){let e=iz(k.matches,i);k.fetchers.delete(n),// TODO: In remix, this would reset to IDLE_NAVIGATION if it was a catch -
// do we need to behave any differently with our non-redirect errors?
// What if it was a non-redirect Response?
$({fetchers:new Map(k.fetchers),errors:{[e.route.id]:f.error}});return}nW(!iN(f),"Unhandled fetcher deferred data");// Put the fetcher back into an idle state
let m=iV(f.data);k.fetchers.set(n,m),$({fetchers:new Map(k.fetchers)})}/**
   * Utility function to handle redirects returned from an action or loader.
   * Normally, a redirect "replaces" the navigation that triggered it.  So, for
   * example:
   *
   *  - user is on /a
   *  - user clicks a link to /b
   *  - loader for /b redirects to /c
   *
   * In a non-JS app the browser would track the in-flight navigation to /b and
   * then replace it with /c when it encountered the redirect response.  In
   * the end it would only ever update the URL bar with /c.
   *
   * In client-side routing using pushState/replaceState, we aim to emulate
   * this behavior and we also do not update history until the end of the
   * navigation (including processed redirects).  This means that we never
   * actually touch history until we've processed redirects, so we just use
   * the history action from the original navigation (PUSH or REPLACE).
   */async function K(t,n,i){let{submission:s,replace:l,isFetchActionRedirect:d}=void 0===i?{}:i;n.revalidate&&(A=!0);let c=nX(t.location,n.location,nV({_isRedirect:!0},d?{_isFetchActionRedirect:!0}:{}));if(nW(c,"Expected a location on the redirect navigation"),o){let t=!1;if(n.reloadDocument)t=!0;else if(ip.test(n.location)){let i=e.history.createURL(n.location);t=i.origin!==r.location.origin||// Hard reload if it's an absolute URL that does not match our basename
null==n4(i.pathname,u)}if(t){l?r.location.replace(n.location):r.location.assign(n.location);return}}// There's no need to abort on redirects, since we don't detect the
// redirect until the action/loaders have settled
a=null;let h=!0===l?v.Replace:v.Push,p=s||iB(t.navigation);// If this was a 307/308 submission we want to preserve the HTTP method and
// re-submit the GET/POST/PUT/PATCH/DELETE as a submission navigation to the
// redirected location
if(id.has(n.status)&&p&&iI(p.formMethod))await F(h,c,{submission:nV({},p,{formAction:n.location}),// Preserve this flag across redirects
preventScrollReset:C});else if(d)// without the fetcher submission, but we send it along for shouldRevalidate
await F(h,c,{overrideNavigation:iF(c),fetcherSubmission:p,// Preserve this flag across redirects
preventScrollReset:C});else{// If we have a submission, we will preserve it through the redirect navigation
let e=iF(c,p);await F(h,c,{overrideNavigation:e,// Preserve this flag across redirects
preventScrollReset:C})}}async function X(n,i,a,r,o){// Call all navigation loaders and revalidating fetcher loaders in parallel,
// then slice off the results into separate arrays so we can handle them
// accordingly
let s=await Promise.all([...a.map(e=>iw("loader",o,e,i,l,t,u)),...r.map(n=>n.matches&&n.match&&n.controller?iw("loader",ik(e.history,n.path,n.controller.signal),n.match,n.matches,l,t,u):{type:_.error,error:iT(404,{pathname:n.path})})]),d=s.slice(0,a.length),c=s.slice(a.length);return await Promise.all([iR(n,a,d,d.map(()=>o.signal),!1,k.loaderData),iR(n,r.map(e=>e.match),c,r.map(e=>e.controller?e.controller.signal:null),!0)]),{results:s,loaderResults:d,fetcherResults:c}}function G(){// Every interruption triggers a revalidation
A=!0,// Cancel pending route-level deferreds and mark cancelled routes for
// revalidation
z.push(...eo()),// Abort in-flight fetcher loads
D.forEach((e,t)=>{T.has(t)&&(L.push(t),Q(t))})}function J(e,t,n){let i=iz(k.matches,t);Z(e),$({errors:{[i.route.id]:n},fetchers:new Map(k.fetchers)})}function Z(e){let t=k.fetchers.get(e);T.has(e)&&!(t&&"loading"===t.state&&N.has(e))&&Q(e),D.delete(e),N.delete(e),j.delete(e),k.fetchers.delete(e)}function Q(e){let t=T.get(e);nW(t,"Expected fetch controller: "+e),t.abort(),T.delete(e)}function ee(e){for(let t of e){let e=iV(q(t).data);k.fetchers.set(t,e)}}function et(){let e=[],t=!1;for(let n of j){let i=k.fetchers.get(n);nW(i,"Expected fetcher: "+n),"loading"===i.state&&(j.delete(n),e.push(n),t=!0)}return ee(e),t}function en(e){let t=[];for(let[n,i]of N)if(i<e){let e=k.fetchers.get(n);nW(e,"Expected fetcher: "+n),"loading"===e.state&&(Q(n),N.delete(n),t.push(n))}return ee(t),t.length>0}function ei(e){k.blockers.delete(e),R.delete(e)}// Utility function to update blockers, ensuring valid state transitions
function ea(e,t){let n=k.blockers.get(e)||ih;// Poor mans state machine :)
// https://mermaid.live/edit#pako:eNqVkc9OwzAMxl8l8nnjAYrEtDIOHEBIgwvKJTReGy3_lDpIqO27k6awMG0XcrLlnz87nwdonESogKXXBuE79rq75XZO3-yHds0RJVuv70YrPlUrCEe2HfrORS3rubqZfuhtpg5C9wk5tZ4VKcRUq88q9Z8RS0-48cE1iHJkL0ugbHuFLus9L6spZy8nX9MP2CNdomVaposqu3fGayT8T8-jJQwhepo_UtpgBQaDEUom04dZhAN1aJBDlUKJBxE1ceB2Smj0Mln-IBW5AFU2dwUiktt_2Qaq2dBfaKdEup85UV7Yd-dKjlnkabl2Pvr0DTkTreM
nW("unblocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"proceeding"===t.state||"blocked"===n.state&&"unblocked"===t.state||"proceeding"===n.state&&"unblocked"===t.state,"Invalid blocker state transition: "+n.state+" -> "+t.state);let i=new Map(k.blockers);i.set(e,t),$({blockers:i})}function er(e){let{currentLocation:t,nextLocation:n,historyAction:i}=e;if(0===R.size)return;R.size>1&&nY(!1,"A router only supports one blocker at a time");let a=Array.from(R.entries()),[r,o]=a[a.length-1],s=k.blockers.get(r);if((!s||"proceeding"!==s.state)&&o({currentLocation:t,nextLocation:n,historyAction:i}))return r}function eo(e){let t=[];return I.forEach((n,i)=>{(!e||e(i))&&(// Cancel the deferred - but do not remove from activeDeferreds here -
// we rely on the subscribers to do that so our tests can assert proper
// cleanup via _internalActiveDeferreds
n.cancel(),t.push(i),I.delete(i))}),t}function es(e,t){return f&&f(e,t.map(e=>// Note: This should match the format exported by useMatches, so if you change
    // this please also change that :)  Eventually we'll DRY this up
    (function(e,t){let{route:n,pathname:i,params:a}=e;return{id:n.id,pathname:i,params:a,data:t[n.id],handle:n.handle}})(e,k.loaderData)))||e.key}function el(e,t){if(g){let n=g[es(e,t)];if("number"==typeof n)return n}return null}return i={get basename(){return u},get state(){return k},get routes(){return d},initialize:// Initialize the router, all side effects should be kicked off from here.
// Implemented as a Fluent API for ease of:
//   let router = createRouter(init).initialize();
function(){return(// If history informs us of a POP navigation, start the navigation but do not update
// state.  We'll update our own state once the navigation completes
h=e.history.listen(t=>{let{action:n,location:i,delta:a}=t;// Ignore this event if it was just us resetting the URL from a
// blocked POP navigation
if(M){M=!1;return}nY(0===R.size||null!=a,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let r=er({currentLocation:k.location,nextLocation:i,historyAction:n});if(r&&null!=a){// Restore the URL to match the current UI, but don't update router state
M=!0,e.history.go(-1*a),// Put the blocker into a blocked state
ea(r,{state:"blocked",location:i,proceed(){ea(r,{state:"proceeding",proceed:void 0,reset:void 0,location:i}),// Re-do the same POP navigation we just blocked
e.history.go(a)},reset(){let e=new Map(k.blockers);e.set(r,ih),$({blockers:e})}});return}return F(n,i)}),k.initialized||F(v.Pop,k.location),i)},subscribe:// Subscribe to state updates for the router
function(e){return p.add(e),()=>p.delete(e)},enableScrollRestoration:// Opt in to capturing and reporting scroll positions during navigations,
// used by the <ScrollRestoration> component
function(e,t,n){// Perform initial hydration scroll restoration, since we miss the boat on
// the initial updateState() because we've not yet rendered <ScrollRestoration/>
// and therefore have no savedScrollPositions available
if(g=e,m=t,f=n||null,!y&&k.navigation===iu){y=!0;let e=el(k.location,k.matches);null!=e&&$({restoreScrollPosition:e})}return()=>{g=null,m=null,f=null}},navigate:B,fetch:// Trigger a fetcher load/submit for the given fetcher key
function(e,t,i,a){if(s)throw Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");T.has(e)&&Q(e);let r=n||d,o=im(k.location,k.matches,u,c.v7_prependBasename,i,t,null==a?void 0:a.relative),l=n0(r,o,u);if(!l){J(e,t,iT(404,{pathname:o}));return}let{path:h,submission:p,error:g}=iv(c.v7_normalizeFormMethod,!0,o,a);if(g){J(e,t,g);return}let f=iU(l,h);if(C=!0===(a&&a.preventScrollReset),p&&iI(p.formMethod)){W(e,t,h,f,l,p);return}// Store off the match so we can call it's shouldRevalidate on subsequent
// revalidations
D.set(e,{routeId:t,path:h}),Y(e,t,h,f,l,p)},revalidate:// Revalidate all current loaders.  If a navigation is in progress or if this
// is interrupted by a navigation, allow this to "succeed" by calling all
// loaders during the next loader round
function(){// If we're currently submitting an action, we don't need to start a new
// navigation, we'll just let the follow up loader execution call all loaders
if(G(),$({revalidation:"loading"}),"submitting"!==k.navigation.state){// If we're currently in an idle state, start a new navigation for the current
// action/location and mark it as uninterrupted, which will skip the history
// update in completeNavigation
if("idle"===k.navigation.state){F(k.historyAction,k.location,{startUninterruptedRevalidation:!0});return}// Otherwise, if we're currently in a loading state, just start a new
// navigation to the navigation.location but do not trigger an uninterrupted
// revalidation so that history correctly updates once the navigation completes
F(S||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation})}},// Passthrough to history-aware createHref used by useHref so we get proper
// hash-aware URLs in DOM paths
createHref:t=>e.history.createHref(t),encodeLocation:t=>e.history.encodeLocation(t),getFetcher:q,deleteFetcher:Z,dispose:// Clean up a router and it's side effects
function(){h&&h(),p.clear(),a&&a.abort(),k.fetchers.forEach((e,t)=>Z(t)),k.blockers.forEach((e,t)=>ei(t))},getBlocker:function(e,t){let n=k.blockers.get(e)||ih;return R.get(e)!==t&&R.set(e,t),n},deleteBlocker:ei,_internalFetchControllers:T,_internalActiveDeferreds:I,_internalSetRoutes:function(e){n=nQ(e,t,void 0,l={})}}})({basename:(m={basename:`/${document.baseURI.split("/")[3]}`}).basename,future:ad({},null==m?void 0:m.future,{v7_prependBasename:!0}),history:function(e,t,n,i){void 0===i&&(i={});let{window:a=document.defaultView,v5Compat:r=!1}=i,o=a.history,s=v.Pop,l=null,d=u();function u(){return(o.state||{idx:null}).idx}function c(){s=v.Pop;let e=u(),t=null==e?null:e-d;d=e,l&&l({action:s,location:p.location,delta:t})}function h(e){// window.location.origin is "null" (the literal string value) in Firefox
// under certain conditions, notably when serving from a local HTML file
// See https://bugzilla.mozilla.org/show_bug.cgi?id=878297
let t="null"!==a.location.origin?a.location.origin:a.location.href,n="string"==typeof e?e:nG(e);return nW(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==d&&(d=0,o.replaceState(nV({},o.state,{idx:d}),""));let p={get action(){return s},get location(){return e(a,o)},listen(e){if(l)throw Error("A history only accepts one active listener");return a.addEventListener(nq,c),l=e,()=>{a.removeEventListener(nq,c),l=null}},createHref:e=>t(a,e),createURL:h,encodeLocation(e){// Encode a Location the same way window.location would
let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){s=v.Push;let i=nX(p.location,e,t);n&&n(i,e);let c=nK(i,d=u()+1),h=p.createHref(i);// try...catch because iOS limits us to 100 pushState calls :/
try{o.pushState(c,"",h)}catch(e){// If the exception is because `state` can't be serialized, let that throw
// outwards just like a replace call would so the dev knows the cause
// https://html.spec.whatwg.org/multipage/nav-history-apis.html#shared-history-push/replace-state-steps
// https://html.spec.whatwg.org/multipage/structured-data.html#structuredserializeinternal
if(e instanceof DOMException&&"DataCloneError"===e.name)throw e;// They are going to lose state here, but there is no real
// way to warn them about it since the page will refresh...
a.location.assign(h)}r&&l&&l({action:s,location:p.location,delta:1})},replace:function(e,t){s=v.Replace;let i=nX(p.location,e,t);n&&n(i,e);let a=nK(i,d=u()),c=p.createHref(i);o.replaceState(a,"",c),r&&l&&l({action:s,location:p.location,delta:0})},go:e=>o.go(e)};return p}(function(e,t){let{pathname:n,search:i,hash:a}=e.location;return nX("",{pathname:n,search:i,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"==typeof t?t:nG(t)},null,{window:null==m?void 0:m.window}),hydrationData:(null==m?void 0:m.hydrationData)||((a=null==(s=window)?void 0:s.__staticRouterHydrationData)&&a.errors&&(a=ad({},a,{errors:function(e){if(!e)return null;let t=Object.entries(e),n={};for(let[e,i]of t)// Hey you!  If you change this, please change the corresponding logic in
// serializeErrors in react-router-dom/server.tsx :)
if(i&&"RouteErrorResponse"===i.__type)n[e]=new it(i.status,i.statusText,i.data,!0===i.internal);else if(i&&"Error"===i.__type){// Attempt to reconstruct the right type of Error (i.e., ReferenceError)
if(i.__subType){let t=window[i.__subType];if("function"==typeof t)try{// @ts-expect-error
let a=new t(i.message);// Wipe away the client-side stack trace.  Nothing to fill it in with
// because we don't serialize SSR stack traces for security reasons
a.stack="",n[e]=a}catch(e){// no-op - fall through and create a normal Error
}}if(null==n[e]){let t=Error(i.message);// Wipe away the client-side stack trace.  Nothing to fill it in with
// because we don't serialize SSR stack traces for security reasons
t.stack="",n[e]=t}}else n[e]=i;return n}(a.errors)})),a),routes:f,mapRouteProperties:function(e){let t={// Note: this check also occurs in createRoutesFromChildren so update
// there if you change this -- please and thank you!
hasErrorBoundary:null!=e.ErrorBoundary||null!=e.errorElement};return e.Component&&Object.assign(t,{element:/*#__PURE__*/eX.createElement(e.Component),Component:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:/*#__PURE__*/eX.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}}).initialize());er($(function(){return $(aw.Provider,{value:eu},$(an,{router:rn}))},null),document.body)}();//# sourceMappingURL=index.8842b155.js.map

//# sourceMappingURL=index.8842b155.js.map
