{"mappings":"I0DAI,EjCCE,EACA,EAEA,EsD0PAE,E,S,E,C,E,O,G,E,U,C,E,O,C,C,C,S,E,C,C,C,C,C,C,C,E,O,c,C,E,E,C,I,E,I,E,W,C,E,a,C,C,E,C,IADqBiB,EOtPfC,ECGAC,ELguBPC,EAMAC,EChQAC,EJ2YAF,EAOAC,EAtqBHE,EACAC,EOtNUN,ECGAC,ERi3BPC,EAOAC,E,E,A,a,O,W,W,A,a,O,K,K,A,a,O,O,O,A,a,O,O,O,C,E,E,C,E,E,C,E,E,E,iB,A,O,I,A,C,E,S,C,E,G,K,E,O,C,C,E,C,O,C,G,K,E,C,I,E,C,C,E,A,Q,C,C,E,C,I,E,C,G,E,Q,C,C,E,O,C,C,E,C,E,E,I,C,E,O,C,E,E,O,E,E,O,A,C,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,Q,C,S,C,C,C,E,C,C,E,C,C,E,E,iB,C,G5Et2BQ4H,IAAAA,ECjBP+I,ECRF4/D,EC4KAC,EAWAC,EAEEC,EA0BAC,ECpNK5tE,ECFE6tE,EAAY,CAAlB,EACMC,EAAY,EAAA,CACZC,EACZ,oELDYxuE,EAAUD,MAAMC,OA0BhBsF,CAjBN,SAASwH,EAAOkE,CAAAA,CAAK7P,CAAAA,EAE3B,IAAK,IAAIV,KAAKU,EAAO6P,CAAAA,CAAIvQ,EAAAA,CAAKU,CAAAA,CAAMV,EAAAA,CACpC,OAA6BuQ,CAC7B,CAAA,SAQey9D,EAAWhd,CAAAA,EAC1B,IAAIpxD,EAAaoxD,EAAKpxD,UAAtB,AACIA,CAAAA,GAAYA,EAAWC,WAAAA,CAAYmxD,EACvC,CEbM,SAAS5pD,EAAc3G,CAAAA,CAAMC,CAAAA,CAAOJ,CAAAA,EAC1C,IACCK,EACAC,EACAZ,EAHGiuE,EAAkB,CAAA,EAItB,IAAKjuE,KAAKU,EACA,OAALV,EAAYW,EAAMD,CAAAA,CAAMV,EAAAA,CACd,OAALA,EAAYY,EAAMF,CAAAA,CAAMV,EAAAA,CAC5BiuE,CAAAA,CAAgBjuE,EAAAA,CAAKU,CAAAA,CAAMV,EAAAA,CAUjC,GAPII,UAAUC,MAAAA,CAAS,GACtB4tE,CAAAA,EAAgB3tE,QAAAA,CACfF,UAAUC,MAAAA,CAAS,EAAIwE,EAAMxG,IAAA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CT,GAGF2rB,MAAAA,IACE,AAAIhwB,AC5COA,GD4CDY,GAAAA,GAAM,MAAS,CAChB,IAAIoM,QAAQ3I,AAAAA,GAAKA,EAAErE,AC7CjBA,GD6CuBY,GADlC,KAGOgP,GAAGigB,MAAV,GAGFzgB,QACEpP,ACnDWA,GDmDLgR,QAAAA,CAAS,QACjB,EAEAif,SACE4oD,AH3BWA,GG2BHzpE,KAARypE,EACF,CACF,E,I,G,C,E,O,c,C,G,a,C,M,C,E,a,C,C,G,E,G,gB,I,I,E,G,O,I,I,E,G,a,I,I,E,G,W,I,I,E,G,W,I,I,E,G,O,I,I,E,G,e,I,I,E,G,e,I,I,E,G,S,I,I,E,G,U,I,I,E,G,qD,I,I,E,G,U,I,I,E,G,gB,I,I,E,G,iB,I,I,E,G,a,I,I,E,G,e,I,I,E,G,yB,I,I,E,G,c,I,I,E,G,0B,I,I,E,G,Y,I,I,E,G,a,I,I,E,G,kB,I,I,E,G,mB,I,I,E,G,gB,I,I,E,G,qB,I,I,E,G,Y,I,I,E,G,uB,I,I,E,G,U,I,I,E,G,Y,I,G,E,G,W,I,G,E,G,gB,I,I,E,G,gB,I,G,E,G,Y,I,G,I,G,C,E,E,G,W,I,I,E,G,a,I,I,E,G,Y,I,I,E,G,kB,I,I,E,G,S,I,I,E,G,U,I,I,E,G,sB,I,I,E,G,c,I,I,E,G,a,I,I,E,G,gB,I,I,E,G,mB,I,I,E,G,Q,I,IuBhEA,IrBHoB,GqBGhBqE,GAGAZ,GAGAa,GAiBAC,GAdAC,GAAc,EAGdC,GAAoB,EAAA,CAEpBC,GAAQ,EAAA,CAERC,GAAgBzrE,AAAAA,EAApB7M,GAAAA,CACIy3E,GAAkB5qE,AAAAA,EAAtB3L,GAAAA,CACIq3E,GAAe1rE,AAAAA,EAAQ7F,MAAAA,CACvBwxE,GAAY3rE,AAAAA,EAAhB1M,GAAAA,CACIs4E,GAAmB5rE,AAAAA,EAAQ5F,OApB/B,CAyHA,SAASyxE,GAAa5nE,CAAAA,CAAOpR,CAAAA,EACxBmN,AAAAA,EAAezM,GAAAA,EAClByM,AAAAA,EAAAzM,GAAAA,CAAcg3E,GAAkBtmE,EAAOqnE,IAAez4E,GAEvDy4E,GAAc,EAOd,IAAMQ,EACLvB,GAAgB7oD,GAAAA,EACf6oD,CAA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AAA,CAAjBA,EAAiB,OAAA,CAAA,EAAA,CAAA,UAAjBA,CAAiB,CAAjBA,EAAiB,OAAA,CAAA,EAAA,CAAA,UAAjBA,CAAiB,CAAjBA,EAAiB,KAAA,CAAA,EAAA,CAAA,QAAjBA,G,S,K,M,A,C,G,O,M,C,O,M,C,I,G,S,C,E,I,I,E,E,E,U,M,C,I,C,I,E,S,C,E,C,I,I,K,E,O,S,C,c,C,I,C,E,I,C,C,C,E,C,C,C,E,A,C,C,O,C,C,E,K,C,I,C,U,C,S,G,C,C,C,E,G,A,M,E,M,C,E,I,E,E,E,C,E,E,O,I,C,G,I,E,E,E,E,M,C,I,E,C,C,E,C,E,O,C,I,G,C,C,C,E,C,C,C,E,A,E,O,C,CAMuB,IAAI2L,QAAQ,KAAM,GLjT9C,M,G,C,U,W,iB,U,Q,S,K,qB,C,G,C,iB,U,Q,S,S,W,S,W,qB,AC+I4B82E,CAAAA,GADH,eAC0B,CAmKnD,MAAMnb,GACJ,AAAkB,aAAlB,OAAO5mE,QACP,AAA2B,KAAA,IAApBA,OAAOqJ,QAAAA,EACd,AAAyC,KAAA,IAAlCrJ,OAAOqJ,QAAAA,CAASG,aAAAA,CAEnB64E,GAAqB,gCAKdC,GAAI,WAAA,EAAGP,GAAMvpD,UAAAA,CACxB,SAAoB8gB,CAAA,CAYlBt2C,CAAG,EAAA,IAKC83C,EAhBJ,CAAA,QACEC,CAAO,CAAA,SACPpP,CAAQ,CAAA,eACR2F,CAAc,CAAA,QACdvqC,CAAO,CAAA,MACP/I,CAAK,CAAA,OACL+W,CAAM,CAAA,GACN2vB,CAAE,CAAA,mBACFsU,CAAAA,CAED,CAAAM,EADI3yB,EAAI67D,GAAAlpC,EAAAmpC,IAIL,CAAA,SAAE78C,CAAAA,CAAU,CAAGm8C,GAAMzqD,UAAAA,CAAWorD,IAIhC1nC,EAAa,CAAA,EAEjB,GAAI,AAAc,UAAd,OAAOtW,GAAmB29C,GAAmB17E,IAAAA,CAAK+9B,KACpD,mDAAA;AACAoW,EAAepW,EAGXkiC,IACF,GAAI,CACF,IAAIh5B,EAAa,IAAI3P,IAAIj+B,OAAOy+B,QAAAA,CAASwc,IAAzC,EACIC,MACIjd,IADQyG,EAAGxF,UAAAA,CAAW,MAClB0O,EAAWsD,QAAAA,C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","sources":["<anon>","src/index.js","node_modules/preact/dist/preact.module.js","node_modules/preact/src/util.js","node_modules/preact/src/options.js","node_modules/preact/src/create-element.js","node_modules/preact/src/component.js","node_modules/preact/src/create-context.js","node_modules/preact/src/constants.js","node_modules/preact/src/diff/children.js","node_modules/preact/src/diff/props.js","node_modules/preact/src/diff/index.js","node_modules/preact/src/render.js","node_modules/preact/src/clone-element.js","node_modules/preact/src/diff/catch-error.js","src/app.js","src/core/index.js","src/core/alert.js","src/core/api.js","src/core/http.js","src/core/storage.js","src/core/util.js","src/core/lang.js","src/core/me.js","src/store/index.js","node_modules/storeon/index.js","src/store/me.js","src/store/api.js","src/store/router.js","src/store/notifications.js","src/store/bookmarks.js","node_modules/i18next/dist/esm/i18next.js","node_modules/react-i18next/dist/es/index.js","node_modules/react-i18next/dist/es/Trans.js","node_modules/preact/compat/dist/compat.module.js","node_modules/preact/compat/src/util.js","node_modules/preact/compat/src/PureComponent.js","node_modules/preact/compat/src/memo.js","node_modules/preact/compat/src/forwardRef.js","node_modules/preact/compat/src/Children.js","node_modules/preact/compat/src/suspense.js","node_modules/preact/compat/src/suspense-list.js","node_modules/preact/compat/src/portals.js","node_modules/preact/compat/src/render.js","node_modules/preact/compat/src/index.js","node_modules/preact/hooks/dist/hooks.module.js","node_modules/preact/hooks/src/index.js","node_modules/react-i18next/dist/es/TransWithoutContext.js","node_modules/@babel/runtime/helpers/extends.js","node_modules/html-parse-stringify/dist/html-parse-stringify.module.js","node_modules/html-parse-stringify/src/parse-tag.js","node_modules/html-parse-stringify/src/parse.js","node_modules/html-parse-stringify/src/stringify.js","node_modules/html-parse-stringify/src/index.js","node_modules/void-elements/index.js","node_modules/react-i18next/dist/es/utils.js","node_modules/react-i18next/dist/es/defaults.js","node_modules/react-i18next/dist/es/unescape.js","node_modules/react-i18next/dist/es/i18nInstance.js","node_modules/react-i18next/dist/es/context.js","node_modules/react-i18next/dist/es/initReactI18next.js","node_modules/react-i18next/dist/es/useTranslation.js","node_modules/react-i18next/dist/es/withTranslation.js","node_modules/react-i18next/dist/es/Translation.js","node_modules/react-i18next/dist/es/I18nextProvider.js","node_modules/react-i18next/dist/es/withSSR.js","node_modules/react-i18next/dist/es/useSSR.js","src/lang/en.json","src/lang/es.json","src/lang/fr.json","src/lang/nl.json","src/lang/sk.json","src/core/notifications.js","src/core/bookmarks_utils.js","src/core/router.js","src/outside/index.js","src/outside/login.component.js","node_modules/react-router-dom/dist/index.js","node_modules/react-router-dom/dom.ts","node_modules/react-router-dom/index.tsx","node_modules/react-router/dist/index.js","node_modules/react-router/lib/context.ts","node_modules/react-router/lib/hooks.tsx","node_modules/react-router/lib/components.tsx","node_modules/react-router/index.ts","node_modules/@remix-run/router/dist/router.js","node_modules/@remix-run/router/history.ts","node_modules/@remix-run/router/utils.ts","node_modules/@remix-run/router/router.ts","node_modules/@parcel/runtime-js/lib/runtime-0c96886bbd7192d4.js","src/outside/password-reset.component.js","src/outside/signup.component.js","src/outside/stop-notification-emails.component.js","src/outside/public.component.js","src/message/index.js","src/message/message.component.js","src/message/message-children.component.js","src/message/message-child.component.js","src/message/message-head.component.js","src/message/message-footer.component.js","src/misc/index.js","src/misc/fa-icon.component.js","src/pages/index.js","src/pages/bookmark-board.component.js","src/navbar/index.js","src/navbar/group-search.component.js","src/navbar/group-search-wrapper.component.js","src/navbar/groups-dropdown-navbar.component.js","src/navbar/navbar.component.js","node_modules/storeon/preact/index.js","src/navbar/notifications-dropdown-navbar.component.js","src/pages/create-group.component.js","src/pages/group-board.component.js","src/pages/human-time.component.js","src/pages/notification.component.js","src/pages/random-message.component.js","src/pages/search.component.js","src/pages/share.component.js","src/writer/index.js","src/writer/group-writer.component.js","src/writer/writer.component.js","src/writer/writing-widget.component.js","src/embed/index.js","src/embed/embed-block.component.js","src/embed/bandcamp-embed.component.js","src/embed/generic-embed.component.js","node_modules/glightbox/dist/js/glightbox.min.js","src/embed/file-grid.component.js","src/embed/big-file.component.js","src/embed/mini-file.component.js","node_modules/mobile-drag-drop/index.min.js","node_modules/mobile-drag-drop/internal/constants.ts","node_modules/mobile-drag-drop/internal/feature-detection.ts","node_modules/mobile-drag-drop/internal/dom-utils.ts","node_modules/mobile-drag-drop/internal/drag-data-store.ts","node_modules/mobile-drag-drop/internal/drag-utils.ts","node_modules/mobile-drag-drop/internal/drag-operation-controller.ts","node_modules/mobile-drag-drop/index.ts","src/message/message-body.component.js","src/message/message-breadcrumbs.component.js","src/message/message-list.component.js","src/message/message-parent.component.js","src/message/message-preview.component.js","src/message/message-search-result.component.js","src/settings/index.js","src/settings/group-settings.component.js","src/settings/settings.component.js","src/settings/user-settings.component.js"],"sourcesContent":["function $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\nfunction $parcel$defineInteropFlag(a) {\n  Object.defineProperty(a, '__esModule', {value: true, configurable: true});\n}\nfunction $parcel$exportWildcard(dest, source) {\n  Object.keys(source).forEach(function(key) {\n    if (key === 'default' || key === '__esModule' || dest.hasOwnProperty(key)) {\n      return;\n    }\n\n    Object.defineProperty(dest, key, {\n      enumerable: true,\n      get: function get() {\n        return source[key];\n      }\n    });\n  });\n\n  return dest;\n}\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\nvar $parcel$global =\ntypeof globalThis !== 'undefined'\n  ? globalThis\n  : typeof self !== 'undefined'\n  ? self\n  : typeof window !== 'undefined'\n  ? window\n  : typeof global !== 'undefined'\n  ? global\n  : {};\nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequiredc87\"];\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequiredc87\"] = parcelRequire;\n}\nvar $73048c6b859c8a02$var$n, $73048c6b859c8a02$export$41c562ebe57d11e2, $73048c6b859c8a02$var$u, $73048c6b859c8a02$export$a8257692ac88316c, $73048c6b859c8a02$var$i, $73048c6b859c8a02$var$o, $73048c6b859c8a02$var$r, $73048c6b859c8a02$var$f, $73048c6b859c8a02$var$e, $73048c6b859c8a02$var$c = {}, $73048c6b859c8a02$var$s = [], $73048c6b859c8a02$var$a = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i, $73048c6b859c8a02$var$h = Array.isArray;\nfunction $73048c6b859c8a02$var$v(n, l) {\n    for(var u in l)n[u] = l[u];\n    return n;\n}\nfunction $73048c6b859c8a02$var$p(n) {\n    var l = n.parentNode;\n    l && l.removeChild(n);\n}\nfunction $73048c6b859c8a02$export$c8a8987d4410bf2d(l, u, t) {\n    var i, o, r, f = {};\n    for(r in u)\"key\" == r ? i = u[r] : \"ref\" == r ? o = u[r] : f[r] = u[r];\n    if (arguments.length > 2 && (f.children = arguments.length > 3 ? $73048c6b859c8a02$var$n.call(arguments, 2) : t), \"function\" == typeof l && null != l.defaultProps) for(r in l.defaultProps)void 0 === f[r] && (f[r] = l.defaultProps[r]);\n    return $73048c6b859c8a02$var$d(l, f, i, o, null);\n}\nfunction $73048c6b859c8a02$var$d(n, t, i, o, r) {\n    var f = {\n        type: n,\n        props: t,\n        key: i,\n        ref: o,\n        __k: null,\n        __: null,\n        __b: 0,\n        __e: null,\n        __d: void 0,\n        __c: null,\n        __h: null,\n        constructor: void 0,\n        __v: null == r ? ++$73048c6b859c8a02$var$u : r\n    };\n    return null == r && null != $73048c6b859c8a02$export$41c562ebe57d11e2.vnode && $73048c6b859c8a02$export$41c562ebe57d11e2.vnode(f), f;\n}\nfunction $73048c6b859c8a02$export$7d1e3a5e95ceca43() {\n    return {\n        current: null\n    };\n}\nfunction $73048c6b859c8a02$export$ffb0004e005737fa(n) {\n    return n.children;\n}\nfunction $73048c6b859c8a02$export$16fa2f45be04daa8(n, l) {\n    this.props = n, this.context = l;\n}\nfunction $73048c6b859c8a02$var$g(n, l) {\n    if (null == l) return n.__ ? $73048c6b859c8a02$var$g(n.__, n.__.__k.indexOf(n) + 1) : null;\n    for(var u; l < n.__k.length; l++)if (null != (u = n.__k[l]) && null != u.__e) return u.__e;\n    return \"function\" == typeof n.type ? $73048c6b859c8a02$var$g(n) : null;\n}\nfunction $73048c6b859c8a02$var$m(n) {\n    var l, u;\n    if (null != (n = n.__) && null != n.__c) {\n        for(n.__e = n.__c.base = null, l = 0; l < n.__k.length; l++)if (null != (u = n.__k[l]) && null != u.__e) {\n            n.__e = n.__c.base = u.__e;\n            break;\n        }\n        return $73048c6b859c8a02$var$m(n);\n    }\n}\nfunction $73048c6b859c8a02$var$w(n) {\n    (!n.__d && (n.__d = !0) && $73048c6b859c8a02$var$i.push(n) && !$73048c6b859c8a02$var$x.__r++ || $73048c6b859c8a02$var$o !== $73048c6b859c8a02$export$41c562ebe57d11e2.debounceRendering) && (($73048c6b859c8a02$var$o = $73048c6b859c8a02$export$41c562ebe57d11e2.debounceRendering) || $73048c6b859c8a02$var$r)($73048c6b859c8a02$var$x);\n}\nfunction $73048c6b859c8a02$var$x() {\n    var n, l, u, t, o, r, e, c, s;\n    for($73048c6b859c8a02$var$i.sort($73048c6b859c8a02$var$f); n = $73048c6b859c8a02$var$i.shift();)n.__d && (l = $73048c6b859c8a02$var$i.length, t = void 0, o = void 0, r = void 0, c = (e = (u = n).__v).__e, (s = u.__P) && (t = [], o = [], (r = $73048c6b859c8a02$var$v({}, e)).__v = e.__v + 1, $73048c6b859c8a02$var$L(s, e, r, u.__n, void 0 !== s.ownerSVGElement, null != e.__h ? [\n        c\n    ] : null, t, null == c ? $73048c6b859c8a02$var$g(e) : c, e.__h, o), $73048c6b859c8a02$var$M(t, e, o), e.__e != c && $73048c6b859c8a02$var$m(e)), $73048c6b859c8a02$var$i.length > l && $73048c6b859c8a02$var$i.sort($73048c6b859c8a02$var$f));\n    $73048c6b859c8a02$var$x.__r = 0;\n}\nfunction $73048c6b859c8a02$var$P(n, l, u, t, i, o, r, f, e, a, v) {\n    var p, y, _, b, m, w, x, P, C, H = 0, I = t && t.__k || $73048c6b859c8a02$var$s, T = I.length, j = T, z = l.length;\n    for(u.__k = [], p = 0; p < z; p++)null != (b = u.__k[p] = null == (b = l[p]) || \"boolean\" == typeof b || \"function\" == typeof b ? null : \"string\" == typeof b || \"number\" == typeof b || \"bigint\" == typeof b ? $73048c6b859c8a02$var$d(null, b, null, null, b) : $73048c6b859c8a02$var$h(b) ? $73048c6b859c8a02$var$d($73048c6b859c8a02$export$ffb0004e005737fa, {\n        children: b\n    }, null, null, null) : b.__b > 0 ? $73048c6b859c8a02$var$d(b.type, b.props, b.key, b.ref ? b.ref : null, b.__v) : b) ? (b.__ = u, b.__b = u.__b + 1, -1 === (P = $73048c6b859c8a02$var$A(b, I, x = p + H, j)) ? _ = $73048c6b859c8a02$var$c : (_ = I[P] || $73048c6b859c8a02$var$c, I[P] = void 0, j--), $73048c6b859c8a02$var$L(n, b, _, i, o, r, f, e, a, v), m = b.__e, (y = b.ref) && _.ref != y && (_.ref && $73048c6b859c8a02$var$O(_.ref, null, b), v.push(y, b.__c || m, b)), null != m && (null == w && (w = m), (C = _ === $73048c6b859c8a02$var$c || null === _.__v) ? -1 == P && H-- : P !== x && (P === x + 1 ? H++ : P > x ? j > z - x ? H += P - x : H-- : H = P < x && P == x - 1 ? P - x : 0), x = p + H, \"function\" != typeof b.type || P === x && _.__k !== b.__k ? \"function\" == typeof b.type || P === x && !C ? void 0 !== b.__d ? (e = b.__d, b.__d = void 0) : e = m.nextSibling : e = $73048c6b859c8a02$var$S(n, m, e) : e = $73048c6b859c8a02$var$$(b, e, n), \"function\" == typeof u.type && (u.__d = e))) : (_ = I[p]) && null == _.key && _.__e && (_.__e == e && (e = $73048c6b859c8a02$var$g(_)), $73048c6b859c8a02$var$q(_, _, !1), I[p] = null);\n    for(u.__e = w, p = T; p--;)null != I[p] && (\"function\" == typeof u.type && null != I[p].__e && I[p].__e == u.__d && (u.__d = I[p].__e.nextSibling), $73048c6b859c8a02$var$q(I[p], I[p]));\n}\nfunction $73048c6b859c8a02$var$$(n, l, u) {\n    for(var t, i = n.__k, o = 0; i && o < i.length; o++)(t = i[o]) && (t.__ = n, l = \"function\" == typeof t.type ? $73048c6b859c8a02$var$$(t, l, u) : $73048c6b859c8a02$var$S(u, t.__e, l));\n    return l;\n}\nfunction $73048c6b859c8a02$export$47e4c5b300681277(n, l) {\n    return l = l || [], null == n || \"boolean\" == typeof n || ($73048c6b859c8a02$var$h(n) ? n.some(function(n) {\n        $73048c6b859c8a02$export$47e4c5b300681277(n, l);\n    }) : l.push(n)), l;\n}\nfunction $73048c6b859c8a02$var$S(n, l, u) {\n    return null == u || u.parentNode !== n ? n.insertBefore(l, null) : l == u && null != l.parentNode || n.insertBefore(l, u), l.nextSibling;\n}\nfunction $73048c6b859c8a02$var$A(n, l, u, t) {\n    var i = n.key, o = n.type, r = u - 1, f = u + 1, e = l[u];\n    if (null === e || e && i == e.key && o === e.type) return u;\n    if (t > (null != e ? 1 : 0)) for(; r >= 0 || f < l.length;){\n        if (r >= 0) {\n            if ((e = l[r]) && i == e.key && o === e.type) return r;\n            r--;\n        }\n        if (f < l.length) {\n            if ((e = l[f]) && i == e.key && o === e.type) return f;\n            f++;\n        }\n    }\n    return -1;\n}\nfunction $73048c6b859c8a02$var$H(n, l, u, t, i) {\n    var o;\n    for(o in u)\"children\" === o || \"key\" === o || o in l || $73048c6b859c8a02$var$T(n, o, null, u[o], t);\n    for(o in l)i && \"function\" != typeof l[o] || \"children\" === o || \"key\" === o || \"value\" === o || \"checked\" === o || u[o] === l[o] || $73048c6b859c8a02$var$T(n, o, l[o], u[o], t);\n}\nfunction $73048c6b859c8a02$var$I(n, l, u) {\n    \"-\" === l[0] ? n.setProperty(l, null == u ? \"\" : u) : n[l] = null == u ? \"\" : \"number\" != typeof u || $73048c6b859c8a02$var$a.test(l) ? u : u + \"px\";\n}\nfunction $73048c6b859c8a02$var$T(n, l, u, t, i) {\n    var o;\n    n: if (\"style\" === l) {\n        if (\"string\" == typeof u) n.style.cssText = u;\n        else {\n            if (\"string\" == typeof t && (n.style.cssText = t = \"\"), t) for(l in t)u && l in u || $73048c6b859c8a02$var$I(n.style, l, \"\");\n            if (u) for(l in u)t && u[l] === t[l] || $73048c6b859c8a02$var$I(n.style, l, u[l]);\n        }\n    } else if (\"o\" === l[0] && \"n\" === l[1]) o = l !== (l = l.replace(/(PointerCapture)$|Capture$/, \"$1\")), l = l.toLowerCase() in n ? l.toLowerCase().slice(2) : l.slice(2), n.l || (n.l = {}), n.l[l + o] = u, u ? t || n.addEventListener(l, o ? $73048c6b859c8a02$var$z : $73048c6b859c8a02$var$j, o) : n.removeEventListener(l, o ? $73048c6b859c8a02$var$z : $73048c6b859c8a02$var$j, o);\n    else if (\"dangerouslySetInnerHTML\" !== l) {\n        if (i) l = l.replace(/xlink(H|:h)/, \"h\").replace(/sName$/, \"s\");\n        else if (\"width\" !== l && \"height\" !== l && \"href\" !== l && \"list\" !== l && \"form\" !== l && \"tabIndex\" !== l && \"download\" !== l && \"rowSpan\" !== l && \"colSpan\" !== l && l in n) try {\n            n[l] = null == u ? \"\" : u;\n            break n;\n        } catch (n) {}\n        \"function\" == typeof u || (null == u || !1 === u && \"-\" !== l[4] ? n.removeAttribute(l) : n.setAttribute(l, u));\n    }\n}\nfunction $73048c6b859c8a02$var$j(n) {\n    return this.l[n.type + !1]($73048c6b859c8a02$export$41c562ebe57d11e2.event ? $73048c6b859c8a02$export$41c562ebe57d11e2.event(n) : n);\n}\nfunction $73048c6b859c8a02$var$z(n) {\n    return this.l[n.type + !0]($73048c6b859c8a02$export$41c562ebe57d11e2.event ? $73048c6b859c8a02$export$41c562ebe57d11e2.event(n) : n);\n}\nfunction $73048c6b859c8a02$var$L(n, u, t, i, o, r, f, e, c, s) {\n    var a, p, y, d, _, g, m, w, x, $, C, S, A, H, I, T = u.type;\n    if (void 0 !== u.constructor) return null;\n    null != t.__h && (c = t.__h, e = u.__e = t.__e, u.__h = null, r = [\n        e\n    ]), (a = $73048c6b859c8a02$export$41c562ebe57d11e2.__b) && a(u);\n    n: if (\"function\" == typeof T) try {\n        if (w = u.props, x = (a = T.contextType) && i[a.__c], $ = a ? x ? x.props.value : a.__ : i, t.__c ? m = (p = u.__c = t.__c).__ = p.__E : (\"prototype\" in T && T.prototype.render ? u.__c = p = new T(w, $) : (u.__c = p = new $73048c6b859c8a02$export$16fa2f45be04daa8(w, $), p.constructor = T, p.render = $73048c6b859c8a02$var$B), x && x.sub(p), p.props = w, p.state || (p.state = {}), p.context = $, p.__n = i, y = p.__d = !0, p.__h = [], p._sb = []), null == p.__s && (p.__s = p.state), null != T.getDerivedStateFromProps && (p.__s == p.state && (p.__s = $73048c6b859c8a02$var$v({}, p.__s)), $73048c6b859c8a02$var$v(p.__s, T.getDerivedStateFromProps(w, p.__s))), d = p.props, _ = p.state, p.__v = u, y) null == T.getDerivedStateFromProps && null != p.componentWillMount && p.componentWillMount(), null != p.componentDidMount && p.__h.push(p.componentDidMount);\n        else {\n            if (null == T.getDerivedStateFromProps && w !== d && null != p.componentWillReceiveProps && p.componentWillReceiveProps(w, $), !p.__e && (null != p.shouldComponentUpdate && !1 === p.shouldComponentUpdate(w, p.__s, $) || u.__v === t.__v)) {\n                for(u.__v !== t.__v && (p.props = w, p.state = p.__s, p.__d = !1), u.__e = t.__e, u.__k = t.__k, u.__k.forEach(function(n) {\n                    n && (n.__ = u);\n                }), C = 0; C < p._sb.length; C++)p.__h.push(p._sb[C]);\n                p._sb = [], p.__h.length && f.push(p);\n                break n;\n            }\n            null != p.componentWillUpdate && p.componentWillUpdate(w, p.__s, $), null != p.componentDidUpdate && p.__h.push(function() {\n                p.componentDidUpdate(d, _, g);\n            });\n        }\n        if (p.context = $, p.props = w, p.__P = n, p.__e = !1, S = $73048c6b859c8a02$export$41c562ebe57d11e2.__r, A = 0, \"prototype\" in T && T.prototype.render) {\n            for(p.state = p.__s, p.__d = !1, S && S(u), a = p.render(p.props, p.state, p.context), H = 0; H < p._sb.length; H++)p.__h.push(p._sb[H]);\n            p._sb = [];\n        } else do p.__d = !1, S && S(u), a = p.render(p.props, p.state, p.context), p.state = p.__s;\n        while (p.__d && ++A < 25);\n        p.state = p.__s, null != p.getChildContext && (i = $73048c6b859c8a02$var$v($73048c6b859c8a02$var$v({}, i), p.getChildContext())), y || null == p.getSnapshotBeforeUpdate || (g = p.getSnapshotBeforeUpdate(d, _)), $73048c6b859c8a02$var$P(n, $73048c6b859c8a02$var$h(I = null != a && a.type === $73048c6b859c8a02$export$ffb0004e005737fa && null == a.key ? a.props.children : a) ? I : [\n            I\n        ], u, t, i, o, r, f, e, c, s), p.base = u.__e, u.__h = null, p.__h.length && f.push(p), m && (p.__E = p.__ = null);\n    } catch (n) {\n        u.__v = null, (c || null != r) && (u.__e = e, u.__h = !!c, r[r.indexOf(e)] = null), $73048c6b859c8a02$export$41c562ebe57d11e2.__e(n, u, t);\n    }\n    else null == r && u.__v === t.__v ? (u.__k = t.__k, u.__e = t.__e) : u.__e = $73048c6b859c8a02$var$N(t.__e, u, t, i, o, r, f, c, s);\n    (a = $73048c6b859c8a02$export$41c562ebe57d11e2.diffed) && a(u);\n}\nfunction $73048c6b859c8a02$var$M(n, u, t) {\n    for(var i = 0; i < t.length; i++)$73048c6b859c8a02$var$O(t[i], t[++i], t[++i]);\n    $73048c6b859c8a02$export$41c562ebe57d11e2.__c && $73048c6b859c8a02$export$41c562ebe57d11e2.__c(u, n), n.some(function(u) {\n        try {\n            n = u.__h, u.__h = [], n.some(function(n) {\n                n.call(u);\n            });\n        } catch (n) {\n            $73048c6b859c8a02$export$41c562ebe57d11e2.__e(n, u.__v);\n        }\n    });\n}\nfunction $73048c6b859c8a02$var$N(l, u, t, i, o, r, f, e, s) {\n    var a, v, y, d = t.props, _ = u.props, k = u.type, b = 0;\n    if (\"svg\" === k && (o = !0), null != r) {\n        for(; b < r.length; b++)if ((a = r[b]) && \"setAttribute\" in a == !!k && (k ? a.localName === k : 3 === a.nodeType)) {\n            l = a, r[b] = null;\n            break;\n        }\n    }\n    if (null == l) {\n        if (null === k) return document.createTextNode(_);\n        l = o ? document.createElementNS(\"http://www.w3.org/2000/svg\", k) : document.createElement(k, _.is && _), r = null, e = !1;\n    }\n    if (null === k) d === _ || e && l.data === _ || (l.data = _);\n    else {\n        if (r = r && $73048c6b859c8a02$var$n.call(l.childNodes), v = (d = t.props || $73048c6b859c8a02$var$c).dangerouslySetInnerHTML, y = _.dangerouslySetInnerHTML, !e) {\n            if (null != r) for(d = {}, b = 0; b < l.attributes.length; b++)d[l.attributes[b].name] = l.attributes[b].value;\n            (y || v) && (y && (v && y.__html == v.__html || y.__html === l.innerHTML) || (l.innerHTML = y && y.__html || \"\"));\n        }\n        if ($73048c6b859c8a02$var$H(l, _, d, o, e), y) u.__k = [];\n        else if ($73048c6b859c8a02$var$P(l, $73048c6b859c8a02$var$h(b = u.props.children) ? b : [\n            b\n        ], u, t, i, o && \"foreignObject\" !== k, r, f, r ? r[0] : t.__k && $73048c6b859c8a02$var$g(t, 0), e, s), null != r) for(b = r.length; b--;)null != r[b] && $73048c6b859c8a02$var$p(r[b]);\n        e || (\"value\" in _ && void 0 !== (b = _.value) && (b !== l.value || \"progress\" === k && !b || \"option\" === k && b !== d.value) && $73048c6b859c8a02$var$T(l, \"value\", b, d.value, !1), \"checked\" in _ && void 0 !== (b = _.checked) && b !== l.checked && $73048c6b859c8a02$var$T(l, \"checked\", b, d.checked, !1));\n    }\n    return l;\n}\nfunction $73048c6b859c8a02$var$O(n, u, t) {\n    try {\n        \"function\" == typeof n ? n(u) : n.current = u;\n    } catch (n) {\n        $73048c6b859c8a02$export$41c562ebe57d11e2.__e(n, t);\n    }\n}\nfunction $73048c6b859c8a02$var$q(n, u, t) {\n    var i, o;\n    if ($73048c6b859c8a02$export$41c562ebe57d11e2.unmount && $73048c6b859c8a02$export$41c562ebe57d11e2.unmount(n), (i = n.ref) && (i.current && i.current !== n.__e || $73048c6b859c8a02$var$O(i, null, u)), null != (i = n.__c)) {\n        if (i.componentWillUnmount) try {\n            i.componentWillUnmount();\n        } catch (n) {\n            $73048c6b859c8a02$export$41c562ebe57d11e2.__e(n, u);\n        }\n        i.base = i.__P = null, n.__c = void 0;\n    }\n    if (i = n.__k) for(o = 0; o < i.length; o++)i[o] && $73048c6b859c8a02$var$q(i[o], u, t || \"function\" != typeof n.type);\n    t || null == n.__e || $73048c6b859c8a02$var$p(n.__e), n.__ = n.__e = n.__d = void 0;\n}\nfunction $73048c6b859c8a02$var$B(n, l, u) {\n    return this.constructor(n, u);\n}\nfunction $73048c6b859c8a02$export$b3890eb0ae9dca99(u, t, i) {\n    var o, r, f, e;\n    $73048c6b859c8a02$export$41c562ebe57d11e2.__ && $73048c6b859c8a02$export$41c562ebe57d11e2.__(u, t), r = (o = \"function\" == typeof i) ? null : i && i.__k || t.__k, f = [], e = [], $73048c6b859c8a02$var$L(t, u = (!o && i || t).__k = $73048c6b859c8a02$export$c8a8987d4410bf2d($73048c6b859c8a02$export$ffb0004e005737fa, null, [\n        u\n    ]), r || $73048c6b859c8a02$var$c, $73048c6b859c8a02$var$c, void 0 !== t.ownerSVGElement, !o && i ? [\n        i\n    ] : r ? null : t.firstChild ? $73048c6b859c8a02$var$n.call(t.childNodes) : null, f, !o && i ? i : r ? r.__e : t.firstChild, o, e), $73048c6b859c8a02$var$M(f, u, e);\n}\nfunction $73048c6b859c8a02$export$fa8d919ba61d84db(n, l) {\n    $73048c6b859c8a02$export$b3890eb0ae9dca99(n, l, $73048c6b859c8a02$export$fa8d919ba61d84db);\n}\nfunction $73048c6b859c8a02$export$e530037191fcd5d7(l, u, t) {\n    var i, o, r, f, e = $73048c6b859c8a02$var$v({}, l.props);\n    for(r in l.type && l.type.defaultProps && (f = l.type.defaultProps), u)\"key\" == r ? i = u[r] : \"ref\" == r ? o = u[r] : e[r] = void 0 === u[r] && void 0 !== f ? f[r] : u[r];\n    return arguments.length > 2 && (e.children = arguments.length > 3 ? $73048c6b859c8a02$var$n.call(arguments, 2) : t), $73048c6b859c8a02$var$d(l.type, e, i || l.key, o || l.ref, null);\n}\nfunction $73048c6b859c8a02$export$fd42f52fd3ae1109(n, l) {\n    var u = {\n        __c: l = \"__cC\" + $73048c6b859c8a02$var$e++,\n        __: n,\n        Consumer: function(n, l) {\n            return n.children(l);\n        },\n        Provider: function(n) {\n            var u, t;\n            return this.getChildContext || (u = [], (t = {})[l] = this, this.getChildContext = function() {\n                return t;\n            }, this.shouldComponentUpdate = function(n) {\n                this.props.value !== n.value && u.some(function(n) {\n                    n.__e = !0, $73048c6b859c8a02$var$w(n);\n                });\n            }, this.sub = function(n) {\n                u.push(n);\n                var l = n.componentWillUnmount;\n                n.componentWillUnmount = function() {\n                    u.splice(u.indexOf(n), 1), l && l.call(n);\n                };\n            }), n.children;\n        }\n    };\n    return u.Provider.__ = u.Consumer.contextType = u;\n}\n$73048c6b859c8a02$var$n = $73048c6b859c8a02$var$s.slice, $73048c6b859c8a02$export$41c562ebe57d11e2 = {\n    __e: function(n, l, u, t) {\n        for(var i, o, r; l = l.__;)if ((i = l.__c) && !i.__) try {\n            if ((o = i.constructor) && null != o.getDerivedStateFromError && (i.setState(o.getDerivedStateFromError(n)), r = i.__d), null != i.componentDidCatch && (i.componentDidCatch(n, t || {}), r = i.__d), r) return i.__E = i;\n        } catch (l) {\n            n = l;\n        }\n        throw n;\n    }\n}, $73048c6b859c8a02$var$u = 0, $73048c6b859c8a02$export$a8257692ac88316c = function(n) {\n    return null != n && void 0 === n.constructor;\n}, $73048c6b859c8a02$export$16fa2f45be04daa8.prototype.setState = function(n, l) {\n    var u;\n    u = null != this.__s && this.__s !== this.state ? this.__s : this.__s = $73048c6b859c8a02$var$v({}, this.state), \"function\" == typeof n && (n = n($73048c6b859c8a02$var$v({}, u), this.props)), n && $73048c6b859c8a02$var$v(u, n), null != n && this.__v && (l && this._sb.push(l), $73048c6b859c8a02$var$w(this));\n}, $73048c6b859c8a02$export$16fa2f45be04daa8.prototype.forceUpdate = function(n) {\n    this.__v && (this.__e = !0, n && this.__h.push(n), $73048c6b859c8a02$var$w(this));\n}, $73048c6b859c8a02$export$16fa2f45be04daa8.prototype.render = $73048c6b859c8a02$export$ffb0004e005737fa, $73048c6b859c8a02$var$i = [], $73048c6b859c8a02$var$r = \"function\" == typeof Promise ? Promise.prototype.then.bind(Promise.resolve()) : setTimeout, $73048c6b859c8a02$var$f = function(n, l) {\n    return n.__v.__b - l.__v.__b;\n}, $73048c6b859c8a02$var$x.__r = 0, $73048c6b859c8a02$var$e = 0;\n\n\n\nconst $7e84e1a08353bb30$var$alert = {\n    remove: (id)=>document.getElementById(id).outerHTML = \"\",\n    add: (text, alertStyle = \"alert-success\", countdown = 5000)=>{\n        if (!text) return;\n        let alertNode = document.createElement(\"DIV\");\n        alertNode.id = $7e84e1a08353bb30$var$alert.hash(text);\n        alertNode.innerHTML = text;\n        alertNode.classList.add(\"global-alert\", \"alert\", alertStyle);\n        document.body.appendChild(alertNode);\n        setTimeout(()=>$7e84e1a08353bb30$var$alert.remove(alertNode.id), countdown);\n    },\n    hash: (str)=>{\n        let hash = 0;\n        if (str.length == 0) return hash;\n        for(let i = 0; i < str.length; i++){\n            let char = str.charCodeAt(i);\n            hash = (hash << 5) - hash + char;\n            hash = hash & hash; // Convert to 32bit integer\n        }\n        return hash;\n    }\n};\nvar $7e84e1a08353bb30$export$2e2bcd8739ae039 = $7e84e1a08353bb30$var$alert;\n\n\n\nconst $a43f12068c4c782d$var$storage = {\n    usage: ()=>{\n        let total = 0;\n        let k;\n        for(k in localStorage)if (Object.prototype.hasOwnProperty.call(localStorage, k)) total += (localStorage[k].length + k.length) * 2;\n        return total;\n    },\n    createStorageBox: (data, metadata = null)=>({\n            data: data,\n            createdAt: Date.now(),\n            metadata: metadata\n        }),\n    remove: (id)=>localStorage.removeItem(id),\n    set: (id, data, metadata = null)=>{\n        localStorage.setItem(id, JSON.stringify($a43f12068c4c782d$var$storage.createStorageBox(data, metadata)));\n        return Promise.resolve(id);\n    },\n    get: (id)=>{\n        let data = localStorage.getItem(id);\n        if (data != null) {\n            data = JSON.parse(data);\n            if (Object.prototype.hasOwnProperty.call(data, \"data\")) return new Promise((r)=>r(data.data));\n        }\n        return new Promise((r)=>r(null));\n    },\n    reset: ()=>localStorage.clear() && window.dispatchEvent(new CustomEvent(\"resetStorage\"))\n};\nvar $a43f12068c4c782d$export$2e2bcd8739ae039 = $a43f12068c4c782d$var$storage;\n\n\n\n\nlet $085ef619554b5411$export$5f80af4e66cab974 = (modules)=>{\n    let events = {};\n    let state = {};\n    let store = {\n        dispatch (event, data) {\n            if (event !== \"@dispatch\") store.dispatch(\"@dispatch\", [\n                event,\n                data,\n                events[event]\n            ]);\n            if (events[event]) {\n                let changes;\n                events[event].forEach((i)=>{\n                    let diff = events[event].includes(i) && i(state, data, store);\n                    if (diff && typeof diff.then !== \"function\") {\n                        state = {\n                            ...state,\n                            ...diff\n                        };\n                        changes = {\n                            ...changes,\n                            ...diff\n                        };\n                    }\n                });\n                if (changes) store.dispatch(\"@changed\", changes);\n            }\n        },\n        get: ()=>state,\n        on (event, cb) {\n            (events[event] || (events[event] = [])).push(cb);\n            return ()=>{\n                events[event] = events[event].filter((i)=>i !== cb);\n            };\n        }\n    };\n    modules.forEach((i)=>{\n        if (i) i(store);\n    });\n    store.dispatch(\"@init\");\n    return store;\n};\n\n\n//import { http } from \"/src/core\";\nconst $5332018adf75499b$export$bd17ce0bf3001bf8 = (store)=>{\n    store.on(\"@init\", ()=>({\n            me: {}\n        }));\n    store.on(\"me/update\", (state, me)=>{\n        return {\n            me: me\n        };\n    });\n};\n\n\nconst $b8ff5357b6cef316$export$10417fa5fd48c90a = (store)=>{\n    store.on(\"@init\", ()=>({\n            api: {}\n        }));\n    store.on(\"api/update\", (state, api)=>{\n        return {\n            api: api\n        };\n    });\n};\n\n\nconst $e44fcdfc78a2fa42$export$1a062524560abcaa = (store)=>{\n    store.on(\"@init\", ()=>({\n            route: \"\",\n            id: \"\",\n            action: \"\",\n            backUrl: \"\",\n            entityType: \"\",\n            search: \"\",\n            entity: {}\n        }));\n    store.on(\"router/update\", (_, newState)=>{\n        return {\n            entity: newState.entity,\n            backUrl: newState.backUrl\n        };\n    });\n};\n\n\nconst $b49847e1ffb70926$export$21b66e234e71aa95 = (store)=>{\n    store.on(\"@init\", ()=>({\n            notifications: []\n        }));\n    store.on(\"notifications/update\", (state, notifications = [])=>{\n        return {\n            notifications: notifications\n        };\n    });\n    store.on(\"notifications/remove\", (state, notification)=>{\n        return {\n            notifications: state.notifications.filter((n)=>n.id != notification.id)\n        };\n    });\n    store.on(\"notifications/read\", (state, notification)=>{\n        return {\n            notifications: state.notifications.map((n)=>n.id === notification.id ? Object.assign(n, {\n                    read: true\n                }) : n)\n        };\n    });\n};\n\n\n\nconst $1648cda18d60f785$export$336a589663e3f2e0 = (store)=>{\n    store.on(\"@init\", ()=>({\n            bookmarks: []\n        }));\n    store.on(\"bookmarks/update\", (state, bookmarks = [])=>{\n        return {\n            bookmarks: bookmarks\n        };\n    });\n    store.on(\"bookmark/remove\", (state, bookmark)=>{\n        (0, $cd2f6546c5cf5c32$export$7d6f1c8842f9f527).delete(`/api/bookmarks/${bookmark.id}`);\n        return {\n            bookmarks: state.bookmarks.filter((b)=>b.id != bookmark.id)\n        };\n    });\n    store.on(\"bookmark/add\", (state, message_id)=>{\n        (0, $cd2f6546c5cf5c32$export$7d6f1c8842f9f527).post(\"/api/bookmarks\", {\n            message_id: message_id\n        }).then((bookmark)=>{\n            store.dispatch(\"bookmarks/update\", [\n                ...state.bookmarks,\n                bookmark\n            ]);\n        });\n    });\n};\n\n\nconst $b7ae12cde431bd4b$var$store = (0, $085ef619554b5411$export$5f80af4e66cab974)([\n    (0, $b8ff5357b6cef316$export$10417fa5fd48c90a),\n    (0, $5332018adf75499b$export$bd17ce0bf3001bf8),\n    (0, $e44fcdfc78a2fa42$export$1a062524560abcaa),\n    (0, $b49847e1ffb70926$export$21b66e234e71aa95),\n    (0, $1648cda18d60f785$export$336a589663e3f2e0)\n]);\nvar $b7ae12cde431bd4b$export$2e2bcd8739ae039 = $b7ae12cde431bd4b$var$store;\n\n\nconst $cb95bcae1947788f$var$consoleLogger = {\n    type: \"logger\",\n    log (args) {\n        this.output(\"log\", args);\n    },\n    warn (args) {\n        this.output(\"warn\", args);\n    },\n    error (args) {\n        this.output(\"error\", args);\n    },\n    output (type, args) {\n        if (console && console[type]) console[type].apply(console, args);\n    }\n};\nclass $cb95bcae1947788f$var$Logger {\n    constructor(concreteLogger){\n        let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        this.init(concreteLogger, options);\n    }\n    init(concreteLogger) {\n        let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        this.prefix = options.prefix || \"i18next:\";\n        this.logger = concreteLogger || $cb95bcae1947788f$var$consoleLogger;\n        this.options = options;\n        this.debug = options.debug;\n    }\n    log() {\n        for(var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++)args[_key] = arguments[_key];\n        return this.forward(args, \"log\", \"\", true);\n    }\n    warn() {\n        for(var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++)args[_key2] = arguments[_key2];\n        return this.forward(args, \"warn\", \"\", true);\n    }\n    error() {\n        for(var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++)args[_key3] = arguments[_key3];\n        return this.forward(args, \"error\", \"\");\n    }\n    deprecate() {\n        for(var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++)args[_key4] = arguments[_key4];\n        return this.forward(args, \"warn\", \"WARNING DEPRECATED: \", true);\n    }\n    forward(args, lvl, prefix, debugOnly) {\n        if (debugOnly && !this.debug) return null;\n        if (typeof args[0] === \"string\") args[0] = `${prefix}${this.prefix} ${args[0]}`;\n        return this.logger[lvl](args);\n    }\n    create(moduleName) {\n        return new $cb95bcae1947788f$var$Logger(this.logger, {\n            prefix: `${this.prefix}:${moduleName}:`,\n            ...this.options\n        });\n    }\n    clone(options) {\n        options = options || this.options;\n        options.prefix = options.prefix || this.prefix;\n        return new $cb95bcae1947788f$var$Logger(this.logger, options);\n    }\n}\nvar $cb95bcae1947788f$var$baseLogger = new $cb95bcae1947788f$var$Logger();\nclass $cb95bcae1947788f$var$EventEmitter {\n    constructor(){\n        this.observers = {};\n    }\n    on(events, listener) {\n        events.split(\" \").forEach((event)=>{\n            this.observers[event] = this.observers[event] || [];\n            this.observers[event].push(listener);\n        });\n        return this;\n    }\n    off(event, listener) {\n        if (!this.observers[event]) return;\n        if (!listener) {\n            delete this.observers[event];\n            return;\n        }\n        this.observers[event] = this.observers[event].filter((l)=>l !== listener);\n    }\n    emit(event) {\n        for(var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++)args[_key - 1] = arguments[_key];\n        if (this.observers[event]) {\n            const cloned = [].concat(this.observers[event]);\n            cloned.forEach((observer)=>{\n                observer(...args);\n            });\n        }\n        if (this.observers[\"*\"]) {\n            const cloned = [].concat(this.observers[\"*\"]);\n            cloned.forEach((observer)=>{\n                observer.apply(observer, [\n                    event,\n                    ...args\n                ]);\n            });\n        }\n    }\n}\nfunction $cb95bcae1947788f$var$defer() {\n    let res;\n    let rej;\n    const promise = new Promise((resolve, reject)=>{\n        res = resolve;\n        rej = reject;\n    });\n    promise.resolve = res;\n    promise.reject = rej;\n    return promise;\n}\nfunction $cb95bcae1947788f$var$makeString(object) {\n    if (object == null) return \"\";\n    return \"\" + object;\n}\nfunction $cb95bcae1947788f$var$copy(a, s, t) {\n    a.forEach((m)=>{\n        if (s[m]) t[m] = s[m];\n    });\n}\nfunction $cb95bcae1947788f$var$getLastOfPath(object, path, Empty) {\n    function cleanKey(key) {\n        return key && key.indexOf(\"###\") > -1 ? key.replace(/###/g, \".\") : key;\n    }\n    function canNotTraverseDeeper() {\n        return !object || typeof object === \"string\";\n    }\n    const stack = typeof path !== \"string\" ? [].concat(path) : path.split(\".\");\n    while(stack.length > 1){\n        if (canNotTraverseDeeper()) return {};\n        const key = cleanKey(stack.shift());\n        if (!object[key] && Empty) object[key] = new Empty();\n        if (Object.prototype.hasOwnProperty.call(object, key)) object = object[key];\n        else object = {};\n    }\n    if (canNotTraverseDeeper()) return {};\n    return {\n        obj: object,\n        k: cleanKey(stack.shift())\n    };\n}\nfunction $cb95bcae1947788f$var$setPath(object, path, newValue) {\n    const { obj: obj, k: k } = $cb95bcae1947788f$var$getLastOfPath(object, path, Object);\n    obj[k] = newValue;\n}\nfunction $cb95bcae1947788f$var$pushPath(object, path, newValue, concat) {\n    const { obj: obj, k: k } = $cb95bcae1947788f$var$getLastOfPath(object, path, Object);\n    obj[k] = obj[k] || [];\n    if (concat) obj[k] = obj[k].concat(newValue);\n    if (!concat) obj[k].push(newValue);\n}\nfunction $cb95bcae1947788f$var$getPath(object, path) {\n    const { obj: obj, k: k } = $cb95bcae1947788f$var$getLastOfPath(object, path);\n    if (!obj) return undefined;\n    return obj[k];\n}\nfunction $cb95bcae1947788f$var$getPathWithDefaults(data, defaultData, key) {\n    const value = $cb95bcae1947788f$var$getPath(data, key);\n    if (value !== undefined) return value;\n    return $cb95bcae1947788f$var$getPath(defaultData, key);\n}\nfunction $cb95bcae1947788f$var$deepExtend(target, source, overwrite) {\n    for(const prop in source)if (prop !== \"__proto__\" && prop !== \"constructor\") {\n        if (prop in target) {\n            if (typeof target[prop] === \"string\" || target[prop] instanceof String || typeof source[prop] === \"string\" || source[prop] instanceof String) {\n                if (overwrite) target[prop] = source[prop];\n            } else $cb95bcae1947788f$var$deepExtend(target[prop], source[prop], overwrite);\n        } else target[prop] = source[prop];\n    }\n    return target;\n}\nfunction $cb95bcae1947788f$var$regexEscape(str) {\n    return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\");\n}\nvar $cb95bcae1947788f$var$_entityMap = {\n    \"&\": \"&amp;\",\n    \"<\": \"&lt;\",\n    \">\": \"&gt;\",\n    '\"': \"&quot;\",\n    \"'\": \"&#39;\",\n    \"/\": \"&#x2F;\"\n};\nfunction $cb95bcae1947788f$var$escape(data) {\n    if (typeof data === \"string\") return data.replace(/[&<>\"'\\/]/g, (s)=>$cb95bcae1947788f$var$_entityMap[s]);\n    return data;\n}\nconst $cb95bcae1947788f$var$chars = [\n    \" \",\n    \",\",\n    \"?\",\n    \"!\",\n    \";\"\n];\nfunction $cb95bcae1947788f$var$looksLikeObjectPath(key, nsSeparator, keySeparator) {\n    nsSeparator = nsSeparator || \"\";\n    keySeparator = keySeparator || \"\";\n    const possibleChars = $cb95bcae1947788f$var$chars.filter((c)=>nsSeparator.indexOf(c) < 0 && keySeparator.indexOf(c) < 0);\n    if (possibleChars.length === 0) return true;\n    const r = new RegExp(`(${possibleChars.map((c)=>c === \"?\" ? \"\\\\?\" : c).join(\"|\")})`);\n    let matched = !r.test(key);\n    if (!matched) {\n        const ki = key.indexOf(keySeparator);\n        if (ki > 0 && !r.test(key.substring(0, ki))) matched = true;\n    }\n    return matched;\n}\nfunction $cb95bcae1947788f$var$deepFind(obj, path) {\n    let keySeparator = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \".\";\n    if (!obj) return undefined;\n    if (obj[path]) return obj[path];\n    const paths = path.split(keySeparator);\n    let current = obj;\n    for(let i = 0; i < paths.length; ++i){\n        if (!current) return undefined;\n        if (typeof current[paths[i]] === \"string\" && i + 1 < paths.length) return undefined;\n        if (current[paths[i]] === undefined) {\n            let j = 2;\n            let p = paths.slice(i, i + j).join(keySeparator);\n            let mix = current[p];\n            while(mix === undefined && paths.length > i + j){\n                j++;\n                p = paths.slice(i, i + j).join(keySeparator);\n                mix = current[p];\n            }\n            if (mix === undefined) return undefined;\n            if (mix === null) return null;\n            if (path.endsWith(p)) {\n                if (typeof mix === \"string\") return mix;\n                if (p && typeof mix[p] === \"string\") return mix[p];\n            }\n            const joinedPath = paths.slice(i + j).join(keySeparator);\n            if (joinedPath) return $cb95bcae1947788f$var$deepFind(mix, joinedPath, keySeparator);\n            return undefined;\n        }\n        current = current[paths[i]];\n    }\n    return current;\n}\nfunction $cb95bcae1947788f$var$getCleanedCode(code) {\n    if (code && code.indexOf(\"_\") > 0) return code.replace(\"_\", \"-\");\n    return code;\n}\nclass $cb95bcae1947788f$var$ResourceStore extends $cb95bcae1947788f$var$EventEmitter {\n    constructor(data){\n        let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n            ns: [\n                \"translation\"\n            ],\n            defaultNS: \"translation\"\n        };\n        super();\n        this.data = data || {};\n        this.options = options;\n        if (this.options.keySeparator === undefined) this.options.keySeparator = \".\";\n        if (this.options.ignoreJSONStructure === undefined) this.options.ignoreJSONStructure = true;\n    }\n    addNamespaces(ns) {\n        if (this.options.ns.indexOf(ns) < 0) this.options.ns.push(ns);\n    }\n    removeNamespaces(ns) {\n        const index = this.options.ns.indexOf(ns);\n        if (index > -1) this.options.ns.splice(index, 1);\n    }\n    getResource(lng, ns, key) {\n        let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n        const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n        const ignoreJSONStructure = options.ignoreJSONStructure !== undefined ? options.ignoreJSONStructure : this.options.ignoreJSONStructure;\n        let path = [\n            lng,\n            ns\n        ];\n        if (key && typeof key !== \"string\") path = path.concat(key);\n        if (key && typeof key === \"string\") path = path.concat(keySeparator ? key.split(keySeparator) : key);\n        if (lng.indexOf(\".\") > -1) path = lng.split(\".\");\n        const result = $cb95bcae1947788f$var$getPath(this.data, path);\n        if (result || !ignoreJSONStructure || typeof key !== \"string\") return result;\n        return $cb95bcae1947788f$var$deepFind(this.data && this.data[lng] && this.data[lng][ns], key, keySeparator);\n    }\n    addResource(lng, ns, key, value) {\n        let options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {\n            silent: false\n        };\n        const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n        let path = [\n            lng,\n            ns\n        ];\n        if (key) path = path.concat(keySeparator ? key.split(keySeparator) : key);\n        if (lng.indexOf(\".\") > -1) {\n            path = lng.split(\".\");\n            value = ns;\n            ns = path[1];\n        }\n        this.addNamespaces(ns);\n        $cb95bcae1947788f$var$setPath(this.data, path, value);\n        if (!options.silent) this.emit(\"added\", lng, ns, key, value);\n    }\n    addResources(lng, ns, resources) {\n        let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {\n            silent: false\n        };\n        for(const m in resources)if (typeof resources[m] === \"string\" || Object.prototype.toString.apply(resources[m]) === \"[object Array]\") this.addResource(lng, ns, m, resources[m], {\n            silent: true\n        });\n        if (!options.silent) this.emit(\"added\", lng, ns, resources);\n    }\n    addResourceBundle(lng, ns, resources, deep, overwrite) {\n        let options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {\n            silent: false\n        };\n        let path = [\n            lng,\n            ns\n        ];\n        if (lng.indexOf(\".\") > -1) {\n            path = lng.split(\".\");\n            deep = resources;\n            resources = ns;\n            ns = path[1];\n        }\n        this.addNamespaces(ns);\n        let pack = $cb95bcae1947788f$var$getPath(this.data, path) || {};\n        if (deep) $cb95bcae1947788f$var$deepExtend(pack, resources, overwrite);\n        else pack = {\n            ...pack,\n            ...resources\n        };\n        $cb95bcae1947788f$var$setPath(this.data, path, pack);\n        if (!options.silent) this.emit(\"added\", lng, ns, resources);\n    }\n    removeResourceBundle(lng, ns) {\n        if (this.hasResourceBundle(lng, ns)) delete this.data[lng][ns];\n        this.removeNamespaces(ns);\n        this.emit(\"removed\", lng, ns);\n    }\n    hasResourceBundle(lng, ns) {\n        return this.getResource(lng, ns) !== undefined;\n    }\n    getResourceBundle(lng, ns) {\n        if (!ns) ns = this.options.defaultNS;\n        if (this.options.compatibilityAPI === \"v1\") return {\n            ...this.getResource(lng, ns)\n        };\n        return this.getResource(lng, ns);\n    }\n    getDataByLanguage(lng) {\n        return this.data[lng];\n    }\n    hasLanguageSomeTranslations(lng) {\n        const data = this.getDataByLanguage(lng);\n        const n = data && Object.keys(data) || [];\n        return !!n.find((v)=>data[v] && Object.keys(data[v]).length > 0);\n    }\n    toJSON() {\n        return this.data;\n    }\n}\nvar $cb95bcae1947788f$var$postProcessor = {\n    processors: {},\n    addPostProcessor (module) {\n        this.processors[module.name] = module;\n    },\n    handle (processors, value, key, options, translator) {\n        processors.forEach((processor)=>{\n            if (this.processors[processor]) value = this.processors[processor].process(value, key, options, translator);\n        });\n        return value;\n    }\n};\nconst $cb95bcae1947788f$var$checkedLoadedFor = {};\nclass $cb95bcae1947788f$var$Translator extends $cb95bcae1947788f$var$EventEmitter {\n    constructor(services){\n        let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        super();\n        $cb95bcae1947788f$var$copy([\n            \"resourceStore\",\n            \"languageUtils\",\n            \"pluralResolver\",\n            \"interpolator\",\n            \"backendConnector\",\n            \"i18nFormat\",\n            \"utils\"\n        ], services, this);\n        this.options = options;\n        if (this.options.keySeparator === undefined) this.options.keySeparator = \".\";\n        this.logger = $cb95bcae1947788f$var$baseLogger.create(\"translator\");\n    }\n    changeLanguage(lng) {\n        if (lng) this.language = lng;\n    }\n    exists(key) {\n        let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n            interpolation: {}\n        };\n        if (key === undefined || key === null) return false;\n        const resolved = this.resolve(key, options);\n        return resolved && resolved.res !== undefined;\n    }\n    extractFromKey(key, options) {\n        let nsSeparator = options.nsSeparator !== undefined ? options.nsSeparator : this.options.nsSeparator;\n        if (nsSeparator === undefined) nsSeparator = \":\";\n        const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n        let namespaces = options.ns || this.options.defaultNS || [];\n        const wouldCheckForNsInKey = nsSeparator && key.indexOf(nsSeparator) > -1;\n        const seemsNaturalLanguage = !this.options.userDefinedKeySeparator && !options.keySeparator && !this.options.userDefinedNsSeparator && !options.nsSeparator && !$cb95bcae1947788f$var$looksLikeObjectPath(key, nsSeparator, keySeparator);\n        if (wouldCheckForNsInKey && !seemsNaturalLanguage) {\n            const m = key.match(this.interpolator.nestingRegexp);\n            if (m && m.length > 0) return {\n                key: key,\n                namespaces: namespaces\n            };\n            const parts = key.split(nsSeparator);\n            if (nsSeparator !== keySeparator || nsSeparator === keySeparator && this.options.ns.indexOf(parts[0]) > -1) namespaces = parts.shift();\n            key = parts.join(keySeparator);\n        }\n        if (typeof namespaces === \"string\") namespaces = [\n            namespaces\n        ];\n        return {\n            key: key,\n            namespaces: namespaces\n        };\n    }\n    translate(keys, options, lastKey) {\n        if (typeof options !== \"object\" && this.options.overloadTranslationOptionHandler) options = this.options.overloadTranslationOptionHandler(arguments);\n        if (typeof options === \"object\") options = {\n            ...options\n        };\n        if (!options) options = {};\n        if (keys === undefined || keys === null) return \"\";\n        if (!Array.isArray(keys)) keys = [\n            String(keys)\n        ];\n        const returnDetails = options.returnDetails !== undefined ? options.returnDetails : this.options.returnDetails;\n        const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n        const { key: key, namespaces: namespaces } = this.extractFromKey(keys[keys.length - 1], options);\n        const namespace = namespaces[namespaces.length - 1];\n        const lng = options.lng || this.language;\n        const appendNamespaceToCIMode = options.appendNamespaceToCIMode || this.options.appendNamespaceToCIMode;\n        if (lng && lng.toLowerCase() === \"cimode\") {\n            if (appendNamespaceToCIMode) {\n                const nsSeparator = options.nsSeparator || this.options.nsSeparator;\n                if (returnDetails) return {\n                    res: `${namespace}${nsSeparator}${key}`,\n                    usedKey: key,\n                    exactUsedKey: key,\n                    usedLng: lng,\n                    usedNS: namespace\n                };\n                return `${namespace}${nsSeparator}${key}`;\n            }\n            if (returnDetails) return {\n                res: key,\n                usedKey: key,\n                exactUsedKey: key,\n                usedLng: lng,\n                usedNS: namespace\n            };\n            return key;\n        }\n        const resolved = this.resolve(keys, options);\n        let res = resolved && resolved.res;\n        const resUsedKey = resolved && resolved.usedKey || key;\n        const resExactUsedKey = resolved && resolved.exactUsedKey || key;\n        const resType = Object.prototype.toString.apply(res);\n        const noObject = [\n            \"[object Number]\",\n            \"[object Function]\",\n            \"[object RegExp]\"\n        ];\n        const joinArrays = options.joinArrays !== undefined ? options.joinArrays : this.options.joinArrays;\n        const handleAsObjectInI18nFormat = !this.i18nFormat || this.i18nFormat.handleAsObject;\n        const handleAsObject = typeof res !== \"string\" && typeof res !== \"boolean\" && typeof res !== \"number\";\n        if (handleAsObjectInI18nFormat && res && handleAsObject && noObject.indexOf(resType) < 0 && !(typeof joinArrays === \"string\" && resType === \"[object Array]\")) {\n            if (!options.returnObjects && !this.options.returnObjects) {\n                if (!this.options.returnedObjectHandler) this.logger.warn(\"accessing an object - but returnObjects options is not enabled!\");\n                const r = this.options.returnedObjectHandler ? this.options.returnedObjectHandler(resUsedKey, res, {\n                    ...options,\n                    ns: namespaces\n                }) : `key '${key} (${this.language})' returned an object instead of string.`;\n                if (returnDetails) {\n                    resolved.res = r;\n                    return resolved;\n                }\n                return r;\n            }\n            if (keySeparator) {\n                const resTypeIsArray = resType === \"[object Array]\";\n                const copy = resTypeIsArray ? [] : {};\n                const newKeyToUse = resTypeIsArray ? resExactUsedKey : resUsedKey;\n                for(const m in res)if (Object.prototype.hasOwnProperty.call(res, m)) {\n                    const deepKey = `${newKeyToUse}${keySeparator}${m}`;\n                    copy[m] = this.translate(deepKey, {\n                        ...options,\n                        joinArrays: false,\n                        ns: namespaces\n                    });\n                    if (copy[m] === deepKey) copy[m] = res[m];\n                }\n                res = copy;\n            }\n        } else if (handleAsObjectInI18nFormat && typeof joinArrays === \"string\" && resType === \"[object Array]\") {\n            res = res.join(joinArrays);\n            if (res) res = this.extendTranslation(res, keys, options, lastKey);\n        } else {\n            let usedDefault = false;\n            let usedKey = false;\n            const needsPluralHandling = options.count !== undefined && typeof options.count !== \"string\";\n            const hasDefaultValue = $cb95bcae1947788f$var$Translator.hasDefaultValue(options);\n            const defaultValueSuffix = needsPluralHandling ? this.pluralResolver.getSuffix(lng, options.count, options) : \"\";\n            const defaultValueSuffixOrdinalFallback = options.ordinal && needsPluralHandling ? this.pluralResolver.getSuffix(lng, options.count, {\n                ordinal: false\n            }) : \"\";\n            const defaultValue = options[`defaultValue${defaultValueSuffix}`] || options[`defaultValue${defaultValueSuffixOrdinalFallback}`] || options.defaultValue;\n            if (!this.isValidLookup(res) && hasDefaultValue) {\n                usedDefault = true;\n                res = defaultValue;\n            }\n            if (!this.isValidLookup(res)) {\n                usedKey = true;\n                res = key;\n            }\n            const missingKeyNoValueFallbackToKey = options.missingKeyNoValueFallbackToKey || this.options.missingKeyNoValueFallbackToKey;\n            const resForMissing = missingKeyNoValueFallbackToKey && usedKey ? undefined : res;\n            const updateMissing = hasDefaultValue && defaultValue !== res && this.options.updateMissing;\n            if (usedKey || usedDefault || updateMissing) {\n                this.logger.log(updateMissing ? \"updateKey\" : \"missingKey\", lng, namespace, key, updateMissing ? defaultValue : res);\n                if (keySeparator) {\n                    const fk = this.resolve(key, {\n                        ...options,\n                        keySeparator: false\n                    });\n                    if (fk && fk.res) this.logger.warn(\"Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.\");\n                }\n                let lngs = [];\n                const fallbackLngs = this.languageUtils.getFallbackCodes(this.options.fallbackLng, options.lng || this.language);\n                if (this.options.saveMissingTo === \"fallback\" && fallbackLngs && fallbackLngs[0]) for(let i = 0; i < fallbackLngs.length; i++)lngs.push(fallbackLngs[i]);\n                else if (this.options.saveMissingTo === \"all\") lngs = this.languageUtils.toResolveHierarchy(options.lng || this.language);\n                else lngs.push(options.lng || this.language);\n                const send = (l, k, specificDefaultValue)=>{\n                    const defaultForMissing = hasDefaultValue && specificDefaultValue !== res ? specificDefaultValue : resForMissing;\n                    if (this.options.missingKeyHandler) this.options.missingKeyHandler(l, namespace, k, defaultForMissing, updateMissing, options);\n                    else if (this.backendConnector && this.backendConnector.saveMissing) this.backendConnector.saveMissing(l, namespace, k, defaultForMissing, updateMissing, options);\n                    this.emit(\"missingKey\", l, namespace, k, res);\n                };\n                if (this.options.saveMissing) {\n                    if (this.options.saveMissingPlurals && needsPluralHandling) lngs.forEach((language)=>{\n                        this.pluralResolver.getSuffixes(language, options).forEach((suffix)=>{\n                            send([\n                                language\n                            ], key + suffix, options[`defaultValue${suffix}`] || defaultValue);\n                        });\n                    });\n                    else send(lngs, key, defaultValue);\n                }\n            }\n            res = this.extendTranslation(res, keys, options, resolved, lastKey);\n            if (usedKey && res === key && this.options.appendNamespaceToMissingKey) res = `${namespace}:${key}`;\n            if ((usedKey || usedDefault) && this.options.parseMissingKeyHandler) {\n                if (this.options.compatibilityAPI !== \"v1\") res = this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey ? `${namespace}:${key}` : key, usedDefault ? res : undefined);\n                else res = this.options.parseMissingKeyHandler(res);\n            }\n        }\n        if (returnDetails) {\n            resolved.res = res;\n            return resolved;\n        }\n        return res;\n    }\n    extendTranslation(res, key, options, resolved, lastKey) {\n        var _this = this;\n        if (this.i18nFormat && this.i18nFormat.parse) res = this.i18nFormat.parse(res, {\n            ...this.options.interpolation.defaultVariables,\n            ...options\n        }, options.lng || this.language || resolved.usedLng, resolved.usedNS, resolved.usedKey, {\n            resolved: resolved\n        });\n        else if (!options.skipInterpolation) {\n            if (options.interpolation) this.interpolator.init({\n                ...options,\n                interpolation: {\n                    ...this.options.interpolation,\n                    ...options.interpolation\n                }\n            });\n            const skipOnVariables = typeof res === \"string\" && (options && options.interpolation && options.interpolation.skipOnVariables !== undefined ? options.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables);\n            let nestBef;\n            if (skipOnVariables) {\n                const nb = res.match(this.interpolator.nestingRegexp);\n                nestBef = nb && nb.length;\n            }\n            let data = options.replace && typeof options.replace !== \"string\" ? options.replace : options;\n            if (this.options.interpolation.defaultVariables) data = {\n                ...this.options.interpolation.defaultVariables,\n                ...data\n            };\n            res = this.interpolator.interpolate(res, data, options.lng || this.language, options);\n            if (skipOnVariables) {\n                const na = res.match(this.interpolator.nestingRegexp);\n                const nestAft = na && na.length;\n                if (nestBef < nestAft) options.nest = false;\n            }\n            if (!options.lng && this.options.compatibilityAPI !== \"v1\" && resolved && resolved.res) options.lng = resolved.usedLng;\n            if (options.nest !== false) res = this.interpolator.nest(res, function() {\n                for(var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++)args[_key] = arguments[_key];\n                if (lastKey && lastKey[0] === args[0] && !options.context) {\n                    _this.logger.warn(`It seems you are nesting recursively key: ${args[0]} in key: ${key[0]}`);\n                    return null;\n                }\n                return _this.translate(...args, key);\n            }, options);\n            if (options.interpolation) this.interpolator.reset();\n        }\n        const postProcess = options.postProcess || this.options.postProcess;\n        const postProcessorNames = typeof postProcess === \"string\" ? [\n            postProcess\n        ] : postProcess;\n        if (res !== undefined && res !== null && postProcessorNames && postProcessorNames.length && options.applyPostProcessor !== false) res = $cb95bcae1947788f$var$postProcessor.handle(postProcessorNames, res, key, this.options && this.options.postProcessPassResolved ? {\n            i18nResolved: resolved,\n            ...options\n        } : options, this);\n        return res;\n    }\n    resolve(keys) {\n        let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        let found;\n        let usedKey;\n        let exactUsedKey;\n        let usedLng;\n        let usedNS;\n        if (typeof keys === \"string\") keys = [\n            keys\n        ];\n        keys.forEach((k)=>{\n            if (this.isValidLookup(found)) return;\n            const extracted = this.extractFromKey(k, options);\n            const key = extracted.key;\n            usedKey = key;\n            let namespaces = extracted.namespaces;\n            if (this.options.fallbackNS) namespaces = namespaces.concat(this.options.fallbackNS);\n            const needsPluralHandling = options.count !== undefined && typeof options.count !== \"string\";\n            const needsZeroSuffixLookup = needsPluralHandling && !options.ordinal && options.count === 0 && this.pluralResolver.shouldUseIntlApi();\n            const needsContextHandling = options.context !== undefined && (typeof options.context === \"string\" || typeof options.context === \"number\") && options.context !== \"\";\n            const codes = options.lngs ? options.lngs : this.languageUtils.toResolveHierarchy(options.lng || this.language, options.fallbackLng);\n            namespaces.forEach((ns)=>{\n                if (this.isValidLookup(found)) return;\n                usedNS = ns;\n                if (!$cb95bcae1947788f$var$checkedLoadedFor[`${codes[0]}-${ns}`] && this.utils && this.utils.hasLoadedNamespace && !this.utils.hasLoadedNamespace(usedNS)) {\n                    $cb95bcae1947788f$var$checkedLoadedFor[`${codes[0]}-${ns}`] = true;\n                    this.logger.warn(`key \"${usedKey}\" for languages \"${codes.join(\", \")}\" won't get resolved as namespace \"${usedNS}\" was not yet loaded`, \"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!\");\n                }\n                codes.forEach((code)=>{\n                    if (this.isValidLookup(found)) return;\n                    usedLng = code;\n                    const finalKeys = [\n                        key\n                    ];\n                    if (this.i18nFormat && this.i18nFormat.addLookupKeys) this.i18nFormat.addLookupKeys(finalKeys, key, code, ns, options);\n                    else {\n                        let pluralSuffix;\n                        if (needsPluralHandling) pluralSuffix = this.pluralResolver.getSuffix(code, options.count, options);\n                        const zeroSuffix = `${this.options.pluralSeparator}zero`;\n                        const ordinalPrefix = `${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;\n                        if (needsPluralHandling) {\n                            finalKeys.push(key + pluralSuffix);\n                            if (options.ordinal && pluralSuffix.indexOf(ordinalPrefix) === 0) finalKeys.push(key + pluralSuffix.replace(ordinalPrefix, this.options.pluralSeparator));\n                            if (needsZeroSuffixLookup) finalKeys.push(key + zeroSuffix);\n                        }\n                        if (needsContextHandling) {\n                            const contextKey = `${key}${this.options.contextSeparator}${options.context}`;\n                            finalKeys.push(contextKey);\n                            if (needsPluralHandling) {\n                                finalKeys.push(contextKey + pluralSuffix);\n                                if (options.ordinal && pluralSuffix.indexOf(ordinalPrefix) === 0) finalKeys.push(contextKey + pluralSuffix.replace(ordinalPrefix, this.options.pluralSeparator));\n                                if (needsZeroSuffixLookup) finalKeys.push(contextKey + zeroSuffix);\n                            }\n                        }\n                    }\n                    let possibleKey;\n                    while(possibleKey = finalKeys.pop())if (!this.isValidLookup(found)) {\n                        exactUsedKey = possibleKey;\n                        found = this.getResource(code, ns, possibleKey, options);\n                    }\n                });\n            });\n        });\n        return {\n            res: found,\n            usedKey: usedKey,\n            exactUsedKey: exactUsedKey,\n            usedLng: usedLng,\n            usedNS: usedNS\n        };\n    }\n    isValidLookup(res) {\n        return res !== undefined && !(!this.options.returnNull && res === null) && !(!this.options.returnEmptyString && res === \"\");\n    }\n    getResource(code, ns, key) {\n        let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n        if (this.i18nFormat && this.i18nFormat.getResource) return this.i18nFormat.getResource(code, ns, key, options);\n        return this.resourceStore.getResource(code, ns, key, options);\n    }\n    static hasDefaultValue(options) {\n        const prefix = \"defaultValue\";\n        for(const option in options){\n            if (Object.prototype.hasOwnProperty.call(options, option) && prefix === option.substring(0, prefix.length) && undefined !== options[option]) return true;\n        }\n        return false;\n    }\n}\nfunction $cb95bcae1947788f$var$capitalize(string) {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n}\nclass $cb95bcae1947788f$var$LanguageUtil {\n    constructor(options){\n        this.options = options;\n        this.supportedLngs = this.options.supportedLngs || false;\n        this.logger = $cb95bcae1947788f$var$baseLogger.create(\"languageUtils\");\n    }\n    getScriptPartFromCode(code) {\n        code = $cb95bcae1947788f$var$getCleanedCode(code);\n        if (!code || code.indexOf(\"-\") < 0) return null;\n        const p = code.split(\"-\");\n        if (p.length === 2) return null;\n        p.pop();\n        if (p[p.length - 1].toLowerCase() === \"x\") return null;\n        return this.formatLanguageCode(p.join(\"-\"));\n    }\n    getLanguagePartFromCode(code) {\n        code = $cb95bcae1947788f$var$getCleanedCode(code);\n        if (!code || code.indexOf(\"-\") < 0) return code;\n        const p = code.split(\"-\");\n        return this.formatLanguageCode(p[0]);\n    }\n    formatLanguageCode(code) {\n        if (typeof code === \"string\" && code.indexOf(\"-\") > -1) {\n            const specialCases = [\n                \"hans\",\n                \"hant\",\n                \"latn\",\n                \"cyrl\",\n                \"cans\",\n                \"mong\",\n                \"arab\"\n            ];\n            let p = code.split(\"-\");\n            if (this.options.lowerCaseLng) p = p.map((part)=>part.toLowerCase());\n            else if (p.length === 2) {\n                p[0] = p[0].toLowerCase();\n                p[1] = p[1].toUpperCase();\n                if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = $cb95bcae1947788f$var$capitalize(p[1].toLowerCase());\n            } else if (p.length === 3) {\n                p[0] = p[0].toLowerCase();\n                if (p[1].length === 2) p[1] = p[1].toUpperCase();\n                if (p[0] !== \"sgn\" && p[2].length === 2) p[2] = p[2].toUpperCase();\n                if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = $cb95bcae1947788f$var$capitalize(p[1].toLowerCase());\n                if (specialCases.indexOf(p[2].toLowerCase()) > -1) p[2] = $cb95bcae1947788f$var$capitalize(p[2].toLowerCase());\n            }\n            return p.join(\"-\");\n        }\n        return this.options.cleanCode || this.options.lowerCaseLng ? code.toLowerCase() : code;\n    }\n    isSupportedCode(code) {\n        if (this.options.load === \"languageOnly\" || this.options.nonExplicitSupportedLngs) code = this.getLanguagePartFromCode(code);\n        return !this.supportedLngs || !this.supportedLngs.length || this.supportedLngs.indexOf(code) > -1;\n    }\n    getBestMatchFromCodes(codes) {\n        if (!codes) return null;\n        let found;\n        codes.forEach((code)=>{\n            if (found) return;\n            const cleanedLng = this.formatLanguageCode(code);\n            if (!this.options.supportedLngs || this.isSupportedCode(cleanedLng)) found = cleanedLng;\n        });\n        if (!found && this.options.supportedLngs) codes.forEach((code)=>{\n            if (found) return;\n            const lngOnly = this.getLanguagePartFromCode(code);\n            if (this.isSupportedCode(lngOnly)) return found = lngOnly;\n            found = this.options.supportedLngs.find((supportedLng)=>{\n                if (supportedLng === lngOnly) return supportedLng;\n                if (supportedLng.indexOf(\"-\") < 0 && lngOnly.indexOf(\"-\") < 0) return;\n                if (supportedLng.indexOf(lngOnly) === 0) return supportedLng;\n            });\n        });\n        if (!found) found = this.getFallbackCodes(this.options.fallbackLng)[0];\n        return found;\n    }\n    getFallbackCodes(fallbacks, code) {\n        if (!fallbacks) return [];\n        if (typeof fallbacks === \"function\") fallbacks = fallbacks(code);\n        if (typeof fallbacks === \"string\") fallbacks = [\n            fallbacks\n        ];\n        if (Object.prototype.toString.apply(fallbacks) === \"[object Array]\") return fallbacks;\n        if (!code) return fallbacks.default || [];\n        let found = fallbacks[code];\n        if (!found) found = fallbacks[this.getScriptPartFromCode(code)];\n        if (!found) found = fallbacks[this.formatLanguageCode(code)];\n        if (!found) found = fallbacks[this.getLanguagePartFromCode(code)];\n        if (!found) found = fallbacks.default;\n        return found || [];\n    }\n    toResolveHierarchy(code, fallbackCode) {\n        const fallbackCodes = this.getFallbackCodes(fallbackCode || this.options.fallbackLng || [], code);\n        const codes = [];\n        const addCode = (c)=>{\n            if (!c) return;\n            if (this.isSupportedCode(c)) codes.push(c);\n            else this.logger.warn(`rejecting language code not found in supportedLngs: ${c}`);\n        };\n        if (typeof code === \"string\" && (code.indexOf(\"-\") > -1 || code.indexOf(\"_\") > -1)) {\n            if (this.options.load !== \"languageOnly\") addCode(this.formatLanguageCode(code));\n            if (this.options.load !== \"languageOnly\" && this.options.load !== \"currentOnly\") addCode(this.getScriptPartFromCode(code));\n            if (this.options.load !== \"currentOnly\") addCode(this.getLanguagePartFromCode(code));\n        } else if (typeof code === \"string\") addCode(this.formatLanguageCode(code));\n        fallbackCodes.forEach((fc)=>{\n            if (codes.indexOf(fc) < 0) addCode(this.formatLanguageCode(fc));\n        });\n        return codes;\n    }\n}\nlet $cb95bcae1947788f$var$sets = [\n    {\n        lngs: [\n            \"ach\",\n            \"ak\",\n            \"am\",\n            \"arn\",\n            \"br\",\n            \"fil\",\n            \"gun\",\n            \"ln\",\n            \"mfe\",\n            \"mg\",\n            \"mi\",\n            \"oc\",\n            \"pt\",\n            \"pt-BR\",\n            \"tg\",\n            \"tl\",\n            \"ti\",\n            \"tr\",\n            \"uz\",\n            \"wa\"\n        ],\n        nr: [\n            1,\n            2\n        ],\n        fc: 1\n    },\n    {\n        lngs: [\n            \"af\",\n            \"an\",\n            \"ast\",\n            \"az\",\n            \"bg\",\n            \"bn\",\n            \"ca\",\n            \"da\",\n            \"de\",\n            \"dev\",\n            \"el\",\n            \"en\",\n            \"eo\",\n            \"es\",\n            \"et\",\n            \"eu\",\n            \"fi\",\n            \"fo\",\n            \"fur\",\n            \"fy\",\n            \"gl\",\n            \"gu\",\n            \"ha\",\n            \"hi\",\n            \"hu\",\n            \"hy\",\n            \"ia\",\n            \"it\",\n            \"kk\",\n            \"kn\",\n            \"ku\",\n            \"lb\",\n            \"mai\",\n            \"ml\",\n            \"mn\",\n            \"mr\",\n            \"nah\",\n            \"nap\",\n            \"nb\",\n            \"ne\",\n            \"nl\",\n            \"nn\",\n            \"no\",\n            \"nso\",\n            \"pa\",\n            \"pap\",\n            \"pms\",\n            \"ps\",\n            \"pt-PT\",\n            \"rm\",\n            \"sco\",\n            \"se\",\n            \"si\",\n            \"so\",\n            \"son\",\n            \"sq\",\n            \"sv\",\n            \"sw\",\n            \"ta\",\n            \"te\",\n            \"tk\",\n            \"ur\",\n            \"yo\"\n        ],\n        nr: [\n            1,\n            2\n        ],\n        fc: 2\n    },\n    {\n        lngs: [\n            \"ay\",\n            \"bo\",\n            \"cgg\",\n            \"fa\",\n            \"ht\",\n            \"id\",\n            \"ja\",\n            \"jbo\",\n            \"ka\",\n            \"km\",\n            \"ko\",\n            \"ky\",\n            \"lo\",\n            \"ms\",\n            \"sah\",\n            \"su\",\n            \"th\",\n            \"tt\",\n            \"ug\",\n            \"vi\",\n            \"wo\",\n            \"zh\"\n        ],\n        nr: [\n            1\n        ],\n        fc: 3\n    },\n    {\n        lngs: [\n            \"be\",\n            \"bs\",\n            \"cnr\",\n            \"dz\",\n            \"hr\",\n            \"ru\",\n            \"sr\",\n            \"uk\"\n        ],\n        nr: [\n            1,\n            2,\n            5\n        ],\n        fc: 4\n    },\n    {\n        lngs: [\n            \"ar\"\n        ],\n        nr: [\n            0,\n            1,\n            2,\n            3,\n            11,\n            100\n        ],\n        fc: 5\n    },\n    {\n        lngs: [\n            \"cs\",\n            \"sk\"\n        ],\n        nr: [\n            1,\n            2,\n            5\n        ],\n        fc: 6\n    },\n    {\n        lngs: [\n            \"csb\",\n            \"pl\"\n        ],\n        nr: [\n            1,\n            2,\n            5\n        ],\n        fc: 7\n    },\n    {\n        lngs: [\n            \"cy\"\n        ],\n        nr: [\n            1,\n            2,\n            3,\n            8\n        ],\n        fc: 8\n    },\n    {\n        lngs: [\n            \"fr\"\n        ],\n        nr: [\n            1,\n            2\n        ],\n        fc: 9\n    },\n    {\n        lngs: [\n            \"ga\"\n        ],\n        nr: [\n            1,\n            2,\n            3,\n            7,\n            11\n        ],\n        fc: 10\n    },\n    {\n        lngs: [\n            \"gd\"\n        ],\n        nr: [\n            1,\n            2,\n            3,\n            20\n        ],\n        fc: 11\n    },\n    {\n        lngs: [\n            \"is\"\n        ],\n        nr: [\n            1,\n            2\n        ],\n        fc: 12\n    },\n    {\n        lngs: [\n            \"jv\"\n        ],\n        nr: [\n            0,\n            1\n        ],\n        fc: 13\n    },\n    {\n        lngs: [\n            \"kw\"\n        ],\n        nr: [\n            1,\n            2,\n            3,\n            4\n        ],\n        fc: 14\n    },\n    {\n        lngs: [\n            \"lt\"\n        ],\n        nr: [\n            1,\n            2,\n            10\n        ],\n        fc: 15\n    },\n    {\n        lngs: [\n            \"lv\"\n        ],\n        nr: [\n            1,\n            2,\n            0\n        ],\n        fc: 16\n    },\n    {\n        lngs: [\n            \"mk\"\n        ],\n        nr: [\n            1,\n            2\n        ],\n        fc: 17\n    },\n    {\n        lngs: [\n            \"mnk\"\n        ],\n        nr: [\n            0,\n            1,\n            2\n        ],\n        fc: 18\n    },\n    {\n        lngs: [\n            \"mt\"\n        ],\n        nr: [\n            1,\n            2,\n            11,\n            20\n        ],\n        fc: 19\n    },\n    {\n        lngs: [\n            \"or\"\n        ],\n        nr: [\n            2,\n            1\n        ],\n        fc: 2\n    },\n    {\n        lngs: [\n            \"ro\"\n        ],\n        nr: [\n            1,\n            2,\n            20\n        ],\n        fc: 20\n    },\n    {\n        lngs: [\n            \"sl\"\n        ],\n        nr: [\n            5,\n            1,\n            2,\n            3\n        ],\n        fc: 21\n    },\n    {\n        lngs: [\n            \"he\",\n            \"iw\"\n        ],\n        nr: [\n            1,\n            2,\n            20,\n            21\n        ],\n        fc: 22\n    }\n];\nlet $cb95bcae1947788f$var$_rulesPluralsTypes = {\n    1: function(n) {\n        return Number(n > 1);\n    },\n    2: function(n) {\n        return Number(n != 1);\n    },\n    3: function(n) {\n        return 0;\n    },\n    4: function(n) {\n        return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n    },\n    5: function(n) {\n        return Number(n == 0 ? 0 : n == 1 ? 1 : n == 2 ? 2 : n % 100 >= 3 && n % 100 <= 10 ? 3 : n % 100 >= 11 ? 4 : 5);\n    },\n    6: function(n) {\n        return Number(n == 1 ? 0 : n >= 2 && n <= 4 ? 1 : 2);\n    },\n    7: function(n) {\n        return Number(n == 1 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n    },\n    8: function(n) {\n        return Number(n == 1 ? 0 : n == 2 ? 1 : n != 8 && n != 11 ? 2 : 3);\n    },\n    9: function(n) {\n        return Number(n >= 2);\n    },\n    10: function(n) {\n        return Number(n == 1 ? 0 : n == 2 ? 1 : n < 7 ? 2 : n < 11 ? 3 : 4);\n    },\n    11: function(n) {\n        return Number(n == 1 || n == 11 ? 0 : n == 2 || n == 12 ? 1 : n > 2 && n < 20 ? 2 : 3);\n    },\n    12: function(n) {\n        return Number(n % 10 != 1 || n % 100 == 11);\n    },\n    13: function(n) {\n        return Number(n !== 0);\n    },\n    14: function(n) {\n        return Number(n == 1 ? 0 : n == 2 ? 1 : n == 3 ? 2 : 3);\n    },\n    15: function(n) {\n        return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n    },\n    16: function(n) {\n        return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n !== 0 ? 1 : 2);\n    },\n    17: function(n) {\n        return Number(n == 1 || n % 10 == 1 && n % 100 != 11 ? 0 : 1);\n    },\n    18: function(n) {\n        return Number(n == 0 ? 0 : n == 1 ? 1 : 2);\n    },\n    19: function(n) {\n        return Number(n == 1 ? 0 : n == 0 || n % 100 > 1 && n % 100 < 11 ? 1 : n % 100 > 10 && n % 100 < 20 ? 2 : 3);\n    },\n    20: function(n) {\n        return Number(n == 1 ? 0 : n == 0 || n % 100 > 0 && n % 100 < 20 ? 1 : 2);\n    },\n    21: function(n) {\n        return Number(n % 100 == 1 ? 1 : n % 100 == 2 ? 2 : n % 100 == 3 || n % 100 == 4 ? 3 : 0);\n    },\n    22: function(n) {\n        return Number(n == 1 ? 0 : n == 2 ? 1 : (n < 0 || n > 10) && n % 10 == 0 ? 2 : 3);\n    }\n};\nconst $cb95bcae1947788f$var$nonIntlVersions = [\n    \"v1\",\n    \"v2\",\n    \"v3\"\n];\nconst $cb95bcae1947788f$var$intlVersions = [\n    \"v4\"\n];\nconst $cb95bcae1947788f$var$suffixesOrder = {\n    zero: 0,\n    one: 1,\n    two: 2,\n    few: 3,\n    many: 4,\n    other: 5\n};\nfunction $cb95bcae1947788f$var$createRules() {\n    const rules = {};\n    $cb95bcae1947788f$var$sets.forEach((set)=>{\n        set.lngs.forEach((l)=>{\n            rules[l] = {\n                numbers: set.nr,\n                plurals: $cb95bcae1947788f$var$_rulesPluralsTypes[set.fc]\n            };\n        });\n    });\n    return rules;\n}\nclass $cb95bcae1947788f$var$PluralResolver {\n    constructor(languageUtils){\n        let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        this.languageUtils = languageUtils;\n        this.options = options;\n        this.logger = $cb95bcae1947788f$var$baseLogger.create(\"pluralResolver\");\n        if ((!this.options.compatibilityJSON || $cb95bcae1947788f$var$intlVersions.includes(this.options.compatibilityJSON)) && (typeof Intl === \"undefined\" || !Intl.PluralRules)) {\n            this.options.compatibilityJSON = \"v3\";\n            this.logger.error(\"Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.\");\n        }\n        this.rules = $cb95bcae1947788f$var$createRules();\n    }\n    addRule(lng, obj) {\n        this.rules[lng] = obj;\n    }\n    getRule(code) {\n        let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        if (this.shouldUseIntlApi()) try {\n            return new Intl.PluralRules($cb95bcae1947788f$var$getCleanedCode(code), {\n                type: options.ordinal ? \"ordinal\" : \"cardinal\"\n            });\n        } catch  {\n            return;\n        }\n        return this.rules[code] || this.rules[this.languageUtils.getLanguagePartFromCode(code)];\n    }\n    needsPlural(code) {\n        let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        const rule = this.getRule(code, options);\n        if (this.shouldUseIntlApi()) return rule && rule.resolvedOptions().pluralCategories.length > 1;\n        return rule && rule.numbers.length > 1;\n    }\n    getPluralFormsOfKey(code, key) {\n        let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n        return this.getSuffixes(code, options).map((suffix)=>`${key}${suffix}`);\n    }\n    getSuffixes(code) {\n        let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        const rule = this.getRule(code, options);\n        if (!rule) return [];\n        if (this.shouldUseIntlApi()) return rule.resolvedOptions().pluralCategories.sort((pluralCategory1, pluralCategory2)=>$cb95bcae1947788f$var$suffixesOrder[pluralCategory1] - $cb95bcae1947788f$var$suffixesOrder[pluralCategory2]).map((pluralCategory)=>`${this.options.prepend}${options.ordinal ? `ordinal${this.options.prepend}` : \"\"}${pluralCategory}`);\n        return rule.numbers.map((number)=>this.getSuffix(code, number, options));\n    }\n    getSuffix(code, count) {\n        let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n        const rule = this.getRule(code, options);\n        if (rule) {\n            if (this.shouldUseIntlApi()) return `${this.options.prepend}${options.ordinal ? `ordinal${this.options.prepend}` : \"\"}${rule.select(count)}`;\n            return this.getSuffixRetroCompatible(rule, count);\n        }\n        this.logger.warn(`no plural rule found for: ${code}`);\n        return \"\";\n    }\n    getSuffixRetroCompatible(rule, count) {\n        const idx = rule.noAbs ? rule.plurals(count) : rule.plurals(Math.abs(count));\n        let suffix = rule.numbers[idx];\n        if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {\n            if (suffix === 2) suffix = \"plural\";\n            else if (suffix === 1) suffix = \"\";\n        }\n        const returnSuffix = ()=>this.options.prepend && suffix.toString() ? this.options.prepend + suffix.toString() : suffix.toString();\n        if (this.options.compatibilityJSON === \"v1\") {\n            if (suffix === 1) return \"\";\n            if (typeof suffix === \"number\") return `_plural_${suffix.toString()}`;\n            return returnSuffix();\n        } else if (this.options.compatibilityJSON === \"v2\") return returnSuffix();\n        else if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) return returnSuffix();\n        return this.options.prepend && idx.toString() ? this.options.prepend + idx.toString() : idx.toString();\n    }\n    shouldUseIntlApi() {\n        return !$cb95bcae1947788f$var$nonIntlVersions.includes(this.options.compatibilityJSON);\n    }\n}\nfunction $cb95bcae1947788f$var$deepFindWithDefaults(data, defaultData, key) {\n    let keySeparator = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : \".\";\n    let ignoreJSONStructure = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n    let path = $cb95bcae1947788f$var$getPathWithDefaults(data, defaultData, key);\n    if (!path && ignoreJSONStructure && typeof key === \"string\") {\n        path = $cb95bcae1947788f$var$deepFind(data, key, keySeparator);\n        if (path === undefined) path = $cb95bcae1947788f$var$deepFind(defaultData, key, keySeparator);\n    }\n    return path;\n}\nclass $cb95bcae1947788f$var$Interpolator {\n    constructor(){\n        let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        this.logger = $cb95bcae1947788f$var$baseLogger.create(\"interpolator\");\n        this.options = options;\n        this.format = options.interpolation && options.interpolation.format || ((value)=>value);\n        this.init(options);\n    }\n    init() {\n        let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        if (!options.interpolation) options.interpolation = {\n            escapeValue: true\n        };\n        const iOpts = options.interpolation;\n        this.escape = iOpts.escape !== undefined ? iOpts.escape : $cb95bcae1947788f$var$escape;\n        this.escapeValue = iOpts.escapeValue !== undefined ? iOpts.escapeValue : true;\n        this.useRawValueToEscape = iOpts.useRawValueToEscape !== undefined ? iOpts.useRawValueToEscape : false;\n        this.prefix = iOpts.prefix ? $cb95bcae1947788f$var$regexEscape(iOpts.prefix) : iOpts.prefixEscaped || \"{{\";\n        this.suffix = iOpts.suffix ? $cb95bcae1947788f$var$regexEscape(iOpts.suffix) : iOpts.suffixEscaped || \"}}\";\n        this.formatSeparator = iOpts.formatSeparator ? iOpts.formatSeparator : iOpts.formatSeparator || \",\";\n        this.unescapePrefix = iOpts.unescapeSuffix ? \"\" : iOpts.unescapePrefix || \"-\";\n        this.unescapeSuffix = this.unescapePrefix ? \"\" : iOpts.unescapeSuffix || \"\";\n        this.nestingPrefix = iOpts.nestingPrefix ? $cb95bcae1947788f$var$regexEscape(iOpts.nestingPrefix) : iOpts.nestingPrefixEscaped || $cb95bcae1947788f$var$regexEscape(\"$t(\");\n        this.nestingSuffix = iOpts.nestingSuffix ? $cb95bcae1947788f$var$regexEscape(iOpts.nestingSuffix) : iOpts.nestingSuffixEscaped || $cb95bcae1947788f$var$regexEscape(\")\");\n        this.nestingOptionsSeparator = iOpts.nestingOptionsSeparator ? iOpts.nestingOptionsSeparator : iOpts.nestingOptionsSeparator || \",\";\n        this.maxReplaces = iOpts.maxReplaces ? iOpts.maxReplaces : 1000;\n        this.alwaysFormat = iOpts.alwaysFormat !== undefined ? iOpts.alwaysFormat : false;\n        this.resetRegExp();\n    }\n    reset() {\n        if (this.options) this.init(this.options);\n    }\n    resetRegExp() {\n        const regexpStr = `${this.prefix}(.+?)${this.suffix}`;\n        this.regexp = new RegExp(regexpStr, \"g\");\n        const regexpUnescapeStr = `${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`;\n        this.regexpUnescape = new RegExp(regexpUnescapeStr, \"g\");\n        const nestingRegexpStr = `${this.nestingPrefix}(.+?)${this.nestingSuffix}`;\n        this.nestingRegexp = new RegExp(nestingRegexpStr, \"g\");\n    }\n    interpolate(str, data, lng, options) {\n        let match;\n        let value;\n        let replaces;\n        const defaultData = this.options && this.options.interpolation && this.options.interpolation.defaultVariables || {};\n        function regexSafe(val) {\n            return val.replace(/\\$/g, \"$$$$\");\n        }\n        const handleFormat = (key)=>{\n            if (key.indexOf(this.formatSeparator) < 0) {\n                const path = $cb95bcae1947788f$var$deepFindWithDefaults(data, defaultData, key, this.options.keySeparator, this.options.ignoreJSONStructure);\n                return this.alwaysFormat ? this.format(path, undefined, lng, {\n                    ...options,\n                    ...data,\n                    interpolationkey: key\n                }) : path;\n            }\n            const p = key.split(this.formatSeparator);\n            const k = p.shift().trim();\n            const f = p.join(this.formatSeparator).trim();\n            return this.format($cb95bcae1947788f$var$deepFindWithDefaults(data, defaultData, k, this.options.keySeparator, this.options.ignoreJSONStructure), f, lng, {\n                ...options,\n                ...data,\n                interpolationkey: k\n            });\n        };\n        this.resetRegExp();\n        const missingInterpolationHandler = options && options.missingInterpolationHandler || this.options.missingInterpolationHandler;\n        const skipOnVariables = options && options.interpolation && options.interpolation.skipOnVariables !== undefined ? options.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables;\n        const todos = [\n            {\n                regex: this.regexpUnescape,\n                safeValue: (val)=>regexSafe(val)\n            },\n            {\n                regex: this.regexp,\n                safeValue: (val)=>this.escapeValue ? regexSafe(this.escape(val)) : regexSafe(val)\n            }\n        ];\n        todos.forEach((todo)=>{\n            replaces = 0;\n            while(match = todo.regex.exec(str)){\n                const matchedVar = match[1].trim();\n                value = handleFormat(matchedVar);\n                if (value === undefined) {\n                    if (typeof missingInterpolationHandler === \"function\") {\n                        const temp = missingInterpolationHandler(str, match, options);\n                        value = typeof temp === \"string\" ? temp : \"\";\n                    } else if (options && Object.prototype.hasOwnProperty.call(options, matchedVar)) value = \"\";\n                    else if (skipOnVariables) {\n                        value = match[0];\n                        continue;\n                    } else {\n                        this.logger.warn(`missed to pass in variable ${matchedVar} for interpolating ${str}`);\n                        value = \"\";\n                    }\n                } else if (typeof value !== \"string\" && !this.useRawValueToEscape) value = $cb95bcae1947788f$var$makeString(value);\n                const safeValue = todo.safeValue(value);\n                str = str.replace(match[0], safeValue);\n                if (skipOnVariables) {\n                    todo.regex.lastIndex += value.length;\n                    todo.regex.lastIndex -= match[0].length;\n                } else todo.regex.lastIndex = 0;\n                replaces++;\n                if (replaces >= this.maxReplaces) break;\n            }\n        });\n        return str;\n    }\n    nest(str, fc) {\n        let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n        let match;\n        let value;\n        let clonedOptions;\n        function handleHasOptions(key, inheritedOptions) {\n            const sep = this.nestingOptionsSeparator;\n            if (key.indexOf(sep) < 0) return key;\n            const c = key.split(new RegExp(`${sep}[ ]*{`));\n            let optionsString = `{${c[1]}`;\n            key = c[0];\n            optionsString = this.interpolate(optionsString, clonedOptions);\n            const matchedSingleQuotes = optionsString.match(/'/g);\n            const matchedDoubleQuotes = optionsString.match(/\"/g);\n            if (matchedSingleQuotes && matchedSingleQuotes.length % 2 === 0 && !matchedDoubleQuotes || matchedDoubleQuotes.length % 2 !== 0) optionsString = optionsString.replace(/'/g, '\"');\n            try {\n                clonedOptions = JSON.parse(optionsString);\n                if (inheritedOptions) clonedOptions = {\n                    ...inheritedOptions,\n                    ...clonedOptions\n                };\n            } catch (e) {\n                this.logger.warn(`failed parsing options string in nesting for key ${key}`, e);\n                return `${key}${sep}${optionsString}`;\n            }\n            delete clonedOptions.defaultValue;\n            return key;\n        }\n        while(match = this.nestingRegexp.exec(str)){\n            let formatters = [];\n            clonedOptions = {\n                ...options\n            };\n            clonedOptions = clonedOptions.replace && typeof clonedOptions.replace !== \"string\" ? clonedOptions.replace : clonedOptions;\n            clonedOptions.applyPostProcessor = false;\n            delete clonedOptions.defaultValue;\n            let doReduce = false;\n            if (match[0].indexOf(this.formatSeparator) !== -1 && !/{.*}/.test(match[1])) {\n                const r = match[1].split(this.formatSeparator).map((elem)=>elem.trim());\n                match[1] = r.shift();\n                formatters = r;\n                doReduce = true;\n            }\n            value = fc(handleHasOptions.call(this, match[1].trim(), clonedOptions), clonedOptions);\n            if (value && match[0] === str && typeof value !== \"string\") return value;\n            if (typeof value !== \"string\") value = $cb95bcae1947788f$var$makeString(value);\n            if (!value) {\n                this.logger.warn(`missed to resolve ${match[1]} for nesting ${str}`);\n                value = \"\";\n            }\n            if (doReduce) value = formatters.reduce((v, f)=>this.format(v, f, options.lng, {\n                    ...options,\n                    interpolationkey: match[1].trim()\n                }), value.trim());\n            str = str.replace(match[0], value);\n            this.regexp.lastIndex = 0;\n        }\n        return str;\n    }\n}\nfunction $cb95bcae1947788f$var$parseFormatStr(formatStr) {\n    let formatName = formatStr.toLowerCase().trim();\n    const formatOptions = {};\n    if (formatStr.indexOf(\"(\") > -1) {\n        const p = formatStr.split(\"(\");\n        formatName = p[0].toLowerCase().trim();\n        const optStr = p[1].substring(0, p[1].length - 1);\n        if (formatName === \"currency\" && optStr.indexOf(\":\") < 0) {\n            if (!formatOptions.currency) formatOptions.currency = optStr.trim();\n        } else if (formatName === \"relativetime\" && optStr.indexOf(\":\") < 0) {\n            if (!formatOptions.range) formatOptions.range = optStr.trim();\n        } else {\n            const opts = optStr.split(\";\");\n            opts.forEach((opt)=>{\n                if (!opt) return;\n                const [key, ...rest] = opt.split(\":\");\n                const val = rest.join(\":\").trim().replace(/^'+|'+$/g, \"\");\n                if (!formatOptions[key.trim()]) formatOptions[key.trim()] = val;\n                if (val === \"false\") formatOptions[key.trim()] = false;\n                if (val === \"true\") formatOptions[key.trim()] = true;\n                if (!isNaN(val)) formatOptions[key.trim()] = parseInt(val, 10);\n            });\n        }\n    }\n    return {\n        formatName: formatName,\n        formatOptions: formatOptions\n    };\n}\nfunction $cb95bcae1947788f$var$createCachedFormatter(fn) {\n    const cache = {};\n    return function invokeFormatter(val, lng, options) {\n        const key = lng + JSON.stringify(options);\n        let formatter = cache[key];\n        if (!formatter) {\n            formatter = fn($cb95bcae1947788f$var$getCleanedCode(lng), options);\n            cache[key] = formatter;\n        }\n        return formatter(val);\n    };\n}\nclass $cb95bcae1947788f$var$Formatter {\n    constructor(){\n        let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        this.logger = $cb95bcae1947788f$var$baseLogger.create(\"formatter\");\n        this.options = options;\n        this.formats = {\n            number: $cb95bcae1947788f$var$createCachedFormatter((lng, opt)=>{\n                const formatter = new Intl.NumberFormat(lng, {\n                    ...opt\n                });\n                return (val)=>formatter.format(val);\n            }),\n            currency: $cb95bcae1947788f$var$createCachedFormatter((lng, opt)=>{\n                const formatter = new Intl.NumberFormat(lng, {\n                    ...opt,\n                    style: \"currency\"\n                });\n                return (val)=>formatter.format(val);\n            }),\n            datetime: $cb95bcae1947788f$var$createCachedFormatter((lng, opt)=>{\n                const formatter = new Intl.DateTimeFormat(lng, {\n                    ...opt\n                });\n                return (val)=>formatter.format(val);\n            }),\n            relativetime: $cb95bcae1947788f$var$createCachedFormatter((lng, opt)=>{\n                const formatter = new Intl.RelativeTimeFormat(lng, {\n                    ...opt\n                });\n                return (val)=>formatter.format(val, opt.range || \"day\");\n            }),\n            list: $cb95bcae1947788f$var$createCachedFormatter((lng, opt)=>{\n                const formatter = new Intl.ListFormat(lng, {\n                    ...opt\n                });\n                return (val)=>formatter.format(val);\n            })\n        };\n        this.init(options);\n    }\n    init(services) {\n        let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n            interpolation: {}\n        };\n        const iOpts = options.interpolation;\n        this.formatSeparator = iOpts.formatSeparator ? iOpts.formatSeparator : iOpts.formatSeparator || \",\";\n    }\n    add(name, fc) {\n        this.formats[name.toLowerCase().trim()] = fc;\n    }\n    addCached(name, fc) {\n        this.formats[name.toLowerCase().trim()] = $cb95bcae1947788f$var$createCachedFormatter(fc);\n    }\n    format(value, format, lng) {\n        let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n        const formats = format.split(this.formatSeparator);\n        const result = formats.reduce((mem, f)=>{\n            const { formatName: formatName, formatOptions: formatOptions } = $cb95bcae1947788f$var$parseFormatStr(f);\n            if (this.formats[formatName]) {\n                let formatted = mem;\n                try {\n                    const valOptions = options && options.formatParams && options.formatParams[options.interpolationkey] || {};\n                    const l = valOptions.locale || valOptions.lng || options.locale || options.lng || lng;\n                    formatted = this.formats[formatName](mem, l, {\n                        ...formatOptions,\n                        ...options,\n                        ...valOptions\n                    });\n                } catch (error) {\n                    this.logger.warn(error);\n                }\n                return formatted;\n            } else this.logger.warn(`there was no format function for ${formatName}`);\n            return mem;\n        }, value);\n        return result;\n    }\n}\nfunction $cb95bcae1947788f$var$removePending(q, name) {\n    if (q.pending[name] !== undefined) {\n        delete q.pending[name];\n        q.pendingCount--;\n    }\n}\nclass $cb95bcae1947788f$var$Connector extends $cb95bcae1947788f$var$EventEmitter {\n    constructor(backend, store, services){\n        let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n        super();\n        this.backend = backend;\n        this.store = store;\n        this.services = services;\n        this.languageUtils = services.languageUtils;\n        this.options = options;\n        this.logger = $cb95bcae1947788f$var$baseLogger.create(\"backendConnector\");\n        this.waitingReads = [];\n        this.maxParallelReads = options.maxParallelReads || 10;\n        this.readingCalls = 0;\n        this.maxRetries = options.maxRetries >= 0 ? options.maxRetries : 5;\n        this.retryTimeout = options.retryTimeout >= 1 ? options.retryTimeout : 350;\n        this.state = {};\n        this.queue = [];\n        if (this.backend && this.backend.init) this.backend.init(services, options.backend, options);\n    }\n    queueLoad(languages, namespaces, options, callback) {\n        const toLoad = {};\n        const pending = {};\n        const toLoadLanguages = {};\n        const toLoadNamespaces = {};\n        languages.forEach((lng)=>{\n            let hasAllNamespaces = true;\n            namespaces.forEach((ns)=>{\n                const name = `${lng}|${ns}`;\n                if (!options.reload && this.store.hasResourceBundle(lng, ns)) this.state[name] = 2;\n                else if (this.state[name] < 0) ;\n                else if (this.state[name] === 1) {\n                    if (pending[name] === undefined) pending[name] = true;\n                } else {\n                    this.state[name] = 1;\n                    hasAllNamespaces = false;\n                    if (pending[name] === undefined) pending[name] = true;\n                    if (toLoad[name] === undefined) toLoad[name] = true;\n                    if (toLoadNamespaces[ns] === undefined) toLoadNamespaces[ns] = true;\n                }\n            });\n            if (!hasAllNamespaces) toLoadLanguages[lng] = true;\n        });\n        if (Object.keys(toLoad).length || Object.keys(pending).length) this.queue.push({\n            pending: pending,\n            pendingCount: Object.keys(pending).length,\n            loaded: {},\n            errors: [],\n            callback: callback\n        });\n        return {\n            toLoad: Object.keys(toLoad),\n            pending: Object.keys(pending),\n            toLoadLanguages: Object.keys(toLoadLanguages),\n            toLoadNamespaces: Object.keys(toLoadNamespaces)\n        };\n    }\n    loaded(name, err, data) {\n        const s = name.split(\"|\");\n        const lng = s[0];\n        const ns = s[1];\n        if (err) this.emit(\"failedLoading\", lng, ns, err);\n        if (data) this.store.addResourceBundle(lng, ns, data);\n        this.state[name] = err ? -1 : 2;\n        const loaded = {};\n        this.queue.forEach((q)=>{\n            $cb95bcae1947788f$var$pushPath(q.loaded, [\n                lng\n            ], ns);\n            $cb95bcae1947788f$var$removePending(q, name);\n            if (err) q.errors.push(err);\n            if (q.pendingCount === 0 && !q.done) {\n                Object.keys(q.loaded).forEach((l)=>{\n                    if (!loaded[l]) loaded[l] = {};\n                    const loadedKeys = q.loaded[l];\n                    if (loadedKeys.length) loadedKeys.forEach((n)=>{\n                        if (loaded[l][n] === undefined) loaded[l][n] = true;\n                    });\n                });\n                q.done = true;\n                if (q.errors.length) q.callback(q.errors);\n                else q.callback();\n            }\n        });\n        this.emit(\"loaded\", loaded);\n        this.queue = this.queue.filter((q)=>!q.done);\n    }\n    read(lng, ns, fcName) {\n        let tried = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n        let wait = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : this.retryTimeout;\n        let callback = arguments.length > 5 ? arguments[5] : undefined;\n        if (!lng.length) return callback(null, {});\n        if (this.readingCalls >= this.maxParallelReads) {\n            this.waitingReads.push({\n                lng: lng,\n                ns: ns,\n                fcName: fcName,\n                tried: tried,\n                wait: wait,\n                callback: callback\n            });\n            return;\n        }\n        this.readingCalls++;\n        const resolver = (err, data)=>{\n            this.readingCalls--;\n            if (this.waitingReads.length > 0) {\n                const next = this.waitingReads.shift();\n                this.read(next.lng, next.ns, next.fcName, next.tried, next.wait, next.callback);\n            }\n            if (err && data && tried < this.maxRetries) {\n                setTimeout(()=>{\n                    this.read.call(this, lng, ns, fcName, tried + 1, wait * 2, callback);\n                }, wait);\n                return;\n            }\n            callback(err, data);\n        };\n        const fc = this.backend[fcName].bind(this.backend);\n        if (fc.length === 2) {\n            try {\n                const r = fc(lng, ns);\n                if (r && typeof r.then === \"function\") r.then((data)=>resolver(null, data)).catch(resolver);\n                else resolver(null, r);\n            } catch (err) {\n                resolver(err);\n            }\n            return;\n        }\n        return fc(lng, ns, resolver);\n    }\n    prepareLoading(languages, namespaces) {\n        let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n        let callback = arguments.length > 3 ? arguments[3] : undefined;\n        if (!this.backend) {\n            this.logger.warn(\"No backend was added via i18next.use. Will not load resources.\");\n            return callback && callback();\n        }\n        if (typeof languages === \"string\") languages = this.languageUtils.toResolveHierarchy(languages);\n        if (typeof namespaces === \"string\") namespaces = [\n            namespaces\n        ];\n        const toLoad = this.queueLoad(languages, namespaces, options, callback);\n        if (!toLoad.toLoad.length) {\n            if (!toLoad.pending.length) callback();\n            return null;\n        }\n        toLoad.toLoad.forEach((name)=>{\n            this.loadOne(name);\n        });\n    }\n    load(languages, namespaces, callback) {\n        this.prepareLoading(languages, namespaces, {}, callback);\n    }\n    reload(languages, namespaces, callback) {\n        this.prepareLoading(languages, namespaces, {\n            reload: true\n        }, callback);\n    }\n    loadOne(name) {\n        let prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n        const s = name.split(\"|\");\n        const lng = s[0];\n        const ns = s[1];\n        this.read(lng, ns, \"read\", undefined, undefined, (err, data)=>{\n            if (err) this.logger.warn(`${prefix}loading namespace ${ns} for language ${lng} failed`, err);\n            if (!err && data) this.logger.log(`${prefix}loaded namespace ${ns} for language ${lng}`, data);\n            this.loaded(name, err, data);\n        });\n    }\n    saveMissing(languages, namespace, key, fallbackValue, isUpdate) {\n        let options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};\n        let clb = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : ()=>{};\n        if (this.services.utils && this.services.utils.hasLoadedNamespace && !this.services.utils.hasLoadedNamespace(namespace)) {\n            this.logger.warn(`did not save key \"${key}\" as the namespace \"${namespace}\" was not yet loaded`, \"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!\");\n            return;\n        }\n        if (key === undefined || key === null || key === \"\") return;\n        if (this.backend && this.backend.create) {\n            const opts = {\n                ...options,\n                isUpdate: isUpdate\n            };\n            const fc = this.backend.create.bind(this.backend);\n            if (fc.length < 6) try {\n                let r;\n                if (fc.length === 5) r = fc(languages, namespace, key, fallbackValue, opts);\n                else r = fc(languages, namespace, key, fallbackValue);\n                if (r && typeof r.then === \"function\") r.then((data)=>clb(null, data)).catch(clb);\n                else clb(null, r);\n            } catch (err) {\n                clb(err);\n            }\n            else fc(languages, namespace, key, fallbackValue, clb, opts);\n        }\n        if (!languages || !languages[0]) return;\n        this.store.addResource(languages[0], namespace, key, fallbackValue);\n    }\n}\nfunction $cb95bcae1947788f$var$get() {\n    return {\n        debug: false,\n        initImmediate: true,\n        ns: [\n            \"translation\"\n        ],\n        defaultNS: [\n            \"translation\"\n        ],\n        fallbackLng: [\n            \"dev\"\n        ],\n        fallbackNS: false,\n        supportedLngs: false,\n        nonExplicitSupportedLngs: false,\n        load: \"all\",\n        preload: false,\n        simplifyPluralSuffix: true,\n        keySeparator: \".\",\n        nsSeparator: \":\",\n        pluralSeparator: \"_\",\n        contextSeparator: \"_\",\n        partialBundledLanguages: false,\n        saveMissing: false,\n        updateMissing: false,\n        saveMissingTo: \"fallback\",\n        saveMissingPlurals: true,\n        missingKeyHandler: false,\n        missingInterpolationHandler: false,\n        postProcess: false,\n        postProcessPassResolved: false,\n        returnNull: false,\n        returnEmptyString: true,\n        returnObjects: false,\n        joinArrays: false,\n        returnedObjectHandler: false,\n        parseMissingKeyHandler: false,\n        appendNamespaceToMissingKey: false,\n        appendNamespaceToCIMode: false,\n        overloadTranslationOptionHandler: function handle(args) {\n            let ret = {};\n            if (typeof args[1] === \"object\") ret = args[1];\n            if (typeof args[1] === \"string\") ret.defaultValue = args[1];\n            if (typeof args[2] === \"string\") ret.tDescription = args[2];\n            if (typeof args[2] === \"object\" || typeof args[3] === \"object\") {\n                const options = args[3] || args[2];\n                Object.keys(options).forEach((key)=>{\n                    ret[key] = options[key];\n                });\n            }\n            return ret;\n        },\n        interpolation: {\n            escapeValue: true,\n            format: (value, format, lng, options)=>value,\n            prefix: \"{{\",\n            suffix: \"}}\",\n            formatSeparator: \",\",\n            unescapePrefix: \"-\",\n            nestingPrefix: \"$t(\",\n            nestingSuffix: \")\",\n            nestingOptionsSeparator: \",\",\n            maxReplaces: 1000,\n            skipOnVariables: true\n        }\n    };\n}\nfunction $cb95bcae1947788f$var$transformOptions(options) {\n    if (typeof options.ns === \"string\") options.ns = [\n        options.ns\n    ];\n    if (typeof options.fallbackLng === \"string\") options.fallbackLng = [\n        options.fallbackLng\n    ];\n    if (typeof options.fallbackNS === \"string\") options.fallbackNS = [\n        options.fallbackNS\n    ];\n    if (options.supportedLngs && options.supportedLngs.indexOf(\"cimode\") < 0) options.supportedLngs = options.supportedLngs.concat([\n        \"cimode\"\n    ]);\n    return options;\n}\nfunction $cb95bcae1947788f$var$noop() {}\nfunction $cb95bcae1947788f$var$bindMemberFunctions(inst) {\n    const mems = Object.getOwnPropertyNames(Object.getPrototypeOf(inst));\n    mems.forEach((mem)=>{\n        if (typeof inst[mem] === \"function\") inst[mem] = inst[mem].bind(inst);\n    });\n}\nclass $cb95bcae1947788f$var$I18n extends $cb95bcae1947788f$var$EventEmitter {\n    constructor(){\n        let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        let callback = arguments.length > 1 ? arguments[1] : undefined;\n        super();\n        this.options = $cb95bcae1947788f$var$transformOptions(options);\n        this.services = {};\n        this.logger = $cb95bcae1947788f$var$baseLogger;\n        this.modules = {\n            external: []\n        };\n        $cb95bcae1947788f$var$bindMemberFunctions(this);\n        if (callback && !this.isInitialized && !options.isClone) {\n            if (!this.options.initImmediate) {\n                this.init(options, callback);\n                return this;\n            }\n            setTimeout(()=>{\n                this.init(options, callback);\n            }, 0);\n        }\n    }\n    init() {\n        var _this = this;\n        let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        let callback = arguments.length > 1 ? arguments[1] : undefined;\n        if (typeof options === \"function\") {\n            callback = options;\n            options = {};\n        }\n        if (!options.defaultNS && options.defaultNS !== false && options.ns) {\n            if (typeof options.ns === \"string\") options.defaultNS = options.ns;\n            else if (options.ns.indexOf(\"translation\") < 0) options.defaultNS = options.ns[0];\n        }\n        const defOpts = $cb95bcae1947788f$var$get();\n        this.options = {\n            ...defOpts,\n            ...this.options,\n            ...$cb95bcae1947788f$var$transformOptions(options)\n        };\n        if (this.options.compatibilityAPI !== \"v1\") this.options.interpolation = {\n            ...defOpts.interpolation,\n            ...this.options.interpolation\n        };\n        if (options.keySeparator !== undefined) this.options.userDefinedKeySeparator = options.keySeparator;\n        if (options.nsSeparator !== undefined) this.options.userDefinedNsSeparator = options.nsSeparator;\n        function createClassOnDemand(ClassOrObject) {\n            if (!ClassOrObject) return null;\n            if (typeof ClassOrObject === \"function\") return new ClassOrObject();\n            return ClassOrObject;\n        }\n        if (!this.options.isClone) {\n            if (this.modules.logger) $cb95bcae1947788f$var$baseLogger.init(createClassOnDemand(this.modules.logger), this.options);\n            else $cb95bcae1947788f$var$baseLogger.init(null, this.options);\n            let formatter;\n            if (this.modules.formatter) formatter = this.modules.formatter;\n            else if (typeof Intl !== \"undefined\") formatter = $cb95bcae1947788f$var$Formatter;\n            const lu = new $cb95bcae1947788f$var$LanguageUtil(this.options);\n            this.store = new $cb95bcae1947788f$var$ResourceStore(this.options.resources, this.options);\n            const s = this.services;\n            s.logger = $cb95bcae1947788f$var$baseLogger;\n            s.resourceStore = this.store;\n            s.languageUtils = lu;\n            s.pluralResolver = new $cb95bcae1947788f$var$PluralResolver(lu, {\n                prepend: this.options.pluralSeparator,\n                compatibilityJSON: this.options.compatibilityJSON,\n                simplifyPluralSuffix: this.options.simplifyPluralSuffix\n            });\n            if (formatter && (!this.options.interpolation.format || this.options.interpolation.format === defOpts.interpolation.format)) {\n                s.formatter = createClassOnDemand(formatter);\n                s.formatter.init(s, this.options);\n                this.options.interpolation.format = s.formatter.format.bind(s.formatter);\n            }\n            s.interpolator = new $cb95bcae1947788f$var$Interpolator(this.options);\n            s.utils = {\n                hasLoadedNamespace: this.hasLoadedNamespace.bind(this)\n            };\n            s.backendConnector = new $cb95bcae1947788f$var$Connector(createClassOnDemand(this.modules.backend), s.resourceStore, s, this.options);\n            s.backendConnector.on(\"*\", function(event) {\n                for(var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++)args[_key - 1] = arguments[_key];\n                _this.emit(event, ...args);\n            });\n            if (this.modules.languageDetector) {\n                s.languageDetector = createClassOnDemand(this.modules.languageDetector);\n                if (s.languageDetector.init) s.languageDetector.init(s, this.options.detection, this.options);\n            }\n            if (this.modules.i18nFormat) {\n                s.i18nFormat = createClassOnDemand(this.modules.i18nFormat);\n                if (s.i18nFormat.init) s.i18nFormat.init(this);\n            }\n            this.translator = new $cb95bcae1947788f$var$Translator(this.services, this.options);\n            this.translator.on(\"*\", function(event) {\n                for(var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++)args[_key2 - 1] = arguments[_key2];\n                _this.emit(event, ...args);\n            });\n            this.modules.external.forEach((m)=>{\n                if (m.init) m.init(this);\n            });\n        }\n        this.format = this.options.interpolation.format;\n        if (!callback) callback = $cb95bcae1947788f$var$noop;\n        if (this.options.fallbackLng && !this.services.languageDetector && !this.options.lng) {\n            const codes = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n            if (codes.length > 0 && codes[0] !== \"dev\") this.options.lng = codes[0];\n        }\n        if (!this.services.languageDetector && !this.options.lng) this.logger.warn(\"init: no languageDetector is used and no lng is defined\");\n        const storeApi = [\n            \"getResource\",\n            \"hasResourceBundle\",\n            \"getResourceBundle\",\n            \"getDataByLanguage\"\n        ];\n        storeApi.forEach((fcName)=>{\n            this[fcName] = function() {\n                return _this.store[fcName](...arguments);\n            };\n        });\n        const storeApiChained = [\n            \"addResource\",\n            \"addResources\",\n            \"addResourceBundle\",\n            \"removeResourceBundle\"\n        ];\n        storeApiChained.forEach((fcName)=>{\n            this[fcName] = function() {\n                _this.store[fcName](...arguments);\n                return _this;\n            };\n        });\n        const deferred = $cb95bcae1947788f$var$defer();\n        const load = ()=>{\n            const finish = (err, t)=>{\n                if (this.isInitialized && !this.initializedStoreOnce) this.logger.warn(\"init: i18next is already initialized. You should call init just once!\");\n                this.isInitialized = true;\n                if (!this.options.isClone) this.logger.log(\"initialized\", this.options);\n                this.emit(\"initialized\", this.options);\n                deferred.resolve(t);\n                callback(err, t);\n            };\n            if (this.languages && this.options.compatibilityAPI !== \"v1\" && !this.isInitialized) return finish(null, this.t.bind(this));\n            this.changeLanguage(this.options.lng, finish);\n        };\n        if (this.options.resources || !this.options.initImmediate) load();\n        else setTimeout(load, 0);\n        return deferred;\n    }\n    loadResources(language) {\n        let callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : $cb95bcae1947788f$var$noop;\n        let usedCallback = callback;\n        const usedLng = typeof language === \"string\" ? language : this.language;\n        if (typeof language === \"function\") usedCallback = language;\n        if (!this.options.resources || this.options.partialBundledLanguages) {\n            if (usedLng && usedLng.toLowerCase() === \"cimode\") return usedCallback();\n            const toLoad = [];\n            const append = (lng)=>{\n                if (!lng) return;\n                const lngs = this.services.languageUtils.toResolveHierarchy(lng);\n                lngs.forEach((l)=>{\n                    if (toLoad.indexOf(l) < 0) toLoad.push(l);\n                });\n            };\n            if (!usedLng) {\n                const fallbacks = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n                fallbacks.forEach((l)=>append(l));\n            } else append(usedLng);\n            if (this.options.preload) this.options.preload.forEach((l)=>append(l));\n            this.services.backendConnector.load(toLoad, this.options.ns, (e)=>{\n                if (!e && !this.resolvedLanguage && this.language) this.setResolvedLanguage(this.language);\n                usedCallback(e);\n            });\n        } else usedCallback(null);\n    }\n    reloadResources(lngs, ns, callback) {\n        const deferred = $cb95bcae1947788f$var$defer();\n        if (!lngs) lngs = this.languages;\n        if (!ns) ns = this.options.ns;\n        if (!callback) callback = $cb95bcae1947788f$var$noop;\n        this.services.backendConnector.reload(lngs, ns, (err)=>{\n            deferred.resolve();\n            callback(err);\n        });\n        return deferred;\n    }\n    use(module) {\n        if (!module) throw new Error(\"You are passing an undefined module! Please check the object you are passing to i18next.use()\");\n        if (!module.type) throw new Error(\"You are passing a wrong module! Please check the object you are passing to i18next.use()\");\n        if (module.type === \"backend\") this.modules.backend = module;\n        if (module.type === \"logger\" || module.log && module.warn && module.error) this.modules.logger = module;\n        if (module.type === \"languageDetector\") this.modules.languageDetector = module;\n        if (module.type === \"i18nFormat\") this.modules.i18nFormat = module;\n        if (module.type === \"postProcessor\") $cb95bcae1947788f$var$postProcessor.addPostProcessor(module);\n        if (module.type === \"formatter\") this.modules.formatter = module;\n        if (module.type === \"3rdParty\") this.modules.external.push(module);\n        return this;\n    }\n    setResolvedLanguage(l) {\n        if (!l || !this.languages) return;\n        if ([\n            \"cimode\",\n            \"dev\"\n        ].indexOf(l) > -1) return;\n        for(let li = 0; li < this.languages.length; li++){\n            const lngInLngs = this.languages[li];\n            if ([\n                \"cimode\",\n                \"dev\"\n            ].indexOf(lngInLngs) > -1) continue;\n            if (this.store.hasLanguageSomeTranslations(lngInLngs)) {\n                this.resolvedLanguage = lngInLngs;\n                break;\n            }\n        }\n    }\n    changeLanguage(lng, callback) {\n        var _this2 = this;\n        this.isLanguageChangingTo = lng;\n        const deferred = $cb95bcae1947788f$var$defer();\n        this.emit(\"languageChanging\", lng);\n        const setLngProps = (l)=>{\n            this.language = l;\n            this.languages = this.services.languageUtils.toResolveHierarchy(l);\n            this.resolvedLanguage = undefined;\n            this.setResolvedLanguage(l);\n        };\n        const done = (err, l)=>{\n            if (l) {\n                setLngProps(l);\n                this.translator.changeLanguage(l);\n                this.isLanguageChangingTo = undefined;\n                this.emit(\"languageChanged\", l);\n                this.logger.log(\"languageChanged\", l);\n            } else this.isLanguageChangingTo = undefined;\n            deferred.resolve(function() {\n                return _this2.t(...arguments);\n            });\n            if (callback) callback(err, function() {\n                return _this2.t(...arguments);\n            });\n        };\n        const setLng = (lngs)=>{\n            if (!lng && !lngs && this.services.languageDetector) lngs = [];\n            const l = typeof lngs === \"string\" ? lngs : this.services.languageUtils.getBestMatchFromCodes(lngs);\n            if (l) {\n                if (!this.language) setLngProps(l);\n                if (!this.translator.language) this.translator.changeLanguage(l);\n                if (this.services.languageDetector && this.services.languageDetector.cacheUserLanguage) this.services.languageDetector.cacheUserLanguage(l);\n            }\n            this.loadResources(l, (err)=>{\n                done(err, l);\n            });\n        };\n        if (!lng && this.services.languageDetector && !this.services.languageDetector.async) setLng(this.services.languageDetector.detect());\n        else if (!lng && this.services.languageDetector && this.services.languageDetector.async) {\n            if (this.services.languageDetector.detect.length === 0) this.services.languageDetector.detect().then(setLng);\n            else this.services.languageDetector.detect(setLng);\n        } else setLng(lng);\n        return deferred;\n    }\n    getFixedT(lng, ns, keyPrefix) {\n        var _this3 = this;\n        const fixedT = function(key, opts) {\n            let options;\n            if (typeof opts !== \"object\") {\n                for(var _len3 = arguments.length, rest = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++)rest[_key3 - 2] = arguments[_key3];\n                options = _this3.options.overloadTranslationOptionHandler([\n                    key,\n                    opts\n                ].concat(rest));\n            } else options = {\n                ...opts\n            };\n            options.lng = options.lng || fixedT.lng;\n            options.lngs = options.lngs || fixedT.lngs;\n            options.ns = options.ns || fixedT.ns;\n            options.keyPrefix = options.keyPrefix || keyPrefix || fixedT.keyPrefix;\n            const keySeparator = _this3.options.keySeparator || \".\";\n            let resultKey;\n            if (options.keyPrefix && Array.isArray(key)) resultKey = key.map((k)=>`${options.keyPrefix}${keySeparator}${k}`);\n            else resultKey = options.keyPrefix ? `${options.keyPrefix}${keySeparator}${key}` : key;\n            return _this3.t(resultKey, options);\n        };\n        if (typeof lng === \"string\") fixedT.lng = lng;\n        else fixedT.lngs = lng;\n        fixedT.ns = ns;\n        fixedT.keyPrefix = keyPrefix;\n        return fixedT;\n    }\n    t() {\n        return this.translator && this.translator.translate(...arguments);\n    }\n    exists() {\n        return this.translator && this.translator.exists(...arguments);\n    }\n    setDefaultNamespace(ns) {\n        this.options.defaultNS = ns;\n    }\n    hasLoadedNamespace(ns) {\n        let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        if (!this.isInitialized) {\n            this.logger.warn(\"hasLoadedNamespace: i18next was not initialized\", this.languages);\n            return false;\n        }\n        if (!this.languages || !this.languages.length) {\n            this.logger.warn(\"hasLoadedNamespace: i18n.languages were undefined or empty\", this.languages);\n            return false;\n        }\n        const lng = options.lng || this.resolvedLanguage || this.languages[0];\n        const fallbackLng = this.options ? this.options.fallbackLng : false;\n        const lastLng = this.languages[this.languages.length - 1];\n        if (lng.toLowerCase() === \"cimode\") return true;\n        const loadNotPending = (l, n)=>{\n            const loadState = this.services.backendConnector.state[`${l}|${n}`];\n            return loadState === -1 || loadState === 2;\n        };\n        if (options.precheck) {\n            const preResult = options.precheck(this, loadNotPending);\n            if (preResult !== undefined) return preResult;\n        }\n        if (this.hasResourceBundle(lng, ns)) return true;\n        if (!this.services.backendConnector.backend || this.options.resources && !this.options.partialBundledLanguages) return true;\n        if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns))) return true;\n        return false;\n    }\n    loadNamespaces(ns, callback) {\n        const deferred = $cb95bcae1947788f$var$defer();\n        if (!this.options.ns) {\n            if (callback) callback();\n            return Promise.resolve();\n        }\n        if (typeof ns === \"string\") ns = [\n            ns\n        ];\n        ns.forEach((n)=>{\n            if (this.options.ns.indexOf(n) < 0) this.options.ns.push(n);\n        });\n        this.loadResources((err)=>{\n            deferred.resolve();\n            if (callback) callback(err);\n        });\n        return deferred;\n    }\n    loadLanguages(lngs, callback) {\n        const deferred = $cb95bcae1947788f$var$defer();\n        if (typeof lngs === \"string\") lngs = [\n            lngs\n        ];\n        const preloaded = this.options.preload || [];\n        const newLngs = lngs.filter((lng)=>preloaded.indexOf(lng) < 0);\n        if (!newLngs.length) {\n            if (callback) callback();\n            return Promise.resolve();\n        }\n        this.options.preload = preloaded.concat(newLngs);\n        this.loadResources((err)=>{\n            deferred.resolve();\n            if (callback) callback(err);\n        });\n        return deferred;\n    }\n    dir(lng) {\n        if (!lng) lng = this.resolvedLanguage || (this.languages && this.languages.length > 0 ? this.languages[0] : this.language);\n        if (!lng) return \"rtl\";\n        const rtlLngs = [\n            \"ar\",\n            \"shu\",\n            \"sqr\",\n            \"ssh\",\n            \"xaa\",\n            \"yhd\",\n            \"yud\",\n            \"aao\",\n            \"abh\",\n            \"abv\",\n            \"acm\",\n            \"acq\",\n            \"acw\",\n            \"acx\",\n            \"acy\",\n            \"adf\",\n            \"ads\",\n            \"aeb\",\n            \"aec\",\n            \"afb\",\n            \"ajp\",\n            \"apc\",\n            \"apd\",\n            \"arb\",\n            \"arq\",\n            \"ars\",\n            \"ary\",\n            \"arz\",\n            \"auz\",\n            \"avl\",\n            \"ayh\",\n            \"ayl\",\n            \"ayn\",\n            \"ayp\",\n            \"bbz\",\n            \"pga\",\n            \"he\",\n            \"iw\",\n            \"ps\",\n            \"pbt\",\n            \"pbu\",\n            \"pst\",\n            \"prp\",\n            \"prd\",\n            \"ug\",\n            \"ur\",\n            \"ydd\",\n            \"yds\",\n            \"yih\",\n            \"ji\",\n            \"yi\",\n            \"hbo\",\n            \"men\",\n            \"xmn\",\n            \"fa\",\n            \"jpr\",\n            \"peo\",\n            \"pes\",\n            \"prs\",\n            \"dv\",\n            \"sam\",\n            \"ckb\"\n        ];\n        const languageUtils = this.services && this.services.languageUtils || new $cb95bcae1947788f$var$LanguageUtil($cb95bcae1947788f$var$get());\n        return rtlLngs.indexOf(languageUtils.getLanguagePartFromCode(lng)) > -1 || lng.toLowerCase().indexOf(\"-arab\") > 1 ? \"rtl\" : \"ltr\";\n    }\n    static createInstance() {\n        let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        let callback = arguments.length > 1 ? arguments[1] : undefined;\n        return new $cb95bcae1947788f$var$I18n(options, callback);\n    }\n    cloneInstance() {\n        let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        let callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : $cb95bcae1947788f$var$noop;\n        const forkResourceStore = options.forkResourceStore;\n        if (forkResourceStore) delete options.forkResourceStore;\n        const mergedOptions = {\n            ...this.options,\n            ...options,\n            isClone: true\n        };\n        const clone = new $cb95bcae1947788f$var$I18n(mergedOptions);\n        if (options.debug !== undefined || options.prefix !== undefined) clone.logger = clone.logger.clone(options);\n        const membersToCopy = [\n            \"store\",\n            \"services\",\n            \"language\"\n        ];\n        membersToCopy.forEach((m)=>{\n            clone[m] = this[m];\n        });\n        clone.services = {\n            ...this.services\n        };\n        clone.services.utils = {\n            hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)\n        };\n        if (forkResourceStore) {\n            clone.store = new $cb95bcae1947788f$var$ResourceStore(this.store.data, mergedOptions);\n            clone.services.resourceStore = clone.store;\n        }\n        clone.translator = new $cb95bcae1947788f$var$Translator(clone.services, mergedOptions);\n        clone.translator.on(\"*\", function(event) {\n            for(var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++)args[_key4 - 1] = arguments[_key4];\n            clone.emit(event, ...args);\n        });\n        clone.init(mergedOptions, callback);\n        clone.translator.options = mergedOptions;\n        clone.translator.backendConnector.services.utils = {\n            hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)\n        };\n        return clone;\n    }\n    toJSON() {\n        return {\n            options: this.options,\n            store: this.store,\n            language: this.language,\n            languages: this.languages,\n            resolvedLanguage: this.resolvedLanguage\n        };\n    }\n}\nconst $cb95bcae1947788f$export$2e2bcd8739ae039 = $cb95bcae1947788f$var$I18n.createInstance();\n$cb95bcae1947788f$export$2e2bcd8739ae039.createInstance = $cb95bcae1947788f$var$I18n.createInstance;\nconst $cb95bcae1947788f$export$99152e8d49ca4e7d = $cb95bcae1947788f$export$2e2bcd8739ae039.createInstance;\nconst $cb95bcae1947788f$export$147ec2801e896265 = $cb95bcae1947788f$export$2e2bcd8739ae039.dir;\nconst $cb95bcae1947788f$export$2cd8252107eb640b = $cb95bcae1947788f$export$2e2bcd8739ae039.init;\nconst $cb95bcae1947788f$export$d3d08d944062d7e = $cb95bcae1947788f$export$2e2bcd8739ae039.loadResources;\nconst $cb95bcae1947788f$export$a5d9bf5d83fcab09 = $cb95bcae1947788f$export$2e2bcd8739ae039.reloadResources;\nconst $cb95bcae1947788f$export$1f96ae73734a86cc = $cb95bcae1947788f$export$2e2bcd8739ae039.use;\nconst $cb95bcae1947788f$export$61465194746e7fd2 = $cb95bcae1947788f$export$2e2bcd8739ae039.changeLanguage;\nconst $cb95bcae1947788f$export$f90d180fc7da3b3b = $cb95bcae1947788f$export$2e2bcd8739ae039.getFixedT;\nconst $cb95bcae1947788f$export$625550452a3fa3ec = $cb95bcae1947788f$export$2e2bcd8739ae039.t;\nconst $cb95bcae1947788f$export$f7e9f41ea797a17 = $cb95bcae1947788f$export$2e2bcd8739ae039.exists;\nconst $cb95bcae1947788f$export$2b4b218e406d2d00 = $cb95bcae1947788f$export$2e2bcd8739ae039.setDefaultNamespace;\nconst $cb95bcae1947788f$export$93d9ee97c1ad3f31 = $cb95bcae1947788f$export$2e2bcd8739ae039.hasLoadedNamespace;\nconst $cb95bcae1947788f$export$83be934b53fff43b = $cb95bcae1947788f$export$2e2bcd8739ae039.loadNamespaces;\nconst $cb95bcae1947788f$export$8cd7e7a54fa865bc = $cb95bcae1947788f$export$2e2bcd8739ae039.loadLanguages;\n\n\nconst $c6f88c2c6ea3c4b1$var$me = {\n    get () {\n        return (0, $b7ae12cde431bd4b$export$2e2bcd8739ae039).get()?.me;\n    },\n    get data () {\n        return (0, $b7ae12cde431bd4b$export$2e2bcd8739ae039).get()?.me?.data;\n    },\n    get lang () {\n        return (0, $b7ae12cde431bd4b$export$2e2bcd8739ae039).get()?.me?.data?.lang;\n    },\n    get groups () {\n        return (0, $b7ae12cde431bd4b$export$2e2bcd8739ae039).get()?.me?.groups;\n    },\n    get id () {\n        return (0, $b7ae12cde431bd4b$export$2e2bcd8739ae039).get()?.me?.id;\n    },\n    get avatar () {\n        return (0, $b7ae12cde431bd4b$export$2e2bcd8739ae039).get()?.me?.avatar;\n    },\n    getGroupName (id) {\n        let group = (0, $b7ae12cde431bd4b$export$2e2bcd8739ae039).get()[\"groups\"]?.find((g)=>g[\"id\"] == id);\n        return group ? group[\"name\"] : \"\";\n    },\n    update () {\n        return (0, $dcc08ede0b85ca51$export$2e2bcd8739ae039).get(\"/api/me\", true).then((r)=>{\n            if (!r || !r?.id) {\n                (0, $b7ae12cde431bd4b$export$2e2bcd8739ae039).dispatch(\"update\", {});\n                return;\n            }\n            Promise.all(r.groups.map((g)=>(0, $dcc08ede0b85ca51$export$2e2bcd8739ae039).get(`/api/groups/${g.id}`).then((group)=>group))).then((groups)=>{\n                r.groups = groups;\n                (0, $b7ae12cde431bd4b$export$2e2bcd8739ae039).dispatch(\"me/update\", Object.assign({\n                    loaded: true\n                }, r));\n            });\n            (0, $cb95bcae1947788f$export$2e2bcd8739ae039).changeLanguage(r?.data?.lang);\n            return r;\n        });\n    },\n    fetch () {\n        if ((0, $b7ae12cde431bd4b$export$2e2bcd8739ae039).get()[\"loaded\"]) return new Promise((r)=>r((0, $b7ae12cde431bd4b$export$2e2bcd8739ae039).get()));\n        return $c6f88c2c6ea3c4b1$var$me.update();\n    },\n    reset () {\n        (0, $b7ae12cde431bd4b$export$2e2bcd8739ae039).dispatch(\"@init\");\n    },\n    logout () {\n        (0, $a43f12068c4c782d$export$2e2bcd8739ae039).reset();\n    }\n};\nvar $c6f88c2c6ea3c4b1$export$2e2bcd8739ae039 = $c6f88c2c6ea3c4b1$var$me;\n\n\n\nvar $d51ff6fbc6548743$exports = {};\n\n$parcel$defineInteropFlag($d51ff6fbc6548743$exports);\n\n$parcel$export($d51ff6fbc6548743$exports, \"PureComponent\", () => $d51ff6fbc6548743$export$221d75b3f55bb0bd);\n$parcel$export($d51ff6fbc6548743$exports, \"memo\", () => $d51ff6fbc6548743$export$7c73462e0d25e514);\n$parcel$export($d51ff6fbc6548743$exports, \"forwardRef\", () => $d51ff6fbc6548743$export$257a8862b851cb5b);\n$parcel$export($d51ff6fbc6548743$exports, \"Children\", () => $d51ff6fbc6548743$export$dca3b0875bd9a954);\n$parcel$export($d51ff6fbc6548743$exports, \"Suspense\", () => $d51ff6fbc6548743$export$74bf444e3cd11ea5);\n$parcel$export($d51ff6fbc6548743$exports, \"lazy\", () => $d51ff6fbc6548743$export$488013bae63b21da);\n$parcel$export($d51ff6fbc6548743$exports, \"SuspenseList\", () => $d51ff6fbc6548743$export$998bcd577473dd93);\n$parcel$export($d51ff6fbc6548743$exports, \"createPortal\", () => $d51ff6fbc6548743$export$d39a5bbd09211389);\n$parcel$export($d51ff6fbc6548743$exports, \"render\", () => $d51ff6fbc6548743$export$b3890eb0ae9dca99);\n$parcel$export($d51ff6fbc6548743$exports, \"hydrate\", () => $d51ff6fbc6548743$export$fa8d919ba61d84db);\n$parcel$export($d51ff6fbc6548743$exports, \"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED\", () => $d51ff6fbc6548743$export$ae55be85d98224ed);\n$parcel$export($d51ff6fbc6548743$exports, \"version\", () => $d51ff6fbc6548743$export$83d89fbfd8236492);\n$parcel$export($d51ff6fbc6548743$exports, \"createFactory\", () => $d51ff6fbc6548743$export$d38cd72104c1f0e9);\n$parcel$export($d51ff6fbc6548743$exports, \"isValidElement\", () => $d51ff6fbc6548743$export$a8257692ac88316c);\n$parcel$export($d51ff6fbc6548743$exports, \"isFragment\", () => $d51ff6fbc6548743$export$9522e17588c12572);\n$parcel$export($d51ff6fbc6548743$exports, \"cloneElement\", () => $d51ff6fbc6548743$export$e530037191fcd5d7);\n$parcel$export($d51ff6fbc6548743$exports, \"unmountComponentAtNode\", () => $d51ff6fbc6548743$export$502457920280e6be);\n$parcel$export($d51ff6fbc6548743$exports, \"findDOMNode\", () => $d51ff6fbc6548743$export$466bfc07425424d5);\n$parcel$export($d51ff6fbc6548743$exports, \"unstable_batchedUpdates\", () => $d51ff6fbc6548743$export$c78a37762a8d58e1);\n$parcel$export($d51ff6fbc6548743$exports, \"flushSync\", () => $d51ff6fbc6548743$export$cd75ccfd720a3cd4);\n$parcel$export($d51ff6fbc6548743$exports, \"StrictMode\", () => $d51ff6fbc6548743$export$5f8d39834fd61797);\n$parcel$export($d51ff6fbc6548743$exports, \"startTransition\", () => $d51ff6fbc6548743$export$7568632d0d33d16d);\n$parcel$export($d51ff6fbc6548743$exports, \"useDeferredValue\", () => $d51ff6fbc6548743$export$6a7bc4e911dc01cf);\n$parcel$export($d51ff6fbc6548743$exports, \"useTransition\", () => $d51ff6fbc6548743$export$7b286972b8d8ccbf);\n$parcel$export($d51ff6fbc6548743$exports, \"useInsertionEffect\", () => $d51ff6fbc6548743$export$aaabe4eda9ed9969);\n$parcel$export($d51ff6fbc6548743$exports, \"isElement\", () => $d51ff6fbc6548743$export$45a5e7f76e0caa8d);\n$parcel$export($d51ff6fbc6548743$exports, \"useSyncExternalStore\", () => $d51ff6fbc6548743$export$306c0aa65ff9ec16);\n$parcel$export($d51ff6fbc6548743$exports, \"default\", () => $d51ff6fbc6548743$export$2e2bcd8739ae039);\n$parcel$export($d51ff6fbc6548743$exports, \"Component\", () => $73048c6b859c8a02$export$16fa2f45be04daa8);\n$parcel$export($d51ff6fbc6548743$exports, \"Fragment\", () => $73048c6b859c8a02$export$ffb0004e005737fa);\n$parcel$export($d51ff6fbc6548743$exports, \"createContext\", () => $73048c6b859c8a02$export$fd42f52fd3ae1109);\n$parcel$export($d51ff6fbc6548743$exports, \"createElement\", () => $73048c6b859c8a02$export$c8a8987d4410bf2d);\n$parcel$export($d51ff6fbc6548743$exports, \"createRef\", () => $73048c6b859c8a02$export$7d1e3a5e95ceca43);\n\nvar $88a9540d1aad6464$exports = {};\n\n$parcel$export($88a9540d1aad6464$exports, \"useState\", () => $88a9540d1aad6464$export$60241385465d0a34);\n$parcel$export($88a9540d1aad6464$exports, \"useReducer\", () => $88a9540d1aad6464$export$13e3392192263954);\n$parcel$export($88a9540d1aad6464$exports, \"useEffect\", () => $88a9540d1aad6464$export$6d9c69b0de29b591);\n$parcel$export($88a9540d1aad6464$exports, \"useLayoutEffect\", () => $88a9540d1aad6464$export$e5c5a5f917a5871c);\n$parcel$export($88a9540d1aad6464$exports, \"useRef\", () => $88a9540d1aad6464$export$b8f5890fc79d6aca);\n$parcel$export($88a9540d1aad6464$exports, \"useMemo\", () => $88a9540d1aad6464$export$1538c33de8887b59);\n$parcel$export($88a9540d1aad6464$exports, \"useImperativeHandle\", () => $88a9540d1aad6464$export$d5a552a76deda3c2);\n$parcel$export($88a9540d1aad6464$exports, \"useCallback\", () => $88a9540d1aad6464$export$35808ee640e87ca7);\n$parcel$export($88a9540d1aad6464$exports, \"useContext\", () => $88a9540d1aad6464$export$fae74005e78b1a27);\n$parcel$export($88a9540d1aad6464$exports, \"useDebugValue\", () => $88a9540d1aad6464$export$dc8fbce3eb94dc1e);\n$parcel$export($88a9540d1aad6464$exports, \"useErrorBoundary\", () => $88a9540d1aad6464$export$c052f6604b7d51fe);\n$parcel$export($88a9540d1aad6464$exports, \"useId\", () => $88a9540d1aad6464$export$f680877a34711e37);\n\nvar $88a9540d1aad6464$var$t, $88a9540d1aad6464$var$r, $88a9540d1aad6464$var$u, $88a9540d1aad6464$var$i, $88a9540d1aad6464$var$o = 0, $88a9540d1aad6464$var$f = [], $88a9540d1aad6464$var$c = [], $88a9540d1aad6464$var$e = (0, $73048c6b859c8a02$export$41c562ebe57d11e2).__b, $88a9540d1aad6464$var$a = (0, $73048c6b859c8a02$export$41c562ebe57d11e2).__r, $88a9540d1aad6464$var$v = (0, $73048c6b859c8a02$export$41c562ebe57d11e2).diffed, $88a9540d1aad6464$var$l = (0, $73048c6b859c8a02$export$41c562ebe57d11e2).__c, $88a9540d1aad6464$var$m = (0, $73048c6b859c8a02$export$41c562ebe57d11e2).unmount;\nfunction $88a9540d1aad6464$var$d(t, u) {\n    (0, $73048c6b859c8a02$export$41c562ebe57d11e2).__h && (0, $73048c6b859c8a02$export$41c562ebe57d11e2).__h($88a9540d1aad6464$var$r, t, $88a9540d1aad6464$var$o || u), $88a9540d1aad6464$var$o = 0;\n    var i = $88a9540d1aad6464$var$r.__H || ($88a9540d1aad6464$var$r.__H = {\n        __: [],\n        __h: []\n    });\n    return t >= i.__.length && i.__.push({\n        __V: $88a9540d1aad6464$var$c\n    }), i.__[t];\n}\nfunction $88a9540d1aad6464$export$60241385465d0a34(n) {\n    return $88a9540d1aad6464$var$o = 1, $88a9540d1aad6464$export$13e3392192263954($88a9540d1aad6464$var$B, n);\n}\nfunction $88a9540d1aad6464$export$13e3392192263954(n, u, i) {\n    var o = $88a9540d1aad6464$var$d($88a9540d1aad6464$var$t++, 2);\n    if (o.t = n, !o.__c && (o.__ = [\n        i ? i(u) : $88a9540d1aad6464$var$B(void 0, u),\n        function(n) {\n            var t = o.__N ? o.__N[0] : o.__[0], r = o.t(t, n);\n            t !== r && (o.__N = [\n                r,\n                o.__[1]\n            ], o.__c.setState({}));\n        }\n    ], o.__c = $88a9540d1aad6464$var$r, !$88a9540d1aad6464$var$r.u)) {\n        var f = function(n, t, r) {\n            if (!o.__c.__H) return !0;\n            var u = o.__c.__H.__.filter(function(n) {\n                return n.__c;\n            });\n            if (u.every(function(n) {\n                return !n.__N;\n            })) return !c || c.call(this, n, t, r);\n            var i = !1;\n            return u.forEach(function(n) {\n                if (n.__N) {\n                    var t = n.__[0];\n                    n.__ = n.__N, n.__N = void 0, t !== n.__[0] && (i = !0);\n                }\n            }), !(!i && o.__c.props === n) && (!c || c.call(this, n, t, r));\n        };\n        $88a9540d1aad6464$var$r.u = !0;\n        var c = $88a9540d1aad6464$var$r.shouldComponentUpdate, e = $88a9540d1aad6464$var$r.componentWillUpdate;\n        $88a9540d1aad6464$var$r.componentWillUpdate = function(n, t, r) {\n            if (this.__e) {\n                var u = c;\n                c = void 0, f(n, t, r), c = u;\n            }\n            e && e.call(this, n, t, r);\n        }, $88a9540d1aad6464$var$r.shouldComponentUpdate = f;\n    }\n    return o.__N || o.__;\n}\nfunction $88a9540d1aad6464$export$6d9c69b0de29b591(u, i) {\n    var o = $88a9540d1aad6464$var$d($88a9540d1aad6464$var$t++, 3);\n    !(0, $73048c6b859c8a02$export$41c562ebe57d11e2).__s && $88a9540d1aad6464$var$z(o.__H, i) && (o.__ = u, o.i = i, $88a9540d1aad6464$var$r.__H.__h.push(o));\n}\nfunction $88a9540d1aad6464$export$e5c5a5f917a5871c(u, i) {\n    var o = $88a9540d1aad6464$var$d($88a9540d1aad6464$var$t++, 4);\n    !(0, $73048c6b859c8a02$export$41c562ebe57d11e2).__s && $88a9540d1aad6464$var$z(o.__H, i) && (o.__ = u, o.i = i, $88a9540d1aad6464$var$r.__h.push(o));\n}\nfunction $88a9540d1aad6464$export$b8f5890fc79d6aca(n) {\n    return $88a9540d1aad6464$var$o = 5, $88a9540d1aad6464$export$1538c33de8887b59(function() {\n        return {\n            current: n\n        };\n    }, []);\n}\nfunction $88a9540d1aad6464$export$d5a552a76deda3c2(n, t, r) {\n    $88a9540d1aad6464$var$o = 6, $88a9540d1aad6464$export$e5c5a5f917a5871c(function() {\n        return \"function\" == typeof n ? (n(t()), function() {\n            return n(null);\n        }) : n ? (n.current = t(), function() {\n            return n.current = null;\n        }) : void 0;\n    }, null == r ? r : r.concat(n));\n}\nfunction $88a9540d1aad6464$export$1538c33de8887b59(n, r) {\n    var u = $88a9540d1aad6464$var$d($88a9540d1aad6464$var$t++, 7);\n    return $88a9540d1aad6464$var$z(u.__H, r) ? (u.__V = n(), u.i = r, u.__h = n, u.__V) : u.__;\n}\nfunction $88a9540d1aad6464$export$35808ee640e87ca7(n, t) {\n    return $88a9540d1aad6464$var$o = 8, $88a9540d1aad6464$export$1538c33de8887b59(function() {\n        return n;\n    }, t);\n}\nfunction $88a9540d1aad6464$export$fae74005e78b1a27(n) {\n    var u = $88a9540d1aad6464$var$r.context[n.__c], i = $88a9540d1aad6464$var$d($88a9540d1aad6464$var$t++, 9);\n    return i.c = n, u ? (null == i.__ && (i.__ = !0, u.sub($88a9540d1aad6464$var$r)), u.props.value) : n.__;\n}\nfunction $88a9540d1aad6464$export$dc8fbce3eb94dc1e(t, r) {\n    (0, $73048c6b859c8a02$export$41c562ebe57d11e2).useDebugValue && (0, $73048c6b859c8a02$export$41c562ebe57d11e2).useDebugValue(r ? r(t) : t);\n}\nfunction $88a9540d1aad6464$export$c052f6604b7d51fe(n) {\n    var u = $88a9540d1aad6464$var$d($88a9540d1aad6464$var$t++, 10), i = $88a9540d1aad6464$export$60241385465d0a34();\n    return u.__ = n, $88a9540d1aad6464$var$r.componentDidCatch || ($88a9540d1aad6464$var$r.componentDidCatch = function(n, t) {\n        u.__ && u.__(n, t), i[1](n);\n    }), [\n        i[0],\n        function() {\n            i[1](void 0);\n        }\n    ];\n}\nfunction $88a9540d1aad6464$export$f680877a34711e37() {\n    var n = $88a9540d1aad6464$var$d($88a9540d1aad6464$var$t++, 11);\n    if (!n.__) {\n        for(var u = $88a9540d1aad6464$var$r.__v; null !== u && !u.__m && null !== u.__;)u = u.__;\n        var i = u.__m || (u.__m = [\n            0,\n            0\n        ]);\n        n.__ = \"P\" + i[0] + \"-\" + i[1]++;\n    }\n    return n.__;\n}\nfunction $88a9540d1aad6464$var$b() {\n    for(var t; t = $88a9540d1aad6464$var$f.shift();)if (t.__P && t.__H) try {\n        t.__H.__h.forEach($88a9540d1aad6464$var$k), t.__H.__h.forEach($88a9540d1aad6464$var$w), t.__H.__h = [];\n    } catch (r) {\n        t.__H.__h = [], (0, $73048c6b859c8a02$export$41c562ebe57d11e2).__e(r, t.__v);\n    }\n}\n(0, $73048c6b859c8a02$export$41c562ebe57d11e2).__b = function(n) {\n    $88a9540d1aad6464$var$r = null, $88a9540d1aad6464$var$e && $88a9540d1aad6464$var$e(n);\n}, (0, $73048c6b859c8a02$export$41c562ebe57d11e2).__r = function(n) {\n    $88a9540d1aad6464$var$a && $88a9540d1aad6464$var$a(n), $88a9540d1aad6464$var$t = 0;\n    var i = ($88a9540d1aad6464$var$r = n.__c).__H;\n    i && ($88a9540d1aad6464$var$u === $88a9540d1aad6464$var$r ? (i.__h = [], $88a9540d1aad6464$var$r.__h = [], i.__.forEach(function(n) {\n        n.__N && (n.__ = n.__N), n.__V = $88a9540d1aad6464$var$c, n.__N = n.i = void 0;\n    })) : (i.__h.forEach($88a9540d1aad6464$var$k), i.__h.forEach($88a9540d1aad6464$var$w), i.__h = [], $88a9540d1aad6464$var$t = 0)), $88a9540d1aad6464$var$u = $88a9540d1aad6464$var$r;\n}, (0, $73048c6b859c8a02$export$41c562ebe57d11e2).diffed = function(t) {\n    $88a9540d1aad6464$var$v && $88a9540d1aad6464$var$v(t);\n    var o = t.__c;\n    o && o.__H && (o.__H.__h.length && (1 !== $88a9540d1aad6464$var$f.push(o) && $88a9540d1aad6464$var$i === (0, $73048c6b859c8a02$export$41c562ebe57d11e2).requestAnimationFrame || (($88a9540d1aad6464$var$i = (0, $73048c6b859c8a02$export$41c562ebe57d11e2).requestAnimationFrame) || $88a9540d1aad6464$var$j)($88a9540d1aad6464$var$b)), o.__H.__.forEach(function(n) {\n        n.i && (n.__H = n.i), n.__V !== $88a9540d1aad6464$var$c && (n.__ = n.__V), n.i = void 0, n.__V = $88a9540d1aad6464$var$c;\n    })), $88a9540d1aad6464$var$u = $88a9540d1aad6464$var$r = null;\n}, (0, $73048c6b859c8a02$export$41c562ebe57d11e2).__c = function(t, r) {\n    r.some(function(t) {\n        try {\n            t.__h.forEach($88a9540d1aad6464$var$k), t.__h = t.__h.filter(function(n) {\n                return !n.__ || $88a9540d1aad6464$var$w(n);\n            });\n        } catch (u) {\n            r.some(function(n) {\n                n.__h && (n.__h = []);\n            }), r = [], (0, $73048c6b859c8a02$export$41c562ebe57d11e2).__e(u, t.__v);\n        }\n    }), $88a9540d1aad6464$var$l && $88a9540d1aad6464$var$l(t, r);\n}, (0, $73048c6b859c8a02$export$41c562ebe57d11e2).unmount = function(t) {\n    $88a9540d1aad6464$var$m && $88a9540d1aad6464$var$m(t);\n    var r, u = t.__c;\n    u && u.__H && (u.__H.__.forEach(function(n) {\n        try {\n            $88a9540d1aad6464$var$k(n);\n        } catch (n) {\n            r = n;\n        }\n    }), u.__H = void 0, r && (0, $73048c6b859c8a02$export$41c562ebe57d11e2).__e(r, u.__v));\n};\nvar $88a9540d1aad6464$var$g = \"function\" == typeof requestAnimationFrame;\nfunction $88a9540d1aad6464$var$j(n) {\n    var t, r = function() {\n        clearTimeout(u), $88a9540d1aad6464$var$g && cancelAnimationFrame(t), setTimeout(n);\n    }, u = setTimeout(r, 100);\n    $88a9540d1aad6464$var$g && (t = requestAnimationFrame(r));\n}\nfunction $88a9540d1aad6464$var$k(n) {\n    var t = $88a9540d1aad6464$var$r, u = n.__c;\n    \"function\" == typeof u && (n.__c = void 0, u()), $88a9540d1aad6464$var$r = t;\n}\nfunction $88a9540d1aad6464$var$w(n) {\n    var t = $88a9540d1aad6464$var$r;\n    n.__c = n.__(), $88a9540d1aad6464$var$r = t;\n}\nfunction $88a9540d1aad6464$var$z(n, t) {\n    return !n || n.length !== t.length || t.some(function(t, r) {\n        return t !== n[r];\n    });\n}\nfunction $88a9540d1aad6464$var$B(n, t) {\n    return \"function\" == typeof t ? t(n) : t;\n}\n\n\nfunction $d51ff6fbc6548743$var$g(n, t) {\n    for(var e in t)n[e] = t[e];\n    return n;\n}\nfunction $d51ff6fbc6548743$var$C(n, t) {\n    for(var e in n)if (\"__source\" !== e && !(e in t)) return !0;\n    for(var r in t)if (\"__source\" !== r && n[r] !== t[r]) return !0;\n    return !1;\n}\nfunction $d51ff6fbc6548743$var$E(n, t) {\n    return n === t && (0 !== n || 1 / n == 1 / t) || n != n && t != t;\n}\nfunction $d51ff6fbc6548743$export$221d75b3f55bb0bd(n) {\n    this.props = n;\n}\nfunction $d51ff6fbc6548743$export$7c73462e0d25e514(n, e) {\n    function r(n) {\n        var t = this.props.ref, r = t == n.ref;\n        return !r && t && (t.call ? t(null) : t.current = null), e ? !e(this.props, n) || !r : $d51ff6fbc6548743$var$C(this.props, n);\n    }\n    function u(e) {\n        return this.shouldComponentUpdate = r, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(n, e);\n    }\n    return u.displayName = \"Memo(\" + (n.displayName || n.name) + \")\", u.prototype.isReactComponent = !0, u.__f = !0, u;\n}\n($d51ff6fbc6548743$export$221d75b3f55bb0bd.prototype = new (0, $73048c6b859c8a02$export$16fa2f45be04daa8)).isPureReactComponent = !0, $d51ff6fbc6548743$export$221d75b3f55bb0bd.prototype.shouldComponentUpdate = function(n, t) {\n    return $d51ff6fbc6548743$var$C(this.props, n) || $d51ff6fbc6548743$var$C(this.state, t);\n};\nvar $d51ff6fbc6548743$var$R = (0, $73048c6b859c8a02$export$41c562ebe57d11e2).__b;\n(0, $73048c6b859c8a02$export$41c562ebe57d11e2).__b = function(n) {\n    n.type && n.type.__f && n.ref && (n.props.ref = n.ref, n.ref = null), $d51ff6fbc6548743$var$R && $d51ff6fbc6548743$var$R(n);\n};\nvar $d51ff6fbc6548743$var$N = \"undefined\" != typeof Symbol && Symbol.for && Symbol.for(\"react.forward_ref\") || 3911;\nfunction $d51ff6fbc6548743$export$257a8862b851cb5b(n) {\n    function t(t) {\n        var e = $d51ff6fbc6548743$var$g({}, t);\n        return delete e.ref, n(e, t.ref || null);\n    }\n    return t.$$typeof = $d51ff6fbc6548743$var$N, t.render = t, t.prototype.isReactComponent = t.__f = !0, t.displayName = \"ForwardRef(\" + (n.displayName || n.name) + \")\", t;\n}\nvar $d51ff6fbc6548743$var$A = function(n, t) {\n    return null == n ? null : (0, $73048c6b859c8a02$export$47e4c5b300681277)((0, $73048c6b859c8a02$export$47e4c5b300681277)(n).map(t));\n}, $d51ff6fbc6548743$export$dca3b0875bd9a954 = {\n    map: $d51ff6fbc6548743$var$A,\n    forEach: $d51ff6fbc6548743$var$A,\n    count: function(n) {\n        return n ? (0, $73048c6b859c8a02$export$47e4c5b300681277)(n).length : 0;\n    },\n    only: function(n) {\n        var t = (0, $73048c6b859c8a02$export$47e4c5b300681277)(n);\n        if (1 !== t.length) throw \"Children.only\";\n        return t[0];\n    },\n    toArray: (0, $73048c6b859c8a02$export$47e4c5b300681277)\n}, $d51ff6fbc6548743$var$T = (0, $73048c6b859c8a02$export$41c562ebe57d11e2).__e;\n(0, $73048c6b859c8a02$export$41c562ebe57d11e2).__e = function(n, t, e, r) {\n    if (n.then) {\n        for(var u, o = t; o = o.__;)if ((u = o.__c) && u.__c) return null == t.__e && (t.__e = e.__e, t.__k = e.__k), u.__c(n, t);\n    }\n    $d51ff6fbc6548743$var$T(n, t, e, r);\n};\nvar $d51ff6fbc6548743$var$F = (0, $73048c6b859c8a02$export$41c562ebe57d11e2).unmount;\nfunction $d51ff6fbc6548743$var$I(n, t, e) {\n    return n && (n.__c && n.__c.__H && (n.__c.__H.__.forEach(function(n) {\n        \"function\" == typeof n.__c && n.__c();\n    }), n.__c.__H = null), null != (n = $d51ff6fbc6548743$var$g({}, n)).__c && (n.__c.__P === e && (n.__c.__P = t), n.__c = null), n.__k = n.__k && n.__k.map(function(n) {\n        return $d51ff6fbc6548743$var$I(n, t, e);\n    })), n;\n}\nfunction $d51ff6fbc6548743$var$L(n, t, e) {\n    return n && (n.__v = null, n.__k = n.__k && n.__k.map(function(n) {\n        return $d51ff6fbc6548743$var$L(n, t, e);\n    }), n.__c && n.__c.__P === t && (n.__e && e.insertBefore(n.__e, n.__d), n.__c.__e = !0, n.__c.__P = e)), n;\n}\nfunction $d51ff6fbc6548743$export$74bf444e3cd11ea5() {\n    this.__u = 0, this.t = null, this.__b = null;\n}\nfunction $d51ff6fbc6548743$var$D(n) {\n    var t = n.__.__c;\n    return t && t.__a && t.__a(n);\n}\nfunction $d51ff6fbc6548743$export$488013bae63b21da(n) {\n    var e, r, u;\n    function o(o) {\n        if (e || (e = n()).then(function(n) {\n            r = n.default || n;\n        }, function(n) {\n            u = n;\n        }), u) throw u;\n        if (!r) throw e;\n        return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(r, o);\n    }\n    return o.displayName = \"Lazy\", o.__f = !0, o;\n}\nfunction $d51ff6fbc6548743$export$998bcd577473dd93() {\n    this.u = null, this.o = null;\n}\n(0, $73048c6b859c8a02$export$41c562ebe57d11e2).unmount = function(n) {\n    var t = n.__c;\n    t && t.__R && t.__R(), t && !0 === n.__h && (n.type = null), $d51ff6fbc6548743$var$F && $d51ff6fbc6548743$var$F(n);\n}, ($d51ff6fbc6548743$export$74bf444e3cd11ea5.prototype = new (0, $73048c6b859c8a02$export$16fa2f45be04daa8)).__c = function(n, t) {\n    var e = t.__c, r = this;\n    null == r.t && (r.t = []), r.t.push(e);\n    var u = $d51ff6fbc6548743$var$D(r.__v), o = !1, i = function() {\n        o || (o = !0, e.__R = null, u ? u(l) : l());\n    };\n    e.__R = i;\n    var l = function() {\n        if (!--r.__u) {\n            if (r.state.__a) {\n                var n = r.state.__a;\n                r.__v.__k[0] = $d51ff6fbc6548743$var$L(n, n.__c.__P, n.__c.__O);\n            }\n            var t;\n            for(r.setState({\n                __a: r.__b = null\n            }); t = r.t.pop();)t.forceUpdate();\n        }\n    }, c = !0 === t.__h;\n    r.__u++ || c || r.setState({\n        __a: r.__b = r.__v.__k[0]\n    }), n.then(i, i);\n}, $d51ff6fbc6548743$export$74bf444e3cd11ea5.prototype.componentWillUnmount = function() {\n    this.t = [];\n}, $d51ff6fbc6548743$export$74bf444e3cd11ea5.prototype.render = function(n, e) {\n    if (this.__b) {\n        if (this.__v.__k) {\n            var r = document.createElement(\"div\"), o = this.__v.__k[0].__c;\n            this.__v.__k[0] = $d51ff6fbc6548743$var$I(this.__b, r, o.__O = o.__P);\n        }\n        this.__b = null;\n    }\n    var i = e.__a && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $73048c6b859c8a02$export$ffb0004e005737fa), null, n.fallback);\n    return i && (i.__h = null), [\n        (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $73048c6b859c8a02$export$ffb0004e005737fa), null, e.__a ? null : n.children),\n        i\n    ];\n};\nvar $d51ff6fbc6548743$var$W = function(n, t, e) {\n    if (++e[1] === e[0] && n.o.delete(t), n.props.revealOrder && (\"t\" !== n.props.revealOrder[0] || !n.o.size)) for(e = n.u; e;){\n        for(; e.length > 3;)e.pop()();\n        if (e[1] < e[0]) break;\n        n.u = e = e[2];\n    }\n};\nfunction $d51ff6fbc6548743$var$P(n) {\n    return this.getChildContext = function() {\n        return n.context;\n    }, n.children;\n}\nfunction $d51ff6fbc6548743$var$j(n) {\n    var e = this, r = n.i;\n    e.componentWillUnmount = function() {\n        (0, $73048c6b859c8a02$export$b3890eb0ae9dca99)(null, e.l), e.l = null, e.i = null;\n    }, e.i && e.i !== r && e.componentWillUnmount(), e.l || (e.i = r, e.l = {\n        nodeType: 1,\n        parentNode: r,\n        childNodes: [],\n        appendChild: function(n) {\n            this.childNodes.push(n), e.i.appendChild(n);\n        },\n        insertBefore: function(n, t) {\n            this.childNodes.push(n), e.i.appendChild(n);\n        },\n        removeChild: function(n) {\n            this.childNodes.splice(this.childNodes.indexOf(n) >>> 1, 1), e.i.removeChild(n);\n        }\n    }), (0, $73048c6b859c8a02$export$b3890eb0ae9dca99)((0, $73048c6b859c8a02$export$c8a8987d4410bf2d)($d51ff6fbc6548743$var$P, {\n        context: e.context\n    }, n.__v), e.l);\n}\nfunction $d51ff6fbc6548743$export$d39a5bbd09211389(n, e) {\n    var r = (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)($d51ff6fbc6548743$var$j, {\n        __v: n,\n        i: e\n    });\n    return r.containerInfo = e, r;\n}\n($d51ff6fbc6548743$export$998bcd577473dd93.prototype = new (0, $73048c6b859c8a02$export$16fa2f45be04daa8)).__a = function(n) {\n    var t = this, e = $d51ff6fbc6548743$var$D(t.__v), r = t.o.get(n);\n    return r[0]++, function(u) {\n        var o = function() {\n            t.props.revealOrder ? (r.push(u), $d51ff6fbc6548743$var$W(t, n, r)) : u();\n        };\n        e ? e(o) : o();\n    };\n}, $d51ff6fbc6548743$export$998bcd577473dd93.prototype.render = function(n) {\n    this.u = null, this.o = new Map;\n    var t = (0, $73048c6b859c8a02$export$47e4c5b300681277)(n.children);\n    n.revealOrder && \"b\" === n.revealOrder[0] && t.reverse();\n    for(var e = t.length; e--;)this.o.set(t[e], this.u = [\n        1,\n        0,\n        this.u\n    ]);\n    return n.children;\n}, $d51ff6fbc6548743$export$998bcd577473dd93.prototype.componentDidUpdate = $d51ff6fbc6548743$export$998bcd577473dd93.prototype.componentDidMount = function() {\n    var n = this;\n    this.o.forEach(function(t, e) {\n        $d51ff6fbc6548743$var$W(n, e, t);\n    });\n};\nvar $d51ff6fbc6548743$var$B = \"undefined\" != typeof Symbol && Symbol.for && Symbol.for(\"react.element\") || 60103, $d51ff6fbc6548743$var$H = /^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/, $d51ff6fbc6548743$var$Z = /^on(Ani|Tra|Tou|BeforeInp|Compo)/, $d51ff6fbc6548743$var$Y = /[A-Z0-9]/g, $d51ff6fbc6548743$var$$ = \"undefined\" != typeof document, $d51ff6fbc6548743$var$q = function(n) {\n    return (\"undefined\" != typeof Symbol && \"symbol\" == typeof Symbol() ? /fil|che|rad/ : /fil|che|ra/).test(n);\n};\nfunction $d51ff6fbc6548743$export$b3890eb0ae9dca99(n, t, e) {\n    return null == t.__k && (t.textContent = \"\"), (0, $73048c6b859c8a02$export$b3890eb0ae9dca99)(n, t), \"function\" == typeof e && e(), n ? n.__c : null;\n}\nfunction $d51ff6fbc6548743$export$fa8d919ba61d84db(n, t, e) {\n    return (0, $73048c6b859c8a02$export$fa8d919ba61d84db)(n, t), \"function\" == typeof e && e(), n ? n.__c : null;\n}\n(0, $73048c6b859c8a02$export$16fa2f45be04daa8).prototype.isReactComponent = {}, [\n    \"componentWillMount\",\n    \"componentWillReceiveProps\",\n    \"componentWillUpdate\"\n].forEach(function(t) {\n    Object.defineProperty((0, $73048c6b859c8a02$export$16fa2f45be04daa8).prototype, t, {\n        configurable: !0,\n        get: function() {\n            return this[\"UNSAFE_\" + t];\n        },\n        set: function(n) {\n            Object.defineProperty(this, t, {\n                configurable: !0,\n                writable: !0,\n                value: n\n            });\n        }\n    });\n});\nvar $d51ff6fbc6548743$var$K = (0, $73048c6b859c8a02$export$41c562ebe57d11e2).event;\nfunction $d51ff6fbc6548743$var$Q() {}\nfunction $d51ff6fbc6548743$var$X() {\n    return this.cancelBubble;\n}\nfunction $d51ff6fbc6548743$var$nn() {\n    return this.defaultPrevented;\n}\n(0, $73048c6b859c8a02$export$41c562ebe57d11e2).event = function(n) {\n    return $d51ff6fbc6548743$var$K && (n = $d51ff6fbc6548743$var$K(n)), n.persist = $d51ff6fbc6548743$var$Q, n.isPropagationStopped = $d51ff6fbc6548743$var$X, n.isDefaultPrevented = $d51ff6fbc6548743$var$nn, n.nativeEvent = n;\n};\nvar $d51ff6fbc6548743$var$tn, $d51ff6fbc6548743$var$en = {\n    enumerable: !1,\n    configurable: !0,\n    get: function() {\n        return this.class;\n    }\n}, $d51ff6fbc6548743$var$rn = (0, $73048c6b859c8a02$export$41c562ebe57d11e2).vnode;\n(0, $73048c6b859c8a02$export$41c562ebe57d11e2).vnode = function(n) {\n    \"string\" == typeof n.type && function(n) {\n        var t = n.props, e = n.type, u = {};\n        for(var o in t){\n            var i = t[o];\n            if (!(\"value\" === o && \"defaultValue\" in t && null == i || $d51ff6fbc6548743$var$$ && \"children\" === o && \"noscript\" === e || \"class\" === o || \"className\" === o)) {\n                var l = o.toLowerCase();\n                \"defaultValue\" === o && \"value\" in t && null == t.value ? o = \"value\" : \"download\" === o && !0 === i ? i = \"\" : \"ondoubleclick\" === l ? o = \"ondblclick\" : \"onchange\" !== l || \"input\" !== e && \"textarea\" !== e || $d51ff6fbc6548743$var$q(t.type) ? \"onfocus\" === l ? o = \"onfocusin\" : \"onblur\" === l ? o = \"onfocusout\" : $d51ff6fbc6548743$var$Z.test(o) ? o = l : -1 === e.indexOf(\"-\") && $d51ff6fbc6548743$var$H.test(o) ? o = o.replace($d51ff6fbc6548743$var$Y, \"-$&\").toLowerCase() : null === i && (i = void 0) : l = o = \"oninput\", \"oninput\" === l && u[o = l] && (o = \"oninputCapture\"), u[o] = i;\n            }\n        }\n        \"select\" == e && u.multiple && Array.isArray(u.value) && (u.value = (0, $73048c6b859c8a02$export$47e4c5b300681277)(t.children).forEach(function(n) {\n            n.props.selected = -1 != u.value.indexOf(n.props.value);\n        })), \"select\" == e && null != u.defaultValue && (u.value = (0, $73048c6b859c8a02$export$47e4c5b300681277)(t.children).forEach(function(n) {\n            n.props.selected = u.multiple ? -1 != u.defaultValue.indexOf(n.props.value) : u.defaultValue == n.props.value;\n        })), t.class && !t.className ? (u.class = t.class, Object.defineProperty(u, \"className\", $d51ff6fbc6548743$var$en)) : (t.className && !t.class || t.class && t.className) && (u.class = u.className = t.className), n.props = u;\n    }(n), n.$$typeof = $d51ff6fbc6548743$var$B, $d51ff6fbc6548743$var$rn && $d51ff6fbc6548743$var$rn(n);\n};\nvar $d51ff6fbc6548743$var$un = (0, $73048c6b859c8a02$export$41c562ebe57d11e2).__r;\n(0, $73048c6b859c8a02$export$41c562ebe57d11e2).__r = function(n) {\n    $d51ff6fbc6548743$var$un && $d51ff6fbc6548743$var$un(n), $d51ff6fbc6548743$var$tn = n.__c;\n};\nvar $d51ff6fbc6548743$var$on = (0, $73048c6b859c8a02$export$41c562ebe57d11e2).diffed;\n(0, $73048c6b859c8a02$export$41c562ebe57d11e2).diffed = function(n) {\n    $d51ff6fbc6548743$var$on && $d51ff6fbc6548743$var$on(n);\n    var t = n.props, e = n.__e;\n    null != e && \"textarea\" === n.type && \"value\" in t && t.value !== e.value && (e.value = null == t.value ? \"\" : t.value), $d51ff6fbc6548743$var$tn = null;\n};\nvar $d51ff6fbc6548743$export$ae55be85d98224ed = {\n    ReactCurrentDispatcher: {\n        current: {\n            readContext: function(n) {\n                return $d51ff6fbc6548743$var$tn.__n[n.__c].props.value;\n            }\n        }\n    }\n}, $d51ff6fbc6548743$export$83d89fbfd8236492 = \"17.0.2\";\nfunction $d51ff6fbc6548743$export$d38cd72104c1f0e9(n) {\n    return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d).bind(null, n);\n}\nfunction $d51ff6fbc6548743$export$a8257692ac88316c(n) {\n    return !!n && n.$$typeof === $d51ff6fbc6548743$var$B;\n}\nfunction $d51ff6fbc6548743$export$9522e17588c12572(n) {\n    return $d51ff6fbc6548743$export$a8257692ac88316c(n) && n.type === (0, $73048c6b859c8a02$export$ffb0004e005737fa);\n}\nfunction $d51ff6fbc6548743$export$e530037191fcd5d7(n) {\n    return $d51ff6fbc6548743$export$a8257692ac88316c(n) ? (0, $73048c6b859c8a02$export$e530037191fcd5d7).apply(null, arguments) : n;\n}\nfunction $d51ff6fbc6548743$export$502457920280e6be(n) {\n    return !!n.__k && ((0, $73048c6b859c8a02$export$b3890eb0ae9dca99)(null, n), !0);\n}\nfunction $d51ff6fbc6548743$export$466bfc07425424d5(n) {\n    return n && (n.base || 1 === n.nodeType && n) || null;\n}\nvar $d51ff6fbc6548743$export$c78a37762a8d58e1 = function(n, t) {\n    return n(t);\n}, $d51ff6fbc6548743$export$cd75ccfd720a3cd4 = function(n, t) {\n    return n(t);\n}, $d51ff6fbc6548743$export$5f8d39834fd61797 = (0, $73048c6b859c8a02$export$ffb0004e005737fa);\nfunction $d51ff6fbc6548743$export$7568632d0d33d16d(n) {\n    n();\n}\nfunction $d51ff6fbc6548743$export$6a7bc4e911dc01cf(n) {\n    return n;\n}\nfunction $d51ff6fbc6548743$export$7b286972b8d8ccbf() {\n    return [\n        !1,\n        $d51ff6fbc6548743$export$7568632d0d33d16d\n    ];\n}\nvar $d51ff6fbc6548743$export$aaabe4eda9ed9969 = (0, $88a9540d1aad6464$export$e5c5a5f917a5871c), $d51ff6fbc6548743$export$45a5e7f76e0caa8d = $d51ff6fbc6548743$export$a8257692ac88316c;\nfunction $d51ff6fbc6548743$export$306c0aa65ff9ec16(n, t) {\n    var e = t(), r = (0, $88a9540d1aad6464$export$60241385465d0a34)({\n        h: {\n            __: e,\n            v: t\n        }\n    }), u = r[0].h, o = r[1];\n    return (0, $88a9540d1aad6464$export$e5c5a5f917a5871c)(function() {\n        u.__ = e, u.v = t, $d51ff6fbc6548743$var$E(u.__, t()) || o({\n            h: u\n        });\n    }, [\n        n,\n        e,\n        t\n    ]), (0, $88a9540d1aad6464$export$6d9c69b0de29b591)(function() {\n        return $d51ff6fbc6548743$var$E(u.__, u.v()) || o({\n            h: u\n        }), n(function() {\n            $d51ff6fbc6548743$var$E(u.__, u.v()) || o({\n                h: u\n            });\n        });\n    }, [\n        n\n    ]), e;\n}\nvar $d51ff6fbc6548743$export$2e2bcd8739ae039 = {\n    useState: (0, $88a9540d1aad6464$export$60241385465d0a34),\n    useId: (0, $88a9540d1aad6464$export$f680877a34711e37),\n    useReducer: (0, $88a9540d1aad6464$export$13e3392192263954),\n    useEffect: (0, $88a9540d1aad6464$export$6d9c69b0de29b591),\n    useLayoutEffect: (0, $88a9540d1aad6464$export$e5c5a5f917a5871c),\n    useInsertionEffect: $d51ff6fbc6548743$export$aaabe4eda9ed9969,\n    useTransition: $d51ff6fbc6548743$export$7b286972b8d8ccbf,\n    useDeferredValue: $d51ff6fbc6548743$export$6a7bc4e911dc01cf,\n    useSyncExternalStore: $d51ff6fbc6548743$export$306c0aa65ff9ec16,\n    startTransition: $d51ff6fbc6548743$export$7568632d0d33d16d,\n    useRef: (0, $88a9540d1aad6464$export$b8f5890fc79d6aca),\n    useImperativeHandle: (0, $88a9540d1aad6464$export$d5a552a76deda3c2),\n    useMemo: (0, $88a9540d1aad6464$export$1538c33de8887b59),\n    useCallback: (0, $88a9540d1aad6464$export$35808ee640e87ca7),\n    useContext: (0, $88a9540d1aad6464$export$fae74005e78b1a27),\n    useDebugValue: (0, $88a9540d1aad6464$export$dc8fbce3eb94dc1e),\n    version: \"17.0.2\",\n    Children: $d51ff6fbc6548743$export$dca3b0875bd9a954,\n    render: $d51ff6fbc6548743$export$b3890eb0ae9dca99,\n    hydrate: $d51ff6fbc6548743$export$fa8d919ba61d84db,\n    unmountComponentAtNode: $d51ff6fbc6548743$export$502457920280e6be,\n    createPortal: $d51ff6fbc6548743$export$d39a5bbd09211389,\n    createElement: (0, $73048c6b859c8a02$export$c8a8987d4410bf2d),\n    createContext: (0, $73048c6b859c8a02$export$fd42f52fd3ae1109),\n    createFactory: $d51ff6fbc6548743$export$d38cd72104c1f0e9,\n    cloneElement: $d51ff6fbc6548743$export$e530037191fcd5d7,\n    createRef: (0, $73048c6b859c8a02$export$7d1e3a5e95ceca43),\n    Fragment: (0, $73048c6b859c8a02$export$ffb0004e005737fa),\n    isValidElement: $d51ff6fbc6548743$export$a8257692ac88316c,\n    isElement: $d51ff6fbc6548743$export$45a5e7f76e0caa8d,\n    isFragment: $d51ff6fbc6548743$export$9522e17588c12572,\n    findDOMNode: $d51ff6fbc6548743$export$466bfc07425424d5,\n    Component: (0, $73048c6b859c8a02$export$16fa2f45be04daa8),\n    PureComponent: $d51ff6fbc6548743$export$221d75b3f55bb0bd,\n    memo: $d51ff6fbc6548743$export$7c73462e0d25e514,\n    forwardRef: $d51ff6fbc6548743$export$257a8862b851cb5b,\n    flushSync: $d51ff6fbc6548743$export$cd75ccfd720a3cd4,\n    unstable_batchedUpdates: $d51ff6fbc6548743$export$c78a37762a8d58e1,\n    StrictMode: $d51ff6fbc6548743$export$5f8d39834fd61797,\n    Suspense: $d51ff6fbc6548743$export$74bf444e3cd11ea5,\n    SuspenseList: $d51ff6fbc6548743$export$998bcd577473dd93,\n    lazy: $d51ff6fbc6548743$export$488013bae63b21da,\n    __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED: $d51ff6fbc6548743$export$ae55be85d98224ed\n};\n$parcel$exportWildcard($d51ff6fbc6548743$exports, $88a9540d1aad6464$exports);\n\n\nvar $de454a4ed9de8e76$exports = {};\nfunction $de454a4ed9de8e76$var$_extends() {\n    $de454a4ed9de8e76$exports = $de454a4ed9de8e76$var$_extends = Object.assign ? Object.assign.bind() : function(target) {\n        for(var i = 1; i < arguments.length; i++){\n            var source = arguments[i];\n            for(var key in source)if (Object.prototype.hasOwnProperty.call(source, key)) target[key] = source[key];\n        }\n        return target;\n    }, $de454a4ed9de8e76$exports.__esModule = true, $de454a4ed9de8e76$exports[\"default\"] = $de454a4ed9de8e76$exports;\n    return $de454a4ed9de8e76$var$_extends.apply(this, arguments);\n}\n$de454a4ed9de8e76$exports = $de454a4ed9de8e76$var$_extends, $de454a4ed9de8e76$exports.__esModule = true, $de454a4ed9de8e76$exports[\"default\"] = $de454a4ed9de8e76$exports;\n\n\n\nvar $a99e0b75acbdb5bf$exports = {};\n/**\n * This file automatically generated from `pre-publish.js`.\n * Do not manually edit.\n */ $a99e0b75acbdb5bf$exports = {\n    \"area\": true,\n    \"base\": true,\n    \"br\": true,\n    \"col\": true,\n    \"embed\": true,\n    \"hr\": true,\n    \"img\": true,\n    \"input\": true,\n    \"link\": true,\n    \"meta\": true,\n    \"param\": true,\n    \"source\": true,\n    \"track\": true,\n    \"wbr\": true\n};\n\n\nvar $98b8487e681fd7c4$var$t = /\\s([^'\"/\\s><]+?)[\\s/>]|([^\\s=]+)=\\s?(\".*?\"|'.*?')/g;\nfunction $98b8487e681fd7c4$var$n(n) {\n    var r = {\n        type: \"tag\",\n        name: \"\",\n        voidElement: !1,\n        attrs: {},\n        children: []\n    }, i = n.match(/<\\/?([^\\s]+?)[/\\s>]/);\n    if (i && (r.name = i[1], ((0, (/*@__PURE__*/$parcel$interopDefault($a99e0b75acbdb5bf$exports)))[i[1]] || \"/\" === n.charAt(n.length - 2)) && (r.voidElement = !0), r.name.startsWith(\"!--\"))) {\n        var s = n.indexOf(\"-->\");\n        return {\n            type: \"comment\",\n            comment: -1 !== s ? n.slice(4, s) : \"\"\n        };\n    }\n    for(var a = new RegExp($98b8487e681fd7c4$var$t), c = null; null !== (c = a.exec(n));)if (c[0].trim()) {\n        if (c[1]) {\n            var o = c[1].trim(), l = [\n                o,\n                \"\"\n            ];\n            o.indexOf(\"=\") > -1 && (l = o.split(\"=\")), r.attrs[l[0]] = l[1], a.lastIndex--;\n        } else c[2] && (r.attrs[c[2]] = c[3].trim().substring(1, c[3].length - 1));\n    }\n    return r;\n}\nvar $98b8487e681fd7c4$var$r = /<[a-zA-Z0-9\\-\\!\\/](?:\"[^\"]*\"|'[^']*'|[^'\">])*>/g, $98b8487e681fd7c4$var$i = /^\\s*$/, $98b8487e681fd7c4$var$s = Object.create(null);\nfunction $98b8487e681fd7c4$var$a(e, t) {\n    switch(t.type){\n        case \"text\":\n            return e + t.content;\n        case \"tag\":\n            return e += \"<\" + t.name + (t.attrs ? function(e) {\n                var t = [];\n                for(var n in e)t.push(n + '=\"' + e[n] + '\"');\n                return t.length ? \" \" + t.join(\" \") : \"\";\n            }(t.attrs) : \"\") + (t.voidElement ? \"/>\" : \">\"), t.voidElement ? e : e + t.children.reduce($98b8487e681fd7c4$var$a, \"\") + \"</\" + t.name + \">\";\n        case \"comment\":\n            return e + \"<!--\" + t.comment + \"-->\";\n    }\n}\nvar $98b8487e681fd7c4$var$c = {\n    parse: function(e, t) {\n        t || (t = {}), t.components || (t.components = $98b8487e681fd7c4$var$s);\n        var a, c = [], o = [], l = -1, m = !1;\n        if (0 !== e.indexOf(\"<\")) {\n            var u = e.indexOf(\"<\");\n            c.push({\n                type: \"text\",\n                content: -1 === u ? e : e.substring(0, u)\n            });\n        }\n        return e.replace($98b8487e681fd7c4$var$r, function(r, s) {\n            if (m) {\n                if (r !== \"</\" + a.name + \">\") return;\n                m = !1;\n            }\n            var u, f = \"/\" !== r.charAt(1), h = r.startsWith(\"<!--\"), p = s + r.length, d = e.charAt(p);\n            if (h) {\n                var v = $98b8487e681fd7c4$var$n(r);\n                return l < 0 ? (c.push(v), c) : ((u = o[l]).children.push(v), c);\n            }\n            if (f && (l++, \"tag\" === (a = $98b8487e681fd7c4$var$n(r)).type && t.components[a.name] && (a.type = \"component\", m = !0), a.voidElement || m || !d || \"<\" === d || a.children.push({\n                type: \"text\",\n                content: e.slice(p, e.indexOf(\"<\", p))\n            }), 0 === l && c.push(a), (u = o[l - 1]) && u.children.push(a), o[l] = a), (!f || a.voidElement) && (l > -1 && (a.voidElement || a.name === r.slice(2, -1)) && (l--, a = -1 === l ? c : o[l]), !m && \"<\" !== d && d)) {\n                u = -1 === l ? c : o[l].children;\n                var x = e.indexOf(\"<\", p), g = e.slice(p, -1 === x ? void 0 : x);\n                $98b8487e681fd7c4$var$i.test(g) && (g = \" \"), (x > -1 && l + u.length >= 0 || \" \" !== g) && u.push({\n                    type: \"text\",\n                    content: g\n                });\n            }\n        }), c;\n    },\n    stringify: function(e) {\n        return e.reduce(function(e, t) {\n            return e + $98b8487e681fd7c4$var$a(\"\", t);\n        }, \"\");\n    }\n};\nvar $98b8487e681fd7c4$export$2e2bcd8739ae039 = $98b8487e681fd7c4$var$c;\n\n\nfunction $8948bff4a00b46d7$export$c106dd0671a0fc2d() {\n    if (console && console.warn) {\n        for(var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++)args[_key] = arguments[_key];\n        if (typeof args[0] === \"string\") args[0] = `react-i18next:: ${args[0]}`;\n        console.warn(...args);\n    }\n}\nconst $8948bff4a00b46d7$var$alreadyWarned = {};\nfunction $8948bff4a00b46d7$export$5b28268982f175ba() {\n    for(var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++)args[_key2] = arguments[_key2];\n    if (typeof args[0] === \"string\" && $8948bff4a00b46d7$var$alreadyWarned[args[0]]) return;\n    if (typeof args[0] === \"string\") $8948bff4a00b46d7$var$alreadyWarned[args[0]] = new Date();\n    $8948bff4a00b46d7$export$c106dd0671a0fc2d(...args);\n}\nconst $8948bff4a00b46d7$var$loadedClb = (i18n, cb)=>()=>{\n        if (i18n.isInitialized) cb();\n        else {\n            const initialized = ()=>{\n                setTimeout(()=>{\n                    i18n.off(\"initialized\", initialized);\n                }, 0);\n                cb();\n            };\n            i18n.on(\"initialized\", initialized);\n        }\n    };\nfunction $8948bff4a00b46d7$export$83be934b53fff43b(i18n, ns, cb) {\n    i18n.loadNamespaces(ns, $8948bff4a00b46d7$var$loadedClb(i18n, cb));\n}\nfunction $8948bff4a00b46d7$export$8cd7e7a54fa865bc(i18n, lng, ns, cb) {\n    if (typeof ns === \"string\") ns = [\n        ns\n    ];\n    ns.forEach((n)=>{\n        if (i18n.options.ns.indexOf(n) < 0) i18n.options.ns.push(n);\n    });\n    i18n.loadLanguages(lng, $8948bff4a00b46d7$var$loadedClb(i18n, cb));\n}\nfunction $8948bff4a00b46d7$var$oldI18nextHasLoadedNamespace(ns, i18n) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    const lng = i18n.languages[0];\n    const fallbackLng = i18n.options ? i18n.options.fallbackLng : false;\n    const lastLng = i18n.languages[i18n.languages.length - 1];\n    if (lng.toLowerCase() === \"cimode\") return true;\n    const loadNotPending = (l, n)=>{\n        const loadState = i18n.services.backendConnector.state[`${l}|${n}`];\n        return loadState === -1 || loadState === 2;\n    };\n    if (options.bindI18n && options.bindI18n.indexOf(\"languageChanging\") > -1 && i18n.services.backendConnector.backend && i18n.isLanguageChangingTo && !loadNotPending(i18n.isLanguageChangingTo, ns)) return false;\n    if (i18n.hasResourceBundle(lng, ns)) return true;\n    if (!i18n.services.backendConnector.backend || i18n.options.resources && !i18n.options.partialBundledLanguages) return true;\n    if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns))) return true;\n    return false;\n}\nfunction $8948bff4a00b46d7$export$93d9ee97c1ad3f31(ns, i18n) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    if (!i18n.languages || !i18n.languages.length) {\n        $8948bff4a00b46d7$export$5b28268982f175ba(\"i18n.languages were undefined or empty\", i18n.languages);\n        return true;\n    }\n    const isNewerI18next = i18n.options.ignoreJSONStructure !== undefined;\n    if (!isNewerI18next) return $8948bff4a00b46d7$var$oldI18nextHasLoadedNamespace(ns, i18n, options);\n    return i18n.hasLoadedNamespace(ns, {\n        lng: options.lng,\n        precheck: (i18nInstance, loadNotPending)=>{\n            if (options.bindI18n && options.bindI18n.indexOf(\"languageChanging\") > -1 && i18nInstance.services.backendConnector.backend && i18nInstance.isLanguageChangingTo && !loadNotPending(i18nInstance.isLanguageChangingTo, ns)) return false;\n        }\n    });\n}\nfunction $8948bff4a00b46d7$export$be63e0664592e141(Component) {\n    return Component.displayName || Component.name || (typeof Component === \"string\" && Component.length > 0 ? Component : \"Unknown\");\n}\n\n\nconst $41e77d45d3c057fa$var$matchHtmlEntity = /&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g;\nconst $41e77d45d3c057fa$var$htmlEntities = {\n    \"&amp;\": \"&\",\n    \"&#38;\": \"&\",\n    \"&lt;\": \"<\",\n    \"&#60;\": \"<\",\n    \"&gt;\": \">\",\n    \"&#62;\": \">\",\n    \"&apos;\": \"'\",\n    \"&#39;\": \"'\",\n    \"&quot;\": '\"',\n    \"&#34;\": '\"',\n    \"&nbsp;\": \" \",\n    \"&#160;\": \" \",\n    \"&copy;\": \"\\xa9\",\n    \"&#169;\": \"\\xa9\",\n    \"&reg;\": \"\\xae\",\n    \"&#174;\": \"\\xae\",\n    \"&hellip;\": \"\",\n    \"&#8230;\": \"\",\n    \"&#x2F;\": \"/\",\n    \"&#47;\": \"/\"\n};\nconst $41e77d45d3c057fa$var$unescapeHtmlEntity = (m)=>$41e77d45d3c057fa$var$htmlEntities[m];\nconst $41e77d45d3c057fa$export$e8bacd2802a88316 = (text)=>text.replace($41e77d45d3c057fa$var$matchHtmlEntity, $41e77d45d3c057fa$var$unescapeHtmlEntity);\n\n\nlet $be3a1ef505afdca5$var$defaultOptions = {\n    bindI18n: \"languageChanged\",\n    bindI18nStore: \"\",\n    transEmptyNodeValue: \"\",\n    transSupportBasicHtmlNodes: true,\n    transWrapTextNodes: \"\",\n    transKeepBasicHtmlNodesFor: [\n        \"br\",\n        \"strong\",\n        \"i\",\n        \"p\"\n    ],\n    useSuspense: true,\n    unescape: $41e77d45d3c057fa$export$e8bacd2802a88316\n};\nfunction $be3a1ef505afdca5$export$2e2366488d12e20d() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    $be3a1ef505afdca5$var$defaultOptions = {\n        ...$be3a1ef505afdca5$var$defaultOptions,\n        ...options\n    };\n}\nfunction $be3a1ef505afdca5$export$212bb2fc580a90a8() {\n    return $be3a1ef505afdca5$var$defaultOptions;\n}\n\n\nlet $fb1664200764ca4e$var$i18nInstance;\nfunction $fb1664200764ca4e$export$a039134f2fc7e0(instance) {\n    $fb1664200764ca4e$var$i18nInstance = instance;\n}\nfunction $fb1664200764ca4e$export$64af334f494c2f47() {\n    return $fb1664200764ca4e$var$i18nInstance;\n}\n\n\nfunction $c1087cd88d2287b5$var$hasChildren(node, checkLength) {\n    if (!node) return false;\n    const base = node.props ? node.props.children : node.children;\n    if (checkLength) return base.length > 0;\n    return !!base;\n}\nfunction $c1087cd88d2287b5$var$getChildren(node) {\n    if (!node) return [];\n    const children = node.props ? node.props.children : node.children;\n    return node.props && node.props.i18nIsDynamicList ? $c1087cd88d2287b5$var$getAsArray(children) : children;\n}\nfunction $c1087cd88d2287b5$var$hasValidReactChildren(children) {\n    if (Object.prototype.toString.call(children) !== \"[object Array]\") return false;\n    return children.every((child)=>(0, $d51ff6fbc6548743$export$a8257692ac88316c)(child));\n}\nfunction $c1087cd88d2287b5$var$getAsArray(data) {\n    return Array.isArray(data) ? data : [\n        data\n    ];\n}\nfunction $c1087cd88d2287b5$var$mergeProps(source, target) {\n    const newTarget = {\n        ...target\n    };\n    newTarget.props = Object.assign(source.props, target.props);\n    return newTarget;\n}\nfunction $c1087cd88d2287b5$export$4f7a36dd898f1267(children, i18nOptions) {\n    if (!children) return \"\";\n    let stringNode = \"\";\n    const childrenArray = $c1087cd88d2287b5$var$getAsArray(children);\n    const keepArray = i18nOptions.transSupportBasicHtmlNodes && i18nOptions.transKeepBasicHtmlNodesFor ? i18nOptions.transKeepBasicHtmlNodesFor : [];\n    childrenArray.forEach((child, childIndex)=>{\n        if (typeof child === \"string\") stringNode += `${child}`;\n        else if ((0, $d51ff6fbc6548743$export$a8257692ac88316c)(child)) {\n            const childPropsCount = Object.keys(child.props).length;\n            const shouldKeepChild = keepArray.indexOf(child.type) > -1;\n            const childChildren = child.props.children;\n            if (!childChildren && shouldKeepChild && childPropsCount === 0) stringNode += `<${child.type}/>`;\n            else if (!childChildren && (!shouldKeepChild || childPropsCount !== 0)) stringNode += `<${childIndex}></${childIndex}>`;\n            else if (child.props.i18nIsDynamicList) stringNode += `<${childIndex}></${childIndex}>`;\n            else if (shouldKeepChild && childPropsCount === 1 && typeof childChildren === \"string\") stringNode += `<${child.type}>${childChildren}</${child.type}>`;\n            else {\n                const content = $c1087cd88d2287b5$export$4f7a36dd898f1267(childChildren, i18nOptions);\n                stringNode += `<${childIndex}>${content}</${childIndex}>`;\n            }\n        } else if (child === null) (0, $8948bff4a00b46d7$export$c106dd0671a0fc2d)(`Trans: the passed in value is invalid - seems you passed in a null child.`);\n        else if (typeof child === \"object\") {\n            const { format: format, ...clone } = child;\n            const keys = Object.keys(clone);\n            if (keys.length === 1) {\n                const value = format ? `${keys[0]}, ${format}` : keys[0];\n                stringNode += `{{${value}}}`;\n            } else (0, $8948bff4a00b46d7$export$c106dd0671a0fc2d)(`react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.`, child);\n        } else (0, $8948bff4a00b46d7$export$c106dd0671a0fc2d)(`Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.`, child);\n    });\n    return stringNode;\n}\nfunction $c1087cd88d2287b5$var$renderNodes(children, targetString, i18n, i18nOptions, combinedTOpts, shouldUnescape) {\n    if (targetString === \"\") return [];\n    const keepArray = i18nOptions.transKeepBasicHtmlNodesFor || [];\n    const emptyChildrenButNeedsHandling = targetString && new RegExp(keepArray.map((keep)=>`<${keep}`).join(\"|\")).test(targetString);\n    if (!children && !emptyChildrenButNeedsHandling && !shouldUnescape) return [\n        targetString\n    ];\n    const data = {};\n    function getData(childs) {\n        const childrenArray = $c1087cd88d2287b5$var$getAsArray(childs);\n        childrenArray.forEach((child)=>{\n            if (typeof child === \"string\") return;\n            if ($c1087cd88d2287b5$var$hasChildren(child)) getData($c1087cd88d2287b5$var$getChildren(child));\n            else if (typeof child === \"object\" && !(0, $d51ff6fbc6548743$export$a8257692ac88316c)(child)) Object.assign(data, child);\n        });\n    }\n    getData(children);\n    const ast = (0, $98b8487e681fd7c4$export$2e2bcd8739ae039).parse(`<0>${targetString}</0>`);\n    const opts = {\n        ...data,\n        ...combinedTOpts\n    };\n    function renderInner(child, node, rootReactNode) {\n        const childs = $c1087cd88d2287b5$var$getChildren(child);\n        const mappedChildren = mapAST(childs, node.children, rootReactNode);\n        return $c1087cd88d2287b5$var$hasValidReactChildren(childs) && mappedChildren.length === 0 || child.props && child.props.i18nIsDynamicList ? childs : mappedChildren;\n    }\n    function pushTranslatedJSX(child, inner, mem, i, isVoid) {\n        if (child.dummy) {\n            child.children = inner;\n            mem.push((0, $d51ff6fbc6548743$export$e530037191fcd5d7)(child, {\n                key: i\n            }, isVoid ? undefined : inner));\n        } else mem.push(...(0, $d51ff6fbc6548743$export$dca3b0875bd9a954).map([\n            child\n        ], (c)=>{\n            const props = {\n                ...c.props\n            };\n            delete props.i18nIsDynamicList;\n            return (0, $d51ff6fbc6548743$export$2e2bcd8739ae039).createElement(c.type, (0, (/*@__PURE__*/$parcel$interopDefault($de454a4ed9de8e76$exports)))({}, props, {\n                key: i,\n                ref: c.ref\n            }, isVoid ? {} : {\n                children: inner\n            }));\n        }));\n    }\n    function mapAST(reactNode, astNode, rootReactNode) {\n        const reactNodes = $c1087cd88d2287b5$var$getAsArray(reactNode);\n        const astNodes = $c1087cd88d2287b5$var$getAsArray(astNode);\n        return astNodes.reduce((mem, node, i)=>{\n            const translationContent = node.children && node.children[0] && node.children[0].content && i18n.services.interpolator.interpolate(node.children[0].content, opts, i18n.language);\n            if (node.type === \"tag\") {\n                let tmp = reactNodes[parseInt(node.name, 10)];\n                if (rootReactNode.length === 1 && !tmp) tmp = rootReactNode[0][node.name];\n                if (!tmp) tmp = {};\n                const child = Object.keys(node.attrs).length !== 0 ? $c1087cd88d2287b5$var$mergeProps({\n                    props: node.attrs\n                }, tmp) : tmp;\n                const isElement = (0, $d51ff6fbc6548743$export$a8257692ac88316c)(child);\n                const isValidTranslationWithChildren = isElement && $c1087cd88d2287b5$var$hasChildren(node, true) && !node.voidElement;\n                const isEmptyTransWithHTML = emptyChildrenButNeedsHandling && typeof child === \"object\" && child.dummy && !isElement;\n                const isKnownComponent = typeof children === \"object\" && children !== null && Object.hasOwnProperty.call(children, node.name);\n                if (typeof child === \"string\") {\n                    const value = i18n.services.interpolator.interpolate(child, opts, i18n.language);\n                    mem.push(value);\n                } else if ($c1087cd88d2287b5$var$hasChildren(child) || isValidTranslationWithChildren) {\n                    const inner = renderInner(child, node, rootReactNode);\n                    pushTranslatedJSX(child, inner, mem, i);\n                } else if (isEmptyTransWithHTML) {\n                    const inner = mapAST(reactNodes, node.children, rootReactNode);\n                    pushTranslatedJSX(child, inner, mem, i);\n                } else if (Number.isNaN(parseFloat(node.name))) {\n                    if (isKnownComponent) {\n                        const inner = renderInner(child, node, rootReactNode);\n                        pushTranslatedJSX(child, inner, mem, i, node.voidElement);\n                    } else if (i18nOptions.transSupportBasicHtmlNodes && keepArray.indexOf(node.name) > -1) {\n                        if (node.voidElement) mem.push((0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(node.name, {\n                            key: `${node.name}-${i}`\n                        }));\n                        else {\n                            const inner = mapAST(reactNodes, node.children, rootReactNode);\n                            mem.push((0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(node.name, {\n                                key: `${node.name}-${i}`\n                            }, inner));\n                        }\n                    } else if (node.voidElement) mem.push(`<${node.name} />`);\n                    else {\n                        const inner = mapAST(reactNodes, node.children, rootReactNode);\n                        mem.push(`<${node.name}>${inner}</${node.name}>`);\n                    }\n                } else if (typeof child === \"object\" && !isElement) {\n                    const content = node.children[0] ? translationContent : null;\n                    if (content) mem.push(content);\n                } else pushTranslatedJSX(child, translationContent, mem, i, node.children.length !== 1 || !translationContent);\n            } else if (node.type === \"text\") {\n                const wrapTextNodes = i18nOptions.transWrapTextNodes;\n                const content = shouldUnescape ? i18nOptions.unescape(i18n.services.interpolator.interpolate(node.content, opts, i18n.language)) : i18n.services.interpolator.interpolate(node.content, opts, i18n.language);\n                if (wrapTextNodes) mem.push((0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(wrapTextNodes, {\n                    key: `${node.name}-${i}`\n                }, content));\n                else mem.push(content);\n            }\n            return mem;\n        }, []);\n    }\n    const result = mapAST([\n        {\n            dummy: true,\n            children: children || []\n        }\n    ], ast, $c1087cd88d2287b5$var$getAsArray(children || []));\n    return $c1087cd88d2287b5$var$getChildren(result[0]);\n}\nfunction $c1087cd88d2287b5$export$8d6a9236f2e3f2ce(_ref) {\n    let { children: children, count: count, parent: parent, i18nKey: i18nKey, context: context, tOptions: tOptions = {}, values: values, defaults: defaults, components: components, ns: ns, i18n: i18nFromProps, t: tFromProps, shouldUnescape: shouldUnescape, ...additionalProps } = _ref;\n    const i18n = i18nFromProps || (0, $fb1664200764ca4e$export$64af334f494c2f47)();\n    if (!i18n) {\n        (0, $8948bff4a00b46d7$export$5b28268982f175ba)(\"You will need to pass in an i18next instance by using i18nextReactModule\");\n        return children;\n    }\n    const t = tFromProps || i18n.t.bind(i18n) || ((k)=>k);\n    if (context) tOptions.context = context;\n    const reactI18nextOptions = {\n        ...(0, $be3a1ef505afdca5$export$212bb2fc580a90a8)(),\n        ...i18n.options && i18n.options.react\n    };\n    let namespaces = ns || t.ns || i18n.options && i18n.options.defaultNS;\n    namespaces = typeof namespaces === \"string\" ? [\n        namespaces\n    ] : namespaces || [\n        \"translation\"\n    ];\n    const nodeAsString = $c1087cd88d2287b5$export$4f7a36dd898f1267(children, reactI18nextOptions);\n    const defaultValue = defaults || nodeAsString || reactI18nextOptions.transEmptyNodeValue || i18nKey;\n    const { hashTransKey: hashTransKey } = reactI18nextOptions;\n    const key = i18nKey || (hashTransKey ? hashTransKey(nodeAsString || defaultValue) : nodeAsString || defaultValue);\n    const interpolationOverride = values ? tOptions.interpolation : {\n        interpolation: {\n            ...tOptions.interpolation,\n            prefix: \"#$?\",\n            suffix: \"?$#\"\n        }\n    };\n    const combinedTOpts = {\n        ...tOptions,\n        count: count,\n        ...values,\n        ...interpolationOverride,\n        defaultValue: defaultValue,\n        ns: namespaces\n    };\n    const translation = key ? t(key, combinedTOpts) : defaultValue;\n    const content = $c1087cd88d2287b5$var$renderNodes(components || children, translation, i18n, reactI18nextOptions, combinedTOpts, shouldUnescape);\n    const useAsParent = parent !== undefined ? parent : reactI18nextOptions.defaultTransParent;\n    return useAsParent ? (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(useAsParent, additionalProps, content) : content;\n}\n\n\n\n\n\n\n\nconst $f4663bfcfe4ffd82$export$ae7e14d40d89f296 = {\n    type: \"3rdParty\",\n    init (instance) {\n        (0, $be3a1ef505afdca5$export$2e2366488d12e20d)(instance.options.react);\n        (0, $fb1664200764ca4e$export$a039134f2fc7e0)(instance);\n    }\n};\n\n\nconst $7769fa9636e2bfa3$export$5603ab5ced17ce64 = (0, $73048c6b859c8a02$export$fd42f52fd3ae1109)();\nclass $7769fa9636e2bfa3$export$ea171b67e3820290 {\n    constructor(){\n        this.usedNamespaces = {};\n    }\n    addUsedNamespaces(namespaces) {\n        namespaces.forEach((ns)=>{\n            if (!this.usedNamespaces[ns]) this.usedNamespaces[ns] = true;\n        });\n    }\n    getUsedNamespaces() {\n        return Object.keys(this.usedNamespaces);\n    }\n}\nfunction $7769fa9636e2bfa3$export$30ff0342ccf735a(ForComponent) {\n    return (ctx)=>new Promise((resolve)=>{\n            const i18nInitialProps = $7769fa9636e2bfa3$export$704200e5d0b9e8f();\n            if (ForComponent.getInitialProps) ForComponent.getInitialProps(ctx).then((componentsInitialProps)=>{\n                resolve({\n                    ...componentsInitialProps,\n                    ...i18nInitialProps\n                });\n            });\n            else resolve(i18nInitialProps);\n        });\n}\nfunction $7769fa9636e2bfa3$export$704200e5d0b9e8f() {\n    const i18n = (0, $fb1664200764ca4e$export$64af334f494c2f47)();\n    const namespaces = i18n.reportNamespaces ? i18n.reportNamespaces.getUsedNamespaces() : [];\n    const ret = {};\n    const initialI18nStore = {};\n    i18n.languages.forEach((l)=>{\n        initialI18nStore[l] = {};\n        namespaces.forEach((ns)=>{\n            initialI18nStore[l][ns] = i18n.getResourceBundle(l, ns) || {};\n        });\n    });\n    ret.initialI18nStore = initialI18nStore;\n    ret.initialLanguage = i18n.language;\n    return ret;\n}\n\n\nfunction $8c71aa9aa535d5cc$export$8d6a9236f2e3f2ce(_ref) {\n    let { children: children, count: count, parent: parent, i18nKey: i18nKey, context: context, tOptions: tOptions = {}, values: values, defaults: defaults, components: components, ns: ns, i18n: i18nFromProps, t: tFromProps, shouldUnescape: shouldUnescape, ...additionalProps } = _ref;\n    const { i18n: i18nFromContext, defaultNS: defaultNSFromContext } = (0, $88a9540d1aad6464$export$fae74005e78b1a27)((0, $7769fa9636e2bfa3$export$5603ab5ced17ce64)) || {};\n    const i18n = i18nFromProps || i18nFromContext || (0, $fb1664200764ca4e$export$64af334f494c2f47)();\n    const t = tFromProps || i18n && i18n.t.bind(i18n);\n    return (0, $c1087cd88d2287b5$export$8d6a9236f2e3f2ce)({\n        children: children,\n        count: count,\n        parent: parent,\n        i18nKey: i18nKey,\n        context: context,\n        tOptions: tOptions,\n        values: values,\n        defaults: defaults,\n        components: components,\n        ns: ns || t && t.ns || defaultNSFromContext || i18n && i18n.options && i18n.options.defaultNS,\n        i18n: i18n,\n        t: tFromProps,\n        shouldUnescape: shouldUnescape,\n        ...additionalProps\n    });\n}\n\n\n\n\n\n\nconst $23287d5819478a30$var$usePrevious = (value, ignore)=>{\n    const ref = (0, $88a9540d1aad6464$export$b8f5890fc79d6aca)();\n    (0, $88a9540d1aad6464$export$6d9c69b0de29b591)(()=>{\n        ref.current = ignore ? ref.current : value;\n    }, [\n        value,\n        ignore\n    ]);\n    return ref.current;\n};\nfunction $23287d5819478a30$export$9fc83ad70ead8663(ns) {\n    let props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const { i18n: i18nFromProps } = props;\n    const { i18n: i18nFromContext, defaultNS: defaultNSFromContext } = (0, $88a9540d1aad6464$export$fae74005e78b1a27)((0, $7769fa9636e2bfa3$export$5603ab5ced17ce64)) || {};\n    const i18n = i18nFromProps || i18nFromContext || (0, $fb1664200764ca4e$export$64af334f494c2f47)();\n    if (i18n && !i18n.reportNamespaces) i18n.reportNamespaces = new (0, $7769fa9636e2bfa3$export$ea171b67e3820290)();\n    if (!i18n) {\n        (0, $8948bff4a00b46d7$export$5b28268982f175ba)(\"You will need to pass in an i18next instance by using initReactI18next\");\n        const notReadyT = (k, optsOrDefaultValue)=>{\n            if (typeof optsOrDefaultValue === \"string\") return optsOrDefaultValue;\n            if (optsOrDefaultValue && typeof optsOrDefaultValue === \"object\" && typeof optsOrDefaultValue.defaultValue === \"string\") return optsOrDefaultValue.defaultValue;\n            return Array.isArray(k) ? k[k.length - 1] : k;\n        };\n        const retNotReady = [\n            notReadyT,\n            {},\n            false\n        ];\n        retNotReady.t = notReadyT;\n        retNotReady.i18n = {};\n        retNotReady.ready = false;\n        return retNotReady;\n    }\n    if (i18n.options.react && i18n.options.react.wait !== undefined) (0, $8948bff4a00b46d7$export$5b28268982f175ba)(\"It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.\");\n    const i18nOptions = {\n        ...(0, $be3a1ef505afdca5$export$212bb2fc580a90a8)(),\n        ...i18n.options.react,\n        ...props\n    };\n    const { useSuspense: useSuspense, keyPrefix: keyPrefix } = i18nOptions;\n    let namespaces = ns || defaultNSFromContext || i18n.options && i18n.options.defaultNS;\n    namespaces = typeof namespaces === \"string\" ? [\n        namespaces\n    ] : namespaces || [\n        \"translation\"\n    ];\n    if (i18n.reportNamespaces.addUsedNamespaces) i18n.reportNamespaces.addUsedNamespaces(namespaces);\n    const ready = (i18n.isInitialized || i18n.initializedStoreOnce) && namespaces.every((n)=>(0, $8948bff4a00b46d7$export$93d9ee97c1ad3f31)(n, i18n, i18nOptions));\n    function getT() {\n        return i18n.getFixedT(props.lng || null, i18nOptions.nsMode === \"fallback\" ? namespaces : namespaces[0], keyPrefix);\n    }\n    const [t, setT] = (0, $88a9540d1aad6464$export$60241385465d0a34)(getT);\n    let joinedNS = namespaces.join();\n    if (props.lng) joinedNS = `${props.lng}${joinedNS}`;\n    const previousJoinedNS = $23287d5819478a30$var$usePrevious(joinedNS);\n    const isMounted = (0, $88a9540d1aad6464$export$b8f5890fc79d6aca)(true);\n    (0, $88a9540d1aad6464$export$6d9c69b0de29b591)(()=>{\n        const { bindI18n: bindI18n, bindI18nStore: bindI18nStore } = i18nOptions;\n        isMounted.current = true;\n        if (!ready && !useSuspense) {\n            if (props.lng) (0, $8948bff4a00b46d7$export$8cd7e7a54fa865bc)(i18n, props.lng, namespaces, ()=>{\n                if (isMounted.current) setT(getT);\n            });\n            else (0, $8948bff4a00b46d7$export$83be934b53fff43b)(i18n, namespaces, ()=>{\n                if (isMounted.current) setT(getT);\n            });\n        }\n        if (ready && previousJoinedNS && previousJoinedNS !== joinedNS && isMounted.current) setT(getT);\n        function boundReset() {\n            if (isMounted.current) setT(getT);\n        }\n        if (bindI18n && i18n) i18n.on(bindI18n, boundReset);\n        if (bindI18nStore && i18n) i18n.store.on(bindI18nStore, boundReset);\n        return ()=>{\n            isMounted.current = false;\n            if (bindI18n && i18n) bindI18n.split(\" \").forEach((e)=>i18n.off(e, boundReset));\n            if (bindI18nStore && i18n) bindI18nStore.split(\" \").forEach((e)=>i18n.store.off(e, boundReset));\n        };\n    }, [\n        i18n,\n        joinedNS\n    ]);\n    const isInitial = (0, $88a9540d1aad6464$export$b8f5890fc79d6aca)(true);\n    (0, $88a9540d1aad6464$export$6d9c69b0de29b591)(()=>{\n        if (isMounted.current && !isInitial.current) setT(getT);\n        isInitial.current = false;\n    }, [\n        i18n,\n        keyPrefix\n    ]);\n    const ret = [\n        t,\n        i18n,\n        ready\n    ];\n    ret.t = t;\n    ret.i18n = i18n;\n    ret.ready = ready;\n    if (ready) return ret;\n    if (!ready && !useSuspense) return ret;\n    throw new Promise((resolve)=>{\n        if (props.lng) (0, $8948bff4a00b46d7$export$8cd7e7a54fa865bc)(i18n, props.lng, namespaces, ()=>resolve());\n        else (0, $8948bff4a00b46d7$export$83be934b53fff43b)(i18n, namespaces, ()=>resolve());\n    });\n}\n\n\n\n\n\nfunction $ee5bb531210bb8d0$export$2dcb0053efd21124(ns) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    return function Extend(WrappedComponent) {\n        function I18nextWithTranslation(_ref) {\n            let { forwardedRef: forwardedRef, ...rest } = _ref;\n            const [t, i18n, ready] = (0, $23287d5819478a30$export$9fc83ad70ead8663)(ns, {\n                ...rest,\n                keyPrefix: options.keyPrefix\n            });\n            const passDownProps = {\n                ...rest,\n                t: t,\n                i18n: i18n,\n                tReady: ready\n            };\n            if (options.withRef && forwardedRef) passDownProps.ref = forwardedRef;\n            else if (!options.withRef && forwardedRef) passDownProps.forwardedRef = forwardedRef;\n            return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(WrappedComponent, passDownProps);\n        }\n        I18nextWithTranslation.displayName = `withI18nextTranslation(${(0, $8948bff4a00b46d7$export$be63e0664592e141)(WrappedComponent)})`;\n        I18nextWithTranslation.WrappedComponent = WrappedComponent;\n        const forwardRef = (props, ref)=>(0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(I18nextWithTranslation, Object.assign({}, props, {\n                forwardedRef: ref\n            }));\n        return options.withRef ? (0, $d51ff6fbc6548743$export$257a8862b851cb5b)(forwardRef) : I18nextWithTranslation;\n    };\n}\n\n\n\nfunction $730c785d8f766145$export$b63289fbda65eed1(props) {\n    const { ns: ns, children: children, ...options } = props;\n    const [t, i18n, ready] = (0, $23287d5819478a30$export$9fc83ad70ead8663)(ns, options);\n    return children(t, {\n        i18n: i18n,\n        lng: i18n.language\n    }, ready);\n}\n\n\n\n\nfunction $416905e0717fbb75$export$1325e8699caa160f(_ref) {\n    let { i18n: i18n, defaultNS: defaultNS, children: children } = _ref;\n    const value = (0, $88a9540d1aad6464$export$1538c33de8887b59)(()=>({\n            i18n: i18n,\n            defaultNS: defaultNS\n        }), [\n        i18n,\n        defaultNS\n    ]);\n    return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $7769fa9636e2bfa3$export$5603ab5ced17ce64).Provider, {\n        value: value\n    }, children);\n}\n\n\n\n\n\nfunction $92a5e6fb63b23713$export$3526fb65ade8d8b7(initialI18nStore, initialLanguage) {\n    let props = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    const { i18n: i18nFromProps } = props;\n    const { i18n: i18nFromContext } = (0, $88a9540d1aad6464$export$fae74005e78b1a27)((0, $7769fa9636e2bfa3$export$5603ab5ced17ce64)) || {};\n    const i18n = i18nFromProps || i18nFromContext || (0, $fb1664200764ca4e$export$64af334f494c2f47)();\n    if (i18n.options && i18n.options.isClone) return;\n    if (initialI18nStore && !i18n.initializedStoreOnce) {\n        i18n.services.resourceStore.data = initialI18nStore;\n        i18n.options.ns = Object.values(initialI18nStore).reduce((mem, lngResources)=>{\n            Object.keys(lngResources).forEach((ns)=>{\n                if (mem.indexOf(ns) < 0) mem.push(ns);\n            });\n            return mem;\n        }, i18n.options.ns);\n        i18n.initializedStoreOnce = true;\n        i18n.isInitialized = true;\n    }\n    if (initialLanguage && !i18n.initializedLanguageOnce) {\n        i18n.changeLanguage(initialLanguage);\n        i18n.initializedLanguageOnce = true;\n    }\n}\n\n\n\n\nfunction $6a3a7999dcfd4802$export$80dfa519af1c8605() {\n    return function Extend(WrappedComponent) {\n        function I18nextWithSSR(_ref) {\n            let { initialI18nStore: initialI18nStore, initialLanguage: initialLanguage, ...rest } = _ref;\n            (0, $92a5e6fb63b23713$export$3526fb65ade8d8b7)(initialI18nStore, initialLanguage);\n            return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(WrappedComponent, {\n                ...rest\n            });\n        }\n        I18nextWithSSR.getInitialProps = (0, $7769fa9636e2bfa3$export$30ff0342ccf735a)(WrappedComponent);\n        I18nextWithSSR.displayName = `withI18nextSSR(${(0, $8948bff4a00b46d7$export$be63e0664592e141)(WrappedComponent)})`;\n        I18nextWithSSR.WrappedComponent = WrappedComponent;\n        return I18nextWithSSR;\n    };\n}\n\n\n\n\n\n\n\nconst $791ae55525c87072$export$324d90190a8b822a = ()=>\"\";\nconst $791ae55525c87072$export$2da9be4cfdb689b1 = ()=>\"\";\nconst $791ae55525c87072$export$98e628dec113755e = ()=>\"\";\nconst $791ae55525c87072$export$2e6c959c16ff56b8 = ()=>\"\";\nconst $791ae55525c87072$export$4e35d5c922a95490 = ()=>\"\";\nconst $791ae55525c87072$export$720a3b9db04b7a0f = ()=>\"\";\n\n\nvar $a73d92951c8d8437$exports = {};\n$a73d92951c8d8437$exports = JSON.parse('{\"previous_coms\":\"See previous comments\",\"next_coms\":\"See next comments\",\"ago\":\"{{duration}} ago\",\"groups\":\"Groups\",\"login_placeholder\":\"email\",\"password_placeholder\":\"password\",\"new_password_placeholder\":\"new password\",\"confirm_password_placeholder\":\"confirm password\",\"connect\":\"Connection\",\"submit\":\"Submit\",\"title_placeholder\":\"Title of your message (optional)\",\"text_placeholder\":\"Write your message here\",\"upload_image\":\"Add photos\",\"upload_video\":\"Add videos\",\"upload_music\":\"Add musics\",\"upload_pdf\":\"Add pdf\",\"add_date\":\"Add a date\",\"logout\":\"Logout\",\"settings\":\"Settings\",\"name\":\"Name\",\"name_input\":\"Choose a name\",\"login\":\"Login\",\"login_input\":\"Choose a login\",\"email\":\"Email\",\"email_input\":\"Fill in your email here\",\"save_changes\":\"Save changes\",\"password\":\"Password\",\"password_input\":\"Write a new password here\",\"Invalid login/password\":\"Invalid login and/or password\",\"edit\":\"Edit\",\"delete\":\"Delete\",\"ask_delete_message\":\"Are you sure to delete this message?\",\"account\":\"Account\",\"forgot_password\":\"Did you forget your password?\",\"password_reset_mail_sent\":\"The password reset email was sent !\",\"User not found\":\"User not found\",\"reset_password_title\":\"Reset your password\",\"error\":\"An error occurred\",\"passwords_dont_match\":\"Passwords don\\'t match\",\"invitation_link\":\"Invitation link\",\"reset_invitation_link\":\"Reset invitation link\",\"invitation_welcome\":\"Welcome on Zusam ! Please sign up before joining the group.\",\"signup\":\"Sign up\",\"create_a_group\":\"Create a group\",\"create_the_group\":\"Create the group\",\"quit_group\":\"Leave the group\",\"settings_updated\":\"Your settings were updated\",\"group_updated\":\"The group was updated !\",\"group_left\":\"You left the group !\",\"multiple_photos_upload\":\"An error occurred. Try uploading images one by one (this can happen in some browsers).\",\"error_new_message\":\"An error occurred while sending your message.\",\"error_upload\":\"An error occurred during the upload\",\"cancel_write\":\"Do you really want to cancel writing a new message?\",\"empty_message\":\"The message is empty and cannot be sent !\",\"cancel\":\"Cancel\",\"just_now\":\"Just now\",\"notification_emails\":\"Email notifications\",\"none\":\"None\",\"hourly\":\"Hourly\",\"daily\":\"Daily\",\"weekly\":\"Weekly\",\"monthly\":\"Monthly\",\"notification_emails_stopped\":\"Email notifications stopped !\",\"group_share_choice\":\"To which group do you want to send this message?\",\"public_link\":\"public link\",\"default_group\":\"Default group\",\"destroy_account\":\"Delete your account\",\"destroy_account_explain\":\"Once you delete your account, there is no going back. Please be certain.\",\"are_you_sure\":\"Are you sure?\",\"share_message\":\"share the message\",\"users\":\"users\",\"has_posted_in\":\"has posted in\",\"has_commented_on\":\"has commented on\",\"has_joined\":\"has joined\",\"has_left\":\"has left\",\"the_message_from\":\"the message from\",\"in\":\"in\",\"lang\":\"language\",\"reply\":\"reply\",\"replies_one\":\"{{count}} reply\",\"replies_other\":\"{{count}} replies\",\"publish_in_group\":\"publish in the group\",\"search_in_group\":\"search in this group\",\"changed_group_name\":\"changed the group\\'s name\",\"to\":\"to\",\"notifications\":\"notifications\",\"mark_all_as_read\":\"mark all as read\",\"search_without_result\":\"Your search did not match any message.\",\"add_bookmark\":\"Bookmark message\",\"remove_bookmark\":\"Unbookmark message\",\"bookmarks\":\"bookmarks\",\"api_key\":\"API key\",\"reset_api_key\":\"Reset the API key (you will be disconnected)\",\"video_not_ready\":\"Video is not ready yet.\",\"bookmark_added\":\"Message added to bookmarks !\",\"bookmark_removed\":\"Message removed from bookmarks !\",\"parent_message\":\"Parent message\"}');\n\n\nvar $c584da26f4329295$exports = {};\n$c584da26f4329295$exports = JSON.parse('{\"previous_coms\":\"Ver los comentarios anteriores\",\"next_coms\":\"Ver los siguientes comentarios\",\"ago\":\"Hace {{duration}}\",\"groups\":\"Grupos\",\"login_placeholder\":\"correo\",\"password_placeholder\":\"contrase\\xf1a\",\"new_password_placeholder\":\"nueva contrase\\xf1a\",\"confirm_password_placeholder\":\"confirmar contrase\\xf1a\",\"connect\":\"Conectarse\",\"submit\":\"Enviar\",\"title_placeholder\":\"Asunto (opcional)\",\"text_placeholder\":\"Escribe tu mensaje aqu\\xed\",\"upload_image\":\"A\\xf1adir fotos\",\"upload_video\":\"A\\xf1adir videos\",\"upload_music\":\"A\\xf1adir m\\xfasica\",\"upload_pdf\":\"A\\xf1adir pdf\",\"add_date\":\"A\\xf1adir una fecha\",\"logout\":\"Desconectarse\",\"settings\":\"Par\\xe1metros\",\"name\":\"Nombre\",\"name_input\":\"Elige un nombre\",\"login\":\"Usuario\",\"login_input\":\"Elige un usuario\",\"email\":\"Correo\",\"email_input\":\"Indicar correo electr\\xf3nico\",\"save_changes\":\"Guardar los cambios\",\"password\":\"Contrase\\xf1a\",\"password_input\":\"Indicar una nueva contrase\\xf1a\",\"Invalid login/password\":\"Usuario o contrase\\xf1a incorrecto\",\"edit\":\"Editar\",\"delete\":\"Borrar\",\"ask_delete_message\":\"\\xbfQuieres borrar este mensaje?\",\"account\":\"Cuenta\",\"forgot_password\":\"\\xbfOlvidaste tu contrase\\xf1a?\",\"password_reset_mail_sent\":\"El correo ha sido enviado!\",\"User not found\":\"El usuario no existe\",\"reset_password_title\":\"Cambia tu contrase\\xf1a\",\"error\":\"Un error ocurri\\xf3. Vuelve a intentar.\",\"passwords_dont_match\":\"Las contrase\\xf1as no coinciden\",\"invitation_link\":\"Enlace de invitaci\\xf3n\",\"reset_invitation_link\":\"Cambiar el enlace de invitaci\\xf3n\",\"invitation_welcome\":\"Bienvenido a Zusam ! Inscribete para conectarte con un grupo.\",\"signup\":\"Inscribirse\",\"create_a_group\":\"Crear un grupo\",\"create_the_group\":\"Crear el grupo\",\"quit_group\":\"Dejar el grupo\",\"settings_updated\":\"Tus preferencias han sido actualizadas!\",\"group_updated\":\"El grupo ha sido actualizado!\",\"group_left\":\"Has abandonado el grupo\",\"multiple_photos_upload\":\"Un error ocurri\\xf3. Vuelve a intentar con solo una foto (algunos navegadores impiden a\\xf1adir varias fotos al mismo tiempo).\",\"error_new_message\":\"Un error desconocido ocurri\\xf3 durante el env\\xedo del mensaje.\",\"error_upload\":\"Un error ocurri\\xf3 durante el env\\xedo.\",\"cancel_write\":\"\\xbfQuieres cancelar este nuevo mensaje?\",\"empty_message\":\"No hay mensaje!\",\"cancel\":\"Cancelar\",\"just_now\":\"Ahora\",\"notification_emails\":\"Correo de notificaci\\xf3n\",\"none\":\"Ninguno\",\"hourly\":\"Cada hora\",\"daily\":\"Diario\",\"weekly\":\"Semanal\",\"monthly\":\"Mensual\",\"notification_emails_stopped\":\"Notificaciones de correo electr\\xf3nico detenidas!\",\"group_share_choice\":\"\\xbfA qu\\xe9 grupo desea enviar este mensaje?\",\"public_link\":\"enlace p\\xfablico\",\"default_group\":\"Grupo predeterminado\",\"destroy_account\":\"Borrar la cuenta\",\"destroy_account_explain\":\"Una vez que elimines tu cuenta, no hay vuelta atr\\xe1s.\",\"are_you_sure\":\"Est\\xe1s seguro ?\",\"share_message\":\"comparte el mensaje\",\"users\":\"usuarios\",\"has_posted_in\":\"ha publicado en\",\"has_commented_on\":\"ha comentado\",\"has_joined\":\"se has unido\",\"has_left\":\"ha dejado\",\"the_message_from\":\"el mensaje de\",\"in\":\"en\",\"lang\":\"idioma\",\"reply\":\"responder\",\"replies_one\":\"{{count}} respuesta\",\"replies_other\":\"{{count}} respuestas\",\"publish_in_group\":\"publicar en el grupo\",\"search_in_group\":\"buscar en este grupo\",\"changed_group_name\":\"cambi\\xf3 el nombre del grupo\",\"to\":\"a\",\"notifications\":\"notificaciones\",\"mark_all_as_read\":\"marcar todo como leido\",\"search_without_result\":\"Su b\\xfasqueda no coincide con ning\\xfan mensaje.\",\"add_bookmark\":\"Marcar este mensaje\",\"remove_bookmark\":\"Desmarcar este mensaje\",\"bookmarks\":\"marcadores\",\"api_key\":\"Clave API\",\"reset_api_key\":\"Restablecer la clave API (se desconectar\\xe1)\",\"video_not_ready\":\"El video a\\xfan no est\\xe1 listo\",\"bookmark_added\":\"Mensaje agregado a marcadores !\",\"bookmark_removed\":\"Mensaje eliminado de los marcadores !\",\"parent_message\":\"Mensaje para padres\"}');\n\n\nvar $5dcf1f301e8131c9$exports = {};\n$5dcf1f301e8131c9$exports = JSON.parse('{\"previous_coms\":\"Voir les commentaires pr\\xe9c\\xe9dents\",\"next_coms\":\"Voir les commentaires suivants\",\"ago\":\"Il y a {{duration}}\",\"groups\":\"Groupes\",\"login_placeholder\":\"email\",\"password_placeholder\":\"mot de passe\",\"new_password_placeholder\":\"nouveau mot de passe\",\"confirm_password_placeholder\":\"confirmez le mot de passe\",\"connect\":\"Connexion\",\"submit\":\"Envoyer\",\"title_placeholder\":\"Titre de votre message (optionnel)\",\"text_placeholder\":\"Ecrivez votre message ici\",\"upload_image\":\"Ajouter des photos\",\"upload_video\":\"Ajouter des vid\\xe9os\",\"upload_music\":\"Ajouter des musiques\",\"upload_pdf\":\"Ajouter un pdf\",\"add_date\":\"Pr\\xe9ciser une date\",\"logout\":\"Se d\\xe9connecter\",\"settings\":\"Param\\xe8tres\",\"name\":\"Nom\",\"name_input\":\"Choisissez un nom\",\"login\":\"Identifiant\",\"login_input\":\"Choisissez un identifiant\",\"email\":\"Email\",\"email_input\":\"Renseignez votre adresse mail ici\",\"save_changes\":\"Sauvegarder les changements\",\"password\":\"Mot de passe\",\"password_input\":\"Entrez un nouveau mot de passe\",\"Invalid login/password\":\"Identifiant et/ou mot de passe invalide\",\"edit\":\"Editer\",\"delete\":\"Supprimer\",\"ask_delete_message\":\"\\xcates-vous s\\xfbr de vouloir supprimer ce message ?\",\"account\":\"Compte\",\"forgot_password\":\"Mot de passe oubli\\xe9 ?\",\"password_reset_mail_sent\":\"Le mail de r\\xe9initialisation a bien \\xe9t\\xe9 envoy\\xe9 !\",\"User not found\":\"Utilisateur inexistant\",\"reset_password_title\":\"R\\xe9initialisation de votre mot de passe\",\"error\":\"Une erreur s\\'est produite\",\"passwords_dont_match\":\"Les mots de passe ne correspondent pas\",\"invitation_link\":\"Lien d\\'invitation\",\"reset_invitation_link\":\"R\\xe9initialiser le lien d\\'invitation\",\"invitation_welcome\":\"Bienvenue sur Zusam ! Veuillez vous inscrire avant de rejoindre le groupe.\",\"signup\":\"S\\'inscrire\",\"create_a_group\":\"Cr\\xe9er un groupe\",\"create_the_group\":\"Cr\\xe9er le groupe\",\"quit_group\":\"Quitter le groupe\",\"settings_updated\":\"Vos param\\xe8tres ont \\xe9t\\xe9 mis \\xe0 jour\",\"group_updated\":\"Le groupe a \\xe9t\\xe9 mis \\xe0 jour !\",\"group_left\":\"Vous avez quitt\\xe9 le groupe !\",\"multiple_photos_upload\":\"Une erreur s\\'est produite. Essayez de t\\xe9l\\xe9charger les images une par une (cela peut se produire dans certains navigateurs).\",\"error_new_message\":\"Une erreur sest produite lors de lenvoi de votre message.\",\"error_upload\":\"Une erreur s\\'est produite pendant le t\\xe9l\\xe9versement\",\"cancel_write\":\"Voulez-vous annuler l\\'\\xe9criture d\\'un nouveau message\\xa0?\",\"empty_message\":\"Le message est vide et ne peut \\xeatre envoy\\xe9\\xa0!\",\"cancel\":\"Annuler\",\"just_now\":\"A l\\'instant\",\"notification_emails\":\"Mail de notification\",\"none\":\"Aucun\",\"hourly\":\"Une fois par heure\",\"daily\":\"Journalier\",\"weekly\":\"Hebdomadaire\",\"monthly\":\"Mensuel\",\"notification_emails_stopped\":\"Notifications par email d\\xe9sactiv\\xe9es !\",\"group_share_choice\":\"A quel groupe voulez-vous envoyer ce message ?\",\"public_link\":\"lien public\",\"default_group\":\"Groupe par d\\xe9faut\",\"destroy_account\":\"Supprimer votre compte\",\"destroy_account_explain\":\"Une fois votre compte supprim\\xe9, il sera impossible d\\'annuler l\\'op\\xe9ration.\",\"are_you_sure\":\"Etes-vous s\\xfbr ?\",\"share_message\":\"partager le message\",\"users\":\"utilisateurs\",\"has_posted_in\":\"a post\\xe9 dans\",\"has_commented_on\":\"a comment\\xe9\",\"has_joined\":\"a rejoint\",\"has_left\":\"a quitt\\xe9\",\"the_message_from\":\"le message de\",\"in\":\"dans\",\"lang\":\"langue\",\"reply\":\"r\\xe9pondre\",\"replies_one\":\"{{count}} r\\xe9ponse\",\"replies_other\":\"{{count}} r\\xe9ponses\",\"publish_in_group\":\"promouvoir le message\",\"search_in_group\":\"rechercher dans le groupe\",\"changed_group_name\":\"a chang\\xe9 le nom du groupe\",\"to\":\"en\",\"notifications\":\"notifications\",\"mark_all_as_read\":\"tout marquer comme lu\",\"search_without_result\":\"Votre recherche ne correspond \\xe0 aucun message.\",\"add_bookmark\":\"Ajouter aux marque-pages\",\"remove_bookmark\":\"Supprimer des marque-pages\",\"bookmarks\":\"marque-pages\",\"api_key\":\"Clef d\\'API\",\"reset_api_key\":\"Changer votre clef d\\'API (vous allez \\xeatre d\\xe9connect\\xe9)\",\"video_not_ready\":\"La vid\\xe9o n\\'est pas encore pr\\xeate.\",\"bookmark_added\":\"Message ajout\\xe9 aux marque-pages !\",\"bookmark_removed\":\"Message supprim\\xe9 des marque-pages !\",\"parent_message\":\"Message parent\"}');\n\n\nvar $7101a0967e062291$exports = {};\n$7101a0967e062291$exports = JSON.parse('{\"previous_coms\":\"Zie vorige\",\"next_coms\":\"Zie volgende\",\"ago\":\"{{duration}} geleden\",\"groups\":\"Groepen\",\"login_placeholder\":\"email\",\"password_placeholder\":\"wachtwoord\",\"new_password_placeholder\":\"nieuw wachtwoord\",\"confirm_password_placeholder\":\"bevestig wachtwoord\",\"connect\":\"Verbind\",\"submit\":\"Verstuur\",\"title_placeholder\":\"Titel van jouw bericht (optioneel)\",\"text_placeholder\":\"Schrijf jouw bericht hier\",\"upload_image\":\"Voeg foto\\'s toe\",\"upload_video\":\"Voeg filmpjes toe\",\"upload_music\":\"Voeg muziek toe\",\"upload_pdf\":\"Voeg PDF toe\",\"add_date\":\"Voeg een datum toe\",\"logout\":\"Afmelden\",\"settings\":\"Instellingen\",\"name\":\"Naam\",\"name_input\":\"Kies een naam\",\"login\":\"Aanmelden\",\"login_input\":\"Kies een aanmeldingsnaam\",\"email\":\"Email\",\"email_input\":\"Voeg uw email adres hier in\",\"save_changes\":\"Wijzigingen opslaan\",\"password\":\"Wachtwoord\",\"password_input\":\"Kies een nieuw wachtwoord\",\"Invalid login/password\":\"Ongeldige aanmeldnaam/wachtwoord combinatie\",\"edit\":\"Bewerken\",\"delete\":\"Verwijderen\",\"ask_delete_message\":\"Bent u zeker dat u dit bericht wil verwijderen?\",\"account\":\"Account\",\"forgot_password\":\"Wachtwoord vergeten?\",\"password_reset_mail_sent\":\"De wachtwoord reset link is naar uw email adres verstuurd.\",\"User not found\":\"Gebruiker niet gevonden\",\"reset_password_title\":\"Reset uw wachtwoord\",\"error\":\"Er is een fout opgetreden\",\"passwords_dont_match\":\"Wachtwoorden komen niet overeen\",\"invitation_link\":\"Uitnodigings link\",\"reset_invitation_link\":\"Reset uitnodiging link\",\"invitation_welcome\":\"Welkom op Zusam ! Gelieve aan te melden vooraleer in een groep in te schrijven.\",\"signup\":\"Inschrijven\",\"create_a_group\":\"Maak een groep\",\"create_the_group\":\"Maak de groep\",\"quit_group\":\"Verlaat de groep\",\"settings_updated\":\"Uw instellingen werden aangepast\",\"group_updated\":\"De groep werd aangepast !\",\"group_left\":\"U heeft de groep verlaten !\",\"multiple_photos_upload\":\"Er is een fout opgetreden. Probeer foto\\'s 1 voor 1 op te laden\",\"error_new_message\":\"Er is een fout opgetreden bij het doorsturen van uw bericht.\",\"error_upload\":\"Er is een fout opgetreden bij het uploaden\",\"cancel_write\":\"Bent u zeker dat u dit bericht wil annuleren?\",\"empty_message\":\"Dit bericht is leeg en kan niet worden verzonden !\",\"cancel\":\"Annuleren\",\"just_now\":\"Net\",\"notification_emails\":\"Email notificaties\",\"none\":\"Niets\",\"hourly\":\"Elk uur\",\"daily\":\"Elke dag\",\"weekly\":\"Elke week\",\"monthly\":\"Elke maand\",\"notification_emails_stopped\":\"Email notificaties zijn gestopt !\",\"group_share_choice\":\"Naar welke groep wenst u dit bericht te sturen?\",\"public_link\":\"publieke link\",\"default_group\":\"Standaard groep\",\"destroy_account\":\"Verwijder jouw account\",\"destroy_account_explain\":\"Indien u uw account verwijdert, kan deze niet meer worden teruggehaald.\",\"are_you_sure\":\"Bent u zeker?\",\"share_message\":\"Deel bericht\",\"users\":\"gebruikers\",\"has_posted_in\":\"heeft gepost in\",\"has_commented_on\":\"heeft commentaar gegeven op\",\"has_joined\":\"is erbij gekomen\",\"has_left\":\"is weggegaan\",\"the_message_from\":\"het bericht van\",\"in\":\"in\",\"lang\":\"taal\",\"reply\":\"antwoorden\",\"replies_one\":\"{{count}} antwoord\",\"replies_other\":\"{{count}} antwoorden\",\"publish_in_group\":\"gepubliseerd in de groep\",\"search_in_group\":\"zoek in deze groep\",\"changed_group_name\":\"verandert de groepsnaam\",\"to\":\"aan\",\"notifications\":\"notificaties\",\"mark_all_as_read\":\"markeer als gelezen\",\"search_without_result\":\"Er werd geen enkel bericht gevonden met deze criteria\",\"add_bookmark\":\"Bookmark bericht\",\"remove_bookmark\":\"Unbookmark bericht\",\"bookmarks\":\"bookmarks\",\"api_key\":\"API key\",\"reset_api_key\":\"Reset the API key (you will be disconnected)\",\"video_not_ready\":\"Video is nog niet klaar.\",\"bookmark_added\":\"Bericht toegevoegd aan bookmarks !\",\"bookmark_removed\":\"Bericht verwijderd uit bookmarks !\",\"parent_message\":\"Parent bericht\"}');\n\n\nvar $73a8532651d8adeb$exports = {};\n$73a8532651d8adeb$exports = JSON.parse('{\"previous_coms\":\"Pozri predch\\xe1dzaj\\xface koment\\xe1re\",\"next_coms\":\"Pozri nasleduj\\xface koment\\xe1re\",\"ago\":\"{{duration}} sp\\xe4\",\"groups\":\"Skupiny\",\"login_placeholder\":\"email\",\"password_placeholder\":\"heslo\",\"new_password_placeholder\":\"nov\\xe9 heslo\",\"confirm_password_placeholder\":\"potvrdi heslo\",\"connect\":\"Connection\",\"submit\":\"Odosla\",\"title_placeholder\":\"Nadpis v\\xe1ho pr\\xedspevku (nie je povinn\\xe9)\",\"text_placeholder\":\"Tu nap\\xed pr\\xedspevok\",\"upload_image\":\"Prida fotografie\",\"upload_video\":\"Prida vide\\xe1\",\"upload_music\":\"Prida hudbu\",\"upload_pdf\":\"Prida pdf\",\"add_date\":\"Prida d\\xe1tum\",\"logout\":\"Odhl\\xe1si\",\"settings\":\"Nastavenia\",\"name\":\"Meno\",\"name_input\":\"Zvo si nejak\\xe9 meno\",\"login\":\"Login\",\"login_input\":\"Zvo si nejak\\xe9 prihlasovacie meno\",\"email\":\"Email\",\"email_input\":\"Nap\\xed tvoj email sem\",\"save_changes\":\"Uloi zmeny\",\"password\":\"Heslo\",\"password_input\":\"Tu nap\\xed heslo\",\"Invalid login/password\":\"Nespr\\xe1vny login alebo heslo\",\"edit\":\"Upravi\",\"delete\":\"Zmaza\",\"ask_delete_message\":\"Si si ist\\xfd, e chce zmaza tento pr\\xedspevok?\",\"account\":\"\\xdaet\",\"forgot_password\":\"Zabudol si svoje heslo?\",\"password_reset_mail_sent\":\"Email s inform\\xe1ciami o nastaven\\xed nov\\xe9ho hesla bol odoslan\\xfd!\",\"User not found\":\"Neexistuj\\xfaci u\\xedvate\",\"reset_password_title\":\"Zmena hesla\",\"error\":\"Chyba\",\"passwords_dont_match\":\"Hesl\\xe1 sa nezhoduj\\xfa\",\"invitation_link\":\"Poz\\xfdvac\\xed odkaz\",\"reset_invitation_link\":\"Reset invitation link\",\"invitation_welcome\":\"Vitajte v Zusam ! Zaregistrujte sa pred pripojen\\xedm sa ku skupine.\",\"signup\":\"Prihl\\xe1si\",\"create_a_group\":\"Vytvori skupinu\",\"create_the_group\":\"Vytvori skupinu\",\"quit_group\":\"Opusti skupinu\",\"settings_updated\":\"Vae nastavenia boli zmenen\\xe9\",\"group_updated\":\"Nastavenia skupiny boli zmenen\\xe9\",\"group_left\":\"Opustili ste skupinu\",\"multiple_photos_upload\":\"Objavila sa chyba. Sk\\xfaste priloi obr\\xe1zky po jednom (t\\xe1to chyba sa m\\xf4e objavova v niektor\\xfdch prehliadaoch)\",\"error_new_message\":\"Pri odosielan\\xed pr\\xedspevku sa objavila chyba\",\"error_upload\":\"Objavila sa chyba poas odosielania\",\"cancel_write\":\"Chcete naozaj zrui vytv\\xe1ranie nov\\xe9ho pr\\xedspevku?\",\"empty_message\":\"Pr\\xe1zdna spr\\xe1va nem\\xf4e by odoslan\\xe1\",\"cancel\":\"Zrui\",\"just_now\":\"Pr\\xe1ve teraz\",\"notification_emails\":\"Notifikan\\xfd email\",\"none\":\"iadne\",\"hourly\":\"Kad\\xfa hodinu\",\"daily\":\"Denne\",\"weekly\":\"T\\xfddenne\",\"monthly\":\"Mesane\",\"notification_emails_stopped\":\"E-mailov\\xe9 upozornenia sa zastavili!\",\"group_share_choice\":\"Do ktorej skupiny chcete odosla t\\xfato spr\\xe1vu ?\",\"public_link\":\"verejn\\xe9 spojenie\",\"default_group\":\"Predvolen\\xfa skupinu\",\"destroy_account\":\"Odstr\\xe1te svoj \\xfaet\",\"destroy_account_explain\":\"Po odstr\\xe1nen\\xed \\xfatu sa u nevr\\xe1ti\",\"are_you_sure\":\"Si si ist\\xfd ?\",\"share_message\":\"zdieajte spr\\xe1vu\",\"users\":\"u\\xedvatelia\",\"has_posted_in\":\"zverejnila v\",\"has_commented_on\":\"komentoval\",\"has_joined\":\"sa pripojil k\",\"has_left\":\"opustil\",\"the_message_from\":\"spr\\xe1va od\",\"in\":\"v\",\"lang\":\"jazyk\",\"reply\":\"odpove\",\"replies_one\":\"{{count}} odpove\",\"replies_other\":\"{{count}} odpoved\\xed\",\"publish_in_group\":\"publikova v skupine\",\"search_in_group\":\"hada v tejto skupine\",\"changed_group_name\":\"zmenil n\\xe1zov skupiny\",\"to\":\"na\",\"notifications\":\"ozn\\xe1menia\",\"mark_all_as_read\":\"oznai vetko ako pre\\xedtan\\xe9\",\"search_without_result\":\"V\\xe1mu vyhad\\xe1vaniu nezodpoved\\xe1 iadna spr\\xe1va\",\"add_bookmark\":\"T\\xfato spr\\xe1vu uloi medzi z\\xe1loky\",\"remove_bookmark\":\"Zrute oznaenie tejto spr\\xe1vy\",\"bookmarks\":\"z\\xe1loky\",\"api_key\":\"K\\xfa API\",\"reset_api_key\":\"Obnovte k\\xfa rozhrania API (budete odpojen\\xed)\",\"video_not_ready\":\"Video ete nie je pripraven\\xe9\",\"bookmark_added\":\"Spr\\xe1va pridan\\xe1 do z\\xe1loiek !\",\"bookmark_removed\":\"Spr\\xe1va bola odstr\\xe1nen\\xe1 zo z\\xe1loiek !\",\"parent_message\":\"Spr\\xe1va rodia\"}');\n\n\nconst $a1c13afdb4e96f13$export$9a771d6906431624 = {\n    possibleLang: {\n        en: \"English\",\n        es: \"Espa\\xf1ol\",\n        fr: \"Fran\\xe7ais\",\n        nl: \"Nederlands\",\n        sk: \"Slovensk\\xfd\"\n    },\n    // possible dicts names to load\n    getDefaultLang: ()=>(document.querySelector(\"meta[name='zusam:default-lang']\") || {}).content || \"en\",\n    getCurrentLang: ()=>(0, $c6f88c2c6ea3c4b1$export$2e2bcd8739ae039).lang || $a1c13afdb4e96f13$export$9a771d6906431624.getDefaultLang()\n};\n(0, $cb95bcae1947788f$export$2e2bcd8739ae039).use((0, $f4663bfcfe4ffd82$export$ae7e14d40d89f296)).init({\n    resources: {\n        en: {\n            translation: (0, (/*@__PURE__*/$parcel$interopDefault($a73d92951c8d8437$exports)))\n        },\n        fr: {\n            translation: (0, (/*@__PURE__*/$parcel$interopDefault($5dcf1f301e8131c9$exports)))\n        },\n        sk: {\n            translation: (0, (/*@__PURE__*/$parcel$interopDefault($73a8532651d8adeb$exports)))\n        },\n        es: {\n            translation: (0, (/*@__PURE__*/$parcel$interopDefault($c584da26f4329295$exports)))\n        },\n        nl: {\n            translation: (0, (/*@__PURE__*/$parcel$interopDefault($7101a0967e062291$exports)))\n        }\n    },\n    lng: $a1c13afdb4e96f13$export$9a771d6906431624.getCurrentLang(),\n    // if you're using a language detector, do not define the lng option\n    fallbackLng: $a1c13afdb4e96f13$export$9a771d6906431624.getDefaultLang(),\n    interpolation: {\n        escapeValue: false // react already safes from xss => https://www.i18next.com/translation-function/interpolation#unescape\n    }\n});\n\n\n// Stateless utilities\n// Should be agnostic of other components of zusam if possible\nconst $30ef6c271b4e9124$var$util = {\n    // check if the input is a valid URL\n    isValidUrl: (url)=>{\n        try {\n            new URL(url);\n            return true;\n        } catch (_) {\n            return false;\n        }\n    },\n    limitLength: (string, size = 20)=>{\n        return [\n            ...string.split(\"\").slice(0, Math.floor(size / 2)),\n            string.length > size ? \"...\" : \"\",\n            ...string.split(\"\").slice(Math.floor(size / 2)).slice(Math.floor(size / 2) * -1)\n        ].join(\"\");\n    },\n    escapeRegex: (string)=>{\n        return string.replace(/[-/\\\\^$*+?.()|[\\]{}]/g, \"\\\\$&\");\n    },\n    getSubpath: ()=>new URL(document.baseURI).pathname.replace(/\\/$/, \"\"),\n    // toApp transforms an api url into an \"app\" url that the user can naviate to\n    toApp: (url)=>{\n        if (!url || typeof url != \"string\") return \"\";\n        if ($30ef6c271b4e9124$var$util.isValidUrl(url)) return url;\n        return location.origin + $30ef6c271b4e9124$var$util.getSubpath() + url;\n    },\n    // genId starts with a letter to be DOM friendly\n    // seed can be used to order ids\n    // TODO improve using ideas from ai/nanoid\n    genId: (seed)=>`z${seed || \"\"}-${Date.now().toString().slice(-5)}${Math.random().toString().slice(-5)}`,\n    // transform an id into int for the API (TODO: revisit this on 0.5)\n    id2Int: (id)=>parseInt(id.replace(/[^\\d]/g, \"\"), 10),\n    urlRegExp: /(\\([^()]*)?https?:\\/\\/[^[\\]\\n\\r ]*[-A-Za-z0-9+&@#/%=~_()|]/i,\n    getUrl: (txt)=>{\n        if (!txt) return \"\";\n        let url = txt.match($30ef6c271b4e9124$var$util.urlRegExp);\n        if (url && url[0].startsWith(\"(\")) {\n            let link = url[0].match(/https?:\\/\\//i);\n            url[\"index\"] += link[\"index\"];\n            url[0] = url[0].slice(link[\"index\"]);\n            if (url[0].endsWith(\")\")) url[0] = url[0].slice(0, -1);\n        }\n        return url;\n    },\n    limitStrSize: (str, limit)=>str.length > limit ? `${str.slice(0, limit - 3)}...` : str,\n    // full datetime as a string adapted to the users timezone\n    humanFullDate: (timestamp)=>{\n        if (!timestamp) return \"\";\n        let d = new Date(timestamp * 1000);\n        d = new Date(d.getTime() + d.getTimezoneOffset() * -60000);\n        return d.toISOString().replace(\"T\", \" \").replace(/\\..*$/, \"\");\n    },\n    // duration relative to event\n    humanTime: (timestamp)=>{\n        if (!timestamp) return null;\n        const duration = Math.abs(Math.round((Date.now() / 1000 - timestamp) / 60));\n        if (duration < 1) return (0, $cb95bcae1947788f$export$2e2bcd8739ae039).t(\"just_now\");\n        if (duration < 60) return (0, $cb95bcae1947788f$export$2e2bcd8739ae039).t(\"ago\", {\n            duration: `${duration}mn`\n        });\n        if (duration < 1440) return (0, $cb95bcae1947788f$export$2e2bcd8739ae039).t(\"ago\", {\n            duration: `${Math.floor(duration / 60)}h`\n        });\n        return $30ef6c271b4e9124$var$util.humanFullDate(timestamp).split(\" \")[0];\n    },\n    // get the id of an object from an url\n    getId: (e)=>{\n        switch(typeof e){\n            case \"object\":\n                return e ? e.id : null;\n            case \"string\":\n                return e.split(\"/\").pop().replace(/\\?.*$/, \"\").replace(/\\.\\w+$/, \"\");\n            default:\n                console.error(e);\n                throw \"Could not extract id !\";\n        }\n    },\n    // get the url to a thubmnail\n    thumbnail: (id, width, height = 99999)=>typeof id == \"string\" && !id.startsWith(\"z\") ? $30ef6c271b4e9124$var$util.toApp(`/api/images/thumbnail/${width}/${height}/${id}`) : null,\n    // same as http.thumbnail but for a crop\n    crop: (id, width, height)=>typeof id == \"string\" && !id.startsWith(\"z\") ? $30ef6c271b4e9124$var$util.toApp(`/api/images/crop/${width}/${height}/${id}`) : null,\n    // default avatar in base64\n    defaultAvatar: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAABlBMVEUAAAD///+l2Z/dAAAAAnRSTlMA/iyWEiMAAAMJSURBVHja7ZtBjpwwEEWxmIhFFmiURZZEyi6HCLkZHCXr2eQKHIUjoEiRSGRRiWB6klaDU/hDF4z+W6LuNz3+ZRvbkCSEEEIIIYQQQgghhBBCCCGEEEIIITvwGfy+kxoTpNJigkw6TJBLjwkK8ZiglMFYUInAAqwQRKRBBR0q8FhXEKwVR0GLCvxCjeo6oyzkoIxnEvj5661acPO3yvFqpxdcV+Pj88VeNZ7cGB4ul1QFkv399KT4KBIpmGEwF4i9oL6DIN/3FzToL2ju8AvsBeE2aNFfQMFJBCkF0/R+bkHyCgSVuaDcVaC5zyvMBTkqyHYVaBZDKSpw5oJgLcMC5doXFBSoIMNutjcQBHJULmlhQYUKlmNQbs9kqGC5P2o3FqBBOVjMWkEOdcZQKam3dyqkkgP/g35zxmEpLhbjir0ZFz2tXHgbPR5deI+EMPKmig/hhU/fIkOYL4iYDbIyqpCXajp2Zy4yhNuxqUfbMCaEIraQZ9swJgQBQ0jBQr6eYXrzQrYIYdtC9uaFbDKayJajyTkL+VijyWA+mnBajGpDeFrMzAu5BNvwKoQBDaFHQ+jQEBo0hBoMYUBD8GgIHRpCi44mcAiJRQhoITvzQs63LGQxL2SOJnEhiHUI296bwNOixb1JYr5kz8yX7Odf6XDfBC9kd6yVzq+np69QIY/8AEJ45kt0T4hIM0VONm5CiLlVhLflS+CwdTGEVa2AnfOFTogaVAAfcg1QivpqzLFHD4LnrR0q8FAhqlux3PPUu0EFLSrooL6kLeaQwKMCTY4OfUjVoY+IOvTxSFiw81NtnbmgRwXeXDAg08IxBPIKBPX5BQ0FBxC0+wtSCg4gcBT853nruwiqfQXNHQT/LDiGD9Old6sEL2umn3MtqxDks9NotVbwfaG+FDfL6fznsjV32365cTXrtqoPdJKYrbmreIDvT42DCMYoIUEu4FvIKSpwgr6JvYEAfJm8QgUl+j58gb6Rn4Nvcv/p0jUmcODr8IQQQgghhBBCCCGEEEIIIYQQQgghs/wGp6uYgtiKODIAAAAASUVORK5CYII=\",\n    hash: (str)=>str.split(\"\").reduce((a, c)=>(a << 5) - a + c.charCodeAt() | 0),\n    colorHash: (str)=>[\n            \"#000000\",\n            \"#333366\",\n            \"#333399\",\n            \"#3333CC\",\n            \"#339933\",\n            \"#339999\",\n            \"#33CC33\",\n            \"#33CC99\",\n            \"#663333\",\n            \"#663366\",\n            \"#666633\",\n            \"#666699\",\n            \"#66CC33\",\n            \"#66CCCC\",\n            \"#993333\",\n            \"#993366\",\n            \"#993399\",\n            \"#996633\",\n            \"#999966\",\n            \"#CC3333\",\n            \"#CC3366\",\n            \"#CC3399\",\n            \"#CC33CC\",\n            \"#CC6633\",\n            \"#CC9933\",\n            \"#CC99CC\",\n            \"#CCCC33\"\n        ][Math.abs($30ef6c271b4e9124$var$util.hash(str)) % 27],\n    backgroundHash: (str)=>{\n        if (!str) return \"background-color: #aaa;\";\n        let c1 = $30ef6c271b4e9124$var$util.colorHash(str);\n        let c2 = $30ef6c271b4e9124$var$util.colorHash(str.split(\"\").reverse().join(\".\"));\n        let deg = 45 * (Math.abs($30ef6c271b4e9124$var$util.hash(str)) % 4);\n        return `background-color:${c1};background-image:linear-gradient(${deg}deg, ${c2} 15%, transparent 15% 30%, ${c2} 30% 45%, transparent 45% 60%, ${c2} 60% 75%, transparent 75% 90%, ${c2} 90%);`;\n    },\n    // Accepts a keydown event and checks if it's enter. Compatibility between browsers\n    // We do it the permissive way\n    is_it_enter: (e)=>{\n        return e.keyCode == 13 || e.keyCode == 10 || e.key == \"Enter\" || e.key == \"\" || e.code == \"Enter\";\n    },\n    getVersion: ()=>(document.querySelector(\"meta[name='zusam:version']\") || {}).content || \"unknown\",\n    getWidthBreakpoint: ()=>{\n        if (window.innerWidth > 1800) return 1800;\n        if (window.innerWidth > 1400) return 1400;\n        if (window.innerWidth > 992) return 992;\n        if (window.innerWidth > 768) return 768;\n        if (window.innerWidth > 576) return 576;\n        return window.innerWidth;\n    }\n};\nvar $30ef6c271b4e9124$export$2e2bcd8739ae039 = $30ef6c271b4e9124$var$util;\n\n\nconst $dcc08ede0b85ca51$var$http = {\n    sendFile: (formData, loadFn, progressFn = null, errorFn = null)=>{\n        return (0, $a43f12068c4c782d$export$2e2bcd8739ae039).get(\"apiKey\").then((apiKey)=>{\n            let xhr = new XMLHttpRequest();\n            xhr.open(\"POST\", `${document.baseURI}api/files`, true);\n            xhr.setRequestHeader(\"X-AUTH-TOKEN\", apiKey);\n            xhr.addEventListener(\"load\", (e)=>{\n                if (e.target.status > 199 && e.target.status < 300) loadFn(JSON.parse(e.target.response));\n                else if (errorFn) errorFn(e.target.statusText);\n                else console.error(e.target.statusText);\n            });\n            if (progressFn) xhr.upload.onprogress = (e)=>progressFn({\n                    loaded: e.loaded,\n                    total: e.total\n                });\n            if (errorFn) xhr.addEventListener(\"error\", (e)=>errorFn(e));\n            xhr.send(formData);\n        }).catch((error)=>(0, $7e84e1a08353bb30$export$2e2bcd8739ae039).add(error, \"alert-danger\"));\n    },\n    get: (url, nocache = false, delay = 0)=>{\n        return (0, $a43f12068c4c782d$export$2e2bcd8739ae039).get(\"apiKey\").then((x)=>new Promise((resolve)=>setTimeout(()=>resolve(x), delay))).then((apiKey)=>{\n            url = (0, $30ef6c271b4e9124$export$2e2bcd8739ae039).toApp(url);\n            if (!url) return;\n            let h = {};\n            if (apiKey) h[\"X-AUTH-TOKEN\"] = apiKey;\n            if (nocache) h[\"X-NOCACHE\"] = \"nocache\";\n            return fetch(url, {\n                method: \"GET\",\n                headers: new Headers(h)\n            }).then((res)=>res.ok && res.json()).catch((err)=>console.warn(`ERROR for ${url}`, err));\n        }).catch((error)=>(0, $7e84e1a08353bb30$export$2e2bcd8739ae039).add(error, \"alert-danger\"));\n    },\n    post: (url, data, delay = 0, contentType = \"application/json\")=>$dcc08ede0b85ca51$var$http.request(url, data, \"POST\", delay, contentType),\n    put: (url, data, delay = 0, contentType = \"application/json\")=>$dcc08ede0b85ca51$var$http.request(url, data, \"PUT\", delay, contentType),\n    delete: (url, data, delay = 0, contentType = \"application/json\")=>$dcc08ede0b85ca51$var$http.request(url, null, \"DELETE\", delay, contentType),\n    request: (url, data, method, delay = 0, contentType = \"application/json\")=>{\n        return (0, $a43f12068c4c782d$export$2e2bcd8739ae039).get(\"apiKey\").then((x)=>new Promise((resolve)=>setTimeout(()=>resolve(x), delay))).then((apiKey)=>{\n            url = (0, $30ef6c271b4e9124$export$2e2bcd8739ae039).toApp(url);\n            if (!url) return;\n            let h = {};\n            if (apiKey) h[\"X-AUTH-TOKEN\"] = apiKey;\n            if (contentType) h[\"Content-type\"] = contentType;\n            let fetchOptions = {\n                method: method,\n                headers: new Headers(h)\n            };\n            if (data) fetchOptions.body = typeof data == \"object\" && data.constructor.name == \"Object\" ? JSON.stringify(data) : data;\n            return fetch(url, fetchOptions).then((res)=>{\n                try {\n                    if (method != \"DELETE\") return res.json();\n                    return {};\n                } catch (exception) {\n                    console.warn(exception.message);\n                    return Promise.reject(exception.message);\n                }\n            }).catch((err)=>console.warn(`ERROR for ${url}`, err));\n        }).catch((error)=>(0, $7e84e1a08353bb30$export$2e2bcd8739ae039).add(error, \"alert-danger\"));\n    }\n};\nvar $dcc08ede0b85ca51$export$2e2bcd8739ae039 = $dcc08ede0b85ca51$var$http;\n\n\n\nconst $2d00f79f92830cb9$var$api = {\n    get info () {\n        return (0, $b7ae12cde431bd4b$export$2e2bcd8739ae039).get()?.api;\n    },\n    update: ()=>(0, $dcc08ede0b85ca51$export$2e2bcd8739ae039).get(\"/api/info\", true).then((r)=>{\n            if (!r) return;\n            (0, $b7ae12cde431bd4b$export$2e2bcd8739ae039).dispatch(\"api/update\", Object.assign({}, r));\n            setTimeout(dispatchEvent(new CustomEvent(\"apiStateChange\")));\n            return r;\n        })\n};\nvar $2d00f79f92830cb9$export$2e2bcd8739ae039 = $2d00f79f92830cb9$var$api;\n\n\n\n\n\n\n\nconst $3f4f2fd808a213d2$var$notifications = {\n    LIMIT: 20,\n    get () {\n        return (0, $b7ae12cde431bd4b$export$2e2bcd8739ae039).get()?.notifications || [];\n    },\n    update () {\n        return (0, $dcc08ede0b85ca51$export$2e2bcd8739ae039).get(`/api/me/notifications/${$3f4f2fd808a213d2$var$notifications.LIMIT + 1}`).then((r)=>{\n            (0, $b7ae12cde431bd4b$export$2e2bcd8739ae039).dispatch(\"notifications/update\", r);\n        });\n    },\n    isNew (id) {\n        let state = (0, $b7ae12cde431bd4b$export$2e2bcd8739ae039).get();\n        if (Array.isArray(state[\"notifications\"])) return state.notifications.filter((n)=>!n.read).some((n)=>$3f4f2fd808a213d2$var$notifications.matchNotification(n, id) || n.type == \"new_comment\" && n.fromMessage.id === id);\n        return false;\n    },\n    removeAllNotifications () {\n        let state = (0, $b7ae12cde431bd4b$export$2e2bcd8739ae039).get();\n        if (Array.isArray(state[\"notifications\"])) state.notifications.forEach((n)=>{\n            (0, $dcc08ede0b85ca51$export$2e2bcd8739ae039).delete(`/api/notifications/${n.id}`).then(()=>{\n                (0, $b7ae12cde431bd4b$export$2e2bcd8739ae039).dispatch(\"notifications/remove\", n);\n            });\n        });\n    },\n    markAllNotificationsAsRead () {\n        let state = (0, $b7ae12cde431bd4b$export$2e2bcd8739ae039).get();\n        if (Array.isArray(state[\"notifications\"])) state.notifications.forEach((n)=>{\n            (0, $dcc08ede0b85ca51$export$2e2bcd8739ae039).put(`/api/notifications/${n.id}`, {\n                read: true\n            }).then(()=>{\n                (0, $b7ae12cde431bd4b$export$2e2bcd8739ae039).dispatch(\"notifications/read\", n);\n            });\n        });\n    },\n    removeMatchingNotifications (id) {\n        return Promise.all((0, $b7ae12cde431bd4b$export$2e2bcd8739ae039).get().notifications.filter((n)=>$3f4f2fd808a213d2$var$notifications.matchNotification(n, id)).map((n)=>{\n            (0, $dcc08ede0b85ca51$export$2e2bcd8739ae039).delete(`/api/notifications/${n.id}`).then(()=>{\n                (0, $b7ae12cde431bd4b$export$2e2bcd8739ae039).dispatch(\"notifications/remove\", n);\n            });\n        }));\n    },\n    markAsRead (id) {\n        return Promise.all((0, $b7ae12cde431bd4b$export$2e2bcd8739ae039).get().notifications.filter((n)=>$3f4f2fd808a213d2$var$notifications.matchNotification(n, id)).map((n)=>{\n            (0, $dcc08ede0b85ca51$export$2e2bcd8739ae039).put(`/api/notifications/${n.id}`, {\n                read: true\n            }).then(()=>{\n                (0, $b7ae12cde431bd4b$export$2e2bcd8739ae039).dispatch(\"notifications/read\", n);\n            });\n        }));\n    },\n    matchNotification (notif, id) {\n        if (notif.id === id) return true;\n        if (notif.target === id) return true;\n        return false;\n    }\n};\nvar $3f4f2fd808a213d2$export$2e2bcd8739ae039 = $3f4f2fd808a213d2$var$notifications;\n\n\n\n\nconst $df5f845658677a96$var$bookmarks_utils = {\n    LIMIT: 1000,\n    get () {\n        return (0, $b7ae12cde431bd4b$export$2e2bcd8739ae039).get()?.bookmarks || [];\n    },\n    update () {\n        return (0, $dcc08ede0b85ca51$export$2e2bcd8739ae039).get(`/api/me/bookmarks/${$df5f845658677a96$var$bookmarks_utils.LIMIT + 1}`).then((r)=>{\n            (0, $b7ae12cde431bd4b$export$2e2bcd8739ae039).dispatch(\"bookmarks/update\", r);\n        });\n    }\n};\nvar $df5f845658677a96$export$2e2bcd8739ae039 = $df5f845658677a96$var$bookmarks_utils;\n\n\n\n\n\nconst $f85ec4af9c25b4e6$var$router = {\n    get () {\n        return (0, $b7ae12cde431bd4b$export$2e2bcd8739ae039).get();\n    },\n    get route () {\n        try {\n            return $f85ec4af9c25b4e6$var$router.removeSubpath(location.pathname).slice(1).split(\"/\")[0];\n        } catch  {\n            return \"\";\n        }\n    },\n    get id () {\n        try {\n            return $f85ec4af9c25b4e6$var$router.removeSubpath(location.pathname).slice(1).split(\"/\")[1];\n        } catch  {\n            return \"\";\n        }\n    },\n    get action () {\n        try {\n            return $f85ec4af9c25b4e6$var$router.removeSubpath(location.pathname).slice(1).split(\"/\")[2];\n        } catch  {\n            return \"\";\n        }\n    },\n    get backUrl () {\n        console.err(\"don't use backUrl\");\n        return (0, $b7ae12cde431bd4b$export$2e2bcd8739ae039).get()?.backUrl;\n    },\n    get search () {\n        return location.search.slice(1);\n    },\n    getEntity () {\n        if ($f85ec4af9c25b4e6$var$router.isEntity($f85ec4af9c25b4e6$var$router.route)) return (0, $dcc08ede0b85ca51$export$2e2bcd8739ae039).get(`/api/${$f85ec4af9c25b4e6$var$router.route}/${$f85ec4af9c25b4e6$var$router.id}`);\n        return Promise.resolve(null);\n    },\n    get entity () {\n        console.err(\"don't use entity\");\n        return (0, $b7ae12cde431bd4b$export$2e2bcd8739ae039).get()?.entity;\n    },\n    removeSubpath: (path)=>path ? path.replace(new RegExp(`^${(0, $30ef6c271b4e9124$export$2e2bcd8739ae039).getSubpath()}`), \"\") : \"\",\n    getParam: (param, searchParams = window.location.search.substring(1))=>{\n        let res = searchParams.split(\"&\").find((e)=>e.split(\"=\")[0] === param);\n        return res ? decodeURIComponent(res.split(\"=\")[1]) : \"\";\n    },\n    getSegments: ()=>$f85ec4af9c25b4e6$var$router.removeSubpath(window.location.pathname).slice(1).split(\"?\")[0].split(\"/\"),\n    // check if route is \"outside\": accessible to non connected user\n    isOutside: ()=>[\n            \"login\",\n            \"password-reset\",\n            \"signup\",\n            \"invitation\",\n            \"stop-notification-emails\",\n            \"public\"\n        ].includes($f85ec4af9c25b4e6$var$router.route || $f85ec4af9c25b4e6$var$router.getSegments()[0]),\n    isEntity: ()=>[\n            \"messages\",\n            \"groups\",\n            \"users\",\n            \"links\",\n            \"files\"\n        ].includes($f85ec4af9c25b4e6$var$router.getSegments()[0]),\n    getUrlComponents: (url)=>{\n        let components = {};\n        if (url) {\n            components.url = new URL(url);\n            components.path = components.url.pathname;\n            components.search = components.url.search.slice(1);\n            [components.route, components.id, components.action] = $f85ec4af9c25b4e6$var$router.removeSubpath(components.path).slice(1).split(\"/\");\n        }\n        components.entityType = \"\";\n        components.backUrl = \"\";\n        return components;\n    }\n};\nvar $f85ec4af9c25b4e6$export$2e2bcd8739ae039 = $f85ec4af9c25b4e6$var$router;\n\n\n\n\nconst $cd2f6546c5cf5c32$export$5ea928c9faf85bd3 = (0, $7e84e1a08353bb30$export$2e2bcd8739ae039);\nconst $cd2f6546c5cf5c32$export$644d8ea042df96a6 = (0, $2d00f79f92830cb9$export$2e2bcd8739ae039);\nconst $cd2f6546c5cf5c32$export$7d6f1c8842f9f527 = (0, $dcc08ede0b85ca51$export$2e2bcd8739ae039);\nconst $cd2f6546c5cf5c32$export$9a771d6906431624 = (0, $a1c13afdb4e96f13$export$9a771d6906431624);\nconst $cd2f6546c5cf5c32$export$a7357cdd1f0b0168 = (0, $cb95bcae1947788f$export$2e2bcd8739ae039);\nconst $cd2f6546c5cf5c32$export$3e32638432616b6 = (0, $c6f88c2c6ea3c4b1$export$2e2bcd8739ae039);\nconst $cd2f6546c5cf5c32$export$6008d97729a90c74 = (0, $3f4f2fd808a213d2$export$2e2bcd8739ae039);\nconst $cd2f6546c5cf5c32$export$a4ea57bd994c1f0d = (0, $df5f845658677a96$export$2e2bcd8739ae039);\nconst $cd2f6546c5cf5c32$export$5375cda95f0b0eb4 = (0, $f85ec4af9c25b4e6$export$2e2bcd8739ae039);\nconst $cd2f6546c5cf5c32$export$ddcffe0146c8f882 = (0, $a43f12068c4c782d$export$2e2bcd8739ae039);\nconst $cd2f6546c5cf5c32$export$7debb50ef11d5e0b = (0, $30ef6c271b4e9124$export$2e2bcd8739ae039);\n\n\n\n\n\n\n/**\n * React Router DOM v6.15.0\n *\n * Copyright (c) Remix Software Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */ \n/**\n * React Router v6.15.0\n *\n * Copyright (c) Remix Software Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */ \n/**\n * @remix-run/router v1.8.0\n *\n * Copyright (c) Remix Software Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */ function $c846480b5114588d$var$_extends() {\n    $c846480b5114588d$var$_extends = Object.assign ? Object.assign.bind() : function(target) {\n        for(var i = 1; i < arguments.length; i++){\n            var source = arguments[i];\n            for(var key in source)if (Object.prototype.hasOwnProperty.call(source, key)) target[key] = source[key];\n        }\n        return target;\n    };\n    return $c846480b5114588d$var$_extends.apply(this, arguments);\n}\n////////////////////////////////////////////////////////////////////////////////\n//#region Types and Constants\n////////////////////////////////////////////////////////////////////////////////\n/**\n * Actions represent the type of change to a location value.\n */ var $c846480b5114588d$export$e19cd5f9376f8cee;\n(function(Action) {\n    /**\n   * A POP indicates a change to an arbitrary index in the history stack, such\n   * as a back or forward navigation. It does not describe the direction of the\n   * navigation, only that the current index changed.\n   *\n   * Note: This is the default action for newly created history objects.\n   */ Action[\"Pop\"] = \"POP\";\n    /**\n   * A PUSH indicates a new entry being added to the history stack, such as when\n   * a link is clicked and a new page loads. When this happens, all subsequent\n   * entries in the stack are lost.\n   */ Action[\"Push\"] = \"PUSH\";\n    /**\n   * A REPLACE indicates the entry at the current index in the history stack\n   * being replaced by a new one.\n   */ Action[\"Replace\"] = \"REPLACE\";\n})($c846480b5114588d$export$e19cd5f9376f8cee || ($c846480b5114588d$export$e19cd5f9376f8cee = {}));\nconst $c846480b5114588d$var$PopStateEventType = \"popstate\";\n/**\n * Memory history stores the current location in memory. It is designed for use\n * in stateful non-browser environments like tests and React Native.\n */ function $c846480b5114588d$export$2b76ad033c6e6d08(options) {\n    if (options === void 0) options = {};\n    let { initialEntries: initialEntries = [\n        \"/\"\n    ], initialIndex: initialIndex, v5Compat: v5Compat = false } = options;\n    let entries; // Declare so we can access from createMemoryLocation\n    entries = initialEntries.map((entry, index)=>createMemoryLocation(entry, typeof entry === \"string\" ? null : entry.state, index === 0 ? \"default\" : undefined));\n    let index = clampIndex(initialIndex == null ? entries.length - 1 : initialIndex);\n    let action = $c846480b5114588d$export$e19cd5f9376f8cee.Pop;\n    let listener = null;\n    function clampIndex(n) {\n        return Math.min(Math.max(n, 0), entries.length - 1);\n    }\n    function getCurrentLocation() {\n        return entries[index];\n    }\n    function createMemoryLocation(to, state, key) {\n        if (state === void 0) state = null;\n        let location = $c846480b5114588d$var$createLocation(entries ? getCurrentLocation().pathname : \"/\", to, state, key);\n        $c846480b5114588d$export$c0e02632e14916fd(location.pathname.charAt(0) === \"/\", \"relative pathnames are not supported in memory history: \" + JSON.stringify(to));\n        return location;\n    }\n    function createHref(to) {\n        return typeof to === \"string\" ? to : $c846480b5114588d$export$fe53371bee54353d(to);\n    }\n    let history = {\n        get index () {\n            return index;\n        },\n        get action () {\n            return action;\n        },\n        get location () {\n            return getCurrentLocation();\n        },\n        createHref: createHref,\n        createURL (to) {\n            return new URL(createHref(to), \"http://localhost\");\n        },\n        encodeLocation (to) {\n            let path = typeof to === \"string\" ? $c846480b5114588d$export$8ccf933b0513f8d0(to) : to;\n            return {\n                pathname: path.pathname || \"\",\n                search: path.search || \"\",\n                hash: path.hash || \"\"\n            };\n        },\n        push (to, state) {\n            action = $c846480b5114588d$export$e19cd5f9376f8cee.Push;\n            let nextLocation = createMemoryLocation(to, state);\n            index += 1;\n            entries.splice(index, entries.length, nextLocation);\n            if (v5Compat && listener) listener({\n                action: action,\n                location: nextLocation,\n                delta: 1\n            });\n        },\n        replace (to, state) {\n            action = $c846480b5114588d$export$e19cd5f9376f8cee.Replace;\n            let nextLocation = createMemoryLocation(to, state);\n            entries[index] = nextLocation;\n            if (v5Compat && listener) listener({\n                action: action,\n                location: nextLocation,\n                delta: 0\n            });\n        },\n        go (delta) {\n            action = $c846480b5114588d$export$e19cd5f9376f8cee.Pop;\n            let nextIndex = clampIndex(index + delta);\n            let nextLocation = entries[nextIndex];\n            index = nextIndex;\n            if (listener) listener({\n                action: action,\n                location: nextLocation,\n                delta: delta\n            });\n        },\n        listen (fn) {\n            listener = fn;\n            return ()=>{\n                listener = null;\n            };\n        }\n    };\n    return history;\n}\n/**\n * Browser history stores the location in regular URLs. This is the standard for\n * most web apps, but it requires some configuration on the server to ensure you\n * serve the same app at multiple URLs.\n *\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#createbrowserhistory\n */ function $c846480b5114588d$export$719fc203c4e16dee(options) {\n    if (options === void 0) options = {};\n    function createBrowserLocation(window1, globalHistory) {\n        let { pathname: pathname, search: search, hash: hash } = window1.location;\n        return $c846480b5114588d$var$createLocation(\"\", {\n            pathname: pathname,\n            search: search,\n            hash: hash\n        }, // state defaults to `null` because `window.history.state` does\n        globalHistory.state && globalHistory.state.usr || null, globalHistory.state && globalHistory.state.key || \"default\");\n    }\n    function createBrowserHref(window1, to) {\n        return typeof to === \"string\" ? to : $c846480b5114588d$export$fe53371bee54353d(to);\n    }\n    return $c846480b5114588d$var$getUrlBasedHistory(createBrowserLocation, createBrowserHref, null, options);\n}\n/**\n * Hash history stores the location in window.location.hash. This makes it ideal\n * for situations where you don't want to send the location to the server for\n * some reason, either because you do cannot configure it or the URL space is\n * reserved for something else.\n *\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#createhashhistory\n */ function $c846480b5114588d$export$b71fdd3798280242(options) {\n    if (options === void 0) options = {};\n    function createHashLocation(window1, globalHistory) {\n        let { pathname: pathname = \"/\", search: search = \"\", hash: hash = \"\" } = $c846480b5114588d$export$8ccf933b0513f8d0(window1.location.hash.substr(1));\n        // Hash URL should always have a leading / just like window.location.pathname\n        // does, so if an app ends up at a route like /#something then we add a\n        // leading slash so all of our path-matching behaves the same as if it would\n        // in a browser router.  This is particularly important when there exists a\n        // root splat route (<Route path=\"*\">) since that matches internally against\n        // \"/*\" and we'd expect /#something to 404 in a hash router app.\n        if (!pathname.startsWith(\"/\") && !pathname.startsWith(\".\")) pathname = \"/\" + pathname;\n        return $c846480b5114588d$var$createLocation(\"\", {\n            pathname: pathname,\n            search: search,\n            hash: hash\n        }, // state defaults to `null` because `window.history.state` does\n        globalHistory.state && globalHistory.state.usr || null, globalHistory.state && globalHistory.state.key || \"default\");\n    }\n    function createHashHref(window1, to) {\n        let base = window1.document.querySelector(\"base\");\n        let href = \"\";\n        if (base && base.getAttribute(\"href\")) {\n            let url = window1.location.href;\n            let hashIndex = url.indexOf(\"#\");\n            href = hashIndex === -1 ? url : url.slice(0, hashIndex);\n        }\n        return href + \"#\" + (typeof to === \"string\" ? to : $c846480b5114588d$export$fe53371bee54353d(to));\n    }\n    function validateHashLocation(location, to) {\n        $c846480b5114588d$export$c0e02632e14916fd(location.pathname.charAt(0) === \"/\", \"relative pathnames are not supported in hash history.push(\" + JSON.stringify(to) + \")\");\n    }\n    return $c846480b5114588d$var$getUrlBasedHistory(createHashLocation, createHashHref, validateHashLocation, options);\n}\nfunction $c846480b5114588d$export$3e9cee6b33872309(value, message) {\n    if (value === false || value === null || typeof value === \"undefined\") throw new Error(message);\n}\nfunction $c846480b5114588d$export$c0e02632e14916fd(cond, message) {\n    if (!cond) {\n        // eslint-disable-next-line no-console\n        if (typeof console !== \"undefined\") console.warn(message);\n        try {\n            // Welcome to debugging history!\n            //\n            // This error is thrown as a convenience so you can more easily\n            // find the source for a warning that appears in the console by\n            // enabling \"pause on exceptions\" in your JavaScript debugger.\n            throw new Error(message);\n        // eslint-disable-next-line no-empty\n        } catch (e) {}\n    }\n}\nfunction $c846480b5114588d$var$createKey() {\n    return Math.random().toString(36).substr(2, 8);\n}\n/**\n * For browser-based histories, we combine the state and key into an object\n */ function $c846480b5114588d$var$getHistoryState(location, index) {\n    return {\n        usr: location.state,\n        key: location.key,\n        idx: index\n    };\n}\n/**\n * Creates a Location object with a unique key from the given Path\n */ function $c846480b5114588d$var$createLocation(current, to, state, key) {\n    if (state === void 0) state = null;\n    let location = $c846480b5114588d$var$_extends({\n        pathname: typeof current === \"string\" ? current : current.pathname,\n        search: \"\",\n        hash: \"\"\n    }, typeof to === \"string\" ? $c846480b5114588d$export$8ccf933b0513f8d0(to) : to, {\n        state: state,\n        // TODO: This could be cleaned up.  push/replace should probably just take\n        // full Locations now and avoid the need to run through this flow at all\n        // But that's a pretty big refactor to the current test suite so going to\n        // keep as is for the time being and just let any incoming keys take precedence\n        key: to && to.key || key || $c846480b5114588d$var$createKey()\n    });\n    return location;\n}\n/**\n * Creates a string URL path from the given pathname, search, and hash components.\n */ function $c846480b5114588d$export$fe53371bee54353d(_ref) {\n    let { pathname: pathname = \"/\", search: search = \"\", hash: hash = \"\" } = _ref;\n    if (search && search !== \"?\") pathname += search.charAt(0) === \"?\" ? search : \"?\" + search;\n    if (hash && hash !== \"#\") pathname += hash.charAt(0) === \"#\" ? hash : \"#\" + hash;\n    return pathname;\n}\n/**\n * Parses a string URL path into its separate pathname, search, and hash components.\n */ function $c846480b5114588d$export$8ccf933b0513f8d0(path) {\n    let parsedPath = {};\n    if (path) {\n        let hashIndex = path.indexOf(\"#\");\n        if (hashIndex >= 0) {\n            parsedPath.hash = path.substr(hashIndex);\n            path = path.substr(0, hashIndex);\n        }\n        let searchIndex = path.indexOf(\"?\");\n        if (searchIndex >= 0) {\n            parsedPath.search = path.substr(searchIndex);\n            path = path.substr(0, searchIndex);\n        }\n        if (path) parsedPath.pathname = path;\n    }\n    return parsedPath;\n}\nfunction $c846480b5114588d$var$getUrlBasedHistory(getLocation, createHref, validateLocation, options) {\n    if (options === void 0) options = {};\n    let { window: window1 = document.defaultView, v5Compat: v5Compat = false } = options;\n    let globalHistory = window1.history;\n    let action = $c846480b5114588d$export$e19cd5f9376f8cee.Pop;\n    let listener = null;\n    let index = getIndex();\n    // Index should only be null when we initialize. If not, it's because the\n    // user called history.pushState or history.replaceState directly, in which\n    // case we should log a warning as it will result in bugs.\n    if (index == null) {\n        index = 0;\n        globalHistory.replaceState($c846480b5114588d$var$_extends({}, globalHistory.state, {\n            idx: index\n        }), \"\");\n    }\n    function getIndex() {\n        let state = globalHistory.state || {\n            idx: null\n        };\n        return state.idx;\n    }\n    function handlePop() {\n        action = $c846480b5114588d$export$e19cd5f9376f8cee.Pop;\n        let nextIndex = getIndex();\n        let delta = nextIndex == null ? null : nextIndex - index;\n        index = nextIndex;\n        if (listener) listener({\n            action: action,\n            location: history.location,\n            delta: delta\n        });\n    }\n    function push(to, state) {\n        action = $c846480b5114588d$export$e19cd5f9376f8cee.Push;\n        let location = $c846480b5114588d$var$createLocation(history.location, to, state);\n        if (validateLocation) validateLocation(location, to);\n        index = getIndex() + 1;\n        let historyState = $c846480b5114588d$var$getHistoryState(location, index);\n        let url = history.createHref(location);\n        // try...catch because iOS limits us to 100 pushState calls :/\n        try {\n            globalHistory.pushState(historyState, \"\", url);\n        } catch (error) {\n            // If the exception is because `state` can't be serialized, let that throw\n            // outwards just like a replace call would so the dev knows the cause\n            // https://html.spec.whatwg.org/multipage/nav-history-apis.html#shared-history-push/replace-state-steps\n            // https://html.spec.whatwg.org/multipage/structured-data.html#structuredserializeinternal\n            if (error instanceof DOMException && error.name === \"DataCloneError\") throw error;\n            // They are going to lose state here, but there is no real\n            // way to warn them about it since the page will refresh...\n            window1.location.assign(url);\n        }\n        if (v5Compat && listener) listener({\n            action: action,\n            location: history.location,\n            delta: 1\n        });\n    }\n    function replace(to, state) {\n        action = $c846480b5114588d$export$e19cd5f9376f8cee.Replace;\n        let location = $c846480b5114588d$var$createLocation(history.location, to, state);\n        if (validateLocation) validateLocation(location, to);\n        index = getIndex();\n        let historyState = $c846480b5114588d$var$getHistoryState(location, index);\n        let url = history.createHref(location);\n        globalHistory.replaceState(historyState, \"\", url);\n        if (v5Compat && listener) listener({\n            action: action,\n            location: history.location,\n            delta: 0\n        });\n    }\n    function createURL(to) {\n        // window.location.origin is \"null\" (the literal string value) in Firefox\n        // under certain conditions, notably when serving from a local HTML file\n        // See https://bugzilla.mozilla.org/show_bug.cgi?id=878297\n        let base = window1.location.origin !== \"null\" ? window1.location.origin : window1.location.href;\n        let href = typeof to === \"string\" ? to : $c846480b5114588d$export$fe53371bee54353d(to);\n        $c846480b5114588d$export$3e9cee6b33872309(base, \"No window.location.(origin|href) available to create URL for href: \" + href);\n        return new URL(href, base);\n    }\n    let history = {\n        get action () {\n            return action;\n        },\n        get location () {\n            return getLocation(window1, globalHistory);\n        },\n        listen (fn) {\n            if (listener) throw new Error(\"A history only accepts one active listener\");\n            window1.addEventListener($c846480b5114588d$var$PopStateEventType, handlePop);\n            listener = fn;\n            return ()=>{\n                window1.removeEventListener($c846480b5114588d$var$PopStateEventType, handlePop);\n                listener = null;\n            };\n        },\n        createHref (to) {\n            return createHref(window1, to);\n        },\n        createURL: createURL,\n        encodeLocation (to) {\n            // Encode a Location the same way window.location would\n            let url = createURL(to);\n            return {\n                pathname: url.pathname,\n                search: url.search,\n                hash: url.hash\n            };\n        },\n        push: push,\n        replace: replace,\n        go (n) {\n            return globalHistory.go(n);\n        }\n    };\n    return history;\n}\n//#endregion\nvar $c846480b5114588d$var$ResultType;\n(function(ResultType) {\n    ResultType[\"data\"] = \"data\";\n    ResultType[\"deferred\"] = \"deferred\";\n    ResultType[\"redirect\"] = \"redirect\";\n    ResultType[\"error\"] = \"error\";\n})($c846480b5114588d$var$ResultType || ($c846480b5114588d$var$ResultType = {}));\nconst $c846480b5114588d$var$immutableRouteKeys = new Set([\n    \"lazy\",\n    \"caseSensitive\",\n    \"path\",\n    \"id\",\n    \"index\",\n    \"children\"\n]);\nfunction $c846480b5114588d$var$isIndexRoute(route) {\n    return route.index === true;\n}\n// Walk the route tree generating unique IDs where necessary so we are working\n// solely with AgnosticDataRouteObject's within the Router\nfunction $c846480b5114588d$export$4a6d22b32134ea5d(routes, mapRouteProperties, parentPath, manifest) {\n    if (parentPath === void 0) parentPath = [];\n    if (manifest === void 0) manifest = {};\n    return routes.map((route, index)=>{\n        let treePath = [\n            ...parentPath,\n            index\n        ];\n        let id = typeof route.id === \"string\" ? route.id : treePath.join(\"-\");\n        $c846480b5114588d$export$3e9cee6b33872309(route.index !== true || !route.children, \"Cannot specify children on an index route\");\n        $c846480b5114588d$export$3e9cee6b33872309(!manifest[id], 'Found a route id collision on id \"' + id + '\".  Route ' + \"id's must be globally unique within Data Router usages\");\n        if ($c846480b5114588d$var$isIndexRoute(route)) {\n            let indexRoute = $c846480b5114588d$var$_extends({}, route, mapRouteProperties(route), {\n                id: id\n            });\n            manifest[id] = indexRoute;\n            return indexRoute;\n        } else {\n            let pathOrLayoutRoute = $c846480b5114588d$var$_extends({}, route, mapRouteProperties(route), {\n                id: id,\n                children: undefined\n            });\n            manifest[id] = pathOrLayoutRoute;\n            if (route.children) pathOrLayoutRoute.children = $c846480b5114588d$export$4a6d22b32134ea5d(route.children, mapRouteProperties, treePath, manifest);\n            return pathOrLayoutRoute;\n        }\n    });\n}\n/**\n * Matches the given routes to a location and returns the match data.\n *\n * @see https://reactrouter.com/utils/match-routes\n */ function $c846480b5114588d$export$2708184779ceb39d(routes, locationArg, basename) {\n    if (basename === void 0) basename = \"/\";\n    let location = typeof locationArg === \"string\" ? $c846480b5114588d$export$8ccf933b0513f8d0(locationArg) : locationArg;\n    let pathname = $c846480b5114588d$export$b69e3301ce081aa3(location.pathname || \"/\", basename);\n    if (pathname == null) return null;\n    let branches = $c846480b5114588d$var$flattenRoutes(routes);\n    $c846480b5114588d$var$rankRouteBranches(branches);\n    let matches = null;\n    for(let i = 0; matches == null && i < branches.length; ++i)matches = $c846480b5114588d$var$matchRouteBranch(branches[i], // Incoming pathnames are generally encoded from either window.location\n    // or from router.navigate, but we want to match against the unencoded\n    // paths in the route definitions.  Memory router locations won't be\n    // encoded here but there also shouldn't be anything to decode so this\n    // should be a safe operation.  This avoids needing matchRoutes to be\n    // history-aware.\n    $c846480b5114588d$var$safelyDecodeURI(pathname));\n    return matches;\n}\nfunction $c846480b5114588d$var$flattenRoutes(routes, branches, parentsMeta, parentPath) {\n    if (branches === void 0) branches = [];\n    if (parentsMeta === void 0) parentsMeta = [];\n    if (parentPath === void 0) parentPath = \"\";\n    let flattenRoute = (route, index, relativePath)=>{\n        let meta = {\n            relativePath: relativePath === undefined ? route.path || \"\" : relativePath,\n            caseSensitive: route.caseSensitive === true,\n            childrenIndex: index,\n            route: route\n        };\n        if (meta.relativePath.startsWith(\"/\")) {\n            $c846480b5114588d$export$3e9cee6b33872309(meta.relativePath.startsWith(parentPath), 'Absolute route path \"' + meta.relativePath + '\" nested under path ' + ('\"' + parentPath + '\" is not valid. An absolute child route path ') + \"must start with the combined path of all its parent routes.\");\n            meta.relativePath = meta.relativePath.slice(parentPath.length);\n        }\n        let path = $c846480b5114588d$export$86d9a7913e44197e([\n            parentPath,\n            meta.relativePath\n        ]);\n        let routesMeta = parentsMeta.concat(meta);\n        // Add the children before adding this route to the array so we traverse the\n        // route tree depth-first and child routes appear before their parents in\n        // the \"flattened\" version.\n        if (route.children && route.children.length > 0) {\n            $c846480b5114588d$export$3e9cee6b33872309(// Our types know better, but runtime JS may not!\n            // @ts-expect-error\n            route.index !== true, \"Index routes must not have child routes. Please remove \" + ('all child routes from route path \"' + path + '\".'));\n            $c846480b5114588d$var$flattenRoutes(route.children, branches, routesMeta, path);\n        }\n        // Routes without a path shouldn't ever match by themselves unless they are\n        // index routes, so don't add them to the list of possible branches.\n        if (route.path == null && !route.index) return;\n        branches.push({\n            path: path,\n            score: $c846480b5114588d$var$computeScore(path, route.index),\n            routesMeta: routesMeta\n        });\n    };\n    routes.forEach((route, index)=>{\n        var _route$path;\n        // coarse-grain check for optional params\n        if (route.path === \"\" || !((_route$path = route.path) != null && _route$path.includes(\"?\"))) flattenRoute(route, index);\n        else for (let exploded of $c846480b5114588d$var$explodeOptionalSegments(route.path))flattenRoute(route, index, exploded);\n    });\n    return branches;\n}\n/**\n * Computes all combinations of optional path segments for a given path,\n * excluding combinations that are ambiguous and of lower priority.\n *\n * For example, `/one/:two?/three/:four?/:five?` explodes to:\n * - `/one/three`\n * - `/one/:two/three`\n * - `/one/three/:four`\n * - `/one/three/:five`\n * - `/one/:two/three/:four`\n * - `/one/:two/three/:five`\n * - `/one/three/:four/:five`\n * - `/one/:two/three/:four/:five`\n */ function $c846480b5114588d$var$explodeOptionalSegments(path) {\n    let segments = path.split(\"/\");\n    if (segments.length === 0) return [];\n    let [first, ...rest] = segments;\n    // Optional path segments are denoted by a trailing `?`\n    let isOptional = first.endsWith(\"?\");\n    // Compute the corresponding required segment: `foo?` -> `foo`\n    let required = first.replace(/\\?$/, \"\");\n    if (rest.length === 0) // Intepret empty string as omitting an optional segment\n    // `[\"one\", \"\", \"three\"]` corresponds to omitting `:two` from `/one/:two?/three` -> `/one/three`\n    return isOptional ? [\n        required,\n        \"\"\n    ] : [\n        required\n    ];\n    let restExploded = $c846480b5114588d$var$explodeOptionalSegments(rest.join(\"/\"));\n    let result = [];\n    // All child paths with the prefix.  Do this for all children before the\n    // optional version for all children so we get consistent ordering where the\n    // parent optional aspect is preferred as required.  Otherwise, we can get\n    // child sections interspersed where deeper optional segments are higher than\n    // parent optional segments, where for example, /:two would explodes _earlier_\n    // then /:one.  By always including the parent as required _for all children_\n    // first, we avoid this issue\n    result.push(...restExploded.map((subpath)=>subpath === \"\" ? required : [\n            required,\n            subpath\n        ].join(\"/\")));\n    // Then if this is an optional value, add all child versions without\n    if (isOptional) result.push(...restExploded);\n    // for absolute paths, ensure `/` instead of empty segment\n    return result.map((exploded)=>path.startsWith(\"/\") && exploded === \"\" ? \"/\" : exploded);\n}\nfunction $c846480b5114588d$var$rankRouteBranches(branches) {\n    branches.sort((a, b)=>a.score !== b.score ? b.score - a.score // Higher score first\n         : $c846480b5114588d$var$compareIndexes(a.routesMeta.map((meta)=>meta.childrenIndex), b.routesMeta.map((meta)=>meta.childrenIndex)));\n}\nconst $c846480b5114588d$var$paramRe = /^:\\w+$/;\nconst $c846480b5114588d$var$dynamicSegmentValue = 3;\nconst $c846480b5114588d$var$indexRouteValue = 2;\nconst $c846480b5114588d$var$emptySegmentValue = 1;\nconst $c846480b5114588d$var$staticSegmentValue = 10;\nconst $c846480b5114588d$var$splatPenalty = -2;\nconst $c846480b5114588d$var$isSplat = (s)=>s === \"*\";\nfunction $c846480b5114588d$var$computeScore(path, index) {\n    let segments = path.split(\"/\");\n    let initialScore = segments.length;\n    if (segments.some($c846480b5114588d$var$isSplat)) initialScore += $c846480b5114588d$var$splatPenalty;\n    if (index) initialScore += $c846480b5114588d$var$indexRouteValue;\n    return segments.filter((s)=>!$c846480b5114588d$var$isSplat(s)).reduce((score, segment)=>score + ($c846480b5114588d$var$paramRe.test(segment) ? $c846480b5114588d$var$dynamicSegmentValue : segment === \"\" ? $c846480b5114588d$var$emptySegmentValue : $c846480b5114588d$var$staticSegmentValue), initialScore);\n}\nfunction $c846480b5114588d$var$compareIndexes(a, b) {\n    let siblings = a.length === b.length && a.slice(0, -1).every((n, i)=>n === b[i]);\n    return siblings ? // If two routes are siblings, we should try to match the earlier sibling\n    // first. This allows people to have fine-grained control over the matching\n    // behavior by simply putting routes with identical paths in the order they\n    // want them tried.\n    a[a.length - 1] - b[b.length - 1] : // Otherwise, it doesn't really make sense to rank non-siblings by index,\n    // so they sort equally.\n    0;\n}\nfunction $c846480b5114588d$var$matchRouteBranch(branch, pathname) {\n    let { routesMeta: routesMeta } = branch;\n    let matchedParams = {};\n    let matchedPathname = \"/\";\n    let matches = [];\n    for(let i = 0; i < routesMeta.length; ++i){\n        let meta = routesMeta[i];\n        let end = i === routesMeta.length - 1;\n        let remainingPathname = matchedPathname === \"/\" ? pathname : pathname.slice(matchedPathname.length) || \"/\";\n        let match = $c846480b5114588d$export$81336c211d5ff295({\n            path: meta.relativePath,\n            caseSensitive: meta.caseSensitive,\n            end: end\n        }, remainingPathname);\n        if (!match) return null;\n        Object.assign(matchedParams, match.params);\n        let route = meta.route;\n        matches.push({\n            // TODO: Can this as be avoided?\n            params: matchedParams,\n            pathname: $c846480b5114588d$export$86d9a7913e44197e([\n                matchedPathname,\n                match.pathname\n            ]),\n            pathnameBase: $c846480b5114588d$export$a5c6d149b50c1d86($c846480b5114588d$export$86d9a7913e44197e([\n                matchedPathname,\n                match.pathnameBase\n            ])),\n            route: route\n        });\n        if (match.pathnameBase !== \"/\") matchedPathname = $c846480b5114588d$export$86d9a7913e44197e([\n            matchedPathname,\n            match.pathnameBase\n        ]);\n    }\n    return matches;\n}\n/**\n * Returns a path with params interpolated.\n *\n * @see https://reactrouter.com/utils/generate-path\n */ function $c846480b5114588d$export$82476f982757e71e(originalPath, params) {\n    if (params === void 0) params = {};\n    let path = originalPath;\n    if (path.endsWith(\"*\") && path !== \"*\" && !path.endsWith(\"/*\")) {\n        $c846480b5114588d$export$c0e02632e14916fd(false, 'Route path \"' + path + '\" will be treated as if it were ' + ('\"' + path.replace(/\\*$/, \"/*\") + '\" because the `*` character must ') + \"always follow a `/` in the pattern. To get rid of this warning, \" + ('please change the route path to \"' + path.replace(/\\*$/, \"/*\") + '\".'));\n        path = path.replace(/\\*$/, \"/*\");\n    }\n    // ensure `/` is added at the beginning if the path is absolute\n    const prefix = path.startsWith(\"/\") ? \"/\" : \"\";\n    const stringify = (p)=>p == null ? \"\" : typeof p === \"string\" ? p : String(p);\n    const segments = path.split(/\\/+/).map((segment, index, array)=>{\n        const isLastSegment = index === array.length - 1;\n        // only apply the splat if it's the last segment\n        if (isLastSegment && segment === \"*\") {\n            const star = \"*\";\n            // Apply the splat\n            return stringify(params[star]);\n        }\n        const keyMatch = segment.match(/^:(\\w+)(\\??)$/);\n        if (keyMatch) {\n            const [, key, optional] = keyMatch;\n            let param = params[key];\n            $c846480b5114588d$export$3e9cee6b33872309(optional === \"?\" || param != null, 'Missing \":' + key + '\" param');\n            return stringify(param);\n        }\n        // Remove any optional markers from optional static segments\n        return segment.replace(/\\?$/g, \"\");\n    })// Remove empty segments\n    .filter((segment)=>!!segment);\n    return prefix + segments.join(\"/\");\n}\n/**\n * Performs pattern matching on a URL pathname and returns information about\n * the match.\n *\n * @see https://reactrouter.com/utils/match-path\n */ function $c846480b5114588d$export$81336c211d5ff295(pattern, pathname) {\n    if (typeof pattern === \"string\") pattern = {\n        path: pattern,\n        caseSensitive: false,\n        end: true\n    };\n    let [matcher, paramNames] = $c846480b5114588d$var$compilePath(pattern.path, pattern.caseSensitive, pattern.end);\n    let match = pathname.match(matcher);\n    if (!match) return null;\n    let matchedPathname = match[0];\n    let pathnameBase = matchedPathname.replace(/(.)\\/+$/, \"$1\");\n    let captureGroups = match.slice(1);\n    let params = paramNames.reduce((memo, paramName, index)=>{\n        // We need to compute the pathnameBase here using the raw splat value\n        // instead of using params[\"*\"] later because it will be decoded then\n        if (paramName === \"*\") {\n            let splatValue = captureGroups[index] || \"\";\n            pathnameBase = matchedPathname.slice(0, matchedPathname.length - splatValue.length).replace(/(.)\\/+$/, \"$1\");\n        }\n        memo[paramName] = $c846480b5114588d$var$safelyDecodeURIComponent(captureGroups[index] || \"\", paramName);\n        return memo;\n    }, {});\n    return {\n        params: params,\n        pathname: matchedPathname,\n        pathnameBase: pathnameBase,\n        pattern: pattern\n    };\n}\nfunction $c846480b5114588d$var$compilePath(path, caseSensitive, end) {\n    if (caseSensitive === void 0) caseSensitive = false;\n    if (end === void 0) end = true;\n    $c846480b5114588d$export$c0e02632e14916fd(path === \"*\" || !path.endsWith(\"*\") || path.endsWith(\"/*\"), 'Route path \"' + path + '\" will be treated as if it were ' + ('\"' + path.replace(/\\*$/, \"/*\") + '\" because the `*` character must ') + \"always follow a `/` in the pattern. To get rid of this warning, \" + ('please change the route path to \"' + path.replace(/\\*$/, \"/*\") + '\".'));\n    let paramNames = [];\n    let regexpSource = \"^\" + path.replace(/\\/*\\*?$/, \"\") // Ignore trailing / and /*, we'll handle it below\n    .replace(/^\\/*/, \"/\") // Make sure it has a leading /\n    .replace(/[\\\\.*+^$?{}|()[\\]]/g, \"\\\\$&\") // Escape special regex chars\n    .replace(/\\/:(\\w+)/g, (_, paramName)=>{\n        paramNames.push(paramName);\n        return \"/([^\\\\/]+)\";\n    });\n    if (path.endsWith(\"*\")) {\n        paramNames.push(\"*\");\n        regexpSource += path === \"*\" || path === \"/*\" ? \"(.*)$\" // Already matched the initial /, just match the rest\n         : \"(?:\\\\/(.+)|\\\\/*)$\"; // Don't include the / in params[\"*\"]\n    } else if (end) // When matching to the end, ignore trailing slashes\n    regexpSource += \"\\\\/*$\";\n    else if (path !== \"\" && path !== \"/\") // If our path is non-empty and contains anything beyond an initial slash,\n    // then we have _some_ form of path in our regex so we should expect to\n    // match only if we find the end of this path segment.  Look for an optional\n    // non-captured trailing slash (to match a portion of the URL) or the end\n    // of the path (if we've matched to the end).  We used to do this with a\n    // word boundary but that gives false positives on routes like\n    // /user-preferences since `-` counts as a word boundary.\n    regexpSource += \"(?:(?=\\\\/|$))\";\n    let matcher = new RegExp(regexpSource, caseSensitive ? undefined : \"i\");\n    return [\n        matcher,\n        paramNames\n    ];\n}\nfunction $c846480b5114588d$var$safelyDecodeURI(value) {\n    try {\n        return decodeURI(value);\n    } catch (error) {\n        $c846480b5114588d$export$c0e02632e14916fd(false, 'The URL path \"' + value + '\" could not be decoded because it is is a ' + \"malformed URL segment. This is probably due to a bad percent \" + (\"encoding (\" + error + \").\"));\n        return value;\n    }\n}\nfunction $c846480b5114588d$var$safelyDecodeURIComponent(value, paramName) {\n    try {\n        return decodeURIComponent(value);\n    } catch (error) {\n        $c846480b5114588d$export$c0e02632e14916fd(false, 'The value for the URL param \"' + paramName + '\" will not be decoded because' + (' the string \"' + value + '\" is a malformed URL segment. This is probably') + (\" due to a bad percent encoding (\" + error + \").\"));\n        return value;\n    }\n}\n/**\n * @private\n */ function $c846480b5114588d$export$b69e3301ce081aa3(pathname, basename) {\n    if (basename === \"/\") return pathname;\n    if (!pathname.toLowerCase().startsWith(basename.toLowerCase())) return null;\n    // We want to leave trailing slash behavior in the user's control, so if they\n    // specify a basename with a trailing slash, we should support it\n    let startIndex = basename.endsWith(\"/\") ? basename.length - 1 : basename.length;\n    let nextChar = pathname.charAt(startIndex);\n    if (nextChar && nextChar !== \"/\") // pathname does not start with basename/\n    return null;\n    return pathname.slice(startIndex) || \"/\";\n}\n/**\n * Returns a resolved path object relative to the given pathname.\n *\n * @see https://reactrouter.com/utils/resolve-path\n */ function $c846480b5114588d$export$b09f2ff0bbcb43c7(to, fromPathname) {\n    if (fromPathname === void 0) fromPathname = \"/\";\n    let { pathname: toPathname, search: search = \"\", hash: hash = \"\" } = typeof to === \"string\" ? $c846480b5114588d$export$8ccf933b0513f8d0(to) : to;\n    let pathname = toPathname ? toPathname.startsWith(\"/\") ? toPathname : $c846480b5114588d$var$resolvePathname(toPathname, fromPathname) : fromPathname;\n    return {\n        pathname: pathname,\n        search: $c846480b5114588d$var$normalizeSearch(search),\n        hash: $c846480b5114588d$var$normalizeHash(hash)\n    };\n}\nfunction $c846480b5114588d$var$resolvePathname(relativePath, fromPathname) {\n    let segments = fromPathname.replace(/\\/+$/, \"\").split(\"/\");\n    let relativeSegments = relativePath.split(\"/\");\n    relativeSegments.forEach((segment)=>{\n        if (segment === \"..\") // Keep the root \"\" segment so the pathname starts at /\n        {\n            if (segments.length > 1) segments.pop();\n        } else if (segment !== \".\") segments.push(segment);\n    });\n    return segments.length > 1 ? segments.join(\"/\") : \"/\";\n}\nfunction $c846480b5114588d$var$getInvalidPathError(char, field, dest, path) {\n    return \"Cannot include a '\" + char + \"' character in a manually specified \" + (\"`to.\" + field + \"` field [\" + JSON.stringify(path) + \"].  Please separate it out to the \") + (\"`to.\" + dest + \"` field. Alternatively you may provide the full path as \") + 'a string in <Link to=\"...\"> and the router will parse it for you.';\n}\n/**\n * @private\n *\n * When processing relative navigation we want to ignore ancestor routes that\n * do not contribute to the path, such that index/pathless layout routes don't\n * interfere.\n *\n * For example, when moving a route element into an index route and/or a\n * pathless layout route, relative link behavior contained within should stay\n * the same.  Both of the following examples should link back to the root:\n *\n *   <Route path=\"/\">\n *     <Route path=\"accounts\" element={<Link to=\"..\"}>\n *   </Route>\n *\n *   <Route path=\"/\">\n *     <Route path=\"accounts\">\n *       <Route element={<AccountsLayout />}>       // <-- Does not contribute\n *         <Route index element={<Link to=\"..\"} />  // <-- Does not contribute\n *       </Route\n *     </Route>\n *   </Route>\n */ function $c846480b5114588d$export$90ba53ce1c7fdff2(matches) {\n    return matches.filter((match, index)=>index === 0 || match.route.path && match.route.path.length > 0);\n}\n/**\n * @private\n */ function $c846480b5114588d$export$cae722b0cc860f13(toArg, routePathnames, locationPathname, isPathRelative) {\n    if (isPathRelative === void 0) isPathRelative = false;\n    let to;\n    if (typeof toArg === \"string\") to = $c846480b5114588d$export$8ccf933b0513f8d0(toArg);\n    else {\n        to = $c846480b5114588d$var$_extends({}, toArg);\n        $c846480b5114588d$export$3e9cee6b33872309(!to.pathname || !to.pathname.includes(\"?\"), $c846480b5114588d$var$getInvalidPathError(\"?\", \"pathname\", \"search\", to));\n        $c846480b5114588d$export$3e9cee6b33872309(!to.pathname || !to.pathname.includes(\"#\"), $c846480b5114588d$var$getInvalidPathError(\"#\", \"pathname\", \"hash\", to));\n        $c846480b5114588d$export$3e9cee6b33872309(!to.search || !to.search.includes(\"#\"), $c846480b5114588d$var$getInvalidPathError(\"#\", \"search\", \"hash\", to));\n    }\n    let isEmptyPath = toArg === \"\" || to.pathname === \"\";\n    let toPathname = isEmptyPath ? \"/\" : to.pathname;\n    let from;\n    // Routing is relative to the current pathname if explicitly requested.\n    //\n    // If a pathname is explicitly provided in `to`, it should be relative to the\n    // route context. This is explained in `Note on `<Link to>` values` in our\n    // migration guide from v5 as a means of disambiguation between `to` values\n    // that begin with `/` and those that do not. However, this is problematic for\n    // `to` values that do not provide a pathname. `to` can simply be a search or\n    // hash string, in which case we should assume that the navigation is relative\n    // to the current location's pathname and *not* the route pathname.\n    if (isPathRelative || toPathname == null) from = locationPathname;\n    else {\n        let routePathnameIndex = routePathnames.length - 1;\n        if (toPathname.startsWith(\"..\")) {\n            let toSegments = toPathname.split(\"/\");\n            // Each leading .. segment means \"go up one route\" instead of \"go up one\n            // URL segment\".  This is a key difference from how <a href> works and a\n            // major reason we call this a \"to\" value instead of a \"href\".\n            while(toSegments[0] === \"..\"){\n                toSegments.shift();\n                routePathnameIndex -= 1;\n            }\n            to.pathname = toSegments.join(\"/\");\n        }\n        // If there are more \"..\" segments than parent routes, resolve relative to\n        // the root / URL.\n        from = routePathnameIndex >= 0 ? routePathnames[routePathnameIndex] : \"/\";\n    }\n    let path = $c846480b5114588d$export$b09f2ff0bbcb43c7(to, from);\n    // Ensure the pathname has a trailing slash if the original \"to\" had one\n    let hasExplicitTrailingSlash = toPathname && toPathname !== \"/\" && toPathname.endsWith(\"/\");\n    // Or if this was a link to the current path which has a trailing slash\n    let hasCurrentTrailingSlash = (isEmptyPath || toPathname === \".\") && locationPathname.endsWith(\"/\");\n    if (!path.pathname.endsWith(\"/\") && (hasExplicitTrailingSlash || hasCurrentTrailingSlash)) path.pathname += \"/\";\n    return path;\n}\n/**\n * @private\n */ function $c846480b5114588d$export$f5655dfea9d981c7(to) {\n    // Empty strings should be treated the same as / paths\n    return to === \"\" || to.pathname === \"\" ? \"/\" : typeof to === \"string\" ? $c846480b5114588d$export$8ccf933b0513f8d0(to).pathname : to.pathname;\n}\n/**\n * @private\n */ const $c846480b5114588d$export$86d9a7913e44197e = (paths)=>paths.join(\"/\").replace(/\\/\\/+/g, \"/\");\n/**\n * @private\n */ const $c846480b5114588d$export$a5c6d149b50c1d86 = (pathname)=>pathname.replace(/\\/+$/, \"\").replace(/^\\/*/, \"/\");\n/**\n * @private\n */ const $c846480b5114588d$var$normalizeSearch = (search)=>!search || search === \"?\" ? \"\" : search.startsWith(\"?\") ? search : \"?\" + search;\n/**\n * @private\n */ const $c846480b5114588d$var$normalizeHash = (hash)=>!hash || hash === \"#\" ? \"\" : hash.startsWith(\"#\") ? hash : \"#\" + hash;\n/**\n * This is a shortcut for creating `application/json` responses. Converts `data`\n * to JSON and sets the `Content-Type` header.\n */ const $c846480b5114588d$export$7b419323e6ed4f31 = function json(data, init) {\n    if (init === void 0) init = {};\n    let responseInit = typeof init === \"number\" ? {\n        status: init\n    } : init;\n    let headers = new Headers(responseInit.headers);\n    if (!headers.has(\"Content-Type\")) headers.set(\"Content-Type\", \"application/json; charset=utf-8\");\n    return new Response(JSON.stringify(data), $c846480b5114588d$var$_extends({}, responseInit, {\n        headers: headers\n    }));\n};\nclass $c846480b5114588d$export$42a99a7a4bc0e76a extends Error {\n}\nclass $c846480b5114588d$export$61d759255b4eec65 {\n    constructor(data, responseInit){\n        this.pendingKeysSet = new Set();\n        this.subscribers = new Set();\n        this.deferredKeys = [];\n        $c846480b5114588d$export$3e9cee6b33872309(data && typeof data === \"object\" && !Array.isArray(data), \"defer() only accepts plain objects\");\n        // Set up an AbortController + Promise we can race against to exit early\n        // cancellation\n        let reject;\n        this.abortPromise = new Promise((_, r)=>reject = r);\n        this.controller = new AbortController();\n        let onAbort = ()=>reject(new $c846480b5114588d$export$42a99a7a4bc0e76a(\"Deferred data aborted\"));\n        this.unlistenAbortSignal = ()=>this.controller.signal.removeEventListener(\"abort\", onAbort);\n        this.controller.signal.addEventListener(\"abort\", onAbort);\n        this.data = Object.entries(data).reduce((acc, _ref)=>{\n            let [key, value] = _ref;\n            return Object.assign(acc, {\n                [key]: this.trackPromise(key, value)\n            });\n        }, {});\n        if (this.done) // All incoming values were resolved\n        this.unlistenAbortSignal();\n        this.init = responseInit;\n    }\n    trackPromise(key, value) {\n        if (!(value instanceof Promise)) return value;\n        this.deferredKeys.push(key);\n        this.pendingKeysSet.add(key);\n        // We store a little wrapper promise that will be extended with\n        // _data/_error props upon resolve/reject\n        let promise = Promise.race([\n            value,\n            this.abortPromise\n        ]).then((data)=>this.onSettle(promise, key, undefined, data), (error)=>this.onSettle(promise, key, error));\n        // Register rejection listeners to avoid uncaught promise rejections on\n        // errors or aborted deferred values\n        promise.catch(()=>{});\n        Object.defineProperty(promise, \"_tracked\", {\n            get: ()=>true\n        });\n        return promise;\n    }\n    onSettle(promise, key, error, data) {\n        if (this.controller.signal.aborted && error instanceof $c846480b5114588d$export$42a99a7a4bc0e76a) {\n            this.unlistenAbortSignal();\n            Object.defineProperty(promise, \"_error\", {\n                get: ()=>error\n            });\n            return Promise.reject(error);\n        }\n        this.pendingKeysSet.delete(key);\n        if (this.done) // Nothing left to abort!\n        this.unlistenAbortSignal();\n        // If the promise was resolved/rejected with undefined, we'll throw an error as you\n        // should always resolve with a value or null\n        if (error === undefined && data === undefined) {\n            let undefinedError = new Error('Deferred data for key \"' + key + '\" resolved/rejected with `undefined`, ' + \"you must resolve/reject with a value or `null`.\");\n            Object.defineProperty(promise, \"_error\", {\n                get: ()=>undefinedError\n            });\n            this.emit(false, key);\n            return Promise.reject(undefinedError);\n        }\n        if (data === undefined) {\n            Object.defineProperty(promise, \"_error\", {\n                get: ()=>error\n            });\n            this.emit(false, key);\n            return Promise.reject(error);\n        }\n        Object.defineProperty(promise, \"_data\", {\n            get: ()=>data\n        });\n        this.emit(false, key);\n        return data;\n    }\n    emit(aborted, settledKey) {\n        this.subscribers.forEach((subscriber)=>subscriber(aborted, settledKey));\n    }\n    subscribe(fn) {\n        this.subscribers.add(fn);\n        return ()=>this.subscribers.delete(fn);\n    }\n    cancel() {\n        this.controller.abort();\n        this.pendingKeysSet.forEach((v, k)=>this.pendingKeysSet.delete(k));\n        this.emit(true);\n    }\n    async resolveData(signal) {\n        let aborted = false;\n        if (!this.done) {\n            let onAbort = ()=>this.cancel();\n            signal.addEventListener(\"abort\", onAbort);\n            aborted = await new Promise((resolve)=>{\n                this.subscribe((aborted)=>{\n                    signal.removeEventListener(\"abort\", onAbort);\n                    if (aborted || this.done) resolve(aborted);\n                });\n            });\n        }\n        return aborted;\n    }\n    get done() {\n        return this.pendingKeysSet.size === 0;\n    }\n    get unwrappedData() {\n        $c846480b5114588d$export$3e9cee6b33872309(this.data !== null && this.done, \"Can only unwrap data on initialized and settled deferreds\");\n        return Object.entries(this.data).reduce((acc, _ref2)=>{\n            let [key, value] = _ref2;\n            return Object.assign(acc, {\n                [key]: $c846480b5114588d$var$unwrapTrackedPromise(value)\n            });\n        }, {});\n    }\n    get pendingKeys() {\n        return Array.from(this.pendingKeysSet);\n    }\n}\nfunction $c846480b5114588d$var$isTrackedPromise(value) {\n    return value instanceof Promise && value._tracked === true;\n}\nfunction $c846480b5114588d$var$unwrapTrackedPromise(value) {\n    if (!$c846480b5114588d$var$isTrackedPromise(value)) return value;\n    if (value._error) throw value._error;\n    return value._data;\n}\nconst $c846480b5114588d$export$260e5c0943f31606 = function defer(data, init) {\n    if (init === void 0) init = {};\n    let responseInit = typeof init === \"number\" ? {\n        status: init\n    } : init;\n    return new $c846480b5114588d$export$61d759255b4eec65(data, responseInit);\n};\n/**\n * A redirect response. Sets the status code and the `Location` header.\n * Defaults to \"302 Found\".\n */ const $c846480b5114588d$export$89e12c5b50f7529d = function redirect(url, init) {\n    if (init === void 0) init = 302;\n    let responseInit = init;\n    if (typeof responseInit === \"number\") responseInit = {\n        status: responseInit\n    };\n    else if (typeof responseInit.status === \"undefined\") responseInit.status = 302;\n    let headers = new Headers(responseInit.headers);\n    headers.set(\"Location\", url);\n    return new Response(null, $c846480b5114588d$var$_extends({}, responseInit, {\n        headers: headers\n    }));\n};\n/**\n * A redirect response that will force a document reload to the new location.\n * Sets the status code and the `Location` header.\n * Defaults to \"302 Found\".\n */ const $c846480b5114588d$export$a6cd19cd1951a23c = (url, init)=>{\n    let response = $c846480b5114588d$export$89e12c5b50f7529d(url, init);\n    response.headers.set(\"X-Remix-Reload-Document\", \"true\");\n    return response;\n};\n/**\n * @private\n * Utility class we use to hold auto-unwrapped 4xx/5xx Response bodies\n */ class $c846480b5114588d$export$acf1a680051f5031 {\n    constructor(status, statusText, data, internal){\n        if (internal === void 0) internal = false;\n        this.status = status;\n        this.statusText = statusText || \"\";\n        this.internal = internal;\n        if (data instanceof Error) {\n            this.data = data.toString();\n            this.error = data;\n        } else this.data = data;\n    }\n}\n/**\n * Check if the given error is an ErrorResponse generated from a 4xx/5xx\n * Response thrown from an action/loader\n */ function $c846480b5114588d$export$972111febbeef05b(error) {\n    return error != null && typeof error.status === \"number\" && typeof error.statusText === \"string\" && typeof error.internal === \"boolean\" && \"data\" in error;\n}\nconst $c846480b5114588d$var$validMutationMethodsArr = [\n    \"post\",\n    \"put\",\n    \"patch\",\n    \"delete\"\n];\nconst $c846480b5114588d$var$validMutationMethods = new Set($c846480b5114588d$var$validMutationMethodsArr);\nconst $c846480b5114588d$var$validRequestMethodsArr = [\n    \"get\",\n    ...$c846480b5114588d$var$validMutationMethodsArr\n];\nconst $c846480b5114588d$var$validRequestMethods = new Set($c846480b5114588d$var$validRequestMethodsArr);\nconst $c846480b5114588d$var$redirectStatusCodes = new Set([\n    301,\n    302,\n    303,\n    307,\n    308\n]);\nconst $c846480b5114588d$var$redirectPreserveMethodStatusCodes = new Set([\n    307,\n    308\n]);\nconst $c846480b5114588d$export$ed3e14b2f9e105d0 = {\n    state: \"idle\",\n    location: undefined,\n    formMethod: undefined,\n    formAction: undefined,\n    formEncType: undefined,\n    formData: undefined,\n    json: undefined,\n    text: undefined\n};\nconst $c846480b5114588d$export$52eace9c284d3585 = {\n    state: \"idle\",\n    data: undefined,\n    formMethod: undefined,\n    formAction: undefined,\n    formEncType: undefined,\n    formData: undefined,\n    json: undefined,\n    text: undefined\n};\nconst $c846480b5114588d$export$386d57f03f0b2883 = {\n    state: \"unblocked\",\n    proceed: undefined,\n    reset: undefined,\n    location: undefined\n};\nconst $c846480b5114588d$var$ABSOLUTE_URL_REGEX = /^(?:[a-z][a-z0-9+.-]*:|\\/\\/)/i;\nconst $c846480b5114588d$var$defaultMapRouteProperties = (route)=>({\n        hasErrorBoundary: Boolean(route.hasErrorBoundary)\n    });\n//#endregion\n////////////////////////////////////////////////////////////////////////////////\n//#region createRouter\n////////////////////////////////////////////////////////////////////////////////\n/**\n * Create a router and listen to history POP navigations\n */ function $c846480b5114588d$export$baddd0131ee8c05b(init) {\n    const routerWindow = init.window ? init.window : typeof window !== \"undefined\" ? window : undefined;\n    const isBrowser = typeof routerWindow !== \"undefined\" && typeof routerWindow.document !== \"undefined\" && typeof routerWindow.document.createElement !== \"undefined\";\n    const isServer = !isBrowser;\n    $c846480b5114588d$export$3e9cee6b33872309(init.routes.length > 0, \"You must provide a non-empty routes array to createRouter\");\n    let mapRouteProperties;\n    if (init.mapRouteProperties) mapRouteProperties = init.mapRouteProperties;\n    else if (init.detectErrorBoundary) {\n        // If they are still using the deprecated version, wrap it with the new API\n        let detectErrorBoundary = init.detectErrorBoundary;\n        mapRouteProperties = (route)=>({\n                hasErrorBoundary: detectErrorBoundary(route)\n            });\n    } else mapRouteProperties = $c846480b5114588d$var$defaultMapRouteProperties;\n    // Routes keyed by ID\n    let manifest = {};\n    // Routes in tree format for matching\n    let dataRoutes = $c846480b5114588d$export$4a6d22b32134ea5d(init.routes, mapRouteProperties, undefined, manifest);\n    let inFlightDataRoutes;\n    let basename = init.basename || \"/\";\n    // Config driven behavior flags\n    let future = $c846480b5114588d$var$_extends({\n        v7_normalizeFormMethod: false,\n        v7_prependBasename: false\n    }, init.future);\n    // Cleanup function for history\n    let unlistenHistory = null;\n    // Externally-provided functions to call on all state changes\n    let subscribers = new Set();\n    // Externally-provided object to hold scroll restoration locations during routing\n    let savedScrollPositions = null;\n    // Externally-provided function to get scroll restoration keys\n    let getScrollRestorationKey = null;\n    // Externally-provided function to get current scroll position\n    let getScrollPosition = null;\n    // One-time flag to control the initial hydration scroll restoration.  Because\n    // we don't get the saved positions from <ScrollRestoration /> until _after_\n    // the initial render, we need to manually trigger a separate updateState to\n    // send along the restoreScrollPosition\n    // Set to true if we have `hydrationData` since we assume we were SSR'd and that\n    // SSR did the initial scroll restoration.\n    let initialScrollRestored = init.hydrationData != null;\n    let initialMatches = $c846480b5114588d$export$2708184779ceb39d(dataRoutes, init.history.location, basename);\n    let initialErrors = null;\n    if (initialMatches == null) {\n        // If we do not match a user-provided-route, fall back to the root\n        // to allow the error boundary to take over\n        let error = $c846480b5114588d$var$getInternalRouterError(404, {\n            pathname: init.history.location.pathname\n        });\n        let { matches: matches, route: route } = $c846480b5114588d$var$getShortCircuitMatches(dataRoutes);\n        initialMatches = matches;\n        initialErrors = {\n            [route.id]: error\n        };\n    }\n    let initialized = // All initialMatches need to be loaded before we're ready.  If we have lazy\n    // functions around still then we'll need to run them in initialize()\n    !initialMatches.some((m)=>m.route.lazy) && // And we have to either have no loaders or have been provided hydrationData\n    (!initialMatches.some((m)=>m.route.loader) || init.hydrationData != null);\n    let router;\n    let state = {\n        historyAction: init.history.action,\n        location: init.history.location,\n        matches: initialMatches,\n        initialized: initialized,\n        navigation: $c846480b5114588d$export$ed3e14b2f9e105d0,\n        // Don't restore on initial updateState() if we were SSR'd\n        restoreScrollPosition: init.hydrationData != null ? false : null,\n        preventScrollReset: false,\n        revalidation: \"idle\",\n        loaderData: init.hydrationData && init.hydrationData.loaderData || {},\n        actionData: init.hydrationData && init.hydrationData.actionData || null,\n        errors: init.hydrationData && init.hydrationData.errors || initialErrors,\n        fetchers: new Map(),\n        blockers: new Map()\n    };\n    // -- Stateful internal variables to manage navigations --\n    // Current navigation in progress (to be committed in completeNavigation)\n    let pendingAction = $c846480b5114588d$export$e19cd5f9376f8cee.Pop;\n    // Should the current navigation prevent the scroll reset if scroll cannot\n    // be restored?\n    let pendingPreventScrollReset = false;\n    // AbortController for the active navigation\n    let pendingNavigationController;\n    // We use this to avoid touching history in completeNavigation if a\n    // revalidation is entirely uninterrupted\n    let isUninterruptedRevalidation = false;\n    // Use this internal flag to force revalidation of all loaders:\n    //  - submissions (completed or interrupted)\n    //  - useRevalidator()\n    //  - X-Remix-Revalidate (from redirect)\n    let isRevalidationRequired = false;\n    // Use this internal array to capture routes that require revalidation due\n    // to a cancelled deferred on action submission\n    let cancelledDeferredRoutes = [];\n    // Use this internal array to capture fetcher loads that were cancelled by an\n    // action navigation and require revalidation\n    let cancelledFetcherLoads = [];\n    // AbortControllers for any in-flight fetchers\n    let fetchControllers = new Map();\n    // Track loads based on the order in which they started\n    let incrementingLoadId = 0;\n    // Track the outstanding pending navigation data load to be compared against\n    // the globally incrementing load when a fetcher load lands after a completed\n    // navigation\n    let pendingNavigationLoadId = -1;\n    // Fetchers that triggered data reloads as a result of their actions\n    let fetchReloadIds = new Map();\n    // Fetchers that triggered redirect navigations\n    let fetchRedirectIds = new Set();\n    // Most recent href/match for fetcher.load calls for fetchers\n    let fetchLoadMatches = new Map();\n    // Store DeferredData instances for active route matches.  When a\n    // route loader returns defer() we stick one in here.  Then, when a nested\n    // promise resolves we update loaderData.  If a new navigation starts we\n    // cancel active deferreds for eliminated routes.\n    let activeDeferreds = new Map();\n    // Store blocker functions in a separate Map outside of router state since\n    // we don't need to update UI state if they change\n    let blockerFunctions = new Map();\n    // Flag to ignore the next history update, so we can revert the URL change on\n    // a POP navigation that was blocked by the user without touching router state\n    let ignoreNextHistoryUpdate = false;\n    // Initialize the router, all side effects should be kicked off from here.\n    // Implemented as a Fluent API for ease of:\n    //   let router = createRouter(init).initialize();\n    function initialize() {\n        // If history informs us of a POP navigation, start the navigation but do not update\n        // state.  We'll update our own state once the navigation completes\n        unlistenHistory = init.history.listen((_ref)=>{\n            let { action: historyAction, location: location, delta: delta } = _ref;\n            // Ignore this event if it was just us resetting the URL from a\n            // blocked POP navigation\n            if (ignoreNextHistoryUpdate) {\n                ignoreNextHistoryUpdate = false;\n                return;\n            }\n            $c846480b5114588d$export$c0e02632e14916fd(blockerFunctions.size === 0 || delta != null, \"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.\");\n            let blockerKey = shouldBlockNavigation({\n                currentLocation: state.location,\n                nextLocation: location,\n                historyAction: historyAction\n            });\n            if (blockerKey && delta != null) {\n                // Restore the URL to match the current UI, but don't update router state\n                ignoreNextHistoryUpdate = true;\n                init.history.go(delta * -1);\n                // Put the blocker into a blocked state\n                updateBlocker(blockerKey, {\n                    state: \"blocked\",\n                    location: location,\n                    proceed () {\n                        updateBlocker(blockerKey, {\n                            state: \"proceeding\",\n                            proceed: undefined,\n                            reset: undefined,\n                            location: location\n                        });\n                        // Re-do the same POP navigation we just blocked\n                        init.history.go(delta);\n                    },\n                    reset () {\n                        let blockers = new Map(state.blockers);\n                        blockers.set(blockerKey, $c846480b5114588d$export$386d57f03f0b2883);\n                        updateState({\n                            blockers: blockers\n                        });\n                    }\n                });\n                return;\n            }\n            return startNavigation(historyAction, location);\n        });\n        // Kick off initial data load if needed.  Use Pop to avoid modifying history\n        // Note we don't do any handling of lazy here.  For SPA's it'll get handled\n        // in the normal navigation flow.  For SSR it's expected that lazy modules are\n        // resolved prior to router creation since we can't go into a fallbackElement\n        // UI for SSR'd apps\n        if (!state.initialized) startNavigation($c846480b5114588d$export$e19cd5f9376f8cee.Pop, state.location);\n        return router;\n    }\n    // Clean up a router and it's side effects\n    function dispose() {\n        if (unlistenHistory) unlistenHistory();\n        subscribers.clear();\n        pendingNavigationController && pendingNavigationController.abort();\n        state.fetchers.forEach((_, key)=>deleteFetcher(key));\n        state.blockers.forEach((_, key)=>deleteBlocker(key));\n    }\n    // Subscribe to state updates for the router\n    function subscribe(fn) {\n        subscribers.add(fn);\n        return ()=>subscribers.delete(fn);\n    }\n    // Update our state and notify the calling context of the change\n    function updateState(newState) {\n        state = $c846480b5114588d$var$_extends({}, state, newState);\n        subscribers.forEach((subscriber)=>subscriber(state));\n    }\n    // Complete a navigation returning the state.navigation back to the IDLE_NAVIGATION\n    // and setting state.[historyAction/location/matches] to the new route.\n    // - Location is a required param\n    // - Navigation will always be set to IDLE_NAVIGATION\n    // - Can pass any other state in newState\n    function completeNavigation(location, newState) {\n        var _location$state, _location$state2;\n        // Deduce if we're in a loading/actionReload state:\n        // - We have committed actionData in the store\n        // - The current navigation was a mutation submission\n        // - We're past the submitting state and into the loading state\n        // - The location being loaded is not the result of a redirect\n        let isActionReload = state.actionData != null && state.navigation.formMethod != null && $c846480b5114588d$var$isMutationMethod(state.navigation.formMethod) && state.navigation.state === \"loading\" && ((_location$state = location.state) == null ? void 0 : _location$state._isRedirect) !== true;\n        let actionData;\n        if (newState.actionData) {\n            if (Object.keys(newState.actionData).length > 0) actionData = newState.actionData;\n            else // Empty actionData -> clear prior actionData due to an action error\n            actionData = null;\n        } else if (isActionReload) // Keep the current data if we're wrapping up the action reload\n        actionData = state.actionData;\n        else // Clear actionData on any other completed navigations\n        actionData = null;\n        // Always preserve any existing loaderData from re-used routes\n        let loaderData = newState.loaderData ? $c846480b5114588d$var$mergeLoaderData(state.loaderData, newState.loaderData, newState.matches || [], newState.errors) : state.loaderData;\n        // On a successful navigation we can assume we got through all blockers\n        // so we can start fresh\n        let blockers = state.blockers;\n        if (blockers.size > 0) {\n            blockers = new Map(blockers);\n            blockers.forEach((_, k)=>blockers.set(k, $c846480b5114588d$export$386d57f03f0b2883));\n        }\n        // Always respect the user flag.  Otherwise don't reset on mutation\n        // submission navigations unless they redirect\n        let preventScrollReset = pendingPreventScrollReset === true || state.navigation.formMethod != null && $c846480b5114588d$var$isMutationMethod(state.navigation.formMethod) && ((_location$state2 = location.state) == null ? void 0 : _location$state2._isRedirect) !== true;\n        if (inFlightDataRoutes) {\n            dataRoutes = inFlightDataRoutes;\n            inFlightDataRoutes = undefined;\n        }\n        if (isUninterruptedRevalidation) ;\n        else if (pendingAction === $c846480b5114588d$export$e19cd5f9376f8cee.Pop) ;\n        else if (pendingAction === $c846480b5114588d$export$e19cd5f9376f8cee.Push) init.history.push(location, location.state);\n        else if (pendingAction === $c846480b5114588d$export$e19cd5f9376f8cee.Replace) init.history.replace(location, location.state);\n        updateState($c846480b5114588d$var$_extends({}, newState, {\n            actionData: actionData,\n            loaderData: loaderData,\n            historyAction: pendingAction,\n            location: location,\n            initialized: true,\n            navigation: $c846480b5114588d$export$ed3e14b2f9e105d0,\n            revalidation: \"idle\",\n            restoreScrollPosition: getSavedScrollPosition(location, newState.matches || state.matches),\n            preventScrollReset: preventScrollReset,\n            blockers: blockers\n        }));\n        // Reset stateful navigation vars\n        pendingAction = $c846480b5114588d$export$e19cd5f9376f8cee.Pop;\n        pendingPreventScrollReset = false;\n        isUninterruptedRevalidation = false;\n        isRevalidationRequired = false;\n        cancelledDeferredRoutes = [];\n        cancelledFetcherLoads = [];\n    }\n    // Trigger a navigation event, which can either be a numerical POP or a PUSH\n    // replace with an optional submission\n    async function navigate(to, opts) {\n        if (typeof to === \"number\") {\n            init.history.go(to);\n            return;\n        }\n        let normalizedPath = $c846480b5114588d$var$normalizeTo(state.location, state.matches, basename, future.v7_prependBasename, to, opts == null ? void 0 : opts.fromRouteId, opts == null ? void 0 : opts.relative);\n        let { path: path, submission: submission, error: error } = $c846480b5114588d$var$normalizeNavigateOptions(future.v7_normalizeFormMethod, false, normalizedPath, opts);\n        let currentLocation = state.location;\n        let nextLocation = $c846480b5114588d$var$createLocation(state.location, path, opts && opts.state);\n        // When using navigate as a PUSH/REPLACE we aren't reading an already-encoded\n        // URL from window.location, so we need to encode it here so the behavior\n        // remains the same as POP and non-data-router usages.  new URL() does all\n        // the same encoding we'd get from a history.pushState/window.location read\n        // without having to touch history\n        nextLocation = $c846480b5114588d$var$_extends({}, nextLocation, init.history.encodeLocation(nextLocation));\n        let userReplace = opts && opts.replace != null ? opts.replace : undefined;\n        let historyAction = $c846480b5114588d$export$e19cd5f9376f8cee.Push;\n        if (userReplace === true) historyAction = $c846480b5114588d$export$e19cd5f9376f8cee.Replace;\n        else if (userReplace === false) ;\n        else if (submission != null && $c846480b5114588d$var$isMutationMethod(submission.formMethod) && submission.formAction === state.location.pathname + state.location.search) // By default on submissions to the current location we REPLACE so that\n        // users don't have to double-click the back button to get to the prior\n        // location.  If the user redirects to a different location from the\n        // action/loader this will be ignored and the redirect will be a PUSH\n        historyAction = $c846480b5114588d$export$e19cd5f9376f8cee.Replace;\n        let preventScrollReset = opts && \"preventScrollReset\" in opts ? opts.preventScrollReset === true : undefined;\n        let blockerKey = shouldBlockNavigation({\n            currentLocation: currentLocation,\n            nextLocation: nextLocation,\n            historyAction: historyAction\n        });\n        if (blockerKey) {\n            // Put the blocker into a blocked state\n            updateBlocker(blockerKey, {\n                state: \"blocked\",\n                location: nextLocation,\n                proceed () {\n                    updateBlocker(blockerKey, {\n                        state: \"proceeding\",\n                        proceed: undefined,\n                        reset: undefined,\n                        location: nextLocation\n                    });\n                    // Send the same navigation through\n                    navigate(to, opts);\n                },\n                reset () {\n                    let blockers = new Map(state.blockers);\n                    blockers.set(blockerKey, $c846480b5114588d$export$386d57f03f0b2883);\n                    updateState({\n                        blockers: blockers\n                    });\n                }\n            });\n            return;\n        }\n        return await startNavigation(historyAction, nextLocation, {\n            submission: submission,\n            // Send through the formData serialization error if we have one so we can\n            // render at the right error boundary after we match routes\n            pendingError: error,\n            preventScrollReset: preventScrollReset,\n            replace: opts && opts.replace\n        });\n    }\n    // Revalidate all current loaders.  If a navigation is in progress or if this\n    // is interrupted by a navigation, allow this to \"succeed\" by calling all\n    // loaders during the next loader round\n    function revalidate() {\n        interruptActiveLoads();\n        updateState({\n            revalidation: \"loading\"\n        });\n        // If we're currently submitting an action, we don't need to start a new\n        // navigation, we'll just let the follow up loader execution call all loaders\n        if (state.navigation.state === \"submitting\") return;\n        // If we're currently in an idle state, start a new navigation for the current\n        // action/location and mark it as uninterrupted, which will skip the history\n        // update in completeNavigation\n        if (state.navigation.state === \"idle\") {\n            startNavigation(state.historyAction, state.location, {\n                startUninterruptedRevalidation: true\n            });\n            return;\n        }\n        // Otherwise, if we're currently in a loading state, just start a new\n        // navigation to the navigation.location but do not trigger an uninterrupted\n        // revalidation so that history correctly updates once the navigation completes\n        startNavigation(pendingAction || state.historyAction, state.navigation.location, {\n            overrideNavigation: state.navigation\n        });\n    }\n    // Start a navigation to the given action/location.  Can optionally provide a\n    // overrideNavigation which will override the normalLoad in the case of a redirect\n    // navigation\n    async function startNavigation(historyAction, location, opts) {\n        // Abort any in-progress navigations and start a new one. Unset any ongoing\n        // uninterrupted revalidations unless told otherwise, since we want this\n        // new navigation to update history normally\n        pendingNavigationController && pendingNavigationController.abort();\n        pendingNavigationController = null;\n        pendingAction = historyAction;\n        isUninterruptedRevalidation = (opts && opts.startUninterruptedRevalidation) === true;\n        // Save the current scroll position every time we start a new navigation,\n        // and track whether we should reset scroll on completion\n        saveScrollPosition(state.location, state.matches);\n        pendingPreventScrollReset = (opts && opts.preventScrollReset) === true;\n        let routesToUse = inFlightDataRoutes || dataRoutes;\n        let loadingNavigation = opts && opts.overrideNavigation;\n        let matches = $c846480b5114588d$export$2708184779ceb39d(routesToUse, location, basename);\n        // Short circuit with a 404 on the root error boundary if we match nothing\n        if (!matches) {\n            let error = $c846480b5114588d$var$getInternalRouterError(404, {\n                pathname: location.pathname\n            });\n            let { matches: notFoundMatches, route: route } = $c846480b5114588d$var$getShortCircuitMatches(routesToUse);\n            // Cancel all pending deferred on 404s since we don't keep any routes\n            cancelActiveDeferreds();\n            completeNavigation(location, {\n                matches: notFoundMatches,\n                loaderData: {},\n                errors: {\n                    [route.id]: error\n                }\n            });\n            return;\n        }\n        // Short circuit if it's only a hash change and not a revalidation or\n        // mutation submission.\n        //\n        // Ignore on initial page loads because since the initial load will always\n        // be \"same hash\".  For example, on /page#hash and submit a <Form method=\"post\">\n        // which will default to a navigation to /page\n        if (state.initialized && !isRevalidationRequired && $c846480b5114588d$var$isHashChangeOnly(state.location, location) && !(opts && opts.submission && $c846480b5114588d$var$isMutationMethod(opts.submission.formMethod))) {\n            completeNavigation(location, {\n                matches: matches\n            });\n            return;\n        }\n        // Create a controller/Request for this navigation\n        pendingNavigationController = new AbortController();\n        let request = $c846480b5114588d$var$createClientSideRequest(init.history, location, pendingNavigationController.signal, opts && opts.submission);\n        let pendingActionData;\n        let pendingError;\n        if (opts && opts.pendingError) // If we have a pendingError, it means the user attempted a GET submission\n        // with binary FormData so assign here and skip to handleLoaders.  That\n        // way we handle calling loaders above the boundary etc.  It's not really\n        // different from an actionError in that sense.\n        pendingError = {\n            [$c846480b5114588d$var$findNearestBoundary(matches).route.id]: opts.pendingError\n        };\n        else if (opts && opts.submission && $c846480b5114588d$var$isMutationMethod(opts.submission.formMethod)) {\n            // Call action if we received an action submission\n            let actionOutput = await handleAction(request, location, opts.submission, matches, {\n                replace: opts.replace\n            });\n            if (actionOutput.shortCircuited) return;\n            pendingActionData = actionOutput.pendingActionData;\n            pendingError = actionOutput.pendingActionError;\n            loadingNavigation = $c846480b5114588d$var$getLoadingNavigation(location, opts.submission);\n            // Create a GET request for the loaders\n            request = new Request(request.url, {\n                signal: request.signal\n            });\n        }\n        // Call loaders\n        let { shortCircuited: shortCircuited, loaderData: loaderData, errors: errors } = await handleLoaders(request, location, matches, loadingNavigation, opts && opts.submission, opts && opts.fetcherSubmission, opts && opts.replace, pendingActionData, pendingError);\n        if (shortCircuited) return;\n        // Clean up now that the action/loaders have completed.  Don't clean up if\n        // we short circuited because pendingNavigationController will have already\n        // been assigned to a new controller for the next navigation\n        pendingNavigationController = null;\n        completeNavigation(location, $c846480b5114588d$var$_extends({\n            matches: matches\n        }, pendingActionData ? {\n            actionData: pendingActionData\n        } : {}, {\n            loaderData: loaderData,\n            errors: errors\n        }));\n    }\n    // Call the action matched by the leaf route for this navigation and handle\n    // redirects/errors\n    async function handleAction(request, location, submission, matches, opts) {\n        if (opts === void 0) opts = {};\n        interruptActiveLoads();\n        // Put us in a submitting state\n        let navigation = $c846480b5114588d$var$getSubmittingNavigation(location, submission);\n        updateState({\n            navigation: navigation\n        });\n        // Call our action and get the result\n        let result;\n        let actionMatch = $c846480b5114588d$var$getTargetMatch(matches, location);\n        if (!actionMatch.route.action && !actionMatch.route.lazy) result = {\n            type: $c846480b5114588d$var$ResultType.error,\n            error: $c846480b5114588d$var$getInternalRouterError(405, {\n                method: request.method,\n                pathname: location.pathname,\n                routeId: actionMatch.route.id\n            })\n        };\n        else {\n            result = await $c846480b5114588d$var$callLoaderOrAction(\"action\", request, actionMatch, matches, manifest, mapRouteProperties, basename);\n            if (request.signal.aborted) return {\n                shortCircuited: true\n            };\n        }\n        if ($c846480b5114588d$var$isRedirectResult(result)) {\n            let replace;\n            if (opts && opts.replace != null) replace = opts.replace;\n            else // If the user didn't explicity indicate replace behavior, replace if\n            // we redirected to the exact same location we're currently at to avoid\n            // double back-buttons\n            replace = result.location === state.location.pathname + state.location.search;\n            await startRedirectNavigation(state, result, {\n                submission: submission,\n                replace: replace\n            });\n            return {\n                shortCircuited: true\n            };\n        }\n        if ($c846480b5114588d$var$isErrorResult(result)) {\n            // Store off the pending error - we use it to determine which loaders\n            // to call and will commit it when we complete the navigation\n            let boundaryMatch = $c846480b5114588d$var$findNearestBoundary(matches, actionMatch.route.id);\n            // By default, all submissions are REPLACE navigations, but if the\n            // action threw an error that'll be rendered in an errorElement, we fall\n            // back to PUSH so that the user can use the back button to get back to\n            // the pre-submission form location to try again\n            if ((opts && opts.replace) !== true) pendingAction = $c846480b5114588d$export$e19cd5f9376f8cee.Push;\n            return {\n                // Send back an empty object we can use to clear out any prior actionData\n                pendingActionData: {},\n                pendingActionError: {\n                    [boundaryMatch.route.id]: result.error\n                }\n            };\n        }\n        if ($c846480b5114588d$var$isDeferredResult(result)) throw $c846480b5114588d$var$getInternalRouterError(400, {\n            type: \"defer-action\"\n        });\n        return {\n            pendingActionData: {\n                [actionMatch.route.id]: result.data\n            }\n        };\n    }\n    // Call all applicable loaders for the given matches, handling redirects,\n    // errors, etc.\n    async function handleLoaders(request, location, matches, overrideNavigation, submission, fetcherSubmission, replace, pendingActionData, pendingError) {\n        // Figure out the right navigation we want to use for data loading\n        let loadingNavigation = overrideNavigation || $c846480b5114588d$var$getLoadingNavigation(location, submission);\n        // If this was a redirect from an action we don't have a \"submission\" but\n        // we have it on the loading navigation so use that if available\n        let activeSubmission = submission || fetcherSubmission || $c846480b5114588d$var$getSubmissionFromNavigation(loadingNavigation);\n        let routesToUse = inFlightDataRoutes || dataRoutes;\n        let [matchesToLoad, revalidatingFetchers] = $c846480b5114588d$var$getMatchesToLoad(init.history, state, matches, activeSubmission, location, isRevalidationRequired, cancelledDeferredRoutes, cancelledFetcherLoads, fetchLoadMatches, fetchRedirectIds, routesToUse, basename, pendingActionData, pendingError);\n        // Cancel pending deferreds for no-longer-matched routes or routes we're\n        // about to reload.  Note that if this is an action reload we would have\n        // already cancelled all pending deferreds so this would be a no-op\n        cancelActiveDeferreds((routeId)=>!(matches && matches.some((m)=>m.route.id === routeId)) || matchesToLoad && matchesToLoad.some((m)=>m.route.id === routeId));\n        pendingNavigationLoadId = ++incrementingLoadId;\n        // Short circuit if we have no loaders to run\n        if (matchesToLoad.length === 0 && revalidatingFetchers.length === 0) {\n            let updatedFetchers = markFetchRedirectsDone();\n            completeNavigation(location, $c846480b5114588d$var$_extends({\n                matches: matches,\n                loaderData: {},\n                // Commit pending error if we're short circuiting\n                errors: pendingError || null\n            }, pendingActionData ? {\n                actionData: pendingActionData\n            } : {}, updatedFetchers ? {\n                fetchers: new Map(state.fetchers)\n            } : {}));\n            return {\n                shortCircuited: true\n            };\n        }\n        // If this is an uninterrupted revalidation, we remain in our current idle\n        // state.  If not, we need to switch to our loading state and load data,\n        // preserving any new action data or existing action data (in the case of\n        // a revalidation interrupting an actionReload)\n        if (!isUninterruptedRevalidation) {\n            revalidatingFetchers.forEach((rf)=>{\n                let fetcher = state.fetchers.get(rf.key);\n                let revalidatingFetcher = $c846480b5114588d$var$getLoadingFetcher(undefined, fetcher ? fetcher.data : undefined);\n                state.fetchers.set(rf.key, revalidatingFetcher);\n            });\n            let actionData = pendingActionData || state.actionData;\n            updateState($c846480b5114588d$var$_extends({\n                navigation: loadingNavigation\n            }, actionData ? Object.keys(actionData).length === 0 ? {\n                actionData: null\n            } : {\n                actionData: actionData\n            } : {}, revalidatingFetchers.length > 0 ? {\n                fetchers: new Map(state.fetchers)\n            } : {}));\n        }\n        revalidatingFetchers.forEach((rf)=>{\n            if (fetchControllers.has(rf.key)) abortFetcher(rf.key);\n            if (rf.controller) // Fetchers use an independent AbortController so that aborting a fetcher\n            // (via deleteFetcher) does not abort the triggering navigation that\n            // triggered the revalidation\n            fetchControllers.set(rf.key, rf.controller);\n        });\n        // Proxy navigation abort through to revalidation fetchers\n        let abortPendingFetchRevalidations = ()=>revalidatingFetchers.forEach((f)=>abortFetcher(f.key));\n        if (pendingNavigationController) pendingNavigationController.signal.addEventListener(\"abort\", abortPendingFetchRevalidations);\n        let { results: results, loaderResults: loaderResults, fetcherResults: fetcherResults } = await callLoadersAndMaybeResolveData(state.matches, matches, matchesToLoad, revalidatingFetchers, request);\n        if (request.signal.aborted) return {\n            shortCircuited: true\n        };\n        // Clean up _after_ loaders have completed.  Don't clean up if we short\n        // circuited because fetchControllers would have been aborted and\n        // reassigned to new controllers for the next navigation\n        if (pendingNavigationController) pendingNavigationController.signal.removeEventListener(\"abort\", abortPendingFetchRevalidations);\n        revalidatingFetchers.forEach((rf)=>fetchControllers.delete(rf.key));\n        // If any loaders returned a redirect Response, start a new REPLACE navigation\n        let redirect = $c846480b5114588d$var$findRedirect(results);\n        if (redirect) {\n            if (redirect.idx >= matchesToLoad.length) {\n                // If this redirect came from a fetcher make sure we mark it in\n                // fetchRedirectIds so it doesn't get revalidated on the next set of\n                // loader executions\n                let fetcherKey = revalidatingFetchers[redirect.idx - matchesToLoad.length].key;\n                fetchRedirectIds.add(fetcherKey);\n            }\n            await startRedirectNavigation(state, redirect.result, {\n                replace: replace\n            });\n            return {\n                shortCircuited: true\n            };\n        }\n        // Process and commit output from loaders\n        let { loaderData: loaderData, errors: errors } = $c846480b5114588d$var$processLoaderData(state, matches, matchesToLoad, loaderResults, pendingError, revalidatingFetchers, fetcherResults, activeDeferreds);\n        // Wire up subscribers to update loaderData as promises settle\n        activeDeferreds.forEach((deferredData, routeId)=>{\n            deferredData.subscribe((aborted)=>{\n                // Note: No need to updateState here since the TrackedPromise on\n                // loaderData is stable across resolve/reject\n                // Remove this instance if we were aborted or if promises have settled\n                if (aborted || deferredData.done) activeDeferreds.delete(routeId);\n            });\n        });\n        let updatedFetchers = markFetchRedirectsDone();\n        let didAbortFetchLoads = abortStaleFetchLoads(pendingNavigationLoadId);\n        let shouldUpdateFetchers = updatedFetchers || didAbortFetchLoads || revalidatingFetchers.length > 0;\n        return $c846480b5114588d$var$_extends({\n            loaderData: loaderData,\n            errors: errors\n        }, shouldUpdateFetchers ? {\n            fetchers: new Map(state.fetchers)\n        } : {});\n    }\n    function getFetcher(key) {\n        return state.fetchers.get(key) || $c846480b5114588d$export$52eace9c284d3585;\n    }\n    // Trigger a fetcher load/submit for the given fetcher key\n    function fetch(key, routeId, href, opts) {\n        if (isServer) throw new Error(\"router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.\");\n        if (fetchControllers.has(key)) abortFetcher(key);\n        let routesToUse = inFlightDataRoutes || dataRoutes;\n        let normalizedPath = $c846480b5114588d$var$normalizeTo(state.location, state.matches, basename, future.v7_prependBasename, href, routeId, opts == null ? void 0 : opts.relative);\n        let matches = $c846480b5114588d$export$2708184779ceb39d(routesToUse, normalizedPath, basename);\n        if (!matches) {\n            setFetcherError(key, routeId, $c846480b5114588d$var$getInternalRouterError(404, {\n                pathname: normalizedPath\n            }));\n            return;\n        }\n        let { path: path, submission: submission, error: error } = $c846480b5114588d$var$normalizeNavigateOptions(future.v7_normalizeFormMethod, true, normalizedPath, opts);\n        if (error) {\n            setFetcherError(key, routeId, error);\n            return;\n        }\n        let match = $c846480b5114588d$var$getTargetMatch(matches, path);\n        pendingPreventScrollReset = (opts && opts.preventScrollReset) === true;\n        if (submission && $c846480b5114588d$var$isMutationMethod(submission.formMethod)) {\n            handleFetcherAction(key, routeId, path, match, matches, submission);\n            return;\n        }\n        // Store off the match so we can call it's shouldRevalidate on subsequent\n        // revalidations\n        fetchLoadMatches.set(key, {\n            routeId: routeId,\n            path: path\n        });\n        handleFetcherLoader(key, routeId, path, match, matches, submission);\n    }\n    // Call the action for the matched fetcher.submit(), and then handle redirects,\n    // errors, and revalidation\n    async function handleFetcherAction(key, routeId, path, match, requestMatches, submission) {\n        interruptActiveLoads();\n        fetchLoadMatches.delete(key);\n        if (!match.route.action && !match.route.lazy) {\n            let error = $c846480b5114588d$var$getInternalRouterError(405, {\n                method: submission.formMethod,\n                pathname: path,\n                routeId: routeId\n            });\n            setFetcherError(key, routeId, error);\n            return;\n        }\n        // Put this fetcher into it's submitting state\n        let existingFetcher = state.fetchers.get(key);\n        let fetcher = $c846480b5114588d$var$getSubmittingFetcher(submission, existingFetcher);\n        state.fetchers.set(key, fetcher);\n        updateState({\n            fetchers: new Map(state.fetchers)\n        });\n        // Call the action for the fetcher\n        let abortController = new AbortController();\n        let fetchRequest = $c846480b5114588d$var$createClientSideRequest(init.history, path, abortController.signal, submission);\n        fetchControllers.set(key, abortController);\n        let originatingLoadId = incrementingLoadId;\n        let actionResult = await $c846480b5114588d$var$callLoaderOrAction(\"action\", fetchRequest, match, requestMatches, manifest, mapRouteProperties, basename);\n        if (fetchRequest.signal.aborted) {\n            // We can delete this so long as we weren't aborted by ou our own fetcher\n            // re-submit which would have put _new_ controller is in fetchControllers\n            if (fetchControllers.get(key) === abortController) fetchControllers.delete(key);\n            return;\n        }\n        if ($c846480b5114588d$var$isRedirectResult(actionResult)) {\n            fetchControllers.delete(key);\n            if (pendingNavigationLoadId > originatingLoadId) {\n                // A new navigation was kicked off after our action started, so that\n                // should take precedence over this redirect navigation.  We already\n                // set isRevalidationRequired so all loaders for the new route should\n                // fire unless opted out via shouldRevalidate\n                let doneFetcher = $c846480b5114588d$var$getDoneFetcher(undefined);\n                state.fetchers.set(key, doneFetcher);\n                updateState({\n                    fetchers: new Map(state.fetchers)\n                });\n                return;\n            } else {\n                fetchRedirectIds.add(key);\n                let loadingFetcher = $c846480b5114588d$var$getLoadingFetcher(submission);\n                state.fetchers.set(key, loadingFetcher);\n                updateState({\n                    fetchers: new Map(state.fetchers)\n                });\n                return startRedirectNavigation(state, actionResult, {\n                    submission: submission,\n                    isFetchActionRedirect: true\n                });\n            }\n        }\n        // Process any non-redirect errors thrown\n        if ($c846480b5114588d$var$isErrorResult(actionResult)) {\n            setFetcherError(key, routeId, actionResult.error);\n            return;\n        }\n        if ($c846480b5114588d$var$isDeferredResult(actionResult)) throw $c846480b5114588d$var$getInternalRouterError(400, {\n            type: \"defer-action\"\n        });\n        // Start the data load for current matches, or the next location if we're\n        // in the middle of a navigation\n        let nextLocation = state.navigation.location || state.location;\n        let revalidationRequest = $c846480b5114588d$var$createClientSideRequest(init.history, nextLocation, abortController.signal);\n        let routesToUse = inFlightDataRoutes || dataRoutes;\n        let matches = state.navigation.state !== \"idle\" ? $c846480b5114588d$export$2708184779ceb39d(routesToUse, state.navigation.location, basename) : state.matches;\n        $c846480b5114588d$export$3e9cee6b33872309(matches, \"Didn't find any matches after fetcher action\");\n        let loadId = ++incrementingLoadId;\n        fetchReloadIds.set(key, loadId);\n        let loadFetcher = $c846480b5114588d$var$getLoadingFetcher(submission, actionResult.data);\n        state.fetchers.set(key, loadFetcher);\n        let [matchesToLoad, revalidatingFetchers] = $c846480b5114588d$var$getMatchesToLoad(init.history, state, matches, submission, nextLocation, isRevalidationRequired, cancelledDeferredRoutes, cancelledFetcherLoads, fetchLoadMatches, fetchRedirectIds, routesToUse, basename, {\n            [match.route.id]: actionResult.data\n        }, undefined // No need to send through errors since we short circuit above\n        );\n        // Put all revalidating fetchers into the loading state, except for the\n        // current fetcher which we want to keep in it's current loading state which\n        // contains it's action submission info + action data\n        revalidatingFetchers.filter((rf)=>rf.key !== key).forEach((rf)=>{\n            let staleKey = rf.key;\n            let existingFetcher = state.fetchers.get(staleKey);\n            let revalidatingFetcher = $c846480b5114588d$var$getLoadingFetcher(undefined, existingFetcher ? existingFetcher.data : undefined);\n            state.fetchers.set(staleKey, revalidatingFetcher);\n            if (fetchControllers.has(staleKey)) abortFetcher(staleKey);\n            if (rf.controller) fetchControllers.set(staleKey, rf.controller);\n        });\n        updateState({\n            fetchers: new Map(state.fetchers)\n        });\n        let abortPendingFetchRevalidations = ()=>revalidatingFetchers.forEach((rf)=>abortFetcher(rf.key));\n        abortController.signal.addEventListener(\"abort\", abortPendingFetchRevalidations);\n        let { results: results, loaderResults: loaderResults, fetcherResults: fetcherResults } = await callLoadersAndMaybeResolveData(state.matches, matches, matchesToLoad, revalidatingFetchers, revalidationRequest);\n        if (abortController.signal.aborted) return;\n        abortController.signal.removeEventListener(\"abort\", abortPendingFetchRevalidations);\n        fetchReloadIds.delete(key);\n        fetchControllers.delete(key);\n        revalidatingFetchers.forEach((r)=>fetchControllers.delete(r.key));\n        let redirect = $c846480b5114588d$var$findRedirect(results);\n        if (redirect) {\n            if (redirect.idx >= matchesToLoad.length) {\n                // If this redirect came from a fetcher make sure we mark it in\n                // fetchRedirectIds so it doesn't get revalidated on the next set of\n                // loader executions\n                let fetcherKey = revalidatingFetchers[redirect.idx - matchesToLoad.length].key;\n                fetchRedirectIds.add(fetcherKey);\n            }\n            return startRedirectNavigation(state, redirect.result);\n        }\n        // Process and commit output from loaders\n        let { loaderData: loaderData, errors: errors } = $c846480b5114588d$var$processLoaderData(state, state.matches, matchesToLoad, loaderResults, undefined, revalidatingFetchers, fetcherResults, activeDeferreds);\n        // Since we let revalidations complete even if the submitting fetcher was\n        // deleted, only put it back to idle if it hasn't been deleted\n        if (state.fetchers.has(key)) {\n            let doneFetcher = $c846480b5114588d$var$getDoneFetcher(actionResult.data);\n            state.fetchers.set(key, doneFetcher);\n        }\n        let didAbortFetchLoads = abortStaleFetchLoads(loadId);\n        // If we are currently in a navigation loading state and this fetcher is\n        // more recent than the navigation, we want the newer data so abort the\n        // navigation and complete it with the fetcher data\n        if (state.navigation.state === \"loading\" && loadId > pendingNavigationLoadId) {\n            $c846480b5114588d$export$3e9cee6b33872309(pendingAction, \"Expected pending action\");\n            pendingNavigationController && pendingNavigationController.abort();\n            completeNavigation(state.navigation.location, {\n                matches: matches,\n                loaderData: loaderData,\n                errors: errors,\n                fetchers: new Map(state.fetchers)\n            });\n        } else {\n            // otherwise just update with the fetcher data, preserving any existing\n            // loaderData for loaders that did not need to reload.  We have to\n            // manually merge here since we aren't going through completeNavigation\n            updateState($c846480b5114588d$var$_extends({\n                errors: errors,\n                loaderData: $c846480b5114588d$var$mergeLoaderData(state.loaderData, loaderData, matches, errors)\n            }, didAbortFetchLoads || revalidatingFetchers.length > 0 ? {\n                fetchers: new Map(state.fetchers)\n            } : {}));\n            isRevalidationRequired = false;\n        }\n    }\n    // Call the matched loader for fetcher.load(), handling redirects, errors, etc.\n    async function handleFetcherLoader(key, routeId, path, match, matches, submission) {\n        let existingFetcher = state.fetchers.get(key);\n        // Put this fetcher into it's loading state\n        let loadingFetcher = $c846480b5114588d$var$getLoadingFetcher(submission, existingFetcher ? existingFetcher.data : undefined);\n        state.fetchers.set(key, loadingFetcher);\n        updateState({\n            fetchers: new Map(state.fetchers)\n        });\n        // Call the loader for this fetcher route match\n        let abortController = new AbortController();\n        let fetchRequest = $c846480b5114588d$var$createClientSideRequest(init.history, path, abortController.signal);\n        fetchControllers.set(key, abortController);\n        let originatingLoadId = incrementingLoadId;\n        let result = await $c846480b5114588d$var$callLoaderOrAction(\"loader\", fetchRequest, match, matches, manifest, mapRouteProperties, basename);\n        // Deferred isn't supported for fetcher loads, await everything and treat it\n        // as a normal load.  resolveDeferredData will return undefined if this\n        // fetcher gets aborted, so we just leave result untouched and short circuit\n        // below if that happens\n        if ($c846480b5114588d$var$isDeferredResult(result)) result = await $c846480b5114588d$var$resolveDeferredData(result, fetchRequest.signal, true) || result;\n        // We can delete this so long as we weren't aborted by our our own fetcher\n        // re-load which would have put _new_ controller is in fetchControllers\n        if (fetchControllers.get(key) === abortController) fetchControllers.delete(key);\n        if (fetchRequest.signal.aborted) return;\n        // If the loader threw a redirect Response, start a new REPLACE navigation\n        if ($c846480b5114588d$var$isRedirectResult(result)) {\n            if (pendingNavigationLoadId > originatingLoadId) {\n                // A new navigation was kicked off after our loader started, so that\n                // should take precedence over this redirect navigation\n                let doneFetcher = $c846480b5114588d$var$getDoneFetcher(undefined);\n                state.fetchers.set(key, doneFetcher);\n                updateState({\n                    fetchers: new Map(state.fetchers)\n                });\n                return;\n            } else {\n                fetchRedirectIds.add(key);\n                await startRedirectNavigation(state, result);\n                return;\n            }\n        }\n        // Process any non-redirect errors thrown\n        if ($c846480b5114588d$var$isErrorResult(result)) {\n            let boundaryMatch = $c846480b5114588d$var$findNearestBoundary(state.matches, routeId);\n            state.fetchers.delete(key);\n            // TODO: In remix, this would reset to IDLE_NAVIGATION if it was a catch -\n            // do we need to behave any differently with our non-redirect errors?\n            // What if it was a non-redirect Response?\n            updateState({\n                fetchers: new Map(state.fetchers),\n                errors: {\n                    [boundaryMatch.route.id]: result.error\n                }\n            });\n            return;\n        }\n        $c846480b5114588d$export$3e9cee6b33872309(!$c846480b5114588d$var$isDeferredResult(result), \"Unhandled fetcher deferred data\");\n        // Put the fetcher back into an idle state\n        let doneFetcher = $c846480b5114588d$var$getDoneFetcher(result.data);\n        state.fetchers.set(key, doneFetcher);\n        updateState({\n            fetchers: new Map(state.fetchers)\n        });\n    }\n    /**\n   * Utility function to handle redirects returned from an action or loader.\n   * Normally, a redirect \"replaces\" the navigation that triggered it.  So, for\n   * example:\n   *\n   *  - user is on /a\n   *  - user clicks a link to /b\n   *  - loader for /b redirects to /c\n   *\n   * In a non-JS app the browser would track the in-flight navigation to /b and\n   * then replace it with /c when it encountered the redirect response.  In\n   * the end it would only ever update the URL bar with /c.\n   *\n   * In client-side routing using pushState/replaceState, we aim to emulate\n   * this behavior and we also do not update history until the end of the\n   * navigation (including processed redirects).  This means that we never\n   * actually touch history until we've processed redirects, so we just use\n   * the history action from the original navigation (PUSH or REPLACE).\n   */ async function startRedirectNavigation(state, redirect, _temp) {\n        let { submission: submission, replace: replace, isFetchActionRedirect: isFetchActionRedirect } = _temp === void 0 ? {} : _temp;\n        if (redirect.revalidate) isRevalidationRequired = true;\n        let redirectLocation = $c846480b5114588d$var$createLocation(state.location, redirect.location, $c846480b5114588d$var$_extends({\n            _isRedirect: true\n        }, isFetchActionRedirect ? {\n            _isFetchActionRedirect: true\n        } : {}));\n        $c846480b5114588d$export$3e9cee6b33872309(redirectLocation, \"Expected a location on the redirect navigation\");\n        if (isBrowser) {\n            let isDocumentReload = false;\n            if (redirect.reloadDocument) // Hard reload if the response contained X-Remix-Reload-Document\n            isDocumentReload = true;\n            else if ($c846480b5114588d$var$ABSOLUTE_URL_REGEX.test(redirect.location)) {\n                const url = init.history.createURL(redirect.location);\n                isDocumentReload = // Hard reload if it's an absolute URL to a new origin\n                url.origin !== routerWindow.location.origin || // Hard reload if it's an absolute URL that does not match our basename\n                $c846480b5114588d$export$b69e3301ce081aa3(url.pathname, basename) == null;\n            }\n            if (isDocumentReload) {\n                if (replace) routerWindow.location.replace(redirect.location);\n                else routerWindow.location.assign(redirect.location);\n                return;\n            }\n        }\n        // There's no need to abort on redirects, since we don't detect the\n        // redirect until the action/loaders have settled\n        pendingNavigationController = null;\n        let redirectHistoryAction = replace === true ? $c846480b5114588d$export$e19cd5f9376f8cee.Replace : $c846480b5114588d$export$e19cd5f9376f8cee.Push;\n        // Use the incoming submission if provided, fallback on the active one in\n        // state.navigation\n        let activeSubmission = submission || $c846480b5114588d$var$getSubmissionFromNavigation(state.navigation);\n        // If this was a 307/308 submission we want to preserve the HTTP method and\n        // re-submit the GET/POST/PUT/PATCH/DELETE as a submission navigation to the\n        // redirected location\n        if ($c846480b5114588d$var$redirectPreserveMethodStatusCodes.has(redirect.status) && activeSubmission && $c846480b5114588d$var$isMutationMethod(activeSubmission.formMethod)) await startNavigation(redirectHistoryAction, redirectLocation, {\n            submission: $c846480b5114588d$var$_extends({}, activeSubmission, {\n                formAction: redirect.location\n            }),\n            // Preserve this flag across redirects\n            preventScrollReset: pendingPreventScrollReset\n        });\n        else if (isFetchActionRedirect) // For a fetch action redirect, we kick off a new loading navigation\n        // without the fetcher submission, but we send it along for shouldRevalidate\n        await startNavigation(redirectHistoryAction, redirectLocation, {\n            overrideNavigation: $c846480b5114588d$var$getLoadingNavigation(redirectLocation),\n            fetcherSubmission: activeSubmission,\n            // Preserve this flag across redirects\n            preventScrollReset: pendingPreventScrollReset\n        });\n        else {\n            // If we have a submission, we will preserve it through the redirect navigation\n            let overrideNavigation = $c846480b5114588d$var$getLoadingNavigation(redirectLocation, activeSubmission);\n            await startNavigation(redirectHistoryAction, redirectLocation, {\n                overrideNavigation: overrideNavigation,\n                // Preserve this flag across redirects\n                preventScrollReset: pendingPreventScrollReset\n            });\n        }\n    }\n    async function callLoadersAndMaybeResolveData(currentMatches, matches, matchesToLoad, fetchersToLoad, request) {\n        // Call all navigation loaders and revalidating fetcher loaders in parallel,\n        // then slice off the results into separate arrays so we can handle them\n        // accordingly\n        let results = await Promise.all([\n            ...matchesToLoad.map((match)=>$c846480b5114588d$var$callLoaderOrAction(\"loader\", request, match, matches, manifest, mapRouteProperties, basename)),\n            ...fetchersToLoad.map((f)=>{\n                if (f.matches && f.match && f.controller) return $c846480b5114588d$var$callLoaderOrAction(\"loader\", $c846480b5114588d$var$createClientSideRequest(init.history, f.path, f.controller.signal), f.match, f.matches, manifest, mapRouteProperties, basename);\n                else {\n                    let error = {\n                        type: $c846480b5114588d$var$ResultType.error,\n                        error: $c846480b5114588d$var$getInternalRouterError(404, {\n                            pathname: f.path\n                        })\n                    };\n                    return error;\n                }\n            })\n        ]);\n        let loaderResults = results.slice(0, matchesToLoad.length);\n        let fetcherResults = results.slice(matchesToLoad.length);\n        await Promise.all([\n            $c846480b5114588d$var$resolveDeferredResults(currentMatches, matchesToLoad, loaderResults, loaderResults.map(()=>request.signal), false, state.loaderData),\n            $c846480b5114588d$var$resolveDeferredResults(currentMatches, fetchersToLoad.map((f)=>f.match), fetcherResults, fetchersToLoad.map((f)=>f.controller ? f.controller.signal : null), true)\n        ]);\n        return {\n            results: results,\n            loaderResults: loaderResults,\n            fetcherResults: fetcherResults\n        };\n    }\n    function interruptActiveLoads() {\n        // Every interruption triggers a revalidation\n        isRevalidationRequired = true;\n        // Cancel pending route-level deferreds and mark cancelled routes for\n        // revalidation\n        cancelledDeferredRoutes.push(...cancelActiveDeferreds());\n        // Abort in-flight fetcher loads\n        fetchLoadMatches.forEach((_, key)=>{\n            if (fetchControllers.has(key)) {\n                cancelledFetcherLoads.push(key);\n                abortFetcher(key);\n            }\n        });\n    }\n    function setFetcherError(key, routeId, error) {\n        let boundaryMatch = $c846480b5114588d$var$findNearestBoundary(state.matches, routeId);\n        deleteFetcher(key);\n        updateState({\n            errors: {\n                [boundaryMatch.route.id]: error\n            },\n            fetchers: new Map(state.fetchers)\n        });\n    }\n    function deleteFetcher(key) {\n        let fetcher = state.fetchers.get(key);\n        // Don't abort the controller if this is a deletion of a fetcher.submit()\n        // in it's loading phase since - we don't want to abort the corresponding\n        // revalidation and want them to complete and land\n        if (fetchControllers.has(key) && !(fetcher && fetcher.state === \"loading\" && fetchReloadIds.has(key))) abortFetcher(key);\n        fetchLoadMatches.delete(key);\n        fetchReloadIds.delete(key);\n        fetchRedirectIds.delete(key);\n        state.fetchers.delete(key);\n    }\n    function abortFetcher(key) {\n        let controller = fetchControllers.get(key);\n        $c846480b5114588d$export$3e9cee6b33872309(controller, \"Expected fetch controller: \" + key);\n        controller.abort();\n        fetchControllers.delete(key);\n    }\n    function markFetchersDone(keys) {\n        for (let key of keys){\n            let fetcher = getFetcher(key);\n            let doneFetcher = $c846480b5114588d$var$getDoneFetcher(fetcher.data);\n            state.fetchers.set(key, doneFetcher);\n        }\n    }\n    function markFetchRedirectsDone() {\n        let doneKeys = [];\n        let updatedFetchers = false;\n        for (let key of fetchRedirectIds){\n            let fetcher = state.fetchers.get(key);\n            $c846480b5114588d$export$3e9cee6b33872309(fetcher, \"Expected fetcher: \" + key);\n            if (fetcher.state === \"loading\") {\n                fetchRedirectIds.delete(key);\n                doneKeys.push(key);\n                updatedFetchers = true;\n            }\n        }\n        markFetchersDone(doneKeys);\n        return updatedFetchers;\n    }\n    function abortStaleFetchLoads(landedId) {\n        let yeetedKeys = [];\n        for (let [key, id] of fetchReloadIds)if (id < landedId) {\n            let fetcher = state.fetchers.get(key);\n            $c846480b5114588d$export$3e9cee6b33872309(fetcher, \"Expected fetcher: \" + key);\n            if (fetcher.state === \"loading\") {\n                abortFetcher(key);\n                fetchReloadIds.delete(key);\n                yeetedKeys.push(key);\n            }\n        }\n        markFetchersDone(yeetedKeys);\n        return yeetedKeys.length > 0;\n    }\n    function getBlocker(key, fn) {\n        let blocker = state.blockers.get(key) || $c846480b5114588d$export$386d57f03f0b2883;\n        if (blockerFunctions.get(key) !== fn) blockerFunctions.set(key, fn);\n        return blocker;\n    }\n    function deleteBlocker(key) {\n        state.blockers.delete(key);\n        blockerFunctions.delete(key);\n    }\n    // Utility function to update blockers, ensuring valid state transitions\n    function updateBlocker(key, newBlocker) {\n        let blocker = state.blockers.get(key) || $c846480b5114588d$export$386d57f03f0b2883;\n        // Poor mans state machine :)\n        // https://mermaid.live/edit#pako:eNqVkc9OwzAMxl8l8nnjAYrEtDIOHEBIgwvKJTReGy3_lDpIqO27k6awMG0XcrLlnz87nwdonESogKXXBuE79rq75XZO3-yHds0RJVuv70YrPlUrCEe2HfrORS3rubqZfuhtpg5C9wk5tZ4VKcRUq88q9Z8RS0-48cE1iHJkL0ugbHuFLus9L6spZy8nX9MP2CNdomVaposqu3fGayT8T8-jJQwhepo_UtpgBQaDEUom04dZhAN1aJBDlUKJBxE1ceB2Smj0Mln-IBW5AFU2dwUiktt_2Qaq2dBfaKdEup85UV7Yd-dKjlnkabl2Pvr0DTkTreM\n        $c846480b5114588d$export$3e9cee6b33872309(blocker.state === \"unblocked\" && newBlocker.state === \"blocked\" || blocker.state === \"blocked\" && newBlocker.state === \"blocked\" || blocker.state === \"blocked\" && newBlocker.state === \"proceeding\" || blocker.state === \"blocked\" && newBlocker.state === \"unblocked\" || blocker.state === \"proceeding\" && newBlocker.state === \"unblocked\", \"Invalid blocker state transition: \" + blocker.state + \" -> \" + newBlocker.state);\n        let blockers = new Map(state.blockers);\n        blockers.set(key, newBlocker);\n        updateState({\n            blockers: blockers\n        });\n    }\n    function shouldBlockNavigation(_ref2) {\n        let { currentLocation: currentLocation, nextLocation: nextLocation, historyAction: historyAction } = _ref2;\n        if (blockerFunctions.size === 0) return;\n        // We ony support a single active blocker at the moment since we don't have\n        // any compelling use cases for multi-blocker yet\n        if (blockerFunctions.size > 1) $c846480b5114588d$export$c0e02632e14916fd(false, \"A router only supports one blocker at a time\");\n        let entries = Array.from(blockerFunctions.entries());\n        let [blockerKey, blockerFunction] = entries[entries.length - 1];\n        let blocker = state.blockers.get(blockerKey);\n        if (blocker && blocker.state === \"proceeding\") // If the blocker is currently proceeding, we don't need to re-check\n        // it and can let this navigation continue\n        return;\n        // At this point, we know we're unblocked/blocked so we need to check the\n        // user-provided blocker function\n        if (blockerFunction({\n            currentLocation: currentLocation,\n            nextLocation: nextLocation,\n            historyAction: historyAction\n        })) return blockerKey;\n    }\n    function cancelActiveDeferreds(predicate) {\n        let cancelledRouteIds = [];\n        activeDeferreds.forEach((dfd, routeId)=>{\n            if (!predicate || predicate(routeId)) {\n                // Cancel the deferred - but do not remove from activeDeferreds here -\n                // we rely on the subscribers to do that so our tests can assert proper\n                // cleanup via _internalActiveDeferreds\n                dfd.cancel();\n                cancelledRouteIds.push(routeId);\n                activeDeferreds.delete(routeId);\n            }\n        });\n        return cancelledRouteIds;\n    }\n    // Opt in to capturing and reporting scroll positions during navigations,\n    // used by the <ScrollRestoration> component\n    function enableScrollRestoration(positions, getPosition, getKey) {\n        savedScrollPositions = positions;\n        getScrollPosition = getPosition;\n        getScrollRestorationKey = getKey || null;\n        // Perform initial hydration scroll restoration, since we miss the boat on\n        // the initial updateState() because we've not yet rendered <ScrollRestoration/>\n        // and therefore have no savedScrollPositions available\n        if (!initialScrollRestored && state.navigation === $c846480b5114588d$export$ed3e14b2f9e105d0) {\n            initialScrollRestored = true;\n            let y = getSavedScrollPosition(state.location, state.matches);\n            if (y != null) updateState({\n                restoreScrollPosition: y\n            });\n        }\n        return ()=>{\n            savedScrollPositions = null;\n            getScrollPosition = null;\n            getScrollRestorationKey = null;\n        };\n    }\n    function getScrollKey(location, matches) {\n        if (getScrollRestorationKey) {\n            let key = getScrollRestorationKey(location, matches.map((m)=>$c846480b5114588d$var$createUseMatchesMatch(m, state.loaderData)));\n            return key || location.key;\n        }\n        return location.key;\n    }\n    function saveScrollPosition(location, matches) {\n        if (savedScrollPositions && getScrollPosition) {\n            let key = getScrollKey(location, matches);\n            savedScrollPositions[key] = getScrollPosition();\n        }\n    }\n    function getSavedScrollPosition(location, matches) {\n        if (savedScrollPositions) {\n            let key = getScrollKey(location, matches);\n            let y = savedScrollPositions[key];\n            if (typeof y === \"number\") return y;\n        }\n        return null;\n    }\n    function _internalSetRoutes(newRoutes) {\n        manifest = {};\n        inFlightDataRoutes = $c846480b5114588d$export$4a6d22b32134ea5d(newRoutes, mapRouteProperties, undefined, manifest);\n    }\n    router = {\n        get basename () {\n            return basename;\n        },\n        get state () {\n            return state;\n        },\n        get routes () {\n            return dataRoutes;\n        },\n        initialize: initialize,\n        subscribe: subscribe,\n        enableScrollRestoration: enableScrollRestoration,\n        navigate: navigate,\n        fetch: fetch,\n        revalidate: revalidate,\n        // Passthrough to history-aware createHref used by useHref so we get proper\n        // hash-aware URLs in DOM paths\n        createHref: (to)=>init.history.createHref(to),\n        encodeLocation: (to)=>init.history.encodeLocation(to),\n        getFetcher: getFetcher,\n        deleteFetcher: deleteFetcher,\n        dispose: dispose,\n        getBlocker: getBlocker,\n        deleteBlocker: deleteBlocker,\n        _internalFetchControllers: fetchControllers,\n        _internalActiveDeferreds: activeDeferreds,\n        _internalSetRoutes: // TODO: Remove setRoutes, it's temporary to avoid dealing with\n        // updating the tree while validating the update algorithm.\n        _internalSetRoutes\n    };\n    return router;\n}\n//#endregion\n////////////////////////////////////////////////////////////////////////////////\n//#region createStaticHandler\n////////////////////////////////////////////////////////////////////////////////\nconst $c846480b5114588d$export$4d0306f8f6a4585b = Symbol(\"deferred\");\nfunction $c846480b5114588d$export$3336b097a6fbc59a(routes, opts) {\n    $c846480b5114588d$export$3e9cee6b33872309(routes.length > 0, \"You must provide a non-empty routes array to createStaticHandler\");\n    let manifest = {};\n    let basename = (opts ? opts.basename : null) || \"/\";\n    let mapRouteProperties;\n    if (opts != null && opts.mapRouteProperties) mapRouteProperties = opts.mapRouteProperties;\n    else if (opts != null && opts.detectErrorBoundary) {\n        // If they are still using the deprecated version, wrap it with the new API\n        let detectErrorBoundary = opts.detectErrorBoundary;\n        mapRouteProperties = (route)=>({\n                hasErrorBoundary: detectErrorBoundary(route)\n            });\n    } else mapRouteProperties = $c846480b5114588d$var$defaultMapRouteProperties;\n    let dataRoutes = $c846480b5114588d$export$4a6d22b32134ea5d(routes, mapRouteProperties, undefined, manifest);\n    /**\n   * The query() method is intended for document requests, in which we want to\n   * call an optional action and potentially multiple loaders for all nested\n   * routes.  It returns a StaticHandlerContext object, which is very similar\n   * to the router state (location, loaderData, actionData, errors, etc.) and\n   * also adds SSR-specific information such as the statusCode and headers\n   * from action/loaders Responses.\n   *\n   * It _should_ never throw and should report all errors through the\n   * returned context.errors object, properly associating errors to their error\n   * boundary.  Additionally, it tracks _deepestRenderedBoundaryId which can be\n   * used to emulate React error boundaries during SSr by performing a second\n   * pass only down to the boundaryId.\n   *\n   * The one exception where we do not return a StaticHandlerContext is when a\n   * redirect response is returned or thrown from any action/loader.  We\n   * propagate that out and return the raw Response so the HTTP server can\n   * return it directly.\n   */ async function query(request, _temp2) {\n        let { requestContext: requestContext } = _temp2 === void 0 ? {} : _temp2;\n        let url = new URL(request.url);\n        let method = request.method;\n        let location = $c846480b5114588d$var$createLocation(\"\", $c846480b5114588d$export$fe53371bee54353d(url), null, \"default\");\n        let matches = $c846480b5114588d$export$2708184779ceb39d(dataRoutes, location, basename);\n        // SSR supports HEAD requests while SPA doesn't\n        if (!$c846480b5114588d$var$isValidMethod(method) && method !== \"HEAD\") {\n            let error = $c846480b5114588d$var$getInternalRouterError(405, {\n                method: method\n            });\n            let { matches: methodNotAllowedMatches, route: route } = $c846480b5114588d$var$getShortCircuitMatches(dataRoutes);\n            return {\n                basename: basename,\n                location: location,\n                matches: methodNotAllowedMatches,\n                loaderData: {},\n                actionData: null,\n                errors: {\n                    [route.id]: error\n                },\n                statusCode: error.status,\n                loaderHeaders: {},\n                actionHeaders: {},\n                activeDeferreds: null\n            };\n        } else if (!matches) {\n            let error = $c846480b5114588d$var$getInternalRouterError(404, {\n                pathname: location.pathname\n            });\n            let { matches: notFoundMatches, route: route } = $c846480b5114588d$var$getShortCircuitMatches(dataRoutes);\n            return {\n                basename: basename,\n                location: location,\n                matches: notFoundMatches,\n                loaderData: {},\n                actionData: null,\n                errors: {\n                    [route.id]: error\n                },\n                statusCode: error.status,\n                loaderHeaders: {},\n                actionHeaders: {},\n                activeDeferreds: null\n            };\n        }\n        let result = await queryImpl(request, location, matches, requestContext);\n        if ($c846480b5114588d$var$isResponse(result)) return result;\n        // When returning StaticHandlerContext, we patch back in the location here\n        // since we need it for React Context.  But this helps keep our submit and\n        // loadRouteData operating on a Request instead of a Location\n        return $c846480b5114588d$var$_extends({\n            location: location,\n            basename: basename\n        }, result);\n    }\n    /**\n   * The queryRoute() method is intended for targeted route requests, either\n   * for fetch ?_data requests or resource route requests.  In this case, we\n   * are only ever calling a single action or loader, and we are returning the\n   * returned value directly.  In most cases, this will be a Response returned\n   * from the action/loader, but it may be a primitive or other value as well -\n   * and in such cases the calling context should handle that accordingly.\n   *\n   * We do respect the throw/return differentiation, so if an action/loader\n   * throws, then this method will throw the value.  This is important so we\n   * can do proper boundary identification in Remix where a thrown Response\n   * must go to the Catch Boundary but a returned Response is happy-path.\n   *\n   * One thing to note is that any Router-initiated Errors that make sense\n   * to associate with a status code will be thrown as an ErrorResponse\n   * instance which include the raw Error, such that the calling context can\n   * serialize the error as they see fit while including the proper response\n   * code.  Examples here are 404 and 405 errors that occur prior to reaching\n   * any user-defined loaders.\n   */ async function queryRoute(request, _temp3) {\n        let { routeId: routeId, requestContext: requestContext } = _temp3 === void 0 ? {} : _temp3;\n        let url = new URL(request.url);\n        let method = request.method;\n        let location = $c846480b5114588d$var$createLocation(\"\", $c846480b5114588d$export$fe53371bee54353d(url), null, \"default\");\n        let matches = $c846480b5114588d$export$2708184779ceb39d(dataRoutes, location, basename);\n        // SSR supports HEAD requests while SPA doesn't\n        if (!$c846480b5114588d$var$isValidMethod(method) && method !== \"HEAD\" && method !== \"OPTIONS\") throw $c846480b5114588d$var$getInternalRouterError(405, {\n            method: method\n        });\n        else if (!matches) throw $c846480b5114588d$var$getInternalRouterError(404, {\n            pathname: location.pathname\n        });\n        let match = routeId ? matches.find((m)=>m.route.id === routeId) : $c846480b5114588d$var$getTargetMatch(matches, location);\n        if (routeId && !match) throw $c846480b5114588d$var$getInternalRouterError(403, {\n            pathname: location.pathname,\n            routeId: routeId\n        });\n        else if (!match) // This should never hit I don't think?\n        throw $c846480b5114588d$var$getInternalRouterError(404, {\n            pathname: location.pathname\n        });\n        let result = await queryImpl(request, location, matches, requestContext, match);\n        if ($c846480b5114588d$var$isResponse(result)) return result;\n        let error = result.errors ? Object.values(result.errors)[0] : undefined;\n        if (error !== undefined) // If we got back result.errors, that means the loader/action threw\n        // _something_ that wasn't a Response, but it's not guaranteed/required\n        // to be an `instanceof Error` either, so we have to use throw here to\n        // preserve the \"error\" state outside of queryImpl.\n        throw error;\n        // Pick off the right state value to return\n        if (result.actionData) return Object.values(result.actionData)[0];\n        if (result.loaderData) {\n            var _result$activeDeferre;\n            let data = Object.values(result.loaderData)[0];\n            if ((_result$activeDeferre = result.activeDeferreds) != null && _result$activeDeferre[match.route.id]) data[$c846480b5114588d$export$4d0306f8f6a4585b] = result.activeDeferreds[match.route.id];\n            return data;\n        }\n        return undefined;\n    }\n    async function queryImpl(request, location, matches, requestContext, routeMatch) {\n        $c846480b5114588d$export$3e9cee6b33872309(request.signal, \"query()/queryRoute() requests must contain an AbortController signal\");\n        try {\n            if ($c846480b5114588d$var$isMutationMethod(request.method.toLowerCase())) {\n                let result = await submit(request, matches, routeMatch || $c846480b5114588d$var$getTargetMatch(matches, location), requestContext, routeMatch != null);\n                return result;\n            }\n            let result = await loadRouteData(request, matches, requestContext, routeMatch);\n            return $c846480b5114588d$var$isResponse(result) ? result : $c846480b5114588d$var$_extends({}, result, {\n                actionData: null,\n                actionHeaders: {}\n            });\n        } catch (e) {\n            // If the user threw/returned a Response in callLoaderOrAction, we throw\n            // it to bail out and then return or throw here based on whether the user\n            // returned or threw\n            if ($c846480b5114588d$var$isQueryRouteResponse(e)) {\n                if (e.type === $c846480b5114588d$var$ResultType.error) throw e.response;\n                return e.response;\n            }\n            // Redirects are always returned since they don't propagate to catch\n            // boundaries\n            if ($c846480b5114588d$var$isRedirectResponse(e)) return e;\n            throw e;\n        }\n    }\n    async function submit(request, matches, actionMatch, requestContext, isRouteRequest) {\n        let result;\n        if (!actionMatch.route.action && !actionMatch.route.lazy) {\n            let error = $c846480b5114588d$var$getInternalRouterError(405, {\n                method: request.method,\n                pathname: new URL(request.url).pathname,\n                routeId: actionMatch.route.id\n            });\n            if (isRouteRequest) throw error;\n            result = {\n                type: $c846480b5114588d$var$ResultType.error,\n                error: error\n            };\n        } else {\n            result = await $c846480b5114588d$var$callLoaderOrAction(\"action\", request, actionMatch, matches, manifest, mapRouteProperties, basename, {\n                isStaticRequest: true,\n                isRouteRequest: isRouteRequest,\n                requestContext: requestContext\n            });\n            if (request.signal.aborted) {\n                let method = isRouteRequest ? \"queryRoute\" : \"query\";\n                throw new Error(method + \"() call aborted\");\n            }\n        }\n        if ($c846480b5114588d$var$isRedirectResult(result)) // Uhhhh - this should never happen, we should always throw these from\n        // callLoaderOrAction, but the type narrowing here keeps TS happy and we\n        // can get back on the \"throw all redirect responses\" train here should\n        // this ever happen :/\n        throw new Response(null, {\n            status: result.status,\n            headers: {\n                Location: result.location\n            }\n        });\n        if ($c846480b5114588d$var$isDeferredResult(result)) {\n            let error = $c846480b5114588d$var$getInternalRouterError(400, {\n                type: \"defer-action\"\n            });\n            if (isRouteRequest) throw error;\n            result = {\n                type: $c846480b5114588d$var$ResultType.error,\n                error: error\n            };\n        }\n        if (isRouteRequest) {\n            // Note: This should only be non-Response values if we get here, since\n            // isRouteRequest should throw any Response received in callLoaderOrAction\n            if ($c846480b5114588d$var$isErrorResult(result)) throw result.error;\n            return {\n                matches: [\n                    actionMatch\n                ],\n                loaderData: {},\n                actionData: {\n                    [actionMatch.route.id]: result.data\n                },\n                errors: null,\n                // Note: statusCode + headers are unused here since queryRoute will\n                // return the raw Response or value\n                statusCode: 200,\n                loaderHeaders: {},\n                actionHeaders: {},\n                activeDeferreds: null\n            };\n        }\n        if ($c846480b5114588d$var$isErrorResult(result)) {\n            // Store off the pending error - we use it to determine which loaders\n            // to call and will commit it when we complete the navigation\n            let boundaryMatch = $c846480b5114588d$var$findNearestBoundary(matches, actionMatch.route.id);\n            let context = await loadRouteData(request, matches, requestContext, undefined, {\n                [boundaryMatch.route.id]: result.error\n            });\n            // action status codes take precedence over loader status codes\n            return $c846480b5114588d$var$_extends({}, context, {\n                statusCode: $c846480b5114588d$export$972111febbeef05b(result.error) ? result.error.status : 500,\n                actionData: null,\n                actionHeaders: $c846480b5114588d$var$_extends({}, result.headers ? {\n                    [actionMatch.route.id]: result.headers\n                } : {})\n            });\n        }\n        // Create a GET request for the loaders\n        let loaderRequest = new Request(request.url, {\n            headers: request.headers,\n            redirect: request.redirect,\n            signal: request.signal\n        });\n        let context = await loadRouteData(loaderRequest, matches, requestContext);\n        return $c846480b5114588d$var$_extends({}, context, result.statusCode ? {\n            statusCode: result.statusCode\n        } : {}, {\n            actionData: {\n                [actionMatch.route.id]: result.data\n            },\n            actionHeaders: $c846480b5114588d$var$_extends({}, result.headers ? {\n                [actionMatch.route.id]: result.headers\n            } : {})\n        });\n    }\n    async function loadRouteData(request, matches, requestContext, routeMatch, pendingActionError) {\n        let isRouteRequest = routeMatch != null;\n        // Short circuit if we have no loaders to run (queryRoute())\n        if (isRouteRequest && !(routeMatch != null && routeMatch.route.loader) && !(routeMatch != null && routeMatch.route.lazy)) throw $c846480b5114588d$var$getInternalRouterError(400, {\n            method: request.method,\n            pathname: new URL(request.url).pathname,\n            routeId: routeMatch == null ? void 0 : routeMatch.route.id\n        });\n        let requestMatches = routeMatch ? [\n            routeMatch\n        ] : $c846480b5114588d$var$getLoaderMatchesUntilBoundary(matches, Object.keys(pendingActionError || {})[0]);\n        let matchesToLoad = requestMatches.filter((m)=>m.route.loader || m.route.lazy);\n        // Short circuit if we have no loaders to run (query())\n        if (matchesToLoad.length === 0) return {\n            matches: matches,\n            // Add a null for all matched routes for proper revalidation on the client\n            loaderData: matches.reduce((acc, m)=>Object.assign(acc, {\n                    [m.route.id]: null\n                }), {}),\n            errors: pendingActionError || null,\n            statusCode: 200,\n            loaderHeaders: {},\n            activeDeferreds: null\n        };\n        let results = await Promise.all([\n            ...matchesToLoad.map((match)=>$c846480b5114588d$var$callLoaderOrAction(\"loader\", request, match, matches, manifest, mapRouteProperties, basename, {\n                    isStaticRequest: true,\n                    isRouteRequest: isRouteRequest,\n                    requestContext: requestContext\n                }))\n        ]);\n        if (request.signal.aborted) {\n            let method = isRouteRequest ? \"queryRoute\" : \"query\";\n            throw new Error(method + \"() call aborted\");\n        }\n        // Process and commit output from loaders\n        let activeDeferreds = new Map();\n        let context = $c846480b5114588d$var$processRouteLoaderData(matches, matchesToLoad, results, pendingActionError, activeDeferreds);\n        // Add a null for any non-loader matches for proper revalidation on the client\n        let executedLoaders = new Set(matchesToLoad.map((match)=>match.route.id));\n        matches.forEach((match)=>{\n            if (!executedLoaders.has(match.route.id)) context.loaderData[match.route.id] = null;\n        });\n        return $c846480b5114588d$var$_extends({}, context, {\n            matches: matches,\n            activeDeferreds: activeDeferreds.size > 0 ? Object.fromEntries(activeDeferreds.entries()) : null\n        });\n    }\n    return {\n        dataRoutes: dataRoutes,\n        query: query,\n        queryRoute: queryRoute\n    };\n}\n//#endregion\n////////////////////////////////////////////////////////////////////////////////\n//#region Helpers\n////////////////////////////////////////////////////////////////////////////////\n/**\n * Given an existing StaticHandlerContext and an error thrown at render time,\n * provide an updated StaticHandlerContext suitable for a second SSR render\n */ function $c846480b5114588d$export$fec11da027c70692(routes, context, error) {\n    let newContext = $c846480b5114588d$var$_extends({}, context, {\n        statusCode: 500,\n        errors: {\n            [context._deepestRenderedBoundaryId || routes[0].id]: error\n        }\n    });\n    return newContext;\n}\nfunction $c846480b5114588d$var$isSubmissionNavigation(opts) {\n    return opts != null && (\"formData\" in opts && opts.formData != null || \"body\" in opts && opts.body !== undefined);\n}\nfunction $c846480b5114588d$var$normalizeTo(location, matches, basename, prependBasename, to, fromRouteId, relative) {\n    let contextualMatches;\n    let activeRouteMatch;\n    if (fromRouteId != null && relative !== \"path\") {\n        // Grab matches up to the calling route so our route-relative logic is\n        // relative to the correct source route.  When using relative:path,\n        // fromRouteId is ignored since that is always relative to the current\n        // location path\n        contextualMatches = [];\n        for (let match of matches){\n            contextualMatches.push(match);\n            if (match.route.id === fromRouteId) {\n                activeRouteMatch = match;\n                break;\n            }\n        }\n    } else {\n        contextualMatches = matches;\n        activeRouteMatch = matches[matches.length - 1];\n    }\n    // Resolve the relative path\n    let path = $c846480b5114588d$export$cae722b0cc860f13(to ? to : \".\", $c846480b5114588d$export$90ba53ce1c7fdff2(contextualMatches).map((m)=>m.pathnameBase), $c846480b5114588d$export$b69e3301ce081aa3(location.pathname, basename) || location.pathname, relative === \"path\");\n    // When `to` is not specified we inherit search/hash from the current\n    // location, unlike when to=\".\" and we just inherit the path.\n    // See https://github.com/remix-run/remix/issues/927\n    if (to == null) {\n        path.search = location.search;\n        path.hash = location.hash;\n    }\n    // Add an ?index param for matched index routes if we don't already have one\n    if ((to == null || to === \"\" || to === \".\") && activeRouteMatch && activeRouteMatch.route.index && !$c846480b5114588d$var$hasNakedIndexQuery(path.search)) path.search = path.search ? path.search.replace(/^\\?/, \"?index&\") : \"?index\";\n    // If we're operating within a basename, prepend it to the pathname.  If\n    // this is a root navigation, then just use the raw basename which allows\n    // the basename to have full control over the presence of a trailing slash\n    // on root actions\n    if (prependBasename && basename !== \"/\") path.pathname = path.pathname === \"/\" ? basename : $c846480b5114588d$export$86d9a7913e44197e([\n        basename,\n        path.pathname\n    ]);\n    return $c846480b5114588d$export$fe53371bee54353d(path);\n}\n// Normalize navigation options by converting formMethod=GET formData objects to\n// URLSearchParams so they behave identically to links with query params\nfunction $c846480b5114588d$var$normalizeNavigateOptions(normalizeFormMethod, isFetcher, path, opts) {\n    // Return location verbatim on non-submission navigations\n    if (!opts || !$c846480b5114588d$var$isSubmissionNavigation(opts)) return {\n        path: path\n    };\n    if (opts.formMethod && !$c846480b5114588d$var$isValidMethod(opts.formMethod)) return {\n        path: path,\n        error: $c846480b5114588d$var$getInternalRouterError(405, {\n            method: opts.formMethod\n        })\n    };\n    let getInvalidBodyError = ()=>({\n            path: path,\n            error: $c846480b5114588d$var$getInternalRouterError(400, {\n                type: \"invalid-body\"\n            })\n        });\n    // Create a Submission on non-GET navigations\n    let rawFormMethod = opts.formMethod || \"get\";\n    let formMethod = normalizeFormMethod ? rawFormMethod.toUpperCase() : rawFormMethod.toLowerCase();\n    let formAction = $c846480b5114588d$var$stripHashFromPath(path);\n    if (opts.body !== undefined) {\n        if (opts.formEncType === \"text/plain\") {\n            // text only support POST/PUT/PATCH/DELETE submissions\n            if (!$c846480b5114588d$var$isMutationMethod(formMethod)) return getInvalidBodyError();\n            let text = typeof opts.body === \"string\" ? opts.body : opts.body instanceof FormData || opts.body instanceof URLSearchParams ? // https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#plain-text-form-data\n            Array.from(opts.body.entries()).reduce((acc, _ref3)=>{\n                let [name, value] = _ref3;\n                return \"\" + acc + name + \"=\" + value + \"\\n\";\n            }, \"\") : String(opts.body);\n            return {\n                path: path,\n                submission: {\n                    formMethod: formMethod,\n                    formAction: formAction,\n                    formEncType: opts.formEncType,\n                    formData: undefined,\n                    json: undefined,\n                    text: text\n                }\n            };\n        } else if (opts.formEncType === \"application/json\") {\n            // json only supports POST/PUT/PATCH/DELETE submissions\n            if (!$c846480b5114588d$var$isMutationMethod(formMethod)) return getInvalidBodyError();\n            try {\n                let json = typeof opts.body === \"string\" ? JSON.parse(opts.body) : opts.body;\n                return {\n                    path: path,\n                    submission: {\n                        formMethod: formMethod,\n                        formAction: formAction,\n                        formEncType: opts.formEncType,\n                        formData: undefined,\n                        json: json,\n                        text: undefined\n                    }\n                };\n            } catch (e) {\n                return getInvalidBodyError();\n            }\n        }\n    }\n    $c846480b5114588d$export$3e9cee6b33872309(typeof FormData === \"function\", \"FormData is not available in this environment\");\n    let searchParams;\n    let formData;\n    if (opts.formData) {\n        searchParams = $c846480b5114588d$var$convertFormDataToSearchParams(opts.formData);\n        formData = opts.formData;\n    } else if (opts.body instanceof FormData) {\n        searchParams = $c846480b5114588d$var$convertFormDataToSearchParams(opts.body);\n        formData = opts.body;\n    } else if (opts.body instanceof URLSearchParams) {\n        searchParams = opts.body;\n        formData = $c846480b5114588d$var$convertSearchParamsToFormData(searchParams);\n    } else if (opts.body == null) {\n        searchParams = new URLSearchParams();\n        formData = new FormData();\n    } else try {\n        searchParams = new URLSearchParams(opts.body);\n        formData = $c846480b5114588d$var$convertSearchParamsToFormData(searchParams);\n    } catch (e) {\n        return getInvalidBodyError();\n    }\n    let submission = {\n        formMethod: formMethod,\n        formAction: formAction,\n        formEncType: opts && opts.formEncType || \"application/x-www-form-urlencoded\",\n        formData: formData,\n        json: undefined,\n        text: undefined\n    };\n    if ($c846480b5114588d$var$isMutationMethod(submission.formMethod)) return {\n        path: path,\n        submission: submission\n    };\n    // Flatten submission onto URLSearchParams for GET submissions\n    let parsedPath = $c846480b5114588d$export$8ccf933b0513f8d0(path);\n    // On GET navigation submissions we can drop the ?index param from the\n    // resulting location since all loaders will run.  But fetcher GET submissions\n    // only run a single loader so we need to preserve any incoming ?index params\n    if (isFetcher && parsedPath.search && $c846480b5114588d$var$hasNakedIndexQuery(parsedPath.search)) searchParams.append(\"index\", \"\");\n    parsedPath.search = \"?\" + searchParams;\n    return {\n        path: $c846480b5114588d$export$fe53371bee54353d(parsedPath),\n        submission: submission\n    };\n}\n// Filter out all routes below any caught error as they aren't going to\n// render so we don't need to load them\nfunction $c846480b5114588d$var$getLoaderMatchesUntilBoundary(matches, boundaryId) {\n    let boundaryMatches = matches;\n    if (boundaryId) {\n        let index = matches.findIndex((m)=>m.route.id === boundaryId);\n        if (index >= 0) boundaryMatches = matches.slice(0, index);\n    }\n    return boundaryMatches;\n}\nfunction $c846480b5114588d$var$getMatchesToLoad(history, state, matches, submission, location, isRevalidationRequired, cancelledDeferredRoutes, cancelledFetcherLoads, fetchLoadMatches, fetchRedirectIds, routesToUse, basename, pendingActionData, pendingError) {\n    let actionResult = pendingError ? Object.values(pendingError)[0] : pendingActionData ? Object.values(pendingActionData)[0] : undefined;\n    let currentUrl = history.createURL(state.location);\n    let nextUrl = history.createURL(location);\n    // Pick navigation matches that are net-new or qualify for revalidation\n    let boundaryId = pendingError ? Object.keys(pendingError)[0] : undefined;\n    let boundaryMatches = $c846480b5114588d$var$getLoaderMatchesUntilBoundary(matches, boundaryId);\n    let navigationMatches = boundaryMatches.filter((match, index)=>{\n        if (match.route.lazy) // We haven't loaded this route yet so we don't know if it's got a loader!\n        return true;\n        if (match.route.loader == null) return false;\n        // Always call the loader on new route instances and pending defer cancellations\n        if ($c846480b5114588d$var$isNewLoader(state.loaderData, state.matches[index], match) || cancelledDeferredRoutes.some((id)=>id === match.route.id)) return true;\n        // This is the default implementation for when we revalidate.  If the route\n        // provides it's own implementation, then we give them full control but\n        // provide this value so they can leverage it if needed after they check\n        // their own specific use cases\n        let currentRouteMatch = state.matches[index];\n        let nextRouteMatch = match;\n        return $c846480b5114588d$var$shouldRevalidateLoader(match, $c846480b5114588d$var$_extends({\n            currentUrl: currentUrl,\n            currentParams: currentRouteMatch.params,\n            nextUrl: nextUrl,\n            nextParams: nextRouteMatch.params\n        }, submission, {\n            actionResult: actionResult,\n            defaultShouldRevalidate: // Forced revalidation due to submission, useRevalidator, or X-Remix-Revalidate\n            isRevalidationRequired || // Clicked the same link, resubmitted a GET form\n            currentUrl.pathname + currentUrl.search === nextUrl.pathname + nextUrl.search || // Search params affect all loaders\n            currentUrl.search !== nextUrl.search || $c846480b5114588d$var$isNewRouteInstance(currentRouteMatch, nextRouteMatch)\n        }));\n    });\n    // Pick fetcher.loads that need to be revalidated\n    let revalidatingFetchers = [];\n    fetchLoadMatches.forEach((f, key)=>{\n        // Don't revalidate if fetcher won't be present in the subsequent render\n        if (!matches.some((m)=>m.route.id === f.routeId)) return;\n        let fetcherMatches = $c846480b5114588d$export$2708184779ceb39d(routesToUse, f.path, basename);\n        // If the fetcher path no longer matches, push it in with null matches so\n        // we can trigger a 404 in callLoadersAndMaybeResolveData.  Note this is\n        // currently only a use-case for Remix HMR where the route tree can change\n        // at runtime and remove a route previously loaded via a fetcher\n        if (!fetcherMatches) {\n            revalidatingFetchers.push({\n                key: key,\n                routeId: f.routeId,\n                path: f.path,\n                matches: null,\n                match: null,\n                controller: null\n            });\n            return;\n        }\n        // Revalidating fetchers are decoupled from the route matches since they\n        // load from a static href.  They revalidate based on explicit revalidation\n        // (submission, useRevalidator, or X-Remix-Revalidate)\n        let fetcher = state.fetchers.get(key);\n        let fetcherMatch = $c846480b5114588d$var$getTargetMatch(fetcherMatches, f.path);\n        let shouldRevalidate = false;\n        if (fetchRedirectIds.has(key)) // Never trigger a revalidation of an actively redirecting fetcher\n        shouldRevalidate = false;\n        else if (cancelledFetcherLoads.includes(key)) // Always revalidate if the fetcher was cancelled\n        shouldRevalidate = true;\n        else if (fetcher && fetcher.state !== \"idle\" && fetcher.data === undefined) // If the fetcher hasn't ever completed loading yet, then this isn't a\n        // revalidation, it would just be a brand new load if an explicit\n        // revalidation is required\n        shouldRevalidate = isRevalidationRequired;\n        else // Otherwise fall back on any user-defined shouldRevalidate, defaulting\n        // to explicit revalidations only\n        shouldRevalidate = $c846480b5114588d$var$shouldRevalidateLoader(fetcherMatch, $c846480b5114588d$var$_extends({\n            currentUrl: currentUrl,\n            currentParams: state.matches[state.matches.length - 1].params,\n            nextUrl: nextUrl,\n            nextParams: matches[matches.length - 1].params\n        }, submission, {\n            actionResult: actionResult,\n            defaultShouldRevalidate: isRevalidationRequired\n        }));\n        if (shouldRevalidate) revalidatingFetchers.push({\n            key: key,\n            routeId: f.routeId,\n            path: f.path,\n            matches: fetcherMatches,\n            match: fetcherMatch,\n            controller: new AbortController()\n        });\n    });\n    return [\n        navigationMatches,\n        revalidatingFetchers\n    ];\n}\nfunction $c846480b5114588d$var$isNewLoader(currentLoaderData, currentMatch, match) {\n    let isNew = // [a] -> [a, b]\n    !currentMatch || // [a, b] -> [a, c]\n    match.route.id !== currentMatch.route.id;\n    // Handle the case that we don't have data for a re-used route, potentially\n    // from a prior error or from a cancelled pending deferred\n    let isMissingData = currentLoaderData[match.route.id] === undefined;\n    // Always load if this is a net-new route or we don't yet have data\n    return isNew || isMissingData;\n}\nfunction $c846480b5114588d$var$isNewRouteInstance(currentMatch, match) {\n    let currentPath = currentMatch.route.path;\n    return(// param change for this match, /users/123 -> /users/456\n    currentMatch.pathname !== match.pathname || // splat param changed, which is not present in match.path\n    // e.g. /files/images/avatar.jpg -> files/finances.xls\n    currentPath != null && currentPath.endsWith(\"*\") && currentMatch.params[\"*\"] !== match.params[\"*\"]);\n}\nfunction $c846480b5114588d$var$shouldRevalidateLoader(loaderMatch, arg) {\n    if (loaderMatch.route.shouldRevalidate) {\n        let routeChoice = loaderMatch.route.shouldRevalidate(arg);\n        if (typeof routeChoice === \"boolean\") return routeChoice;\n    }\n    return arg.defaultShouldRevalidate;\n}\n/**\n * Execute route.lazy() methods to lazily load route modules (loader, action,\n * shouldRevalidate) and update the routeManifest in place which shares objects\n * with dataRoutes so those get updated as well.\n */ async function $c846480b5114588d$var$loadLazyRouteModule(route, mapRouteProperties, manifest) {\n    if (!route.lazy) return;\n    let lazyRoute = await route.lazy();\n    // If the lazy route function was executed and removed by another parallel\n    // call then we can return - first lazy() to finish wins because the return\n    // value of lazy is expected to be static\n    if (!route.lazy) return;\n    let routeToUpdate = manifest[route.id];\n    $c846480b5114588d$export$3e9cee6b33872309(routeToUpdate, \"No route found in manifest\");\n    // Update the route in place.  This should be safe because there's no way\n    // we could yet be sitting on this route as we can't get there without\n    // resolving lazy() first.\n    //\n    // This is different than the HMR \"update\" use-case where we may actively be\n    // on the route being updated.  The main concern boils down to \"does this\n    // mutation affect any ongoing navigations or any current state.matches\n    // values?\".  If not, it should be safe to update in place.\n    let routeUpdates = {};\n    for(let lazyRouteProperty in lazyRoute){\n        let staticRouteValue = routeToUpdate[lazyRouteProperty];\n        let isPropertyStaticallyDefined = staticRouteValue !== undefined && // This property isn't static since it should always be updated based\n        // on the route updates\n        lazyRouteProperty !== \"hasErrorBoundary\";\n        $c846480b5114588d$export$c0e02632e14916fd(!isPropertyStaticallyDefined, 'Route \"' + routeToUpdate.id + '\" has a static property \"' + lazyRouteProperty + '\" ' + \"defined but its lazy function is also returning a value for this property. \" + ('The lazy route property \"' + lazyRouteProperty + '\" will be ignored.'));\n        if (!isPropertyStaticallyDefined && !$c846480b5114588d$var$immutableRouteKeys.has(lazyRouteProperty)) routeUpdates[lazyRouteProperty] = lazyRoute[lazyRouteProperty];\n    }\n    // Mutate the route with the provided updates.  Do this first so we pass\n    // the updated version to mapRouteProperties\n    Object.assign(routeToUpdate, routeUpdates);\n    // Mutate the `hasErrorBoundary` property on the route based on the route\n    // updates and remove the `lazy` function so we don't resolve the lazy\n    // route again.\n    Object.assign(routeToUpdate, $c846480b5114588d$var$_extends({}, mapRouteProperties(routeToUpdate), {\n        lazy: undefined\n    }));\n}\nasync function $c846480b5114588d$var$callLoaderOrAction(type, request, match, matches, manifest, mapRouteProperties, basename, opts) {\n    if (opts === void 0) opts = {};\n    let resultType;\n    let result;\n    let onReject;\n    let runHandler = (handler)=>{\n        // Setup a promise we can race against so that abort signals short circuit\n        let reject;\n        let abortPromise = new Promise((_, r)=>reject = r);\n        onReject = ()=>reject();\n        request.signal.addEventListener(\"abort\", onReject);\n        return Promise.race([\n            handler({\n                request: request,\n                params: match.params,\n                context: opts.requestContext\n            }),\n            abortPromise\n        ]);\n    };\n    try {\n        let handler = match.route[type];\n        if (match.route.lazy) {\n            if (handler) {\n                // Run statically defined handler in parallel with lazy()\n                let values = await Promise.all([\n                    runHandler(handler),\n                    $c846480b5114588d$var$loadLazyRouteModule(match.route, mapRouteProperties, manifest)\n                ]);\n                result = values[0];\n            } else {\n                // Load lazy route module, then run any returned handler\n                await $c846480b5114588d$var$loadLazyRouteModule(match.route, mapRouteProperties, manifest);\n                handler = match.route[type];\n                if (handler) // Handler still run even if we got interrupted to maintain consistency\n                // with un-abortable behavior of handler execution on non-lazy or\n                // previously-lazy-loaded routes\n                result = await runHandler(handler);\n                else if (type === \"action\") {\n                    let url = new URL(request.url);\n                    let pathname = url.pathname + url.search;\n                    throw $c846480b5114588d$var$getInternalRouterError(405, {\n                        method: request.method,\n                        pathname: pathname,\n                        routeId: match.route.id\n                    });\n                } else // lazy() route has no loader to run.  Short circuit here so we don't\n                // hit the invariant below that errors on returning undefined.\n                return {\n                    type: $c846480b5114588d$var$ResultType.data,\n                    data: undefined\n                };\n            }\n        } else if (!handler) {\n            let url = new URL(request.url);\n            let pathname = url.pathname + url.search;\n            throw $c846480b5114588d$var$getInternalRouterError(404, {\n                pathname: pathname\n            });\n        } else result = await runHandler(handler);\n        $c846480b5114588d$export$3e9cee6b33872309(result !== undefined, \"You defined \" + (type === \"action\" ? \"an action\" : \"a loader\") + \" for route \" + ('\"' + match.route.id + \"\\\" but didn't return anything from your `\" + type + \"` \") + \"function. Please return a value or `null`.\");\n    } catch (e) {\n        resultType = $c846480b5114588d$var$ResultType.error;\n        result = e;\n    } finally{\n        if (onReject) request.signal.removeEventListener(\"abort\", onReject);\n    }\n    if ($c846480b5114588d$var$isResponse(result)) {\n        let status = result.status;\n        // Process redirects\n        if ($c846480b5114588d$var$redirectStatusCodes.has(status)) {\n            let location = result.headers.get(\"Location\");\n            $c846480b5114588d$export$3e9cee6b33872309(location, \"Redirects returned/thrown from loaders/actions must have a Location header\");\n            // Support relative routing in internal redirects\n            if (!$c846480b5114588d$var$ABSOLUTE_URL_REGEX.test(location)) location = $c846480b5114588d$var$normalizeTo(new URL(request.url), matches.slice(0, matches.indexOf(match) + 1), basename, true, location);\n            else if (!opts.isStaticRequest) {\n                // Strip off the protocol+origin for same-origin + same-basename absolute\n                // redirects. If this is a static request, we can let it go back to the\n                // browser as-is\n                let currentUrl = new URL(request.url);\n                let url = location.startsWith(\"//\") ? new URL(currentUrl.protocol + location) : new URL(location);\n                let isSameBasename = $c846480b5114588d$export$b69e3301ce081aa3(url.pathname, basename) != null;\n                if (url.origin === currentUrl.origin && isSameBasename) location = url.pathname + url.search + url.hash;\n            }\n            // Don't process redirects in the router during static requests requests.\n            // Instead, throw the Response and let the server handle it with an HTTP\n            // redirect.  We also update the Location header in place in this flow so\n            // basename and relative routing is taken into account\n            if (opts.isStaticRequest) {\n                result.headers.set(\"Location\", location);\n                throw result;\n            }\n            return {\n                type: $c846480b5114588d$var$ResultType.redirect,\n                status: status,\n                location: location,\n                revalidate: result.headers.get(\"X-Remix-Revalidate\") !== null,\n                reloadDocument: result.headers.get(\"X-Remix-Reload-Document\") !== null\n            };\n        }\n        // For SSR single-route requests, we want to hand Responses back directly\n        // without unwrapping.  We do this with the QueryRouteResponse wrapper\n        // interface so we can know whether it was returned or thrown\n        if (opts.isRouteRequest) {\n            let queryRouteResponse = {\n                type: resultType === $c846480b5114588d$var$ResultType.error ? $c846480b5114588d$var$ResultType.error : $c846480b5114588d$var$ResultType.data,\n                response: result\n            };\n            throw queryRouteResponse;\n        }\n        let data;\n        let contentType = result.headers.get(\"Content-Type\");\n        // Check between word boundaries instead of startsWith() due to the last\n        // paragraph of https://httpwg.org/specs/rfc9110.html#field.content-type\n        if (contentType && /\\bapplication\\/json\\b/.test(contentType)) data = await result.json();\n        else data = await result.text();\n        if (resultType === $c846480b5114588d$var$ResultType.error) return {\n            type: resultType,\n            error: new $c846480b5114588d$export$acf1a680051f5031(status, result.statusText, data),\n            headers: result.headers\n        };\n        return {\n            type: $c846480b5114588d$var$ResultType.data,\n            data: data,\n            statusCode: result.status,\n            headers: result.headers\n        };\n    }\n    if (resultType === $c846480b5114588d$var$ResultType.error) return {\n        type: resultType,\n        error: result\n    };\n    if ($c846480b5114588d$export$fbcedacb60443473(result)) {\n        var _result$init, _result$init2;\n        return {\n            type: $c846480b5114588d$var$ResultType.deferred,\n            deferredData: result,\n            statusCode: (_result$init = result.init) == null ? void 0 : _result$init.status,\n            headers: ((_result$init2 = result.init) == null ? void 0 : _result$init2.headers) && new Headers(result.init.headers)\n        };\n    }\n    return {\n        type: $c846480b5114588d$var$ResultType.data,\n        data: result\n    };\n}\n// Utility method for creating the Request instances for loaders/actions during\n// client-side navigations and fetches.  During SSR we will always have a\n// Request instance from the static handler (query/queryRoute)\nfunction $c846480b5114588d$var$createClientSideRequest(history, location, signal, submission) {\n    let url = history.createURL($c846480b5114588d$var$stripHashFromPath(location)).toString();\n    let init = {\n        signal: signal\n    };\n    if (submission && $c846480b5114588d$var$isMutationMethod(submission.formMethod)) {\n        let { formMethod: formMethod, formEncType: formEncType } = submission;\n        // Didn't think we needed this but it turns out unlike other methods, patch\n        // won't be properly normalized to uppercase and results in a 405 error.\n        // See: https://fetch.spec.whatwg.org/#concept-method\n        init.method = formMethod.toUpperCase();\n        if (formEncType === \"application/json\") {\n            init.headers = new Headers({\n                \"Content-Type\": formEncType\n            });\n            init.body = JSON.stringify(submission.json);\n        } else if (formEncType === \"text/plain\") // Content-Type is inferred (https://fetch.spec.whatwg.org/#dom-request)\n        init.body = submission.text;\n        else if (formEncType === \"application/x-www-form-urlencoded\" && submission.formData) // Content-Type is inferred (https://fetch.spec.whatwg.org/#dom-request)\n        init.body = $c846480b5114588d$var$convertFormDataToSearchParams(submission.formData);\n        else // Content-Type is inferred (https://fetch.spec.whatwg.org/#dom-request)\n        init.body = submission.formData;\n    }\n    return new Request(url, init);\n}\nfunction $c846480b5114588d$var$convertFormDataToSearchParams(formData) {\n    let searchParams = new URLSearchParams();\n    for (let [key, value] of formData.entries())// https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#converting-an-entry-list-to-a-list-of-name-value-pairs\n    searchParams.append(key, typeof value === \"string\" ? value : value.name);\n    return searchParams;\n}\nfunction $c846480b5114588d$var$convertSearchParamsToFormData(searchParams) {\n    let formData = new FormData();\n    for (let [key, value] of searchParams.entries())formData.append(key, value);\n    return formData;\n}\nfunction $c846480b5114588d$var$processRouteLoaderData(matches, matchesToLoad, results, pendingError, activeDeferreds) {\n    // Fill in loaderData/errors from our loaders\n    let loaderData = {};\n    let errors = null;\n    let statusCode;\n    let foundError = false;\n    let loaderHeaders = {};\n    // Process loader results into state.loaderData/state.errors\n    results.forEach((result, index)=>{\n        let id = matchesToLoad[index].route.id;\n        $c846480b5114588d$export$3e9cee6b33872309(!$c846480b5114588d$var$isRedirectResult(result), \"Cannot handle redirect results in processLoaderData\");\n        if ($c846480b5114588d$var$isErrorResult(result)) {\n            // Look upwards from the matched route for the closest ancestor\n            // error boundary, defaulting to the root match\n            let boundaryMatch = $c846480b5114588d$var$findNearestBoundary(matches, id);\n            let error = result.error;\n            // If we have a pending action error, we report it at the highest-route\n            // that throws a loader error, and then clear it out to indicate that\n            // it was consumed\n            if (pendingError) {\n                error = Object.values(pendingError)[0];\n                pendingError = undefined;\n            }\n            errors = errors || {};\n            // Prefer higher error values if lower errors bubble to the same boundary\n            if (errors[boundaryMatch.route.id] == null) errors[boundaryMatch.route.id] = error;\n            // Clear our any prior loaderData for the throwing route\n            loaderData[id] = undefined;\n            // Once we find our first (highest) error, we set the status code and\n            // prevent deeper status codes from overriding\n            if (!foundError) {\n                foundError = true;\n                statusCode = $c846480b5114588d$export$972111febbeef05b(result.error) ? result.error.status : 500;\n            }\n            if (result.headers) loaderHeaders[id] = result.headers;\n        } else {\n            if ($c846480b5114588d$var$isDeferredResult(result)) {\n                activeDeferreds.set(id, result.deferredData);\n                loaderData[id] = result.deferredData.data;\n            } else loaderData[id] = result.data;\n            // Error status codes always override success status codes, but if all\n            // loaders are successful we take the deepest status code.\n            if (result.statusCode != null && result.statusCode !== 200 && !foundError) statusCode = result.statusCode;\n            if (result.headers) loaderHeaders[id] = result.headers;\n        }\n    });\n    // If we didn't consume the pending action error (i.e., all loaders\n    // resolved), then consume it here.  Also clear out any loaderData for the\n    // throwing route\n    if (pendingError) {\n        errors = pendingError;\n        loaderData[Object.keys(pendingError)[0]] = undefined;\n    }\n    return {\n        loaderData: loaderData,\n        errors: errors,\n        statusCode: statusCode || 200,\n        loaderHeaders: loaderHeaders\n    };\n}\nfunction $c846480b5114588d$var$processLoaderData(state, matches, matchesToLoad, results, pendingError, revalidatingFetchers, fetcherResults, activeDeferreds) {\n    let { loaderData: loaderData, errors: errors } = $c846480b5114588d$var$processRouteLoaderData(matches, matchesToLoad, results, pendingError, activeDeferreds);\n    // Process results from our revalidating fetchers\n    for(let index = 0; index < revalidatingFetchers.length; index++){\n        let { key: key, match: match, controller: controller } = revalidatingFetchers[index];\n        $c846480b5114588d$export$3e9cee6b33872309(fetcherResults !== undefined && fetcherResults[index] !== undefined, \"Did not find corresponding fetcher result\");\n        let result = fetcherResults[index];\n        // Process fetcher non-redirect errors\n        if (controller && controller.signal.aborted) continue;\n        else if ($c846480b5114588d$var$isErrorResult(result)) {\n            let boundaryMatch = $c846480b5114588d$var$findNearestBoundary(state.matches, match == null ? void 0 : match.route.id);\n            if (!(errors && errors[boundaryMatch.route.id])) errors = $c846480b5114588d$var$_extends({}, errors, {\n                [boundaryMatch.route.id]: result.error\n            });\n            state.fetchers.delete(key);\n        } else if ($c846480b5114588d$var$isRedirectResult(result)) // Should never get here, redirects should get processed above, but we\n        // keep this to type narrow to a success result in the else\n        $c846480b5114588d$export$3e9cee6b33872309(false, \"Unhandled fetcher revalidation redirect\");\n        else if ($c846480b5114588d$var$isDeferredResult(result)) // Should never get here, deferred data should be awaited for fetchers\n        // in resolveDeferredResults\n        $c846480b5114588d$export$3e9cee6b33872309(false, \"Unhandled fetcher deferred data\");\n        else {\n            let doneFetcher = $c846480b5114588d$var$getDoneFetcher(result.data);\n            state.fetchers.set(key, doneFetcher);\n        }\n    }\n    return {\n        loaderData: loaderData,\n        errors: errors\n    };\n}\nfunction $c846480b5114588d$var$mergeLoaderData(loaderData, newLoaderData, matches, errors) {\n    let mergedLoaderData = $c846480b5114588d$var$_extends({}, newLoaderData);\n    for (let match of matches){\n        let id = match.route.id;\n        if (newLoaderData.hasOwnProperty(id)) {\n            if (newLoaderData[id] !== undefined) mergedLoaderData[id] = newLoaderData[id];\n        } else if (loaderData[id] !== undefined && match.route.loader) // Preserve existing keys not included in newLoaderData and where a loader\n        // wasn't removed by HMR\n        mergedLoaderData[id] = loaderData[id];\n        if (errors && errors.hasOwnProperty(id)) break;\n    }\n    return mergedLoaderData;\n}\n// Find the nearest error boundary, looking upwards from the leaf route (or the\n// route specified by routeId) for the closest ancestor error boundary,\n// defaulting to the root match\nfunction $c846480b5114588d$var$findNearestBoundary(matches, routeId) {\n    let eligibleMatches = routeId ? matches.slice(0, matches.findIndex((m)=>m.route.id === routeId) + 1) : [\n        ...matches\n    ];\n    return eligibleMatches.reverse().find((m)=>m.route.hasErrorBoundary === true) || matches[0];\n}\nfunction $c846480b5114588d$var$getShortCircuitMatches(routes) {\n    // Prefer a root layout route if present, otherwise shim in a route object\n    let route = routes.find((r)=>r.index || !r.path || r.path === \"/\") || {\n        id: \"__shim-error-route__\"\n    };\n    return {\n        matches: [\n            {\n                params: {},\n                pathname: \"\",\n                pathnameBase: \"\",\n                route: route\n            }\n        ],\n        route: route\n    };\n}\nfunction $c846480b5114588d$var$getInternalRouterError(status, _temp4) {\n    let { pathname: pathname, routeId: routeId, method: method, type: type } = _temp4 === void 0 ? {} : _temp4;\n    let statusText = \"Unknown Server Error\";\n    let errorMessage = \"Unknown @remix-run/router error\";\n    if (status === 400) {\n        statusText = \"Bad Request\";\n        if (method && pathname && routeId) errorMessage = \"You made a \" + method + ' request to \"' + pathname + '\" but ' + ('did not provide a `loader` for route \"' + routeId + '\", ') + \"so there is no way to handle the request.\";\n        else if (type === \"defer-action\") errorMessage = \"defer() is not supported in actions\";\n        else if (type === \"invalid-body\") errorMessage = \"Unable to encode submission body\";\n    } else if (status === 403) {\n        statusText = \"Forbidden\";\n        errorMessage = 'Route \"' + routeId + '\" does not match URL \"' + pathname + '\"';\n    } else if (status === 404) {\n        statusText = \"Not Found\";\n        errorMessage = 'No route matches URL \"' + pathname + '\"';\n    } else if (status === 405) {\n        statusText = \"Method Not Allowed\";\n        if (method && pathname && routeId) errorMessage = \"You made a \" + method.toUpperCase() + ' request to \"' + pathname + '\" but ' + ('did not provide an `action` for route \"' + routeId + '\", ') + \"so there is no way to handle the request.\";\n        else if (method) errorMessage = 'Invalid request method \"' + method.toUpperCase() + '\"';\n    }\n    return new $c846480b5114588d$export$acf1a680051f5031(status || 500, statusText, new Error(errorMessage), true);\n}\n// Find any returned redirect errors, starting from the lowest match\nfunction $c846480b5114588d$var$findRedirect(results) {\n    for(let i = results.length - 1; i >= 0; i--){\n        let result = results[i];\n        if ($c846480b5114588d$var$isRedirectResult(result)) return {\n            result: result,\n            idx: i\n        };\n    }\n}\nfunction $c846480b5114588d$var$stripHashFromPath(path) {\n    let parsedPath = typeof path === \"string\" ? $c846480b5114588d$export$8ccf933b0513f8d0(path) : path;\n    return $c846480b5114588d$export$fe53371bee54353d($c846480b5114588d$var$_extends({}, parsedPath, {\n        hash: \"\"\n    }));\n}\nfunction $c846480b5114588d$var$isHashChangeOnly(a, b) {\n    if (a.pathname !== b.pathname || a.search !== b.search) return false;\n    if (a.hash === \"\") // /page -> /page#hash\n    return b.hash !== \"\";\n    else if (a.hash === b.hash) // /page#hash -> /page#hash\n    return true;\n    else if (b.hash !== \"\") // /page#hash -> /page#other\n    return true;\n    // If the hash is removed the browser will re-perform a request to the server\n    // /page#hash -> /page\n    return false;\n}\nfunction $c846480b5114588d$var$isDeferredResult(result) {\n    return result.type === $c846480b5114588d$var$ResultType.deferred;\n}\nfunction $c846480b5114588d$var$isErrorResult(result) {\n    return result.type === $c846480b5114588d$var$ResultType.error;\n}\nfunction $c846480b5114588d$var$isRedirectResult(result) {\n    return (result && result.type) === $c846480b5114588d$var$ResultType.redirect;\n}\nfunction $c846480b5114588d$export$fbcedacb60443473(value) {\n    let deferred = value;\n    return deferred && typeof deferred === \"object\" && typeof deferred.data === \"object\" && typeof deferred.subscribe === \"function\" && typeof deferred.cancel === \"function\" && typeof deferred.resolveData === \"function\";\n}\nfunction $c846480b5114588d$var$isResponse(value) {\n    return value != null && typeof value.status === \"number\" && typeof value.statusText === \"string\" && typeof value.headers === \"object\" && typeof value.body !== \"undefined\";\n}\nfunction $c846480b5114588d$var$isRedirectResponse(result) {\n    if (!$c846480b5114588d$var$isResponse(result)) return false;\n    let status = result.status;\n    let location = result.headers.get(\"Location\");\n    return status >= 300 && status <= 399 && location != null;\n}\nfunction $c846480b5114588d$var$isQueryRouteResponse(obj) {\n    return obj && $c846480b5114588d$var$isResponse(obj.response) && (obj.type === $c846480b5114588d$var$ResultType.data || obj.type === $c846480b5114588d$var$ResultType.error);\n}\nfunction $c846480b5114588d$var$isValidMethod(method) {\n    return $c846480b5114588d$var$validRequestMethods.has(method.toLowerCase());\n}\nfunction $c846480b5114588d$var$isMutationMethod(method) {\n    return $c846480b5114588d$var$validMutationMethods.has(method.toLowerCase());\n}\nasync function $c846480b5114588d$var$resolveDeferredResults(currentMatches, matchesToLoad, results, signals, isFetcher, currentLoaderData) {\n    for(let index = 0; index < results.length; index++){\n        let result = results[index];\n        let match = matchesToLoad[index];\n        // If we don't have a match, then we can have a deferred result to do\n        // anything with.  This is for revalidating fetchers where the route was\n        // removed during HMR\n        if (!match) continue;\n        let currentMatch = currentMatches.find((m)=>m.route.id === match.route.id);\n        let isRevalidatingLoader = currentMatch != null && !$c846480b5114588d$var$isNewRouteInstance(currentMatch, match) && (currentLoaderData && currentLoaderData[match.route.id]) !== undefined;\n        if ($c846480b5114588d$var$isDeferredResult(result) && (isFetcher || isRevalidatingLoader)) {\n            // Note: we do not have to touch activeDeferreds here since we race them\n            // against the signal in resolveDeferredData and they'll get aborted\n            // there if needed\n            let signal = signals[index];\n            $c846480b5114588d$export$3e9cee6b33872309(signal, \"Expected an AbortSignal for revalidating fetcher deferred result\");\n            await $c846480b5114588d$var$resolveDeferredData(result, signal, isFetcher).then((result)=>{\n                if (result) results[index] = result || results[index];\n            });\n        }\n    }\n}\nasync function $c846480b5114588d$var$resolveDeferredData(result, signal, unwrap) {\n    if (unwrap === void 0) unwrap = false;\n    let aborted = await result.deferredData.resolveData(signal);\n    if (aborted) return;\n    if (unwrap) try {\n        return {\n            type: $c846480b5114588d$var$ResultType.data,\n            data: result.deferredData.unwrappedData\n        };\n    } catch (e) {\n        // Handle any TrackedPromise._error values encountered while unwrapping\n        return {\n            type: $c846480b5114588d$var$ResultType.error,\n            error: e\n        };\n    }\n    return {\n        type: $c846480b5114588d$var$ResultType.data,\n        data: result.deferredData.data\n    };\n}\nfunction $c846480b5114588d$var$hasNakedIndexQuery(search) {\n    return new URLSearchParams(search).getAll(\"index\").some((v)=>v === \"\");\n}\n// Note: This should match the format exported by useMatches, so if you change\n// this please also change that :)  Eventually we'll DRY this up\nfunction $c846480b5114588d$var$createUseMatchesMatch(match, loaderData) {\n    let { route: route, pathname: pathname, params: params } = match;\n    return {\n        id: route.id,\n        pathname: pathname,\n        params: params,\n        data: loaderData[route.id],\n        handle: route.handle\n    };\n}\nfunction $c846480b5114588d$var$getTargetMatch(matches, location) {\n    let search = typeof location === \"string\" ? $c846480b5114588d$export$8ccf933b0513f8d0(location).search : location.search;\n    if (matches[matches.length - 1].route.index && $c846480b5114588d$var$hasNakedIndexQuery(search || \"\")) // Return the leaf index route when index is present\n    return matches[matches.length - 1];\n    // Otherwise grab the deepest \"path contributing\" match (ignoring index and\n    // pathless layout routes)\n    let pathMatches = $c846480b5114588d$export$90ba53ce1c7fdff2(matches);\n    return pathMatches[pathMatches.length - 1];\n}\nfunction $c846480b5114588d$var$getSubmissionFromNavigation(navigation) {\n    let { formMethod: formMethod, formAction: formAction, formEncType: formEncType, text: text, formData: formData, json: json } = navigation;\n    if (!formMethod || !formAction || !formEncType) return;\n    if (text != null) return {\n        formMethod: formMethod,\n        formAction: formAction,\n        formEncType: formEncType,\n        formData: undefined,\n        json: undefined,\n        text: text\n    };\n    else if (formData != null) return {\n        formMethod: formMethod,\n        formAction: formAction,\n        formEncType: formEncType,\n        formData: formData,\n        json: undefined,\n        text: undefined\n    };\n    else if (json !== undefined) return {\n        formMethod: formMethod,\n        formAction: formAction,\n        formEncType: formEncType,\n        formData: undefined,\n        json: json,\n        text: undefined\n    };\n}\nfunction $c846480b5114588d$var$getLoadingNavigation(location, submission) {\n    if (submission) {\n        let navigation = {\n            state: \"loading\",\n            location: location,\n            formMethod: submission.formMethod,\n            formAction: submission.formAction,\n            formEncType: submission.formEncType,\n            formData: submission.formData,\n            json: submission.json,\n            text: submission.text\n        };\n        return navigation;\n    } else {\n        let navigation = {\n            state: \"loading\",\n            location: location,\n            formMethod: undefined,\n            formAction: undefined,\n            formEncType: undefined,\n            formData: undefined,\n            json: undefined,\n            text: undefined\n        };\n        return navigation;\n    }\n}\nfunction $c846480b5114588d$var$getSubmittingNavigation(location, submission) {\n    let navigation = {\n        state: \"submitting\",\n        location: location,\n        formMethod: submission.formMethod,\n        formAction: submission.formAction,\n        formEncType: submission.formEncType,\n        formData: submission.formData,\n        json: submission.json,\n        text: submission.text\n    };\n    return navigation;\n}\nfunction $c846480b5114588d$var$getLoadingFetcher(submission, data) {\n    if (submission) {\n        let fetcher = {\n            state: \"loading\",\n            formMethod: submission.formMethod,\n            formAction: submission.formAction,\n            formEncType: submission.formEncType,\n            formData: submission.formData,\n            json: submission.json,\n            text: submission.text,\n            data: data,\n            \" _hasFetcherDoneAnything \": true\n        };\n        return fetcher;\n    } else {\n        let fetcher = {\n            state: \"loading\",\n            formMethod: undefined,\n            formAction: undefined,\n            formEncType: undefined,\n            formData: undefined,\n            json: undefined,\n            text: undefined,\n            data: data,\n            \" _hasFetcherDoneAnything \": true\n        };\n        return fetcher;\n    }\n}\nfunction $c846480b5114588d$var$getSubmittingFetcher(submission, existingFetcher) {\n    let fetcher = {\n        state: \"submitting\",\n        formMethod: submission.formMethod,\n        formAction: submission.formAction,\n        formEncType: submission.formEncType,\n        formData: submission.formData,\n        json: submission.json,\n        text: submission.text,\n        data: existingFetcher ? existingFetcher.data : undefined,\n        \" _hasFetcherDoneAnything \": true\n    };\n    return fetcher;\n}\nfunction $c846480b5114588d$var$getDoneFetcher(data) {\n    let fetcher = {\n        state: \"idle\",\n        formMethod: undefined,\n        formAction: undefined,\n        formEncType: undefined,\n        formData: undefined,\n        json: undefined,\n        text: undefined,\n        data: data,\n        \" _hasFetcherDoneAnything \": true\n    };\n    return fetcher;\n}\n\n\nfunction $2e634cb2b6e12a73$var$_extends() {\n    $2e634cb2b6e12a73$var$_extends = Object.assign ? Object.assign.bind() : function(target) {\n        for(var i = 1; i < arguments.length; i++){\n            var source = arguments[i];\n            for(var key in source)if (Object.prototype.hasOwnProperty.call(source, key)) target[key] = source[key];\n        }\n        return target;\n    };\n    return $2e634cb2b6e12a73$var$_extends.apply(this, arguments);\n}\n// Create react-specific types from the agnostic types in @remix-run/router to\n// export from react-router\nconst $2e634cb2b6e12a73$export$3add0d5dce533e2e = /*#__PURE__*/ $d51ff6fbc6548743$exports.createContext(null);\nconst $2e634cb2b6e12a73$export$145dfa71566a64dc = /*#__PURE__*/ $d51ff6fbc6548743$exports.createContext(null);\nconst $2e634cb2b6e12a73$var$AwaitContext = /*#__PURE__*/ $d51ff6fbc6548743$exports.createContext(null);\n/**\n * A Navigator is a \"location changer\"; it's how you get to different locations.\n *\n * Every history instance conforms to the Navigator interface, but the\n * distinction is useful primarily when it comes to the low-level <Router> API\n * where both the location and a navigator must be provided separately in order\n * to avoid \"tearing\" that may occur in a suspense-enabled app if the action\n * and/or location were to be read directly from the history instance.\n */ const $2e634cb2b6e12a73$export$26749e8557646306 = /*#__PURE__*/ $d51ff6fbc6548743$exports.createContext(null);\nconst $2e634cb2b6e12a73$export$c7914228fb69b0f5 = /*#__PURE__*/ $d51ff6fbc6548743$exports.createContext(null);\nconst $2e634cb2b6e12a73$export$9072aa6dd1f93057 = /*#__PURE__*/ $d51ff6fbc6548743$exports.createContext({\n    outlet: null,\n    matches: [],\n    isDataRoute: false\n});\nconst $2e634cb2b6e12a73$var$RouteErrorContext = /*#__PURE__*/ $d51ff6fbc6548743$exports.createContext(null);\n/**\n * Returns the full href for the given \"to\" value. This is useful for building\n * custom links that are also accessible and preserve right-click behavior.\n *\n * @see https://reactrouter.com/hooks/use-href\n */ function $2e634cb2b6e12a73$export$b66bb29c5006f12f(to, _temp) {\n    let { relative: relative } = _temp === void 0 ? {} : _temp;\n    !$2e634cb2b6e12a73$export$9c954a9d03d32f4a() && (0, $c846480b5114588d$export$3e9cee6b33872309)(false);\n    let { basename: basename, navigator: navigator } = $d51ff6fbc6548743$exports.useContext($2e634cb2b6e12a73$export$26749e8557646306);\n    let { hash: hash, pathname: pathname, search: search } = $2e634cb2b6e12a73$export$e75d2a2d1b3c245b(to, {\n        relative: relative\n    });\n    let joinedPathname = pathname;\n    // If we're operating within a basename, prepend it to the pathname prior\n    // to creating the href.  If this is a root navigation, then just use the raw\n    // basename which allows the basename to have full control over the presence\n    // of a trailing slash on root links\n    if (basename !== \"/\") joinedPathname = pathname === \"/\" ? basename : (0, $c846480b5114588d$export$86d9a7913e44197e)([\n        basename,\n        pathname\n    ]);\n    return navigator.createHref({\n        pathname: joinedPathname,\n        search: search,\n        hash: hash\n    });\n}\n/**\n * Returns true if this component is a descendant of a <Router>.\n *\n * @see https://reactrouter.com/hooks/use-in-router-context\n */ function $2e634cb2b6e12a73$export$9c954a9d03d32f4a() {\n    return $d51ff6fbc6548743$exports.useContext($2e634cb2b6e12a73$export$c7914228fb69b0f5) != null;\n}\n/**\n * Returns the current location object, which represents the current URL in web\n * browsers.\n *\n * Note: If you're using this it may mean you're doing some of your own\n * \"routing\" in your app, and we'd like to know what your use case is. We may\n * be able to provide something higher-level to better suit your needs.\n *\n * @see https://reactrouter.com/hooks/use-location\n */ function $2e634cb2b6e12a73$export$45d76561a5302f2b() {\n    !$2e634cb2b6e12a73$export$9c954a9d03d32f4a() && (0, $c846480b5114588d$export$3e9cee6b33872309)(false);\n    return $d51ff6fbc6548743$exports.useContext($2e634cb2b6e12a73$export$c7914228fb69b0f5).location;\n}\n/**\n * Returns the current navigation action which describes how the router came to\n * the current location, either by a pop, push, or replace on the history stack.\n *\n * @see https://reactrouter.com/hooks/use-navigation-type\n */ function $2e634cb2b6e12a73$export$1b3f31771c5d07c() {\n    return $d51ff6fbc6548743$exports.useContext($2e634cb2b6e12a73$export$c7914228fb69b0f5).navigationType;\n}\n/**\n * Returns a PathMatch object if the given pattern matches the current URL.\n * This is useful for components that need to know \"active\" state, e.g.\n * <NavLink>.\n *\n * @see https://reactrouter.com/hooks/use-match\n */ function $2e634cb2b6e12a73$export$6c330e8992e8a295(pattern) {\n    !$2e634cb2b6e12a73$export$9c954a9d03d32f4a() && (0, $c846480b5114588d$export$3e9cee6b33872309)(false);\n    let { pathname: pathname } = $2e634cb2b6e12a73$export$45d76561a5302f2b();\n    return $d51ff6fbc6548743$exports.useMemo(()=>(0, $c846480b5114588d$export$81336c211d5ff295)(pattern, pathname), [\n        pathname,\n        pattern\n    ]);\n}\n/**\n * The interface for the navigate() function returned from useNavigate().\n */ const $2e634cb2b6e12a73$var$navigateEffectWarning = \"You should call navigate() in a React.useEffect(), not when your component is first rendered.\";\n// Mute warnings for calls to useNavigate in SSR environments\nfunction $2e634cb2b6e12a73$var$useIsomorphicLayoutEffect(cb) {\n    let isStatic = $d51ff6fbc6548743$exports.useContext($2e634cb2b6e12a73$export$26749e8557646306).static;\n    if (!isStatic) // We should be able to get rid of this once react 18.3 is released\n    // See: https://github.com/facebook/react/pull/26395\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    $d51ff6fbc6548743$exports.useLayoutEffect(cb);\n}\n/**\n * Returns an imperative method for changing the location. Used by <Link>s, but\n * may also be used by other elements to change the location.\n *\n * @see https://reactrouter.com/hooks/use-navigate\n */ function $2e634cb2b6e12a73$export$9770f232ac06a008() {\n    let { isDataRoute: isDataRoute } = $d51ff6fbc6548743$exports.useContext($2e634cb2b6e12a73$export$9072aa6dd1f93057);\n    // Conditional usage is OK here because the usage of a data router is static\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    return isDataRoute ? $2e634cb2b6e12a73$var$useNavigateStable() : $2e634cb2b6e12a73$var$useNavigateUnstable();\n}\nfunction $2e634cb2b6e12a73$var$useNavigateUnstable() {\n    !$2e634cb2b6e12a73$export$9c954a9d03d32f4a() && (0, $c846480b5114588d$export$3e9cee6b33872309)(false);\n    let dataRouterContext = $d51ff6fbc6548743$exports.useContext($2e634cb2b6e12a73$export$3add0d5dce533e2e);\n    let { basename: basename, navigator: navigator } = $d51ff6fbc6548743$exports.useContext($2e634cb2b6e12a73$export$26749e8557646306);\n    let { matches: matches } = $d51ff6fbc6548743$exports.useContext($2e634cb2b6e12a73$export$9072aa6dd1f93057);\n    let { pathname: locationPathname } = $2e634cb2b6e12a73$export$45d76561a5302f2b();\n    let routePathnamesJson = JSON.stringify((0, $c846480b5114588d$export$90ba53ce1c7fdff2)(matches).map((match)=>match.pathnameBase));\n    let activeRef = $d51ff6fbc6548743$exports.useRef(false);\n    $2e634cb2b6e12a73$var$useIsomorphicLayoutEffect(()=>{\n        activeRef.current = true;\n    });\n    let navigate = $d51ff6fbc6548743$exports.useCallback(function(to, options) {\n        if (options === void 0) options = {};\n        // Short circuit here since if this happens on first render the navigate\n        // is useless because we haven't wired up our history listener yet\n        if (!activeRef.current) return;\n        if (typeof to === \"number\") {\n            navigator.go(to);\n            return;\n        }\n        let path = (0, $c846480b5114588d$export$cae722b0cc860f13)(to, JSON.parse(routePathnamesJson), locationPathname, options.relative === \"path\");\n        // If we're operating within a basename, prepend it to the pathname prior\n        // to handing off to history (but only if we're not in a data router,\n        // otherwise it'll prepend the basename inside of the router).\n        // If this is a root navigation, then we navigate to the raw basename\n        // which allows the basename to have full control over the presence of a\n        // trailing slash on root links\n        if (dataRouterContext == null && basename !== \"/\") path.pathname = path.pathname === \"/\" ? basename : (0, $c846480b5114588d$export$86d9a7913e44197e)([\n            basename,\n            path.pathname\n        ]);\n        (!!options.replace ? navigator.replace : navigator.push)(path, options.state, options);\n    }, [\n        basename,\n        navigator,\n        routePathnamesJson,\n        locationPathname,\n        dataRouterContext\n    ]);\n    return navigate;\n}\nconst $2e634cb2b6e12a73$var$OutletContext = /*#__PURE__*/ $d51ff6fbc6548743$exports.createContext(null);\n/**\n * Returns the context (if provided) for the child route at this level of the route\n * hierarchy.\n * @see https://reactrouter.com/hooks/use-outlet-context\n */ function $2e634cb2b6e12a73$export$4138103a3ae699cc() {\n    return $d51ff6fbc6548743$exports.useContext($2e634cb2b6e12a73$var$OutletContext);\n}\n/**\n * Returns the element for the child route at this level of the route\n * hierarchy. Used internally by <Outlet> to render child routes.\n *\n * @see https://reactrouter.com/hooks/use-outlet\n */ function $2e634cb2b6e12a73$export$a3be3530d8e40d0b(context) {\n    let outlet = $d51ff6fbc6548743$exports.useContext($2e634cb2b6e12a73$export$9072aa6dd1f93057).outlet;\n    if (outlet) return /*#__PURE__*/ $d51ff6fbc6548743$exports.createElement($2e634cb2b6e12a73$var$OutletContext.Provider, {\n        value: context\n    }, outlet);\n    return outlet;\n}\n/**\n * Returns an object of key/value pairs of the dynamic params from the current\n * URL that were matched by the route path.\n *\n * @see https://reactrouter.com/hooks/use-params\n */ function $2e634cb2b6e12a73$export$99eaa27ddbbb95ef() {\n    let { matches: matches } = $d51ff6fbc6548743$exports.useContext($2e634cb2b6e12a73$export$9072aa6dd1f93057);\n    let routeMatch = matches[matches.length - 1];\n    return routeMatch ? routeMatch.params : {};\n}\n/**\n * Resolves the pathname of the given `to` value against the current location.\n *\n * @see https://reactrouter.com/hooks/use-resolved-path\n */ function $2e634cb2b6e12a73$export$e75d2a2d1b3c245b(to, _temp2) {\n    let { relative: relative } = _temp2 === void 0 ? {} : _temp2;\n    let { matches: matches } = $d51ff6fbc6548743$exports.useContext($2e634cb2b6e12a73$export$9072aa6dd1f93057);\n    let { pathname: locationPathname } = $2e634cb2b6e12a73$export$45d76561a5302f2b();\n    let routePathnamesJson = JSON.stringify((0, $c846480b5114588d$export$90ba53ce1c7fdff2)(matches).map((match)=>match.pathnameBase));\n    return $d51ff6fbc6548743$exports.useMemo(()=>(0, $c846480b5114588d$export$cae722b0cc860f13)(to, JSON.parse(routePathnamesJson), locationPathname, relative === \"path\"), [\n        to,\n        routePathnamesJson,\n        locationPathname,\n        relative\n    ]);\n}\n/**\n * Returns the element of the route that matched the current location, prepared\n * with the correct context to render the remainder of the route tree. Route\n * elements in the tree must render an <Outlet> to render their child route's\n * element.\n *\n * @see https://reactrouter.com/hooks/use-routes\n */ function $2e634cb2b6e12a73$export$5d3fca4a98652595(routes, locationArg) {\n    return $2e634cb2b6e12a73$export$5fcee62552a12fbf(routes, locationArg);\n}\n// Internal implementation with accept optional param for RouterProvider usage\nfunction $2e634cb2b6e12a73$export$5fcee62552a12fbf(routes, locationArg, dataRouterState) {\n    !$2e634cb2b6e12a73$export$9c954a9d03d32f4a() && (0, $c846480b5114588d$export$3e9cee6b33872309)(false);\n    let { navigator: navigator } = $d51ff6fbc6548743$exports.useContext($2e634cb2b6e12a73$export$26749e8557646306);\n    let { matches: parentMatches } = $d51ff6fbc6548743$exports.useContext($2e634cb2b6e12a73$export$9072aa6dd1f93057);\n    let routeMatch = parentMatches[parentMatches.length - 1];\n    let parentParams = routeMatch ? routeMatch.params : {};\n    let parentPathname = routeMatch ? routeMatch.pathname : \"/\";\n    let parentPathnameBase = routeMatch ? routeMatch.pathnameBase : \"/\";\n    let parentRoute = routeMatch && routeMatch.route;\n    let locationFromContext = $2e634cb2b6e12a73$export$45d76561a5302f2b();\n    let location;\n    if (locationArg) {\n        var _parsedLocationArg$pa;\n        let parsedLocationArg = typeof locationArg === \"string\" ? (0, $c846480b5114588d$export$8ccf933b0513f8d0)(locationArg) : locationArg;\n        !(parentPathnameBase === \"/\" || ((_parsedLocationArg$pa = parsedLocationArg.pathname) == null ? void 0 : _parsedLocationArg$pa.startsWith(parentPathnameBase))) && (0, $c846480b5114588d$export$3e9cee6b33872309)(false);\n        location = parsedLocationArg;\n    } else location = locationFromContext;\n    let pathname = location.pathname || \"/\";\n    let remainingPathname = parentPathnameBase === \"/\" ? pathname : pathname.slice(parentPathnameBase.length) || \"/\";\n    let matches = (0, $c846480b5114588d$export$2708184779ceb39d)(routes, {\n        pathname: remainingPathname\n    });\n    let renderedMatches = $2e634cb2b6e12a73$var$_renderMatches(matches && matches.map((match)=>Object.assign({}, match, {\n            params: Object.assign({}, parentParams, match.params),\n            pathname: (0, $c846480b5114588d$export$86d9a7913e44197e)([\n                parentPathnameBase,\n                // Re-encode pathnames that were decoded inside matchRoutes\n                navigator.encodeLocation ? navigator.encodeLocation(match.pathname).pathname : match.pathname\n            ]),\n            pathnameBase: match.pathnameBase === \"/\" ? parentPathnameBase : (0, $c846480b5114588d$export$86d9a7913e44197e)([\n                parentPathnameBase,\n                // Re-encode pathnames that were decoded inside matchRoutes\n                navigator.encodeLocation ? navigator.encodeLocation(match.pathnameBase).pathname : match.pathnameBase\n            ])\n        })), parentMatches, dataRouterState);\n    // When a user passes in a `locationArg`, the associated routes need to\n    // be wrapped in a new `LocationContext.Provider` in order for `useLocation`\n    // to use the scoped location instead of the global location.\n    if (locationArg && renderedMatches) return /*#__PURE__*/ $d51ff6fbc6548743$exports.createElement($2e634cb2b6e12a73$export$c7914228fb69b0f5.Provider, {\n        value: {\n            location: $2e634cb2b6e12a73$var$_extends({\n                pathname: \"/\",\n                search: \"\",\n                hash: \"\",\n                state: null,\n                key: \"default\"\n            }, location),\n            navigationType: (0, $c846480b5114588d$export$e19cd5f9376f8cee).Pop\n        }\n    }, renderedMatches);\n    return renderedMatches;\n}\nfunction $2e634cb2b6e12a73$var$DefaultErrorComponent() {\n    let error = $2e634cb2b6e12a73$export$ed527bf60f6e05f2();\n    let message = (0, $c846480b5114588d$export$972111febbeef05b)(error) ? error.status + \" \" + error.statusText : error instanceof Error ? error.message : JSON.stringify(error);\n    let stack = error instanceof Error ? error.stack : null;\n    let lightgrey = \"rgba(200,200,200, 0.5)\";\n    let preStyles = {\n        padding: \"0.5rem\",\n        backgroundColor: lightgrey\n    };\n    let codeStyles = {\n        padding: \"2px 4px\",\n        backgroundColor: lightgrey\n    };\n    let devInfo = null;\n    return /*#__PURE__*/ $d51ff6fbc6548743$exports.createElement($d51ff6fbc6548743$exports.Fragment, null, /*#__PURE__*/ $d51ff6fbc6548743$exports.createElement(\"h2\", null, \"Unexpected Application Error!\"), /*#__PURE__*/ $d51ff6fbc6548743$exports.createElement(\"h3\", {\n        style: {\n            fontStyle: \"italic\"\n        }\n    }, message), stack ? /*#__PURE__*/ $d51ff6fbc6548743$exports.createElement(\"pre\", {\n        style: preStyles\n    }, stack) : null, devInfo);\n}\nconst $2e634cb2b6e12a73$var$defaultErrorElement = /*#__PURE__*/ $d51ff6fbc6548743$exports.createElement($2e634cb2b6e12a73$var$DefaultErrorComponent, null);\nclass $2e634cb2b6e12a73$var$RenderErrorBoundary extends $d51ff6fbc6548743$exports.Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            location: props.location,\n            revalidation: props.revalidation,\n            error: props.error\n        };\n    }\n    static getDerivedStateFromError(error) {\n        return {\n            error: error\n        };\n    }\n    static getDerivedStateFromProps(props, state) {\n        // When we get into an error state, the user will likely click \"back\" to the\n        // previous page that didn't have an error. Because this wraps the entire\n        // application, that will have no effect--the error page continues to display.\n        // This gives us a mechanism to recover from the error when the location changes.\n        //\n        // Whether we're in an error state or not, we update the location in state\n        // so that when we are in an error state, it gets reset when a new location\n        // comes in and the user recovers from the error.\n        if (state.location !== props.location || state.revalidation !== \"idle\" && props.revalidation === \"idle\") return {\n            error: props.error,\n            location: props.location,\n            revalidation: props.revalidation\n        };\n        // If we're not changing locations, preserve the location but still surface\n        // any new errors that may come through. We retain the existing error, we do\n        // this because the error provided from the app state may be cleared without\n        // the location changing.\n        return {\n            error: props.error || state.error,\n            location: state.location,\n            revalidation: props.revalidation || state.revalidation\n        };\n    }\n    componentDidCatch(error, errorInfo) {\n        console.error(\"React Router caught the following error during render\", error, errorInfo);\n    }\n    render() {\n        return this.state.error ? /*#__PURE__*/ $d51ff6fbc6548743$exports.createElement($2e634cb2b6e12a73$export$9072aa6dd1f93057.Provider, {\n            value: this.props.routeContext\n        }, /*#__PURE__*/ $d51ff6fbc6548743$exports.createElement($2e634cb2b6e12a73$var$RouteErrorContext.Provider, {\n            value: this.state.error,\n            children: this.props.component\n        })) : this.props.children;\n    }\n}\nfunction $2e634cb2b6e12a73$var$RenderedRoute(_ref) {\n    let { routeContext: routeContext, match: match, children: children } = _ref;\n    let dataRouterContext = $d51ff6fbc6548743$exports.useContext($2e634cb2b6e12a73$export$3add0d5dce533e2e);\n    // Track how deep we got in our render pass to emulate SSR componentDidCatch\n    // in a DataStaticRouter\n    if (dataRouterContext && dataRouterContext.static && dataRouterContext.staticContext && (match.route.errorElement || match.route.ErrorBoundary)) dataRouterContext.staticContext._deepestRenderedBoundaryId = match.route.id;\n    return /*#__PURE__*/ $d51ff6fbc6548743$exports.createElement($2e634cb2b6e12a73$export$9072aa6dd1f93057.Provider, {\n        value: routeContext\n    }, children);\n}\nfunction $2e634cb2b6e12a73$var$_renderMatches(matches, parentMatches, dataRouterState) {\n    var _dataRouterState2;\n    if (parentMatches === void 0) parentMatches = [];\n    if (dataRouterState === void 0) dataRouterState = null;\n    if (matches == null) {\n        var _dataRouterState;\n        if ((_dataRouterState = dataRouterState) != null && _dataRouterState.errors) // Don't bail if we have data router errors so we can render them in the\n        // boundary.  Use the pre-matched (or shimmed) matches\n        matches = dataRouterState.matches;\n        else return null;\n    }\n    let renderedMatches = matches;\n    // If we have data errors, trim matches to the highest error boundary\n    let errors = (_dataRouterState2 = dataRouterState) == null ? void 0 : _dataRouterState2.errors;\n    if (errors != null) {\n        let errorIndex = renderedMatches.findIndex((m)=>m.route.id && (errors == null ? void 0 : errors[m.route.id]));\n        !(errorIndex >= 0) && (0, $c846480b5114588d$export$3e9cee6b33872309)(false);\n        renderedMatches = renderedMatches.slice(0, Math.min(renderedMatches.length, errorIndex + 1));\n    }\n    return renderedMatches.reduceRight((outlet, match, index)=>{\n        let error = match.route.id ? errors == null ? void 0 : errors[match.route.id] : null;\n        // Only data routers handle errors\n        let errorElement = null;\n        if (dataRouterState) errorElement = match.route.errorElement || $2e634cb2b6e12a73$var$defaultErrorElement;\n        let matches = parentMatches.concat(renderedMatches.slice(0, index + 1));\n        let getChildren = ()=>{\n            let children;\n            if (error) children = errorElement;\n            else if (match.route.Component) // Note: This is a de-optimized path since React won't re-use the\n            // ReactElement since it's identity changes with each new\n            // React.createElement call.  We keep this so folks can use\n            // `<Route Component={...}>` in `<Routes>` but generally `Component`\n            // usage is only advised in `RouterProvider` when we can convert it to\n            // `element` ahead of time.\n            children = /*#__PURE__*/ $d51ff6fbc6548743$exports.createElement(match.route.Component, null);\n            else if (match.route.element) children = match.route.element;\n            else children = outlet;\n            return /*#__PURE__*/ $d51ff6fbc6548743$exports.createElement($2e634cb2b6e12a73$var$RenderedRoute, {\n                match: match,\n                routeContext: {\n                    outlet: outlet,\n                    matches: matches,\n                    isDataRoute: dataRouterState != null\n                },\n                children: children\n            });\n        };\n        // Only wrap in an error boundary within data router usages when we have an\n        // ErrorBoundary/errorElement on this route.  Otherwise let it bubble up to\n        // an ancestor ErrorBoundary/errorElement\n        return dataRouterState && (match.route.ErrorBoundary || match.route.errorElement || index === 0) ? /*#__PURE__*/ $d51ff6fbc6548743$exports.createElement($2e634cb2b6e12a73$var$RenderErrorBoundary, {\n            location: dataRouterState.location,\n            revalidation: dataRouterState.revalidation,\n            component: errorElement,\n            error: error,\n            children: getChildren(),\n            routeContext: {\n                outlet: null,\n                matches: matches,\n                isDataRoute: true\n            }\n        }) : getChildren();\n    }, null);\n}\nvar $2e634cb2b6e12a73$var$DataRouterHook = /*#__PURE__*/ function(DataRouterHook) {\n    DataRouterHook[\"UseBlocker\"] = \"useBlocker\";\n    DataRouterHook[\"UseRevalidator\"] = \"useRevalidator\";\n    DataRouterHook[\"UseNavigateStable\"] = \"useNavigate\";\n    return DataRouterHook;\n}($2e634cb2b6e12a73$var$DataRouterHook || {});\nvar $2e634cb2b6e12a73$var$DataRouterStateHook = /*#__PURE__*/ function(DataRouterStateHook) {\n    DataRouterStateHook[\"UseBlocker\"] = \"useBlocker\";\n    DataRouterStateHook[\"UseLoaderData\"] = \"useLoaderData\";\n    DataRouterStateHook[\"UseActionData\"] = \"useActionData\";\n    DataRouterStateHook[\"UseRouteError\"] = \"useRouteError\";\n    DataRouterStateHook[\"UseNavigation\"] = \"useNavigation\";\n    DataRouterStateHook[\"UseRouteLoaderData\"] = \"useRouteLoaderData\";\n    DataRouterStateHook[\"UseMatches\"] = \"useMatches\";\n    DataRouterStateHook[\"UseRevalidator\"] = \"useRevalidator\";\n    DataRouterStateHook[\"UseNavigateStable\"] = \"useNavigate\";\n    DataRouterStateHook[\"UseRouteId\"] = \"useRouteId\";\n    return DataRouterStateHook;\n}($2e634cb2b6e12a73$var$DataRouterStateHook || {});\nfunction $2e634cb2b6e12a73$var$getDataRouterConsoleError(hookName) {\n    return hookName + \" must be used within a data router.  See https://reactrouter.com/routers/picking-a-router.\";\n}\nfunction $2e634cb2b6e12a73$var$useDataRouterContext(hookName) {\n    let ctx = $d51ff6fbc6548743$exports.useContext($2e634cb2b6e12a73$export$3add0d5dce533e2e);\n    !ctx && (0, $c846480b5114588d$export$3e9cee6b33872309)(false);\n    return ctx;\n}\nfunction $2e634cb2b6e12a73$var$useDataRouterState(hookName) {\n    let state = $d51ff6fbc6548743$exports.useContext($2e634cb2b6e12a73$export$145dfa71566a64dc);\n    !state && (0, $c846480b5114588d$export$3e9cee6b33872309)(false);\n    return state;\n}\nfunction $2e634cb2b6e12a73$var$useRouteContext(hookName) {\n    let route = $d51ff6fbc6548743$exports.useContext($2e634cb2b6e12a73$export$9072aa6dd1f93057);\n    !route && (0, $c846480b5114588d$export$3e9cee6b33872309)(false);\n    return route;\n}\n// Internal version with hookName-aware debugging\nfunction $2e634cb2b6e12a73$var$useCurrentRouteId(hookName) {\n    let route = $2e634cb2b6e12a73$var$useRouteContext(hookName);\n    let thisRoute = route.matches[route.matches.length - 1];\n    !thisRoute.route.id && (0, $c846480b5114588d$export$3e9cee6b33872309)(false);\n    return thisRoute.route.id;\n}\n/**\n * Returns the ID for the nearest contextual route\n */ function $2e634cb2b6e12a73$export$5fc8298006ad9e58() {\n    return $2e634cb2b6e12a73$var$useCurrentRouteId($2e634cb2b6e12a73$var$DataRouterStateHook.UseRouteId);\n}\n/**\n * Returns the current navigation, defaulting to an \"idle\" navigation when\n * no navigation is in progress\n */ function $2e634cb2b6e12a73$export$d0fd4b7106de2769() {\n    let state = $2e634cb2b6e12a73$var$useDataRouterState($2e634cb2b6e12a73$var$DataRouterStateHook.UseNavigation);\n    return state.navigation;\n}\n/**\n * Returns a revalidate function for manually triggering revalidation, as well\n * as the current state of any manual revalidations\n */ function $2e634cb2b6e12a73$export$600dc272ed516c15() {\n    let dataRouterContext = $2e634cb2b6e12a73$var$useDataRouterContext($2e634cb2b6e12a73$var$DataRouterHook.UseRevalidator);\n    let state = $2e634cb2b6e12a73$var$useDataRouterState($2e634cb2b6e12a73$var$DataRouterStateHook.UseRevalidator);\n    return $d51ff6fbc6548743$exports.useMemo(()=>({\n            revalidate: dataRouterContext.router.revalidate,\n            state: state.revalidation\n        }), [\n        dataRouterContext.router.revalidate,\n        state.revalidation\n    ]);\n}\n/**\n * Returns the active route matches, useful for accessing loaderData for\n * parent/child routes or the route \"handle\" property\n */ function $2e634cb2b6e12a73$export$2378eb7f5ff86053() {\n    let { matches: matches, loaderData: loaderData } = $2e634cb2b6e12a73$var$useDataRouterState($2e634cb2b6e12a73$var$DataRouterStateHook.UseMatches);\n    return $d51ff6fbc6548743$exports.useMemo(()=>matches.map((match)=>{\n            let { pathname: pathname, params: params } = match;\n            // Note: This structure matches that created by createUseMatchesMatch\n            // in the @remix-run/router , so if you change this please also change\n            // that :)  Eventually we'll DRY this up\n            return {\n                id: match.route.id,\n                pathname: pathname,\n                params: params,\n                data: loaderData[match.route.id],\n                handle: match.route.handle\n            };\n        }), [\n        matches,\n        loaderData\n    ]);\n}\n/**\n * Returns the loader data for the nearest ancestor Route loader\n */ function $2e634cb2b6e12a73$export$1448a5050d252c4d() {\n    let state = $2e634cb2b6e12a73$var$useDataRouterState($2e634cb2b6e12a73$var$DataRouterStateHook.UseLoaderData);\n    let routeId = $2e634cb2b6e12a73$var$useCurrentRouteId($2e634cb2b6e12a73$var$DataRouterStateHook.UseLoaderData);\n    if (state.errors && state.errors[routeId] != null) {\n        console.error(\"You cannot `useLoaderData` in an errorElement (routeId: \" + routeId + \")\");\n        return undefined;\n    }\n    return state.loaderData[routeId];\n}\n/**\n * Returns the loaderData for the given routeId\n */ function $2e634cb2b6e12a73$export$fd5d37484eab868d(routeId) {\n    let state = $2e634cb2b6e12a73$var$useDataRouterState($2e634cb2b6e12a73$var$DataRouterStateHook.UseRouteLoaderData);\n    return state.loaderData[routeId];\n}\n/**\n * Returns the action data for the nearest ancestor Route action\n */ function $2e634cb2b6e12a73$export$fdc00f3f26066d5e() {\n    let state = $2e634cb2b6e12a73$var$useDataRouterState($2e634cb2b6e12a73$var$DataRouterStateHook.UseActionData);\n    let route = $d51ff6fbc6548743$exports.useContext($2e634cb2b6e12a73$export$9072aa6dd1f93057);\n    !route && (0, $c846480b5114588d$export$3e9cee6b33872309)(false);\n    return Object.values((state == null ? void 0 : state.actionData) || {})[0];\n}\n/**\n * Returns the nearest ancestor Route error, which could be a loader/action\n * error or a render error.  This is intended to be called from your\n * ErrorBoundary/errorElement to display a proper error message.\n */ function $2e634cb2b6e12a73$export$ed527bf60f6e05f2() {\n    var _state$errors;\n    let error = $d51ff6fbc6548743$exports.useContext($2e634cb2b6e12a73$var$RouteErrorContext);\n    let state = $2e634cb2b6e12a73$var$useDataRouterState($2e634cb2b6e12a73$var$DataRouterStateHook.UseRouteError);\n    let routeId = $2e634cb2b6e12a73$var$useCurrentRouteId($2e634cb2b6e12a73$var$DataRouterStateHook.UseRouteError);\n    // If this was a render error, we put it in a RouteError context inside\n    // of RenderErrorBoundary\n    if (error) return error;\n    // Otherwise look for errors from our data router state\n    return (_state$errors = state.errors) == null ? void 0 : _state$errors[routeId];\n}\n/**\n * Returns the happy-path data from the nearest ancestor <Await /> value\n */ function $2e634cb2b6e12a73$export$78a72ddb39bdd145() {\n    let value = $d51ff6fbc6548743$exports.useContext($2e634cb2b6e12a73$var$AwaitContext);\n    return value == null ? void 0 : value._data;\n}\n/**\n * Returns the error from the nearest ancestor <Await /> value\n */ function $2e634cb2b6e12a73$export$17f53340677d5831() {\n    let value = $d51ff6fbc6548743$exports.useContext($2e634cb2b6e12a73$var$AwaitContext);\n    return value == null ? void 0 : value._error;\n}\nlet $2e634cb2b6e12a73$var$blockerId = 0;\n/**\n * Allow the application to block navigations within the SPA and present the\n * user a confirmation dialog to confirm the navigation.  Mostly used to avoid\n * using half-filled form data.  This does not handle hard-reloads or\n * cross-origin navigations.\n */ function $2e634cb2b6e12a73$export$2af03a1de5c0910(shouldBlock) {\n    let { router: router, basename: basename } = $2e634cb2b6e12a73$var$useDataRouterContext($2e634cb2b6e12a73$var$DataRouterHook.UseBlocker);\n    let state = $2e634cb2b6e12a73$var$useDataRouterState($2e634cb2b6e12a73$var$DataRouterStateHook.UseBlocker);\n    let [blockerKey, setBlockerKey] = $d51ff6fbc6548743$exports.useState(\"\");\n    let blockerFunction = $d51ff6fbc6548743$exports.useCallback((arg)=>{\n        if (typeof shouldBlock !== \"function\") return !!shouldBlock;\n        if (basename === \"/\") return shouldBlock(arg);\n        // If they provided us a function and we've got an active basename, strip\n        // it from the locations we expose to the user to match the behavior of\n        // useLocation\n        let { currentLocation: currentLocation, nextLocation: nextLocation, historyAction: historyAction } = arg;\n        return shouldBlock({\n            currentLocation: $2e634cb2b6e12a73$var$_extends({}, currentLocation, {\n                pathname: (0, $c846480b5114588d$export$b69e3301ce081aa3)(currentLocation.pathname, basename) || currentLocation.pathname\n            }),\n            nextLocation: $2e634cb2b6e12a73$var$_extends({}, nextLocation, {\n                pathname: (0, $c846480b5114588d$export$b69e3301ce081aa3)(nextLocation.pathname, basename) || nextLocation.pathname\n            }),\n            historyAction: historyAction\n        });\n    }, [\n        basename,\n        shouldBlock\n    ]);\n    // This effect is in charge of blocker key assignment and deletion (which is\n    // tightly coupled to the key)\n    $d51ff6fbc6548743$exports.useEffect(()=>{\n        let key = String(++$2e634cb2b6e12a73$var$blockerId);\n        setBlockerKey(key);\n        return ()=>router.deleteBlocker(key);\n    }, [\n        router\n    ]);\n    // This effect handles assigning the blockerFunction.  This is to handle\n    // unstable blocker function identities, and happens only after the prior\n    // effect so we don't get an orphaned blockerFunction in the router with a\n    // key of \"\".  Until then we just have the IDLE_BLOCKER.\n    $d51ff6fbc6548743$exports.useEffect(()=>{\n        if (blockerKey !== \"\") router.getBlocker(blockerKey, blockerFunction);\n    }, [\n        router,\n        blockerKey,\n        blockerFunction\n    ]);\n    // Prefer the blocker from `state` not `router.state` since DataRouterContext\n    // is memoized so this ensures we update on blocker state updates\n    return blockerKey && state.blockers.has(blockerKey) ? state.blockers.get(blockerKey) : (0, $c846480b5114588d$export$386d57f03f0b2883);\n}\n/**\n * Stable version of useNavigate that is used when we are in the context of\n * a RouterProvider.\n */ function $2e634cb2b6e12a73$var$useNavigateStable() {\n    let { router: router } = $2e634cb2b6e12a73$var$useDataRouterContext($2e634cb2b6e12a73$var$DataRouterHook.UseNavigateStable);\n    let id = $2e634cb2b6e12a73$var$useCurrentRouteId($2e634cb2b6e12a73$var$DataRouterStateHook.UseNavigateStable);\n    let activeRef = $d51ff6fbc6548743$exports.useRef(false);\n    $2e634cb2b6e12a73$var$useIsomorphicLayoutEffect(()=>{\n        activeRef.current = true;\n    });\n    let navigate = $d51ff6fbc6548743$exports.useCallback(function(to, options) {\n        if (options === void 0) options = {};\n        // Short circuit here since if this happens on first render the navigate\n        // is useless because we haven't wired up our router subscriber yet\n        if (!activeRef.current) return;\n        if (typeof to === \"number\") router.navigate(to);\n        else router.navigate(to, $2e634cb2b6e12a73$var$_extends({\n            fromRouteId: id\n        }, options));\n    }, [\n        router,\n        id\n    ]);\n    return navigate;\n}\nconst $2e634cb2b6e12a73$var$alreadyWarned = {};\nfunction $2e634cb2b6e12a73$var$warningOnce(key, cond, message) {\n    if (!cond && !$2e634cb2b6e12a73$var$alreadyWarned[key]) $2e634cb2b6e12a73$var$alreadyWarned[key] = true;\n}\n/**\n  Webpack + React 17 fails to compile on any of the following because webpack\n  complains that `startTransition` doesn't exist in `React`:\n  * import { startTransition } from \"react\"\n  * import * as React from from \"react\";\n    \"startTransition\" in React ? React.startTransition(() => setState()) : setState()\n  * import * as React from from \"react\";\n    \"startTransition\" in React ? React[\"startTransition\"](() => setState()) : setState()\n\n  Moving it to a constant such as the following solves the Webpack/React 17 issue:\n  * import * as React from from \"react\";\n    const START_TRANSITION = \"startTransition\";\n    START_TRANSITION in React ? React[START_TRANSITION](() => setState()) : setState()\n\n  However, that introduces webpack/terser minification issues in production builds\n  in React 18 where minification/obfuscation ends up removing the call of\n  React.startTransition entirely from the first half of the ternary.  Grabbing\n  this exported reference once up front resolves that issue.\n\n  See https://github.com/remix-run/react-router/issues/10579\n*/ const $2e634cb2b6e12a73$var$START_TRANSITION = \"startTransition\";\nconst $2e634cb2b6e12a73$var$startTransitionImpl = $d51ff6fbc6548743$exports[$2e634cb2b6e12a73$var$START_TRANSITION];\n/**\n * Given a Remix Router instance, render the appropriate UI\n */ function $2e634cb2b6e12a73$export$323e4fc2fa4753fb(_ref) {\n    let { fallbackElement: fallbackElement, router: router, future: future } = _ref;\n    // Need to use a layout effect here so we are subscribed early enough to\n    // pick up on any render-driven redirects/navigations (useEffect/<Navigate>)\n    let [state, setStateImpl] = $d51ff6fbc6548743$exports.useState(router.state);\n    let { v7_startTransition: v7_startTransition } = future || {};\n    let setState = $d51ff6fbc6548743$exports.useCallback((newState)=>{\n        v7_startTransition && $2e634cb2b6e12a73$var$startTransitionImpl ? $2e634cb2b6e12a73$var$startTransitionImpl(()=>setStateImpl(newState)) : setStateImpl(newState);\n    }, [\n        setStateImpl,\n        v7_startTransition\n    ]);\n    $d51ff6fbc6548743$exports.useLayoutEffect(()=>router.subscribe(setState), [\n        router,\n        setState\n    ]);\n    let navigator = $d51ff6fbc6548743$exports.useMemo(()=>{\n        return {\n            createHref: router.createHref,\n            encodeLocation: router.encodeLocation,\n            go: (n)=>router.navigate(n),\n            push: (to, state, opts)=>router.navigate(to, {\n                    state: state,\n                    preventScrollReset: opts == null ? void 0 : opts.preventScrollReset\n                }),\n            replace: (to, state, opts)=>router.navigate(to, {\n                    replace: true,\n                    state: state,\n                    preventScrollReset: opts == null ? void 0 : opts.preventScrollReset\n                })\n        };\n    }, [\n        router\n    ]);\n    let basename = router.basename || \"/\";\n    let dataRouterContext = $d51ff6fbc6548743$exports.useMemo(()=>({\n            router: router,\n            navigator: navigator,\n            static: false,\n            basename: basename\n        }), [\n        router,\n        navigator,\n        basename\n    ]);\n    // The fragment and {null} here are important!  We need them to keep React 18's\n    // useId happy when we are server-rendering since we may have a <script> here\n    // containing the hydrated server-side staticContext (from StaticRouterProvider).\n    // useId relies on the component tree structure to generate deterministic id's\n    // so we need to ensure it remains the same on the client even though\n    // we don't need the <script> tag\n    return /*#__PURE__*/ $d51ff6fbc6548743$exports.createElement($d51ff6fbc6548743$exports.Fragment, null, /*#__PURE__*/ $d51ff6fbc6548743$exports.createElement($2e634cb2b6e12a73$export$3add0d5dce533e2e.Provider, {\n        value: dataRouterContext\n    }, /*#__PURE__*/ $d51ff6fbc6548743$exports.createElement($2e634cb2b6e12a73$export$145dfa71566a64dc.Provider, {\n        value: state\n    }, /*#__PURE__*/ $d51ff6fbc6548743$exports.createElement($2e634cb2b6e12a73$export$55185c17a0fcbe46, {\n        basename: basename,\n        location: state.location,\n        navigationType: state.historyAction,\n        navigator: navigator\n    }, state.initialized ? /*#__PURE__*/ $d51ff6fbc6548743$exports.createElement($2e634cb2b6e12a73$var$DataRoutes, {\n        routes: router.routes,\n        state: state\n    }) : fallbackElement))), null);\n}\nfunction $2e634cb2b6e12a73$var$DataRoutes(_ref2) {\n    let { routes: routes, state: state } = _ref2;\n    return $2e634cb2b6e12a73$export$5fcee62552a12fbf(routes, undefined, state);\n}\n/**\n * A <Router> that stores all entries in memory.\n *\n * @see https://reactrouter.com/router-components/memory-router\n */ function $2e634cb2b6e12a73$export$ae46f04cfaffe093(_ref3) {\n    let { basename: basename, children: children, initialEntries: initialEntries, initialIndex: initialIndex, future: future } = _ref3;\n    let historyRef = $d51ff6fbc6548743$exports.useRef();\n    if (historyRef.current == null) historyRef.current = (0, $c846480b5114588d$export$2b76ad033c6e6d08)({\n        initialEntries: initialEntries,\n        initialIndex: initialIndex,\n        v5Compat: true\n    });\n    let history = historyRef.current;\n    let [state, setStateImpl] = $d51ff6fbc6548743$exports.useState({\n        action: history.action,\n        location: history.location\n    });\n    let { v7_startTransition: v7_startTransition } = future || {};\n    let setState = $d51ff6fbc6548743$exports.useCallback((newState)=>{\n        v7_startTransition && $2e634cb2b6e12a73$var$startTransitionImpl ? $2e634cb2b6e12a73$var$startTransitionImpl(()=>setStateImpl(newState)) : setStateImpl(newState);\n    }, [\n        setStateImpl,\n        v7_startTransition\n    ]);\n    $d51ff6fbc6548743$exports.useLayoutEffect(()=>history.listen(setState), [\n        history,\n        setState\n    ]);\n    return /*#__PURE__*/ $d51ff6fbc6548743$exports.createElement($2e634cb2b6e12a73$export$55185c17a0fcbe46, {\n        basename: basename,\n        children: children,\n        location: state.location,\n        navigationType: state.action,\n        navigator: history\n    });\n}\n/**\n * Changes the current location.\n *\n * Note: This API is mostly useful in React.Component subclasses that are not\n * able to use hooks. In functional components, we recommend you use the\n * `useNavigate` hook instead.\n *\n * @see https://reactrouter.com/components/navigate\n */ function $2e634cb2b6e12a73$export$444b3ab0cb9aec40(_ref4) {\n    let { to: to, replace: replace, state: state, relative: relative } = _ref4;\n    !$2e634cb2b6e12a73$export$9c954a9d03d32f4a() && (0, $c846480b5114588d$export$3e9cee6b33872309)(false);\n    let { matches: matches } = $d51ff6fbc6548743$exports.useContext($2e634cb2b6e12a73$export$9072aa6dd1f93057);\n    let { pathname: locationPathname } = $2e634cb2b6e12a73$export$45d76561a5302f2b();\n    let navigate = $2e634cb2b6e12a73$export$9770f232ac06a008();\n    // Resolve the path outside of the effect so that when effects run twice in\n    // StrictMode they navigate to the same place\n    let path = (0, $c846480b5114588d$export$cae722b0cc860f13)(to, (0, $c846480b5114588d$export$90ba53ce1c7fdff2)(matches).map((match)=>match.pathnameBase), locationPathname, relative === \"path\");\n    let jsonPath = JSON.stringify(path);\n    $d51ff6fbc6548743$exports.useEffect(()=>navigate(JSON.parse(jsonPath), {\n            replace: replace,\n            state: state,\n            relative: relative\n        }), [\n        navigate,\n        jsonPath,\n        relative,\n        replace,\n        state\n    ]);\n    return null;\n}\n/**\n * Renders the child route's element, if there is one.\n *\n * @see https://reactrouter.com/components/outlet\n */ function $2e634cb2b6e12a73$export$910ae8079b2c2852(props) {\n    return $2e634cb2b6e12a73$export$a3be3530d8e40d0b(props.context);\n}\n/**\n * Declares an element that should be rendered at a certain URL path.\n *\n * @see https://reactrouter.com/components/route\n */ function $2e634cb2b6e12a73$export$e7b0ac011bb776c6(_props) {\n    (0, $c846480b5114588d$export$3e9cee6b33872309)(false);\n}\n/**\n * Provides location context for the rest of the app.\n *\n * Note: You usually won't render a <Router> directly. Instead, you'll render a\n * router that is more specific to your environment such as a <BrowserRouter>\n * in web browsers or a <StaticRouter> for server rendering.\n *\n * @see https://reactrouter.com/router-components/router\n */ function $2e634cb2b6e12a73$export$55185c17a0fcbe46(_ref5) {\n    let { basename: basenameProp = \"/\", children: children = null, location: locationProp, navigationType: navigationType = (0, $c846480b5114588d$export$e19cd5f9376f8cee).Pop, navigator: navigator, static: staticProp = false } = _ref5;\n    !!$2e634cb2b6e12a73$export$9c954a9d03d32f4a() && (0, $c846480b5114588d$export$3e9cee6b33872309)(false);\n    // Preserve trailing slashes on basename, so we can let the user control\n    // the enforcement of trailing slashes throughout the app\n    let basename = basenameProp.replace(/^\\/*/, \"/\");\n    let navigationContext = $d51ff6fbc6548743$exports.useMemo(()=>({\n            basename: basename,\n            navigator: navigator,\n            static: staticProp\n        }), [\n        basename,\n        navigator,\n        staticProp\n    ]);\n    if (typeof locationProp === \"string\") locationProp = (0, $c846480b5114588d$export$8ccf933b0513f8d0)(locationProp);\n    let { pathname: pathname = \"/\", search: search = \"\", hash: hash = \"\", state: state = null, key: key = \"default\" } = locationProp;\n    let locationContext = $d51ff6fbc6548743$exports.useMemo(()=>{\n        let trailingPathname = (0, $c846480b5114588d$export$b69e3301ce081aa3)(pathname, basename);\n        if (trailingPathname == null) return null;\n        return {\n            location: {\n                pathname: trailingPathname,\n                search: search,\n                hash: hash,\n                state: state,\n                key: key\n            },\n            navigationType: navigationType\n        };\n    }, [\n        basename,\n        pathname,\n        search,\n        hash,\n        state,\n        key,\n        navigationType\n    ]);\n    if (locationContext == null) return null;\n    return /*#__PURE__*/ $d51ff6fbc6548743$exports.createElement($2e634cb2b6e12a73$export$26749e8557646306.Provider, {\n        value: navigationContext\n    }, /*#__PURE__*/ $d51ff6fbc6548743$exports.createElement($2e634cb2b6e12a73$export$c7914228fb69b0f5.Provider, {\n        children: children,\n        value: locationContext\n    }));\n}\n/**\n * A container for a nested tree of <Route> elements that renders the branch\n * that best matches the current location.\n *\n * @see https://reactrouter.com/components/routes\n */ function $2e634cb2b6e12a73$export$3565eb3d00ca5a74(_ref6) {\n    let { children: children, location: location } = _ref6;\n    return $2e634cb2b6e12a73$export$5d3fca4a98652595($2e634cb2b6e12a73$export$16da398f5434bdec(children), location);\n}\n/**\n * Component to use for rendering lazily loaded data from returning defer()\n * in a loader function\n */ function $2e634cb2b6e12a73$export$6ddabde395c8c576(_ref7) {\n    let { children: children, errorElement: errorElement, resolve: resolve } = _ref7;\n    return /*#__PURE__*/ $d51ff6fbc6548743$exports.createElement($2e634cb2b6e12a73$var$AwaitErrorBoundary, {\n        resolve: resolve,\n        errorElement: errorElement\n    }, /*#__PURE__*/ $d51ff6fbc6548743$exports.createElement($2e634cb2b6e12a73$var$ResolveAwait, null, children));\n}\nvar $2e634cb2b6e12a73$var$AwaitRenderStatus = /*#__PURE__*/ function(AwaitRenderStatus) {\n    AwaitRenderStatus[AwaitRenderStatus[\"pending\"] = 0] = \"pending\";\n    AwaitRenderStatus[AwaitRenderStatus[\"success\"] = 1] = \"success\";\n    AwaitRenderStatus[AwaitRenderStatus[\"error\"] = 2] = \"error\";\n    return AwaitRenderStatus;\n}($2e634cb2b6e12a73$var$AwaitRenderStatus || {});\nconst $2e634cb2b6e12a73$var$neverSettledPromise = new Promise(()=>{});\nclass $2e634cb2b6e12a73$var$AwaitErrorBoundary extends $d51ff6fbc6548743$exports.Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            error: null\n        };\n    }\n    static getDerivedStateFromError(error) {\n        return {\n            error: error\n        };\n    }\n    componentDidCatch(error, errorInfo) {\n        console.error(\"<Await> caught the following error during render\", error, errorInfo);\n    }\n    render() {\n        let { children: children, errorElement: errorElement, resolve: resolve } = this.props;\n        let promise = null;\n        let status = $2e634cb2b6e12a73$var$AwaitRenderStatus.pending;\n        if (!(resolve instanceof Promise)) {\n            // Didn't get a promise - provide as a resolved promise\n            status = $2e634cb2b6e12a73$var$AwaitRenderStatus.success;\n            promise = Promise.resolve();\n            Object.defineProperty(promise, \"_tracked\", {\n                get: ()=>true\n            });\n            Object.defineProperty(promise, \"_data\", {\n                get: ()=>resolve\n            });\n        } else if (this.state.error) {\n            // Caught a render error, provide it as a rejected promise\n            status = $2e634cb2b6e12a73$var$AwaitRenderStatus.error;\n            let renderError = this.state.error;\n            promise = Promise.reject().catch(()=>{}); // Avoid unhandled rejection warnings\n            Object.defineProperty(promise, \"_tracked\", {\n                get: ()=>true\n            });\n            Object.defineProperty(promise, \"_error\", {\n                get: ()=>renderError\n            });\n        } else if (resolve._tracked) {\n            // Already tracked promise - check contents\n            promise = resolve;\n            status = promise._error !== undefined ? $2e634cb2b6e12a73$var$AwaitRenderStatus.error : promise._data !== undefined ? $2e634cb2b6e12a73$var$AwaitRenderStatus.success : $2e634cb2b6e12a73$var$AwaitRenderStatus.pending;\n        } else {\n            // Raw (untracked) promise - track it\n            status = $2e634cb2b6e12a73$var$AwaitRenderStatus.pending;\n            Object.defineProperty(resolve, \"_tracked\", {\n                get: ()=>true\n            });\n            promise = resolve.then((data)=>Object.defineProperty(resolve, \"_data\", {\n                    get: ()=>data\n                }), (error)=>Object.defineProperty(resolve, \"_error\", {\n                    get: ()=>error\n                }));\n        }\n        if (status === $2e634cb2b6e12a73$var$AwaitRenderStatus.error && promise._error instanceof (0, $c846480b5114588d$export$42a99a7a4bc0e76a)) // Freeze the UI by throwing a never resolved promise\n        throw $2e634cb2b6e12a73$var$neverSettledPromise;\n        if (status === $2e634cb2b6e12a73$var$AwaitRenderStatus.error && !errorElement) // No errorElement, throw to the nearest route-level error boundary\n        throw promise._error;\n        if (status === $2e634cb2b6e12a73$var$AwaitRenderStatus.error) // Render via our errorElement\n        return /*#__PURE__*/ $d51ff6fbc6548743$exports.createElement($2e634cb2b6e12a73$var$AwaitContext.Provider, {\n            value: promise,\n            children: errorElement\n        });\n        if (status === $2e634cb2b6e12a73$var$AwaitRenderStatus.success) // Render children with resolved value\n        return /*#__PURE__*/ $d51ff6fbc6548743$exports.createElement($2e634cb2b6e12a73$var$AwaitContext.Provider, {\n            value: promise,\n            children: children\n        });\n        // Throw to the suspense boundary\n        throw promise;\n    }\n}\n/**\n * @private\n * Indirection to leverage useAsyncValue for a render-prop API on <Await>\n */ function $2e634cb2b6e12a73$var$ResolveAwait(_ref8) {\n    let { children: children } = _ref8;\n    let data = $2e634cb2b6e12a73$export$78a72ddb39bdd145();\n    let toRender = typeof children === \"function\" ? children(data) : children;\n    return /*#__PURE__*/ $d51ff6fbc6548743$exports.createElement($d51ff6fbc6548743$exports.Fragment, null, toRender);\n}\n///////////////////////////////////////////////////////////////////////////////\n// UTILS\n///////////////////////////////////////////////////////////////////////////////\n/**\n * Creates a route config from a React \"children\" object, which is usually\n * either a `<Route>` element or an array of them. Used internally by\n * `<Routes>` to create a route config from its children.\n *\n * @see https://reactrouter.com/utils/create-routes-from-children\n */ function $2e634cb2b6e12a73$export$16da398f5434bdec(children, parentPath) {\n    if (parentPath === void 0) parentPath = [];\n    let routes = [];\n    $d51ff6fbc6548743$exports.Children.forEach(children, (element, index)=>{\n        if (!/*#__PURE__*/ $d51ff6fbc6548743$exports.isValidElement(element)) // Ignore non-elements. This allows people to more easily inline\n        // conditionals in their route config.\n        return;\n        let treePath = [\n            ...parentPath,\n            index\n        ];\n        if (element.type === $d51ff6fbc6548743$exports.Fragment) {\n            // Transparently support React.Fragment and its children.\n            routes.push.apply(routes, $2e634cb2b6e12a73$export$16da398f5434bdec(element.props.children, treePath));\n            return;\n        }\n        !(element.type === $2e634cb2b6e12a73$export$e7b0ac011bb776c6) && (0, $c846480b5114588d$export$3e9cee6b33872309)(false);\n        !(!element.props.index || !element.props.children) && (0, $c846480b5114588d$export$3e9cee6b33872309)(false);\n        let route = {\n            id: element.props.id || treePath.join(\"-\"),\n            caseSensitive: element.props.caseSensitive,\n            element: element.props.element,\n            Component: element.props.Component,\n            index: element.props.index,\n            path: element.props.path,\n            loader: element.props.loader,\n            action: element.props.action,\n            errorElement: element.props.errorElement,\n            ErrorBoundary: element.props.ErrorBoundary,\n            hasErrorBoundary: element.props.ErrorBoundary != null || element.props.errorElement != null,\n            shouldRevalidate: element.props.shouldRevalidate,\n            handle: element.props.handle,\n            lazy: element.props.lazy\n        };\n        if (element.props.children) route.children = $2e634cb2b6e12a73$export$16da398f5434bdec(element.props.children, treePath);\n        routes.push(route);\n    });\n    return routes;\n}\n/**\n * Renders the result of `matchRoutes()` into a React element.\n */ function $2e634cb2b6e12a73$export$daf73786167a7f72(matches) {\n    return $2e634cb2b6e12a73$var$_renderMatches(matches);\n}\nfunction $2e634cb2b6e12a73$export$52b333d321859367(route) {\n    let updates = {\n        // Note: this check also occurs in createRoutesFromChildren so update\n        // there if you change this -- please and thank you!\n        hasErrorBoundary: route.ErrorBoundary != null || route.errorElement != null\n    };\n    if (route.Component) Object.assign(updates, {\n        element: /*#__PURE__*/ $d51ff6fbc6548743$exports.createElement(route.Component),\n        Component: undefined\n    });\n    if (route.ErrorBoundary) Object.assign(updates, {\n        errorElement: /*#__PURE__*/ $d51ff6fbc6548743$exports.createElement(route.ErrorBoundary),\n        ErrorBoundary: undefined\n    });\n    return updates;\n}\nfunction $2e634cb2b6e12a73$export$f30f7e456d254e83(routes, opts) {\n    return (0, $c846480b5114588d$export$baddd0131ee8c05b)({\n        basename: opts == null ? void 0 : opts.basename,\n        future: $2e634cb2b6e12a73$var$_extends({}, opts == null ? void 0 : opts.future, {\n            v7_prependBasename: true\n        }),\n        history: (0, $c846480b5114588d$export$2b76ad033c6e6d08)({\n            initialEntries: opts == null ? void 0 : opts.initialEntries,\n            initialIndex: opts == null ? void 0 : opts.initialIndex\n        }),\n        hydrationData: opts == null ? void 0 : opts.hydrationData,\n        routes: routes,\n        mapRouteProperties: $2e634cb2b6e12a73$export$52b333d321859367\n    }).initialize();\n}\n\n\n\nfunction $34f84368c0c9d98a$var$_extends() {\n    $34f84368c0c9d98a$var$_extends = Object.assign ? Object.assign.bind() : function(target) {\n        for(var i = 1; i < arguments.length; i++){\n            var source = arguments[i];\n            for(var key in source)if (Object.prototype.hasOwnProperty.call(source, key)) target[key] = source[key];\n        }\n        return target;\n    };\n    return $34f84368c0c9d98a$var$_extends.apply(this, arguments);\n}\nfunction $34f84368c0c9d98a$var$_objectWithoutPropertiesLoose(source, excluded) {\n    if (source == null) return {};\n    var target = {};\n    var sourceKeys = Object.keys(source);\n    var key, i;\n    for(i = 0; i < sourceKeys.length; i++){\n        key = sourceKeys[i];\n        if (excluded.indexOf(key) >= 0) continue;\n        target[key] = source[key];\n    }\n    return target;\n}\nconst $34f84368c0c9d98a$var$defaultMethod = \"get\";\nconst $34f84368c0c9d98a$var$defaultEncType = \"application/x-www-form-urlencoded\";\nfunction $34f84368c0c9d98a$var$isHtmlElement(object) {\n    return object != null && typeof object.tagName === \"string\";\n}\nfunction $34f84368c0c9d98a$var$isButtonElement(object) {\n    return $34f84368c0c9d98a$var$isHtmlElement(object) && object.tagName.toLowerCase() === \"button\";\n}\nfunction $34f84368c0c9d98a$var$isFormElement(object) {\n    return $34f84368c0c9d98a$var$isHtmlElement(object) && object.tagName.toLowerCase() === \"form\";\n}\nfunction $34f84368c0c9d98a$var$isInputElement(object) {\n    return $34f84368c0c9d98a$var$isHtmlElement(object) && object.tagName.toLowerCase() === \"input\";\n}\nfunction $34f84368c0c9d98a$var$isModifiedEvent(event) {\n    return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n}\nfunction $34f84368c0c9d98a$var$shouldProcessLinkClick(event, target) {\n    return event.button === 0 && // Ignore everything but left clicks\n    (!target || target === \"_self\") && // Let browser handle \"target=_blank\" etc.\n    !$34f84368c0c9d98a$var$isModifiedEvent(event) // Ignore clicks with modifier keys\n    ;\n}\n/**\n * Creates a URLSearchParams object using the given initializer.\n *\n * This is identical to `new URLSearchParams(init)` except it also\n * supports arrays as values in the object form of the initializer\n * instead of just strings. This is convenient when you need multiple\n * values for a given key, but don't want to use an array initializer.\n *\n * For example, instead of:\n *\n *   let searchParams = new URLSearchParams([\n *     ['sort', 'name'],\n *     ['sort', 'price']\n *   ]);\n *\n * you can do:\n *\n *   let searchParams = createSearchParams({\n *     sort: ['name', 'price']\n *   });\n */ function $34f84368c0c9d98a$export$a2e4e2dcc7b1f22f(init) {\n    if (init === void 0) init = \"\";\n    return new URLSearchParams(typeof init === \"string\" || Array.isArray(init) || init instanceof URLSearchParams ? init : Object.keys(init).reduce((memo, key)=>{\n        let value = init[key];\n        return memo.concat(Array.isArray(value) ? value.map((v)=>[\n                key,\n                v\n            ]) : [\n            [\n                key,\n                value\n            ]\n        ]);\n    }, []));\n}\nfunction $34f84368c0c9d98a$var$getSearchParamsForLocation(locationSearch, defaultSearchParams) {\n    let searchParams = $34f84368c0c9d98a$export$a2e4e2dcc7b1f22f(locationSearch);\n    if (defaultSearchParams) // Use `defaultSearchParams.forEach(...)` here instead of iterating of\n    // `defaultSearchParams.keys()` to work-around a bug in Firefox related to\n    // web extensions. Relevant Bugzilla tickets:\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=1414602\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=1023984\n    defaultSearchParams.forEach((_, key)=>{\n        if (!searchParams.has(key)) defaultSearchParams.getAll(key).forEach((value)=>{\n            searchParams.append(key, value);\n        });\n    });\n    return searchParams;\n}\n// One-time check for submitter support\nlet $34f84368c0c9d98a$var$_formDataSupportsSubmitter = null;\nfunction $34f84368c0c9d98a$var$isFormDataSubmitterSupported() {\n    if ($34f84368c0c9d98a$var$_formDataSupportsSubmitter === null) try {\n        new FormData(document.createElement(\"form\"), // @ts-expect-error if FormData supports the submitter parameter, this will throw\n        0);\n        $34f84368c0c9d98a$var$_formDataSupportsSubmitter = false;\n    } catch (e) {\n        $34f84368c0c9d98a$var$_formDataSupportsSubmitter = true;\n    }\n    return $34f84368c0c9d98a$var$_formDataSupportsSubmitter;\n}\nconst $34f84368c0c9d98a$var$supportedFormEncTypes = new Set([\n    \"application/x-www-form-urlencoded\",\n    \"multipart/form-data\",\n    \"text/plain\"\n]);\nfunction $34f84368c0c9d98a$var$getFormEncType(encType) {\n    if (encType != null && !$34f84368c0c9d98a$var$supportedFormEncTypes.has(encType)) return null;\n    return encType;\n}\nfunction $34f84368c0c9d98a$var$getFormSubmissionInfo(target, basename) {\n    let method;\n    let action;\n    let encType;\n    let formData;\n    let body;\n    if ($34f84368c0c9d98a$var$isFormElement(target)) {\n        // When grabbing the action from the element, it will have had the basename\n        // prefixed to ensure non-JS scenarios work, so strip it since we'll\n        // re-prefix in the router\n        let attr = target.getAttribute(\"action\");\n        action = attr ? (0, $c846480b5114588d$export$b69e3301ce081aa3)(attr, basename) : null;\n        method = target.getAttribute(\"method\") || $34f84368c0c9d98a$var$defaultMethod;\n        encType = $34f84368c0c9d98a$var$getFormEncType(target.getAttribute(\"enctype\")) || $34f84368c0c9d98a$var$defaultEncType;\n        formData = new FormData(target);\n    } else if ($34f84368c0c9d98a$var$isButtonElement(target) || $34f84368c0c9d98a$var$isInputElement(target) && (target.type === \"submit\" || target.type === \"image\")) {\n        let form = target.form;\n        if (form == null) throw new Error('Cannot submit a <button> or <input type=\"submit\"> without a <form>');\n        // <button>/<input type=\"submit\"> may override attributes of <form>\n        // When grabbing the action from the element, it will have had the basename\n        // prefixed to ensure non-JS scenarios work, so strip it since we'll\n        // re-prefix in the router\n        let attr = target.getAttribute(\"formaction\") || form.getAttribute(\"action\");\n        action = attr ? (0, $c846480b5114588d$export$b69e3301ce081aa3)(attr, basename) : null;\n        method = target.getAttribute(\"formmethod\") || form.getAttribute(\"method\") || $34f84368c0c9d98a$var$defaultMethod;\n        encType = $34f84368c0c9d98a$var$getFormEncType(target.getAttribute(\"formenctype\")) || $34f84368c0c9d98a$var$getFormEncType(form.getAttribute(\"enctype\")) || $34f84368c0c9d98a$var$defaultEncType;\n        // Build a FormData object populated from a form and submitter\n        formData = new FormData(form, target);\n        // If this browser doesn't support the `FormData(el, submitter)` format,\n        // then tack on the submitter value at the end.  This is a lightweight\n        // solution that is not 100% spec compliant.  For complete support in older\n        // browsers, consider using the `formdata-submitter-polyfill` package\n        if (!$34f84368c0c9d98a$var$isFormDataSubmitterSupported()) {\n            let { name: name, type: type, value: value } = target;\n            if (type === \"image\") {\n                let prefix = name ? name + \".\" : \"\";\n                formData.append(prefix + \"x\", \"0\");\n                formData.append(prefix + \"y\", \"0\");\n            } else if (name) formData.append(name, value);\n        }\n    } else if ($34f84368c0c9d98a$var$isHtmlElement(target)) throw new Error('Cannot submit element that is not <form>, <button>, or <input type=\"submit|image\">');\n    else {\n        method = $34f84368c0c9d98a$var$defaultMethod;\n        action = null;\n        encType = $34f84368c0c9d98a$var$defaultEncType;\n        body = target;\n    }\n    // Send body for <Form encType=\"text/plain\" so we encode it into text\n    if (formData && encType === \"text/plain\") {\n        body = formData;\n        formData = undefined;\n    }\n    return {\n        action: action,\n        method: method.toLowerCase(),\n        encType: encType,\n        formData: formData,\n        body: body\n    };\n}\nconst $34f84368c0c9d98a$var$_excluded = [\n    \"onClick\",\n    \"relative\",\n    \"reloadDocument\",\n    \"replace\",\n    \"state\",\n    \"target\",\n    \"to\",\n    \"preventScrollReset\"\n], $34f84368c0c9d98a$var$_excluded2 = [\n    \"aria-current\",\n    \"caseSensitive\",\n    \"className\",\n    \"end\",\n    \"style\",\n    \"to\",\n    \"children\"\n], $34f84368c0c9d98a$var$_excluded3 = [\n    \"reloadDocument\",\n    \"replace\",\n    \"state\",\n    \"method\",\n    \"action\",\n    \"onSubmit\",\n    \"submit\",\n    \"relative\",\n    \"preventScrollReset\"\n];\nfunction $34f84368c0c9d98a$export$1f3f55432a00e06d(routes, opts) {\n    return (0, $c846480b5114588d$export$baddd0131ee8c05b)({\n        basename: opts == null ? void 0 : opts.basename,\n        future: $34f84368c0c9d98a$var$_extends({}, opts == null ? void 0 : opts.future, {\n            v7_prependBasename: true\n        }),\n        history: (0, $c846480b5114588d$export$719fc203c4e16dee)({\n            window: opts == null ? void 0 : opts.window\n        }),\n        hydrationData: (opts == null ? void 0 : opts.hydrationData) || $34f84368c0c9d98a$var$parseHydrationData(),\n        routes: routes,\n        mapRouteProperties: (0, $2e634cb2b6e12a73$export$52b333d321859367)\n    }).initialize();\n}\nfunction $34f84368c0c9d98a$export$1ba7ed8a3a7b3765(routes, opts) {\n    return (0, $c846480b5114588d$export$baddd0131ee8c05b)({\n        basename: opts == null ? void 0 : opts.basename,\n        future: $34f84368c0c9d98a$var$_extends({}, opts == null ? void 0 : opts.future, {\n            v7_prependBasename: true\n        }),\n        history: (0, $c846480b5114588d$export$b71fdd3798280242)({\n            window: opts == null ? void 0 : opts.window\n        }),\n        hydrationData: (opts == null ? void 0 : opts.hydrationData) || $34f84368c0c9d98a$var$parseHydrationData(),\n        routes: routes,\n        mapRouteProperties: (0, $2e634cb2b6e12a73$export$52b333d321859367)\n    }).initialize();\n}\nfunction $34f84368c0c9d98a$var$parseHydrationData() {\n    var _window;\n    let state = (_window = window) == null ? void 0 : _window.__staticRouterHydrationData;\n    if (state && state.errors) state = $34f84368c0c9d98a$var$_extends({}, state, {\n        errors: $34f84368c0c9d98a$var$deserializeErrors(state.errors)\n    });\n    return state;\n}\nfunction $34f84368c0c9d98a$var$deserializeErrors(errors) {\n    if (!errors) return null;\n    let entries = Object.entries(errors);\n    let serialized = {};\n    for (let [key, val] of entries){\n        // Hey you!  If you change this, please change the corresponding logic in\n        // serializeErrors in react-router-dom/server.tsx :)\n        if (val && val.__type === \"RouteErrorResponse\") serialized[key] = new (0, $c846480b5114588d$export$acf1a680051f5031)(val.status, val.statusText, val.data, val.internal === true);\n        else if (val && val.__type === \"Error\") {\n            // Attempt to reconstruct the right type of Error (i.e., ReferenceError)\n            if (val.__subType) {\n                let ErrorConstructor = window[val.__subType];\n                if (typeof ErrorConstructor === \"function\") try {\n                    // @ts-expect-error\n                    let error = new ErrorConstructor(val.message);\n                    // Wipe away the client-side stack trace.  Nothing to fill it in with\n                    // because we don't serialize SSR stack traces for security reasons\n                    error.stack = \"\";\n                    serialized[key] = error;\n                } catch (e) {\n                // no-op - fall through and create a normal Error\n                }\n            }\n            if (serialized[key] == null) {\n                let error = new Error(val.message);\n                // Wipe away the client-side stack trace.  Nothing to fill it in with\n                // because we don't serialize SSR stack traces for security reasons\n                error.stack = \"\";\n                serialized[key] = error;\n            }\n        } else serialized[key] = val;\n    }\n    return serialized;\n}\n//#endregion\n////////////////////////////////////////////////////////////////////////////////\n//#region Components\n////////////////////////////////////////////////////////////////////////////////\n/**\n  Webpack + React 17 fails to compile on any of the following because webpack\n  complains that `startTransition` doesn't exist in `React`:\n  * import { startTransition } from \"react\"\n  * import * as React from from \"react\";\n    \"startTransition\" in React ? React.startTransition(() => setState()) : setState()\n  * import * as React from from \"react\";\n    \"startTransition\" in React ? React[\"startTransition\"](() => setState()) : setState()\n\n  Moving it to a constant such as the following solves the Webpack/React 17 issue:\n  * import * as React from from \"react\";\n    const START_TRANSITION = \"startTransition\";\n    START_TRANSITION in React ? React[START_TRANSITION](() => setState()) : setState()\n\n  However, that introduces webpack/terser minification issues in production builds\n  in React 18 where minification/obfuscation ends up removing the call of\n  React.startTransition entirely from the first half of the ternary.  Grabbing\n  this exported reference once up front resolves that issue.\n\n  See https://github.com/remix-run/react-router/issues/10579\n*/ const $34f84368c0c9d98a$var$START_TRANSITION = \"startTransition\";\nconst $34f84368c0c9d98a$var$startTransitionImpl = $d51ff6fbc6548743$exports[$34f84368c0c9d98a$var$START_TRANSITION];\n/**\n * A `<Router>` for use in web browsers. Provides the cleanest URLs.\n */ function $34f84368c0c9d98a$export$9ba4e89fdfa1fc54(_ref) {\n    let { basename: basename, children: children, future: future, window: window1 } = _ref;\n    let historyRef = $d51ff6fbc6548743$exports.useRef();\n    if (historyRef.current == null) historyRef.current = (0, $c846480b5114588d$export$719fc203c4e16dee)({\n        window: window1,\n        v5Compat: true\n    });\n    let history = historyRef.current;\n    let [state, setStateImpl] = $d51ff6fbc6548743$exports.useState({\n        action: history.action,\n        location: history.location\n    });\n    let { v7_startTransition: v7_startTransition } = future || {};\n    let setState = $d51ff6fbc6548743$exports.useCallback((newState)=>{\n        v7_startTransition && $34f84368c0c9d98a$var$startTransitionImpl ? $34f84368c0c9d98a$var$startTransitionImpl(()=>setStateImpl(newState)) : setStateImpl(newState);\n    }, [\n        setStateImpl,\n        v7_startTransition\n    ]);\n    $d51ff6fbc6548743$exports.useLayoutEffect(()=>history.listen(setState), [\n        history,\n        setState\n    ]);\n    return /*#__PURE__*/ $d51ff6fbc6548743$exports.createElement((0, $2e634cb2b6e12a73$export$55185c17a0fcbe46), {\n        basename: basename,\n        children: children,\n        location: state.location,\n        navigationType: state.action,\n        navigator: history\n    });\n}\n/**\n * A `<Router>` for use in web browsers. Stores the location in the hash\n * portion of the URL so it is not sent to the server.\n */ function $34f84368c0c9d98a$export$7221d69dcfc8e36b(_ref2) {\n    let { basename: basename, children: children, future: future, window: window1 } = _ref2;\n    let historyRef = $d51ff6fbc6548743$exports.useRef();\n    if (historyRef.current == null) historyRef.current = (0, $c846480b5114588d$export$b71fdd3798280242)({\n        window: window1,\n        v5Compat: true\n    });\n    let history = historyRef.current;\n    let [state, setStateImpl] = $d51ff6fbc6548743$exports.useState({\n        action: history.action,\n        location: history.location\n    });\n    let { v7_startTransition: v7_startTransition } = future || {};\n    let setState = $d51ff6fbc6548743$exports.useCallback((newState)=>{\n        v7_startTransition && $34f84368c0c9d98a$var$startTransitionImpl ? $34f84368c0c9d98a$var$startTransitionImpl(()=>setStateImpl(newState)) : setStateImpl(newState);\n    }, [\n        setStateImpl,\n        v7_startTransition\n    ]);\n    $d51ff6fbc6548743$exports.useLayoutEffect(()=>history.listen(setState), [\n        history,\n        setState\n    ]);\n    return /*#__PURE__*/ $d51ff6fbc6548743$exports.createElement((0, $2e634cb2b6e12a73$export$55185c17a0fcbe46), {\n        basename: basename,\n        children: children,\n        location: state.location,\n        navigationType: state.action,\n        navigator: history\n    });\n}\n/**\n * A `<Router>` that accepts a pre-instantiated history object. It's important\n * to note that using your own history object is highly discouraged and may add\n * two versions of the history library to your bundles unless you use the same\n * version of the history library that React Router uses internally.\n */ function $34f84368c0c9d98a$export$eefb0c834599897e(_ref3) {\n    let { basename: basename, children: children, future: future, history: history } = _ref3;\n    let [state, setStateImpl] = $d51ff6fbc6548743$exports.useState({\n        action: history.action,\n        location: history.location\n    });\n    let { v7_startTransition: v7_startTransition } = future || {};\n    let setState = $d51ff6fbc6548743$exports.useCallback((newState)=>{\n        v7_startTransition && $34f84368c0c9d98a$var$startTransitionImpl ? $34f84368c0c9d98a$var$startTransitionImpl(()=>setStateImpl(newState)) : setStateImpl(newState);\n    }, [\n        setStateImpl,\n        v7_startTransition\n    ]);\n    $d51ff6fbc6548743$exports.useLayoutEffect(()=>history.listen(setState), [\n        history,\n        setState\n    ]);\n    return /*#__PURE__*/ $d51ff6fbc6548743$exports.createElement((0, $2e634cb2b6e12a73$export$55185c17a0fcbe46), {\n        basename: basename,\n        children: children,\n        location: state.location,\n        navigationType: state.action,\n        navigator: history\n    });\n}\nconst $34f84368c0c9d98a$var$isBrowser = typeof window !== \"undefined\" && typeof window.document !== \"undefined\" && typeof window.document.createElement !== \"undefined\";\nconst $34f84368c0c9d98a$var$ABSOLUTE_URL_REGEX = /^(?:[a-z][a-z0-9+.-]*:|\\/\\/)/i;\n/**\n * The public API for rendering a history-aware <a>.\n */ const $34f84368c0c9d98a$export$a6c7ac8248d6e38a = /*#__PURE__*/ $d51ff6fbc6548743$exports.forwardRef(function LinkWithRef(_ref4, ref) {\n    let { onClick: onClick, relative: relative, reloadDocument: reloadDocument, replace: replace, state: state, target: target, to: to, preventScrollReset: preventScrollReset } = _ref4, rest = $34f84368c0c9d98a$var$_objectWithoutPropertiesLoose(_ref4, $34f84368c0c9d98a$var$_excluded);\n    let { basename: basename } = $d51ff6fbc6548743$exports.useContext((0, $2e634cb2b6e12a73$export$26749e8557646306));\n    // Rendered into <a href> for absolute URLs\n    let absoluteHref;\n    let isExternal = false;\n    if (typeof to === \"string\" && $34f84368c0c9d98a$var$ABSOLUTE_URL_REGEX.test(to)) {\n        // Render the absolute href server- and client-side\n        absoluteHref = to;\n        // Only check for external origins client-side\n        if ($34f84368c0c9d98a$var$isBrowser) try {\n            let currentUrl = new URL(window.location.href);\n            let targetUrl = to.startsWith(\"//\") ? new URL(currentUrl.protocol + to) : new URL(to);\n            let path = (0, $c846480b5114588d$export$b69e3301ce081aa3)(targetUrl.pathname, basename);\n            if (targetUrl.origin === currentUrl.origin && path != null) // Strip the protocol/origin/basename for same-origin absolute URLs\n            to = path + targetUrl.search + targetUrl.hash;\n            else isExternal = true;\n        } catch (e) {}\n    }\n    // Rendered into <a href> for relative URLs\n    let href = (0, $2e634cb2b6e12a73$export$b66bb29c5006f12f)(to, {\n        relative: relative\n    });\n    let internalOnClick = $34f84368c0c9d98a$export$67621102c14d847(to, {\n        replace: replace,\n        state: state,\n        target: target,\n        preventScrollReset: preventScrollReset,\n        relative: relative\n    });\n    function handleClick(event) {\n        if (onClick) onClick(event);\n        if (!event.defaultPrevented) internalOnClick(event);\n    }\n    return(/*#__PURE__*/ // eslint-disable-next-line jsx-a11y/anchor-has-content\n    $d51ff6fbc6548743$exports.createElement(\"a\", $34f84368c0c9d98a$var$_extends({}, rest, {\n        href: absoluteHref || href,\n        onClick: isExternal || reloadDocument ? onClick : handleClick,\n        ref: ref,\n        target: target\n    })));\n});\n/**\n * A <Link> wrapper that knows if it's \"active\" or not.\n */ const $34f84368c0c9d98a$export$b0d92dbee9b5b60d = /*#__PURE__*/ $d51ff6fbc6548743$exports.forwardRef(function NavLinkWithRef(_ref5, ref) {\n    let { \"aria-current\": ariaCurrentProp = \"page\", caseSensitive: caseSensitive = false, className: classNameProp = \"\", end: end = false, style: styleProp, to: to, children: children } = _ref5, rest = $34f84368c0c9d98a$var$_objectWithoutPropertiesLoose(_ref5, $34f84368c0c9d98a$var$_excluded2);\n    let path = (0, $2e634cb2b6e12a73$export$e75d2a2d1b3c245b)(to, {\n        relative: rest.relative\n    });\n    let location = (0, $2e634cb2b6e12a73$export$45d76561a5302f2b)();\n    let routerState = $d51ff6fbc6548743$exports.useContext((0, $2e634cb2b6e12a73$export$145dfa71566a64dc));\n    let { navigator: navigator } = $d51ff6fbc6548743$exports.useContext((0, $2e634cb2b6e12a73$export$26749e8557646306));\n    let toPathname = navigator.encodeLocation ? navigator.encodeLocation(path).pathname : path.pathname;\n    let locationPathname = location.pathname;\n    let nextLocationPathname = routerState && routerState.navigation && routerState.navigation.location ? routerState.navigation.location.pathname : null;\n    if (!caseSensitive) {\n        locationPathname = locationPathname.toLowerCase();\n        nextLocationPathname = nextLocationPathname ? nextLocationPathname.toLowerCase() : null;\n        toPathname = toPathname.toLowerCase();\n    }\n    let isActive = locationPathname === toPathname || !end && locationPathname.startsWith(toPathname) && locationPathname.charAt(toPathname.length) === \"/\";\n    let isPending = nextLocationPathname != null && (nextLocationPathname === toPathname || !end && nextLocationPathname.startsWith(toPathname) && nextLocationPathname.charAt(toPathname.length) === \"/\");\n    let ariaCurrent = isActive ? ariaCurrentProp : undefined;\n    let className;\n    if (typeof classNameProp === \"function\") className = classNameProp({\n        isActive: isActive,\n        isPending: isPending\n    });\n    else // If the className prop is not a function, we use a default `active`\n    // class for <NavLink />s that are active. In v5 `active` was the default\n    // value for `activeClassName`, but we are removing that API and can still\n    // use the old default behavior for a cleaner upgrade path and keep the\n    // simple styling rules working as they currently do.\n    className = [\n        classNameProp,\n        isActive ? \"active\" : null,\n        isPending ? \"pending\" : null\n    ].filter(Boolean).join(\" \");\n    let style = typeof styleProp === \"function\" ? styleProp({\n        isActive: isActive,\n        isPending: isPending\n    }) : styleProp;\n    return /*#__PURE__*/ $d51ff6fbc6548743$exports.createElement($34f84368c0c9d98a$export$a6c7ac8248d6e38a, $34f84368c0c9d98a$var$_extends({}, rest, {\n        \"aria-current\": ariaCurrent,\n        className: className,\n        ref: ref,\n        style: style,\n        to: to\n    }), typeof children === \"function\" ? children({\n        isActive: isActive,\n        isPending: isPending\n    }) : children);\n});\n/**\n * A `@remix-run/router`-aware `<form>`. It behaves like a normal form except\n * that the interaction with the server is with `fetch` instead of new document\n * requests, allowing components to add nicer UX to the page as the form is\n * submitted and returns with data.\n */ const $34f84368c0c9d98a$export$a7fed597f4b8afd8 = /*#__PURE__*/ $d51ff6fbc6548743$exports.forwardRef((props, ref)=>{\n    let submit = $34f84368c0c9d98a$export$47c85c6e3a081d3();\n    return /*#__PURE__*/ $d51ff6fbc6548743$exports.createElement($34f84368c0c9d98a$var$FormImpl, $34f84368c0c9d98a$var$_extends({}, props, {\n        submit: submit,\n        ref: ref\n    }));\n});\nconst $34f84368c0c9d98a$var$FormImpl = /*#__PURE__*/ $d51ff6fbc6548743$exports.forwardRef((_ref6, forwardedRef)=>{\n    let { reloadDocument: reloadDocument, replace: replace, state: state, method: method = $34f84368c0c9d98a$var$defaultMethod, action: action, onSubmit: onSubmit, submit: submit, relative: relative, preventScrollReset: preventScrollReset } = _ref6, props = $34f84368c0c9d98a$var$_objectWithoutPropertiesLoose(_ref6, $34f84368c0c9d98a$var$_excluded3);\n    let formMethod = method.toLowerCase() === \"get\" ? \"get\" : \"post\";\n    let formAction = $34f84368c0c9d98a$export$89a6bd6db0d97c56(action, {\n        relative: relative\n    });\n    let submitHandler = (event)=>{\n        onSubmit && onSubmit(event);\n        if (event.defaultPrevented) return;\n        event.preventDefault();\n        let submitter = event.nativeEvent.submitter;\n        let submitMethod = (submitter == null ? void 0 : submitter.getAttribute(\"formmethod\")) || method;\n        submit(submitter || event.currentTarget, {\n            method: submitMethod,\n            replace: replace,\n            state: state,\n            relative: relative,\n            preventScrollReset: preventScrollReset\n        });\n    };\n    return /*#__PURE__*/ $d51ff6fbc6548743$exports.createElement(\"form\", $34f84368c0c9d98a$var$_extends({\n        ref: forwardedRef,\n        method: formMethod,\n        action: formAction,\n        onSubmit: reloadDocument ? onSubmit : submitHandler\n    }, props));\n});\n/**\n * This component will emulate the browser's scroll restoration on location\n * changes.\n */ function $34f84368c0c9d98a$export$11aac1aab828f1fa(_ref7) {\n    let { getKey: getKey, storageKey: storageKey } = _ref7;\n    $34f84368c0c9d98a$export$25057cfe5591e3e9({\n        getKey: getKey,\n        storageKey: storageKey\n    });\n    return null;\n}\n//#endregion\n////////////////////////////////////////////////////////////////////////////////\n//#region Hooks\n////////////////////////////////////////////////////////////////////////////////\nvar $34f84368c0c9d98a$var$DataRouterHook;\n(function(DataRouterHook) {\n    DataRouterHook[\"UseScrollRestoration\"] = \"useScrollRestoration\";\n    DataRouterHook[\"UseSubmit\"] = \"useSubmit\";\n    DataRouterHook[\"UseSubmitFetcher\"] = \"useSubmitFetcher\";\n    DataRouterHook[\"UseFetcher\"] = \"useFetcher\";\n})($34f84368c0c9d98a$var$DataRouterHook || ($34f84368c0c9d98a$var$DataRouterHook = {}));\nvar $34f84368c0c9d98a$var$DataRouterStateHook;\n(function(DataRouterStateHook) {\n    DataRouterStateHook[\"UseFetchers\"] = \"useFetchers\";\n    DataRouterStateHook[\"UseScrollRestoration\"] = \"useScrollRestoration\";\n})($34f84368c0c9d98a$var$DataRouterStateHook || ($34f84368c0c9d98a$var$DataRouterStateHook = {}));\nfunction $34f84368c0c9d98a$var$getDataRouterConsoleError(hookName) {\n    return hookName + \" must be used within a data router.  See https://reactrouter.com/routers/picking-a-router.\";\n}\nfunction $34f84368c0c9d98a$var$useDataRouterContext(hookName) {\n    let ctx = $d51ff6fbc6548743$exports.useContext((0, $2e634cb2b6e12a73$export$3add0d5dce533e2e));\n    !ctx && (0, $c846480b5114588d$export$3e9cee6b33872309)(false);\n    return ctx;\n}\nfunction $34f84368c0c9d98a$var$useDataRouterState(hookName) {\n    let state = $d51ff6fbc6548743$exports.useContext((0, $2e634cb2b6e12a73$export$145dfa71566a64dc));\n    !state && (0, $c846480b5114588d$export$3e9cee6b33872309)(false);\n    return state;\n}\n/**\n * Handles the click behavior for router `<Link>` components. This is useful if\n * you need to create custom `<Link>` components with the same click behavior we\n * use in our exported `<Link>`.\n */ function $34f84368c0c9d98a$export$67621102c14d847(to, _temp) {\n    let { target: target, replace: replaceProp, state: state, preventScrollReset: preventScrollReset, relative: relative } = _temp === void 0 ? {} : _temp;\n    let navigate = (0, $2e634cb2b6e12a73$export$9770f232ac06a008)();\n    let location = (0, $2e634cb2b6e12a73$export$45d76561a5302f2b)();\n    let path = (0, $2e634cb2b6e12a73$export$e75d2a2d1b3c245b)(to, {\n        relative: relative\n    });\n    return $d51ff6fbc6548743$exports.useCallback((event)=>{\n        if ($34f84368c0c9d98a$var$shouldProcessLinkClick(event, target)) {\n            event.preventDefault();\n            // If the URL hasn't changed, a regular <a> will do a replace instead of\n            // a push, so do the same here unless the replace prop is explicitly set\n            let replace = replaceProp !== undefined ? replaceProp : (0, $c846480b5114588d$export$fe53371bee54353d)(location) === (0, $c846480b5114588d$export$fe53371bee54353d)(path);\n            navigate(to, {\n                replace: replace,\n                state: state,\n                preventScrollReset: preventScrollReset,\n                relative: relative\n            });\n        }\n    }, [\n        location,\n        navigate,\n        path,\n        replaceProp,\n        state,\n        target,\n        to,\n        preventScrollReset,\n        relative\n    ]);\n}\n/**\n * A convenient wrapper for reading and writing search parameters via the\n * URLSearchParams interface.\n */ function $34f84368c0c9d98a$export$f1a78c17382fe22a(defaultInit) {\n    let defaultSearchParamsRef = $d51ff6fbc6548743$exports.useRef($34f84368c0c9d98a$export$a2e4e2dcc7b1f22f(defaultInit));\n    let hasSetSearchParamsRef = $d51ff6fbc6548743$exports.useRef(false);\n    let location = (0, $2e634cb2b6e12a73$export$45d76561a5302f2b)();\n    let searchParams = $d51ff6fbc6548743$exports.useMemo(()=>// Only merge in the defaults if we haven't yet called setSearchParams.\n        // Once we call that we want those to take precedence, otherwise you can't\n        // remove a param with setSearchParams({}) if it has an initial value\n        $34f84368c0c9d98a$var$getSearchParamsForLocation(location.search, hasSetSearchParamsRef.current ? null : defaultSearchParamsRef.current), [\n        location.search\n    ]);\n    let navigate = (0, $2e634cb2b6e12a73$export$9770f232ac06a008)();\n    let setSearchParams = $d51ff6fbc6548743$exports.useCallback((nextInit, navigateOptions)=>{\n        const newSearchParams = $34f84368c0c9d98a$export$a2e4e2dcc7b1f22f(typeof nextInit === \"function\" ? nextInit(searchParams) : nextInit);\n        hasSetSearchParamsRef.current = true;\n        navigate(\"?\" + newSearchParams, navigateOptions);\n    }, [\n        navigate,\n        searchParams\n    ]);\n    return [\n        searchParams,\n        setSearchParams\n    ];\n}\nfunction $34f84368c0c9d98a$var$validateClientSideSubmission() {\n    if (typeof document === \"undefined\") throw new Error(\"You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.\");\n}\n/**\n * Returns a function that may be used to programmatically submit a form (or\n * some arbitrary data) to the server.\n */ function $34f84368c0c9d98a$export$47c85c6e3a081d3() {\n    let { router: router } = $34f84368c0c9d98a$var$useDataRouterContext($34f84368c0c9d98a$var$DataRouterHook.UseSubmit);\n    let { basename: basename } = $d51ff6fbc6548743$exports.useContext((0, $2e634cb2b6e12a73$export$26749e8557646306));\n    let currentRouteId = (0, $2e634cb2b6e12a73$export$5fc8298006ad9e58)();\n    return $d51ff6fbc6548743$exports.useCallback(function(target, options) {\n        if (options === void 0) options = {};\n        $34f84368c0c9d98a$var$validateClientSideSubmission();\n        let { action: action, method: method, encType: encType, formData: formData, body: body } = $34f84368c0c9d98a$var$getFormSubmissionInfo(target, basename);\n        router.navigate(options.action || action, {\n            preventScrollReset: options.preventScrollReset,\n            formData: formData,\n            body: body,\n            formMethod: options.method || method,\n            formEncType: options.encType || encType,\n            replace: options.replace,\n            state: options.state,\n            fromRouteId: currentRouteId\n        });\n    }, [\n        router,\n        basename,\n        currentRouteId\n    ]);\n}\n/**\n * Returns the implementation for fetcher.submit\n */ function $34f84368c0c9d98a$var$useSubmitFetcher(fetcherKey, fetcherRouteId) {\n    let { router: router } = $34f84368c0c9d98a$var$useDataRouterContext($34f84368c0c9d98a$var$DataRouterHook.UseSubmitFetcher);\n    let { basename: basename } = $d51ff6fbc6548743$exports.useContext((0, $2e634cb2b6e12a73$export$26749e8557646306));\n    return $d51ff6fbc6548743$exports.useCallback(function(target, options) {\n        if (options === void 0) options = {};\n        $34f84368c0c9d98a$var$validateClientSideSubmission();\n        let { action: action, method: method, encType: encType, formData: formData, body: body } = $34f84368c0c9d98a$var$getFormSubmissionInfo(target, basename);\n        !(fetcherRouteId != null) && (0, $c846480b5114588d$export$3e9cee6b33872309)(false);\n        router.fetch(fetcherKey, fetcherRouteId, options.action || action, {\n            preventScrollReset: options.preventScrollReset,\n            formData: formData,\n            body: body,\n            formMethod: options.method || method,\n            formEncType: options.encType || encType\n        });\n    }, [\n        router,\n        basename,\n        fetcherKey,\n        fetcherRouteId\n    ]);\n}\n// v7: Eventually we should deprecate this entirely in favor of using the\n// router method directly?\nfunction $34f84368c0c9d98a$export$89a6bd6db0d97c56(action, _temp2) {\n    let { relative: relative } = _temp2 === void 0 ? {} : _temp2;\n    let { basename: basename } = $d51ff6fbc6548743$exports.useContext((0, $2e634cb2b6e12a73$export$26749e8557646306));\n    let routeContext = $d51ff6fbc6548743$exports.useContext((0, $2e634cb2b6e12a73$export$9072aa6dd1f93057));\n    !routeContext && (0, $c846480b5114588d$export$3e9cee6b33872309)(false);\n    let [match] = routeContext.matches.slice(-1);\n    // Shallow clone path so we can modify it below, otherwise we modify the\n    // object referenced by useMemo inside useResolvedPath\n    let path = $34f84368c0c9d98a$var$_extends({}, (0, $2e634cb2b6e12a73$export$e75d2a2d1b3c245b)(action ? action : \".\", {\n        relative: relative\n    }));\n    // Previously we set the default action to \".\". The problem with this is that\n    // `useResolvedPath(\".\")` excludes search params of the resolved URL. This is\n    // the intended behavior of when \".\" is specifically provided as\n    // the form action, but inconsistent w/ browsers when the action is omitted.\n    // https://github.com/remix-run/remix/issues/927\n    let location = (0, $2e634cb2b6e12a73$export$45d76561a5302f2b)();\n    if (action == null) {\n        // Safe to write to this directly here since if action was undefined, we\n        // would have called useResolvedPath(\".\") which will never include a search\n        path.search = location.search;\n        // When grabbing search params from the URL, remove the automatically\n        // inserted ?index param so we match the useResolvedPath search behavior\n        // which would not include ?index\n        if (match.route.index) {\n            let params = new URLSearchParams(path.search);\n            params.delete(\"index\");\n            path.search = params.toString() ? \"?\" + params.toString() : \"\";\n        }\n    }\n    if ((!action || action === \".\") && match.route.index) path.search = path.search ? path.search.replace(/^\\?/, \"?index&\") : \"?index\";\n    // If we're operating within a basename, prepend it to the pathname prior\n    // to creating the form action.  If this is a root navigation, then just use\n    // the raw basename which allows the basename to have full control over the\n    // presence of a trailing slash on root actions\n    if (basename !== \"/\") path.pathname = path.pathname === \"/\" ? basename : (0, $c846480b5114588d$export$86d9a7913e44197e)([\n        basename,\n        path.pathname\n    ]);\n    return (0, $c846480b5114588d$export$fe53371bee54353d)(path);\n}\nfunction $34f84368c0c9d98a$var$createFetcherForm(fetcherKey, routeId) {\n    let FetcherForm = /*#__PURE__*/ $d51ff6fbc6548743$exports.forwardRef((props, ref)=>{\n        let submit = $34f84368c0c9d98a$var$useSubmitFetcher(fetcherKey, routeId);\n        return /*#__PURE__*/ $d51ff6fbc6548743$exports.createElement($34f84368c0c9d98a$var$FormImpl, $34f84368c0c9d98a$var$_extends({}, props, {\n            ref: ref,\n            submit: submit\n        }));\n    });\n    return FetcherForm;\n}\nlet $34f84368c0c9d98a$var$fetcherId = 0;\n/**\n * Interacts with route loaders and actions without causing a navigation. Great\n * for any interaction that stays on the same page.\n */ function $34f84368c0c9d98a$export$5b0d2d9a9921565a() {\n    var _route$matches;\n    let { router: router } = $34f84368c0c9d98a$var$useDataRouterContext($34f84368c0c9d98a$var$DataRouterHook.UseFetcher);\n    let route = $d51ff6fbc6548743$exports.useContext((0, $2e634cb2b6e12a73$export$9072aa6dd1f93057));\n    !route && (0, $c846480b5114588d$export$3e9cee6b33872309)(false);\n    let routeId = (_route$matches = route.matches[route.matches.length - 1]) == null ? void 0 : _route$matches.route.id;\n    !(routeId != null) && (0, $c846480b5114588d$export$3e9cee6b33872309)(false);\n    let [fetcherKey] = $d51ff6fbc6548743$exports.useState(()=>String(++$34f84368c0c9d98a$var$fetcherId));\n    let [Form] = $d51ff6fbc6548743$exports.useState(()=>{\n        !routeId && (0, $c846480b5114588d$export$3e9cee6b33872309)(false);\n        return $34f84368c0c9d98a$var$createFetcherForm(fetcherKey, routeId);\n    });\n    let [load] = $d51ff6fbc6548743$exports.useState(()=>(href)=>{\n            !router && (0, $c846480b5114588d$export$3e9cee6b33872309)(false);\n            !routeId && (0, $c846480b5114588d$export$3e9cee6b33872309)(false);\n            router.fetch(fetcherKey, routeId, href);\n        });\n    let submit = $34f84368c0c9d98a$var$useSubmitFetcher(fetcherKey, routeId);\n    let fetcher = router.getFetcher(fetcherKey);\n    let fetcherWithComponents = $d51ff6fbc6548743$exports.useMemo(()=>$34f84368c0c9d98a$var$_extends({\n            Form: Form,\n            submit: submit,\n            load: load\n        }, fetcher), [\n        fetcher,\n        Form,\n        submit,\n        load\n    ]);\n    $d51ff6fbc6548743$exports.useEffect(()=>{\n        // Is this busted when the React team gets real weird and calls effects\n        // twice on mount?  We really just need to garbage collect here when this\n        // fetcher is no longer around.\n        return ()=>{\n            if (!router) {\n                console.warn(\"No router available to clean up from useFetcher()\");\n                return;\n            }\n            router.deleteFetcher(fetcherKey);\n        };\n    }, [\n        router,\n        fetcherKey\n    ]);\n    return fetcherWithComponents;\n}\n/**\n * Provides all fetchers currently on the page. Useful for layouts and parent\n * routes that need to provide pending/optimistic UI regarding the fetch.\n */ function $34f84368c0c9d98a$export$fa996778a3a31087() {\n    let state = $34f84368c0c9d98a$var$useDataRouterState($34f84368c0c9d98a$var$DataRouterStateHook.UseFetchers);\n    return [\n        ...state.fetchers.values()\n    ];\n}\nconst $34f84368c0c9d98a$var$SCROLL_RESTORATION_STORAGE_KEY = \"react-router-scroll-positions\";\nlet $34f84368c0c9d98a$var$savedScrollPositions = {};\n/**\n * When rendered inside a RouterProvider, will restore scroll positions on navigations\n */ function $34f84368c0c9d98a$export$25057cfe5591e3e9(_temp3) {\n    let { getKey: getKey, storageKey: storageKey } = _temp3 === void 0 ? {} : _temp3;\n    let { router: router } = $34f84368c0c9d98a$var$useDataRouterContext($34f84368c0c9d98a$var$DataRouterHook.UseScrollRestoration);\n    let { restoreScrollPosition: restoreScrollPosition, preventScrollReset: preventScrollReset } = $34f84368c0c9d98a$var$useDataRouterState($34f84368c0c9d98a$var$DataRouterStateHook.UseScrollRestoration);\n    let { basename: basename } = $d51ff6fbc6548743$exports.useContext((0, $2e634cb2b6e12a73$export$26749e8557646306));\n    let location = (0, $2e634cb2b6e12a73$export$45d76561a5302f2b)();\n    let matches = (0, $2e634cb2b6e12a73$export$2378eb7f5ff86053)();\n    let navigation = (0, $2e634cb2b6e12a73$export$d0fd4b7106de2769)();\n    // Trigger manual scroll restoration while we're active\n    $d51ff6fbc6548743$exports.useEffect(()=>{\n        window.history.scrollRestoration = \"manual\";\n        return ()=>{\n            window.history.scrollRestoration = \"auto\";\n        };\n    }, []);\n    // Save positions on pagehide\n    $34f84368c0c9d98a$var$usePageHide($d51ff6fbc6548743$exports.useCallback(()=>{\n        if (navigation.state === \"idle\") {\n            let key = (getKey ? getKey(location, matches) : null) || location.key;\n            $34f84368c0c9d98a$var$savedScrollPositions[key] = window.scrollY;\n        }\n        sessionStorage.setItem(storageKey || $34f84368c0c9d98a$var$SCROLL_RESTORATION_STORAGE_KEY, JSON.stringify($34f84368c0c9d98a$var$savedScrollPositions));\n        window.history.scrollRestoration = \"auto\";\n    }, [\n        storageKey,\n        getKey,\n        navigation.state,\n        location,\n        matches\n    ]));\n    // Read in any saved scroll locations\n    if (typeof document !== \"undefined\") {\n        // eslint-disable-next-line react-hooks/rules-of-hooks\n        $d51ff6fbc6548743$exports.useLayoutEffect(()=>{\n            try {\n                let sessionPositions = sessionStorage.getItem(storageKey || $34f84368c0c9d98a$var$SCROLL_RESTORATION_STORAGE_KEY);\n                if (sessionPositions) $34f84368c0c9d98a$var$savedScrollPositions = JSON.parse(sessionPositions);\n            } catch (e) {\n            // no-op, use default empty object\n            }\n        }, [\n            storageKey\n        ]);\n        // Enable scroll restoration in the router\n        // eslint-disable-next-line react-hooks/rules-of-hooks\n        $d51ff6fbc6548743$exports.useLayoutEffect(()=>{\n            let getKeyWithoutBasename = getKey && basename !== \"/\" ? (location, matches)=>getKey($34f84368c0c9d98a$var$_extends({}, location, {\n                    pathname: (0, $c846480b5114588d$export$b69e3301ce081aa3)(location.pathname, basename) || location.pathname\n                }), matches) : getKey;\n            let disableScrollRestoration = router == null ? void 0 : router.enableScrollRestoration($34f84368c0c9d98a$var$savedScrollPositions, ()=>window.scrollY, getKeyWithoutBasename);\n            return ()=>disableScrollRestoration && disableScrollRestoration();\n        }, [\n            router,\n            basename,\n            getKey\n        ]);\n        // Restore scrolling when state.restoreScrollPosition changes\n        // eslint-disable-next-line react-hooks/rules-of-hooks\n        $d51ff6fbc6548743$exports.useLayoutEffect(()=>{\n            // Explicit false means don't do anything (used for submissions)\n            if (restoreScrollPosition === false) return;\n            // been here before, scroll to it\n            if (typeof restoreScrollPosition === \"number\") {\n                window.scrollTo(0, restoreScrollPosition);\n                return;\n            }\n            // try to scroll to the hash\n            if (location.hash) {\n                let el = document.getElementById(decodeURIComponent(location.hash.slice(1)));\n                if (el) {\n                    el.scrollIntoView();\n                    return;\n                }\n            }\n            // Don't reset if this navigation opted out\n            if (preventScrollReset === true) return;\n            // otherwise go to the top on new locations\n            window.scrollTo(0, 0);\n        }, [\n            location,\n            restoreScrollPosition,\n            preventScrollReset\n        ]);\n    }\n}\n/**\n * Setup a callback to be fired on the window's `beforeunload` event. This is\n * useful for saving some data to `window.localStorage` just before the page\n * refreshes.\n *\n * Note: The `callback` argument should be a function created with\n * `React.useCallback()`.\n */ function $34f84368c0c9d98a$export$c0a586b329cae57d(callback, options) {\n    let { capture: capture } = options || {};\n    $d51ff6fbc6548743$exports.useEffect(()=>{\n        let opts = capture != null ? {\n            capture: capture\n        } : undefined;\n        window.addEventListener(\"beforeunload\", callback, opts);\n        return ()=>{\n            window.removeEventListener(\"beforeunload\", callback, opts);\n        };\n    }, [\n        callback,\n        capture\n    ]);\n}\n/**\n * Setup a callback to be fired on the window's `pagehide` event. This is\n * useful for saving some data to `window.localStorage` just before the page\n * refreshes.  This event is better supported than beforeunload across browsers.\n *\n * Note: The `callback` argument should be a function created with\n * `React.useCallback()`.\n */ function $34f84368c0c9d98a$var$usePageHide(callback, options) {\n    let { capture: capture } = options || {};\n    $d51ff6fbc6548743$exports.useEffect(()=>{\n        let opts = capture != null ? {\n            capture: capture\n        } : undefined;\n        window.addEventListener(\"pagehide\", callback, opts);\n        return ()=>{\n            window.removeEventListener(\"pagehide\", callback, opts);\n        };\n    }, [\n        callback,\n        capture\n    ]);\n}\n/**\n * Wrapper around useBlocker to show a window.confirm prompt to users instead\n * of building a custom UI with useBlocker.\n *\n * Warning: This has *a lot of rough edges* and behaves very differently (and\n * very incorrectly in some cases) across browsers if user click addition\n * back/forward navigations while the confirm is open.  Use at your own risk.\n */ function $34f84368c0c9d98a$export$39f4eb3dbd812741(_ref8) {\n    let { when: when, message: message } = _ref8;\n    let blocker = (0, $2e634cb2b6e12a73$export$2af03a1de5c0910)(when);\n    $d51ff6fbc6548743$exports.useEffect(()=>{\n        if (blocker.state === \"blocked\") {\n            let proceed = window.confirm(message);\n            if (proceed) // This timeout is needed to avoid a weird \"race\" on POP navigations\n            // between the `window.history` revert navigation and the result of\n            // `window.confirm`\n            setTimeout(blocker.proceed, 0);\n            else blocker.reset();\n        }\n    }, [\n        blocker,\n        message\n    ]);\n    $d51ff6fbc6548743$exports.useEffect(()=>{\n        if (blocker.state === \"blocked\" && !when) blocker.reset();\n    }, [\n        blocker,\n        when\n    ]);\n}\n\n\nvar $ec34f7025013ec94$exports = {};\n\n$ec34f7025013ec94$exports = new URL((parcelRequire(\"c1bOu\")).resolve(\"IA7EQ\"), import.meta.url).toString();\n\n\nfunction $53140ff71bd6800b$export$2e2bcd8739ae039() {\n    const [sending, setSending] = (0, $88a9540d1aad6464$export$60241385465d0a34)(false);\n    const [showResetPassword, setShowResetPassword] = (0, $88a9540d1aad6464$export$60241385465d0a34)(false);\n    const navigate = (0, $2e634cb2b6e12a73$export$9770f232ac06a008)();\n    const { t: t } = (0, $23287d5819478a30$export$9fc83ad70ead8663)();\n    (0, $88a9540d1aad6464$export$6d9c69b0de29b591)(()=>{\n        // reroute if already logged in\n        (0, $cd2f6546c5cf5c32$export$ddcffe0146c8f882).get(\"apiKey\").then((apiKey)=>apiKey && navigate(\"/\"));\n        (0, $cd2f6546c5cf5c32$export$ddcffe0146c8f882).reset();\n    }, []);\n    const sendPasswordReset = (e)=>{\n        e.preventDefault();\n        let login = document.getElementById(\"login\").value || \"\";\n        login.toLowerCase();\n        setSending(true);\n        (0, $cd2f6546c5cf5c32$export$7d6f1c8842f9f527).post(\"/api/password-reset-mail\", {\n            mail: login\n        }).then((res)=>{\n            setSending(false);\n            if (res && !res.message) (0, $cd2f6546c5cf5c32$export$5ea928c9faf85bd3).add(t(\"password_reset_mail_sent\"));\n            else (0, $cd2f6546c5cf5c32$export$5ea928c9faf85bd3).add(t(res.message), \"alert-danger\");\n        });\n    };\n    const sendLoginForm = (e)=>{\n        e.preventDefault();\n        setSending(true);\n        let login = document.getElementById(\"login\").value || \"\";\n        login.toLowerCase();\n        const password = document.getElementById(\"password\").value;\n        (0, $cd2f6546c5cf5c32$export$7d6f1c8842f9f527).post(\"/api/login\", {\n            login: login,\n            password: password\n        }).then((res)=>{\n            setSending(false);\n            if (res && res.api_key) (0, $cd2f6546c5cf5c32$export$ddcffe0146c8f882).set(\"apiKey\", res.api_key).then(()=>{\n                (0, $cd2f6546c5cf5c32$export$3e32638432616b6).update().then((user)=>{\n                    let redirect = \"/create-group\";\n                    if (user.data?.default_group) redirect = `/groups/${user?.data[\"default_group\"]}`;\n                    else if (user?.groups[0]) redirect = `/groups/${user?.groups[0].id}`;\n                    navigate(redirect);\n                });\n            });\n            else if (res && res.message) (0, $cd2f6546c5cf5c32$export$5ea928c9faf85bd3).add(t(res.message), \"alert-danger\");\n            else (0, $cd2f6546c5cf5c32$export$5ea928c9faf85bd3).add(t(\"error\"), \"alert-danger\");\n        });\n    };\n    return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"login\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"login-form\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"img\", {\n        src: new URL($ec34f7025013ec94$exports)\n    }), !showResetPassword && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"form\", null, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"form-group mb-3\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"input\", {\n        type: \"email\",\n        class: \"form-control\",\n        required: true,\n        id: \"login\",\n        placeholder: t(\"login_placeholder\")\n    })), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"form-group\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"input\", {\n        type: \"password\",\n        class: \"form-control\",\n        required: true,\n        id: \"password\",\n        placeholder: t(\"password_placeholder\")\n    })), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"forgot-password\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"span\", {\n        onClick: ()=>setShowResetPassword(true)\n    }, t(\"forgot_password\"))), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"button\", {\n        type: \"submit\",\n        class: \"btn btn-light\",\n        onClick: (e)=>sendLoginForm(e),\n        disabled: sending\n    }, t(\"connect\"))), !!showResetPassword && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"form\", null, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"form-group mb-3\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"input\", {\n        type: \"email\",\n        class: \"form-control\",\n        required: true,\n        id: \"login\",\n        placeholder: t(\"login_placeholder\")\n    })), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"button\", {\n        type: \"submit\",\n        class: \"btn btn-light\",\n        onClick: (e)=>sendPasswordReset(e),\n        disabled: sending\n    }, t(\"submit\")))));\n}\n\n\n\n\n\n\nfunction $245fbd49526c814f$export$2e2bcd8739ae039() {\n    const { t: t } = (0, $23287d5819478a30$export$9fc83ad70ead8663)();\n    const navigate = (0, $2e634cb2b6e12a73$export$9770f232ac06a008)();\n    const sendNewPassword = (e)=>{\n        e.preventDefault();\n        (0, $cd2f6546c5cf5c32$export$ddcffe0146c8f882).set(\"apiKey\", \"\");\n        const password = document.getElementById(\"password\").value || \"\";\n        const passwordConfirmation = document.getElementById(\"password_confirmation\").value || \"\";\n        const mail = (0, $cd2f6546c5cf5c32$export$5375cda95f0b0eb4).getParam(\"mail\");\n        const key = (0, $cd2f6546c5cf5c32$export$5375cda95f0b0eb4).getParam(\"key\");\n        if (mail && password) {\n            if (password != passwordConfirmation) {\n                (0, $cd2f6546c5cf5c32$export$5ea928c9faf85bd3).add(t(\"passwords_dont_match\"));\n                return;\n            }\n            (0, $cd2f6546c5cf5c32$export$7d6f1c8842f9f527).post(\"/api/new-password\", {\n                mail: mail,\n                key: key,\n                password: password\n            }).then((res)=>{\n                if (res.api_key) {\n                    (0, $cd2f6546c5cf5c32$export$ddcffe0146c8f882).set(\"apiKey\", res.api_key);\n                    setTimeout(()=>navigate(\"/\"), 100);\n                } else (0, $cd2f6546c5cf5c32$export$5ea928c9faf85bd3).add(t(res.message));\n            }).catch((res)=>console.warn(res));\n        }\n    };\n    return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"login\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"login-form\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"h2\", {\n        class: \"title\"\n    }, t(\"reset_password_title\")), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"form\", null, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"form-group\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"input\", {\n        type: \"password\",\n        class: \"form-control\",\n        required: true,\n        id: \"password\",\n        placeholder: t(\"new_password_placeholder\")\n    })), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"form-group\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"input\", {\n        type: \"password\",\n        class: \"form-control\",\n        required: true,\n        id: \"password_confirmation\",\n        placeholder: t(\"confirm_password_placeholder\")\n    })), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"button\", {\n        type: \"submit\",\n        class: \"btn btn-light\",\n        onClick: (e)=>sendNewPassword(e)\n    }, t(\"submit\")))));\n}\n\n\n\n\n\n\n\nfunction $7cecaa63b21a4acb$export$2e2bcd8739ae039() {\n    const navigate = (0, $2e634cb2b6e12a73$export$9770f232ac06a008)();\n    const { t: t } = (0, $23287d5819478a30$export$9fc83ad70ead8663)();\n    const sendSignupForm = (e)=>{\n        e.preventDefault();\n        let login = document.getElementById(\"login\").value || \"\";\n        login.toLowerCase();\n        const password = document.getElementById(\"password\").value;\n        (0, $cd2f6546c5cf5c32$export$ddcffe0146c8f882).set(\"apiKey\", \"\");\n        (0, $cd2f6546c5cf5c32$export$7d6f1c8842f9f527).post(\"/api/signup\", {\n            login: login,\n            password: password,\n            invite_key: (0, $cd2f6546c5cf5c32$export$5375cda95f0b0eb4).getParam(\"inviteKey\")\n        }).then((res)=>{\n            if (res && !res.message) {\n                (0, $cd2f6546c5cf5c32$export$ddcffe0146c8f882).set(\"apiKey\", res.api_key);\n                setTimeout(()=>navigate(\"/\"), 100);\n            } else (0, $cd2f6546c5cf5c32$export$5ea928c9faf85bd3).add(t(res.message));\n        });\n    };\n    return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"signup\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"signup-form\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"img\", {\n        src: new URL($ec34f7025013ec94$exports)\n    }), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"welcome lead\"\n    }, t(\"invitation_welcome\")), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"form\", null, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"form-group\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"input\", {\n        type: \"email\",\n        class: \"form-control\",\n        required: true,\n        id: \"login\",\n        placeholder: t(\"login_placeholder\")\n    })), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"form-group\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"input\", {\n        type: \"password\",\n        class: \"form-control\",\n        required: true,\n        id: \"password\",\n        placeholder: t(\"password_placeholder\")\n    })), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"button\", {\n        type: \"submit\",\n        class: \"btn btn-light\",\n        onClick: (e)=>sendSignupForm(e)\n    }, t(\"signup\")))));\n}\n\n\n\n\n\nclass $10fcb144e46b2198$var$StopNotificationEmails extends (0, $73048c6b859c8a02$export$16fa2f45be04daa8) {\n    constructor(){\n        super();\n        (0, $cd2f6546c5cf5c32$export$7d6f1c8842f9f527).get(`/api${window.location.pathname}`).then(()=>{\n            this.setState({\n                message: this.props.t(\"notification_emails_stopped\")\n            });\n        }).catch((err)=>{\n            console.warn(err);\n            this.setState({\n                message: this.props.t(\"error\")\n            });\n        });\n    }\n    render() {\n        return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", null, this.state.message || \"\");\n    }\n}\nvar $10fcb144e46b2198$export$2e2bcd8739ae039 = (0, $ee5bb531210bb8d0$export$2dcb0053efd21124)()($10fcb144e46b2198$var$StopNotificationEmails);\n\n\n\n\n\n\n\n\n\nfunction $6e64521ddde455b6$export$2e2bcd8739ae039(props) {\n    return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $48e0eac2816dd5e6$export$2e2bcd8739ae039), {\n        id: props.id,\n        isChild: true\n    });\n}\n\n\n\n\nfunction $02bd391920972de4$export$2e2bcd8739ae039(props) {\n    const { t: t } = (0, $23287d5819478a30$export$9fc83ad70ead8663)();\n    const [firstDisplayedChild, setFirstDisplayedChild] = (0, $88a9540d1aad6464$export$60241385465d0a34)(0);\n    const [lastDisplayedChild, setLastDisplayedChild] = (0, $88a9540d1aad6464$export$60241385465d0a34)(0);\n    const onNewChild = (event)=>{\n        const newMsg = event.detail;\n        if (newMsg.parent && (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).getId(newMsg.parent) == props.id) // a big number to display all children until the new one. This is not elegant...\n        // The issue is that we can't simply increment lastDisplayedChild as it is not defined here\n        // Another issue is that a user could load a comment in the middle of the list and create a new one...\n        // The real answer is to make a paginated list but that is for another time\n        setLastDisplayedChild(1024);\n    };\n    const displayPreviousChildren = ()=>{\n        setFirstDisplayedChild(Math.max(0, firstDisplayedChild - 10));\n    };\n    const displayNextChildren = ()=>{\n        setLastDisplayedChild(Math.min(props.childMessages.length, lastDisplayedChild + 10));\n    };\n    (0, $88a9540d1aad6464$export$6d9c69b0de29b591)(()=>{\n        window.addEventListener(\"newChild\", onNewChild);\n        let firstDisplayedChild = 0;\n        let lastDisplayedChild = 0;\n        if (props.childMessages.length) {\n            let msgIndex = (0, $cd2f6546c5cf5c32$export$5375cda95f0b0eb4).action ? props.childMessages.findIndex((e)=>e && e.id === (0, $cd2f6546c5cf5c32$export$5375cda95f0b0eb4).action) : -1;\n            if (msgIndex != -1) {\n                firstDisplayedChild = Math.max(0, msgIndex - 1);\n                lastDisplayedChild = Math.min(props.childMessages.length, msgIndex + 1);\n            } else {\n                firstDisplayedChild = props.childMessages && props.childMessages.length - 5; // display the last 5 children\n                lastDisplayedChild = props.childMessages && props.childMessages.length;\n            }\n        }\n        setFirstDisplayedChild(firstDisplayedChild);\n        setLastDisplayedChild(lastDisplayedChild);\n    }, []);\n    if (lastDisplayedChild - firstDisplayedChild < 1 || !props.childMessages) return null;\n    return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"children\"\n    }, firstDisplayedChild > 0 && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"d-flex\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"a\", {\n        class: \"more-coms unselectable\",\n        onClick: ()=>displayPreviousChildren()\n    }, t(\"previous_coms\"))), props.childMessages.map((e, i)=>{\n        if (i < firstDisplayedChild || i > lastDisplayedChild) return null;\n        return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $6e64521ddde455b6$export$2e2bcd8739ae039), {\n            id: e.id,\n            key: e.id\n        });\n    }), lastDisplayedChild + 1 < props.childMessages.length && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"d-flex\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"span\", {\n        class: \"more-coms unselectable\",\n        onClick: ()=>displayNextChildren()\n    }, t(\"next_coms\"))));\n}\n\n\n\n\nfunction $d385cb0a744355a5$export$2e2bcd8739ae039(props) {\n    return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"message-head d-flex\"\n    }, !props.isPublic && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", null, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"img\", {\n        className: `rounded-circle material-shadow avatar${props.author && props.author.name ? \"\" : \" removed-user\"}`,\n        style: (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).backgroundHash(props.author && props.author.name ? props.author && props.author.id : \"\"),\n        src: props.author && props.author.avatar ? (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).crop(props.author.avatar.id, 100, 100) : (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).defaultAvatar,\n        title: props.author && props.author.name ? props.author.name : \"\"\n    })), !props.isChild && !props.isPublic && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"infos\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"span\", {\n        class: \"capitalize author\"\n    }, props.author && props.author.name ? props.author.name : \"\")));\n}\n\n\n\n\n\n\n// Fontawesome icons taken from https://raw.githubusercontent.com/FortAwesome/Font-Awesome/master/js/all.js\nfunction $3e9f5419b3244add$var$FaIcon() {\n    const icons = {\n        regular: {\n            comment: [\n                512,\n                512,\n                [],\n                \"f075\",\n                \"M256 32C114.6 32 0 125.1 0 240c0 47.6 19.9 91.2 52.9 126.3C38 405.7 7 439.1 6.5 439.5c-6.6 7-8.4 17.2-4.6 26S14.4 480 24 480c61.5 0 110-25.7 139.1-46.3C192 442.8 223.2 448 256 448c141.4 0 256-93.1 256-208S397.4 32 256 32zm0 368c-26.7 0-53.1-4.1-78.4-12.1l-22.7-7.2-19.5 13.8c-14.3 10.1-33.9 21.4-57.5 29 7.3-12.1 14.4-25.7 19.9-40.2l10.6-28.1-20.6-21.8C69.7 314.1 48 282.2 48 240c0-88.2 93.3-160 208-160s208 71.8 208 160-93.3 160-208 160z\"\n            ],\n            bookmark: [\n                384,\n                512,\n                [],\n                \"f02e\",\n                \"M336 0H48C21.49 0 0 21.49 0 48v464l192-112 192 112V48c0-26.51-21.49-48-48-48zm0 428.43l-144-84-144 84V54a6 6 0 0 1 6-6h276c3.314 0 6 2.683 6 5.996V428.43z\"\n            ],\n            images: [\n                576,\n                512,\n                [],\n                \"f302\",\n                \"M480 416v16c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V176c0-26.51 21.49-48 48-48h16v48H54a6 6 0 0 0-6 6v244a6 6 0 0 0 6 6h372a6 6 0 0 0 6-6v-10h48zm42-336H150a6 6 0 0 0-6 6v244a6 6 0 0 0 6 6h372a6 6 0 0 0 6-6V86a6 6 0 0 0-6-6zm6-48c26.51 0 48 21.49 48 48v256c0 26.51-21.49 48-48 48H144c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h384zM264 144c0 22.091-17.909 40-40 40s-40-17.909-40-40 17.909-40 40-40 40 17.909 40 40zm-72 96l39.515-39.515c4.686-4.686 12.284-4.686 16.971 0L288 240l103.515-103.515c4.686-4.686 12.284-4.686 16.971 0L480 208v80H192v-48z\"\n            ],\n            \"check-circle\": [\n                512,\n                512,\n                [],\n                \"f058\",\n                \"M256 8C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm0 48c110.532 0 200 89.451 200 200 0 110.532-89.451 200-200 200-110.532 0-200-89.451-200-200 0-110.532 89.451-200 200-200m140.204 130.267l-22.536-22.718c-4.667-4.705-12.265-4.736-16.97-.068L215.346 303.697l-59.792-60.277c-4.667-4.705-12.265-4.736-16.97-.069l-22.719 22.536c-4.705 4.667-4.736 12.265-.068 16.971l90.781 91.516c4.667 4.705 12.265 4.736 16.97.068l172.589-171.204c4.704-4.668 4.734-12.266.067-16.971z\"\n            ],\n            \"file-pdf\": [\n                384,\n                512,\n                [],\n                \"f1c1\",\n                \"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm250.2-143.7c-12.2-12-47-8.7-64.4-6.5-17.2-10.5-28.7-25-36.8-46.3 3.9-16.1 10.1-40.6 5.4-56-4.2-26.2-37.8-23.6-42.6-5.9-4.4 16.1-.4 38.5 7 67.1-10 23.9-24.9 56-35.4 74.4-20 10.3-47 26.2-51 46.2-3.3 15.8 26 55.2 76.1-31.2 22.4-7.4 46.8-16.5 68.4-20.1 18.9 10.2 41 17 55.8 17 25.5 0 28-28.2 17.5-38.7zm-198.1 77.8c5.1-13.7 24.5-29.5 30.4-35-19 30.3-30.4 35.7-30.4 35zm81.6-190.6c7.4 0 6.7 32.1 1.8 40.8-4.4-13.9-4.3-40.8-1.8-40.8zm-24.4 136.6c9.7-16.9 18-37 24.7-54.7 8.3 15.1 18.9 27.2 30.1 35.5-20.8 4.3-38.9 13.1-54.8 19.2zm131.6-5s-5 6-37.3-7.8c35.1-2.6 40.9 5.4 37.3 7.8z\"\n            ],\n            bell: [\n                448,\n                512,\n                [],\n                \"f0f3\",\n                \"M439.39 362.29c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71zM67.53 368c21.22-27.97 44.42-74.33 44.53-159.42 0-.2-.06-.38-.06-.58 0-61.86 50.14-112 112-112s112 50.14 112 112c0 .2-.06.38-.06.58.11 85.1 23.31 131.46 44.53 159.42H67.53zM224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64z\"\n            ],\n            \"level-down-alt\": [\n                320,\n                512,\n                [],\n                \"f3be\",\n                \"M313.553 392.331L209.587 504.334c-9.485 10.214-25.676 10.229-35.174 0L70.438 392.331C56.232 377.031 67.062 352 88.025 352H152V80H68.024a11.996 11.996 0 0 1-8.485-3.515l-56-56C-4.021 12.926 1.333 0 12.024 0H208c13.255 0 24 10.745 24 24v328h63.966c20.878 0 31.851 24.969 17.587 40.331z\"\n            ]\n        },\n        solid: {\n            bookmark: [\n                384,\n                512,\n                [],\n                \"f02e\",\n                \"M0 512V48C0 21.49 21.49 0 48 0h288c26.51 0 48 21.49 48 48v464L192 400 0 512z\"\n            ],\n            comment: [\n                512,\n                512,\n                [],\n                \"f075\",\n                \"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32z\"\n            ],\n            \"pencil-alt\": [\n                512,\n                512,\n                [],\n                \"f303\",\n                \"M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z\"\n            ],\n            \"arrow-left\": [\n                448,\n                512,\n                [],\n                \"f060\",\n                \"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z\"\n            ],\n            \"caret-down\": [\n                320,\n                512,\n                [],\n                \"f0d7\",\n                \"M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z\"\n            ],\n            film: [\n                512,\n                512,\n                [],\n                \"f008\",\n                \"M488 64h-8v20c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12V64H96v20c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12V64h-8C10.7 64 0 74.7 0 88v336c0 13.3 10.7 24 24 24h8v-20c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v20h320v-20c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v20h8c13.3 0 24-10.7 24-24V88c0-13.3-10.7-24-24-24zM96 372c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm272 208c0 6.6-5.4 12-12 12H156c-6.6 0-12-5.4-12-12v-96c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v96zm0-168c0 6.6-5.4 12-12 12H156c-6.6 0-12-5.4-12-12v-96c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v96zm112 152c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40z\"\n            ],\n            times: [\n                352,\n                512,\n                [],\n                \"f00d\",\n                \"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z\"\n            ],\n            bell: [\n                448,\n                512,\n                [],\n                \"f0f3\",\n                \"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z\"\n            ],\n            \"ellipsis-h\": [\n                512,\n                512,\n                [],\n                \"f141\",\n                \"M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z\"\n            ],\n            search: [\n                512,\n                512,\n                [],\n                \"f002\",\n                \"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z\"\n            ],\n            \"headphones-alt\": [\n                512,\n                512,\n                [],\n                \"f58f\",\n                \"M160 288h-16c-35.35 0-64 28.7-64 64.12v63.76c0 35.41 28.65 64.12 64 64.12h16c17.67 0 32-14.36 32-32.06V320.06c0-17.71-14.33-32.06-32-32.06zm208 0h-16c-17.67 0-32 14.35-32 32.06v127.88c0 17.7 14.33 32.06 32 32.06h16c35.35 0 64-28.71 64-64.12v-63.76c0-35.41-28.65-64.12-64-64.12zM256 32C112.91 32 4.57 151.13 0 288v112c0 8.84 7.16 16 16 16h16c8.84 0 16-7.16 16-16V288c0-114.67 93.33-207.8 208-207.82 114.67.02 208 93.15 208 207.82v112c0 8.84 7.16 16 16 16h16c8.84 0 16-7.16 16-16V288C507.43 151.13 399.09 32 256 32z\"\n            ]\n        }\n    };\n    const icon = icons[this.props.family][this.props.icon];\n    if (icon) return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"svg\", {\n        style: this.props.rotation ? `transform: rotate(${this.props.rotation})` : null,\n        className: `fa-icon ${this.props.family} ${this.props.icon}`,\n        viewBox: `0 0 ${icon[0]} ${icon[1]}`\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"path\", {\n        fill: \"currentColor\",\n        d: icon[4]\n    }));\n}\nvar $3e9f5419b3244add$export$2e2bcd8739ae039 = $3e9f5419b3244add$var$FaIcon;\n\n\nconst $607f51540ffcd426$export$8b29a4b6778bf7f = (0, $3e9f5419b3244add$export$2e2bcd8739ae039);\n\n\n\n\n\n\n\n\n\n\nfunction $1d71a8627c3cc4ca$export$2e2bcd8739ae039(props) {\n    const { t: t } = (0, $23287d5819478a30$export$9fc83ad70ead8663)();\n    const groupId = (0, $88a9540d1aad6464$export$60241385465d0a34)(props.id);\n    const [loaded, setLoaded] = (0, $88a9540d1aad6464$export$60241385465d0a34)(false);\n    const [search, setSearch] = (0, $88a9540d1aad6464$export$60241385465d0a34)(\"\");\n    const [hashtags, setHashtags] = (0, $88a9540d1aad6464$export$60241385465d0a34)(\"\");\n    const [messages, setMessages] = (0, $88a9540d1aad6464$export$60241385465d0a34)([]);\n    const loadMessages = ()=>{\n        const search = (0, $cd2f6546c5cf5c32$export$5375cda95f0b0eb4).getParam(\"q\");\n        const hashtags = (0, $cd2f6546c5cf5c32$export$5375cda95f0b0eb4).getParam(\"hashtags\");\n        setSearch(search);\n        setHashtags(hashtags);\n        setLoaded(false);\n        setMessages([]);\n        (0, $cd2f6546c5cf5c32$export$7d6f1c8842f9f527).post(\"/api/messages/search\", {\n            group: groupId,\n            search: search,\n            hashtags: hashtags\n        }).then((res)=>{\n            if (res && Array.isArray(res[\"messages\"])) {\n                setSearch(search);\n                setMessages(res[\"messages\"]);\n                setLoaded(true);\n            }\n        });\n    };\n    (0, $88a9540d1aad6464$export$6d9c69b0de29b591)(()=>{\n        loadMessages();\n        window.addEventListener(\"groupSearch\", loadMessages);\n        return ()=>{\n            window.removeEventListener(\"groupSearch\", loadMessages);\n        };\n    }, []);\n    if (!Array.isArray(messages)) return;\n    return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", null, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"article\", {\n        id: \"group\",\n        class: \"justify-content-center d-flex\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"search-results-container container-fluid d-flex justify-content-center flex-wrap\"\n    }, messages.length == 0 && !loaded && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"p\", null, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"mt-5 spinner orange-spinner\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", null), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", null), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", null), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", null), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", null))), messages.length == 0 && loaded && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"p\", null, t(\"search_without_result\")), messages.map((msg, i)=>{\n        return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $6a345a2434031edc$export$423dfe6469a8e0dd), {\n            tabindex: i + 1,\n            key: msg.id,\n            message: msg,\n            groupId: groupId,\n            search: search,\n            hashtags: hashtags\n        });\n    }))));\n}\n\n\n\n\n\nfunction $86c0079f7dba3fbc$export$2e2bcd8739ae039() {\n    let params = (0, $2e634cb2b6e12a73$export$99eaa27ddbbb95ef)();\n    return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"main\", null, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $520fa8871428281e$export$42cfbb80f7861e77), null), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"content\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"article\", {\n        class: \"mb-3\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"container pb-3\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $520fa8871428281e$export$8eb86eb08c0b5c12), {\n        key: params.id,\n        id: params.id\n    })))));\n}\n\n\n\n\n\n\nfunction $bdb02e7be54f3bf7$export$2e2bcd8739ae039() {\n    const { t: t } = (0, $23287d5819478a30$export$9fc83ad70ead8663)();\n    return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $73048c6b859c8a02$export$ffb0004e005737fa), null, this.props.groups && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"nav-link dropdown groups unselectable\",\n        tabindex: \"-1\",\n        onClick: (e)=>e.currentTarget.classList.toggle(\"active\")\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"unselectable pr-1\"\n    }, t(\"groups\"), \" \", (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $607f51540ffcd426$export$8b29a4b6778bf7f), {\n        family: \"solid\",\n        icon: \"caret-down\"\n    })), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"dropdown-menu dropdown-left\"\n    }, this.props.groups.filter((e)=>!!e).map((e)=>(0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $34f84368c0c9d98a$export$a6c7ac8248d6e38a), {\n            key: e.id,\n            to: `/groups/${e.id}`,\n            class: \"d-block seamless-link unselectable\"\n        }, e.name)), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $34f84368c0c9d98a$export$a6c7ac8248d6e38a), {\n        to: \"/create-group\",\n        class: \"seamless-link unselectable\"\n    }, `+ ${t(\"create_a_group\")}`))));\n}\n\n\n\n\n\n\n\n\n\n\nlet $5fa7d79990e2bc5d$export$554ccc96b126a426 = (0, $73048c6b859c8a02$export$fd42f52fd3ae1109)();\nlet $5fa7d79990e2bc5d$var$useIsomorphicLayoutEffect = typeof window !== \"undefined\" ? (0, $88a9540d1aad6464$export$e5c5a5f917a5871c) : (0, $88a9540d1aad6464$export$6d9c69b0de29b591);\nlet $5fa7d79990e2bc5d$export$b5d7ee322abba39e = (context)=>(...keys)=>{\n        let store = (0, $88a9540d1aad6464$export$fae74005e78b1a27)(context);\n        let rerender = (0, $88a9540d1aad6464$export$60241385465d0a34)({});\n        $5fa7d79990e2bc5d$var$useIsomorphicLayoutEffect(()=>{\n            return store.on(\"@changed\", (_, changed)=>{\n                let changesInKeys = keys.some((key)=>key in changed);\n                if (changesInKeys) rerender[1]({});\n            });\n        }, []);\n        return (0, $88a9540d1aad6464$export$1538c33de8887b59)(()=>{\n            let state = store.get();\n            let data = {};\n            keys.forEach((key)=>{\n                data[key] = state[key];\n            });\n            data.dispatch = store.dispatch;\n            return data;\n        }, [\n            rerender[0]\n        ]);\n    };\nlet $5fa7d79990e2bc5d$export$11aeef812f154e9e = $5fa7d79990e2bc5d$export$b5d7ee322abba39e($5fa7d79990e2bc5d$export$554ccc96b126a426);\nlet $5fa7d79990e2bc5d$export$c8172487361f669f = (...keys)=>{\n    let Component = keys.pop();\n    return (0, $d51ff6fbc6548743$export$257a8862b851cb5b)((originProps, ref)=>{\n        let props = {\n            ...originProps,\n            ...$5fa7d79990e2bc5d$export$11aeef812f154e9e(...keys),\n            ref: ref\n        };\n        return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(Component, props);\n    });\n};\n\n\n\nfunction $a069a14e59ed06ba$export$2e2bcd8739ae039() {\n    const { t: t } = (0, $23287d5819478a30$export$9fc83ad70ead8663)();\n    const { bookmarks: bookmarks } = (0, $5fa7d79990e2bc5d$export$11aeef812f154e9e)(\"bookmarks\");\n    const { me: me } = (0, $5fa7d79990e2bc5d$export$11aeef812f154e9e)(\"me\");\n    return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"main-nav nav align-items-center z-index-100\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"navbar-block\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"menu dropdown cursor-pointer\",\n        tabindex: \"-1\",\n        onClick: (e)=>e.currentTarget.classList.toggle(\"active\")\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"rounded-circle avatar unselectable\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"img\", {\n        class: \"rounded-circle\",\n        style: (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).backgroundHash(me.id),\n        src: me.avatar ? (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).crop(me.avatar[\"id\"], 80, 80) : (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).defaultAvatar,\n        onError: (e)=>e.currentTarget.src = (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).defaultAvatar\n    })), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"dropdown-menu dropdown-right\"\n    }, bookmarks?.length > 0 && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $34f84368c0c9d98a$export$a6c7ac8248d6e38a), {\n        class: \"d-block seamless-link capitalize\",\n        to: \"/bookmarks\"\n    }, t(\"bookmarks\")), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $34f84368c0c9d98a$export$a6c7ac8248d6e38a), {\n        class: \"d-block seamless-link capitalize\",\n        to: `/users/${me.id}/settings`\n    }, t(\"settings\")), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $34f84368c0c9d98a$export$a6c7ac8248d6e38a), {\n        class: \"d-block seamless-link capitalize\",\n        to: \"/logout\"\n    }, t(\"logout\")))), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $520fa8871428281e$export$2d8ae0bb40c793f6), null)), [\n        \"messages\",\n        \"groups\"\n    ].includes((0, $cd2f6546c5cf5c32$export$5375cda95f0b0eb4).route) && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $be03c4de42ac64ff$export$4b85d3515bd863a5), null), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"navbar-block\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $520fa8871428281e$export$ffe0a8eecde78dfa), {\n        groups: me.groups\n    })));\n}\n\n\n\n\n\n\n\n\nfunction $664ade9a4f66382d$var$_extends() {\n    $664ade9a4f66382d$var$_extends = Object.assign ? Object.assign.bind() : function(target) {\n        for(var i = 1; i < arguments.length; i++){\n            var source = arguments[i];\n            for(var key in source)if (Object.prototype.hasOwnProperty.call(source, key)) target[key] = source[key];\n        }\n        return target;\n    };\n    return $664ade9a4f66382d$var$_extends.apply(this, arguments);\n}\nfunction $664ade9a4f66382d$export$2e2bcd8739ae039() {\n    const { t: t } = (0, $23287d5819478a30$export$9fc83ad70ead8663)();\n    const { notifications: notifications } = (0, $5fa7d79990e2bc5d$export$11aeef812f154e9e)(\"notifications\");\n    if (!notifications) return null;\n    return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        className: `menu dropdown${notifications.length ? \" cursor-pointer\" : \"\"}`,\n        title: t(\"notifications\"),\n        tabindex: \"-1\",\n        onClick: (e)=>notifications.length && e.currentTarget.classList.toggle(\"active\")\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"unselectable button-with-count\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $607f51540ffcd426$export$8b29a4b6778bf7f), {\n        family: notifications.length ? \"solid\" : \"regular\",\n        icon: \"bell\"\n    }), !!notifications.filter((n)=>!n.read).length && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"unread-badge\"\n    })), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"dropdown-menu dropdown-right notifications-menu\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"notification-header\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"strong\", {\n        class: \"capitalize\"\n    }, t(\"notifications\")), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"action capitalize\",\n        onClick: ()=>{\n            (0, $cd2f6546c5cf5c32$export$6008d97729a90c74).markAllNotificationsAsRead();\n        }\n    }, t(\"mark_all_as_read\"))), notifications?.length && notifications.sort((a, b)=>b.createdAt - a.createdAt).slice(0, (0, $cd2f6546c5cf5c32$export$6008d97729a90c74).LIMIT).map((e)=>(0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $be03c4de42ac64ff$export$14834abbfce3b8cd), $664ade9a4f66382d$var$_extends({\n            key: e.id + e.read\n        }, e)))));\n}\n\n\nconst $520fa8871428281e$export$8eb86eb08c0b5c12 = (0, $1d71a8627c3cc4ca$export$2e2bcd8739ae039);\nconst $520fa8871428281e$export$5cc34a6155e65c0e = (0, $86c0079f7dba3fbc$export$2e2bcd8739ae039);\nconst $520fa8871428281e$export$ffe0a8eecde78dfa = (0, $bdb02e7be54f3bf7$export$2e2bcd8739ae039);\nconst $520fa8871428281e$export$42cfbb80f7861e77 = (0, $a069a14e59ed06ba$export$2e2bcd8739ae039);\nconst $520fa8871428281e$export$2d8ae0bb40c793f6 = (0, $664ade9a4f66382d$export$2e2bcd8739ae039);\n\n\n\nfunction $6f8b52f4496f3b9a$export$2e2bcd8739ae039() {\n    const { bookmarks: bookmarks } = (0, $5fa7d79990e2bc5d$export$11aeef812f154e9e)(\"bookmarks\");\n    if (!bookmarks) return null;\n    if (!Array.isArray(bookmarks) || bookmarks.length < 1) return;\n    return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"main\", null, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $520fa8871428281e$export$42cfbb80f7861e77), null), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"content\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"article\", {\n        id: \"group\",\n        class: \"justify-content-center d-flex\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"message-container container-fluid d-flex justify-content-center flex-wrap\"\n    }, bookmarks.map((b, i)=>{\n        return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $6a345a2434031edc$export$84c965ec8b6b0f92), {\n            tabindex: i + 1,\n            key: b.message.id,\n            id: b.message.id\n        });\n    })))));\n}\n\n\n\n\n\n\nclass $dd2a1b0379ca9bf9$var$CreateGroup extends (0, $73048c6b859c8a02$export$16fa2f45be04daa8) {\n    constructor(){\n        super();\n        this.postNewGroup = this.postNewGroup.bind(this);\n    }\n    postNewGroup(event) {\n        event.preventDefault();\n        const name = document.querySelector(\"#create_group_form input[name='name']\").value;\n        let group = {};\n        if (name) group.name = name;\n        else return false;\n        group.createdAt = Math.floor(Date.now() / 1000);\n        (0, $cd2f6546c5cf5c32$export$7d6f1c8842f9f527).post(\"/api/groups\", group).then((res)=>{\n            (0, $cd2f6546c5cf5c32$export$7d6f1c8842f9f527).post(`/api/groups/invitation/${res.secretKey}`, {}).then((res)=>{\n                window.location = (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).toApp(`/groups/${res.id}`);\n            });\n        });\n    }\n    render() {\n        return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"main\", null, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $520fa8871428281e$export$42cfbb80f7861e77), null), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n            class: \"content\"\n        }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n            class: \"container mt-2\"\n        }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n            class: \"group-settings\"\n        }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n            class: \"card\"\n        }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n            class: \"card-body\"\n        }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n            class: \"container-fluid p-1\"\n        }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n            class: \"row\"\n        }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n            class: \"col-12 col-md-10\"\n        }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"form\", {\n            id: \"create_group_form\",\n            class: \"mb-1\"\n        }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n            class: \"form-group\"\n        }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"label\", {\n            for: \"name\"\n        }, this.props.t(\"name\"), \": \"), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"input\", {\n            type: \"text\",\n            name: \"name\",\n            minlength: \"1\",\n            maxlength: \"128\",\n            placeholder: this.props.t(\"name_input\"),\n            class: \"form-control\",\n            required: true\n        })), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"button\", {\n            onClick: (e)=>this.postNewGroup(e),\n            class: \"btn btn-primary\"\n        }, this.props.t(\"create_the_group\"))))))))))));\n    }\n}\nvar $dd2a1b0379ca9bf9$export$2e2bcd8739ae039 = (0, $ee5bb531210bb8d0$export$2dcb0053efd21124)()($dd2a1b0379ca9bf9$var$CreateGroup);\n\n\n\n\n\n\n\nfunction $4016a5cf4497ca7a$export$2e2bcd8739ae039() {\n    let params = (0, $2e634cb2b6e12a73$export$99eaa27ddbbb95ef)();\n    return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"main\", null, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $520fa8871428281e$export$42cfbb80f7861e77), null), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"content\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", null, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", null, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"article\", {\n        id: \"group\",\n        class: \"justify-content-center d-flex\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"message-container container-fluid d-flex justify-content-center flex-wrap\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $6a345a2434031edc$export$89085c7857c3f940), {\n        key: params.id,\n        id: params.id\n    })))), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $34f84368c0c9d98a$export$a6c7ac8248d6e38a), {\n        class: \"write-button material-shadow seamless-link\",\n        to: `/groups/${params.id}/write`\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $607f51540ffcd426$export$8b29a4b6778bf7f), {\n        family: \"solid\",\n        icon: \"pencil-alt\"\n    })))));\n}\n\n\n\n\n\nfunction $aed7e74f78402a69$export$2e2bcd8739ae039(props) {\n    const { t: t } = (0, $23287d5819478a30$export$9fc83ad70ead8663)();\n    // duration relative to event\n    const humanTime = (timestamp)=>{\n        if (!timestamp) return null;\n        const duration = Math.abs(Math.round((Date.now() / 1000 - timestamp) / 60));\n        if (duration < 1) return t(\"just_now\");\n        if (duration < 60) return t(\"ago\", {\n            duration: `${duration}mn`\n        });\n        if (duration < 1440) return t(\"ago\", {\n            duration: `${Math.floor(duration / 60)}h`\n        });\n        return (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).humanFullDate(timestamp).split(\" \")[0];\n    };\n    return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $73048c6b859c8a02$export$ffb0004e005737fa), null, humanTime(props.timestamp));\n}\n\n\n\n\n\n\n\n\nfunction $73f3a1fb1b71c71a$export$2e2bcd8739ae039(props) {\n    const navigate = (0, $2e634cb2b6e12a73$export$9770f232ac06a008)();\n    const { t: t } = (0, $23287d5819478a30$export$9fc83ad70ead8663)();\n    const [target, setTarget] = (0, $88a9540d1aad6464$export$60241385465d0a34)(null);\n    const [action, setAction] = (0, $88a9540d1aad6464$export$60241385465d0a34)(null);\n    const [title, setTitle] = (0, $88a9540d1aad6464$export$60241385465d0a34)(null);\n    const [author, setAuthor] = (0, $88a9540d1aad6464$export$60241385465d0a34)(null);\n    const [notification, setNotification] = (0, $88a9540d1aad6464$export$60241385465d0a34)(null);\n    const getMiniature = (notification)=>{\n        let imgSrc = (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).defaultAvatar;\n        if (notification?.miniature && notification.type != \"global_notification\") imgSrc = (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).crop(notification?.miniature?.id, 80, 80);\n        return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"img\", {\n            style: (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).backgroundHash(notification?.fromUser?.id),\n            src: imgSrc,\n            onError: (e)=>setMiniatureOnError(e)\n        });\n    };\n    const setMiniatureOnError = (event)=>{\n        event.currentTarget.src = (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).defaultAvatar;\n    };\n    const getAction = (notification)=>{\n        switch(notification?.type){\n            case \"new_message\":\n                return t(\"has_posted_in\");\n            case \"new_comment\":\n                return t(\"has_commented_on\");\n            case \"user_joined_group\":\n                return t(\"has_joined\");\n            case \"user_left_group\":\n                return t(\"has_left\");\n            case \"group_name_change\":\n                return t(\"changed_group_name\");\n            default:\n                return \"\";\n        }\n    };\n    const getObject = (notification)=>{\n        switch(notification?.type){\n            case \"new_message\":\n                return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $73048c6b859c8a02$export$ffb0004e005737fa), null, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"strong\", null, notification?.fromGroup.name), title && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $73048c6b859c8a02$export$ffb0004e005737fa), null, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"br\", null), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"small\", null, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"em\", null, (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).limitStrSize(title, 50)))));\n            case \"new_comment\":\n                return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"span\", null, `${t(\"the_message_from\")} `, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"strong\", null, notification?.parentAuthorName), title && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $73048c6b859c8a02$export$ffb0004e005737fa), null, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"br\", null), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"small\", null, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"em\", null, (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).limitStrSize(title, 50)))));\n            case \"user_joined_group\":\n            case \"user_left_group\":\n                return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"strong\", null, notification?.fromGroup.name);\n            case \"group_name_change\":\n                return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"span\", null, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"strong\", null, notification.data[\"previousGroupName\"]), ` ${t(\"to\")} `, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"strong\", null, notification.data[\"newGroupName\"]));\n            case \"global_notification\":\n                return notification.data[\"text\"];\n            default:\n                return \"\";\n        }\n    };\n    const getTarget = (notification, message_id)=>{\n        switch(notification?.type){\n            case \"user_joined_group\":\n            case \"user_left_group\":\n            case \"group_name_change\":\n                return `/groups/${notification.fromGroup.id}`;\n            case \"new_message\":\n                return `/messages/${notification.target}`;\n            case \"new_comment\":\n                return `/messages/${message_id}/${notification.target}`;\n            case \"global_notification\":\n                return notification.target;\n            default:\n                return \"\";\n        }\n    };\n    const onClick = (event, target)=>{\n        event.preventDefault();\n        (0, $cd2f6546c5cf5c32$export$6008d97729a90c74).markAsRead(props.id).then(()=>{\n            navigate(target);\n        });\n    };\n    (0, $88a9540d1aad6464$export$6d9c69b0de29b591)(()=>{\n        (0, $cd2f6546c5cf5c32$export$7d6f1c8842f9f527).get(`/api/notifications/${props.id}`, false, 100).then((n)=>{\n            if (n) {\n                setTarget(getTarget(n, n.fromMessage?.id));\n                setAction(getAction(n));\n                setTitle(n.title);\n                if (n?.fromUser?.id) (0, $cd2f6546c5cf5c32$export$7d6f1c8842f9f527).get(`/api/users/${n.fromUser.id}`).then((u)=>{\n                    setAuthor(u);\n                });\n                setNotification(n);\n            }\n        });\n    }, []);\n    if (!notification) return null;\n    return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $34f84368c0c9d98a$export$a6c7ac8248d6e38a), {\n        key: props.id,\n        class: `notification seamless-link unselectable ${!notification.read ? \"unread\" : \"\"}`,\n        to: target,\n        title: title\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"miniature unselectable\"\n    }, getMiniature(notification)), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"infos\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"description\"\n    }, notification.type != \"global_notification\" && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $73048c6b859c8a02$export$ffb0004e005737fa), null, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"strong\", null, author?.name || \"--\"), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"span\", null, ` ${action} `)), getObject(notification)), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"date\"\n    }, (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).humanTime(notification.createdAt))), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"options dropdown\",\n        onClick: (e)=>{\n            e.stopPropagation();\n            e.preventDefault();\n            e?.target?.closest(\".dropdown\")?.classList.toggle(\"active\");\n        }\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"none-if-follows-empty\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $607f51540ffcd426$export$8b29a4b6778bf7f), {\n        family: \"solid\",\n        icon: \"ellipsis-h\"\n    })), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"dropdown-menu dropdown-options\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"a\", {\n        class: \"seamless-link capitalize\",\n        onClick: ()=>(0, $cd2f6546c5cf5c32$export$6008d97729a90c74).removeMatchingNotifications(notification.id)\n    }, t(\"delete\")))));\n}\n\n\n\n\n\n\nfunction $2ed7e499aaac665f$export$2e2bcd8739ae039() {\n    const params = (0, $2e634cb2b6e12a73$export$99eaa27ddbbb95ef)();\n    const [message, setMessage] = (0, $88a9540d1aad6464$export$60241385465d0a34)(null);\n    (0, $88a9540d1aad6464$export$6d9c69b0de29b591)(()=>{\n        (0, $cd2f6546c5cf5c32$export$7d6f1c8842f9f527).get(`/api/groups/${params.id}/random`).then((m)=>{\n            setMessage(m);\n        });\n    }, []);\n    if (message) return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $2e634cb2b6e12a73$export$444b3ab0cb9aec40), {\n        to: `/messages/${message.id}`,\n        replace: true\n    });\n}\n\n\n\n\n\n\n\nfunction $a06567713ad1b415$export$2e2bcd8739ae039() {\n    const { t: t } = (0, $23287d5819478a30$export$9fc83ad70ead8663)();\n    const navigate = (0, $2e634cb2b6e12a73$export$9770f232ac06a008)();\n    function search(evt) {\n        evt.preventDefault();\n        (0, $cd2f6546c5cf5c32$export$5375cda95f0b0eb4).getEntity().then((entity)=>{\n            let group_id = null;\n            switch(entity.entityType){\n                case \"group\":\n                    group_id = entity.id;\n                    break;\n                case \"message\":\n                    group_id = entity.group.id;\n                    break;\n                default:\n            }\n            // https://stackoverflow.com/a/37511463\n            let searchTerms = document.getElementById(\"search\").value.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\").split(\" \");\n            navigate(`/groups/${group_id}/search?q=${searchTerms.join(\"+\")}`);\n            window.dispatchEvent(new CustomEvent(\"groupSearch\"));\n        });\n    }\n    return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"form\", {\n        class: \"navbar-block search-block\",\n        onSubmit: (e)=>search(e)\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"input-group\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"input\", {\n        class: \"form-control\",\n        type: \"text\",\n        id: \"search\",\n        placeholder: t(\"search_in_group\"),\n        value: (0, $cd2f6546c5cf5c32$export$5375cda95f0b0eb4).getParam(\"q\").replace(/\\+/g, \" \")\n    }), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"input-group-append\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"button\", {\n        class: \"btn btn-secondary\",\n        type: \"submit\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $607f51540ffcd426$export$8b29a4b6778bf7f), {\n        family: \"solid\",\n        icon: \"search\"\n    })))));\n}\n\n\n\n\n\n\n\n\nfunction $37e28339f35f2974$export$2e2bcd8739ae039() {\n    let params = (0, $2e634cb2b6e12a73$export$99eaa27ddbbb95ef)();\n    return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"main\", null, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $520fa8871428281e$export$42cfbb80f7861e77), null), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"content\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"article\", {\n        class: \"mb-3\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"container pb-3\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $b0c42e92c84db02f$export$d7a960146e1a269e), {\n        focus: true,\n        group: params.id\n    })))));\n}\n\n\n\n\n\n\n\n\n// trick from https://stackoverflow.com/a/53837442\nfunction $fe5a7484fb575b8e$var$useForceUpdate() {\n    const [value, setValue] = (0, $88a9540d1aad6464$export$60241385465d0a34)(0); // integer state\n    return ()=>setValue((value)=>value + 1); // update state to force render\n}\nfunction $fe5a7484fb575b8e$export$2e2bcd8739ae039(props) {\n    const { t: t } = (0, $23287d5819478a30$export$9fc83ad70ead8663)();\n    const navigate = (0, $2e634cb2b6e12a73$export$9770f232ac06a008)();\n    const [files, setFiles] = (0, $88a9540d1aad6464$export$60241385465d0a34)(props?.files || []);\n    const [sending, setSending] = (0, $88a9540d1aad6464$export$60241385465d0a34)(false);\n    const [uploading, setUploading] = (0, $88a9540d1aad6464$export$60241385465d0a34)(false);\n    const forceUpdate = $fe5a7484fb575b8e$var$useForceUpdate();\n    const writerId = (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).genId();\n    // This allows to have the latest state of files in callbacks\n    // https://stackoverflow.com/a/60643670\n    const currentFiles = (0, $88a9540d1aad6464$export$b8f5890fc79d6aca)();\n    currentFiles.current = files;\n    const setForm = (writerForm, files = [], title = \"\", text = \"\")=>{\n        setFiles(files);\n        Array.from(writerForm.current.getElementsByClassName(\"title-input\")).map((e)=>e.value = title);\n        Array.from(writerForm.current.getElementsByClassName(\"text-input\")).map((e)=>e.value = text);\n    };\n    const updateFile = (id, file)=>{\n        setFiles(currentFiles.current.map((f)=>f.id === id ? Object.assign(f, file) : f));\n    };\n    const invertFiles = (id_a, id_b)=>{\n        const index_a = files.findIndex((e)=>e.id === id_a);\n        const index_b = files.findIndex((e)=>e.id === id_b);\n        [files[index_a], files[index_b]] = [\n            files[index_b],\n            files[index_a]\n        ];\n        setFiles(files);\n        forceUpdate();\n    };\n    const removeFile = (id)=>{\n        setFiles(files.filter((f)=>f.id != id));\n    };\n    const uploadFile = (fileId)=>{\n        const formData = new FormData();\n        let file = files.find((e)=>e.id == fileId);\n        if (!file || !file.inputFile) {\n            // TODO handle this properly\n            console.error(files, file, fileId);\n            throw \"error\";\n        }\n        formData.append(\"file\", file.inputFile);\n        updateFile(fileId, Object.assign(file, {\n            status: \"uploading\"\n        }));\n        setUploading(true);\n        (0, $cd2f6546c5cf5c32$export$7d6f1c8842f9f527).sendFile(formData, (file)=>{\n            setUploading(false);\n            updateFile(fileId, Object.assign({\n                status: \"ready\"\n            }, file));\n        }, (e)=>{\n            updateFile(fileId, {\n                status: \"uploading\",\n                progress: Math.floor(e.loaded / e.total * 100)\n            });\n        }, (e)=>{\n            setUploading(false);\n            console.warn(e);\n            (0, $cd2f6546c5cf5c32$export$5ea928c9faf85bd3).add(t(\"error_upload\"), \"alert-danger\");\n            removeFile(fileId);\n        });\n    };\n    const putMessage = (msg, writerForm)=>{\n        (0, $cd2f6546c5cf5c32$export$7d6f1c8842f9f527).put(`/api/messages/${props.messageId}`, msg).then((res)=>{\n            setForm(writerForm, [], \"\", \"\");\n            setSending(false);\n            if (!res) {\n                (0, $cd2f6546c5cf5c32$export$5ea928c9faf85bd3).add(t(\"error_new_message\"), \"alert-danger\");\n                return;\n            }\n            window.dispatchEvent(new CustomEvent(\"editMessage\", {\n                detail: res\n            }));\n        });\n        setSending(true);\n    };\n    const postMessage = (msg, writerForm)=>{\n        msg = Object.assign(msg, {\n            createdAt: Math.floor(Date.now() / 1000),\n            author: (0, $cd2f6546c5cf5c32$export$3e32638432616b6).id,\n            group: (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).getId(props.group),\n            children: [],\n            lastActivityDate: Math.floor(Date.now() / 1000)\n        });\n        if (props.parent) msg.parent = (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).getId(props.parent);\n        // don't post if there is nothing to post\n        if (!msg.files.length && !msg.data.text && !msg.data.title) {\n            (0, $cd2f6546c5cf5c32$export$5ea928c9faf85bd3).add(t(\"empty_message\"), \"alert-danger\");\n            return;\n        }\n        (0, $cd2f6546c5cf5c32$export$7d6f1c8842f9f527).post(\"/api/messages\", msg).then((res)=>{\n            if (!res) {\n                setSending(false);\n                (0, $cd2f6546c5cf5c32$export$5ea928c9faf85bd3).add(t(\"error_new_message\"), \"alert-danger\");\n                return;\n            }\n            if (props.isChild) {\n                setSending(false);\n                window.dispatchEvent(new CustomEvent(\"newChild\", {\n                    detail: res\n                }));\n            } else navigate(`/messages/${res.id}`);\n            setForm(writerForm, [], \"\", \"\");\n        });\n        setSending(true);\n    };\n    const sendMessage = (writerForm, data)=>{\n        let msg = {\n            files: files.filter((e)=>!e?.removed).filter((e)=>[\n                    \"ready\",\n                    \"raw\"\n                ].includes(e?.status)).map((e)=>e?.id).filter((e)=>!!e),\n            data: {\n                title: data?.title,\n                text: data?.text\n            }\n        };\n        if (props.messageId) putMessage(msg, writerForm);\n        else postMessage(msg, writerForm);\n    };\n    // toggle state (removed or not) of a file\n    const toggleFile = (id)=>{\n        setFiles(files.map((f)=>{\n            if (f.id == id) f.removed = !f.removed;\n            return f;\n        }));\n    };\n    const addFiles = (mimetype, input_files)=>{\n        let list = Array.from(input_files).map((e)=>({\n                inputFile: e,\n                type: mimetype,\n                id: (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).genId(),\n                progress: 0,\n                status: \"initial\"\n            }));\n        setFiles([\n            ...files,\n            ...list\n        ]);\n    };\n    const inputFile = (mimetype, multiple = false)=>{\n        const input = document.createElement(\"input\");\n        document.body.appendChild(input);\n        input.style.display = \"none\";\n        input.type = \"file\";\n        input.accept = mimetype;\n        if (multiple) input.multiple = \"multiple\";\n        input.addEventListener(\"change\", (event)=>{\n            addFiles(mimetype, event.target.files);\n        });\n        input.click();\n    };\n    (0, $88a9540d1aad6464$export$6d9c69b0de29b591)(()=>{\n        if (files.filter((e)=>e.status === \"uploading\").length < 2) {\n            for(let i = 0; i < files.length; i++)if (files[i].status == \"initial\" && !!files[i].inputFile) {\n                uploadFile(files[i].id);\n                break;\n            }\n        }\n    }, [\n        files\n    ]);\n    return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $b0c42e92c84db02f$export$29beae8571dce55f), {\n        id: writerId,\n        sending: sending,\n        uploading: uploading,\n        inputFile: inputFile,\n        sendMessage: sendMessage,\n        cancel: props.cancel,\n        files: files,\n        toggleFile: toggleFile,\n        invertFiles: invertFiles,\n        addFiles: addFiles,\n        group: props.group,\n        isChild: props.isChild,\n        text: props.text,\n        title: props.title\n    });\n}\n\n\n\n\n\n\n\n\n\nclass $471cd1c649eea7ba$export$2e2bcd8739ae039 extends (0, $73048c6b859c8a02$export$16fa2f45be04daa8) {\n    render() {\n        const embedUrl = `${this.props.url}/size=large/bgcol=f5f5f5/linkcol=0687f5/minimal=true/tracklist=false/`;\n        if (this.state.revealed) return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n            class: \"bandcamp-embed embed-responsive embed-responsive-1by1\"\n        }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"iframe\", {\n            class: \"embed-responsive-item\",\n            src: embedUrl\n        }));\n        return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n            class: \"embed-preview\",\n            onClick: ()=>this.setState({\n                    revealed: true\n                })\n        }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n            class: \"bandcamp\"\n        }), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"img\", {\n            src: this.props.preview\n        }));\n    }\n}\n\n\n\nclass $1dd5e274a4fb4aa6$export$2e2bcd8739ae039 extends (0, $73048c6b859c8a02$export$16fa2f45be04daa8) {\n    render() {\n        if (this.state.revealed) return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n            class: \"embed-responsive embed-responsive-16by9\"\n        }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"iframe\", {\n            allowfullscreen: true,\n            class: \"embed-responsive-item\",\n            src: this.props.url\n        }));\n        return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n            class: \"embed-preview\",\n            onClick: ()=>this.setState({\n                    revealed: true\n                })\n        }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n            className: this.props.playBtnClass\n        }), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"img\", {\n            src: this.props.preview\n        }));\n    }\n}\n\n\nvar $42107f3179039eb0$exports = {};\n!function(e, t) {\n    $42107f3179039eb0$exports = t();\n}($42107f3179039eb0$exports, function() {\n    \"use strict\";\n    function e(t) {\n        return (e = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(e) {\n            return typeof e;\n        } : function(e) {\n            return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n        })(t);\n    }\n    function t(e, t) {\n        if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n    }\n    function i(e, t) {\n        for(var i = 0; i < t.length; i++){\n            var n = t[i];\n            n.enumerable = n.enumerable || !1, n.configurable = !0, \"value\" in n && (n.writable = !0), Object.defineProperty(e, n.key, n);\n        }\n    }\n    function n(e, t, n) {\n        return t && i(e.prototype, t), n && i(e, n), e;\n    }\n    var s = Date.now();\n    function l() {\n        var e = {}, t = !0, i = 0, n = arguments.length;\n        \"[object Boolean]\" === Object.prototype.toString.call(arguments[0]) && (t = arguments[0], i++);\n        for(var s = function(i) {\n            for(var n in i)Object.prototype.hasOwnProperty.call(i, n) && (t && \"[object Object]\" === Object.prototype.toString.call(i[n]) ? e[n] = l(!0, e[n], i[n]) : e[n] = i[n]);\n        }; i < n; i++){\n            var o = arguments[i];\n            s(o);\n        }\n        return e;\n    }\n    function o(e, t) {\n        if ((k(e) || e === window || e === document) && (e = [\n            e\n        ]), A(e) || L(e) || (e = [\n            e\n        ]), 0 != P(e)) {\n            if (A(e) && !L(e)) for(var i = e.length, n = 0; n < i && !1 !== t.call(e[n], e[n], n, e); n++);\n            else if (L(e)) {\n                for(var s in e)if (O(e, s) && !1 === t.call(e[s], e[s], s, e)) break;\n            }\n        }\n    }\n    function r(e) {\n        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null, i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null, n = e[s] = e[s] || [], l = {\n            all: n,\n            evt: null,\n            found: null\n        };\n        return t && i && P(n) > 0 && o(n, function(e, n) {\n            if (e.eventName == t && e.fn.toString() == i.toString()) return l.found = !0, l.evt = n, !1;\n        }), l;\n    }\n    function a(e) {\n        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, i = t.onElement, n = t.withCallback, s = t.avoidDuplicate, l = void 0 === s || s, a = t.once, h = void 0 !== a && a, d = t.useCapture, c = void 0 !== d && d, u = arguments.length > 2 ? arguments[2] : void 0, g = i || [];\n        function v(e) {\n            T(n) && n.call(u, e, this), h && v.destroy();\n        }\n        return C(g) && (g = document.querySelectorAll(g)), v.destroy = function() {\n            o(g, function(t) {\n                var i = r(t, e, v);\n                i.found && i.all.splice(i.evt, 1), t.removeEventListener && t.removeEventListener(e, v, c);\n            });\n        }, o(g, function(t) {\n            var i = r(t, e, v);\n            (t.addEventListener && l && !i.found || !l) && (t.addEventListener(e, v, c), i.all.push({\n                eventName: e,\n                fn: v\n            }));\n        }), v;\n    }\n    function h(e, t) {\n        o(t.split(\" \"), function(t) {\n            return e.classList.add(t);\n        });\n    }\n    function d(e, t) {\n        o(t.split(\" \"), function(t) {\n            return e.classList.remove(t);\n        });\n    }\n    function c(e, t) {\n        return e.classList.contains(t);\n    }\n    function u(e, t) {\n        for(; e !== document.body;){\n            if (!(e = e.parentElement)) return !1;\n            if (\"function\" == typeof e.matches ? e.matches(t) : e.msMatchesSelector(t)) return e;\n        }\n    }\n    function g(e) {\n        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : \"\", i = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];\n        if (!e || \"\" === t) return !1;\n        if (\"none\" === t) return T(i) && i(), !1;\n        var n = x(), s = t.split(\" \");\n        o(s, function(t) {\n            h(e, \"g\" + t);\n        }), a(n, {\n            onElement: e,\n            avoidDuplicate: !1,\n            once: !0,\n            withCallback: function(e, t) {\n                o(s, function(e) {\n                    d(t, \"g\" + e);\n                }), T(i) && i();\n            }\n        });\n    }\n    function v(e) {\n        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : \"\";\n        if (\"\" === t) return e.style.webkitTransform = \"\", e.style.MozTransform = \"\", e.style.msTransform = \"\", e.style.OTransform = \"\", e.style.transform = \"\", !1;\n        e.style.webkitTransform = t, e.style.MozTransform = t, e.style.msTransform = t, e.style.OTransform = t, e.style.transform = t;\n    }\n    function f(e) {\n        e.style.display = \"block\";\n    }\n    function p(e) {\n        e.style.display = \"none\";\n    }\n    function m(e) {\n        var t = document.createDocumentFragment(), i = document.createElement(\"div\");\n        for(i.innerHTML = e; i.firstChild;)t.appendChild(i.firstChild);\n        return t;\n    }\n    function y() {\n        return {\n            width: window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth,\n            height: window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight\n        };\n    }\n    function x() {\n        var e, t = document.createElement(\"fakeelement\"), i = {\n            animation: \"animationend\",\n            OAnimation: \"oAnimationEnd\",\n            MozAnimation: \"animationend\",\n            WebkitAnimation: \"webkitAnimationEnd\"\n        };\n        for(e in i)if (void 0 !== t.style[e]) return i[e];\n    }\n    function b(e, t, i, n) {\n        if (e()) t();\n        else {\n            var s;\n            i || (i = 100);\n            var l = setInterval(function() {\n                e() && (clearInterval(l), s && clearTimeout(s), t());\n            }, i);\n            n && (s = setTimeout(function() {\n                clearInterval(l);\n            }, n));\n        }\n    }\n    function S(e, t, i) {\n        if (I(e)) console.error(\"Inject assets error\");\n        else if (T(t) && (i = t, t = !1), C(t) && t in window) T(i) && i();\n        else {\n            var n;\n            if (-1 !== e.indexOf(\".css\")) {\n                if ((n = document.querySelectorAll('link[href=\"' + e + '\"]')) && n.length > 0) return void (T(i) && i());\n                var s = document.getElementsByTagName(\"head\")[0], l = s.querySelectorAll('link[rel=\"stylesheet\"]'), o = document.createElement(\"link\");\n                return o.rel = \"stylesheet\", o.type = \"text/css\", o.href = e, o.media = \"all\", l ? s.insertBefore(o, l[0]) : s.appendChild(o), void (T(i) && i());\n            }\n            if ((n = document.querySelectorAll('script[src=\"' + e + '\"]')) && n.length > 0) {\n                if (T(i)) {\n                    if (C(t)) return b(function() {\n                        return void 0 !== window[t];\n                    }, function() {\n                        i();\n                    }), !1;\n                    i();\n                }\n            } else {\n                var r = document.createElement(\"script\");\n                r.type = \"text/javascript\", r.src = e, r.onload = function() {\n                    if (T(i)) {\n                        if (C(t)) return b(function() {\n                            return void 0 !== window[t];\n                        }, function() {\n                            i();\n                        }), !1;\n                        i();\n                    }\n                }, document.body.appendChild(r);\n            }\n        }\n    }\n    function w() {\n        return \"navigator\" in window && window.navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(Android)|(PlayBook)|(BB10)|(BlackBerry)|(Opera Mini)|(IEMobile)|(webOS)|(MeeGo)/i);\n    }\n    function T(e) {\n        return \"function\" == typeof e;\n    }\n    function C(e) {\n        return \"string\" == typeof e;\n    }\n    function k(e) {\n        return !(!e || !e.nodeType || 1 != e.nodeType);\n    }\n    function E(e) {\n        return Array.isArray(e);\n    }\n    function A(e) {\n        return e && e.length && isFinite(e.length);\n    }\n    function L(t) {\n        return \"object\" === e(t) && null != t && !T(t) && !E(t);\n    }\n    function I(e) {\n        return null == e;\n    }\n    function O(e, t) {\n        return null !== e && hasOwnProperty.call(e, t);\n    }\n    function P(e) {\n        if (L(e)) {\n            if (e.keys) return e.keys().length;\n            var t = 0;\n            for(var i in e)O(e, i) && t++;\n            return t;\n        }\n        return e.length;\n    }\n    function M(e) {\n        return !isNaN(parseFloat(e)) && isFinite(e);\n    }\n    function z() {\n        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : -1, t = document.querySelectorAll(\".gbtn[data-taborder]:not(.disabled)\");\n        if (!t.length) return !1;\n        if (1 == t.length) return t[0];\n        \"string\" == typeof e && (e = parseInt(e));\n        var i = [];\n        o(t, function(e) {\n            i.push(e.getAttribute(\"data-taborder\"));\n        });\n        var n = Math.max.apply(Math, i.map(function(e) {\n            return parseInt(e);\n        })), s = e < 0 ? 1 : e + 1;\n        s > n && (s = \"1\");\n        var l = i.filter(function(e) {\n            return e >= parseInt(s);\n        }), r = l.sort()[0];\n        return document.querySelector('.gbtn[data-taborder=\"'.concat(r, '\"]'));\n    }\n    function X(e) {\n        if (e.events.hasOwnProperty(\"keyboard\")) return !1;\n        e.events.keyboard = a(\"keydown\", {\n            onElement: window,\n            withCallback: function(t, i) {\n                var n = (t = t || window.event).keyCode;\n                if (9 == n) {\n                    var s = document.querySelector(\".gbtn.focused\");\n                    if (!s) {\n                        var l = !(!document.activeElement || !document.activeElement.nodeName) && document.activeElement.nodeName.toLocaleLowerCase();\n                        if (\"input\" == l || \"textarea\" == l || \"button\" == l) return;\n                    }\n                    t.preventDefault();\n                    var o = document.querySelectorAll(\".gbtn[data-taborder]\");\n                    if (!o || o.length <= 0) return;\n                    if (!s) {\n                        var r = z();\n                        return void (r && (r.focus(), h(r, \"focused\")));\n                    }\n                    var a = z(s.getAttribute(\"data-taborder\"));\n                    d(s, \"focused\"), a && (a.focus(), h(a, \"focused\"));\n                }\n                39 == n && e.nextSlide(), 37 == n && e.prevSlide(), 27 == n && e.close();\n            }\n        });\n    }\n    function Y(e) {\n        return Math.sqrt(e.x * e.x + e.y * e.y);\n    }\n    function q(e, t) {\n        var i = function(e, t) {\n            var i = Y(e) * Y(t);\n            if (0 === i) return 0;\n            var n = function(e, t) {\n                return e.x * t.x + e.y * t.y;\n            }(e, t) / i;\n            return n > 1 && (n = 1), Math.acos(n);\n        }(e, t);\n        return function(e, t) {\n            return e.x * t.y - t.x * e.y;\n        }(e, t) > 0 && (i *= -1), 180 * i / Math.PI;\n    }\n    var N = function() {\n        function e(i) {\n            t(this, e), this.handlers = [], this.el = i;\n        }\n        return n(e, [\n            {\n                key: \"add\",\n                value: function(e) {\n                    this.handlers.push(e);\n                }\n            },\n            {\n                key: \"del\",\n                value: function(e) {\n                    e || (this.handlers = []);\n                    for(var t = this.handlers.length; t >= 0; t--)this.handlers[t] === e && this.handlers.splice(t, 1);\n                }\n            },\n            {\n                key: \"dispatch\",\n                value: function() {\n                    for(var e = 0, t = this.handlers.length; e < t; e++){\n                        var i = this.handlers[e];\n                        \"function\" == typeof i && i.apply(this.el, arguments);\n                    }\n                }\n            }\n        ]), e;\n    }();\n    function D(e, t) {\n        var i = new N(e);\n        return i.add(t), i;\n    }\n    var _ = function() {\n        function e(i, n) {\n            t(this, e), this.element = \"string\" == typeof i ? document.querySelector(i) : i, this.start = this.start.bind(this), this.move = this.move.bind(this), this.end = this.end.bind(this), this.cancel = this.cancel.bind(this), this.element.addEventListener(\"touchstart\", this.start, !1), this.element.addEventListener(\"touchmove\", this.move, !1), this.element.addEventListener(\"touchend\", this.end, !1), this.element.addEventListener(\"touchcancel\", this.cancel, !1), this.preV = {\n                x: null,\n                y: null\n            }, this.pinchStartLen = null, this.zoom = 1, this.isDoubleTap = !1;\n            var s = function() {};\n            this.rotate = D(this.element, n.rotate || s), this.touchStart = D(this.element, n.touchStart || s), this.multipointStart = D(this.element, n.multipointStart || s), this.multipointEnd = D(this.element, n.multipointEnd || s), this.pinch = D(this.element, n.pinch || s), this.swipe = D(this.element, n.swipe || s), this.tap = D(this.element, n.tap || s), this.doubleTap = D(this.element, n.doubleTap || s), this.longTap = D(this.element, n.longTap || s), this.singleTap = D(this.element, n.singleTap || s), this.pressMove = D(this.element, n.pressMove || s), this.twoFingerPressMove = D(this.element, n.twoFingerPressMove || s), this.touchMove = D(this.element, n.touchMove || s), this.touchEnd = D(this.element, n.touchEnd || s), this.touchCancel = D(this.element, n.touchCancel || s), this.translateContainer = this.element, this._cancelAllHandler = this.cancelAll.bind(this), window.addEventListener(\"scroll\", this._cancelAllHandler), this.delta = null, this.last = null, this.now = null, this.tapTimeout = null, this.singleTapTimeout = null, this.longTapTimeout = null, this.swipeTimeout = null, this.x1 = this.x2 = this.y1 = this.y2 = null, this.preTapPosition = {\n                x: null,\n                y: null\n            };\n        }\n        return n(e, [\n            {\n                key: \"start\",\n                value: function(e) {\n                    if (e.touches) {\n                        if (e.target && e.target.nodeName && [\n                            \"a\",\n                            \"button\",\n                            \"input\"\n                        ].indexOf(e.target.nodeName.toLowerCase()) >= 0) console.log(\"ignore drag for this touched element\", e.target.nodeName.toLowerCase());\n                        else {\n                            this.now = Date.now(), this.x1 = e.touches[0].pageX, this.y1 = e.touches[0].pageY, this.delta = this.now - (this.last || this.now), this.touchStart.dispatch(e, this.element), null !== this.preTapPosition.x && (this.isDoubleTap = this.delta > 0 && this.delta <= 250 && Math.abs(this.preTapPosition.x - this.x1) < 30 && Math.abs(this.preTapPosition.y - this.y1) < 30, this.isDoubleTap && clearTimeout(this.singleTapTimeout)), this.preTapPosition.x = this.x1, this.preTapPosition.y = this.y1, this.last = this.now;\n                            var t = this.preV;\n                            if (e.touches.length > 1) {\n                                this._cancelLongTap(), this._cancelSingleTap();\n                                var i = {\n                                    x: e.touches[1].pageX - this.x1,\n                                    y: e.touches[1].pageY - this.y1\n                                };\n                                t.x = i.x, t.y = i.y, this.pinchStartLen = Y(t), this.multipointStart.dispatch(e, this.element);\n                            }\n                            this._preventTap = !1, this.longTapTimeout = setTimeout((function() {\n                                this.longTap.dispatch(e, this.element), this._preventTap = !0;\n                            }).bind(this), 750);\n                        }\n                    }\n                }\n            },\n            {\n                key: \"move\",\n                value: function(e) {\n                    if (e.touches) {\n                        var t = this.preV, i = e.touches.length, n = e.touches[0].pageX, s = e.touches[0].pageY;\n                        if (this.isDoubleTap = !1, i > 1) {\n                            var l = e.touches[1].pageX, o = e.touches[1].pageY, r = {\n                                x: e.touches[1].pageX - n,\n                                y: e.touches[1].pageY - s\n                            };\n                            null !== t.x && (this.pinchStartLen > 0 && (e.zoom = Y(r) / this.pinchStartLen, this.pinch.dispatch(e, this.element)), e.angle = q(r, t), this.rotate.dispatch(e, this.element)), t.x = r.x, t.y = r.y, null !== this.x2 && null !== this.sx2 ? (e.deltaX = (n - this.x2 + l - this.sx2) / 2, e.deltaY = (s - this.y2 + o - this.sy2) / 2) : (e.deltaX = 0, e.deltaY = 0), this.twoFingerPressMove.dispatch(e, this.element), this.sx2 = l, this.sy2 = o;\n                        } else {\n                            if (null !== this.x2) {\n                                e.deltaX = n - this.x2, e.deltaY = s - this.y2;\n                                var a = Math.abs(this.x1 - this.x2), h = Math.abs(this.y1 - this.y2);\n                                (a > 10 || h > 10) && (this._preventTap = !0);\n                            } else e.deltaX = 0, e.deltaY = 0;\n                            this.pressMove.dispatch(e, this.element);\n                        }\n                        this.touchMove.dispatch(e, this.element), this._cancelLongTap(), this.x2 = n, this.y2 = s, i > 1 && e.preventDefault();\n                    }\n                }\n            },\n            {\n                key: \"end\",\n                value: function(e) {\n                    if (e.changedTouches) {\n                        this._cancelLongTap();\n                        var t = this;\n                        e.touches.length < 2 && (this.multipointEnd.dispatch(e, this.element), this.sx2 = this.sy2 = null), this.x2 && Math.abs(this.x1 - this.x2) > 30 || this.y2 && Math.abs(this.y1 - this.y2) > 30 ? (e.direction = this._swipeDirection(this.x1, this.x2, this.y1, this.y2), this.swipeTimeout = setTimeout(function() {\n                            t.swipe.dispatch(e, t.element);\n                        }, 0)) : (this.tapTimeout = setTimeout(function() {\n                            t._preventTap || t.tap.dispatch(e, t.element), t.isDoubleTap && (t.doubleTap.dispatch(e, t.element), t.isDoubleTap = !1);\n                        }, 0), t.isDoubleTap || (t.singleTapTimeout = setTimeout(function() {\n                            t.singleTap.dispatch(e, t.element);\n                        }, 250))), this.touchEnd.dispatch(e, this.element), this.preV.x = 0, this.preV.y = 0, this.zoom = 1, this.pinchStartLen = null, this.x1 = this.x2 = this.y1 = this.y2 = null;\n                    }\n                }\n            },\n            {\n                key: \"cancelAll\",\n                value: function() {\n                    this._preventTap = !0, clearTimeout(this.singleTapTimeout), clearTimeout(this.tapTimeout), clearTimeout(this.longTapTimeout), clearTimeout(this.swipeTimeout);\n                }\n            },\n            {\n                key: \"cancel\",\n                value: function(e) {\n                    this.cancelAll(), this.touchCancel.dispatch(e, this.element);\n                }\n            },\n            {\n                key: \"_cancelLongTap\",\n                value: function() {\n                    clearTimeout(this.longTapTimeout);\n                }\n            },\n            {\n                key: \"_cancelSingleTap\",\n                value: function() {\n                    clearTimeout(this.singleTapTimeout);\n                }\n            },\n            {\n                key: \"_swipeDirection\",\n                value: function(e, t, i, n) {\n                    return Math.abs(e - t) >= Math.abs(i - n) ? e - t > 0 ? \"Left\" : \"Right\" : i - n > 0 ? \"Up\" : \"Down\";\n                }\n            },\n            {\n                key: \"on\",\n                value: function(e, t) {\n                    this[e] && this[e].add(t);\n                }\n            },\n            {\n                key: \"off\",\n                value: function(e, t) {\n                    this[e] && this[e].del(t);\n                }\n            },\n            {\n                key: \"destroy\",\n                value: function() {\n                    return this.singleTapTimeout && clearTimeout(this.singleTapTimeout), this.tapTimeout && clearTimeout(this.tapTimeout), this.longTapTimeout && clearTimeout(this.longTapTimeout), this.swipeTimeout && clearTimeout(this.swipeTimeout), this.element.removeEventListener(\"touchstart\", this.start), this.element.removeEventListener(\"touchmove\", this.move), this.element.removeEventListener(\"touchend\", this.end), this.element.removeEventListener(\"touchcancel\", this.cancel), this.rotate.del(), this.touchStart.del(), this.multipointStart.del(), this.multipointEnd.del(), this.pinch.del(), this.swipe.del(), this.tap.del(), this.doubleTap.del(), this.longTap.del(), this.singleTap.del(), this.pressMove.del(), this.twoFingerPressMove.del(), this.touchMove.del(), this.touchEnd.del(), this.touchCancel.del(), this.preV = this.pinchStartLen = this.zoom = this.isDoubleTap = this.delta = this.last = this.now = this.tapTimeout = this.singleTapTimeout = this.longTapTimeout = this.swipeTimeout = this.x1 = this.x2 = this.y1 = this.y2 = this.preTapPosition = this.rotate = this.touchStart = this.multipointStart = this.multipointEnd = this.pinch = this.swipe = this.tap = this.doubleTap = this.longTap = this.singleTap = this.pressMove = this.touchMove = this.touchEnd = this.touchCancel = this.twoFingerPressMove = null, window.removeEventListener(\"scroll\", this._cancelAllHandler), null;\n                }\n            }\n        ]), e;\n    }();\n    function W(e) {\n        var t = function() {\n            var e, t = document.createElement(\"fakeelement\"), i = {\n                transition: \"transitionend\",\n                OTransition: \"oTransitionEnd\",\n                MozTransition: \"transitionend\",\n                WebkitTransition: \"webkitTransitionEnd\"\n            };\n            for(e in i)if (void 0 !== t.style[e]) return i[e];\n        }(), i = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth, n = c(e, \"gslide-media\") ? e : e.querySelector(\".gslide-media\"), s = u(n, \".ginner-container\"), l = e.querySelector(\".gslide-description\");\n        i > 769 && (n = s), h(n, \"greset\"), v(n, \"translate3d(0, 0, 0)\"), a(t, {\n            onElement: n,\n            once: !0,\n            withCallback: function(e, t) {\n                d(n, \"greset\");\n            }\n        }), n.style.opacity = \"\", l && (l.style.opacity = \"\");\n    }\n    function B(e) {\n        if (e.events.hasOwnProperty(\"touch\")) return !1;\n        var t, i, n, s = y(), l = s.width, o = s.height, r = !1, a = null, g = null, f = null, p = !1, m = 1, x = 1, b = !1, S = !1, w = null, T = null, C = null, k = null, E = 0, A = 0, L = !1, I = !1, O = {}, P = {}, M = 0, z = 0, X = document.getElementById(\"glightbox-slider\"), Y = document.querySelector(\".goverlay\"), q = new _(X, {\n            touchStart: function(t) {\n                if (r = !0, (c(t.targetTouches[0].target, \"ginner-container\") || u(t.targetTouches[0].target, \".gslide-desc\") || \"a\" == t.targetTouches[0].target.nodeName.toLowerCase()) && (r = !1), u(t.targetTouches[0].target, \".gslide-inline\") && !c(t.targetTouches[0].target.parentNode, \"gslide-inline\") && (r = !1), r) {\n                    if (P = t.targetTouches[0], O.pageX = t.targetTouches[0].pageX, O.pageY = t.targetTouches[0].pageY, M = t.targetTouches[0].clientX, z = t.targetTouches[0].clientY, a = e.activeSlide, g = a.querySelector(\".gslide-media\"), n = a.querySelector(\".gslide-inline\"), f = null, c(g, \"gslide-image\") && (f = g.querySelector(\"img\")), (window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth) > 769 && (g = a.querySelector(\".ginner-container\")), d(Y, \"greset\"), t.pageX > 20 && t.pageX < window.innerWidth - 20) return;\n                    t.preventDefault();\n                }\n            },\n            touchMove: function(s) {\n                if (r && (P = s.targetTouches[0], !b && !S)) {\n                    if (n && n.offsetHeight > o) {\n                        var a = O.pageX - P.pageX;\n                        if (Math.abs(a) <= 13) return !1;\n                    }\n                    p = !0;\n                    var h, d = s.targetTouches[0].clientX, c = s.targetTouches[0].clientY, u = M - d, m = z - c;\n                    if (Math.abs(u) > Math.abs(m) ? (L = !1, I = !0) : (I = !1, L = !0), t = P.pageX - O.pageX, E = 100 * t / l, i = P.pageY - O.pageY, A = 100 * i / o, L && f && (h = 1 - Math.abs(i) / o, Y.style.opacity = h, e.settings.touchFollowAxis && (E = 0)), I && (h = 1 - Math.abs(t) / l, g.style.opacity = h, e.settings.touchFollowAxis && (A = 0)), !f) return v(g, \"translate3d(\".concat(E, \"%, 0, 0)\"));\n                    v(g, \"translate3d(\".concat(E, \"%, \").concat(A, \"%, 0)\"));\n                }\n            },\n            touchEnd: function() {\n                if (r) {\n                    if (p = !1, S || b) return C = w, void (k = T);\n                    var t = Math.abs(parseInt(A)), i = Math.abs(parseInt(E));\n                    if (!(t > 29 && f)) return t < 29 && i < 25 ? (h(Y, \"greset\"), Y.style.opacity = 1, W(g)) : void 0;\n                    e.close();\n                }\n            },\n            multipointEnd: function() {\n                setTimeout(function() {\n                    b = !1;\n                }, 50);\n            },\n            multipointStart: function() {\n                b = !0, m = x || 1;\n            },\n            pinch: function(e) {\n                if (!f || p) return !1;\n                b = !0, f.scaleX = f.scaleY = m * e.zoom;\n                var t = m * e.zoom;\n                if (S = !0, t <= 1) return S = !1, t = 1, k = null, C = null, w = null, T = null, void f.setAttribute(\"style\", \"\");\n                t > 4.5 && (t = 4.5), f.style.transform = \"scale3d(\".concat(t, \", \").concat(t, \", 1)\"), x = t;\n            },\n            pressMove: function(e) {\n                if (S && !b) {\n                    var t = P.pageX - O.pageX, i = P.pageY - O.pageY;\n                    C && (t += C), k && (i += k), w = t, T = i;\n                    var n = \"translate3d(\".concat(t, \"px, \").concat(i, \"px, 0)\");\n                    x && (n += \" scale3d(\".concat(x, \", \").concat(x, \", 1)\")), v(f, n);\n                }\n            },\n            swipe: function(t) {\n                if (!S) {\n                    if (b) b = !1;\n                    else {\n                        if (\"Left\" == t.direction) {\n                            if (e.index == e.elements.length - 1) return W(g);\n                            e.nextSlide();\n                        }\n                        if (\"Right\" == t.direction) {\n                            if (0 == e.index) return W(g);\n                            e.prevSlide();\n                        }\n                    }\n                }\n            }\n        });\n        e.events.touch = q;\n    }\n    var H = function() {\n        function e(i, n) {\n            var s = this, l = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null;\n            if (t(this, e), this.img = i, this.slide = n, this.onclose = l, this.img.setZoomEvents) return !1;\n            this.active = !1, this.zoomedIn = !1, this.dragging = !1, this.currentX = null, this.currentY = null, this.initialX = null, this.initialY = null, this.xOffset = 0, this.yOffset = 0, this.img.addEventListener(\"mousedown\", function(e) {\n                return s.dragStart(e);\n            }, !1), this.img.addEventListener(\"mouseup\", function(e) {\n                return s.dragEnd(e);\n            }, !1), this.img.addEventListener(\"mousemove\", function(e) {\n                return s.drag(e);\n            }, !1), this.img.addEventListener(\"click\", function(e) {\n                return s.slide.classList.contains(\"dragging-nav\") ? (s.zoomOut(), !1) : s.zoomedIn ? void (s.zoomedIn && !s.dragging && s.zoomOut()) : s.zoomIn();\n            }, !1), this.img.setZoomEvents = !0;\n        }\n        return n(e, [\n            {\n                key: \"zoomIn\",\n                value: function() {\n                    var e = this.widowWidth();\n                    if (!(this.zoomedIn || e <= 768)) {\n                        var t = this.img;\n                        if (t.setAttribute(\"data-style\", t.getAttribute(\"style\")), t.style.maxWidth = t.naturalWidth + \"px\", t.style.maxHeight = t.naturalHeight + \"px\", t.naturalWidth > e) {\n                            var i = e / 2 - t.naturalWidth / 2;\n                            this.setTranslate(this.img.parentNode, i, 0);\n                        }\n                        this.slide.classList.add(\"zoomed\"), this.zoomedIn = !0;\n                    }\n                }\n            },\n            {\n                key: \"zoomOut\",\n                value: function() {\n                    this.img.parentNode.setAttribute(\"style\", \"\"), this.img.setAttribute(\"style\", this.img.getAttribute(\"data-style\")), this.slide.classList.remove(\"zoomed\"), this.zoomedIn = !1, this.currentX = null, this.currentY = null, this.initialX = null, this.initialY = null, this.xOffset = 0, this.yOffset = 0, this.onclose && \"function\" == typeof this.onclose && this.onclose();\n                }\n            },\n            {\n                key: \"dragStart\",\n                value: function(e) {\n                    e.preventDefault(), this.zoomedIn ? (\"touchstart\" === e.type ? (this.initialX = e.touches[0].clientX - this.xOffset, this.initialY = e.touches[0].clientY - this.yOffset) : (this.initialX = e.clientX - this.xOffset, this.initialY = e.clientY - this.yOffset), e.target === this.img && (this.active = !0, this.img.classList.add(\"dragging\"))) : this.active = !1;\n                }\n            },\n            {\n                key: \"dragEnd\",\n                value: function(e) {\n                    var t = this;\n                    e.preventDefault(), this.initialX = this.currentX, this.initialY = this.currentY, this.active = !1, setTimeout(function() {\n                        t.dragging = !1, t.img.isDragging = !1, t.img.classList.remove(\"dragging\");\n                    }, 100);\n                }\n            },\n            {\n                key: \"drag\",\n                value: function(e) {\n                    this.active && (e.preventDefault(), \"touchmove\" === e.type ? (this.currentX = e.touches[0].clientX - this.initialX, this.currentY = e.touches[0].clientY - this.initialY) : (this.currentX = e.clientX - this.initialX, this.currentY = e.clientY - this.initialY), this.xOffset = this.currentX, this.yOffset = this.currentY, this.img.isDragging = !0, this.dragging = !0, this.setTranslate(this.img, this.currentX, this.currentY));\n                }\n            },\n            {\n                key: \"onMove\",\n                value: function(e) {\n                    if (this.zoomedIn) {\n                        var t = e.clientX - this.img.naturalWidth / 2, i = e.clientY - this.img.naturalHeight / 2;\n                        this.setTranslate(this.img, t, i);\n                    }\n                }\n            },\n            {\n                key: \"setTranslate\",\n                value: function(e, t, i) {\n                    e.style.transform = \"translate3d(\" + t + \"px, \" + i + \"px, 0)\";\n                }\n            },\n            {\n                key: \"widowWidth\",\n                value: function() {\n                    return window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n                }\n            }\n        ]), e;\n    }(), V = function() {\n        function e() {\n            var i = this, n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n            t(this, e);\n            var s = n.dragEl, l = n.toleranceX, o = void 0 === l ? 40 : l, r = n.toleranceY, a = void 0 === r ? 65 : r, h = n.slide, d = void 0 === h ? null : h, c = n.instance, u = void 0 === c ? null : c;\n            this.el = s, this.active = !1, this.dragging = !1, this.currentX = null, this.currentY = null, this.initialX = null, this.initialY = null, this.xOffset = 0, this.yOffset = 0, this.direction = null, this.lastDirection = null, this.toleranceX = o, this.toleranceY = a, this.toleranceReached = !1, this.dragContainer = this.el, this.slide = d, this.instance = u, this.el.addEventListener(\"mousedown\", function(e) {\n                return i.dragStart(e);\n            }, !1), this.el.addEventListener(\"mouseup\", function(e) {\n                return i.dragEnd(e);\n            }, !1), this.el.addEventListener(\"mousemove\", function(e) {\n                return i.drag(e);\n            }, !1);\n        }\n        return n(e, [\n            {\n                key: \"dragStart\",\n                value: function(e) {\n                    if (this.slide.classList.contains(\"zoomed\")) this.active = !1;\n                    else {\n                        \"touchstart\" === e.type ? (this.initialX = e.touches[0].clientX - this.xOffset, this.initialY = e.touches[0].clientY - this.yOffset) : (this.initialX = e.clientX - this.xOffset, this.initialY = e.clientY - this.yOffset);\n                        var t = e.target.nodeName.toLowerCase();\n                        e.target.classList.contains(\"nodrag\") || u(e.target, \".nodrag\") || -1 !== [\n                            \"input\",\n                            \"select\",\n                            \"textarea\",\n                            \"button\",\n                            \"a\"\n                        ].indexOf(t) ? this.active = !1 : (e.preventDefault(), (e.target === this.el || \"img\" !== t && u(e.target, \".gslide-inline\")) && (this.active = !0, this.el.classList.add(\"dragging\"), this.dragContainer = u(e.target, \".ginner-container\")));\n                    }\n                }\n            },\n            {\n                key: \"dragEnd\",\n                value: function(e) {\n                    var t = this;\n                    e && e.preventDefault(), this.initialX = 0, this.initialY = 0, this.currentX = null, this.currentY = null, this.initialX = null, this.initialY = null, this.xOffset = 0, this.yOffset = 0, this.active = !1, this.doSlideChange && (this.instance.preventOutsideClick = !0, \"right\" == this.doSlideChange && this.instance.prevSlide(), \"left\" == this.doSlideChange && this.instance.nextSlide()), this.doSlideClose && this.instance.close(), this.toleranceReached || this.setTranslate(this.dragContainer, 0, 0, !0), setTimeout(function() {\n                        t.instance.preventOutsideClick = !1, t.toleranceReached = !1, t.lastDirection = null, t.dragging = !1, t.el.isDragging = !1, t.el.classList.remove(\"dragging\"), t.slide.classList.remove(\"dragging-nav\"), t.dragContainer.style.transform = \"\", t.dragContainer.style.transition = \"\";\n                    }, 100);\n                }\n            },\n            {\n                key: \"drag\",\n                value: function(e) {\n                    if (this.active) {\n                        e.preventDefault(), this.slide.classList.add(\"dragging-nav\"), \"touchmove\" === e.type ? (this.currentX = e.touches[0].clientX - this.initialX, this.currentY = e.touches[0].clientY - this.initialY) : (this.currentX = e.clientX - this.initialX, this.currentY = e.clientY - this.initialY), this.xOffset = this.currentX, this.yOffset = this.currentY, this.el.isDragging = !0, this.dragging = !0, this.doSlideChange = !1, this.doSlideClose = !1;\n                        var t = Math.abs(this.currentX), i = Math.abs(this.currentY);\n                        if (t > 0 && t >= Math.abs(this.currentY) && (!this.lastDirection || \"x\" == this.lastDirection)) {\n                            this.yOffset = 0, this.lastDirection = \"x\", this.setTranslate(this.dragContainer, this.currentX, 0);\n                            var n = this.shouldChange();\n                            if (!this.instance.settings.dragAutoSnap && n && (this.doSlideChange = n), this.instance.settings.dragAutoSnap && n) return this.instance.preventOutsideClick = !0, this.toleranceReached = !0, this.active = !1, this.instance.preventOutsideClick = !0, this.dragEnd(null), \"right\" == n && this.instance.prevSlide(), void (\"left\" == n && this.instance.nextSlide());\n                        }\n                        if (this.toleranceY > 0 && i > 0 && i >= t && (!this.lastDirection || \"y\" == this.lastDirection)) {\n                            this.xOffset = 0, this.lastDirection = \"y\", this.setTranslate(this.dragContainer, 0, this.currentY);\n                            var s = this.shouldClose();\n                            return !this.instance.settings.dragAutoSnap && s && (this.doSlideClose = !0), void (this.instance.settings.dragAutoSnap && s && this.instance.close());\n                        }\n                    }\n                }\n            },\n            {\n                key: \"shouldChange\",\n                value: function() {\n                    var e = !1;\n                    if (Math.abs(this.currentX) >= this.toleranceX) {\n                        var t = this.currentX > 0 ? \"right\" : \"left\";\n                        (\"left\" == t && this.slide !== this.slide.parentNode.lastChild || \"right\" == t && this.slide !== this.slide.parentNode.firstChild) && (e = t);\n                    }\n                    return e;\n                }\n            },\n            {\n                key: \"shouldClose\",\n                value: function() {\n                    var e = !1;\n                    return Math.abs(this.currentY) >= this.toleranceY && (e = !0), e;\n                }\n            },\n            {\n                key: \"setTranslate\",\n                value: function(e, t, i) {\n                    var n = arguments.length > 3 && void 0 !== arguments[3] && arguments[3];\n                    e.style.transition = n ? \"all .2s ease\" : \"\", e.style.transform = \"translate3d(\".concat(t, \"px, \").concat(i, \"px, 0)\");\n                }\n            }\n        ]), e;\n    }();\n    function j(e, t, i, n) {\n        var s = e.querySelector(\".gslide-media\"), l = new Image, o = \"gSlideTitle_\" + i, r = \"gSlideDesc_\" + i;\n        l.addEventListener(\"load\", function() {\n            T(n) && n();\n        }, !1), l.src = t.href, \"\" != t.sizes && \"\" != t.srcset && (l.sizes = t.sizes, l.srcset = t.srcset), l.alt = \"\", I(t.alt) || \"\" === t.alt || (l.alt = t.alt), \"\" !== t.title && l.setAttribute(\"aria-labelledby\", o), \"\" !== t.description && l.setAttribute(\"aria-describedby\", r), t.hasOwnProperty(\"_hasCustomWidth\") && t._hasCustomWidth && (l.style.width = t.width), t.hasOwnProperty(\"_hasCustomHeight\") && t._hasCustomHeight && (l.style.height = t.height), s.insertBefore(l, s.firstChild);\n    }\n    function F(e, t, i, n) {\n        var s = this, l = e.querySelector(\".ginner-container\"), o = \"gvideo\" + i, r = e.querySelector(\".gslide-media\"), a = this.getAllPlayers();\n        h(l, \"gvideo-container\"), r.insertBefore(m('<div class=\"gvideo-wrapper\"></div>'), r.firstChild);\n        var d = e.querySelector(\".gvideo-wrapper\");\n        S(this.settings.plyr.css, \"Plyr\");\n        var c = t.href, u = null == t ? void 0 : t.videoProvider, g = !1;\n        r.style.maxWidth = t.width, S(this.settings.plyr.js, \"Plyr\", function() {\n            if (!u && c.match(/vimeo\\.com\\/([0-9]*)/) && (u = \"vimeo\"), !u && (c.match(/(youtube\\.com|youtube-nocookie\\.com)\\/watch\\?v=([a-zA-Z0-9\\-_]+)/) || c.match(/youtu\\.be\\/([a-zA-Z0-9\\-_]+)/) || c.match(/(youtube\\.com|youtube-nocookie\\.com)\\/embed\\/([a-zA-Z0-9\\-_]+)/)) && (u = \"youtube\"), \"local\" === u || !u) {\n                u = \"local\";\n                var l = '<video id=\"' + o + '\" ';\n                l += 'style=\"background:#000; max-width: '.concat(t.width, ';\" '), l += 'preload=\"metadata\" ', l += 'x-webkit-airplay=\"allow\" ', l += \"playsinline \", l += \"controls \", l += 'class=\"gvideo-local\">', l += '<source src=\"'.concat(c, '\">'), g = m(l += \"</video>\");\n            }\n            var r = g || m('<div id=\"'.concat(o, '\" data-plyr-provider=\"').concat(u, '\" data-plyr-embed-id=\"').concat(c, '\"></div>'));\n            h(d, \"\".concat(u, \"-video gvideo\")), d.appendChild(r), d.setAttribute(\"data-id\", o), d.setAttribute(\"data-index\", i);\n            var v = O(s.settings.plyr, \"config\") ? s.settings.plyr.config : {}, f = new Plyr(\"#\" + o, v);\n            f.on(\"ready\", function(e) {\n                a[o] = e.detail.plyr, T(n) && n();\n            }), b(function() {\n                return e.querySelector(\"iframe\") && \"true\" == e.querySelector(\"iframe\").dataset.ready;\n            }, function() {\n                s.resize(e);\n            }), f.on(\"enterfullscreen\", R), f.on(\"exitfullscreen\", R);\n        });\n    }\n    function R(e) {\n        var t = u(e.target, \".gslide-media\");\n        \"enterfullscreen\" === e.type && h(t, \"fullscreen\"), \"exitfullscreen\" === e.type && d(t, \"fullscreen\");\n    }\n    function G(e, t, i, n) {\n        var s, l = this, o = e.querySelector(\".gslide-media\"), r = !(!O(t, \"href\") || !t.href) && t.href.split(\"#\").pop().trim(), d = !(!O(t, \"content\") || !t.content) && t.content;\n        if (d && (C(d) && (s = m('<div class=\"ginlined-content\">'.concat(d, \"</div>\"))), k(d))) {\n            \"none\" == d.style.display && (d.style.display = \"block\");\n            var c = document.createElement(\"div\");\n            c.className = \"ginlined-content\", c.appendChild(d), s = c;\n        }\n        if (r) {\n            var u = document.getElementById(r);\n            if (!u) return !1;\n            var g = u.cloneNode(!0);\n            g.style.height = t.height, g.style.maxWidth = t.width, h(g, \"ginlined-content\"), s = g;\n        }\n        if (!s) return console.error(\"Unable to append inline slide content\", t), !1;\n        o.style.height = t.height, o.style.width = t.width, o.appendChild(s), this.events[\"inlineclose\" + r] = a(\"click\", {\n            onElement: o.querySelectorAll(\".gtrigger-close\"),\n            withCallback: function(e) {\n                e.preventDefault(), l.close();\n            }\n        }), T(n) && n();\n    }\n    function Z(e, t, i, n) {\n        var s = e.querySelector(\".gslide-media\"), l = function(e) {\n            var t = e.url, i = e.allow, n = e.callback, s = e.appendTo, l = document.createElement(\"iframe\");\n            return l.className = \"vimeo-video gvideo\", l.src = t, l.style.width = \"100%\", l.style.height = \"100%\", i && l.setAttribute(\"allow\", i), l.onload = function() {\n                l.onload = null, h(l, \"node-ready\"), T(n) && n();\n            }, s && s.appendChild(l), l;\n        }({\n            url: t.href,\n            callback: n\n        });\n        s.parentNode.style.maxWidth = t.width, s.parentNode.style.height = t.height, s.appendChild(l);\n    }\n    var U = function() {\n        function e() {\n            var i = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n            t(this, e), this.defaults = {\n                href: \"\",\n                sizes: \"\",\n                srcset: \"\",\n                title: \"\",\n                type: \"\",\n                videoProvider: \"\",\n                description: \"\",\n                alt: \"\",\n                descPosition: \"bottom\",\n                effect: \"\",\n                width: \"\",\n                height: \"\",\n                content: !1,\n                zoomable: !0,\n                draggable: !0\n            }, L(i) && (this.defaults = l(this.defaults, i));\n        }\n        return n(e, [\n            {\n                key: \"sourceType\",\n                value: function(e) {\n                    var t = e;\n                    if (null !== (e = e.toLowerCase()).match(/\\.(jpeg|jpg|jpe|gif|png|apn|webp|avif|svg)/)) return \"image\";\n                    if (e.match(/(youtube\\.com|youtube-nocookie\\.com)\\/watch\\?v=([a-zA-Z0-9\\-_]+)/) || e.match(/youtu\\.be\\/([a-zA-Z0-9\\-_]+)/) || e.match(/(youtube\\.com|youtube-nocookie\\.com)\\/embed\\/([a-zA-Z0-9\\-_]+)/)) return \"video\";\n                    if (e.match(/vimeo\\.com\\/([0-9]*)/)) return \"video\";\n                    if (null !== e.match(/\\.(mp4|ogg|webm|mov)/)) return \"video\";\n                    if (null !== e.match(/\\.(mp3|wav|wma|aac|ogg)/)) return \"audio\";\n                    if (e.indexOf(\"#\") > -1 && \"\" !== t.split(\"#\").pop().trim()) return \"inline\";\n                    return e.indexOf(\"goajax=true\") > -1 ? \"ajax\" : \"external\";\n                }\n            },\n            {\n                key: \"parseConfig\",\n                value: function(e, t) {\n                    var i = this, n = l({\n                        descPosition: t.descPosition\n                    }, this.defaults);\n                    if (L(e) && !k(e)) {\n                        O(e, \"type\") || (O(e, \"content\") && e.content ? e.type = \"inline\" : O(e, \"href\") && (e.type = this.sourceType(e.href)));\n                        var s = l(n, e);\n                        return this.setSize(s, t), s;\n                    }\n                    var r = \"\", a = e.getAttribute(\"data-glightbox\"), h = e.nodeName.toLowerCase();\n                    if (\"a\" === h && (r = e.href), \"img\" === h && (r = e.src, n.alt = e.alt), n.href = r, o(n, function(s, l) {\n                        O(t, l) && \"width\" !== l && (n[l] = t[l]);\n                        var o = e.dataset[l];\n                        I(o) || (n[l] = i.sanitizeValue(o));\n                    }), n.content && (n.type = \"inline\"), !n.type && r && (n.type = this.sourceType(r)), I(a)) {\n                        if (!n.title && \"a\" == h) {\n                            var d = e.title;\n                            I(d) || \"\" === d || (n.title = d);\n                        }\n                        if (!n.title && \"img\" == h) {\n                            var c = e.alt;\n                            I(c) || \"\" === c || (n.title = c);\n                        }\n                    } else {\n                        var u = [];\n                        o(n, function(e, t) {\n                            u.push(\";\\\\s?\" + t);\n                        }), u = u.join(\"\\\\s?:|\"), \"\" !== a.trim() && o(n, function(e, t) {\n                            var s = a, l = new RegExp(\"s?\" + t + \"s?:s?(.*?)(\" + u + \"s?:|$)\"), o = s.match(l);\n                            if (o && o.length && o[1]) {\n                                var r = o[1].trim().replace(/;\\s*$/, \"\");\n                                n[t] = i.sanitizeValue(r);\n                            }\n                        });\n                    }\n                    if (n.description && \".\" === n.description.substring(0, 1)) {\n                        var g;\n                        try {\n                            g = document.querySelector(n.description).innerHTML;\n                        } catch (e) {\n                            if (!(e instanceof DOMException)) throw e;\n                        }\n                        g && (n.description = g);\n                    }\n                    if (!n.description) {\n                        var v = e.querySelector(\".glightbox-desc\");\n                        v && (n.description = v.innerHTML);\n                    }\n                    return this.setSize(n, t, e), this.slideConfig = n, n;\n                }\n            },\n            {\n                key: \"setSize\",\n                value: function(e, t) {\n                    var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null, n = \"video\" == e.type ? this.checkSize(t.videosWidth) : this.checkSize(t.width), s = this.checkSize(t.height);\n                    return e.width = O(e, \"width\") && \"\" !== e.width ? this.checkSize(e.width) : n, e.height = O(e, \"height\") && \"\" !== e.height ? this.checkSize(e.height) : s, i && \"image\" == e.type && (e._hasCustomWidth = !!i.dataset.width, e._hasCustomHeight = !!i.dataset.height), e;\n                }\n            },\n            {\n                key: \"checkSize\",\n                value: function(e) {\n                    return M(e) ? \"\".concat(e, \"px\") : e;\n                }\n            },\n            {\n                key: \"sanitizeValue\",\n                value: function(e) {\n                    return \"true\" !== e && \"false\" !== e ? e : \"true\" === e;\n                }\n            }\n        ]), e;\n    }(), $ = function() {\n        function e(i, n, s) {\n            t(this, e), this.element = i, this.instance = n, this.index = s;\n        }\n        return n(e, [\n            {\n                key: \"setContent\",\n                value: function() {\n                    var e = this, t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null, i = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];\n                    if (c(t, \"loaded\")) return !1;\n                    var n = this.instance.settings, s = this.slideConfig, l = w();\n                    T(n.beforeSlideLoad) && n.beforeSlideLoad({\n                        index: this.index,\n                        slide: t,\n                        player: !1\n                    });\n                    var o = s.type, r = s.descPosition, a = t.querySelector(\".gslide-media\"), d = t.querySelector(\".gslide-title\"), u = t.querySelector(\".gslide-desc\"), g = t.querySelector(\".gdesc-inner\"), v = i, f = \"gSlideTitle_\" + this.index, p = \"gSlideDesc_\" + this.index;\n                    if (T(n.afterSlideLoad) && (v = function() {\n                        T(i) && i(), n.afterSlideLoad({\n                            index: e.index,\n                            slide: t,\n                            player: e.instance.getSlidePlayerInstance(e.index)\n                        });\n                    }), \"\" == s.title && \"\" == s.description ? g && g.parentNode.parentNode.removeChild(g.parentNode) : (d && \"\" !== s.title ? (d.id = f, d.innerHTML = s.title) : d.parentNode.removeChild(d), u && \"\" !== s.description ? (u.id = p, l && n.moreLength > 0 ? (s.smallDescription = this.slideShortDesc(s.description, n.moreLength, n.moreText), u.innerHTML = s.smallDescription, this.descriptionEvents(u, s)) : u.innerHTML = s.description) : u.parentNode.removeChild(u), h(a.parentNode, \"desc-\".concat(r)), h(g.parentNode, \"description-\".concat(r))), h(a, \"gslide-\".concat(o)), h(t, \"loaded\"), \"video\" !== o) {\n                        if (\"external\" !== o) return \"inline\" === o ? (G.apply(this.instance, [\n                            t,\n                            s,\n                            this.index,\n                            v\n                        ]), void (s.draggable && new V({\n                            dragEl: t.querySelector(\".gslide-inline\"),\n                            toleranceX: n.dragToleranceX,\n                            toleranceY: n.dragToleranceY,\n                            slide: t,\n                            instance: this.instance\n                        }))) : void (\"image\" !== o ? T(v) && v() : j(t, s, this.index, function() {\n                            var i = t.querySelector(\"img\");\n                            s.draggable && new V({\n                                dragEl: i,\n                                toleranceX: n.dragToleranceX,\n                                toleranceY: n.dragToleranceY,\n                                slide: t,\n                                instance: e.instance\n                            }), s.zoomable && i.naturalWidth > i.offsetWidth && (h(i, \"zoomable\"), new H(i, t, function() {\n                                e.instance.resize();\n                            })), T(v) && v();\n                        }));\n                        Z.apply(this, [\n                            t,\n                            s,\n                            this.index,\n                            v\n                        ]);\n                    } else F.apply(this.instance, [\n                        t,\n                        s,\n                        this.index,\n                        v\n                    ]);\n                }\n            },\n            {\n                key: \"slideShortDesc\",\n                value: function(e) {\n                    var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 50, i = arguments.length > 2 && void 0 !== arguments[2] && arguments[2], n = document.createElement(\"div\");\n                    n.innerHTML = e;\n                    var s = n.innerText, l = i;\n                    if ((e = s.trim()).length <= t) return e;\n                    var o = e.substr(0, t - 1);\n                    return l ? (n = null, o + '... <a href=\"#\" class=\"desc-more\">' + i + \"</a>\") : o;\n                }\n            },\n            {\n                key: \"descriptionEvents\",\n                value: function(e, t) {\n                    var i = this, n = e.querySelector(\".desc-more\");\n                    if (!n) return !1;\n                    a(\"click\", {\n                        onElement: n,\n                        withCallback: function(e, n) {\n                            e.preventDefault();\n                            var s = document.body, l = u(n, \".gslide-desc\");\n                            if (!l) return !1;\n                            l.innerHTML = t.description, h(s, \"gdesc-open\");\n                            var o = a(\"click\", {\n                                onElement: [\n                                    s,\n                                    u(l, \".gslide-description\")\n                                ],\n                                withCallback: function(e, n) {\n                                    \"a\" !== e.target.nodeName.toLowerCase() && (d(s, \"gdesc-open\"), h(s, \"gdesc-closed\"), l.innerHTML = t.smallDescription, i.descriptionEvents(l, t), setTimeout(function() {\n                                        d(s, \"gdesc-closed\");\n                                    }, 400), o.destroy());\n                                }\n                            });\n                        }\n                    });\n                }\n            },\n            {\n                key: \"create\",\n                value: function() {\n                    return m(this.instance.settings.slideHTML);\n                }\n            },\n            {\n                key: \"getConfig\",\n                value: function() {\n                    k(this.element) || this.element.hasOwnProperty(\"draggable\") || (this.element.draggable = this.instance.settings.draggable);\n                    var e = new U(this.instance.settings.slideExtraAttributes);\n                    return this.slideConfig = e.parseConfig(this.element, this.instance.settings), this.slideConfig;\n                }\n            }\n        ]), e;\n    }(), J = w(), K = null !== w() || void 0 !== document.createTouch || \"ontouchstart\" in window || \"onmsgesturechange\" in window || navigator.msMaxTouchPoints, Q = document.getElementsByTagName(\"html\")[0], ee = {\n        selector: \".glightbox\",\n        elements: null,\n        skin: \"clean\",\n        theme: \"clean\",\n        closeButton: !0,\n        startAt: null,\n        autoplayVideos: !0,\n        autofocusVideos: !0,\n        descPosition: \"bottom\",\n        width: \"900px\",\n        height: \"506px\",\n        videosWidth: \"960px\",\n        beforeSlideChange: null,\n        afterSlideChange: null,\n        beforeSlideLoad: null,\n        afterSlideLoad: null,\n        slideInserted: null,\n        slideRemoved: null,\n        slideExtraAttributes: null,\n        onOpen: null,\n        onClose: null,\n        loop: !1,\n        zoomable: !0,\n        draggable: !0,\n        dragAutoSnap: !1,\n        dragToleranceX: 40,\n        dragToleranceY: 65,\n        preload: !0,\n        oneSlidePerOpen: !1,\n        touchNavigation: !0,\n        touchFollowAxis: !0,\n        keyboardNavigation: !0,\n        closeOnOutsideClick: !0,\n        plugins: !1,\n        plyr: {\n            css: \"https://cdn.plyr.io/3.6.12/plyr.css\",\n            js: \"https://cdn.plyr.io/3.6.12/plyr.js\",\n            config: {\n                ratio: \"16:9\",\n                fullscreen: {\n                    enabled: !0,\n                    iosNative: !0\n                },\n                youtube: {\n                    noCookie: !0,\n                    rel: 0,\n                    showinfo: 0,\n                    iv_load_policy: 3\n                },\n                vimeo: {\n                    byline: !1,\n                    portrait: !1,\n                    title: !1,\n                    transparent: !1\n                }\n            }\n        },\n        openEffect: \"zoom\",\n        closeEffect: \"zoom\",\n        slideEffect: \"slide\",\n        moreText: \"See more\",\n        moreLength: 60,\n        cssEfects: {\n            fade: {\n                in: \"fadeIn\",\n                out: \"fadeOut\"\n            },\n            zoom: {\n                in: \"zoomIn\",\n                out: \"zoomOut\"\n            },\n            slide: {\n                in: \"slideInRight\",\n                out: \"slideOutLeft\"\n            },\n            slideBack: {\n                in: \"slideInLeft\",\n                out: \"slideOutRight\"\n            },\n            none: {\n                in: \"none\",\n                out: \"none\"\n            }\n        },\n        svg: {\n            close: '<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 512 512\" xml:space=\"preserve\"><g><g><path d=\"M505.943,6.058c-8.077-8.077-21.172-8.077-29.249,0L6.058,476.693c-8.077,8.077-8.077,21.172,0,29.249C10.096,509.982,15.39,512,20.683,512c5.293,0,10.586-2.019,14.625-6.059L505.943,35.306C514.019,27.23,514.019,14.135,505.943,6.058z\"/></g></g><g><g><path d=\"M505.942,476.694L35.306,6.059c-8.076-8.077-21.172-8.077-29.248,0c-8.077,8.076-8.077,21.171,0,29.248l470.636,470.636c4.038,4.039,9.332,6.058,14.625,6.058c5.293,0,10.587-2.019,14.624-6.057C514.018,497.866,514.018,484.771,505.942,476.694z\"/></g></g></svg>',\n            next: '<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 477.175 477.175\" xml:space=\"preserve\"> <g><path d=\"M360.731,229.075l-225.1-225.1c-5.3-5.3-13.8-5.3-19.1,0s-5.3,13.8,0,19.1l215.5,215.5l-215.5,215.5c-5.3,5.3-5.3,13.8,0,19.1c2.6,2.6,6.1,4,9.5,4c3.4,0,6.9-1.3,9.5-4l225.1-225.1C365.931,242.875,365.931,234.275,360.731,229.075z\"/></g></svg>',\n            prev: '<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 477.175 477.175\" xml:space=\"preserve\"><g><path d=\"M145.188,238.575l215.5-215.5c5.3-5.3,5.3-13.8,0-19.1s-13.8-5.3-19.1,0l-225.1,225.1c-5.3,5.3-5.3,13.8,0,19.1l225.1,225c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1L145.188,238.575z\"/></g></svg>'\n        },\n        slideHTML: '<div class=\"gslide\">\\n    <div class=\"gslide-inner-content\">\\n        <div class=\"ginner-container\">\\n            <div class=\"gslide-media\">\\n            </div>\\n            <div class=\"gslide-description\">\\n                <div class=\"gdesc-inner\">\\n                    <h4 class=\"gslide-title\"></h4>\\n                    <div class=\"gslide-desc\"></div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>',\n        lightboxHTML: '<div id=\"glightbox-body\" class=\"glightbox-container\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"false\">\\n    <div class=\"gloader visible\"></div>\\n    <div class=\"goverlay\"></div>\\n    <div class=\"gcontainer\">\\n    <div id=\"glightbox-slider\" class=\"gslider\"></div>\\n    <button class=\"gclose gbtn\" aria-label=\"Close\" data-taborder=\"3\">{closeSVG}</button>\\n    <button class=\"gprev gbtn\" aria-label=\"Previous\" data-taborder=\"2\">{prevSVG}</button>\\n    <button class=\"gnext gbtn\" aria-label=\"Next\" data-taborder=\"1\">{nextSVG}</button>\\n</div>\\n</div>'\n    }, te = function() {\n        function e() {\n            var i = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n            t(this, e), this.customOptions = i, this.settings = l(ee, i), this.effectsClasses = this.getAnimationClasses(), this.videoPlayers = {}, this.apiEvents = [], this.fullElementsList = !1;\n        }\n        return n(e, [\n            {\n                key: \"init\",\n                value: function() {\n                    var e = this, t = this.getSelector();\n                    t && (this.baseEvents = a(\"click\", {\n                        onElement: t,\n                        withCallback: function(t, i) {\n                            t.preventDefault(), e.open(i);\n                        }\n                    })), this.elements = this.getElements();\n                }\n            },\n            {\n                key: \"open\",\n                value: function() {\n                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null, t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null;\n                    if (0 === this.elements.length) return !1;\n                    this.activeSlide = null, this.prevActiveSlideIndex = null, this.prevActiveSlide = null;\n                    var i = M(t) ? t : this.settings.startAt;\n                    if (k(e)) {\n                        var n = e.getAttribute(\"data-gallery\");\n                        n && (this.fullElementsList = this.elements, this.elements = this.getGalleryElements(this.elements, n)), I(i) && (i = this.getElementIndex(e)) < 0 && (i = 0);\n                    }\n                    M(i) || (i = 0), this.build(), g(this.overlay, \"none\" === this.settings.openEffect ? \"none\" : this.settings.cssEfects.fade.in);\n                    var s = document.body, l = window.innerWidth - document.documentElement.clientWidth;\n                    if (l > 0) {\n                        var o = document.createElement(\"style\");\n                        o.type = \"text/css\", o.className = \"gcss-styles\", o.innerText = \".gscrollbar-fixer {margin-right: \".concat(l, \"px}\"), document.head.appendChild(o), h(s, \"gscrollbar-fixer\");\n                    }\n                    h(s, \"glightbox-open\"), h(Q, \"glightbox-open\"), J && (h(document.body, \"glightbox-mobile\"), this.settings.slideEffect = \"slide\"), this.showSlide(i, !0), 1 === this.elements.length ? (h(this.prevButton, \"glightbox-button-hidden\"), h(this.nextButton, \"glightbox-button-hidden\")) : (d(this.prevButton, \"glightbox-button-hidden\"), d(this.nextButton, \"glightbox-button-hidden\")), this.lightboxOpen = !0, this.trigger(\"open\"), T(this.settings.onOpen) && this.settings.onOpen(), K && this.settings.touchNavigation && B(this), this.settings.keyboardNavigation && X(this);\n                }\n            },\n            {\n                key: \"openAt\",\n                value: function() {\n                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;\n                    this.open(null, e);\n                }\n            },\n            {\n                key: \"showSlide\",\n                value: function() {\n                    var e = this, t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0, i = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];\n                    f(this.loader), this.index = parseInt(t);\n                    var n = this.slidesContainer.querySelector(\".current\");\n                    n && d(n, \"current\"), this.slideAnimateOut();\n                    var s = this.slidesContainer.querySelectorAll(\".gslide\")[t];\n                    if (c(s, \"loaded\")) this.slideAnimateIn(s, i), p(this.loader);\n                    else {\n                        f(this.loader);\n                        var l = this.elements[t], o = {\n                            index: this.index,\n                            slide: s,\n                            slideNode: s,\n                            slideConfig: l.slideConfig,\n                            slideIndex: this.index,\n                            trigger: l.node,\n                            player: null\n                        };\n                        this.trigger(\"slide_before_load\", o), l.instance.setContent(s, function() {\n                            p(e.loader), e.resize(), e.slideAnimateIn(s, i), e.trigger(\"slide_after_load\", o);\n                        });\n                    }\n                    this.slideDescription = s.querySelector(\".gslide-description\"), this.slideDescriptionContained = this.slideDescription && c(this.slideDescription.parentNode, \"gslide-media\"), this.settings.preload && (this.preloadSlide(t + 1), this.preloadSlide(t - 1)), this.updateNavigationClasses(), this.activeSlide = s;\n                }\n            },\n            {\n                key: \"preloadSlide\",\n                value: function(e) {\n                    var t = this;\n                    if (e < 0 || e > this.elements.length - 1) return !1;\n                    if (I(this.elements[e])) return !1;\n                    var i = this.slidesContainer.querySelectorAll(\".gslide\")[e];\n                    if (c(i, \"loaded\")) return !1;\n                    var n = this.elements[e], s = n.type, l = {\n                        index: e,\n                        slide: i,\n                        slideNode: i,\n                        slideConfig: n.slideConfig,\n                        slideIndex: e,\n                        trigger: n.node,\n                        player: null\n                    };\n                    this.trigger(\"slide_before_load\", l), \"video\" === s || \"external\" === s ? setTimeout(function() {\n                        n.instance.setContent(i, function() {\n                            t.trigger(\"slide_after_load\", l);\n                        });\n                    }, 200) : n.instance.setContent(i, function() {\n                        t.trigger(\"slide_after_load\", l);\n                    });\n                }\n            },\n            {\n                key: \"prevSlide\",\n                value: function() {\n                    this.goToSlide(this.index - 1);\n                }\n            },\n            {\n                key: \"nextSlide\",\n                value: function() {\n                    this.goToSlide(this.index + 1);\n                }\n            },\n            {\n                key: \"goToSlide\",\n                value: function() {\n                    var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];\n                    if (this.prevActiveSlide = this.activeSlide, this.prevActiveSlideIndex = this.index, !this.loop() && (e < 0 || e > this.elements.length - 1)) return !1;\n                    e < 0 ? e = this.elements.length - 1 : e >= this.elements.length && (e = 0), this.showSlide(e);\n                }\n            },\n            {\n                key: \"insertSlide\",\n                value: function() {\n                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : -1;\n                    t < 0 && (t = this.elements.length);\n                    var i = new $(e, this, t), n = i.getConfig(), s = l({}, n), o = i.create(), r = this.elements.length - 1;\n                    s.index = t, s.node = !1, s.instance = i, s.slideConfig = n, this.elements.splice(t, 0, s);\n                    var a = null, h = null;\n                    if (this.slidesContainer) {\n                        if (t > r) this.slidesContainer.appendChild(o);\n                        else {\n                            var d = this.slidesContainer.querySelectorAll(\".gslide\")[t];\n                            this.slidesContainer.insertBefore(o, d);\n                        }\n                        (this.settings.preload && 0 == this.index && 0 == t || this.index - 1 == t || this.index + 1 == t) && this.preloadSlide(t), 0 === this.index && 0 === t && (this.index = 1), this.updateNavigationClasses(), a = this.slidesContainer.querySelectorAll(\".gslide\")[t], h = this.getSlidePlayerInstance(t), s.slideNode = a;\n                    }\n                    this.trigger(\"slide_inserted\", {\n                        index: t,\n                        slide: a,\n                        slideNode: a,\n                        slideConfig: n,\n                        slideIndex: t,\n                        trigger: null,\n                        player: h\n                    }), T(this.settings.slideInserted) && this.settings.slideInserted({\n                        index: t,\n                        slide: a,\n                        player: h\n                    });\n                }\n            },\n            {\n                key: \"removeSlide\",\n                value: function() {\n                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : -1;\n                    if (e < 0 || e > this.elements.length - 1) return !1;\n                    var t = this.slidesContainer && this.slidesContainer.querySelectorAll(\".gslide\")[e];\n                    t && (this.getActiveSlideIndex() == e && (e == this.elements.length - 1 ? this.prevSlide() : this.nextSlide()), t.parentNode.removeChild(t)), this.elements.splice(e, 1), this.trigger(\"slide_removed\", e), T(this.settings.slideRemoved) && this.settings.slideRemoved(e);\n                }\n            },\n            {\n                key: \"slideAnimateIn\",\n                value: function(e, t) {\n                    var i = this, n = e.querySelector(\".gslide-media\"), s = e.querySelector(\".gslide-description\"), l = {\n                        index: this.prevActiveSlideIndex,\n                        slide: this.prevActiveSlide,\n                        slideNode: this.prevActiveSlide,\n                        slideIndex: this.prevActiveSlide,\n                        slideConfig: I(this.prevActiveSlideIndex) ? null : this.elements[this.prevActiveSlideIndex].slideConfig,\n                        trigger: I(this.prevActiveSlideIndex) ? null : this.elements[this.prevActiveSlideIndex].node,\n                        player: this.getSlidePlayerInstance(this.prevActiveSlideIndex)\n                    }, o = {\n                        index: this.index,\n                        slide: this.activeSlide,\n                        slideNode: this.activeSlide,\n                        slideConfig: this.elements[this.index].slideConfig,\n                        slideIndex: this.index,\n                        trigger: this.elements[this.index].node,\n                        player: this.getSlidePlayerInstance(this.index)\n                    };\n                    if (n.offsetWidth > 0 && s && (p(s), s.style.display = \"\"), d(e, this.effectsClasses), t) g(e, this.settings.cssEfects[this.settings.openEffect].in, function() {\n                        i.settings.autoplayVideos && i.slidePlayerPlay(e), i.trigger(\"slide_changed\", {\n                            prev: l,\n                            current: o\n                        }), T(i.settings.afterSlideChange) && i.settings.afterSlideChange.apply(i, [\n                            l,\n                            o\n                        ]);\n                    });\n                    else {\n                        var r = this.settings.slideEffect, a = \"none\" !== r ? this.settings.cssEfects[r].in : r;\n                        this.prevActiveSlideIndex > this.index && \"slide\" == this.settings.slideEffect && (a = this.settings.cssEfects.slideBack.in), g(e, a, function() {\n                            i.settings.autoplayVideos && i.slidePlayerPlay(e), i.trigger(\"slide_changed\", {\n                                prev: l,\n                                current: o\n                            }), T(i.settings.afterSlideChange) && i.settings.afterSlideChange.apply(i, [\n                                l,\n                                o\n                            ]);\n                        });\n                    }\n                    setTimeout(function() {\n                        i.resize(e);\n                    }, 100), h(e, \"current\");\n                }\n            },\n            {\n                key: \"slideAnimateOut\",\n                value: function() {\n                    if (!this.prevActiveSlide) return !1;\n                    var e = this.prevActiveSlide;\n                    d(e, this.effectsClasses), h(e, \"prev\");\n                    var t = this.settings.slideEffect, i = \"none\" !== t ? this.settings.cssEfects[t].out : t;\n                    this.slidePlayerPause(e), this.trigger(\"slide_before_change\", {\n                        prev: {\n                            index: this.prevActiveSlideIndex,\n                            slide: this.prevActiveSlide,\n                            slideNode: this.prevActiveSlide,\n                            slideIndex: this.prevActiveSlideIndex,\n                            slideConfig: I(this.prevActiveSlideIndex) ? null : this.elements[this.prevActiveSlideIndex].slideConfig,\n                            trigger: I(this.prevActiveSlideIndex) ? null : this.elements[this.prevActiveSlideIndex].node,\n                            player: this.getSlidePlayerInstance(this.prevActiveSlideIndex)\n                        },\n                        current: {\n                            index: this.index,\n                            slide: this.activeSlide,\n                            slideNode: this.activeSlide,\n                            slideIndex: this.index,\n                            slideConfig: this.elements[this.index].slideConfig,\n                            trigger: this.elements[this.index].node,\n                            player: this.getSlidePlayerInstance(this.index)\n                        }\n                    }), T(this.settings.beforeSlideChange) && this.settings.beforeSlideChange.apply(this, [\n                        {\n                            index: this.prevActiveSlideIndex,\n                            slide: this.prevActiveSlide,\n                            player: this.getSlidePlayerInstance(this.prevActiveSlideIndex)\n                        },\n                        {\n                            index: this.index,\n                            slide: this.activeSlide,\n                            player: this.getSlidePlayerInstance(this.index)\n                        }\n                    ]), this.prevActiveSlideIndex > this.index && \"slide\" == this.settings.slideEffect && (i = this.settings.cssEfects.slideBack.out), g(e, i, function() {\n                        var t = e.querySelector(\".ginner-container\"), i = e.querySelector(\".gslide-media\"), n = e.querySelector(\".gslide-description\");\n                        t.style.transform = \"\", i.style.transform = \"\", d(i, \"greset\"), i.style.opacity = \"\", n && (n.style.opacity = \"\"), d(e, \"prev\");\n                    });\n                }\n            },\n            {\n                key: \"getAllPlayers\",\n                value: function() {\n                    return this.videoPlayers;\n                }\n            },\n            {\n                key: \"getSlidePlayerInstance\",\n                value: function(e) {\n                    var t = \"gvideo\" + e, i = this.getAllPlayers();\n                    return !(!O(i, t) || !i[t]) && i[t];\n                }\n            },\n            {\n                key: \"stopSlideVideo\",\n                value: function(e) {\n                    if (k(e)) {\n                        var t = e.querySelector(\".gvideo-wrapper\");\n                        t && (e = t.getAttribute(\"data-index\"));\n                    }\n                    console.log(\"stopSlideVideo is deprecated, use slidePlayerPause\");\n                    var i = this.getSlidePlayerInstance(e);\n                    i && i.playing && i.pause();\n                }\n            },\n            {\n                key: \"slidePlayerPause\",\n                value: function(e) {\n                    if (k(e)) {\n                        var t = e.querySelector(\".gvideo-wrapper\");\n                        t && (e = t.getAttribute(\"data-index\"));\n                    }\n                    var i = this.getSlidePlayerInstance(e);\n                    i && i.playing && i.pause();\n                }\n            },\n            {\n                key: \"playSlideVideo\",\n                value: function(e) {\n                    if (k(e)) {\n                        var t = e.querySelector(\".gvideo-wrapper\");\n                        t && (e = t.getAttribute(\"data-index\"));\n                    }\n                    console.log(\"playSlideVideo is deprecated, use slidePlayerPlay\");\n                    var i = this.getSlidePlayerInstance(e);\n                    i && !i.playing && i.play();\n                }\n            },\n            {\n                key: \"slidePlayerPlay\",\n                value: function(e) {\n                    var t;\n                    if (!J || null !== (t = this.settings.plyr.config) && void 0 !== t && t.muted) {\n                        if (k(e)) {\n                            var i = e.querySelector(\".gvideo-wrapper\");\n                            i && (e = i.getAttribute(\"data-index\"));\n                        }\n                        var n = this.getSlidePlayerInstance(e);\n                        n && !n.playing && (n.play(), this.settings.autofocusVideos && n.elements.container.focus());\n                    }\n                }\n            },\n            {\n                key: \"setElements\",\n                value: function(e) {\n                    var t = this;\n                    this.settings.elements = !1;\n                    var i = [];\n                    e && e.length && o(e, function(e, n) {\n                        var s = new $(e, t, n), o = s.getConfig(), r = l({}, o);\n                        r.slideConfig = o, r.instance = s, r.index = n, i.push(r);\n                    }), this.elements = i, this.lightboxOpen && (this.slidesContainer.innerHTML = \"\", this.elements.length && (o(this.elements, function() {\n                        var e = m(t.settings.slideHTML);\n                        t.slidesContainer.appendChild(e);\n                    }), this.showSlide(0, !0)));\n                }\n            },\n            {\n                key: \"getElementIndex\",\n                value: function(e) {\n                    var t = !1;\n                    return o(this.elements, function(i, n) {\n                        if (O(i, \"node\") && i.node == e) return t = n, !0;\n                    }), t;\n                }\n            },\n            {\n                key: \"getElements\",\n                value: function() {\n                    var e = this, t = [];\n                    this.elements = this.elements ? this.elements : [], !I(this.settings.elements) && E(this.settings.elements) && this.settings.elements.length && o(this.settings.elements, function(i, n) {\n                        var s = new $(i, e, n), o = s.getConfig(), r = l({}, o);\n                        r.node = !1, r.index = n, r.instance = s, r.slideConfig = o, t.push(r);\n                    });\n                    var i = !1;\n                    return this.getSelector() && (i = document.querySelectorAll(this.getSelector())), i ? (o(i, function(i, n) {\n                        var s = new $(i, e, n), o = s.getConfig(), r = l({}, o);\n                        r.node = i, r.index = n, r.instance = s, r.slideConfig = o, r.gallery = i.getAttribute(\"data-gallery\"), t.push(r);\n                    }), t) : t;\n                }\n            },\n            {\n                key: \"getGalleryElements\",\n                value: function(e, t) {\n                    return e.filter(function(e) {\n                        return e.gallery == t;\n                    });\n                }\n            },\n            {\n                key: \"getSelector\",\n                value: function() {\n                    return !this.settings.elements && (this.settings.selector && \"data-\" == this.settings.selector.substring(0, 5) ? \"*[\".concat(this.settings.selector, \"]\") : this.settings.selector);\n                }\n            },\n            {\n                key: \"getActiveSlide\",\n                value: function() {\n                    return this.slidesContainer.querySelectorAll(\".gslide\")[this.index];\n                }\n            },\n            {\n                key: \"getActiveSlideIndex\",\n                value: function() {\n                    return this.index;\n                }\n            },\n            {\n                key: \"getAnimationClasses\",\n                value: function() {\n                    var e = [];\n                    for(var t in this.settings.cssEfects)if (this.settings.cssEfects.hasOwnProperty(t)) {\n                        var i = this.settings.cssEfects[t];\n                        e.push(\"g\".concat(i.in)), e.push(\"g\".concat(i.out));\n                    }\n                    return e.join(\" \");\n                }\n            },\n            {\n                key: \"build\",\n                value: function() {\n                    var e = this;\n                    if (this.built) return !1;\n                    var t = document.body.childNodes, i = [];\n                    o(t, function(e) {\n                        e.parentNode == document.body && \"#\" !== e.nodeName.charAt(0) && e.hasAttribute && !e.hasAttribute(\"aria-hidden\") && (i.push(e), e.setAttribute(\"aria-hidden\", \"true\"));\n                    });\n                    var n = O(this.settings.svg, \"next\") ? this.settings.svg.next : \"\", s = O(this.settings.svg, \"prev\") ? this.settings.svg.prev : \"\", l = O(this.settings.svg, \"close\") ? this.settings.svg.close : \"\", r = this.settings.lightboxHTML;\n                    r = m(r = (r = (r = r.replace(/{nextSVG}/g, n)).replace(/{prevSVG}/g, s)).replace(/{closeSVG}/g, l)), document.body.appendChild(r);\n                    var d = document.getElementById(\"glightbox-body\");\n                    this.modal = d;\n                    var g = d.querySelector(\".gclose\");\n                    this.prevButton = d.querySelector(\".gprev\"), this.nextButton = d.querySelector(\".gnext\"), this.overlay = d.querySelector(\".goverlay\"), this.loader = d.querySelector(\".gloader\"), this.slidesContainer = document.getElementById(\"glightbox-slider\"), this.bodyHiddenChildElms = i, this.events = {}, h(this.modal, \"glightbox-\" + this.settings.skin), this.settings.closeButton && g && (this.events.close = a(\"click\", {\n                        onElement: g,\n                        withCallback: function(t, i) {\n                            t.preventDefault(), e.close();\n                        }\n                    })), g && !this.settings.closeButton && g.parentNode.removeChild(g), this.nextButton && (this.events.next = a(\"click\", {\n                        onElement: this.nextButton,\n                        withCallback: function(t, i) {\n                            t.preventDefault(), e.nextSlide();\n                        }\n                    })), this.prevButton && (this.events.prev = a(\"click\", {\n                        onElement: this.prevButton,\n                        withCallback: function(t, i) {\n                            t.preventDefault(), e.prevSlide();\n                        }\n                    })), this.settings.closeOnOutsideClick && (this.events.outClose = a(\"click\", {\n                        onElement: d,\n                        withCallback: function(t, i) {\n                            e.preventOutsideClick || c(document.body, \"glightbox-mobile\") || u(t.target, \".ginner-container\") || u(t.target, \".gbtn\") || c(t.target, \"gnext\") || c(t.target, \"gprev\") || e.close();\n                        }\n                    })), o(this.elements, function(t, i) {\n                        e.slidesContainer.appendChild(t.instance.create()), t.slideNode = e.slidesContainer.querySelectorAll(\".gslide\")[i];\n                    }), K && h(document.body, \"glightbox-touch\"), this.events.resize = a(\"resize\", {\n                        onElement: window,\n                        withCallback: function() {\n                            e.resize();\n                        }\n                    }), this.built = !0;\n                }\n            },\n            {\n                key: \"resize\",\n                value: function() {\n                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;\n                    if ((e = e || this.activeSlide) && !c(e, \"zoomed\")) {\n                        var t = y(), i = e.querySelector(\".gvideo-wrapper\"), n = e.querySelector(\".gslide-image\"), s = this.slideDescription, l = t.width, o = t.height;\n                        if (l <= 768 ? h(document.body, \"glightbox-mobile\") : d(document.body, \"glightbox-mobile\"), i || n) {\n                            var r = !1;\n                            if (s && (c(s, \"description-bottom\") || c(s, \"description-top\")) && !c(s, \"gabsolute\") && (r = !0), n) {\n                                if (l <= 768) n.querySelector(\"img\");\n                                else if (r) {\n                                    var a = s.offsetHeight, u = n.querySelector(\"img\");\n                                    u.setAttribute(\"style\", \"max-height: calc(100vh - \".concat(a, \"px)\")), s.setAttribute(\"style\", \"max-width: \".concat(u.offsetWidth, \"px;\"));\n                                }\n                            }\n                            if (i) {\n                                var g = O(this.settings.plyr.config, \"ratio\") ? this.settings.plyr.config.ratio : \"\";\n                                if (!g) {\n                                    var v = i.clientWidth, f = i.clientHeight, p = v / f;\n                                    g = \"\".concat(v / p, \":\").concat(f / p);\n                                }\n                                var m = g.split(\":\"), x = this.settings.videosWidth, b = this.settings.videosWidth, S = (b = M(x) || -1 !== x.indexOf(\"px\") ? parseInt(x) : -1 !== x.indexOf(\"vw\") ? l * parseInt(x) / 100 : -1 !== x.indexOf(\"vh\") ? o * parseInt(x) / 100 : -1 !== x.indexOf(\"%\") ? l * parseInt(x) / 100 : parseInt(i.clientWidth)) / (parseInt(m[0]) / parseInt(m[1]));\n                                if (S = Math.floor(S), r && (o -= s.offsetHeight), b > l || S > o || o < S && l > b) {\n                                    var w = i.offsetWidth, T = i.offsetHeight, C = o / T, k = {\n                                        width: w * C,\n                                        height: T * C\n                                    };\n                                    i.parentNode.setAttribute(\"style\", \"max-width: \".concat(k.width, \"px\")), r && s.setAttribute(\"style\", \"max-width: \".concat(k.width, \"px;\"));\n                                } else i.parentNode.style.maxWidth = \"\".concat(x), r && s.setAttribute(\"style\", \"max-width: \".concat(x, \";\"));\n                            }\n                        }\n                    }\n                }\n            },\n            {\n                key: \"reload\",\n                value: function() {\n                    this.init();\n                }\n            },\n            {\n                key: \"updateNavigationClasses\",\n                value: function() {\n                    var e = this.loop();\n                    d(this.nextButton, \"disabled\"), d(this.prevButton, \"disabled\"), 0 == this.index && this.elements.length - 1 == 0 ? (h(this.prevButton, \"disabled\"), h(this.nextButton, \"disabled\")) : 0 !== this.index || e ? this.index !== this.elements.length - 1 || e || h(this.nextButton, \"disabled\") : h(this.prevButton, \"disabled\");\n                }\n            },\n            {\n                key: \"loop\",\n                value: function() {\n                    var e = O(this.settings, \"loopAtEnd\") ? this.settings.loopAtEnd : null;\n                    return e = O(this.settings, \"loop\") ? this.settings.loop : e, e;\n                }\n            },\n            {\n                key: \"close\",\n                value: function() {\n                    var e = this;\n                    if (!this.lightboxOpen) {\n                        if (this.events) {\n                            for(var t in this.events)this.events.hasOwnProperty(t) && this.events[t].destroy();\n                            this.events = null;\n                        }\n                        return !1;\n                    }\n                    if (this.closing) return !1;\n                    this.closing = !0, this.slidePlayerPause(this.activeSlide), this.fullElementsList && (this.elements = this.fullElementsList), this.bodyHiddenChildElms.length && o(this.bodyHiddenChildElms, function(e) {\n                        e.removeAttribute(\"aria-hidden\");\n                    }), h(this.modal, \"glightbox-closing\"), g(this.overlay, \"none\" == this.settings.openEffect ? \"none\" : this.settings.cssEfects.fade.out), g(this.activeSlide, this.settings.cssEfects[this.settings.closeEffect].out, function() {\n                        if (e.activeSlide = null, e.prevActiveSlideIndex = null, e.prevActiveSlide = null, e.built = !1, e.events) {\n                            for(var t in e.events)e.events.hasOwnProperty(t) && e.events[t].destroy();\n                            e.events = null;\n                        }\n                        var i = document.body;\n                        d(Q, \"glightbox-open\"), d(i, \"glightbox-open touching gdesc-open glightbox-touch glightbox-mobile gscrollbar-fixer\"), e.modal.parentNode.removeChild(e.modal), e.trigger(\"close\"), T(e.settings.onClose) && e.settings.onClose();\n                        var n = document.querySelector(\".gcss-styles\");\n                        n && n.parentNode.removeChild(n), e.lightboxOpen = !1, e.closing = null;\n                    });\n                }\n            },\n            {\n                key: \"destroy\",\n                value: function() {\n                    this.close(), this.clearAllEvents(), this.baseEvents && this.baseEvents.destroy();\n                }\n            },\n            {\n                key: \"on\",\n                value: function(e, t) {\n                    var i = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];\n                    if (!e || !T(t)) throw new TypeError(\"Event name and callback must be defined\");\n                    this.apiEvents.push({\n                        evt: e,\n                        once: i,\n                        callback: t\n                    });\n                }\n            },\n            {\n                key: \"once\",\n                value: function(e, t) {\n                    this.on(e, t, !0);\n                }\n            },\n            {\n                key: \"trigger\",\n                value: function(e) {\n                    var t = this, i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null, n = [];\n                    o(this.apiEvents, function(t, s) {\n                        var l = t.evt, o = t.once, r = t.callback;\n                        l == e && (r(i), o && n.push(s));\n                    }), n.length && o(n, function(e) {\n                        return t.apiEvents.splice(e, 1);\n                    });\n                }\n            },\n            {\n                key: \"clearAllEvents\",\n                value: function() {\n                    this.apiEvents.splice(0, this.apiEvents.length);\n                }\n            },\n            {\n                key: \"version\",\n                value: function() {\n                    return \"3.1.0\";\n                }\n            }\n        ]), e;\n    }();\n    return function() {\n        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = new te(e);\n        return t.init(), t;\n    };\n});\n\n\nfunction $9745ce6cd249f9c5$export$2e2bcd8739ae039(props) {\n    const [lightbox, setLightbox] = (0, $88a9540d1aad6464$export$60241385465d0a34)(null);\n    (0, $88a9540d1aad6464$export$6d9c69b0de29b591)(()=>{\n        setLightbox((0, (/*@__PURE__*/$parcel$interopDefault($42107f3179039eb0$exports)))({\n            autoplayVideos: false,\n            draggable: true,\n            loop: false,\n            touchNavigation: true,\n            zoomable: true,\n            elements: []\n        }));\n    }, []);\n    const openLightbox = (evt)=>{\n        evt.preventDefault();\n        evt.stopPropagation();\n        if (lightbox != null && Array.from(document.getElementsByClassName(\"glightbox\")).length > 0) {\n            const elements = Array.from(document.getElementsByClassName(\"glightbox\")).map((e)=>{\n                const r = {\n                    href: e.href\n                };\n                if (e?.dataset?.width) r.width = e?.dataset?.width;\n                if (e?.dataset?.height) r.height = e?.dataset?.height;\n                if (e?.dataset?.type) r.type = e?.dataset?.type;\n                if (e?.dataset?.srcset) r.srcset = e?.dataset?.srcset;\n                if (e?.dataset?.sizes) r.sizes = e?.dataset?.sizes;\n                return r;\n            });\n            lightbox.setElements(elements);\n            lightbox.open(null, elements.findIndex((e)=>e.href === evt.target.closest(\".glightbox\").href));\n        }\n    };\n    const getPreview = ()=>{\n        if (props?.data?.exception) console.warn(props.data);\n        if (props.data[\"providerName\"]) {\n            if (\"peertube\" == props.data[\"providerName\"].toLowerCase()) {\n                // default embed code\n                if (props.data[\"code\"]) return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n                    class: \"embed-container\",\n                    dangerouslySetInnerHTML: {\n                        __html: props.data[\"code\"]\n                    }\n                });\n            }\n            if (\"soundcloud\" == props.data[\"providerName\"].toLowerCase()) {\n                if (props.data[\"code\"]) return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $1dd5e274a4fb4aa6$export$2e2bcd8739ae039), {\n                    preview: (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).crop(props.preview.id, 1024, 270),\n                    url: `${props.data[\"code\"].match(/https:\\/\\/[^\"\\s]+/)[0]}&auto_play=true`,\n                    playBtnClass: \"soundcloud\"\n                });\n            }\n            if (\"bandcamp\" == props.data[\"providerName\"].toLowerCase()) {\n                if (props.data[\"code\"]) {\n                    let id = props.data[\"code\"].match(/https:\\/\\/.*album=\\d+/);\n                    if (!id) id = props.data[\"code\"].match(/https:\\/\\/.*track=\\d+/);\n                    if (id) return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $471cd1c649eea7ba$export$2e2bcd8739ae039), {\n                        preview: (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).crop(props.preview.id, 1024, 270),\n                        url: id[0]\n                    });\n                }\n            }\n            if (\"lichess.org\" == props.data[\"providerName\"].toLowerCase()) {\n                let url = props?.data?.url && typeof props?.data.url == \"string\" ? props.data?.url : props.url;\n                if ((0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).isValidUrl(url) && !url.match(/embed/) && !url.match(/study/) && !url.match(/blog/)) {\n                    url = new URL(url.replace(\"lichess.org/\", \"lichess.org/embed/\"));\n                    let id;\n                    try {\n                        id = url.pathname.split(\"/\").slice(-1)[0];\n                    } catch (e) {\n                        id = \"\";\n                    }\n                    url = new URL(url.href.replace(id, id.slice(0, 8)));\n                    if (id) return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $1dd5e274a4fb4aa6$export$2e2bcd8739ae039), {\n                        preview: (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).crop(props.preview.id, 270, 270),\n                        url: url,\n                        playBtnClass: \"lichess\"\n                    });\n                }\n            }\n            if (\"youtube\" == props.data[\"providerName\"].toLowerCase()) {\n                let url = props.url;\n                if (props?.preview?.id && url) {\n                    url = new URL(url);\n                    let video_id;\n                    let playlist_id;\n                    if (url.host == \"www.youtube.com\" || url.host == \"m.youtube.com\" || url.host == \"youtube.com\" || url.host == \"music.youtube.com\") {\n                        if (url.pathname.match(/shorts/)) {\n                            video_id = [\n                                `v=${url.pathname.split(\"/\").slice(-1)[0]}`\n                            ];\n                            playlist_id = [];\n                        } else if (url.pathname.match(/embed/)) {\n                            video_id = [\n                                `v=${url.pathname.split(\"/\").slice(-1)[0]}`\n                            ];\n                            playlist_id = [];\n                        } else {\n                            video_id = url.search.substring(1).split(\"&\").filter((e)=>e.match(/^v=/));\n                            playlist_id = url.search.substring(1).split(\"&\").filter((e)=>e.match(/^list=/));\n                        }\n                    }\n                    if (url.host == \"youtu.be\") {\n                        video_id = [\n                            `v=${url.pathname.slice(1)}`\n                        ];\n                        playlist_id = [];\n                    }\n                    let timecode = (0, $cd2f6546c5cf5c32$export$5375cda95f0b0eb4).getParam(\"t\", url.search.substring(1));\n                    if (playlist_id.length && video_id.length) return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $1dd5e274a4fb4aa6$export$2e2bcd8739ae039), {\n                        preview: (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).crop(props.preview.id, 1024, 270),\n                        url: `https://youtube.com/embed/${video_id[0].split(\"=\")[1]}?autoplay=1&controls=2&wmode=opaque&list=${playlist_id[0].split(\"=\")[1]}${timecode ? `&start=${timecode}` : \"\"}`,\n                        playBtnClass: \"youtube\"\n                    });\n                    if (playlist_id.length) return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $1dd5e274a4fb4aa6$export$2e2bcd8739ae039), {\n                        preview: (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).crop(props.preview.id, 1024, 270),\n                        url: `https://youtube.com/embed/videoseries?list=${playlist_id[0].split(\"=\")[1]}&autoplay=1&controls=2&wmode=opaque${timecode ? `&start=${timecode}` : \"\"}`,\n                        playBtnClass: \"youtube\"\n                    });\n                    if (video_id.length) return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $1dd5e274a4fb4aa6$export$2e2bcd8739ae039), {\n                        preview: (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).crop(props.preview.id, 1024, 270),\n                        url: `https://youtube.com/embed/${video_id[0].split(\"=\")[1]}?autoplay=1&controls=2&wmode=opaque${timecode ? `&start=${timecode}` : \"\"}`,\n                        playBtnClass: \"youtube\"\n                    });\n                }\n            }\n        }\n        if (props.data[\"content-type\"] == \"image/gif\") return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n            class: \"container d-flex justify-content-center flex-wrap align-items-center\"\n        }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"img\", {\n            href: (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).toApp(props.url),\n            class: \"img-fluid\",\n            \"data-origin\": props.url,\n            \"data-src\": props.url,\n            src: props.url\n        }));\n        if (/image/.test(props.data[\"content-type\"])) return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n            class: \"container d-flex justify-content-center flex-wrap align-items-center\"\n        }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"a\", {\n            href: (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).toApp(props.url),\n            class: \"glightbox\",\n            \"data-type\": \"image\",\n            \"data-srcset\": `${(0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).thumbnail(props.preview.id, 720)} 720w, ${(0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).thumbnail(props.preview.id, 1366)} 1366w, ${(0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).thumbnail(props.preview.id, 2048)} 2048w`,\n            \"data-sizes\": \"(max-width: 992px) 720px, (max-width: 1400px) 1366px, 2048px\",\n            onClick: (e)=>openLightbox(e)\n        }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"img\", {\n            href: (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).toApp(props.url),\n            class: \"img-fluid cursor-pointer\",\n            \"data-origin\": props.url,\n            \"data-src\": (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).thumbnail(props.preview.id, 1366),\n            src: (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).thumbnail(props.preview.id, 2048)\n        })));\n        // application/ogg: https://developer.mozilla.org/en-US/docs/Web/HTTP/Configuring_servers_for_Ogg_media\n        if (/video/.test(props.data[\"content-type\"]) || props.data[\"content-type\"] == \"application/ogg\") return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n            class: \"container d-flex justify-content-center flex-wrap align-items-center\"\n        }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"video\", {\n            class: \"img-fluid\",\n            controls: true,\n            src: props.url\n        }));\n        if (/audio/.test(props.data[\"content-type\"])) return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n            class: \"container d-flex justify-content-center flex-wrap align-items-center\"\n        }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"audio\", {\n            class: \"w-100\",\n            controls: true\n        }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"source\", {\n            src: props.url\n        })));\n        if (props.data[\"title\"] && (props.preview || props.data[\"description\"])) return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"a\", {\n            class: \"preview-card seamless-link d-inline-block\",\n            target: \"_blank\",\n            rel: \"noreferrer\",\n            href: (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).toApp(props.url)\n        }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n            class: \"card\",\n            style: \"max-width: 480px\"\n        }, props.preview && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"img\", {\n            class: \"card-img-top\",\n            src: (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).crop(props.preview.id, 320, 180)\n        }), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n            class: \"card-body p-1\"\n        }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"h5\", null, props.data[\"title\"]), props.data[\"description\"] && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"p\", null, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"small\", null, props.data[\"description\"].slice(0, 500))))));\n        return null;\n    };\n    if (!props.url || !props.data) return null;\n    let preview = getPreview();\n    if (preview) return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"p\", {\n        class: \"text-center card-text\"\n    }, preview);\n    return null;\n}\n\n\n\n\nfunction $b7ceefe51d9ca40b$export$2e2bcd8739ae039(props) {\n    const toggleFile = (evt)=>{\n        evt.stopPropagation();\n        evt.preventDefault();\n        if (typeof props.toggleFile == \"function\") props.toggleFile(evt.target.closest(\".file-embed\").id);\n    };\n    if (!props.files || props.files.length === 0) return null;\n    if (props.files && props.files.length > 3) return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"file-grid\"\n    }, props.files.map((e)=>(0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $c72cf4b6b78e8f8e$export$40e4fb50d87564f1), {\n            key: e.id,\n            invertFiles: props.invertFiles,\n            toggleFile: toggleFile,\n            file: e,\n            inWriter: props.inWriter\n        })));\n    return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"d-flex justify-content-center flex-wrap\"\n    }, props.files.map((e)=>(0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $c72cf4b6b78e8f8e$export$48621228a997a4e0), {\n            key: e.id,\n            toggleFile: toggleFile,\n            invertFiles: props.invertFiles,\n            file: e,\n            inWriter: props.inWriter\n        })));\n}\n\n\n\n\n\n\n\n\nfunction $374de5a37ad6a81a$export$2e2bcd8739ae039(props) {\n    const [lightbox, setLightbox] = (0, $88a9540d1aad6464$export$60241385465d0a34)(null);\n    const { t: t } = (0, $23287d5819478a30$export$9fc83ad70ead8663)();\n    const filePath = props.file.contentUrl ? `/files/${props.file.contentUrl}` : null;\n    let url = filePath;\n    (0, $88a9540d1aad6464$export$6d9c69b0de29b591)(()=>{\n        setLightbox((0, (/*@__PURE__*/$parcel$interopDefault($42107f3179039eb0$exports)))({\n            autoplayVideos: false,\n            draggable: true,\n            loop: false,\n            touchNavigation: true,\n            zoomable: true,\n            elements: []\n        }));\n    }, []);\n    const openLightbox = (evt)=>{\n        if (!props.inWriter) {\n            evt.preventDefault();\n            evt.stopPropagation();\n            if (lightbox != null && Array.from(document.getElementsByClassName(\"glightbox\")).length > 0) {\n                const elements = Array.from(document.getElementsByClassName(\"glightbox\")).map((e)=>{\n                    const r = {\n                        href: e.href\n                    };\n                    if (e?.dataset?.width) r.width = e?.dataset?.width;\n                    if (e?.dataset?.height) r.height = e?.dataset?.height;\n                    if (e?.dataset?.type) r.type = e?.dataset?.type;\n                    if (e?.dataset?.srcset) r.srcset = e?.dataset?.srcset;\n                    if (e?.dataset?.sizes) r.sizes = e?.dataset?.sizes;\n                    return r;\n                });\n                lightbox.setElements(elements);\n                lightbox.open(null, elements.findIndex((e)=>e.href === evt.target.closest(\".glightbox\").href));\n            }\n        }\n    };\n    if (props.file.contentUrl) {\n        if (/video/.test(props.file.type)) {\n            if (props.file.status == \"ready\") return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"video\", {\n                draggable: \"false\",\n                poster: (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).thumbnail(props.file.id, 1280, 720),\n                class: \"file-embed img-fluid contained-height video\",\n                controls: \"true\",\n                src: url,\n                id: props.file.id\n            });\n            return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"a\", {\n                class: \"file-embed file-loading image video-uploaded\",\n                id: props.file.id\n            }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"img\", {\n                class: \"img-fluid video-raw\",\n                src: (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).crop(props.file.id, 320, 180)\n            }), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n                class: \"video-not-ready\"\n            }, t(\"video_not_ready\")));\n        }\n        if (/audio/.test(props.file.type)) {\n            if (props.file.status == \"ready\") return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"audio\", {\n                controls: \"true\",\n                class: \"file-embed audio\",\n                src: (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).toApp(url),\n                id: props.file.id\n            });\n            return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"a\", {\n                class: \"file-embed file-loading image video-uploaded\",\n                id: props.file.id\n            }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n                class: \"audio-not-ready\"\n            }, t(\"audio_not_ready\")));\n        }\n        if (/pdf/.test(props.file.type)) return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"a\", {\n            \"data-origin\": (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).toApp(filePath),\n            draggable: \"false\",\n            href: !props.inWriter ? (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).toApp(url) : undefined,\n            className: `glightbox file-embed pdf-outline image${props.file.removed ? \" removed\" : \"\"}`,\n            id: props.file.id,\n            \"data-width\": \"calc(90vw - 10px)\",\n            \"data-height\": \"100vh\",\n            onClick: (e)=>openLightbox(e)\n        }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"img\", {\n            class: \"img-fluid\",\n            src: (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).thumbnail(props.file.id, 420, 994)\n        }), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n            class: \"remove-button\",\n            style: props.file.removed ? \"color:red\" : \"\",\n            onClick: (e)=>props.toggleFile(e)\n        }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $607f51540ffcd426$export$8b29a4b6778bf7f), {\n            family: \"solid\",\n            icon: \"times\"\n        })));\n        if (/image/.test(props.file.type)) {\n            if (props.file.type == \"image/gif\") return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"a\", {\n                \"data-origin\": (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).toApp(filePath),\n                draggable: \"false\",\n                href: !props.inWriter ? (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).toApp(filePath) : undefined,\n                className: `glightbox file-embed image${props.file.removed ? \" removed\" : \"\"}`,\n                id: props.file.id,\n                \"data-type\": \"image\",\n                onClick: (e)=>openLightbox(e)\n            }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"img\", {\n                class: \"img-fluid\",\n                src: (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).toApp(filePath)\n            }), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n                class: \"remove-button\",\n                style: props.file.removed ? \"color:red\" : \"\",\n                onClick: (e)=>props.toggleFile(e)\n            }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $607f51540ffcd426$export$8b29a4b6778bf7f), {\n                family: \"solid\",\n                icon: \"times\"\n            })));\n            return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"a\", {\n                \"data-origin\": (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).toApp(filePath),\n                draggable: \"false\",\n                \"data-type\": \"image\",\n                \"data-srcset\": `${(0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).thumbnail(props.file.id, 720)} 720w, ${(0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).thumbnail(props.file.id, 1366)} 1366w, ${(0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).thumbnail(props.file.id, 2048)} 2048w`,\n                \"data-sizes\": \"(max-width: 992px) 720px, (max-width: 1400px) 1366px, 2048px\",\n                href: !props.inWriter ? (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).toApp(filePath) : undefined,\n                className: `glightbox file-embed image${props.file.removed ? \" removed\" : \"\"}`,\n                id: props.file.id,\n                onClick: (e)=>openLightbox(e)\n            }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"img\", {\n                class: \"img-fluid\",\n                src: (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).thumbnail(props.file.id, 720)\n            }), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n                class: \"remove-button\",\n                style: props.file.removed ? \"color:red\" : \"\",\n                onClick: (e)=>props.toggleFile(e)\n            }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $607f51540ffcd426$export$8b29a4b6778bf7f), {\n                family: \"solid\",\n                icon: \"times\"\n            })));\n        }\n    }\n    if (props.file.status == \"loading\") return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"file-embed file-placeholder\",\n        id: props.file.id\n    });\n    return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"file-embed file-placeholder\",\n        id: props.file.id\n    }, props.file[\"error\"] ? (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"orange-error\"\n    }, \"\\xd7\") : (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"spinner orange-spinner\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", null), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", null), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", null), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", null), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", null)), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"progress-bar\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        style: {\n            width: `${props.file.progress}%`\n        }\n    })));\n}\n\n\n\n\n\n\nvar $a64402709a5ef811$exports = {};\n/*! mobile-drag-drop 3.0.0-rc.0 | Copyright (c) 2022 Tim Ruffles | MIT License */ !function(t, i) {\n    i($a64402709a5ef811$exports);\n}($a64402709a5ef811$exports, function(t) {\n    \"use strict\";\n    var c = \"dnd-poly-\", s = [\n        \"none\",\n        \"copy\",\n        \"copyLink\",\n        \"copyMove\",\n        \"link\",\n        \"linkMove\",\n        \"move\",\n        \"all\"\n    ], f = [\n        \"none\",\n        \"copy\",\n        \"move\",\n        \"link\"\n    ];\n    function i() {\n        var t = !1;\n        try {\n            var i = Object.defineProperty({}, \"passive\", {\n                get: function() {\n                    t = !0;\n                }\n            });\n            window.addEventListener(\"test\", null, i);\n        } catch (t) {}\n        return t;\n    }\n    var e = i();\n    function l(t) {\n        return t && t.tagName;\n    }\n    function h(t, i, s) {\n        void 0 === s && (s = !0), document.addEventListener(t, i, !!e && {\n            passive: s\n        });\n    }\n    function n(t, i) {\n        document.removeEventListener(t, i);\n    }\n    function u(t, i, s, n) {\n        void 0 === n && (n = !1);\n        var h = e ? {\n            passive: !0,\n            capture: n\n        } : n;\n        return t.addEventListener(i, s, h), {\n            off: function() {\n                t.removeEventListener(i, s, h);\n            }\n        };\n    }\n    function o(t) {\n        return 0 === t.length ? 0 : t.reduce(function(t, i) {\n            return i + t;\n        }, 0) / t.length;\n    }\n    function r(t, i) {\n        for(var s = 0; s < t.changedTouches.length; s++)if (t.changedTouches[s].identifier === i) return !0;\n        return !1;\n    }\n    function a(t, i, s) {\n        for(var n = [], h = [], e = 0; e < i.touches.length; e++){\n            var r = i.touches[e];\n            n.push(r[t + \"X\"]), h.push(r[t + \"Y\"]);\n        }\n        s.x = o(n), s.y = o(h);\n    }\n    var d = [\n        \"\",\n        \"-webkit-\"\n    ];\n    function v(t, i, s, n, h) {\n        var e = i.x, i = i.y;\n        n && (e += n.x, i += n.y), (h = void 0 === h || h) && (e -= parseInt(t.offsetWidth, 10) / 2, i -= parseInt(t.offsetHeight, 10) / 2);\n        for(var r = \"translate3d(\" + e + \"px,\" + i + \"px, 0)\", o = 0; o < d.length; o++){\n            var u = d[o] + \"transform\";\n            t.style[u] = r + \" \" + s[o];\n        }\n    }\n    var p = (Object.defineProperty(g.prototype, \"dropEffect\", {\n        get: function() {\n            return this.t;\n        },\n        set: function(t) {\n            0 !== this.i.mode && -1 < s.indexOf(t) && (this.t = t);\n        },\n        enumerable: !1,\n        configurable: !0\n    }), Object.defineProperty(g.prototype, \"types\", {\n        get: function() {\n            if (0 !== this.i.mode) return Object.freeze(this.i.types);\n        },\n        enumerable: !1,\n        configurable: !0\n    }), Object.defineProperty(g.prototype, \"effectAllowed\", {\n        get: function() {\n            return this.i.effectAllowed;\n        },\n        set: function(t) {\n            2 === this.i.mode && -1 < s.indexOf(t) && (this.i.effectAllowed = t);\n        },\n        enumerable: !1,\n        configurable: !0\n    }), g.prototype.setData = function(t, i) {\n        if (2 === this.i.mode) {\n            if (-1 < t.indexOf(\" \")) throw new Error(\"illegal arg: type contains space\");\n            this.i.data[t] = i, -1 === this.i.types.indexOf(t) && this.i.types.push(t);\n        }\n    }, g.prototype.getData = function(t) {\n        if (1 === this.i.mode || 2 === this.i.mode) return this.i.data[t] || \"\";\n    }, g.prototype.clearData = function(t) {\n        2 === this.i.mode && (t && this.i.data[t] ? (delete this.i.data[t], -1 < (t = this.i.types.indexOf(t)) && this.i.types.splice(t, 1)) : (this.i.data = {}, this.i.types = []));\n    }, g.prototype.setDragImage = function(t, i, s) {\n        2 === this.i.mode && this.h(t, i, s);\n    }, g);\n    function g(t, i) {\n        this.i = t, this.h = i, this.t = f[0];\n    }\n    function m(t, i) {\n        return t ? t === s[0] ? f[0] : 0 === t.indexOf(s[1]) || t === s[7] ? f[1] : 0 === t.indexOf(s[4]) ? f[3] : t === s[6] ? f[2] : f[1] : 3 === i.nodeType && \"A\" === i.tagName ? f[3] : f[1];\n    }\n    function y(u, t, a, i, s, n, c) {\n        void 0 === c && (c = null);\n        s = function(t, i, s, n, h, e, r) {\n            void 0 === c && (r = null);\n            var o = a.changedTouches[0], n = new Event(u, {\n                bubbles: !0,\n                cancelable: n\n            });\n            n.dataTransfer = e, n.relatedTarget = r, n.screenX = o.screenX, n.screenY = o.screenY, n.clientX = o.clientX, n.clientY = o.clientY, n.pageX = o.pageX, n.pageY = o.pageY;\n            t = t.getBoundingClientRect();\n            return n.offsetX = n.clientX - t.left, n.offsetY = n.clientY - t.top, n;\n        }(t, 0, 0, n = void 0 === n || n, document.defaultView, s, c), s = !t.dispatchEvent(s);\n        return i.mode = 0, s;\n    }\n    function b(t, i) {\n        if (!t || t === s[7]) return i;\n        if (i === f[1]) {\n            if (0 === t.indexOf(f[1])) return f[1];\n        } else if (i === f[3]) {\n            if (0 === t.indexOf(f[3]) || -1 < t.indexOf(\"Link\")) return f[3];\n        } else if (i === f[2] && (0 === t.indexOf(f[2]) || -1 < t.indexOf(\"Move\"))) return f[2];\n        return f[0];\n    }\n    var w = (x.prototype.o = function() {\n        var n = this;\n        this.u = 1, this.l = f[0], this.v = {\n            data: {},\n            effectAllowed: void 0,\n            mode: 3,\n            types: []\n        }, this.p = {\n            x: null,\n            y: null\n        }, this.g = {\n            x: null,\n            y: null\n        };\n        var h = this.m;\n        if (this.I = new p(this.v, function(t, i, s) {\n            h = t, \"number\" != typeof i && \"number\" != typeof s || (n.j = {\n                x: i || 0,\n                y: s || 0\n            });\n        }), this.v.mode = 2, this.I.dropEffect = f[0], y(\"dragstart\", this.m, this.k, this.v, this.I)) return this.u = 3, this.C(), !1;\n        a(\"page\", this.k, this.g);\n        var i, t, s = this.S.dragImageSetup(h);\n        return this.A = (i = s, d.map(function(t) {\n            t = i.style[t + \"transform\"];\n            return t && \"none\" !== t ? t.replace(/translate\\(\\D*\\d+[^,]*,\\D*\\d+[^,]*\\)\\s*/g, \"\") : \"\";\n        })), s.style.position = \"absolute\", s.style.left = \"0px\", s.style.top = \"0px\", s.style.zIndex = \"999999\", s.classList.add(\"dnd-poly-drag-image\"), s.classList.add(\"dnd-poly-icon\"), this.O = s, this.j || (this.S.dragImageOffset ? this.j = {\n            x: this.S.dragImageOffset.x,\n            y: this.S.dragImageOffset.y\n        } : this.S.dragImageCenterOnTouch ? (t = getComputedStyle(h), this.j = {\n            x: 0 - parseInt(t.marginLeft, 10),\n            y: 0 - parseInt(t.marginTop, 10)\n        }) : (s = h.getBoundingClientRect(), t = getComputedStyle(h), this.j = {\n            x: s.left - this.M.clientX - parseInt(t.marginLeft, 10) + s.width / 2,\n            y: s.top - this.M.clientY - parseInt(t.marginTop, 10) + s.height / 2\n        })), v(this.O, this.g, this.A, this.j, this.S.dragImageCenterOnTouch), document.body.appendChild(this.O), this.D = window.setInterval(function() {\n            n.F || (n.F = !0, n.N(), n.F = !1);\n        }, this.S.iterationInterval), !0;\n    }, x.prototype.C = function() {\n        this.D && (clearInterval(this.D), this.D = null), n(\"touchmove\", this.P), n(\"touchend\", this.T), n(\"touchcancel\", this.T), this.O && (this.O.parentNode.removeChild(this.O), this.O = null), this.L(this.S, this.k, this.u);\n    }, x.prototype._ = function(t) {\n        var s = this;\n        if (!1 !== r(t, this.M.identifier)) {\n            if (this.k = t, 0 === this.u) {\n                var i = void 0;\n                if (this.S.dragStartConditionOverride) try {\n                    i = this.S.dragStartConditionOverride(t);\n                } catch (t) {\n                    i = !1;\n                }\n                else i = 1 === t.touches.length;\n                return i ? void (!0 === this.o() && (this.H.preventDefault(), t.preventDefault())) : void this.C();\n            }\n            if (t.preventDefault(), a(\"client\", t, this.p), a(\"page\", t, this.g), this.S.dragImageTranslateOverride) try {\n                var n = !1;\n                if (this.S.dragImageTranslateOverride(t, {\n                    x: this.p.x,\n                    y: this.p.y\n                }, this.V, function(t, i) {\n                    s.O && (n = !0, s.p.x += t, s.p.y += i, s.g.x += t, s.g.y += i, v(s.O, s.g, s.A, s.j, s.S.dragImageCenterOnTouch));\n                }), n) return;\n            } catch (t) {}\n            v(this.O, this.g, this.A, this.j, this.S.dragImageCenterOnTouch);\n        }\n    }, x.prototype.X = function(t) {\n        if (!1 !== r(t, this.M.identifier)) {\n            if (this.S.dragImageTranslateOverride) try {\n                this.S.dragImageTranslateOverride(void 0, void 0, void 0, function() {});\n            } catch (t) {}\n            0 !== this.u ? (t.preventDefault(), this.u = \"touchcancel\" === t.type ? 3 : 2) : this.C();\n        }\n    }, x.prototype.N = function() {\n        var t = this, i = this.l;\n        this.v.mode = 3, this.I.dropEffect = f[0];\n        var s, n, h, e, r, o = y(\"drag\", this.m, this.k, this.v, this.I);\n        if (o && (this.l = f[0]), o || 2 === this.u || 3 === this.u) return this.Y(this.u) ? (e = this.m, s = this.O, n = this.A, a = function() {\n            t.q();\n        }, void (\"hidden\" !== (r = getComputedStyle(e)).visibility && \"none\" !== r.display ? (s.classList.add(\"dnd-poly-snapback\"), h = getComputedStyle(s), o = parseFloat(h.transitionDuration), isNaN(o) || 0 === o ? a() : ((e = {\n            x: (u = e.getBoundingClientRect()).left,\n            y: u.top\n        }).x += document.body.scrollLeft || document.documentElement.scrollLeft, e.y += document.body.scrollTop || document.documentElement.scrollTop, e.x -= parseInt(r.marginLeft, 10), e.y -= parseInt(r.marginTop, 10), u = parseFloat(h.transitionDelay), u = Math.round(1e3 * (o + u)), v(s, e, n, void 0, !1), setTimeout(a, u))) : a())) : void this.q();\n        var u = this.S.elementFromPoint(this.p.x, this.p.y), a = this.B;\n        u !== this.V && u !== this.B && (this.V = u, null !== this.B && (this.v.mode = 3, this.I.dropEffect = f[0], y(\"dragexit\", this.B, this.k, this.v, this.I, !1)), null === this.V ? this.B = this.V : (this.v.mode = 3, this.I.dropEffect = m(this.v.effectAllowed, this.m), y(\"dragenter\", this.V, this.k, this.v, this.I) ? (this.B = this.V, this.l = b(this.I.effectAllowed, this.I.dropEffect)) : this.V !== document.body && (this.B = document.body))), a !== this.B && l(a) && (this.v.mode = 3, this.I.dropEffect = f[0], y(\"dragleave\", a, this.k, this.v, this.I, !1, this.B)), l(this.B) && (this.v.mode = 3, this.I.dropEffect = m(this.v.effectAllowed, this.m), !1 === y(\"dragover\", this.B, this.k, this.v, this.I) ? this.l = f[0] : this.l = b(this.I.effectAllowed, this.I.dropEffect)), i !== this.l && this.O.classList.remove(c + i);\n        i = c + this.l;\n        this.O.classList.add(i);\n    }, x.prototype.Y = function(t) {\n        t = this.l === f[0] || null === this.B || 3 === t;\n        return t ? l(this.B) && (this.v.mode = 3, this.I.dropEffect = f[0], y(\"dragleave\", this.B, this.k, this.v, this.I, !1)) : l(this.B) && (this.v.mode = 1, this.I.dropEffect = this.l, !0 === y(\"drop\", this.B, this.k, this.v, this.I) ? this.l = this.I.dropEffect : this.l = f[0]), t;\n    }, x.prototype.q = function() {\n        this.v.mode = 3, this.I.dropEffect = this.l, y(\"dragend\", this.m, this.k, this.v, this.I, !1), this.u = 2, this.C();\n    }, x);\n    function x(t, i, s, n) {\n        this.H = t, this.S = i, this.m = s, this.L = n, this.u = 0, this.V = null, this.B = null, this.k = t, this.M = t.changedTouches[0], this.P = this._.bind(this), this.T = this.X.bind(this), h(\"touchmove\", this.P, !1), h(\"touchend\", this.T, !1), h(\"touchcancel\", this.T, !1);\n    }\n    var I, j = {\n        iterationInterval: 150,\n        tryFindDraggableTarget: function(t) {\n            for(var i = 0, s = t.composedPath(); i < s.length; i++){\n                var n = s[i];\n                do if (!1 !== n.draggable) {\n                    if (!0 === n.draggable) return n;\n                    if (n.getAttribute && \"true\" === n.getAttribute(\"draggable\")) return n;\n                }\n                while ((n = n.parentNode) && n !== document.body);\n            }\n        },\n        dragImageSetup: function(t) {\n            var i = t.cloneNode(!0);\n            return function t(i, s) {\n                if (1 === i.nodeType) {\n                    for(var n, h, e = getComputedStyle(i), r = 0; r < e.length; r++){\n                        var o = e[r];\n                        s.style.setProperty(o, e.getPropertyValue(o), e.getPropertyPriority(o));\n                    }\n                    s.style.pointerEvents = \"none\", s.removeAttribute(\"id\"), s.removeAttribute(\"class\"), s.removeAttribute(\"draggable\"), \"CANVAS\" === s.nodeName && (n = s, h = (h = i).getContext(\"2d\").getImageData(0, 0, h.width, h.height), n.getContext(\"2d\").putImageData(h, 0, 0));\n                }\n                if (i.hasChildNodes()) for(r = 0; r < i.childNodes.length; r++)t(i.childNodes[r], s.childNodes[r]);\n                !function t(i) {\n                    if (i instanceof HTMLElement && (i.style.pointerEvents = \"none\"), i.children && i.children.length) for(var s = 0; s < i.children.length; s++)t(i.children[s]);\n                    if (i.shadowRoot && i.shadowRoot.children.length) for(s = 0; s < i.shadowRoot.children.length; s++)t(i.shadowRoot.children[s]);\n                }(s);\n            }(t, i), i;\n        },\n        elementFromPoint: function(t, i) {\n            var s = document.elementFromPoint(t, i);\n            if (s) {\n                for(; s.shadowRoot;){\n                    var n = s.shadowRoot.elementFromPoint(t, i);\n                    if (null === n || n === s) break;\n                    s = n;\n                }\n                return s;\n            }\n        }\n    };\n    function k(i) {\n        if (!I) {\n            var t = j.tryFindDraggableTarget(i);\n            if (t) try {\n                I = new w(i, j, t, S);\n            } catch (t) {\n                throw S(j, i, 3), t;\n            }\n        }\n    }\n    function C(t) {\n        function i(t) {\n            h.off(), e.off(), r.off(), o.off(), s && s.dispatchEvent(new CustomEvent(\"dnd-poly-dragstart-cancel\", {\n                bubbles: !0,\n                cancelable: !0\n            })), clearTimeout(n);\n        }\n        var s = t.target;\n        s && s.dispatchEvent(new CustomEvent(\"dnd-poly-dragstart-pending\", {\n            bubbles: !0,\n            cancelable: !0\n        }));\n        var n = window.setTimeout(function() {\n            h.off(), e.off(), r.off(), o.off(), k(t);\n        }, j.holdToDrag), h = u(s, \"touchend\", i), e = u(s, \"touchcancel\", i), r = u(s, \"touchmove\", i), o = u(window, \"scroll\", i, !0);\n    }\n    function S(t, i, s) {\n        if (0 === s && t.defaultActionOverride) try {\n            t.defaultActionOverride(i), i.defaultPrevented;\n        } catch (t) {}\n        I = null;\n    }\n    t.polyfill = function(i) {\n        if (i && Object.keys(i).forEach(function(t) {\n            j[t] = i[t];\n        }), !j.forceApply) {\n            t = (t = !!window.chrome || /chrome/i.test(navigator.userAgent), {\n                dragEvents: \"ondragstart\" in document.documentElement,\n                draggable: \"draggable\" in document.documentElement,\n                userAgentSupportingNativeDnD: !(/iPad|iPhone|iPod|Android/.test(navigator.userAgent) || t && \"ontouchstart\" in document.documentElement)\n            });\n            if (t.userAgentSupportingNativeDnD && t.draggable && t.dragEvents) return !1;\n        }\n        var t;\n        return j.holdToDrag ? h(\"touchstart\", C, !1) : h(\"touchstart\", k, !1), !0;\n    }, t.supportsPassiveEventListener = i, Object.defineProperty(t, \"G\", {\n        value: !0\n    });\n});\n\n\n\nfunction $469480f865369d3d$export$2e2bcd8739ae039(props) {\n    const [lightbox, setLightbox] = (0, $88a9540d1aad6464$export$60241385465d0a34)(null);\n    const filePath = props.file.contentUrl ? `/files/${props.file.contentUrl}` : null;\n    let url = filePath;\n    const innerRef = (0, $88a9540d1aad6464$export$b8f5890fc79d6aca)(null);\n    (0, $a64402709a5ef811$exports.polyfill)({\n        tryFindDraggableTarget: (e)=>{\n            if (!props.inWriter) return undefined;\n            const cp = e.composedPath();\n            for (const o of cp){\n                let el = o;\n                do {\n                    if (el.draggable === false) continue;\n                    if (el.draggable === true) return el;\n                    if (el.getAttribute && el.getAttribute(\"draggable\") === \"true\") return el;\n                }while ((el = el.parentNode) && el !== document.body);\n            }\n        }\n    });\n    (0, $88a9540d1aad6464$export$6d9c69b0de29b591)(()=>{\n        setLightbox((0, (/*@__PURE__*/$parcel$interopDefault($42107f3179039eb0$exports)))({\n            autoplayVideos: false,\n            draggable: true,\n            loop: false,\n            touchNavigation: true,\n            zoomable: true,\n            elements: []\n        }));\n    }, []);\n    const openLightbox = (evt)=>{\n        if (!props.inWriter) {\n            evt.preventDefault();\n            evt.stopPropagation();\n            if (lightbox != null && Array.from(document.getElementsByClassName(\"glightbox\")).length > 0) {\n                const elements = Array.from(document.getElementsByClassName(\"glightbox\")).map((e)=>{\n                    const r = {\n                        href: e.href\n                    };\n                    if (e?.dataset?.width) r.width = e?.dataset?.width;\n                    if (e?.dataset?.height) r.height = e?.dataset?.height;\n                    if (e?.dataset?.type) r.type = e?.dataset?.type;\n                    if (e?.dataset?.srcset) r.srcset = e?.dataset?.srcset;\n                    if (e?.dataset?.sizes) r.sizes = e?.dataset?.sizes;\n                    return r;\n                });\n                lightbox.setElements(elements);\n                lightbox.open(null, elements.findIndex((e)=>e.href === evt.target.closest(\".glightbox\").href));\n            }\n        }\n    };\n    const fileDragStart = (e)=>{\n        e.target.style.opacity = \"0.4\";\n        e.dataTransfer.effectAllowed = \"move\";\n        e.dataTransfer.setData(\"id\", props.file.id);\n        document.querySelectorAll(\".remove-button\").forEach((e)=>e.style.display = \"none\");\n    };\n    const fileDragEnd = (e)=>{\n        e.target.style.opacity = \"1\";\n        document.querySelectorAll(\".remove-button\").forEach((e)=>e.style.display = \"block\");\n        document.querySelectorAll(\".drag-over\").forEach((e)=>e.classList.remove(\"drag-over\"));\n    };\n    const fileDragEnter = (e)=>{\n        e.preventDefault();\n        innerRef.current.classList.add(\"drag-over\");\n        return false;\n    };\n    const fileDragLeave = (e)=>{\n        e.preventDefault();\n        innerRef.current.classList.remove(\"drag-over\");\n        return false;\n    };\n    // necessary to declare a drop target\n    const fileDragOver = (e)=>{\n        e.preventDefault();\n        return false;\n    };\n    const fileDrop = (e)=>{\n        // stops the browser from redirecting.\n        e.preventDefault();\n        props.invertFiles(e.dataTransfer.getData(\"id\"), props.file.id);\n        return false;\n    };\n    (0, $88a9540d1aad6464$export$6d9c69b0de29b591)(()=>{\n        if (props.inWriter && props.file.status == \"ready\" && innerRef && innerRef.current) {\n            innerRef.current.addEventListener(\"dragstart\", fileDragStart);\n            innerRef.current.addEventListener(\"dragend\", fileDragEnd);\n            innerRef.current.addEventListener(\"dragover\", fileDragOver);\n            innerRef.current.addEventListener(\"dragenter\", fileDragEnter);\n            innerRef.current.addEventListener(\"dragleave\", fileDragLeave);\n            innerRef.current.addEventListener(\"drop\", fileDrop);\n            return ()=>{\n                innerRef.current.removeEventListener(\"dragstart\", fileDragStart);\n                innerRef.current.removeEventListener(\"dragend\", fileDragEnd);\n                innerRef.current.removeEventListener(\"dragover\", fileDragOver);\n                innerRef.current.removeEventListener(\"dragenter\", fileDragEnter);\n                innerRef.current.removeEventListener(\"dragleave\", fileDragLeave);\n                innerRef.current.removeEventListener(\"drop\", fileDrop);\n            };\n        }\n    }, []);\n    switch(props.file.status){\n        case \"raw\":\n            return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"a\", {\n                class: \"file-embed file-loading rounded\",\n                id: props.file.id\n            }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n                class: \"miniature\"\n            }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $607f51540ffcd426$export$8b29a4b6778bf7f), {\n                family: \"regular\",\n                icon: \"check-circle\"\n            })));\n        case \"loading\":\n            return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"a\", {\n                class: \"file-embed file-loading rounded\",\n                id: props.file.id\n            }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n                class: \"miniature\"\n            }));\n        case \"uploading\":\n        case \"initial\":\n            return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"a\", {\n                class: \"file-embed file-loading rounded\",\n                id: props.file.id\n            }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n                class: \"miniature video-raw\",\n                style: `background-image:url(\"${(0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).crop(props.file.id, 160, 160)}\")`\n            }), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n                class: \"spinner orange-spinner\"\n            }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", null), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", null), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", null), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", null), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", null)), props.file && props.file.progress > 0 && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n                class: \"progress-bar\"\n            }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n                style: {\n                    width: `${props.file.progress}%`\n                }\n            })));\n        case \"ready\":\n        default:\n            if (/pdf/.test(props.file.type) || /video/.test(props.file.type)) return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"a\", {\n                ref: innerRef,\n                draggable: !!props.inWriter,\n                \"data-origin\": (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).toApp(filePath),\n                href: !props.inWriter ? (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).toApp(url) : undefined,\n                className: `${!props.inWriter ? \"glightbox \" : \"\"}file-embed rounded ${props.file.removed ? \" removed\" : \"\"}`,\n                id: props.file.id,\n                \"data-width\": \"calc(90vw - 10px)\",\n                \"data-height\": \"100vh\",\n                onClick: (e)=>openLightbox(e)\n            }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n                className: `miniature${props.file.removed ? \" removed\" : \"\"}`,\n                style: `background-image:url(\"${(0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).crop(props.file.id, 160, 160)}\")`\n            }), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n                class: \"remove-button\",\n                style: props.file.removed ? \"color:red\" : \"\",\n                onClick: (e)=>props.toggleFile(e)\n            }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $607f51540ffcd426$export$8b29a4b6778bf7f), {\n                family: \"solid\",\n                icon: \"times\"\n            })));\n            if (/audio/.test(props.file.type)) return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"a\", {\n                ref: innerRef,\n                draggable: !!props.inWriter,\n                \"data-origin\": (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).toApp(filePath),\n                href: !props.inWriter ? (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).toApp(url) : undefined,\n                className: `${!props.inWriter ? \"glightbox \" : \"\"}file-embed rounded ${props.file.removed ? \" removed\" : \"\"}`,\n                id: props.file.id,\n                \"data-width\": \"calc(90vw - 10px)\",\n                \"data-height\": \"100vh\",\n                onClick: (e)=>openLightbox(e)\n            }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n                className: `miniature audio-miniature${props.file.removed ? \" removed\" : \"\"}`\n            }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $607f51540ffcd426$export$8b29a4b6778bf7f), {\n                family: \"solid\",\n                icon: \"headphones-alt\"\n            })), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n                class: \"remove-button\",\n                style: props.file.removed ? \"color:red\" : \"\",\n                onClick: (e)=>props.toggleFile(e)\n            }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $607f51540ffcd426$export$8b29a4b6778bf7f), {\n                family: \"solid\",\n                icon: \"times\"\n            })));\n            if (props.file.type == \"image/gif\") return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"a\", {\n                ref: innerRef,\n                draggable: !!props.inWriter,\n                \"data-origin\": (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).toApp(filePath),\n                href: !props.inWriter ? (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).toApp(filePath) : undefined,\n                class: `${!props.inWriter ? \"glightbox \" : \"\"}file-embed rounded`,\n                id: props.file.id,\n                \"data-type\": \"image\",\n                onClick: (e)=>openLightbox(e)\n            }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n                className: `miniature${props.file.removed ? \" removed\" : \"\"}`,\n                style: `background-image:url(\"${(0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).crop(props.file.id, 160, 160)}\")`\n            }), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n                class: \"remove-button\",\n                style: props.file.removed ? \"color:red\" : \"\",\n                onClick: (e)=>props.toggleFile(e)\n            }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $607f51540ffcd426$export$8b29a4b6778bf7f), {\n                family: \"solid\",\n                icon: \"times\"\n            })));\n            if (/image/.test(props.file.type)) return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"a\", {\n                ref: innerRef,\n                draggable: !!props.inWriter,\n                \"data-origin\": (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).toApp(filePath),\n                \"data-type\": \"image\",\n                \"data-srcset\": `${(0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).thumbnail(props.file.id, 720)} 720w, ${(0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).thumbnail(props.file.id, 1366)} 1366w, ${(0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).thumbnail(props.file.id, 2048)} 2048w`,\n                \"data-sizes\": \"(max-width: 992px) 720px, (max-width: 1400px) 1366px, 2048px\",\n                href: !props.inWriter ? (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).toApp(filePath) : undefined,\n                class: `${!props.inWriter ? \"glightbox \" : \"\"}file-embed rounded`,\n                id: props.file.id,\n                onClick: (e)=>openLightbox(e)\n            }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n                className: `miniature${props.file.removed ? \" removed\" : \"\"}`,\n                style: `background-image:url(\"${(0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).crop(props.file.id, 160, 160)}\")`\n            }), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n                class: \"remove-button\",\n                style: props.file.removed ? \"color:red\" : \"\",\n                onClick: (e)=>props.toggleFile(e)\n            }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $607f51540ffcd426$export$8b29a4b6778bf7f), {\n                family: \"solid\",\n                icon: \"times\"\n            })));\n    }\n}\n\n\nconst $c72cf4b6b78e8f8e$export$330d558700ffa676 = (0, $9745ce6cd249f9c5$export$2e2bcd8739ae039);\nconst $c72cf4b6b78e8f8e$export$ca445ff2f74d7dc4 = (0, $b7ceefe51d9ca40b$export$2e2bcd8739ae039);\nconst $c72cf4b6b78e8f8e$export$48621228a997a4e0 = (0, $374de5a37ad6a81a$export$2e2bcd8739ae039);\nconst $c72cf4b6b78e8f8e$export$40e4fb50d87564f1 = (0, $469480f865369d3d$export$2e2bcd8739ae039);\n\n\n\n\nfunction $bd90da8fd697beab$var$_extends() {\n    $bd90da8fd697beab$var$_extends = Object.assign ? Object.assign.bind() : function(target) {\n        for(var i = 1; i < arguments.length; i++){\n            var source = arguments[i];\n            for(var key in source)if (Object.prototype.hasOwnProperty.call(source, key)) target[key] = source[key];\n        }\n        return target;\n    };\n    return $bd90da8fd697beab$var$_extends.apply(this, arguments);\n}\nfunction $bd90da8fd697beab$export$2e2bcd8739ae039(props) {\n    const [preview, setPreview] = (0, $88a9540d1aad6464$export$60241385465d0a34)(null);\n    const [link, setLink] = (0, $88a9540d1aad6464$export$60241385465d0a34)(\"\");\n    const [text, setText] = (0, $88a9540d1aad6464$export$60241385465d0a34)(props.text || \"\");\n    const [title, setTitle] = (0, $88a9540d1aad6464$export$60241385465d0a34)(props.title || \"\");\n    const { t: t } = (0, $23287d5819478a30$export$9fc83ad70ead8663)();\n    const writerForm = (0, $88a9540d1aad6464$export$b8f5890fc79d6aca)(null);\n    const cleanForm = ()=>{\n        setPreview(null);\n        setLink(null);\n        setText(\"\");\n        setTitle(\"\");\n    };\n    const sendMessage = (writerForm)=>{\n        props.sendMessage(writerForm, {\n            // we get the raw value here because onChange() does not capture all possible inputs\n            // and then the values of text/title could not be up to date\n            title: writerForm?.current?.querySelector(\".title-input\")?.value,\n            text: writerForm?.current?.querySelector(\".text-input\")?.value\n        });\n        cleanForm();\n    };\n    const genPreview = (t)=>{\n        if (!t) return;\n        t.style.height = \"1px\";\n        t.style.height = `${25 + t.scrollHeight}px`;\n        // waiting for the dom to be updated\n        setTimeout(()=>{\n            const text = t.value;\n            let links = text.match(/(https?:\\/\\/[^\\s]+)/gi);\n            if (links && links[0] != link) (0, $cd2f6546c5cf5c32$export$7d6f1c8842f9f527).get(`/api/links/by_url?url=${encodeURIComponent(links[0])}`).then((r)=>{\n                if (r && t.value.indexOf(links[0]) >= 0) {\n                    setLink(links[0]);\n                    setPreview(r);\n                }\n            });\n        }, 0);\n    };\n    const onKeyPress = (event, doGenPreview = false)=>{\n        if (event.ctrlKey && (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).is_it_enter(event)) {\n            sendMessage(writerForm);\n            return;\n        }\n        if (![\n            \" \",\n            \"Enter\",\n            \"v\"\n        ].includes(event.key)) return;\n        if (doGenPreview) genPreview(event.currentTarget);\n    };\n    const onPaste = (event)=>{\n        props.addFiles(\"image/jpeg\", event.clipboardData.files);\n    };\n    (0, $88a9540d1aad6464$export$6d9c69b0de29b591)(()=>{\n        genPreview(document?.getElementById(props.id)?.querySelector(\".text-input\"));\n    }, []);\n    if (props.sending) return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"message-placeholder\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"spinner orange-spinner\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", null), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", null), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", null), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", null), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", null)));\n    return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        id: props.id,\n        class: \"writer\",\n        ref: writerForm\n    }, !props.isChild && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"input\", {\n        type: \"text\",\n        class: \"title-input\",\n        onKeyPress: (e)=>onKeyPress(e),\n        placeholder: t(\"title_placeholder\"),\n        value: title,\n        onChange: (e)=>setTitle(e.target.value)\n    }), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"textarea\", {\n        onKeyPress: (e)=>onKeyPress(e, true),\n        onPaste: (e)=>onPaste(e),\n        class: \"text-input\",\n        rows: \"5\",\n        autocomplete: \"off\",\n        autofocus: props.focus,\n        placeholder: t(\"text_placeholder\"),\n        maxlength: \"50000\",\n        value: text,\n        onChange: (e)=>setText(e.target.value)\n    }), !!preview && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $c72cf4b6b78e8f8e$export$330d558700ffa676), $bd90da8fd697beab$var$_extends({\n        inWriter: true\n    }, preview)), !!props.files.length && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $c72cf4b6b78e8f8e$export$ca445ff2f74d7dc4), {\n        files: props.files,\n        toggleFile: props.toggleFile,\n        invertFiles: props.invertFiles,\n        inWriter: true\n    }), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"options\"\n    }, (0, $cd2f6546c5cf5c32$export$644d8ea042df96a6)?.info?.upload?.image && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"button\", {\n        class: \"option\",\n        onClick: ()=>props.inputFile(\"image/*\", true),\n        title: t(\"upload_image\")\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $607f51540ffcd426$export$8b29a4b6778bf7f), {\n        family: \"regular\",\n        icon: \"images\"\n    })), (0, $cd2f6546c5cf5c32$export$644d8ea042df96a6)?.info?.upload?.video && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"button\", {\n        class: \"option\",\n        onClick: ()=>props.inputFile(\"video/*\"),\n        title: t(\"upload_video\")\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $607f51540ffcd426$export$8b29a4b6778bf7f), {\n        family: \"solid\",\n        icon: \"film\"\n    })), (0, $cd2f6546c5cf5c32$export$644d8ea042df96a6)?.info?.upload?.pdf && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"button\", {\n        class: \"option\",\n        onClick: ()=>props.inputFile(\"application/pdf\"),\n        title: t(\"upload_pdf\")\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $607f51540ffcd426$export$8b29a4b6778bf7f), {\n        family: \"regular\",\n        icon: \"file-pdf\"\n    })), (0, $cd2f6546c5cf5c32$export$644d8ea042df96a6)?.info?.upload?.audio && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"button\", {\n        class: \"option\",\n        onClick: ()=>props.inputFile(\"audio/*\"),\n        title: t(\"upload_audio\")\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $607f51540ffcd426$export$8b29a4b6778bf7f), {\n        family: \"solid\",\n        icon: \"headphones-alt\"\n    })), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"actions\"\n    }, !!props.cancel && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"button\", {\n        class: \"cancel\",\n        onClick: (e)=>props.cancel(e)\n    }, t(\"cancel\")), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"button\", {\n        disabled: !props.group || props.uploading,\n        type: \"submit\",\n        class: \"submit\",\n        onClick: ()=>sendMessage(writerForm)\n    }, t(\"submit\")))));\n}\n\n\nconst $b0c42e92c84db02f$export$29913b8f065577b2 = (0, $37e28339f35f2974$export$2e2bcd8739ae039);\nconst $b0c42e92c84db02f$export$d7a960146e1a269e = (0, $fe5a7484fb575b8e$export$2e2bcd8739ae039);\nconst $b0c42e92c84db02f$export$29beae8571dce55f = (0, $bd90da8fd697beab$export$2e2bcd8739ae039);\n\n\n\n\n\n\n\nfunction $2f916fd353a9e499$export$2e2bcd8739ae039() {\n    const { t: t } = (0, $23287d5819478a30$export$9fc83ad70ead8663)();\n    const { me: me } = (0, $5fa7d79990e2bc5d$export$11aeef812f154e9e)(\"me\");\n    const location = (0, $2e634cb2b6e12a73$export$45d76561a5302f2b)();\n    const searchParams = new URLSearchParams(location.search);\n    const [loaded, setLoaded] = (0, $88a9540d1aad6464$export$60241385465d0a34)(false);\n    const [title, setTitle] = (0, $88a9540d1aad6464$export$60241385465d0a34)(searchParams.get(\"title\") || \"\");\n    const [text, setText] = (0, $88a9540d1aad6464$export$60241385465d0a34)(searchParams.get(\"text\") || \"\");\n    const [url, setUrl] = (0, $88a9540d1aad6464$export$60241385465d0a34)(searchParams.get(\"url\") || \"\");\n    const parent = searchParams.get(\"parent\") || \"\";\n    const [files, setFiles] = (0, $88a9540d1aad6464$export$60241385465d0a34)([]);\n    const [group, setGroup] = (0, $88a9540d1aad6464$export$60241385465d0a34)(\"\");\n    (0, $88a9540d1aad6464$export$6d9c69b0de29b591)(()=>{\n        setTimeout(()=>{\n            (0, $cd2f6546c5cf5c32$export$3e32638432616b6).fetch().then((user)=>{\n                if (user.data[\"default_group\"]) setGroup(user.data[\"default_group\"]);\n                else if (user.groups.length == 1) setGroup(user.groups[0][\"id\"]);\n                if (searchParams.get(\"message\")) (0, $cd2f6546c5cf5c32$export$7d6f1c8842f9f527).get(`/api/messages/${searchParams.get(\"message\")}`).then((m)=>{\n                    if (m?.files?.length) Promise.all(m.files.map((f)=>(0, $cd2f6546c5cf5c32$export$7d6f1c8842f9f527).get(`/api/files/${f.id}`).then((f)=>f))).then((files)=>{\n                        setFiles(files);\n                        setTitle(m?.data?.title || \"\");\n                        setText(m?.data?.text || \"\");\n                        setUrl(\"\");\n                        setLoaded(true);\n                    });\n                    else {\n                        setTitle(m?.data?.title || \"\");\n                        setText(m?.data?.text || \"\");\n                        setUrl(\"\");\n                        setLoaded(true);\n                    }\n                });\n                else setLoaded(true);\n            });\n        }, 100);\n    }, []);\n    if (!loaded) return;\n    return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"main\", null, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $520fa8871428281e$export$42cfbb80f7861e77), null), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"content\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"article\", {\n        class: \"mt-2\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"container\"\n    }, !parent && me?.groups?.length > 1 && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"mb-1\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"label\", {\n        class: \"px-1\",\n        for: \"group_share_choice\"\n    }, t(\"group_share_choice\")), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"select\", {\n        value: group,\n        class: \"form-select\",\n        name: \"group_share_choice\",\n        onChange: (e)=>setGroup(e.target.value),\n        required: true\n    }, me?.groups.map((e)=>(0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"option\", {\n            key: e[\"id\"],\n            value: e[\"id\"]\n        }, e.name)))), !!parent && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"form-group\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"label\", {\n        for: \"apiKey\"\n    }, t(\"parent_message\"), \":\", \" \"), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"input\", {\n        type: \"text\",\n        name: \"parent_message\",\n        value: parent,\n        class: \"form-control font-size-80\",\n        readonly: \"readonly\"\n    })), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $b0c42e92c84db02f$export$d7a960146e1a269e), {\n        focus: true,\n        group: group,\n        title: title,\n        parent: parent,\n        text: text || url ? `${text}\\n${url}` : \"\",\n        files: files\n    })))));\n}\n\n\nconst $be03c4de42ac64ff$export$9c257beea3dbd13a = (0, $6f8b52f4496f3b9a$export$2e2bcd8739ae039);\nconst $be03c4de42ac64ff$export$1a13290ec7702c7 = (0, $dd2a1b0379ca9bf9$export$2e2bcd8739ae039);\nconst $be03c4de42ac64ff$export$959a4441e74dcd2b = (0, $4016a5cf4497ca7a$export$2e2bcd8739ae039);\nconst $be03c4de42ac64ff$export$35f3ae0a16fef81 = (0, $aed7e74f78402a69$export$2e2bcd8739ae039);\nconst $be03c4de42ac64ff$export$14834abbfce3b8cd = (0, $73f3a1fb1b71c71a$export$2e2bcd8739ae039);\nconst $be03c4de42ac64ff$export$4b31f5af7c5f8dee = (0, $2ed7e499aaac665f$export$2e2bcd8739ae039);\nconst $be03c4de42ac64ff$export$4b85d3515bd863a5 = (0, $a06567713ad1b415$export$2e2bcd8739ae039);\nconst $be03c4de42ac64ff$export$c9915453de10000b = (0, $2f916fd353a9e499$export$2e2bcd8739ae039);\n\n\n\n\nfunction $d0274a88e468a969$export$2e2bcd8739ae039(props) {\n    const { t: t } = (0, $23287d5819478a30$export$9fc83ad70ead8663)();\n    const { bookmarks: bookmarks } = (0, $5fa7d79990e2bc5d$export$11aeef812f154e9e)(\"bookmarks\");\n    return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"message-footer\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"infos\"\n    }, !props?.isPublic && props?.author && props?.author?.id === (0, $cd2f6546c5cf5c32$export$3e32638432616b6).id && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $73048c6b859c8a02$export$ffb0004e005737fa), null, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"a\", {\n        class: \"action seamless-link font-size-90 capitalize d-none d-sm-block\",\n        onClick: (e)=>props.editMessage(e)\n    }, t(\"edit\")), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"dot d-none d-sm-block\"\n    }, \"\")), !props?.isPublic && props?.isChild && props?.message && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $73048c6b859c8a02$export$ffb0004e005737fa), null, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $34f84368c0c9d98a$export$a6c7ac8248d6e38a), {\n        class: \"action seamless-link font-size-90 capitalize\",\n        to: `/messages/${props?.message.id}${props?.message?.children.length ? \"\" : \"?focus=reply\"}`\n    }, props?.message?.children.length ? props.message.children.some((e)=>(0, $cd2f6546c5cf5c32$export$6008d97729a90c74).isNew(e.id)) ? (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"b\", null, t(\"replies\", {\n        count: props.message.children.length\n    })) : t(\"replies\", {\n        count: props.message.children.length\n    }) : t(\"reply\")), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"dot\"\n    }, \"\")), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"date font-size-90\",\n        title: (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).humanFullDate(props?.message.createdAt)\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $be03c4de42ac64ff$export$35f3ae0a16fef81), {\n        timestamp: props?.message.createdAt\n    })), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $73048c6b859c8a02$export$ffb0004e005737fa), null, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"dot\"\n    }, \"\"), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"font-size-90\"\n    }, props?.author && props?.author?.name ? props.author.name : \"--\"))), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", null, !props?.isPublic && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"options dropdown\",\n        onClick: (e)=>e?.target?.closest(\".dropdown\")?.classList.toggle(\"active\")\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"none-if-follows-empty\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $607f51540ffcd426$export$8b29a4b6778bf7f), {\n        family: \"solid\",\n        icon: \"ellipsis-h\"\n    })), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"dropdown-menu dropdown-options\"\n    }, props?.author && props?.author?.id === (0, $cd2f6546c5cf5c32$export$3e32638432616b6).id && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"a\", {\n        class: \"seamless-link capitalize\",\n        onClick: (e)=>props.deleteMessage(e)\n    }, t(\"delete\")), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"a\", {\n        class: \"seamless-link capitalize\",\n        onClick: (e)=>props.openPublicLink(e)\n    }, t(\"public_link\")), (0, $cd2f6546c5cf5c32$export$3e32638432616b6).groups?.length > 1 && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"a\", {\n        class: \"seamless-link capitalize\",\n        onClick: (e)=>props.shareMessage(e)\n    }, t(\"share_message\")), !props?.message?.isInFront && props?.author && props?.author.id == (0, $cd2f6546c5cf5c32$export$3e32638432616b6).id && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"a\", {\n        class: \"seamless-link capitalize\",\n        onClick: (e)=>props.publishInGroup(e)\n    }, t(\"publish_in_group\")), !bookmarks.some((b)=>b.message.id === props?.message.id) && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"a\", {\n        class: \"seamless-link capitalize\",\n        onClick: ()=>{\n            (0, $cd2f6546c5cf5c32$export$5ea928c9faf85bd3).add(t(\"bookmark_added\"));\n            (0, $b7ae12cde431bd4b$export$2e2bcd8739ae039).dispatch(\"bookmark/add\", props.message.id);\n        }\n    }, t(\"add_bookmark\")), bookmarks.some((b)=>b.message.id === props?.message.id) && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"a\", {\n        class: \"seamless-link capitalize\",\n        onClick: ()=>{\n            (0, $cd2f6546c5cf5c32$export$5ea928c9faf85bd3).add(t(\"bookmark_removed\"));\n            (0, $b7ae12cde431bd4b$export$2e2bcd8739ae039).dispatch(\"bookmark/remove\", bookmarks.find((b)=>b.message.id === props.message.id));\n        }\n    }, t(\"remove_bookmark\")), props?.author?.id == (0, $cd2f6546c5cf5c32$export$3e32638432616b6).id && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"a\", {\n        class: \"seamless-link capitalize\",\n        onClick: (e)=>props.editMessage(e)\n    }, t(\"edit\"))))));\n}\n\n\n\n\n\n\nfunction $5345fa5f2538b9ef$export$2e2bcd8739ae039(props) {\n    const [preview, setPreview] = (0, $88a9540d1aad6464$export$60241385465d0a34)(null);\n    const displayMessageText = ()=>{\n        if (!props.message.data) return \"\";\n        // escape html a little (just enough to avoid xss I hope)\n        let txt = props.message.data[\"text\"].replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").trim();\n        // replace url by real links\n        let shift = 0;\n        let match = null;\n        while(match = (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).getUrl(txt.slice(shift))){\n            let url = match[0];\n            if (url.length >= 50) url = `${url.slice(0, 25)}...${url.slice(-24)}`;\n            let link = `<a href=\"${match[0]}\" target=\"_blank\">${url}</a>`;\n            txt = txt.slice(0, match[\"index\"] + shift) + link + txt.slice(match[\"index\"] + shift + match[0].length);\n            shift += match[\"index\"] + link.length;\n        }\n        // replace line returns\n        txt = txt.replace(/\\n/g, \"<br/>\");\n        return {\n            __html: txt\n        };\n    };\n    (0, $88a9540d1aad6464$export$6d9c69b0de29b591)(()=>{\n        if (!preview && props.message) {\n            if (props.message.data) {\n                let previewUrl = (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).getUrl(props.message.data[\"text\"]);\n                if (previewUrl) (0, $cd2f6546c5cf5c32$export$7d6f1c8842f9f527).get(`/api/links/by_url?url=${encodeURIComponent(previewUrl[0])}`).then((r)=>setPreview(r));\n            }\n        }\n    });\n    return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"message-body\"\n    }, props.message.data && props.message.data.title && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"title\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"span\", null, props.message.data.title)), props.message.data && props.message.data.text && props.message.data.text.trim() && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"p\", {\n        class: \"card-text\",\n        dangerouslySetInnerHTML: displayMessageText()\n    }), preview && (!props.message.data || !props.message.data[\"no_embed\"]) && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $c72cf4b6b78e8f8e$export$330d558700ffa676), {\n        key: preview.url,\n        url: preview.url,\n        preview: preview.preview,\n        data: preview.data\n    }), props.files && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $c72cf4b6b78e8f8e$export$ca445ff2f74d7dc4), {\n        files: props.files\n    }));\n}\n\n\n\n\n\n\nfunction $7cd04194507a3338$export$2e2bcd8739ae039(props) {\n    const stack = [\n        props.message.id,\n        ...props.message.lineage\n    ].reverse();\n    const [breadcrumbs, setBreadcrumbs] = (0, $88a9540d1aad6464$export$60241385465d0a34)([]);\n    const [group, setGroup] = (0, $88a9540d1aad6464$export$60241385465d0a34)(null);\n    const getTitle = (message, previewLink)=>{\n        if (message) {\n            if (message[\"data\"] && message[\"data\"][\"title\"]) return message[\"data\"][\"title\"];\n            if (previewLink && previewLink[\"data\"]) return previewLink[\"data\"][\"title\"];\n            if (message[\"data\"] && message[\"data\"][\"text\"]) {\n                let url = (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).getUrl(message[\"data\"][\"text\"]);\n                if (url && url.length > 0) url = url[0];\n                if (url) return url;\n                return message[\"data\"][\"text\"];\n            }\n        }\n        // When all else fails, just say who and when\n        return `${message?.author?.name}, ${(0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).humanTime(message.createdAt)}`;\n    };\n    const loadBreadcrumbs = (ids)=>{\n        let breadcrumbs = [];\n        Promise.all(ids.map((id)=>(0, $cd2f6546c5cf5c32$export$7d6f1c8842f9f527).get(`/api/messages/${id}`))).then((messages)=>{\n            Promise.all(messages.map((message)=>{\n                let previewUrl = (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).getUrl(message?.data?.text);\n                if (previewUrl) return (0, $cd2f6546c5cf5c32$export$7d6f1c8842f9f527).get(`/api/links/by_url?url=${encodeURIComponent(previewUrl[0])}`);\n                return Promise.resolve(null);\n            })).then((links)=>{\n                for(let i = 0; i < ids.length; i++)breadcrumbs[i] = getTitle(messages[i], links[i]);\n                setBreadcrumbs(breadcrumbs);\n            });\n        });\n    };\n    (0, $88a9540d1aad6464$export$6d9c69b0de29b591)(()=>{\n        loadBreadcrumbs(stack);\n        (0, $cd2f6546c5cf5c32$export$7d6f1c8842f9f527).get(`/api/groups/${props.message.group.id}`).then((group)=>{\n            setGroup(group);\n        });\n    }, []);\n    if (stack.length > 0) {\n        const stack_truncated = [\n            stack[0],\n            ...stack.slice(Math.min(3, stack.length) * -1).slice(1)\n        ];\n        const breadcrumbs_truncated = [\n            breadcrumbs[0],\n            ...breadcrumbs.slice(Math.min(3, breadcrumbs.length) * -1).slice(1)\n        ];\n        return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n            class: \"message-breadcrumbs\"\n        }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"nav\", {\n            style: \"--bs-breadcrumb-divider: '>';\"\n        }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"ol\", {\n            class: \"breadcrumb\"\n        }, group && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"li\", {\n            class: \"breadcrumb-item\"\n        }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $34f84368c0c9d98a$export$a6c7ac8248d6e38a), {\n            key: group.id,\n            to: `/groups/${group.id}`,\n            class: \"no-decoration\"\n        }, (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).limitLength(group.name || group.id.slice(0, 8), 30))), stack_truncated.map((e, i)=>(0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $73048c6b859c8a02$export$ffb0004e005737fa), {\n                key: e\n            }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $73048c6b859c8a02$export$ffb0004e005737fa), null, i == 1 && stack.length > 3 && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"li\", {\n                class: \"breadcrumb-item\"\n            }, \"...\")), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"li\", {\n                class: \"breadcrumb-item\"\n            }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $34f84368c0c9d98a$export$a6c7ac8248d6e38a), {\n                key: e,\n                to: `/messages/${e}`,\n                class: \"no-decoration\"\n            }, (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).limitLength(breadcrumbs_truncated[i] || e.slice(0, 8), 30))))))));\n    }\n}\n\n\n\n\n\n\n\nfunction $48e0eac2816dd5e6$export$2e2bcd8739ae039(props) {\n    const navigate = (0, $2e634cb2b6e12a73$export$9770f232ac06a008)();\n    const { t: t } = (0, $23287d5819478a30$export$9fc83ad70ead8663)();\n    const { me: me } = (0, $5fa7d79990e2bc5d$export$11aeef812f154e9e)(\"me\");\n    const [author, setAuthor] = (0, $88a9540d1aad6464$export$60241385465d0a34)(null);\n    const [parent, setParent] = (0, $88a9540d1aad6464$export$60241385465d0a34)(null);\n    const [files, setFiles] = (0, $88a9540d1aad6464$export$60241385465d0a34)(null);\n    const [isRemoved, setIsRemoved] = (0, $88a9540d1aad6464$export$60241385465d0a34)(false);\n    const [edit, setEdit] = (0, $88a9540d1aad6464$export$60241385465d0a34)(false);\n    const [message, setMessage] = (0, $88a9540d1aad6464$export$60241385465d0a34)(null);\n    const messageRef = (0, $88a9540d1aad6464$export$b8f5890fc79d6aca)(message);\n    const setMessageRef = (message)=>{\n        messageRef.current = message;\n        setMessage(message);\n    };\n    const [, forceUpdate] = (0, $88a9540d1aad6464$export$13e3392192263954)((x)=>x + 1, 0);\n    (0, $88a9540d1aad6464$export$6d9c69b0de29b591)(()=>{\n        window.addEventListener(\"newChild\", onNewChild);\n        window.addEventListener(\"editMessage\", onEditMessage);\n        loadMessage();\n        (0, $cd2f6546c5cf5c32$export$6008d97729a90c74).markAsRead(props.id);\n        if (!props.isChild) setTimeout(()=>window.scrollTo(0, 0));\n        setTimeout(()=>{\n            if (props.id == (0, $cd2f6546c5cf5c32$export$5375cda95f0b0eb4).action) {\n                const msgElement = document.getElementById(props.id);\n                if (msgElement) {\n                    msgElement.scrollIntoView({\n                        block: \"start\",\n                        behavior: \"smooth\"\n                    });\n                    setTimeout(()=>msgElement.classList.remove(\"highlight\"), 1000);\n                }\n            }\n        }, 1000);\n    }, []);\n    const hydrateMessage = (m)=>{\n        setMessageRef(m);\n        if (m?.author?.id) (0, $cd2f6546c5cf5c32$export$7d6f1c8842f9f527).get(`/api/users/${m.author.id}`).then((u)=>{\n            setAuthor(u);\n        });\n        if (m?.parent?.id) (0, $cd2f6546c5cf5c32$export$7d6f1c8842f9f527).get(`/api/messages/${m.parent.id}`).then((p)=>{\n            setParent(p);\n        });\n        // delay loading of files a little bit\n        setTimeout(()=>{\n            if (m?.files?.length) Promise.all(m.files.map((f)=>(0, $cd2f6546c5cf5c32$export$7d6f1c8842f9f527).get(`/api/files/${f.id}`).then((f)=>f))).then((files)=>setFiles(files));\n        }, 100);\n    };\n    const loadMessage = ()=>{\n        if (props?.message) {\n            if (props?.files?.length) setFiles(props?.message?.files.map((f)=>({\n                    id: f.id,\n                    status: \"loading\"\n                })));\n            hydrateMessage(props.message);\n        } else if (props?.token) (0, $cd2f6546c5cf5c32$export$7d6f1c8842f9f527).get(`/api/public/${props.token}`).then((m)=>{\n            if (m?.files?.length) setFiles(m?.files.map((f)=>({\n                    id: f.id,\n                    status: \"loading\"\n                })));\n            hydrateMessage(m);\n        });\n        else (0, $cd2f6546c5cf5c32$export$7d6f1c8842f9f527).get(`/api/messages/${props.id}`).then((m)=>{\n            if (m?.files?.length) setFiles(m?.files.map((f)=>({\n                    id: f.id,\n                    status: \"loading\"\n                })));\n            hydrateMessage(m);\n        });\n    };\n    const onNewChild = (event)=>{\n        if (!messageRef.current?.id) return;\n        const newMsg = event.detail;\n        if (newMsg?.parent && (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).getId(newMsg?.parent) == props.id) {\n            newMsg.author = me;\n            let newChildren = messageRef?.current?.children ? [\n                ...messageRef.current.children,\n                newMsg\n            ] : [\n                newMsg\n            ];\n            let newRef = Object.assign(messageRef.current, {\n                children: newChildren\n            });\n            setMessageRef(newRef);\n            forceUpdate();\n        }\n    };\n    const openPublicLink = async (event)=>{\n        event.preventDefault();\n        let newTab = window.open(\"about:blank\", \"_blank\");\n        const res = await (0, $cd2f6546c5cf5c32$export$7d6f1c8842f9f527).get(`/api/messages/${props.id}/get-public-link`);\n        newTab.location = `${document.baseURI}public/${res.token}`;\n    };\n    const onEditMessage = (event)=>{\n        if (event.detail.id == props.id) {\n            setEdit(false);\n            hydrateMessage(event.detail);\n            props.key = +Date.now();\n        }\n    };\n    const getComponentClass = ()=>{\n        let cn = \"message\";\n        if (props.isChild) cn += \" child\";\n        if (props.id == (0, $cd2f6546c5cf5c32$export$5375cda95f0b0eb4).action) cn += \" highlight\";\n        return cn;\n    };\n    const deleteMessage = (event)=>{\n        event.preventDefault();\n        if (confirm(t(\"ask_delete_message\"))) (0, $cd2f6546c5cf5c32$export$7d6f1c8842f9f527).delete(`/api/messages/${props.id}`).then(()=>{\n            if (props.isChild) setIsRemoved(true);\n            else navigate(`/groups/${message.group.id}`);\n        });\n    };\n    const shareMessage = (event)=>{\n        event.preventDefault();\n        navigate(`/share?message=${props.id}`);\n    };\n    const editMessage = (event)=>{\n        event.preventDefault();\n        setEdit(true);\n    };\n    const publishInGroup = ()=>{\n        (0, $cd2f6546c5cf5c32$export$7d6f1c8842f9f527).put(`/api/messages/${props.id}`, {\n            lastActivityDate: Math.floor(Date.now() / 1000),\n            isInFront: true\n        }).then((res)=>{\n            if (!res) {\n                alert.add(t(\"error\"), \"alert-danger\");\n                return;\n            }\n            navigate(`/groups/${message.group.id}`);\n        });\n    };\n    const cancelEdit = (event)=>{\n        event.preventDefault();\n        setEdit(false);\n    };\n    const displayWriter = (isChild, focus)=>{\n        return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $b0c42e92c84db02f$export$d7a960146e1a269e), {\n            cancel: edit ? cancelEdit : null,\n            files: edit ? files : [],\n            focus: focus || !!edit,\n            group: message.group,\n            messageId: edit ? props.id : null,\n            parent: edit ? parent?.id : props.id,\n            text: edit ? message.data[\"text\"] : \"\",\n            title: edit ? message.data[\"title\"] : \"\",\n            isChild: isChild\n        });\n    };\n    if (isRemoved || !message) // placeholder (to be able to target it)\n    return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        id: props.id,\n        className: \"message\"\n    });\n    return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $73048c6b859c8a02$export$ffb0004e005737fa), null, !props?.isChild && !props?.isPublic && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $7cd04194507a3338$export$2e2bcd8739ae039), {\n        key: message?.id,\n        message: message\n    }), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        id: props.id,\n        className: getComponentClass()\n    }, edit && displayWriter(props?.isChild), !edit && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $73048c6b859c8a02$export$ffb0004e005737fa), null, props.isChild && !props.isPublic && edit && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"message-head d-none d-md-block\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"img\", {\n        class: \"rounded-circle w-3 material-shadow avatar\",\n        style: (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).backgroundHash(me.id),\n        src: me.avatar ? (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).crop(me.avatar?.id, 100, 100) : (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).defaultAvatar\n    })), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $d385cb0a744355a5$export$2e2bcd8739ae039), {\n        author: author,\n        message: message,\n        isPublic: props?.isPublic,\n        isChild: props?.isChild\n    }), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"main\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $5345fa5f2538b9ef$export$2e2bcd8739ae039), {\n        message: message,\n        files: files || [],\n        isPublic: props?.isPublic,\n        isChild: props?.isChild\n    }), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $d0274a88e468a969$export$2e2bcd8739ae039), {\n        author: author,\n        message: message,\n        editMessage: editMessage,\n        deleteMessage: deleteMessage,\n        shareMessage: shareMessage,\n        publishInGroup: publishInGroup,\n        openPublicLink: openPublicLink,\n        isPublic: props?.isPublic,\n        isChild: props?.isChild\n    })))), props?.postMessageComponent, !props?.isChild && !props?.isPublic && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $02bd391920972de4$export$2e2bcd8739ae039), {\n        childMessages: message?.children,\n        key: props.id,\n        id: props.id\n    }), !edit && !props?.isPublic && !props?.isChild && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"message child mt-2\"\n    }, me?.id && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"message-head d-none d-md-block\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"img\", {\n        class: \"rounded-circle w-3 material-shadow avatar\",\n        style: (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).backgroundHash(me.id),\n        src: me?.avatar ? (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).crop(me.avatar[\"id\"], 100, 100) : (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).defaultAvatar\n    })), displayWriter(true, props.focus)));\n}\n\n\n\n\n\n\n\n\n\n\n\nclass $2b42a26c55ba553a$export$2e2bcd8739ae039 extends (0, $73048c6b859c8a02$export$16fa2f45be04daa8) {\n    constructor(props){\n        super(props);\n        let loaded = 1 + Math.floor(window.screen.width * window.screen.height / 68800);\n        this.state = {\n            loaded: loaded,\n            messages: [],\n            scrollTop: 0,\n            totalMessages: 0,\n            pageYOffset: 0,\n            page: 0\n        };\n        this.scroll_cooldown = Date.now();\n        this.onScroll = this.onScroll.bind(this);\n        this.loadMessages = this.loadMessages.bind(this);\n        this.onNewParent = this.onNewParent.bind(this);\n        window.addEventListener(\"newParent\", this.onNewParent);\n    }\n    onNewParent() {\n        this.loadMessages(0);\n    }\n    componentDidMount() {\n        this.loadMessages(0);\n        window.addEventListener(\"scroll\", this.onScroll);\n    }\n    componentWillUnmount() {\n        window.removeEventListener(\"scroll\", this.onScroll);\n    }\n    loadMessages(page) {\n        (0, $cd2f6546c5cf5c32$export$7d6f1c8842f9f527).get(`/api/groups/${this.props.id}`).then((res)=>{\n            this.setState({\n                group: res\n            });\n        });\n        (0, $cd2f6546c5cf5c32$export$7d6f1c8842f9f527).get(`/api/groups/${this.props.id}/page/${page}`).then((res)=>{\n            if (res && Array.isArray(res[\"messages\"])) {\n                let new_loaded = Math.max(this.state.loaded, page * 30);\n                let msgList = this.state.messages;\n                // don't add already added messages\n                res[\"messages\"].map((mid)=>!msgList.find((msg)=>msg.id == mid) && msgList.push({\n                        \"id\": mid\n                    }));\n                this.setState({\n                    messages: msgList,\n                    totalMessages: res[\"totalItems\"],\n                    page: page,\n                    loaded: new_loaded\n                });\n                if ((page + 1) * 30 < new_loaded) setTimeout(()=>this.loadMessages(page + 1));\n            }\n        });\n    }\n    onScroll() {\n        // prevent loading messages if we are in a post\n        if (window.getComputedStyle(document.getElementById(\"group\").parentNode).display == \"none\") return;\n        // don't load if on cooldown\n        if (this.scroll_cooldown + 100 < Date.now()) {\n            this.scroll_cooldown = Date.now();\n            this.setState({\n                pageYOffset: window.pageYOffset\n            });\n            // don't load if unecessary\n            if (Array.isArray(this.state.messages) && document.body.scrollHeight - window.screen.height - 500 < window.pageYOffset && this.state.loaded < this.state.totalMessages) {\n                this.setState((prevState)=>({\n                        loaded: prevState.loaded + 10\n                    }));\n                if (this.state.loaded + 30 > this.state.messages.length) {\n                    this.loadMessages(this.state.page + 1);\n                    // update page count right away\n                    this.setState((prevState)=>({\n                            page: prevState.page + 1\n                        }));\n                }\n            }\n        }\n    }\n    render() {\n        if (!this.props.id) return;\n        return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $73048c6b859c8a02$export$ffb0004e005737fa), null, Array.isArray(this.state.messages) && this.state.messages.slice(0, this.state.loaded).map((msg, i)=>{\n            return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $6a345a2434031edc$export$84c965ec8b6b0f92), {\n                tabindex: i + 1,\n                key: msg.id,\n                id: msg.id\n            });\n        }));\n    }\n}\n\n\n\n\n\n\n\nfunction $0336d0c72cfa625f$export$2e2bcd8739ae039(props) {\n    let params = (0, $2e634cb2b6e12a73$export$99eaa27ddbbb95ef)();\n    return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"main\", null, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $520fa8871428281e$export$42cfbb80f7861e77), null), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"content\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"article\", {\n        class: \"mb-3 justify-content-center d-flex\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"container pb-3\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $48e0eac2816dd5e6$export$2e2bcd8739ae039), {\n        focus: !!(0, $cd2f6546c5cf5c32$export$5375cda95f0b0eb4).getParam(\"focus\", (0, $cd2f6546c5cf5c32$export$5375cda95f0b0eb4).search),\n        isPublic: false,\n        isChild: false,\n        message: props?.message,\n        id: params.id,\n        key: params.id\n    })))));\n}\n\n\n\n\n\n\n\n\nfunction $2ff1bd810ea4c925$export$2e2bcd8739ae039(props) {\n    const [author, setAuthor] = (0, $88a9540d1aad6464$export$60241385465d0a34)(null);\n    const [preview, setPreview] = (0, $88a9540d1aad6464$export$60241385465d0a34)(null);\n    const [id, setId] = (0, $88a9540d1aad6464$export$60241385465d0a34)(null);\n    const [data, setData] = (0, $88a9540d1aad6464$export$60241385465d0a34)(null);\n    const [lastActivityDate, setLastActivityDate] = (0, $88a9540d1aad6464$export$60241385465d0a34)(null);\n    const [children, setChildren] = (0, $88a9540d1aad6464$export$60241385465d0a34)(0);\n    const [loaded, setLoaded] = (0, $88a9540d1aad6464$export$60241385465d0a34)(false);\n    const getAvatar = (user)=>{\n        return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"img\", {\n            title: user ? user.name : \"--\",\n            className: `avatar material-shadow${user ? \"\" : \" removed-user\"}`,\n            style: (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).backgroundHash(user ? user.id : \"\"),\n            src: user?.avatar ? (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).crop(user.avatar[\"id\"], 100, 100) : (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).defaultAvatar,\n            onError: (e)=>e.currentTarget.src = (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).defaultAvatar\n        });\n    };\n    const setDefaultMiniature = (e)=>{\n        e.currentTarget.src = (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).defaultAvatar;\n        e.currentTarget.style.height = \"180px\";\n        e.currentTarget.style.width = \"auto\";\n        e.currentTarget.style.position = \"absolute\";\n        e.currentTarget.style.left = \"50%\";\n        e.currentTarget.style.transform = \"translate(-50%, 0%)\";\n    };\n    (0, $88a9540d1aad6464$export$6d9c69b0de29b591)(()=>{\n        (0, $cd2f6546c5cf5c32$export$7d6f1c8842f9f527).get(`/api/messages/${props.id}/preview`).then((p)=>{\n            if (p?.author?.id) (0, $cd2f6546c5cf5c32$export$7d6f1c8842f9f527).get(`/api/users/${p.author.id}`).then((u)=>{\n                setAuthor(u);\n            });\n            console.log(p);\n            setPreview(p?.preview);\n            setId(p?.id);\n            setChildren(p?.children);\n            setLoaded(true);\n            setLastActivityDate(p?.lastActivityDate);\n            setData(p?.data);\n        });\n    }, []);\n    if (!props?.id || !data) return null;\n    return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $34f84368c0c9d98a$export$a6c7ac8248d6e38a), {\n        to: `/messages/${id}`,\n        class: \"d-inline-block seamless-link message-preview unselectable\",\n        title: data?.title\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        tabindex: props?.tabindex,\n        class: \"card material-shadow-with-hover\"\n    }, getAvatar(author), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"card-miniature-loading\"\n    }, loaded && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $73048c6b859c8a02$export$ffb0004e005737fa), null, preview ? (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"card-miniature\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"img\", {\n        width: \"320\",\n        height: \"180\",\n        src: (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).crop((0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).getId(preview), 320, 180),\n        onError: (e)=>setDefaultMiniature(e)\n    })) : (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"text-preview\"\n    }, data?.text))), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"card-body border-top d-flex justify-content-between\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"span\", {\n        class: \"left-buffer\"\n    }), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"span\", {\n        class: \"title\",\n        title: data?.title || (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).humanFullDate(lastActivityDate)\n    }, data?.title || (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $be03c4de42ac64ff$export$35f3ae0a16fef81), {\n        timestamp: lastActivityDate\n    })), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"span\", {\n        class: \"children\"\n    }, children > 0 && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"span\", null, `${children} `, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $607f51540ffcd426$export$8b29a4b6778bf7f), {\n        family: (0, $cd2f6546c5cf5c32$export$6008d97729a90c74).isNew(id) ? \"solid\" : \"regular\",\n        icon: \"comment\"\n    }))))));\n}\n\n\n\n\n\n\n\nfunction $a241afa5477ddabe$export$2e2bcd8739ae039(props) {\n    const [author, setAuthor] = (0, $88a9540d1aad6464$export$60241385465d0a34)(props?.message?.author || null);\n    (0, $88a9540d1aad6464$export$6d9c69b0de29b591)(()=>{\n        if (props?.message?.author) (0, $cd2f6546c5cf5c32$export$7d6f1c8842f9f527).get(`/api/users/${props.message.author}`).then((author)=>author && setAuthor(author));\n    }, []);\n    const displayAuthorName = ()=>{\n        if (!author?.name) return {\n            __html: \"--\"\n        };\n        let authorName = author.name;\n        // make the search terms stand out\n        let words = authorName.split(\" \");\n        for(let j = 0; j < words.length; j++)if (!words[j].match((0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).urlRegExp)) {\n            let searchTerms = props.search.split(\" \");\n            for(let k = 0; k < searchTerms.length; k++)words[j] = words[j].replace(new RegExp((0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).escapeRegex(searchTerms[k]), \"gi\"), \"<b>$&</b>\");\n        }\n        authorName = words.join(\" \");\n        return {\n            __html: authorName\n        };\n    };\n    const displayMessageTitle = ()=>{\n        if (!props?.message?.data?.title) return {\n            __html: (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).humanTime(props?.message?.lastActivityDate)\n        };\n        // escape html a little (just enough to avoid xss I hope)\n        let title = props?.message?.data?.title.replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").trim();\n        // make the search terms stand out\n        let words = title.split(\" \");\n        let searchTerms = props?.search.split(\" \") || [];\n        for(let j = 0; j < words.length; j++){\n            if (!words[j].match((0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).urlRegExp)) for(let k = 0; k < searchTerms.length; k++)words[j] = words[j].replace(new RegExp((0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).escapeRegex(searchTerms[k]), \"gi\"), \"<b>$&</b>\");\n        }\n        title = words.join(\" \");\n        return {\n            __html: title\n        };\n    };\n    const displayMessageText = ()=>{\n        if (!props?.message?.data?.text) return \"\";\n        // escape html a little (just enough to avoid xss I hope)\n        let txt = props?.message?.data?.text.replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").trim();\n        // make the search terms stand out for not url words\n        let lines = txt.split(\"\\n\");\n        for(let i = 0; i < lines.length; i++){\n            let words = lines[i].split(\" \");\n            for(let j = 0; j < words.length; j++)if (!words[j].match((0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).urlRegExp)) {\n                let searchTerms = props.search.split(\" \");\n                for(let k = 0; k < searchTerms.length; k++){\n                    if (!searchTerms[k]) continue;\n                    words[j] = words[j].replace(new RegExp((0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).escapeRegex(searchTerms[k]), \"gi\"), \"<b>$&</b>\");\n                }\n                let hashtags = props?.hashtags.split(\" \") || [];\n                for(let k = 0; k < hashtags.length; k++){\n                    if (!hashtags[k]) continue;\n                    words[j] = words[j].replace(new RegExp(`#${hashtags[k]}`, \"gi\"), \"<b>$&</b>\");\n                }\n            }\n            lines[i] = words.join(\" \");\n        }\n        txt = lines.join(\"\\n\");\n        // replace url by real links\n        let shift = 0;\n        let match = null;\n        while(match = (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).getUrl(txt.slice(shift))){\n            let url = match[0];\n            if (url.length >= 50) url = `${url.slice(0, 25)}...${url.slice(-24)}`;\n            let searchTerms = props?.search.split(\" \") || [];\n            for(let i = 0; i < searchTerms.length; i++)url = url.replace(new RegExp((0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).escapeRegex(searchTerms[i]), \"gi\"), \"<b>$&</b>\");\n            let link = `<a href=\"${match[0]}\" target=\"_blank\">${url}</a>`;\n            txt = txt.slice(0, match[\"index\"] + shift) + link + txt.slice(match[\"index\"] + shift + match[0].length);\n            shift += match[\"index\"] + link.length;\n        }\n        // replace line returns\n        txt = txt.replace(/\\n/g, \"<br/>\");\n        return {\n            __html: txt\n        };\n    };\n    const getMiniature = ()=>{\n        if (props?.preview) return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n            class: \"card-miniature\",\n            style: `background-image: url('${(0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).crop(props?.preview, 100, 100)}')`\n        });\n        let avatar = (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).defaultAvatar;\n        if (author?.avatar?.id) avatar = (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).crop(author.avatar[\"id\"], 100, 100);\n        return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n            class: \"card-miniature\",\n            style: `background-image: url('${avatar}')`\n        });\n    };\n    const getLink = ()=>{\n        if (props.message.parent && props.message.children == 0) return `/messages/${props.message.parent}/${props.message.id}`;\n        return `/messages/${props.message.id}`;\n    };\n    return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $34f84368c0c9d98a$export$a6c7ac8248d6e38a), {\n        class: \"d-inline-block seamless-link message-preview unselectable\",\n        to: getLink(),\n        title: props?.title\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        tabindex: props.tabindex,\n        class: \"card material-shadow-with-hover\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"card-body border-top\"\n    }, getMiniature(), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"infos\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"title\",\n        dangerouslySetInnerHTML: displayAuthorName()\n    }), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"dot\"\n    }, \"\"), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"title\",\n        title: props?.title || (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).humanFullDate(props.message.lastActivityDate),\n        dangerouslySetInnerHTML: displayMessageTitle()\n    })), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"text\"\n    }, props?.message?.data?.text.trim() && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"p\", {\n        class: \"card-text\",\n        dangerouslySetInnerHTML: displayMessageText()\n    })), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"children\"\n    }, !!props.message.children && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"span\", null, `${props.message.children} `, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $607f51540ffcd426$export$8b29a4b6778bf7f), {\n        family: (0, $cd2f6546c5cf5c32$export$6008d97729a90c74).isNew(props.message.id) ? \"solid\" : \"regular\",\n        icon: \"comment\"\n    }))))));\n}\n\n\nconst $6a345a2434031edc$export$f69c19e57285b83a = (0, $48e0eac2816dd5e6$export$2e2bcd8739ae039);\nconst $6a345a2434031edc$export$36e783c4ff07cd7c = (0, $5345fa5f2538b9ef$export$2e2bcd8739ae039);\nconst $6a345a2434031edc$export$ff4023171d74287f = (0, $7cd04194507a3338$export$2e2bcd8739ae039);\nconst $6a345a2434031edc$export$34692698b50bc55e = (0, $6e64521ddde455b6$export$2e2bcd8739ae039);\nconst $6a345a2434031edc$export$e4f91797a78e658f = (0, $02bd391920972de4$export$2e2bcd8739ae039);\nconst $6a345a2434031edc$export$448e87951e58f7a8 = (0, $d0274a88e468a969$export$2e2bcd8739ae039);\nconst $6a345a2434031edc$export$14933f4fded8a04f = (0, $d385cb0a744355a5$export$2e2bcd8739ae039);\nconst $6a345a2434031edc$export$89085c7857c3f940 = (0, $2b42a26c55ba553a$export$2e2bcd8739ae039);\nconst $6a345a2434031edc$export$4025c8e17986f775 = (0, $0336d0c72cfa625f$export$2e2bcd8739ae039);\nconst $6a345a2434031edc$export$84c965ec8b6b0f92 = (0, $2ff1bd810ea4c925$export$2e2bcd8739ae039);\nconst $6a345a2434031edc$export$423dfe6469a8e0dd = (0, $a241afa5477ddabe$export$2e2bcd8739ae039);\n\n\n\nfunction $ac6c208c16ca16e8$export$2e2bcd8739ae039() {\n    let params = (0, $2e634cb2b6e12a73$export$99eaa27ddbbb95ef)();\n    return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"article\", {\n        class: \"justify-content-center d-flex mt-2\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"container\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"main\", null, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"content\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"article\", {\n        class: \"mb-3 justify-content-center d-flex\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"container pb-3\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $6a345a2434031edc$export$f69c19e57285b83a), {\n        focus: false,\n        isPublic: true,\n        isChild: false,\n        token: params.token\n    })))))));\n}\n\n\nconst $f367d32ad26358d9$export$21a94553ffa41578 = (0, $53140ff71bd6800b$export$2e2bcd8739ae039);\nconst $f367d32ad26358d9$export$b44239f84c8f0268 = (0, $245fbd49526c814f$export$2e2bcd8739ae039);\nconst $f367d32ad26358d9$export$89200835fb4edfb9 = (0, $7cecaa63b21a4acb$export$2e2bcd8739ae039);\nconst $f367d32ad26358d9$export$e9e03eeea26d4dee = (0, $10fcb144e46b2198$export$2e2bcd8739ae039);\nconst $f367d32ad26358d9$export$68b4491d6924a6d1 = (0, $ac6c208c16ca16e8$export$2e2bcd8739ae039);\n\n\n\n\n\n\n\n\n\n\n\nfunction $69115444f08d0dc6$export$2e2bcd8739ae039() {\n    const params = (0, $2e634cb2b6e12a73$export$99eaa27ddbbb95ef)();\n    const { t: t } = (0, $23287d5819478a30$export$9fc83ad70ead8663)();\n    const { me: me, dispatch: dispatch } = (0, $5fa7d79990e2bc5d$export$11aeef812f154e9e)(\"me\");\n    const navigate = (0, $2e634cb2b6e12a73$export$9770f232ac06a008)();\n    const [secretKey, setSecretKey] = (0, $88a9540d1aad6464$export$60241385465d0a34)(\"\");\n    const [users, setUsers] = (0, $88a9540d1aad6464$export$60241385465d0a34)([]);\n    const [group, setGroup] = (0, $88a9540d1aad6464$export$60241385465d0a34)({});\n    const [alertMessage, setAlertMessage] = (0, $88a9540d1aad6464$export$60241385465d0a34)(\"\");\n    (0, $88a9540d1aad6464$export$6d9c69b0de29b591)(()=>{\n        (0, $cd2f6546c5cf5c32$export$7d6f1c8842f9f527).get(`/api/groups/${params.id}`).then((group)=>{\n            setGroup(group);\n            setSecretKey(group.secretKey);\n            Promise.all(group.users.map((u)=>(0, $cd2f6546c5cf5c32$export$7d6f1c8842f9f527).get(`/api/users/${u.id}`).then((u)=>u))).then((users)=>setUsers(users));\n        });\n        setAlertMessage(t((0, $cd2f6546c5cf5c32$export$5375cda95f0b0eb4).getParam(\"alert\")));\n    }, []);\n    const resetSecretKey = (event)=>{\n        event.preventDefault();\n        (0, $cd2f6546c5cf5c32$export$7d6f1c8842f9f527).post(`/api/groups/${group.id}/reset-invite-key`, {}).then((res)=>{\n            (0, $cd2f6546c5cf5c32$export$5ea928c9faf85bd3).add(t(\"group_updated\"));\n            setSecretKey(res[\"inviteKey\"]);\n        });\n    };\n    const updateSettings = (event)=>{\n        event.preventDefault();\n        const name = document.querySelector(\"#settings_form input[name='name']\").value;\n        if (name) group.name = name;\n        setGroup(Object.assign({}, group));\n        (0, $cd2f6546c5cf5c32$export$7d6f1c8842f9f527).put(`/api/groups/${group.id}`, group).then((res)=>{\n            setGroup(res);\n            setAlertMessage(t(\"group_updated\"));\n            navigate(`${location.pathname}?alert=group_updated`);\n        });\n    };\n    const leaveGroup = (event)=>{\n        event.preventDefault();\n        if (me.data?.default_group == group.id) {\n            let user = {};\n            user.data = {\n                default_group: me.groups[0].id\n            };\n            (0, $cd2f6546c5cf5c32$export$7d6f1c8842f9f527).put(`/api/users/${me.id}`, user).then(()=>{\n                dispatch(\"me/fetch\");\n                leave();\n            });\n        } else leave();\n    };\n    const leave = ()=>{\n        (0, $cd2f6546c5cf5c32$export$7d6f1c8842f9f527).post(`/api/groups/${group.id}/leave`, {}).then((res)=>{\n            if (!res || !res[\"entityType\"]) (0, $cd2f6546c5cf5c32$export$5ea928c9faf85bd3).add(t(\"error\"), \"alert-danger\");\n            else {\n                dispatch(\"me/fetch\");\n                (0, $cd2f6546c5cf5c32$export$5ea928c9faf85bd3).add(t(\"group_left\"));\n                navigate(\"/\");\n            }\n        });\n    };\n    return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", null, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"group-settings mb-3\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"card\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"card-body\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"container-fluid p-1\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"row\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"col-12 col-md-10\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"form\", {\n        id: \"settings_form\",\n        class: \"mb-1 border-bottom pb-1\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"form-group\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"label\", {\n        for: \"name\"\n    }, t(\"name\"), \": \"), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"input\", {\n        type: \"text\",\n        name: \"name\",\n        minlength: \"1\",\n        maxlength: \"128\",\n        placeholder: t(\"name_input\"),\n        value: group.name,\n        class: \"form-control\",\n        required: true\n    })), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"button\", {\n        onClick: updateSettings,\n        class: \"btn btn-outline-secondary\"\n    }, t(\"save_changes\"))), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"form\", {\n        class: \"mb-1 border-bottom pb-1\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"form-group\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"label\", {\n        for: \"inviteKey\"\n    }, t(\"invitation_link\"), \":\", \" \"), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"input\", {\n        type: \"text\",\n        name: \"inviteKey\",\n        value: `${window.location.protocol}//${window.location.host}/invitation/${secretKey}`,\n        class: \"form-control font-size-80\",\n        readonly: \"readonly\"\n    })), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"button\", {\n        class: \"btn btn-outline-secondary\",\n        onClick: resetSecretKey\n    }, t(\"reset_invitation_link\"))), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"form\", null, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"button\", {\n        onClick: (e)=>leaveGroup(e),\n        class: \"btn btn-outline-danger\"\n    }, t(\"quit_group\"))))))))), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"user-list mb-3\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"h3\", null, t(\"users\")), users.map((user)=>user && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n            class: \"user-card\"\n        }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"img\", {\n            class: \"avatar material-shadow-with-hover\",\n            style: (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).backgroundHash(user.id),\n            src: user.avatar ? (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).crop(user.avatar[\"id\"], 200, 200) : (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).defaultAvatar,\n            onError: (e)=>e.currentTarget.src = (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).defaultAvatar\n        }), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"span\", null, user[\"name\"])))), alertMessage && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"global-alert alert alert-success\"\n    }, alertMessage));\n}\n\n\n\n\n\n\n\n\n\nfunction $eee779cb2410b301$export$2e2bcd8739ae039() {\n    const { t: t } = (0, $23287d5819478a30$export$9fc83ad70ead8663)();\n    const { me: me } = (0, $5fa7d79990e2bc5d$export$11aeef812f154e9e)(\"me\");\n    const navigate = (0, $2e634cb2b6e12a73$export$9770f232ac06a008)();\n    const location = (0, $2e634cb2b6e12a73$export$45d76561a5302f2b)();\n    const [apiKey, setApiKey] = (0, $88a9540d1aad6464$export$60241385465d0a34)(null);\n    const [alertMessage, setAlertMessage] = (0, $88a9540d1aad6464$export$60241385465d0a34)(\"\");\n    (0, $88a9540d1aad6464$export$6d9c69b0de29b591)(()=>{\n        (0, $cd2f6546c5cf5c32$export$ddcffe0146c8f882).get(\"apiKey\").then((apiKey)=>setApiKey(apiKey));\n        setAlertMessage(t((0, $cd2f6546c5cf5c32$export$5375cda95f0b0eb4).getParam(\"alert\")));\n    }, []);\n    const resetApiKey = (event)=>{\n        event.preventDefault();\n        (0, $cd2f6546c5cf5c32$export$7d6f1c8842f9f527).post(`/api/users/${me.id}/reset-api-key`, {}).then(()=>(0, $cd2f6546c5cf5c32$export$5375cda95f0b0eb4).logout());\n    };\n    const inputAvatar = ()=>{\n        const input = document.createElement(\"input\");\n        input.type = \"file\";\n        input.accept = \"image/*\";\n        input.addEventListener(\"change\", (event)=>{\n            const formData = new FormData();\n            formData.append(\"file\", event.target.files[0]);\n            (0, $cd2f6546c5cf5c32$export$7d6f1c8842f9f527).sendFile(formData, (file)=>{\n                (0, $cd2f6546c5cf5c32$export$7d6f1c8842f9f527).put(`/api/users/${me.id}`, {\n                    avatar: file[\"id\"]\n                }).then(()=>{\n                    setAlertMessage(t(\"settings_updated\"));\n                    navigate(`${location.pathname}?alert=settings_updated`);\n                });\n            });\n        });\n        input.click();\n    };\n    const destroyAccount = (event)=>{\n        event.preventDefault();\n        let confirmDeletion = confirm(t(\"are_you_sure\"));\n        if (confirmDeletion) (0, $cd2f6546c5cf5c32$export$7d6f1c8842f9f527).delete(`/api/users/${me.id}`).then(()=>{\n            navigate(\"/logout\");\n        });\n    };\n    const updateSettings = (event)=>{\n        event.preventDefault();\n        const name = document.querySelector(\"#settings_form input[name='name']\").value;\n        const login = document.querySelector(\"#settings_form input[name='email']\").value;\n        const password = document.querySelector(\"#settings_form input[name='password']\").value;\n        const notification_emails = document.querySelector(\"#settings_form select[name='notification_emails']\").value;\n        const default_group = document.querySelector(\"#settings_form select[name='default_group']\").value;\n        const lang = document.querySelector(\"#settings_form select[name='lang']\").value;\n        let user = {};\n        if (name) user.name = name;\n        if (login) user.login = login;\n        if (password) user.password = password;\n        user[\"data\"] = {\n            notification_emails: notification_emails,\n            default_group: default_group,\n            lang: lang\n        };\n        (0, $cd2f6546c5cf5c32$export$7d6f1c8842f9f527).put(`/api/users/${me.id}`, user).then((res)=>{\n            if (res[\"error\"]) (0, $cd2f6546c5cf5c32$export$5ea928c9faf85bd3).add(res[\"error\"], \"alert-danger\");\n            else {\n                setAlertMessage(t(\"settings_updated\"));\n                navigate(`${location.pathname}?alert=settings_updated`);\n            }\n        });\n    };\n    if (me && me?.data) return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"user-settings\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"card\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"identite card-body\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"container-fluid p-1\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"row\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"col-12 col-md-2\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"img\", {\n        class: \"img-fluid rounded-circle material-shadow avatar\",\n        src: me.avatar ? (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).crop(me.avatar[\"id\"], 100, 100) : (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).defaultAvatar,\n        style: (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).backgroundHash(me.id || \"\"),\n        onError: (e)=>e.currentTarget.src = (0, $cd2f6546c5cf5c32$export$7debb50ef11d5e0b).defaultAvatar,\n        onClick: (e)=>inputAvatar(e)\n    })), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"col-12 col-md-10\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"form\", {\n        id: \"settings_form\",\n        class: \"mb-3\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"form-group\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"label\", {\n        for: \"name\"\n    }, t(\"name\"), \": \"), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"input\", {\n        type: \"text\",\n        name: \"name\",\n        minlength: \"1\",\n        maxlength: \"128\",\n        placeholder: t(\"name_input\"),\n        value: me.name,\n        class: \"form-control\"\n    })), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"form-group\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"label\", {\n        for: \"email\"\n    }, t(\"email\"), \": \"), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"input\", {\n        type: \"email\",\n        name: \"email\",\n        placeholder: t(\"email_input\"),\n        value: me.login,\n        class: \"form-control\"\n    })), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"form-group\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"label\", {\n        for: \"password\"\n    }, t(\"password\"), \": \"), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"input\", {\n        type: \"password\",\n        name: \"password\",\n        autocomplete: \"off\",\n        minlength: \"8\",\n        maxlength: \"128\",\n        placeholder: t(\"password_input\"),\n        class: \"form-control\"\n    })), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"form-group\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"label\", {\n        for: \"notification_emails\"\n    }, t(\"notification_emails\"), \":\"), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"select\", {\n        name: \"notification_emails\",\n        class: \"form-control\",\n        value: me?.data[\"notification_emails\"]\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"option\", {\n        value: \"none\"\n    }, t(\"none\")), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"option\", {\n        value: \"hourly\"\n    }, t(\"hourly\")), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"option\", {\n        value: \"daily\"\n    }, t(\"daily\")), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"option\", {\n        value: \"weekly\"\n    }, t(\"weekly\")), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"option\", {\n        value: \"monthly\"\n    }, t(\"monthly\")))), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"form-group\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"label\", {\n        for: \"default_group\"\n    }, t(\"default_group\"), \":\"), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"select\", {\n        name: \"default_group\",\n        class: \"form-control\",\n        value: me?.data[\"default_group\"]\n    }, me.groups?.map((e)=>(0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"option\", {\n            key: e.id,\n            value: e.id\n        }, e.name)))), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"form-group\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"label\", {\n        class: \"capitalize\",\n        for: \"lang\"\n    }, t(\"lang\"), \":\"), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"select\", {\n        name: \"lang\",\n        class: \"form-control\",\n        value: (0, $cd2f6546c5cf5c32$export$9a771d6906431624).getCurrentLang()\n    }, Object.keys((0, $cd2f6546c5cf5c32$export$9a771d6906431624).possibleLang).map((k)=>(0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"option\", {\n            key: k,\n            value: k\n        }, (0, $cd2f6546c5cf5c32$export$9a771d6906431624).possibleLang[k])))), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"button\", {\n        onClick: (e)=>updateSettings(e),\n        class: \"btn btn-primary\"\n    }, t(\"save_changes\"))), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"form\", {\n        id: \"api_key_form\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"form-group\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"label\", {\n        for: \"apiKey\"\n    }, t(\"api_key\"), \":\", \" \"), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"input\", {\n        type: \"text\",\n        name: \"apiKey\",\n        value: apiKey,\n        class: \"form-control font-size-80\",\n        readonly: \"readonly\"\n    })), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"button\", {\n        class: \"btn btn-outline-secondary\",\n        onClick: resetApiKey\n    }, t(\"reset_api_key\"))), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"form\", {\n        id: \"destroy_form\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"label\", {\n        class: \"d-block\",\n        for: \"destroy_account\"\n    }, t(\"destroy_account_explain\")), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"button\", {\n        onClick: (e)=>destroyAccount(e),\n        name: \"destroy_account\",\n        class: \"btn btn-danger\"\n    }, t(\"destroy_account\")))))))), alertMessage && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"global-alert alert alert-success\"\n    }, alertMessage));\n}\n\n\n\n\n\n\n\nfunction $2e4039a8780c9af0$export$2e2bcd8739ae039() {\n    const params = (0, $2e634cb2b6e12a73$export$99eaa27ddbbb95ef)();\n    const { t: t } = (0, $23287d5819478a30$export$9fc83ad70ead8663)();\n    const { me: me } = (0, $5fa7d79990e2bc5d$export$11aeef812f154e9e)(\"me\");\n    return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"main\", null, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $520fa8871428281e$export$42cfbb80f7861e77), null), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"content\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"article\", {\n        class: \"mt-2 justify-content-center d-flex\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"container pb-3\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"settings\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"ul\", {\n        class: \"nav nav-tabs\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"li\", {\n        class: \"nav-item\"\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $34f84368c0c9d98a$export$a6c7ac8248d6e38a), {\n        class: `nav-link${params.type == \"users\" ? \" active\" : \"\"}`,\n        to: `/users/${me.id}/settings`\n    }, t(\"account\"))), me.groups?.length > 0 && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"li\", {\n        class: \"nav-item dropdown group-list\",\n        tabindex: \"-1\",\n        onClick: (e)=>e.currentTarget.classList.toggle(\"active\")\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: `nav-link${params.type == \"groups\" ? \" active\" : \"\"}`\n    }, t(\"groups\")), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"dropdown-menu\"\n    }, me.groups?.map((e)=>(0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $34f84368c0c9d98a$export$a6c7ac8248d6e38a), {\n            key: `/groups/${e.id}/settings`,\n            class: \"seamless-link\",\n            to: `/groups/${e.id}/settings`\n        }, e.name))))), params.type === \"users\" && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $eee779cb2410b301$export$2e2bcd8739ae039), {\n        id: params.id,\n        key: params.id\n    }), params.type === \"groups\" && (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $69115444f08d0dc6$export$2e2bcd8739ae039), {\n        id: params.id,\n        key: params.id\n    }))))));\n}\n\n\n\nconst $1180cc40af8fd7c1$export$7756bc8dbeb9ec70 = (0, $69115444f08d0dc6$export$2e2bcd8739ae039);\nconst $1180cc40af8fd7c1$export$c72f6eaae7b9adff = (0, $2e4039a8780c9af0$export$2e2bcd8739ae039);\nconst $1180cc40af8fd7c1$export$6587c76ebf15601c = (0, $eee779cb2410b301$export$2e2bcd8739ae039);\n\n\n\n\n\nfunction $63a436771d8fc45d$var$App() {\n    const navigate = (0, $2e634cb2b6e12a73$export$9770f232ac06a008)();\n    const location = (0, $2e634cb2b6e12a73$export$45d76561a5302f2b)();\n    const toggleDropdowns = (e)=>{\n        if (!e.target.closest(\".dropdown\")) // close dropdowns if we are clicking on something else\n        document.querySelectorAll(\".dropdown\").forEach((n)=>n.classList.remove(\"active\"));\n        else // close dropdowns that are not clicked on\n        document.querySelectorAll(\".dropdown\").forEach((n)=>{\n            if (n != e.target.closest(\".dropdown\")) n.classList.remove(\"active\");\n        });\n    };\n    // initial load\n    (0, $88a9540d1aad6464$export$6d9c69b0de29b591)(()=>{\n        // this test is here to ensure that 'api' gets loaded before\n        // this may come from a transpilation issue with parceljs\n        if ((0, $cd2f6546c5cf5c32$export$644d8ea042df96a6) && typeof (0, $cd2f6546c5cf5c32$export$644d8ea042df96a6).update === \"function\") (0, $cd2f6546c5cf5c32$export$644d8ea042df96a6).update();\n        else console.error(\"Could not use api.update()\");\n        (0, $cd2f6546c5cf5c32$export$6008d97729a90c74).update();\n        (0, $cd2f6546c5cf5c32$export$a4ea57bd994c1f0d).update();\n        // manage dropdowns\n        window.addEventListener(\"click\", (e)=>toggleDropdowns(e));\n        return ()=>{\n            window.removeEventListener(\"click\", (e)=>toggleDropdowns(e));\n        };\n    });\n    (0, $cd2f6546c5cf5c32$export$3e32638432616b6).fetch().then((user)=>{\n        if (location.pathname == \"/\") {\n            let redirect = \"/login\";\n            if (user) {\n                redirect = \"/create-group\";\n                if (user.data?.default_group) redirect = `/groups/${user?.data[\"default_group\"]}`;\n                else if (user?.groups[0]) redirect = `/groups/${user?.groups[0].id}`;\n            }\n            navigate(redirect);\n        }\n        if (location.pathname.match(/^\\/invitation/)) {\n            if (user) (0, $cd2f6546c5cf5c32$export$7d6f1c8842f9f527).post(`/api/groups/invitation/${(0, $cd2f6546c5cf5c32$export$5375cda95f0b0eb4).id}`, {}).then(()=>{\n                navigate(\"/\");\n            });\n            else navigate(`/signup?inviteKey=${(0, $cd2f6546c5cf5c32$export$5375cda95f0b0eb4).id}`);\n        }\n        if (!(0, $cd2f6546c5cf5c32$export$5375cda95f0b0eb4).isOutside() && !user) navigate(\"/login\");\n    });\n    return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $2e634cb2b6e12a73$export$3565eb3d00ca5a74), null, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $2e634cb2b6e12a73$export$e7b0ac011bb776c6), {\n        path: \"/password-reset\",\n        element: (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $f367d32ad26358d9$export$b44239f84c8f0268), null)\n    }), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $2e634cb2b6e12a73$export$e7b0ac011bb776c6), {\n        path: \"/public/:token\",\n        element: (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $f367d32ad26358d9$export$68b4491d6924a6d1), null)\n    }), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $2e634cb2b6e12a73$export$e7b0ac011bb776c6), {\n        path: \"/share\",\n        element: (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $be03c4de42ac64ff$export$c9915453de10000b), null)\n    }), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $2e634cb2b6e12a73$export$e7b0ac011bb776c6), {\n        path: \"/signup\",\n        element: (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $f367d32ad26358d9$export$89200835fb4edfb9), null)\n    }), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $2e634cb2b6e12a73$export$e7b0ac011bb776c6), {\n        path: \"/stop-notification-emails\",\n        element: (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $f367d32ad26358d9$export$e9e03eeea26d4dee), null)\n    }), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $2e634cb2b6e12a73$export$e7b0ac011bb776c6), {\n        path: \"/login\",\n        element: (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $f367d32ad26358d9$export$21a94553ffa41578), null)\n    }), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $2e634cb2b6e12a73$export$e7b0ac011bb776c6), {\n        path: \"/logout\",\n        element: (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $2e634cb2b6e12a73$export$444b3ab0cb9aec40), {\n            replace: true,\n            to: \"/login\"\n        })\n    }), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $2e634cb2b6e12a73$export$e7b0ac011bb776c6), {\n        path: \"/:type/:id/settings\",\n        element: (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $1180cc40af8fd7c1$export$c72f6eaae7b9adff), null)\n    }), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $2e634cb2b6e12a73$export$e7b0ac011bb776c6), {\n        path: \"/bookmarks\",\n        element: (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $be03c4de42ac64ff$export$9c257beea3dbd13a), null)\n    }), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $2e634cb2b6e12a73$export$e7b0ac011bb776c6), {\n        path: \"/create-group\",\n        element: (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $be03c4de42ac64ff$export$1a13290ec7702c7), null)\n    }), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $2e634cb2b6e12a73$export$e7b0ac011bb776c6), {\n        path: \"/groups/:id\",\n        element: (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $be03c4de42ac64ff$export$959a4441e74dcd2b), null)\n    }), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $2e634cb2b6e12a73$export$e7b0ac011bb776c6), {\n        path: \"/groups/:id/random\",\n        element: (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $be03c4de42ac64ff$export$4b31f5af7c5f8dee), null)\n    }), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $2e634cb2b6e12a73$export$e7b0ac011bb776c6), {\n        path: \"/groups/:id/search\",\n        element: (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $520fa8871428281e$export$5cc34a6155e65c0e), null)\n    }), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $2e634cb2b6e12a73$export$e7b0ac011bb776c6), {\n        path: \"/groups/:id/write\",\n        element: (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $b0c42e92c84db02f$export$29913b8f065577b2), null)\n    }), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $2e634cb2b6e12a73$export$e7b0ac011bb776c6), {\n        path: \"/messages/:id\",\n        element: (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $6a345a2434031edc$export$4025c8e17986f775), null)\n    }), (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $2e634cb2b6e12a73$export$e7b0ac011bb776c6), {\n        path: \"/messages/:id/:child_id\",\n        element: (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $6a345a2434031edc$export$4025c8e17986f775), null)\n    }));\n}\nvar $63a436771d8fc45d$export$2e2bcd8739ae039 = $63a436771d8fc45d$var$App;\n\n\n\n\n\nconst $2b67dd6f65354df9$var$router = (0, $34f84368c0c9d98a$export$1f3f55432a00e06d)([\n    {\n        path: \"*\",\n        Component: (0, $63a436771d8fc45d$export$2e2bcd8739ae039)\n    }\n], {\n    basename: `/${document.baseURI.split(\"/\")[3]}`\n});\nfunction $2b67dd6f65354df9$var$Index() {\n    return (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $5fa7d79990e2bc5d$export$554ccc96b126a426).Provider, {\n        value: (0, $b7ae12cde431bd4b$export$2e2bcd8739ae039)\n    }, (0, $73048c6b859c8a02$export$c8a8987d4410bf2d)((0, $2e634cb2b6e12a73$export$323e4fc2fa4753fb), {\n        router: $2b67dd6f65354df9$var$router\n    }));\n}\n(0, $73048c6b859c8a02$export$b3890eb0ae9dca99)((0, $73048c6b859c8a02$export$c8a8987d4410bf2d)($2b67dd6f65354df9$var$Index, null), document.body);\n\n\n//# sourceMappingURL=index.b4e71a5f.js.map\n","import { h, render } from \"preact\";\nimport App from \"./app.js\";\nimport {\n  createBrowserRouter,\n  createRoutesFromElements,\n  RouterProvider,\n} from \"react-router-dom\";\n\nimport { StoreContext } from \"storeon/preact\";\nimport store from \"/src/store\";\n\nconst router = createBrowserRouter(\n  [\n    { path: \"*\", Component: App },\n  ],\n  {\n    basename: `/${document.baseURI.split('/')[3]}`,\n  }\n);\n\nfunction Index() {\n  return (\n    <StoreContext.Provider value={store}>\n      <RouterProvider router={router} />\n    </StoreContext.Provider>\n  );\n}\n\nrender(<Index />, document.body);\n","var n,l,u,t,i,o,r,f,e,c={},s=[],a=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,h=Array.isArray;function v(n,l){for(var u in l)n[u]=l[u];return n}function p(n){var l=n.parentNode;l&&l.removeChild(n)}function y(l,u,t){var i,o,r,f={};for(r in u)\"key\"==r?i=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):t),\"function\"==typeof l&&null!=l.defaultProps)for(r in l.defaultProps)void 0===f[r]&&(f[r]=l.defaultProps[r]);return d(l,f,i,o,null)}function d(n,t,i,o,r){var f={type:n,props:t,key:i,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==r?++u:r};return null==r&&null!=l.vnode&&l.vnode(f),f}function _(){return{current:null}}function k(n){return n.children}function b(n,l){this.props=n,this.context=l}function g(n,l){if(null==l)return n.__?g(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?g(n):null}function m(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return m(n)}}function w(n){(!n.__d&&(n.__d=!0)&&i.push(n)&&!x.__r++||o!==l.debounceRendering)&&((o=l.debounceRendering)||r)(x)}function x(){var n,l,u,t,o,r,e,c,s;for(i.sort(f);n=i.shift();)n.__d&&(l=i.length,t=void 0,o=void 0,r=void 0,c=(e=(u=n).__v).__e,(s=u.__P)&&(t=[],o=[],(r=v({},e)).__v=e.__v+1,L(s,e,r,u.__n,void 0!==s.ownerSVGElement,null!=e.__h?[c]:null,t,null==c?g(e):c,e.__h,o),M(t,e,o),e.__e!=c&&m(e)),i.length>l&&i.sort(f));x.__r=0}function P(n,l,u,t,i,o,r,f,e,a,v){var p,y,_,b,m,w,x,P,C,H=0,I=t&&t.__k||s,T=I.length,j=T,z=l.length;for(u.__k=[],p=0;p<z;p++)null!=(b=u.__k[p]=null==(b=l[p])||\"boolean\"==typeof b||\"function\"==typeof b?null:\"string\"==typeof b||\"number\"==typeof b||\"bigint\"==typeof b?d(null,b,null,null,b):h(b)?d(k,{children:b},null,null,null):b.__b>0?d(b.type,b.props,b.key,b.ref?b.ref:null,b.__v):b)?(b.__=u,b.__b=u.__b+1,-1===(P=A(b,I,x=p+H,j))?_=c:(_=I[P]||c,I[P]=void 0,j--),L(n,b,_,i,o,r,f,e,a,v),m=b.__e,(y=b.ref)&&_.ref!=y&&(_.ref&&O(_.ref,null,b),v.push(y,b.__c||m,b)),null!=m&&(null==w&&(w=m),(C=_===c||null===_.__v)?-1==P&&H--:P!==x&&(P===x+1?H++:P>x?j>z-x?H+=P-x:H--:H=P<x&&P==x-1?P-x:0),x=p+H,\"function\"!=typeof b.type||P===x&&_.__k!==b.__k?\"function\"==typeof b.type||P===x&&!C?void 0!==b.__d?(e=b.__d,b.__d=void 0):e=m.nextSibling:e=S(n,m,e):e=$(b,e,n),\"function\"==typeof u.type&&(u.__d=e))):(_=I[p])&&null==_.key&&_.__e&&(_.__e==e&&(e=g(_)),q(_,_,!1),I[p]=null);for(u.__e=w,p=T;p--;)null!=I[p]&&(\"function\"==typeof u.type&&null!=I[p].__e&&I[p].__e==u.__d&&(u.__d=I[p].__e.nextSibling),q(I[p],I[p]))}function $(n,l,u){for(var t,i=n.__k,o=0;i&&o<i.length;o++)(t=i[o])&&(t.__=n,l=\"function\"==typeof t.type?$(t,l,u):S(u,t.__e,l));return l}function C(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(h(n)?n.some(function(n){C(n,l)}):l.push(n)),l}function S(n,l,u){return null==u||u.parentNode!==n?n.insertBefore(l,null):l==u&&null!=l.parentNode||n.insertBefore(l,u),l.nextSibling}function A(n,l,u,t){var i=n.key,o=n.type,r=u-1,f=u+1,e=l[u];if(null===e||e&&i==e.key&&o===e.type)return u;if(t>(null!=e?1:0))for(;r>=0||f<l.length;){if(r>=0){if((e=l[r])&&i==e.key&&o===e.type)return r;r--}if(f<l.length){if((e=l[f])&&i==e.key&&o===e.type)return f;f++}}return-1}function H(n,l,u,t,i){var o;for(o in u)\"children\"===o||\"key\"===o||o in l||T(n,o,null,u[o],t);for(o in l)i&&\"function\"!=typeof l[o]||\"children\"===o||\"key\"===o||\"value\"===o||\"checked\"===o||u[o]===l[o]||T(n,o,l[o],u[o],t)}function I(n,l,u){\"-\"===l[0]?n.setProperty(l,null==u?\"\":u):n[l]=null==u?\"\":\"number\"!=typeof u||a.test(l)?u:u+\"px\"}function T(n,l,u,t,i){var o;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof t&&(n.style.cssText=t=\"\"),t)for(l in t)u&&l in u||I(n.style,l,\"\");if(u)for(l in u)t&&u[l]===t[l]||I(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])o=l!==(l=l.replace(/(PointerCapture)$|Capture$/,\"$1\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+o]=u,u?t||n.addEventListener(l,o?z:j,o):n.removeEventListener(l,o?z:j,o);else if(\"dangerouslySetInnerHTML\"!==l){if(i)l=l.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"width\"!==l&&\"height\"!==l&&\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"tabIndex\"!==l&&\"download\"!==l&&\"rowSpan\"!==l&&\"colSpan\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null==u||!1===u&&\"-\"!==l[4]?n.removeAttribute(l):n.setAttribute(l,u))}}function j(n){return this.l[n.type+!1](l.event?l.event(n):n)}function z(n){return this.l[n.type+!0](l.event?l.event(n):n)}function L(n,u,t,i,o,r,f,e,c,s){var a,p,y,d,_,g,m,w,x,$,C,S,A,H,I,T=u.type;if(void 0!==u.constructor)return null;null!=t.__h&&(c=t.__h,e=u.__e=t.__e,u.__h=null,r=[e]),(a=l.__b)&&a(u);n:if(\"function\"==typeof T)try{if(w=u.props,x=(a=T.contextType)&&i[a.__c],$=a?x?x.props.value:a.__:i,t.__c?m=(p=u.__c=t.__c).__=p.__E:(\"prototype\"in T&&T.prototype.render?u.__c=p=new T(w,$):(u.__c=p=new b(w,$),p.constructor=T,p.render=B),x&&x.sub(p),p.props=w,p.state||(p.state={}),p.context=$,p.__n=i,y=p.__d=!0,p.__h=[],p._sb=[]),null==p.__s&&(p.__s=p.state),null!=T.getDerivedStateFromProps&&(p.__s==p.state&&(p.__s=v({},p.__s)),v(p.__s,T.getDerivedStateFromProps(w,p.__s))),d=p.props,_=p.state,p.__v=u,y)null==T.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),null!=p.componentDidMount&&p.__h.push(p.componentDidMount);else{if(null==T.getDerivedStateFromProps&&w!==d&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(w,$),!p.__e&&(null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(w,p.__s,$)||u.__v===t.__v)){for(u.__v!==t.__v&&(p.props=w,p.state=p.__s,p.__d=!1),u.__e=t.__e,u.__k=t.__k,u.__k.forEach(function(n){n&&(n.__=u)}),C=0;C<p._sb.length;C++)p.__h.push(p._sb[C]);p._sb=[],p.__h.length&&f.push(p);break n}null!=p.componentWillUpdate&&p.componentWillUpdate(w,p.__s,$),null!=p.componentDidUpdate&&p.__h.push(function(){p.componentDidUpdate(d,_,g)})}if(p.context=$,p.props=w,p.__P=n,p.__e=!1,S=l.__r,A=0,\"prototype\"in T&&T.prototype.render){for(p.state=p.__s,p.__d=!1,S&&S(u),a=p.render(p.props,p.state,p.context),H=0;H<p._sb.length;H++)p.__h.push(p._sb[H]);p._sb=[]}else do{p.__d=!1,S&&S(u),a=p.render(p.props,p.state,p.context),p.state=p.__s}while(p.__d&&++A<25);p.state=p.__s,null!=p.getChildContext&&(i=v(v({},i),p.getChildContext())),y||null==p.getSnapshotBeforeUpdate||(g=p.getSnapshotBeforeUpdate(d,_)),P(n,h(I=null!=a&&a.type===k&&null==a.key?a.props.children:a)?I:[I],u,t,i,o,r,f,e,c,s),p.base=u.__e,u.__h=null,p.__h.length&&f.push(p),m&&(p.__E=p.__=null)}catch(n){u.__v=null,(c||null!=r)&&(u.__e=e,u.__h=!!c,r[r.indexOf(e)]=null),l.__e(n,u,t)}else null==r&&u.__v===t.__v?(u.__k=t.__k,u.__e=t.__e):u.__e=N(t.__e,u,t,i,o,r,f,c,s);(a=l.diffed)&&a(u)}function M(n,u,t){for(var i=0;i<t.length;i++)O(t[i],t[++i],t[++i]);l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function N(l,u,t,i,o,r,f,e,s){var a,v,y,d=t.props,_=u.props,k=u.type,b=0;if(\"svg\"===k&&(o=!0),null!=r)for(;b<r.length;b++)if((a=r[b])&&\"setAttribute\"in a==!!k&&(k?a.localName===k:3===a.nodeType)){l=a,r[b]=null;break}if(null==l){if(null===k)return document.createTextNode(_);l=o?document.createElementNS(\"http://www.w3.org/2000/svg\",k):document.createElement(k,_.is&&_),r=null,e=!1}if(null===k)d===_||e&&l.data===_||(l.data=_);else{if(r=r&&n.call(l.childNodes),v=(d=t.props||c).dangerouslySetInnerHTML,y=_.dangerouslySetInnerHTML,!e){if(null!=r)for(d={},b=0;b<l.attributes.length;b++)d[l.attributes[b].name]=l.attributes[b].value;(y||v)&&(y&&(v&&y.__html==v.__html||y.__html===l.innerHTML)||(l.innerHTML=y&&y.__html||\"\"))}if(H(l,_,d,o,e),y)u.__k=[];else if(P(l,h(b=u.props.children)?b:[b],u,t,i,o&&\"foreignObject\"!==k,r,f,r?r[0]:t.__k&&g(t,0),e,s),null!=r)for(b=r.length;b--;)null!=r[b]&&p(r[b]);e||(\"value\"in _&&void 0!==(b=_.value)&&(b!==l.value||\"progress\"===k&&!b||\"option\"===k&&b!==d.value)&&T(l,\"value\",b,d.value,!1),\"checked\"in _&&void 0!==(b=_.checked)&&b!==l.checked&&T(l,\"checked\",b,d.checked,!1))}return l}function O(n,u,t){try{\"function\"==typeof n?n(u):n.current=u}catch(n){l.__e(n,t)}}function q(n,u,t){var i,o;if(l.unmount&&l.unmount(n),(i=n.ref)&&(i.current&&i.current!==n.__e||O(i,null,u)),null!=(i=n.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(n){l.__e(n,u)}i.base=i.__P=null,n.__c=void 0}if(i=n.__k)for(o=0;o<i.length;o++)i[o]&&q(i[o],u,t||\"function\"!=typeof n.type);t||null==n.__e||p(n.__e),n.__=n.__e=n.__d=void 0}function B(n,l,u){return this.constructor(n,u)}function D(u,t,i){var o,r,f,e;l.__&&l.__(u,t),r=(o=\"function\"==typeof i)?null:i&&i.__k||t.__k,f=[],e=[],L(t,u=(!o&&i||t).__k=y(k,null,[u]),r||c,c,void 0!==t.ownerSVGElement,!o&&i?[i]:r?null:t.firstChild?n.call(t.childNodes):null,f,!o&&i?i:r?r.__e:t.firstChild,o,e),M(f,u,e)}function E(n,l){D(n,l,E)}function F(l,u,t){var i,o,r,f,e=v({},l.props);for(r in l.type&&l.type.defaultProps&&(f=l.type.defaultProps),u)\"key\"==r?i=u[r]:\"ref\"==r?o=u[r]:e[r]=void 0===u[r]&&void 0!==f?f[r]:u[r];return arguments.length>2&&(e.children=arguments.length>3?n.call(arguments,2):t),d(l.type,e,i||l.key,o||l.ref,null)}function G(n,l){var u={__c:l=\"__cC\"+e++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,t;return this.getChildContext||(u=[],(t={})[l]=this,this.getChildContext=function(){return t},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(function(n){n.__e=!0,w(n)})},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n=s.slice,l={__e:function(n,l,u,t){for(var i,o,r;l=l.__;)if((i=l.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(n)),r=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(n,t||{}),r=i.__d),r)return i.__E=i}catch(l){n=l}throw n}},u=0,t=function(n){return null!=n&&void 0===n.constructor},b.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=v({},this.state),\"function\"==typeof n&&(n=n(v({},u),this.props)),n&&v(u,n),null!=n&&this.__v&&(l&&this._sb.push(l),w(this))},b.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),w(this))},b.prototype.render=k,i=[],r=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,f=function(n,l){return n.__v.__b-l.__v.__b},x.__r=0,e=0;export{b as Component,k as Fragment,F as cloneElement,G as createContext,y as createElement,_ as createRef,y as h,E as hydrate,t as isValidElement,l as options,D as render,C as toChildArray};\n//# sourceMappingURL=preact.module.js.map\n","import { EMPTY_ARR } from './constants';\n\nexport const isArray = Array.isArray;\n\n/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\t// @ts-ignore We change the type of `obj` to be `O & P`\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Remove a child node from its parent if attached. This is a workaround for\n * IE11 which doesn't support `Element.prototype.remove()`. Using this function\n * is smaller than including a dedicated polyfill.\n * @param {Node} node The node to remove\n */\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\nexport const slice = EMPTY_ARR.slice;\n","import { _catchError } from './diff/catch-error';\n\n/**\n * The `option` object can potentially contain callback functions\n * that are called during various stages of our renderer. This is the\n * foundation on which all our addons like `preact/debug`, `preact/compat`,\n * and `preact/hooks` are based on. See the `Options` type in `internal.d.ts`\n * for a full list of available option hooks (most editors/IDEs allow you to\n * ctrl+click or cmd+click on mac the type definition below).\n * @type {import('./internal').Options}\n */\nconst options = {\n\t_catchError\n};\n\nexport default options;\n","import { slice } from './util';\nimport options from './options';\n\nlet vnodeId = 0;\n\n/**\n * Create an virtual node (used for JSX)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * constructor for this virtual node\n * @param {object | null | undefined} [props] The properties of the virtual node\n * @param {Array<import('.').ComponentChildren>} [children] The children of the virtual node\n * @returns {import('./internal').VNode}\n */\nexport function createElement(type, props, children) {\n\tlet normalizedProps = {},\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\t// If a Component VNode, check for and apply defaultProps\n\t// Note: type may be undefined in development, must never error here.\n\tif (typeof type == 'function' && type.defaultProps != null) {\n\t\tfor (i in type.defaultProps) {\n\t\t\tif (normalizedProps[i] === undefined) {\n\t\t\t\tnormalizedProps[i] = type.defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn createVNode(type, normalizedProps, key, ref, null);\n}\n\n/**\n * Create a VNode (used internally by Preact)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * Constructor for this virtual node\n * @param {object | string | number | null} props The properties of this virtual node.\n * If this virtual node represents a text node, this is the text of the node (string or number).\n * @param {string | number | null} key The key for this virtual node, used when\n * diffing it against its children\n * @param {import('./internal').VNode[\"ref\"]} ref The ref property that will\n * receive a reference to its created child\n * @returns {import('./internal').VNode}\n */\nexport function createVNode(type, props, key, ref, original) {\n\t// V8 seems to be better at detecting type shapes if the object is allocated from the same call site\n\t// Do not inline into createElement and coerceToVNode!\n\tconst vnode = {\n\t\ttype,\n\t\tprops,\n\t\tkey,\n\t\tref,\n\t\t_children: null,\n\t\t_parent: null,\n\t\t_depth: 0,\n\t\t_dom: null,\n\t\t// _nextDom must be initialized to undefined b/c it will eventually\n\t\t// be set to dom.nextSibling which can return `null` and it is important\n\t\t// to be able to distinguish between an uninitialized _nextDom and\n\t\t// a _nextDom that has been set to `null`\n\t\t_nextDom: undefined,\n\t\t_component: null,\n\t\t_hydrating: null,\n\t\tconstructor: undefined,\n\t\t_original: original == null ? ++vnodeId : original\n\t};\n\n\t// Only invoke the vnode hook if this was *not* a direct copy:\n\tif (original == null && options.vnode != null) options.vnode(vnode);\n\n\treturn vnode;\n}\n\nexport function createRef() {\n\treturn { current: null };\n}\n\nexport function Fragment(props) {\n\treturn props.children;\n}\n\n/**\n * Check if a the argument is a valid Preact VNode.\n * @param {*} vnode\n * @returns {vnode is import('./internal').VNode}\n */\nexport const isValidElement = vnode =>\n\tvnode != null && vnode.constructor === undefined;\n","import { assign } from './util';\nimport { diff, commitRoot } from './diff/index';\nimport options from './options';\nimport { Fragment } from './create-element';\n\n/**\n * Base Component class. Provides `setState()` and `forceUpdate()`, which\n * trigger rendering\n * @param {object} props The initial component props\n * @param {object} context The initial context from parent components'\n * getChildContext\n */\nexport function Component(props, context) {\n\tthis.props = props;\n\tthis.context = context;\n}\n\n/**\n * Update component state and schedule a re-render.\n * @this {import('./internal').Component}\n * @param {object | ((s: object, p: object) => object)} update A hash of state\n * properties to update with new values or a function that given the current\n * state and props returns a new partial state\n * @param {() => void} [callback] A function to be called once component state is\n * updated\n */\nComponent.prototype.setState = function (update, callback) {\n\t// only clone state when copying to nextState the first time.\n\tlet s;\n\tif (this._nextState != null && this._nextState !== this.state) {\n\t\ts = this._nextState;\n\t} else {\n\t\ts = this._nextState = assign({}, this.state);\n\t}\n\n\tif (typeof update == 'function') {\n\t\t// Some libraries like `immer` mark the current state as readonly,\n\t\t// preventing us from mutating it, so we need to clone it. See #2716\n\t\tupdate = update(assign({}, s), this.props);\n\t}\n\n\tif (update) {\n\t\tassign(s, update);\n\t}\n\n\t// Skip update if updater function returned null\n\tif (update == null) return;\n\n\tif (this._vnode) {\n\t\tif (callback) {\n\t\t\tthis._stateCallbacks.push(callback);\n\t\t}\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Immediately perform a synchronous re-render of the component\n * @this {import('./internal').Component}\n * @param {() => void} [callback] A function to be called after component is\n * re-rendered\n */\nComponent.prototype.forceUpdate = function (callback) {\n\tif (this._vnode) {\n\t\t// Set render mode so that we can differentiate where the render request\n\t\t// is coming from. We need this because forceUpdate should never call\n\t\t// shouldComponentUpdate\n\t\tthis._force = true;\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n * Virtual DOM is generally constructed via [JSX](http://jasonformat.com/wtf-is-jsx).\n * @param {object} props Props (eg: JSX attributes) received from parent\n * element/component\n * @param {object} state The component's current state\n * @param {object} context Context object, as returned by the nearest\n * ancestor's `getChildContext()`\n * @returns {import('./index').ComponentChildren | void}\n */\nComponent.prototype.render = Fragment;\n\n/**\n * @param {import('./internal').VNode} vnode\n * @param {number | null} [childIndex]\n */\nexport function getDomSibling(vnode, childIndex) {\n\tif (childIndex == null) {\n\t\t// Use childIndex==null as a signal to resume the search from the vnode's sibling\n\t\treturn vnode._parent\n\t\t\t? getDomSibling(vnode._parent, vnode._parent._children.indexOf(vnode) + 1)\n\t\t\t: null;\n\t}\n\n\tlet sibling;\n\tfor (; childIndex < vnode._children.length; childIndex++) {\n\t\tsibling = vnode._children[childIndex];\n\n\t\tif (sibling != null && sibling._dom != null) {\n\t\t\t// Since updateParentDomPointers keeps _dom pointer correct,\n\t\t\t// we can rely on _dom to tell us if this subtree contains a\n\t\t\t// rendered DOM node, and what the first rendered DOM node is\n\t\t\treturn sibling._dom;\n\t\t}\n\t}\n\n\t// If we get here, we have not found a DOM node in this vnode's children.\n\t// We must resume from this vnode's sibling (in it's parent _children array)\n\t// Only climb up and search the parent if we aren't searching through a DOM\n\t// VNode (meaning we reached the DOM parent of the original vnode that began\n\t// the search)\n\treturn typeof vnode.type == 'function' ? getDomSibling(vnode) : null;\n}\n\n/**\n * Trigger in-place re-rendering of a component.\n * @param {import('./internal').Component} component The component to rerender\n */\nfunction renderComponent(component) {\n\tlet vnode = component._vnode,\n\t\toldDom = vnode._dom,\n\t\tparentDom = component._parentDom;\n\n\tif (parentDom) {\n\t\tlet commitQueue = [],\n\t\t\trefQueue = [];\n\t\tconst oldVNode = assign({}, vnode);\n\t\toldVNode._original = vnode._original + 1;\n\n\t\tdiff(\n\t\t\tparentDom,\n\t\t\tvnode,\n\t\t\toldVNode,\n\t\t\tcomponent._globalContext,\n\t\t\tparentDom.ownerSVGElement !== undefined,\n\t\t\tvnode._hydrating != null ? [oldDom] : null,\n\t\t\tcommitQueue,\n\t\t\toldDom == null ? getDomSibling(vnode) : oldDom,\n\t\t\tvnode._hydrating,\n\t\t\trefQueue\n\t\t);\n\n\t\tcommitRoot(commitQueue, vnode, refQueue);\n\n\t\tif (vnode._dom != oldDom) {\n\t\t\tupdateParentDomPointers(vnode);\n\t\t}\n\t}\n}\n\n/**\n * @param {import('./internal').VNode} vnode\n */\nfunction updateParentDomPointers(vnode) {\n\tif ((vnode = vnode._parent) != null && vnode._component != null) {\n\t\tvnode._dom = vnode._component.base = null;\n\t\tfor (let i = 0; i < vnode._children.length; i++) {\n\t\t\tlet child = vnode._children[i];\n\t\t\tif (child != null && child._dom != null) {\n\t\t\t\tvnode._dom = vnode._component.base = child._dom;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn updateParentDomPointers(vnode);\n\t}\n}\n\n/**\n * The render queue\n * @type {Array<import('./internal').Component>}\n */\nlet rerenderQueue = [];\n\n/*\n * The value of `Component.debounce` must asynchronously invoke the passed in callback. It is\n * important that contributors to Preact can consistently reason about what calls to `setState`, etc.\n * do, and when their effects will be applied. See the links below for some further reading on designing\n * asynchronous APIs.\n * * [Designing APIs for Asynchrony](https://blog.izs.me/2013/08/designing-apis-for-asynchrony)\n * * [Callbacks synchronous and asynchronous](https://blog.ometer.com/2011/07/24/callbacks-synchronous-and-asynchronous/)\n */\n\nlet prevDebounce;\n\nconst defer =\n\ttypeof Promise == 'function'\n\t\t? Promise.prototype.then.bind(Promise.resolve())\n\t\t: setTimeout;\n\n/**\n * Enqueue a rerender of a component\n * @param {import('./internal').Component} c The component to rerender\n */\nexport function enqueueRender(c) {\n\tif (\n\t\t(!c._dirty &&\n\t\t\t(c._dirty = true) &&\n\t\t\trerenderQueue.push(c) &&\n\t\t\t!process._rerenderCount++) ||\n\t\tprevDebounce !== options.debounceRendering\n\t) {\n\t\tprevDebounce = options.debounceRendering;\n\t\t(prevDebounce || defer)(process);\n\t}\n}\n\n/**\n * @param {import('./internal').Component} a\n * @param {import('./internal').Component} b\n */\nconst depthSort = (a, b) => a._vnode._depth - b._vnode._depth;\n\n/** Flush the render queue by rerendering all queued components */\nfunction process() {\n\tlet c;\n\trerenderQueue.sort(depthSort);\n\t// Don't update `renderCount` yet. Keep its value non-zero to prevent unnecessary\n\t// process() calls from getting scheduled while `queue` is still being consumed.\n\twhile ((c = rerenderQueue.shift())) {\n\t\tif (c._dirty) {\n\t\t\tlet renderQueueLength = rerenderQueue.length;\n\t\t\trenderComponent(c);\n\t\t\tif (rerenderQueue.length > renderQueueLength) {\n\t\t\t\t// When i.e. rerendering a provider additional new items can be injected, we want to\n\t\t\t\t// keep the order from top to bottom with those new items so we can handle them in a\n\t\t\t\t// single pass\n\t\t\t\trerenderQueue.sort(depthSort);\n\t\t\t}\n\t\t}\n\t}\n\tprocess._rerenderCount = 0;\n}\n\nprocess._rerenderCount = 0;\n","import { enqueueRender } from './component';\n\nexport let i = 0;\n\nexport function createContext(defaultValue, contextId) {\n\tcontextId = '__cC' + i++;\n\n\tconst context = {\n\t\t_id: contextId,\n\t\t_defaultValue: defaultValue,\n\t\t/** @type {import('./internal').FunctionComponent} */\n\t\tConsumer(props, contextValue) {\n\t\t\t// return props.children(\n\t\t\t// \tcontext[contextId] ? context[contextId].props.value : defaultValue\n\t\t\t// );\n\t\t\treturn props.children(contextValue);\n\t\t},\n\t\t/** @type {import('./internal').FunctionComponent} */\n\t\tProvider(props) {\n\t\t\tif (!this.getChildContext) {\n\t\t\t\t/** @type {import('./internal').Component[]} */\n\t\t\t\tlet subs = [];\n\t\t\t\tlet ctx = {};\n\t\t\t\tctx[contextId] = this;\n\n\t\t\t\tthis.getChildContext = () => ctx;\n\n\t\t\t\tthis.shouldComponentUpdate = function (_props) {\n\t\t\t\t\tif (this.props.value !== _props.value) {\n\t\t\t\t\t\t// I think the forced value propagation here was only needed when `options.debounceRendering` was being bypassed:\n\t\t\t\t\t\t// https://github.com/preactjs/preact/commit/4d339fb803bea09e9f198abf38ca1bf8ea4b7771#diff-54682ce380935a717e41b8bfc54737f6R358\n\t\t\t\t\t\t// In those cases though, even with the value corrected, we're double-rendering all nodes.\n\t\t\t\t\t\t// It might be better to just tell folks not to use force-sync mode.\n\t\t\t\t\t\t// Currently, using `useContext()` in a class component will overwrite its `this.context` value.\n\t\t\t\t\t\t// subs.some(c => {\n\t\t\t\t\t\t// \tc.context = _props.value;\n\t\t\t\t\t\t// \tenqueueRender(c);\n\t\t\t\t\t\t// });\n\n\t\t\t\t\t\t// subs.some(c => {\n\t\t\t\t\t\t// \tc.context[contextId] = _props.value;\n\t\t\t\t\t\t// \tenqueueRender(c);\n\t\t\t\t\t\t// });\n\t\t\t\t\t\tsubs.some(c => {\n\t\t\t\t\t\t\tc._force = true;\n\t\t\t\t\t\t\tenqueueRender(c);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.sub = c => {\n\t\t\t\t\tsubs.push(c);\n\t\t\t\t\tlet old = c.componentWillUnmount;\n\t\t\t\t\tc.componentWillUnmount = () => {\n\t\t\t\t\t\tsubs.splice(subs.indexOf(c), 1);\n\t\t\t\t\t\tif (old) old.call(c);\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn props.children;\n\t\t}\n\t};\n\n\t// Devtools needs access to the context object when it\n\t// encounters a Provider. This is necessary to support\n\t// setting `displayName` on the context object instead\n\t// of on the component itself. See:\n\t// https://reactjs.org/docs/context.html#contextdisplayname\n\n\treturn (context.Provider._contextRef = context.Consumer.contextType =\n\t\tcontext);\n}\n","export const EMPTY_OBJ = {};\nexport const EMPTY_ARR = [];\nexport const IS_NON_DIMENSIONAL =\n\t/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;\n","import { diff, unmount, applyRef } from './index';\nimport { createVNode, Fragment } from '../create-element';\nimport { EMPTY_OBJ, EMPTY_ARR } from '../constants';\nimport { isArray } from '../util';\nimport { getDomSibling } from '../component';\n\n/**\n * Diff the children of a virtual node\n * @param {import('../internal').PreactElement} parentDom The DOM element whose\n * children are being diffed\n * @param {import('../internal').ComponentChildren[]} renderResult\n * @param {import('../internal').VNode} newParentVNode The new virtual\n * node whose children should be diff'ed against oldParentVNode\n * @param {import('../internal').VNode} oldParentVNode The old virtual\n * node whose children should be diff'ed against newParentVNode\n * @param {object} globalContext The current context object - modified by getChildContext\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').PreactElement} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @param {Array<any>} refQueue an array of elements needed to invoke refs\n */\nexport function diffChildren(\n\tparentDom,\n\trenderResult,\n\tnewParentVNode,\n\toldParentVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating,\n\trefQueue\n) {\n\tlet i,\n\t\tj,\n\t\toldVNode,\n\t\tchildVNode,\n\t\tnewDom,\n\t\tfirstChildDom,\n\t\tskew = 0;\n\n\t// This is a compression of oldParentVNode!=null && oldParentVNode != EMPTY_OBJ && oldParentVNode._children || EMPTY_ARR\n\t// as EMPTY_OBJ._children should be `undefined`.\n\tlet oldChildren = (oldParentVNode && oldParentVNode._children) || EMPTY_ARR;\n\n\tlet oldChildrenLength = oldChildren.length,\n\t\tremainingOldChildren = oldChildrenLength,\n\t\tnewChildrenLength = renderResult.length;\n\n\tnewParentVNode._children = [];\n\tfor (i = 0; i < newChildrenLength; i++) {\n\t\tchildVNode = renderResult[i];\n\n\t\tif (\n\t\t\tchildVNode == null ||\n\t\t\ttypeof childVNode == 'boolean' ||\n\t\t\ttypeof childVNode == 'function'\n\t\t) {\n\t\t\tchildVNode = newParentVNode._children[i] = null;\n\t\t}\n\t\t// If this newVNode is being reused (e.g. <div>{reuse}{reuse}</div>) in the same diff,\n\t\t// or we are rendering a component (e.g. setState) copy the oldVNodes so it can have\n\t\t// it's own DOM & etc. pointers\n\t\telse if (\n\t\t\ttypeof childVNode == 'string' ||\n\t\t\ttypeof childVNode == 'number' ||\n\t\t\t// eslint-disable-next-line valid-typeof\n\t\t\ttypeof childVNode == 'bigint'\n\t\t) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tnull,\n\t\t\t\tchildVNode,\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tchildVNode\n\t\t\t);\n\t\t} else if (isArray(childVNode)) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tFragment,\n\t\t\t\t{ children: childVNode },\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tnull\n\t\t\t);\n\t\t} else if (childVNode._depth > 0) {\n\t\t\t// VNode is already in use, clone it. This can happen in the following\n\t\t\t// scenario:\n\t\t\t//   const reuse = <div />\n\t\t\t//   <div>{reuse}<span />{reuse}</div>\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tchildVNode.type,\n\t\t\t\tchildVNode.props,\n\t\t\t\tchildVNode.key,\n\t\t\t\tchildVNode.ref ? childVNode.ref : null,\n\t\t\t\tchildVNode._original\n\t\t\t);\n\t\t} else {\n\t\t\tchildVNode = newParentVNode._children[i] = childVNode;\n\t\t}\n\n\t\t// Terser removes the `continue` here and wraps the loop body\n\t\t// in a `if (childVNode) { ... } condition\n\t\tif (childVNode == null) {\n\t\t\toldVNode = oldChildren[i];\n\t\t\tif (oldVNode && oldVNode.key == null && oldVNode._dom) {\n\t\t\t\tif (oldVNode._dom == oldDom) {\n\t\t\t\t\toldDom = getDomSibling(oldVNode);\n\t\t\t\t}\n\n\t\t\t\tunmount(oldVNode, oldVNode, false);\n\t\t\t\toldChildren[i] = null;\n\t\t\t}\n\n\t\t\tcontinue;\n\t\t}\n\n\t\tchildVNode._parent = newParentVNode;\n\t\tchildVNode._depth = newParentVNode._depth + 1;\n\n\t\tlet skewedIndex = i + skew;\n\t\tconst matchingIndex = findMatchingIndex(\n\t\t\tchildVNode,\n\t\t\toldChildren,\n\t\t\tskewedIndex,\n\t\t\tremainingOldChildren\n\t\t);\n\n\t\tif (matchingIndex === -1) {\n\t\t\toldVNode = EMPTY_OBJ;\n\t\t} else {\n\t\t\toldVNode = oldChildren[matchingIndex] || EMPTY_OBJ;\n\t\t\toldChildren[matchingIndex] = undefined;\n\t\t\tremainingOldChildren--;\n\t\t}\n\n\t\t// Morph the old element into the new one, but don't append it to the dom yet\n\t\tdiff(\n\t\t\tparentDom,\n\t\t\tchildVNode,\n\t\t\toldVNode,\n\t\t\tglobalContext,\n\t\t\tisSvg,\n\t\t\texcessDomChildren,\n\t\t\tcommitQueue,\n\t\t\toldDom,\n\t\t\tisHydrating,\n\t\t\trefQueue\n\t\t);\n\n\t\tnewDom = childVNode._dom;\n\t\tif ((j = childVNode.ref) && oldVNode.ref != j) {\n\t\t\tif (oldVNode.ref) {\n\t\t\t\tapplyRef(oldVNode.ref, null, childVNode);\n\t\t\t}\n\t\t\trefQueue.push(j, childVNode._component || newDom, childVNode);\n\t\t}\n\n\t\tif (newDom != null) {\n\t\t\tif (firstChildDom == null) {\n\t\t\t\tfirstChildDom = newDom;\n\t\t\t}\n\n\t\t\tlet isMounting = oldVNode === EMPTY_OBJ || oldVNode._original === null;\n\t\t\tif (isMounting) {\n\t\t\t\tif (matchingIndex == -1) {\n\t\t\t\t\tskew--;\n\t\t\t\t}\n\t\t\t} else if (matchingIndex !== skewedIndex) {\n\t\t\t\tif (matchingIndex === skewedIndex + 1) {\n\t\t\t\t\tskew++;\n\t\t\t\t} else if (matchingIndex > skewedIndex) {\n\t\t\t\t\tif (remainingOldChildren > newChildrenLength - skewedIndex) {\n\t\t\t\t\t\tskew += matchingIndex - skewedIndex;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// ### Change from keyed: I think this was missing from the algo...\n\t\t\t\t\t\tskew--;\n\t\t\t\t\t}\n\t\t\t\t} else if (matchingIndex < skewedIndex) {\n\t\t\t\t\tif (matchingIndex == skewedIndex - 1) {\n\t\t\t\t\t\tskew = matchingIndex - skewedIndex;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tskew = 0;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tskew = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tskewedIndex = i + skew;\n\n\t\t\tif (\n\t\t\t\ttypeof childVNode.type == 'function' &&\n\t\t\t\t(matchingIndex !== skewedIndex ||\n\t\t\t\t\toldVNode._children === childVNode._children)\n\t\t\t) {\n\t\t\t\toldDom = reorderChildren(childVNode, oldDom, parentDom);\n\t\t\t} else if (\n\t\t\t\ttypeof childVNode.type != 'function' &&\n\t\t\t\t(matchingIndex !== skewedIndex || isMounting)\n\t\t\t) {\n\t\t\t\toldDom = placeChild(parentDom, newDom, oldDom);\n\t\t\t} else if (childVNode._nextDom !== undefined) {\n\t\t\t\t// Only Fragments or components that return Fragment like VNodes will\n\t\t\t\t// have a non-undefined _nextDom. Continue the diff from the sibling\n\t\t\t\t// of last DOM child of this child VNode\n\t\t\t\toldDom = childVNode._nextDom;\n\n\t\t\t\t// Eagerly cleanup _nextDom. We don't need to persist the value because\n\t\t\t\t// it is only used by `diffChildren` to determine where to resume the diff after\n\t\t\t\t// diffing Components and Fragments. Once we store it the nextDOM local var, we\n\t\t\t\t// can clean up the property\n\t\t\t\tchildVNode._nextDom = undefined;\n\t\t\t} else {\n\t\t\t\toldDom = newDom.nextSibling;\n\t\t\t}\n\n\t\t\tif (typeof newParentVNode.type == 'function') {\n\t\t\t\t// Because the newParentVNode is Fragment-like, we need to set it's\n\t\t\t\t// _nextDom property to the nextSibling of its last child DOM node.\n\t\t\t\t//\n\t\t\t\t// `oldDom` contains the correct value here because if the last child\n\t\t\t\t// is a Fragment-like, then oldDom has already been set to that child's _nextDom.\n\t\t\t\t// If the last child is a DOM VNode, then oldDom will be set to that DOM\n\t\t\t\t// node's nextSibling.\n\t\t\t\tnewParentVNode._nextDom = oldDom;\n\t\t\t}\n\t\t}\n\t}\n\n\tnewParentVNode._dom = firstChildDom;\n\n\t// Remove remaining oldChildren if there are any.\n\tfor (i = oldChildrenLength; i--; ) {\n\t\tif (oldChildren[i] != null) {\n\t\t\tif (\n\t\t\t\ttypeof newParentVNode.type == 'function' &&\n\t\t\t\toldChildren[i]._dom != null &&\n\t\t\t\toldChildren[i]._dom == newParentVNode._nextDom\n\t\t\t) {\n\t\t\t\t// If the newParentVNode.__nextDom points to a dom node that is about to\n\t\t\t\t// be unmounted, then get the next sibling of that vnode and set\n\t\t\t\t// _nextDom to it\n\n\t\t\t\tnewParentVNode._nextDom = oldChildren[i]._dom.nextSibling;\n\t\t\t}\n\n\t\t\tunmount(oldChildren[i], oldChildren[i]);\n\t\t}\n\t}\n}\n\nfunction reorderChildren(childVNode, oldDom, parentDom) {\n\t// Note: VNodes in nested suspended trees may be missing _children.\n\tlet c = childVNode._children;\n\n\tlet tmp = 0;\n\tfor (; c && tmp < c.length; tmp++) {\n\t\tlet vnode = c[tmp];\n\t\tif (vnode) {\n\t\t\t// We typically enter this code path on sCU bailout, where we copy\n\t\t\t// oldVNode._children to newVNode._children. If that is the case, we need\n\t\t\t// to update the old children's _parent pointer to point to the newVNode\n\t\t\t// (childVNode here).\n\t\t\tvnode._parent = childVNode;\n\n\t\t\tif (typeof vnode.type == 'function') {\n\t\t\t\toldDom = reorderChildren(vnode, oldDom, parentDom);\n\t\t\t} else {\n\t\t\t\toldDom = placeChild(parentDom, vnode._dom, oldDom);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn oldDom;\n}\n\n/**\n * Flatten and loop through the children of a virtual node\n * @param {import('../index').ComponentChildren} children The unflattened\n * children of a virtual node\n * @returns {import('../internal').VNode[]}\n */\nexport function toChildArray(children, out) {\n\tout = out || [];\n\tif (children == null || typeof children == 'boolean') {\n\t} else if (isArray(children)) {\n\t\tchildren.some(child => {\n\t\t\ttoChildArray(child, out);\n\t\t});\n\t} else {\n\t\tout.push(children);\n\t}\n\treturn out;\n}\n\nfunction placeChild(parentDom, newDom, oldDom) {\n\tif (oldDom == null || oldDom.parentNode !== parentDom) {\n\t\tparentDom.insertBefore(newDom, null);\n\t} else if (newDom != oldDom || newDom.parentNode == null) {\n\t\tparentDom.insertBefore(newDom, oldDom);\n\t}\n\n\treturn newDom.nextSibling;\n}\n\n/**\n * @param {import('../internal').VNode | string} childVNode\n * @param {import('../internal').VNode[]} oldChildren\n * @param {number} skewedIndex\n * @param {number} remainingOldChildren\n * @returns {number}\n */\nfunction findMatchingIndex(\n\tchildVNode,\n\toldChildren,\n\tskewedIndex,\n\tremainingOldChildren\n) {\n\tconst key = childVNode.key;\n\tconst type = childVNode.type;\n\tlet x = skewedIndex - 1;\n\tlet y = skewedIndex + 1;\n\tlet oldVNode = oldChildren[skewedIndex];\n\n\tif (\n\t\toldVNode === null ||\n\t\t(oldVNode && key == oldVNode.key && type === oldVNode.type)\n\t) {\n\t\treturn skewedIndex;\n\t} else if (remainingOldChildren > (oldVNode != null ? 1 : 0)) {\n\t\twhile (x >= 0 || y < oldChildren.length) {\n\t\t\tif (x >= 0) {\n\t\t\t\toldVNode = oldChildren[x];\n\t\t\t\tif (oldVNode && key == oldVNode.key && type === oldVNode.type) {\n\t\t\t\t\treturn x;\n\t\t\t\t}\n\t\t\t\tx--;\n\t\t\t}\n\n\t\t\tif (y < oldChildren.length) {\n\t\t\t\toldVNode = oldChildren[y];\n\t\t\t\tif (oldVNode && key == oldVNode.key && type === oldVNode.type) {\n\t\t\t\t\treturn y;\n\t\t\t\t}\n\t\t\t\ty++;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn -1;\n}\n","import { IS_NON_DIMENSIONAL } from '../constants';\nimport options from '../options';\n\n/**\n * Diff the old and new properties of a VNode and apply changes to the DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to apply\n * changes to\n * @param {object} newProps The new props\n * @param {object} oldProps The old props\n * @param {boolean} isSvg Whether or not this node is an SVG node\n * @param {boolean} hydrate Whether or not we are in hydration mode\n */\nexport function diffProps(dom, newProps, oldProps, isSvg, hydrate) {\n\tlet i;\n\n\tfor (i in oldProps) {\n\t\tif (i !== 'children' && i !== 'key' && !(i in newProps)) {\n\t\t\tsetProperty(dom, i, null, oldProps[i], isSvg);\n\t\t}\n\t}\n\n\tfor (i in newProps) {\n\t\tif (\n\t\t\t(!hydrate || typeof newProps[i] == 'function') &&\n\t\t\ti !== 'children' &&\n\t\t\ti !== 'key' &&\n\t\t\ti !== 'value' &&\n\t\t\ti !== 'checked' &&\n\t\t\toldProps[i] !== newProps[i]\n\t\t) {\n\t\t\tsetProperty(dom, i, newProps[i], oldProps[i], isSvg);\n\t\t}\n\t}\n}\n\nfunction setStyle(style, key, value) {\n\tif (key[0] === '-') {\n\t\tstyle.setProperty(key, value == null ? '' : value);\n\t} else if (value == null) {\n\t\tstyle[key] = '';\n\t} else if (typeof value != 'number' || IS_NON_DIMENSIONAL.test(key)) {\n\t\tstyle[key] = value;\n\t} else {\n\t\tstyle[key] = value + 'px';\n\t}\n}\n\n/**\n * Set a property value on a DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to modify\n * @param {string} name The name of the property to set\n * @param {*} value The value to set the property to\n * @param {*} oldValue The old value the property had\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node or not\n */\nexport function setProperty(dom, name, value, oldValue, isSvg) {\n\tlet useCapture;\n\n\to: if (name === 'style') {\n\t\tif (typeof value == 'string') {\n\t\t\tdom.style.cssText = value;\n\t\t} else {\n\t\t\tif (typeof oldValue == 'string') {\n\t\t\t\tdom.style.cssText = oldValue = '';\n\t\t\t}\n\n\t\t\tif (oldValue) {\n\t\t\t\tfor (name in oldValue) {\n\t\t\t\t\tif (!(value && name in value)) {\n\t\t\t\t\t\tsetStyle(dom.style, name, '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (value) {\n\t\t\t\tfor (name in value) {\n\t\t\t\t\tif (!oldValue || value[name] !== oldValue[name]) {\n\t\t\t\t\t\tsetStyle(dom.style, name, value[name]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// Benchmark for comparison: https://esbench.com/bench/574c954bdb965b9a00965ac6\n\telse if (name[0] === 'o' && name[1] === 'n') {\n\t\tuseCapture = name !== (name = name.replace(/(PointerCapture)$|Capture$/, '$1'));\n\n\t\t// Infer correct casing for DOM built-in events:\n\t\tif (name.toLowerCase() in dom) name = name.toLowerCase().slice(2);\n\t\telse name = name.slice(2);\n\n\t\tif (!dom._listeners) dom._listeners = {};\n\t\tdom._listeners[name + useCapture] = value;\n\n\t\tif (value) {\n\t\t\tif (!oldValue) {\n\t\t\t\tconst handler = useCapture ? eventProxyCapture : eventProxy;\n\t\t\t\tdom.addEventListener(name, handler, useCapture);\n\t\t\t}\n\t\t} else {\n\t\t\tconst handler = useCapture ? eventProxyCapture : eventProxy;\n\t\t\tdom.removeEventListener(name, handler, useCapture);\n\t\t}\n\t} else if (name !== 'dangerouslySetInnerHTML') {\n\t\tif (isSvg) {\n\t\t\t// Normalize incorrect prop usage for SVG:\n\t\t\t// - xlink:href / xlinkHref --> href (xlink:href was removed from SVG and isn't needed)\n\t\t\t// - className --> class\n\t\t\tname = name.replace(/xlink(H|:h)/, 'h').replace(/sName$/, 's');\n\t\t} else if (\n\t\t\tname !== 'width' &&\n\t\t\tname !== 'height' &&\n\t\t\tname !== 'href' &&\n\t\t\tname !== 'list' &&\n\t\t\tname !== 'form' &&\n\t\t\t// Default value in browsers is `-1` and an empty string is\n\t\t\t// cast to `0` instead\n\t\t\tname !== 'tabIndex' &&\n\t\t\tname !== 'download' &&\n\t\t\tname !== 'rowSpan' &&\n\t\t\tname !== 'colSpan' &&\n\t\t\tname in dom\n\t\t) {\n\t\t\ttry {\n\t\t\t\tdom[name] = value == null ? '' : value;\n\t\t\t\t// labelled break is 1b smaller here than a return statement (sorry)\n\t\t\t\tbreak o;\n\t\t\t} catch (e) {}\n\t\t}\n\n\t\t// aria- and data- attributes have no boolean representation.\n\t\t// A `false` value is different from the attribute not being\n\t\t// present, so we can't remove it. For non-boolean aria\n\t\t// attributes we could treat false as a removal, but the\n\t\t// amount of exceptions would cost too many bytes. On top of\n\t\t// that other frameworks generally stringify `false`.\n\n\t\tif (typeof value === 'function') {\n\t\t\t// never serialize functions as attribute values\n\t\t} else if (value != null && (value !== false || name[4] === '-')) {\n\t\t\tdom.setAttribute(name, value);\n\t\t} else {\n\t\t\tdom.removeAttribute(name);\n\t\t}\n\t}\n}\n\n/**\n * Proxy an event to hooked event handlers\n * @param {Event} e The event object from the browser\n * @private\n */\nfunction eventProxy(e) {\n\treturn this._listeners[e.type + false](options.event ? options.event(e) : e);\n}\n\nfunction eventProxyCapture(e) {\n\treturn this._listeners[e.type + true](options.event ? options.event(e) : e);\n}\n","import { EMPTY_OBJ } from '../constants';\nimport { Component, getDomSibling } from '../component';\nimport { Fragment } from '../create-element';\nimport { diffChildren } from './children';\nimport { diffProps, setProperty } from './props';\nimport { assign, isArray, removeNode, slice } from '../util';\nimport options from '../options';\n\n/**\n * Diff two virtual nodes and apply proper changes to the DOM\n * @param {import('../internal').PreactElement} parentDom The parent of the DOM element\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object. Modified by getChildContext\n * @param {boolean} isSvg Whether or not this element is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').PreactElement} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @param {Array<any>} refQueue an array of elements needed to invoke refs\n */\nexport function diff(\n\tparentDom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating,\n\trefQueue\n) {\n\tlet tmp,\n\t\tnewType = newVNode.type;\n\n\t// When passing through createElement it assigns the object\n\t// constructor as undefined. This to prevent JSON-injection.\n\tif (newVNode.constructor !== undefined) return null;\n\n\t// If the previous diff bailed out, resume creating/hydrating.\n\tif (oldVNode._hydrating != null) {\n\t\tisHydrating = oldVNode._hydrating;\n\t\toldDom = newVNode._dom = oldVNode._dom;\n\t\t// if we resume, we want the tree to be \"unlocked\"\n\t\tnewVNode._hydrating = null;\n\t\texcessDomChildren = [oldDom];\n\t}\n\n\tif ((tmp = options._diff)) tmp(newVNode);\n\n\touter: if (typeof newType == 'function') {\n\t\ttry {\n\t\t\tlet c, isNew, oldProps, oldState, snapshot, clearProcessingException;\n\t\t\tlet newProps = newVNode.props;\n\n\t\t\t// Necessary for createContext api. Setting this property will pass\n\t\t\t// the context value as `this.context` just for this component.\n\t\t\ttmp = newType.contextType;\n\t\t\tlet provider = tmp && globalContext[tmp._id];\n\t\t\tlet componentContext = tmp\n\t\t\t\t? provider\n\t\t\t\t\t? provider.props.value\n\t\t\t\t\t: tmp._defaultValue\n\t\t\t\t: globalContext;\n\n\t\t\t// Get component and set it to `c`\n\t\t\tif (oldVNode._component) {\n\t\t\t\tc = newVNode._component = oldVNode._component;\n\t\t\t\tclearProcessingException = c._processingException = c._pendingError;\n\t\t\t} else {\n\t\t\t\t// Instantiate the new component\n\t\t\t\tif ('prototype' in newType && newType.prototype.render) {\n\t\t\t\t\t// @ts-ignore The check above verifies that newType is suppose to be constructed\n\t\t\t\t\tnewVNode._component = c = new newType(newProps, componentContext); // eslint-disable-line new-cap\n\t\t\t\t} else {\n\t\t\t\t\t// @ts-ignore Trust me, Component implements the interface we want\n\t\t\t\t\tnewVNode._component = c = new Component(newProps, componentContext);\n\t\t\t\t\tc.constructor = newType;\n\t\t\t\t\tc.render = doRender;\n\t\t\t\t}\n\t\t\t\tif (provider) provider.sub(c);\n\n\t\t\t\tc.props = newProps;\n\t\t\t\tif (!c.state) c.state = {};\n\t\t\t\tc.context = componentContext;\n\t\t\t\tc._globalContext = globalContext;\n\t\t\t\tisNew = c._dirty = true;\n\t\t\t\tc._renderCallbacks = [];\n\t\t\t\tc._stateCallbacks = [];\n\t\t\t}\n\n\t\t\t// Invoke getDerivedStateFromProps\n\t\t\tif (c._nextState == null) {\n\t\t\t\tc._nextState = c.state;\n\t\t\t}\n\n\t\t\tif (newType.getDerivedStateFromProps != null) {\n\t\t\t\tif (c._nextState == c.state) {\n\t\t\t\t\tc._nextState = assign({}, c._nextState);\n\t\t\t\t}\n\n\t\t\t\tassign(\n\t\t\t\t\tc._nextState,\n\t\t\t\t\tnewType.getDerivedStateFromProps(newProps, c._nextState)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\toldProps = c.props;\n\t\t\toldState = c.state;\n\t\t\tc._vnode = newVNode;\n\n\t\t\t// Invoke pre-render lifecycle methods\n\t\t\tif (isNew) {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tc.componentWillMount != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillMount();\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidMount != null) {\n\t\t\t\t\tc._renderCallbacks.push(c.componentDidMount);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tnewProps !== oldProps &&\n\t\t\t\t\tc.componentWillReceiveProps != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillReceiveProps(newProps, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t!c._force &&\n\t\t\t\t\t((c.shouldComponentUpdate != null &&\n\t\t\t\t\t\tc.shouldComponentUpdate(\n\t\t\t\t\t\t\tnewProps,\n\t\t\t\t\t\t\tc._nextState,\n\t\t\t\t\t\t\tcomponentContext\n\t\t\t\t\t\t) === false) ||\n\t\t\t\t\t\tnewVNode._original === oldVNode._original)\n\t\t\t\t) {\n\t\t\t\t\t// More info about this here: https://gist.github.com/JoviDeCroock/bec5f2ce93544d2e6070ef8e0036e4e8\n\t\t\t\t\tif (newVNode._original !== oldVNode._original) {\n\t\t\t\t\t\t// When we are dealing with a bail because of sCU we have to update\n\t\t\t\t\t\t// the props, state and dirty-state.\n\t\t\t\t\t\t// when we are dealing with strict-equality we don't as the child could still\n\t\t\t\t\t\t// be dirtied see #3883\n\t\t\t\t\t\tc.props = newProps;\n\t\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t\t\tc._dirty = false;\n\t\t\t\t\t}\n\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t\tnewVNode._children.forEach(vnode => {\n\t\t\t\t\t\tif (vnode) vnode._parent = newVNode;\n\t\t\t\t\t});\n\n\t\t\t\t\tfor (let i = 0; i < c._stateCallbacks.length; i++) {\n\t\t\t\t\t\tc._renderCallbacks.push(c._stateCallbacks[i]);\n\t\t\t\t\t}\n\t\t\t\t\tc._stateCallbacks = [];\n\n\t\t\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\t\t\tcommitQueue.push(c);\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\n\t\t\t\tif (c.componentWillUpdate != null) {\n\t\t\t\t\tc.componentWillUpdate(newProps, c._nextState, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidUpdate != null) {\n\t\t\t\t\tc._renderCallbacks.push(() => {\n\t\t\t\t\t\tc.componentDidUpdate(oldProps, oldState, snapshot);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tc.context = componentContext;\n\t\t\tc.props = newProps;\n\t\t\tc._parentDom = parentDom;\n\t\t\tc._force = false;\n\n\t\t\tlet renderHook = options._render,\n\t\t\t\tcount = 0;\n\t\t\tif ('prototype' in newType && newType.prototype.render) {\n\t\t\t\tc.state = c._nextState;\n\t\t\t\tc._dirty = false;\n\n\t\t\t\tif (renderHook) renderHook(newVNode);\n\n\t\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t\tfor (let i = 0; i < c._stateCallbacks.length; i++) {\n\t\t\t\t\tc._renderCallbacks.push(c._stateCallbacks[i]);\n\t\t\t\t}\n\t\t\t\tc._stateCallbacks = [];\n\t\t\t} else {\n\t\t\t\tdo {\n\t\t\t\t\tc._dirty = false;\n\t\t\t\t\tif (renderHook) renderHook(newVNode);\n\n\t\t\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t\t\t// Handle setState called in render, see #2553\n\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t} while (c._dirty && ++count < 25);\n\t\t\t}\n\n\t\t\t// Handle setState called in render, see #2553\n\t\t\tc.state = c._nextState;\n\n\t\t\tif (c.getChildContext != null) {\n\t\t\t\tglobalContext = assign(assign({}, globalContext), c.getChildContext());\n\t\t\t}\n\n\t\t\tif (!isNew && c.getSnapshotBeforeUpdate != null) {\n\t\t\t\tsnapshot = c.getSnapshotBeforeUpdate(oldProps, oldState);\n\t\t\t}\n\n\t\t\tlet isTopLevelFragment =\n\t\t\t\ttmp != null && tmp.type === Fragment && tmp.key == null;\n\t\t\tlet renderResult = isTopLevelFragment ? tmp.props.children : tmp;\n\n\t\t\tdiffChildren(\n\t\t\t\tparentDom,\n\t\t\t\tisArray(renderResult) ? renderResult : [renderResult],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\toldDom,\n\t\t\t\tisHydrating,\n\t\t\t\trefQueue\n\t\t\t);\n\n\t\t\tc.base = newVNode._dom;\n\n\t\t\t// We successfully rendered this VNode, unset any stored hydration/bailout state:\n\t\t\tnewVNode._hydrating = null;\n\n\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\tcommitQueue.push(c);\n\t\t\t}\n\n\t\t\tif (clearProcessingException) {\n\t\t\t\tc._pendingError = c._processingException = null;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tnewVNode._original = null;\n\t\t\t// if hydrating or creating initial tree, bailout preserves DOM:\n\t\t\tif (isHydrating || excessDomChildren != null) {\n\t\t\t\tnewVNode._dom = oldDom;\n\t\t\t\tnewVNode._hydrating = !!isHydrating;\n\t\t\t\texcessDomChildren[excessDomChildren.indexOf(oldDom)] = null;\n\t\t\t\t// ^ could possibly be simplified to:\n\t\t\t\t// excessDomChildren.length = 0;\n\t\t\t}\n\t\t\toptions._catchError(e, newVNode, oldVNode);\n\t\t}\n\t} else if (\n\t\texcessDomChildren == null &&\n\t\tnewVNode._original === oldVNode._original\n\t) {\n\t\tnewVNode._children = oldVNode._children;\n\t\tnewVNode._dom = oldVNode._dom;\n\t} else {\n\t\tnewVNode._dom = diffElementNodes(\n\t\t\toldVNode._dom,\n\t\t\tnewVNode,\n\t\t\toldVNode,\n\t\t\tglobalContext,\n\t\t\tisSvg,\n\t\t\texcessDomChildren,\n\t\t\tcommitQueue,\n\t\t\tisHydrating,\n\t\t\trefQueue\n\t\t);\n\t}\n\n\tif ((tmp = options.diffed)) tmp(newVNode);\n}\n\n/**\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').VNode} root\n */\nexport function commitRoot(commitQueue, root, refQueue) {\n\tfor (let i = 0; i < refQueue.length; i++) {\n\t\tapplyRef(refQueue[i], refQueue[++i], refQueue[++i]);\n\t}\n\n\tif (options._commit) options._commit(root, commitQueue);\n\n\tcommitQueue.some(c => {\n\t\ttry {\n\t\t\t// @ts-ignore Reuse the commitQueue variable here so the type changes\n\t\t\tcommitQueue = c._renderCallbacks;\n\t\t\tc._renderCallbacks = [];\n\t\t\tcommitQueue.some(cb => {\n\t\t\t\t// @ts-ignore See above ts-ignore on commitQueue\n\t\t\t\tcb.call(c);\n\t\t\t});\n\t\t} catch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t});\n}\n\n/**\n * Diff two virtual nodes representing DOM element\n * @param {import('../internal').PreactElement} dom The DOM element representing\n * the virtual nodes being diffed\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {*} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @param {Array<any>} refQueue an array of elements needed to invoke refs\n * @returns {import('../internal').PreactElement}\n */\nfunction diffElementNodes(\n\tdom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\tisHydrating,\n\trefQueue\n) {\n\tlet oldProps = oldVNode.props;\n\tlet newProps = newVNode.props;\n\tlet nodeType = newVNode.type;\n\tlet i = 0;\n\n\t// Tracks entering and exiting SVG namespace when descending through the tree.\n\tif (nodeType === 'svg') isSvg = true;\n\n\tif (excessDomChildren != null) {\n\t\tfor (; i < excessDomChildren.length; i++) {\n\t\t\tconst child = excessDomChildren[i];\n\n\t\t\t// if newVNode matches an element in excessDomChildren or the `dom`\n\t\t\t// argument matches an element in excessDomChildren, remove it from\n\t\t\t// excessDomChildren so it isn't later removed in diffChildren\n\t\t\tif (\n\t\t\t\tchild &&\n\t\t\t\t'setAttribute' in child === !!nodeType &&\n\t\t\t\t(nodeType ? child.localName === nodeType : child.nodeType === 3)\n\t\t\t) {\n\t\t\t\tdom = child;\n\t\t\t\texcessDomChildren[i] = null;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (dom == null) {\n\t\tif (nodeType === null) {\n\t\t\t// @ts-ignore createTextNode returns Text, we expect PreactElement\n\t\t\treturn document.createTextNode(newProps);\n\t\t}\n\n\t\tif (isSvg) {\n\t\t\tdom = document.createElementNS(\n\t\t\t\t'http://www.w3.org/2000/svg',\n\t\t\t\t// @ts-ignore We know `newVNode.type` is a string\n\t\t\t\tnodeType\n\t\t\t);\n\t\t} else {\n\t\t\tdom = document.createElement(\n\t\t\t\t// @ts-ignore We know `newVNode.type` is a string\n\t\t\t\tnodeType,\n\t\t\t\tnewProps.is && newProps\n\t\t\t);\n\t\t}\n\n\t\t// we created a new parent, so none of the previously attached children can be reused:\n\t\texcessDomChildren = null;\n\t\t// we are creating a new node, so we can assume this is a new subtree (in case we are hydrating), this deopts the hydrate\n\t\tisHydrating = false;\n\t}\n\n\tif (nodeType === null) {\n\t\t// During hydration, we still have to split merged text from SSR'd HTML.\n\t\tif (oldProps !== newProps && (!isHydrating || dom.data !== newProps)) {\n\t\t\tdom.data = newProps;\n\t\t}\n\t} else {\n\t\t// If excessDomChildren was not null, repopulate it with the current element's children:\n\t\texcessDomChildren = excessDomChildren && slice.call(dom.childNodes);\n\n\t\toldProps = oldVNode.props || EMPTY_OBJ;\n\n\t\tlet oldHtml = oldProps.dangerouslySetInnerHTML;\n\t\tlet newHtml = newProps.dangerouslySetInnerHTML;\n\n\t\t// During hydration, props are not diffed at all (including dangerouslySetInnerHTML)\n\t\t// @TODO we should warn in debug mode when props don't match here.\n\t\tif (!isHydrating) {\n\t\t\t// But, if we are in a situation where we are using existing DOM (e.g. replaceNode)\n\t\t\t// we should read the existing DOM attributes to diff them\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\toldProps = {};\n\t\t\t\tfor (i = 0; i < dom.attributes.length; i++) {\n\t\t\t\t\toldProps[dom.attributes[i].name] = dom.attributes[i].value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (newHtml || oldHtml) {\n\t\t\t\t// Avoid re-applying the same '__html' if it did not changed between re-render\n\t\t\t\tif (\n\t\t\t\t\t!newHtml ||\n\t\t\t\t\t((!oldHtml || newHtml.__html != oldHtml.__html) &&\n\t\t\t\t\t\tnewHtml.__html !== dom.innerHTML)\n\t\t\t\t) {\n\t\t\t\t\tdom.innerHTML = (newHtml && newHtml.__html) || '';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tdiffProps(dom, newProps, oldProps, isSvg, isHydrating);\n\n\t\t// If the new vnode didn't have dangerouslySetInnerHTML, diff its children\n\t\tif (newHtml) {\n\t\t\tnewVNode._children = [];\n\t\t} else {\n\t\t\ti = newVNode.props.children;\n\t\t\tdiffChildren(\n\t\t\t\tdom,\n\t\t\t\tisArray(i) ? i : [i],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg && nodeType !== 'foreignObject',\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\texcessDomChildren\n\t\t\t\t\t? excessDomChildren[0]\n\t\t\t\t\t: oldVNode._children && getDomSibling(oldVNode, 0),\n\t\t\t\tisHydrating,\n\t\t\t\trefQueue\n\t\t\t);\n\n\t\t\t// Remove children that are not part of any vnode.\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\tfor (i = excessDomChildren.length; i--; ) {\n\t\t\t\t\tif (excessDomChildren[i] != null) removeNode(excessDomChildren[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// (as above, don't diff props during hydration)\n\t\tif (!isHydrating) {\n\t\t\tif (\n\t\t\t\t'value' in newProps &&\n\t\t\t\t(i = newProps.value) !== undefined &&\n\t\t\t\t// #2756 For the <progress>-element the initial value is 0,\n\t\t\t\t// despite the attribute not being present. When the attribute\n\t\t\t\t// is missing the progress bar is treated as indeterminate.\n\t\t\t\t// To fix that we'll always update it when it is 0 for progress elements\n\t\t\t\t(i !== dom.value ||\n\t\t\t\t\t(nodeType === 'progress' && !i) ||\n\t\t\t\t\t// This is only for IE 11 to fix <select> value not being updated.\n\t\t\t\t\t// To avoid a stale select value we need to set the option.value\n\t\t\t\t\t// again, which triggers IE11 to re-evaluate the select value\n\t\t\t\t\t(nodeType === 'option' && i !== oldProps.value))\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'value', i, oldProps.value, false);\n\t\t\t}\n\t\t\tif (\n\t\t\t\t'checked' in newProps &&\n\t\t\t\t(i = newProps.checked) !== undefined &&\n\t\t\t\ti !== dom.checked\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'checked', i, oldProps.checked, false);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n/**\n * Invoke or update a ref, depending on whether it is a function or object ref.\n * @param {object|function} ref\n * @param {any} value\n * @param {import('../internal').VNode} vnode\n */\nexport function applyRef(ref, value, vnode) {\n\ttry {\n\t\tif (typeof ref == 'function') ref(value);\n\t\telse ref.current = value;\n\t} catch (e) {\n\t\toptions._catchError(e, vnode);\n\t}\n}\n\n/**\n * Unmount a virtual node from the tree and apply DOM changes\n * @param {import('../internal').VNode} vnode The virtual node to unmount\n * @param {import('../internal').VNode} parentVNode The parent of the VNode that\n * initiated the unmount\n * @param {boolean} [skipRemove] Flag that indicates that a parent node of the\n * current element is already detached from the DOM.\n */\nexport function unmount(vnode, parentVNode, skipRemove) {\n\tlet r;\n\tif (options.unmount) options.unmount(vnode);\n\n\tif ((r = vnode.ref)) {\n\t\tif (!r.current || r.current === vnode._dom) {\n\t\t\tapplyRef(r, null, parentVNode);\n\t\t}\n\t}\n\n\tif ((r = vnode._component) != null) {\n\t\tif (r.componentWillUnmount) {\n\t\t\ttry {\n\t\t\t\tr.componentWillUnmount();\n\t\t\t} catch (e) {\n\t\t\t\toptions._catchError(e, parentVNode);\n\t\t\t}\n\t\t}\n\n\t\tr.base = r._parentDom = null;\n\t\tvnode._component = undefined;\n\t}\n\n\tif ((r = vnode._children)) {\n\t\tfor (let i = 0; i < r.length; i++) {\n\t\t\tif (r[i]) {\n\t\t\t\tunmount(\n\t\t\t\t\tr[i],\n\t\t\t\t\tparentVNode,\n\t\t\t\t\tskipRemove || typeof vnode.type !== 'function'\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tif (!skipRemove && vnode._dom != null) {\n\t\tremoveNode(vnode._dom);\n\t}\n\n\t// Must be set to `undefined` to properly clean up `_nextDom`\n\t// for which `null` is a valid value. See comment in `create-element.js`\n\tvnode._parent = vnode._dom = vnode._nextDom = undefined;\n}\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n","import { EMPTY_OBJ } from './constants';\nimport { commitRoot, diff } from './diff/index';\nimport { createElement, Fragment } from './create-element';\nimport options from './options';\nimport { slice } from './util';\n\n/**\n * Render a Preact virtual node into a DOM element\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * render into\n * @param {import('./internal').PreactElement | object} [replaceNode] Optional: Attempt to re-use an\n * existing DOM tree rooted at `replaceNode`\n */\nexport function render(vnode, parentDom, replaceNode) {\n\tif (options._root) options._root(vnode, parentDom);\n\n\t// We abuse the `replaceNode` parameter in `hydrate()` to signal if we are in\n\t// hydration mode or not by passing the `hydrate` function instead of a DOM\n\t// element..\n\tlet isHydrating = typeof replaceNode === 'function';\n\n\t// To be able to support calling `render()` multiple times on the same\n\t// DOM node, we need to obtain a reference to the previous tree. We do\n\t// this by assigning a new `_children` property to DOM nodes which points\n\t// to the last rendered tree. By default this property is not present, which\n\t// means that we are mounting a new tree for the first time.\n\tlet oldVNode = isHydrating\n\t\t? null\n\t\t: (replaceNode && replaceNode._children) || parentDom._children;\n\n\tvnode = ((!isHydrating && replaceNode) || parentDom)._children =\n\t\tcreateElement(Fragment, null, [vnode]);\n\n\t// List of effects that need to be called after diffing.\n\tlet commitQueue = [],\n\t\trefQueue = [];\n\tdiff(\n\t\tparentDom,\n\t\t// Determine the new vnode tree and store it on the DOM element on\n\t\t// our custom `_children` property.\n\t\tvnode,\n\t\toldVNode || EMPTY_OBJ,\n\t\tEMPTY_OBJ,\n\t\tparentDom.ownerSVGElement !== undefined,\n\t\t!isHydrating && replaceNode\n\t\t\t? [replaceNode]\n\t\t\t: oldVNode\n\t\t\t? null\n\t\t\t: parentDom.firstChild\n\t\t\t? slice.call(parentDom.childNodes)\n\t\t\t: null,\n\t\tcommitQueue,\n\t\t!isHydrating && replaceNode\n\t\t\t? replaceNode\n\t\t\t: oldVNode\n\t\t\t? oldVNode._dom\n\t\t\t: parentDom.firstChild,\n\t\tisHydrating,\n\t\trefQueue\n\t);\n\n\t// Flush all queued effects\n\tcommitRoot(commitQueue, vnode, refQueue);\n}\n\n/**\n * Update an existing DOM element with data from a Preact virtual node\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * update\n */\nexport function hydrate(vnode, parentDom) {\n\trender(vnode, parentDom, hydrate);\n}\n","import { assign, slice } from './util';\nimport { createVNode } from './create-element';\n\n/**\n * Clones the given VNode, optionally adding attributes/props and replacing its children.\n * @param {import('./internal').VNode} vnode The virtual DOM element to clone\n * @param {object} props Attributes/props to add when cloning\n * @param {Array<import('./internal').ComponentChildren>} rest Any additional arguments will be used as replacement children.\n * @returns {import('./internal').VNode}\n */\nexport function cloneElement(vnode, props, children) {\n\tlet normalizedProps = assign({}, vnode.props),\n\t\tkey,\n\t\tref,\n\t\ti;\n\n\tlet defaultProps;\n\n\tif (vnode.type && vnode.type.defaultProps) {\n\t\tdefaultProps = vnode.type.defaultProps;\n\t}\n\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse if (props[i] === undefined && defaultProps !== undefined) {\n\t\t\tnormalizedProps[i] = defaultProps[i];\n\t\t} else {\n\t\t\tnormalizedProps[i] = props[i];\n\t\t}\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\treturn createVNode(\n\t\tvnode.type,\n\t\tnormalizedProps,\n\t\tkey || vnode.key,\n\t\tref || vnode.ref,\n\t\tnull\n\t);\n}\n","/**\n * Find the closest error boundary to a thrown error and call it\n * @param {object} error The thrown value\n * @param {import('../internal').VNode} vnode The vnode that threw\n * the error that was caught (except for unmounting when this parameter\n * is the highest parent that was being unmounted)\n * @param {import('../internal').VNode} [oldVNode]\n * @param {import('../internal').ErrorInfo} [errorInfo]\n */\nexport function _catchError(error, vnode, oldVNode, errorInfo) {\n\t/** @type {import('../internal').Component} */\n\tlet component, ctor, handled;\n\n\tfor (; (vnode = vnode._parent); ) {\n\t\tif ((component = vnode._component) && !component._processingException) {\n\t\t\ttry {\n\t\t\t\tctor = component.constructor;\n\n\t\t\t\tif (ctor && ctor.getDerivedStateFromError != null) {\n\t\t\t\t\tcomponent.setState(ctor.getDerivedStateFromError(error));\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\tif (component.componentDidCatch != null) {\n\t\t\t\t\tcomponent.componentDidCatch(error, errorInfo || {});\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\t// This is an error boundary. Mark it as having bailed out, and whether it was mid-hydration.\n\t\t\t\tif (handled) {\n\t\t\t\t\treturn (component._pendingError = component);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\terror = e;\n\t\t\t}\n\t\t}\n\t}\n\n\tthrow error;\n}\n","import { h } from \"preact\";\nimport { http, api, me, notifications, bookmarks_utils, router } from \"/src/core\";\nimport {\n  Login,\n  Public,\n  PasswordReset,\n  Signup,\n  StopNotificationEmails\n} from \"/src/outside\";\nimport { MessageParent } from \"/src/message\";\nimport { GroupWriter } from \"/src/writer\";\nimport { CreateGroup, GroupBoard, Share, BookmarkBoard, RandomMessage } from \"/src/pages\";\nimport { Settings } from \"/src/settings\";\nimport { GroupSearchWrapper } from \"/src/navbar\";\nimport {\n  Navigate,\n  Routes,\n  Route,\n  useNavigate,\n  useLocation,\n} from \"react-router-dom\";\nimport { useEffect } from \"preact/hooks\";\n\nfunction App() {\n\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  const toggleDropdowns = e => {\n    if (!e.target.closest(\".dropdown\")) {\n      // close dropdowns if we are clicking on something else\n      document.querySelectorAll(\".dropdown\").forEach(n => n.classList.remove(\"active\"));\n    } else {\n      // close dropdowns that are not clicked on\n      document\n        .querySelectorAll(\".dropdown\")\n        .forEach(n => {\n          if(n != e.target.closest(\".dropdown\")) {\n            n.classList.remove(\"active\");\n          }\n        });\n    }\n  };\n\n  // initial load\n  useEffect(() => {\n    // this test is here to ensure that 'api' gets loaded before\n    // this may come from a transpilation issue with parceljs\n    if(api && typeof api.update === 'function') {\n      api.update();\n    } else {\n      console.error('Could not use api.update()');\n    }\n    notifications.update();\n    bookmarks_utils.update();\n\n    // manage dropdowns\n    window.addEventListener(\"click\", e => toggleDropdowns(e));\n    return () => {\n      window.removeEventListener(\"click\", e => toggleDropdowns(e));\n    };\n  });\n\n  me.fetch().then(user => {\n    if (location.pathname == \"/\") {\n      let redirect = \"/login\";\n      if (user) {\n        redirect = \"/create-group\";\n        if (user.data?.default_group) {\n          redirect = `/groups/${user?.data[\"default_group\"]}`;\n        } else if (user?.groups[0]) {\n          redirect = `/groups/${user?.groups[0].id}`;\n        }\n      }\n      navigate(redirect);\n    }\n\n    if (location.pathname.match(/^\\/invitation/)) {\n      if (user) {\n        http.post(`/api/groups/invitation/${router.id}`, {}).then(() => {\n          navigate(\"/\");\n        });\n      } else {\n        navigate(`/signup?inviteKey=${router.id}`);\n      }\n    }\n\n    if (!router.isOutside() && !user) {\n      navigate(\"/login\");\n    }\n  });\n\n  return (\n    <Routes>\n      <Route path=\"/password-reset\" element={<PasswordReset />} />\n      <Route path=\"/public/:token\" element={<Public />} />\n      <Route path=\"/share\" element={<Share />} />\n      <Route path=\"/signup\" element={<Signup />} />\n      <Route path=\"/stop-notification-emails\" element={<StopNotificationEmails />} />\n      <Route path=\"/login\" element={<Login />} />\n      <Route path=\"/logout\" element={<Navigate replace to=\"/login\" />} />\n      <Route path=\"/:type/:id/settings\" element={<Settings />} />\n      <Route path=\"/bookmarks\" element={<BookmarkBoard />} />\n      <Route path=\"/create-group\" element={<CreateGroup />} />\n      <Route path=\"/groups/:id\" element={<GroupBoard />} />\n      <Route path=\"/groups/:id/random\" element={<RandomMessage />} />\n      <Route path=\"/groups/:id/search\" element={<GroupSearchWrapper />} />\n      <Route path=\"/groups/:id/write\" element={<GroupWriter />} />\n      <Route path=\"/messages/:id\" element={<MessageParent />} />\n      <Route path=\"/messages/:id/:child_id\" element={<MessageParent />} />\n    </Routes>\n  );\n}\n\nexport default App;\n","import _alert from \"./alert.js\";\nimport _api from \"./api.js\";\nimport _http from \"./http.js\";\nimport { lang as _lang, i18n as _i18n } from \"./lang.js\";\nimport _me from \"./me.js\";\nimport _notifications from \"./notifications.js\";\nimport _bookmarks_utils from \"./bookmarks_utils.js\";\nimport _router from \"./router.js\";\nimport _storage from \"./storage.js\";\nimport _util from \"./util.js\";\n\nexport const alert = _alert;\nexport const api = _api;\nexport const http = _http;\nexport const lang = _lang;\nexport const i18n = _i18n;\nexport const me = _me;\nexport const notifications = _notifications;\nexport const bookmarks_utils = _bookmarks_utils;\nexport const router = _router;\nexport const storage = _storage;\nexport const util = _util;\n","const alert = {\n  remove: id => (document.getElementById(id).outerHTML = \"\"),\n  add: (text, alertStyle = \"alert-success\", countdown = 5000) => {\n    if (!text) {\n      return;\n    }\n    let alertNode = document.createElement(\"DIV\");\n    alertNode.id = alert.hash(text);\n    alertNode.innerHTML = text;\n    alertNode.classList.add(\"global-alert\", \"alert\", alertStyle);\n    document.body.appendChild(alertNode);\n    setTimeout(() => alert.remove(alertNode.id), countdown);\n  },\n  hash: str => {\n    let hash = 0;\n    if (str.length == 0) {\n      return hash;\n    }\n    for (let i = 0; i < str.length; i++) {\n      let char = str.charCodeAt(i);\n      hash = (hash << 5) - hash + char;\n      hash = hash & hash; // Convert to 32bit integer\n    }\n    return hash;\n  }\n};\nexport default alert;\n","import http from \"./http.js\";\nimport store from \"/src/store\";\n\nconst api = {\n  get info() {\n    return store.get()?.api;\n  },\n  update: () =>\n    http.get(\"/api/info\", true).then(r => {\n      if (!r) {\n        return;\n      }\n      store.dispatch(\"api/update\", Object.assign({}, r));\n      setTimeout(dispatchEvent(new CustomEvent(\"apiStateChange\")));\n      return r;\n    }),\n};\nexport default api;\n","import alert from \"./alert.js\";\nimport storage from \"./storage.js\";\nimport util from \"./util.js\";\n\nconst http = {\n  sendFile: (formData, loadFn, progressFn = null, errorFn = null) => {\n    return storage\n      .get(\"apiKey\")\n      .then(apiKey => {\n        let xhr = new XMLHttpRequest();\n        xhr.open(\"POST\", `${document.baseURI}api/files`, true);\n        xhr.setRequestHeader(\"X-AUTH-TOKEN\", apiKey);\n        xhr.addEventListener(\"load\", e => {\n          if (e.target.status > 199 && e.target.status < 300) {\n            loadFn(JSON.parse(e.target.response));\n          } else if (errorFn) {\n            errorFn(e.target.statusText);\n          } else {\n            console.error(e.target.statusText);\n          }\n        });\n        if (progressFn) {\n          xhr.upload.onprogress = e =>\n            progressFn({ loaded: e.loaded, total: e.total });\n        }\n        if (errorFn) {\n          xhr.addEventListener(\"error\", e => errorFn(e));\n        }\n        xhr.send(formData);\n      })\n      .catch(error => alert.add(error, \"alert-danger\"));\n  },\n  get: (url, nocache = false, delay = 0) => {\n    return storage\n      .get(\"apiKey\")\n      .then(x => new Promise(resolve => setTimeout(() => resolve(x), delay)))\n      .then(apiKey => {\n        url = util.toApp(url);\n        if (!url) {\n          return;\n        }\n        let h = {};\n        if (apiKey) {\n          h[\"X-AUTH-TOKEN\"] = apiKey;\n        }\n        if (nocache) {\n          h[\"X-NOCACHE\"] = \"nocache\";\n        }\n        return fetch(url, {\n          method: \"GET\",\n          headers: new Headers(h)\n        })\n          .then(res => res.ok && res.json())\n          .catch(err => console.warn(`ERROR for ${url}`, err));\n      })\n      .catch(error => alert.add(error, \"alert-danger\"));\n  },\n  post: (url, data, delay = 0, contentType = \"application/json\") =>\n    http.request(url, data, \"POST\", delay, contentType),\n  put: (url, data, delay = 0, contentType = \"application/json\") =>\n    http.request(url, data, \"PUT\", delay, contentType),\n  delete: (url, data, delay = 0, contentType = \"application/json\") =>\n    http.request(url, null, \"DELETE\", delay, contentType),\n  request: (url, data, method, delay = 0, contentType = \"application/json\") => {\n    return storage\n      .get(\"apiKey\")\n      .then(x => new Promise(resolve => setTimeout(() => resolve(x), delay)))\n      .then(apiKey => {\n        url = util.toApp(url);\n        if (!url) {\n          return;\n        }\n        let h = {};\n        if (apiKey) {\n          h[\"X-AUTH-TOKEN\"] = apiKey;\n        }\n        if (contentType) {\n          h[\"Content-type\"] = contentType;\n        }\n        let fetchOptions = {\n          method,\n          headers: new Headers(h)\n        };\n        if (data) {\n          fetchOptions.body =\n            typeof data == \"object\" && data.constructor.name == \"Object\"\n              ? JSON.stringify(data)\n              : data;\n        }\n        return fetch(url, fetchOptions)\n          .then(res => {\n            try {\n              if (method != \"DELETE\") {\n                return res.json();\n              }\n              return {};\n            } catch (exception) {\n              console.warn(exception.message);\n              return Promise.reject(exception.message);\n            }\n          })\n          .catch(err => console.warn(`ERROR for ${url}`, err));\n      })\n      .catch(error => alert.add(error, \"alert-danger\"));\n  }\n};\nexport default http;\n","const storage = {\n  usage: () => {\n    let total = 0;\n    let k;\n    for (k in localStorage) {\n      if (Object.prototype.hasOwnProperty.call(localStorage, k)) {\n        total += (localStorage[k].length + k.length) * 2;\n      }\n    }\n    return total;\n  },\n  createStorageBox: (data, metadata = null) => ({\n    data,\n    createdAt: Date.now(),\n    metadata\n  }),\n  remove: id => localStorage.removeItem(id),\n  set: (id, data, metadata = null) => {\n    localStorage.setItem(\n      id,\n      JSON.stringify(storage.createStorageBox(data, metadata))\n    );\n    return Promise.resolve(id);\n  },\n  get: id => {\n    let data = localStorage.getItem(id);\n    if (data != null) {\n      data = JSON.parse(data);\n      if (Object.prototype.hasOwnProperty.call(data, \"data\")) {\n        return new Promise(r => r(data.data));\n      }\n    }\n    return new Promise(r => r(null));\n  },\n  reset: () =>\n    localStorage.clear() &&\n    window.dispatchEvent(new CustomEvent(\"resetStorage\"))\n};\nexport default storage;\n","import { i18n } from \"./lang.js\";\n// Stateless utilities\n// Should be agnostic of other components of zusam if possible\n\nconst util = {\n  // check if the input is a valid URL\n  isValidUrl: url => {\n    try {\n      new URL(url);\n      return true;\n    } catch (_) {\n      return false;\n    }\n  },\n  limitLength: (string, size = 20) => {\n    return [\n      ...string.split(\"\").slice(0, Math.floor(size/2)),\n      string.length > size ? \"...\" : \"\",\n      ...string.split(\"\").slice(Math.floor(size/2)).slice(Math.floor(size/2) * -1)].join(\"\");\n  },\n  escapeRegex: string => {\n    return string.replace(/[-/\\\\^$*+?.()|[\\]{}]/g, \"\\\\$&\");\n  },\n  getSubpath: () => new URL(document.baseURI).pathname.replace(/\\/$/, \"\"),\n  // toApp transforms an api url into an \"app\" url that the user can naviate to\n  toApp: url => {\n    if (!url || typeof url != \"string\") {\n      return \"\";\n    }\n    if (util.isValidUrl(url)) {\n      return url;\n    }\n    return location.origin + util.getSubpath() + url;\n  },\n  // genId starts with a letter to be DOM friendly\n  // seed can be used to order ids\n  // TODO improve using ideas from ai/nanoid\n  genId: seed => `z${seed || \"\"}-${Date.now().toString().slice(-5)}${Math.random().toString().slice(-5)}`,\n  // transform an id into int for the API (TODO: revisit this on 0.5)\n  id2Int: id => parseInt(id.replace(/[^\\d]/g,\"\"), 10),\n  urlRegExp: /(\\([^()]*)?https?:\\/\\/[^[\\]\\n\\r ]*[-A-Za-z0-9+&@#/%=~_()|]/i,\n  getUrl: txt => {\n    if (!txt) {\n      return \"\";\n    }\n    let url = txt.match(util.urlRegExp);\n    if (url && url[0].startsWith(\"(\")) {\n      let link = url[0].match(/https?:\\/\\//i);\n      url[\"index\"] += link[\"index\"];\n      url[0] = url[0].slice(link[\"index\"]);\n      if (url[0].endsWith(\")\")) {\n        url[0] = url[0].slice(0, -1);\n      }\n    }\n    return url;\n  },\n  limitStrSize: (str, limit) => str.length > limit ? `${str.slice(0, limit-3)}...` : str,\n  // full datetime as a string adapted to the users timezone\n  humanFullDate: timestamp => {\n    if (!timestamp) {\n      return \"\";\n    }\n    let d = new Date(timestamp * 1000);\n    d = new Date(d.getTime() + d.getTimezoneOffset() * 60000 * -1);\n    return d.toISOString().replace(\"T\", \" \").replace(/\\..*$/, \"\");\n  },\n  // duration relative to event\n  humanTime: timestamp => {\n    if (!timestamp) {\n      return null;\n    }\n    const duration = Math.abs(Math.round((Date.now() / 1000 - timestamp) / 60));\n    if (duration < 1) {\n      return i18n.t(\"just_now\");\n    }\n    if (duration < 60) {\n      return i18n.t(\"ago\", { duration: `${duration  }mn` });\n    }\n    if (duration < 60 * 24) {\n      return i18n.t(\"ago\", { duration: `${Math.floor(duration / 60)  }h` });\n    }\n    return util.humanFullDate(timestamp).split(\" \")[0];\n  },\n  // get the id of an object from an url\n  getId: e => {\n    switch (typeof e) {\n    case \"object\":\n      return e ? e.id : null;\n    case \"string\":\n      return e\n        .split(\"/\")\n        .pop()\n        .replace(/\\?.*$/, \"\")\n        .replace(/\\.\\w+$/, \"\");\n    default:\n      console.error(e);\n      throw \"Could not extract id !\";\n    }\n  },\n  // get the url to a thubmnail\n  thumbnail: (id, width, height = 99999) =>\n    typeof(id) == \"string\" && !id.startsWith(\"z\")\n      ? util.toApp(`/api/images/thumbnail/${width}/${height}/${id}`)\n      : null,\n  // same as http.thumbnail but for a crop\n  crop: (id, width, height) =>\n    typeof(id) == \"string\" && !id.startsWith(\"z\")\n      ? util.toApp(`/api/images/crop/${width}/${height}/${id}`)\n      : null,\n  // default avatar in base64\n  defaultAvatar:\n    \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAABlBMVEUAAAD///+l2Z/dAAAAAnRSTlMA/iyWEiMAAAMJSURBVHja7ZtBjpwwEEWxmIhFFmiURZZEyi6HCLkZHCXr2eQKHIUjoEiRSGRRiWB6klaDU/hDF4z+W6LuNz3+ZRvbkCSEEEIIIYQQQgghhBBCCCGEEEIIITvwGfy+kxoTpNJigkw6TJBLjwkK8ZiglMFYUInAAqwQRKRBBR0q8FhXEKwVR0GLCvxCjeo6oyzkoIxnEvj5661acPO3yvFqpxdcV+Pj88VeNZ7cGB4ul1QFkv399KT4KBIpmGEwF4i9oL6DIN/3FzToL2ju8AvsBeE2aNFfQMFJBCkF0/R+bkHyCgSVuaDcVaC5zyvMBTkqyHYVaBZDKSpw5oJgLcMC5doXFBSoIMNutjcQBHJULmlhQYUKlmNQbs9kqGC5P2o3FqBBOVjMWkEOdcZQKam3dyqkkgP/g35zxmEpLhbjir0ZFz2tXHgbPR5deI+EMPKmig/hhU/fIkOYL4iYDbIyqpCXajp2Zy4yhNuxqUfbMCaEIraQZ9swJgQBQ0jBQr6eYXrzQrYIYdtC9uaFbDKayJajyTkL+VijyWA+mnBajGpDeFrMzAu5BNvwKoQBDaFHQ+jQEBo0hBoMYUBD8GgIHRpCi44mcAiJRQhoITvzQs63LGQxL2SOJnEhiHUI296bwNOixb1JYr5kz8yX7Odf6XDfBC9kd6yVzq+np69QIY/8AEJ45kt0T4hIM0VONm5CiLlVhLflS+CwdTGEVa2AnfOFTogaVAAfcg1QivpqzLFHD4LnrR0q8FAhqlux3PPUu0EFLSrooL6kLeaQwKMCTY4OfUjVoY+IOvTxSFiw81NtnbmgRwXeXDAg08IxBPIKBPX5BQ0FBxC0+wtSCg4gcBT853nruwiqfQXNHQT/LDiGD9Old6sEL2umn3MtqxDks9NotVbwfaG+FDfL6fznsjV32365cTXrtqoPdJKYrbmreIDvT42DCMYoIUEu4FvIKSpwgr6JvYEAfJm8QgUl+j58gb6Rn4Nvcv/p0jUmcODr8IQQQgghhBBCCCGEEEIIIYQQQgghs/wGp6uYgtiKODIAAAAASUVORK5CYII=\",\n  hash: str =>\n    str.split(\"\").reduce((a, c) => ((a << 5) - a + c.charCodeAt()) | 0),\n  colorHash: str =>\n    [\n      \"#000000\",\n      \"#333366\",\n      \"#333399\",\n      \"#3333CC\",\n      \"#339933\",\n      \"#339999\",\n      \"#33CC33\",\n      \"#33CC99\",\n      \"#663333\",\n      \"#663366\",\n      \"#666633\",\n      \"#666699\",\n      \"#66CC33\",\n      \"#66CCCC\",\n      \"#993333\",\n      \"#993366\",\n      \"#993399\",\n      \"#996633\",\n      \"#999966\",\n      \"#CC3333\",\n      \"#CC3366\",\n      \"#CC3399\",\n      \"#CC33CC\",\n      \"#CC6633\",\n      \"#CC9933\",\n      \"#CC99CC\",\n      \"#CCCC33\"\n    ][Math.abs(util.hash(str)) % 27],\n  backgroundHash: str => {\n    if (!str) {\n      return \"background-color: #aaa;\";\n    }\n    let c1 = util.colorHash(str);\n    let c2 = util.colorHash(\n      str\n        .split(\"\")\n        .reverse()\n        .join(\".\")\n    );\n    let deg = 45 * (Math.abs(util.hash(str)) % 4);\n    return (\n      `background-color:${c1};background-image:linear-gradient(${deg}deg, ${c2} 15%, transparent 15% 30%, ${c2} 30% 45%, transparent 45% 60%, ${c2} 60% 75%, transparent 75% 90%, ${c2} 90%);`\n    );\n  },\n  // Accepts a keydown event and checks if it's enter. Compatibility between browsers\n  // We do it the permissive way\n  is_it_enter: e => {\n    return e.keyCode == 13 || e.keyCode == 10 || e.key == \"Enter\" || e.key == \"\" || e.code == \"Enter\";\n  },\n  getVersion: () => (document.querySelector(\"meta[name='zusam:version']\") || {}).content || \"unknown\",\n  getWidthBreakpoint: () => {\n    if (window.innerWidth > 1800)\n      return 1800;\n    if (window.innerWidth > 1400)\n      return 1400;\n    if (window.innerWidth > 992)\n      return 992;\n    if (window.innerWidth > 768)\n      return 768;\n    if (window.innerWidth > 576)\n      return 576;\n    return window.innerWidth;\n  },\n};\nexport default util;\n","import me from \"./me.js\";\nimport i18n from \"i18next\";\nimport { initReactI18next } from \"react-i18next\";\n\nimport en from \"/src/lang/en.json\";\nimport es from \"/src/lang/es.json\";\nimport fr from \"/src/lang/fr.json\";\nimport nl from \"/src/lang/nl.json\";\nimport sk from \"/src/lang/sk.json\";\n\nconst lang = {\n  possibleLang: {\n    en: \"English\",\n    es: \"Espaol\",\n    fr: \"Franais\",\n    nl: \"Nederlands\",\n    sk: \"Slovensk\",\n  }, // possible dicts names to load\n  getDefaultLang: () =>\n    (document.querySelector(\"meta[name='zusam:default-lang']\") || {}).content ||\n    \"en\",\n  getCurrentLang: () => me.lang || lang.getDefaultLang(),\n};\n\ni18n.use(initReactI18next).init({\n  resources: {\n    en: {\n      translation: en\n    },\n    fr: {\n      translation: fr\n    },\n    sk: {\n      translation: sk\n    },\n    es: {\n      translation: es\n    },\n    nl: {\n      translation: nl\n    },\n  },\n  lng: lang.getCurrentLang(), // if you're using a language detector, do not define the lng option\n  fallbackLng: lang.getDefaultLang(),\n  interpolation: {\n    escapeValue: false // react already safes from xss => https://www.i18next.com/translation-function/interpolation#unescape\n  }\n});\n\nexport { lang, i18n };\n","import http from \"./http.js\";\nimport storage from \"./storage.js\";\nimport store from \"/src/store\";\nimport i18n from \"i18next\";\n\nconst me = {\n\n  get() {\n    return store.get()?.me;\n  },\n\n  get data() {\n    return store.get()?.me?.data;\n  },\n\n  get lang() {\n    return store.get()?.me?.data?.lang;\n  },\n\n  get groups() {\n    return store.get()?.me?.groups;\n  },\n\n  get id() {\n    return store.get()?.me?.id;\n  },\n\n  get avatar() {\n    return store.get()?.me?.avatar;\n  },\n\n  getGroupName(id) {\n    let group = store.get()[\"groups\"]?.find(g => g[\"id\"] == id);\n    return group ? group[\"name\"] : \"\";\n  },\n\n  update() {\n    return http.get(\"/api/me\", true).then(r => {\n      if (!r || !r?.id) {\n        store.dispatch(\"update\", {});\n        return;\n      }\n      Promise.all(r.groups.map(g => http.get(`/api/groups/${g.id}`).then(group => group))).then(\n        groups => {\n          r.groups = groups;\n          store.dispatch(\"me/update\", Object.assign({loaded: true}, r));\n        }\n      );\n      i18n.changeLanguage(r?.data?.lang);\n      return r;\n    });\n  },\n\n  fetch() {\n    if (store.get()[\"loaded\"]) {\n      return new Promise(r => r(store.get()));\n    }\n    return me.update();\n  },\n\n  reset() {\n    store.dispatch(\"@init\");\n  },\n\n  logout() {\n    storage.reset();\n  }\n};\n\nexport default me;\n","import { createStoreon } from \"storeon\";\n//import { crossTab } from '@storeon/crosstab';\n\nimport { meStore } from \"./me.js\";\nimport { apiStore } from \"./api.js\";\nimport { routerStore } from \"./router.js\";\nimport { notificationsStore } from \"./notifications.js\";\nimport { bookmarksStore } from \"./bookmarks.js\";\n\nconst store = createStoreon([apiStore, meStore, routerStore, notificationsStore, bookmarksStore]);\nexport default store;\n","let createStoreon = modules => {\n  let events = {}\n  let state = {}\n\n  let store = {\n    dispatch(event, data) {\n      if (event !== '@dispatch') {\n        store.dispatch('@dispatch', [event, data, events[event]])\n      }\n\n      if (events[event]) {\n        let changes\n        events[event].forEach(i => {\n          let diff = events[event].includes(i) && i(state, data, store)\n          if (diff && typeof diff.then !== 'function') {\n            state = { ...state, ...diff }\n            changes = { ...changes, ...diff }\n          }\n        })\n        if (changes) store.dispatch('@changed', changes)\n      }\n    },\n\n    get: () => state,\n\n    on(event, cb) {\n      ;(events[event] || (events[event] = [])).push(cb)\n\n      return () => {\n        events[event] = events[event].filter(i => i !== cb)\n      }\n    }\n  }\n\n  modules.forEach(i => {\n    if (i) i(store)\n  })\n  store.dispatch('@init')\n\n  return store\n}\n\nexport { createStoreon }\n","//import { http } from \"/src/core\";\n\nexport const meStore = store => {\n  store.on(\"@init\", () => ({me: {}}));\n\n  store.on(\"me/update\", (state, me) => {\n    return {me};\n  });\n};\n","export const apiStore = store => {\n  store.on(\"@init\", () => ({api: {}}));\n\n  store.on(\"api/update\", (state, api) => {\n    return {api};\n  });\n};\n","export const routerStore = store => {\n  store.on(\"@init\", () => ({\n    route: \"\",\n    id: \"\",\n    action: \"\",\n    backUrl: \"\",\n    entityType: \"\",\n    search: \"\",\n    entity: {},\n  }));\n\n  store.on(\"router/update\", (_, newState) => {\n    return {\n      entity: newState.entity,\n      backUrl: newState.backUrl,\n    };\n  });\n};\n","export const notificationsStore = store => {\n  store.on(\"@init\", () => ({notifications:[]}));\n\n  store.on(\"notifications/update\", (state, notifications = []) => {\n    return {notifications};\n  });\n\n  store.on(\"notifications/remove\", (state, notification) => {\n    return {\n      notifications: state.notifications.filter(n => n.id != notification.id)\n    };\n  });\n\n  store.on(\"notifications/read\", (state, notification) => {\n    return {\n      notifications: state.notifications.map(n => n.id === notification.id ? Object.assign(n, {read: true}) : n)\n    };\n  });\n};\n","import { http } from \"/src/core\";\n\nexport const bookmarksStore = store => {\n  store.on(\"@init\", () => ({bookmarks:[]}));\n\n  store.on(\"bookmarks/update\", (state, bookmarks = []) => {\n    return {bookmarks};\n  });\n\n  store.on(\"bookmark/remove\", (state, bookmark) => {\n    http.delete(`/api/bookmarks/${bookmark.id}`);\n    return {\n      bookmarks: state.bookmarks.filter(b => b.id != bookmark.id)\n    };\n  });\n\n  store.on(\"bookmark/add\", (state, message_id) => {\n    http.post(\"/api/bookmarks\", {message_id}).then(bookmark => {\n      store.dispatch(\"bookmarks/update\", [...state.bookmarks, bookmark]);\n    });\n  });\n};\n","const consoleLogger = {\n  type: 'logger',\n  log(args) {\n    this.output('log', args);\n  },\n  warn(args) {\n    this.output('warn', args);\n  },\n  error(args) {\n    this.output('error', args);\n  },\n  output(type, args) {\n    if (console && console[type]) console[type].apply(console, args);\n  }\n};\nclass Logger {\n  constructor(concreteLogger) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    this.init(concreteLogger, options);\n  }\n  init(concreteLogger) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    this.prefix = options.prefix || 'i18next:';\n    this.logger = concreteLogger || consoleLogger;\n    this.options = options;\n    this.debug = options.debug;\n  }\n  log() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    return this.forward(args, 'log', '', true);\n  }\n  warn() {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n    return this.forward(args, 'warn', '', true);\n  }\n  error() {\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n    return this.forward(args, 'error', '');\n  }\n  deprecate() {\n    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n    return this.forward(args, 'warn', 'WARNING DEPRECATED: ', true);\n  }\n  forward(args, lvl, prefix, debugOnly) {\n    if (debugOnly && !this.debug) return null;\n    if (typeof args[0] === 'string') args[0] = `${prefix}${this.prefix} ${args[0]}`;\n    return this.logger[lvl](args);\n  }\n  create(moduleName) {\n    return new Logger(this.logger, {\n      ...{\n        prefix: `${this.prefix}:${moduleName}:`\n      },\n      ...this.options\n    });\n  }\n  clone(options) {\n    options = options || this.options;\n    options.prefix = options.prefix || this.prefix;\n    return new Logger(this.logger, options);\n  }\n}\nvar baseLogger = new Logger();\n\nclass EventEmitter {\n  constructor() {\n    this.observers = {};\n  }\n  on(events, listener) {\n    events.split(' ').forEach(event => {\n      this.observers[event] = this.observers[event] || [];\n      this.observers[event].push(listener);\n    });\n    return this;\n  }\n  off(event, listener) {\n    if (!this.observers[event]) return;\n    if (!listener) {\n      delete this.observers[event];\n      return;\n    }\n    this.observers[event] = this.observers[event].filter(l => l !== listener);\n  }\n  emit(event) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    if (this.observers[event]) {\n      const cloned = [].concat(this.observers[event]);\n      cloned.forEach(observer => {\n        observer(...args);\n      });\n    }\n    if (this.observers['*']) {\n      const cloned = [].concat(this.observers['*']);\n      cloned.forEach(observer => {\n        observer.apply(observer, [event, ...args]);\n      });\n    }\n  }\n}\n\nfunction defer() {\n  let res;\n  let rej;\n  const promise = new Promise((resolve, reject) => {\n    res = resolve;\n    rej = reject;\n  });\n  promise.resolve = res;\n  promise.reject = rej;\n  return promise;\n}\nfunction makeString(object) {\n  if (object == null) return '';\n  return '' + object;\n}\nfunction copy(a, s, t) {\n  a.forEach(m => {\n    if (s[m]) t[m] = s[m];\n  });\n}\nfunction getLastOfPath(object, path, Empty) {\n  function cleanKey(key) {\n    return key && key.indexOf('###') > -1 ? key.replace(/###/g, '.') : key;\n  }\n  function canNotTraverseDeeper() {\n    return !object || typeof object === 'string';\n  }\n  const stack = typeof path !== 'string' ? [].concat(path) : path.split('.');\n  while (stack.length > 1) {\n    if (canNotTraverseDeeper()) return {};\n    const key = cleanKey(stack.shift());\n    if (!object[key] && Empty) object[key] = new Empty();\n    if (Object.prototype.hasOwnProperty.call(object, key)) {\n      object = object[key];\n    } else {\n      object = {};\n    }\n  }\n  if (canNotTraverseDeeper()) return {};\n  return {\n    obj: object,\n    k: cleanKey(stack.shift())\n  };\n}\nfunction setPath(object, path, newValue) {\n  const {\n    obj,\n    k\n  } = getLastOfPath(object, path, Object);\n  obj[k] = newValue;\n}\nfunction pushPath(object, path, newValue, concat) {\n  const {\n    obj,\n    k\n  } = getLastOfPath(object, path, Object);\n  obj[k] = obj[k] || [];\n  if (concat) obj[k] = obj[k].concat(newValue);\n  if (!concat) obj[k].push(newValue);\n}\nfunction getPath(object, path) {\n  const {\n    obj,\n    k\n  } = getLastOfPath(object, path);\n  if (!obj) return undefined;\n  return obj[k];\n}\nfunction getPathWithDefaults(data, defaultData, key) {\n  const value = getPath(data, key);\n  if (value !== undefined) {\n    return value;\n  }\n  return getPath(defaultData, key);\n}\nfunction deepExtend(target, source, overwrite) {\n  for (const prop in source) {\n    if (prop !== '__proto__' && prop !== 'constructor') {\n      if (prop in target) {\n        if (typeof target[prop] === 'string' || target[prop] instanceof String || typeof source[prop] === 'string' || source[prop] instanceof String) {\n          if (overwrite) target[prop] = source[prop];\n        } else {\n          deepExtend(target[prop], source[prop], overwrite);\n        }\n      } else {\n        target[prop] = source[prop];\n      }\n    }\n  }\n  return target;\n}\nfunction regexEscape(str) {\n  return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n}\nvar _entityMap = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;',\n  '/': '&#x2F;'\n};\nfunction escape(data) {\n  if (typeof data === 'string') {\n    return data.replace(/[&<>\"'\\/]/g, s => _entityMap[s]);\n  }\n  return data;\n}\nconst chars = [' ', ',', '?', '!', ';'];\nfunction looksLikeObjectPath(key, nsSeparator, keySeparator) {\n  nsSeparator = nsSeparator || '';\n  keySeparator = keySeparator || '';\n  const possibleChars = chars.filter(c => nsSeparator.indexOf(c) < 0 && keySeparator.indexOf(c) < 0);\n  if (possibleChars.length === 0) return true;\n  const r = new RegExp(`(${possibleChars.map(c => c === '?' ? '\\\\?' : c).join('|')})`);\n  let matched = !r.test(key);\n  if (!matched) {\n    const ki = key.indexOf(keySeparator);\n    if (ki > 0 && !r.test(key.substring(0, ki))) {\n      matched = true;\n    }\n  }\n  return matched;\n}\nfunction deepFind(obj, path) {\n  let keySeparator = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '.';\n  if (!obj) return undefined;\n  if (obj[path]) return obj[path];\n  const paths = path.split(keySeparator);\n  let current = obj;\n  for (let i = 0; i < paths.length; ++i) {\n    if (!current) return undefined;\n    if (typeof current[paths[i]] === 'string' && i + 1 < paths.length) {\n      return undefined;\n    }\n    if (current[paths[i]] === undefined) {\n      let j = 2;\n      let p = paths.slice(i, i + j).join(keySeparator);\n      let mix = current[p];\n      while (mix === undefined && paths.length > i + j) {\n        j++;\n        p = paths.slice(i, i + j).join(keySeparator);\n        mix = current[p];\n      }\n      if (mix === undefined) return undefined;\n      if (mix === null) return null;\n      if (path.endsWith(p)) {\n        if (typeof mix === 'string') return mix;\n        if (p && typeof mix[p] === 'string') return mix[p];\n      }\n      const joinedPath = paths.slice(i + j).join(keySeparator);\n      if (joinedPath) return deepFind(mix, joinedPath, keySeparator);\n      return undefined;\n    }\n    current = current[paths[i]];\n  }\n  return current;\n}\nfunction getCleanedCode(code) {\n  if (code && code.indexOf('_') > 0) return code.replace('_', '-');\n  return code;\n}\n\nclass ResourceStore extends EventEmitter {\n  constructor(data) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      ns: ['translation'],\n      defaultNS: 'translation'\n    };\n    super();\n    this.data = data || {};\n    this.options = options;\n    if (this.options.keySeparator === undefined) {\n      this.options.keySeparator = '.';\n    }\n    if (this.options.ignoreJSONStructure === undefined) {\n      this.options.ignoreJSONStructure = true;\n    }\n  }\n  addNamespaces(ns) {\n    if (this.options.ns.indexOf(ns) < 0) {\n      this.options.ns.push(ns);\n    }\n  }\n  removeNamespaces(ns) {\n    const index = this.options.ns.indexOf(ns);\n    if (index > -1) {\n      this.options.ns.splice(index, 1);\n    }\n  }\n  getResource(lng, ns, key) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n    const ignoreJSONStructure = options.ignoreJSONStructure !== undefined ? options.ignoreJSONStructure : this.options.ignoreJSONStructure;\n    let path = [lng, ns];\n    if (key && typeof key !== 'string') path = path.concat(key);\n    if (key && typeof key === 'string') path = path.concat(keySeparator ? key.split(keySeparator) : key);\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n    }\n    const result = getPath(this.data, path);\n    if (result || !ignoreJSONStructure || typeof key !== 'string') return result;\n    return deepFind(this.data && this.data[lng] && this.data[lng][ns], key, keySeparator);\n  }\n  addResource(lng, ns, key, value) {\n    let options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {\n      silent: false\n    };\n    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n    let path = [lng, ns];\n    if (key) path = path.concat(keySeparator ? key.split(keySeparator) : key);\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n      value = ns;\n      ns = path[1];\n    }\n    this.addNamespaces(ns);\n    setPath(this.data, path, value);\n    if (!options.silent) this.emit('added', lng, ns, key, value);\n  }\n  addResources(lng, ns, resources) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {\n      silent: false\n    };\n    for (const m in resources) {\n      if (typeof resources[m] === 'string' || Object.prototype.toString.apply(resources[m]) === '[object Array]') this.addResource(lng, ns, m, resources[m], {\n        silent: true\n      });\n    }\n    if (!options.silent) this.emit('added', lng, ns, resources);\n  }\n  addResourceBundle(lng, ns, resources, deep, overwrite) {\n    let options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {\n      silent: false\n    };\n    let path = [lng, ns];\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n      deep = resources;\n      resources = ns;\n      ns = path[1];\n    }\n    this.addNamespaces(ns);\n    let pack = getPath(this.data, path) || {};\n    if (deep) {\n      deepExtend(pack, resources, overwrite);\n    } else {\n      pack = {\n        ...pack,\n        ...resources\n      };\n    }\n    setPath(this.data, path, pack);\n    if (!options.silent) this.emit('added', lng, ns, resources);\n  }\n  removeResourceBundle(lng, ns) {\n    if (this.hasResourceBundle(lng, ns)) {\n      delete this.data[lng][ns];\n    }\n    this.removeNamespaces(ns);\n    this.emit('removed', lng, ns);\n  }\n  hasResourceBundle(lng, ns) {\n    return this.getResource(lng, ns) !== undefined;\n  }\n  getResourceBundle(lng, ns) {\n    if (!ns) ns = this.options.defaultNS;\n    if (this.options.compatibilityAPI === 'v1') return {\n      ...{},\n      ...this.getResource(lng, ns)\n    };\n    return this.getResource(lng, ns);\n  }\n  getDataByLanguage(lng) {\n    return this.data[lng];\n  }\n  hasLanguageSomeTranslations(lng) {\n    const data = this.getDataByLanguage(lng);\n    const n = data && Object.keys(data) || [];\n    return !!n.find(v => data[v] && Object.keys(data[v]).length > 0);\n  }\n  toJSON() {\n    return this.data;\n  }\n}\n\nvar postProcessor = {\n  processors: {},\n  addPostProcessor(module) {\n    this.processors[module.name] = module;\n  },\n  handle(processors, value, key, options, translator) {\n    processors.forEach(processor => {\n      if (this.processors[processor]) value = this.processors[processor].process(value, key, options, translator);\n    });\n    return value;\n  }\n};\n\nconst checkedLoadedFor = {};\nclass Translator extends EventEmitter {\n  constructor(services) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    super();\n    copy(['resourceStore', 'languageUtils', 'pluralResolver', 'interpolator', 'backendConnector', 'i18nFormat', 'utils'], services, this);\n    this.options = options;\n    if (this.options.keySeparator === undefined) {\n      this.options.keySeparator = '.';\n    }\n    this.logger = baseLogger.create('translator');\n  }\n  changeLanguage(lng) {\n    if (lng) this.language = lng;\n  }\n  exists(key) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      interpolation: {}\n    };\n    if (key === undefined || key === null) {\n      return false;\n    }\n    const resolved = this.resolve(key, options);\n    return resolved && resolved.res !== undefined;\n  }\n  extractFromKey(key, options) {\n    let nsSeparator = options.nsSeparator !== undefined ? options.nsSeparator : this.options.nsSeparator;\n    if (nsSeparator === undefined) nsSeparator = ':';\n    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n    let namespaces = options.ns || this.options.defaultNS || [];\n    const wouldCheckForNsInKey = nsSeparator && key.indexOf(nsSeparator) > -1;\n    const seemsNaturalLanguage = !this.options.userDefinedKeySeparator && !options.keySeparator && !this.options.userDefinedNsSeparator && !options.nsSeparator && !looksLikeObjectPath(key, nsSeparator, keySeparator);\n    if (wouldCheckForNsInKey && !seemsNaturalLanguage) {\n      const m = key.match(this.interpolator.nestingRegexp);\n      if (m && m.length > 0) {\n        return {\n          key,\n          namespaces\n        };\n      }\n      const parts = key.split(nsSeparator);\n      if (nsSeparator !== keySeparator || nsSeparator === keySeparator && this.options.ns.indexOf(parts[0]) > -1) namespaces = parts.shift();\n      key = parts.join(keySeparator);\n    }\n    if (typeof namespaces === 'string') namespaces = [namespaces];\n    return {\n      key,\n      namespaces\n    };\n  }\n  translate(keys, options, lastKey) {\n    if (typeof options !== 'object' && this.options.overloadTranslationOptionHandler) {\n      options = this.options.overloadTranslationOptionHandler(arguments);\n    }\n    if (typeof options === 'object') options = {\n      ...options\n    };\n    if (!options) options = {};\n    if (keys === undefined || keys === null) return '';\n    if (!Array.isArray(keys)) keys = [String(keys)];\n    const returnDetails = options.returnDetails !== undefined ? options.returnDetails : this.options.returnDetails;\n    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n    const {\n      key,\n      namespaces\n    } = this.extractFromKey(keys[keys.length - 1], options);\n    const namespace = namespaces[namespaces.length - 1];\n    const lng = options.lng || this.language;\n    const appendNamespaceToCIMode = options.appendNamespaceToCIMode || this.options.appendNamespaceToCIMode;\n    if (lng && lng.toLowerCase() === 'cimode') {\n      if (appendNamespaceToCIMode) {\n        const nsSeparator = options.nsSeparator || this.options.nsSeparator;\n        if (returnDetails) {\n          return {\n            res: `${namespace}${nsSeparator}${key}`,\n            usedKey: key,\n            exactUsedKey: key,\n            usedLng: lng,\n            usedNS: namespace\n          };\n        }\n        return `${namespace}${nsSeparator}${key}`;\n      }\n      if (returnDetails) {\n        return {\n          res: key,\n          usedKey: key,\n          exactUsedKey: key,\n          usedLng: lng,\n          usedNS: namespace\n        };\n      }\n      return key;\n    }\n    const resolved = this.resolve(keys, options);\n    let res = resolved && resolved.res;\n    const resUsedKey = resolved && resolved.usedKey || key;\n    const resExactUsedKey = resolved && resolved.exactUsedKey || key;\n    const resType = Object.prototype.toString.apply(res);\n    const noObject = ['[object Number]', '[object Function]', '[object RegExp]'];\n    const joinArrays = options.joinArrays !== undefined ? options.joinArrays : this.options.joinArrays;\n    const handleAsObjectInI18nFormat = !this.i18nFormat || this.i18nFormat.handleAsObject;\n    const handleAsObject = typeof res !== 'string' && typeof res !== 'boolean' && typeof res !== 'number';\n    if (handleAsObjectInI18nFormat && res && handleAsObject && noObject.indexOf(resType) < 0 && !(typeof joinArrays === 'string' && resType === '[object Array]')) {\n      if (!options.returnObjects && !this.options.returnObjects) {\n        if (!this.options.returnedObjectHandler) {\n          this.logger.warn('accessing an object - but returnObjects options is not enabled!');\n        }\n        const r = this.options.returnedObjectHandler ? this.options.returnedObjectHandler(resUsedKey, res, {\n          ...options,\n          ns: namespaces\n        }) : `key '${key} (${this.language})' returned an object instead of string.`;\n        if (returnDetails) {\n          resolved.res = r;\n          return resolved;\n        }\n        return r;\n      }\n      if (keySeparator) {\n        const resTypeIsArray = resType === '[object Array]';\n        const copy = resTypeIsArray ? [] : {};\n        const newKeyToUse = resTypeIsArray ? resExactUsedKey : resUsedKey;\n        for (const m in res) {\n          if (Object.prototype.hasOwnProperty.call(res, m)) {\n            const deepKey = `${newKeyToUse}${keySeparator}${m}`;\n            copy[m] = this.translate(deepKey, {\n              ...options,\n              ...{\n                joinArrays: false,\n                ns: namespaces\n              }\n            });\n            if (copy[m] === deepKey) copy[m] = res[m];\n          }\n        }\n        res = copy;\n      }\n    } else if (handleAsObjectInI18nFormat && typeof joinArrays === 'string' && resType === '[object Array]') {\n      res = res.join(joinArrays);\n      if (res) res = this.extendTranslation(res, keys, options, lastKey);\n    } else {\n      let usedDefault = false;\n      let usedKey = false;\n      const needsPluralHandling = options.count !== undefined && typeof options.count !== 'string';\n      const hasDefaultValue = Translator.hasDefaultValue(options);\n      const defaultValueSuffix = needsPluralHandling ? this.pluralResolver.getSuffix(lng, options.count, options) : '';\n      const defaultValueSuffixOrdinalFallback = options.ordinal && needsPluralHandling ? this.pluralResolver.getSuffix(lng, options.count, {\n        ordinal: false\n      }) : '';\n      const defaultValue = options[`defaultValue${defaultValueSuffix}`] || options[`defaultValue${defaultValueSuffixOrdinalFallback}`] || options.defaultValue;\n      if (!this.isValidLookup(res) && hasDefaultValue) {\n        usedDefault = true;\n        res = defaultValue;\n      }\n      if (!this.isValidLookup(res)) {\n        usedKey = true;\n        res = key;\n      }\n      const missingKeyNoValueFallbackToKey = options.missingKeyNoValueFallbackToKey || this.options.missingKeyNoValueFallbackToKey;\n      const resForMissing = missingKeyNoValueFallbackToKey && usedKey ? undefined : res;\n      const updateMissing = hasDefaultValue && defaultValue !== res && this.options.updateMissing;\n      if (usedKey || usedDefault || updateMissing) {\n        this.logger.log(updateMissing ? 'updateKey' : 'missingKey', lng, namespace, key, updateMissing ? defaultValue : res);\n        if (keySeparator) {\n          const fk = this.resolve(key, {\n            ...options,\n            keySeparator: false\n          });\n          if (fk && fk.res) this.logger.warn('Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.');\n        }\n        let lngs = [];\n        const fallbackLngs = this.languageUtils.getFallbackCodes(this.options.fallbackLng, options.lng || this.language);\n        if (this.options.saveMissingTo === 'fallback' && fallbackLngs && fallbackLngs[0]) {\n          for (let i = 0; i < fallbackLngs.length; i++) {\n            lngs.push(fallbackLngs[i]);\n          }\n        } else if (this.options.saveMissingTo === 'all') {\n          lngs = this.languageUtils.toResolveHierarchy(options.lng || this.language);\n        } else {\n          lngs.push(options.lng || this.language);\n        }\n        const send = (l, k, specificDefaultValue) => {\n          const defaultForMissing = hasDefaultValue && specificDefaultValue !== res ? specificDefaultValue : resForMissing;\n          if (this.options.missingKeyHandler) {\n            this.options.missingKeyHandler(l, namespace, k, defaultForMissing, updateMissing, options);\n          } else if (this.backendConnector && this.backendConnector.saveMissing) {\n            this.backendConnector.saveMissing(l, namespace, k, defaultForMissing, updateMissing, options);\n          }\n          this.emit('missingKey', l, namespace, k, res);\n        };\n        if (this.options.saveMissing) {\n          if (this.options.saveMissingPlurals && needsPluralHandling) {\n            lngs.forEach(language => {\n              this.pluralResolver.getSuffixes(language, options).forEach(suffix => {\n                send([language], key + suffix, options[`defaultValue${suffix}`] || defaultValue);\n              });\n            });\n          } else {\n            send(lngs, key, defaultValue);\n          }\n        }\n      }\n      res = this.extendTranslation(res, keys, options, resolved, lastKey);\n      if (usedKey && res === key && this.options.appendNamespaceToMissingKey) res = `${namespace}:${key}`;\n      if ((usedKey || usedDefault) && this.options.parseMissingKeyHandler) {\n        if (this.options.compatibilityAPI !== 'v1') {\n          res = this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey ? `${namespace}:${key}` : key, usedDefault ? res : undefined);\n        } else {\n          res = this.options.parseMissingKeyHandler(res);\n        }\n      }\n    }\n    if (returnDetails) {\n      resolved.res = res;\n      return resolved;\n    }\n    return res;\n  }\n  extendTranslation(res, key, options, resolved, lastKey) {\n    var _this = this;\n    if (this.i18nFormat && this.i18nFormat.parse) {\n      res = this.i18nFormat.parse(res, {\n        ...this.options.interpolation.defaultVariables,\n        ...options\n      }, options.lng || this.language || resolved.usedLng, resolved.usedNS, resolved.usedKey, {\n        resolved\n      });\n    } else if (!options.skipInterpolation) {\n      if (options.interpolation) this.interpolator.init({\n        ...options,\n        ...{\n          interpolation: {\n            ...this.options.interpolation,\n            ...options.interpolation\n          }\n        }\n      });\n      const skipOnVariables = typeof res === 'string' && (options && options.interpolation && options.interpolation.skipOnVariables !== undefined ? options.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables);\n      let nestBef;\n      if (skipOnVariables) {\n        const nb = res.match(this.interpolator.nestingRegexp);\n        nestBef = nb && nb.length;\n      }\n      let data = options.replace && typeof options.replace !== 'string' ? options.replace : options;\n      if (this.options.interpolation.defaultVariables) data = {\n        ...this.options.interpolation.defaultVariables,\n        ...data\n      };\n      res = this.interpolator.interpolate(res, data, options.lng || this.language, options);\n      if (skipOnVariables) {\n        const na = res.match(this.interpolator.nestingRegexp);\n        const nestAft = na && na.length;\n        if (nestBef < nestAft) options.nest = false;\n      }\n      if (!options.lng && this.options.compatibilityAPI !== 'v1' && resolved && resolved.res) options.lng = resolved.usedLng;\n      if (options.nest !== false) res = this.interpolator.nest(res, function () {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n        if (lastKey && lastKey[0] === args[0] && !options.context) {\n          _this.logger.warn(`It seems you are nesting recursively key: ${args[0]} in key: ${key[0]}`);\n          return null;\n        }\n        return _this.translate(...args, key);\n      }, options);\n      if (options.interpolation) this.interpolator.reset();\n    }\n    const postProcess = options.postProcess || this.options.postProcess;\n    const postProcessorNames = typeof postProcess === 'string' ? [postProcess] : postProcess;\n    if (res !== undefined && res !== null && postProcessorNames && postProcessorNames.length && options.applyPostProcessor !== false) {\n      res = postProcessor.handle(postProcessorNames, res, key, this.options && this.options.postProcessPassResolved ? {\n        i18nResolved: resolved,\n        ...options\n      } : options, this);\n    }\n    return res;\n  }\n  resolve(keys) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let found;\n    let usedKey;\n    let exactUsedKey;\n    let usedLng;\n    let usedNS;\n    if (typeof keys === 'string') keys = [keys];\n    keys.forEach(k => {\n      if (this.isValidLookup(found)) return;\n      const extracted = this.extractFromKey(k, options);\n      const key = extracted.key;\n      usedKey = key;\n      let namespaces = extracted.namespaces;\n      if (this.options.fallbackNS) namespaces = namespaces.concat(this.options.fallbackNS);\n      const needsPluralHandling = options.count !== undefined && typeof options.count !== 'string';\n      const needsZeroSuffixLookup = needsPluralHandling && !options.ordinal && options.count === 0 && this.pluralResolver.shouldUseIntlApi();\n      const needsContextHandling = options.context !== undefined && (typeof options.context === 'string' || typeof options.context === 'number') && options.context !== '';\n      const codes = options.lngs ? options.lngs : this.languageUtils.toResolveHierarchy(options.lng || this.language, options.fallbackLng);\n      namespaces.forEach(ns => {\n        if (this.isValidLookup(found)) return;\n        usedNS = ns;\n        if (!checkedLoadedFor[`${codes[0]}-${ns}`] && this.utils && this.utils.hasLoadedNamespace && !this.utils.hasLoadedNamespace(usedNS)) {\n          checkedLoadedFor[`${codes[0]}-${ns}`] = true;\n          this.logger.warn(`key \"${usedKey}\" for languages \"${codes.join(', ')}\" won't get resolved as namespace \"${usedNS}\" was not yet loaded`, 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');\n        }\n        codes.forEach(code => {\n          if (this.isValidLookup(found)) return;\n          usedLng = code;\n          const finalKeys = [key];\n          if (this.i18nFormat && this.i18nFormat.addLookupKeys) {\n            this.i18nFormat.addLookupKeys(finalKeys, key, code, ns, options);\n          } else {\n            let pluralSuffix;\n            if (needsPluralHandling) pluralSuffix = this.pluralResolver.getSuffix(code, options.count, options);\n            const zeroSuffix = `${this.options.pluralSeparator}zero`;\n            const ordinalPrefix = `${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;\n            if (needsPluralHandling) {\n              finalKeys.push(key + pluralSuffix);\n              if (options.ordinal && pluralSuffix.indexOf(ordinalPrefix) === 0) {\n                finalKeys.push(key + pluralSuffix.replace(ordinalPrefix, this.options.pluralSeparator));\n              }\n              if (needsZeroSuffixLookup) {\n                finalKeys.push(key + zeroSuffix);\n              }\n            }\n            if (needsContextHandling) {\n              const contextKey = `${key}${this.options.contextSeparator}${options.context}`;\n              finalKeys.push(contextKey);\n              if (needsPluralHandling) {\n                finalKeys.push(contextKey + pluralSuffix);\n                if (options.ordinal && pluralSuffix.indexOf(ordinalPrefix) === 0) {\n                  finalKeys.push(contextKey + pluralSuffix.replace(ordinalPrefix, this.options.pluralSeparator));\n                }\n                if (needsZeroSuffixLookup) {\n                  finalKeys.push(contextKey + zeroSuffix);\n                }\n              }\n            }\n          }\n          let possibleKey;\n          while (possibleKey = finalKeys.pop()) {\n            if (!this.isValidLookup(found)) {\n              exactUsedKey = possibleKey;\n              found = this.getResource(code, ns, possibleKey, options);\n            }\n          }\n        });\n      });\n    });\n    return {\n      res: found,\n      usedKey,\n      exactUsedKey,\n      usedLng,\n      usedNS\n    };\n  }\n  isValidLookup(res) {\n    return res !== undefined && !(!this.options.returnNull && res === null) && !(!this.options.returnEmptyString && res === '');\n  }\n  getResource(code, ns, key) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    if (this.i18nFormat && this.i18nFormat.getResource) return this.i18nFormat.getResource(code, ns, key, options);\n    return this.resourceStore.getResource(code, ns, key, options);\n  }\n  static hasDefaultValue(options) {\n    const prefix = 'defaultValue';\n    for (const option in options) {\n      if (Object.prototype.hasOwnProperty.call(options, option) && prefix === option.substring(0, prefix.length) && undefined !== options[option]) {\n        return true;\n      }\n    }\n    return false;\n  }\n}\n\nfunction capitalize(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\nclass LanguageUtil {\n  constructor(options) {\n    this.options = options;\n    this.supportedLngs = this.options.supportedLngs || false;\n    this.logger = baseLogger.create('languageUtils');\n  }\n  getScriptPartFromCode(code) {\n    code = getCleanedCode(code);\n    if (!code || code.indexOf('-') < 0) return null;\n    const p = code.split('-');\n    if (p.length === 2) return null;\n    p.pop();\n    if (p[p.length - 1].toLowerCase() === 'x') return null;\n    return this.formatLanguageCode(p.join('-'));\n  }\n  getLanguagePartFromCode(code) {\n    code = getCleanedCode(code);\n    if (!code || code.indexOf('-') < 0) return code;\n    const p = code.split('-');\n    return this.formatLanguageCode(p[0]);\n  }\n  formatLanguageCode(code) {\n    if (typeof code === 'string' && code.indexOf('-') > -1) {\n      const specialCases = ['hans', 'hant', 'latn', 'cyrl', 'cans', 'mong', 'arab'];\n      let p = code.split('-');\n      if (this.options.lowerCaseLng) {\n        p = p.map(part => part.toLowerCase());\n      } else if (p.length === 2) {\n        p[0] = p[0].toLowerCase();\n        p[1] = p[1].toUpperCase();\n        if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());\n      } else if (p.length === 3) {\n        p[0] = p[0].toLowerCase();\n        if (p[1].length === 2) p[1] = p[1].toUpperCase();\n        if (p[0] !== 'sgn' && p[2].length === 2) p[2] = p[2].toUpperCase();\n        if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());\n        if (specialCases.indexOf(p[2].toLowerCase()) > -1) p[2] = capitalize(p[2].toLowerCase());\n      }\n      return p.join('-');\n    }\n    return this.options.cleanCode || this.options.lowerCaseLng ? code.toLowerCase() : code;\n  }\n  isSupportedCode(code) {\n    if (this.options.load === 'languageOnly' || this.options.nonExplicitSupportedLngs) {\n      code = this.getLanguagePartFromCode(code);\n    }\n    return !this.supportedLngs || !this.supportedLngs.length || this.supportedLngs.indexOf(code) > -1;\n  }\n  getBestMatchFromCodes(codes) {\n    if (!codes) return null;\n    let found;\n    codes.forEach(code => {\n      if (found) return;\n      const cleanedLng = this.formatLanguageCode(code);\n      if (!this.options.supportedLngs || this.isSupportedCode(cleanedLng)) found = cleanedLng;\n    });\n    if (!found && this.options.supportedLngs) {\n      codes.forEach(code => {\n        if (found) return;\n        const lngOnly = this.getLanguagePartFromCode(code);\n        if (this.isSupportedCode(lngOnly)) return found = lngOnly;\n        found = this.options.supportedLngs.find(supportedLng => {\n          if (supportedLng === lngOnly) return supportedLng;\n          if (supportedLng.indexOf('-') < 0 && lngOnly.indexOf('-') < 0) return;\n          if (supportedLng.indexOf(lngOnly) === 0) return supportedLng;\n        });\n      });\n    }\n    if (!found) found = this.getFallbackCodes(this.options.fallbackLng)[0];\n    return found;\n  }\n  getFallbackCodes(fallbacks, code) {\n    if (!fallbacks) return [];\n    if (typeof fallbacks === 'function') fallbacks = fallbacks(code);\n    if (typeof fallbacks === 'string') fallbacks = [fallbacks];\n    if (Object.prototype.toString.apply(fallbacks) === '[object Array]') return fallbacks;\n    if (!code) return fallbacks.default || [];\n    let found = fallbacks[code];\n    if (!found) found = fallbacks[this.getScriptPartFromCode(code)];\n    if (!found) found = fallbacks[this.formatLanguageCode(code)];\n    if (!found) found = fallbacks[this.getLanguagePartFromCode(code)];\n    if (!found) found = fallbacks.default;\n    return found || [];\n  }\n  toResolveHierarchy(code, fallbackCode) {\n    const fallbackCodes = this.getFallbackCodes(fallbackCode || this.options.fallbackLng || [], code);\n    const codes = [];\n    const addCode = c => {\n      if (!c) return;\n      if (this.isSupportedCode(c)) {\n        codes.push(c);\n      } else {\n        this.logger.warn(`rejecting language code not found in supportedLngs: ${c}`);\n      }\n    };\n    if (typeof code === 'string' && (code.indexOf('-') > -1 || code.indexOf('_') > -1)) {\n      if (this.options.load !== 'languageOnly') addCode(this.formatLanguageCode(code));\n      if (this.options.load !== 'languageOnly' && this.options.load !== 'currentOnly') addCode(this.getScriptPartFromCode(code));\n      if (this.options.load !== 'currentOnly') addCode(this.getLanguagePartFromCode(code));\n    } else if (typeof code === 'string') {\n      addCode(this.formatLanguageCode(code));\n    }\n    fallbackCodes.forEach(fc => {\n      if (codes.indexOf(fc) < 0) addCode(this.formatLanguageCode(fc));\n    });\n    return codes;\n  }\n}\n\nlet sets = [{\n  lngs: ['ach', 'ak', 'am', 'arn', 'br', 'fil', 'gun', 'ln', 'mfe', 'mg', 'mi', 'oc', 'pt', 'pt-BR', 'tg', 'tl', 'ti', 'tr', 'uz', 'wa'],\n  nr: [1, 2],\n  fc: 1\n}, {\n  lngs: ['af', 'an', 'ast', 'az', 'bg', 'bn', 'ca', 'da', 'de', 'dev', 'el', 'en', 'eo', 'es', 'et', 'eu', 'fi', 'fo', 'fur', 'fy', 'gl', 'gu', 'ha', 'hi', 'hu', 'hy', 'ia', 'it', 'kk', 'kn', 'ku', 'lb', 'mai', 'ml', 'mn', 'mr', 'nah', 'nap', 'nb', 'ne', 'nl', 'nn', 'no', 'nso', 'pa', 'pap', 'pms', 'ps', 'pt-PT', 'rm', 'sco', 'se', 'si', 'so', 'son', 'sq', 'sv', 'sw', 'ta', 'te', 'tk', 'ur', 'yo'],\n  nr: [1, 2],\n  fc: 2\n}, {\n  lngs: ['ay', 'bo', 'cgg', 'fa', 'ht', 'id', 'ja', 'jbo', 'ka', 'km', 'ko', 'ky', 'lo', 'ms', 'sah', 'su', 'th', 'tt', 'ug', 'vi', 'wo', 'zh'],\n  nr: [1],\n  fc: 3\n}, {\n  lngs: ['be', 'bs', 'cnr', 'dz', 'hr', 'ru', 'sr', 'uk'],\n  nr: [1, 2, 5],\n  fc: 4\n}, {\n  lngs: ['ar'],\n  nr: [0, 1, 2, 3, 11, 100],\n  fc: 5\n}, {\n  lngs: ['cs', 'sk'],\n  nr: [1, 2, 5],\n  fc: 6\n}, {\n  lngs: ['csb', 'pl'],\n  nr: [1, 2, 5],\n  fc: 7\n}, {\n  lngs: ['cy'],\n  nr: [1, 2, 3, 8],\n  fc: 8\n}, {\n  lngs: ['fr'],\n  nr: [1, 2],\n  fc: 9\n}, {\n  lngs: ['ga'],\n  nr: [1, 2, 3, 7, 11],\n  fc: 10\n}, {\n  lngs: ['gd'],\n  nr: [1, 2, 3, 20],\n  fc: 11\n}, {\n  lngs: ['is'],\n  nr: [1, 2],\n  fc: 12\n}, {\n  lngs: ['jv'],\n  nr: [0, 1],\n  fc: 13\n}, {\n  lngs: ['kw'],\n  nr: [1, 2, 3, 4],\n  fc: 14\n}, {\n  lngs: ['lt'],\n  nr: [1, 2, 10],\n  fc: 15\n}, {\n  lngs: ['lv'],\n  nr: [1, 2, 0],\n  fc: 16\n}, {\n  lngs: ['mk'],\n  nr: [1, 2],\n  fc: 17\n}, {\n  lngs: ['mnk'],\n  nr: [0, 1, 2],\n  fc: 18\n}, {\n  lngs: ['mt'],\n  nr: [1, 2, 11, 20],\n  fc: 19\n}, {\n  lngs: ['or'],\n  nr: [2, 1],\n  fc: 2\n}, {\n  lngs: ['ro'],\n  nr: [1, 2, 20],\n  fc: 20\n}, {\n  lngs: ['sl'],\n  nr: [5, 1, 2, 3],\n  fc: 21\n}, {\n  lngs: ['he', 'iw'],\n  nr: [1, 2, 20, 21],\n  fc: 22\n}];\nlet _rulesPluralsTypes = {\n  1: function (n) {\n    return Number(n > 1);\n  },\n  2: function (n) {\n    return Number(n != 1);\n  },\n  3: function (n) {\n    return 0;\n  },\n  4: function (n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  5: function (n) {\n    return Number(n == 0 ? 0 : n == 1 ? 1 : n == 2 ? 2 : n % 100 >= 3 && n % 100 <= 10 ? 3 : n % 100 >= 11 ? 4 : 5);\n  },\n  6: function (n) {\n    return Number(n == 1 ? 0 : n >= 2 && n <= 4 ? 1 : 2);\n  },\n  7: function (n) {\n    return Number(n == 1 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  8: function (n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n != 8 && n != 11 ? 2 : 3);\n  },\n  9: function (n) {\n    return Number(n >= 2);\n  },\n  10: function (n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n < 7 ? 2 : n < 11 ? 3 : 4);\n  },\n  11: function (n) {\n    return Number(n == 1 || n == 11 ? 0 : n == 2 || n == 12 ? 1 : n > 2 && n < 20 ? 2 : 3);\n  },\n  12: function (n) {\n    return Number(n % 10 != 1 || n % 100 == 11);\n  },\n  13: function (n) {\n    return Number(n !== 0);\n  },\n  14: function (n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n == 3 ? 2 : 3);\n  },\n  15: function (n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  16: function (n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n !== 0 ? 1 : 2);\n  },\n  17: function (n) {\n    return Number(n == 1 || n % 10 == 1 && n % 100 != 11 ? 0 : 1);\n  },\n  18: function (n) {\n    return Number(n == 0 ? 0 : n == 1 ? 1 : 2);\n  },\n  19: function (n) {\n    return Number(n == 1 ? 0 : n == 0 || n % 100 > 1 && n % 100 < 11 ? 1 : n % 100 > 10 && n % 100 < 20 ? 2 : 3);\n  },\n  20: function (n) {\n    return Number(n == 1 ? 0 : n == 0 || n % 100 > 0 && n % 100 < 20 ? 1 : 2);\n  },\n  21: function (n) {\n    return Number(n % 100 == 1 ? 1 : n % 100 == 2 ? 2 : n % 100 == 3 || n % 100 == 4 ? 3 : 0);\n  },\n  22: function (n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : (n < 0 || n > 10) && n % 10 == 0 ? 2 : 3);\n  }\n};\nconst nonIntlVersions = ['v1', 'v2', 'v3'];\nconst intlVersions = ['v4'];\nconst suffixesOrder = {\n  zero: 0,\n  one: 1,\n  two: 2,\n  few: 3,\n  many: 4,\n  other: 5\n};\nfunction createRules() {\n  const rules = {};\n  sets.forEach(set => {\n    set.lngs.forEach(l => {\n      rules[l] = {\n        numbers: set.nr,\n        plurals: _rulesPluralsTypes[set.fc]\n      };\n    });\n  });\n  return rules;\n}\nclass PluralResolver {\n  constructor(languageUtils) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    this.languageUtils = languageUtils;\n    this.options = options;\n    this.logger = baseLogger.create('pluralResolver');\n    if ((!this.options.compatibilityJSON || intlVersions.includes(this.options.compatibilityJSON)) && (typeof Intl === 'undefined' || !Intl.PluralRules)) {\n      this.options.compatibilityJSON = 'v3';\n      this.logger.error('Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.');\n    }\n    this.rules = createRules();\n  }\n  addRule(lng, obj) {\n    this.rules[lng] = obj;\n  }\n  getRule(code) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    if (this.shouldUseIntlApi()) {\n      try {\n        return new Intl.PluralRules(getCleanedCode(code), {\n          type: options.ordinal ? 'ordinal' : 'cardinal'\n        });\n      } catch {\n        return;\n      }\n    }\n    return this.rules[code] || this.rules[this.languageUtils.getLanguagePartFromCode(code)];\n  }\n  needsPlural(code) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const rule = this.getRule(code, options);\n    if (this.shouldUseIntlApi()) {\n      return rule && rule.resolvedOptions().pluralCategories.length > 1;\n    }\n    return rule && rule.numbers.length > 1;\n  }\n  getPluralFormsOfKey(code, key) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return this.getSuffixes(code, options).map(suffix => `${key}${suffix}`);\n  }\n  getSuffixes(code) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const rule = this.getRule(code, options);\n    if (!rule) {\n      return [];\n    }\n    if (this.shouldUseIntlApi()) {\n      return rule.resolvedOptions().pluralCategories.sort((pluralCategory1, pluralCategory2) => suffixesOrder[pluralCategory1] - suffixesOrder[pluralCategory2]).map(pluralCategory => `${this.options.prepend}${options.ordinal ? `ordinal${this.options.prepend}` : ''}${pluralCategory}`);\n    }\n    return rule.numbers.map(number => this.getSuffix(code, number, options));\n  }\n  getSuffix(code, count) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    const rule = this.getRule(code, options);\n    if (rule) {\n      if (this.shouldUseIntlApi()) {\n        return `${this.options.prepend}${options.ordinal ? `ordinal${this.options.prepend}` : ''}${rule.select(count)}`;\n      }\n      return this.getSuffixRetroCompatible(rule, count);\n    }\n    this.logger.warn(`no plural rule found for: ${code}`);\n    return '';\n  }\n  getSuffixRetroCompatible(rule, count) {\n    const idx = rule.noAbs ? rule.plurals(count) : rule.plurals(Math.abs(count));\n    let suffix = rule.numbers[idx];\n    if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {\n      if (suffix === 2) {\n        suffix = 'plural';\n      } else if (suffix === 1) {\n        suffix = '';\n      }\n    }\n    const returnSuffix = () => this.options.prepend && suffix.toString() ? this.options.prepend + suffix.toString() : suffix.toString();\n    if (this.options.compatibilityJSON === 'v1') {\n      if (suffix === 1) return '';\n      if (typeof suffix === 'number') return `_plural_${suffix.toString()}`;\n      return returnSuffix();\n    } else if (this.options.compatibilityJSON === 'v2') {\n      return returnSuffix();\n    } else if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {\n      return returnSuffix();\n    }\n    return this.options.prepend && idx.toString() ? this.options.prepend + idx.toString() : idx.toString();\n  }\n  shouldUseIntlApi() {\n    return !nonIntlVersions.includes(this.options.compatibilityJSON);\n  }\n}\n\nfunction deepFindWithDefaults(data, defaultData, key) {\n  let keySeparator = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '.';\n  let ignoreJSONStructure = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n  let path = getPathWithDefaults(data, defaultData, key);\n  if (!path && ignoreJSONStructure && typeof key === 'string') {\n    path = deepFind(data, key, keySeparator);\n    if (path === undefined) path = deepFind(defaultData, key, keySeparator);\n  }\n  return path;\n}\nclass Interpolator {\n  constructor() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    this.logger = baseLogger.create('interpolator');\n    this.options = options;\n    this.format = options.interpolation && options.interpolation.format || (value => value);\n    this.init(options);\n  }\n  init() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    if (!options.interpolation) options.interpolation = {\n      escapeValue: true\n    };\n    const iOpts = options.interpolation;\n    this.escape = iOpts.escape !== undefined ? iOpts.escape : escape;\n    this.escapeValue = iOpts.escapeValue !== undefined ? iOpts.escapeValue : true;\n    this.useRawValueToEscape = iOpts.useRawValueToEscape !== undefined ? iOpts.useRawValueToEscape : false;\n    this.prefix = iOpts.prefix ? regexEscape(iOpts.prefix) : iOpts.prefixEscaped || '{{';\n    this.suffix = iOpts.suffix ? regexEscape(iOpts.suffix) : iOpts.suffixEscaped || '}}';\n    this.formatSeparator = iOpts.formatSeparator ? iOpts.formatSeparator : iOpts.formatSeparator || ',';\n    this.unescapePrefix = iOpts.unescapeSuffix ? '' : iOpts.unescapePrefix || '-';\n    this.unescapeSuffix = this.unescapePrefix ? '' : iOpts.unescapeSuffix || '';\n    this.nestingPrefix = iOpts.nestingPrefix ? regexEscape(iOpts.nestingPrefix) : iOpts.nestingPrefixEscaped || regexEscape('$t(');\n    this.nestingSuffix = iOpts.nestingSuffix ? regexEscape(iOpts.nestingSuffix) : iOpts.nestingSuffixEscaped || regexEscape(')');\n    this.nestingOptionsSeparator = iOpts.nestingOptionsSeparator ? iOpts.nestingOptionsSeparator : iOpts.nestingOptionsSeparator || ',';\n    this.maxReplaces = iOpts.maxReplaces ? iOpts.maxReplaces : 1000;\n    this.alwaysFormat = iOpts.alwaysFormat !== undefined ? iOpts.alwaysFormat : false;\n    this.resetRegExp();\n  }\n  reset() {\n    if (this.options) this.init(this.options);\n  }\n  resetRegExp() {\n    const regexpStr = `${this.prefix}(.+?)${this.suffix}`;\n    this.regexp = new RegExp(regexpStr, 'g');\n    const regexpUnescapeStr = `${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`;\n    this.regexpUnescape = new RegExp(regexpUnescapeStr, 'g');\n    const nestingRegexpStr = `${this.nestingPrefix}(.+?)${this.nestingSuffix}`;\n    this.nestingRegexp = new RegExp(nestingRegexpStr, 'g');\n  }\n  interpolate(str, data, lng, options) {\n    let match;\n    let value;\n    let replaces;\n    const defaultData = this.options && this.options.interpolation && this.options.interpolation.defaultVariables || {};\n    function regexSafe(val) {\n      return val.replace(/\\$/g, '$$$$');\n    }\n    const handleFormat = key => {\n      if (key.indexOf(this.formatSeparator) < 0) {\n        const path = deepFindWithDefaults(data, defaultData, key, this.options.keySeparator, this.options.ignoreJSONStructure);\n        return this.alwaysFormat ? this.format(path, undefined, lng, {\n          ...options,\n          ...data,\n          interpolationkey: key\n        }) : path;\n      }\n      const p = key.split(this.formatSeparator);\n      const k = p.shift().trim();\n      const f = p.join(this.formatSeparator).trim();\n      return this.format(deepFindWithDefaults(data, defaultData, k, this.options.keySeparator, this.options.ignoreJSONStructure), f, lng, {\n        ...options,\n        ...data,\n        interpolationkey: k\n      });\n    };\n    this.resetRegExp();\n    const missingInterpolationHandler = options && options.missingInterpolationHandler || this.options.missingInterpolationHandler;\n    const skipOnVariables = options && options.interpolation && options.interpolation.skipOnVariables !== undefined ? options.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables;\n    const todos = [{\n      regex: this.regexpUnescape,\n      safeValue: val => regexSafe(val)\n    }, {\n      regex: this.regexp,\n      safeValue: val => this.escapeValue ? regexSafe(this.escape(val)) : regexSafe(val)\n    }];\n    todos.forEach(todo => {\n      replaces = 0;\n      while (match = todo.regex.exec(str)) {\n        const matchedVar = match[1].trim();\n        value = handleFormat(matchedVar);\n        if (value === undefined) {\n          if (typeof missingInterpolationHandler === 'function') {\n            const temp = missingInterpolationHandler(str, match, options);\n            value = typeof temp === 'string' ? temp : '';\n          } else if (options && Object.prototype.hasOwnProperty.call(options, matchedVar)) {\n            value = '';\n          } else if (skipOnVariables) {\n            value = match[0];\n            continue;\n          } else {\n            this.logger.warn(`missed to pass in variable ${matchedVar} for interpolating ${str}`);\n            value = '';\n          }\n        } else if (typeof value !== 'string' && !this.useRawValueToEscape) {\n          value = makeString(value);\n        }\n        const safeValue = todo.safeValue(value);\n        str = str.replace(match[0], safeValue);\n        if (skipOnVariables) {\n          todo.regex.lastIndex += value.length;\n          todo.regex.lastIndex -= match[0].length;\n        } else {\n          todo.regex.lastIndex = 0;\n        }\n        replaces++;\n        if (replaces >= this.maxReplaces) {\n          break;\n        }\n      }\n    });\n    return str;\n  }\n  nest(str, fc) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    let match;\n    let value;\n    let clonedOptions;\n    function handleHasOptions(key, inheritedOptions) {\n      const sep = this.nestingOptionsSeparator;\n      if (key.indexOf(sep) < 0) return key;\n      const c = key.split(new RegExp(`${sep}[ ]*{`));\n      let optionsString = `{${c[1]}`;\n      key = c[0];\n      optionsString = this.interpolate(optionsString, clonedOptions);\n      const matchedSingleQuotes = optionsString.match(/'/g);\n      const matchedDoubleQuotes = optionsString.match(/\"/g);\n      if (matchedSingleQuotes && matchedSingleQuotes.length % 2 === 0 && !matchedDoubleQuotes || matchedDoubleQuotes.length % 2 !== 0) {\n        optionsString = optionsString.replace(/'/g, '\"');\n      }\n      try {\n        clonedOptions = JSON.parse(optionsString);\n        if (inheritedOptions) clonedOptions = {\n          ...inheritedOptions,\n          ...clonedOptions\n        };\n      } catch (e) {\n        this.logger.warn(`failed parsing options string in nesting for key ${key}`, e);\n        return `${key}${sep}${optionsString}`;\n      }\n      delete clonedOptions.defaultValue;\n      return key;\n    }\n    while (match = this.nestingRegexp.exec(str)) {\n      let formatters = [];\n      clonedOptions = {\n        ...options\n      };\n      clonedOptions = clonedOptions.replace && typeof clonedOptions.replace !== 'string' ? clonedOptions.replace : clonedOptions;\n      clonedOptions.applyPostProcessor = false;\n      delete clonedOptions.defaultValue;\n      let doReduce = false;\n      if (match[0].indexOf(this.formatSeparator) !== -1 && !/{.*}/.test(match[1])) {\n        const r = match[1].split(this.formatSeparator).map(elem => elem.trim());\n        match[1] = r.shift();\n        formatters = r;\n        doReduce = true;\n      }\n      value = fc(handleHasOptions.call(this, match[1].trim(), clonedOptions), clonedOptions);\n      if (value && match[0] === str && typeof value !== 'string') return value;\n      if (typeof value !== 'string') value = makeString(value);\n      if (!value) {\n        this.logger.warn(`missed to resolve ${match[1]} for nesting ${str}`);\n        value = '';\n      }\n      if (doReduce) {\n        value = formatters.reduce((v, f) => this.format(v, f, options.lng, {\n          ...options,\n          interpolationkey: match[1].trim()\n        }), value.trim());\n      }\n      str = str.replace(match[0], value);\n      this.regexp.lastIndex = 0;\n    }\n    return str;\n  }\n}\n\nfunction parseFormatStr(formatStr) {\n  let formatName = formatStr.toLowerCase().trim();\n  const formatOptions = {};\n  if (formatStr.indexOf('(') > -1) {\n    const p = formatStr.split('(');\n    formatName = p[0].toLowerCase().trim();\n    const optStr = p[1].substring(0, p[1].length - 1);\n    if (formatName === 'currency' && optStr.indexOf(':') < 0) {\n      if (!formatOptions.currency) formatOptions.currency = optStr.trim();\n    } else if (formatName === 'relativetime' && optStr.indexOf(':') < 0) {\n      if (!formatOptions.range) formatOptions.range = optStr.trim();\n    } else {\n      const opts = optStr.split(';');\n      opts.forEach(opt => {\n        if (!opt) return;\n        const [key, ...rest] = opt.split(':');\n        const val = rest.join(':').trim().replace(/^'+|'+$/g, '');\n        if (!formatOptions[key.trim()]) formatOptions[key.trim()] = val;\n        if (val === 'false') formatOptions[key.trim()] = false;\n        if (val === 'true') formatOptions[key.trim()] = true;\n        if (!isNaN(val)) formatOptions[key.trim()] = parseInt(val, 10);\n      });\n    }\n  }\n  return {\n    formatName,\n    formatOptions\n  };\n}\nfunction createCachedFormatter(fn) {\n  const cache = {};\n  return function invokeFormatter(val, lng, options) {\n    const key = lng + JSON.stringify(options);\n    let formatter = cache[key];\n    if (!formatter) {\n      formatter = fn(getCleanedCode(lng), options);\n      cache[key] = formatter;\n    }\n    return formatter(val);\n  };\n}\nclass Formatter {\n  constructor() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    this.logger = baseLogger.create('formatter');\n    this.options = options;\n    this.formats = {\n      number: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.NumberFormat(lng, {\n          ...opt\n        });\n        return val => formatter.format(val);\n      }),\n      currency: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.NumberFormat(lng, {\n          ...opt,\n          style: 'currency'\n        });\n        return val => formatter.format(val);\n      }),\n      datetime: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.DateTimeFormat(lng, {\n          ...opt\n        });\n        return val => formatter.format(val);\n      }),\n      relativetime: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.RelativeTimeFormat(lng, {\n          ...opt\n        });\n        return val => formatter.format(val, opt.range || 'day');\n      }),\n      list: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.ListFormat(lng, {\n          ...opt\n        });\n        return val => formatter.format(val);\n      })\n    };\n    this.init(options);\n  }\n  init(services) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      interpolation: {}\n    };\n    const iOpts = options.interpolation;\n    this.formatSeparator = iOpts.formatSeparator ? iOpts.formatSeparator : iOpts.formatSeparator || ',';\n  }\n  add(name, fc) {\n    this.formats[name.toLowerCase().trim()] = fc;\n  }\n  addCached(name, fc) {\n    this.formats[name.toLowerCase().trim()] = createCachedFormatter(fc);\n  }\n  format(value, format, lng) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    const formats = format.split(this.formatSeparator);\n    const result = formats.reduce((mem, f) => {\n      const {\n        formatName,\n        formatOptions\n      } = parseFormatStr(f);\n      if (this.formats[formatName]) {\n        let formatted = mem;\n        try {\n          const valOptions = options && options.formatParams && options.formatParams[options.interpolationkey] || {};\n          const l = valOptions.locale || valOptions.lng || options.locale || options.lng || lng;\n          formatted = this.formats[formatName](mem, l, {\n            ...formatOptions,\n            ...options,\n            ...valOptions\n          });\n        } catch (error) {\n          this.logger.warn(error);\n        }\n        return formatted;\n      } else {\n        this.logger.warn(`there was no format function for ${formatName}`);\n      }\n      return mem;\n    }, value);\n    return result;\n  }\n}\n\nfunction removePending(q, name) {\n  if (q.pending[name] !== undefined) {\n    delete q.pending[name];\n    q.pendingCount--;\n  }\n}\nclass Connector extends EventEmitter {\n  constructor(backend, store, services) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    super();\n    this.backend = backend;\n    this.store = store;\n    this.services = services;\n    this.languageUtils = services.languageUtils;\n    this.options = options;\n    this.logger = baseLogger.create('backendConnector');\n    this.waitingReads = [];\n    this.maxParallelReads = options.maxParallelReads || 10;\n    this.readingCalls = 0;\n    this.maxRetries = options.maxRetries >= 0 ? options.maxRetries : 5;\n    this.retryTimeout = options.retryTimeout >= 1 ? options.retryTimeout : 350;\n    this.state = {};\n    this.queue = [];\n    if (this.backend && this.backend.init) {\n      this.backend.init(services, options.backend, options);\n    }\n  }\n  queueLoad(languages, namespaces, options, callback) {\n    const toLoad = {};\n    const pending = {};\n    const toLoadLanguages = {};\n    const toLoadNamespaces = {};\n    languages.forEach(lng => {\n      let hasAllNamespaces = true;\n      namespaces.forEach(ns => {\n        const name = `${lng}|${ns}`;\n        if (!options.reload && this.store.hasResourceBundle(lng, ns)) {\n          this.state[name] = 2;\n        } else if (this.state[name] < 0) ; else if (this.state[name] === 1) {\n          if (pending[name] === undefined) pending[name] = true;\n        } else {\n          this.state[name] = 1;\n          hasAllNamespaces = false;\n          if (pending[name] === undefined) pending[name] = true;\n          if (toLoad[name] === undefined) toLoad[name] = true;\n          if (toLoadNamespaces[ns] === undefined) toLoadNamespaces[ns] = true;\n        }\n      });\n      if (!hasAllNamespaces) toLoadLanguages[lng] = true;\n    });\n    if (Object.keys(toLoad).length || Object.keys(pending).length) {\n      this.queue.push({\n        pending,\n        pendingCount: Object.keys(pending).length,\n        loaded: {},\n        errors: [],\n        callback\n      });\n    }\n    return {\n      toLoad: Object.keys(toLoad),\n      pending: Object.keys(pending),\n      toLoadLanguages: Object.keys(toLoadLanguages),\n      toLoadNamespaces: Object.keys(toLoadNamespaces)\n    };\n  }\n  loaded(name, err, data) {\n    const s = name.split('|');\n    const lng = s[0];\n    const ns = s[1];\n    if (err) this.emit('failedLoading', lng, ns, err);\n    if (data) {\n      this.store.addResourceBundle(lng, ns, data);\n    }\n    this.state[name] = err ? -1 : 2;\n    const loaded = {};\n    this.queue.forEach(q => {\n      pushPath(q.loaded, [lng], ns);\n      removePending(q, name);\n      if (err) q.errors.push(err);\n      if (q.pendingCount === 0 && !q.done) {\n        Object.keys(q.loaded).forEach(l => {\n          if (!loaded[l]) loaded[l] = {};\n          const loadedKeys = q.loaded[l];\n          if (loadedKeys.length) {\n            loadedKeys.forEach(n => {\n              if (loaded[l][n] === undefined) loaded[l][n] = true;\n            });\n          }\n        });\n        q.done = true;\n        if (q.errors.length) {\n          q.callback(q.errors);\n        } else {\n          q.callback();\n        }\n      }\n    });\n    this.emit('loaded', loaded);\n    this.queue = this.queue.filter(q => !q.done);\n  }\n  read(lng, ns, fcName) {\n    let tried = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n    let wait = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : this.retryTimeout;\n    let callback = arguments.length > 5 ? arguments[5] : undefined;\n    if (!lng.length) return callback(null, {});\n    if (this.readingCalls >= this.maxParallelReads) {\n      this.waitingReads.push({\n        lng,\n        ns,\n        fcName,\n        tried,\n        wait,\n        callback\n      });\n      return;\n    }\n    this.readingCalls++;\n    const resolver = (err, data) => {\n      this.readingCalls--;\n      if (this.waitingReads.length > 0) {\n        const next = this.waitingReads.shift();\n        this.read(next.lng, next.ns, next.fcName, next.tried, next.wait, next.callback);\n      }\n      if (err && data && tried < this.maxRetries) {\n        setTimeout(() => {\n          this.read.call(this, lng, ns, fcName, tried + 1, wait * 2, callback);\n        }, wait);\n        return;\n      }\n      callback(err, data);\n    };\n    const fc = this.backend[fcName].bind(this.backend);\n    if (fc.length === 2) {\n      try {\n        const r = fc(lng, ns);\n        if (r && typeof r.then === 'function') {\n          r.then(data => resolver(null, data)).catch(resolver);\n        } else {\n          resolver(null, r);\n        }\n      } catch (err) {\n        resolver(err);\n      }\n      return;\n    }\n    return fc(lng, ns, resolver);\n  }\n  prepareLoading(languages, namespaces) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    let callback = arguments.length > 3 ? arguments[3] : undefined;\n    if (!this.backend) {\n      this.logger.warn('No backend was added via i18next.use. Will not load resources.');\n      return callback && callback();\n    }\n    if (typeof languages === 'string') languages = this.languageUtils.toResolveHierarchy(languages);\n    if (typeof namespaces === 'string') namespaces = [namespaces];\n    const toLoad = this.queueLoad(languages, namespaces, options, callback);\n    if (!toLoad.toLoad.length) {\n      if (!toLoad.pending.length) callback();\n      return null;\n    }\n    toLoad.toLoad.forEach(name => {\n      this.loadOne(name);\n    });\n  }\n  load(languages, namespaces, callback) {\n    this.prepareLoading(languages, namespaces, {}, callback);\n  }\n  reload(languages, namespaces, callback) {\n    this.prepareLoading(languages, namespaces, {\n      reload: true\n    }, callback);\n  }\n  loadOne(name) {\n    let prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    const s = name.split('|');\n    const lng = s[0];\n    const ns = s[1];\n    this.read(lng, ns, 'read', undefined, undefined, (err, data) => {\n      if (err) this.logger.warn(`${prefix}loading namespace ${ns} for language ${lng} failed`, err);\n      if (!err && data) this.logger.log(`${prefix}loaded namespace ${ns} for language ${lng}`, data);\n      this.loaded(name, err, data);\n    });\n  }\n  saveMissing(languages, namespace, key, fallbackValue, isUpdate) {\n    let options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};\n    let clb = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : () => {};\n    if (this.services.utils && this.services.utils.hasLoadedNamespace && !this.services.utils.hasLoadedNamespace(namespace)) {\n      this.logger.warn(`did not save key \"${key}\" as the namespace \"${namespace}\" was not yet loaded`, 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');\n      return;\n    }\n    if (key === undefined || key === null || key === '') return;\n    if (this.backend && this.backend.create) {\n      const opts = {\n        ...options,\n        isUpdate\n      };\n      const fc = this.backend.create.bind(this.backend);\n      if (fc.length < 6) {\n        try {\n          let r;\n          if (fc.length === 5) {\n            r = fc(languages, namespace, key, fallbackValue, opts);\n          } else {\n            r = fc(languages, namespace, key, fallbackValue);\n          }\n          if (r && typeof r.then === 'function') {\n            r.then(data => clb(null, data)).catch(clb);\n          } else {\n            clb(null, r);\n          }\n        } catch (err) {\n          clb(err);\n        }\n      } else {\n        fc(languages, namespace, key, fallbackValue, clb, opts);\n      }\n    }\n    if (!languages || !languages[0]) return;\n    this.store.addResource(languages[0], namespace, key, fallbackValue);\n  }\n}\n\nfunction get() {\n  return {\n    debug: false,\n    initImmediate: true,\n    ns: ['translation'],\n    defaultNS: ['translation'],\n    fallbackLng: ['dev'],\n    fallbackNS: false,\n    supportedLngs: false,\n    nonExplicitSupportedLngs: false,\n    load: 'all',\n    preload: false,\n    simplifyPluralSuffix: true,\n    keySeparator: '.',\n    nsSeparator: ':',\n    pluralSeparator: '_',\n    contextSeparator: '_',\n    partialBundledLanguages: false,\n    saveMissing: false,\n    updateMissing: false,\n    saveMissingTo: 'fallback',\n    saveMissingPlurals: true,\n    missingKeyHandler: false,\n    missingInterpolationHandler: false,\n    postProcess: false,\n    postProcessPassResolved: false,\n    returnNull: false,\n    returnEmptyString: true,\n    returnObjects: false,\n    joinArrays: false,\n    returnedObjectHandler: false,\n    parseMissingKeyHandler: false,\n    appendNamespaceToMissingKey: false,\n    appendNamespaceToCIMode: false,\n    overloadTranslationOptionHandler: function handle(args) {\n      let ret = {};\n      if (typeof args[1] === 'object') ret = args[1];\n      if (typeof args[1] === 'string') ret.defaultValue = args[1];\n      if (typeof args[2] === 'string') ret.tDescription = args[2];\n      if (typeof args[2] === 'object' || typeof args[3] === 'object') {\n        const options = args[3] || args[2];\n        Object.keys(options).forEach(key => {\n          ret[key] = options[key];\n        });\n      }\n      return ret;\n    },\n    interpolation: {\n      escapeValue: true,\n      format: (value, format, lng, options) => value,\n      prefix: '{{',\n      suffix: '}}',\n      formatSeparator: ',',\n      unescapePrefix: '-',\n      nestingPrefix: '$t(',\n      nestingSuffix: ')',\n      nestingOptionsSeparator: ',',\n      maxReplaces: 1000,\n      skipOnVariables: true\n    }\n  };\n}\nfunction transformOptions(options) {\n  if (typeof options.ns === 'string') options.ns = [options.ns];\n  if (typeof options.fallbackLng === 'string') options.fallbackLng = [options.fallbackLng];\n  if (typeof options.fallbackNS === 'string') options.fallbackNS = [options.fallbackNS];\n  if (options.supportedLngs && options.supportedLngs.indexOf('cimode') < 0) {\n    options.supportedLngs = options.supportedLngs.concat(['cimode']);\n  }\n  return options;\n}\n\nfunction noop() {}\nfunction bindMemberFunctions(inst) {\n  const mems = Object.getOwnPropertyNames(Object.getPrototypeOf(inst));\n  mems.forEach(mem => {\n    if (typeof inst[mem] === 'function') {\n      inst[mem] = inst[mem].bind(inst);\n    }\n  });\n}\nclass I18n extends EventEmitter {\n  constructor() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let callback = arguments.length > 1 ? arguments[1] : undefined;\n    super();\n    this.options = transformOptions(options);\n    this.services = {};\n    this.logger = baseLogger;\n    this.modules = {\n      external: []\n    };\n    bindMemberFunctions(this);\n    if (callback && !this.isInitialized && !options.isClone) {\n      if (!this.options.initImmediate) {\n        this.init(options, callback);\n        return this;\n      }\n      setTimeout(() => {\n        this.init(options, callback);\n      }, 0);\n    }\n  }\n  init() {\n    var _this = this;\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let callback = arguments.length > 1 ? arguments[1] : undefined;\n    if (typeof options === 'function') {\n      callback = options;\n      options = {};\n    }\n    if (!options.defaultNS && options.defaultNS !== false && options.ns) {\n      if (typeof options.ns === 'string') {\n        options.defaultNS = options.ns;\n      } else if (options.ns.indexOf('translation') < 0) {\n        options.defaultNS = options.ns[0];\n      }\n    }\n    const defOpts = get();\n    this.options = {\n      ...defOpts,\n      ...this.options,\n      ...transformOptions(options)\n    };\n    if (this.options.compatibilityAPI !== 'v1') {\n      this.options.interpolation = {\n        ...defOpts.interpolation,\n        ...this.options.interpolation\n      };\n    }\n    if (options.keySeparator !== undefined) {\n      this.options.userDefinedKeySeparator = options.keySeparator;\n    }\n    if (options.nsSeparator !== undefined) {\n      this.options.userDefinedNsSeparator = options.nsSeparator;\n    }\n    function createClassOnDemand(ClassOrObject) {\n      if (!ClassOrObject) return null;\n      if (typeof ClassOrObject === 'function') return new ClassOrObject();\n      return ClassOrObject;\n    }\n    if (!this.options.isClone) {\n      if (this.modules.logger) {\n        baseLogger.init(createClassOnDemand(this.modules.logger), this.options);\n      } else {\n        baseLogger.init(null, this.options);\n      }\n      let formatter;\n      if (this.modules.formatter) {\n        formatter = this.modules.formatter;\n      } else if (typeof Intl !== 'undefined') {\n        formatter = Formatter;\n      }\n      const lu = new LanguageUtil(this.options);\n      this.store = new ResourceStore(this.options.resources, this.options);\n      const s = this.services;\n      s.logger = baseLogger;\n      s.resourceStore = this.store;\n      s.languageUtils = lu;\n      s.pluralResolver = new PluralResolver(lu, {\n        prepend: this.options.pluralSeparator,\n        compatibilityJSON: this.options.compatibilityJSON,\n        simplifyPluralSuffix: this.options.simplifyPluralSuffix\n      });\n      if (formatter && (!this.options.interpolation.format || this.options.interpolation.format === defOpts.interpolation.format)) {\n        s.formatter = createClassOnDemand(formatter);\n        s.formatter.init(s, this.options);\n        this.options.interpolation.format = s.formatter.format.bind(s.formatter);\n      }\n      s.interpolator = new Interpolator(this.options);\n      s.utils = {\n        hasLoadedNamespace: this.hasLoadedNamespace.bind(this)\n      };\n      s.backendConnector = new Connector(createClassOnDemand(this.modules.backend), s.resourceStore, s, this.options);\n      s.backendConnector.on('*', function (event) {\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n        _this.emit(event, ...args);\n      });\n      if (this.modules.languageDetector) {\n        s.languageDetector = createClassOnDemand(this.modules.languageDetector);\n        if (s.languageDetector.init) s.languageDetector.init(s, this.options.detection, this.options);\n      }\n      if (this.modules.i18nFormat) {\n        s.i18nFormat = createClassOnDemand(this.modules.i18nFormat);\n        if (s.i18nFormat.init) s.i18nFormat.init(this);\n      }\n      this.translator = new Translator(this.services, this.options);\n      this.translator.on('*', function (event) {\n        for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n          args[_key2 - 1] = arguments[_key2];\n        }\n        _this.emit(event, ...args);\n      });\n      this.modules.external.forEach(m => {\n        if (m.init) m.init(this);\n      });\n    }\n    this.format = this.options.interpolation.format;\n    if (!callback) callback = noop;\n    if (this.options.fallbackLng && !this.services.languageDetector && !this.options.lng) {\n      const codes = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n      if (codes.length > 0 && codes[0] !== 'dev') this.options.lng = codes[0];\n    }\n    if (!this.services.languageDetector && !this.options.lng) {\n      this.logger.warn('init: no languageDetector is used and no lng is defined');\n    }\n    const storeApi = ['getResource', 'hasResourceBundle', 'getResourceBundle', 'getDataByLanguage'];\n    storeApi.forEach(fcName => {\n      this[fcName] = function () {\n        return _this.store[fcName](...arguments);\n      };\n    });\n    const storeApiChained = ['addResource', 'addResources', 'addResourceBundle', 'removeResourceBundle'];\n    storeApiChained.forEach(fcName => {\n      this[fcName] = function () {\n        _this.store[fcName](...arguments);\n        return _this;\n      };\n    });\n    const deferred = defer();\n    const load = () => {\n      const finish = (err, t) => {\n        if (this.isInitialized && !this.initializedStoreOnce) this.logger.warn('init: i18next is already initialized. You should call init just once!');\n        this.isInitialized = true;\n        if (!this.options.isClone) this.logger.log('initialized', this.options);\n        this.emit('initialized', this.options);\n        deferred.resolve(t);\n        callback(err, t);\n      };\n      if (this.languages && this.options.compatibilityAPI !== 'v1' && !this.isInitialized) return finish(null, this.t.bind(this));\n      this.changeLanguage(this.options.lng, finish);\n    };\n    if (this.options.resources || !this.options.initImmediate) {\n      load();\n    } else {\n      setTimeout(load, 0);\n    }\n    return deferred;\n  }\n  loadResources(language) {\n    let callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n    let usedCallback = callback;\n    const usedLng = typeof language === 'string' ? language : this.language;\n    if (typeof language === 'function') usedCallback = language;\n    if (!this.options.resources || this.options.partialBundledLanguages) {\n      if (usedLng && usedLng.toLowerCase() === 'cimode') return usedCallback();\n      const toLoad = [];\n      const append = lng => {\n        if (!lng) return;\n        const lngs = this.services.languageUtils.toResolveHierarchy(lng);\n        lngs.forEach(l => {\n          if (toLoad.indexOf(l) < 0) toLoad.push(l);\n        });\n      };\n      if (!usedLng) {\n        const fallbacks = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n        fallbacks.forEach(l => append(l));\n      } else {\n        append(usedLng);\n      }\n      if (this.options.preload) {\n        this.options.preload.forEach(l => append(l));\n      }\n      this.services.backendConnector.load(toLoad, this.options.ns, e => {\n        if (!e && !this.resolvedLanguage && this.language) this.setResolvedLanguage(this.language);\n        usedCallback(e);\n      });\n    } else {\n      usedCallback(null);\n    }\n  }\n  reloadResources(lngs, ns, callback) {\n    const deferred = defer();\n    if (!lngs) lngs = this.languages;\n    if (!ns) ns = this.options.ns;\n    if (!callback) callback = noop;\n    this.services.backendConnector.reload(lngs, ns, err => {\n      deferred.resolve();\n      callback(err);\n    });\n    return deferred;\n  }\n  use(module) {\n    if (!module) throw new Error('You are passing an undefined module! Please check the object you are passing to i18next.use()');\n    if (!module.type) throw new Error('You are passing a wrong module! Please check the object you are passing to i18next.use()');\n    if (module.type === 'backend') {\n      this.modules.backend = module;\n    }\n    if (module.type === 'logger' || module.log && module.warn && module.error) {\n      this.modules.logger = module;\n    }\n    if (module.type === 'languageDetector') {\n      this.modules.languageDetector = module;\n    }\n    if (module.type === 'i18nFormat') {\n      this.modules.i18nFormat = module;\n    }\n    if (module.type === 'postProcessor') {\n      postProcessor.addPostProcessor(module);\n    }\n    if (module.type === 'formatter') {\n      this.modules.formatter = module;\n    }\n    if (module.type === '3rdParty') {\n      this.modules.external.push(module);\n    }\n    return this;\n  }\n  setResolvedLanguage(l) {\n    if (!l || !this.languages) return;\n    if (['cimode', 'dev'].indexOf(l) > -1) return;\n    for (let li = 0; li < this.languages.length; li++) {\n      const lngInLngs = this.languages[li];\n      if (['cimode', 'dev'].indexOf(lngInLngs) > -1) continue;\n      if (this.store.hasLanguageSomeTranslations(lngInLngs)) {\n        this.resolvedLanguage = lngInLngs;\n        break;\n      }\n    }\n  }\n  changeLanguage(lng, callback) {\n    var _this2 = this;\n    this.isLanguageChangingTo = lng;\n    const deferred = defer();\n    this.emit('languageChanging', lng);\n    const setLngProps = l => {\n      this.language = l;\n      this.languages = this.services.languageUtils.toResolveHierarchy(l);\n      this.resolvedLanguage = undefined;\n      this.setResolvedLanguage(l);\n    };\n    const done = (err, l) => {\n      if (l) {\n        setLngProps(l);\n        this.translator.changeLanguage(l);\n        this.isLanguageChangingTo = undefined;\n        this.emit('languageChanged', l);\n        this.logger.log('languageChanged', l);\n      } else {\n        this.isLanguageChangingTo = undefined;\n      }\n      deferred.resolve(function () {\n        return _this2.t(...arguments);\n      });\n      if (callback) callback(err, function () {\n        return _this2.t(...arguments);\n      });\n    };\n    const setLng = lngs => {\n      if (!lng && !lngs && this.services.languageDetector) lngs = [];\n      const l = typeof lngs === 'string' ? lngs : this.services.languageUtils.getBestMatchFromCodes(lngs);\n      if (l) {\n        if (!this.language) {\n          setLngProps(l);\n        }\n        if (!this.translator.language) this.translator.changeLanguage(l);\n        if (this.services.languageDetector && this.services.languageDetector.cacheUserLanguage) this.services.languageDetector.cacheUserLanguage(l);\n      }\n      this.loadResources(l, err => {\n        done(err, l);\n      });\n    };\n    if (!lng && this.services.languageDetector && !this.services.languageDetector.async) {\n      setLng(this.services.languageDetector.detect());\n    } else if (!lng && this.services.languageDetector && this.services.languageDetector.async) {\n      if (this.services.languageDetector.detect.length === 0) {\n        this.services.languageDetector.detect().then(setLng);\n      } else {\n        this.services.languageDetector.detect(setLng);\n      }\n    } else {\n      setLng(lng);\n    }\n    return deferred;\n  }\n  getFixedT(lng, ns, keyPrefix) {\n    var _this3 = this;\n    const fixedT = function (key, opts) {\n      let options;\n      if (typeof opts !== 'object') {\n        for (var _len3 = arguments.length, rest = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n          rest[_key3 - 2] = arguments[_key3];\n        }\n        options = _this3.options.overloadTranslationOptionHandler([key, opts].concat(rest));\n      } else {\n        options = {\n          ...opts\n        };\n      }\n      options.lng = options.lng || fixedT.lng;\n      options.lngs = options.lngs || fixedT.lngs;\n      options.ns = options.ns || fixedT.ns;\n      options.keyPrefix = options.keyPrefix || keyPrefix || fixedT.keyPrefix;\n      const keySeparator = _this3.options.keySeparator || '.';\n      let resultKey;\n      if (options.keyPrefix && Array.isArray(key)) {\n        resultKey = key.map(k => `${options.keyPrefix}${keySeparator}${k}`);\n      } else {\n        resultKey = options.keyPrefix ? `${options.keyPrefix}${keySeparator}${key}` : key;\n      }\n      return _this3.t(resultKey, options);\n    };\n    if (typeof lng === 'string') {\n      fixedT.lng = lng;\n    } else {\n      fixedT.lngs = lng;\n    }\n    fixedT.ns = ns;\n    fixedT.keyPrefix = keyPrefix;\n    return fixedT;\n  }\n  t() {\n    return this.translator && this.translator.translate(...arguments);\n  }\n  exists() {\n    return this.translator && this.translator.exists(...arguments);\n  }\n  setDefaultNamespace(ns) {\n    this.options.defaultNS = ns;\n  }\n  hasLoadedNamespace(ns) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    if (!this.isInitialized) {\n      this.logger.warn('hasLoadedNamespace: i18next was not initialized', this.languages);\n      return false;\n    }\n    if (!this.languages || !this.languages.length) {\n      this.logger.warn('hasLoadedNamespace: i18n.languages were undefined or empty', this.languages);\n      return false;\n    }\n    const lng = options.lng || this.resolvedLanguage || this.languages[0];\n    const fallbackLng = this.options ? this.options.fallbackLng : false;\n    const lastLng = this.languages[this.languages.length - 1];\n    if (lng.toLowerCase() === 'cimode') return true;\n    const loadNotPending = (l, n) => {\n      const loadState = this.services.backendConnector.state[`${l}|${n}`];\n      return loadState === -1 || loadState === 2;\n    };\n    if (options.precheck) {\n      const preResult = options.precheck(this, loadNotPending);\n      if (preResult !== undefined) return preResult;\n    }\n    if (this.hasResourceBundle(lng, ns)) return true;\n    if (!this.services.backendConnector.backend || this.options.resources && !this.options.partialBundledLanguages) return true;\n    if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns))) return true;\n    return false;\n  }\n  loadNamespaces(ns, callback) {\n    const deferred = defer();\n    if (!this.options.ns) {\n      if (callback) callback();\n      return Promise.resolve();\n    }\n    if (typeof ns === 'string') ns = [ns];\n    ns.forEach(n => {\n      if (this.options.ns.indexOf(n) < 0) this.options.ns.push(n);\n    });\n    this.loadResources(err => {\n      deferred.resolve();\n      if (callback) callback(err);\n    });\n    return deferred;\n  }\n  loadLanguages(lngs, callback) {\n    const deferred = defer();\n    if (typeof lngs === 'string') lngs = [lngs];\n    const preloaded = this.options.preload || [];\n    const newLngs = lngs.filter(lng => preloaded.indexOf(lng) < 0);\n    if (!newLngs.length) {\n      if (callback) callback();\n      return Promise.resolve();\n    }\n    this.options.preload = preloaded.concat(newLngs);\n    this.loadResources(err => {\n      deferred.resolve();\n      if (callback) callback(err);\n    });\n    return deferred;\n  }\n  dir(lng) {\n    if (!lng) lng = this.resolvedLanguage || (this.languages && this.languages.length > 0 ? this.languages[0] : this.language);\n    if (!lng) return 'rtl';\n    const rtlLngs = ['ar', 'shu', 'sqr', 'ssh', 'xaa', 'yhd', 'yud', 'aao', 'abh', 'abv', 'acm', 'acq', 'acw', 'acx', 'acy', 'adf', 'ads', 'aeb', 'aec', 'afb', 'ajp', 'apc', 'apd', 'arb', 'arq', 'ars', 'ary', 'arz', 'auz', 'avl', 'ayh', 'ayl', 'ayn', 'ayp', 'bbz', 'pga', 'he', 'iw', 'ps', 'pbt', 'pbu', 'pst', 'prp', 'prd', 'ug', 'ur', 'ydd', 'yds', 'yih', 'ji', 'yi', 'hbo', 'men', 'xmn', 'fa', 'jpr', 'peo', 'pes', 'prs', 'dv', 'sam', 'ckb'];\n    const languageUtils = this.services && this.services.languageUtils || new LanguageUtil(get());\n    return rtlLngs.indexOf(languageUtils.getLanguagePartFromCode(lng)) > -1 || lng.toLowerCase().indexOf('-arab') > 1 ? 'rtl' : 'ltr';\n  }\n  static createInstance() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let callback = arguments.length > 1 ? arguments[1] : undefined;\n    return new I18n(options, callback);\n  }\n  cloneInstance() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n    const forkResourceStore = options.forkResourceStore;\n    if (forkResourceStore) delete options.forkResourceStore;\n    const mergedOptions = {\n      ...this.options,\n      ...options,\n      ...{\n        isClone: true\n      }\n    };\n    const clone = new I18n(mergedOptions);\n    if (options.debug !== undefined || options.prefix !== undefined) {\n      clone.logger = clone.logger.clone(options);\n    }\n    const membersToCopy = ['store', 'services', 'language'];\n    membersToCopy.forEach(m => {\n      clone[m] = this[m];\n    });\n    clone.services = {\n      ...this.services\n    };\n    clone.services.utils = {\n      hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)\n    };\n    if (forkResourceStore) {\n      clone.store = new ResourceStore(this.store.data, mergedOptions);\n      clone.services.resourceStore = clone.store;\n    }\n    clone.translator = new Translator(clone.services, mergedOptions);\n    clone.translator.on('*', function (event) {\n      for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n        args[_key4 - 1] = arguments[_key4];\n      }\n      clone.emit(event, ...args);\n    });\n    clone.init(mergedOptions, callback);\n    clone.translator.options = mergedOptions;\n    clone.translator.backendConnector.services.utils = {\n      hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)\n    };\n    return clone;\n  }\n  toJSON() {\n    return {\n      options: this.options,\n      store: this.store,\n      language: this.language,\n      languages: this.languages,\n      resolvedLanguage: this.resolvedLanguage\n    };\n  }\n}\nconst instance = I18n.createInstance();\ninstance.createInstance = I18n.createInstance;\n\nconst createInstance = instance.createInstance;\nconst dir = instance.dir;\nconst init = instance.init;\nconst loadResources = instance.loadResources;\nconst reloadResources = instance.reloadResources;\nconst use = instance.use;\nconst changeLanguage = instance.changeLanguage;\nconst getFixedT = instance.getFixedT;\nconst t = instance.t;\nconst exists = instance.exists;\nconst setDefaultNamespace = instance.setDefaultNamespace;\nconst hasLoadedNamespace = instance.hasLoadedNamespace;\nconst loadNamespaces = instance.loadNamespaces;\nconst loadLanguages = instance.loadLanguages;\n\nexport { changeLanguage, createInstance, instance as default, dir, exists, getFixedT, hasLoadedNamespace, init, loadLanguages, loadNamespaces, loadResources, reloadResources, setDefaultNamespace, t, use };\n","export { Trans } from './Trans.js';\nexport { Trans as TransWithoutContext } from './TransWithoutContext.js';\nexport { useTranslation } from './useTranslation.js';\nexport { withTranslation } from './withTranslation.js';\nexport { Translation } from './Translation.js';\nexport { I18nextProvider } from './I18nextProvider.js';\nexport { withSSR } from './withSSR.js';\nexport { useSSR } from './useSSR.js';\nexport { initReactI18next } from './initReactI18next.js';\nexport { setDefaults, getDefaults } from './defaults.js';\nexport { setI18n, getI18n } from './i18nInstance.js';\nexport { I18nContext, composeInitialProps, getInitialProps } from './context.js';\nexport const date = () => '';\nexport const time = () => '';\nexport const number = () => '';\nexport const select = () => '';\nexport const plural = () => '';\nexport const selectOrdinal = () => '';","import { useContext } from 'react';\nimport { nodesToString, Trans as TransWithoutContext } from './TransWithoutContext.js';\nimport { getI18n, I18nContext } from './context.js';\nexport { nodesToString };\nexport function Trans(_ref) {\n  let {\n    children,\n    count,\n    parent,\n    i18nKey,\n    context,\n    tOptions = {},\n    values,\n    defaults,\n    components,\n    ns,\n    i18n: i18nFromProps,\n    t: tFromProps,\n    shouldUnescape,\n    ...additionalProps\n  } = _ref;\n  const {\n    i18n: i18nFromContext,\n    defaultNS: defaultNSFromContext\n  } = useContext(I18nContext) || {};\n  const i18n = i18nFromProps || i18nFromContext || getI18n();\n  const t = tFromProps || i18n && i18n.t.bind(i18n);\n  return TransWithoutContext({\n    children,\n    count,\n    parent,\n    i18nKey,\n    context,\n    tOptions,\n    values,\n    defaults,\n    components,\n    ns: ns || t && t.ns || defaultNSFromContext || i18n && i18n.options && i18n.options.defaultNS,\n    i18n,\n    t: tFromProps,\n    shouldUnescape,\n    ...additionalProps\n  });\n}","import{Component as n,createElement as t,options as e,toChildArray as r,Fragment as u,render as o,hydrate as i,createContext as l,createRef as c,cloneElement as f}from\"preact\";export{Component,Fragment,createContext,createElement,createRef}from\"preact\";import{useState as a,useId as s,useReducer as h,useEffect as v,useLayoutEffect as d,useRef as p,useImperativeHandle as m,useMemo as y,useCallback as _,useContext as b,useDebugValue as S}from\"preact/hooks\";export*from\"preact/hooks\";function g(n,t){for(var e in t)n[e]=t[e];return n}function C(n,t){for(var e in n)if(\"__source\"!==e&&!(e in t))return!0;for(var r in t)if(\"__source\"!==r&&n[r]!==t[r])return!0;return!1}function E(n,t){return n===t&&(0!==n||1/n==1/t)||n!=n&&t!=t}function w(n){this.props=n}function x(n,e){function r(n){var t=this.props.ref,r=t==n.ref;return!r&&t&&(t.call?t(null):t.current=null),e?!e(this.props,n)||!r:C(this.props,n)}function u(e){return this.shouldComponentUpdate=r,t(n,e)}return u.displayName=\"Memo(\"+(n.displayName||n.name)+\")\",u.prototype.isReactComponent=!0,u.__f=!0,u}(w.prototype=new n).isPureReactComponent=!0,w.prototype.shouldComponentUpdate=function(n,t){return C(this.props,n)||C(this.state,t)};var R=e.__b;e.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),R&&R(n)};var N=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.forward_ref\")||3911;function k(n){function t(t){var e=g({},t);return delete e.ref,n(e,t.ref||null)}return t.$$typeof=N,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName=\"ForwardRef(\"+(n.displayName||n.name)+\")\",t}var A=function(n,t){return null==n?null:r(r(n).map(t))},O={map:A,forEach:A,count:function(n){return n?r(n).length:0},only:function(n){var t=r(n);if(1!==t.length)throw\"Children.only\";return t[0]},toArray:r},T=e.__e;e.__e=function(n,t,e,r){if(n.then)for(var u,o=t;o=o.__;)if((u=o.__c)&&u.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),u.__c(n,t);T(n,t,e,r)};var F=e.unmount;function I(n,t,e){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(n){\"function\"==typeof n.__c&&n.__c()}),n.__c.__H=null),null!=(n=g({},n)).__c&&(n.__c.__P===e&&(n.__c.__P=t),n.__c=null),n.__k=n.__k&&n.__k.map(function(n){return I(n,t,e)})),n}function L(n,t,e){return n&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(n){return L(n,t,e)}),n.__c&&n.__c.__P===t&&(n.__e&&e.insertBefore(n.__e,n.__d),n.__c.__e=!0,n.__c.__P=e)),n}function U(){this.__u=0,this.t=null,this.__b=null}function D(n){var t=n.__.__c;return t&&t.__a&&t.__a(n)}function M(n){var e,r,u;function o(o){if(e||(e=n()).then(function(n){r=n.default||n},function(n){u=n}),u)throw u;if(!r)throw e;return t(r,o)}return o.displayName=\"Lazy\",o.__f=!0,o}function V(){this.u=null,this.o=null}e.unmount=function(n){var t=n.__c;t&&t.__R&&t.__R(),t&&!0===n.__h&&(n.type=null),F&&F(n)},(U.prototype=new n).__c=function(n,t){var e=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(e);var u=D(r.__v),o=!1,i=function(){o||(o=!0,e.__R=null,u?u(l):l())};e.__R=i;var l=function(){if(!--r.__u){if(r.state.__a){var n=r.state.__a;r.__v.__k[0]=L(n,n.__c.__P,n.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.t.pop();)t.forceUpdate()}},c=!0===t.__h;r.__u++||c||r.setState({__a:r.__b=r.__v.__k[0]}),n.then(i,i)},U.prototype.componentWillUnmount=function(){this.t=[]},U.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var r=document.createElement(\"div\"),o=this.__v.__k[0].__c;this.__v.__k[0]=I(this.__b,r,o.__O=o.__P)}this.__b=null}var i=e.__a&&t(u,null,n.fallback);return i&&(i.__h=null),[t(u,null,e.__a?null:n.children),i]};var W=function(n,t,e){if(++e[1]===e[0]&&n.o.delete(t),n.props.revealOrder&&(\"t\"!==n.props.revealOrder[0]||!n.o.size))for(e=n.u;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.u=e=e[2]}};function P(n){return this.getChildContext=function(){return n.context},n.children}function j(n){var e=this,r=n.i;e.componentWillUnmount=function(){o(null,e.l),e.l=null,e.i=null},e.i&&e.i!==r&&e.componentWillUnmount(),e.l||(e.i=r,e.l={nodeType:1,parentNode:r,childNodes:[],appendChild:function(n){this.childNodes.push(n),e.i.appendChild(n)},insertBefore:function(n,t){this.childNodes.push(n),e.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.i.removeChild(n)}}),o(t(P,{context:e.context},n.__v),e.l)}function z(n,e){var r=t(j,{__v:n,i:e});return r.containerInfo=e,r}(V.prototype=new n).__a=function(n){var t=this,e=D(t.__v),r=t.o.get(n);return r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),W(t,n,r)):u()};e?e(o):o()}},V.prototype.render=function(n){this.u=null,this.o=new Map;var t=r(n.children);n.revealOrder&&\"b\"===n.revealOrder[0]&&t.reverse();for(var e=t.length;e--;)this.o.set(t[e],this.u=[1,0,this.u]);return n.children},V.prototype.componentDidUpdate=V.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(t,e){W(n,e,t)})};var B=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,H=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Z=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Y=/[A-Z0-9]/g,$=\"undefined\"!=typeof document,q=function(n){return(\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(n)};function G(n,t,e){return null==t.__k&&(t.textContent=\"\"),o(n,t),\"function\"==typeof e&&e(),n?n.__c:null}function J(n,t,e){return i(n,t),\"function\"==typeof e&&e(),n?n.__c:null}n.prototype.isReactComponent={},[\"componentWillMount\",\"componentWillReceiveProps\",\"componentWillUpdate\"].forEach(function(t){Object.defineProperty(n.prototype,t,{configurable:!0,get:function(){return this[\"UNSAFE_\"+t]},set:function(n){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:n})}})});var K=e.event;function Q(){}function X(){return this.cancelBubble}function nn(){return this.defaultPrevented}e.event=function(n){return K&&(n=K(n)),n.persist=Q,n.isPropagationStopped=X,n.isDefaultPrevented=nn,n.nativeEvent=n};var tn,en={enumerable:!1,configurable:!0,get:function(){return this.class}},rn=e.vnode;e.vnode=function(n){\"string\"==typeof n.type&&function(n){var t=n.props,e=n.type,u={};for(var o in t){var i=t[o];if(!(\"value\"===o&&\"defaultValue\"in t&&null==i||$&&\"children\"===o&&\"noscript\"===e||\"class\"===o||\"className\"===o)){var l=o.toLowerCase();\"defaultValue\"===o&&\"value\"in t&&null==t.value?o=\"value\":\"download\"===o&&!0===i?i=\"\":\"ondoubleclick\"===l?o=\"ondblclick\":\"onchange\"!==l||\"input\"!==e&&\"textarea\"!==e||q(t.type)?\"onfocus\"===l?o=\"onfocusin\":\"onblur\"===l?o=\"onfocusout\":Z.test(o)?o=l:-1===e.indexOf(\"-\")&&H.test(o)?o=o.replace(Y,\"-$&\").toLowerCase():null===i&&(i=void 0):l=o=\"oninput\",\"oninput\"===l&&u[o=l]&&(o=\"oninputCapture\"),u[o]=i}}\"select\"==e&&u.multiple&&Array.isArray(u.value)&&(u.value=r(t.children).forEach(function(n){n.props.selected=-1!=u.value.indexOf(n.props.value)})),\"select\"==e&&null!=u.defaultValue&&(u.value=r(t.children).forEach(function(n){n.props.selected=u.multiple?-1!=u.defaultValue.indexOf(n.props.value):u.defaultValue==n.props.value})),t.class&&!t.className?(u.class=t.class,Object.defineProperty(u,\"className\",en)):(t.className&&!t.class||t.class&&t.className)&&(u.class=u.className=t.className),n.props=u}(n),n.$$typeof=B,rn&&rn(n)};var un=e.__r;e.__r=function(n){un&&un(n),tn=n.__c};var on=e.diffed;e.diffed=function(n){on&&on(n);var t=n.props,e=n.__e;null!=e&&\"textarea\"===n.type&&\"value\"in t&&t.value!==e.value&&(e.value=null==t.value?\"\":t.value),tn=null};var ln={ReactCurrentDispatcher:{current:{readContext:function(n){return tn.__n[n.__c].props.value}}}},cn=\"17.0.2\";function fn(n){return t.bind(null,n)}function an(n){return!!n&&n.$$typeof===B}function sn(n){return an(n)&&n.type===u}function hn(n){return an(n)?f.apply(null,arguments):n}function vn(n){return!!n.__k&&(o(null,n),!0)}function dn(n){return n&&(n.base||1===n.nodeType&&n)||null}var pn=function(n,t){return n(t)},mn=function(n,t){return n(t)},yn=u;function _n(n){n()}function bn(n){return n}function Sn(){return[!1,_n]}var gn=d,Cn=an;function En(n,t){var e=t(),r=a({h:{__:e,v:t}}),u=r[0].h,o=r[1];return d(function(){u.__=e,u.v=t,E(u.__,t())||o({h:u})},[n,e,t]),v(function(){return E(u.__,u.v())||o({h:u}),n(function(){E(u.__,u.v())||o({h:u})})},[n]),e}var wn={useState:a,useId:s,useReducer:h,useEffect:v,useLayoutEffect:d,useInsertionEffect:gn,useTransition:Sn,useDeferredValue:bn,useSyncExternalStore:En,startTransition:_n,useRef:p,useImperativeHandle:m,useMemo:y,useCallback:_,useContext:b,useDebugValue:S,version:\"17.0.2\",Children:O,render:G,hydrate:J,unmountComponentAtNode:vn,createPortal:z,createElement:t,createContext:l,createFactory:fn,cloneElement:hn,createRef:c,Fragment:u,isValidElement:an,isElement:Cn,isFragment:sn,findDOMNode:dn,Component:n,PureComponent:w,memo:x,forwardRef:k,flushSync:mn,unstable_batchedUpdates:pn,StrictMode:yn,Suspense:U,SuspenseList:V,lazy:M,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:ln};export{O as Children,w as PureComponent,yn as StrictMode,U as Suspense,V as SuspenseList,ln as __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hn as cloneElement,fn as createFactory,z as createPortal,wn as default,dn as findDOMNode,mn as flushSync,k as forwardRef,J as hydrate,Cn as isElement,sn as isFragment,an as isValidElement,M as lazy,x as memo,G as render,_n as startTransition,vn as unmountComponentAtNode,pn as unstable_batchedUpdates,bn as useDeferredValue,gn as useInsertionEffect,En as useSyncExternalStore,Sn as useTransition,cn as version};\n//# sourceMappingURL=compat.module.js.map\n","/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Check if two objects have a different shape\n * @param {object} a\n * @param {object} b\n * @returns {boolean}\n */\nexport function shallowDiffers(a, b) {\n\tfor (let i in a) if (i !== '__source' && !(i in b)) return true;\n\tfor (let i in b) if (i !== '__source' && a[i] !== b[i]) return true;\n\treturn false;\n}\n\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\n/**\n * Check if two values are the same value\n * @param {*} x\n * @param {*} y\n * @returns {boolean}\n */\nexport function is(x, y) {\n\treturn (x === y && (x !== 0 || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\n","import { Component } from 'preact';\nimport { shallowDiffers } from './util';\n\n/**\n * Component class with a predefined `shouldComponentUpdate` implementation\n */\nexport function PureComponent(p) {\n\tthis.props = p;\n}\nPureComponent.prototype = new Component();\n// Some third-party libraries check if this property is present\nPureComponent.prototype.isPureReactComponent = true;\nPureComponent.prototype.shouldComponentUpdate = function (props, state) {\n\treturn shallowDiffers(this.props, props) || shallowDiffers(this.state, state);\n};\n","import { createElement } from 'preact';\nimport { shallowDiffers } from './util';\n\n/**\n * Memoize a component, so that it only updates when the props actually have\n * changed. This was previously known as `React.pure`.\n * @param {import('./internal').FunctionComponent} c functional component\n * @param {(prev: object, next: object) => boolean} [comparer] Custom equality function\n * @returns {import('./internal').FunctionComponent}\n */\nexport function memo(c, comparer) {\n\tfunction shouldUpdate(nextProps) {\n\t\tlet ref = this.props.ref;\n\t\tlet updateRef = ref == nextProps.ref;\n\t\tif (!updateRef && ref) {\n\t\t\tref.call ? ref(null) : (ref.current = null);\n\t\t}\n\n\t\tif (!comparer) {\n\t\t\treturn shallowDiffers(this.props, nextProps);\n\t\t}\n\n\t\treturn !comparer(this.props, nextProps) || !updateRef;\n\t}\n\n\tfunction Memoed(props) {\n\t\tthis.shouldComponentUpdate = shouldUpdate;\n\t\treturn createElement(c, props);\n\t}\n\tMemoed.displayName = 'Memo(' + (c.displayName || c.name) + ')';\n\tMemoed.prototype.isReactComponent = true;\n\tMemoed._forwarded = true;\n\treturn Memoed;\n}\n","import { options } from 'preact';\nimport { assign } from './util';\n\nlet oldDiffHook = options._diff;\noptions._diff = vnode => {\n\tif (vnode.type && vnode.type._forwarded && vnode.ref) {\n\t\tvnode.props.ref = vnode.ref;\n\t\tvnode.ref = null;\n\t}\n\tif (oldDiffHook) oldDiffHook(vnode);\n};\n\nexport const REACT_FORWARD_SYMBOL =\n\t(typeof Symbol != 'undefined' &&\n\t\tSymbol.for &&\n\t\tSymbol.for('react.forward_ref')) ||\n\t0xf47;\n\n/**\n * Pass ref down to a child. This is mainly used in libraries with HOCs that\n * wrap components. Using `forwardRef` there is an easy way to get a reference\n * of the wrapped component instead of one of the wrapper itself.\n * @param {import('./index').ForwardFn} fn\n * @returns {import('./internal').FunctionComponent}\n */\nexport function forwardRef(fn) {\n\tfunction Forwarded(props) {\n\t\tlet clone = assign({}, props);\n\t\tdelete clone.ref;\n\t\treturn fn(clone, props.ref || null);\n\t}\n\n\t// mobx-react checks for this being present\n\tForwarded.$$typeof = REACT_FORWARD_SYMBOL;\n\t// mobx-react heavily relies on implementation details.\n\t// It expects an object here with a `render` property,\n\t// and prototype.render will fail. Without this\n\t// mobx-react throws.\n\tForwarded.render = Forwarded;\n\n\tForwarded.prototype.isReactComponent = Forwarded._forwarded = true;\n\tForwarded.displayName = 'ForwardRef(' + (fn.displayName || fn.name) + ')';\n\treturn Forwarded;\n}\n","import { toChildArray } from 'preact';\n\nconst mapFn = (children, fn) => {\n\tif (children == null) return null;\n\treturn toChildArray(toChildArray(children).map(fn));\n};\n\n// This API is completely unnecessary for Preact, so it's basically passthrough.\nexport const Children = {\n\tmap: mapFn,\n\tforEach: mapFn,\n\tcount(children) {\n\t\treturn children ? toChildArray(children).length : 0;\n\t},\n\tonly(children) {\n\t\tconst normalized = toChildArray(children);\n\t\tif (normalized.length !== 1) throw 'Children.only';\n\t\treturn normalized[0];\n\t},\n\ttoArray: toChildArray\n};\n","import { Component, createElement, options, Fragment } from 'preact';\nimport { assign } from './util';\n\nconst oldCatchError = options._catchError;\noptions._catchError = function (error, newVNode, oldVNode, errorInfo) {\n\tif (error.then) {\n\t\t/** @type {import('./internal').Component} */\n\t\tlet component;\n\t\tlet vnode = newVNode;\n\n\t\tfor (; (vnode = vnode._parent); ) {\n\t\t\tif ((component = vnode._component) && component._childDidSuspend) {\n\t\t\t\tif (newVNode._dom == null) {\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t}\n\t\t\t\t// Don't call oldCatchError if we found a Suspense\n\t\t\t\treturn component._childDidSuspend(error, newVNode);\n\t\t\t}\n\t\t}\n\t}\n\toldCatchError(error, newVNode, oldVNode, errorInfo);\n};\n\nconst oldUnmount = options.unmount;\noptions.unmount = function (vnode) {\n\t/** @type {import('./internal').Component} */\n\tconst component = vnode._component;\n\tif (component && component._onResolve) {\n\t\tcomponent._onResolve();\n\t}\n\n\t// if the component is still hydrating\n\t// most likely it is because the component is suspended\n\t// we set the vnode.type as `null` so that it is not a typeof function\n\t// so the unmount will remove the vnode._dom\n\tif (component && vnode._hydrating === true) {\n\t\tvnode.type = null;\n\t}\n\n\tif (oldUnmount) oldUnmount(vnode);\n};\n\nfunction detachedClone(vnode, detachedParent, parentDom) {\n\tif (vnode) {\n\t\tif (vnode._component && vnode._component.__hooks) {\n\t\t\tvnode._component.__hooks._list.forEach(effect => {\n\t\t\t\tif (typeof effect._cleanup == 'function') effect._cleanup();\n\t\t\t});\n\n\t\t\tvnode._component.__hooks = null;\n\t\t}\n\n\t\tvnode = assign({}, vnode);\n\t\tif (vnode._component != null) {\n\t\t\tif (vnode._component._parentDom === parentDom) {\n\t\t\t\tvnode._component._parentDom = detachedParent;\n\t\t\t}\n\t\t\tvnode._component = null;\n\t\t}\n\n\t\tvnode._children =\n\t\t\tvnode._children &&\n\t\t\tvnode._children.map(child =>\n\t\t\t\tdetachedClone(child, detachedParent, parentDom)\n\t\t\t);\n\t}\n\n\treturn vnode;\n}\n\nfunction removeOriginal(vnode, detachedParent, originalParent) {\n\tif (vnode) {\n\t\tvnode._original = null;\n\t\tvnode._children =\n\t\t\tvnode._children &&\n\t\t\tvnode._children.map(child =>\n\t\t\t\tremoveOriginal(child, detachedParent, originalParent)\n\t\t\t);\n\n\t\tif (vnode._component) {\n\t\t\tif (vnode._component._parentDom === detachedParent) {\n\t\t\t\tif (vnode._dom) {\n\t\t\t\t\toriginalParent.insertBefore(vnode._dom, vnode._nextDom);\n\t\t\t\t}\n\t\t\t\tvnode._component._force = true;\n\t\t\t\tvnode._component._parentDom = originalParent;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn vnode;\n}\n\n// having custom inheritance instead of a class here saves a lot of bytes\nexport function Suspense() {\n\t// we do not call super here to golf some bytes...\n\tthis._pendingSuspensionCount = 0;\n\tthis._suspenders = null;\n\tthis._detachOnNextRender = null;\n}\n\n// Things we do here to save some bytes but are not proper JS inheritance:\n// - call `new Component()` as the prototype\n// - do not set `Suspense.prototype.constructor` to `Suspense`\nSuspense.prototype = new Component();\n\n/**\n * @this {import('./internal').SuspenseComponent}\n * @param {Promise} promise The thrown promise\n * @param {import('./internal').VNode<any, any>} suspendingVNode The suspending component\n */\nSuspense.prototype._childDidSuspend = function (promise, suspendingVNode) {\n\tconst suspendingComponent = suspendingVNode._component;\n\n\t/** @type {import('./internal').SuspenseComponent} */\n\tconst c = this;\n\n\tif (c._suspenders == null) {\n\t\tc._suspenders = [];\n\t}\n\tc._suspenders.push(suspendingComponent);\n\n\tconst resolve = suspended(c._vnode);\n\n\tlet resolved = false;\n\tconst onResolved = () => {\n\t\tif (resolved) return;\n\n\t\tresolved = true;\n\t\tsuspendingComponent._onResolve = null;\n\n\t\tif (resolve) {\n\t\t\tresolve(onSuspensionComplete);\n\t\t} else {\n\t\t\tonSuspensionComplete();\n\t\t}\n\t};\n\n\tsuspendingComponent._onResolve = onResolved;\n\n\tconst onSuspensionComplete = () => {\n\t\tif (!--c._pendingSuspensionCount) {\n\t\t\t// If the suspension was during hydration we don't need to restore the\n\t\t\t// suspended children into the _children array\n\t\t\tif (c.state._suspended) {\n\t\t\t\tconst suspendedVNode = c.state._suspended;\n\t\t\t\tc._vnode._children[0] = removeOriginal(\n\t\t\t\t\tsuspendedVNode,\n\t\t\t\t\tsuspendedVNode._component._parentDom,\n\t\t\t\t\tsuspendedVNode._component._originalParentDom\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tc.setState({ _suspended: (c._detachOnNextRender = null) });\n\n\t\t\tlet suspended;\n\t\t\twhile ((suspended = c._suspenders.pop())) {\n\t\t\t\tsuspended.forceUpdate();\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * We do not set `suspended: true` during hydration because we want the actual markup\n\t * to remain on screen and hydrate it when the suspense actually gets resolved.\n\t * While in non-hydration cases the usual fallback -> component flow would occour.\n\t */\n\tconst wasHydrating = suspendingVNode._hydrating === true;\n\tif (!c._pendingSuspensionCount++ && !wasHydrating) {\n\t\tc.setState({ _suspended: (c._detachOnNextRender = c._vnode._children[0]) });\n\t}\n\tpromise.then(onResolved, onResolved);\n};\n\nSuspense.prototype.componentWillUnmount = function () {\n\tthis._suspenders = [];\n};\n\n/**\n * @this {import('./internal').SuspenseComponent}\n * @param {import('./internal').SuspenseComponent[\"props\"]} props\n * @param {import('./internal').SuspenseState} state\n */\nSuspense.prototype.render = function (props, state) {\n\tif (this._detachOnNextRender) {\n\t\t// When the Suspense's _vnode was created by a call to createVNode\n\t\t// (i.e. due to a setState further up in the tree)\n\t\t// it's _children prop is null, in this case we \"forget\" about the parked vnodes to detach\n\t\tif (this._vnode._children) {\n\t\t\tconst detachedParent = document.createElement('div');\n\t\t\tconst detachedComponent = this._vnode._children[0]._component;\n\t\t\tthis._vnode._children[0] = detachedClone(\n\t\t\t\tthis._detachOnNextRender,\n\t\t\t\tdetachedParent,\n\t\t\t\t(detachedComponent._originalParentDom = detachedComponent._parentDom)\n\t\t\t);\n\t\t}\n\n\t\tthis._detachOnNextRender = null;\n\t}\n\n\t// Wrap fallback tree in a VNode that prevents itself from being marked as aborting mid-hydration:\n\t/** @type {import('./internal').VNode} */\n\tconst fallback =\n\t\tstate._suspended && createElement(Fragment, null, props.fallback);\n\tif (fallback) fallback._hydrating = null;\n\n\treturn [\n\t\tcreateElement(Fragment, null, state._suspended ? null : props.children),\n\t\tfallback\n\t];\n};\n\n/**\n * Checks and calls the parent component's _suspended method, passing in the\n * suspended vnode. This is a way for a parent (e.g. SuspenseList) to get notified\n * that one of its children/descendants suspended.\n *\n * The parent MAY return a callback. The callback will get called when the\n * suspension resolves, notifying the parent of the fact.\n * Moreover, the callback gets function `unsuspend` as a parameter. The resolved\n * child descendant will not actually get unsuspended until `unsuspend` gets called.\n * This is a way for the parent to delay unsuspending.\n *\n * If the parent does not return a callback then the resolved vnode\n * gets unsuspended immediately when it resolves.\n *\n * @param {import('./internal').VNode} vnode\n * @returns {((unsuspend: () => void) => void)?}\n */\nexport function suspended(vnode) {\n\t/** @type {import('./internal').Component} */\n\tlet component = vnode._parent._component;\n\treturn component && component._suspended && component._suspended(vnode);\n}\n\nexport function lazy(loader) {\n\tlet prom;\n\tlet component;\n\tlet error;\n\n\tfunction Lazy(props) {\n\t\tif (!prom) {\n\t\t\tprom = loader();\n\t\t\tprom.then(\n\t\t\t\texports => {\n\t\t\t\t\tcomponent = exports.default || exports;\n\t\t\t\t},\n\t\t\t\te => {\n\t\t\t\t\terror = e;\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\n\t\tif (error) {\n\t\t\tthrow error;\n\t\t}\n\n\t\tif (!component) {\n\t\t\tthrow prom;\n\t\t}\n\n\t\treturn createElement(component, props);\n\t}\n\n\tLazy.displayName = 'Lazy';\n\tLazy._forwarded = true;\n\treturn Lazy;\n}\n","import { Component, toChildArray } from 'preact';\nimport { suspended } from './suspense.js';\n\n// Indexes to linked list nodes (nodes are stored as arrays to save bytes).\nconst SUSPENDED_COUNT = 0;\nconst RESOLVED_COUNT = 1;\nconst NEXT_NODE = 2;\n\n// Having custom inheritance instead of a class here saves a lot of bytes.\nexport function SuspenseList() {\n\tthis._next = null;\n\tthis._map = null;\n}\n\n// Mark one of child's earlier suspensions as resolved.\n// Some pending callbacks may become callable due to this\n// (e.g. the last suspended descendant gets resolved when\n// revealOrder === 'together'). Process those callbacks as well.\nconst resolve = (list, child, node) => {\n\tif (++node[RESOLVED_COUNT] === node[SUSPENDED_COUNT]) {\n\t\t// The number a child (or any of its descendants) has been suspended\n\t\t// matches the number of times it's been resolved. Therefore we\n\t\t// mark the child as completely resolved by deleting it from ._map.\n\t\t// This is used to figure out when *all* children have been completely\n\t\t// resolved when revealOrder is 'together'.\n\t\tlist._map.delete(child);\n\t}\n\n\t// If revealOrder is falsy then we can do an early exit, as the\n\t// callbacks won't get queued in the node anyway.\n\t// If revealOrder is 'together' then also do an early exit\n\t// if all suspended descendants have not yet been resolved.\n\tif (\n\t\t!list.props.revealOrder ||\n\t\t(list.props.revealOrder[0] === 't' && list._map.size)\n\t) {\n\t\treturn;\n\t}\n\n\t// Walk the currently suspended children in order, calling their\n\t// stored callbacks on the way. Stop if we encounter a child that\n\t// has not been completely resolved yet.\n\tnode = list._next;\n\twhile (node) {\n\t\twhile (node.length > 3) {\n\t\t\tnode.pop()();\n\t\t}\n\t\tif (node[RESOLVED_COUNT] < node[SUSPENDED_COUNT]) {\n\t\t\tbreak;\n\t\t}\n\t\tlist._next = node = node[NEXT_NODE];\n\t}\n};\n\n// Things we do here to save some bytes but are not proper JS inheritance:\n// - call `new Component()` as the prototype\n// - do not set `Suspense.prototype.constructor` to `Suspense`\nSuspenseList.prototype = new Component();\n\nSuspenseList.prototype._suspended = function (child) {\n\tconst list = this;\n\tconst delegated = suspended(list._vnode);\n\n\tlet node = list._map.get(child);\n\tnode[SUSPENDED_COUNT]++;\n\n\treturn unsuspend => {\n\t\tconst wrappedUnsuspend = () => {\n\t\t\tif (!list.props.revealOrder) {\n\t\t\t\t// Special case the undefined (falsy) revealOrder, as there\n\t\t\t\t// is no need to coordinate a specific order or unsuspends.\n\t\t\t\tunsuspend();\n\t\t\t} else {\n\t\t\t\tnode.push(unsuspend);\n\t\t\t\tresolve(list, child, node);\n\t\t\t}\n\t\t};\n\t\tif (delegated) {\n\t\t\tdelegated(wrappedUnsuspend);\n\t\t} else {\n\t\t\twrappedUnsuspend();\n\t\t}\n\t};\n};\n\nSuspenseList.prototype.render = function (props) {\n\tthis._next = null;\n\tthis._map = new Map();\n\n\tconst children = toChildArray(props.children);\n\tif (props.revealOrder && props.revealOrder[0] === 'b') {\n\t\t// If order === 'backwards' (or, well, anything starting with a 'b')\n\t\t// then flip the child list around so that the last child will be\n\t\t// the first in the linked list.\n\t\tchildren.reverse();\n\t}\n\t// Build the linked list. Iterate through the children in reverse order\n\t// so that `_next` points to the first linked list node to be resolved.\n\tfor (let i = children.length; i--; ) {\n\t\t// Create a new linked list node as an array of form:\n\t\t// \t[suspended_count, resolved_count, next_node]\n\t\t// where suspended_count and resolved_count are numeric counters for\n\t\t// keeping track how many times a node has been suspended and resolved.\n\t\t//\n\t\t// Note that suspended_count starts from 1 instead of 0, so we can block\n\t\t// processing callbacks until componentDidMount has been called. In a sense\n\t\t// node is suspended at least until componentDidMount gets called!\n\t\t//\n\t\t// Pending callbacks are added to the end of the node:\n\t\t// \t[suspended_count, resolved_count, next_node, callback_0, callback_1, ...]\n\t\tthis._map.set(children[i], (this._next = [1, 0, this._next]));\n\t}\n\treturn props.children;\n};\n\nSuspenseList.prototype.componentDidUpdate =\n\tSuspenseList.prototype.componentDidMount = function () {\n\t\t// Iterate through all children after mounting for two reasons:\n\t\t// 1. As each node[SUSPENDED_COUNT] starts from 1, this iteration increases\n\t\t//    each node[RELEASED_COUNT] by 1, therefore balancing the counters.\n\t\t//    The nodes can now be completely consumed from the linked list.\n\t\t// 2. Handle nodes that might have gotten resolved between render and\n\t\t//    componentDidMount.\n\t\tthis._map.forEach((node, child) => {\n\t\t\tresolve(this, child, node);\n\t\t});\n\t};\n","import { createElement, render } from 'preact';\n\n/**\n * @param {import('../../src/index').RenderableProps<{ context: any }>} props\n */\nfunction ContextProvider(props) {\n\tthis.getChildContext = () => props.context;\n\treturn props.children;\n}\n\n/**\n * Portal component\n * @this {import('./internal').Component}\n * @param {object | null | undefined} props\n *\n * TODO: use createRoot() instead of fake root\n */\nfunction Portal(props) {\n\tconst _this = this;\n\tlet container = props._container;\n\n\t_this.componentWillUnmount = function () {\n\t\trender(null, _this._temp);\n\t\t_this._temp = null;\n\t\t_this._container = null;\n\t};\n\n\t// When we change container we should clear our old container and\n\t// indicate a new mount.\n\tif (_this._container && _this._container !== container) {\n\t\t_this.componentWillUnmount();\n\t}\n\n\tif (!_this._temp) {\n\t\t_this._container = container;\n\n\t\t// Create a fake DOM parent node that manages a subset of `container`'s children:\n\t\t_this._temp = {\n\t\t\tnodeType: 1,\n\t\t\tparentNode: container,\n\t\t\tchildNodes: [],\n\t\t\tappendChild(child) {\n\t\t\t\tthis.childNodes.push(child);\n\t\t\t\t_this._container.appendChild(child);\n\t\t\t},\n\t\t\tinsertBefore(child, before) {\n\t\t\t\tthis.childNodes.push(child);\n\t\t\t\t_this._container.appendChild(child);\n\t\t\t},\n\t\t\tremoveChild(child) {\n\t\t\t\tthis.childNodes.splice(this.childNodes.indexOf(child) >>> 1, 1);\n\t\t\t\t_this._container.removeChild(child);\n\t\t\t}\n\t\t};\n\t}\n\n\t// Render our wrapping element into temp.\n\trender(\n\t\tcreateElement(ContextProvider, { context: _this.context }, props._vnode),\n\t\t_this._temp\n\t);\n}\n\n/**\n * Create a `Portal` to continue rendering the vnode tree at a different DOM node\n * @param {import('./internal').VNode} vnode The vnode to render\n * @param {import('./internal').PreactElement} container The DOM node to continue rendering in to.\n */\nexport function createPortal(vnode, container) {\n\tconst el = createElement(Portal, { _vnode: vnode, _container: container });\n\tel.containerInfo = container;\n\treturn el;\n}\n","import {\n\trender as preactRender,\n\thydrate as preactHydrate,\n\toptions,\n\ttoChildArray,\n\tComponent\n} from 'preact';\n\nexport const REACT_ELEMENT_TYPE =\n\t(typeof Symbol != 'undefined' && Symbol.for && Symbol.for('react.element')) ||\n\t0xeac7;\n\nconst CAMEL_PROPS =\n\t/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;\nconst ON_ANI = /^on(Ani|Tra|Tou|BeforeInp|Compo)/;\nconst CAMEL_REPLACE = /[A-Z0-9]/g;\n\nconst IS_DOM = typeof document !== 'undefined';\n\n// Input types for which onchange should not be converted to oninput.\n// type=\"file|checkbox|radio\", plus \"range\" in IE11.\n// (IE11 doesn't support Symbol, which we use here to turn `rad` into `ra` which matches \"range\")\nconst onChangeInputType = type =>\n\t(typeof Symbol != 'undefined' && typeof Symbol() == 'symbol'\n\t\t? /fil|che|rad/\n\t\t: /fil|che|ra/\n\t).test(type);\n\n// Some libraries like `react-virtualized` explicitly check for this.\nComponent.prototype.isReactComponent = {};\n\n// `UNSAFE_*` lifecycle hooks\n// Preact only ever invokes the unprefixed methods.\n// Here we provide a base \"fallback\" implementation that calls any defined UNSAFE_ prefixed method.\n// - If a component defines its own `componentDidMount()` (including via defineProperty), use that.\n// - If a component defines `UNSAFE_componentDidMount()`, `componentDidMount` is the alias getter/setter.\n// - If anything assigns to an `UNSAFE_*` property, the assignment is forwarded to the unprefixed property.\n// See https://github.com/preactjs/preact/issues/1941\n[\n\t'componentWillMount',\n\t'componentWillReceiveProps',\n\t'componentWillUpdate'\n].forEach(key => {\n\tObject.defineProperty(Component.prototype, key, {\n\t\tconfigurable: true,\n\t\tget() {\n\t\t\treturn this['UNSAFE_' + key];\n\t\t},\n\t\tset(v) {\n\t\t\tObject.defineProperty(this, key, {\n\t\t\t\tconfigurable: true,\n\t\t\t\twritable: true,\n\t\t\t\tvalue: v\n\t\t\t});\n\t\t}\n\t});\n});\n\n/**\n * Proxy render() since React returns a Component reference.\n * @param {import('./internal').VNode} vnode VNode tree to render\n * @param {import('./internal').PreactElement} parent DOM node to render vnode tree into\n * @param {() => void} [callback] Optional callback that will be called after rendering\n * @returns {import('./internal').Component | null} The root component reference or null\n */\nexport function render(vnode, parent, callback) {\n\t// React destroys any existing DOM nodes, see #1727\n\t// ...but only on the first render, see #1828\n\tif (parent._children == null) {\n\t\tparent.textContent = '';\n\t}\n\n\tpreactRender(vnode, parent);\n\tif (typeof callback == 'function') callback();\n\n\treturn vnode ? vnode._component : null;\n}\n\nexport function hydrate(vnode, parent, callback) {\n\tpreactHydrate(vnode, parent);\n\tif (typeof callback == 'function') callback();\n\n\treturn vnode ? vnode._component : null;\n}\n\nlet oldEventHook = options.event;\noptions.event = e => {\n\tif (oldEventHook) e = oldEventHook(e);\n\n\te.persist = empty;\n\te.isPropagationStopped = isPropagationStopped;\n\te.isDefaultPrevented = isDefaultPrevented;\n\treturn (e.nativeEvent = e);\n};\n\nfunction empty() {}\n\nfunction isPropagationStopped() {\n\treturn this.cancelBubble;\n}\n\nfunction isDefaultPrevented() {\n\treturn this.defaultPrevented;\n}\n\nconst classNameDescriptorNonEnumberable = {\n\tenumerable: false,\n\tconfigurable: true,\n\tget() {\n\t\treturn this.class;\n\t}\n};\n\nfunction handleDomVNode(vnode) {\n\tlet props = vnode.props,\n\t\ttype = vnode.type,\n\t\tnormalizedProps = {};\n\n\tfor (let i in props) {\n\t\tlet value = props[i];\n\n\t\tif (\n\t\t\t(i === 'value' && 'defaultValue' in props && value == null) ||\n\t\t\t// Emulate React's behavior of not rendering the contents of noscript tags on the client.\n\t\t\t(IS_DOM && i === 'children' && type === 'noscript') ||\n\t\t\ti === 'class' ||\n\t\t\ti === 'className'\n\t\t) {\n\t\t\t// Skip applying value if it is null/undefined and we already set\n\t\t\t// a default value\n\t\t\tcontinue;\n\t\t}\n\n\t\tlet lowerCased = i.toLowerCase();\n\t\tif (i === 'defaultValue' && 'value' in props && props.value == null) {\n\t\t\t// `defaultValue` is treated as a fallback `value` when a value prop is present but null/undefined.\n\t\t\t// `defaultValue` for Elements with no value prop is the same as the DOM defaultValue property.\n\t\t\ti = 'value';\n\t\t} else if (i === 'download' && value === true) {\n\t\t\t// Calling `setAttribute` with a truthy value will lead to it being\n\t\t\t// passed as a stringified value, e.g. `download=\"true\"`. React\n\t\t\t// converts it to an empty string instead, otherwise the attribute\n\t\t\t// value will be used as the file name and the file will be called\n\t\t\t// \"true\" upon downloading it.\n\t\t\tvalue = '';\n\t\t} else if (lowerCased === 'ondoubleclick') {\n\t\t\ti = 'ondblclick';\n\t\t} else if (\n\t\t\tlowerCased === 'onchange' &&\n\t\t\t(type === 'input' || type === 'textarea') &&\n\t\t\t!onChangeInputType(props.type)\n\t\t) {\n\t\t\tlowerCased = i = 'oninput';\n\t\t} else if (lowerCased === 'onfocus') {\n\t\t\ti = 'onfocusin';\n\t\t} else if (lowerCased === 'onblur') {\n\t\t\ti = 'onfocusout';\n\t\t} else if (ON_ANI.test(i)) {\n\t\t\ti = lowerCased;\n\t\t} else if (type.indexOf('-') === -1 && CAMEL_PROPS.test(i)) {\n\t\t\ti = i.replace(CAMEL_REPLACE, '-$&').toLowerCase();\n\t\t} else if (value === null) {\n\t\t\tvalue = undefined;\n\t\t}\n\n\t\t// Add support for onInput and onChange, see #3561\n\t\t// if we have an oninput prop already change it to oninputCapture\n\t\tif (lowerCased === 'oninput') {\n\t\t\ti = lowerCased;\n\t\t\tif (normalizedProps[i]) {\n\t\t\t\ti = 'oninputCapture';\n\t\t\t}\n\t\t}\n\n\t\tnormalizedProps[i] = value;\n\t}\n\n\t// Add support for array select values: <select multiple value={[]} />\n\tif (\n\t\ttype == 'select' &&\n\t\tnormalizedProps.multiple &&\n\t\tArray.isArray(normalizedProps.value)\n\t) {\n\t\t// forEach() always returns undefined, which we abuse here to unset the value prop.\n\t\tnormalizedProps.value = toChildArray(props.children).forEach(child => {\n\t\t\tchild.props.selected =\n\t\t\t\tnormalizedProps.value.indexOf(child.props.value) != -1;\n\t\t});\n\t}\n\n\t// Adding support for defaultValue in select tag\n\tif (type == 'select' && normalizedProps.defaultValue != null) {\n\t\tnormalizedProps.value = toChildArray(props.children).forEach(child => {\n\t\t\tif (normalizedProps.multiple) {\n\t\t\t\tchild.props.selected =\n\t\t\t\t\tnormalizedProps.defaultValue.indexOf(child.props.value) != -1;\n\t\t\t} else {\n\t\t\t\tchild.props.selected =\n\t\t\t\t\tnormalizedProps.defaultValue == child.props.value;\n\t\t\t}\n\t\t});\n\t}\n\n\tif (props.class && !props.className) {\n\t\tnormalizedProps.class = props.class;\n\t\tObject.defineProperty(\n\t\t\tnormalizedProps,\n\t\t\t'className',\n\t\t\tclassNameDescriptorNonEnumberable\n\t\t);\n\t} else if (props.className && !props.class) {\n\t\tnormalizedProps.class = normalizedProps.className = props.className;\n\t} else if (props.class && props.className) {\n\t\tnormalizedProps.class = normalizedProps.className = props.className;\n\t}\n\n\tvnode.props = normalizedProps;\n}\n\nlet oldVNodeHook = options.vnode;\noptions.vnode = vnode => {\n\t// only normalize props on Element nodes\n\tif (typeof vnode.type === 'string') {\n\t\thandleDomVNode(vnode);\n\t}\n\n\tvnode.$$typeof = REACT_ELEMENT_TYPE;\n\n\tif (oldVNodeHook) oldVNodeHook(vnode);\n};\n\n// Only needed for react-relay\nlet currentComponent;\nconst oldBeforeRender = options._render;\noptions._render = function (vnode) {\n\tif (oldBeforeRender) {\n\t\toldBeforeRender(vnode);\n\t}\n\tcurrentComponent = vnode._component;\n};\n\nconst oldDiffed = options.diffed;\n/** @type {(vnode: import('./internal').VNode) => void} */\noptions.diffed = function (vnode) {\n\tif (oldDiffed) {\n\t\toldDiffed(vnode);\n\t}\n\n\tconst props = vnode.props;\n\tconst dom = vnode._dom;\n\n\tif (\n\t\tdom != null &&\n\t\tvnode.type === 'textarea' &&\n\t\t'value' in props &&\n\t\tprops.value !== dom.value\n\t) {\n\t\tdom.value = props.value == null ? '' : props.value;\n\t}\n\n\tcurrentComponent = null;\n};\n\n// This is a very very private internal function for React it\n// is used to sort-of do runtime dependency injection. So far\n// only `react-relay` makes use of it. It uses it to read the\n// context value.\nexport const __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = {\n\tReactCurrentDispatcher: {\n\t\tcurrent: {\n\t\t\treadContext(context) {\n\t\t\t\treturn currentComponent._globalContext[context._id].props.value;\n\t\t\t}\n\t\t}\n\t}\n};\n","import {\n\tcreateElement,\n\trender as preactRender,\n\tcloneElement as preactCloneElement,\n\tcreateRef,\n\tComponent,\n\tcreateContext,\n\tFragment\n} from 'preact';\nimport {\n\tuseState,\n\tuseId,\n\tuseReducer,\n\tuseEffect,\n\tuseLayoutEffect,\n\tuseRef,\n\tuseImperativeHandle,\n\tuseMemo,\n\tuseCallback,\n\tuseContext,\n\tuseDebugValue\n} from 'preact/hooks';\nimport { PureComponent } from './PureComponent';\nimport { memo } from './memo';\nimport { forwardRef } from './forwardRef';\nimport { Children } from './Children';\nimport { Suspense, lazy } from './suspense';\nimport { SuspenseList } from './suspense-list';\nimport { createPortal } from './portals';\nimport { is } from './util';\nimport {\n\thydrate,\n\trender,\n\tREACT_ELEMENT_TYPE,\n\t__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED\n} from './render';\n\nconst version = '17.0.2'; // trick libraries to think we are react\n\n/**\n * Legacy version of createElement.\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component constructor\n */\nfunction createFactory(type) {\n\treturn createElement.bind(null, type);\n}\n\n/**\n * Check if the passed element is a valid (p)react node.\n * @param {*} element The element to check\n * @returns {boolean}\n */\nfunction isValidElement(element) {\n\treturn !!element && element.$$typeof === REACT_ELEMENT_TYPE;\n}\n\n/**\n * Check if the passed element is a Fragment node.\n * @param {*} element The element to check\n * @returns {boolean}\n */\nfunction isFragment(element) {\n\treturn isValidElement(element) && element.type === Fragment;\n}\n\n/**\n * Wrap `cloneElement` to abort if the passed element is not a valid element and apply\n * all vnode normalizations.\n * @param {import('./internal').VNode} element The vnode to clone\n * @param {object} props Props to add when cloning\n * @param {Array<import('./internal').ComponentChildren>} rest Optional component children\n */\nfunction cloneElement(element) {\n\tif (!isValidElement(element)) return element;\n\treturn preactCloneElement.apply(null, arguments);\n}\n\n/**\n * Remove a component tree from the DOM, including state and event handlers.\n * @param {import('./internal').PreactElement} container\n * @returns {boolean}\n */\nfunction unmountComponentAtNode(container) {\n\tif (container._children) {\n\t\tpreactRender(null, container);\n\t\treturn true;\n\t}\n\treturn false;\n}\n\n/**\n * Get the matching DOM node for a component\n * @param {import('./internal').Component} component\n * @returns {import('./internal').PreactElement | null}\n */\nfunction findDOMNode(component) {\n\treturn (\n\t\t(component &&\n\t\t\t(component.base || (component.nodeType === 1 && component))) ||\n\t\tnull\n\t);\n}\n\n/**\n * Deprecated way to control batched rendering inside the reconciler, but we\n * already schedule in batches inside our rendering code\n * @template Arg\n * @param {(arg: Arg) => void} callback function that triggers the updated\n * @param {Arg} [arg] Optional argument that can be passed to the callback\n */\n// eslint-disable-next-line camelcase\nconst unstable_batchedUpdates = (callback, arg) => callback(arg);\n\n/**\n * In React, `flushSync` flushes the entire tree and forces a rerender. It's\n * implmented here as a no-op.\n * @template Arg\n * @template Result\n * @param {(arg: Arg) => Result} callback function that runs before the flush\n * @param {Arg} [arg] Optional argument that can be passed to the callback\n * @returns\n */\nconst flushSync = (callback, arg) => callback(arg);\n\n/**\n * Strict Mode is not implemented in Preact, so we provide a stand-in for it\n * that just renders its children without imposing any restrictions.\n */\nconst StrictMode = Fragment;\n\nexport function startTransition(cb) {\n\tcb();\n}\n\nexport function useDeferredValue(val) {\n\treturn val;\n}\n\nexport function useTransition() {\n\treturn [false, startTransition];\n}\n\n// TODO: in theory this should be done after a VNode is diffed as we want to insert\n// styles/... before it attaches\nexport const useInsertionEffect = useLayoutEffect;\n\n// compat to react-is\nexport const isElement = isValidElement;\n\n/**\n * This is taken from https://github.com/facebook/react/blob/main/packages/use-sync-external-store/src/useSyncExternalStoreShimClient.js#L84\n * on a high level this cuts out the warnings, ... and attempts a smaller implementation\n */\nexport function useSyncExternalStore(subscribe, getSnapshot) {\n\tconst value = getSnapshot();\n\n\tconst [{ _instance }, forceUpdate] = useState({\n\t\t_instance: { _value: value, _getSnapshot: getSnapshot }\n\t});\n\n\tuseLayoutEffect(() => {\n\t\t_instance._value = value;\n\t\t_instance._getSnapshot = getSnapshot;\n\n\t\tif (!is(_instance._value, getSnapshot())) {\n\t\t\tforceUpdate({ _instance });\n\t\t}\n\t}, [subscribe, value, getSnapshot]);\n\n\tuseEffect(() => {\n\t\tif (!is(_instance._value, _instance._getSnapshot())) {\n\t\t\tforceUpdate({ _instance });\n\t\t}\n\n\t\treturn subscribe(() => {\n\t\t\tif (!is(_instance._value, _instance._getSnapshot())) {\n\t\t\t\tforceUpdate({ _instance });\n\t\t\t}\n\t\t});\n\t}, [subscribe]);\n\n\treturn value;\n}\n\nexport * from 'preact/hooks';\nexport {\n\tversion,\n\tChildren,\n\trender,\n\thydrate,\n\tunmountComponentAtNode,\n\tcreatePortal,\n\tcreateElement,\n\tcreateContext,\n\tcreateFactory,\n\tcloneElement,\n\tcreateRef,\n\tFragment,\n\tisValidElement,\n\tisFragment,\n\tfindDOMNode,\n\tComponent,\n\tPureComponent,\n\tmemo,\n\tforwardRef,\n\tflushSync,\n\t// eslint-disable-next-line camelcase\n\tunstable_batchedUpdates,\n\tStrictMode,\n\tSuspense,\n\tSuspenseList,\n\tlazy,\n\t__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED\n};\n\n// React copies the named exports to the default one.\nexport default {\n\tuseState,\n\tuseId,\n\tuseReducer,\n\tuseEffect,\n\tuseLayoutEffect,\n\tuseInsertionEffect,\n\tuseTransition,\n\tuseDeferredValue,\n\tuseSyncExternalStore,\n\tstartTransition,\n\tuseRef,\n\tuseImperativeHandle,\n\tuseMemo,\n\tuseCallback,\n\tuseContext,\n\tuseDebugValue,\n\tversion,\n\tChildren,\n\trender,\n\thydrate,\n\tunmountComponentAtNode,\n\tcreatePortal,\n\tcreateElement,\n\tcreateContext,\n\tcreateFactory,\n\tcloneElement,\n\tcreateRef,\n\tFragment,\n\tisValidElement,\n\tisElement,\n\tisFragment,\n\tfindDOMNode,\n\tComponent,\n\tPureComponent,\n\tmemo,\n\tforwardRef,\n\tflushSync,\n\tunstable_batchedUpdates,\n\tStrictMode,\n\tSuspense,\n\tSuspenseList,\n\tlazy,\n\t__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED\n};\n","import{options as n}from\"preact\";var t,r,u,i,o=0,f=[],c=[],e=n.__b,a=n.__r,v=n.diffed,l=n.__c,m=n.unmount;function d(t,u){n.__h&&n.__h(r,t,o||u),o=0;var i=r.__H||(r.__H={__:[],__h:[]});return t>=i.__.length&&i.__.push({__V:c}),i.__[t]}function h(n){return o=1,s(B,n)}function s(n,u,i){var o=d(t++,2);if(o.t=n,!o.__c&&(o.__=[i?i(u):B(void 0,u),function(n){var t=o.__N?o.__N[0]:o.__[0],r=o.t(t,n);t!==r&&(o.__N=[r,o.__[1]],o.__c.setState({}))}],o.__c=r,!r.u)){var f=function(n,t,r){if(!o.__c.__H)return!0;var u=o.__c.__H.__.filter(function(n){return n.__c});if(u.every(function(n){return!n.__N}))return!c||c.call(this,n,t,r);var i=!1;return u.forEach(function(n){if(n.__N){var t=n.__[0];n.__=n.__N,n.__N=void 0,t!==n.__[0]&&(i=!0)}}),!(!i&&o.__c.props===n)&&(!c||c.call(this,n,t,r))};r.u=!0;var c=r.shouldComponentUpdate,e=r.componentWillUpdate;r.componentWillUpdate=function(n,t,r){if(this.__e){var u=c;c=void 0,f(n,t,r),c=u}e&&e.call(this,n,t,r)},r.shouldComponentUpdate=f}return o.__N||o.__}function p(u,i){var o=d(t++,3);!n.__s&&z(o.__H,i)&&(o.__=u,o.i=i,r.__H.__h.push(o))}function y(u,i){var o=d(t++,4);!n.__s&&z(o.__H,i)&&(o.__=u,o.i=i,r.__h.push(o))}function _(n){return o=5,F(function(){return{current:n}},[])}function A(n,t,r){o=6,y(function(){return\"function\"==typeof n?(n(t()),function(){return n(null)}):n?(n.current=t(),function(){return n.current=null}):void 0},null==r?r:r.concat(n))}function F(n,r){var u=d(t++,7);return z(u.__H,r)?(u.__V=n(),u.i=r,u.__h=n,u.__V):u.__}function T(n,t){return o=8,F(function(){return n},t)}function q(n){var u=r.context[n.__c],i=d(t++,9);return i.c=n,u?(null==i.__&&(i.__=!0,u.sub(r)),u.props.value):n.__}function x(t,r){n.useDebugValue&&n.useDebugValue(r?r(t):t)}function P(n){var u=d(t++,10),i=h();return u.__=n,r.componentDidCatch||(r.componentDidCatch=function(n,t){u.__&&u.__(n,t),i[1](n)}),[i[0],function(){i[1](void 0)}]}function V(){var n=d(t++,11);if(!n.__){for(var u=r.__v;null!==u&&!u.__m&&null!==u.__;)u=u.__;var i=u.__m||(u.__m=[0,0]);n.__=\"P\"+i[0]+\"-\"+i[1]++}return n.__}function b(){for(var t;t=f.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(k),t.__H.__h.forEach(w),t.__H.__h=[]}catch(r){t.__H.__h=[],n.__e(r,t.__v)}}n.__b=function(n){r=null,e&&e(n)},n.__r=function(n){a&&a(n),t=0;var i=(r=n.__c).__H;i&&(u===r?(i.__h=[],r.__h=[],i.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=c,n.__N=n.i=void 0})):(i.__h.forEach(k),i.__h.forEach(w),i.__h=[],t=0)),u=r},n.diffed=function(t){v&&v(t);var o=t.__c;o&&o.__H&&(o.__H.__h.length&&(1!==f.push(o)&&i===n.requestAnimationFrame||((i=n.requestAnimationFrame)||j)(b)),o.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==c&&(n.__=n.__V),n.i=void 0,n.__V=c})),u=r=null},n.__c=function(t,r){r.some(function(t){try{t.__h.forEach(k),t.__h=t.__h.filter(function(n){return!n.__||w(n)})}catch(u){r.some(function(n){n.__h&&(n.__h=[])}),r=[],n.__e(u,t.__v)}}),l&&l(t,r)},n.unmount=function(t){m&&m(t);var r,u=t.__c;u&&u.__H&&(u.__H.__.forEach(function(n){try{k(n)}catch(n){r=n}}),u.__H=void 0,r&&n.__e(r,u.__v))};var g=\"function\"==typeof requestAnimationFrame;function j(n){var t,r=function(){clearTimeout(u),g&&cancelAnimationFrame(t),setTimeout(n)},u=setTimeout(r,100);g&&(t=requestAnimationFrame(r))}function k(n){var t=r,u=n.__c;\"function\"==typeof u&&(n.__c=void 0,u()),r=t}function w(n){var t=r;n.__c=n.__(),r=t}function z(n,t){return!n||n.length!==t.length||t.some(function(t,r){return t!==n[r]})}function B(n,t){return\"function\"==typeof t?t(n):t}export{T as useCallback,q as useContext,x as useDebugValue,p as useEffect,P as useErrorBoundary,V as useId,A as useImperativeHandle,y as useLayoutEffect,F as useMemo,s as useReducer,_ as useRef,h as useState};\n//# sourceMappingURL=hooks.module.js.map\n","import { options } from 'preact';\n\n/** @type {number} */\nlet currentIndex;\n\n/** @type {import('./internal').Component} */\nlet currentComponent;\n\n/** @type {import('./internal').Component} */\nlet previousComponent;\n\n/** @type {number} */\nlet currentHook = 0;\n\n/** @type {Array<import('./internal').Component>} */\nlet afterPaintEffects = [];\n\nlet EMPTY = [];\n\nlet oldBeforeDiff = options._diff;\nlet oldBeforeRender = options._render;\nlet oldAfterDiff = options.diffed;\nlet oldCommit = options._commit;\nlet oldBeforeUnmount = options.unmount;\n\nconst RAF_TIMEOUT = 100;\nlet prevRaf;\n\noptions._diff = vnode => {\n\tcurrentComponent = null;\n\tif (oldBeforeDiff) oldBeforeDiff(vnode);\n};\n\noptions._render = vnode => {\n\tif (oldBeforeRender) oldBeforeRender(vnode);\n\n\tcurrentComponent = vnode._component;\n\tcurrentIndex = 0;\n\n\tconst hooks = currentComponent.__hooks;\n\tif (hooks) {\n\t\tif (previousComponent === currentComponent) {\n\t\t\thooks._pendingEffects = [];\n\t\t\tcurrentComponent._renderCallbacks = [];\n\t\t\thooks._list.forEach(hookItem => {\n\t\t\t\tif (hookItem._nextValue) {\n\t\t\t\t\thookItem._value = hookItem._nextValue;\n\t\t\t\t}\n\t\t\t\thookItem._pendingValue = EMPTY;\n\t\t\t\thookItem._nextValue = hookItem._pendingArgs = undefined;\n\t\t\t});\n\t\t} else {\n\t\t\thooks._pendingEffects.forEach(invokeCleanup);\n\t\t\thooks._pendingEffects.forEach(invokeEffect);\n\t\t\thooks._pendingEffects = [];\n\t\t\tcurrentIndex = 0;\n\t\t}\n\t}\n\tpreviousComponent = currentComponent;\n};\n\noptions.diffed = vnode => {\n\tif (oldAfterDiff) oldAfterDiff(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks) {\n\t\tif (c.__hooks._pendingEffects.length) afterPaint(afterPaintEffects.push(c));\n\t\tc.__hooks._list.forEach(hookItem => {\n\t\t\tif (hookItem._pendingArgs) {\n\t\t\t\thookItem._args = hookItem._pendingArgs;\n\t\t\t}\n\t\t\tif (hookItem._pendingValue !== EMPTY) {\n\t\t\t\thookItem._value = hookItem._pendingValue;\n\t\t\t}\n\t\t\thookItem._pendingArgs = undefined;\n\t\t\thookItem._pendingValue = EMPTY;\n\t\t});\n\t}\n\tpreviousComponent = currentComponent = null;\n};\n\noptions._commit = (vnode, commitQueue) => {\n\tcommitQueue.some(component => {\n\t\ttry {\n\t\t\tcomponent._renderCallbacks.forEach(invokeCleanup);\n\t\t\tcomponent._renderCallbacks = component._renderCallbacks.filter(cb =>\n\t\t\t\tcb._value ? invokeEffect(cb) : true\n\t\t\t);\n\t\t} catch (e) {\n\t\t\tcommitQueue.some(c => {\n\t\t\t\tif (c._renderCallbacks) c._renderCallbacks = [];\n\t\t\t});\n\t\t\tcommitQueue = [];\n\t\t\toptions._catchError(e, component._vnode);\n\t\t}\n\t});\n\n\tif (oldCommit) oldCommit(vnode, commitQueue);\n};\n\noptions.unmount = vnode => {\n\tif (oldBeforeUnmount) oldBeforeUnmount(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks) {\n\t\tlet hasErrored;\n\t\tc.__hooks._list.forEach(s => {\n\t\t\ttry {\n\t\t\t\tinvokeCleanup(s);\n\t\t\t} catch (e) {\n\t\t\t\thasErrored = e;\n\t\t\t}\n\t\t});\n\t\tc.__hooks = undefined;\n\t\tif (hasErrored) options._catchError(hasErrored, c._vnode);\n\t}\n};\n\n/**\n * Get a hook's state from the currentComponent\n * @param {number} index The index of the hook to get\n * @param {number} type The index of the hook to get\n * @returns {any}\n */\nfunction getHookState(index, type) {\n\tif (options._hook) {\n\t\toptions._hook(currentComponent, index, currentHook || type);\n\t}\n\tcurrentHook = 0;\n\n\t// Largely inspired by:\n\t// * https://github.com/michael-klein/funcy.js/blob/f6be73468e6ec46b0ff5aa3cc4c9baf72a29025a/src/hooks/core_hooks.mjs\n\t// * https://github.com/michael-klein/funcy.js/blob/650beaa58c43c33a74820a3c98b3c7079cf2e333/src/renderer.mjs\n\t// Other implementations to look at:\n\t// * https://codesandbox.io/s/mnox05qp8\n\tconst hooks =\n\t\tcurrentComponent.__hooks ||\n\t\t(currentComponent.__hooks = {\n\t\t\t_list: [],\n\t\t\t_pendingEffects: []\n\t\t});\n\n\tif (index >= hooks._list.length) {\n\t\thooks._list.push({ _pendingValue: EMPTY });\n\t}\n\treturn hooks._list[index];\n}\n\n/**\n * @param {import('./index').StateUpdater<any>} [initialState]\n */\nexport function useState(initialState) {\n\tcurrentHook = 1;\n\treturn useReducer(invokeOrReturn, initialState);\n}\n\n/**\n * @param {import('./index').Reducer<any, any>} reducer\n * @param {import('./index').StateUpdater<any>} initialState\n * @param {(initialState: any) => void} [init]\n * @returns {[ any, (state: any) => void ]}\n */\nexport function useReducer(reducer, initialState, init) {\n\t/** @type {import('./internal').ReducerHookState} */\n\tconst hookState = getHookState(currentIndex++, 2);\n\thookState._reducer = reducer;\n\tif (!hookState._component) {\n\t\thookState._value = [\n\t\t\t!init ? invokeOrReturn(undefined, initialState) : init(initialState),\n\n\t\t\taction => {\n\t\t\t\tconst currentValue = hookState._nextValue\n\t\t\t\t\t? hookState._nextValue[0]\n\t\t\t\t\t: hookState._value[0];\n\t\t\t\tconst nextValue = hookState._reducer(currentValue, action);\n\n\t\t\t\tif (currentValue !== nextValue) {\n\t\t\t\t\thookState._nextValue = [nextValue, hookState._value[1]];\n\t\t\t\t\thookState._component.setState({});\n\t\t\t\t}\n\t\t\t}\n\t\t];\n\n\t\thookState._component = currentComponent;\n\n\t\tif (!currentComponent._hasScuFromHooks) {\n\t\t\tcurrentComponent._hasScuFromHooks = true;\n\t\t\tlet prevScu = currentComponent.shouldComponentUpdate;\n\t\t\tconst prevCWU = currentComponent.componentWillUpdate;\n\n\t\t\t// If we're dealing with a forced update `shouldComponentUpdate` will\n\t\t\t// not be called. But we use that to update the hook values, so we\n\t\t\t// need to call it.\n\t\t\tcurrentComponent.componentWillUpdate = function (p, s, c) {\n\t\t\t\tif (this._force) {\n\t\t\t\t\tlet tmp = prevScu;\n\t\t\t\t\t// Clear to avoid other sCU hooks from being called\n\t\t\t\t\tprevScu = undefined;\n\t\t\t\t\tupdateHookState(p, s, c);\n\t\t\t\t\tprevScu = tmp;\n\t\t\t\t}\n\n\t\t\t\tif (prevCWU) prevCWU.call(this, p, s, c);\n\t\t\t};\n\n\t\t\t// This SCU has the purpose of bailing out after repeated updates\n\t\t\t// to stateful hooks.\n\t\t\t// we store the next value in _nextValue[0] and keep doing that for all\n\t\t\t// state setters, if we have next states and\n\t\t\t// all next states within a component end up being equal to their original state\n\t\t\t// we are safe to bail out for this specific component.\n\t\t\t/**\n\t\t\t *\n\t\t\t * @type {import('./internal').Component[\"shouldComponentUpdate\"]}\n\t\t\t */\n\t\t\t// @ts-ignore - We don't use TS to downtranspile\n\t\t\t// eslint-disable-next-line no-inner-declarations\n\t\t\tfunction updateHookState(p, s, c) {\n\t\t\t\tif (!hookState._component.__hooks) return true;\n\n\t\t\t\tconst stateHooks = hookState._component.__hooks._list.filter(\n\t\t\t\t\tx => x._component\n\t\t\t\t);\n\t\t\t\tconst allHooksEmpty = stateHooks.every(x => !x._nextValue);\n\t\t\t\t// When we have no updated hooks in the component we invoke the previous SCU or\n\t\t\t\t// traverse the VDOM tree further.\n\t\t\t\tif (allHooksEmpty) {\n\t\t\t\t\treturn prevScu ? prevScu.call(this, p, s, c) : true;\n\t\t\t\t}\n\n\t\t\t\t// We check whether we have components with a nextValue set that\n\t\t\t\t// have values that aren't equal to one another this pushes\n\t\t\t\t// us to update further down the tree\n\t\t\t\tlet shouldUpdate = false;\n\t\t\t\tstateHooks.forEach(hookItem => {\n\t\t\t\t\tif (hookItem._nextValue) {\n\t\t\t\t\t\tconst currentValue = hookItem._value[0];\n\t\t\t\t\t\thookItem._value = hookItem._nextValue;\n\t\t\t\t\t\thookItem._nextValue = undefined;\n\t\t\t\t\t\tif (currentValue !== hookItem._value[0]) shouldUpdate = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn shouldUpdate || hookState._component.props !== p\n\t\t\t\t\t? prevScu\n\t\t\t\t\t\t? prevScu.call(this, p, s, c)\n\t\t\t\t\t\t: true\n\t\t\t\t\t: false;\n\t\t\t}\n\n\t\t\tcurrentComponent.shouldComponentUpdate = updateHookState;\n\t\t}\n\t}\n\n\treturn hookState._nextValue || hookState._value;\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {any[]} args\n */\nexport function useEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 3);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._pendingArgs = args;\n\n\t\tcurrentComponent.__hooks._pendingEffects.push(state);\n\t}\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {any[]} args\n */\nexport function useLayoutEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 4);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._pendingArgs = args;\n\n\t\tcurrentComponent._renderCallbacks.push(state);\n\t}\n}\n\nexport function useRef(initialValue) {\n\tcurrentHook = 5;\n\treturn useMemo(() => ({ current: initialValue }), []);\n}\n\n/**\n * @param {object} ref\n * @param {() => object} createHandle\n * @param {any[]} args\n */\nexport function useImperativeHandle(ref, createHandle, args) {\n\tcurrentHook = 6;\n\tuseLayoutEffect(\n\t\t() => {\n\t\t\tif (typeof ref == 'function') {\n\t\t\t\tref(createHandle());\n\t\t\t\treturn () => ref(null);\n\t\t\t} else if (ref) {\n\t\t\t\tref.current = createHandle();\n\t\t\t\treturn () => (ref.current = null);\n\t\t\t}\n\t\t},\n\t\targs == null ? args : args.concat(ref)\n\t);\n}\n\n/**\n * @param {() => any} factory\n * @param {any[]} args\n */\nexport function useMemo(factory, args) {\n\t/** @type {import('./internal').MemoHookState} */\n\tconst state = getHookState(currentIndex++, 7);\n\tif (argsChanged(state._args, args)) {\n\t\tstate._pendingValue = factory();\n\t\tstate._pendingArgs = args;\n\t\tstate._factory = factory;\n\t\treturn state._pendingValue;\n\t}\n\n\treturn state._value;\n}\n\n/**\n * @param {() => void} callback\n * @param {any[]} args\n */\nexport function useCallback(callback, args) {\n\tcurrentHook = 8;\n\treturn useMemo(() => callback, args);\n}\n\n/**\n * @param {import('./internal').PreactContext} context\n */\nexport function useContext(context) {\n\tconst provider = currentComponent.context[context._id];\n\t// We could skip this call here, but than we'd not call\n\t// `options._hook`. We need to do that in order to make\n\t// the devtools aware of this hook.\n\t/** @type {import('./internal').ContextHookState} */\n\tconst state = getHookState(currentIndex++, 9);\n\t// The devtools needs access to the context object to\n\t// be able to pull of the default value when no provider\n\t// is present in the tree.\n\tstate._context = context;\n\tif (!provider) return context._defaultValue;\n\t// This is probably not safe to convert to \"!\"\n\tif (state._value == null) {\n\t\tstate._value = true;\n\t\tprovider.sub(currentComponent);\n\t}\n\treturn provider.props.value;\n}\n\n/**\n * Display a custom label for a custom hook for the devtools panel\n * @type {<T>(value: T, cb?: (value: T) => string | number) => void}\n */\nexport function useDebugValue(value, formatter) {\n\tif (options.useDebugValue) {\n\t\toptions.useDebugValue(formatter ? formatter(value) : value);\n\t}\n}\n\n/**\n * @param {(error: any, errorInfo: import('preact').ErrorInfo) => void} cb\n */\nexport function useErrorBoundary(cb) {\n\t/** @type {import('./internal').ErrorBoundaryHookState} */\n\tconst state = getHookState(currentIndex++, 10);\n\tconst errState = useState();\n\tstate._value = cb;\n\tif (!currentComponent.componentDidCatch) {\n\t\tcurrentComponent.componentDidCatch = (err, errorInfo) => {\n\t\t\tif (state._value) state._value(err, errorInfo);\n\t\t\terrState[1](err);\n\t\t};\n\t}\n\treturn [\n\t\terrState[0],\n\t\t() => {\n\t\t\terrState[1](undefined);\n\t\t}\n\t];\n}\n\nexport function useId() {\n\tconst state = getHookState(currentIndex++, 11);\n\tif (!state._value) {\n\t\t// Grab either the root node or the nearest async boundary node.\n\t\t/** @type {import('./internal.d').VNode} */\n\t\tlet root = currentComponent._vnode;\n\t\twhile (root !== null && !root._mask && root._parent !== null) {\n\t\t\troot = root._parent;\n\t\t}\n\n\t\tlet mask = root._mask || (root._mask = [0, 0]);\n\t\tstate._value = 'P' + mask[0] + '-' + mask[1]++;\n\t}\n\n\treturn state._value;\n}\n/**\n * After paint effects consumer.\n */\nfunction flushAfterPaintEffects() {\n\tlet component;\n\twhile ((component = afterPaintEffects.shift())) {\n\t\tif (!component._parentDom || !component.__hooks) continue;\n\t\ttry {\n\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeCleanup);\n\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeEffect);\n\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t} catch (e) {\n\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t\toptions._catchError(e, component._vnode);\n\t\t}\n\t}\n}\n\nlet HAS_RAF = typeof requestAnimationFrame == 'function';\n\n/**\n * Schedule a callback to be invoked after the browser has a chance to paint a new frame.\n * Do this by combining requestAnimationFrame (rAF) + setTimeout to invoke a callback after\n * the next browser frame.\n *\n * Also, schedule a timeout in parallel to the the rAF to ensure the callback is invoked\n * even if RAF doesn't fire (for example if the browser tab is not visible)\n *\n * @param {() => void} callback\n */\nfunction afterNextFrame(callback) {\n\tconst done = () => {\n\t\tclearTimeout(timeout);\n\t\tif (HAS_RAF) cancelAnimationFrame(raf);\n\t\tsetTimeout(callback);\n\t};\n\tconst timeout = setTimeout(done, RAF_TIMEOUT);\n\n\tlet raf;\n\tif (HAS_RAF) {\n\t\traf = requestAnimationFrame(done);\n\t}\n}\n\n// Note: if someone used options.debounceRendering = requestAnimationFrame,\n// then effects will ALWAYS run on the NEXT frame instead of the current one, incurring a ~16ms delay.\n// Perhaps this is not such a big deal.\n/**\n * Schedule afterPaintEffects flush after the browser paints\n * @param {number} newQueueLength\n */\nfunction afterPaint(newQueueLength) {\n\tif (newQueueLength === 1 || prevRaf !== options.requestAnimationFrame) {\n\t\tprevRaf = options.requestAnimationFrame;\n\t\t(prevRaf || afterNextFrame)(flushAfterPaintEffects);\n\t}\n}\n\n/**\n * @param {import('./internal').EffectHookState} hook\n */\nfunction invokeCleanup(hook) {\n\t// A hook cleanup can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\tlet cleanup = hook._cleanup;\n\tif (typeof cleanup == 'function') {\n\t\thook._cleanup = undefined;\n\t\tcleanup();\n\t}\n\n\tcurrentComponent = comp;\n}\n\n/**\n * Invoke a Hook's effect\n * @param {import('./internal').EffectHookState} hook\n */\nfunction invokeEffect(hook) {\n\t// A hook call can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\thook._cleanup = hook._value();\n\tcurrentComponent = comp;\n}\n\n/**\n * @param {any[]} oldArgs\n * @param {any[]} newArgs\n */\nfunction argsChanged(oldArgs, newArgs) {\n\treturn (\n\t\t!oldArgs ||\n\t\toldArgs.length !== newArgs.length ||\n\t\tnewArgs.some((arg, index) => arg !== oldArgs[index])\n\t);\n}\n\nfunction invokeOrReturn(arg, f) {\n\treturn typeof f == 'function' ? f(arg) : f;\n}\n","import _extends from \"@babel/runtime/helpers/extends\";\nimport React, { isValidElement, cloneElement, createElement, Children } from 'react';\nimport HTML from 'html-parse-stringify';\nimport { warn, warnOnce } from './utils.js';\nimport { getDefaults } from './defaults.js';\nimport { getI18n } from './i18nInstance.js';\nfunction hasChildren(node, checkLength) {\n  if (!node) return false;\n  const base = node.props ? node.props.children : node.children;\n  if (checkLength) return base.length > 0;\n  return !!base;\n}\nfunction getChildren(node) {\n  if (!node) return [];\n  const children = node.props ? node.props.children : node.children;\n  return node.props && node.props.i18nIsDynamicList ? getAsArray(children) : children;\n}\nfunction hasValidReactChildren(children) {\n  if (Object.prototype.toString.call(children) !== '[object Array]') return false;\n  return children.every(child => isValidElement(child));\n}\nfunction getAsArray(data) {\n  return Array.isArray(data) ? data : [data];\n}\nfunction mergeProps(source, target) {\n  const newTarget = {\n    ...target\n  };\n  newTarget.props = Object.assign(source.props, target.props);\n  return newTarget;\n}\nexport function nodesToString(children, i18nOptions) {\n  if (!children) return '';\n  let stringNode = '';\n  const childrenArray = getAsArray(children);\n  const keepArray = i18nOptions.transSupportBasicHtmlNodes && i18nOptions.transKeepBasicHtmlNodesFor ? i18nOptions.transKeepBasicHtmlNodesFor : [];\n  childrenArray.forEach((child, childIndex) => {\n    if (typeof child === 'string') {\n      stringNode += `${child}`;\n    } else if (isValidElement(child)) {\n      const childPropsCount = Object.keys(child.props).length;\n      const shouldKeepChild = keepArray.indexOf(child.type) > -1;\n      const childChildren = child.props.children;\n      if (!childChildren && shouldKeepChild && childPropsCount === 0) {\n        stringNode += `<${child.type}/>`;\n      } else if (!childChildren && (!shouldKeepChild || childPropsCount !== 0)) {\n        stringNode += `<${childIndex}></${childIndex}>`;\n      } else if (child.props.i18nIsDynamicList) {\n        stringNode += `<${childIndex}></${childIndex}>`;\n      } else if (shouldKeepChild && childPropsCount === 1 && typeof childChildren === 'string') {\n        stringNode += `<${child.type}>${childChildren}</${child.type}>`;\n      } else {\n        const content = nodesToString(childChildren, i18nOptions);\n        stringNode += `<${childIndex}>${content}</${childIndex}>`;\n      }\n    } else if (child === null) {\n      warn(`Trans: the passed in value is invalid - seems you passed in a null child.`);\n    } else if (typeof child === 'object') {\n      const {\n        format,\n        ...clone\n      } = child;\n      const keys = Object.keys(clone);\n      if (keys.length === 1) {\n        const value = format ? `${keys[0]}, ${format}` : keys[0];\n        stringNode += `{{${value}}}`;\n      } else {\n        warn(`react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.`, child);\n      }\n    } else {\n      warn(`Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.`, child);\n    }\n  });\n  return stringNode;\n}\nfunction renderNodes(children, targetString, i18n, i18nOptions, combinedTOpts, shouldUnescape) {\n  if (targetString === '') return [];\n  const keepArray = i18nOptions.transKeepBasicHtmlNodesFor || [];\n  const emptyChildrenButNeedsHandling = targetString && new RegExp(keepArray.map(keep => `<${keep}`).join('|')).test(targetString);\n  if (!children && !emptyChildrenButNeedsHandling && !shouldUnescape) return [targetString];\n  const data = {};\n  function getData(childs) {\n    const childrenArray = getAsArray(childs);\n    childrenArray.forEach(child => {\n      if (typeof child === 'string') return;\n      if (hasChildren(child)) getData(getChildren(child));else if (typeof child === 'object' && !isValidElement(child)) Object.assign(data, child);\n    });\n  }\n  getData(children);\n  const ast = HTML.parse(`<0>${targetString}</0>`);\n  const opts = {\n    ...data,\n    ...combinedTOpts\n  };\n  function renderInner(child, node, rootReactNode) {\n    const childs = getChildren(child);\n    const mappedChildren = mapAST(childs, node.children, rootReactNode);\n    return hasValidReactChildren(childs) && mappedChildren.length === 0 || child.props && child.props.i18nIsDynamicList ? childs : mappedChildren;\n  }\n  function pushTranslatedJSX(child, inner, mem, i, isVoid) {\n    if (child.dummy) {\n      child.children = inner;\n      mem.push(cloneElement(child, {\n        key: i\n      }, isVoid ? undefined : inner));\n    } else {\n      mem.push(...Children.map([child], c => {\n        const props = {\n          ...c.props\n        };\n        delete props.i18nIsDynamicList;\n        return React.createElement(c.type, _extends({}, props, {\n          key: i,\n          ref: c.ref\n        }, isVoid ? {} : {\n          children: inner\n        }));\n      }));\n    }\n  }\n  function mapAST(reactNode, astNode, rootReactNode) {\n    const reactNodes = getAsArray(reactNode);\n    const astNodes = getAsArray(astNode);\n    return astNodes.reduce((mem, node, i) => {\n      const translationContent = node.children && node.children[0] && node.children[0].content && i18n.services.interpolator.interpolate(node.children[0].content, opts, i18n.language);\n      if (node.type === 'tag') {\n        let tmp = reactNodes[parseInt(node.name, 10)];\n        if (rootReactNode.length === 1 && !tmp) tmp = rootReactNode[0][node.name];\n        if (!tmp) tmp = {};\n        const child = Object.keys(node.attrs).length !== 0 ? mergeProps({\n          props: node.attrs\n        }, tmp) : tmp;\n        const isElement = isValidElement(child);\n        const isValidTranslationWithChildren = isElement && hasChildren(node, true) && !node.voidElement;\n        const isEmptyTransWithHTML = emptyChildrenButNeedsHandling && typeof child === 'object' && child.dummy && !isElement;\n        const isKnownComponent = typeof children === 'object' && children !== null && Object.hasOwnProperty.call(children, node.name);\n        if (typeof child === 'string') {\n          const value = i18n.services.interpolator.interpolate(child, opts, i18n.language);\n          mem.push(value);\n        } else if (hasChildren(child) || isValidTranslationWithChildren) {\n          const inner = renderInner(child, node, rootReactNode);\n          pushTranslatedJSX(child, inner, mem, i);\n        } else if (isEmptyTransWithHTML) {\n          const inner = mapAST(reactNodes, node.children, rootReactNode);\n          pushTranslatedJSX(child, inner, mem, i);\n        } else if (Number.isNaN(parseFloat(node.name))) {\n          if (isKnownComponent) {\n            const inner = renderInner(child, node, rootReactNode);\n            pushTranslatedJSX(child, inner, mem, i, node.voidElement);\n          } else if (i18nOptions.transSupportBasicHtmlNodes && keepArray.indexOf(node.name) > -1) {\n            if (node.voidElement) {\n              mem.push(createElement(node.name, {\n                key: `${node.name}-${i}`\n              }));\n            } else {\n              const inner = mapAST(reactNodes, node.children, rootReactNode);\n              mem.push(createElement(node.name, {\n                key: `${node.name}-${i}`\n              }, inner));\n            }\n          } else if (node.voidElement) {\n            mem.push(`<${node.name} />`);\n          } else {\n            const inner = mapAST(reactNodes, node.children, rootReactNode);\n            mem.push(`<${node.name}>${inner}</${node.name}>`);\n          }\n        } else if (typeof child === 'object' && !isElement) {\n          const content = node.children[0] ? translationContent : null;\n          if (content) mem.push(content);\n        } else {\n          pushTranslatedJSX(child, translationContent, mem, i, node.children.length !== 1 || !translationContent);\n        }\n      } else if (node.type === 'text') {\n        const wrapTextNodes = i18nOptions.transWrapTextNodes;\n        const content = shouldUnescape ? i18nOptions.unescape(i18n.services.interpolator.interpolate(node.content, opts, i18n.language)) : i18n.services.interpolator.interpolate(node.content, opts, i18n.language);\n        if (wrapTextNodes) {\n          mem.push(createElement(wrapTextNodes, {\n            key: `${node.name}-${i}`\n          }, content));\n        } else {\n          mem.push(content);\n        }\n      }\n      return mem;\n    }, []);\n  }\n  const result = mapAST([{\n    dummy: true,\n    children: children || []\n  }], ast, getAsArray(children || []));\n  return getChildren(result[0]);\n}\nexport function Trans(_ref) {\n  let {\n    children,\n    count,\n    parent,\n    i18nKey,\n    context,\n    tOptions = {},\n    values,\n    defaults,\n    components,\n    ns,\n    i18n: i18nFromProps,\n    t: tFromProps,\n    shouldUnescape,\n    ...additionalProps\n  } = _ref;\n  const i18n = i18nFromProps || getI18n();\n  if (!i18n) {\n    warnOnce('You will need to pass in an i18next instance by using i18nextReactModule');\n    return children;\n  }\n  const t = tFromProps || i18n.t.bind(i18n) || (k => k);\n  if (context) tOptions.context = context;\n  const reactI18nextOptions = {\n    ...getDefaults(),\n    ...(i18n.options && i18n.options.react)\n  };\n  let namespaces = ns || t.ns || i18n.options && i18n.options.defaultNS;\n  namespaces = typeof namespaces === 'string' ? [namespaces] : namespaces || ['translation'];\n  const nodeAsString = nodesToString(children, reactI18nextOptions);\n  const defaultValue = defaults || nodeAsString || reactI18nextOptions.transEmptyNodeValue || i18nKey;\n  const {\n    hashTransKey\n  } = reactI18nextOptions;\n  const key = i18nKey || (hashTransKey ? hashTransKey(nodeAsString || defaultValue) : nodeAsString || defaultValue);\n  const interpolationOverride = values ? tOptions.interpolation : {\n    interpolation: {\n      ...tOptions.interpolation,\n      prefix: '#$?',\n      suffix: '?$#'\n    }\n  };\n  const combinedTOpts = {\n    ...tOptions,\n    count,\n    ...values,\n    ...interpolationOverride,\n    defaultValue,\n    ns: namespaces\n  };\n  const translation = key ? t(key, combinedTOpts) : defaultValue;\n  const content = renderNodes(components || children, translation, i18n, reactI18nextOptions, combinedTOpts, shouldUnescape);\n  const useAsParent = parent !== undefined ? parent : reactI18nextOptions.defaultTransParent;\n  return useAsParent ? createElement(useAsParent, additionalProps, content) : content;\n}","function _extends() {\n  module.exports = _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _extends.apply(this, arguments);\n}\nmodule.exports = _extends, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","import e from\"void-elements\";var t=/\\s([^'\"/\\s><]+?)[\\s/>]|([^\\s=]+)=\\s?(\".*?\"|'.*?')/g;function n(n){var r={type:\"tag\",name:\"\",voidElement:!1,attrs:{},children:[]},i=n.match(/<\\/?([^\\s]+?)[/\\s>]/);if(i&&(r.name=i[1],(e[i[1]]||\"/\"===n.charAt(n.length-2))&&(r.voidElement=!0),r.name.startsWith(\"!--\"))){var s=n.indexOf(\"--\\x3e\");return{type:\"comment\",comment:-1!==s?n.slice(4,s):\"\"}}for(var a=new RegExp(t),c=null;null!==(c=a.exec(n));)if(c[0].trim())if(c[1]){var o=c[1].trim(),l=[o,\"\"];o.indexOf(\"=\")>-1&&(l=o.split(\"=\")),r.attrs[l[0]]=l[1],a.lastIndex--}else c[2]&&(r.attrs[c[2]]=c[3].trim().substring(1,c[3].length-1));return r}var r=/<[a-zA-Z0-9\\-\\!\\/](?:\"[^\"]*\"|'[^']*'|[^'\">])*>/g,i=/^\\s*$/,s=Object.create(null);function a(e,t){switch(t.type){case\"text\":return e+t.content;case\"tag\":return e+=\"<\"+t.name+(t.attrs?function(e){var t=[];for(var n in e)t.push(n+'=\"'+e[n]+'\"');return t.length?\" \"+t.join(\" \"):\"\"}(t.attrs):\"\")+(t.voidElement?\"/>\":\">\"),t.voidElement?e:e+t.children.reduce(a,\"\")+\"</\"+t.name+\">\";case\"comment\":return e+\"\\x3c!--\"+t.comment+\"--\\x3e\"}}var c={parse:function(e,t){t||(t={}),t.components||(t.components=s);var a,c=[],o=[],l=-1,m=!1;if(0!==e.indexOf(\"<\")){var u=e.indexOf(\"<\");c.push({type:\"text\",content:-1===u?e:e.substring(0,u)})}return e.replace(r,function(r,s){if(m){if(r!==\"</\"+a.name+\">\")return;m=!1}var u,f=\"/\"!==r.charAt(1),h=r.startsWith(\"\\x3c!--\"),p=s+r.length,d=e.charAt(p);if(h){var v=n(r);return l<0?(c.push(v),c):((u=o[l]).children.push(v),c)}if(f&&(l++,\"tag\"===(a=n(r)).type&&t.components[a.name]&&(a.type=\"component\",m=!0),a.voidElement||m||!d||\"<\"===d||a.children.push({type:\"text\",content:e.slice(p,e.indexOf(\"<\",p))}),0===l&&c.push(a),(u=o[l-1])&&u.children.push(a),o[l]=a),(!f||a.voidElement)&&(l>-1&&(a.voidElement||a.name===r.slice(2,-1))&&(l--,a=-1===l?c:o[l]),!m&&\"<\"!==d&&d)){u=-1===l?c:o[l].children;var x=e.indexOf(\"<\",p),g=e.slice(p,-1===x?void 0:x);i.test(g)&&(g=\" \"),(x>-1&&l+u.length>=0||\" \"!==g)&&u.push({type:\"text\",content:g})}}),c},stringify:function(e){return e.reduce(function(e,t){return e+a(\"\",t)},\"\")}};export default c;\n//# sourceMappingURL=html-parse-stringify.module.js.map\n","import lookup from 'void-elements'\nconst attrRE = /\\s([^'\"/\\s><]+?)[\\s/>]|([^\\s=]+)=\\s?(\".*?\"|'.*?')/g\n\nexport default function stringify(tag) {\n  const res = {\n    type: 'tag',\n    name: '',\n    voidElement: false,\n    attrs: {},\n    children: [],\n  }\n\n  const tagMatch = tag.match(/<\\/?([^\\s]+?)[/\\s>]/)\n  if (tagMatch) {\n    res.name = tagMatch[1]\n    if (\n      lookup[tagMatch[1]] ||\n      tag.charAt(tag.length - 2) === '/'\n    ) {\n      res.voidElement = true\n    }\n\n    // handle comment tag\n    if (res.name.startsWith('!--')) {\n      const endIndex = tag.indexOf('-->')\n      return {\n        type: 'comment',\n        comment: endIndex !== -1 ? tag.slice(4, endIndex) : '',\n      }\n    }\n  }\n\n  const reg = new RegExp(attrRE)\n  let result = null\n  for (;;) {\n    result = reg.exec(tag)\n\n    if (result === null) {\n      break\n    }\n\n    if (!result[0].trim()) {\n      continue\n    }\n\n    if (result[1]) {\n      const attr = result[1].trim()\n      let arr = [attr, '']\n\n      if (attr.indexOf('=') > -1) {\n        arr = attr.split('=')\n      }\n\n      res.attrs[arr[0]] = arr[1]\n      reg.lastIndex--\n    } else if (result[2]) {\n      res.attrs[result[2]] = result[3].trim().substring(1, result[3].length - 1)\n    }\n  }\n\n  return res\n}\n","import parseTag from './parse-tag'\n\nconst tagRE = /<[a-zA-Z0-9\\-\\!\\/](?:\"[^\"]*\"|'[^']*'|[^'\">])*>/g\nconst whitespaceRE = /^\\s*$/\n\n// re-used obj for quick lookups of components\nconst empty = Object.create(null)\n\nexport default function parse(html, options) {\n  options || (options = {})\n  options.components || (options.components = empty)\n  const result = []\n  const arr = []\n  let current\n  let level = -1\n  let inComponent = false\n\n  // handle text at top level\n  if (html.indexOf('<') !== 0) {\n    var end = html.indexOf('<')\n    result.push({\n      type: 'text',\n      content: end === -1 ? html : html.substring(0, end),\n    })\n  }\n\n  html.replace(tagRE, function (tag, index) {\n    if (inComponent) {\n      if (tag !== '</' + current.name + '>') {\n        return\n      } else {\n        inComponent = false\n      }\n    }\n    const isOpen = tag.charAt(1) !== '/'\n    const isComment = tag.startsWith('<!--')\n    const start = index + tag.length\n    const nextChar = html.charAt(start)\n    let parent\n\n    if (isComment) {\n      const comment = parseTag(tag)\n\n      // if we're at root, push new base node\n      if (level < 0) {\n        result.push(comment)\n        return result\n      }\n      parent = arr[level]\n      parent.children.push(comment)\n      return result\n    }\n\n    if (isOpen) {\n      level++\n\n      current = parseTag(tag)\n      if (current.type === 'tag' && options.components[current.name]) {\n        current.type = 'component'\n        inComponent = true\n      }\n\n      if (\n        !current.voidElement &&\n        !inComponent &&\n        nextChar &&\n        nextChar !== '<'\n      ) {\n        current.children.push({\n          type: 'text',\n          content: html.slice(start, html.indexOf('<', start)),\n        })\n      }\n\n      // if we're at root, push new base node\n      if (level === 0) {\n        result.push(current)\n      }\n\n      parent = arr[level - 1]\n\n      if (parent) {\n        parent.children.push(current)\n      }\n\n      arr[level] = current\n    }\n\n    if (!isOpen || current.voidElement) {\n      if (\n        level > -1 &&\n        (current.voidElement || current.name === tag.slice(2, -1))\n      ) {\n        level--\n        // move current up a level to match the end tag\n        current = level === -1 ? result : arr[level]\n      }\n      if (!inComponent && nextChar !== '<' && nextChar) {\n        // trailing text node\n        // if we're at the root, push a base text node. otherwise add as\n        // a child to the current node.\n        parent = level === -1 ? result : arr[level].children\n\n        // calculate correct end of the content slice in case there's\n        // no tag after the text node.\n        const end = html.indexOf('<', start)\n        let content = html.slice(start, end === -1 ? undefined : end)\n        // if a node is nothing but whitespace, collapse it as the spec states:\n        // https://www.w3.org/TR/html4/struct/text.html#h-9.1\n        if (whitespaceRE.test(content)) {\n          content = ' '\n        }\n        // don't add whitespace-only text nodes if they would be trailing text nodes\n        // or if they would be leading whitespace-only text nodes:\n        //  * end > -1 indicates this is not a trailing text node\n        //  * leading node is when level is -1 and parent has length 0\n        if ((end > -1 && level + parent.length >= 0) || content !== ' ') {\n          parent.push({\n            type: 'text',\n            content: content,\n          })\n        }\n      }\n    }\n  })\n\n  return result\n}\n","function attrString(attrs) {\n  const buff = []\n  for (let key in attrs) {\n    buff.push(key + '=\"' + attrs[key] + '\"')\n  }\n  if (!buff.length) {\n    return ''\n  }\n  return ' ' + buff.join(' ')\n}\n\nfunction stringify(buff, doc) {\n  switch (doc.type) {\n    case 'text':\n      return buff + doc.content\n    case 'tag':\n      buff +=\n        '<' +\n        doc.name +\n        (doc.attrs ? attrString(doc.attrs) : '') +\n        (doc.voidElement ? '/>' : '>')\n      if (doc.voidElement) {\n        return buff\n      }\n      return buff + doc.children.reduce(stringify, '') + '</' + doc.name + '>'\n    case 'comment':\n      buff += '<!--' + doc.comment + '-->'\n      return buff\n  }\n}\n\nexport default function (doc) {\n  return doc.reduce(function (token, rootEl) {\n    return token + stringify('', rootEl)\n  }, '')\n}\n","import parse from './parse'\nimport stringify from './stringify'\n\nexport default {\n  parse,\n  stringify,\n}\n","/**\n * This file automatically generated from `pre-publish.js`.\n * Do not manually edit.\n */\n\nmodule.exports = {\n  \"area\": true,\n  \"base\": true,\n  \"br\": true,\n  \"col\": true,\n  \"embed\": true,\n  \"hr\": true,\n  \"img\": true,\n  \"input\": true,\n  \"link\": true,\n  \"meta\": true,\n  \"param\": true,\n  \"source\": true,\n  \"track\": true,\n  \"wbr\": true\n};\n","export function warn() {\n  if (console && console.warn) {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    if (typeof args[0] === 'string') args[0] = `react-i18next:: ${args[0]}`;\n    console.warn(...args);\n  }\n}\nconst alreadyWarned = {};\nexport function warnOnce() {\n  for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    args[_key2] = arguments[_key2];\n  }\n  if (typeof args[0] === 'string' && alreadyWarned[args[0]]) return;\n  if (typeof args[0] === 'string') alreadyWarned[args[0]] = new Date();\n  warn(...args);\n}\nconst loadedClb = (i18n, cb) => () => {\n  if (i18n.isInitialized) {\n    cb();\n  } else {\n    const initialized = () => {\n      setTimeout(() => {\n        i18n.off('initialized', initialized);\n      }, 0);\n      cb();\n    };\n    i18n.on('initialized', initialized);\n  }\n};\nexport function loadNamespaces(i18n, ns, cb) {\n  i18n.loadNamespaces(ns, loadedClb(i18n, cb));\n}\nexport function loadLanguages(i18n, lng, ns, cb) {\n  if (typeof ns === 'string') ns = [ns];\n  ns.forEach(n => {\n    if (i18n.options.ns.indexOf(n) < 0) i18n.options.ns.push(n);\n  });\n  i18n.loadLanguages(lng, loadedClb(i18n, cb));\n}\nfunction oldI18nextHasLoadedNamespace(ns, i18n) {\n  let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  const lng = i18n.languages[0];\n  const fallbackLng = i18n.options ? i18n.options.fallbackLng : false;\n  const lastLng = i18n.languages[i18n.languages.length - 1];\n  if (lng.toLowerCase() === 'cimode') return true;\n  const loadNotPending = (l, n) => {\n    const loadState = i18n.services.backendConnector.state[`${l}|${n}`];\n    return loadState === -1 || loadState === 2;\n  };\n  if (options.bindI18n && options.bindI18n.indexOf('languageChanging') > -1 && i18n.services.backendConnector.backend && i18n.isLanguageChangingTo && !loadNotPending(i18n.isLanguageChangingTo, ns)) return false;\n  if (i18n.hasResourceBundle(lng, ns)) return true;\n  if (!i18n.services.backendConnector.backend || i18n.options.resources && !i18n.options.partialBundledLanguages) return true;\n  if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns))) return true;\n  return false;\n}\nexport function hasLoadedNamespace(ns, i18n) {\n  let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  if (!i18n.languages || !i18n.languages.length) {\n    warnOnce('i18n.languages were undefined or empty', i18n.languages);\n    return true;\n  }\n  const isNewerI18next = i18n.options.ignoreJSONStructure !== undefined;\n  if (!isNewerI18next) {\n    return oldI18nextHasLoadedNamespace(ns, i18n, options);\n  }\n  return i18n.hasLoadedNamespace(ns, {\n    lng: options.lng,\n    precheck: (i18nInstance, loadNotPending) => {\n      if (options.bindI18n && options.bindI18n.indexOf('languageChanging') > -1 && i18nInstance.services.backendConnector.backend && i18nInstance.isLanguageChangingTo && !loadNotPending(i18nInstance.isLanguageChangingTo, ns)) return false;\n    }\n  });\n}\nexport function getDisplayName(Component) {\n  return Component.displayName || Component.name || (typeof Component === 'string' && Component.length > 0 ? Component : 'Unknown');\n}","import { unescape } from './unescape.js';\nlet defaultOptions = {\n  bindI18n: 'languageChanged',\n  bindI18nStore: '',\n  transEmptyNodeValue: '',\n  transSupportBasicHtmlNodes: true,\n  transWrapTextNodes: '',\n  transKeepBasicHtmlNodesFor: ['br', 'strong', 'i', 'p'],\n  useSuspense: true,\n  unescape\n};\nexport function setDefaults() {\n  let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  defaultOptions = {\n    ...defaultOptions,\n    ...options\n  };\n}\nexport function getDefaults() {\n  return defaultOptions;\n}","const matchHtmlEntity = /&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g;\nconst htmlEntities = {\n  '&amp;': '&',\n  '&#38;': '&',\n  '&lt;': '<',\n  '&#60;': '<',\n  '&gt;': '>',\n  '&#62;': '>',\n  '&apos;': \"'\",\n  '&#39;': \"'\",\n  '&quot;': '\"',\n  '&#34;': '\"',\n  '&nbsp;': ' ',\n  '&#160;': ' ',\n  '&copy;': '',\n  '&#169;': '',\n  '&reg;': '',\n  '&#174;': '',\n  '&hellip;': '',\n  '&#8230;': '',\n  '&#x2F;': '/',\n  '&#47;': '/'\n};\nconst unescapeHtmlEntity = m => htmlEntities[m];\nexport const unescape = text => text.replace(matchHtmlEntity, unescapeHtmlEntity);","let i18nInstance;\nexport function setI18n(instance) {\n  i18nInstance = instance;\n}\nexport function getI18n() {\n  return i18nInstance;\n}","import { createContext } from 'react';\nimport { getDefaults, setDefaults } from './defaults.js';\nimport { getI18n, setI18n } from './i18nInstance.js';\nimport { initReactI18next } from './initReactI18next.js';\nexport { getDefaults, setDefaults, getI18n, setI18n, initReactI18next };\nexport const I18nContext = createContext();\nexport class ReportNamespaces {\n  constructor() {\n    this.usedNamespaces = {};\n  }\n  addUsedNamespaces(namespaces) {\n    namespaces.forEach(ns => {\n      if (!this.usedNamespaces[ns]) this.usedNamespaces[ns] = true;\n    });\n  }\n  getUsedNamespaces() {\n    return Object.keys(this.usedNamespaces);\n  }\n}\nexport function composeInitialProps(ForComponent) {\n  return ctx => new Promise(resolve => {\n    const i18nInitialProps = getInitialProps();\n    if (ForComponent.getInitialProps) {\n      ForComponent.getInitialProps(ctx).then(componentsInitialProps => {\n        resolve({\n          ...componentsInitialProps,\n          ...i18nInitialProps\n        });\n      });\n    } else {\n      resolve(i18nInitialProps);\n    }\n  });\n}\nexport function getInitialProps() {\n  const i18n = getI18n();\n  const namespaces = i18n.reportNamespaces ? i18n.reportNamespaces.getUsedNamespaces() : [];\n  const ret = {};\n  const initialI18nStore = {};\n  i18n.languages.forEach(l => {\n    initialI18nStore[l] = {};\n    namespaces.forEach(ns => {\n      initialI18nStore[l][ns] = i18n.getResourceBundle(l, ns) || {};\n    });\n  });\n  ret.initialI18nStore = initialI18nStore;\n  ret.initialLanguage = i18n.language;\n  return ret;\n}","import { setDefaults } from './defaults.js';\nimport { setI18n } from './i18nInstance.js';\nexport const initReactI18next = {\n  type: '3rdParty',\n  init(instance) {\n    setDefaults(instance.options.react);\n    setI18n(instance);\n  }\n};","import { useState, useEffect, useContext, useRef } from 'react';\nimport { getI18n, getDefaults, ReportNamespaces, I18nContext } from './context.js';\nimport { warnOnce, loadNamespaces, loadLanguages, hasLoadedNamespace } from './utils.js';\nconst usePrevious = (value, ignore) => {\n  const ref = useRef();\n  useEffect(() => {\n    ref.current = ignore ? ref.current : value;\n  }, [value, ignore]);\n  return ref.current;\n};\nexport function useTranslation(ns) {\n  let props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const {\n    i18n: i18nFromProps\n  } = props;\n  const {\n    i18n: i18nFromContext,\n    defaultNS: defaultNSFromContext\n  } = useContext(I18nContext) || {};\n  const i18n = i18nFromProps || i18nFromContext || getI18n();\n  if (i18n && !i18n.reportNamespaces) i18n.reportNamespaces = new ReportNamespaces();\n  if (!i18n) {\n    warnOnce('You will need to pass in an i18next instance by using initReactI18next');\n    const notReadyT = (k, optsOrDefaultValue) => {\n      if (typeof optsOrDefaultValue === 'string') return optsOrDefaultValue;\n      if (optsOrDefaultValue && typeof optsOrDefaultValue === 'object' && typeof optsOrDefaultValue.defaultValue === 'string') return optsOrDefaultValue.defaultValue;\n      return Array.isArray(k) ? k[k.length - 1] : k;\n    };\n    const retNotReady = [notReadyT, {}, false];\n    retNotReady.t = notReadyT;\n    retNotReady.i18n = {};\n    retNotReady.ready = false;\n    return retNotReady;\n  }\n  if (i18n.options.react && i18n.options.react.wait !== undefined) warnOnce('It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.');\n  const i18nOptions = {\n    ...getDefaults(),\n    ...i18n.options.react,\n    ...props\n  };\n  const {\n    useSuspense,\n    keyPrefix\n  } = i18nOptions;\n  let namespaces = ns || defaultNSFromContext || i18n.options && i18n.options.defaultNS;\n  namespaces = typeof namespaces === 'string' ? [namespaces] : namespaces || ['translation'];\n  if (i18n.reportNamespaces.addUsedNamespaces) i18n.reportNamespaces.addUsedNamespaces(namespaces);\n  const ready = (i18n.isInitialized || i18n.initializedStoreOnce) && namespaces.every(n => hasLoadedNamespace(n, i18n, i18nOptions));\n  function getT() {\n    return i18n.getFixedT(props.lng || null, i18nOptions.nsMode === 'fallback' ? namespaces : namespaces[0], keyPrefix);\n  }\n  const [t, setT] = useState(getT);\n  let joinedNS = namespaces.join();\n  if (props.lng) joinedNS = `${props.lng}${joinedNS}`;\n  const previousJoinedNS = usePrevious(joinedNS);\n  const isMounted = useRef(true);\n  useEffect(() => {\n    const {\n      bindI18n,\n      bindI18nStore\n    } = i18nOptions;\n    isMounted.current = true;\n    if (!ready && !useSuspense) {\n      if (props.lng) {\n        loadLanguages(i18n, props.lng, namespaces, () => {\n          if (isMounted.current) setT(getT);\n        });\n      } else {\n        loadNamespaces(i18n, namespaces, () => {\n          if (isMounted.current) setT(getT);\n        });\n      }\n    }\n    if (ready && previousJoinedNS && previousJoinedNS !== joinedNS && isMounted.current) {\n      setT(getT);\n    }\n    function boundReset() {\n      if (isMounted.current) setT(getT);\n    }\n    if (bindI18n && i18n) i18n.on(bindI18n, boundReset);\n    if (bindI18nStore && i18n) i18n.store.on(bindI18nStore, boundReset);\n    return () => {\n      isMounted.current = false;\n      if (bindI18n && i18n) bindI18n.split(' ').forEach(e => i18n.off(e, boundReset));\n      if (bindI18nStore && i18n) bindI18nStore.split(' ').forEach(e => i18n.store.off(e, boundReset));\n    };\n  }, [i18n, joinedNS]);\n  const isInitial = useRef(true);\n  useEffect(() => {\n    if (isMounted.current && !isInitial.current) {\n      setT(getT);\n    }\n    isInitial.current = false;\n  }, [i18n, keyPrefix]);\n  const ret = [t, i18n, ready];\n  ret.t = t;\n  ret.i18n = i18n;\n  ret.ready = ready;\n  if (ready) return ret;\n  if (!ready && !useSuspense) return ret;\n  throw new Promise(resolve => {\n    if (props.lng) {\n      loadLanguages(i18n, props.lng, namespaces, () => resolve());\n    } else {\n      loadNamespaces(i18n, namespaces, () => resolve());\n    }\n  });\n}","import { createElement, forwardRef as forwardRefReact } from 'react';\nimport { useTranslation } from './useTranslation.js';\nimport { getDisplayName } from './utils.js';\nexport function withTranslation(ns) {\n  let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return function Extend(WrappedComponent) {\n    function I18nextWithTranslation(_ref) {\n      let {\n        forwardedRef,\n        ...rest\n      } = _ref;\n      const [t, i18n, ready] = useTranslation(ns, {\n        ...rest,\n        keyPrefix: options.keyPrefix\n      });\n      const passDownProps = {\n        ...rest,\n        t,\n        i18n,\n        tReady: ready\n      };\n      if (options.withRef && forwardedRef) {\n        passDownProps.ref = forwardedRef;\n      } else if (!options.withRef && forwardedRef) {\n        passDownProps.forwardedRef = forwardedRef;\n      }\n      return createElement(WrappedComponent, passDownProps);\n    }\n    I18nextWithTranslation.displayName = `withI18nextTranslation(${getDisplayName(WrappedComponent)})`;\n    I18nextWithTranslation.WrappedComponent = WrappedComponent;\n    const forwardRef = (props, ref) => createElement(I18nextWithTranslation, Object.assign({}, props, {\n      forwardedRef: ref\n    }));\n    return options.withRef ? forwardRefReact(forwardRef) : I18nextWithTranslation;\n  };\n}","import { useTranslation } from './useTranslation.js';\nexport function Translation(props) {\n  const {\n    ns,\n    children,\n    ...options\n  } = props;\n  const [t, i18n, ready] = useTranslation(ns, options);\n  return children(t, {\n    i18n,\n    lng: i18n.language\n  }, ready);\n}","import { createElement, useMemo } from 'react';\nimport { I18nContext } from './context.js';\nexport function I18nextProvider(_ref) {\n  let {\n    i18n,\n    defaultNS,\n    children\n  } = _ref;\n  const value = useMemo(() => ({\n    i18n,\n    defaultNS\n  }), [i18n, defaultNS]);\n  return createElement(I18nContext.Provider, {\n    value\n  }, children);\n}","import { createElement } from 'react';\nimport { useSSR } from './useSSR.js';\nimport { composeInitialProps } from './context.js';\nimport { getDisplayName } from './utils.js';\nexport function withSSR() {\n  return function Extend(WrappedComponent) {\n    function I18nextWithSSR(_ref) {\n      let {\n        initialI18nStore,\n        initialLanguage,\n        ...rest\n      } = _ref;\n      useSSR(initialI18nStore, initialLanguage);\n      return createElement(WrappedComponent, {\n        ...rest\n      });\n    }\n    I18nextWithSSR.getInitialProps = composeInitialProps(WrappedComponent);\n    I18nextWithSSR.displayName = `withI18nextSSR(${getDisplayName(WrappedComponent)})`;\n    I18nextWithSSR.WrappedComponent = WrappedComponent;\n    return I18nextWithSSR;\n  };\n}","import { useContext } from 'react';\nimport { getI18n, I18nContext } from './context.js';\nexport function useSSR(initialI18nStore, initialLanguage) {\n  let props = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  const {\n    i18n: i18nFromProps\n  } = props;\n  const {\n    i18n: i18nFromContext\n  } = useContext(I18nContext) || {};\n  const i18n = i18nFromProps || i18nFromContext || getI18n();\n  if (i18n.options && i18n.options.isClone) return;\n  if (initialI18nStore && !i18n.initializedStoreOnce) {\n    i18n.services.resourceStore.data = initialI18nStore;\n    i18n.options.ns = Object.values(initialI18nStore).reduce((mem, lngResources) => {\n      Object.keys(lngResources).forEach(ns => {\n        if (mem.indexOf(ns) < 0) mem.push(ns);\n      });\n      return mem;\n    }, i18n.options.ns);\n    i18n.initializedStoreOnce = true;\n    i18n.isInitialized = true;\n  }\n  if (initialLanguage && !i18n.initializedLanguageOnce) {\n    i18n.changeLanguage(initialLanguage);\n    i18n.initializedLanguageOnce = true;\n  }\n}","{\n    \"previous_coms\": \"See previous comments\",\n    \"next_coms\": \"See next comments\",\n    \"ago\": \"{{duration}} ago\",\n    \"groups\": \"Groups\",\n    \"login_placeholder\": \"email\",\n    \"password_placeholder\": \"password\",\n    \"new_password_placeholder\": \"new password\",\n    \"confirm_password_placeholder\": \"confirm password\",\n    \"connect\": \"Connection\",\n    \"submit\": \"Submit\",\n    \"title_placeholder\": \"Title of your message (optional)\",\n    \"text_placeholder\": \"Write your message here\",\n    \"upload_image\": \"Add photos\",\n    \"upload_video\": \"Add videos\",\n    \"upload_music\": \"Add musics\",\n    \"upload_pdf\": \"Add pdf\",\n    \"add_date\": \"Add a date\",\n    \"logout\": \"Logout\",\n    \"settings\": \"Settings\",\n    \"name\": \"Name\",\n    \"name_input\": \"Choose a name\",\n    \"login\": \"Login\",\n    \"login_input\": \"Choose a login\",\n    \"email\": \"Email\",\n    \"email_input\": \"Fill in your email here\",\n    \"save_changes\": \"Save changes\",\n    \"password\": \"Password\",\n    \"password_input\": \"Write a new password here\",\n    \"Invalid login/password\": \"Invalid login and/or password\",\n    \"edit\": \"Edit\",\n    \"delete\": \"Delete\",\n    \"ask_delete_message\": \"Are you sure to delete this message?\",\n    \"account\": \"Account\",\n    \"forgot_password\": \"Did you forget your password?\",\n    \"password_reset_mail_sent\": \"The password reset email was sent !\",\n    \"User not found\": \"User not found\",\n    \"reset_password_title\": \"Reset your password\",\n    \"error\": \"An error occurred\",\n    \"passwords_dont_match\": \"Passwords don't match\",\n    \"invitation_link\": \"Invitation link\",\n    \"reset_invitation_link\": \"Reset invitation link\",\n    \"invitation_welcome\": \"Welcome on Zusam ! Please sign up before joining the group.\",\n    \"signup\": \"Sign up\",\n    \"create_a_group\": \"Create a group\",\n    \"create_the_group\": \"Create the group\",\n    \"quit_group\": \"Leave the group\",\n    \"settings_updated\": \"Your settings were updated\",\n    \"group_updated\": \"The group was updated !\",\n    \"group_left\": \"You left the group !\",\n    \"multiple_photos_upload\": \"An error occurred. Try uploading images one by one (this can happen in some browsers).\",\n    \"error_new_message\": \"An error occurred while sending your message.\",\n    \"error_upload\": \"An error occurred during the upload\",\n    \"cancel_write\": \"Do you really want to cancel writing a new message?\",\n    \"empty_message\": \"The message is empty and cannot be sent !\",\n    \"cancel\": \"Cancel\",\n    \"just_now\": \"Just now\",\n    \"notification_emails\": \"Email notifications\",\n    \"none\": \"None\",\n    \"hourly\": \"Hourly\",\n    \"daily\": \"Daily\",\n    \"weekly\": \"Weekly\",\n    \"monthly\": \"Monthly\",\n    \"notification_emails_stopped\": \"Email notifications stopped !\",\n    \"group_share_choice\": \"To which group do you want to send this message?\",\n    \"public_link\": \"public link\",\n    \"default_group\": \"Default group\",\n    \"destroy_account\": \"Delete your account\",\n    \"destroy_account_explain\": \"Once you delete your account, there is no going back. Please be certain.\",\n    \"are_you_sure\": \"Are you sure?\",\n    \"share_message\": \"share the message\",\n    \"users\": \"users\",\n    \"has_posted_in\": \"has posted in\",\n    \"has_commented_on\": \"has commented on\",\n    \"has_joined\": \"has joined\",\n    \"has_left\": \"has left\",\n    \"the_message_from\": \"the message from\",\n    \"in\": \"in\",\n    \"lang\": \"language\",\n    \"reply\": \"reply\",\n    \"replies_one\": \"{{count}} reply\",\n    \"replies_other\": \"{{count}} replies\",\n    \"publish_in_group\": \"publish in the group\",\n    \"search_in_group\": \"search in this group\",\n    \"changed_group_name\": \"changed the group's name\",\n    \"to\": \"to\",\n    \"notifications\": \"notifications\",\n    \"mark_all_as_read\": \"mark all as read\",\n    \"search_without_result\": \"Your search did not match any message.\",\n    \"add_bookmark\": \"Bookmark message\",\n    \"remove_bookmark\": \"Unbookmark message\",\n    \"bookmarks\": \"bookmarks\",\n    \"api_key\": \"API key\",\n    \"reset_api_key\": \"Reset the API key (you will be disconnected)\",\n    \"video_not_ready\": \"Video is not ready yet.\",\n    \"bookmark_added\": \"Message added to bookmarks !\",\n    \"bookmark_removed\": \"Message removed from bookmarks !\",\n    \"parent_message\": \"Parent message\"\n}\n","{\n    \"previous_coms\": \"Ver los comentarios anteriores\",\n    \"next_coms\": \"Ver los siguientes comentarios\",\n    \"ago\": \"Hace {{duration}}\",\n    \"groups\": \"Grupos\",\n    \"login_placeholder\": \"correo\",\n    \"password_placeholder\": \"contrasea\",\n    \"new_password_placeholder\": \"nueva contrasea\",\n    \"confirm_password_placeholder\": \"confirmar contrasea\",\n    \"connect\": \"Conectarse\",\n    \"submit\": \"Enviar\",\n    \"title_placeholder\": \"Asunto (opcional)\",\n    \"text_placeholder\": \"Escribe tu mensaje aqu\",\n    \"upload_image\": \"Aadir fotos\",\n    \"upload_video\": \"Aadir videos\",\n    \"upload_music\": \"Aadir msica\",\n    \"upload_pdf\": \"Aadir pdf\",\n    \"add_date\": \"Aadir una fecha\",\n    \"logout\": \"Desconectarse\",\n    \"settings\": \"Parmetros\",\n    \"name\": \"Nombre\",\n    \"name_input\": \"Elige un nombre\",\n    \"login\": \"Usuario\",\n    \"login_input\": \"Elige un usuario\",\n    \"email\": \"Correo\",\n    \"email_input\": \"Indicar correo electrnico\",\n    \"save_changes\": \"Guardar los cambios\",\n    \"password\": \"Contrasea\",\n    \"password_input\": \"Indicar una nueva contrasea\",\n    \"Invalid login/password\": \"Usuario o contrasea incorrecto\",\n    \"edit\": \"Editar\",\n    \"delete\": \"Borrar\",\n    \"ask_delete_message\": \"Quieres borrar este mensaje?\",\n    \"account\": \"Cuenta\",\n    \"groups\": \"Grupos\",\n    \"forgot_password\": \"Olvidaste tu contrasea?\",\n    \"password_reset_mail_sent\": \"El correo ha sido enviado!\",\n    \"User not found\": \"El usuario no existe\",\n    \"reset_password_title\": \"Cambia tu contrasea\",\n    \"error\": \"Un error ocurri. Vuelve a intentar.\",\n    \"passwords_dont_match\": \"Las contraseas no coinciden\",\n    \"invitation_link\": \"Enlace de invitacin\",\n    \"reset_invitation_link\": \"Cambiar el enlace de invitacin\",\n    \"invitation_welcome\": \"Bienvenido a Zusam ! Inscribete para conectarte con un grupo.\",\n    \"signup\": \"Inscribirse\",\n    \"create_a_group\": \"Crear un grupo\",\n    \"create_the_group\": \"Crear el grupo\",\n    \"quit_group\": \"Dejar el grupo\",\n    \"settings_updated\": \"Tus preferencias han sido actualizadas!\",\n    \"group_updated\": \"El grupo ha sido actualizado!\",\n    \"group_left\": \"Has abandonado el grupo\",\n    \"multiple_photos_upload\": \"Un error ocurri. Vuelve a intentar con solo una foto (algunos navegadores impiden aadir varias fotos al mismo tiempo).\",\n    \"error_new_message\": \"Un error desconocido ocurri durante el envo del mensaje.\",\n    \"error_upload\": \"Un error ocurri durante el envo.\",\n    \"cancel_write\": \"Quieres cancelar este nuevo mensaje?\",\n    \"empty_message\": \"No hay mensaje!\",\n    \"cancel\": \"Cancelar\",\n    \"just_now\": \"Ahora\",\n    \"notification_emails\": \"Correo de notificacin\",\n    \"none\": \"Ninguno\",\n    \"hourly\": \"Cada hora\",\n    \"daily\": \"Diario\",\n    \"weekly\": \"Semanal\",\n    \"monthly\": \"Mensual\",\n    \"notification_emails_stopped\": \"Notificaciones de correo electrnico detenidas!\",\n    \"group_share_choice\": \"A qu grupo desea enviar este mensaje?\",\n    \"public_link\": \"enlace pblico\",\n    \"default_group\": \"Grupo predeterminado\",\n    \"destroy_account\": \"Borrar la cuenta\",\n    \"destroy_account_explain\": \"Una vez que elimines tu cuenta, no hay vuelta atrs.\",\n    \"are_you_sure\": \"Ests seguro ?\",\n    \"share_message\": \"comparte el mensaje\",\n    \"users\": \"usuarios\",\n    \"has_posted_in\": \"ha publicado en\",\n    \"has_commented_on\": \"ha comentado\",\n    \"has_joined\": \"se has unido\",\n    \"has_left\": \"ha dejado\",\n    \"the_message_from\": \"el mensaje de\",\n    \"in\": \"en\",\n    \"lang\": \"idioma\",\n    \"reply\": \"responder\",\n    \"replies_one\": \"{{count}} respuesta\",\n    \"replies_other\":\"{{count}} respuestas\",\n    \"publish_in_group\": \"publicar en el grupo\",\n    \"search_in_group\": \"buscar en este grupo\",\n    \"changed_group_name\": \"cambi el nombre del grupo\",\n    \"to\": \"a\",\n    \"notifications\": \"notificaciones\",\n    \"mark_all_as_read\": \"marcar todo como leido\",\n    \"search_without_result\": \"Su bsqueda no coincide con ningn mensaje.\",\n    \"add_bookmark\": \"Marcar este mensaje\",\n    \"remove_bookmark\": \"Desmarcar este mensaje\",\n    \"bookmarks\": \"marcadores\",\n    \"api_key\": \"Clave API\",\n    \"reset_api_key\": \"Restablecer la clave API (se desconectar)\",\n    \"video_not_ready\": \"El video an no est listo\",\n    \"bookmark_added\": \"Mensaje agregado a marcadores !\",\n    \"bookmark_removed\": \"Mensaje eliminado de los marcadores !\",\n    \"parent_message\": \"Mensaje para padres\"\n\n}\n","{\n    \"previous_coms\": \"Voir les commentaires prcdents\",\n    \"next_coms\": \"Voir les commentaires suivants\",\n    \"ago\": \"Il y a {{duration}}\",\n    \"groups\": \"Groupes\",\n    \"login_placeholder\": \"email\",\n    \"password_placeholder\": \"mot de passe\",\n    \"new_password_placeholder\": \"nouveau mot de passe\",\n    \"confirm_password_placeholder\": \"confirmez le mot de passe\",\n    \"connect\": \"Connexion\",\n    \"submit\": \"Envoyer\",\n    \"title_placeholder\": \"Titre de votre message (optionnel)\",\n    \"text_placeholder\": \"Ecrivez votre message ici\",\n    \"upload_image\": \"Ajouter des photos\",\n    \"upload_video\": \"Ajouter des vidos\",\n    \"upload_music\": \"Ajouter des musiques\",\n    \"upload_pdf\": \"Ajouter un pdf\",\n    \"add_date\": \"Prciser une date\",\n    \"logout\": \"Se dconnecter\",\n    \"settings\": \"Paramtres\",\n    \"name\": \"Nom\",\n    \"name_input\": \"Choisissez un nom\",\n    \"login\": \"Identifiant\",\n    \"login_input\": \"Choisissez un identifiant\",\n    \"email\": \"Email\",\n    \"email_input\": \"Renseignez votre adresse mail ici\",\n    \"save_changes\": \"Sauvegarder les changements\",\n    \"password\": \"Mot de passe\",\n    \"password_input\": \"Entrez un nouveau mot de passe\",\n    \"Invalid login/password\": \"Identifiant et/ou mot de passe invalide\",\n    \"edit\": \"Editer\",\n    \"delete\": \"Supprimer\",\n    \"ask_delete_message\": \"tes-vous sr de vouloir supprimer ce message ?\",\n    \"account\": \"Compte\",\n    \"forgot_password\": \"Mot de passe oubli ?\",\n    \"password_reset_mail_sent\": \"Le mail de rinitialisation a bien t envoy !\",\n    \"User not found\": \"Utilisateur inexistant\",\n    \"reset_password_title\": \"Rinitialisation de votre mot de passe\",\n    \"error\": \"Une erreur s'est produite\",\n    \"passwords_dont_match\": \"Les mots de passe ne correspondent pas\",\n    \"invitation_link\": \"Lien d'invitation\",\n    \"reset_invitation_link\": \"Rinitialiser le lien d'invitation\",\n    \"invitation_welcome\": \"Bienvenue sur Zusam ! Veuillez vous inscrire avant de rejoindre le groupe.\",\n    \"signup\": \"S'inscrire\",\n    \"create_a_group\": \"Crer un groupe\",\n    \"create_the_group\": \"Crer le groupe\",\n    \"quit_group\": \"Quitter le groupe\",\n    \"settings_updated\": \"Vos paramtres ont t mis  jour\",\n    \"group_updated\": \"Le groupe a t mis  jour !\",\n    \"group_left\": \"Vous avez quitt le groupe !\",\n    \"multiple_photos_upload\": \"Une erreur s'est produite. Essayez de tlcharger les images une par une (cela peut se produire dans certains navigateurs).\",\n    \"error_new_message\": \"Une erreur sest produite lors de lenvoi de votre message.\",\n    \"error_upload\": \"Une erreur s'est produite pendant le tlversement\",\n    \"cancel_write\": \"Voulez-vous annuler l'criture d'un nouveau message?\",\n    \"empty_message\": \"Le message est vide et ne peut tre envoy!\",\n    \"cancel\": \"Annuler\",\n    \"just_now\": \"A l'instant\",\n    \"notification_emails\": \"Mail de notification\",\n    \"none\": \"Aucun\",\n    \"hourly\": \"Une fois par heure\",\n    \"daily\": \"Journalier\",\n    \"weekly\": \"Hebdomadaire\",\n    \"monthly\": \"Mensuel\",\n    \"notification_emails_stopped\": \"Notifications par email dsactives !\",\n    \"group_share_choice\": \"A quel groupe voulez-vous envoyer ce message ?\",\n    \"public_link\": \"lien public\",\n    \"default_group\": \"Groupe par dfaut\",\n    \"destroy_account\": \"Supprimer votre compte\",\n    \"destroy_account_explain\": \"Une fois votre compte supprim, il sera impossible d'annuler l'opration.\",\n    \"are_you_sure\": \"Etes-vous sr ?\",\n    \"share_message\": \"partager le message\",\n    \"users\": \"utilisateurs\",\n    \"has_posted_in\": \"a post dans\",\n    \"has_commented_on\": \"a comment\",\n    \"has_joined\": \"a rejoint\",\n    \"has_left\": \"a quitt\",\n    \"the_message_from\": \"le message de\",\n    \"in\": \"dans\",\n    \"lang\": \"langue\",\n    \"reply\": \"rpondre\",\n    \"replies_one\": \"{{count}} rponse\",\n    \"replies_other\": \"{{count}} rponses\",\n    \"publish_in_group\": \"promouvoir le message\",\n    \"search_in_group\": \"rechercher dans le groupe\",\n    \"changed_group_name\": \"a chang le nom du groupe\",\n    \"to\": \"en\",\n    \"notifications\": \"notifications\",\n    \"mark_all_as_read\": \"tout marquer comme lu\",\n    \"search_without_result\": \"Votre recherche ne correspond  aucun message.\",\n    \"add_bookmark\": \"Ajouter aux marque-pages\",\n    \"remove_bookmark\": \"Supprimer des marque-pages\",\n    \"bookmarks\": \"marque-pages\",\n    \"api_key\": \"Clef d'API\",\n    \"reset_api_key\": \"Changer votre clef d'API (vous allez tre dconnect)\",\n    \"video_not_ready\": \"La vido n'est pas encore prte.\",\n    \"bookmark_added\": \"Message ajout aux marque-pages !\",\n    \"bookmark_removed\": \"Message supprim des marque-pages !\",\n    \"parent_message\": \"Message parent\"\n}\n","{\n    \"previous_coms\": \"Zie vorige\",\n    \"next_coms\": \"Zie volgende\",\n    \"ago\": \"{{duration}} geleden\",\n    \"groups\": \"Groepen\",\n    \"login_placeholder\": \"email\",\n    \"password_placeholder\": \"wachtwoord\",\n    \"new_password_placeholder\": \"nieuw wachtwoord\",\n    \"confirm_password_placeholder\": \"bevestig wachtwoord\",\n    \"connect\": \"Verbind\",\n    \"submit\": \"Verstuur\",\n    \"title_placeholder\": \"Titel van jouw bericht (optioneel)\",\n    \"text_placeholder\": \"Schrijf jouw bericht hier\",\n    \"upload_image\": \"Voeg foto's toe\",\n    \"upload_video\": \"Voeg filmpjes toe\",\n    \"upload_music\": \"Voeg muziek toe\",\n    \"upload_pdf\": \"Voeg PDF toe\",\n    \"add_date\": \"Voeg een datum toe\",\n    \"logout\": \"Afmelden\",\n    \"settings\": \"Instellingen\",\n    \"name\": \"Naam\",\n    \"name_input\": \"Kies een naam\",\n    \"login\": \"Aanmelden\",\n    \"login_input\": \"Kies een aanmeldingsnaam\",\n    \"email\": \"Email\",\n    \"email_input\": \"Voeg uw email adres hier in\",\n    \"save_changes\": \"Wijzigingen opslaan\",\n    \"password\": \"Wachtwoord\",\n    \"password_input\": \"Kies een nieuw wachtwoord\",\n    \"Invalid login/password\": \"Ongeldige aanmeldnaam/wachtwoord combinatie\",\n    \"edit\": \"Bewerken\",\n    \"delete\": \"Verwijderen\",\n    \"ask_delete_message\": \"Bent u zeker dat u dit bericht wil verwijderen?\",\n    \"account\": \"Account\",\n    \"groups\": \"Groepen\",\n    \"forgot_password\": \"Wachtwoord vergeten?\",\n    \"password_reset_mail_sent\": \"De wachtwoord reset link is naar uw email adres verstuurd.\",\n    \"User not found\": \"Gebruiker niet gevonden\",\n    \"reset_password_title\": \"Reset uw wachtwoord\",\n    \"error\": \"Er is een fout opgetreden\",\n    \"passwords_dont_match\": \"Wachtwoorden komen niet overeen\",\n    \"invitation_link\": \"Uitnodigings link\",\n    \"reset_invitation_link\": \"Reset uitnodiging link\",\n    \"invitation_welcome\": \"Welkom op Zusam ! Gelieve aan te melden vooraleer in een groep in te schrijven.\",\n    \"signup\": \"Inschrijven\",\n    \"create_a_group\": \"Maak een groep\",\n    \"create_the_group\": \"Maak de groep\",\n    \"quit_group\": \"Verlaat de groep\",\n    \"settings_updated\": \"Uw instellingen werden aangepast\",\n    \"group_updated\": \"De groep werd aangepast !\",\n    \"group_left\": \"U heeft de groep verlaten !\",\n    \"multiple_photos_upload\": \"Er is een fout opgetreden. Probeer foto's 1 voor 1 op te laden\",\n    \"error_new_message\": \"Er is een fout opgetreden bij het doorsturen van uw bericht.\",\n    \"error_upload\": \"Er is een fout opgetreden bij het uploaden\",\n    \"cancel_write\": \"Bent u zeker dat u dit bericht wil annuleren?\",\n    \"empty_message\": \"Dit bericht is leeg en kan niet worden verzonden !\",\n    \"cancel\": \"Annuleren\",\n    \"just_now\": \"Net\",\n    \"notification_emails\": \"Email notificaties\",\n    \"none\": \"Niets\",\n    \"hourly\": \"Elk uur\",\n    \"daily\": \"Elke dag\",\n    \"weekly\": \"Elke week\",\n    \"monthly\": \"Elke maand\",\n    \"notification_emails_stopped\": \"Email notificaties zijn gestopt !\",\n    \"group_share_choice\": \"Naar welke groep wenst u dit bericht te sturen?\",\n    \"public_link\": \"publieke link\",\n    \"default_group\": \"Standaard groep\",\n    \"destroy_account\": \"Verwijder jouw account\",\n    \"destroy_account_explain\": \"Indien u uw account verwijdert, kan deze niet meer worden teruggehaald.\",\n    \"are_you_sure\": \"Bent u zeker?\",\n    \"share_message\": \"Deel bericht\",\n    \"users\": \"gebruikers\",\n    \"has_posted_in\": \"heeft gepost in\",\n    \"has_commented_on\": \"heeft commentaar gegeven op\",\n    \"has_joined\": \"is erbij gekomen\",\n    \"has_left\": \"is weggegaan\",\n    \"the_message_from\": \"het bericht van\",\n    \"in\": \"in\",\n    \"lang\": \"taal\",\n    \"reply\": \"antwoorden\",\n    \"replies_one\": \"{{count}} antwoord\",\n    \"replies_other\":\"{{count}} antwoorden\",\n    \"publish_in_group\": \"gepubliseerd in de groep\",\n    \"search_in_group\": \"zoek in deze groep\",\n    \"changed_group_name\": \"verandert de groepsnaam\",\n    \"to\": \"aan\",\n    \"notifications\": \"notificaties\",\n    \"mark_all_as_read\": \"markeer als gelezen\",\n    \"search_without_result\": \"Er werd geen enkel bericht gevonden met deze criteria\",\n    \"add_bookmark\": \"Bookmark bericht\",\n    \"remove_bookmark\": \"Unbookmark bericht\",\n    \"bookmarks\": \"bookmarks\",\n    \"api_key\": \"API key\",\n    \"reset_api_key\": \"Reset the API key (you will be disconnected)\",\n    \"video_not_ready\": \"Video is nog niet klaar.\",\n    \"bookmark_added\": \"Bericht toegevoegd aan bookmarks !\",\n    \"bookmark_removed\": \"Bericht verwijderd uit bookmarks !\",\n    \"parent_message\": \"Parent bericht\"\n}\n","{\n    \"previous_coms\": \"Pozri predchdzajce komentre\",\n    \"next_coms\": \"Pozri nasledujce komentre\",\n    \"ago\": \"{{duration}} sp\",\n    \"groups\": \"Skupiny\",\n    \"login_placeholder\": \"email\",\n    \"password_placeholder\": \"heslo\",\n    \"new_password_placeholder\": \"nov heslo\",\n    \"confirm_password_placeholder\": \"potvrdi heslo\",\n    \"connect\": \"Connection\",\n    \"submit\": \"Odosla\",\n    \"title_placeholder\": \"Nadpis vho prspevku (nie je povinn)\",\n    \"text_placeholder\": \"Tu nap prspevok\",\n    \"upload_image\": \"Prida fotografie\",\n    \"upload_video\": \"Prida vide\",\n    \"upload_music\": \"Prida hudbu\",\n    \"upload_pdf\": \"Prida pdf\",\n    \"add_date\": \"Prida dtum\",\n    \"logout\": \"Odhlsi\",\n    \"settings\": \"Nastavenia\",\n    \"name\": \"Meno\",\n    \"name_input\": \"Zvo si nejak meno\",\n    \"login\": \"Login\",\n    \"login_input\": \"Zvo si nejak prihlasovacie meno\",\n    \"email\": \"Email\",\n    \"email_input\": \"Nap tvoj email sem\",\n    \"save_changes\": \"Uloi zmeny\",\n    \"password\": \"Heslo\",\n    \"password_input\": \"Tu nap heslo\",\n    \"Invalid login/password\": \"Nesprvny login alebo heslo\",\n    \"edit\": \"Upravi\",\n    \"delete\": \"Zmaza\",\n    \"ask_delete_message\": \"Si si ist, e chce zmaza tento prspevok?\",\n    \"account\": \"et\",\n    \"groups\": \"Skupiny\",\n    \"forgot_password\": \"Zabudol si svoje heslo?\",\n    \"password_reset_mail_sent\": \"Email s informciami o nastaven novho hesla bol odoslan!\",\n    \"User not found\": \"Neexistujci uvate\",\n    \"reset_password_title\": \"Zmena hesla\",\n    \"error\": \"Chyba\",\n    \"passwords_dont_match\": \"Hesl sa nezhoduj\",\n    \"invitation_link\": \"Pozvac odkaz\",\n    \"reset_invitation_link\": \"Reset invitation link\",\n    \"invitation_welcome\": \"Vitajte v Zusam ! Zaregistrujte sa pred pripojenm sa ku skupine.\",\n    \"signup\": \"Prihlsi\",\n    \"create_a_group\": \"Vytvori skupinu\",\n    \"create_the_group\": \"Vytvori skupinu\",\n    \"quit_group\": \"Opusti skupinu\",\n    \"settings_updated\": \"Vae nastavenia boli zmenen\",\n    \"group_updated\": \"Nastavenia skupiny boli zmenen\",\n    \"group_left\": \"Opustili ste skupinu\",\n    \"multiple_photos_upload\": \"Objavila sa chyba. Skste priloi obrzky po jednom (tto chyba sa me objavova v niektorch prehliadaoch)\",\n    \"error_new_message\": \"Pri odosielan prspevku sa objavila chyba\",\n    \"error_upload\": \"Objavila sa chyba poas odosielania\",\n    \"cancel_write\": \"Chcete naozaj zrui vytvranie novho prspevku?\",\n    \"empty_message\": \"Przdna sprva neme by odoslan\",\n    \"cancel\": \"Zrui\",\n    \"just_now\": \"Prve teraz\",\n    \"notification_emails\": \"Notifikan email\",\n    \"none\": \"iadne\",\n    \"hourly\": \"Kad hodinu\",\n    \"daily\": \"Denne\",\n    \"weekly\": \"Tdenne\",\n    \"monthly\": \"Mesane\",\n    \"notification_emails_stopped\": \"E-mailov upozornenia sa zastavili!\",\n    \"group_share_choice\": \"Do ktorej skupiny chcete odosla tto sprvu ?\",\n    \"public_link\": \"verejn spojenie\",\n    \"default_group\": \"Predvolen skupinu\",\n    \"destroy_account\": \"Odstrte svoj et\",\n    \"destroy_account_explain\": \"Po odstrnen tu sa u nevrti\",\n    \"are_you_sure\": \"Si si ist ?\",\n    \"share_message\": \"zdieajte sprvu\",\n    \"users\": \"uvatelia\",\n    \"has_posted_in\": \"zverejnila v\",\n    \"has_commented_on\": \"komentoval\",\n    \"has_joined\": \"sa pripojil k\",\n    \"has_left\": \"opustil\",\n    \"the_message_from\": \"sprva od\",\n    \"in\": \"v\",\n    \"lang\": \"jazyk\",\n    \"reply\": \"odpove\",\n    \"replies_one\": \"{{count}} odpove\",\n    \"replies_other\":\"{{count}} odpoved\",\n    \"publish_in_group\": \"publikova v skupine\",\n    \"search_in_group\": \"hada v tejto skupine\",\n    \"changed_group_name\": \"zmenil nzov skupiny\",\n    \"to\": \"na\",\n    \"notifications\": \"oznmenia\",\n    \"mark_all_as_read\": \"oznai vetko ako pretan\",\n    \"search_without_result\": \"Vmu vyhadvaniu nezodpoved iadna sprva\",\n    \"add_bookmark\": \"Tto sprvu uloi medzi zloky\",\n    \"remove_bookmark\": \"Zrute oznaenie tejto sprvy\",\n    \"bookmarks\": \"zloky\",\n    \"api_key\": \"K API\",\n    \"reset_api_key\": \"Obnovte k rozhrania API (budete odpojen)\",\n    \"video_not_ready\": \"Video ete nie je pripraven\",\n    \"bookmark_added\": \"Sprva pridan do zloiek !\",\n    \"bookmark_removed\": \"Sprva bola odstrnen zo zloiek !\",\n    \"parent_message\": \"Sprva rodia\"\n\n}\n","import http from \"./http.js\";\nimport store from \"/src/store\";\n\nconst notifications = {\n\n  LIMIT: 20,\n\n  get() {\n    return store.get()?.notifications || [];\n  },\n\n  update() {\n    return http.get(`/api/me/notifications/${notifications.LIMIT + 1}`).then(r => {\n      store.dispatch(\"notifications/update\", r);\n    });\n  },\n\n  isNew(id) {\n    let state = store.get();\n    if (Array.isArray(state[\"notifications\"])) {\n      return state.notifications.filter(n => !n.read).some(\n        n =>\n          notifications.matchNotification(n, id) ||\n          (n.type == \"new_comment\" && n.fromMessage.id === id)\n      );\n    }\n    return false;\n  },\n\n  removeAllNotifications() {\n    let state = store.get();\n    if (Array.isArray(state[\"notifications\"])) {\n      state.notifications.forEach(n => {\n        http.delete(`/api/notifications/${n.id}`).then(() => {\n          store.dispatch(\"notifications/remove\", n);\n        });\n      });\n    }\n  },\n\n  markAllNotificationsAsRead() {\n    let state = store.get();\n    if (Array.isArray(state[\"notifications\"])) {\n      state.notifications.forEach(n => {\n        http.put(`/api/notifications/${n.id}`, {read: true}).then(() => {\n          store.dispatch(\"notifications/read\", n);\n        });\n      });\n    }\n  },\n\n  removeMatchingNotifications(id) {\n    return Promise.all(\n      store.get().notifications\n        .filter(n => notifications.matchNotification(n, id))\n        .map(n => {\n          http.delete(`/api/notifications/${n.id}`).then(() => {\n            store.dispatch(\"notifications/remove\", n);\n          });\n        })\n    );\n  },\n\n  markAsRead(id) {\n    return Promise.all(\n      store.get().notifications\n        .filter(n => notifications.matchNotification(n, id))\n        .map(n => {\n          http.put(`/api/notifications/${n.id}`, {read: true}).then(() => {\n            store.dispatch(\"notifications/read\", n);\n          });\n        })\n    );\n  },\n\n  matchNotification(notif, id) {\n    if (notif.id === id) {\n      return true;\n    }\n    if (notif.target === id) {\n      return true;\n    }\n    return false;\n  },\n};\n\nexport default notifications;\n","import http from \"./http.js\";\nimport store from \"/src/store\";\n\nconst bookmarks_utils = {\n\n  LIMIT: 1000,\n\n  get() {\n    return store.get()?.bookmarks || [];\n  },\n\n  update() {\n    return http.get(`/api/me/bookmarks/${bookmarks_utils.LIMIT + 1}`).then(r => {\n      store.dispatch(\"bookmarks/update\", r);\n    });\n  },\n};\n\nexport default bookmarks_utils;\n","import util from \"./util.js\";\nimport http from \"./http.js\";\nimport store from \"/src/store\";\n\nconst router = {\n\n  get() {\n    return store.get();\n  },\n\n  get route() {\n    try {\n      return router.removeSubpath(location.pathname).slice(1).split(\"/\")[0];\n    } catch {\n      return \"\";\n    }\n  },\n\n  get id() {\n    try {\n      return router.removeSubpath(location.pathname).slice(1).split(\"/\")[1];\n    } catch {\n      return \"\";\n    }\n  },\n\n  get action() {\n    try {\n      return router.removeSubpath(location.pathname).slice(1).split(\"/\")[2];\n    } catch {\n      return \"\";\n    }\n  },\n\n  get backUrl() {\n    console.err(\"don't use backUrl\");\n    return store.get()?.backUrl;\n  },\n\n  get search() {\n    return location.search.slice(1);\n  },\n\n  getEntity() {\n    if (router.isEntity(router.route)) {\n      return http.get(`/api/${router.route}/${router.id}`);\n    }\n    return Promise.resolve(null);\n  },\n\n  get entity() {\n    console.err(\"don't use entity\");\n    return store.get()?.entity;\n  },\n\n  removeSubpath: path =>\n    path ? path.replace(new RegExp(`^${util.getSubpath()}`), \"\") : \"\",\n\n  getParam: (param, searchParams = window.location.search.substring(1)) => {\n    let res = searchParams.split(\"&\").find(e => e.split(\"=\")[0] === param);\n    return res ? decodeURIComponent(res.split(\"=\")[1]) : \"\";\n  },\n\n  getSegments: () =>\n    router\n      .removeSubpath(window.location.pathname)\n      .slice(1)\n      .split(\"?\")[0]\n      .split(\"/\"),\n\n  // check if route is \"outside\": accessible to non connected user\n  isOutside: () =>\n    [\n      \"login\",\n      \"password-reset\",\n      \"signup\",\n      \"invitation\",\n      \"stop-notification-emails\",\n      \"public\"\n    ].includes(router.route || router.getSegments()[0]),\n\n  isEntity: () => [\"messages\", \"groups\", \"users\", \"links\", \"files\"].includes(router.getSegments()[0]),\n\n  getUrlComponents: url => {\n    let components = {};\n    if (url) {\n      components.url = new URL(url);\n      components.path = components.url.pathname;\n      components.search = components.url.search.slice(1);\n      [components.route, components.id, components.action] = router\n        .removeSubpath(components.path)\n        .slice(1)\n        .split(\"/\");\n    }\n    components.entityType = \"\";\n    components.backUrl = \"\";\n    return components;\n  },\n};\nexport default router;\n","import _Login from \"./login.component.js\";\nimport _PasswordReset from \"./password-reset.component.js\";\nimport _Signup from \"./signup.component.js\";\nimport _StopNotificationEmails from \"./stop-notification-emails.component.js\";\nimport _Public from \"./public.component.js\";\n\nexport const Login = _Login;\nexport const PasswordReset = _PasswordReset;\nexport const Signup = _Signup;\nexport const StopNotificationEmails = _StopNotificationEmails;\nexport const Public = _Public;\n","import { h } from \"preact\";\nimport { alert, storage, http, me } from \"/src/core\";\nimport { useTranslation } from \"react-i18next\";\nimport { useEffect, useState } from \"preact/hooks\";\nimport { useNavigate } from \"react-router-dom\";\n\nexport default function Login() {\n\n  const [sending, setSending] = useState(false);\n  const [showResetPassword, setShowResetPassword] = useState(false);\n  const navigate = useNavigate();\n  const { t } = useTranslation();\n\n  useEffect(() => {\n    // reroute if already logged in\n    storage.get(\"apiKey\").then(apiKey => apiKey && navigate(\"/\"));\n    storage.reset();\n  }, []);\n\n  const sendPasswordReset = e => {\n    e.preventDefault();\n    let login = document.getElementById(\"login\").value || \"\";\n    login.toLowerCase();\n    setSending(true);\n    http.post(\"/api/password-reset-mail\", { mail: login }).then(res => {\n      setSending(false);\n      if (res && !res.message) {\n        alert.add(t(\"password_reset_mail_sent\"));\n      } else {\n        alert.add(t(res.message), \"alert-danger\");\n      }\n    });\n  };\n\n  const sendLoginForm = e => {\n    e.preventDefault();\n    setSending(true);\n    let login = document.getElementById(\"login\").value || \"\";\n    login.toLowerCase();\n    const password = document.getElementById(\"password\").value;\n    http.post(\"/api/login\", {login, password}).then(res => {\n      setSending(false);\n      if (res && res.api_key) {\n        storage.set(\"apiKey\", res.api_key).then(() => {\n          me.update().then(user => {\n            let redirect = \"/create-group\";\n            if (user.data?.default_group) {\n              redirect = `/groups/${user?.data[\"default_group\"]}`;\n            } else if (user?.groups[0]) {\n              redirect = `/groups/${user?.groups[0].id}`;\n            }\n            navigate(redirect);\n          });\n        });\n      } else if (res && res.message) {\n        alert.add(t(res.message), \"alert-danger\");\n      } else {\n        alert.add(t(\"error\"), \"alert-danger\");\n      }\n    });\n  };\n\n  return (\n    <div class=\"login\">\n      <div class=\"login-form\">\n        <img src={new URL(\"/src/assets/zusam_logo.svg\", import.meta.url)} />\n        {!showResetPassword && (\n          <form>\n            <div class=\"form-group mb-3\">\n              <input\n                type=\"email\"\n                class=\"form-control\"\n                required\n                id=\"login\"\n                placeholder={t(\"login_placeholder\")}\n              />\n            </div>\n            <div class=\"form-group\">\n              <input\n                type=\"password\"\n                class=\"form-control\"\n                required\n                id=\"password\"\n                placeholder={t(\"password_placeholder\")}\n              />\n            </div>\n            <div class=\"forgot-password\">\n              <span onClick={() => setShowResetPassword(true)}>\n                {t(\"forgot_password\")}\n              </span>\n            </div>\n            <button\n              type=\"submit\"\n              class=\"btn btn-light\"\n              onClick={e => sendLoginForm(e)}\n              disabled={sending}\n            >\n              {t(\"connect\")}\n            </button>\n          </form>\n        )}\n        {!!showResetPassword && (\n          <form>\n            <div class=\"form-group mb-3\">\n              <input\n                type=\"email\"\n                class=\"form-control\"\n                required\n                id=\"login\"\n                placeholder={t(\"login_placeholder\")}\n              />\n            </div>\n            <button\n              type=\"submit\"\n              class=\"btn btn-light\"\n              onClick={e => sendPasswordReset(e)}\n              disabled={sending}\n            >\n              {t(\"submit\")}\n            </button>\n          </form>\n        )}\n      </div>\n    </div>\n  );\n}\n","/**\n * React Router DOM v6.15.0\n *\n * Copyright (c) Remix Software Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */\nimport * as React from 'react';\nimport { UNSAFE_mapRouteProperties, Router, UNSAFE_NavigationContext, useHref, useResolvedPath, useLocation, UNSAFE_DataRouterStateContext, useNavigate, createPath, UNSAFE_useRouteId, UNSAFE_RouteContext, useMatches, useNavigation, unstable_useBlocker, UNSAFE_DataRouterContext } from 'react-router';\nexport { AbortedDeferredError, Await, MemoryRouter, Navigate, NavigationType, Outlet, Route, Router, RouterProvider, Routes, UNSAFE_DataRouterContext, UNSAFE_DataRouterStateContext, UNSAFE_LocationContext, UNSAFE_NavigationContext, UNSAFE_RouteContext, UNSAFE_useRouteId, createMemoryRouter, createPath, createRoutesFromChildren, createRoutesFromElements, defer, generatePath, isRouteErrorResponse, json, matchPath, matchRoutes, parsePath, redirect, redirectDocument, renderMatches, resolvePath, unstable_useBlocker, useActionData, useAsyncError, useAsyncValue, useHref, useInRouterContext, useLoaderData, useLocation, useMatch, useMatches, useNavigate, useNavigation, useNavigationType, useOutlet, useOutletContext, useParams, useResolvedPath, useRevalidator, useRouteError, useRouteLoaderData, useRoutes } from 'react-router';\nimport { stripBasename, UNSAFE_warning, createRouter, createBrowserHistory, createHashHistory, ErrorResponse, UNSAFE_invariant, joinPaths } from '@remix-run/router';\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\n\nconst defaultMethod = \"get\";\nconst defaultEncType = \"application/x-www-form-urlencoded\";\nfunction isHtmlElement(object) {\n  return object != null && typeof object.tagName === \"string\";\n}\nfunction isButtonElement(object) {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"button\";\n}\nfunction isFormElement(object) {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"form\";\n}\nfunction isInputElement(object) {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"input\";\n}\nfunction isModifiedEvent(event) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n}\nfunction shouldProcessLinkClick(event, target) {\n  return event.button === 0 && (\n  // Ignore everything but left clicks\n  !target || target === \"_self\") &&\n  // Let browser handle \"target=_blank\" etc.\n  !isModifiedEvent(event) // Ignore clicks with modifier keys\n  ;\n}\n/**\n * Creates a URLSearchParams object using the given initializer.\n *\n * This is identical to `new URLSearchParams(init)` except it also\n * supports arrays as values in the object form of the initializer\n * instead of just strings. This is convenient when you need multiple\n * values for a given key, but don't want to use an array initializer.\n *\n * For example, instead of:\n *\n *   let searchParams = new URLSearchParams([\n *     ['sort', 'name'],\n *     ['sort', 'price']\n *   ]);\n *\n * you can do:\n *\n *   let searchParams = createSearchParams({\n *     sort: ['name', 'price']\n *   });\n */\nfunction createSearchParams(init) {\n  if (init === void 0) {\n    init = \"\";\n  }\n  return new URLSearchParams(typeof init === \"string\" || Array.isArray(init) || init instanceof URLSearchParams ? init : Object.keys(init).reduce((memo, key) => {\n    let value = init[key];\n    return memo.concat(Array.isArray(value) ? value.map(v => [key, v]) : [[key, value]]);\n  }, []));\n}\nfunction getSearchParamsForLocation(locationSearch, defaultSearchParams) {\n  let searchParams = createSearchParams(locationSearch);\n  if (defaultSearchParams) {\n    // Use `defaultSearchParams.forEach(...)` here instead of iterating of\n    // `defaultSearchParams.keys()` to work-around a bug in Firefox related to\n    // web extensions. Relevant Bugzilla tickets:\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=1414602\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=1023984\n    defaultSearchParams.forEach((_, key) => {\n      if (!searchParams.has(key)) {\n        defaultSearchParams.getAll(key).forEach(value => {\n          searchParams.append(key, value);\n        });\n      }\n    });\n  }\n  return searchParams;\n}\n// One-time check for submitter support\nlet _formDataSupportsSubmitter = null;\nfunction isFormDataSubmitterSupported() {\n  if (_formDataSupportsSubmitter === null) {\n    try {\n      new FormData(document.createElement(\"form\"),\n      // @ts-expect-error if FormData supports the submitter parameter, this will throw\n      0);\n      _formDataSupportsSubmitter = false;\n    } catch (e) {\n      _formDataSupportsSubmitter = true;\n    }\n  }\n  return _formDataSupportsSubmitter;\n}\nconst supportedFormEncTypes = new Set([\"application/x-www-form-urlencoded\", \"multipart/form-data\", \"text/plain\"]);\nfunction getFormEncType(encType) {\n  if (encType != null && !supportedFormEncTypes.has(encType)) {\n    process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(false, \"\\\"\" + encType + \"\\\" is not a valid `encType` for `<Form>`/`<fetcher.Form>` \" + (\"and will default to \\\"\" + defaultEncType + \"\\\"\")) : void 0;\n    return null;\n  }\n  return encType;\n}\nfunction getFormSubmissionInfo(target, basename) {\n  let method;\n  let action;\n  let encType;\n  let formData;\n  let body;\n  if (isFormElement(target)) {\n    // When grabbing the action from the element, it will have had the basename\n    // prefixed to ensure non-JS scenarios work, so strip it since we'll\n    // re-prefix in the router\n    let attr = target.getAttribute(\"action\");\n    action = attr ? stripBasename(attr, basename) : null;\n    method = target.getAttribute(\"method\") || defaultMethod;\n    encType = getFormEncType(target.getAttribute(\"enctype\")) || defaultEncType;\n    formData = new FormData(target);\n  } else if (isButtonElement(target) || isInputElement(target) && (target.type === \"submit\" || target.type === \"image\")) {\n    let form = target.form;\n    if (form == null) {\n      throw new Error(\"Cannot submit a <button> or <input type=\\\"submit\\\"> without a <form>\");\n    }\n    // <button>/<input type=\"submit\"> may override attributes of <form>\n    // When grabbing the action from the element, it will have had the basename\n    // prefixed to ensure non-JS scenarios work, so strip it since we'll\n    // re-prefix in the router\n    let attr = target.getAttribute(\"formaction\") || form.getAttribute(\"action\");\n    action = attr ? stripBasename(attr, basename) : null;\n    method = target.getAttribute(\"formmethod\") || form.getAttribute(\"method\") || defaultMethod;\n    encType = getFormEncType(target.getAttribute(\"formenctype\")) || getFormEncType(form.getAttribute(\"enctype\")) || defaultEncType;\n    // Build a FormData object populated from a form and submitter\n    formData = new FormData(form, target);\n    // If this browser doesn't support the `FormData(el, submitter)` format,\n    // then tack on the submitter value at the end.  This is a lightweight\n    // solution that is not 100% spec compliant.  For complete support in older\n    // browsers, consider using the `formdata-submitter-polyfill` package\n    if (!isFormDataSubmitterSupported()) {\n      let {\n        name,\n        type,\n        value\n      } = target;\n      if (type === \"image\") {\n        let prefix = name ? name + \".\" : \"\";\n        formData.append(prefix + \"x\", \"0\");\n        formData.append(prefix + \"y\", \"0\");\n      } else if (name) {\n        formData.append(name, value);\n      }\n    }\n  } else if (isHtmlElement(target)) {\n    throw new Error(\"Cannot submit element that is not <form>, <button>, or \" + \"<input type=\\\"submit|image\\\">\");\n  } else {\n    method = defaultMethod;\n    action = null;\n    encType = defaultEncType;\n    body = target;\n  }\n  // Send body for <Form encType=\"text/plain\" so we encode it into text\n  if (formData && encType === \"text/plain\") {\n    body = formData;\n    formData = undefined;\n  }\n  return {\n    action,\n    method: method.toLowerCase(),\n    encType,\n    formData,\n    body\n  };\n}\n\nconst _excluded = [\"onClick\", \"relative\", \"reloadDocument\", \"replace\", \"state\", \"target\", \"to\", \"preventScrollReset\"],\n  _excluded2 = [\"aria-current\", \"caseSensitive\", \"className\", \"end\", \"style\", \"to\", \"children\"],\n  _excluded3 = [\"reloadDocument\", \"replace\", \"state\", \"method\", \"action\", \"onSubmit\", \"submit\", \"relative\", \"preventScrollReset\"];\nfunction createBrowserRouter(routes, opts) {\n  return createRouter({\n    basename: opts == null ? void 0 : opts.basename,\n    future: _extends({}, opts == null ? void 0 : opts.future, {\n      v7_prependBasename: true\n    }),\n    history: createBrowserHistory({\n      window: opts == null ? void 0 : opts.window\n    }),\n    hydrationData: (opts == null ? void 0 : opts.hydrationData) || parseHydrationData(),\n    routes,\n    mapRouteProperties: UNSAFE_mapRouteProperties\n  }).initialize();\n}\nfunction createHashRouter(routes, opts) {\n  return createRouter({\n    basename: opts == null ? void 0 : opts.basename,\n    future: _extends({}, opts == null ? void 0 : opts.future, {\n      v7_prependBasename: true\n    }),\n    history: createHashHistory({\n      window: opts == null ? void 0 : opts.window\n    }),\n    hydrationData: (opts == null ? void 0 : opts.hydrationData) || parseHydrationData(),\n    routes,\n    mapRouteProperties: UNSAFE_mapRouteProperties\n  }).initialize();\n}\nfunction parseHydrationData() {\n  var _window;\n  let state = (_window = window) == null ? void 0 : _window.__staticRouterHydrationData;\n  if (state && state.errors) {\n    state = _extends({}, state, {\n      errors: deserializeErrors(state.errors)\n    });\n  }\n  return state;\n}\nfunction deserializeErrors(errors) {\n  if (!errors) return null;\n  let entries = Object.entries(errors);\n  let serialized = {};\n  for (let [key, val] of entries) {\n    // Hey you!  If you change this, please change the corresponding logic in\n    // serializeErrors in react-router-dom/server.tsx :)\n    if (val && val.__type === \"RouteErrorResponse\") {\n      serialized[key] = new ErrorResponse(val.status, val.statusText, val.data, val.internal === true);\n    } else if (val && val.__type === \"Error\") {\n      // Attempt to reconstruct the right type of Error (i.e., ReferenceError)\n      if (val.__subType) {\n        let ErrorConstructor = window[val.__subType];\n        if (typeof ErrorConstructor === \"function\") {\n          try {\n            // @ts-expect-error\n            let error = new ErrorConstructor(val.message);\n            // Wipe away the client-side stack trace.  Nothing to fill it in with\n            // because we don't serialize SSR stack traces for security reasons\n            error.stack = \"\";\n            serialized[key] = error;\n          } catch (e) {\n            // no-op - fall through and create a normal Error\n          }\n        }\n      }\n      if (serialized[key] == null) {\n        let error = new Error(val.message);\n        // Wipe away the client-side stack trace.  Nothing to fill it in with\n        // because we don't serialize SSR stack traces for security reasons\n        error.stack = \"\";\n        serialized[key] = error;\n      }\n    } else {\n      serialized[key] = val;\n    }\n  }\n  return serialized;\n}\n//#endregion\n////////////////////////////////////////////////////////////////////////////////\n//#region Components\n////////////////////////////////////////////////////////////////////////////////\n/**\n  Webpack + React 17 fails to compile on any of the following because webpack\n  complains that `startTransition` doesn't exist in `React`:\n  * import { startTransition } from \"react\"\n  * import * as React from from \"react\";\n    \"startTransition\" in React ? React.startTransition(() => setState()) : setState()\n  * import * as React from from \"react\";\n    \"startTransition\" in React ? React[\"startTransition\"](() => setState()) : setState()\n\n  Moving it to a constant such as the following solves the Webpack/React 17 issue:\n  * import * as React from from \"react\";\n    const START_TRANSITION = \"startTransition\";\n    START_TRANSITION in React ? React[START_TRANSITION](() => setState()) : setState()\n\n  However, that introduces webpack/terser minification issues in production builds\n  in React 18 where minification/obfuscation ends up removing the call of\n  React.startTransition entirely from the first half of the ternary.  Grabbing\n  this exported reference once up front resolves that issue.\n\n  See https://github.com/remix-run/react-router/issues/10579\n*/\nconst START_TRANSITION = \"startTransition\";\nconst startTransitionImpl = React[START_TRANSITION];\n/**\n * A `<Router>` for use in web browsers. Provides the cleanest URLs.\n */\nfunction BrowserRouter(_ref) {\n  let {\n    basename,\n    children,\n    future,\n    window\n  } = _ref;\n  let historyRef = React.useRef();\n  if (historyRef.current == null) {\n    historyRef.current = createBrowserHistory({\n      window,\n      v5Compat: true\n    });\n  }\n  let history = historyRef.current;\n  let [state, setStateImpl] = React.useState({\n    action: history.action,\n    location: history.location\n  });\n  let {\n    v7_startTransition\n  } = future || {};\n  let setState = React.useCallback(newState => {\n    v7_startTransition && startTransitionImpl ? startTransitionImpl(() => setStateImpl(newState)) : setStateImpl(newState);\n  }, [setStateImpl, v7_startTransition]);\n  React.useLayoutEffect(() => history.listen(setState), [history, setState]);\n  return /*#__PURE__*/React.createElement(Router, {\n    basename: basename,\n    children: children,\n    location: state.location,\n    navigationType: state.action,\n    navigator: history\n  });\n}\n/**\n * A `<Router>` for use in web browsers. Stores the location in the hash\n * portion of the URL so it is not sent to the server.\n */\nfunction HashRouter(_ref2) {\n  let {\n    basename,\n    children,\n    future,\n    window\n  } = _ref2;\n  let historyRef = React.useRef();\n  if (historyRef.current == null) {\n    historyRef.current = createHashHistory({\n      window,\n      v5Compat: true\n    });\n  }\n  let history = historyRef.current;\n  let [state, setStateImpl] = React.useState({\n    action: history.action,\n    location: history.location\n  });\n  let {\n    v7_startTransition\n  } = future || {};\n  let setState = React.useCallback(newState => {\n    v7_startTransition && startTransitionImpl ? startTransitionImpl(() => setStateImpl(newState)) : setStateImpl(newState);\n  }, [setStateImpl, v7_startTransition]);\n  React.useLayoutEffect(() => history.listen(setState), [history, setState]);\n  return /*#__PURE__*/React.createElement(Router, {\n    basename: basename,\n    children: children,\n    location: state.location,\n    navigationType: state.action,\n    navigator: history\n  });\n}\n/**\n * A `<Router>` that accepts a pre-instantiated history object. It's important\n * to note that using your own history object is highly discouraged and may add\n * two versions of the history library to your bundles unless you use the same\n * version of the history library that React Router uses internally.\n */\nfunction HistoryRouter(_ref3) {\n  let {\n    basename,\n    children,\n    future,\n    history\n  } = _ref3;\n  let [state, setStateImpl] = React.useState({\n    action: history.action,\n    location: history.location\n  });\n  let {\n    v7_startTransition\n  } = future || {};\n  let setState = React.useCallback(newState => {\n    v7_startTransition && startTransitionImpl ? startTransitionImpl(() => setStateImpl(newState)) : setStateImpl(newState);\n  }, [setStateImpl, v7_startTransition]);\n  React.useLayoutEffect(() => history.listen(setState), [history, setState]);\n  return /*#__PURE__*/React.createElement(Router, {\n    basename: basename,\n    children: children,\n    location: state.location,\n    navigationType: state.action,\n    navigator: history\n  });\n}\nif (process.env.NODE_ENV !== \"production\") {\n  HistoryRouter.displayName = \"unstable_HistoryRouter\";\n}\nconst isBrowser = typeof window !== \"undefined\" && typeof window.document !== \"undefined\" && typeof window.document.createElement !== \"undefined\";\nconst ABSOLUTE_URL_REGEX = /^(?:[a-z][a-z0-9+.-]*:|\\/\\/)/i;\n/**\n * The public API for rendering a history-aware <a>.\n */\nconst Link = /*#__PURE__*/React.forwardRef(function LinkWithRef(_ref4, ref) {\n  let {\n      onClick,\n      relative,\n      reloadDocument,\n      replace,\n      state,\n      target,\n      to,\n      preventScrollReset\n    } = _ref4,\n    rest = _objectWithoutPropertiesLoose(_ref4, _excluded);\n  let {\n    basename\n  } = React.useContext(UNSAFE_NavigationContext);\n  // Rendered into <a href> for absolute URLs\n  let absoluteHref;\n  let isExternal = false;\n  if (typeof to === \"string\" && ABSOLUTE_URL_REGEX.test(to)) {\n    // Render the absolute href server- and client-side\n    absoluteHref = to;\n    // Only check for external origins client-side\n    if (isBrowser) {\n      try {\n        let currentUrl = new URL(window.location.href);\n        let targetUrl = to.startsWith(\"//\") ? new URL(currentUrl.protocol + to) : new URL(to);\n        let path = stripBasename(targetUrl.pathname, basename);\n        if (targetUrl.origin === currentUrl.origin && path != null) {\n          // Strip the protocol/origin/basename for same-origin absolute URLs\n          to = path + targetUrl.search + targetUrl.hash;\n        } else {\n          isExternal = true;\n        }\n      } catch (e) {\n        // We can't do external URL detection without a valid URL\n        process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(false, \"<Link to=\\\"\" + to + \"\\\"> contains an invalid URL which will probably break \" + \"when clicked - please update to a valid URL path.\") : void 0;\n      }\n    }\n  }\n  // Rendered into <a href> for relative URLs\n  let href = useHref(to, {\n    relative\n  });\n  let internalOnClick = useLinkClickHandler(to, {\n    replace,\n    state,\n    target,\n    preventScrollReset,\n    relative\n  });\n  function handleClick(event) {\n    if (onClick) onClick(event);\n    if (!event.defaultPrevented) {\n      internalOnClick(event);\n    }\n  }\n  return (\n    /*#__PURE__*/\n    // eslint-disable-next-line jsx-a11y/anchor-has-content\n    React.createElement(\"a\", _extends({}, rest, {\n      href: absoluteHref || href,\n      onClick: isExternal || reloadDocument ? onClick : handleClick,\n      ref: ref,\n      target: target\n    }))\n  );\n});\nif (process.env.NODE_ENV !== \"production\") {\n  Link.displayName = \"Link\";\n}\n/**\n * A <Link> wrapper that knows if it's \"active\" or not.\n */\nconst NavLink = /*#__PURE__*/React.forwardRef(function NavLinkWithRef(_ref5, ref) {\n  let {\n      \"aria-current\": ariaCurrentProp = \"page\",\n      caseSensitive = false,\n      className: classNameProp = \"\",\n      end = false,\n      style: styleProp,\n      to,\n      children\n    } = _ref5,\n    rest = _objectWithoutPropertiesLoose(_ref5, _excluded2);\n  let path = useResolvedPath(to, {\n    relative: rest.relative\n  });\n  let location = useLocation();\n  let routerState = React.useContext(UNSAFE_DataRouterStateContext);\n  let {\n    navigator\n  } = React.useContext(UNSAFE_NavigationContext);\n  let toPathname = navigator.encodeLocation ? navigator.encodeLocation(path).pathname : path.pathname;\n  let locationPathname = location.pathname;\n  let nextLocationPathname = routerState && routerState.navigation && routerState.navigation.location ? routerState.navigation.location.pathname : null;\n  if (!caseSensitive) {\n    locationPathname = locationPathname.toLowerCase();\n    nextLocationPathname = nextLocationPathname ? nextLocationPathname.toLowerCase() : null;\n    toPathname = toPathname.toLowerCase();\n  }\n  let isActive = locationPathname === toPathname || !end && locationPathname.startsWith(toPathname) && locationPathname.charAt(toPathname.length) === \"/\";\n  let isPending = nextLocationPathname != null && (nextLocationPathname === toPathname || !end && nextLocationPathname.startsWith(toPathname) && nextLocationPathname.charAt(toPathname.length) === \"/\");\n  let ariaCurrent = isActive ? ariaCurrentProp : undefined;\n  let className;\n  if (typeof classNameProp === \"function\") {\n    className = classNameProp({\n      isActive,\n      isPending\n    });\n  } else {\n    // If the className prop is not a function, we use a default `active`\n    // class for <NavLink />s that are active. In v5 `active` was the default\n    // value for `activeClassName`, but we are removing that API and can still\n    // use the old default behavior for a cleaner upgrade path and keep the\n    // simple styling rules working as they currently do.\n    className = [classNameProp, isActive ? \"active\" : null, isPending ? \"pending\" : null].filter(Boolean).join(\" \");\n  }\n  let style = typeof styleProp === \"function\" ? styleProp({\n    isActive,\n    isPending\n  }) : styleProp;\n  return /*#__PURE__*/React.createElement(Link, _extends({}, rest, {\n    \"aria-current\": ariaCurrent,\n    className: className,\n    ref: ref,\n    style: style,\n    to: to\n  }), typeof children === \"function\" ? children({\n    isActive,\n    isPending\n  }) : children);\n});\nif (process.env.NODE_ENV !== \"production\") {\n  NavLink.displayName = \"NavLink\";\n}\n/**\n * A `@remix-run/router`-aware `<form>`. It behaves like a normal form except\n * that the interaction with the server is with `fetch` instead of new document\n * requests, allowing components to add nicer UX to the page as the form is\n * submitted and returns with data.\n */\nconst Form = /*#__PURE__*/React.forwardRef((props, ref) => {\n  let submit = useSubmit();\n  return /*#__PURE__*/React.createElement(FormImpl, _extends({}, props, {\n    submit: submit,\n    ref: ref\n  }));\n});\nif (process.env.NODE_ENV !== \"production\") {\n  Form.displayName = \"Form\";\n}\nconst FormImpl = /*#__PURE__*/React.forwardRef((_ref6, forwardedRef) => {\n  let {\n      reloadDocument,\n      replace,\n      state,\n      method = defaultMethod,\n      action,\n      onSubmit,\n      submit,\n      relative,\n      preventScrollReset\n    } = _ref6,\n    props = _objectWithoutPropertiesLoose(_ref6, _excluded3);\n  let formMethod = method.toLowerCase() === \"get\" ? \"get\" : \"post\";\n  let formAction = useFormAction(action, {\n    relative\n  });\n  let submitHandler = event => {\n    onSubmit && onSubmit(event);\n    if (event.defaultPrevented) return;\n    event.preventDefault();\n    let submitter = event.nativeEvent.submitter;\n    let submitMethod = (submitter == null ? void 0 : submitter.getAttribute(\"formmethod\")) || method;\n    submit(submitter || event.currentTarget, {\n      method: submitMethod,\n      replace,\n      state,\n      relative,\n      preventScrollReset\n    });\n  };\n  return /*#__PURE__*/React.createElement(\"form\", _extends({\n    ref: forwardedRef,\n    method: formMethod,\n    action: formAction,\n    onSubmit: reloadDocument ? onSubmit : submitHandler\n  }, props));\n});\nif (process.env.NODE_ENV !== \"production\") {\n  FormImpl.displayName = \"FormImpl\";\n}\n/**\n * This component will emulate the browser's scroll restoration on location\n * changes.\n */\nfunction ScrollRestoration(_ref7) {\n  let {\n    getKey,\n    storageKey\n  } = _ref7;\n  useScrollRestoration({\n    getKey,\n    storageKey\n  });\n  return null;\n}\nif (process.env.NODE_ENV !== \"production\") {\n  ScrollRestoration.displayName = \"ScrollRestoration\";\n}\n//#endregion\n////////////////////////////////////////////////////////////////////////////////\n//#region Hooks\n////////////////////////////////////////////////////////////////////////////////\nvar DataRouterHook;\n(function (DataRouterHook) {\n  DataRouterHook[\"UseScrollRestoration\"] = \"useScrollRestoration\";\n  DataRouterHook[\"UseSubmit\"] = \"useSubmit\";\n  DataRouterHook[\"UseSubmitFetcher\"] = \"useSubmitFetcher\";\n  DataRouterHook[\"UseFetcher\"] = \"useFetcher\";\n})(DataRouterHook || (DataRouterHook = {}));\nvar DataRouterStateHook;\n(function (DataRouterStateHook) {\n  DataRouterStateHook[\"UseFetchers\"] = \"useFetchers\";\n  DataRouterStateHook[\"UseScrollRestoration\"] = \"useScrollRestoration\";\n})(DataRouterStateHook || (DataRouterStateHook = {}));\nfunction getDataRouterConsoleError(hookName) {\n  return hookName + \" must be used within a data router.  See https://reactrouter.com/routers/picking-a-router.\";\n}\nfunction useDataRouterContext(hookName) {\n  let ctx = React.useContext(UNSAFE_DataRouterContext);\n  !ctx ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, getDataRouterConsoleError(hookName)) : UNSAFE_invariant(false) : void 0;\n  return ctx;\n}\nfunction useDataRouterState(hookName) {\n  let state = React.useContext(UNSAFE_DataRouterStateContext);\n  !state ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, getDataRouterConsoleError(hookName)) : UNSAFE_invariant(false) : void 0;\n  return state;\n}\n/**\n * Handles the click behavior for router `<Link>` components. This is useful if\n * you need to create custom `<Link>` components with the same click behavior we\n * use in our exported `<Link>`.\n */\nfunction useLinkClickHandler(to, _temp) {\n  let {\n    target,\n    replace: replaceProp,\n    state,\n    preventScrollReset,\n    relative\n  } = _temp === void 0 ? {} : _temp;\n  let navigate = useNavigate();\n  let location = useLocation();\n  let path = useResolvedPath(to, {\n    relative\n  });\n  return React.useCallback(event => {\n    if (shouldProcessLinkClick(event, target)) {\n      event.preventDefault();\n      // If the URL hasn't changed, a regular <a> will do a replace instead of\n      // a push, so do the same here unless the replace prop is explicitly set\n      let replace = replaceProp !== undefined ? replaceProp : createPath(location) === createPath(path);\n      navigate(to, {\n        replace,\n        state,\n        preventScrollReset,\n        relative\n      });\n    }\n  }, [location, navigate, path, replaceProp, state, target, to, preventScrollReset, relative]);\n}\n/**\n * A convenient wrapper for reading and writing search parameters via the\n * URLSearchParams interface.\n */\nfunction useSearchParams(defaultInit) {\n  process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(typeof URLSearchParams !== \"undefined\", \"You cannot use the `useSearchParams` hook in a browser that does not \" + \"support the URLSearchParams API. If you need to support Internet \" + \"Explorer 11, we recommend you load a polyfill such as \" + \"https://github.com/ungap/url-search-params\\n\\n\" + \"If you're unsure how to load polyfills, we recommend you check out \" + \"https://polyfill.io/v3/ which provides some recommendations about how \" + \"to load polyfills only for users that need them, instead of for every \" + \"user.\") : void 0;\n  let defaultSearchParamsRef = React.useRef(createSearchParams(defaultInit));\n  let hasSetSearchParamsRef = React.useRef(false);\n  let location = useLocation();\n  let searchParams = React.useMemo(() =>\n  // Only merge in the defaults if we haven't yet called setSearchParams.\n  // Once we call that we want those to take precedence, otherwise you can't\n  // remove a param with setSearchParams({}) if it has an initial value\n  getSearchParamsForLocation(location.search, hasSetSearchParamsRef.current ? null : defaultSearchParamsRef.current), [location.search]);\n  let navigate = useNavigate();\n  let setSearchParams = React.useCallback((nextInit, navigateOptions) => {\n    const newSearchParams = createSearchParams(typeof nextInit === \"function\" ? nextInit(searchParams) : nextInit);\n    hasSetSearchParamsRef.current = true;\n    navigate(\"?\" + newSearchParams, navigateOptions);\n  }, [navigate, searchParams]);\n  return [searchParams, setSearchParams];\n}\nfunction validateClientSideSubmission() {\n  if (typeof document === \"undefined\") {\n    throw new Error(\"You are calling submit during the server render. \" + \"Try calling submit within a `useEffect` or callback instead.\");\n  }\n}\n/**\n * Returns a function that may be used to programmatically submit a form (or\n * some arbitrary data) to the server.\n */\nfunction useSubmit() {\n  let {\n    router\n  } = useDataRouterContext(DataRouterHook.UseSubmit);\n  let {\n    basename\n  } = React.useContext(UNSAFE_NavigationContext);\n  let currentRouteId = UNSAFE_useRouteId();\n  return React.useCallback(function (target, options) {\n    if (options === void 0) {\n      options = {};\n    }\n    validateClientSideSubmission();\n    let {\n      action,\n      method,\n      encType,\n      formData,\n      body\n    } = getFormSubmissionInfo(target, basename);\n    router.navigate(options.action || action, {\n      preventScrollReset: options.preventScrollReset,\n      formData,\n      body,\n      formMethod: options.method || method,\n      formEncType: options.encType || encType,\n      replace: options.replace,\n      state: options.state,\n      fromRouteId: currentRouteId\n    });\n  }, [router, basename, currentRouteId]);\n}\n/**\n * Returns the implementation for fetcher.submit\n */\nfunction useSubmitFetcher(fetcherKey, fetcherRouteId) {\n  let {\n    router\n  } = useDataRouterContext(DataRouterHook.UseSubmitFetcher);\n  let {\n    basename\n  } = React.useContext(UNSAFE_NavigationContext);\n  return React.useCallback(function (target, options) {\n    if (options === void 0) {\n      options = {};\n    }\n    validateClientSideSubmission();\n    let {\n      action,\n      method,\n      encType,\n      formData,\n      body\n    } = getFormSubmissionInfo(target, basename);\n    !(fetcherRouteId != null) ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"No routeId available for useFetcher()\") : UNSAFE_invariant(false) : void 0;\n    router.fetch(fetcherKey, fetcherRouteId, options.action || action, {\n      preventScrollReset: options.preventScrollReset,\n      formData,\n      body,\n      formMethod: options.method || method,\n      formEncType: options.encType || encType\n    });\n  }, [router, basename, fetcherKey, fetcherRouteId]);\n}\n// v7: Eventually we should deprecate this entirely in favor of using the\n// router method directly?\nfunction useFormAction(action, _temp2) {\n  let {\n    relative\n  } = _temp2 === void 0 ? {} : _temp2;\n  let {\n    basename\n  } = React.useContext(UNSAFE_NavigationContext);\n  let routeContext = React.useContext(UNSAFE_RouteContext);\n  !routeContext ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"useFormAction must be used inside a RouteContext\") : UNSAFE_invariant(false) : void 0;\n  let [match] = routeContext.matches.slice(-1);\n  // Shallow clone path so we can modify it below, otherwise we modify the\n  // object referenced by useMemo inside useResolvedPath\n  let path = _extends({}, useResolvedPath(action ? action : \".\", {\n    relative\n  }));\n  // Previously we set the default action to \".\". The problem with this is that\n  // `useResolvedPath(\".\")` excludes search params of the resolved URL. This is\n  // the intended behavior of when \".\" is specifically provided as\n  // the form action, but inconsistent w/ browsers when the action is omitted.\n  // https://github.com/remix-run/remix/issues/927\n  let location = useLocation();\n  if (action == null) {\n    // Safe to write to this directly here since if action was undefined, we\n    // would have called useResolvedPath(\".\") which will never include a search\n    path.search = location.search;\n    // When grabbing search params from the URL, remove the automatically\n    // inserted ?index param so we match the useResolvedPath search behavior\n    // which would not include ?index\n    if (match.route.index) {\n      let params = new URLSearchParams(path.search);\n      params.delete(\"index\");\n      path.search = params.toString() ? \"?\" + params.toString() : \"\";\n    }\n  }\n  if ((!action || action === \".\") && match.route.index) {\n    path.search = path.search ? path.search.replace(/^\\?/, \"?index&\") : \"?index\";\n  }\n  // If we're operating within a basename, prepend it to the pathname prior\n  // to creating the form action.  If this is a root navigation, then just use\n  // the raw basename which allows the basename to have full control over the\n  // presence of a trailing slash on root actions\n  if (basename !== \"/\") {\n    path.pathname = path.pathname === \"/\" ? basename : joinPaths([basename, path.pathname]);\n  }\n  return createPath(path);\n}\nfunction createFetcherForm(fetcherKey, routeId) {\n  let FetcherForm = /*#__PURE__*/React.forwardRef((props, ref) => {\n    let submit = useSubmitFetcher(fetcherKey, routeId);\n    return /*#__PURE__*/React.createElement(FormImpl, _extends({}, props, {\n      ref: ref,\n      submit: submit\n    }));\n  });\n  if (process.env.NODE_ENV !== \"production\") {\n    FetcherForm.displayName = \"fetcher.Form\";\n  }\n  return FetcherForm;\n}\nlet fetcherId = 0;\n/**\n * Interacts with route loaders and actions without causing a navigation. Great\n * for any interaction that stays on the same page.\n */\nfunction useFetcher() {\n  var _route$matches;\n  let {\n    router\n  } = useDataRouterContext(DataRouterHook.UseFetcher);\n  let route = React.useContext(UNSAFE_RouteContext);\n  !route ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"useFetcher must be used inside a RouteContext\") : UNSAFE_invariant(false) : void 0;\n  let routeId = (_route$matches = route.matches[route.matches.length - 1]) == null ? void 0 : _route$matches.route.id;\n  !(routeId != null) ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"useFetcher can only be used on routes that contain a unique \\\"id\\\"\") : UNSAFE_invariant(false) : void 0;\n  let [fetcherKey] = React.useState(() => String(++fetcherId));\n  let [Form] = React.useState(() => {\n    !routeId ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"No routeId available for fetcher.Form()\") : UNSAFE_invariant(false) : void 0;\n    return createFetcherForm(fetcherKey, routeId);\n  });\n  let [load] = React.useState(() => href => {\n    !router ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"No router available for fetcher.load()\") : UNSAFE_invariant(false) : void 0;\n    !routeId ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"No routeId available for fetcher.load()\") : UNSAFE_invariant(false) : void 0;\n    router.fetch(fetcherKey, routeId, href);\n  });\n  let submit = useSubmitFetcher(fetcherKey, routeId);\n  let fetcher = router.getFetcher(fetcherKey);\n  let fetcherWithComponents = React.useMemo(() => _extends({\n    Form,\n    submit,\n    load\n  }, fetcher), [fetcher, Form, submit, load]);\n  React.useEffect(() => {\n    // Is this busted when the React team gets real weird and calls effects\n    // twice on mount?  We really just need to garbage collect here when this\n    // fetcher is no longer around.\n    return () => {\n      if (!router) {\n        console.warn(\"No router available to clean up from useFetcher()\");\n        return;\n      }\n      router.deleteFetcher(fetcherKey);\n    };\n  }, [router, fetcherKey]);\n  return fetcherWithComponents;\n}\n/**\n * Provides all fetchers currently on the page. Useful for layouts and parent\n * routes that need to provide pending/optimistic UI regarding the fetch.\n */\nfunction useFetchers() {\n  let state = useDataRouterState(DataRouterStateHook.UseFetchers);\n  return [...state.fetchers.values()];\n}\nconst SCROLL_RESTORATION_STORAGE_KEY = \"react-router-scroll-positions\";\nlet savedScrollPositions = {};\n/**\n * When rendered inside a RouterProvider, will restore scroll positions on navigations\n */\nfunction useScrollRestoration(_temp3) {\n  let {\n    getKey,\n    storageKey\n  } = _temp3 === void 0 ? {} : _temp3;\n  let {\n    router\n  } = useDataRouterContext(DataRouterHook.UseScrollRestoration);\n  let {\n    restoreScrollPosition,\n    preventScrollReset\n  } = useDataRouterState(DataRouterStateHook.UseScrollRestoration);\n  let {\n    basename\n  } = React.useContext(UNSAFE_NavigationContext);\n  let location = useLocation();\n  let matches = useMatches();\n  let navigation = useNavigation();\n  // Trigger manual scroll restoration while we're active\n  React.useEffect(() => {\n    window.history.scrollRestoration = \"manual\";\n    return () => {\n      window.history.scrollRestoration = \"auto\";\n    };\n  }, []);\n  // Save positions on pagehide\n  usePageHide(React.useCallback(() => {\n    if (navigation.state === \"idle\") {\n      let key = (getKey ? getKey(location, matches) : null) || location.key;\n      savedScrollPositions[key] = window.scrollY;\n    }\n    sessionStorage.setItem(storageKey || SCROLL_RESTORATION_STORAGE_KEY, JSON.stringify(savedScrollPositions));\n    window.history.scrollRestoration = \"auto\";\n  }, [storageKey, getKey, navigation.state, location, matches]));\n  // Read in any saved scroll locations\n  if (typeof document !== \"undefined\") {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useLayoutEffect(() => {\n      try {\n        let sessionPositions = sessionStorage.getItem(storageKey || SCROLL_RESTORATION_STORAGE_KEY);\n        if (sessionPositions) {\n          savedScrollPositions = JSON.parse(sessionPositions);\n        }\n      } catch (e) {\n        // no-op, use default empty object\n      }\n    }, [storageKey]);\n    // Enable scroll restoration in the router\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useLayoutEffect(() => {\n      let getKeyWithoutBasename = getKey && basename !== \"/\" ? (location, matches) => getKey( // Strip the basename to match useLocation()\n      _extends({}, location, {\n        pathname: stripBasename(location.pathname, basename) || location.pathname\n      }), matches) : getKey;\n      let disableScrollRestoration = router == null ? void 0 : router.enableScrollRestoration(savedScrollPositions, () => window.scrollY, getKeyWithoutBasename);\n      return () => disableScrollRestoration && disableScrollRestoration();\n    }, [router, basename, getKey]);\n    // Restore scrolling when state.restoreScrollPosition changes\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useLayoutEffect(() => {\n      // Explicit false means don't do anything (used for submissions)\n      if (restoreScrollPosition === false) {\n        return;\n      }\n      // been here before, scroll to it\n      if (typeof restoreScrollPosition === \"number\") {\n        window.scrollTo(0, restoreScrollPosition);\n        return;\n      }\n      // try to scroll to the hash\n      if (location.hash) {\n        let el = document.getElementById(decodeURIComponent(location.hash.slice(1)));\n        if (el) {\n          el.scrollIntoView();\n          return;\n        }\n      }\n      // Don't reset if this navigation opted out\n      if (preventScrollReset === true) {\n        return;\n      }\n      // otherwise go to the top on new locations\n      window.scrollTo(0, 0);\n    }, [location, restoreScrollPosition, preventScrollReset]);\n  }\n}\n/**\n * Setup a callback to be fired on the window's `beforeunload` event. This is\n * useful for saving some data to `window.localStorage` just before the page\n * refreshes.\n *\n * Note: The `callback` argument should be a function created with\n * `React.useCallback()`.\n */\nfunction useBeforeUnload(callback, options) {\n  let {\n    capture\n  } = options || {};\n  React.useEffect(() => {\n    let opts = capture != null ? {\n      capture\n    } : undefined;\n    window.addEventListener(\"beforeunload\", callback, opts);\n    return () => {\n      window.removeEventListener(\"beforeunload\", callback, opts);\n    };\n  }, [callback, capture]);\n}\n/**\n * Setup a callback to be fired on the window's `pagehide` event. This is\n * useful for saving some data to `window.localStorage` just before the page\n * refreshes.  This event is better supported than beforeunload across browsers.\n *\n * Note: The `callback` argument should be a function created with\n * `React.useCallback()`.\n */\nfunction usePageHide(callback, options) {\n  let {\n    capture\n  } = options || {};\n  React.useEffect(() => {\n    let opts = capture != null ? {\n      capture\n    } : undefined;\n    window.addEventListener(\"pagehide\", callback, opts);\n    return () => {\n      window.removeEventListener(\"pagehide\", callback, opts);\n    };\n  }, [callback, capture]);\n}\n/**\n * Wrapper around useBlocker to show a window.confirm prompt to users instead\n * of building a custom UI with useBlocker.\n *\n * Warning: This has *a lot of rough edges* and behaves very differently (and\n * very incorrectly in some cases) across browsers if user click addition\n * back/forward navigations while the confirm is open.  Use at your own risk.\n */\nfunction usePrompt(_ref8) {\n  let {\n    when,\n    message\n  } = _ref8;\n  let blocker = unstable_useBlocker(when);\n  React.useEffect(() => {\n    if (blocker.state === \"blocked\") {\n      let proceed = window.confirm(message);\n      if (proceed) {\n        // This timeout is needed to avoid a weird \"race\" on POP navigations\n        // between the `window.history` revert navigation and the result of\n        // `window.confirm`\n        setTimeout(blocker.proceed, 0);\n      } else {\n        blocker.reset();\n      }\n    }\n  }, [blocker, message]);\n  React.useEffect(() => {\n    if (blocker.state === \"blocked\" && !when) {\n      blocker.reset();\n    }\n  }, [blocker, when]);\n}\n//#endregion\n\nexport { BrowserRouter, Form, HashRouter, Link, NavLink, ScrollRestoration, useScrollRestoration as UNSAFE_useScrollRestoration, createBrowserRouter, createHashRouter, createSearchParams, HistoryRouter as unstable_HistoryRouter, usePrompt as unstable_usePrompt, useBeforeUnload, useFetcher, useFetchers, useFormAction, useLinkClickHandler, useSearchParams, useSubmit };\n//# sourceMappingURL=index.js.map\n","import type {\n  FormEncType,\n  HTMLFormMethod,\n  RelativeRoutingType,\n} from \"@remix-run/router\";\nimport { stripBasename, UNSAFE_warning as warning } from \"@remix-run/router\";\n\nexport const defaultMethod: HTMLFormMethod = \"get\";\nconst defaultEncType: FormEncType = \"application/x-www-form-urlencoded\";\n\nexport function isHtmlElement(object: any): object is HTMLElement {\n  return object != null && typeof object.tagName === \"string\";\n}\n\nexport function isButtonElement(object: any): object is HTMLButtonElement {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"button\";\n}\n\nexport function isFormElement(object: any): object is HTMLFormElement {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"form\";\n}\n\nexport function isInputElement(object: any): object is HTMLInputElement {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"input\";\n}\n\ntype LimitedMouseEvent = Pick<\n  MouseEvent,\n  \"button\" | \"metaKey\" | \"altKey\" | \"ctrlKey\" | \"shiftKey\"\n>;\n\nfunction isModifiedEvent(event: LimitedMouseEvent) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n}\n\nexport function shouldProcessLinkClick(\n  event: LimitedMouseEvent,\n  target?: string\n) {\n  return (\n    event.button === 0 && // Ignore everything but left clicks\n    (!target || target === \"_self\") && // Let browser handle \"target=_blank\" etc.\n    !isModifiedEvent(event) // Ignore clicks with modifier keys\n  );\n}\n\nexport type ParamKeyValuePair = [string, string];\n\nexport type URLSearchParamsInit =\n  | string\n  | ParamKeyValuePair[]\n  | Record<string, string | string[]>\n  | URLSearchParams;\n\n/**\n * Creates a URLSearchParams object using the given initializer.\n *\n * This is identical to `new URLSearchParams(init)` except it also\n * supports arrays as values in the object form of the initializer\n * instead of just strings. This is convenient when you need multiple\n * values for a given key, but don't want to use an array initializer.\n *\n * For example, instead of:\n *\n *   let searchParams = new URLSearchParams([\n *     ['sort', 'name'],\n *     ['sort', 'price']\n *   ]);\n *\n * you can do:\n *\n *   let searchParams = createSearchParams({\n *     sort: ['name', 'price']\n *   });\n */\nexport function createSearchParams(\n  init: URLSearchParamsInit = \"\"\n): URLSearchParams {\n  return new URLSearchParams(\n    typeof init === \"string\" ||\n    Array.isArray(init) ||\n    init instanceof URLSearchParams\n      ? init\n      : Object.keys(init).reduce((memo, key) => {\n          let value = init[key];\n          return memo.concat(\n            Array.isArray(value) ? value.map((v) => [key, v]) : [[key, value]]\n          );\n        }, [] as ParamKeyValuePair[])\n  );\n}\n\nexport function getSearchParamsForLocation(\n  locationSearch: string,\n  defaultSearchParams: URLSearchParams | null\n) {\n  let searchParams = createSearchParams(locationSearch);\n\n  if (defaultSearchParams) {\n    // Use `defaultSearchParams.forEach(...)` here instead of iterating of\n    // `defaultSearchParams.keys()` to work-around a bug in Firefox related to\n    // web extensions. Relevant Bugzilla tickets:\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=1414602\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=1023984\n    defaultSearchParams.forEach((_, key) => {\n      if (!searchParams.has(key)) {\n        defaultSearchParams.getAll(key).forEach((value) => {\n          searchParams.append(key, value);\n        });\n      }\n    });\n  }\n\n  return searchParams;\n}\n\n// Thanks https://github.com/sindresorhus/type-fest!\ntype JsonObject = { [Key in string]: JsonValue } & {\n  [Key in string]?: JsonValue | undefined;\n};\ntype JsonArray = JsonValue[] | readonly JsonValue[];\ntype JsonPrimitive = string | number | boolean | null;\ntype JsonValue = JsonPrimitive | JsonObject | JsonArray;\n\nexport type SubmitTarget =\n  | HTMLFormElement\n  | HTMLButtonElement\n  | HTMLInputElement\n  | FormData\n  | URLSearchParams\n  | JsonValue\n  | null;\n\n// One-time check for submitter support\nlet _formDataSupportsSubmitter: boolean | null = null;\n\nfunction isFormDataSubmitterSupported() {\n  if (_formDataSupportsSubmitter === null) {\n    try {\n      new FormData(\n        document.createElement(\"form\"),\n        // @ts-expect-error if FormData supports the submitter parameter, this will throw\n        0\n      );\n      _formDataSupportsSubmitter = false;\n    } catch (e) {\n      _formDataSupportsSubmitter = true;\n    }\n  }\n  return _formDataSupportsSubmitter;\n}\n\nexport interface SubmitOptions {\n  /**\n   * The HTTP method used to submit the form. Overrides `<form method>`.\n   * Defaults to \"GET\".\n   */\n  method?: HTMLFormMethod;\n\n  /**\n   * The action URL path used to submit the form. Overrides `<form action>`.\n   * Defaults to the path of the current route.\n   */\n  action?: string;\n\n  /**\n   * The encoding used to submit the form. Overrides `<form encType>`.\n   * Defaults to \"application/x-www-form-urlencoded\".\n   */\n  encType?: FormEncType;\n\n  /**\n   * Set `true` to replace the current entry in the browser's history stack\n   * instead of creating a new one (i.e. stay on \"the same page\"). Defaults\n   * to `false`.\n   */\n  replace?: boolean;\n\n  /**\n   * State object to add to the history stack entry for this navigation\n   */\n  state?: any;\n\n  /**\n   * Determines whether the form action is relative to the route hierarchy or\n   * the pathname.  Use this if you want to opt out of navigating the route\n   * hierarchy and want to instead route based on /-delimited URL segments\n   */\n  relative?: RelativeRoutingType;\n\n  /**\n   * In browser-based environments, prevent resetting scroll after this\n   * navigation when using the <ScrollRestoration> component\n   */\n  preventScrollReset?: boolean;\n}\n\nconst supportedFormEncTypes: Set<FormEncType> = new Set([\n  \"application/x-www-form-urlencoded\",\n  \"multipart/form-data\",\n  \"text/plain\",\n]);\n\nfunction getFormEncType(encType: string | null) {\n  if (encType != null && !supportedFormEncTypes.has(encType as FormEncType)) {\n    warning(\n      false,\n      `\"${encType}\" is not a valid \\`encType\\` for \\`<Form>\\`/\\`<fetcher.Form>\\` ` +\n        `and will default to \"${defaultEncType}\"`\n    );\n\n    return null;\n  }\n  return encType;\n}\n\nexport function getFormSubmissionInfo(\n  target: SubmitTarget,\n  basename: string\n): {\n  action: string | null;\n  method: string;\n  encType: string;\n  formData: FormData | undefined;\n  body: any;\n} {\n  let method: string;\n  let action: string | null;\n  let encType: string;\n  let formData: FormData | undefined;\n  let body: any;\n\n  if (isFormElement(target)) {\n    // When grabbing the action from the element, it will have had the basename\n    // prefixed to ensure non-JS scenarios work, so strip it since we'll\n    // re-prefix in the router\n    let attr = target.getAttribute(\"action\");\n    action = attr ? stripBasename(attr, basename) : null;\n    method = target.getAttribute(\"method\") || defaultMethod;\n    encType = getFormEncType(target.getAttribute(\"enctype\")) || defaultEncType;\n\n    formData = new FormData(target);\n  } else if (\n    isButtonElement(target) ||\n    (isInputElement(target) &&\n      (target.type === \"submit\" || target.type === \"image\"))\n  ) {\n    let form = target.form;\n\n    if (form == null) {\n      throw new Error(\n        `Cannot submit a <button> or <input type=\"submit\"> without a <form>`\n      );\n    }\n\n    // <button>/<input type=\"submit\"> may override attributes of <form>\n\n    // When grabbing the action from the element, it will have had the basename\n    // prefixed to ensure non-JS scenarios work, so strip it since we'll\n    // re-prefix in the router\n    let attr = target.getAttribute(\"formaction\") || form.getAttribute(\"action\");\n    action = attr ? stripBasename(attr, basename) : null;\n\n    method =\n      target.getAttribute(\"formmethod\") ||\n      form.getAttribute(\"method\") ||\n      defaultMethod;\n    encType =\n      getFormEncType(target.getAttribute(\"formenctype\")) ||\n      getFormEncType(form.getAttribute(\"enctype\")) ||\n      defaultEncType;\n\n    // Build a FormData object populated from a form and submitter\n    formData = new FormData(form, target);\n\n    // If this browser doesn't support the `FormData(el, submitter)` format,\n    // then tack on the submitter value at the end.  This is a lightweight\n    // solution that is not 100% spec compliant.  For complete support in older\n    // browsers, consider using the `formdata-submitter-polyfill` package\n    if (!isFormDataSubmitterSupported()) {\n      let { name, type, value } = target;\n      if (type === \"image\") {\n        let prefix = name ? `${name}.` : \"\";\n        formData.append(`${prefix}x`, \"0\");\n        formData.append(`${prefix}y`, \"0\");\n      } else if (name) {\n        formData.append(name, value);\n      }\n    }\n  } else if (isHtmlElement(target)) {\n    throw new Error(\n      `Cannot submit element that is not <form>, <button>, or ` +\n        `<input type=\"submit|image\">`\n    );\n  } else {\n    method = defaultMethod;\n    action = null;\n    encType = defaultEncType;\n    body = target;\n  }\n\n  // Send body for <Form encType=\"text/plain\" so we encode it into text\n  if (formData && encType === \"text/plain\") {\n    body = formData;\n    formData = undefined;\n  }\n\n  return { action, method: method.toLowerCase(), encType, formData, body };\n}\n","/**\n * NOTE: If you refactor this to split up the modules into separate files,\n * you'll need to update the rollup config for react-router-dom-v5-compat.\n */\nimport * as React from \"react\";\nimport type {\n  FutureConfig,\n  Location,\n  NavigateOptions,\n  NavigationType,\n  RelativeRoutingType,\n  RouteObject,\n  To,\n} from \"react-router\";\nimport {\n  Router,\n  createPath,\n  useHref,\n  useLocation,\n  useMatches,\n  useNavigate,\n  useNavigation,\n  useResolvedPath,\n  unstable_useBlocker as useBlocker,\n  UNSAFE_DataRouterContext as DataRouterContext,\n  UNSAFE_DataRouterStateContext as DataRouterStateContext,\n  UNSAFE_NavigationContext as NavigationContext,\n  UNSAFE_RouteContext as RouteContext,\n  UNSAFE_mapRouteProperties as mapRouteProperties,\n  UNSAFE_useRouteId as useRouteId,\n} from \"react-router\";\nimport type {\n  BrowserHistory,\n  Fetcher,\n  FormEncType,\n  FormMethod,\n  FutureConfig as RouterFutureConfig,\n  GetScrollRestorationKeyFunction,\n  HashHistory,\n  History,\n  HTMLFormMethod,\n  HydrationState,\n  Router as RemixRouter,\n  V7_FormMethod,\n} from \"@remix-run/router\";\nimport {\n  createRouter,\n  createBrowserHistory,\n  createHashHistory,\n  joinPaths,\n  stripBasename,\n  ErrorResponse,\n  UNSAFE_invariant as invariant,\n  UNSAFE_warning as warning,\n} from \"@remix-run/router\";\n\nimport type {\n  SubmitOptions,\n  ParamKeyValuePair,\n  URLSearchParamsInit,\n  SubmitTarget,\n} from \"./dom\";\nimport {\n  createSearchParams,\n  defaultMethod,\n  getFormSubmissionInfo,\n  getSearchParamsForLocation,\n  shouldProcessLinkClick,\n} from \"./dom\";\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Re-exports\n////////////////////////////////////////////////////////////////////////////////\n\nexport type {\n  FormEncType,\n  FormMethod,\n  GetScrollRestorationKeyFunction,\n  ParamKeyValuePair,\n  SubmitOptions,\n  URLSearchParamsInit,\n  V7_FormMethod,\n};\nexport { createSearchParams };\n\n// Note: Keep in sync with react-router exports!\nexport type {\n  ActionFunction,\n  ActionFunctionArgs,\n  AwaitProps,\n  unstable_Blocker,\n  unstable_BlockerFunction,\n  DataRouteMatch,\n  DataRouteObject,\n  Fetcher,\n  Hash,\n  IndexRouteObject,\n  IndexRouteProps,\n  JsonFunction,\n  LazyRouteFunction,\n  LayoutRouteProps,\n  LoaderFunction,\n  LoaderFunctionArgs,\n  Location,\n  MemoryRouterProps,\n  NavigateFunction,\n  NavigateOptions,\n  NavigateProps,\n  Navigation,\n  Navigator,\n  NonIndexRouteObject,\n  OutletProps,\n  Params,\n  ParamParseKey,\n  Path,\n  PathMatch,\n  Pathname,\n  PathPattern,\n  PathRouteProps,\n  RedirectFunction,\n  RelativeRoutingType,\n  RouteMatch,\n  RouteObject,\n  RouteProps,\n  RouterProps,\n  RouterProviderProps,\n  RoutesProps,\n  Search,\n  ShouldRevalidateFunction,\n  To,\n} from \"react-router\";\nexport {\n  AbortedDeferredError,\n  Await,\n  MemoryRouter,\n  Navigate,\n  NavigationType,\n  Outlet,\n  Route,\n  Router,\n  RouterProvider,\n  Routes,\n  createMemoryRouter,\n  createPath,\n  createRoutesFromChildren,\n  createRoutesFromElements,\n  defer,\n  isRouteErrorResponse,\n  generatePath,\n  json,\n  matchPath,\n  matchRoutes,\n  parsePath,\n  redirect,\n  redirectDocument,\n  renderMatches,\n  resolvePath,\n  useActionData,\n  useAsyncError,\n  useAsyncValue,\n  unstable_useBlocker,\n  useHref,\n  useInRouterContext,\n  useLoaderData,\n  useLocation,\n  useMatch,\n  useMatches,\n  useNavigate,\n  useNavigation,\n  useNavigationType,\n  useOutlet,\n  useOutletContext,\n  useParams,\n  useResolvedPath,\n  useRevalidator,\n  useRouteError,\n  useRouteLoaderData,\n  useRoutes,\n} from \"react-router\";\n\n///////////////////////////////////////////////////////////////////////////////\n// DANGER! PLEASE READ ME!\n// We provide these exports as an escape hatch in the event that you need any\n// routing data that we don't provide an explicit API for. With that said, we\n// want to cover your use case if we can, so if you feel the need to use these\n// we want to hear from you. Let us know what you're building and we'll do our\n// best to make sure we can support you!\n//\n// We consider these exports an implementation detail and do not guarantee\n// against any breaking changes, regardless of the semver release. Use with\n// extreme caution and only if you understand the consequences. Godspeed.\n///////////////////////////////////////////////////////////////////////////////\n\n/** @internal */\nexport {\n  UNSAFE_DataRouterContext,\n  UNSAFE_DataRouterStateContext,\n  UNSAFE_NavigationContext,\n  UNSAFE_LocationContext,\n  UNSAFE_RouteContext,\n  UNSAFE_useRouteId,\n} from \"react-router\";\n//#endregion\n\ndeclare global {\n  var __staticRouterHydrationData: HydrationState | undefined;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Routers\n////////////////////////////////////////////////////////////////////////////////\n\ninterface DOMRouterOpts {\n  basename?: string;\n  future?: Partial<Omit<RouterFutureConfig, \"v7_prependBasename\">>;\n  hydrationData?: HydrationState;\n  window?: Window;\n}\n\nexport function createBrowserRouter(\n  routes: RouteObject[],\n  opts?: DOMRouterOpts\n): RemixRouter {\n  return createRouter({\n    basename: opts?.basename,\n    future: {\n      ...opts?.future,\n      v7_prependBasename: true,\n    },\n    history: createBrowserHistory({ window: opts?.window }),\n    hydrationData: opts?.hydrationData || parseHydrationData(),\n    routes,\n    mapRouteProperties,\n  }).initialize();\n}\n\nexport function createHashRouter(\n  routes: RouteObject[],\n  opts?: DOMRouterOpts\n): RemixRouter {\n  return createRouter({\n    basename: opts?.basename,\n    future: {\n      ...opts?.future,\n      v7_prependBasename: true,\n    },\n    history: createHashHistory({ window: opts?.window }),\n    hydrationData: opts?.hydrationData || parseHydrationData(),\n    routes,\n    mapRouteProperties,\n  }).initialize();\n}\n\nfunction parseHydrationData(): HydrationState | undefined {\n  let state = window?.__staticRouterHydrationData;\n  if (state && state.errors) {\n    state = {\n      ...state,\n      errors: deserializeErrors(state.errors),\n    };\n  }\n  return state;\n}\n\nfunction deserializeErrors(\n  errors: RemixRouter[\"state\"][\"errors\"]\n): RemixRouter[\"state\"][\"errors\"] {\n  if (!errors) return null;\n  let entries = Object.entries(errors);\n  let serialized: RemixRouter[\"state\"][\"errors\"] = {};\n  for (let [key, val] of entries) {\n    // Hey you!  If you change this, please change the corresponding logic in\n    // serializeErrors in react-router-dom/server.tsx :)\n    if (val && val.__type === \"RouteErrorResponse\") {\n      serialized[key] = new ErrorResponse(\n        val.status,\n        val.statusText,\n        val.data,\n        val.internal === true\n      );\n    } else if (val && val.__type === \"Error\") {\n      // Attempt to reconstruct the right type of Error (i.e., ReferenceError)\n      if (val.__subType) {\n        let ErrorConstructor = window[val.__subType];\n        if (typeof ErrorConstructor === \"function\") {\n          try {\n            // @ts-expect-error\n            let error = new ErrorConstructor(val.message);\n            // Wipe away the client-side stack trace.  Nothing to fill it in with\n            // because we don't serialize SSR stack traces for security reasons\n            error.stack = \"\";\n            serialized[key] = error;\n          } catch (e) {\n            // no-op - fall through and create a normal Error\n          }\n        }\n      }\n\n      if (serialized[key] == null) {\n        let error = new Error(val.message);\n        // Wipe away the client-side stack trace.  Nothing to fill it in with\n        // because we don't serialize SSR stack traces for security reasons\n        error.stack = \"\";\n        serialized[key] = error;\n      }\n    } else {\n      serialized[key] = val;\n    }\n  }\n  return serialized;\n}\n\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Components\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n  Webpack + React 17 fails to compile on any of the following because webpack\n  complains that `startTransition` doesn't exist in `React`:\n  * import { startTransition } from \"react\"\n  * import * as React from from \"react\";\n    \"startTransition\" in React ? React.startTransition(() => setState()) : setState()\n  * import * as React from from \"react\";\n    \"startTransition\" in React ? React[\"startTransition\"](() => setState()) : setState()\n\n  Moving it to a constant such as the following solves the Webpack/React 17 issue:\n  * import * as React from from \"react\";\n    const START_TRANSITION = \"startTransition\";\n    START_TRANSITION in React ? React[START_TRANSITION](() => setState()) : setState()\n\n  However, that introduces webpack/terser minification issues in production builds\n  in React 18 where minification/obfuscation ends up removing the call of\n  React.startTransition entirely from the first half of the ternary.  Grabbing\n  this exported reference once up front resolves that issue.\n\n  See https://github.com/remix-run/react-router/issues/10579\n*/\nconst START_TRANSITION = \"startTransition\";\nconst startTransitionImpl = React[START_TRANSITION];\n\nexport interface BrowserRouterProps {\n  basename?: string;\n  children?: React.ReactNode;\n  future?: FutureConfig;\n  window?: Window;\n}\n\n/**\n * A `<Router>` for use in web browsers. Provides the cleanest URLs.\n */\nexport function BrowserRouter({\n  basename,\n  children,\n  future,\n  window,\n}: BrowserRouterProps) {\n  let historyRef = React.useRef<BrowserHistory>();\n  if (historyRef.current == null) {\n    historyRef.current = createBrowserHistory({ window, v5Compat: true });\n  }\n\n  let history = historyRef.current;\n  let [state, setStateImpl] = React.useState({\n    action: history.action,\n    location: history.location,\n  });\n  let { v7_startTransition } = future || {};\n  let setState = React.useCallback(\n    (newState: { action: NavigationType; location: Location }) => {\n      v7_startTransition && startTransitionImpl\n        ? startTransitionImpl(() => setStateImpl(newState))\n        : setStateImpl(newState);\n    },\n    [setStateImpl, v7_startTransition]\n  );\n\n  React.useLayoutEffect(() => history.listen(setState), [history, setState]);\n\n  return (\n    <Router\n      basename={basename}\n      children={children}\n      location={state.location}\n      navigationType={state.action}\n      navigator={history}\n    />\n  );\n}\n\nexport interface HashRouterProps {\n  basename?: string;\n  children?: React.ReactNode;\n  future?: FutureConfig;\n  window?: Window;\n}\n\n/**\n * A `<Router>` for use in web browsers. Stores the location in the hash\n * portion of the URL so it is not sent to the server.\n */\nexport function HashRouter({\n  basename,\n  children,\n  future,\n  window,\n}: HashRouterProps) {\n  let historyRef = React.useRef<HashHistory>();\n  if (historyRef.current == null) {\n    historyRef.current = createHashHistory({ window, v5Compat: true });\n  }\n\n  let history = historyRef.current;\n  let [state, setStateImpl] = React.useState({\n    action: history.action,\n    location: history.location,\n  });\n  let { v7_startTransition } = future || {};\n  let setState = React.useCallback(\n    (newState: { action: NavigationType; location: Location }) => {\n      v7_startTransition && startTransitionImpl\n        ? startTransitionImpl(() => setStateImpl(newState))\n        : setStateImpl(newState);\n    },\n    [setStateImpl, v7_startTransition]\n  );\n\n  React.useLayoutEffect(() => history.listen(setState), [history, setState]);\n\n  return (\n    <Router\n      basename={basename}\n      children={children}\n      location={state.location}\n      navigationType={state.action}\n      navigator={history}\n    />\n  );\n}\n\nexport interface HistoryRouterProps {\n  basename?: string;\n  children?: React.ReactNode;\n  future?: FutureConfig;\n  history: History;\n}\n\n/**\n * A `<Router>` that accepts a pre-instantiated history object. It's important\n * to note that using your own history object is highly discouraged and may add\n * two versions of the history library to your bundles unless you use the same\n * version of the history library that React Router uses internally.\n */\nfunction HistoryRouter({\n  basename,\n  children,\n  future,\n  history,\n}: HistoryRouterProps) {\n  let [state, setStateImpl] = React.useState({\n    action: history.action,\n    location: history.location,\n  });\n  let { v7_startTransition } = future || {};\n  let setState = React.useCallback(\n    (newState: { action: NavigationType; location: Location }) => {\n      v7_startTransition && startTransitionImpl\n        ? startTransitionImpl(() => setStateImpl(newState))\n        : setStateImpl(newState);\n    },\n    [setStateImpl, v7_startTransition]\n  );\n\n  React.useLayoutEffect(() => history.listen(setState), [history, setState]);\n\n  return (\n    <Router\n      basename={basename}\n      children={children}\n      location={state.location}\n      navigationType={state.action}\n      navigator={history}\n    />\n  );\n}\n\nif (__DEV__) {\n  HistoryRouter.displayName = \"unstable_HistoryRouter\";\n}\n\nexport { HistoryRouter as unstable_HistoryRouter };\n\nexport interface LinkProps\n  extends Omit<React.AnchorHTMLAttributes<HTMLAnchorElement>, \"href\"> {\n  reloadDocument?: boolean;\n  replace?: boolean;\n  state?: any;\n  preventScrollReset?: boolean;\n  relative?: RelativeRoutingType;\n  to: To;\n}\n\nconst isBrowser =\n  typeof window !== \"undefined\" &&\n  typeof window.document !== \"undefined\" &&\n  typeof window.document.createElement !== \"undefined\";\n\nconst ABSOLUTE_URL_REGEX = /^(?:[a-z][a-z0-9+.-]*:|\\/\\/)/i;\n\n/**\n * The public API for rendering a history-aware <a>.\n */\nexport const Link = React.forwardRef<HTMLAnchorElement, LinkProps>(\n  function LinkWithRef(\n    {\n      onClick,\n      relative,\n      reloadDocument,\n      replace,\n      state,\n      target,\n      to,\n      preventScrollReset,\n      ...rest\n    },\n    ref\n  ) {\n    let { basename } = React.useContext(NavigationContext);\n\n    // Rendered into <a href> for absolute URLs\n    let absoluteHref;\n    let isExternal = false;\n\n    if (typeof to === \"string\" && ABSOLUTE_URL_REGEX.test(to)) {\n      // Render the absolute href server- and client-side\n      absoluteHref = to;\n\n      // Only check for external origins client-side\n      if (isBrowser) {\n        try {\n          let currentUrl = new URL(window.location.href);\n          let targetUrl = to.startsWith(\"//\")\n            ? new URL(currentUrl.protocol + to)\n            : new URL(to);\n          let path = stripBasename(targetUrl.pathname, basename);\n\n          if (targetUrl.origin === currentUrl.origin && path != null) {\n            // Strip the protocol/origin/basename for same-origin absolute URLs\n            to = path + targetUrl.search + targetUrl.hash;\n          } else {\n            isExternal = true;\n          }\n        } catch (e) {\n          // We can't do external URL detection without a valid URL\n          warning(\n            false,\n            `<Link to=\"${to}\"> contains an invalid URL which will probably break ` +\n              `when clicked - please update to a valid URL path.`\n          );\n        }\n      }\n    }\n\n    // Rendered into <a href> for relative URLs\n    let href = useHref(to, { relative });\n\n    let internalOnClick = useLinkClickHandler(to, {\n      replace,\n      state,\n      target,\n      preventScrollReset,\n      relative,\n    });\n    function handleClick(\n      event: React.MouseEvent<HTMLAnchorElement, MouseEvent>\n    ) {\n      if (onClick) onClick(event);\n      if (!event.defaultPrevented) {\n        internalOnClick(event);\n      }\n    }\n\n    return (\n      // eslint-disable-next-line jsx-a11y/anchor-has-content\n      <a\n        {...rest}\n        href={absoluteHref || href}\n        onClick={isExternal || reloadDocument ? onClick : handleClick}\n        ref={ref}\n        target={target}\n      />\n    );\n  }\n);\n\nif (__DEV__) {\n  Link.displayName = \"Link\";\n}\n\nexport interface NavLinkProps\n  extends Omit<LinkProps, \"className\" | \"style\" | \"children\"> {\n  children?:\n    | React.ReactNode\n    | ((props: { isActive: boolean; isPending: boolean }) => React.ReactNode);\n  caseSensitive?: boolean;\n  className?:\n    | string\n    | ((props: {\n        isActive: boolean;\n        isPending: boolean;\n      }) => string | undefined);\n  end?: boolean;\n  style?:\n    | React.CSSProperties\n    | ((props: {\n        isActive: boolean;\n        isPending: boolean;\n      }) => React.CSSProperties | undefined);\n}\n\n/**\n * A <Link> wrapper that knows if it's \"active\" or not.\n */\nexport const NavLink = React.forwardRef<HTMLAnchorElement, NavLinkProps>(\n  function NavLinkWithRef(\n    {\n      \"aria-current\": ariaCurrentProp = \"page\",\n      caseSensitive = false,\n      className: classNameProp = \"\",\n      end = false,\n      style: styleProp,\n      to,\n      children,\n      ...rest\n    },\n    ref\n  ) {\n    let path = useResolvedPath(to, { relative: rest.relative });\n    let location = useLocation();\n    let routerState = React.useContext(DataRouterStateContext);\n    let { navigator } = React.useContext(NavigationContext);\n\n    let toPathname = navigator.encodeLocation\n      ? navigator.encodeLocation(path).pathname\n      : path.pathname;\n    let locationPathname = location.pathname;\n    let nextLocationPathname =\n      routerState && routerState.navigation && routerState.navigation.location\n        ? routerState.navigation.location.pathname\n        : null;\n\n    if (!caseSensitive) {\n      locationPathname = locationPathname.toLowerCase();\n      nextLocationPathname = nextLocationPathname\n        ? nextLocationPathname.toLowerCase()\n        : null;\n      toPathname = toPathname.toLowerCase();\n    }\n\n    let isActive =\n      locationPathname === toPathname ||\n      (!end &&\n        locationPathname.startsWith(toPathname) &&\n        locationPathname.charAt(toPathname.length) === \"/\");\n\n    let isPending =\n      nextLocationPathname != null &&\n      (nextLocationPathname === toPathname ||\n        (!end &&\n          nextLocationPathname.startsWith(toPathname) &&\n          nextLocationPathname.charAt(toPathname.length) === \"/\"));\n\n    let ariaCurrent = isActive ? ariaCurrentProp : undefined;\n\n    let className: string | undefined;\n    if (typeof classNameProp === \"function\") {\n      className = classNameProp({ isActive, isPending });\n    } else {\n      // If the className prop is not a function, we use a default `active`\n      // class for <NavLink />s that are active. In v5 `active` was the default\n      // value for `activeClassName`, but we are removing that API and can still\n      // use the old default behavior for a cleaner upgrade path and keep the\n      // simple styling rules working as they currently do.\n      className = [\n        classNameProp,\n        isActive ? \"active\" : null,\n        isPending ? \"pending\" : null,\n      ]\n        .filter(Boolean)\n        .join(\" \");\n    }\n\n    let style =\n      typeof styleProp === \"function\"\n        ? styleProp({ isActive, isPending })\n        : styleProp;\n\n    return (\n      <Link\n        {...rest}\n        aria-current={ariaCurrent}\n        className={className}\n        ref={ref}\n        style={style}\n        to={to}\n      >\n        {typeof children === \"function\"\n          ? children({ isActive, isPending })\n          : children}\n      </Link>\n    );\n  }\n);\n\nif (__DEV__) {\n  NavLink.displayName = \"NavLink\";\n}\n\nexport interface FetcherFormProps\n  extends React.FormHTMLAttributes<HTMLFormElement> {\n  /**\n   * The HTTP verb to use when the form is submit. Supports \"get\", \"post\",\n   * \"put\", \"delete\", \"patch\".\n   */\n  method?: HTMLFormMethod;\n\n  /**\n   * `<form encType>` - enhancing beyond the normal string type and limiting\n   * to the built-in browser supported values\n   */\n  encType?:\n    | \"application/x-www-form-urlencoded\"\n    | \"multipart/form-data\"\n    | \"text/plain\";\n\n  /**\n   * Normal `<form action>` but supports React Router's relative paths.\n   */\n  action?: string;\n\n  /**\n   * Determines whether the form action is relative to the route hierarchy or\n   * the pathname.  Use this if you want to opt out of navigating the route\n   * hierarchy and want to instead route based on /-delimited URL segments\n   */\n  relative?: RelativeRoutingType;\n\n  /**\n   * Prevent the scroll position from resetting to the top of the viewport on\n   * completion of the navigation when using the <ScrollRestoration> component\n   */\n  preventScrollReset?: boolean;\n\n  /**\n   * A function to call when the form is submitted. If you call\n   * `event.preventDefault()` then this form will not do anything.\n   */\n  onSubmit?: React.FormEventHandler<HTMLFormElement>;\n}\n\nexport interface FormProps extends FetcherFormProps {\n  /**\n   * Forces a full document navigation instead of a fetch.\n   */\n  reloadDocument?: boolean;\n\n  /**\n   * Replaces the current entry in the browser history stack when the form\n   * navigates. Use this if you don't want the user to be able to click \"back\"\n   * to the page with the form on it.\n   */\n  replace?: boolean;\n\n  /**\n   * State object to add to the history stack entry for this navigation\n   */\n  state?: any;\n}\n\n/**\n * A `@remix-run/router`-aware `<form>`. It behaves like a normal form except\n * that the interaction with the server is with `fetch` instead of new document\n * requests, allowing components to add nicer UX to the page as the form is\n * submitted and returns with data.\n */\nexport const Form = React.forwardRef<HTMLFormElement, FormProps>(\n  (props, ref) => {\n    let submit = useSubmit();\n    return <FormImpl {...props} submit={submit} ref={ref} />;\n  }\n);\n\nif (__DEV__) {\n  Form.displayName = \"Form\";\n}\n\ntype HTMLSubmitEvent = React.BaseSyntheticEvent<\n  SubmitEvent,\n  Event,\n  HTMLFormElement\n>;\n\ntype HTMLFormSubmitter = HTMLButtonElement | HTMLInputElement;\n\ninterface FormImplProps extends FormProps {\n  submit: SubmitFunction | FetcherSubmitFunction;\n}\n\nconst FormImpl = React.forwardRef<HTMLFormElement, FormImplProps>(\n  (\n    {\n      reloadDocument,\n      replace,\n      state,\n      method = defaultMethod,\n      action,\n      onSubmit,\n      submit,\n      relative,\n      preventScrollReset,\n      ...props\n    },\n    forwardedRef\n  ) => {\n    let formMethod: HTMLFormMethod =\n      method.toLowerCase() === \"get\" ? \"get\" : \"post\";\n    let formAction = useFormAction(action, { relative });\n    let submitHandler: React.FormEventHandler<HTMLFormElement> = (event) => {\n      onSubmit && onSubmit(event);\n      if (event.defaultPrevented) return;\n      event.preventDefault();\n\n      let submitter = (event as unknown as HTMLSubmitEvent).nativeEvent\n        .submitter as HTMLFormSubmitter | null;\n\n      let submitMethod =\n        (submitter?.getAttribute(\"formmethod\") as HTMLFormMethod | undefined) ||\n        method;\n\n      submit(submitter || event.currentTarget, {\n        method: submitMethod,\n        replace,\n        state,\n        relative,\n        preventScrollReset,\n      });\n    };\n\n    return (\n      <form\n        ref={forwardedRef}\n        method={formMethod}\n        action={formAction}\n        onSubmit={reloadDocument ? onSubmit : submitHandler}\n        {...props}\n      />\n    );\n  }\n);\n\nif (__DEV__) {\n  FormImpl.displayName = \"FormImpl\";\n}\n\nexport interface ScrollRestorationProps {\n  getKey?: GetScrollRestorationKeyFunction;\n  storageKey?: string;\n}\n\n/**\n * This component will emulate the browser's scroll restoration on location\n * changes.\n */\nexport function ScrollRestoration({\n  getKey,\n  storageKey,\n}: ScrollRestorationProps) {\n  useScrollRestoration({ getKey, storageKey });\n  return null;\n}\n\nif (__DEV__) {\n  ScrollRestoration.displayName = \"ScrollRestoration\";\n}\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Hooks\n////////////////////////////////////////////////////////////////////////////////\n\nenum DataRouterHook {\n  UseScrollRestoration = \"useScrollRestoration\",\n  UseSubmit = \"useSubmit\",\n  UseSubmitFetcher = \"useSubmitFetcher\",\n  UseFetcher = \"useFetcher\",\n}\n\nenum DataRouterStateHook {\n  UseFetchers = \"useFetchers\",\n  UseScrollRestoration = \"useScrollRestoration\",\n}\n\nfunction getDataRouterConsoleError(\n  hookName: DataRouterHook | DataRouterStateHook\n) {\n  return `${hookName} must be used within a data router.  See https://reactrouter.com/routers/picking-a-router.`;\n}\n\nfunction useDataRouterContext(hookName: DataRouterHook) {\n  let ctx = React.useContext(DataRouterContext);\n  invariant(ctx, getDataRouterConsoleError(hookName));\n  return ctx;\n}\n\nfunction useDataRouterState(hookName: DataRouterStateHook) {\n  let state = React.useContext(DataRouterStateContext);\n  invariant(state, getDataRouterConsoleError(hookName));\n  return state;\n}\n\n/**\n * Handles the click behavior for router `<Link>` components. This is useful if\n * you need to create custom `<Link>` components with the same click behavior we\n * use in our exported `<Link>`.\n */\nexport function useLinkClickHandler<E extends Element = HTMLAnchorElement>(\n  to: To,\n  {\n    target,\n    replace: replaceProp,\n    state,\n    preventScrollReset,\n    relative,\n  }: {\n    target?: React.HTMLAttributeAnchorTarget;\n    replace?: boolean;\n    state?: any;\n    preventScrollReset?: boolean;\n    relative?: RelativeRoutingType;\n  } = {}\n): (event: React.MouseEvent<E, MouseEvent>) => void {\n  let navigate = useNavigate();\n  let location = useLocation();\n  let path = useResolvedPath(to, { relative });\n\n  return React.useCallback(\n    (event: React.MouseEvent<E, MouseEvent>) => {\n      if (shouldProcessLinkClick(event, target)) {\n        event.preventDefault();\n\n        // If the URL hasn't changed, a regular <a> will do a replace instead of\n        // a push, so do the same here unless the replace prop is explicitly set\n        let replace =\n          replaceProp !== undefined\n            ? replaceProp\n            : createPath(location) === createPath(path);\n\n        navigate(to, { replace, state, preventScrollReset, relative });\n      }\n    },\n    [\n      location,\n      navigate,\n      path,\n      replaceProp,\n      state,\n      target,\n      to,\n      preventScrollReset,\n      relative,\n    ]\n  );\n}\n\n/**\n * A convenient wrapper for reading and writing search parameters via the\n * URLSearchParams interface.\n */\nexport function useSearchParams(\n  defaultInit?: URLSearchParamsInit\n): [URLSearchParams, SetURLSearchParams] {\n  warning(\n    typeof URLSearchParams !== \"undefined\",\n    `You cannot use the \\`useSearchParams\\` hook in a browser that does not ` +\n      `support the URLSearchParams API. If you need to support Internet ` +\n      `Explorer 11, we recommend you load a polyfill such as ` +\n      `https://github.com/ungap/url-search-params\\n\\n` +\n      `If you're unsure how to load polyfills, we recommend you check out ` +\n      `https://polyfill.io/v3/ which provides some recommendations about how ` +\n      `to load polyfills only for users that need them, instead of for every ` +\n      `user.`\n  );\n\n  let defaultSearchParamsRef = React.useRef(createSearchParams(defaultInit));\n  let hasSetSearchParamsRef = React.useRef(false);\n\n  let location = useLocation();\n  let searchParams = React.useMemo(\n    () =>\n      // Only merge in the defaults if we haven't yet called setSearchParams.\n      // Once we call that we want those to take precedence, otherwise you can't\n      // remove a param with setSearchParams({}) if it has an initial value\n      getSearchParamsForLocation(\n        location.search,\n        hasSetSearchParamsRef.current ? null : defaultSearchParamsRef.current\n      ),\n    [location.search]\n  );\n\n  let navigate = useNavigate();\n  let setSearchParams = React.useCallback<SetURLSearchParams>(\n    (nextInit, navigateOptions) => {\n      const newSearchParams = createSearchParams(\n        typeof nextInit === \"function\" ? nextInit(searchParams) : nextInit\n      );\n      hasSetSearchParamsRef.current = true;\n      navigate(\"?\" + newSearchParams, navigateOptions);\n    },\n    [navigate, searchParams]\n  );\n\n  return [searchParams, setSearchParams];\n}\n\nexport type SetURLSearchParams = (\n  nextInit?:\n    | URLSearchParamsInit\n    | ((prev: URLSearchParams) => URLSearchParamsInit),\n  navigateOpts?: NavigateOptions\n) => void;\n\n/**\n * Submits a HTML `<form>` to the server without reloading the page.\n */\nexport interface SubmitFunction {\n  (\n    /**\n     * Specifies the `<form>` to be submitted to the server, a specific\n     * `<button>` or `<input type=\"submit\">` to use to submit the form, or some\n     * arbitrary data to submit.\n     *\n     * Note: When using a `<button>` its `name` and `value` will also be\n     * included in the form data that is submitted.\n     */\n    target: SubmitTarget,\n\n    /**\n     * Options that override the `<form>`'s own attributes. Required when\n     * submitting arbitrary data without a backing `<form>`.\n     */\n    options?: SubmitOptions\n  ): void;\n}\n\n/**\n * Submits a fetcher `<form>` to the server without reloading the page.\n */\nexport interface FetcherSubmitFunction {\n  (\n    target: SubmitTarget,\n    // Fetchers cannot replace or set state because they are not navigation events\n    options?: Omit<SubmitOptions, \"replace\" | \"state\">\n  ): void;\n}\n\nfunction validateClientSideSubmission() {\n  if (typeof document === \"undefined\") {\n    throw new Error(\n      \"You are calling submit during the server render. \" +\n        \"Try calling submit within a `useEffect` or callback instead.\"\n    );\n  }\n}\n\n/**\n * Returns a function that may be used to programmatically submit a form (or\n * some arbitrary data) to the server.\n */\nexport function useSubmit(): SubmitFunction {\n  let { router } = useDataRouterContext(DataRouterHook.UseSubmit);\n  let { basename } = React.useContext(NavigationContext);\n  let currentRouteId = useRouteId();\n\n  return React.useCallback<SubmitFunction>(\n    (target, options = {}) => {\n      validateClientSideSubmission();\n\n      let { action, method, encType, formData, body } = getFormSubmissionInfo(\n        target,\n        basename\n      );\n\n      router.navigate(options.action || action, {\n        preventScrollReset: options.preventScrollReset,\n        formData,\n        body,\n        formMethod: options.method || (method as HTMLFormMethod),\n        formEncType: options.encType || (encType as FormEncType),\n        replace: options.replace,\n        state: options.state,\n        fromRouteId: currentRouteId,\n      });\n    },\n    [router, basename, currentRouteId]\n  );\n}\n\n/**\n * Returns the implementation for fetcher.submit\n */\nfunction useSubmitFetcher(\n  fetcherKey: string,\n  fetcherRouteId: string\n): FetcherSubmitFunction {\n  let { router } = useDataRouterContext(DataRouterHook.UseSubmitFetcher);\n  let { basename } = React.useContext(NavigationContext);\n\n  return React.useCallback<FetcherSubmitFunction>(\n    (target, options = {}) => {\n      validateClientSideSubmission();\n\n      let { action, method, encType, formData, body } = getFormSubmissionInfo(\n        target,\n        basename\n      );\n\n      invariant(\n        fetcherRouteId != null,\n        \"No routeId available for useFetcher()\"\n      );\n      router.fetch(fetcherKey, fetcherRouteId, options.action || action, {\n        preventScrollReset: options.preventScrollReset,\n        formData,\n        body,\n        formMethod: options.method || (method as HTMLFormMethod),\n        formEncType: options.encType || (encType as FormEncType),\n      });\n    },\n    [router, basename, fetcherKey, fetcherRouteId]\n  );\n}\n\n// v7: Eventually we should deprecate this entirely in favor of using the\n// router method directly?\nexport function useFormAction(\n  action?: string,\n  { relative }: { relative?: RelativeRoutingType } = {}\n): string {\n  let { basename } = React.useContext(NavigationContext);\n  let routeContext = React.useContext(RouteContext);\n  invariant(routeContext, \"useFormAction must be used inside a RouteContext\");\n\n  let [match] = routeContext.matches.slice(-1);\n  // Shallow clone path so we can modify it below, otherwise we modify the\n  // object referenced by useMemo inside useResolvedPath\n  let path = { ...useResolvedPath(action ? action : \".\", { relative }) };\n\n  // Previously we set the default action to \".\". The problem with this is that\n  // `useResolvedPath(\".\")` excludes search params of the resolved URL. This is\n  // the intended behavior of when \".\" is specifically provided as\n  // the form action, but inconsistent w/ browsers when the action is omitted.\n  // https://github.com/remix-run/remix/issues/927\n  let location = useLocation();\n  if (action == null) {\n    // Safe to write to this directly here since if action was undefined, we\n    // would have called useResolvedPath(\".\") which will never include a search\n    path.search = location.search;\n\n    // When grabbing search params from the URL, remove the automatically\n    // inserted ?index param so we match the useResolvedPath search behavior\n    // which would not include ?index\n    if (match.route.index) {\n      let params = new URLSearchParams(path.search);\n      params.delete(\"index\");\n      path.search = params.toString() ? `?${params.toString()}` : \"\";\n    }\n  }\n\n  if ((!action || action === \".\") && match.route.index) {\n    path.search = path.search\n      ? path.search.replace(/^\\?/, \"?index&\")\n      : \"?index\";\n  }\n\n  // If we're operating within a basename, prepend it to the pathname prior\n  // to creating the form action.  If this is a root navigation, then just use\n  // the raw basename which allows the basename to have full control over the\n  // presence of a trailing slash on root actions\n  if (basename !== \"/\") {\n    path.pathname =\n      path.pathname === \"/\" ? basename : joinPaths([basename, path.pathname]);\n  }\n\n  return createPath(path);\n}\n\nfunction createFetcherForm(fetcherKey: string, routeId: string) {\n  let FetcherForm = React.forwardRef<HTMLFormElement, FetcherFormProps>(\n    (props, ref) => {\n      let submit = useSubmitFetcher(fetcherKey, routeId);\n      return <FormImpl {...props} ref={ref} submit={submit} />;\n    }\n  );\n  if (__DEV__) {\n    FetcherForm.displayName = \"fetcher.Form\";\n  }\n  return FetcherForm;\n}\n\nlet fetcherId = 0;\n\nexport type FetcherWithComponents<TData> = Fetcher<TData> & {\n  Form: ReturnType<typeof createFetcherForm>;\n  submit: FetcherSubmitFunction;\n  load: (href: string) => void;\n};\n\n/**\n * Interacts with route loaders and actions without causing a navigation. Great\n * for any interaction that stays on the same page.\n */\nexport function useFetcher<TData = any>(): FetcherWithComponents<TData> {\n  let { router } = useDataRouterContext(DataRouterHook.UseFetcher);\n\n  let route = React.useContext(RouteContext);\n  invariant(route, `useFetcher must be used inside a RouteContext`);\n\n  let routeId = route.matches[route.matches.length - 1]?.route.id;\n  invariant(\n    routeId != null,\n    `useFetcher can only be used on routes that contain a unique \"id\"`\n  );\n\n  let [fetcherKey] = React.useState(() => String(++fetcherId));\n  let [Form] = React.useState(() => {\n    invariant(routeId, `No routeId available for fetcher.Form()`);\n    return createFetcherForm(fetcherKey, routeId);\n  });\n  let [load] = React.useState(() => (href: string) => {\n    invariant(router, \"No router available for fetcher.load()\");\n    invariant(routeId, \"No routeId available for fetcher.load()\");\n    router.fetch(fetcherKey, routeId, href);\n  });\n  let submit = useSubmitFetcher(fetcherKey, routeId);\n\n  let fetcher = router.getFetcher<TData>(fetcherKey);\n\n  let fetcherWithComponents = React.useMemo(\n    () => ({\n      Form,\n      submit,\n      load,\n      ...fetcher,\n    }),\n    [fetcher, Form, submit, load]\n  );\n\n  React.useEffect(() => {\n    // Is this busted when the React team gets real weird and calls effects\n    // twice on mount?  We really just need to garbage collect here when this\n    // fetcher is no longer around.\n    return () => {\n      if (!router) {\n        console.warn(`No router available to clean up from useFetcher()`);\n        return;\n      }\n      router.deleteFetcher(fetcherKey);\n    };\n  }, [router, fetcherKey]);\n\n  return fetcherWithComponents;\n}\n\n/**\n * Provides all fetchers currently on the page. Useful for layouts and parent\n * routes that need to provide pending/optimistic UI regarding the fetch.\n */\nexport function useFetchers(): Fetcher[] {\n  let state = useDataRouterState(DataRouterStateHook.UseFetchers);\n  return [...state.fetchers.values()];\n}\n\nconst SCROLL_RESTORATION_STORAGE_KEY = \"react-router-scroll-positions\";\nlet savedScrollPositions: Record<string, number> = {};\n\n/**\n * When rendered inside a RouterProvider, will restore scroll positions on navigations\n */\nfunction useScrollRestoration({\n  getKey,\n  storageKey,\n}: {\n  getKey?: GetScrollRestorationKeyFunction;\n  storageKey?: string;\n} = {}) {\n  let { router } = useDataRouterContext(DataRouterHook.UseScrollRestoration);\n  let { restoreScrollPosition, preventScrollReset } = useDataRouterState(\n    DataRouterStateHook.UseScrollRestoration\n  );\n  let { basename } = React.useContext(NavigationContext);\n  let location = useLocation();\n  let matches = useMatches();\n  let navigation = useNavigation();\n\n  // Trigger manual scroll restoration while we're active\n  React.useEffect(() => {\n    window.history.scrollRestoration = \"manual\";\n    return () => {\n      window.history.scrollRestoration = \"auto\";\n    };\n  }, []);\n\n  // Save positions on pagehide\n  usePageHide(\n    React.useCallback(() => {\n      if (navigation.state === \"idle\") {\n        let key = (getKey ? getKey(location, matches) : null) || location.key;\n        savedScrollPositions[key] = window.scrollY;\n      }\n      sessionStorage.setItem(\n        storageKey || SCROLL_RESTORATION_STORAGE_KEY,\n        JSON.stringify(savedScrollPositions)\n      );\n      window.history.scrollRestoration = \"auto\";\n    }, [storageKey, getKey, navigation.state, location, matches])\n  );\n\n  // Read in any saved scroll locations\n  if (typeof document !== \"undefined\") {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useLayoutEffect(() => {\n      try {\n        let sessionPositions = sessionStorage.getItem(\n          storageKey || SCROLL_RESTORATION_STORAGE_KEY\n        );\n        if (sessionPositions) {\n          savedScrollPositions = JSON.parse(sessionPositions);\n        }\n      } catch (e) {\n        // no-op, use default empty object\n      }\n    }, [storageKey]);\n\n    // Enable scroll restoration in the router\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useLayoutEffect(() => {\n      let getKeyWithoutBasename: GetScrollRestorationKeyFunction | undefined =\n        getKey && basename !== \"/\"\n          ? (location, matches) =>\n              getKey(\n                // Strip the basename to match useLocation()\n                {\n                  ...location,\n                  pathname:\n                    stripBasename(location.pathname, basename) ||\n                    location.pathname,\n                },\n                matches\n              )\n          : getKey;\n      let disableScrollRestoration = router?.enableScrollRestoration(\n        savedScrollPositions,\n        () => window.scrollY,\n        getKeyWithoutBasename\n      );\n      return () => disableScrollRestoration && disableScrollRestoration();\n    }, [router, basename, getKey]);\n\n    // Restore scrolling when state.restoreScrollPosition changes\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useLayoutEffect(() => {\n      // Explicit false means don't do anything (used for submissions)\n      if (restoreScrollPosition === false) {\n        return;\n      }\n\n      // been here before, scroll to it\n      if (typeof restoreScrollPosition === \"number\") {\n        window.scrollTo(0, restoreScrollPosition);\n        return;\n      }\n\n      // try to scroll to the hash\n      if (location.hash) {\n        let el = document.getElementById(\n          decodeURIComponent(location.hash.slice(1))\n        );\n        if (el) {\n          el.scrollIntoView();\n          return;\n        }\n      }\n\n      // Don't reset if this navigation opted out\n      if (preventScrollReset === true) {\n        return;\n      }\n\n      // otherwise go to the top on new locations\n      window.scrollTo(0, 0);\n    }, [location, restoreScrollPosition, preventScrollReset]);\n  }\n}\n\nexport { useScrollRestoration as UNSAFE_useScrollRestoration };\n\n/**\n * Setup a callback to be fired on the window's `beforeunload` event. This is\n * useful for saving some data to `window.localStorage` just before the page\n * refreshes.\n *\n * Note: The `callback` argument should be a function created with\n * `React.useCallback()`.\n */\nexport function useBeforeUnload(\n  callback: (event: BeforeUnloadEvent) => any,\n  options?: { capture?: boolean }\n): void {\n  let { capture } = options || {};\n  React.useEffect(() => {\n    let opts = capture != null ? { capture } : undefined;\n    window.addEventListener(\"beforeunload\", callback, opts);\n    return () => {\n      window.removeEventListener(\"beforeunload\", callback, opts);\n    };\n  }, [callback, capture]);\n}\n\n/**\n * Setup a callback to be fired on the window's `pagehide` event. This is\n * useful for saving some data to `window.localStorage` just before the page\n * refreshes.  This event is better supported than beforeunload across browsers.\n *\n * Note: The `callback` argument should be a function created with\n * `React.useCallback()`.\n */\nfunction usePageHide(\n  callback: (event: PageTransitionEvent) => any,\n  options?: { capture?: boolean }\n): void {\n  let { capture } = options || {};\n  React.useEffect(() => {\n    let opts = capture != null ? { capture } : undefined;\n    window.addEventListener(\"pagehide\", callback, opts);\n    return () => {\n      window.removeEventListener(\"pagehide\", callback, opts);\n    };\n  }, [callback, capture]);\n}\n\n/**\n * Wrapper around useBlocker to show a window.confirm prompt to users instead\n * of building a custom UI with useBlocker.\n *\n * Warning: This has *a lot of rough edges* and behaves very differently (and\n * very incorrectly in some cases) across browsers if user click addition\n * back/forward navigations while the confirm is open.  Use at your own risk.\n */\nfunction usePrompt({ when, message }: { when: boolean; message: string }) {\n  let blocker = useBlocker(when);\n\n  React.useEffect(() => {\n    if (blocker.state === \"blocked\") {\n      let proceed = window.confirm(message);\n      if (proceed) {\n        // This timeout is needed to avoid a weird \"race\" on POP navigations\n        // between the `window.history` revert navigation and the result of\n        // `window.confirm`\n        setTimeout(blocker.proceed, 0);\n      } else {\n        blocker.reset();\n      }\n    }\n  }, [blocker, message]);\n\n  React.useEffect(() => {\n    if (blocker.state === \"blocked\" && !when) {\n      blocker.reset();\n    }\n  }, [blocker, when]);\n}\n\nexport { usePrompt as unstable_usePrompt };\n\n//#endregion\n","/**\n * React Router v6.15.0\n *\n * Copyright (c) Remix Software Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */\nimport * as React from 'react';\nimport { UNSAFE_invariant, joinPaths, matchPath, UNSAFE_getPathContributingMatches, UNSAFE_warning, resolveTo, parsePath, matchRoutes, Action, stripBasename, IDLE_BLOCKER, isRouteErrorResponse, createMemoryHistory, AbortedDeferredError, createRouter } from '@remix-run/router';\nexport { AbortedDeferredError, Action as NavigationType, createPath, defer, generatePath, isRouteErrorResponse, json, matchPath, matchRoutes, parsePath, redirect, redirectDocument, resolvePath } from '@remix-run/router';\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\n// Create react-specific types from the agnostic types in @remix-run/router to\n// export from react-router\nconst DataRouterContext = /*#__PURE__*/React.createContext(null);\nif (process.env.NODE_ENV !== \"production\") {\n  DataRouterContext.displayName = \"DataRouter\";\n}\nconst DataRouterStateContext = /*#__PURE__*/React.createContext(null);\nif (process.env.NODE_ENV !== \"production\") {\n  DataRouterStateContext.displayName = \"DataRouterState\";\n}\nconst AwaitContext = /*#__PURE__*/React.createContext(null);\nif (process.env.NODE_ENV !== \"production\") {\n  AwaitContext.displayName = \"Await\";\n}\n\n/**\n * A Navigator is a \"location changer\"; it's how you get to different locations.\n *\n * Every history instance conforms to the Navigator interface, but the\n * distinction is useful primarily when it comes to the low-level <Router> API\n * where both the location and a navigator must be provided separately in order\n * to avoid \"tearing\" that may occur in a suspense-enabled app if the action\n * and/or location were to be read directly from the history instance.\n */\n\nconst NavigationContext = /*#__PURE__*/React.createContext(null);\nif (process.env.NODE_ENV !== \"production\") {\n  NavigationContext.displayName = \"Navigation\";\n}\nconst LocationContext = /*#__PURE__*/React.createContext(null);\nif (process.env.NODE_ENV !== \"production\") {\n  LocationContext.displayName = \"Location\";\n}\nconst RouteContext = /*#__PURE__*/React.createContext({\n  outlet: null,\n  matches: [],\n  isDataRoute: false\n});\nif (process.env.NODE_ENV !== \"production\") {\n  RouteContext.displayName = \"Route\";\n}\nconst RouteErrorContext = /*#__PURE__*/React.createContext(null);\nif (process.env.NODE_ENV !== \"production\") {\n  RouteErrorContext.displayName = \"RouteError\";\n}\n\n/**\n * Returns the full href for the given \"to\" value. This is useful for building\n * custom links that are also accessible and preserve right-click behavior.\n *\n * @see https://reactrouter.com/hooks/use-href\n */\nfunction useHref(to, _temp) {\n  let {\n    relative\n  } = _temp === void 0 ? {} : _temp;\n  !useInRouterContext() ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, // TODO: This error is probably because they somehow have 2 versions of the\n  // router loaded. We can help them understand how to avoid that.\n  \"useHref() may be used only in the context of a <Router> component.\") : UNSAFE_invariant(false) : void 0;\n  let {\n    basename,\n    navigator\n  } = React.useContext(NavigationContext);\n  let {\n    hash,\n    pathname,\n    search\n  } = useResolvedPath(to, {\n    relative\n  });\n  let joinedPathname = pathname;\n\n  // If we're operating within a basename, prepend it to the pathname prior\n  // to creating the href.  If this is a root navigation, then just use the raw\n  // basename which allows the basename to have full control over the presence\n  // of a trailing slash on root links\n  if (basename !== \"/\") {\n    joinedPathname = pathname === \"/\" ? basename : joinPaths([basename, pathname]);\n  }\n  return navigator.createHref({\n    pathname: joinedPathname,\n    search,\n    hash\n  });\n}\n\n/**\n * Returns true if this component is a descendant of a <Router>.\n *\n * @see https://reactrouter.com/hooks/use-in-router-context\n */\nfunction useInRouterContext() {\n  return React.useContext(LocationContext) != null;\n}\n\n/**\n * Returns the current location object, which represents the current URL in web\n * browsers.\n *\n * Note: If you're using this it may mean you're doing some of your own\n * \"routing\" in your app, and we'd like to know what your use case is. We may\n * be able to provide something higher-level to better suit your needs.\n *\n * @see https://reactrouter.com/hooks/use-location\n */\nfunction useLocation() {\n  !useInRouterContext() ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, // TODO: This error is probably because they somehow have 2 versions of the\n  // router loaded. We can help them understand how to avoid that.\n  \"useLocation() may be used only in the context of a <Router> component.\") : UNSAFE_invariant(false) : void 0;\n  return React.useContext(LocationContext).location;\n}\n\n/**\n * Returns the current navigation action which describes how the router came to\n * the current location, either by a pop, push, or replace on the history stack.\n *\n * @see https://reactrouter.com/hooks/use-navigation-type\n */\nfunction useNavigationType() {\n  return React.useContext(LocationContext).navigationType;\n}\n\n/**\n * Returns a PathMatch object if the given pattern matches the current URL.\n * This is useful for components that need to know \"active\" state, e.g.\n * <NavLink>.\n *\n * @see https://reactrouter.com/hooks/use-match\n */\nfunction useMatch(pattern) {\n  !useInRouterContext() ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, // TODO: This error is probably because they somehow have 2 versions of the\n  // router loaded. We can help them understand how to avoid that.\n  \"useMatch() may be used only in the context of a <Router> component.\") : UNSAFE_invariant(false) : void 0;\n  let {\n    pathname\n  } = useLocation();\n  return React.useMemo(() => matchPath(pattern, pathname), [pathname, pattern]);\n}\n\n/**\n * The interface for the navigate() function returned from useNavigate().\n */\n\nconst navigateEffectWarning = \"You should call navigate() in a React.useEffect(), not when \" + \"your component is first rendered.\";\n\n// Mute warnings for calls to useNavigate in SSR environments\nfunction useIsomorphicLayoutEffect(cb) {\n  let isStatic = React.useContext(NavigationContext).static;\n  if (!isStatic) {\n    // We should be able to get rid of this once react 18.3 is released\n    // See: https://github.com/facebook/react/pull/26395\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useLayoutEffect(cb);\n  }\n}\n\n/**\n * Returns an imperative method for changing the location. Used by <Link>s, but\n * may also be used by other elements to change the location.\n *\n * @see https://reactrouter.com/hooks/use-navigate\n */\nfunction useNavigate() {\n  let {\n    isDataRoute\n  } = React.useContext(RouteContext);\n  // Conditional usage is OK here because the usage of a data router is static\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  return isDataRoute ? useNavigateStable() : useNavigateUnstable();\n}\nfunction useNavigateUnstable() {\n  !useInRouterContext() ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, // TODO: This error is probably because they somehow have 2 versions of the\n  // router loaded. We can help them understand how to avoid that.\n  \"useNavigate() may be used only in the context of a <Router> component.\") : UNSAFE_invariant(false) : void 0;\n  let dataRouterContext = React.useContext(DataRouterContext);\n  let {\n    basename,\n    navigator\n  } = React.useContext(NavigationContext);\n  let {\n    matches\n  } = React.useContext(RouteContext);\n  let {\n    pathname: locationPathname\n  } = useLocation();\n  let routePathnamesJson = JSON.stringify(UNSAFE_getPathContributingMatches(matches).map(match => match.pathnameBase));\n  let activeRef = React.useRef(false);\n  useIsomorphicLayoutEffect(() => {\n    activeRef.current = true;\n  });\n  let navigate = React.useCallback(function (to, options) {\n    if (options === void 0) {\n      options = {};\n    }\n    process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(activeRef.current, navigateEffectWarning) : void 0;\n\n    // Short circuit here since if this happens on first render the navigate\n    // is useless because we haven't wired up our history listener yet\n    if (!activeRef.current) return;\n    if (typeof to === \"number\") {\n      navigator.go(to);\n      return;\n    }\n    let path = resolveTo(to, JSON.parse(routePathnamesJson), locationPathname, options.relative === \"path\");\n\n    // If we're operating within a basename, prepend it to the pathname prior\n    // to handing off to history (but only if we're not in a data router,\n    // otherwise it'll prepend the basename inside of the router).\n    // If this is a root navigation, then we navigate to the raw basename\n    // which allows the basename to have full control over the presence of a\n    // trailing slash on root links\n    if (dataRouterContext == null && basename !== \"/\") {\n      path.pathname = path.pathname === \"/\" ? basename : joinPaths([basename, path.pathname]);\n    }\n    (!!options.replace ? navigator.replace : navigator.push)(path, options.state, options);\n  }, [basename, navigator, routePathnamesJson, locationPathname, dataRouterContext]);\n  return navigate;\n}\nconst OutletContext = /*#__PURE__*/React.createContext(null);\n\n/**\n * Returns the context (if provided) for the child route at this level of the route\n * hierarchy.\n * @see https://reactrouter.com/hooks/use-outlet-context\n */\nfunction useOutletContext() {\n  return React.useContext(OutletContext);\n}\n\n/**\n * Returns the element for the child route at this level of the route\n * hierarchy. Used internally by <Outlet> to render child routes.\n *\n * @see https://reactrouter.com/hooks/use-outlet\n */\nfunction useOutlet(context) {\n  let outlet = React.useContext(RouteContext).outlet;\n  if (outlet) {\n    return /*#__PURE__*/React.createElement(OutletContext.Provider, {\n      value: context\n    }, outlet);\n  }\n  return outlet;\n}\n\n/**\n * Returns an object of key/value pairs of the dynamic params from the current\n * URL that were matched by the route path.\n *\n * @see https://reactrouter.com/hooks/use-params\n */\nfunction useParams() {\n  let {\n    matches\n  } = React.useContext(RouteContext);\n  let routeMatch = matches[matches.length - 1];\n  return routeMatch ? routeMatch.params : {};\n}\n\n/**\n * Resolves the pathname of the given `to` value against the current location.\n *\n * @see https://reactrouter.com/hooks/use-resolved-path\n */\nfunction useResolvedPath(to, _temp2) {\n  let {\n    relative\n  } = _temp2 === void 0 ? {} : _temp2;\n  let {\n    matches\n  } = React.useContext(RouteContext);\n  let {\n    pathname: locationPathname\n  } = useLocation();\n  let routePathnamesJson = JSON.stringify(UNSAFE_getPathContributingMatches(matches).map(match => match.pathnameBase));\n  return React.useMemo(() => resolveTo(to, JSON.parse(routePathnamesJson), locationPathname, relative === \"path\"), [to, routePathnamesJson, locationPathname, relative]);\n}\n\n/**\n * Returns the element of the route that matched the current location, prepared\n * with the correct context to render the remainder of the route tree. Route\n * elements in the tree must render an <Outlet> to render their child route's\n * element.\n *\n * @see https://reactrouter.com/hooks/use-routes\n */\nfunction useRoutes(routes, locationArg) {\n  return useRoutesImpl(routes, locationArg);\n}\n\n// Internal implementation with accept optional param for RouterProvider usage\nfunction useRoutesImpl(routes, locationArg, dataRouterState) {\n  !useInRouterContext() ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, // TODO: This error is probably because they somehow have 2 versions of the\n  // router loaded. We can help them understand how to avoid that.\n  \"useRoutes() may be used only in the context of a <Router> component.\") : UNSAFE_invariant(false) : void 0;\n  let {\n    navigator\n  } = React.useContext(NavigationContext);\n  let {\n    matches: parentMatches\n  } = React.useContext(RouteContext);\n  let routeMatch = parentMatches[parentMatches.length - 1];\n  let parentParams = routeMatch ? routeMatch.params : {};\n  let parentPathname = routeMatch ? routeMatch.pathname : \"/\";\n  let parentPathnameBase = routeMatch ? routeMatch.pathnameBase : \"/\";\n  let parentRoute = routeMatch && routeMatch.route;\n  if (process.env.NODE_ENV !== \"production\") {\n    // You won't get a warning about 2 different <Routes> under a <Route>\n    // without a trailing *, but this is a best-effort warning anyway since we\n    // cannot even give the warning unless they land at the parent route.\n    //\n    // Example:\n    //\n    // <Routes>\n    //   {/* This route path MUST end with /* because otherwise\n    //       it will never match /blog/post/123 */}\n    //   <Route path=\"blog\" element={<Blog />} />\n    //   <Route path=\"blog/feed\" element={<BlogFeed />} />\n    // </Routes>\n    //\n    // function Blog() {\n    //   return (\n    //     <Routes>\n    //       <Route path=\"post/:id\" element={<Post />} />\n    //     </Routes>\n    //   );\n    // }\n    let parentPath = parentRoute && parentRoute.path || \"\";\n    warningOnce(parentPathname, !parentRoute || parentPath.endsWith(\"*\"), \"You rendered descendant <Routes> (or called `useRoutes()`) at \" + (\"\\\"\" + parentPathname + \"\\\" (under <Route path=\\\"\" + parentPath + \"\\\">) but the \") + \"parent route path has no trailing \\\"*\\\". This means if you navigate \" + \"deeper, the parent won't match anymore and therefore the child \" + \"routes will never render.\\n\\n\" + (\"Please change the parent <Route path=\\\"\" + parentPath + \"\\\"> to <Route \") + (\"path=\\\"\" + (parentPath === \"/\" ? \"*\" : parentPath + \"/*\") + \"\\\">.\"));\n  }\n  let locationFromContext = useLocation();\n  let location;\n  if (locationArg) {\n    var _parsedLocationArg$pa;\n    let parsedLocationArg = typeof locationArg === \"string\" ? parsePath(locationArg) : locationArg;\n    !(parentPathnameBase === \"/\" || ((_parsedLocationArg$pa = parsedLocationArg.pathname) == null ? void 0 : _parsedLocationArg$pa.startsWith(parentPathnameBase))) ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, \" + \"the location pathname must begin with the portion of the URL pathname that was \" + (\"matched by all parent routes. The current pathname base is \\\"\" + parentPathnameBase + \"\\\" \") + (\"but pathname \\\"\" + parsedLocationArg.pathname + \"\\\" was given in the `location` prop.\")) : UNSAFE_invariant(false) : void 0;\n    location = parsedLocationArg;\n  } else {\n    location = locationFromContext;\n  }\n  let pathname = location.pathname || \"/\";\n  let remainingPathname = parentPathnameBase === \"/\" ? pathname : pathname.slice(parentPathnameBase.length) || \"/\";\n  let matches = matchRoutes(routes, {\n    pathname: remainingPathname\n  });\n  if (process.env.NODE_ENV !== \"production\") {\n    process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(parentRoute || matches != null, \"No routes matched location \\\"\" + location.pathname + location.search + location.hash + \"\\\" \") : void 0;\n    process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(matches == null || matches[matches.length - 1].route.element !== undefined || matches[matches.length - 1].route.Component !== undefined, \"Matched leaf route at location \\\"\" + location.pathname + location.search + location.hash + \"\\\" \" + \"does not have an element or Component. This means it will render an <Outlet /> with a \" + \"null value by default resulting in an \\\"empty\\\" page.\") : void 0;\n  }\n  let renderedMatches = _renderMatches(matches && matches.map(match => Object.assign({}, match, {\n    params: Object.assign({}, parentParams, match.params),\n    pathname: joinPaths([parentPathnameBase,\n    // Re-encode pathnames that were decoded inside matchRoutes\n    navigator.encodeLocation ? navigator.encodeLocation(match.pathname).pathname : match.pathname]),\n    pathnameBase: match.pathnameBase === \"/\" ? parentPathnameBase : joinPaths([parentPathnameBase,\n    // Re-encode pathnames that were decoded inside matchRoutes\n    navigator.encodeLocation ? navigator.encodeLocation(match.pathnameBase).pathname : match.pathnameBase])\n  })), parentMatches, dataRouterState);\n\n  // When a user passes in a `locationArg`, the associated routes need to\n  // be wrapped in a new `LocationContext.Provider` in order for `useLocation`\n  // to use the scoped location instead of the global location.\n  if (locationArg && renderedMatches) {\n    return /*#__PURE__*/React.createElement(LocationContext.Provider, {\n      value: {\n        location: _extends({\n          pathname: \"/\",\n          search: \"\",\n          hash: \"\",\n          state: null,\n          key: \"default\"\n        }, location),\n        navigationType: Action.Pop\n      }\n    }, renderedMatches);\n  }\n  return renderedMatches;\n}\nfunction DefaultErrorComponent() {\n  let error = useRouteError();\n  let message = isRouteErrorResponse(error) ? error.status + \" \" + error.statusText : error instanceof Error ? error.message : JSON.stringify(error);\n  let stack = error instanceof Error ? error.stack : null;\n  let lightgrey = \"rgba(200,200,200, 0.5)\";\n  let preStyles = {\n    padding: \"0.5rem\",\n    backgroundColor: lightgrey\n  };\n  let codeStyles = {\n    padding: \"2px 4px\",\n    backgroundColor: lightgrey\n  };\n  let devInfo = null;\n  if (process.env.NODE_ENV !== \"production\") {\n    console.error(\"Error handled by React Router default ErrorBoundary:\", error);\n    devInfo = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"p\", null, \"\\uD83D\\uDCBF Hey developer \\uD83D\\uDC4B\"), /*#__PURE__*/React.createElement(\"p\", null, \"You can provide a way better UX than this when your app throws errors by providing your own \", /*#__PURE__*/React.createElement(\"code\", {\n      style: codeStyles\n    }, \"ErrorBoundary\"), \" or\", \" \", /*#__PURE__*/React.createElement(\"code\", {\n      style: codeStyles\n    }, \"errorElement\"), \" prop on your route.\"));\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h2\", null, \"Unexpected Application Error!\"), /*#__PURE__*/React.createElement(\"h3\", {\n    style: {\n      fontStyle: \"italic\"\n    }\n  }, message), stack ? /*#__PURE__*/React.createElement(\"pre\", {\n    style: preStyles\n  }, stack) : null, devInfo);\n}\nconst defaultErrorElement = /*#__PURE__*/React.createElement(DefaultErrorComponent, null);\nclass RenderErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      location: props.location,\n      revalidation: props.revalidation,\n      error: props.error\n    };\n  }\n  static getDerivedStateFromError(error) {\n    return {\n      error: error\n    };\n  }\n  static getDerivedStateFromProps(props, state) {\n    // When we get into an error state, the user will likely click \"back\" to the\n    // previous page that didn't have an error. Because this wraps the entire\n    // application, that will have no effect--the error page continues to display.\n    // This gives us a mechanism to recover from the error when the location changes.\n    //\n    // Whether we're in an error state or not, we update the location in state\n    // so that when we are in an error state, it gets reset when a new location\n    // comes in and the user recovers from the error.\n    if (state.location !== props.location || state.revalidation !== \"idle\" && props.revalidation === \"idle\") {\n      return {\n        error: props.error,\n        location: props.location,\n        revalidation: props.revalidation\n      };\n    }\n\n    // If we're not changing locations, preserve the location but still surface\n    // any new errors that may come through. We retain the existing error, we do\n    // this because the error provided from the app state may be cleared without\n    // the location changing.\n    return {\n      error: props.error || state.error,\n      location: state.location,\n      revalidation: props.revalidation || state.revalidation\n    };\n  }\n  componentDidCatch(error, errorInfo) {\n    console.error(\"React Router caught the following error during render\", error, errorInfo);\n  }\n  render() {\n    return this.state.error ? /*#__PURE__*/React.createElement(RouteContext.Provider, {\n      value: this.props.routeContext\n    }, /*#__PURE__*/React.createElement(RouteErrorContext.Provider, {\n      value: this.state.error,\n      children: this.props.component\n    })) : this.props.children;\n  }\n}\nfunction RenderedRoute(_ref) {\n  let {\n    routeContext,\n    match,\n    children\n  } = _ref;\n  let dataRouterContext = React.useContext(DataRouterContext);\n\n  // Track how deep we got in our render pass to emulate SSR componentDidCatch\n  // in a DataStaticRouter\n  if (dataRouterContext && dataRouterContext.static && dataRouterContext.staticContext && (match.route.errorElement || match.route.ErrorBoundary)) {\n    dataRouterContext.staticContext._deepestRenderedBoundaryId = match.route.id;\n  }\n  return /*#__PURE__*/React.createElement(RouteContext.Provider, {\n    value: routeContext\n  }, children);\n}\nfunction _renderMatches(matches, parentMatches, dataRouterState) {\n  var _dataRouterState2;\n  if (parentMatches === void 0) {\n    parentMatches = [];\n  }\n  if (dataRouterState === void 0) {\n    dataRouterState = null;\n  }\n  if (matches == null) {\n    var _dataRouterState;\n    if ((_dataRouterState = dataRouterState) != null && _dataRouterState.errors) {\n      // Don't bail if we have data router errors so we can render them in the\n      // boundary.  Use the pre-matched (or shimmed) matches\n      matches = dataRouterState.matches;\n    } else {\n      return null;\n    }\n  }\n  let renderedMatches = matches;\n\n  // If we have data errors, trim matches to the highest error boundary\n  let errors = (_dataRouterState2 = dataRouterState) == null ? void 0 : _dataRouterState2.errors;\n  if (errors != null) {\n    let errorIndex = renderedMatches.findIndex(m => m.route.id && (errors == null ? void 0 : errors[m.route.id]));\n    !(errorIndex >= 0) ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"Could not find a matching route for errors on route IDs: \" + Object.keys(errors).join(\",\")) : UNSAFE_invariant(false) : void 0;\n    renderedMatches = renderedMatches.slice(0, Math.min(renderedMatches.length, errorIndex + 1));\n  }\n  return renderedMatches.reduceRight((outlet, match, index) => {\n    let error = match.route.id ? errors == null ? void 0 : errors[match.route.id] : null;\n    // Only data routers handle errors\n    let errorElement = null;\n    if (dataRouterState) {\n      errorElement = match.route.errorElement || defaultErrorElement;\n    }\n    let matches = parentMatches.concat(renderedMatches.slice(0, index + 1));\n    let getChildren = () => {\n      let children;\n      if (error) {\n        children = errorElement;\n      } else if (match.route.Component) {\n        // Note: This is a de-optimized path since React won't re-use the\n        // ReactElement since it's identity changes with each new\n        // React.createElement call.  We keep this so folks can use\n        // `<Route Component={...}>` in `<Routes>` but generally `Component`\n        // usage is only advised in `RouterProvider` when we can convert it to\n        // `element` ahead of time.\n        children = /*#__PURE__*/React.createElement(match.route.Component, null);\n      } else if (match.route.element) {\n        children = match.route.element;\n      } else {\n        children = outlet;\n      }\n      return /*#__PURE__*/React.createElement(RenderedRoute, {\n        match: match,\n        routeContext: {\n          outlet,\n          matches,\n          isDataRoute: dataRouterState != null\n        },\n        children: children\n      });\n    };\n    // Only wrap in an error boundary within data router usages when we have an\n    // ErrorBoundary/errorElement on this route.  Otherwise let it bubble up to\n    // an ancestor ErrorBoundary/errorElement\n    return dataRouterState && (match.route.ErrorBoundary || match.route.errorElement || index === 0) ? /*#__PURE__*/React.createElement(RenderErrorBoundary, {\n      location: dataRouterState.location,\n      revalidation: dataRouterState.revalidation,\n      component: errorElement,\n      error: error,\n      children: getChildren(),\n      routeContext: {\n        outlet: null,\n        matches,\n        isDataRoute: true\n      }\n    }) : getChildren();\n  }, null);\n}\nvar DataRouterHook = /*#__PURE__*/function (DataRouterHook) {\n  DataRouterHook[\"UseBlocker\"] = \"useBlocker\";\n  DataRouterHook[\"UseRevalidator\"] = \"useRevalidator\";\n  DataRouterHook[\"UseNavigateStable\"] = \"useNavigate\";\n  return DataRouterHook;\n}(DataRouterHook || {});\nvar DataRouterStateHook = /*#__PURE__*/function (DataRouterStateHook) {\n  DataRouterStateHook[\"UseBlocker\"] = \"useBlocker\";\n  DataRouterStateHook[\"UseLoaderData\"] = \"useLoaderData\";\n  DataRouterStateHook[\"UseActionData\"] = \"useActionData\";\n  DataRouterStateHook[\"UseRouteError\"] = \"useRouteError\";\n  DataRouterStateHook[\"UseNavigation\"] = \"useNavigation\";\n  DataRouterStateHook[\"UseRouteLoaderData\"] = \"useRouteLoaderData\";\n  DataRouterStateHook[\"UseMatches\"] = \"useMatches\";\n  DataRouterStateHook[\"UseRevalidator\"] = \"useRevalidator\";\n  DataRouterStateHook[\"UseNavigateStable\"] = \"useNavigate\";\n  DataRouterStateHook[\"UseRouteId\"] = \"useRouteId\";\n  return DataRouterStateHook;\n}(DataRouterStateHook || {});\nfunction getDataRouterConsoleError(hookName) {\n  return hookName + \" must be used within a data router.  See https://reactrouter.com/routers/picking-a-router.\";\n}\nfunction useDataRouterContext(hookName) {\n  let ctx = React.useContext(DataRouterContext);\n  !ctx ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, getDataRouterConsoleError(hookName)) : UNSAFE_invariant(false) : void 0;\n  return ctx;\n}\nfunction useDataRouterState(hookName) {\n  let state = React.useContext(DataRouterStateContext);\n  !state ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, getDataRouterConsoleError(hookName)) : UNSAFE_invariant(false) : void 0;\n  return state;\n}\nfunction useRouteContext(hookName) {\n  let route = React.useContext(RouteContext);\n  !route ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, getDataRouterConsoleError(hookName)) : UNSAFE_invariant(false) : void 0;\n  return route;\n}\n\n// Internal version with hookName-aware debugging\nfunction useCurrentRouteId(hookName) {\n  let route = useRouteContext(hookName);\n  let thisRoute = route.matches[route.matches.length - 1];\n  !thisRoute.route.id ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, hookName + \" can only be used on routes that contain a unique \\\"id\\\"\") : UNSAFE_invariant(false) : void 0;\n  return thisRoute.route.id;\n}\n\n/**\n * Returns the ID for the nearest contextual route\n */\nfunction useRouteId() {\n  return useCurrentRouteId(DataRouterStateHook.UseRouteId);\n}\n\n/**\n * Returns the current navigation, defaulting to an \"idle\" navigation when\n * no navigation is in progress\n */\nfunction useNavigation() {\n  let state = useDataRouterState(DataRouterStateHook.UseNavigation);\n  return state.navigation;\n}\n\n/**\n * Returns a revalidate function for manually triggering revalidation, as well\n * as the current state of any manual revalidations\n */\nfunction useRevalidator() {\n  let dataRouterContext = useDataRouterContext(DataRouterHook.UseRevalidator);\n  let state = useDataRouterState(DataRouterStateHook.UseRevalidator);\n  return React.useMemo(() => ({\n    revalidate: dataRouterContext.router.revalidate,\n    state: state.revalidation\n  }), [dataRouterContext.router.revalidate, state.revalidation]);\n}\n\n/**\n * Returns the active route matches, useful for accessing loaderData for\n * parent/child routes or the route \"handle\" property\n */\nfunction useMatches() {\n  let {\n    matches,\n    loaderData\n  } = useDataRouterState(DataRouterStateHook.UseMatches);\n  return React.useMemo(() => matches.map(match => {\n    let {\n      pathname,\n      params\n    } = match;\n    // Note: This structure matches that created by createUseMatchesMatch\n    // in the @remix-run/router , so if you change this please also change\n    // that :)  Eventually we'll DRY this up\n    return {\n      id: match.route.id,\n      pathname,\n      params,\n      data: loaderData[match.route.id],\n      handle: match.route.handle\n    };\n  }), [matches, loaderData]);\n}\n\n/**\n * Returns the loader data for the nearest ancestor Route loader\n */\nfunction useLoaderData() {\n  let state = useDataRouterState(DataRouterStateHook.UseLoaderData);\n  let routeId = useCurrentRouteId(DataRouterStateHook.UseLoaderData);\n  if (state.errors && state.errors[routeId] != null) {\n    console.error(\"You cannot `useLoaderData` in an errorElement (routeId: \" + routeId + \")\");\n    return undefined;\n  }\n  return state.loaderData[routeId];\n}\n\n/**\n * Returns the loaderData for the given routeId\n */\nfunction useRouteLoaderData(routeId) {\n  let state = useDataRouterState(DataRouterStateHook.UseRouteLoaderData);\n  return state.loaderData[routeId];\n}\n\n/**\n * Returns the action data for the nearest ancestor Route action\n */\nfunction useActionData() {\n  let state = useDataRouterState(DataRouterStateHook.UseActionData);\n  let route = React.useContext(RouteContext);\n  !route ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"useActionData must be used inside a RouteContext\") : UNSAFE_invariant(false) : void 0;\n  return Object.values((state == null ? void 0 : state.actionData) || {})[0];\n}\n\n/**\n * Returns the nearest ancestor Route error, which could be a loader/action\n * error or a render error.  This is intended to be called from your\n * ErrorBoundary/errorElement to display a proper error message.\n */\nfunction useRouteError() {\n  var _state$errors;\n  let error = React.useContext(RouteErrorContext);\n  let state = useDataRouterState(DataRouterStateHook.UseRouteError);\n  let routeId = useCurrentRouteId(DataRouterStateHook.UseRouteError);\n\n  // If this was a render error, we put it in a RouteError context inside\n  // of RenderErrorBoundary\n  if (error) {\n    return error;\n  }\n\n  // Otherwise look for errors from our data router state\n  return (_state$errors = state.errors) == null ? void 0 : _state$errors[routeId];\n}\n\n/**\n * Returns the happy-path data from the nearest ancestor <Await /> value\n */\nfunction useAsyncValue() {\n  let value = React.useContext(AwaitContext);\n  return value == null ? void 0 : value._data;\n}\n\n/**\n * Returns the error from the nearest ancestor <Await /> value\n */\nfunction useAsyncError() {\n  let value = React.useContext(AwaitContext);\n  return value == null ? void 0 : value._error;\n}\nlet blockerId = 0;\n\n/**\n * Allow the application to block navigations within the SPA and present the\n * user a confirmation dialog to confirm the navigation.  Mostly used to avoid\n * using half-filled form data.  This does not handle hard-reloads or\n * cross-origin navigations.\n */\nfunction useBlocker(shouldBlock) {\n  let {\n    router,\n    basename\n  } = useDataRouterContext(DataRouterHook.UseBlocker);\n  let state = useDataRouterState(DataRouterStateHook.UseBlocker);\n  let [blockerKey, setBlockerKey] = React.useState(\"\");\n  let blockerFunction = React.useCallback(arg => {\n    if (typeof shouldBlock !== \"function\") {\n      return !!shouldBlock;\n    }\n    if (basename === \"/\") {\n      return shouldBlock(arg);\n    }\n\n    // If they provided us a function and we've got an active basename, strip\n    // it from the locations we expose to the user to match the behavior of\n    // useLocation\n    let {\n      currentLocation,\n      nextLocation,\n      historyAction\n    } = arg;\n    return shouldBlock({\n      currentLocation: _extends({}, currentLocation, {\n        pathname: stripBasename(currentLocation.pathname, basename) || currentLocation.pathname\n      }),\n      nextLocation: _extends({}, nextLocation, {\n        pathname: stripBasename(nextLocation.pathname, basename) || nextLocation.pathname\n      }),\n      historyAction\n    });\n  }, [basename, shouldBlock]);\n\n  // This effect is in charge of blocker key assignment and deletion (which is\n  // tightly coupled to the key)\n  React.useEffect(() => {\n    let key = String(++blockerId);\n    setBlockerKey(key);\n    return () => router.deleteBlocker(key);\n  }, [router]);\n\n  // This effect handles assigning the blockerFunction.  This is to handle\n  // unstable blocker function identities, and happens only after the prior\n  // effect so we don't get an orphaned blockerFunction in the router with a\n  // key of \"\".  Until then we just have the IDLE_BLOCKER.\n  React.useEffect(() => {\n    if (blockerKey !== \"\") {\n      router.getBlocker(blockerKey, blockerFunction);\n    }\n  }, [router, blockerKey, blockerFunction]);\n\n  // Prefer the blocker from `state` not `router.state` since DataRouterContext\n  // is memoized so this ensures we update on blocker state updates\n  return blockerKey && state.blockers.has(blockerKey) ? state.blockers.get(blockerKey) : IDLE_BLOCKER;\n}\n\n/**\n * Stable version of useNavigate that is used when we are in the context of\n * a RouterProvider.\n */\nfunction useNavigateStable() {\n  let {\n    router\n  } = useDataRouterContext(DataRouterHook.UseNavigateStable);\n  let id = useCurrentRouteId(DataRouterStateHook.UseNavigateStable);\n  let activeRef = React.useRef(false);\n  useIsomorphicLayoutEffect(() => {\n    activeRef.current = true;\n  });\n  let navigate = React.useCallback(function (to, options) {\n    if (options === void 0) {\n      options = {};\n    }\n    process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(activeRef.current, navigateEffectWarning) : void 0;\n\n    // Short circuit here since if this happens on first render the navigate\n    // is useless because we haven't wired up our router subscriber yet\n    if (!activeRef.current) return;\n    if (typeof to === \"number\") {\n      router.navigate(to);\n    } else {\n      router.navigate(to, _extends({\n        fromRouteId: id\n      }, options));\n    }\n  }, [router, id]);\n  return navigate;\n}\nconst alreadyWarned = {};\nfunction warningOnce(key, cond, message) {\n  if (!cond && !alreadyWarned[key]) {\n    alreadyWarned[key] = true;\n    process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(false, message) : void 0;\n  }\n}\n\n/**\n  Webpack + React 17 fails to compile on any of the following because webpack\n  complains that `startTransition` doesn't exist in `React`:\n  * import { startTransition } from \"react\"\n  * import * as React from from \"react\";\n    \"startTransition\" in React ? React.startTransition(() => setState()) : setState()\n  * import * as React from from \"react\";\n    \"startTransition\" in React ? React[\"startTransition\"](() => setState()) : setState()\n\n  Moving it to a constant such as the following solves the Webpack/React 17 issue:\n  * import * as React from from \"react\";\n    const START_TRANSITION = \"startTransition\";\n    START_TRANSITION in React ? React[START_TRANSITION](() => setState()) : setState()\n\n  However, that introduces webpack/terser minification issues in production builds\n  in React 18 where minification/obfuscation ends up removing the call of\n  React.startTransition entirely from the first half of the ternary.  Grabbing\n  this exported reference once up front resolves that issue.\n\n  See https://github.com/remix-run/react-router/issues/10579\n*/\nconst START_TRANSITION = \"startTransition\";\nconst startTransitionImpl = React[START_TRANSITION];\n\n/**\n * Given a Remix Router instance, render the appropriate UI\n */\nfunction RouterProvider(_ref) {\n  let {\n    fallbackElement,\n    router,\n    future\n  } = _ref;\n  // Need to use a layout effect here so we are subscribed early enough to\n  // pick up on any render-driven redirects/navigations (useEffect/<Navigate>)\n  let [state, setStateImpl] = React.useState(router.state);\n  let {\n    v7_startTransition\n  } = future || {};\n  let setState = React.useCallback(newState => {\n    v7_startTransition && startTransitionImpl ? startTransitionImpl(() => setStateImpl(newState)) : setStateImpl(newState);\n  }, [setStateImpl, v7_startTransition]);\n  React.useLayoutEffect(() => router.subscribe(setState), [router, setState]);\n  let navigator = React.useMemo(() => {\n    return {\n      createHref: router.createHref,\n      encodeLocation: router.encodeLocation,\n      go: n => router.navigate(n),\n      push: (to, state, opts) => router.navigate(to, {\n        state,\n        preventScrollReset: opts == null ? void 0 : opts.preventScrollReset\n      }),\n      replace: (to, state, opts) => router.navigate(to, {\n        replace: true,\n        state,\n        preventScrollReset: opts == null ? void 0 : opts.preventScrollReset\n      })\n    };\n  }, [router]);\n  let basename = router.basename || \"/\";\n  let dataRouterContext = React.useMemo(() => ({\n    router,\n    navigator,\n    static: false,\n    basename\n  }), [router, navigator, basename]);\n\n  // The fragment and {null} here are important!  We need them to keep React 18's\n  // useId happy when we are server-rendering since we may have a <script> here\n  // containing the hydrated server-side staticContext (from StaticRouterProvider).\n  // useId relies on the component tree structure to generate deterministic id's\n  // so we need to ensure it remains the same on the client even though\n  // we don't need the <script> tag\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(DataRouterContext.Provider, {\n    value: dataRouterContext\n  }, /*#__PURE__*/React.createElement(DataRouterStateContext.Provider, {\n    value: state\n  }, /*#__PURE__*/React.createElement(Router, {\n    basename: basename,\n    location: state.location,\n    navigationType: state.historyAction,\n    navigator: navigator\n  }, state.initialized ? /*#__PURE__*/React.createElement(DataRoutes, {\n    routes: router.routes,\n    state: state\n  }) : fallbackElement))), null);\n}\nfunction DataRoutes(_ref2) {\n  let {\n    routes,\n    state\n  } = _ref2;\n  return useRoutesImpl(routes, undefined, state);\n}\n/**\n * A <Router> that stores all entries in memory.\n *\n * @see https://reactrouter.com/router-components/memory-router\n */\nfunction MemoryRouter(_ref3) {\n  let {\n    basename,\n    children,\n    initialEntries,\n    initialIndex,\n    future\n  } = _ref3;\n  let historyRef = React.useRef();\n  if (historyRef.current == null) {\n    historyRef.current = createMemoryHistory({\n      initialEntries,\n      initialIndex,\n      v5Compat: true\n    });\n  }\n  let history = historyRef.current;\n  let [state, setStateImpl] = React.useState({\n    action: history.action,\n    location: history.location\n  });\n  let {\n    v7_startTransition\n  } = future || {};\n  let setState = React.useCallback(newState => {\n    v7_startTransition && startTransitionImpl ? startTransitionImpl(() => setStateImpl(newState)) : setStateImpl(newState);\n  }, [setStateImpl, v7_startTransition]);\n  React.useLayoutEffect(() => history.listen(setState), [history, setState]);\n  return /*#__PURE__*/React.createElement(Router, {\n    basename: basename,\n    children: children,\n    location: state.location,\n    navigationType: state.action,\n    navigator: history\n  });\n}\n/**\n * Changes the current location.\n *\n * Note: This API is mostly useful in React.Component subclasses that are not\n * able to use hooks. In functional components, we recommend you use the\n * `useNavigate` hook instead.\n *\n * @see https://reactrouter.com/components/navigate\n */\nfunction Navigate(_ref4) {\n  let {\n    to,\n    replace,\n    state,\n    relative\n  } = _ref4;\n  !useInRouterContext() ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, // TODO: This error is probably because they somehow have 2 versions of\n  // the router loaded. We can help them understand how to avoid that.\n  \"<Navigate> may be used only in the context of a <Router> component.\") : UNSAFE_invariant(false) : void 0;\n  process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(!React.useContext(NavigationContext).static, \"<Navigate> must not be used on the initial render in a <StaticRouter>. \" + \"This is a no-op, but you should modify your code so the <Navigate> is \" + \"only ever rendered in response to some user interaction or state change.\") : void 0;\n  let {\n    matches\n  } = React.useContext(RouteContext);\n  let {\n    pathname: locationPathname\n  } = useLocation();\n  let navigate = useNavigate();\n\n  // Resolve the path outside of the effect so that when effects run twice in\n  // StrictMode they navigate to the same place\n  let path = resolveTo(to, UNSAFE_getPathContributingMatches(matches).map(match => match.pathnameBase), locationPathname, relative === \"path\");\n  let jsonPath = JSON.stringify(path);\n  React.useEffect(() => navigate(JSON.parse(jsonPath), {\n    replace,\n    state,\n    relative\n  }), [navigate, jsonPath, relative, replace, state]);\n  return null;\n}\n/**\n * Renders the child route's element, if there is one.\n *\n * @see https://reactrouter.com/components/outlet\n */\nfunction Outlet(props) {\n  return useOutlet(props.context);\n}\n/**\n * Declares an element that should be rendered at a certain URL path.\n *\n * @see https://reactrouter.com/components/route\n */\nfunction Route(_props) {\n  process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"A <Route> is only ever to be used as the child of <Routes> element, \" + \"never rendered directly. Please wrap your <Route> in a <Routes>.\") : UNSAFE_invariant(false) ;\n}\n/**\n * Provides location context for the rest of the app.\n *\n * Note: You usually won't render a <Router> directly. Instead, you'll render a\n * router that is more specific to your environment such as a <BrowserRouter>\n * in web browsers or a <StaticRouter> for server rendering.\n *\n * @see https://reactrouter.com/router-components/router\n */\nfunction Router(_ref5) {\n  let {\n    basename: basenameProp = \"/\",\n    children = null,\n    location: locationProp,\n    navigationType = Action.Pop,\n    navigator,\n    static: staticProp = false\n  } = _ref5;\n  !!useInRouterContext() ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"You cannot render a <Router> inside another <Router>.\" + \" You should never have more than one in your app.\") : UNSAFE_invariant(false) : void 0;\n\n  // Preserve trailing slashes on basename, so we can let the user control\n  // the enforcement of trailing slashes throughout the app\n  let basename = basenameProp.replace(/^\\/*/, \"/\");\n  let navigationContext = React.useMemo(() => ({\n    basename,\n    navigator,\n    static: staticProp\n  }), [basename, navigator, staticProp]);\n  if (typeof locationProp === \"string\") {\n    locationProp = parsePath(locationProp);\n  }\n  let {\n    pathname = \"/\",\n    search = \"\",\n    hash = \"\",\n    state = null,\n    key = \"default\"\n  } = locationProp;\n  let locationContext = React.useMemo(() => {\n    let trailingPathname = stripBasename(pathname, basename);\n    if (trailingPathname == null) {\n      return null;\n    }\n    return {\n      location: {\n        pathname: trailingPathname,\n        search,\n        hash,\n        state,\n        key\n      },\n      navigationType\n    };\n  }, [basename, pathname, search, hash, state, key, navigationType]);\n  process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(locationContext != null, \"<Router basename=\\\"\" + basename + \"\\\"> is not able to match the URL \" + (\"\\\"\" + pathname + search + hash + \"\\\" because it does not start with the \") + \"basename, so the <Router> won't render anything.\") : void 0;\n  if (locationContext == null) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(NavigationContext.Provider, {\n    value: navigationContext\n  }, /*#__PURE__*/React.createElement(LocationContext.Provider, {\n    children: children,\n    value: locationContext\n  }));\n}\n/**\n * A container for a nested tree of <Route> elements that renders the branch\n * that best matches the current location.\n *\n * @see https://reactrouter.com/components/routes\n */\nfunction Routes(_ref6) {\n  let {\n    children,\n    location\n  } = _ref6;\n  return useRoutes(createRoutesFromChildren(children), location);\n}\n/**\n * Component to use for rendering lazily loaded data from returning defer()\n * in a loader function\n */\nfunction Await(_ref7) {\n  let {\n    children,\n    errorElement,\n    resolve\n  } = _ref7;\n  return /*#__PURE__*/React.createElement(AwaitErrorBoundary, {\n    resolve: resolve,\n    errorElement: errorElement\n  }, /*#__PURE__*/React.createElement(ResolveAwait, null, children));\n}\nvar AwaitRenderStatus = /*#__PURE__*/function (AwaitRenderStatus) {\n  AwaitRenderStatus[AwaitRenderStatus[\"pending\"] = 0] = \"pending\";\n  AwaitRenderStatus[AwaitRenderStatus[\"success\"] = 1] = \"success\";\n  AwaitRenderStatus[AwaitRenderStatus[\"error\"] = 2] = \"error\";\n  return AwaitRenderStatus;\n}(AwaitRenderStatus || {});\nconst neverSettledPromise = new Promise(() => {});\nclass AwaitErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: null\n    };\n  }\n  static getDerivedStateFromError(error) {\n    return {\n      error\n    };\n  }\n  componentDidCatch(error, errorInfo) {\n    console.error(\"<Await> caught the following error during render\", error, errorInfo);\n  }\n  render() {\n    let {\n      children,\n      errorElement,\n      resolve\n    } = this.props;\n    let promise = null;\n    let status = AwaitRenderStatus.pending;\n    if (!(resolve instanceof Promise)) {\n      // Didn't get a promise - provide as a resolved promise\n      status = AwaitRenderStatus.success;\n      promise = Promise.resolve();\n      Object.defineProperty(promise, \"_tracked\", {\n        get: () => true\n      });\n      Object.defineProperty(promise, \"_data\", {\n        get: () => resolve\n      });\n    } else if (this.state.error) {\n      // Caught a render error, provide it as a rejected promise\n      status = AwaitRenderStatus.error;\n      let renderError = this.state.error;\n      promise = Promise.reject().catch(() => {}); // Avoid unhandled rejection warnings\n      Object.defineProperty(promise, \"_tracked\", {\n        get: () => true\n      });\n      Object.defineProperty(promise, \"_error\", {\n        get: () => renderError\n      });\n    } else if (resolve._tracked) {\n      // Already tracked promise - check contents\n      promise = resolve;\n      status = promise._error !== undefined ? AwaitRenderStatus.error : promise._data !== undefined ? AwaitRenderStatus.success : AwaitRenderStatus.pending;\n    } else {\n      // Raw (untracked) promise - track it\n      status = AwaitRenderStatus.pending;\n      Object.defineProperty(resolve, \"_tracked\", {\n        get: () => true\n      });\n      promise = resolve.then(data => Object.defineProperty(resolve, \"_data\", {\n        get: () => data\n      }), error => Object.defineProperty(resolve, \"_error\", {\n        get: () => error\n      }));\n    }\n    if (status === AwaitRenderStatus.error && promise._error instanceof AbortedDeferredError) {\n      // Freeze the UI by throwing a never resolved promise\n      throw neverSettledPromise;\n    }\n    if (status === AwaitRenderStatus.error && !errorElement) {\n      // No errorElement, throw to the nearest route-level error boundary\n      throw promise._error;\n    }\n    if (status === AwaitRenderStatus.error) {\n      // Render via our errorElement\n      return /*#__PURE__*/React.createElement(AwaitContext.Provider, {\n        value: promise,\n        children: errorElement\n      });\n    }\n    if (status === AwaitRenderStatus.success) {\n      // Render children with resolved value\n      return /*#__PURE__*/React.createElement(AwaitContext.Provider, {\n        value: promise,\n        children: children\n      });\n    }\n\n    // Throw to the suspense boundary\n    throw promise;\n  }\n}\n\n/**\n * @private\n * Indirection to leverage useAsyncValue for a render-prop API on <Await>\n */\nfunction ResolveAwait(_ref8) {\n  let {\n    children\n  } = _ref8;\n  let data = useAsyncValue();\n  let toRender = typeof children === \"function\" ? children(data) : children;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, toRender);\n}\n\n///////////////////////////////////////////////////////////////////////////////\n// UTILS\n///////////////////////////////////////////////////////////////////////////////\n\n/**\n * Creates a route config from a React \"children\" object, which is usually\n * either a `<Route>` element or an array of them. Used internally by\n * `<Routes>` to create a route config from its children.\n *\n * @see https://reactrouter.com/utils/create-routes-from-children\n */\nfunction createRoutesFromChildren(children, parentPath) {\n  if (parentPath === void 0) {\n    parentPath = [];\n  }\n  let routes = [];\n  React.Children.forEach(children, (element, index) => {\n    if (! /*#__PURE__*/React.isValidElement(element)) {\n      // Ignore non-elements. This allows people to more easily inline\n      // conditionals in their route config.\n      return;\n    }\n    let treePath = [...parentPath, index];\n    if (element.type === React.Fragment) {\n      // Transparently support React.Fragment and its children.\n      routes.push.apply(routes, createRoutesFromChildren(element.props.children, treePath));\n      return;\n    }\n    !(element.type === Route) ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"[\" + (typeof element.type === \"string\" ? element.type : element.type.name) + \"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>\") : UNSAFE_invariant(false) : void 0;\n    !(!element.props.index || !element.props.children) ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"An index route cannot have child routes.\") : UNSAFE_invariant(false) : void 0;\n    let route = {\n      id: element.props.id || treePath.join(\"-\"),\n      caseSensitive: element.props.caseSensitive,\n      element: element.props.element,\n      Component: element.props.Component,\n      index: element.props.index,\n      path: element.props.path,\n      loader: element.props.loader,\n      action: element.props.action,\n      errorElement: element.props.errorElement,\n      ErrorBoundary: element.props.ErrorBoundary,\n      hasErrorBoundary: element.props.ErrorBoundary != null || element.props.errorElement != null,\n      shouldRevalidate: element.props.shouldRevalidate,\n      handle: element.props.handle,\n      lazy: element.props.lazy\n    };\n    if (element.props.children) {\n      route.children = createRoutesFromChildren(element.props.children, treePath);\n    }\n    routes.push(route);\n  });\n  return routes;\n}\n\n/**\n * Renders the result of `matchRoutes()` into a React element.\n */\nfunction renderMatches(matches) {\n  return _renderMatches(matches);\n}\n\nfunction mapRouteProperties(route) {\n  let updates = {\n    // Note: this check also occurs in createRoutesFromChildren so update\n    // there if you change this -- please and thank you!\n    hasErrorBoundary: route.ErrorBoundary != null || route.errorElement != null\n  };\n  if (route.Component) {\n    if (process.env.NODE_ENV !== \"production\") {\n      if (route.element) {\n        process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(false, \"You should not include both `Component` and `element` on your route - \" + \"`Component` will be used.\") : void 0;\n      }\n    }\n    Object.assign(updates, {\n      element: /*#__PURE__*/React.createElement(route.Component),\n      Component: undefined\n    });\n  }\n  if (route.ErrorBoundary) {\n    if (process.env.NODE_ENV !== \"production\") {\n      if (route.errorElement) {\n        process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(false, \"You should not include both `ErrorBoundary` and `errorElement` on your route - \" + \"`ErrorBoundary` will be used.\") : void 0;\n      }\n    }\n    Object.assign(updates, {\n      errorElement: /*#__PURE__*/React.createElement(route.ErrorBoundary),\n      ErrorBoundary: undefined\n    });\n  }\n  return updates;\n}\nfunction createMemoryRouter(routes, opts) {\n  return createRouter({\n    basename: opts == null ? void 0 : opts.basename,\n    future: _extends({}, opts == null ? void 0 : opts.future, {\n      v7_prependBasename: true\n    }),\n    history: createMemoryHistory({\n      initialEntries: opts == null ? void 0 : opts.initialEntries,\n      initialIndex: opts == null ? void 0 : opts.initialIndex\n    }),\n    hydrationData: opts == null ? void 0 : opts.hydrationData,\n    routes,\n    mapRouteProperties\n  }).initialize();\n}\n\nexport { Await, MemoryRouter, Navigate, Outlet, Route, Router, RouterProvider, Routes, DataRouterContext as UNSAFE_DataRouterContext, DataRouterStateContext as UNSAFE_DataRouterStateContext, LocationContext as UNSAFE_LocationContext, NavigationContext as UNSAFE_NavigationContext, RouteContext as UNSAFE_RouteContext, mapRouteProperties as UNSAFE_mapRouteProperties, useRouteId as UNSAFE_useRouteId, useRoutesImpl as UNSAFE_useRoutesImpl, createMemoryRouter, createRoutesFromChildren, createRoutesFromChildren as createRoutesFromElements, renderMatches, useBlocker as unstable_useBlocker, useActionData, useAsyncError, useAsyncValue, useHref, useInRouterContext, useLoaderData, useLocation, useMatch, useMatches, useNavigate, useNavigation, useNavigationType, useOutlet, useOutletContext, useParams, useResolvedPath, useRevalidator, useRouteError, useRouteLoaderData, useRoutes };\n//# sourceMappingURL=index.js.map\n","import * as React from \"react\";\nimport type {\n  AgnosticRouteMatch,\n  AgnosticIndexRouteObject,\n  AgnosticNonIndexRouteObject,\n  History,\n  Location,\n  RelativeRoutingType,\n  Router,\n  StaticHandlerContext,\n  To,\n  TrackedPromise,\n  LazyRouteFunction,\n} from \"@remix-run/router\";\nimport type { Action as NavigationType } from \"@remix-run/router\";\n\n// Create react-specific types from the agnostic types in @remix-run/router to\n// export from react-router\nexport interface IndexRouteObject {\n  caseSensitive?: AgnosticIndexRouteObject[\"caseSensitive\"];\n  path?: AgnosticIndexRouteObject[\"path\"];\n  id?: AgnosticIndexRouteObject[\"id\"];\n  loader?: AgnosticIndexRouteObject[\"loader\"];\n  action?: AgnosticIndexRouteObject[\"action\"];\n  hasErrorBoundary?: AgnosticIndexRouteObject[\"hasErrorBoundary\"];\n  shouldRevalidate?: AgnosticIndexRouteObject[\"shouldRevalidate\"];\n  handle?: AgnosticIndexRouteObject[\"handle\"];\n  index: true;\n  children?: undefined;\n  element?: React.ReactNode | null;\n  errorElement?: React.ReactNode | null;\n  Component?: React.ComponentType | null;\n  ErrorBoundary?: React.ComponentType | null;\n  lazy?: LazyRouteFunction<RouteObject>;\n}\n\nexport interface NonIndexRouteObject {\n  caseSensitive?: AgnosticNonIndexRouteObject[\"caseSensitive\"];\n  path?: AgnosticNonIndexRouteObject[\"path\"];\n  id?: AgnosticNonIndexRouteObject[\"id\"];\n  loader?: AgnosticNonIndexRouteObject[\"loader\"];\n  action?: AgnosticNonIndexRouteObject[\"action\"];\n  hasErrorBoundary?: AgnosticNonIndexRouteObject[\"hasErrorBoundary\"];\n  shouldRevalidate?: AgnosticNonIndexRouteObject[\"shouldRevalidate\"];\n  handle?: AgnosticNonIndexRouteObject[\"handle\"];\n  index?: false;\n  children?: RouteObject[];\n  element?: React.ReactNode | null;\n  errorElement?: React.ReactNode | null;\n  Component?: React.ComponentType | null;\n  ErrorBoundary?: React.ComponentType | null;\n  lazy?: LazyRouteFunction<RouteObject>;\n}\n\nexport type RouteObject = IndexRouteObject | NonIndexRouteObject;\n\nexport type DataRouteObject = RouteObject & {\n  children?: DataRouteObject[];\n  id: string;\n};\n\nexport interface RouteMatch<\n  ParamKey extends string = string,\n  RouteObjectType extends RouteObject = RouteObject\n> extends AgnosticRouteMatch<ParamKey, RouteObjectType> {}\n\nexport interface DataRouteMatch extends RouteMatch<string, DataRouteObject> {}\n\nexport interface DataRouterContextObject extends NavigationContextObject {\n  router: Router;\n  staticContext?: StaticHandlerContext;\n}\n\nexport const DataRouterContext =\n  React.createContext<DataRouterContextObject | null>(null);\nif (__DEV__) {\n  DataRouterContext.displayName = \"DataRouter\";\n}\n\nexport const DataRouterStateContext = React.createContext<\n  Router[\"state\"] | null\n>(null);\nif (__DEV__) {\n  DataRouterStateContext.displayName = \"DataRouterState\";\n}\n\nexport const AwaitContext = React.createContext<TrackedPromise | null>(null);\nif (__DEV__) {\n  AwaitContext.displayName = \"Await\";\n}\n\nexport interface NavigateOptions {\n  replace?: boolean;\n  state?: any;\n  preventScrollReset?: boolean;\n  relative?: RelativeRoutingType;\n}\n\n/**\n * A Navigator is a \"location changer\"; it's how you get to different locations.\n *\n * Every history instance conforms to the Navigator interface, but the\n * distinction is useful primarily when it comes to the low-level <Router> API\n * where both the location and a navigator must be provided separately in order\n * to avoid \"tearing\" that may occur in a suspense-enabled app if the action\n * and/or location were to be read directly from the history instance.\n */\nexport interface Navigator {\n  createHref: History[\"createHref\"];\n  // Optional for backwards-compat with Router/HistoryRouter usage (edge case)\n  encodeLocation?: History[\"encodeLocation\"];\n  go: History[\"go\"];\n  push(to: To, state?: any, opts?: NavigateOptions): void;\n  replace(to: To, state?: any, opts?: NavigateOptions): void;\n}\n\ninterface NavigationContextObject {\n  basename: string;\n  navigator: Navigator;\n  static: boolean;\n}\n\nexport const NavigationContext = React.createContext<NavigationContextObject>(\n  null!\n);\n\nif (__DEV__) {\n  NavigationContext.displayName = \"Navigation\";\n}\n\ninterface LocationContextObject {\n  location: Location;\n  navigationType: NavigationType;\n}\n\nexport const LocationContext = React.createContext<LocationContextObject>(\n  null!\n);\n\nif (__DEV__) {\n  LocationContext.displayName = \"Location\";\n}\n\nexport interface RouteContextObject {\n  outlet: React.ReactElement | null;\n  matches: RouteMatch[];\n  isDataRoute: boolean;\n}\n\nexport const RouteContext = React.createContext<RouteContextObject>({\n  outlet: null,\n  matches: [],\n  isDataRoute: false,\n});\n\nif (__DEV__) {\n  RouteContext.displayName = \"Route\";\n}\n\nexport const RouteErrorContext = React.createContext<any>(null);\n\nif (__DEV__) {\n  RouteErrorContext.displayName = \"RouteError\";\n}\n","import * as React from \"react\";\nimport type {\n  Blocker,\n  BlockerFunction,\n  Location,\n  ParamParseKey,\n  Params,\n  Path,\n  PathMatch,\n  PathPattern,\n  RelativeRoutingType,\n  Router as RemixRouter,\n  RevalidationState,\n  To,\n} from \"@remix-run/router\";\nimport {\n  Action as NavigationType,\n  UNSAFE_invariant as invariant,\n  isRouteErrorResponse,\n  joinPaths,\n  matchPath,\n  matchRoutes,\n  parsePath,\n  resolveTo,\n  stripBasename,\n  IDLE_BLOCKER,\n  UNSAFE_getPathContributingMatches as getPathContributingMatches,\n  UNSAFE_warning as warning,\n} from \"@remix-run/router\";\n\nimport type {\n  NavigateOptions,\n  RouteContextObject,\n  RouteMatch,\n  RouteObject,\n  DataRouteMatch,\n} from \"./context\";\nimport {\n  DataRouterContext,\n  DataRouterStateContext,\n  LocationContext,\n  NavigationContext,\n  RouteContext,\n  RouteErrorContext,\n  AwaitContext,\n} from \"./context\";\n\n/**\n * Returns the full href for the given \"to\" value. This is useful for building\n * custom links that are also accessible and preserve right-click behavior.\n *\n * @see https://reactrouter.com/hooks/use-href\n */\nexport function useHref(\n  to: To,\n  { relative }: { relative?: RelativeRoutingType } = {}\n): string {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useHref() may be used only in the context of a <Router> component.`\n  );\n\n  let { basename, navigator } = React.useContext(NavigationContext);\n  let { hash, pathname, search } = useResolvedPath(to, { relative });\n\n  let joinedPathname = pathname;\n\n  // If we're operating within a basename, prepend it to the pathname prior\n  // to creating the href.  If this is a root navigation, then just use the raw\n  // basename which allows the basename to have full control over the presence\n  // of a trailing slash on root links\n  if (basename !== \"/\") {\n    joinedPathname =\n      pathname === \"/\" ? basename : joinPaths([basename, pathname]);\n  }\n\n  return navigator.createHref({ pathname: joinedPathname, search, hash });\n}\n\n/**\n * Returns true if this component is a descendant of a <Router>.\n *\n * @see https://reactrouter.com/hooks/use-in-router-context\n */\nexport function useInRouterContext(): boolean {\n  return React.useContext(LocationContext) != null;\n}\n\n/**\n * Returns the current location object, which represents the current URL in web\n * browsers.\n *\n * Note: If you're using this it may mean you're doing some of your own\n * \"routing\" in your app, and we'd like to know what your use case is. We may\n * be able to provide something higher-level to better suit your needs.\n *\n * @see https://reactrouter.com/hooks/use-location\n */\nexport function useLocation(): Location {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useLocation() may be used only in the context of a <Router> component.`\n  );\n\n  return React.useContext(LocationContext).location;\n}\n\n/**\n * Returns the current navigation action which describes how the router came to\n * the current location, either by a pop, push, or replace on the history stack.\n *\n * @see https://reactrouter.com/hooks/use-navigation-type\n */\nexport function useNavigationType(): NavigationType {\n  return React.useContext(LocationContext).navigationType;\n}\n\n/**\n * Returns a PathMatch object if the given pattern matches the current URL.\n * This is useful for components that need to know \"active\" state, e.g.\n * <NavLink>.\n *\n * @see https://reactrouter.com/hooks/use-match\n */\nexport function useMatch<\n  ParamKey extends ParamParseKey<Path>,\n  Path extends string\n>(pattern: PathPattern<Path> | Path): PathMatch<ParamKey> | null {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useMatch() may be used only in the context of a <Router> component.`\n  );\n\n  let { pathname } = useLocation();\n  return React.useMemo(\n    () => matchPath<ParamKey, Path>(pattern, pathname),\n    [pathname, pattern]\n  );\n}\n\n/**\n * The interface for the navigate() function returned from useNavigate().\n */\nexport interface NavigateFunction {\n  (to: To, options?: NavigateOptions): void;\n  (delta: number): void;\n}\n\nconst navigateEffectWarning =\n  `You should call navigate() in a React.useEffect(), not when ` +\n  `your component is first rendered.`;\n\n// Mute warnings for calls to useNavigate in SSR environments\nfunction useIsomorphicLayoutEffect(\n  cb: Parameters<typeof React.useLayoutEffect>[0]\n) {\n  let isStatic = React.useContext(NavigationContext).static;\n  if (!isStatic) {\n    // We should be able to get rid of this once react 18.3 is released\n    // See: https://github.com/facebook/react/pull/26395\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useLayoutEffect(cb);\n  }\n}\n\n/**\n * Returns an imperative method for changing the location. Used by <Link>s, but\n * may also be used by other elements to change the location.\n *\n * @see https://reactrouter.com/hooks/use-navigate\n */\nexport function useNavigate(): NavigateFunction {\n  let { isDataRoute } = React.useContext(RouteContext);\n  // Conditional usage is OK here because the usage of a data router is static\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  return isDataRoute ? useNavigateStable() : useNavigateUnstable();\n}\n\nfunction useNavigateUnstable(): NavigateFunction {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useNavigate() may be used only in the context of a <Router> component.`\n  );\n\n  let dataRouterContext = React.useContext(DataRouterContext);\n  let { basename, navigator } = React.useContext(NavigationContext);\n  let { matches } = React.useContext(RouteContext);\n  let { pathname: locationPathname } = useLocation();\n\n  let routePathnamesJson = JSON.stringify(\n    getPathContributingMatches(matches).map((match) => match.pathnameBase)\n  );\n\n  let activeRef = React.useRef(false);\n  useIsomorphicLayoutEffect(() => {\n    activeRef.current = true;\n  });\n\n  let navigate: NavigateFunction = React.useCallback(\n    (to: To | number, options: NavigateOptions = {}) => {\n      warning(activeRef.current, navigateEffectWarning);\n\n      // Short circuit here since if this happens on first render the navigate\n      // is useless because we haven't wired up our history listener yet\n      if (!activeRef.current) return;\n\n      if (typeof to === \"number\") {\n        navigator.go(to);\n        return;\n      }\n\n      let path = resolveTo(\n        to,\n        JSON.parse(routePathnamesJson),\n        locationPathname,\n        options.relative === \"path\"\n      );\n\n      // If we're operating within a basename, prepend it to the pathname prior\n      // to handing off to history (but only if we're not in a data router,\n      // otherwise it'll prepend the basename inside of the router).\n      // If this is a root navigation, then we navigate to the raw basename\n      // which allows the basename to have full control over the presence of a\n      // trailing slash on root links\n      if (dataRouterContext == null && basename !== \"/\") {\n        path.pathname =\n          path.pathname === \"/\"\n            ? basename\n            : joinPaths([basename, path.pathname]);\n      }\n\n      (!!options.replace ? navigator.replace : navigator.push)(\n        path,\n        options.state,\n        options\n      );\n    },\n    [\n      basename,\n      navigator,\n      routePathnamesJson,\n      locationPathname,\n      dataRouterContext,\n    ]\n  );\n\n  return navigate;\n}\n\nconst OutletContext = React.createContext<unknown>(null);\n\n/**\n * Returns the context (if provided) for the child route at this level of the route\n * hierarchy.\n * @see https://reactrouter.com/hooks/use-outlet-context\n */\nexport function useOutletContext<Context = unknown>(): Context {\n  return React.useContext(OutletContext) as Context;\n}\n\n/**\n * Returns the element for the child route at this level of the route\n * hierarchy. Used internally by <Outlet> to render child routes.\n *\n * @see https://reactrouter.com/hooks/use-outlet\n */\nexport function useOutlet(context?: unknown): React.ReactElement | null {\n  let outlet = React.useContext(RouteContext).outlet;\n  if (outlet) {\n    return (\n      <OutletContext.Provider value={context}>{outlet}</OutletContext.Provider>\n    );\n  }\n  return outlet;\n}\n\n/**\n * Returns an object of key/value pairs of the dynamic params from the current\n * URL that were matched by the route path.\n *\n * @see https://reactrouter.com/hooks/use-params\n */\nexport function useParams<\n  ParamsOrKey extends string | Record<string, string | undefined> = string\n>(): Readonly<\n  [ParamsOrKey] extends [string] ? Params<ParamsOrKey> : Partial<ParamsOrKey>\n> {\n  let { matches } = React.useContext(RouteContext);\n  let routeMatch = matches[matches.length - 1];\n  return routeMatch ? (routeMatch.params as any) : {};\n}\n\n/**\n * Resolves the pathname of the given `to` value against the current location.\n *\n * @see https://reactrouter.com/hooks/use-resolved-path\n */\nexport function useResolvedPath(\n  to: To,\n  { relative }: { relative?: RelativeRoutingType } = {}\n): Path {\n  let { matches } = React.useContext(RouteContext);\n  let { pathname: locationPathname } = useLocation();\n\n  let routePathnamesJson = JSON.stringify(\n    getPathContributingMatches(matches).map((match) => match.pathnameBase)\n  );\n\n  return React.useMemo(\n    () =>\n      resolveTo(\n        to,\n        JSON.parse(routePathnamesJson),\n        locationPathname,\n        relative === \"path\"\n      ),\n    [to, routePathnamesJson, locationPathname, relative]\n  );\n}\n\n/**\n * Returns the element of the route that matched the current location, prepared\n * with the correct context to render the remainder of the route tree. Route\n * elements in the tree must render an <Outlet> to render their child route's\n * element.\n *\n * @see https://reactrouter.com/hooks/use-routes\n */\nexport function useRoutes(\n  routes: RouteObject[],\n  locationArg?: Partial<Location> | string\n): React.ReactElement | null {\n  return useRoutesImpl(routes, locationArg);\n}\n\n// Internal implementation with accept optional param for RouterProvider usage\nexport function useRoutesImpl(\n  routes: RouteObject[],\n  locationArg?: Partial<Location> | string,\n  dataRouterState?: RemixRouter[\"state\"]\n): React.ReactElement | null {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useRoutes() may be used only in the context of a <Router> component.`\n  );\n\n  let { navigator } = React.useContext(NavigationContext);\n  let { matches: parentMatches } = React.useContext(RouteContext);\n  let routeMatch = parentMatches[parentMatches.length - 1];\n  let parentParams = routeMatch ? routeMatch.params : {};\n  let parentPathname = routeMatch ? routeMatch.pathname : \"/\";\n  let parentPathnameBase = routeMatch ? routeMatch.pathnameBase : \"/\";\n  let parentRoute = routeMatch && routeMatch.route;\n\n  if (__DEV__) {\n    // You won't get a warning about 2 different <Routes> under a <Route>\n    // without a trailing *, but this is a best-effort warning anyway since we\n    // cannot even give the warning unless they land at the parent route.\n    //\n    // Example:\n    //\n    // <Routes>\n    //   {/* This route path MUST end with /* because otherwise\n    //       it will never match /blog/post/123 */}\n    //   <Route path=\"blog\" element={<Blog />} />\n    //   <Route path=\"blog/feed\" element={<BlogFeed />} />\n    // </Routes>\n    //\n    // function Blog() {\n    //   return (\n    //     <Routes>\n    //       <Route path=\"post/:id\" element={<Post />} />\n    //     </Routes>\n    //   );\n    // }\n    let parentPath = (parentRoute && parentRoute.path) || \"\";\n    warningOnce(\n      parentPathname,\n      !parentRoute || parentPath.endsWith(\"*\"),\n      `You rendered descendant <Routes> (or called \\`useRoutes()\\`) at ` +\n        `\"${parentPathname}\" (under <Route path=\"${parentPath}\">) but the ` +\n        `parent route path has no trailing \"*\". This means if you navigate ` +\n        `deeper, the parent won't match anymore and therefore the child ` +\n        `routes will never render.\\n\\n` +\n        `Please change the parent <Route path=\"${parentPath}\"> to <Route ` +\n        `path=\"${parentPath === \"/\" ? \"*\" : `${parentPath}/*`}\">.`\n    );\n  }\n\n  let locationFromContext = useLocation();\n\n  let location;\n  if (locationArg) {\n    let parsedLocationArg =\n      typeof locationArg === \"string\" ? parsePath(locationArg) : locationArg;\n\n    invariant(\n      parentPathnameBase === \"/\" ||\n        parsedLocationArg.pathname?.startsWith(parentPathnameBase),\n      `When overriding the location using \\`<Routes location>\\` or \\`useRoutes(routes, location)\\`, ` +\n        `the location pathname must begin with the portion of the URL pathname that was ` +\n        `matched by all parent routes. The current pathname base is \"${parentPathnameBase}\" ` +\n        `but pathname \"${parsedLocationArg.pathname}\" was given in the \\`location\\` prop.`\n    );\n\n    location = parsedLocationArg;\n  } else {\n    location = locationFromContext;\n  }\n\n  let pathname = location.pathname || \"/\";\n  let remainingPathname =\n    parentPathnameBase === \"/\"\n      ? pathname\n      : pathname.slice(parentPathnameBase.length) || \"/\";\n\n  let matches = matchRoutes(routes, { pathname: remainingPathname });\n\n  if (__DEV__) {\n    warning(\n      parentRoute || matches != null,\n      `No routes matched location \"${location.pathname}${location.search}${location.hash}\" `\n    );\n\n    warning(\n      matches == null ||\n        matches[matches.length - 1].route.element !== undefined ||\n        matches[matches.length - 1].route.Component !== undefined,\n      `Matched leaf route at location \"${location.pathname}${location.search}${location.hash}\" ` +\n        `does not have an element or Component. This means it will render an <Outlet /> with a ` +\n        `null value by default resulting in an \"empty\" page.`\n    );\n  }\n\n  let renderedMatches = _renderMatches(\n    matches &&\n      matches.map((match) =>\n        Object.assign({}, match, {\n          params: Object.assign({}, parentParams, match.params),\n          pathname: joinPaths([\n            parentPathnameBase,\n            // Re-encode pathnames that were decoded inside matchRoutes\n            navigator.encodeLocation\n              ? navigator.encodeLocation(match.pathname).pathname\n              : match.pathname,\n          ]),\n          pathnameBase:\n            match.pathnameBase === \"/\"\n              ? parentPathnameBase\n              : joinPaths([\n                  parentPathnameBase,\n                  // Re-encode pathnames that were decoded inside matchRoutes\n                  navigator.encodeLocation\n                    ? navigator.encodeLocation(match.pathnameBase).pathname\n                    : match.pathnameBase,\n                ]),\n        })\n      ),\n    parentMatches,\n    dataRouterState\n  );\n\n  // When a user passes in a `locationArg`, the associated routes need to\n  // be wrapped in a new `LocationContext.Provider` in order for `useLocation`\n  // to use the scoped location instead of the global location.\n  if (locationArg && renderedMatches) {\n    return (\n      <LocationContext.Provider\n        value={{\n          location: {\n            pathname: \"/\",\n            search: \"\",\n            hash: \"\",\n            state: null,\n            key: \"default\",\n            ...location,\n          },\n          navigationType: NavigationType.Pop,\n        }}\n      >\n        {renderedMatches}\n      </LocationContext.Provider>\n    );\n  }\n\n  return renderedMatches;\n}\n\nfunction DefaultErrorComponent() {\n  let error = useRouteError();\n  let message = isRouteErrorResponse(error)\n    ? `${error.status} ${error.statusText}`\n    : error instanceof Error\n    ? error.message\n    : JSON.stringify(error);\n  let stack = error instanceof Error ? error.stack : null;\n  let lightgrey = \"rgba(200,200,200, 0.5)\";\n  let preStyles = { padding: \"0.5rem\", backgroundColor: lightgrey };\n  let codeStyles = { padding: \"2px 4px\", backgroundColor: lightgrey };\n\n  let devInfo = null;\n  if (__DEV__) {\n    console.error(\n      \"Error handled by React Router default ErrorBoundary:\",\n      error\n    );\n\n    devInfo = (\n      <>\n        <p> Hey developer </p>\n        <p>\n          You can provide a way better UX than this when your app throws errors\n          by providing your own <code style={codeStyles}>ErrorBoundary</code> or{\" \"}\n          <code style={codeStyles}>errorElement</code> prop on your route.\n        </p>\n      </>\n    );\n  }\n\n  return (\n    <>\n      <h2>Unexpected Application Error!</h2>\n      <h3 style={{ fontStyle: \"italic\" }}>{message}</h3>\n      {stack ? <pre style={preStyles}>{stack}</pre> : null}\n      {devInfo}\n    </>\n  );\n}\n\nconst defaultErrorElement = <DefaultErrorComponent />;\n\ntype RenderErrorBoundaryProps = React.PropsWithChildren<{\n  location: Location;\n  revalidation: RevalidationState;\n  error: any;\n  component: React.ReactNode;\n  routeContext: RouteContextObject;\n}>;\n\ntype RenderErrorBoundaryState = {\n  location: Location;\n  revalidation: RevalidationState;\n  error: any;\n};\n\nexport class RenderErrorBoundary extends React.Component<\n  RenderErrorBoundaryProps,\n  RenderErrorBoundaryState\n> {\n  constructor(props: RenderErrorBoundaryProps) {\n    super(props);\n    this.state = {\n      location: props.location,\n      revalidation: props.revalidation,\n      error: props.error,\n    };\n  }\n\n  static getDerivedStateFromError(error: any) {\n    return { error: error };\n  }\n\n  static getDerivedStateFromProps(\n    props: RenderErrorBoundaryProps,\n    state: RenderErrorBoundaryState\n  ) {\n    // When we get into an error state, the user will likely click \"back\" to the\n    // previous page that didn't have an error. Because this wraps the entire\n    // application, that will have no effect--the error page continues to display.\n    // This gives us a mechanism to recover from the error when the location changes.\n    //\n    // Whether we're in an error state or not, we update the location in state\n    // so that when we are in an error state, it gets reset when a new location\n    // comes in and the user recovers from the error.\n    if (\n      state.location !== props.location ||\n      (state.revalidation !== \"idle\" && props.revalidation === \"idle\")\n    ) {\n      return {\n        error: props.error,\n        location: props.location,\n        revalidation: props.revalidation,\n      };\n    }\n\n    // If we're not changing locations, preserve the location but still surface\n    // any new errors that may come through. We retain the existing error, we do\n    // this because the error provided from the app state may be cleared without\n    // the location changing.\n    return {\n      error: props.error || state.error,\n      location: state.location,\n      revalidation: props.revalidation || state.revalidation,\n    };\n  }\n\n  componentDidCatch(error: any, errorInfo: any) {\n    console.error(\n      \"React Router caught the following error during render\",\n      error,\n      errorInfo\n    );\n  }\n\n  render() {\n    return this.state.error ? (\n      <RouteContext.Provider value={this.props.routeContext}>\n        <RouteErrorContext.Provider\n          value={this.state.error}\n          children={this.props.component}\n        />\n      </RouteContext.Provider>\n    ) : (\n      this.props.children\n    );\n  }\n}\n\ninterface RenderedRouteProps {\n  routeContext: RouteContextObject;\n  match: RouteMatch<string, RouteObject>;\n  children: React.ReactNode | null;\n}\n\nfunction RenderedRoute({ routeContext, match, children }: RenderedRouteProps) {\n  let dataRouterContext = React.useContext(DataRouterContext);\n\n  // Track how deep we got in our render pass to emulate SSR componentDidCatch\n  // in a DataStaticRouter\n  if (\n    dataRouterContext &&\n    dataRouterContext.static &&\n    dataRouterContext.staticContext &&\n    (match.route.errorElement || match.route.ErrorBoundary)\n  ) {\n    dataRouterContext.staticContext._deepestRenderedBoundaryId = match.route.id;\n  }\n\n  return (\n    <RouteContext.Provider value={routeContext}>\n      {children}\n    </RouteContext.Provider>\n  );\n}\n\nexport function _renderMatches(\n  matches: RouteMatch[] | null,\n  parentMatches: RouteMatch[] = [],\n  dataRouterState: RemixRouter[\"state\"] | null = null\n): React.ReactElement | null {\n  if (matches == null) {\n    if (dataRouterState?.errors) {\n      // Don't bail if we have data router errors so we can render them in the\n      // boundary.  Use the pre-matched (or shimmed) matches\n      matches = dataRouterState.matches as DataRouteMatch[];\n    } else {\n      return null;\n    }\n  }\n\n  let renderedMatches = matches;\n\n  // If we have data errors, trim matches to the highest error boundary\n  let errors = dataRouterState?.errors;\n  if (errors != null) {\n    let errorIndex = renderedMatches.findIndex(\n      (m) => m.route.id && errors?.[m.route.id]\n    );\n    invariant(\n      errorIndex >= 0,\n      `Could not find a matching route for errors on route IDs: ${Object.keys(\n        errors\n      ).join(\",\")}`\n    );\n    renderedMatches = renderedMatches.slice(\n      0,\n      Math.min(renderedMatches.length, errorIndex + 1)\n    );\n  }\n\n  return renderedMatches.reduceRight((outlet, match, index) => {\n    let error = match.route.id ? errors?.[match.route.id] : null;\n    // Only data routers handle errors\n    let errorElement: React.ReactNode | null = null;\n    if (dataRouterState) {\n      errorElement = match.route.errorElement || defaultErrorElement;\n    }\n    let matches = parentMatches.concat(renderedMatches.slice(0, index + 1));\n    let getChildren = () => {\n      let children: React.ReactNode;\n      if (error) {\n        children = errorElement;\n      } else if (match.route.Component) {\n        // Note: This is a de-optimized path since React won't re-use the\n        // ReactElement since it's identity changes with each new\n        // React.createElement call.  We keep this so folks can use\n        // `<Route Component={...}>` in `<Routes>` but generally `Component`\n        // usage is only advised in `RouterProvider` when we can convert it to\n        // `element` ahead of time.\n        children = <match.route.Component />;\n      } else if (match.route.element) {\n        children = match.route.element;\n      } else {\n        children = outlet;\n      }\n      return (\n        <RenderedRoute\n          match={match}\n          routeContext={{\n            outlet,\n            matches,\n            isDataRoute: dataRouterState != null,\n          }}\n          children={children}\n        />\n      );\n    };\n    // Only wrap in an error boundary within data router usages when we have an\n    // ErrorBoundary/errorElement on this route.  Otherwise let it bubble up to\n    // an ancestor ErrorBoundary/errorElement\n    return dataRouterState &&\n      (match.route.ErrorBoundary || match.route.errorElement || index === 0) ? (\n      <RenderErrorBoundary\n        location={dataRouterState.location}\n        revalidation={dataRouterState.revalidation}\n        component={errorElement}\n        error={error}\n        children={getChildren()}\n        routeContext={{ outlet: null, matches, isDataRoute: true }}\n      />\n    ) : (\n      getChildren()\n    );\n  }, null as React.ReactElement | null);\n}\n\nenum DataRouterHook {\n  UseBlocker = \"useBlocker\",\n  UseRevalidator = \"useRevalidator\",\n  UseNavigateStable = \"useNavigate\",\n}\n\nenum DataRouterStateHook {\n  UseBlocker = \"useBlocker\",\n  UseLoaderData = \"useLoaderData\",\n  UseActionData = \"useActionData\",\n  UseRouteError = \"useRouteError\",\n  UseNavigation = \"useNavigation\",\n  UseRouteLoaderData = \"useRouteLoaderData\",\n  UseMatches = \"useMatches\",\n  UseRevalidator = \"useRevalidator\",\n  UseNavigateStable = \"useNavigate\",\n  UseRouteId = \"useRouteId\",\n}\n\nfunction getDataRouterConsoleError(\n  hookName: DataRouterHook | DataRouterStateHook\n) {\n  return `${hookName} must be used within a data router.  See https://reactrouter.com/routers/picking-a-router.`;\n}\n\nfunction useDataRouterContext(hookName: DataRouterHook) {\n  let ctx = React.useContext(DataRouterContext);\n  invariant(ctx, getDataRouterConsoleError(hookName));\n  return ctx;\n}\n\nfunction useDataRouterState(hookName: DataRouterStateHook) {\n  let state = React.useContext(DataRouterStateContext);\n  invariant(state, getDataRouterConsoleError(hookName));\n  return state;\n}\n\nfunction useRouteContext(hookName: DataRouterStateHook) {\n  let route = React.useContext(RouteContext);\n  invariant(route, getDataRouterConsoleError(hookName));\n  return route;\n}\n\n// Internal version with hookName-aware debugging\nfunction useCurrentRouteId(hookName: DataRouterStateHook) {\n  let route = useRouteContext(hookName);\n  let thisRoute = route.matches[route.matches.length - 1];\n  invariant(\n    thisRoute.route.id,\n    `${hookName} can only be used on routes that contain a unique \"id\"`\n  );\n  return thisRoute.route.id;\n}\n\n/**\n * Returns the ID for the nearest contextual route\n */\nexport function useRouteId() {\n  return useCurrentRouteId(DataRouterStateHook.UseRouteId);\n}\n\n/**\n * Returns the current navigation, defaulting to an \"idle\" navigation when\n * no navigation is in progress\n */\nexport function useNavigation() {\n  let state = useDataRouterState(DataRouterStateHook.UseNavigation);\n  return state.navigation;\n}\n\n/**\n * Returns a revalidate function for manually triggering revalidation, as well\n * as the current state of any manual revalidations\n */\nexport function useRevalidator() {\n  let dataRouterContext = useDataRouterContext(DataRouterHook.UseRevalidator);\n  let state = useDataRouterState(DataRouterStateHook.UseRevalidator);\n  return React.useMemo(\n    () => ({\n      revalidate: dataRouterContext.router.revalidate,\n      state: state.revalidation,\n    }),\n    [dataRouterContext.router.revalidate, state.revalidation]\n  );\n}\n\n/**\n * Returns the active route matches, useful for accessing loaderData for\n * parent/child routes or the route \"handle\" property\n */\nexport function useMatches() {\n  let { matches, loaderData } = useDataRouterState(\n    DataRouterStateHook.UseMatches\n  );\n  return React.useMemo(\n    () =>\n      matches.map((match) => {\n        let { pathname, params } = match;\n        // Note: This structure matches that created by createUseMatchesMatch\n        // in the @remix-run/router , so if you change this please also change\n        // that :)  Eventually we'll DRY this up\n        return {\n          id: match.route.id,\n          pathname,\n          params,\n          data: loaderData[match.route.id] as unknown,\n          handle: match.route.handle as unknown,\n        };\n      }),\n    [matches, loaderData]\n  );\n}\n\n/**\n * Returns the loader data for the nearest ancestor Route loader\n */\nexport function useLoaderData(): unknown {\n  let state = useDataRouterState(DataRouterStateHook.UseLoaderData);\n  let routeId = useCurrentRouteId(DataRouterStateHook.UseLoaderData);\n\n  if (state.errors && state.errors[routeId] != null) {\n    console.error(\n      `You cannot \\`useLoaderData\\` in an errorElement (routeId: ${routeId})`\n    );\n    return undefined;\n  }\n  return state.loaderData[routeId];\n}\n\n/**\n * Returns the loaderData for the given routeId\n */\nexport function useRouteLoaderData(routeId: string): unknown {\n  let state = useDataRouterState(DataRouterStateHook.UseRouteLoaderData);\n  return state.loaderData[routeId];\n}\n\n/**\n * Returns the action data for the nearest ancestor Route action\n */\nexport function useActionData(): unknown {\n  let state = useDataRouterState(DataRouterStateHook.UseActionData);\n\n  let route = React.useContext(RouteContext);\n  invariant(route, `useActionData must be used inside a RouteContext`);\n\n  return Object.values(state?.actionData || {})[0];\n}\n\n/**\n * Returns the nearest ancestor Route error, which could be a loader/action\n * error or a render error.  This is intended to be called from your\n * ErrorBoundary/errorElement to display a proper error message.\n */\nexport function useRouteError(): unknown {\n  let error = React.useContext(RouteErrorContext);\n  let state = useDataRouterState(DataRouterStateHook.UseRouteError);\n  let routeId = useCurrentRouteId(DataRouterStateHook.UseRouteError);\n\n  // If this was a render error, we put it in a RouteError context inside\n  // of RenderErrorBoundary\n  if (error) {\n    return error;\n  }\n\n  // Otherwise look for errors from our data router state\n  return state.errors?.[routeId];\n}\n\n/**\n * Returns the happy-path data from the nearest ancestor <Await /> value\n */\nexport function useAsyncValue(): unknown {\n  let value = React.useContext(AwaitContext);\n  return value?._data;\n}\n\n/**\n * Returns the error from the nearest ancestor <Await /> value\n */\nexport function useAsyncError(): unknown {\n  let value = React.useContext(AwaitContext);\n  return value?._error;\n}\n\nlet blockerId = 0;\n\n/**\n * Allow the application to block navigations within the SPA and present the\n * user a confirmation dialog to confirm the navigation.  Mostly used to avoid\n * using half-filled form data.  This does not handle hard-reloads or\n * cross-origin navigations.\n */\nexport function useBlocker(shouldBlock: boolean | BlockerFunction): Blocker {\n  let { router, basename } = useDataRouterContext(DataRouterHook.UseBlocker);\n  let state = useDataRouterState(DataRouterStateHook.UseBlocker);\n\n  let [blockerKey, setBlockerKey] = React.useState(\"\");\n  let blockerFunction = React.useCallback<BlockerFunction>(\n    (arg) => {\n      if (typeof shouldBlock !== \"function\") {\n        return !!shouldBlock;\n      }\n      if (basename === \"/\") {\n        return shouldBlock(arg);\n      }\n\n      // If they provided us a function and we've got an active basename, strip\n      // it from the locations we expose to the user to match the behavior of\n      // useLocation\n      let { currentLocation, nextLocation, historyAction } = arg;\n      return shouldBlock({\n        currentLocation: {\n          ...currentLocation,\n          pathname:\n            stripBasename(currentLocation.pathname, basename) ||\n            currentLocation.pathname,\n        },\n        nextLocation: {\n          ...nextLocation,\n          pathname:\n            stripBasename(nextLocation.pathname, basename) ||\n            nextLocation.pathname,\n        },\n        historyAction,\n      });\n    },\n    [basename, shouldBlock]\n  );\n\n  // This effect is in charge of blocker key assignment and deletion (which is\n  // tightly coupled to the key)\n  React.useEffect(() => {\n    let key = String(++blockerId);\n    setBlockerKey(key);\n    return () => router.deleteBlocker(key);\n  }, [router]);\n\n  // This effect handles assigning the blockerFunction.  This is to handle\n  // unstable blocker function identities, and happens only after the prior\n  // effect so we don't get an orphaned blockerFunction in the router with a\n  // key of \"\".  Until then we just have the IDLE_BLOCKER.\n  React.useEffect(() => {\n    if (blockerKey !== \"\") {\n      router.getBlocker(blockerKey, blockerFunction);\n    }\n  }, [router, blockerKey, blockerFunction]);\n\n  // Prefer the blocker from `state` not `router.state` since DataRouterContext\n  // is memoized so this ensures we update on blocker state updates\n  return blockerKey && state.blockers.has(blockerKey)\n    ? state.blockers.get(blockerKey)!\n    : IDLE_BLOCKER;\n}\n\n/**\n * Stable version of useNavigate that is used when we are in the context of\n * a RouterProvider.\n */\nfunction useNavigateStable(): NavigateFunction {\n  let { router } = useDataRouterContext(DataRouterHook.UseNavigateStable);\n  let id = useCurrentRouteId(DataRouterStateHook.UseNavigateStable);\n\n  let activeRef = React.useRef(false);\n  useIsomorphicLayoutEffect(() => {\n    activeRef.current = true;\n  });\n\n  let navigate: NavigateFunction = React.useCallback(\n    (to: To | number, options: NavigateOptions = {}) => {\n      warning(activeRef.current, navigateEffectWarning);\n\n      // Short circuit here since if this happens on first render the navigate\n      // is useless because we haven't wired up our router subscriber yet\n      if (!activeRef.current) return;\n\n      if (typeof to === \"number\") {\n        router.navigate(to);\n      } else {\n        router.navigate(to, { fromRouteId: id, ...options });\n      }\n    },\n    [router, id]\n  );\n\n  return navigate;\n}\n\nconst alreadyWarned: Record<string, boolean> = {};\n\nfunction warningOnce(key: string, cond: boolean, message: string) {\n  if (!cond && !alreadyWarned[key]) {\n    alreadyWarned[key] = true;\n    warning(false, message);\n  }\n}\n","import * as React from \"react\";\nimport type {\n  TrackedPromise,\n  InitialEntry,\n  Location,\n  MemoryHistory,\n  Router as RemixRouter,\n  To,\n  LazyRouteFunction,\n  RelativeRoutingType,\n  RouterState,\n} from \"@remix-run/router\";\nimport {\n  Action as NavigationType,\n  AbortedDeferredError,\n  createMemoryHistory,\n  UNSAFE_invariant as invariant,\n  parsePath,\n  resolveTo,\n  stripBasename,\n  UNSAFE_warning as warning,\n  UNSAFE_getPathContributingMatches as getPathContributingMatches,\n} from \"@remix-run/router\";\n\nimport type {\n  DataRouteObject,\n  IndexRouteObject,\n  RouteMatch,\n  RouteObject,\n  Navigator,\n  NonIndexRouteObject,\n} from \"./context\";\nimport {\n  LocationContext,\n  NavigationContext,\n  DataRouterContext,\n  DataRouterStateContext,\n  AwaitContext,\n  RouteContext,\n} from \"./context\";\nimport {\n  useAsyncValue,\n  useInRouterContext,\n  useNavigate,\n  useOutlet,\n  useRoutes,\n  _renderMatches,\n  useRoutesImpl,\n  useLocation,\n} from \"./hooks\";\n\nexport interface FutureConfig {\n  v7_startTransition: boolean;\n}\n\nexport interface RouterProviderProps {\n  fallbackElement?: React.ReactNode;\n  router: RemixRouter;\n  future?: FutureConfig;\n}\n\n/**\n  Webpack + React 17 fails to compile on any of the following because webpack\n  complains that `startTransition` doesn't exist in `React`:\n  * import { startTransition } from \"react\"\n  * import * as React from from \"react\";\n    \"startTransition\" in React ? React.startTransition(() => setState()) : setState()\n  * import * as React from from \"react\";\n    \"startTransition\" in React ? React[\"startTransition\"](() => setState()) : setState()\n\n  Moving it to a constant such as the following solves the Webpack/React 17 issue:\n  * import * as React from from \"react\";\n    const START_TRANSITION = \"startTransition\";\n    START_TRANSITION in React ? React[START_TRANSITION](() => setState()) : setState()\n\n  However, that introduces webpack/terser minification issues in production builds\n  in React 18 where minification/obfuscation ends up removing the call of\n  React.startTransition entirely from the first half of the ternary.  Grabbing\n  this exported reference once up front resolves that issue.\n\n  See https://github.com/remix-run/react-router/issues/10579\n*/\nconst START_TRANSITION = \"startTransition\";\nconst startTransitionImpl = React[START_TRANSITION];\n\n/**\n * Given a Remix Router instance, render the appropriate UI\n */\nexport function RouterProvider({\n  fallbackElement,\n  router,\n  future,\n}: RouterProviderProps): React.ReactElement {\n  // Need to use a layout effect here so we are subscribed early enough to\n  // pick up on any render-driven redirects/navigations (useEffect/<Navigate>)\n  let [state, setStateImpl] = React.useState(router.state);\n  let { v7_startTransition } = future || {};\n  let setState = React.useCallback(\n    (newState: RouterState) => {\n      v7_startTransition && startTransitionImpl\n        ? startTransitionImpl(() => setStateImpl(newState))\n        : setStateImpl(newState);\n    },\n    [setStateImpl, v7_startTransition]\n  );\n  React.useLayoutEffect(() => router.subscribe(setState), [router, setState]);\n\n  let navigator = React.useMemo((): Navigator => {\n    return {\n      createHref: router.createHref,\n      encodeLocation: router.encodeLocation,\n      go: (n) => router.navigate(n),\n      push: (to, state, opts) =>\n        router.navigate(to, {\n          state,\n          preventScrollReset: opts?.preventScrollReset,\n        }),\n      replace: (to, state, opts) =>\n        router.navigate(to, {\n          replace: true,\n          state,\n          preventScrollReset: opts?.preventScrollReset,\n        }),\n    };\n  }, [router]);\n\n  let basename = router.basename || \"/\";\n\n  let dataRouterContext = React.useMemo(\n    () => ({\n      router,\n      navigator,\n      static: false,\n      basename,\n    }),\n    [router, navigator, basename]\n  );\n\n  // The fragment and {null} here are important!  We need them to keep React 18's\n  // useId happy when we are server-rendering since we may have a <script> here\n  // containing the hydrated server-side staticContext (from StaticRouterProvider).\n  // useId relies on the component tree structure to generate deterministic id's\n  // so we need to ensure it remains the same on the client even though\n  // we don't need the <script> tag\n  return (\n    <>\n      <DataRouterContext.Provider value={dataRouterContext}>\n        <DataRouterStateContext.Provider value={state}>\n          <Router\n            basename={basename}\n            location={state.location}\n            navigationType={state.historyAction}\n            navigator={navigator}\n          >\n            {state.initialized ? (\n              <DataRoutes routes={router.routes} state={state} />\n            ) : (\n              fallbackElement\n            )}\n          </Router>\n        </DataRouterStateContext.Provider>\n      </DataRouterContext.Provider>\n      {null}\n    </>\n  );\n}\n\nfunction DataRoutes({\n  routes,\n  state,\n}: {\n  routes: DataRouteObject[];\n  state: RouterState;\n}): React.ReactElement | null {\n  return useRoutesImpl(routes, undefined, state);\n}\n\nexport interface MemoryRouterProps {\n  basename?: string;\n  children?: React.ReactNode;\n  initialEntries?: InitialEntry[];\n  initialIndex?: number;\n  future?: FutureConfig;\n}\n\n/**\n * A <Router> that stores all entries in memory.\n *\n * @see https://reactrouter.com/router-components/memory-router\n */\nexport function MemoryRouter({\n  basename,\n  children,\n  initialEntries,\n  initialIndex,\n  future,\n}: MemoryRouterProps): React.ReactElement {\n  let historyRef = React.useRef<MemoryHistory>();\n  if (historyRef.current == null) {\n    historyRef.current = createMemoryHistory({\n      initialEntries,\n      initialIndex,\n      v5Compat: true,\n    });\n  }\n\n  let history = historyRef.current;\n  let [state, setStateImpl] = React.useState({\n    action: history.action,\n    location: history.location,\n  });\n  let { v7_startTransition } = future || {};\n  let setState = React.useCallback(\n    (newState: { action: NavigationType; location: Location }) => {\n      v7_startTransition && startTransitionImpl\n        ? startTransitionImpl(() => setStateImpl(newState))\n        : setStateImpl(newState);\n    },\n    [setStateImpl, v7_startTransition]\n  );\n\n  React.useLayoutEffect(() => history.listen(setState), [history, setState]);\n\n  return (\n    <Router\n      basename={basename}\n      children={children}\n      location={state.location}\n      navigationType={state.action}\n      navigator={history}\n    />\n  );\n}\n\nexport interface NavigateProps {\n  to: To;\n  replace?: boolean;\n  state?: any;\n  relative?: RelativeRoutingType;\n}\n\n/**\n * Changes the current location.\n *\n * Note: This API is mostly useful in React.Component subclasses that are not\n * able to use hooks. In functional components, we recommend you use the\n * `useNavigate` hook instead.\n *\n * @see https://reactrouter.com/components/navigate\n */\nexport function Navigate({\n  to,\n  replace,\n  state,\n  relative,\n}: NavigateProps): null {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of\n    // the router loaded. We can help them understand how to avoid that.\n    `<Navigate> may be used only in the context of a <Router> component.`\n  );\n\n  warning(\n    !React.useContext(NavigationContext).static,\n    `<Navigate> must not be used on the initial render in a <StaticRouter>. ` +\n      `This is a no-op, but you should modify your code so the <Navigate> is ` +\n      `only ever rendered in response to some user interaction or state change.`\n  );\n\n  let { matches } = React.useContext(RouteContext);\n  let { pathname: locationPathname } = useLocation();\n  let navigate = useNavigate();\n\n  // Resolve the path outside of the effect so that when effects run twice in\n  // StrictMode they navigate to the same place\n  let path = resolveTo(\n    to,\n    getPathContributingMatches(matches).map((match) => match.pathnameBase),\n    locationPathname,\n    relative === \"path\"\n  );\n  let jsonPath = JSON.stringify(path);\n\n  React.useEffect(\n    () => navigate(JSON.parse(jsonPath), { replace, state, relative }),\n    [navigate, jsonPath, relative, replace, state]\n  );\n\n  return null;\n}\n\nexport interface OutletProps {\n  context?: unknown;\n}\n\n/**\n * Renders the child route's element, if there is one.\n *\n * @see https://reactrouter.com/components/outlet\n */\nexport function Outlet(props: OutletProps): React.ReactElement | null {\n  return useOutlet(props.context);\n}\n\nexport interface PathRouteProps {\n  caseSensitive?: NonIndexRouteObject[\"caseSensitive\"];\n  path?: NonIndexRouteObject[\"path\"];\n  id?: NonIndexRouteObject[\"id\"];\n  lazy?: LazyRouteFunction<NonIndexRouteObject>;\n  loader?: NonIndexRouteObject[\"loader\"];\n  action?: NonIndexRouteObject[\"action\"];\n  hasErrorBoundary?: NonIndexRouteObject[\"hasErrorBoundary\"];\n  shouldRevalidate?: NonIndexRouteObject[\"shouldRevalidate\"];\n  handle?: NonIndexRouteObject[\"handle\"];\n  index?: false;\n  children?: React.ReactNode;\n  element?: React.ReactNode | null;\n  errorElement?: React.ReactNode | null;\n  Component?: React.ComponentType | null;\n  ErrorBoundary?: React.ComponentType | null;\n}\n\nexport interface LayoutRouteProps extends PathRouteProps {}\n\nexport interface IndexRouteProps {\n  caseSensitive?: IndexRouteObject[\"caseSensitive\"];\n  path?: IndexRouteObject[\"path\"];\n  id?: IndexRouteObject[\"id\"];\n  lazy?: LazyRouteFunction<IndexRouteObject>;\n  loader?: IndexRouteObject[\"loader\"];\n  action?: IndexRouteObject[\"action\"];\n  hasErrorBoundary?: IndexRouteObject[\"hasErrorBoundary\"];\n  shouldRevalidate?: IndexRouteObject[\"shouldRevalidate\"];\n  handle?: IndexRouteObject[\"handle\"];\n  index: true;\n  children?: undefined;\n  element?: React.ReactNode | null;\n  errorElement?: React.ReactNode | null;\n  Component?: React.ComponentType | null;\n  ErrorBoundary?: React.ComponentType | null;\n}\n\nexport type RouteProps = PathRouteProps | LayoutRouteProps | IndexRouteProps;\n\n/**\n * Declares an element that should be rendered at a certain URL path.\n *\n * @see https://reactrouter.com/components/route\n */\nexport function Route(_props: RouteProps): React.ReactElement | null {\n  invariant(\n    false,\n    `A <Route> is only ever to be used as the child of <Routes> element, ` +\n      `never rendered directly. Please wrap your <Route> in a <Routes>.`\n  );\n}\n\nexport interface RouterProps {\n  basename?: string;\n  children?: React.ReactNode;\n  location: Partial<Location> | string;\n  navigationType?: NavigationType;\n  navigator: Navigator;\n  static?: boolean;\n}\n\n/**\n * Provides location context for the rest of the app.\n *\n * Note: You usually won't render a <Router> directly. Instead, you'll render a\n * router that is more specific to your environment such as a <BrowserRouter>\n * in web browsers or a <StaticRouter> for server rendering.\n *\n * @see https://reactrouter.com/router-components/router\n */\nexport function Router({\n  basename: basenameProp = \"/\",\n  children = null,\n  location: locationProp,\n  navigationType = NavigationType.Pop,\n  navigator,\n  static: staticProp = false,\n}: RouterProps): React.ReactElement | null {\n  invariant(\n    !useInRouterContext(),\n    `You cannot render a <Router> inside another <Router>.` +\n      ` You should never have more than one in your app.`\n  );\n\n  // Preserve trailing slashes on basename, so we can let the user control\n  // the enforcement of trailing slashes throughout the app\n  let basename = basenameProp.replace(/^\\/*/, \"/\");\n  let navigationContext = React.useMemo(\n    () => ({ basename, navigator, static: staticProp }),\n    [basename, navigator, staticProp]\n  );\n\n  if (typeof locationProp === \"string\") {\n    locationProp = parsePath(locationProp);\n  }\n\n  let {\n    pathname = \"/\",\n    search = \"\",\n    hash = \"\",\n    state = null,\n    key = \"default\",\n  } = locationProp;\n\n  let locationContext = React.useMemo(() => {\n    let trailingPathname = stripBasename(pathname, basename);\n\n    if (trailingPathname == null) {\n      return null;\n    }\n\n    return {\n      location: {\n        pathname: trailingPathname,\n        search,\n        hash,\n        state,\n        key,\n      },\n      navigationType,\n    };\n  }, [basename, pathname, search, hash, state, key, navigationType]);\n\n  warning(\n    locationContext != null,\n    `<Router basename=\"${basename}\"> is not able to match the URL ` +\n      `\"${pathname}${search}${hash}\" because it does not start with the ` +\n      `basename, so the <Router> won't render anything.`\n  );\n\n  if (locationContext == null) {\n    return null;\n  }\n\n  return (\n    <NavigationContext.Provider value={navigationContext}>\n      <LocationContext.Provider children={children} value={locationContext} />\n    </NavigationContext.Provider>\n  );\n}\n\nexport interface RoutesProps {\n  children?: React.ReactNode;\n  location?: Partial<Location> | string;\n}\n\n/**\n * A container for a nested tree of <Route> elements that renders the branch\n * that best matches the current location.\n *\n * @see https://reactrouter.com/components/routes\n */\nexport function Routes({\n  children,\n  location,\n}: RoutesProps): React.ReactElement | null {\n  return useRoutes(createRoutesFromChildren(children), location);\n}\n\nexport interface AwaitResolveRenderFunction {\n  (data: Awaited<any>): React.ReactNode;\n}\n\nexport interface AwaitProps {\n  children: React.ReactNode | AwaitResolveRenderFunction;\n  errorElement?: React.ReactNode;\n  resolve: TrackedPromise | any;\n}\n\n/**\n * Component to use for rendering lazily loaded data from returning defer()\n * in a loader function\n */\nexport function Await({ children, errorElement, resolve }: AwaitProps) {\n  return (\n    <AwaitErrorBoundary resolve={resolve} errorElement={errorElement}>\n      <ResolveAwait>{children}</ResolveAwait>\n    </AwaitErrorBoundary>\n  );\n}\n\ntype AwaitErrorBoundaryProps = React.PropsWithChildren<{\n  errorElement?: React.ReactNode;\n  resolve: TrackedPromise | any;\n}>;\n\ntype AwaitErrorBoundaryState = {\n  error: any;\n};\n\nenum AwaitRenderStatus {\n  pending,\n  success,\n  error,\n}\n\nconst neverSettledPromise = new Promise(() => {});\n\nclass AwaitErrorBoundary extends React.Component<\n  AwaitErrorBoundaryProps,\n  AwaitErrorBoundaryState\n> {\n  constructor(props: AwaitErrorBoundaryProps) {\n    super(props);\n    this.state = { error: null };\n  }\n\n  static getDerivedStateFromError(error: any) {\n    return { error };\n  }\n\n  componentDidCatch(error: any, errorInfo: any) {\n    console.error(\n      \"<Await> caught the following error during render\",\n      error,\n      errorInfo\n    );\n  }\n\n  render() {\n    let { children, errorElement, resolve } = this.props;\n\n    let promise: TrackedPromise | null = null;\n    let status: AwaitRenderStatus = AwaitRenderStatus.pending;\n\n    if (!(resolve instanceof Promise)) {\n      // Didn't get a promise - provide as a resolved promise\n      status = AwaitRenderStatus.success;\n      promise = Promise.resolve();\n      Object.defineProperty(promise, \"_tracked\", { get: () => true });\n      Object.defineProperty(promise, \"_data\", { get: () => resolve });\n    } else if (this.state.error) {\n      // Caught a render error, provide it as a rejected promise\n      status = AwaitRenderStatus.error;\n      let renderError = this.state.error;\n      promise = Promise.reject().catch(() => {}); // Avoid unhandled rejection warnings\n      Object.defineProperty(promise, \"_tracked\", { get: () => true });\n      Object.defineProperty(promise, \"_error\", { get: () => renderError });\n    } else if ((resolve as TrackedPromise)._tracked) {\n      // Already tracked promise - check contents\n      promise = resolve;\n      status =\n        promise._error !== undefined\n          ? AwaitRenderStatus.error\n          : promise._data !== undefined\n          ? AwaitRenderStatus.success\n          : AwaitRenderStatus.pending;\n    } else {\n      // Raw (untracked) promise - track it\n      status = AwaitRenderStatus.pending;\n      Object.defineProperty(resolve, \"_tracked\", { get: () => true });\n      promise = resolve.then(\n        (data: any) =>\n          Object.defineProperty(resolve, \"_data\", { get: () => data }),\n        (error: any) =>\n          Object.defineProperty(resolve, \"_error\", { get: () => error })\n      );\n    }\n\n    if (\n      status === AwaitRenderStatus.error &&\n      promise._error instanceof AbortedDeferredError\n    ) {\n      // Freeze the UI by throwing a never resolved promise\n      throw neverSettledPromise;\n    }\n\n    if (status === AwaitRenderStatus.error && !errorElement) {\n      // No errorElement, throw to the nearest route-level error boundary\n      throw promise._error;\n    }\n\n    if (status === AwaitRenderStatus.error) {\n      // Render via our errorElement\n      return <AwaitContext.Provider value={promise} children={errorElement} />;\n    }\n\n    if (status === AwaitRenderStatus.success) {\n      // Render children with resolved value\n      return <AwaitContext.Provider value={promise} children={children} />;\n    }\n\n    // Throw to the suspense boundary\n    throw promise;\n  }\n}\n\n/**\n * @private\n * Indirection to leverage useAsyncValue for a render-prop API on <Await>\n */\nfunction ResolveAwait({\n  children,\n}: {\n  children: React.ReactNode | AwaitResolveRenderFunction;\n}) {\n  let data = useAsyncValue();\n  let toRender = typeof children === \"function\" ? children(data) : children;\n  return <>{toRender}</>;\n}\n\n///////////////////////////////////////////////////////////////////////////////\n// UTILS\n///////////////////////////////////////////////////////////////////////////////\n\n/**\n * Creates a route config from a React \"children\" object, which is usually\n * either a `<Route>` element or an array of them. Used internally by\n * `<Routes>` to create a route config from its children.\n *\n * @see https://reactrouter.com/utils/create-routes-from-children\n */\nexport function createRoutesFromChildren(\n  children: React.ReactNode,\n  parentPath: number[] = []\n): RouteObject[] {\n  let routes: RouteObject[] = [];\n\n  React.Children.forEach(children, (element, index) => {\n    if (!React.isValidElement(element)) {\n      // Ignore non-elements. This allows people to more easily inline\n      // conditionals in their route config.\n      return;\n    }\n\n    let treePath = [...parentPath, index];\n\n    if (element.type === React.Fragment) {\n      // Transparently support React.Fragment and its children.\n      routes.push.apply(\n        routes,\n        createRoutesFromChildren(element.props.children, treePath)\n      );\n      return;\n    }\n\n    invariant(\n      element.type === Route,\n      `[${\n        typeof element.type === \"string\" ? element.type : element.type.name\n      }] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`\n    );\n\n    invariant(\n      !element.props.index || !element.props.children,\n      \"An index route cannot have child routes.\"\n    );\n\n    let route: RouteObject = {\n      id: element.props.id || treePath.join(\"-\"),\n      caseSensitive: element.props.caseSensitive,\n      element: element.props.element,\n      Component: element.props.Component,\n      index: element.props.index,\n      path: element.props.path,\n      loader: element.props.loader,\n      action: element.props.action,\n      errorElement: element.props.errorElement,\n      ErrorBoundary: element.props.ErrorBoundary,\n      hasErrorBoundary:\n        element.props.ErrorBoundary != null ||\n        element.props.errorElement != null,\n      shouldRevalidate: element.props.shouldRevalidate,\n      handle: element.props.handle,\n      lazy: element.props.lazy,\n    };\n\n    if (element.props.children) {\n      route.children = createRoutesFromChildren(\n        element.props.children,\n        treePath\n      );\n    }\n\n    routes.push(route);\n  });\n\n  return routes;\n}\n\n/**\n * Renders the result of `matchRoutes()` into a React element.\n */\nexport function renderMatches(\n  matches: RouteMatch[] | null\n): React.ReactElement | null {\n  return _renderMatches(matches);\n}\n","import * as React from \"react\";\nimport type {\n  ActionFunction,\n  ActionFunctionArgs,\n  Blocker,\n  BlockerFunction,\n  Fetcher,\n  HydrationState,\n  JsonFunction,\n  LoaderFunction,\n  LoaderFunctionArgs,\n  Location,\n  Navigation,\n  Params,\n  ParamParseKey,\n  Path,\n  PathMatch,\n  PathPattern,\n  RedirectFunction,\n  RelativeRoutingType,\n  Router as RemixRouter,\n  ShouldRevalidateFunction,\n  To,\n  InitialEntry,\n  LazyRouteFunction,\n  FutureConfig as RouterFutureConfig,\n} from \"@remix-run/router\";\nimport {\n  AbortedDeferredError,\n  Action as NavigationType,\n  createMemoryHistory,\n  createPath,\n  createRouter,\n  defer,\n  generatePath,\n  isRouteErrorResponse,\n  json,\n  matchPath,\n  matchRoutes,\n  parsePath,\n  redirect,\n  redirectDocument,\n  resolvePath,\n  UNSAFE_warning as warning,\n} from \"@remix-run/router\";\n\nimport type {\n  AwaitProps,\n  MemoryRouterProps,\n  NavigateProps,\n  OutletProps,\n  RouteProps,\n  PathRouteProps,\n  LayoutRouteProps,\n  IndexRouteProps,\n  RouterProps,\n  RoutesProps,\n  RouterProviderProps,\n  FutureConfig,\n} from \"./lib/components\";\nimport {\n  createRoutesFromChildren,\n  renderMatches,\n  Await,\n  MemoryRouter,\n  Navigate,\n  Outlet,\n  Route,\n  Router,\n  RouterProvider,\n  Routes,\n} from \"./lib/components\";\nimport type {\n  DataRouteMatch,\n  DataRouteObject,\n  IndexRouteObject,\n  Navigator,\n  NavigateOptions,\n  NonIndexRouteObject,\n  RouteMatch,\n  RouteObject,\n} from \"./lib/context\";\nimport {\n  DataRouterContext,\n  DataRouterStateContext,\n  LocationContext,\n  NavigationContext,\n  RouteContext,\n} from \"./lib/context\";\nimport type { NavigateFunction } from \"./lib/hooks\";\nimport {\n  useBlocker,\n  useHref,\n  useInRouterContext,\n  useLocation,\n  useMatch,\n  useNavigationType,\n  useNavigate,\n  useOutlet,\n  useOutletContext,\n  useParams,\n  useResolvedPath,\n  useRoutes,\n  useActionData,\n  useAsyncError,\n  useAsyncValue,\n  useRouteId,\n  useLoaderData,\n  useMatches,\n  useNavigation,\n  useRevalidator,\n  useRouteError,\n  useRouteLoaderData,\n  useRoutesImpl,\n} from \"./lib/hooks\";\n\n// Exported for backwards compatibility, but not being used internally anymore\ntype Hash = string;\ntype Pathname = string;\ntype Search = string;\n\n// Expose react-router public API\nexport type {\n  ActionFunction,\n  ActionFunctionArgs,\n  AwaitProps,\n  Blocker as unstable_Blocker,\n  BlockerFunction as unstable_BlockerFunction,\n  DataRouteMatch,\n  DataRouteObject,\n  Fetcher,\n  FutureConfig,\n  Hash,\n  IndexRouteObject,\n  IndexRouteProps,\n  JsonFunction,\n  LazyRouteFunction,\n  LayoutRouteProps,\n  LoaderFunction,\n  LoaderFunctionArgs,\n  Location,\n  MemoryRouterProps,\n  NavigateFunction,\n  NavigateOptions,\n  NavigateProps,\n  Navigation,\n  Navigator,\n  NonIndexRouteObject,\n  OutletProps,\n  Params,\n  ParamParseKey,\n  Path,\n  PathMatch,\n  Pathname,\n  PathPattern,\n  PathRouteProps,\n  RedirectFunction,\n  RelativeRoutingType,\n  RouteMatch,\n  RouteObject,\n  RouteProps,\n  RouterProps,\n  RouterProviderProps,\n  RoutesProps,\n  Search,\n  ShouldRevalidateFunction,\n  To,\n};\nexport {\n  AbortedDeferredError,\n  Await,\n  MemoryRouter,\n  Navigate,\n  NavigationType,\n  Outlet,\n  Route,\n  Router,\n  RouterProvider,\n  Routes,\n  createPath,\n  createRoutesFromChildren,\n  createRoutesFromChildren as createRoutesFromElements,\n  defer,\n  isRouteErrorResponse,\n  generatePath,\n  json,\n  matchPath,\n  matchRoutes,\n  parsePath,\n  redirect,\n  redirectDocument,\n  renderMatches,\n  resolvePath,\n  useActionData,\n  useAsyncError,\n  useAsyncValue,\n  useBlocker as unstable_useBlocker,\n  useHref,\n  useInRouterContext,\n  useLoaderData,\n  useLocation,\n  useMatch,\n  useMatches,\n  useNavigate,\n  useNavigation,\n  useNavigationType,\n  useOutlet,\n  useOutletContext,\n  useParams,\n  useResolvedPath,\n  useRevalidator,\n  useRouteError,\n  useRouteLoaderData,\n  useRoutes,\n};\n\nfunction mapRouteProperties(route: RouteObject) {\n  let updates: Partial<RouteObject> & { hasErrorBoundary: boolean } = {\n    // Note: this check also occurs in createRoutesFromChildren so update\n    // there if you change this -- please and thank you!\n    hasErrorBoundary: route.ErrorBoundary != null || route.errorElement != null,\n  };\n\n  if (route.Component) {\n    if (__DEV__) {\n      if (route.element) {\n        warning(\n          false,\n          \"You should not include both `Component` and `element` on your route - \" +\n            \"`Component` will be used.\"\n        );\n      }\n    }\n    Object.assign(updates, {\n      element: React.createElement(route.Component),\n      Component: undefined,\n    });\n  }\n\n  if (route.ErrorBoundary) {\n    if (__DEV__) {\n      if (route.errorElement) {\n        warning(\n          false,\n          \"You should not include both `ErrorBoundary` and `errorElement` on your route - \" +\n            \"`ErrorBoundary` will be used.\"\n        );\n      }\n    }\n    Object.assign(updates, {\n      errorElement: React.createElement(route.ErrorBoundary),\n      ErrorBoundary: undefined,\n    });\n  }\n\n  return updates;\n}\n\nexport function createMemoryRouter(\n  routes: RouteObject[],\n  opts?: {\n    basename?: string;\n    future?: Partial<Omit<RouterFutureConfig, \"v7_prependBasename\">>;\n    hydrationData?: HydrationState;\n    initialEntries?: InitialEntry[];\n    initialIndex?: number;\n  }\n): RemixRouter {\n  return createRouter({\n    basename: opts?.basename,\n    future: {\n      ...opts?.future,\n      v7_prependBasename: true,\n    },\n    history: createMemoryHistory({\n      initialEntries: opts?.initialEntries,\n      initialIndex: opts?.initialIndex,\n    }),\n    hydrationData: opts?.hydrationData,\n    routes,\n    mapRouteProperties,\n  }).initialize();\n}\n\n///////////////////////////////////////////////////////////////////////////////\n// DANGER! PLEASE READ ME!\n// We provide these exports as an escape hatch in the event that you need any\n// routing data that we don't provide an explicit API for. With that said, we\n// want to cover your use case if we can, so if you feel the need to use these\n// we want to hear from you. Let us know what you're building and we'll do our\n// best to make sure we can support you!\n//\n// We consider these exports an implementation detail and do not guarantee\n// against any breaking changes, regardless of the semver release. Use with\n// extreme caution and only if you understand the consequences. Godspeed.\n///////////////////////////////////////////////////////////////////////////////\n\n/** @internal */\nexport {\n  NavigationContext as UNSAFE_NavigationContext,\n  LocationContext as UNSAFE_LocationContext,\n  RouteContext as UNSAFE_RouteContext,\n  DataRouterContext as UNSAFE_DataRouterContext,\n  DataRouterStateContext as UNSAFE_DataRouterStateContext,\n  mapRouteProperties as UNSAFE_mapRouteProperties,\n  useRouteId as UNSAFE_useRouteId,\n  useRoutesImpl as UNSAFE_useRoutesImpl,\n};\n","/**\n * @remix-run/router v1.8.0\n *\n * Copyright (c) Remix Software Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Types and Constants\n////////////////////////////////////////////////////////////////////////////////\n/**\n * Actions represent the type of change to a location value.\n */\nvar Action;\n(function (Action) {\n  /**\n   * A POP indicates a change to an arbitrary index in the history stack, such\n   * as a back or forward navigation. It does not describe the direction of the\n   * navigation, only that the current index changed.\n   *\n   * Note: This is the default action for newly created history objects.\n   */\n  Action[\"Pop\"] = \"POP\";\n  /**\n   * A PUSH indicates a new entry being added to the history stack, such as when\n   * a link is clicked and a new page loads. When this happens, all subsequent\n   * entries in the stack are lost.\n   */\n  Action[\"Push\"] = \"PUSH\";\n  /**\n   * A REPLACE indicates the entry at the current index in the history stack\n   * being replaced by a new one.\n   */\n  Action[\"Replace\"] = \"REPLACE\";\n})(Action || (Action = {}));\nconst PopStateEventType = \"popstate\";\n/**\n * Memory history stores the current location in memory. It is designed for use\n * in stateful non-browser environments like tests and React Native.\n */\nfunction createMemoryHistory(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  let {\n    initialEntries = [\"/\"],\n    initialIndex,\n    v5Compat = false\n  } = options;\n  let entries; // Declare so we can access from createMemoryLocation\n  entries = initialEntries.map((entry, index) => createMemoryLocation(entry, typeof entry === \"string\" ? null : entry.state, index === 0 ? \"default\" : undefined));\n  let index = clampIndex(initialIndex == null ? entries.length - 1 : initialIndex);\n  let action = Action.Pop;\n  let listener = null;\n  function clampIndex(n) {\n    return Math.min(Math.max(n, 0), entries.length - 1);\n  }\n  function getCurrentLocation() {\n    return entries[index];\n  }\n  function createMemoryLocation(to, state, key) {\n    if (state === void 0) {\n      state = null;\n    }\n    let location = createLocation(entries ? getCurrentLocation().pathname : \"/\", to, state, key);\n    warning(location.pathname.charAt(0) === \"/\", \"relative pathnames are not supported in memory history: \" + JSON.stringify(to));\n    return location;\n  }\n  function createHref(to) {\n    return typeof to === \"string\" ? to : createPath(to);\n  }\n  let history = {\n    get index() {\n      return index;\n    },\n    get action() {\n      return action;\n    },\n    get location() {\n      return getCurrentLocation();\n    },\n    createHref,\n    createURL(to) {\n      return new URL(createHref(to), \"http://localhost\");\n    },\n    encodeLocation(to) {\n      let path = typeof to === \"string\" ? parsePath(to) : to;\n      return {\n        pathname: path.pathname || \"\",\n        search: path.search || \"\",\n        hash: path.hash || \"\"\n      };\n    },\n    push(to, state) {\n      action = Action.Push;\n      let nextLocation = createMemoryLocation(to, state);\n      index += 1;\n      entries.splice(index, entries.length, nextLocation);\n      if (v5Compat && listener) {\n        listener({\n          action,\n          location: nextLocation,\n          delta: 1\n        });\n      }\n    },\n    replace(to, state) {\n      action = Action.Replace;\n      let nextLocation = createMemoryLocation(to, state);\n      entries[index] = nextLocation;\n      if (v5Compat && listener) {\n        listener({\n          action,\n          location: nextLocation,\n          delta: 0\n        });\n      }\n    },\n    go(delta) {\n      action = Action.Pop;\n      let nextIndex = clampIndex(index + delta);\n      let nextLocation = entries[nextIndex];\n      index = nextIndex;\n      if (listener) {\n        listener({\n          action,\n          location: nextLocation,\n          delta\n        });\n      }\n    },\n    listen(fn) {\n      listener = fn;\n      return () => {\n        listener = null;\n      };\n    }\n  };\n  return history;\n}\n/**\n * Browser history stores the location in regular URLs. This is the standard for\n * most web apps, but it requires some configuration on the server to ensure you\n * serve the same app at multiple URLs.\n *\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#createbrowserhistory\n */\nfunction createBrowserHistory(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  function createBrowserLocation(window, globalHistory) {\n    let {\n      pathname,\n      search,\n      hash\n    } = window.location;\n    return createLocation(\"\", {\n      pathname,\n      search,\n      hash\n    },\n    // state defaults to `null` because `window.history.state` does\n    globalHistory.state && globalHistory.state.usr || null, globalHistory.state && globalHistory.state.key || \"default\");\n  }\n  function createBrowserHref(window, to) {\n    return typeof to === \"string\" ? to : createPath(to);\n  }\n  return getUrlBasedHistory(createBrowserLocation, createBrowserHref, null, options);\n}\n/**\n * Hash history stores the location in window.location.hash. This makes it ideal\n * for situations where you don't want to send the location to the server for\n * some reason, either because you do cannot configure it or the URL space is\n * reserved for something else.\n *\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#createhashhistory\n */\nfunction createHashHistory(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  function createHashLocation(window, globalHistory) {\n    let {\n      pathname = \"/\",\n      search = \"\",\n      hash = \"\"\n    } = parsePath(window.location.hash.substr(1));\n    // Hash URL should always have a leading / just like window.location.pathname\n    // does, so if an app ends up at a route like /#something then we add a\n    // leading slash so all of our path-matching behaves the same as if it would\n    // in a browser router.  This is particularly important when there exists a\n    // root splat route (<Route path=\"*\">) since that matches internally against\n    // \"/*\" and we'd expect /#something to 404 in a hash router app.\n    if (!pathname.startsWith(\"/\") && !pathname.startsWith(\".\")) {\n      pathname = \"/\" + pathname;\n    }\n    return createLocation(\"\", {\n      pathname,\n      search,\n      hash\n    },\n    // state defaults to `null` because `window.history.state` does\n    globalHistory.state && globalHistory.state.usr || null, globalHistory.state && globalHistory.state.key || \"default\");\n  }\n  function createHashHref(window, to) {\n    let base = window.document.querySelector(\"base\");\n    let href = \"\";\n    if (base && base.getAttribute(\"href\")) {\n      let url = window.location.href;\n      let hashIndex = url.indexOf(\"#\");\n      href = hashIndex === -1 ? url : url.slice(0, hashIndex);\n    }\n    return href + \"#\" + (typeof to === \"string\" ? to : createPath(to));\n  }\n  function validateHashLocation(location, to) {\n    warning(location.pathname.charAt(0) === \"/\", \"relative pathnames are not supported in hash history.push(\" + JSON.stringify(to) + \")\");\n  }\n  return getUrlBasedHistory(createHashLocation, createHashHref, validateHashLocation, options);\n}\nfunction invariant(value, message) {\n  if (value === false || value === null || typeof value === \"undefined\") {\n    throw new Error(message);\n  }\n}\nfunction warning(cond, message) {\n  if (!cond) {\n    // eslint-disable-next-line no-console\n    if (typeof console !== \"undefined\") console.warn(message);\n    try {\n      // Welcome to debugging history!\n      //\n      // This error is thrown as a convenience so you can more easily\n      // find the source for a warning that appears in the console by\n      // enabling \"pause on exceptions\" in your JavaScript debugger.\n      throw new Error(message);\n      // eslint-disable-next-line no-empty\n    } catch (e) {}\n  }\n}\nfunction createKey() {\n  return Math.random().toString(36).substr(2, 8);\n}\n/**\n * For browser-based histories, we combine the state and key into an object\n */\nfunction getHistoryState(location, index) {\n  return {\n    usr: location.state,\n    key: location.key,\n    idx: index\n  };\n}\n/**\n * Creates a Location object with a unique key from the given Path\n */\nfunction createLocation(current, to, state, key) {\n  if (state === void 0) {\n    state = null;\n  }\n  let location = _extends({\n    pathname: typeof current === \"string\" ? current : current.pathname,\n    search: \"\",\n    hash: \"\"\n  }, typeof to === \"string\" ? parsePath(to) : to, {\n    state,\n    // TODO: This could be cleaned up.  push/replace should probably just take\n    // full Locations now and avoid the need to run through this flow at all\n    // But that's a pretty big refactor to the current test suite so going to\n    // keep as is for the time being and just let any incoming keys take precedence\n    key: to && to.key || key || createKey()\n  });\n  return location;\n}\n/**\n * Creates a string URL path from the given pathname, search, and hash components.\n */\nfunction createPath(_ref) {\n  let {\n    pathname = \"/\",\n    search = \"\",\n    hash = \"\"\n  } = _ref;\n  if (search && search !== \"?\") pathname += search.charAt(0) === \"?\" ? search : \"?\" + search;\n  if (hash && hash !== \"#\") pathname += hash.charAt(0) === \"#\" ? hash : \"#\" + hash;\n  return pathname;\n}\n/**\n * Parses a string URL path into its separate pathname, search, and hash components.\n */\nfunction parsePath(path) {\n  let parsedPath = {};\n  if (path) {\n    let hashIndex = path.indexOf(\"#\");\n    if (hashIndex >= 0) {\n      parsedPath.hash = path.substr(hashIndex);\n      path = path.substr(0, hashIndex);\n    }\n    let searchIndex = path.indexOf(\"?\");\n    if (searchIndex >= 0) {\n      parsedPath.search = path.substr(searchIndex);\n      path = path.substr(0, searchIndex);\n    }\n    if (path) {\n      parsedPath.pathname = path;\n    }\n  }\n  return parsedPath;\n}\nfunction getUrlBasedHistory(getLocation, createHref, validateLocation, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  let {\n    window = document.defaultView,\n    v5Compat = false\n  } = options;\n  let globalHistory = window.history;\n  let action = Action.Pop;\n  let listener = null;\n  let index = getIndex();\n  // Index should only be null when we initialize. If not, it's because the\n  // user called history.pushState or history.replaceState directly, in which\n  // case we should log a warning as it will result in bugs.\n  if (index == null) {\n    index = 0;\n    globalHistory.replaceState(_extends({}, globalHistory.state, {\n      idx: index\n    }), \"\");\n  }\n  function getIndex() {\n    let state = globalHistory.state || {\n      idx: null\n    };\n    return state.idx;\n  }\n  function handlePop() {\n    action = Action.Pop;\n    let nextIndex = getIndex();\n    let delta = nextIndex == null ? null : nextIndex - index;\n    index = nextIndex;\n    if (listener) {\n      listener({\n        action,\n        location: history.location,\n        delta\n      });\n    }\n  }\n  function push(to, state) {\n    action = Action.Push;\n    let location = createLocation(history.location, to, state);\n    if (validateLocation) validateLocation(location, to);\n    index = getIndex() + 1;\n    let historyState = getHistoryState(location, index);\n    let url = history.createHref(location);\n    // try...catch because iOS limits us to 100 pushState calls :/\n    try {\n      globalHistory.pushState(historyState, \"\", url);\n    } catch (error) {\n      // If the exception is because `state` can't be serialized, let that throw\n      // outwards just like a replace call would so the dev knows the cause\n      // https://html.spec.whatwg.org/multipage/nav-history-apis.html#shared-history-push/replace-state-steps\n      // https://html.spec.whatwg.org/multipage/structured-data.html#structuredserializeinternal\n      if (error instanceof DOMException && error.name === \"DataCloneError\") {\n        throw error;\n      }\n      // They are going to lose state here, but there is no real\n      // way to warn them about it since the page will refresh...\n      window.location.assign(url);\n    }\n    if (v5Compat && listener) {\n      listener({\n        action,\n        location: history.location,\n        delta: 1\n      });\n    }\n  }\n  function replace(to, state) {\n    action = Action.Replace;\n    let location = createLocation(history.location, to, state);\n    if (validateLocation) validateLocation(location, to);\n    index = getIndex();\n    let historyState = getHistoryState(location, index);\n    let url = history.createHref(location);\n    globalHistory.replaceState(historyState, \"\", url);\n    if (v5Compat && listener) {\n      listener({\n        action,\n        location: history.location,\n        delta: 0\n      });\n    }\n  }\n  function createURL(to) {\n    // window.location.origin is \"null\" (the literal string value) in Firefox\n    // under certain conditions, notably when serving from a local HTML file\n    // See https://bugzilla.mozilla.org/show_bug.cgi?id=878297\n    let base = window.location.origin !== \"null\" ? window.location.origin : window.location.href;\n    let href = typeof to === \"string\" ? to : createPath(to);\n    invariant(base, \"No window.location.(origin|href) available to create URL for href: \" + href);\n    return new URL(href, base);\n  }\n  let history = {\n    get action() {\n      return action;\n    },\n    get location() {\n      return getLocation(window, globalHistory);\n    },\n    listen(fn) {\n      if (listener) {\n        throw new Error(\"A history only accepts one active listener\");\n      }\n      window.addEventListener(PopStateEventType, handlePop);\n      listener = fn;\n      return () => {\n        window.removeEventListener(PopStateEventType, handlePop);\n        listener = null;\n      };\n    },\n    createHref(to) {\n      return createHref(window, to);\n    },\n    createURL,\n    encodeLocation(to) {\n      // Encode a Location the same way window.location would\n      let url = createURL(to);\n      return {\n        pathname: url.pathname,\n        search: url.search,\n        hash: url.hash\n      };\n    },\n    push,\n    replace,\n    go(n) {\n      return globalHistory.go(n);\n    }\n  };\n  return history;\n}\n//#endregion\n\nvar ResultType;\n(function (ResultType) {\n  ResultType[\"data\"] = \"data\";\n  ResultType[\"deferred\"] = \"deferred\";\n  ResultType[\"redirect\"] = \"redirect\";\n  ResultType[\"error\"] = \"error\";\n})(ResultType || (ResultType = {}));\nconst immutableRouteKeys = new Set([\"lazy\", \"caseSensitive\", \"path\", \"id\", \"index\", \"children\"]);\nfunction isIndexRoute(route) {\n  return route.index === true;\n}\n// Walk the route tree generating unique IDs where necessary so we are working\n// solely with AgnosticDataRouteObject's within the Router\nfunction convertRoutesToDataRoutes(routes, mapRouteProperties, parentPath, manifest) {\n  if (parentPath === void 0) {\n    parentPath = [];\n  }\n  if (manifest === void 0) {\n    manifest = {};\n  }\n  return routes.map((route, index) => {\n    let treePath = [...parentPath, index];\n    let id = typeof route.id === \"string\" ? route.id : treePath.join(\"-\");\n    invariant(route.index !== true || !route.children, \"Cannot specify children on an index route\");\n    invariant(!manifest[id], \"Found a route id collision on id \\\"\" + id + \"\\\".  Route \" + \"id's must be globally unique within Data Router usages\");\n    if (isIndexRoute(route)) {\n      let indexRoute = _extends({}, route, mapRouteProperties(route), {\n        id\n      });\n      manifest[id] = indexRoute;\n      return indexRoute;\n    } else {\n      let pathOrLayoutRoute = _extends({}, route, mapRouteProperties(route), {\n        id,\n        children: undefined\n      });\n      manifest[id] = pathOrLayoutRoute;\n      if (route.children) {\n        pathOrLayoutRoute.children = convertRoutesToDataRoutes(route.children, mapRouteProperties, treePath, manifest);\n      }\n      return pathOrLayoutRoute;\n    }\n  });\n}\n/**\n * Matches the given routes to a location and returns the match data.\n *\n * @see https://reactrouter.com/utils/match-routes\n */\nfunction matchRoutes(routes, locationArg, basename) {\n  if (basename === void 0) {\n    basename = \"/\";\n  }\n  let location = typeof locationArg === \"string\" ? parsePath(locationArg) : locationArg;\n  let pathname = stripBasename(location.pathname || \"/\", basename);\n  if (pathname == null) {\n    return null;\n  }\n  let branches = flattenRoutes(routes);\n  rankRouteBranches(branches);\n  let matches = null;\n  for (let i = 0; matches == null && i < branches.length; ++i) {\n    matches = matchRouteBranch(branches[i],\n    // Incoming pathnames are generally encoded from either window.location\n    // or from router.navigate, but we want to match against the unencoded\n    // paths in the route definitions.  Memory router locations won't be\n    // encoded here but there also shouldn't be anything to decode so this\n    // should be a safe operation.  This avoids needing matchRoutes to be\n    // history-aware.\n    safelyDecodeURI(pathname));\n  }\n  return matches;\n}\nfunction flattenRoutes(routes, branches, parentsMeta, parentPath) {\n  if (branches === void 0) {\n    branches = [];\n  }\n  if (parentsMeta === void 0) {\n    parentsMeta = [];\n  }\n  if (parentPath === void 0) {\n    parentPath = \"\";\n  }\n  let flattenRoute = (route, index, relativePath) => {\n    let meta = {\n      relativePath: relativePath === undefined ? route.path || \"\" : relativePath,\n      caseSensitive: route.caseSensitive === true,\n      childrenIndex: index,\n      route\n    };\n    if (meta.relativePath.startsWith(\"/\")) {\n      invariant(meta.relativePath.startsWith(parentPath), \"Absolute route path \\\"\" + meta.relativePath + \"\\\" nested under path \" + (\"\\\"\" + parentPath + \"\\\" is not valid. An absolute child route path \") + \"must start with the combined path of all its parent routes.\");\n      meta.relativePath = meta.relativePath.slice(parentPath.length);\n    }\n    let path = joinPaths([parentPath, meta.relativePath]);\n    let routesMeta = parentsMeta.concat(meta);\n    // Add the children before adding this route to the array so we traverse the\n    // route tree depth-first and child routes appear before their parents in\n    // the \"flattened\" version.\n    if (route.children && route.children.length > 0) {\n      invariant(\n      // Our types know better, but runtime JS may not!\n      // @ts-expect-error\n      route.index !== true, \"Index routes must not have child routes. Please remove \" + (\"all child routes from route path \\\"\" + path + \"\\\".\"));\n      flattenRoutes(route.children, branches, routesMeta, path);\n    }\n    // Routes without a path shouldn't ever match by themselves unless they are\n    // index routes, so don't add them to the list of possible branches.\n    if (route.path == null && !route.index) {\n      return;\n    }\n    branches.push({\n      path,\n      score: computeScore(path, route.index),\n      routesMeta\n    });\n  };\n  routes.forEach((route, index) => {\n    var _route$path;\n    // coarse-grain check for optional params\n    if (route.path === \"\" || !((_route$path = route.path) != null && _route$path.includes(\"?\"))) {\n      flattenRoute(route, index);\n    } else {\n      for (let exploded of explodeOptionalSegments(route.path)) {\n        flattenRoute(route, index, exploded);\n      }\n    }\n  });\n  return branches;\n}\n/**\n * Computes all combinations of optional path segments for a given path,\n * excluding combinations that are ambiguous and of lower priority.\n *\n * For example, `/one/:two?/three/:four?/:five?` explodes to:\n * - `/one/three`\n * - `/one/:two/three`\n * - `/one/three/:four`\n * - `/one/three/:five`\n * - `/one/:two/three/:four`\n * - `/one/:two/three/:five`\n * - `/one/three/:four/:five`\n * - `/one/:two/three/:four/:five`\n */\nfunction explodeOptionalSegments(path) {\n  let segments = path.split(\"/\");\n  if (segments.length === 0) return [];\n  let [first, ...rest] = segments;\n  // Optional path segments are denoted by a trailing `?`\n  let isOptional = first.endsWith(\"?\");\n  // Compute the corresponding required segment: `foo?` -> `foo`\n  let required = first.replace(/\\?$/, \"\");\n  if (rest.length === 0) {\n    // Intepret empty string as omitting an optional segment\n    // `[\"one\", \"\", \"three\"]` corresponds to omitting `:two` from `/one/:two?/three` -> `/one/three`\n    return isOptional ? [required, \"\"] : [required];\n  }\n  let restExploded = explodeOptionalSegments(rest.join(\"/\"));\n  let result = [];\n  // All child paths with the prefix.  Do this for all children before the\n  // optional version for all children so we get consistent ordering where the\n  // parent optional aspect is preferred as required.  Otherwise, we can get\n  // child sections interspersed where deeper optional segments are higher than\n  // parent optional segments, where for example, /:two would explodes _earlier_\n  // then /:one.  By always including the parent as required _for all children_\n  // first, we avoid this issue\n  result.push(...restExploded.map(subpath => subpath === \"\" ? required : [required, subpath].join(\"/\")));\n  // Then if this is an optional value, add all child versions without\n  if (isOptional) {\n    result.push(...restExploded);\n  }\n  // for absolute paths, ensure `/` instead of empty segment\n  return result.map(exploded => path.startsWith(\"/\") && exploded === \"\" ? \"/\" : exploded);\n}\nfunction rankRouteBranches(branches) {\n  branches.sort((a, b) => a.score !== b.score ? b.score - a.score // Higher score first\n  : compareIndexes(a.routesMeta.map(meta => meta.childrenIndex), b.routesMeta.map(meta => meta.childrenIndex)));\n}\nconst paramRe = /^:\\w+$/;\nconst dynamicSegmentValue = 3;\nconst indexRouteValue = 2;\nconst emptySegmentValue = 1;\nconst staticSegmentValue = 10;\nconst splatPenalty = -2;\nconst isSplat = s => s === \"*\";\nfunction computeScore(path, index) {\n  let segments = path.split(\"/\");\n  let initialScore = segments.length;\n  if (segments.some(isSplat)) {\n    initialScore += splatPenalty;\n  }\n  if (index) {\n    initialScore += indexRouteValue;\n  }\n  return segments.filter(s => !isSplat(s)).reduce((score, segment) => score + (paramRe.test(segment) ? dynamicSegmentValue : segment === \"\" ? emptySegmentValue : staticSegmentValue), initialScore);\n}\nfunction compareIndexes(a, b) {\n  let siblings = a.length === b.length && a.slice(0, -1).every((n, i) => n === b[i]);\n  return siblings ?\n  // If two routes are siblings, we should try to match the earlier sibling\n  // first. This allows people to have fine-grained control over the matching\n  // behavior by simply putting routes with identical paths in the order they\n  // want them tried.\n  a[a.length - 1] - b[b.length - 1] :\n  // Otherwise, it doesn't really make sense to rank non-siblings by index,\n  // so they sort equally.\n  0;\n}\nfunction matchRouteBranch(branch, pathname) {\n  let {\n    routesMeta\n  } = branch;\n  let matchedParams = {};\n  let matchedPathname = \"/\";\n  let matches = [];\n  for (let i = 0; i < routesMeta.length; ++i) {\n    let meta = routesMeta[i];\n    let end = i === routesMeta.length - 1;\n    let remainingPathname = matchedPathname === \"/\" ? pathname : pathname.slice(matchedPathname.length) || \"/\";\n    let match = matchPath({\n      path: meta.relativePath,\n      caseSensitive: meta.caseSensitive,\n      end\n    }, remainingPathname);\n    if (!match) return null;\n    Object.assign(matchedParams, match.params);\n    let route = meta.route;\n    matches.push({\n      // TODO: Can this as be avoided?\n      params: matchedParams,\n      pathname: joinPaths([matchedPathname, match.pathname]),\n      pathnameBase: normalizePathname(joinPaths([matchedPathname, match.pathnameBase])),\n      route\n    });\n    if (match.pathnameBase !== \"/\") {\n      matchedPathname = joinPaths([matchedPathname, match.pathnameBase]);\n    }\n  }\n  return matches;\n}\n/**\n * Returns a path with params interpolated.\n *\n * @see https://reactrouter.com/utils/generate-path\n */\nfunction generatePath(originalPath, params) {\n  if (params === void 0) {\n    params = {};\n  }\n  let path = originalPath;\n  if (path.endsWith(\"*\") && path !== \"*\" && !path.endsWith(\"/*\")) {\n    warning(false, \"Route path \\\"\" + path + \"\\\" will be treated as if it were \" + (\"\\\"\" + path.replace(/\\*$/, \"/*\") + \"\\\" because the `*` character must \") + \"always follow a `/` in the pattern. To get rid of this warning, \" + (\"please change the route path to \\\"\" + path.replace(/\\*$/, \"/*\") + \"\\\".\"));\n    path = path.replace(/\\*$/, \"/*\");\n  }\n  // ensure `/` is added at the beginning if the path is absolute\n  const prefix = path.startsWith(\"/\") ? \"/\" : \"\";\n  const stringify = p => p == null ? \"\" : typeof p === \"string\" ? p : String(p);\n  const segments = path.split(/\\/+/).map((segment, index, array) => {\n    const isLastSegment = index === array.length - 1;\n    // only apply the splat if it's the last segment\n    if (isLastSegment && segment === \"*\") {\n      const star = \"*\";\n      // Apply the splat\n      return stringify(params[star]);\n    }\n    const keyMatch = segment.match(/^:(\\w+)(\\??)$/);\n    if (keyMatch) {\n      const [, key, optional] = keyMatch;\n      let param = params[key];\n      invariant(optional === \"?\" || param != null, \"Missing \\\":\" + key + \"\\\" param\");\n      return stringify(param);\n    }\n    // Remove any optional markers from optional static segments\n    return segment.replace(/\\?$/g, \"\");\n  })\n  // Remove empty segments\n  .filter(segment => !!segment);\n  return prefix + segments.join(\"/\");\n}\n/**\n * Performs pattern matching on a URL pathname and returns information about\n * the match.\n *\n * @see https://reactrouter.com/utils/match-path\n */\nfunction matchPath(pattern, pathname) {\n  if (typeof pattern === \"string\") {\n    pattern = {\n      path: pattern,\n      caseSensitive: false,\n      end: true\n    };\n  }\n  let [matcher, paramNames] = compilePath(pattern.path, pattern.caseSensitive, pattern.end);\n  let match = pathname.match(matcher);\n  if (!match) return null;\n  let matchedPathname = match[0];\n  let pathnameBase = matchedPathname.replace(/(.)\\/+$/, \"$1\");\n  let captureGroups = match.slice(1);\n  let params = paramNames.reduce((memo, paramName, index) => {\n    // We need to compute the pathnameBase here using the raw splat value\n    // instead of using params[\"*\"] later because it will be decoded then\n    if (paramName === \"*\") {\n      let splatValue = captureGroups[index] || \"\";\n      pathnameBase = matchedPathname.slice(0, matchedPathname.length - splatValue.length).replace(/(.)\\/+$/, \"$1\");\n    }\n    memo[paramName] = safelyDecodeURIComponent(captureGroups[index] || \"\", paramName);\n    return memo;\n  }, {});\n  return {\n    params,\n    pathname: matchedPathname,\n    pathnameBase,\n    pattern\n  };\n}\nfunction compilePath(path, caseSensitive, end) {\n  if (caseSensitive === void 0) {\n    caseSensitive = false;\n  }\n  if (end === void 0) {\n    end = true;\n  }\n  warning(path === \"*\" || !path.endsWith(\"*\") || path.endsWith(\"/*\"), \"Route path \\\"\" + path + \"\\\" will be treated as if it were \" + (\"\\\"\" + path.replace(/\\*$/, \"/*\") + \"\\\" because the `*` character must \") + \"always follow a `/` in the pattern. To get rid of this warning, \" + (\"please change the route path to \\\"\" + path.replace(/\\*$/, \"/*\") + \"\\\".\"));\n  let paramNames = [];\n  let regexpSource = \"^\" + path.replace(/\\/*\\*?$/, \"\") // Ignore trailing / and /*, we'll handle it below\n  .replace(/^\\/*/, \"/\") // Make sure it has a leading /\n  .replace(/[\\\\.*+^$?{}|()[\\]]/g, \"\\\\$&\") // Escape special regex chars\n  .replace(/\\/:(\\w+)/g, (_, paramName) => {\n    paramNames.push(paramName);\n    return \"/([^\\\\/]+)\";\n  });\n  if (path.endsWith(\"*\")) {\n    paramNames.push(\"*\");\n    regexpSource += path === \"*\" || path === \"/*\" ? \"(.*)$\" // Already matched the initial /, just match the rest\n    : \"(?:\\\\/(.+)|\\\\/*)$\"; // Don't include the / in params[\"*\"]\n  } else if (end) {\n    // When matching to the end, ignore trailing slashes\n    regexpSource += \"\\\\/*$\";\n  } else if (path !== \"\" && path !== \"/\") {\n    // If our path is non-empty and contains anything beyond an initial slash,\n    // then we have _some_ form of path in our regex so we should expect to\n    // match only if we find the end of this path segment.  Look for an optional\n    // non-captured trailing slash (to match a portion of the URL) or the end\n    // of the path (if we've matched to the end).  We used to do this with a\n    // word boundary but that gives false positives on routes like\n    // /user-preferences since `-` counts as a word boundary.\n    regexpSource += \"(?:(?=\\\\/|$))\";\n  } else ;\n  let matcher = new RegExp(regexpSource, caseSensitive ? undefined : \"i\");\n  return [matcher, paramNames];\n}\nfunction safelyDecodeURI(value) {\n  try {\n    return decodeURI(value);\n  } catch (error) {\n    warning(false, \"The URL path \\\"\" + value + \"\\\" could not be decoded because it is is a \" + \"malformed URL segment. This is probably due to a bad percent \" + (\"encoding (\" + error + \").\"));\n    return value;\n  }\n}\nfunction safelyDecodeURIComponent(value, paramName) {\n  try {\n    return decodeURIComponent(value);\n  } catch (error) {\n    warning(false, \"The value for the URL param \\\"\" + paramName + \"\\\" will not be decoded because\" + (\" the string \\\"\" + value + \"\\\" is a malformed URL segment. This is probably\") + (\" due to a bad percent encoding (\" + error + \").\"));\n    return value;\n  }\n}\n/**\n * @private\n */\nfunction stripBasename(pathname, basename) {\n  if (basename === \"/\") return pathname;\n  if (!pathname.toLowerCase().startsWith(basename.toLowerCase())) {\n    return null;\n  }\n  // We want to leave trailing slash behavior in the user's control, so if they\n  // specify a basename with a trailing slash, we should support it\n  let startIndex = basename.endsWith(\"/\") ? basename.length - 1 : basename.length;\n  let nextChar = pathname.charAt(startIndex);\n  if (nextChar && nextChar !== \"/\") {\n    // pathname does not start with basename/\n    return null;\n  }\n  return pathname.slice(startIndex) || \"/\";\n}\n/**\n * Returns a resolved path object relative to the given pathname.\n *\n * @see https://reactrouter.com/utils/resolve-path\n */\nfunction resolvePath(to, fromPathname) {\n  if (fromPathname === void 0) {\n    fromPathname = \"/\";\n  }\n  let {\n    pathname: toPathname,\n    search = \"\",\n    hash = \"\"\n  } = typeof to === \"string\" ? parsePath(to) : to;\n  let pathname = toPathname ? toPathname.startsWith(\"/\") ? toPathname : resolvePathname(toPathname, fromPathname) : fromPathname;\n  return {\n    pathname,\n    search: normalizeSearch(search),\n    hash: normalizeHash(hash)\n  };\n}\nfunction resolvePathname(relativePath, fromPathname) {\n  let segments = fromPathname.replace(/\\/+$/, \"\").split(\"/\");\n  let relativeSegments = relativePath.split(\"/\");\n  relativeSegments.forEach(segment => {\n    if (segment === \"..\") {\n      // Keep the root \"\" segment so the pathname starts at /\n      if (segments.length > 1) segments.pop();\n    } else if (segment !== \".\") {\n      segments.push(segment);\n    }\n  });\n  return segments.length > 1 ? segments.join(\"/\") : \"/\";\n}\nfunction getInvalidPathError(char, field, dest, path) {\n  return \"Cannot include a '\" + char + \"' character in a manually specified \" + (\"`to.\" + field + \"` field [\" + JSON.stringify(path) + \"].  Please separate it out to the \") + (\"`to.\" + dest + \"` field. Alternatively you may provide the full path as \") + \"a string in <Link to=\\\"...\\\"> and the router will parse it for you.\";\n}\n/**\n * @private\n *\n * When processing relative navigation we want to ignore ancestor routes that\n * do not contribute to the path, such that index/pathless layout routes don't\n * interfere.\n *\n * For example, when moving a route element into an index route and/or a\n * pathless layout route, relative link behavior contained within should stay\n * the same.  Both of the following examples should link back to the root:\n *\n *   <Route path=\"/\">\n *     <Route path=\"accounts\" element={<Link to=\"..\"}>\n *   </Route>\n *\n *   <Route path=\"/\">\n *     <Route path=\"accounts\">\n *       <Route element={<AccountsLayout />}>       // <-- Does not contribute\n *         <Route index element={<Link to=\"..\"} />  // <-- Does not contribute\n *       </Route\n *     </Route>\n *   </Route>\n */\nfunction getPathContributingMatches(matches) {\n  return matches.filter((match, index) => index === 0 || match.route.path && match.route.path.length > 0);\n}\n/**\n * @private\n */\nfunction resolveTo(toArg, routePathnames, locationPathname, isPathRelative) {\n  if (isPathRelative === void 0) {\n    isPathRelative = false;\n  }\n  let to;\n  if (typeof toArg === \"string\") {\n    to = parsePath(toArg);\n  } else {\n    to = _extends({}, toArg);\n    invariant(!to.pathname || !to.pathname.includes(\"?\"), getInvalidPathError(\"?\", \"pathname\", \"search\", to));\n    invariant(!to.pathname || !to.pathname.includes(\"#\"), getInvalidPathError(\"#\", \"pathname\", \"hash\", to));\n    invariant(!to.search || !to.search.includes(\"#\"), getInvalidPathError(\"#\", \"search\", \"hash\", to));\n  }\n  let isEmptyPath = toArg === \"\" || to.pathname === \"\";\n  let toPathname = isEmptyPath ? \"/\" : to.pathname;\n  let from;\n  // Routing is relative to the current pathname if explicitly requested.\n  //\n  // If a pathname is explicitly provided in `to`, it should be relative to the\n  // route context. This is explained in `Note on `<Link to>` values` in our\n  // migration guide from v5 as a means of disambiguation between `to` values\n  // that begin with `/` and those that do not. However, this is problematic for\n  // `to` values that do not provide a pathname. `to` can simply be a search or\n  // hash string, in which case we should assume that the navigation is relative\n  // to the current location's pathname and *not* the route pathname.\n  if (isPathRelative || toPathname == null) {\n    from = locationPathname;\n  } else {\n    let routePathnameIndex = routePathnames.length - 1;\n    if (toPathname.startsWith(\"..\")) {\n      let toSegments = toPathname.split(\"/\");\n      // Each leading .. segment means \"go up one route\" instead of \"go up one\n      // URL segment\".  This is a key difference from how <a href> works and a\n      // major reason we call this a \"to\" value instead of a \"href\".\n      while (toSegments[0] === \"..\") {\n        toSegments.shift();\n        routePathnameIndex -= 1;\n      }\n      to.pathname = toSegments.join(\"/\");\n    }\n    // If there are more \"..\" segments than parent routes, resolve relative to\n    // the root / URL.\n    from = routePathnameIndex >= 0 ? routePathnames[routePathnameIndex] : \"/\";\n  }\n  let path = resolvePath(to, from);\n  // Ensure the pathname has a trailing slash if the original \"to\" had one\n  let hasExplicitTrailingSlash = toPathname && toPathname !== \"/\" && toPathname.endsWith(\"/\");\n  // Or if this was a link to the current path which has a trailing slash\n  let hasCurrentTrailingSlash = (isEmptyPath || toPathname === \".\") && locationPathname.endsWith(\"/\");\n  if (!path.pathname.endsWith(\"/\") && (hasExplicitTrailingSlash || hasCurrentTrailingSlash)) {\n    path.pathname += \"/\";\n  }\n  return path;\n}\n/**\n * @private\n */\nfunction getToPathname(to) {\n  // Empty strings should be treated the same as / paths\n  return to === \"\" || to.pathname === \"\" ? \"/\" : typeof to === \"string\" ? parsePath(to).pathname : to.pathname;\n}\n/**\n * @private\n */\nconst joinPaths = paths => paths.join(\"/\").replace(/\\/\\/+/g, \"/\");\n/**\n * @private\n */\nconst normalizePathname = pathname => pathname.replace(/\\/+$/, \"\").replace(/^\\/*/, \"/\");\n/**\n * @private\n */\nconst normalizeSearch = search => !search || search === \"?\" ? \"\" : search.startsWith(\"?\") ? search : \"?\" + search;\n/**\n * @private\n */\nconst normalizeHash = hash => !hash || hash === \"#\" ? \"\" : hash.startsWith(\"#\") ? hash : \"#\" + hash;\n/**\n * This is a shortcut for creating `application/json` responses. Converts `data`\n * to JSON and sets the `Content-Type` header.\n */\nconst json = function json(data, init) {\n  if (init === void 0) {\n    init = {};\n  }\n  let responseInit = typeof init === \"number\" ? {\n    status: init\n  } : init;\n  let headers = new Headers(responseInit.headers);\n  if (!headers.has(\"Content-Type\")) {\n    headers.set(\"Content-Type\", \"application/json; charset=utf-8\");\n  }\n  return new Response(JSON.stringify(data), _extends({}, responseInit, {\n    headers\n  }));\n};\nclass AbortedDeferredError extends Error {}\nclass DeferredData {\n  constructor(data, responseInit) {\n    this.pendingKeysSet = new Set();\n    this.subscribers = new Set();\n    this.deferredKeys = [];\n    invariant(data && typeof data === \"object\" && !Array.isArray(data), \"defer() only accepts plain objects\");\n    // Set up an AbortController + Promise we can race against to exit early\n    // cancellation\n    let reject;\n    this.abortPromise = new Promise((_, r) => reject = r);\n    this.controller = new AbortController();\n    let onAbort = () => reject(new AbortedDeferredError(\"Deferred data aborted\"));\n    this.unlistenAbortSignal = () => this.controller.signal.removeEventListener(\"abort\", onAbort);\n    this.controller.signal.addEventListener(\"abort\", onAbort);\n    this.data = Object.entries(data).reduce((acc, _ref) => {\n      let [key, value] = _ref;\n      return Object.assign(acc, {\n        [key]: this.trackPromise(key, value)\n      });\n    }, {});\n    if (this.done) {\n      // All incoming values were resolved\n      this.unlistenAbortSignal();\n    }\n    this.init = responseInit;\n  }\n  trackPromise(key, value) {\n    if (!(value instanceof Promise)) {\n      return value;\n    }\n    this.deferredKeys.push(key);\n    this.pendingKeysSet.add(key);\n    // We store a little wrapper promise that will be extended with\n    // _data/_error props upon resolve/reject\n    let promise = Promise.race([value, this.abortPromise]).then(data => this.onSettle(promise, key, undefined, data), error => this.onSettle(promise, key, error));\n    // Register rejection listeners to avoid uncaught promise rejections on\n    // errors or aborted deferred values\n    promise.catch(() => {});\n    Object.defineProperty(promise, \"_tracked\", {\n      get: () => true\n    });\n    return promise;\n  }\n  onSettle(promise, key, error, data) {\n    if (this.controller.signal.aborted && error instanceof AbortedDeferredError) {\n      this.unlistenAbortSignal();\n      Object.defineProperty(promise, \"_error\", {\n        get: () => error\n      });\n      return Promise.reject(error);\n    }\n    this.pendingKeysSet.delete(key);\n    if (this.done) {\n      // Nothing left to abort!\n      this.unlistenAbortSignal();\n    }\n    // If the promise was resolved/rejected with undefined, we'll throw an error as you\n    // should always resolve with a value or null\n    if (error === undefined && data === undefined) {\n      let undefinedError = new Error(\"Deferred data for key \\\"\" + key + \"\\\" resolved/rejected with `undefined`, \" + \"you must resolve/reject with a value or `null`.\");\n      Object.defineProperty(promise, \"_error\", {\n        get: () => undefinedError\n      });\n      this.emit(false, key);\n      return Promise.reject(undefinedError);\n    }\n    if (data === undefined) {\n      Object.defineProperty(promise, \"_error\", {\n        get: () => error\n      });\n      this.emit(false, key);\n      return Promise.reject(error);\n    }\n    Object.defineProperty(promise, \"_data\", {\n      get: () => data\n    });\n    this.emit(false, key);\n    return data;\n  }\n  emit(aborted, settledKey) {\n    this.subscribers.forEach(subscriber => subscriber(aborted, settledKey));\n  }\n  subscribe(fn) {\n    this.subscribers.add(fn);\n    return () => this.subscribers.delete(fn);\n  }\n  cancel() {\n    this.controller.abort();\n    this.pendingKeysSet.forEach((v, k) => this.pendingKeysSet.delete(k));\n    this.emit(true);\n  }\n  async resolveData(signal) {\n    let aborted = false;\n    if (!this.done) {\n      let onAbort = () => this.cancel();\n      signal.addEventListener(\"abort\", onAbort);\n      aborted = await new Promise(resolve => {\n        this.subscribe(aborted => {\n          signal.removeEventListener(\"abort\", onAbort);\n          if (aborted || this.done) {\n            resolve(aborted);\n          }\n        });\n      });\n    }\n    return aborted;\n  }\n  get done() {\n    return this.pendingKeysSet.size === 0;\n  }\n  get unwrappedData() {\n    invariant(this.data !== null && this.done, \"Can only unwrap data on initialized and settled deferreds\");\n    return Object.entries(this.data).reduce((acc, _ref2) => {\n      let [key, value] = _ref2;\n      return Object.assign(acc, {\n        [key]: unwrapTrackedPromise(value)\n      });\n    }, {});\n  }\n  get pendingKeys() {\n    return Array.from(this.pendingKeysSet);\n  }\n}\nfunction isTrackedPromise(value) {\n  return value instanceof Promise && value._tracked === true;\n}\nfunction unwrapTrackedPromise(value) {\n  if (!isTrackedPromise(value)) {\n    return value;\n  }\n  if (value._error) {\n    throw value._error;\n  }\n  return value._data;\n}\nconst defer = function defer(data, init) {\n  if (init === void 0) {\n    init = {};\n  }\n  let responseInit = typeof init === \"number\" ? {\n    status: init\n  } : init;\n  return new DeferredData(data, responseInit);\n};\n/**\n * A redirect response. Sets the status code and the `Location` header.\n * Defaults to \"302 Found\".\n */\nconst redirect = function redirect(url, init) {\n  if (init === void 0) {\n    init = 302;\n  }\n  let responseInit = init;\n  if (typeof responseInit === \"number\") {\n    responseInit = {\n      status: responseInit\n    };\n  } else if (typeof responseInit.status === \"undefined\") {\n    responseInit.status = 302;\n  }\n  let headers = new Headers(responseInit.headers);\n  headers.set(\"Location\", url);\n  return new Response(null, _extends({}, responseInit, {\n    headers\n  }));\n};\n/**\n * A redirect response that will force a document reload to the new location.\n * Sets the status code and the `Location` header.\n * Defaults to \"302 Found\".\n */\nconst redirectDocument = (url, init) => {\n  let response = redirect(url, init);\n  response.headers.set(\"X-Remix-Reload-Document\", \"true\");\n  return response;\n};\n/**\n * @private\n * Utility class we use to hold auto-unwrapped 4xx/5xx Response bodies\n */\nclass ErrorResponse {\n  constructor(status, statusText, data, internal) {\n    if (internal === void 0) {\n      internal = false;\n    }\n    this.status = status;\n    this.statusText = statusText || \"\";\n    this.internal = internal;\n    if (data instanceof Error) {\n      this.data = data.toString();\n      this.error = data;\n    } else {\n      this.data = data;\n    }\n  }\n}\n/**\n * Check if the given error is an ErrorResponse generated from a 4xx/5xx\n * Response thrown from an action/loader\n */\nfunction isRouteErrorResponse(error) {\n  return error != null && typeof error.status === \"number\" && typeof error.statusText === \"string\" && typeof error.internal === \"boolean\" && \"data\" in error;\n}\n\nconst validMutationMethodsArr = [\"post\", \"put\", \"patch\", \"delete\"];\nconst validMutationMethods = new Set(validMutationMethodsArr);\nconst validRequestMethodsArr = [\"get\", ...validMutationMethodsArr];\nconst validRequestMethods = new Set(validRequestMethodsArr);\nconst redirectStatusCodes = new Set([301, 302, 303, 307, 308]);\nconst redirectPreserveMethodStatusCodes = new Set([307, 308]);\nconst IDLE_NAVIGATION = {\n  state: \"idle\",\n  location: undefined,\n  formMethod: undefined,\n  formAction: undefined,\n  formEncType: undefined,\n  formData: undefined,\n  json: undefined,\n  text: undefined\n};\nconst IDLE_FETCHER = {\n  state: \"idle\",\n  data: undefined,\n  formMethod: undefined,\n  formAction: undefined,\n  formEncType: undefined,\n  formData: undefined,\n  json: undefined,\n  text: undefined\n};\nconst IDLE_BLOCKER = {\n  state: \"unblocked\",\n  proceed: undefined,\n  reset: undefined,\n  location: undefined\n};\nconst ABSOLUTE_URL_REGEX = /^(?:[a-z][a-z0-9+.-]*:|\\/\\/)/i;\nconst defaultMapRouteProperties = route => ({\n  hasErrorBoundary: Boolean(route.hasErrorBoundary)\n});\n//#endregion\n////////////////////////////////////////////////////////////////////////////////\n//#region createRouter\n////////////////////////////////////////////////////////////////////////////////\n/**\n * Create a router and listen to history POP navigations\n */\nfunction createRouter(init) {\n  const routerWindow = init.window ? init.window : typeof window !== \"undefined\" ? window : undefined;\n  const isBrowser = typeof routerWindow !== \"undefined\" && typeof routerWindow.document !== \"undefined\" && typeof routerWindow.document.createElement !== \"undefined\";\n  const isServer = !isBrowser;\n  invariant(init.routes.length > 0, \"You must provide a non-empty routes array to createRouter\");\n  let mapRouteProperties;\n  if (init.mapRouteProperties) {\n    mapRouteProperties = init.mapRouteProperties;\n  } else if (init.detectErrorBoundary) {\n    // If they are still using the deprecated version, wrap it with the new API\n    let detectErrorBoundary = init.detectErrorBoundary;\n    mapRouteProperties = route => ({\n      hasErrorBoundary: detectErrorBoundary(route)\n    });\n  } else {\n    mapRouteProperties = defaultMapRouteProperties;\n  }\n  // Routes keyed by ID\n  let manifest = {};\n  // Routes in tree format for matching\n  let dataRoutes = convertRoutesToDataRoutes(init.routes, mapRouteProperties, undefined, manifest);\n  let inFlightDataRoutes;\n  let basename = init.basename || \"/\";\n  // Config driven behavior flags\n  let future = _extends({\n    v7_normalizeFormMethod: false,\n    v7_prependBasename: false\n  }, init.future);\n  // Cleanup function for history\n  let unlistenHistory = null;\n  // Externally-provided functions to call on all state changes\n  let subscribers = new Set();\n  // Externally-provided object to hold scroll restoration locations during routing\n  let savedScrollPositions = null;\n  // Externally-provided function to get scroll restoration keys\n  let getScrollRestorationKey = null;\n  // Externally-provided function to get current scroll position\n  let getScrollPosition = null;\n  // One-time flag to control the initial hydration scroll restoration.  Because\n  // we don't get the saved positions from <ScrollRestoration /> until _after_\n  // the initial render, we need to manually trigger a separate updateState to\n  // send along the restoreScrollPosition\n  // Set to true if we have `hydrationData` since we assume we were SSR'd and that\n  // SSR did the initial scroll restoration.\n  let initialScrollRestored = init.hydrationData != null;\n  let initialMatches = matchRoutes(dataRoutes, init.history.location, basename);\n  let initialErrors = null;\n  if (initialMatches == null) {\n    // If we do not match a user-provided-route, fall back to the root\n    // to allow the error boundary to take over\n    let error = getInternalRouterError(404, {\n      pathname: init.history.location.pathname\n    });\n    let {\n      matches,\n      route\n    } = getShortCircuitMatches(dataRoutes);\n    initialMatches = matches;\n    initialErrors = {\n      [route.id]: error\n    };\n  }\n  let initialized =\n  // All initialMatches need to be loaded before we're ready.  If we have lazy\n  // functions around still then we'll need to run them in initialize()\n  !initialMatches.some(m => m.route.lazy) && (\n  // And we have to either have no loaders or have been provided hydrationData\n  !initialMatches.some(m => m.route.loader) || init.hydrationData != null);\n  let router;\n  let state = {\n    historyAction: init.history.action,\n    location: init.history.location,\n    matches: initialMatches,\n    initialized,\n    navigation: IDLE_NAVIGATION,\n    // Don't restore on initial updateState() if we were SSR'd\n    restoreScrollPosition: init.hydrationData != null ? false : null,\n    preventScrollReset: false,\n    revalidation: \"idle\",\n    loaderData: init.hydrationData && init.hydrationData.loaderData || {},\n    actionData: init.hydrationData && init.hydrationData.actionData || null,\n    errors: init.hydrationData && init.hydrationData.errors || initialErrors,\n    fetchers: new Map(),\n    blockers: new Map()\n  };\n  // -- Stateful internal variables to manage navigations --\n  // Current navigation in progress (to be committed in completeNavigation)\n  let pendingAction = Action.Pop;\n  // Should the current navigation prevent the scroll reset if scroll cannot\n  // be restored?\n  let pendingPreventScrollReset = false;\n  // AbortController for the active navigation\n  let pendingNavigationController;\n  // We use this to avoid touching history in completeNavigation if a\n  // revalidation is entirely uninterrupted\n  let isUninterruptedRevalidation = false;\n  // Use this internal flag to force revalidation of all loaders:\n  //  - submissions (completed or interrupted)\n  //  - useRevalidator()\n  //  - X-Remix-Revalidate (from redirect)\n  let isRevalidationRequired = false;\n  // Use this internal array to capture routes that require revalidation due\n  // to a cancelled deferred on action submission\n  let cancelledDeferredRoutes = [];\n  // Use this internal array to capture fetcher loads that were cancelled by an\n  // action navigation and require revalidation\n  let cancelledFetcherLoads = [];\n  // AbortControllers for any in-flight fetchers\n  let fetchControllers = new Map();\n  // Track loads based on the order in which they started\n  let incrementingLoadId = 0;\n  // Track the outstanding pending navigation data load to be compared against\n  // the globally incrementing load when a fetcher load lands after a completed\n  // navigation\n  let pendingNavigationLoadId = -1;\n  // Fetchers that triggered data reloads as a result of their actions\n  let fetchReloadIds = new Map();\n  // Fetchers that triggered redirect navigations\n  let fetchRedirectIds = new Set();\n  // Most recent href/match for fetcher.load calls for fetchers\n  let fetchLoadMatches = new Map();\n  // Store DeferredData instances for active route matches.  When a\n  // route loader returns defer() we stick one in here.  Then, when a nested\n  // promise resolves we update loaderData.  If a new navigation starts we\n  // cancel active deferreds for eliminated routes.\n  let activeDeferreds = new Map();\n  // Store blocker functions in a separate Map outside of router state since\n  // we don't need to update UI state if they change\n  let blockerFunctions = new Map();\n  // Flag to ignore the next history update, so we can revert the URL change on\n  // a POP navigation that was blocked by the user without touching router state\n  let ignoreNextHistoryUpdate = false;\n  // Initialize the router, all side effects should be kicked off from here.\n  // Implemented as a Fluent API for ease of:\n  //   let router = createRouter(init).initialize();\n  function initialize() {\n    // If history informs us of a POP navigation, start the navigation but do not update\n    // state.  We'll update our own state once the navigation completes\n    unlistenHistory = init.history.listen(_ref => {\n      let {\n        action: historyAction,\n        location,\n        delta\n      } = _ref;\n      // Ignore this event if it was just us resetting the URL from a\n      // blocked POP navigation\n      if (ignoreNextHistoryUpdate) {\n        ignoreNextHistoryUpdate = false;\n        return;\n      }\n      warning(blockerFunctions.size === 0 || delta != null, \"You are trying to use a blocker on a POP navigation to a location \" + \"that was not created by @remix-run/router. This will fail silently in \" + \"production. This can happen if you are navigating outside the router \" + \"via `window.history.pushState`/`window.location.hash` instead of using \" + \"router navigation APIs.  This can also happen if you are using \" + \"createHashRouter and the user manually changes the URL.\");\n      let blockerKey = shouldBlockNavigation({\n        currentLocation: state.location,\n        nextLocation: location,\n        historyAction\n      });\n      if (blockerKey && delta != null) {\n        // Restore the URL to match the current UI, but don't update router state\n        ignoreNextHistoryUpdate = true;\n        init.history.go(delta * -1);\n        // Put the blocker into a blocked state\n        updateBlocker(blockerKey, {\n          state: \"blocked\",\n          location,\n          proceed() {\n            updateBlocker(blockerKey, {\n              state: \"proceeding\",\n              proceed: undefined,\n              reset: undefined,\n              location\n            });\n            // Re-do the same POP navigation we just blocked\n            init.history.go(delta);\n          },\n          reset() {\n            let blockers = new Map(state.blockers);\n            blockers.set(blockerKey, IDLE_BLOCKER);\n            updateState({\n              blockers\n            });\n          }\n        });\n        return;\n      }\n      return startNavigation(historyAction, location);\n    });\n    // Kick off initial data load if needed.  Use Pop to avoid modifying history\n    // Note we don't do any handling of lazy here.  For SPA's it'll get handled\n    // in the normal navigation flow.  For SSR it's expected that lazy modules are\n    // resolved prior to router creation since we can't go into a fallbackElement\n    // UI for SSR'd apps\n    if (!state.initialized) {\n      startNavigation(Action.Pop, state.location);\n    }\n    return router;\n  }\n  // Clean up a router and it's side effects\n  function dispose() {\n    if (unlistenHistory) {\n      unlistenHistory();\n    }\n    subscribers.clear();\n    pendingNavigationController && pendingNavigationController.abort();\n    state.fetchers.forEach((_, key) => deleteFetcher(key));\n    state.blockers.forEach((_, key) => deleteBlocker(key));\n  }\n  // Subscribe to state updates for the router\n  function subscribe(fn) {\n    subscribers.add(fn);\n    return () => subscribers.delete(fn);\n  }\n  // Update our state and notify the calling context of the change\n  function updateState(newState) {\n    state = _extends({}, state, newState);\n    subscribers.forEach(subscriber => subscriber(state));\n  }\n  // Complete a navigation returning the state.navigation back to the IDLE_NAVIGATION\n  // and setting state.[historyAction/location/matches] to the new route.\n  // - Location is a required param\n  // - Navigation will always be set to IDLE_NAVIGATION\n  // - Can pass any other state in newState\n  function completeNavigation(location, newState) {\n    var _location$state, _location$state2;\n    // Deduce if we're in a loading/actionReload state:\n    // - We have committed actionData in the store\n    // - The current navigation was a mutation submission\n    // - We're past the submitting state and into the loading state\n    // - The location being loaded is not the result of a redirect\n    let isActionReload = state.actionData != null && state.navigation.formMethod != null && isMutationMethod(state.navigation.formMethod) && state.navigation.state === \"loading\" && ((_location$state = location.state) == null ? void 0 : _location$state._isRedirect) !== true;\n    let actionData;\n    if (newState.actionData) {\n      if (Object.keys(newState.actionData).length > 0) {\n        actionData = newState.actionData;\n      } else {\n        // Empty actionData -> clear prior actionData due to an action error\n        actionData = null;\n      }\n    } else if (isActionReload) {\n      // Keep the current data if we're wrapping up the action reload\n      actionData = state.actionData;\n    } else {\n      // Clear actionData on any other completed navigations\n      actionData = null;\n    }\n    // Always preserve any existing loaderData from re-used routes\n    let loaderData = newState.loaderData ? mergeLoaderData(state.loaderData, newState.loaderData, newState.matches || [], newState.errors) : state.loaderData;\n    // On a successful navigation we can assume we got through all blockers\n    // so we can start fresh\n    let blockers = state.blockers;\n    if (blockers.size > 0) {\n      blockers = new Map(blockers);\n      blockers.forEach((_, k) => blockers.set(k, IDLE_BLOCKER));\n    }\n    // Always respect the user flag.  Otherwise don't reset on mutation\n    // submission navigations unless they redirect\n    let preventScrollReset = pendingPreventScrollReset === true || state.navigation.formMethod != null && isMutationMethod(state.navigation.formMethod) && ((_location$state2 = location.state) == null ? void 0 : _location$state2._isRedirect) !== true;\n    if (inFlightDataRoutes) {\n      dataRoutes = inFlightDataRoutes;\n      inFlightDataRoutes = undefined;\n    }\n    if (isUninterruptedRevalidation) ; else if (pendingAction === Action.Pop) ; else if (pendingAction === Action.Push) {\n      init.history.push(location, location.state);\n    } else if (pendingAction === Action.Replace) {\n      init.history.replace(location, location.state);\n    }\n    updateState(_extends({}, newState, {\n      actionData,\n      loaderData,\n      historyAction: pendingAction,\n      location,\n      initialized: true,\n      navigation: IDLE_NAVIGATION,\n      revalidation: \"idle\",\n      restoreScrollPosition: getSavedScrollPosition(location, newState.matches || state.matches),\n      preventScrollReset,\n      blockers\n    }));\n    // Reset stateful navigation vars\n    pendingAction = Action.Pop;\n    pendingPreventScrollReset = false;\n    isUninterruptedRevalidation = false;\n    isRevalidationRequired = false;\n    cancelledDeferredRoutes = [];\n    cancelledFetcherLoads = [];\n  }\n  // Trigger a navigation event, which can either be a numerical POP or a PUSH\n  // replace with an optional submission\n  async function navigate(to, opts) {\n    if (typeof to === \"number\") {\n      init.history.go(to);\n      return;\n    }\n    let normalizedPath = normalizeTo(state.location, state.matches, basename, future.v7_prependBasename, to, opts == null ? void 0 : opts.fromRouteId, opts == null ? void 0 : opts.relative);\n    let {\n      path,\n      submission,\n      error\n    } = normalizeNavigateOptions(future.v7_normalizeFormMethod, false, normalizedPath, opts);\n    let currentLocation = state.location;\n    let nextLocation = createLocation(state.location, path, opts && opts.state);\n    // When using navigate as a PUSH/REPLACE we aren't reading an already-encoded\n    // URL from window.location, so we need to encode it here so the behavior\n    // remains the same as POP and non-data-router usages.  new URL() does all\n    // the same encoding we'd get from a history.pushState/window.location read\n    // without having to touch history\n    nextLocation = _extends({}, nextLocation, init.history.encodeLocation(nextLocation));\n    let userReplace = opts && opts.replace != null ? opts.replace : undefined;\n    let historyAction = Action.Push;\n    if (userReplace === true) {\n      historyAction = Action.Replace;\n    } else if (userReplace === false) ; else if (submission != null && isMutationMethod(submission.formMethod) && submission.formAction === state.location.pathname + state.location.search) {\n      // By default on submissions to the current location we REPLACE so that\n      // users don't have to double-click the back button to get to the prior\n      // location.  If the user redirects to a different location from the\n      // action/loader this will be ignored and the redirect will be a PUSH\n      historyAction = Action.Replace;\n    }\n    let preventScrollReset = opts && \"preventScrollReset\" in opts ? opts.preventScrollReset === true : undefined;\n    let blockerKey = shouldBlockNavigation({\n      currentLocation,\n      nextLocation,\n      historyAction\n    });\n    if (blockerKey) {\n      // Put the blocker into a blocked state\n      updateBlocker(blockerKey, {\n        state: \"blocked\",\n        location: nextLocation,\n        proceed() {\n          updateBlocker(blockerKey, {\n            state: \"proceeding\",\n            proceed: undefined,\n            reset: undefined,\n            location: nextLocation\n          });\n          // Send the same navigation through\n          navigate(to, opts);\n        },\n        reset() {\n          let blockers = new Map(state.blockers);\n          blockers.set(blockerKey, IDLE_BLOCKER);\n          updateState({\n            blockers\n          });\n        }\n      });\n      return;\n    }\n    return await startNavigation(historyAction, nextLocation, {\n      submission,\n      // Send through the formData serialization error if we have one so we can\n      // render at the right error boundary after we match routes\n      pendingError: error,\n      preventScrollReset,\n      replace: opts && opts.replace\n    });\n  }\n  // Revalidate all current loaders.  If a navigation is in progress or if this\n  // is interrupted by a navigation, allow this to \"succeed\" by calling all\n  // loaders during the next loader round\n  function revalidate() {\n    interruptActiveLoads();\n    updateState({\n      revalidation: \"loading\"\n    });\n    // If we're currently submitting an action, we don't need to start a new\n    // navigation, we'll just let the follow up loader execution call all loaders\n    if (state.navigation.state === \"submitting\") {\n      return;\n    }\n    // If we're currently in an idle state, start a new navigation for the current\n    // action/location and mark it as uninterrupted, which will skip the history\n    // update in completeNavigation\n    if (state.navigation.state === \"idle\") {\n      startNavigation(state.historyAction, state.location, {\n        startUninterruptedRevalidation: true\n      });\n      return;\n    }\n    // Otherwise, if we're currently in a loading state, just start a new\n    // navigation to the navigation.location but do not trigger an uninterrupted\n    // revalidation so that history correctly updates once the navigation completes\n    startNavigation(pendingAction || state.historyAction, state.navigation.location, {\n      overrideNavigation: state.navigation\n    });\n  }\n  // Start a navigation to the given action/location.  Can optionally provide a\n  // overrideNavigation which will override the normalLoad in the case of a redirect\n  // navigation\n  async function startNavigation(historyAction, location, opts) {\n    // Abort any in-progress navigations and start a new one. Unset any ongoing\n    // uninterrupted revalidations unless told otherwise, since we want this\n    // new navigation to update history normally\n    pendingNavigationController && pendingNavigationController.abort();\n    pendingNavigationController = null;\n    pendingAction = historyAction;\n    isUninterruptedRevalidation = (opts && opts.startUninterruptedRevalidation) === true;\n    // Save the current scroll position every time we start a new navigation,\n    // and track whether we should reset scroll on completion\n    saveScrollPosition(state.location, state.matches);\n    pendingPreventScrollReset = (opts && opts.preventScrollReset) === true;\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let loadingNavigation = opts && opts.overrideNavigation;\n    let matches = matchRoutes(routesToUse, location, basename);\n    // Short circuit with a 404 on the root error boundary if we match nothing\n    if (!matches) {\n      let error = getInternalRouterError(404, {\n        pathname: location.pathname\n      });\n      let {\n        matches: notFoundMatches,\n        route\n      } = getShortCircuitMatches(routesToUse);\n      // Cancel all pending deferred on 404s since we don't keep any routes\n      cancelActiveDeferreds();\n      completeNavigation(location, {\n        matches: notFoundMatches,\n        loaderData: {},\n        errors: {\n          [route.id]: error\n        }\n      });\n      return;\n    }\n    // Short circuit if it's only a hash change and not a revalidation or\n    // mutation submission.\n    //\n    // Ignore on initial page loads because since the initial load will always\n    // be \"same hash\".  For example, on /page#hash and submit a <Form method=\"post\">\n    // which will default to a navigation to /page\n    if (state.initialized && !isRevalidationRequired && isHashChangeOnly(state.location, location) && !(opts && opts.submission && isMutationMethod(opts.submission.formMethod))) {\n      completeNavigation(location, {\n        matches\n      });\n      return;\n    }\n    // Create a controller/Request for this navigation\n    pendingNavigationController = new AbortController();\n    let request = createClientSideRequest(init.history, location, pendingNavigationController.signal, opts && opts.submission);\n    let pendingActionData;\n    let pendingError;\n    if (opts && opts.pendingError) {\n      // If we have a pendingError, it means the user attempted a GET submission\n      // with binary FormData so assign here and skip to handleLoaders.  That\n      // way we handle calling loaders above the boundary etc.  It's not really\n      // different from an actionError in that sense.\n      pendingError = {\n        [findNearestBoundary(matches).route.id]: opts.pendingError\n      };\n    } else if (opts && opts.submission && isMutationMethod(opts.submission.formMethod)) {\n      // Call action if we received an action submission\n      let actionOutput = await handleAction(request, location, opts.submission, matches, {\n        replace: opts.replace\n      });\n      if (actionOutput.shortCircuited) {\n        return;\n      }\n      pendingActionData = actionOutput.pendingActionData;\n      pendingError = actionOutput.pendingActionError;\n      loadingNavigation = getLoadingNavigation(location, opts.submission);\n      // Create a GET request for the loaders\n      request = new Request(request.url, {\n        signal: request.signal\n      });\n    }\n    // Call loaders\n    let {\n      shortCircuited,\n      loaderData,\n      errors\n    } = await handleLoaders(request, location, matches, loadingNavigation, opts && opts.submission, opts && opts.fetcherSubmission, opts && opts.replace, pendingActionData, pendingError);\n    if (shortCircuited) {\n      return;\n    }\n    // Clean up now that the action/loaders have completed.  Don't clean up if\n    // we short circuited because pendingNavigationController will have already\n    // been assigned to a new controller for the next navigation\n    pendingNavigationController = null;\n    completeNavigation(location, _extends({\n      matches\n    }, pendingActionData ? {\n      actionData: pendingActionData\n    } : {}, {\n      loaderData,\n      errors\n    }));\n  }\n  // Call the action matched by the leaf route for this navigation and handle\n  // redirects/errors\n  async function handleAction(request, location, submission, matches, opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n    interruptActiveLoads();\n    // Put us in a submitting state\n    let navigation = getSubmittingNavigation(location, submission);\n    updateState({\n      navigation\n    });\n    // Call our action and get the result\n    let result;\n    let actionMatch = getTargetMatch(matches, location);\n    if (!actionMatch.route.action && !actionMatch.route.lazy) {\n      result = {\n        type: ResultType.error,\n        error: getInternalRouterError(405, {\n          method: request.method,\n          pathname: location.pathname,\n          routeId: actionMatch.route.id\n        })\n      };\n    } else {\n      result = await callLoaderOrAction(\"action\", request, actionMatch, matches, manifest, mapRouteProperties, basename);\n      if (request.signal.aborted) {\n        return {\n          shortCircuited: true\n        };\n      }\n    }\n    if (isRedirectResult(result)) {\n      let replace;\n      if (opts && opts.replace != null) {\n        replace = opts.replace;\n      } else {\n        // If the user didn't explicity indicate replace behavior, replace if\n        // we redirected to the exact same location we're currently at to avoid\n        // double back-buttons\n        replace = result.location === state.location.pathname + state.location.search;\n      }\n      await startRedirectNavigation(state, result, {\n        submission,\n        replace\n      });\n      return {\n        shortCircuited: true\n      };\n    }\n    if (isErrorResult(result)) {\n      // Store off the pending error - we use it to determine which loaders\n      // to call and will commit it when we complete the navigation\n      let boundaryMatch = findNearestBoundary(matches, actionMatch.route.id);\n      // By default, all submissions are REPLACE navigations, but if the\n      // action threw an error that'll be rendered in an errorElement, we fall\n      // back to PUSH so that the user can use the back button to get back to\n      // the pre-submission form location to try again\n      if ((opts && opts.replace) !== true) {\n        pendingAction = Action.Push;\n      }\n      return {\n        // Send back an empty object we can use to clear out any prior actionData\n        pendingActionData: {},\n        pendingActionError: {\n          [boundaryMatch.route.id]: result.error\n        }\n      };\n    }\n    if (isDeferredResult(result)) {\n      throw getInternalRouterError(400, {\n        type: \"defer-action\"\n      });\n    }\n    return {\n      pendingActionData: {\n        [actionMatch.route.id]: result.data\n      }\n    };\n  }\n  // Call all applicable loaders for the given matches, handling redirects,\n  // errors, etc.\n  async function handleLoaders(request, location, matches, overrideNavigation, submission, fetcherSubmission, replace, pendingActionData, pendingError) {\n    // Figure out the right navigation we want to use for data loading\n    let loadingNavigation = overrideNavigation || getLoadingNavigation(location, submission);\n    // If this was a redirect from an action we don't have a \"submission\" but\n    // we have it on the loading navigation so use that if available\n    let activeSubmission = submission || fetcherSubmission || getSubmissionFromNavigation(loadingNavigation);\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let [matchesToLoad, revalidatingFetchers] = getMatchesToLoad(init.history, state, matches, activeSubmission, location, isRevalidationRequired, cancelledDeferredRoutes, cancelledFetcherLoads, fetchLoadMatches, fetchRedirectIds, routesToUse, basename, pendingActionData, pendingError);\n    // Cancel pending deferreds for no-longer-matched routes or routes we're\n    // about to reload.  Note that if this is an action reload we would have\n    // already cancelled all pending deferreds so this would be a no-op\n    cancelActiveDeferreds(routeId => !(matches && matches.some(m => m.route.id === routeId)) || matchesToLoad && matchesToLoad.some(m => m.route.id === routeId));\n    pendingNavigationLoadId = ++incrementingLoadId;\n    // Short circuit if we have no loaders to run\n    if (matchesToLoad.length === 0 && revalidatingFetchers.length === 0) {\n      let updatedFetchers = markFetchRedirectsDone();\n      completeNavigation(location, _extends({\n        matches,\n        loaderData: {},\n        // Commit pending error if we're short circuiting\n        errors: pendingError || null\n      }, pendingActionData ? {\n        actionData: pendingActionData\n      } : {}, updatedFetchers ? {\n        fetchers: new Map(state.fetchers)\n      } : {}));\n      return {\n        shortCircuited: true\n      };\n    }\n    // If this is an uninterrupted revalidation, we remain in our current idle\n    // state.  If not, we need to switch to our loading state and load data,\n    // preserving any new action data or existing action data (in the case of\n    // a revalidation interrupting an actionReload)\n    if (!isUninterruptedRevalidation) {\n      revalidatingFetchers.forEach(rf => {\n        let fetcher = state.fetchers.get(rf.key);\n        let revalidatingFetcher = getLoadingFetcher(undefined, fetcher ? fetcher.data : undefined);\n        state.fetchers.set(rf.key, revalidatingFetcher);\n      });\n      let actionData = pendingActionData || state.actionData;\n      updateState(_extends({\n        navigation: loadingNavigation\n      }, actionData ? Object.keys(actionData).length === 0 ? {\n        actionData: null\n      } : {\n        actionData\n      } : {}, revalidatingFetchers.length > 0 ? {\n        fetchers: new Map(state.fetchers)\n      } : {}));\n    }\n    revalidatingFetchers.forEach(rf => {\n      if (fetchControllers.has(rf.key)) {\n        abortFetcher(rf.key);\n      }\n      if (rf.controller) {\n        // Fetchers use an independent AbortController so that aborting a fetcher\n        // (via deleteFetcher) does not abort the triggering navigation that\n        // triggered the revalidation\n        fetchControllers.set(rf.key, rf.controller);\n      }\n    });\n    // Proxy navigation abort through to revalidation fetchers\n    let abortPendingFetchRevalidations = () => revalidatingFetchers.forEach(f => abortFetcher(f.key));\n    if (pendingNavigationController) {\n      pendingNavigationController.signal.addEventListener(\"abort\", abortPendingFetchRevalidations);\n    }\n    let {\n      results,\n      loaderResults,\n      fetcherResults\n    } = await callLoadersAndMaybeResolveData(state.matches, matches, matchesToLoad, revalidatingFetchers, request);\n    if (request.signal.aborted) {\n      return {\n        shortCircuited: true\n      };\n    }\n    // Clean up _after_ loaders have completed.  Don't clean up if we short\n    // circuited because fetchControllers would have been aborted and\n    // reassigned to new controllers for the next navigation\n    if (pendingNavigationController) {\n      pendingNavigationController.signal.removeEventListener(\"abort\", abortPendingFetchRevalidations);\n    }\n    revalidatingFetchers.forEach(rf => fetchControllers.delete(rf.key));\n    // If any loaders returned a redirect Response, start a new REPLACE navigation\n    let redirect = findRedirect(results);\n    if (redirect) {\n      if (redirect.idx >= matchesToLoad.length) {\n        // If this redirect came from a fetcher make sure we mark it in\n        // fetchRedirectIds so it doesn't get revalidated on the next set of\n        // loader executions\n        let fetcherKey = revalidatingFetchers[redirect.idx - matchesToLoad.length].key;\n        fetchRedirectIds.add(fetcherKey);\n      }\n      await startRedirectNavigation(state, redirect.result, {\n        replace\n      });\n      return {\n        shortCircuited: true\n      };\n    }\n    // Process and commit output from loaders\n    let {\n      loaderData,\n      errors\n    } = processLoaderData(state, matches, matchesToLoad, loaderResults, pendingError, revalidatingFetchers, fetcherResults, activeDeferreds);\n    // Wire up subscribers to update loaderData as promises settle\n    activeDeferreds.forEach((deferredData, routeId) => {\n      deferredData.subscribe(aborted => {\n        // Note: No need to updateState here since the TrackedPromise on\n        // loaderData is stable across resolve/reject\n        // Remove this instance if we were aborted or if promises have settled\n        if (aborted || deferredData.done) {\n          activeDeferreds.delete(routeId);\n        }\n      });\n    });\n    let updatedFetchers = markFetchRedirectsDone();\n    let didAbortFetchLoads = abortStaleFetchLoads(pendingNavigationLoadId);\n    let shouldUpdateFetchers = updatedFetchers || didAbortFetchLoads || revalidatingFetchers.length > 0;\n    return _extends({\n      loaderData,\n      errors\n    }, shouldUpdateFetchers ? {\n      fetchers: new Map(state.fetchers)\n    } : {});\n  }\n  function getFetcher(key) {\n    return state.fetchers.get(key) || IDLE_FETCHER;\n  }\n  // Trigger a fetcher load/submit for the given fetcher key\n  function fetch(key, routeId, href, opts) {\n    if (isServer) {\n      throw new Error(\"router.fetch() was called during the server render, but it shouldn't be. \" + \"You are likely calling a useFetcher() method in the body of your component. \" + \"Try moving it to a useEffect or a callback.\");\n    }\n    if (fetchControllers.has(key)) abortFetcher(key);\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let normalizedPath = normalizeTo(state.location, state.matches, basename, future.v7_prependBasename, href, routeId, opts == null ? void 0 : opts.relative);\n    let matches = matchRoutes(routesToUse, normalizedPath, basename);\n    if (!matches) {\n      setFetcherError(key, routeId, getInternalRouterError(404, {\n        pathname: normalizedPath\n      }));\n      return;\n    }\n    let {\n      path,\n      submission,\n      error\n    } = normalizeNavigateOptions(future.v7_normalizeFormMethod, true, normalizedPath, opts);\n    if (error) {\n      setFetcherError(key, routeId, error);\n      return;\n    }\n    let match = getTargetMatch(matches, path);\n    pendingPreventScrollReset = (opts && opts.preventScrollReset) === true;\n    if (submission && isMutationMethod(submission.formMethod)) {\n      handleFetcherAction(key, routeId, path, match, matches, submission);\n      return;\n    }\n    // Store off the match so we can call it's shouldRevalidate on subsequent\n    // revalidations\n    fetchLoadMatches.set(key, {\n      routeId,\n      path\n    });\n    handleFetcherLoader(key, routeId, path, match, matches, submission);\n  }\n  // Call the action for the matched fetcher.submit(), and then handle redirects,\n  // errors, and revalidation\n  async function handleFetcherAction(key, routeId, path, match, requestMatches, submission) {\n    interruptActiveLoads();\n    fetchLoadMatches.delete(key);\n    if (!match.route.action && !match.route.lazy) {\n      let error = getInternalRouterError(405, {\n        method: submission.formMethod,\n        pathname: path,\n        routeId: routeId\n      });\n      setFetcherError(key, routeId, error);\n      return;\n    }\n    // Put this fetcher into it's submitting state\n    let existingFetcher = state.fetchers.get(key);\n    let fetcher = getSubmittingFetcher(submission, existingFetcher);\n    state.fetchers.set(key, fetcher);\n    updateState({\n      fetchers: new Map(state.fetchers)\n    });\n    // Call the action for the fetcher\n    let abortController = new AbortController();\n    let fetchRequest = createClientSideRequest(init.history, path, abortController.signal, submission);\n    fetchControllers.set(key, abortController);\n    let originatingLoadId = incrementingLoadId;\n    let actionResult = await callLoaderOrAction(\"action\", fetchRequest, match, requestMatches, manifest, mapRouteProperties, basename);\n    if (fetchRequest.signal.aborted) {\n      // We can delete this so long as we weren't aborted by ou our own fetcher\n      // re-submit which would have put _new_ controller is in fetchControllers\n      if (fetchControllers.get(key) === abortController) {\n        fetchControllers.delete(key);\n      }\n      return;\n    }\n    if (isRedirectResult(actionResult)) {\n      fetchControllers.delete(key);\n      if (pendingNavigationLoadId > originatingLoadId) {\n        // A new navigation was kicked off after our action started, so that\n        // should take precedence over this redirect navigation.  We already\n        // set isRevalidationRequired so all loaders for the new route should\n        // fire unless opted out via shouldRevalidate\n        let doneFetcher = getDoneFetcher(undefined);\n        state.fetchers.set(key, doneFetcher);\n        updateState({\n          fetchers: new Map(state.fetchers)\n        });\n        return;\n      } else {\n        fetchRedirectIds.add(key);\n        let loadingFetcher = getLoadingFetcher(submission);\n        state.fetchers.set(key, loadingFetcher);\n        updateState({\n          fetchers: new Map(state.fetchers)\n        });\n        return startRedirectNavigation(state, actionResult, {\n          submission,\n          isFetchActionRedirect: true\n        });\n      }\n    }\n    // Process any non-redirect errors thrown\n    if (isErrorResult(actionResult)) {\n      setFetcherError(key, routeId, actionResult.error);\n      return;\n    }\n    if (isDeferredResult(actionResult)) {\n      throw getInternalRouterError(400, {\n        type: \"defer-action\"\n      });\n    }\n    // Start the data load for current matches, or the next location if we're\n    // in the middle of a navigation\n    let nextLocation = state.navigation.location || state.location;\n    let revalidationRequest = createClientSideRequest(init.history, nextLocation, abortController.signal);\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let matches = state.navigation.state !== \"idle\" ? matchRoutes(routesToUse, state.navigation.location, basename) : state.matches;\n    invariant(matches, \"Didn't find any matches after fetcher action\");\n    let loadId = ++incrementingLoadId;\n    fetchReloadIds.set(key, loadId);\n    let loadFetcher = getLoadingFetcher(submission, actionResult.data);\n    state.fetchers.set(key, loadFetcher);\n    let [matchesToLoad, revalidatingFetchers] = getMatchesToLoad(init.history, state, matches, submission, nextLocation, isRevalidationRequired, cancelledDeferredRoutes, cancelledFetcherLoads, fetchLoadMatches, fetchRedirectIds, routesToUse, basename, {\n      [match.route.id]: actionResult.data\n    }, undefined // No need to send through errors since we short circuit above\n    );\n    // Put all revalidating fetchers into the loading state, except for the\n    // current fetcher which we want to keep in it's current loading state which\n    // contains it's action submission info + action data\n    revalidatingFetchers.filter(rf => rf.key !== key).forEach(rf => {\n      let staleKey = rf.key;\n      let existingFetcher = state.fetchers.get(staleKey);\n      let revalidatingFetcher = getLoadingFetcher(undefined, existingFetcher ? existingFetcher.data : undefined);\n      state.fetchers.set(staleKey, revalidatingFetcher);\n      if (fetchControllers.has(staleKey)) {\n        abortFetcher(staleKey);\n      }\n      if (rf.controller) {\n        fetchControllers.set(staleKey, rf.controller);\n      }\n    });\n    updateState({\n      fetchers: new Map(state.fetchers)\n    });\n    let abortPendingFetchRevalidations = () => revalidatingFetchers.forEach(rf => abortFetcher(rf.key));\n    abortController.signal.addEventListener(\"abort\", abortPendingFetchRevalidations);\n    let {\n      results,\n      loaderResults,\n      fetcherResults\n    } = await callLoadersAndMaybeResolveData(state.matches, matches, matchesToLoad, revalidatingFetchers, revalidationRequest);\n    if (abortController.signal.aborted) {\n      return;\n    }\n    abortController.signal.removeEventListener(\"abort\", abortPendingFetchRevalidations);\n    fetchReloadIds.delete(key);\n    fetchControllers.delete(key);\n    revalidatingFetchers.forEach(r => fetchControllers.delete(r.key));\n    let redirect = findRedirect(results);\n    if (redirect) {\n      if (redirect.idx >= matchesToLoad.length) {\n        // If this redirect came from a fetcher make sure we mark it in\n        // fetchRedirectIds so it doesn't get revalidated on the next set of\n        // loader executions\n        let fetcherKey = revalidatingFetchers[redirect.idx - matchesToLoad.length].key;\n        fetchRedirectIds.add(fetcherKey);\n      }\n      return startRedirectNavigation(state, redirect.result);\n    }\n    // Process and commit output from loaders\n    let {\n      loaderData,\n      errors\n    } = processLoaderData(state, state.matches, matchesToLoad, loaderResults, undefined, revalidatingFetchers, fetcherResults, activeDeferreds);\n    // Since we let revalidations complete even if the submitting fetcher was\n    // deleted, only put it back to idle if it hasn't been deleted\n    if (state.fetchers.has(key)) {\n      let doneFetcher = getDoneFetcher(actionResult.data);\n      state.fetchers.set(key, doneFetcher);\n    }\n    let didAbortFetchLoads = abortStaleFetchLoads(loadId);\n    // If we are currently in a navigation loading state and this fetcher is\n    // more recent than the navigation, we want the newer data so abort the\n    // navigation and complete it with the fetcher data\n    if (state.navigation.state === \"loading\" && loadId > pendingNavigationLoadId) {\n      invariant(pendingAction, \"Expected pending action\");\n      pendingNavigationController && pendingNavigationController.abort();\n      completeNavigation(state.navigation.location, {\n        matches,\n        loaderData,\n        errors,\n        fetchers: new Map(state.fetchers)\n      });\n    } else {\n      // otherwise just update with the fetcher data, preserving any existing\n      // loaderData for loaders that did not need to reload.  We have to\n      // manually merge here since we aren't going through completeNavigation\n      updateState(_extends({\n        errors,\n        loaderData: mergeLoaderData(state.loaderData, loaderData, matches, errors)\n      }, didAbortFetchLoads || revalidatingFetchers.length > 0 ? {\n        fetchers: new Map(state.fetchers)\n      } : {}));\n      isRevalidationRequired = false;\n    }\n  }\n  // Call the matched loader for fetcher.load(), handling redirects, errors, etc.\n  async function handleFetcherLoader(key, routeId, path, match, matches, submission) {\n    let existingFetcher = state.fetchers.get(key);\n    // Put this fetcher into it's loading state\n    let loadingFetcher = getLoadingFetcher(submission, existingFetcher ? existingFetcher.data : undefined);\n    state.fetchers.set(key, loadingFetcher);\n    updateState({\n      fetchers: new Map(state.fetchers)\n    });\n    // Call the loader for this fetcher route match\n    let abortController = new AbortController();\n    let fetchRequest = createClientSideRequest(init.history, path, abortController.signal);\n    fetchControllers.set(key, abortController);\n    let originatingLoadId = incrementingLoadId;\n    let result = await callLoaderOrAction(\"loader\", fetchRequest, match, matches, manifest, mapRouteProperties, basename);\n    // Deferred isn't supported for fetcher loads, await everything and treat it\n    // as a normal load.  resolveDeferredData will return undefined if this\n    // fetcher gets aborted, so we just leave result untouched and short circuit\n    // below if that happens\n    if (isDeferredResult(result)) {\n      result = (await resolveDeferredData(result, fetchRequest.signal, true)) || result;\n    }\n    // We can delete this so long as we weren't aborted by our our own fetcher\n    // re-load which would have put _new_ controller is in fetchControllers\n    if (fetchControllers.get(key) === abortController) {\n      fetchControllers.delete(key);\n    }\n    if (fetchRequest.signal.aborted) {\n      return;\n    }\n    // If the loader threw a redirect Response, start a new REPLACE navigation\n    if (isRedirectResult(result)) {\n      if (pendingNavigationLoadId > originatingLoadId) {\n        // A new navigation was kicked off after our loader started, so that\n        // should take precedence over this redirect navigation\n        let doneFetcher = getDoneFetcher(undefined);\n        state.fetchers.set(key, doneFetcher);\n        updateState({\n          fetchers: new Map(state.fetchers)\n        });\n        return;\n      } else {\n        fetchRedirectIds.add(key);\n        await startRedirectNavigation(state, result);\n        return;\n      }\n    }\n    // Process any non-redirect errors thrown\n    if (isErrorResult(result)) {\n      let boundaryMatch = findNearestBoundary(state.matches, routeId);\n      state.fetchers.delete(key);\n      // TODO: In remix, this would reset to IDLE_NAVIGATION if it was a catch -\n      // do we need to behave any differently with our non-redirect errors?\n      // What if it was a non-redirect Response?\n      updateState({\n        fetchers: new Map(state.fetchers),\n        errors: {\n          [boundaryMatch.route.id]: result.error\n        }\n      });\n      return;\n    }\n    invariant(!isDeferredResult(result), \"Unhandled fetcher deferred data\");\n    // Put the fetcher back into an idle state\n    let doneFetcher = getDoneFetcher(result.data);\n    state.fetchers.set(key, doneFetcher);\n    updateState({\n      fetchers: new Map(state.fetchers)\n    });\n  }\n  /**\n   * Utility function to handle redirects returned from an action or loader.\n   * Normally, a redirect \"replaces\" the navigation that triggered it.  So, for\n   * example:\n   *\n   *  - user is on /a\n   *  - user clicks a link to /b\n   *  - loader for /b redirects to /c\n   *\n   * In a non-JS app the browser would track the in-flight navigation to /b and\n   * then replace it with /c when it encountered the redirect response.  In\n   * the end it would only ever update the URL bar with /c.\n   *\n   * In client-side routing using pushState/replaceState, we aim to emulate\n   * this behavior and we also do not update history until the end of the\n   * navigation (including processed redirects).  This means that we never\n   * actually touch history until we've processed redirects, so we just use\n   * the history action from the original navigation (PUSH or REPLACE).\n   */\n  async function startRedirectNavigation(state, redirect, _temp) {\n    let {\n      submission,\n      replace,\n      isFetchActionRedirect\n    } = _temp === void 0 ? {} : _temp;\n    if (redirect.revalidate) {\n      isRevalidationRequired = true;\n    }\n    let redirectLocation = createLocation(state.location, redirect.location, // TODO: This can be removed once we get rid of useTransition in Remix v2\n    _extends({\n      _isRedirect: true\n    }, isFetchActionRedirect ? {\n      _isFetchActionRedirect: true\n    } : {}));\n    invariant(redirectLocation, \"Expected a location on the redirect navigation\");\n    if (isBrowser) {\n      let isDocumentReload = false;\n      if (redirect.reloadDocument) {\n        // Hard reload if the response contained X-Remix-Reload-Document\n        isDocumentReload = true;\n      } else if (ABSOLUTE_URL_REGEX.test(redirect.location)) {\n        const url = init.history.createURL(redirect.location);\n        isDocumentReload =\n        // Hard reload if it's an absolute URL to a new origin\n        url.origin !== routerWindow.location.origin ||\n        // Hard reload if it's an absolute URL that does not match our basename\n        stripBasename(url.pathname, basename) == null;\n      }\n      if (isDocumentReload) {\n        if (replace) {\n          routerWindow.location.replace(redirect.location);\n        } else {\n          routerWindow.location.assign(redirect.location);\n        }\n        return;\n      }\n    }\n    // There's no need to abort on redirects, since we don't detect the\n    // redirect until the action/loaders have settled\n    pendingNavigationController = null;\n    let redirectHistoryAction = replace === true ? Action.Replace : Action.Push;\n    // Use the incoming submission if provided, fallback on the active one in\n    // state.navigation\n    let activeSubmission = submission || getSubmissionFromNavigation(state.navigation);\n    // If this was a 307/308 submission we want to preserve the HTTP method and\n    // re-submit the GET/POST/PUT/PATCH/DELETE as a submission navigation to the\n    // redirected location\n    if (redirectPreserveMethodStatusCodes.has(redirect.status) && activeSubmission && isMutationMethod(activeSubmission.formMethod)) {\n      await startNavigation(redirectHistoryAction, redirectLocation, {\n        submission: _extends({}, activeSubmission, {\n          formAction: redirect.location\n        }),\n        // Preserve this flag across redirects\n        preventScrollReset: pendingPreventScrollReset\n      });\n    } else if (isFetchActionRedirect) {\n      // For a fetch action redirect, we kick off a new loading navigation\n      // without the fetcher submission, but we send it along for shouldRevalidate\n      await startNavigation(redirectHistoryAction, redirectLocation, {\n        overrideNavigation: getLoadingNavigation(redirectLocation),\n        fetcherSubmission: activeSubmission,\n        // Preserve this flag across redirects\n        preventScrollReset: pendingPreventScrollReset\n      });\n    } else {\n      // If we have a submission, we will preserve it through the redirect navigation\n      let overrideNavigation = getLoadingNavigation(redirectLocation, activeSubmission);\n      await startNavigation(redirectHistoryAction, redirectLocation, {\n        overrideNavigation,\n        // Preserve this flag across redirects\n        preventScrollReset: pendingPreventScrollReset\n      });\n    }\n  }\n  async function callLoadersAndMaybeResolveData(currentMatches, matches, matchesToLoad, fetchersToLoad, request) {\n    // Call all navigation loaders and revalidating fetcher loaders in parallel,\n    // then slice off the results into separate arrays so we can handle them\n    // accordingly\n    let results = await Promise.all([...matchesToLoad.map(match => callLoaderOrAction(\"loader\", request, match, matches, manifest, mapRouteProperties, basename)), ...fetchersToLoad.map(f => {\n      if (f.matches && f.match && f.controller) {\n        return callLoaderOrAction(\"loader\", createClientSideRequest(init.history, f.path, f.controller.signal), f.match, f.matches, manifest, mapRouteProperties, basename);\n      } else {\n        let error = {\n          type: ResultType.error,\n          error: getInternalRouterError(404, {\n            pathname: f.path\n          })\n        };\n        return error;\n      }\n    })]);\n    let loaderResults = results.slice(0, matchesToLoad.length);\n    let fetcherResults = results.slice(matchesToLoad.length);\n    await Promise.all([resolveDeferredResults(currentMatches, matchesToLoad, loaderResults, loaderResults.map(() => request.signal), false, state.loaderData), resolveDeferredResults(currentMatches, fetchersToLoad.map(f => f.match), fetcherResults, fetchersToLoad.map(f => f.controller ? f.controller.signal : null), true)]);\n    return {\n      results,\n      loaderResults,\n      fetcherResults\n    };\n  }\n  function interruptActiveLoads() {\n    // Every interruption triggers a revalidation\n    isRevalidationRequired = true;\n    // Cancel pending route-level deferreds and mark cancelled routes for\n    // revalidation\n    cancelledDeferredRoutes.push(...cancelActiveDeferreds());\n    // Abort in-flight fetcher loads\n    fetchLoadMatches.forEach((_, key) => {\n      if (fetchControllers.has(key)) {\n        cancelledFetcherLoads.push(key);\n        abortFetcher(key);\n      }\n    });\n  }\n  function setFetcherError(key, routeId, error) {\n    let boundaryMatch = findNearestBoundary(state.matches, routeId);\n    deleteFetcher(key);\n    updateState({\n      errors: {\n        [boundaryMatch.route.id]: error\n      },\n      fetchers: new Map(state.fetchers)\n    });\n  }\n  function deleteFetcher(key) {\n    let fetcher = state.fetchers.get(key);\n    // Don't abort the controller if this is a deletion of a fetcher.submit()\n    // in it's loading phase since - we don't want to abort the corresponding\n    // revalidation and want them to complete and land\n    if (fetchControllers.has(key) && !(fetcher && fetcher.state === \"loading\" && fetchReloadIds.has(key))) {\n      abortFetcher(key);\n    }\n    fetchLoadMatches.delete(key);\n    fetchReloadIds.delete(key);\n    fetchRedirectIds.delete(key);\n    state.fetchers.delete(key);\n  }\n  function abortFetcher(key) {\n    let controller = fetchControllers.get(key);\n    invariant(controller, \"Expected fetch controller: \" + key);\n    controller.abort();\n    fetchControllers.delete(key);\n  }\n  function markFetchersDone(keys) {\n    for (let key of keys) {\n      let fetcher = getFetcher(key);\n      let doneFetcher = getDoneFetcher(fetcher.data);\n      state.fetchers.set(key, doneFetcher);\n    }\n  }\n  function markFetchRedirectsDone() {\n    let doneKeys = [];\n    let updatedFetchers = false;\n    for (let key of fetchRedirectIds) {\n      let fetcher = state.fetchers.get(key);\n      invariant(fetcher, \"Expected fetcher: \" + key);\n      if (fetcher.state === \"loading\") {\n        fetchRedirectIds.delete(key);\n        doneKeys.push(key);\n        updatedFetchers = true;\n      }\n    }\n    markFetchersDone(doneKeys);\n    return updatedFetchers;\n  }\n  function abortStaleFetchLoads(landedId) {\n    let yeetedKeys = [];\n    for (let [key, id] of fetchReloadIds) {\n      if (id < landedId) {\n        let fetcher = state.fetchers.get(key);\n        invariant(fetcher, \"Expected fetcher: \" + key);\n        if (fetcher.state === \"loading\") {\n          abortFetcher(key);\n          fetchReloadIds.delete(key);\n          yeetedKeys.push(key);\n        }\n      }\n    }\n    markFetchersDone(yeetedKeys);\n    return yeetedKeys.length > 0;\n  }\n  function getBlocker(key, fn) {\n    let blocker = state.blockers.get(key) || IDLE_BLOCKER;\n    if (blockerFunctions.get(key) !== fn) {\n      blockerFunctions.set(key, fn);\n    }\n    return blocker;\n  }\n  function deleteBlocker(key) {\n    state.blockers.delete(key);\n    blockerFunctions.delete(key);\n  }\n  // Utility function to update blockers, ensuring valid state transitions\n  function updateBlocker(key, newBlocker) {\n    let blocker = state.blockers.get(key) || IDLE_BLOCKER;\n    // Poor mans state machine :)\n    // https://mermaid.live/edit#pako:eNqVkc9OwzAMxl8l8nnjAYrEtDIOHEBIgwvKJTReGy3_lDpIqO27k6awMG0XcrLlnz87nwdonESogKXXBuE79rq75XZO3-yHds0RJVuv70YrPlUrCEe2HfrORS3rubqZfuhtpg5C9wk5tZ4VKcRUq88q9Z8RS0-48cE1iHJkL0ugbHuFLus9L6spZy8nX9MP2CNdomVaposqu3fGayT8T8-jJQwhepo_UtpgBQaDEUom04dZhAN1aJBDlUKJBxE1ceB2Smj0Mln-IBW5AFU2dwUiktt_2Qaq2dBfaKdEup85UV7Yd-dKjlnkabl2Pvr0DTkTreM\n    invariant(blocker.state === \"unblocked\" && newBlocker.state === \"blocked\" || blocker.state === \"blocked\" && newBlocker.state === \"blocked\" || blocker.state === \"blocked\" && newBlocker.state === \"proceeding\" || blocker.state === \"blocked\" && newBlocker.state === \"unblocked\" || blocker.state === \"proceeding\" && newBlocker.state === \"unblocked\", \"Invalid blocker state transition: \" + blocker.state + \" -> \" + newBlocker.state);\n    let blockers = new Map(state.blockers);\n    blockers.set(key, newBlocker);\n    updateState({\n      blockers\n    });\n  }\n  function shouldBlockNavigation(_ref2) {\n    let {\n      currentLocation,\n      nextLocation,\n      historyAction\n    } = _ref2;\n    if (blockerFunctions.size === 0) {\n      return;\n    }\n    // We ony support a single active blocker at the moment since we don't have\n    // any compelling use cases for multi-blocker yet\n    if (blockerFunctions.size > 1) {\n      warning(false, \"A router only supports one blocker at a time\");\n    }\n    let entries = Array.from(blockerFunctions.entries());\n    let [blockerKey, blockerFunction] = entries[entries.length - 1];\n    let blocker = state.blockers.get(blockerKey);\n    if (blocker && blocker.state === \"proceeding\") {\n      // If the blocker is currently proceeding, we don't need to re-check\n      // it and can let this navigation continue\n      return;\n    }\n    // At this point, we know we're unblocked/blocked so we need to check the\n    // user-provided blocker function\n    if (blockerFunction({\n      currentLocation,\n      nextLocation,\n      historyAction\n    })) {\n      return blockerKey;\n    }\n  }\n  function cancelActiveDeferreds(predicate) {\n    let cancelledRouteIds = [];\n    activeDeferreds.forEach((dfd, routeId) => {\n      if (!predicate || predicate(routeId)) {\n        // Cancel the deferred - but do not remove from activeDeferreds here -\n        // we rely on the subscribers to do that so our tests can assert proper\n        // cleanup via _internalActiveDeferreds\n        dfd.cancel();\n        cancelledRouteIds.push(routeId);\n        activeDeferreds.delete(routeId);\n      }\n    });\n    return cancelledRouteIds;\n  }\n  // Opt in to capturing and reporting scroll positions during navigations,\n  // used by the <ScrollRestoration> component\n  function enableScrollRestoration(positions, getPosition, getKey) {\n    savedScrollPositions = positions;\n    getScrollPosition = getPosition;\n    getScrollRestorationKey = getKey || null;\n    // Perform initial hydration scroll restoration, since we miss the boat on\n    // the initial updateState() because we've not yet rendered <ScrollRestoration/>\n    // and therefore have no savedScrollPositions available\n    if (!initialScrollRestored && state.navigation === IDLE_NAVIGATION) {\n      initialScrollRestored = true;\n      let y = getSavedScrollPosition(state.location, state.matches);\n      if (y != null) {\n        updateState({\n          restoreScrollPosition: y\n        });\n      }\n    }\n    return () => {\n      savedScrollPositions = null;\n      getScrollPosition = null;\n      getScrollRestorationKey = null;\n    };\n  }\n  function getScrollKey(location, matches) {\n    if (getScrollRestorationKey) {\n      let key = getScrollRestorationKey(location, matches.map(m => createUseMatchesMatch(m, state.loaderData)));\n      return key || location.key;\n    }\n    return location.key;\n  }\n  function saveScrollPosition(location, matches) {\n    if (savedScrollPositions && getScrollPosition) {\n      let key = getScrollKey(location, matches);\n      savedScrollPositions[key] = getScrollPosition();\n    }\n  }\n  function getSavedScrollPosition(location, matches) {\n    if (savedScrollPositions) {\n      let key = getScrollKey(location, matches);\n      let y = savedScrollPositions[key];\n      if (typeof y === \"number\") {\n        return y;\n      }\n    }\n    return null;\n  }\n  function _internalSetRoutes(newRoutes) {\n    manifest = {};\n    inFlightDataRoutes = convertRoutesToDataRoutes(newRoutes, mapRouteProperties, undefined, manifest);\n  }\n  router = {\n    get basename() {\n      return basename;\n    },\n    get state() {\n      return state;\n    },\n    get routes() {\n      return dataRoutes;\n    },\n    initialize,\n    subscribe,\n    enableScrollRestoration,\n    navigate,\n    fetch,\n    revalidate,\n    // Passthrough to history-aware createHref used by useHref so we get proper\n    // hash-aware URLs in DOM paths\n    createHref: to => init.history.createHref(to),\n    encodeLocation: to => init.history.encodeLocation(to),\n    getFetcher,\n    deleteFetcher,\n    dispose,\n    getBlocker,\n    deleteBlocker,\n    _internalFetchControllers: fetchControllers,\n    _internalActiveDeferreds: activeDeferreds,\n    // TODO: Remove setRoutes, it's temporary to avoid dealing with\n    // updating the tree while validating the update algorithm.\n    _internalSetRoutes\n  };\n  return router;\n}\n//#endregion\n////////////////////////////////////////////////////////////////////////////////\n//#region createStaticHandler\n////////////////////////////////////////////////////////////////////////////////\nconst UNSAFE_DEFERRED_SYMBOL = Symbol(\"deferred\");\nfunction createStaticHandler(routes, opts) {\n  invariant(routes.length > 0, \"You must provide a non-empty routes array to createStaticHandler\");\n  let manifest = {};\n  let basename = (opts ? opts.basename : null) || \"/\";\n  let mapRouteProperties;\n  if (opts != null && opts.mapRouteProperties) {\n    mapRouteProperties = opts.mapRouteProperties;\n  } else if (opts != null && opts.detectErrorBoundary) {\n    // If they are still using the deprecated version, wrap it with the new API\n    let detectErrorBoundary = opts.detectErrorBoundary;\n    mapRouteProperties = route => ({\n      hasErrorBoundary: detectErrorBoundary(route)\n    });\n  } else {\n    mapRouteProperties = defaultMapRouteProperties;\n  }\n  let dataRoutes = convertRoutesToDataRoutes(routes, mapRouteProperties, undefined, manifest);\n  /**\n   * The query() method is intended for document requests, in which we want to\n   * call an optional action and potentially multiple loaders for all nested\n   * routes.  It returns a StaticHandlerContext object, which is very similar\n   * to the router state (location, loaderData, actionData, errors, etc.) and\n   * also adds SSR-specific information such as the statusCode and headers\n   * from action/loaders Responses.\n   *\n   * It _should_ never throw and should report all errors through the\n   * returned context.errors object, properly associating errors to their error\n   * boundary.  Additionally, it tracks _deepestRenderedBoundaryId which can be\n   * used to emulate React error boundaries during SSr by performing a second\n   * pass only down to the boundaryId.\n   *\n   * The one exception where we do not return a StaticHandlerContext is when a\n   * redirect response is returned or thrown from any action/loader.  We\n   * propagate that out and return the raw Response so the HTTP server can\n   * return it directly.\n   */\n  async function query(request, _temp2) {\n    let {\n      requestContext\n    } = _temp2 === void 0 ? {} : _temp2;\n    let url = new URL(request.url);\n    let method = request.method;\n    let location = createLocation(\"\", createPath(url), null, \"default\");\n    let matches = matchRoutes(dataRoutes, location, basename);\n    // SSR supports HEAD requests while SPA doesn't\n    if (!isValidMethod(method) && method !== \"HEAD\") {\n      let error = getInternalRouterError(405, {\n        method\n      });\n      let {\n        matches: methodNotAllowedMatches,\n        route\n      } = getShortCircuitMatches(dataRoutes);\n      return {\n        basename,\n        location,\n        matches: methodNotAllowedMatches,\n        loaderData: {},\n        actionData: null,\n        errors: {\n          [route.id]: error\n        },\n        statusCode: error.status,\n        loaderHeaders: {},\n        actionHeaders: {},\n        activeDeferreds: null\n      };\n    } else if (!matches) {\n      let error = getInternalRouterError(404, {\n        pathname: location.pathname\n      });\n      let {\n        matches: notFoundMatches,\n        route\n      } = getShortCircuitMatches(dataRoutes);\n      return {\n        basename,\n        location,\n        matches: notFoundMatches,\n        loaderData: {},\n        actionData: null,\n        errors: {\n          [route.id]: error\n        },\n        statusCode: error.status,\n        loaderHeaders: {},\n        actionHeaders: {},\n        activeDeferreds: null\n      };\n    }\n    let result = await queryImpl(request, location, matches, requestContext);\n    if (isResponse(result)) {\n      return result;\n    }\n    // When returning StaticHandlerContext, we patch back in the location here\n    // since we need it for React Context.  But this helps keep our submit and\n    // loadRouteData operating on a Request instead of a Location\n    return _extends({\n      location,\n      basename\n    }, result);\n  }\n  /**\n   * The queryRoute() method is intended for targeted route requests, either\n   * for fetch ?_data requests or resource route requests.  In this case, we\n   * are only ever calling a single action or loader, and we are returning the\n   * returned value directly.  In most cases, this will be a Response returned\n   * from the action/loader, but it may be a primitive or other value as well -\n   * and in such cases the calling context should handle that accordingly.\n   *\n   * We do respect the throw/return differentiation, so if an action/loader\n   * throws, then this method will throw the value.  This is important so we\n   * can do proper boundary identification in Remix where a thrown Response\n   * must go to the Catch Boundary but a returned Response is happy-path.\n   *\n   * One thing to note is that any Router-initiated Errors that make sense\n   * to associate with a status code will be thrown as an ErrorResponse\n   * instance which include the raw Error, such that the calling context can\n   * serialize the error as they see fit while including the proper response\n   * code.  Examples here are 404 and 405 errors that occur prior to reaching\n   * any user-defined loaders.\n   */\n  async function queryRoute(request, _temp3) {\n    let {\n      routeId,\n      requestContext\n    } = _temp3 === void 0 ? {} : _temp3;\n    let url = new URL(request.url);\n    let method = request.method;\n    let location = createLocation(\"\", createPath(url), null, \"default\");\n    let matches = matchRoutes(dataRoutes, location, basename);\n    // SSR supports HEAD requests while SPA doesn't\n    if (!isValidMethod(method) && method !== \"HEAD\" && method !== \"OPTIONS\") {\n      throw getInternalRouterError(405, {\n        method\n      });\n    } else if (!matches) {\n      throw getInternalRouterError(404, {\n        pathname: location.pathname\n      });\n    }\n    let match = routeId ? matches.find(m => m.route.id === routeId) : getTargetMatch(matches, location);\n    if (routeId && !match) {\n      throw getInternalRouterError(403, {\n        pathname: location.pathname,\n        routeId\n      });\n    } else if (!match) {\n      // This should never hit I don't think?\n      throw getInternalRouterError(404, {\n        pathname: location.pathname\n      });\n    }\n    let result = await queryImpl(request, location, matches, requestContext, match);\n    if (isResponse(result)) {\n      return result;\n    }\n    let error = result.errors ? Object.values(result.errors)[0] : undefined;\n    if (error !== undefined) {\n      // If we got back result.errors, that means the loader/action threw\n      // _something_ that wasn't a Response, but it's not guaranteed/required\n      // to be an `instanceof Error` either, so we have to use throw here to\n      // preserve the \"error\" state outside of queryImpl.\n      throw error;\n    }\n    // Pick off the right state value to return\n    if (result.actionData) {\n      return Object.values(result.actionData)[0];\n    }\n    if (result.loaderData) {\n      var _result$activeDeferre;\n      let data = Object.values(result.loaderData)[0];\n      if ((_result$activeDeferre = result.activeDeferreds) != null && _result$activeDeferre[match.route.id]) {\n        data[UNSAFE_DEFERRED_SYMBOL] = result.activeDeferreds[match.route.id];\n      }\n      return data;\n    }\n    return undefined;\n  }\n  async function queryImpl(request, location, matches, requestContext, routeMatch) {\n    invariant(request.signal, \"query()/queryRoute() requests must contain an AbortController signal\");\n    try {\n      if (isMutationMethod(request.method.toLowerCase())) {\n        let result = await submit(request, matches, routeMatch || getTargetMatch(matches, location), requestContext, routeMatch != null);\n        return result;\n      }\n      let result = await loadRouteData(request, matches, requestContext, routeMatch);\n      return isResponse(result) ? result : _extends({}, result, {\n        actionData: null,\n        actionHeaders: {}\n      });\n    } catch (e) {\n      // If the user threw/returned a Response in callLoaderOrAction, we throw\n      // it to bail out and then return or throw here based on whether the user\n      // returned or threw\n      if (isQueryRouteResponse(e)) {\n        if (e.type === ResultType.error) {\n          throw e.response;\n        }\n        return e.response;\n      }\n      // Redirects are always returned since they don't propagate to catch\n      // boundaries\n      if (isRedirectResponse(e)) {\n        return e;\n      }\n      throw e;\n    }\n  }\n  async function submit(request, matches, actionMatch, requestContext, isRouteRequest) {\n    let result;\n    if (!actionMatch.route.action && !actionMatch.route.lazy) {\n      let error = getInternalRouterError(405, {\n        method: request.method,\n        pathname: new URL(request.url).pathname,\n        routeId: actionMatch.route.id\n      });\n      if (isRouteRequest) {\n        throw error;\n      }\n      result = {\n        type: ResultType.error,\n        error\n      };\n    } else {\n      result = await callLoaderOrAction(\"action\", request, actionMatch, matches, manifest, mapRouteProperties, basename, {\n        isStaticRequest: true,\n        isRouteRequest,\n        requestContext\n      });\n      if (request.signal.aborted) {\n        let method = isRouteRequest ? \"queryRoute\" : \"query\";\n        throw new Error(method + \"() call aborted\");\n      }\n    }\n    if (isRedirectResult(result)) {\n      // Uhhhh - this should never happen, we should always throw these from\n      // callLoaderOrAction, but the type narrowing here keeps TS happy and we\n      // can get back on the \"throw all redirect responses\" train here should\n      // this ever happen :/\n      throw new Response(null, {\n        status: result.status,\n        headers: {\n          Location: result.location\n        }\n      });\n    }\n    if (isDeferredResult(result)) {\n      let error = getInternalRouterError(400, {\n        type: \"defer-action\"\n      });\n      if (isRouteRequest) {\n        throw error;\n      }\n      result = {\n        type: ResultType.error,\n        error\n      };\n    }\n    if (isRouteRequest) {\n      // Note: This should only be non-Response values if we get here, since\n      // isRouteRequest should throw any Response received in callLoaderOrAction\n      if (isErrorResult(result)) {\n        throw result.error;\n      }\n      return {\n        matches: [actionMatch],\n        loaderData: {},\n        actionData: {\n          [actionMatch.route.id]: result.data\n        },\n        errors: null,\n        // Note: statusCode + headers are unused here since queryRoute will\n        // return the raw Response or value\n        statusCode: 200,\n        loaderHeaders: {},\n        actionHeaders: {},\n        activeDeferreds: null\n      };\n    }\n    if (isErrorResult(result)) {\n      // Store off the pending error - we use it to determine which loaders\n      // to call and will commit it when we complete the navigation\n      let boundaryMatch = findNearestBoundary(matches, actionMatch.route.id);\n      let context = await loadRouteData(request, matches, requestContext, undefined, {\n        [boundaryMatch.route.id]: result.error\n      });\n      // action status codes take precedence over loader status codes\n      return _extends({}, context, {\n        statusCode: isRouteErrorResponse(result.error) ? result.error.status : 500,\n        actionData: null,\n        actionHeaders: _extends({}, result.headers ? {\n          [actionMatch.route.id]: result.headers\n        } : {})\n      });\n    }\n    // Create a GET request for the loaders\n    let loaderRequest = new Request(request.url, {\n      headers: request.headers,\n      redirect: request.redirect,\n      signal: request.signal\n    });\n    let context = await loadRouteData(loaderRequest, matches, requestContext);\n    return _extends({}, context, result.statusCode ? {\n      statusCode: result.statusCode\n    } : {}, {\n      actionData: {\n        [actionMatch.route.id]: result.data\n      },\n      actionHeaders: _extends({}, result.headers ? {\n        [actionMatch.route.id]: result.headers\n      } : {})\n    });\n  }\n  async function loadRouteData(request, matches, requestContext, routeMatch, pendingActionError) {\n    let isRouteRequest = routeMatch != null;\n    // Short circuit if we have no loaders to run (queryRoute())\n    if (isRouteRequest && !(routeMatch != null && routeMatch.route.loader) && !(routeMatch != null && routeMatch.route.lazy)) {\n      throw getInternalRouterError(400, {\n        method: request.method,\n        pathname: new URL(request.url).pathname,\n        routeId: routeMatch == null ? void 0 : routeMatch.route.id\n      });\n    }\n    let requestMatches = routeMatch ? [routeMatch] : getLoaderMatchesUntilBoundary(matches, Object.keys(pendingActionError || {})[0]);\n    let matchesToLoad = requestMatches.filter(m => m.route.loader || m.route.lazy);\n    // Short circuit if we have no loaders to run (query())\n    if (matchesToLoad.length === 0) {\n      return {\n        matches,\n        // Add a null for all matched routes for proper revalidation on the client\n        loaderData: matches.reduce((acc, m) => Object.assign(acc, {\n          [m.route.id]: null\n        }), {}),\n        errors: pendingActionError || null,\n        statusCode: 200,\n        loaderHeaders: {},\n        activeDeferreds: null\n      };\n    }\n    let results = await Promise.all([...matchesToLoad.map(match => callLoaderOrAction(\"loader\", request, match, matches, manifest, mapRouteProperties, basename, {\n      isStaticRequest: true,\n      isRouteRequest,\n      requestContext\n    }))]);\n    if (request.signal.aborted) {\n      let method = isRouteRequest ? \"queryRoute\" : \"query\";\n      throw new Error(method + \"() call aborted\");\n    }\n    // Process and commit output from loaders\n    let activeDeferreds = new Map();\n    let context = processRouteLoaderData(matches, matchesToLoad, results, pendingActionError, activeDeferreds);\n    // Add a null for any non-loader matches for proper revalidation on the client\n    let executedLoaders = new Set(matchesToLoad.map(match => match.route.id));\n    matches.forEach(match => {\n      if (!executedLoaders.has(match.route.id)) {\n        context.loaderData[match.route.id] = null;\n      }\n    });\n    return _extends({}, context, {\n      matches,\n      activeDeferreds: activeDeferreds.size > 0 ? Object.fromEntries(activeDeferreds.entries()) : null\n    });\n  }\n  return {\n    dataRoutes,\n    query,\n    queryRoute\n  };\n}\n//#endregion\n////////////////////////////////////////////////////////////////////////////////\n//#region Helpers\n////////////////////////////////////////////////////////////////////////////////\n/**\n * Given an existing StaticHandlerContext and an error thrown at render time,\n * provide an updated StaticHandlerContext suitable for a second SSR render\n */\nfunction getStaticContextFromError(routes, context, error) {\n  let newContext = _extends({}, context, {\n    statusCode: 500,\n    errors: {\n      [context._deepestRenderedBoundaryId || routes[0].id]: error\n    }\n  });\n  return newContext;\n}\nfunction isSubmissionNavigation(opts) {\n  return opts != null && (\"formData\" in opts && opts.formData != null || \"body\" in opts && opts.body !== undefined);\n}\nfunction normalizeTo(location, matches, basename, prependBasename, to, fromRouteId, relative) {\n  let contextualMatches;\n  let activeRouteMatch;\n  if (fromRouteId != null && relative !== \"path\") {\n    // Grab matches up to the calling route so our route-relative logic is\n    // relative to the correct source route.  When using relative:path,\n    // fromRouteId is ignored since that is always relative to the current\n    // location path\n    contextualMatches = [];\n    for (let match of matches) {\n      contextualMatches.push(match);\n      if (match.route.id === fromRouteId) {\n        activeRouteMatch = match;\n        break;\n      }\n    }\n  } else {\n    contextualMatches = matches;\n    activeRouteMatch = matches[matches.length - 1];\n  }\n  // Resolve the relative path\n  let path = resolveTo(to ? to : \".\", getPathContributingMatches(contextualMatches).map(m => m.pathnameBase), stripBasename(location.pathname, basename) || location.pathname, relative === \"path\");\n  // When `to` is not specified we inherit search/hash from the current\n  // location, unlike when to=\".\" and we just inherit the path.\n  // See https://github.com/remix-run/remix/issues/927\n  if (to == null) {\n    path.search = location.search;\n    path.hash = location.hash;\n  }\n  // Add an ?index param for matched index routes if we don't already have one\n  if ((to == null || to === \"\" || to === \".\") && activeRouteMatch && activeRouteMatch.route.index && !hasNakedIndexQuery(path.search)) {\n    path.search = path.search ? path.search.replace(/^\\?/, \"?index&\") : \"?index\";\n  }\n  // If we're operating within a basename, prepend it to the pathname.  If\n  // this is a root navigation, then just use the raw basename which allows\n  // the basename to have full control over the presence of a trailing slash\n  // on root actions\n  if (prependBasename && basename !== \"/\") {\n    path.pathname = path.pathname === \"/\" ? basename : joinPaths([basename, path.pathname]);\n  }\n  return createPath(path);\n}\n// Normalize navigation options by converting formMethod=GET formData objects to\n// URLSearchParams so they behave identically to links with query params\nfunction normalizeNavigateOptions(normalizeFormMethod, isFetcher, path, opts) {\n  // Return location verbatim on non-submission navigations\n  if (!opts || !isSubmissionNavigation(opts)) {\n    return {\n      path\n    };\n  }\n  if (opts.formMethod && !isValidMethod(opts.formMethod)) {\n    return {\n      path,\n      error: getInternalRouterError(405, {\n        method: opts.formMethod\n      })\n    };\n  }\n  let getInvalidBodyError = () => ({\n    path,\n    error: getInternalRouterError(400, {\n      type: \"invalid-body\"\n    })\n  });\n  // Create a Submission on non-GET navigations\n  let rawFormMethod = opts.formMethod || \"get\";\n  let formMethod = normalizeFormMethod ? rawFormMethod.toUpperCase() : rawFormMethod.toLowerCase();\n  let formAction = stripHashFromPath(path);\n  if (opts.body !== undefined) {\n    if (opts.formEncType === \"text/plain\") {\n      // text only support POST/PUT/PATCH/DELETE submissions\n      if (!isMutationMethod(formMethod)) {\n        return getInvalidBodyError();\n      }\n      let text = typeof opts.body === \"string\" ? opts.body : opts.body instanceof FormData || opts.body instanceof URLSearchParams ?\n      // https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#plain-text-form-data\n      Array.from(opts.body.entries()).reduce((acc, _ref3) => {\n        let [name, value] = _ref3;\n        return \"\" + acc + name + \"=\" + value + \"\\n\";\n      }, \"\") : String(opts.body);\n      return {\n        path,\n        submission: {\n          formMethod,\n          formAction,\n          formEncType: opts.formEncType,\n          formData: undefined,\n          json: undefined,\n          text\n        }\n      };\n    } else if (opts.formEncType === \"application/json\") {\n      // json only supports POST/PUT/PATCH/DELETE submissions\n      if (!isMutationMethod(formMethod)) {\n        return getInvalidBodyError();\n      }\n      try {\n        let json = typeof opts.body === \"string\" ? JSON.parse(opts.body) : opts.body;\n        return {\n          path,\n          submission: {\n            formMethod,\n            formAction,\n            formEncType: opts.formEncType,\n            formData: undefined,\n            json,\n            text: undefined\n          }\n        };\n      } catch (e) {\n        return getInvalidBodyError();\n      }\n    }\n  }\n  invariant(typeof FormData === \"function\", \"FormData is not available in this environment\");\n  let searchParams;\n  let formData;\n  if (opts.formData) {\n    searchParams = convertFormDataToSearchParams(opts.formData);\n    formData = opts.formData;\n  } else if (opts.body instanceof FormData) {\n    searchParams = convertFormDataToSearchParams(opts.body);\n    formData = opts.body;\n  } else if (opts.body instanceof URLSearchParams) {\n    searchParams = opts.body;\n    formData = convertSearchParamsToFormData(searchParams);\n  } else if (opts.body == null) {\n    searchParams = new URLSearchParams();\n    formData = new FormData();\n  } else {\n    try {\n      searchParams = new URLSearchParams(opts.body);\n      formData = convertSearchParamsToFormData(searchParams);\n    } catch (e) {\n      return getInvalidBodyError();\n    }\n  }\n  let submission = {\n    formMethod,\n    formAction,\n    formEncType: opts && opts.formEncType || \"application/x-www-form-urlencoded\",\n    formData,\n    json: undefined,\n    text: undefined\n  };\n  if (isMutationMethod(submission.formMethod)) {\n    return {\n      path,\n      submission\n    };\n  }\n  // Flatten submission onto URLSearchParams for GET submissions\n  let parsedPath = parsePath(path);\n  // On GET navigation submissions we can drop the ?index param from the\n  // resulting location since all loaders will run.  But fetcher GET submissions\n  // only run a single loader so we need to preserve any incoming ?index params\n  if (isFetcher && parsedPath.search && hasNakedIndexQuery(parsedPath.search)) {\n    searchParams.append(\"index\", \"\");\n  }\n  parsedPath.search = \"?\" + searchParams;\n  return {\n    path: createPath(parsedPath),\n    submission\n  };\n}\n// Filter out all routes below any caught error as they aren't going to\n// render so we don't need to load them\nfunction getLoaderMatchesUntilBoundary(matches, boundaryId) {\n  let boundaryMatches = matches;\n  if (boundaryId) {\n    let index = matches.findIndex(m => m.route.id === boundaryId);\n    if (index >= 0) {\n      boundaryMatches = matches.slice(0, index);\n    }\n  }\n  return boundaryMatches;\n}\nfunction getMatchesToLoad(history, state, matches, submission, location, isRevalidationRequired, cancelledDeferredRoutes, cancelledFetcherLoads, fetchLoadMatches, fetchRedirectIds, routesToUse, basename, pendingActionData, pendingError) {\n  let actionResult = pendingError ? Object.values(pendingError)[0] : pendingActionData ? Object.values(pendingActionData)[0] : undefined;\n  let currentUrl = history.createURL(state.location);\n  let nextUrl = history.createURL(location);\n  // Pick navigation matches that are net-new or qualify for revalidation\n  let boundaryId = pendingError ? Object.keys(pendingError)[0] : undefined;\n  let boundaryMatches = getLoaderMatchesUntilBoundary(matches, boundaryId);\n  let navigationMatches = boundaryMatches.filter((match, index) => {\n    if (match.route.lazy) {\n      // We haven't loaded this route yet so we don't know if it's got a loader!\n      return true;\n    }\n    if (match.route.loader == null) {\n      return false;\n    }\n    // Always call the loader on new route instances and pending defer cancellations\n    if (isNewLoader(state.loaderData, state.matches[index], match) || cancelledDeferredRoutes.some(id => id === match.route.id)) {\n      return true;\n    }\n    // This is the default implementation for when we revalidate.  If the route\n    // provides it's own implementation, then we give them full control but\n    // provide this value so they can leverage it if needed after they check\n    // their own specific use cases\n    let currentRouteMatch = state.matches[index];\n    let nextRouteMatch = match;\n    return shouldRevalidateLoader(match, _extends({\n      currentUrl,\n      currentParams: currentRouteMatch.params,\n      nextUrl,\n      nextParams: nextRouteMatch.params\n    }, submission, {\n      actionResult,\n      defaultShouldRevalidate:\n      // Forced revalidation due to submission, useRevalidator, or X-Remix-Revalidate\n      isRevalidationRequired ||\n      // Clicked the same link, resubmitted a GET form\n      currentUrl.pathname + currentUrl.search === nextUrl.pathname + nextUrl.search ||\n      // Search params affect all loaders\n      currentUrl.search !== nextUrl.search || isNewRouteInstance(currentRouteMatch, nextRouteMatch)\n    }));\n  });\n  // Pick fetcher.loads that need to be revalidated\n  let revalidatingFetchers = [];\n  fetchLoadMatches.forEach((f, key) => {\n    // Don't revalidate if fetcher won't be present in the subsequent render\n    if (!matches.some(m => m.route.id === f.routeId)) {\n      return;\n    }\n    let fetcherMatches = matchRoutes(routesToUse, f.path, basename);\n    // If the fetcher path no longer matches, push it in with null matches so\n    // we can trigger a 404 in callLoadersAndMaybeResolveData.  Note this is\n    // currently only a use-case for Remix HMR where the route tree can change\n    // at runtime and remove a route previously loaded via a fetcher\n    if (!fetcherMatches) {\n      revalidatingFetchers.push({\n        key,\n        routeId: f.routeId,\n        path: f.path,\n        matches: null,\n        match: null,\n        controller: null\n      });\n      return;\n    }\n    // Revalidating fetchers are decoupled from the route matches since they\n    // load from a static href.  They revalidate based on explicit revalidation\n    // (submission, useRevalidator, or X-Remix-Revalidate)\n    let fetcher = state.fetchers.get(key);\n    let fetcherMatch = getTargetMatch(fetcherMatches, f.path);\n    let shouldRevalidate = false;\n    if (fetchRedirectIds.has(key)) {\n      // Never trigger a revalidation of an actively redirecting fetcher\n      shouldRevalidate = false;\n    } else if (cancelledFetcherLoads.includes(key)) {\n      // Always revalidate if the fetcher was cancelled\n      shouldRevalidate = true;\n    } else if (fetcher && fetcher.state !== \"idle\" && fetcher.data === undefined) {\n      // If the fetcher hasn't ever completed loading yet, then this isn't a\n      // revalidation, it would just be a brand new load if an explicit\n      // revalidation is required\n      shouldRevalidate = isRevalidationRequired;\n    } else {\n      // Otherwise fall back on any user-defined shouldRevalidate, defaulting\n      // to explicit revalidations only\n      shouldRevalidate = shouldRevalidateLoader(fetcherMatch, _extends({\n        currentUrl,\n        currentParams: state.matches[state.matches.length - 1].params,\n        nextUrl,\n        nextParams: matches[matches.length - 1].params\n      }, submission, {\n        actionResult,\n        defaultShouldRevalidate: isRevalidationRequired\n      }));\n    }\n    if (shouldRevalidate) {\n      revalidatingFetchers.push({\n        key,\n        routeId: f.routeId,\n        path: f.path,\n        matches: fetcherMatches,\n        match: fetcherMatch,\n        controller: new AbortController()\n      });\n    }\n  });\n  return [navigationMatches, revalidatingFetchers];\n}\nfunction isNewLoader(currentLoaderData, currentMatch, match) {\n  let isNew =\n  // [a] -> [a, b]\n  !currentMatch ||\n  // [a, b] -> [a, c]\n  match.route.id !== currentMatch.route.id;\n  // Handle the case that we don't have data for a re-used route, potentially\n  // from a prior error or from a cancelled pending deferred\n  let isMissingData = currentLoaderData[match.route.id] === undefined;\n  // Always load if this is a net-new route or we don't yet have data\n  return isNew || isMissingData;\n}\nfunction isNewRouteInstance(currentMatch, match) {\n  let currentPath = currentMatch.route.path;\n  return (\n    // param change for this match, /users/123 -> /users/456\n    currentMatch.pathname !== match.pathname ||\n    // splat param changed, which is not present in match.path\n    // e.g. /files/images/avatar.jpg -> files/finances.xls\n    currentPath != null && currentPath.endsWith(\"*\") && currentMatch.params[\"*\"] !== match.params[\"*\"]\n  );\n}\nfunction shouldRevalidateLoader(loaderMatch, arg) {\n  if (loaderMatch.route.shouldRevalidate) {\n    let routeChoice = loaderMatch.route.shouldRevalidate(arg);\n    if (typeof routeChoice === \"boolean\") {\n      return routeChoice;\n    }\n  }\n  return arg.defaultShouldRevalidate;\n}\n/**\n * Execute route.lazy() methods to lazily load route modules (loader, action,\n * shouldRevalidate) and update the routeManifest in place which shares objects\n * with dataRoutes so those get updated as well.\n */\nasync function loadLazyRouteModule(route, mapRouteProperties, manifest) {\n  if (!route.lazy) {\n    return;\n  }\n  let lazyRoute = await route.lazy();\n  // If the lazy route function was executed and removed by another parallel\n  // call then we can return - first lazy() to finish wins because the return\n  // value of lazy is expected to be static\n  if (!route.lazy) {\n    return;\n  }\n  let routeToUpdate = manifest[route.id];\n  invariant(routeToUpdate, \"No route found in manifest\");\n  // Update the route in place.  This should be safe because there's no way\n  // we could yet be sitting on this route as we can't get there without\n  // resolving lazy() first.\n  //\n  // This is different than the HMR \"update\" use-case where we may actively be\n  // on the route being updated.  The main concern boils down to \"does this\n  // mutation affect any ongoing navigations or any current state.matches\n  // values?\".  If not, it should be safe to update in place.\n  let routeUpdates = {};\n  for (let lazyRouteProperty in lazyRoute) {\n    let staticRouteValue = routeToUpdate[lazyRouteProperty];\n    let isPropertyStaticallyDefined = staticRouteValue !== undefined &&\n    // This property isn't static since it should always be updated based\n    // on the route updates\n    lazyRouteProperty !== \"hasErrorBoundary\";\n    warning(!isPropertyStaticallyDefined, \"Route \\\"\" + routeToUpdate.id + \"\\\" has a static property \\\"\" + lazyRouteProperty + \"\\\" \" + \"defined but its lazy function is also returning a value for this property. \" + (\"The lazy route property \\\"\" + lazyRouteProperty + \"\\\" will be ignored.\"));\n    if (!isPropertyStaticallyDefined && !immutableRouteKeys.has(lazyRouteProperty)) {\n      routeUpdates[lazyRouteProperty] = lazyRoute[lazyRouteProperty];\n    }\n  }\n  // Mutate the route with the provided updates.  Do this first so we pass\n  // the updated version to mapRouteProperties\n  Object.assign(routeToUpdate, routeUpdates);\n  // Mutate the `hasErrorBoundary` property on the route based on the route\n  // updates and remove the `lazy` function so we don't resolve the lazy\n  // route again.\n  Object.assign(routeToUpdate, _extends({}, mapRouteProperties(routeToUpdate), {\n    lazy: undefined\n  }));\n}\nasync function callLoaderOrAction(type, request, match, matches, manifest, mapRouteProperties, basename, opts) {\n  if (opts === void 0) {\n    opts = {};\n  }\n  let resultType;\n  let result;\n  let onReject;\n  let runHandler = handler => {\n    // Setup a promise we can race against so that abort signals short circuit\n    let reject;\n    let abortPromise = new Promise((_, r) => reject = r);\n    onReject = () => reject();\n    request.signal.addEventListener(\"abort\", onReject);\n    return Promise.race([handler({\n      request,\n      params: match.params,\n      context: opts.requestContext\n    }), abortPromise]);\n  };\n  try {\n    let handler = match.route[type];\n    if (match.route.lazy) {\n      if (handler) {\n        // Run statically defined handler in parallel with lazy()\n        let values = await Promise.all([runHandler(handler), loadLazyRouteModule(match.route, mapRouteProperties, manifest)]);\n        result = values[0];\n      } else {\n        // Load lazy route module, then run any returned handler\n        await loadLazyRouteModule(match.route, mapRouteProperties, manifest);\n        handler = match.route[type];\n        if (handler) {\n          // Handler still run even if we got interrupted to maintain consistency\n          // with un-abortable behavior of handler execution on non-lazy or\n          // previously-lazy-loaded routes\n          result = await runHandler(handler);\n        } else if (type === \"action\") {\n          let url = new URL(request.url);\n          let pathname = url.pathname + url.search;\n          throw getInternalRouterError(405, {\n            method: request.method,\n            pathname,\n            routeId: match.route.id\n          });\n        } else {\n          // lazy() route has no loader to run.  Short circuit here so we don't\n          // hit the invariant below that errors on returning undefined.\n          return {\n            type: ResultType.data,\n            data: undefined\n          };\n        }\n      }\n    } else if (!handler) {\n      let url = new URL(request.url);\n      let pathname = url.pathname + url.search;\n      throw getInternalRouterError(404, {\n        pathname\n      });\n    } else {\n      result = await runHandler(handler);\n    }\n    invariant(result !== undefined, \"You defined \" + (type === \"action\" ? \"an action\" : \"a loader\") + \" for route \" + (\"\\\"\" + match.route.id + \"\\\" but didn't return anything from your `\" + type + \"` \") + \"function. Please return a value or `null`.\");\n  } catch (e) {\n    resultType = ResultType.error;\n    result = e;\n  } finally {\n    if (onReject) {\n      request.signal.removeEventListener(\"abort\", onReject);\n    }\n  }\n  if (isResponse(result)) {\n    let status = result.status;\n    // Process redirects\n    if (redirectStatusCodes.has(status)) {\n      let location = result.headers.get(\"Location\");\n      invariant(location, \"Redirects returned/thrown from loaders/actions must have a Location header\");\n      // Support relative routing in internal redirects\n      if (!ABSOLUTE_URL_REGEX.test(location)) {\n        location = normalizeTo(new URL(request.url), matches.slice(0, matches.indexOf(match) + 1), basename, true, location);\n      } else if (!opts.isStaticRequest) {\n        // Strip off the protocol+origin for same-origin + same-basename absolute\n        // redirects. If this is a static request, we can let it go back to the\n        // browser as-is\n        let currentUrl = new URL(request.url);\n        let url = location.startsWith(\"//\") ? new URL(currentUrl.protocol + location) : new URL(location);\n        let isSameBasename = stripBasename(url.pathname, basename) != null;\n        if (url.origin === currentUrl.origin && isSameBasename) {\n          location = url.pathname + url.search + url.hash;\n        }\n      }\n      // Don't process redirects in the router during static requests requests.\n      // Instead, throw the Response and let the server handle it with an HTTP\n      // redirect.  We also update the Location header in place in this flow so\n      // basename and relative routing is taken into account\n      if (opts.isStaticRequest) {\n        result.headers.set(\"Location\", location);\n        throw result;\n      }\n      return {\n        type: ResultType.redirect,\n        status,\n        location,\n        revalidate: result.headers.get(\"X-Remix-Revalidate\") !== null,\n        reloadDocument: result.headers.get(\"X-Remix-Reload-Document\") !== null\n      };\n    }\n    // For SSR single-route requests, we want to hand Responses back directly\n    // without unwrapping.  We do this with the QueryRouteResponse wrapper\n    // interface so we can know whether it was returned or thrown\n    if (opts.isRouteRequest) {\n      let queryRouteResponse = {\n        type: resultType === ResultType.error ? ResultType.error : ResultType.data,\n        response: result\n      };\n      throw queryRouteResponse;\n    }\n    let data;\n    let contentType = result.headers.get(\"Content-Type\");\n    // Check between word boundaries instead of startsWith() due to the last\n    // paragraph of https://httpwg.org/specs/rfc9110.html#field.content-type\n    if (contentType && /\\bapplication\\/json\\b/.test(contentType)) {\n      data = await result.json();\n    } else {\n      data = await result.text();\n    }\n    if (resultType === ResultType.error) {\n      return {\n        type: resultType,\n        error: new ErrorResponse(status, result.statusText, data),\n        headers: result.headers\n      };\n    }\n    return {\n      type: ResultType.data,\n      data,\n      statusCode: result.status,\n      headers: result.headers\n    };\n  }\n  if (resultType === ResultType.error) {\n    return {\n      type: resultType,\n      error: result\n    };\n  }\n  if (isDeferredData(result)) {\n    var _result$init, _result$init2;\n    return {\n      type: ResultType.deferred,\n      deferredData: result,\n      statusCode: (_result$init = result.init) == null ? void 0 : _result$init.status,\n      headers: ((_result$init2 = result.init) == null ? void 0 : _result$init2.headers) && new Headers(result.init.headers)\n    };\n  }\n  return {\n    type: ResultType.data,\n    data: result\n  };\n}\n// Utility method for creating the Request instances for loaders/actions during\n// client-side navigations and fetches.  During SSR we will always have a\n// Request instance from the static handler (query/queryRoute)\nfunction createClientSideRequest(history, location, signal, submission) {\n  let url = history.createURL(stripHashFromPath(location)).toString();\n  let init = {\n    signal\n  };\n  if (submission && isMutationMethod(submission.formMethod)) {\n    let {\n      formMethod,\n      formEncType\n    } = submission;\n    // Didn't think we needed this but it turns out unlike other methods, patch\n    // won't be properly normalized to uppercase and results in a 405 error.\n    // See: https://fetch.spec.whatwg.org/#concept-method\n    init.method = formMethod.toUpperCase();\n    if (formEncType === \"application/json\") {\n      init.headers = new Headers({\n        \"Content-Type\": formEncType\n      });\n      init.body = JSON.stringify(submission.json);\n    } else if (formEncType === \"text/plain\") {\n      // Content-Type is inferred (https://fetch.spec.whatwg.org/#dom-request)\n      init.body = submission.text;\n    } else if (formEncType === \"application/x-www-form-urlencoded\" && submission.formData) {\n      // Content-Type is inferred (https://fetch.spec.whatwg.org/#dom-request)\n      init.body = convertFormDataToSearchParams(submission.formData);\n    } else {\n      // Content-Type is inferred (https://fetch.spec.whatwg.org/#dom-request)\n      init.body = submission.formData;\n    }\n  }\n  return new Request(url, init);\n}\nfunction convertFormDataToSearchParams(formData) {\n  let searchParams = new URLSearchParams();\n  for (let [key, value] of formData.entries()) {\n    // https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#converting-an-entry-list-to-a-list-of-name-value-pairs\n    searchParams.append(key, typeof value === \"string\" ? value : value.name);\n  }\n  return searchParams;\n}\nfunction convertSearchParamsToFormData(searchParams) {\n  let formData = new FormData();\n  for (let [key, value] of searchParams.entries()) {\n    formData.append(key, value);\n  }\n  return formData;\n}\nfunction processRouteLoaderData(matches, matchesToLoad, results, pendingError, activeDeferreds) {\n  // Fill in loaderData/errors from our loaders\n  let loaderData = {};\n  let errors = null;\n  let statusCode;\n  let foundError = false;\n  let loaderHeaders = {};\n  // Process loader results into state.loaderData/state.errors\n  results.forEach((result, index) => {\n    let id = matchesToLoad[index].route.id;\n    invariant(!isRedirectResult(result), \"Cannot handle redirect results in processLoaderData\");\n    if (isErrorResult(result)) {\n      // Look upwards from the matched route for the closest ancestor\n      // error boundary, defaulting to the root match\n      let boundaryMatch = findNearestBoundary(matches, id);\n      let error = result.error;\n      // If we have a pending action error, we report it at the highest-route\n      // that throws a loader error, and then clear it out to indicate that\n      // it was consumed\n      if (pendingError) {\n        error = Object.values(pendingError)[0];\n        pendingError = undefined;\n      }\n      errors = errors || {};\n      // Prefer higher error values if lower errors bubble to the same boundary\n      if (errors[boundaryMatch.route.id] == null) {\n        errors[boundaryMatch.route.id] = error;\n      }\n      // Clear our any prior loaderData for the throwing route\n      loaderData[id] = undefined;\n      // Once we find our first (highest) error, we set the status code and\n      // prevent deeper status codes from overriding\n      if (!foundError) {\n        foundError = true;\n        statusCode = isRouteErrorResponse(result.error) ? result.error.status : 500;\n      }\n      if (result.headers) {\n        loaderHeaders[id] = result.headers;\n      }\n    } else {\n      if (isDeferredResult(result)) {\n        activeDeferreds.set(id, result.deferredData);\n        loaderData[id] = result.deferredData.data;\n      } else {\n        loaderData[id] = result.data;\n      }\n      // Error status codes always override success status codes, but if all\n      // loaders are successful we take the deepest status code.\n      if (result.statusCode != null && result.statusCode !== 200 && !foundError) {\n        statusCode = result.statusCode;\n      }\n      if (result.headers) {\n        loaderHeaders[id] = result.headers;\n      }\n    }\n  });\n  // If we didn't consume the pending action error (i.e., all loaders\n  // resolved), then consume it here.  Also clear out any loaderData for the\n  // throwing route\n  if (pendingError) {\n    errors = pendingError;\n    loaderData[Object.keys(pendingError)[0]] = undefined;\n  }\n  return {\n    loaderData,\n    errors,\n    statusCode: statusCode || 200,\n    loaderHeaders\n  };\n}\nfunction processLoaderData(state, matches, matchesToLoad, results, pendingError, revalidatingFetchers, fetcherResults, activeDeferreds) {\n  let {\n    loaderData,\n    errors\n  } = processRouteLoaderData(matches, matchesToLoad, results, pendingError, activeDeferreds);\n  // Process results from our revalidating fetchers\n  for (let index = 0; index < revalidatingFetchers.length; index++) {\n    let {\n      key,\n      match,\n      controller\n    } = revalidatingFetchers[index];\n    invariant(fetcherResults !== undefined && fetcherResults[index] !== undefined, \"Did not find corresponding fetcher result\");\n    let result = fetcherResults[index];\n    // Process fetcher non-redirect errors\n    if (controller && controller.signal.aborted) {\n      // Nothing to do for aborted fetchers\n      continue;\n    } else if (isErrorResult(result)) {\n      let boundaryMatch = findNearestBoundary(state.matches, match == null ? void 0 : match.route.id);\n      if (!(errors && errors[boundaryMatch.route.id])) {\n        errors = _extends({}, errors, {\n          [boundaryMatch.route.id]: result.error\n        });\n      }\n      state.fetchers.delete(key);\n    } else if (isRedirectResult(result)) {\n      // Should never get here, redirects should get processed above, but we\n      // keep this to type narrow to a success result in the else\n      invariant(false, \"Unhandled fetcher revalidation redirect\");\n    } else if (isDeferredResult(result)) {\n      // Should never get here, deferred data should be awaited for fetchers\n      // in resolveDeferredResults\n      invariant(false, \"Unhandled fetcher deferred data\");\n    } else {\n      let doneFetcher = getDoneFetcher(result.data);\n      state.fetchers.set(key, doneFetcher);\n    }\n  }\n  return {\n    loaderData,\n    errors\n  };\n}\nfunction mergeLoaderData(loaderData, newLoaderData, matches, errors) {\n  let mergedLoaderData = _extends({}, newLoaderData);\n  for (let match of matches) {\n    let id = match.route.id;\n    if (newLoaderData.hasOwnProperty(id)) {\n      if (newLoaderData[id] !== undefined) {\n        mergedLoaderData[id] = newLoaderData[id];\n      }\n    } else if (loaderData[id] !== undefined && match.route.loader) {\n      // Preserve existing keys not included in newLoaderData and where a loader\n      // wasn't removed by HMR\n      mergedLoaderData[id] = loaderData[id];\n    }\n    if (errors && errors.hasOwnProperty(id)) {\n      // Don't keep any loader data below the boundary\n      break;\n    }\n  }\n  return mergedLoaderData;\n}\n// Find the nearest error boundary, looking upwards from the leaf route (or the\n// route specified by routeId) for the closest ancestor error boundary,\n// defaulting to the root match\nfunction findNearestBoundary(matches, routeId) {\n  let eligibleMatches = routeId ? matches.slice(0, matches.findIndex(m => m.route.id === routeId) + 1) : [...matches];\n  return eligibleMatches.reverse().find(m => m.route.hasErrorBoundary === true) || matches[0];\n}\nfunction getShortCircuitMatches(routes) {\n  // Prefer a root layout route if present, otherwise shim in a route object\n  let route = routes.find(r => r.index || !r.path || r.path === \"/\") || {\n    id: \"__shim-error-route__\"\n  };\n  return {\n    matches: [{\n      params: {},\n      pathname: \"\",\n      pathnameBase: \"\",\n      route\n    }],\n    route\n  };\n}\nfunction getInternalRouterError(status, _temp4) {\n  let {\n    pathname,\n    routeId,\n    method,\n    type\n  } = _temp4 === void 0 ? {} : _temp4;\n  let statusText = \"Unknown Server Error\";\n  let errorMessage = \"Unknown @remix-run/router error\";\n  if (status === 400) {\n    statusText = \"Bad Request\";\n    if (method && pathname && routeId) {\n      errorMessage = \"You made a \" + method + \" request to \\\"\" + pathname + \"\\\" but \" + (\"did not provide a `loader` for route \\\"\" + routeId + \"\\\", \") + \"so there is no way to handle the request.\";\n    } else if (type === \"defer-action\") {\n      errorMessage = \"defer() is not supported in actions\";\n    } else if (type === \"invalid-body\") {\n      errorMessage = \"Unable to encode submission body\";\n    }\n  } else if (status === 403) {\n    statusText = \"Forbidden\";\n    errorMessage = \"Route \\\"\" + routeId + \"\\\" does not match URL \\\"\" + pathname + \"\\\"\";\n  } else if (status === 404) {\n    statusText = \"Not Found\";\n    errorMessage = \"No route matches URL \\\"\" + pathname + \"\\\"\";\n  } else if (status === 405) {\n    statusText = \"Method Not Allowed\";\n    if (method && pathname && routeId) {\n      errorMessage = \"You made a \" + method.toUpperCase() + \" request to \\\"\" + pathname + \"\\\" but \" + (\"did not provide an `action` for route \\\"\" + routeId + \"\\\", \") + \"so there is no way to handle the request.\";\n    } else if (method) {\n      errorMessage = \"Invalid request method \\\"\" + method.toUpperCase() + \"\\\"\";\n    }\n  }\n  return new ErrorResponse(status || 500, statusText, new Error(errorMessage), true);\n}\n// Find any returned redirect errors, starting from the lowest match\nfunction findRedirect(results) {\n  for (let i = results.length - 1; i >= 0; i--) {\n    let result = results[i];\n    if (isRedirectResult(result)) {\n      return {\n        result,\n        idx: i\n      };\n    }\n  }\n}\nfunction stripHashFromPath(path) {\n  let parsedPath = typeof path === \"string\" ? parsePath(path) : path;\n  return createPath(_extends({}, parsedPath, {\n    hash: \"\"\n  }));\n}\nfunction isHashChangeOnly(a, b) {\n  if (a.pathname !== b.pathname || a.search !== b.search) {\n    return false;\n  }\n  if (a.hash === \"\") {\n    // /page -> /page#hash\n    return b.hash !== \"\";\n  } else if (a.hash === b.hash) {\n    // /page#hash -> /page#hash\n    return true;\n  } else if (b.hash !== \"\") {\n    // /page#hash -> /page#other\n    return true;\n  }\n  // If the hash is removed the browser will re-perform a request to the server\n  // /page#hash -> /page\n  return false;\n}\nfunction isDeferredResult(result) {\n  return result.type === ResultType.deferred;\n}\nfunction isErrorResult(result) {\n  return result.type === ResultType.error;\n}\nfunction isRedirectResult(result) {\n  return (result && result.type) === ResultType.redirect;\n}\nfunction isDeferredData(value) {\n  let deferred = value;\n  return deferred && typeof deferred === \"object\" && typeof deferred.data === \"object\" && typeof deferred.subscribe === \"function\" && typeof deferred.cancel === \"function\" && typeof deferred.resolveData === \"function\";\n}\nfunction isResponse(value) {\n  return value != null && typeof value.status === \"number\" && typeof value.statusText === \"string\" && typeof value.headers === \"object\" && typeof value.body !== \"undefined\";\n}\nfunction isRedirectResponse(result) {\n  if (!isResponse(result)) {\n    return false;\n  }\n  let status = result.status;\n  let location = result.headers.get(\"Location\");\n  return status >= 300 && status <= 399 && location != null;\n}\nfunction isQueryRouteResponse(obj) {\n  return obj && isResponse(obj.response) && (obj.type === ResultType.data || obj.type === ResultType.error);\n}\nfunction isValidMethod(method) {\n  return validRequestMethods.has(method.toLowerCase());\n}\nfunction isMutationMethod(method) {\n  return validMutationMethods.has(method.toLowerCase());\n}\nasync function resolveDeferredResults(currentMatches, matchesToLoad, results, signals, isFetcher, currentLoaderData) {\n  for (let index = 0; index < results.length; index++) {\n    let result = results[index];\n    let match = matchesToLoad[index];\n    // If we don't have a match, then we can have a deferred result to do\n    // anything with.  This is for revalidating fetchers where the route was\n    // removed during HMR\n    if (!match) {\n      continue;\n    }\n    let currentMatch = currentMatches.find(m => m.route.id === match.route.id);\n    let isRevalidatingLoader = currentMatch != null && !isNewRouteInstance(currentMatch, match) && (currentLoaderData && currentLoaderData[match.route.id]) !== undefined;\n    if (isDeferredResult(result) && (isFetcher || isRevalidatingLoader)) {\n      // Note: we do not have to touch activeDeferreds here since we race them\n      // against the signal in resolveDeferredData and they'll get aborted\n      // there if needed\n      let signal = signals[index];\n      invariant(signal, \"Expected an AbortSignal for revalidating fetcher deferred result\");\n      await resolveDeferredData(result, signal, isFetcher).then(result => {\n        if (result) {\n          results[index] = result || results[index];\n        }\n      });\n    }\n  }\n}\nasync function resolveDeferredData(result, signal, unwrap) {\n  if (unwrap === void 0) {\n    unwrap = false;\n  }\n  let aborted = await result.deferredData.resolveData(signal);\n  if (aborted) {\n    return;\n  }\n  if (unwrap) {\n    try {\n      return {\n        type: ResultType.data,\n        data: result.deferredData.unwrappedData\n      };\n    } catch (e) {\n      // Handle any TrackedPromise._error values encountered while unwrapping\n      return {\n        type: ResultType.error,\n        error: e\n      };\n    }\n  }\n  return {\n    type: ResultType.data,\n    data: result.deferredData.data\n  };\n}\nfunction hasNakedIndexQuery(search) {\n  return new URLSearchParams(search).getAll(\"index\").some(v => v === \"\");\n}\n// Note: This should match the format exported by useMatches, so if you change\n// this please also change that :)  Eventually we'll DRY this up\nfunction createUseMatchesMatch(match, loaderData) {\n  let {\n    route,\n    pathname,\n    params\n  } = match;\n  return {\n    id: route.id,\n    pathname,\n    params,\n    data: loaderData[route.id],\n    handle: route.handle\n  };\n}\nfunction getTargetMatch(matches, location) {\n  let search = typeof location === \"string\" ? parsePath(location).search : location.search;\n  if (matches[matches.length - 1].route.index && hasNakedIndexQuery(search || \"\")) {\n    // Return the leaf index route when index is present\n    return matches[matches.length - 1];\n  }\n  // Otherwise grab the deepest \"path contributing\" match (ignoring index and\n  // pathless layout routes)\n  let pathMatches = getPathContributingMatches(matches);\n  return pathMatches[pathMatches.length - 1];\n}\nfunction getSubmissionFromNavigation(navigation) {\n  let {\n    formMethod,\n    formAction,\n    formEncType,\n    text,\n    formData,\n    json\n  } = navigation;\n  if (!formMethod || !formAction || !formEncType) {\n    return;\n  }\n  if (text != null) {\n    return {\n      formMethod,\n      formAction,\n      formEncType,\n      formData: undefined,\n      json: undefined,\n      text\n    };\n  } else if (formData != null) {\n    return {\n      formMethod,\n      formAction,\n      formEncType,\n      formData,\n      json: undefined,\n      text: undefined\n    };\n  } else if (json !== undefined) {\n    return {\n      formMethod,\n      formAction,\n      formEncType,\n      formData: undefined,\n      json,\n      text: undefined\n    };\n  }\n}\nfunction getLoadingNavigation(location, submission) {\n  if (submission) {\n    let navigation = {\n      state: \"loading\",\n      location,\n      formMethod: submission.formMethod,\n      formAction: submission.formAction,\n      formEncType: submission.formEncType,\n      formData: submission.formData,\n      json: submission.json,\n      text: submission.text\n    };\n    return navigation;\n  } else {\n    let navigation = {\n      state: \"loading\",\n      location,\n      formMethod: undefined,\n      formAction: undefined,\n      formEncType: undefined,\n      formData: undefined,\n      json: undefined,\n      text: undefined\n    };\n    return navigation;\n  }\n}\nfunction getSubmittingNavigation(location, submission) {\n  let navigation = {\n    state: \"submitting\",\n    location,\n    formMethod: submission.formMethod,\n    formAction: submission.formAction,\n    formEncType: submission.formEncType,\n    formData: submission.formData,\n    json: submission.json,\n    text: submission.text\n  };\n  return navigation;\n}\nfunction getLoadingFetcher(submission, data) {\n  if (submission) {\n    let fetcher = {\n      state: \"loading\",\n      formMethod: submission.formMethod,\n      formAction: submission.formAction,\n      formEncType: submission.formEncType,\n      formData: submission.formData,\n      json: submission.json,\n      text: submission.text,\n      data,\n      \" _hasFetcherDoneAnything \": true\n    };\n    return fetcher;\n  } else {\n    let fetcher = {\n      state: \"loading\",\n      formMethod: undefined,\n      formAction: undefined,\n      formEncType: undefined,\n      formData: undefined,\n      json: undefined,\n      text: undefined,\n      data,\n      \" _hasFetcherDoneAnything \": true\n    };\n    return fetcher;\n  }\n}\nfunction getSubmittingFetcher(submission, existingFetcher) {\n  let fetcher = {\n    state: \"submitting\",\n    formMethod: submission.formMethod,\n    formAction: submission.formAction,\n    formEncType: submission.formEncType,\n    formData: submission.formData,\n    json: submission.json,\n    text: submission.text,\n    data: existingFetcher ? existingFetcher.data : undefined,\n    \" _hasFetcherDoneAnything \": true\n  };\n  return fetcher;\n}\nfunction getDoneFetcher(data) {\n  let fetcher = {\n    state: \"idle\",\n    formMethod: undefined,\n    formAction: undefined,\n    formEncType: undefined,\n    formData: undefined,\n    json: undefined,\n    text: undefined,\n    data,\n    \" _hasFetcherDoneAnything \": true\n  };\n  return fetcher;\n}\n//#endregion\n\nexport { AbortedDeferredError, Action, ErrorResponse, IDLE_BLOCKER, IDLE_FETCHER, IDLE_NAVIGATION, UNSAFE_DEFERRED_SYMBOL, DeferredData as UNSAFE_DeferredData, convertRoutesToDataRoutes as UNSAFE_convertRoutesToDataRoutes, getPathContributingMatches as UNSAFE_getPathContributingMatches, invariant as UNSAFE_invariant, warning as UNSAFE_warning, createBrowserHistory, createHashHistory, createMemoryHistory, createPath, createRouter, createStaticHandler, defer, generatePath, getStaticContextFromError, getToPathname, isDeferredData, isRouteErrorResponse, joinPaths, json, matchPath, matchRoutes, normalizePathname, parsePath, redirect, redirectDocument, resolvePath, resolveTo, stripBasename };\n//# sourceMappingURL=router.js.map\n","////////////////////////////////////////////////////////////////////////////////\n//#region Types and Constants\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * Actions represent the type of change to a location value.\n */\nexport enum Action {\n  /**\n   * A POP indicates a change to an arbitrary index in the history stack, such\n   * as a back or forward navigation. It does not describe the direction of the\n   * navigation, only that the current index changed.\n   *\n   * Note: This is the default action for newly created history objects.\n   */\n  Pop = \"POP\",\n\n  /**\n   * A PUSH indicates a new entry being added to the history stack, such as when\n   * a link is clicked and a new page loads. When this happens, all subsequent\n   * entries in the stack are lost.\n   */\n  Push = \"PUSH\",\n\n  /**\n   * A REPLACE indicates the entry at the current index in the history stack\n   * being replaced by a new one.\n   */\n  Replace = \"REPLACE\",\n}\n\n/**\n * The pathname, search, and hash values of a URL.\n */\nexport interface Path {\n  /**\n   * A URL pathname, beginning with a /.\n   */\n  pathname: string;\n\n  /**\n   * A URL search string, beginning with a ?.\n   */\n  search: string;\n\n  /**\n   * A URL fragment identifier, beginning with a #.\n   */\n  hash: string;\n}\n\n/**\n * An entry in a history stack. A location contains information about the\n * URL path, as well as possibly some arbitrary state and a key.\n */\nexport interface Location extends Path {\n  /**\n   * A value of arbitrary data associated with this location.\n   */\n  state: any;\n\n  /**\n   * A unique string associated with this location. May be used to safely store\n   * and retrieve data in some other storage API, like `localStorage`.\n   *\n   * Note: This value is always \"default\" on the initial location.\n   */\n  key: string;\n}\n\n/**\n * A change to the current location.\n */\nexport interface Update {\n  /**\n   * The action that triggered the change.\n   */\n  action: Action;\n\n  /**\n   * The new location.\n   */\n  location: Location;\n\n  /**\n   * The delta between this location and the former location in the history stack\n   */\n  delta: number | null;\n}\n\n/**\n * A function that receives notifications about location changes.\n */\nexport interface Listener {\n  (update: Update): void;\n}\n\n/**\n * Describes a location that is the destination of some navigation, either via\n * `history.push` or `history.replace`. May be either a URL or the pieces of a\n * URL path.\n */\nexport type To = string | Partial<Path>;\n\n/**\n * A history is an interface to the navigation stack. The history serves as the\n * source of truth for the current location, as well as provides a set of\n * methods that may be used to change it.\n *\n * It is similar to the DOM's `window.history` object, but with a smaller, more\n * focused API.\n */\nexport interface History {\n  /**\n   * The last action that modified the current location. This will always be\n   * Action.Pop when a history instance is first created. This value is mutable.\n   */\n  readonly action: Action;\n\n  /**\n   * The current location. This value is mutable.\n   */\n  readonly location: Location;\n\n  /**\n   * Returns a valid href for the given `to` value that may be used as\n   * the value of an <a href> attribute.\n   *\n   * @param to - The destination URL\n   */\n  createHref(to: To): string;\n\n  /**\n   * Returns a URL for the given `to` value\n   *\n   * @param to - The destination URL\n   */\n  createURL(to: To): URL;\n\n  /**\n   * Encode a location the same way window.history would do (no-op for memory\n   * history) so we ensure our PUSH/REPLACE navigations for data routers\n   * behave the same as POP\n   *\n   * @param to Unencoded path\n   */\n  encodeLocation(to: To): Path;\n\n  /**\n   * Pushes a new location onto the history stack, increasing its length by one.\n   * If there were any entries in the stack after the current one, they are\n   * lost.\n   *\n   * @param to - The new URL\n   * @param state - Data to associate with the new location\n   */\n  push(to: To, state?: any): void;\n\n  /**\n   * Replaces the current location in the history stack with a new one.  The\n   * location that was replaced will no longer be available.\n   *\n   * @param to - The new URL\n   * @param state - Data to associate with the new location\n   */\n  replace(to: To, state?: any): void;\n\n  /**\n   * Navigates `n` entries backward/forward in the history stack relative to the\n   * current index. For example, a \"back\" navigation would use go(-1).\n   *\n   * @param delta - The delta in the stack index\n   */\n  go(delta: number): void;\n\n  /**\n   * Sets up a listener that will be called whenever the current location\n   * changes.\n   *\n   * @param listener - A function that will be called when the location changes\n   * @returns unlisten - A function that may be used to stop listening\n   */\n  listen(listener: Listener): () => void;\n}\n\ntype HistoryState = {\n  usr: any;\n  key?: string;\n  idx: number;\n};\n\nconst PopStateEventType = \"popstate\";\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Memory History\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * A user-supplied object that describes a location. Used when providing\n * entries to `createMemoryHistory` via its `initialEntries` option.\n */\nexport type InitialEntry = string | Partial<Location>;\n\nexport type MemoryHistoryOptions = {\n  initialEntries?: InitialEntry[];\n  initialIndex?: number;\n  v5Compat?: boolean;\n};\n\n/**\n * A memory history stores locations in memory. This is useful in stateful\n * environments where there is no web browser, such as node tests or React\n * Native.\n */\nexport interface MemoryHistory extends History {\n  /**\n   * The current index in the history stack.\n   */\n  readonly index: number;\n}\n\n/**\n * Memory history stores the current location in memory. It is designed for use\n * in stateful non-browser environments like tests and React Native.\n */\nexport function createMemoryHistory(\n  options: MemoryHistoryOptions = {}\n): MemoryHistory {\n  let { initialEntries = [\"/\"], initialIndex, v5Compat = false } = options;\n  let entries: Location[]; // Declare so we can access from createMemoryLocation\n  entries = initialEntries.map((entry, index) =>\n    createMemoryLocation(\n      entry,\n      typeof entry === \"string\" ? null : entry.state,\n      index === 0 ? \"default\" : undefined\n    )\n  );\n  let index = clampIndex(\n    initialIndex == null ? entries.length - 1 : initialIndex\n  );\n  let action = Action.Pop;\n  let listener: Listener | null = null;\n\n  function clampIndex(n: number): number {\n    return Math.min(Math.max(n, 0), entries.length - 1);\n  }\n  function getCurrentLocation(): Location {\n    return entries[index];\n  }\n  function createMemoryLocation(\n    to: To,\n    state: any = null,\n    key?: string\n  ): Location {\n    let location = createLocation(\n      entries ? getCurrentLocation().pathname : \"/\",\n      to,\n      state,\n      key\n    );\n    warning(\n      location.pathname.charAt(0) === \"/\",\n      `relative pathnames are not supported in memory history: ${JSON.stringify(\n        to\n      )}`\n    );\n    return location;\n  }\n\n  function createHref(to: To) {\n    return typeof to === \"string\" ? to : createPath(to);\n  }\n\n  let history: MemoryHistory = {\n    get index() {\n      return index;\n    },\n    get action() {\n      return action;\n    },\n    get location() {\n      return getCurrentLocation();\n    },\n    createHref,\n    createURL(to) {\n      return new URL(createHref(to), \"http://localhost\");\n    },\n    encodeLocation(to: To) {\n      let path = typeof to === \"string\" ? parsePath(to) : to;\n      return {\n        pathname: path.pathname || \"\",\n        search: path.search || \"\",\n        hash: path.hash || \"\",\n      };\n    },\n    push(to, state) {\n      action = Action.Push;\n      let nextLocation = createMemoryLocation(to, state);\n      index += 1;\n      entries.splice(index, entries.length, nextLocation);\n      if (v5Compat && listener) {\n        listener({ action, location: nextLocation, delta: 1 });\n      }\n    },\n    replace(to, state) {\n      action = Action.Replace;\n      let nextLocation = createMemoryLocation(to, state);\n      entries[index] = nextLocation;\n      if (v5Compat && listener) {\n        listener({ action, location: nextLocation, delta: 0 });\n      }\n    },\n    go(delta) {\n      action = Action.Pop;\n      let nextIndex = clampIndex(index + delta);\n      let nextLocation = entries[nextIndex];\n      index = nextIndex;\n      if (listener) {\n        listener({ action, location: nextLocation, delta });\n      }\n    },\n    listen(fn: Listener) {\n      listener = fn;\n      return () => {\n        listener = null;\n      };\n    },\n  };\n\n  return history;\n}\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Browser History\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * A browser history stores the current location in regular URLs in a web\n * browser environment. This is the standard for most web apps and provides the\n * cleanest URLs the browser's address bar.\n *\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#browserhistory\n */\nexport interface BrowserHistory extends UrlHistory {}\n\nexport type BrowserHistoryOptions = UrlHistoryOptions;\n\n/**\n * Browser history stores the location in regular URLs. This is the standard for\n * most web apps, but it requires some configuration on the server to ensure you\n * serve the same app at multiple URLs.\n *\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#createbrowserhistory\n */\nexport function createBrowserHistory(\n  options: BrowserHistoryOptions = {}\n): BrowserHistory {\n  function createBrowserLocation(\n    window: Window,\n    globalHistory: Window[\"history\"]\n  ) {\n    let { pathname, search, hash } = window.location;\n    return createLocation(\n      \"\",\n      { pathname, search, hash },\n      // state defaults to `null` because `window.history.state` does\n      (globalHistory.state && globalHistory.state.usr) || null,\n      (globalHistory.state && globalHistory.state.key) || \"default\"\n    );\n  }\n\n  function createBrowserHref(window: Window, to: To) {\n    return typeof to === \"string\" ? to : createPath(to);\n  }\n\n  return getUrlBasedHistory(\n    createBrowserLocation,\n    createBrowserHref,\n    null,\n    options\n  );\n}\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Hash History\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * A hash history stores the current location in the fragment identifier portion\n * of the URL in a web browser environment.\n *\n * This is ideal for apps that do not control the server for some reason\n * (because the fragment identifier is never sent to the server), including some\n * shared hosting environments that do not provide fine-grained controls over\n * which pages are served at which URLs.\n *\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#hashhistory\n */\nexport interface HashHistory extends UrlHistory {}\n\nexport type HashHistoryOptions = UrlHistoryOptions;\n\n/**\n * Hash history stores the location in window.location.hash. This makes it ideal\n * for situations where you don't want to send the location to the server for\n * some reason, either because you do cannot configure it or the URL space is\n * reserved for something else.\n *\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#createhashhistory\n */\nexport function createHashHistory(\n  options: HashHistoryOptions = {}\n): HashHistory {\n  function createHashLocation(\n    window: Window,\n    globalHistory: Window[\"history\"]\n  ) {\n    let {\n      pathname = \"/\",\n      search = \"\",\n      hash = \"\",\n    } = parsePath(window.location.hash.substr(1));\n\n    // Hash URL should always have a leading / just like window.location.pathname\n    // does, so if an app ends up at a route like /#something then we add a\n    // leading slash so all of our path-matching behaves the same as if it would\n    // in a browser router.  This is particularly important when there exists a\n    // root splat route (<Route path=\"*\">) since that matches internally against\n    // \"/*\" and we'd expect /#something to 404 in a hash router app.\n    if (!pathname.startsWith(\"/\") && !pathname.startsWith(\".\")) {\n      pathname = \"/\" + pathname;\n    }\n\n    return createLocation(\n      \"\",\n      { pathname, search, hash },\n      // state defaults to `null` because `window.history.state` does\n      (globalHistory.state && globalHistory.state.usr) || null,\n      (globalHistory.state && globalHistory.state.key) || \"default\"\n    );\n  }\n\n  function createHashHref(window: Window, to: To) {\n    let base = window.document.querySelector(\"base\");\n    let href = \"\";\n\n    if (base && base.getAttribute(\"href\")) {\n      let url = window.location.href;\n      let hashIndex = url.indexOf(\"#\");\n      href = hashIndex === -1 ? url : url.slice(0, hashIndex);\n    }\n\n    return href + \"#\" + (typeof to === \"string\" ? to : createPath(to));\n  }\n\n  function validateHashLocation(location: Location, to: To) {\n    warning(\n      location.pathname.charAt(0) === \"/\",\n      `relative pathnames are not supported in hash history.push(${JSON.stringify(\n        to\n      )})`\n    );\n  }\n\n  return getUrlBasedHistory(\n    createHashLocation,\n    createHashHref,\n    validateHashLocation,\n    options\n  );\n}\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region UTILS\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * @private\n */\nexport function invariant(value: boolean, message?: string): asserts value;\nexport function invariant<T>(\n  value: T | null | undefined,\n  message?: string\n): asserts value is T;\nexport function invariant(value: any, message?: string) {\n  if (value === false || value === null || typeof value === \"undefined\") {\n    throw new Error(message);\n  }\n}\n\nexport function warning(cond: any, message: string) {\n  if (!cond) {\n    // eslint-disable-next-line no-console\n    if (typeof console !== \"undefined\") console.warn(message);\n\n    try {\n      // Welcome to debugging history!\n      //\n      // This error is thrown as a convenience so you can more easily\n      // find the source for a warning that appears in the console by\n      // enabling \"pause on exceptions\" in your JavaScript debugger.\n      throw new Error(message);\n      // eslint-disable-next-line no-empty\n    } catch (e) {}\n  }\n}\n\nfunction createKey() {\n  return Math.random().toString(36).substr(2, 8);\n}\n\n/**\n * For browser-based histories, we combine the state and key into an object\n */\nfunction getHistoryState(location: Location, index: number): HistoryState {\n  return {\n    usr: location.state,\n    key: location.key,\n    idx: index,\n  };\n}\n\n/**\n * Creates a Location object with a unique key from the given Path\n */\nexport function createLocation(\n  current: string | Location,\n  to: To,\n  state: any = null,\n  key?: string\n): Readonly<Location> {\n  let location: Readonly<Location> = {\n    pathname: typeof current === \"string\" ? current : current.pathname,\n    search: \"\",\n    hash: \"\",\n    ...(typeof to === \"string\" ? parsePath(to) : to),\n    state,\n    // TODO: This could be cleaned up.  push/replace should probably just take\n    // full Locations now and avoid the need to run through this flow at all\n    // But that's a pretty big refactor to the current test suite so going to\n    // keep as is for the time being and just let any incoming keys take precedence\n    key: (to && (to as Location).key) || key || createKey(),\n  };\n  return location;\n}\n\n/**\n * Creates a string URL path from the given pathname, search, and hash components.\n */\nexport function createPath({\n  pathname = \"/\",\n  search = \"\",\n  hash = \"\",\n}: Partial<Path>) {\n  if (search && search !== \"?\")\n    pathname += search.charAt(0) === \"?\" ? search : \"?\" + search;\n  if (hash && hash !== \"#\")\n    pathname += hash.charAt(0) === \"#\" ? hash : \"#\" + hash;\n  return pathname;\n}\n\n/**\n * Parses a string URL path into its separate pathname, search, and hash components.\n */\nexport function parsePath(path: string): Partial<Path> {\n  let parsedPath: Partial<Path> = {};\n\n  if (path) {\n    let hashIndex = path.indexOf(\"#\");\n    if (hashIndex >= 0) {\n      parsedPath.hash = path.substr(hashIndex);\n      path = path.substr(0, hashIndex);\n    }\n\n    let searchIndex = path.indexOf(\"?\");\n    if (searchIndex >= 0) {\n      parsedPath.search = path.substr(searchIndex);\n      path = path.substr(0, searchIndex);\n    }\n\n    if (path) {\n      parsedPath.pathname = path;\n    }\n  }\n\n  return parsedPath;\n}\n\nexport interface UrlHistory extends History {}\n\nexport type UrlHistoryOptions = {\n  window?: Window;\n  v5Compat?: boolean;\n};\n\nfunction getUrlBasedHistory(\n  getLocation: (window: Window, globalHistory: Window[\"history\"]) => Location,\n  createHref: (window: Window, to: To) => string,\n  validateLocation: ((location: Location, to: To) => void) | null,\n  options: UrlHistoryOptions = {}\n): UrlHistory {\n  let { window = document.defaultView!, v5Compat = false } = options;\n  let globalHistory = window.history;\n  let action = Action.Pop;\n  let listener: Listener | null = null;\n\n  let index = getIndex()!;\n  // Index should only be null when we initialize. If not, it's because the\n  // user called history.pushState or history.replaceState directly, in which\n  // case we should log a warning as it will result in bugs.\n  if (index == null) {\n    index = 0;\n    globalHistory.replaceState({ ...globalHistory.state, idx: index }, \"\");\n  }\n\n  function getIndex(): number {\n    let state = globalHistory.state || { idx: null };\n    return state.idx;\n  }\n\n  function handlePop() {\n    action = Action.Pop;\n    let nextIndex = getIndex();\n    let delta = nextIndex == null ? null : nextIndex - index;\n    index = nextIndex;\n    if (listener) {\n      listener({ action, location: history.location, delta });\n    }\n  }\n\n  function push(to: To, state?: any) {\n    action = Action.Push;\n    let location = createLocation(history.location, to, state);\n    if (validateLocation) validateLocation(location, to);\n\n    index = getIndex() + 1;\n    let historyState = getHistoryState(location, index);\n    let url = history.createHref(location);\n\n    // try...catch because iOS limits us to 100 pushState calls :/\n    try {\n      globalHistory.pushState(historyState, \"\", url);\n    } catch (error) {\n      // If the exception is because `state` can't be serialized, let that throw\n      // outwards just like a replace call would so the dev knows the cause\n      // https://html.spec.whatwg.org/multipage/nav-history-apis.html#shared-history-push/replace-state-steps\n      // https://html.spec.whatwg.org/multipage/structured-data.html#structuredserializeinternal\n      if (error instanceof DOMException && error.name === \"DataCloneError\") {\n        throw error;\n      }\n      // They are going to lose state here, but there is no real\n      // way to warn them about it since the page will refresh...\n      window.location.assign(url);\n    }\n\n    if (v5Compat && listener) {\n      listener({ action, location: history.location, delta: 1 });\n    }\n  }\n\n  function replace(to: To, state?: any) {\n    action = Action.Replace;\n    let location = createLocation(history.location, to, state);\n    if (validateLocation) validateLocation(location, to);\n\n    index = getIndex();\n    let historyState = getHistoryState(location, index);\n    let url = history.createHref(location);\n    globalHistory.replaceState(historyState, \"\", url);\n\n    if (v5Compat && listener) {\n      listener({ action, location: history.location, delta: 0 });\n    }\n  }\n\n  function createURL(to: To): URL {\n    // window.location.origin is \"null\" (the literal string value) in Firefox\n    // under certain conditions, notably when serving from a local HTML file\n    // See https://bugzilla.mozilla.org/show_bug.cgi?id=878297\n    let base =\n      window.location.origin !== \"null\"\n        ? window.location.origin\n        : window.location.href;\n\n    let href = typeof to === \"string\" ? to : createPath(to);\n    invariant(\n      base,\n      `No window.location.(origin|href) available to create URL for href: ${href}`\n    );\n    return new URL(href, base);\n  }\n\n  let history: History = {\n    get action() {\n      return action;\n    },\n    get location() {\n      return getLocation(window, globalHistory);\n    },\n    listen(fn: Listener) {\n      if (listener) {\n        throw new Error(\"A history only accepts one active listener\");\n      }\n      window.addEventListener(PopStateEventType, handlePop);\n      listener = fn;\n\n      return () => {\n        window.removeEventListener(PopStateEventType, handlePop);\n        listener = null;\n      };\n    },\n    createHref(to) {\n      return createHref(window, to);\n    },\n    createURL,\n    encodeLocation(to) {\n      // Encode a Location the same way window.location would\n      let url = createURL(to);\n      return {\n        pathname: url.pathname,\n        search: url.search,\n        hash: url.hash,\n      };\n    },\n    push,\n    replace,\n    go(n) {\n      return globalHistory.go(n);\n    },\n  };\n\n  return history;\n}\n\n//#endregion\n","import type { Location, Path, To } from \"./history\";\nimport { warning, invariant, parsePath } from \"./history\";\n\n/**\n * Map of routeId -> data returned from a loader/action/error\n */\nexport interface RouteData {\n  [routeId: string]: any;\n}\n\nexport enum ResultType {\n  data = \"data\",\n  deferred = \"deferred\",\n  redirect = \"redirect\",\n  error = \"error\",\n}\n\n/**\n * Successful result from a loader or action\n */\nexport interface SuccessResult {\n  type: ResultType.data;\n  data: any;\n  statusCode?: number;\n  headers?: Headers;\n}\n\n/**\n * Successful defer() result from a loader or action\n */\nexport interface DeferredResult {\n  type: ResultType.deferred;\n  deferredData: DeferredData;\n  statusCode?: number;\n  headers?: Headers;\n}\n\n/**\n * Redirect result from a loader or action\n */\nexport interface RedirectResult {\n  type: ResultType.redirect;\n  status: number;\n  location: string;\n  revalidate: boolean;\n  reloadDocument?: boolean;\n}\n\n/**\n * Unsuccessful result from a loader or action\n */\nexport interface ErrorResult {\n  type: ResultType.error;\n  error: any;\n  headers?: Headers;\n}\n\n/**\n * Result from a loader or action - potentially successful or unsuccessful\n */\nexport type DataResult =\n  | SuccessResult\n  | DeferredResult\n  | RedirectResult\n  | ErrorResult;\n\ntype LowerCaseFormMethod = \"get\" | \"post\" | \"put\" | \"patch\" | \"delete\";\ntype UpperCaseFormMethod = Uppercase<LowerCaseFormMethod>;\n\n/**\n * Users can specify either lowercase or uppercase form methods on <Form>,\n * useSubmit(), <fetcher.Form>, etc.\n */\nexport type HTMLFormMethod = LowerCaseFormMethod | UpperCaseFormMethod;\n\n/**\n * Active navigation/fetcher form methods are exposed in lowercase on the\n * RouterState\n */\nexport type FormMethod = LowerCaseFormMethod;\nexport type MutationFormMethod = Exclude<FormMethod, \"get\">;\n\n/**\n * In v7, active navigation/fetcher form methods are exposed in uppercase on the\n * RouterState.  This is to align with the normalization done via fetch().\n */\nexport type V7_FormMethod = UpperCaseFormMethod;\nexport type V7_MutationFormMethod = Exclude<V7_FormMethod, \"GET\">;\n\nexport type FormEncType =\n  | \"application/x-www-form-urlencoded\"\n  | \"multipart/form-data\"\n  | \"application/json\"\n  | \"text/plain\";\n\n// Thanks https://github.com/sindresorhus/type-fest!\ntype JsonObject = { [Key in string]: JsonValue } & {\n  [Key in string]?: JsonValue | undefined;\n};\ntype JsonArray = JsonValue[] | readonly JsonValue[];\ntype JsonPrimitive = string | number | boolean | null;\ntype JsonValue = JsonPrimitive | JsonObject | JsonArray;\n\n/**\n * @private\n * Internal interface to pass around for action submissions, not intended for\n * external consumption\n */\nexport type Submission =\n  | {\n      formMethod: FormMethod | V7_FormMethod;\n      formAction: string;\n      formEncType: FormEncType;\n      formData: FormData;\n      json: undefined;\n      text: undefined;\n    }\n  | {\n      formMethod: FormMethod | V7_FormMethod;\n      formAction: string;\n      formEncType: FormEncType;\n      formData: undefined;\n      json: JsonValue;\n      text: undefined;\n    }\n  | {\n      formMethod: FormMethod | V7_FormMethod;\n      formAction: string;\n      formEncType: FormEncType;\n      formData: undefined;\n      json: undefined;\n      text: string;\n    };\n\n/**\n * @private\n * Arguments passed to route loader/action functions.  Same for now but we keep\n * this as a private implementation detail in case they diverge in the future.\n */\ninterface DataFunctionArgs {\n  request: Request;\n  params: Params;\n  context?: any;\n}\n\n/**\n * Arguments passed to loader functions\n */\nexport interface LoaderFunctionArgs extends DataFunctionArgs {}\n\n/**\n * Arguments passed to action functions\n */\nexport interface ActionFunctionArgs extends DataFunctionArgs {}\n\n/**\n * Loaders and actions can return anything except `undefined` (`null` is a\n * valid return value if there is no data to return).  Responses are preferred\n * and will ease any future migration to Remix\n */\ntype DataFunctionValue = Response | NonNullable<unknown> | null;\n\n/**\n * Route loader function signature\n */\nexport interface LoaderFunction {\n  (args: LoaderFunctionArgs): Promise<DataFunctionValue> | DataFunctionValue;\n}\n\n/**\n * Route action function signature\n */\nexport interface ActionFunction {\n  (args: ActionFunctionArgs): Promise<DataFunctionValue> | DataFunctionValue;\n}\n\n/**\n * Route shouldRevalidate function signature.  This runs after any submission\n * (navigation or fetcher), so we flatten the navigation/fetcher submission\n * onto the arguments.  It shouldn't matter whether it came from a navigation\n * or a fetcher, what really matters is the URLs and the formData since loaders\n * have to re-run based on the data models that were potentially mutated.\n */\nexport interface ShouldRevalidateFunction {\n  (args: {\n    currentUrl: URL;\n    currentParams: AgnosticDataRouteMatch[\"params\"];\n    nextUrl: URL;\n    nextParams: AgnosticDataRouteMatch[\"params\"];\n    formMethod?: Submission[\"formMethod\"];\n    formAction?: Submission[\"formAction\"];\n    formEncType?: Submission[\"formEncType\"];\n    text?: Submission[\"text\"];\n    formData?: Submission[\"formData\"];\n    json?: Submission[\"json\"];\n    actionResult?: DataResult;\n    defaultShouldRevalidate: boolean;\n  }): boolean;\n}\n\n/**\n * Function provided by the framework-aware layers to set `hasErrorBoundary`\n * from the framework-aware `errorElement` prop\n *\n * @deprecated Use `mapRouteProperties` instead\n */\nexport interface DetectErrorBoundaryFunction {\n  (route: AgnosticRouteObject): boolean;\n}\n\n/**\n * Function provided by the framework-aware layers to set any framework-specific\n * properties from framework-agnostic properties\n */\nexport interface MapRoutePropertiesFunction {\n  (route: AgnosticRouteObject): {\n    hasErrorBoundary: boolean;\n  } & Record<string, any>;\n}\n\n/**\n * Keys we cannot change from within a lazy() function. We spread all other keys\n * onto the route. Either they're meaningful to the router, or they'll get\n * ignored.\n */\nexport type ImmutableRouteKey =\n  | \"lazy\"\n  | \"caseSensitive\"\n  | \"path\"\n  | \"id\"\n  | \"index\"\n  | \"children\";\n\nexport const immutableRouteKeys = new Set<ImmutableRouteKey>([\n  \"lazy\",\n  \"caseSensitive\",\n  \"path\",\n  \"id\",\n  \"index\",\n  \"children\",\n]);\n\ntype RequireOne<T, Key = keyof T> = Exclude<\n  {\n    [K in keyof T]: K extends Key ? Omit<T, K> & Required<Pick<T, K>> : never;\n  }[keyof T],\n  undefined\n>;\n\n/**\n * lazy() function to load a route definition, which can add non-matching\n * related properties to a route\n */\nexport interface LazyRouteFunction<R extends AgnosticRouteObject> {\n  (): Promise<RequireOne<Omit<R, ImmutableRouteKey>>>;\n}\n\n/**\n * Base RouteObject with common props shared by all types of routes\n */\ntype AgnosticBaseRouteObject = {\n  caseSensitive?: boolean;\n  path?: string;\n  id?: string;\n  loader?: LoaderFunction;\n  action?: ActionFunction;\n  hasErrorBoundary?: boolean;\n  shouldRevalidate?: ShouldRevalidateFunction;\n  handle?: any;\n  lazy?: LazyRouteFunction<AgnosticBaseRouteObject>;\n};\n\n/**\n * Index routes must not have children\n */\nexport type AgnosticIndexRouteObject = AgnosticBaseRouteObject & {\n  children?: undefined;\n  index: true;\n};\n\n/**\n * Non-index routes may have children, but cannot have index\n */\nexport type AgnosticNonIndexRouteObject = AgnosticBaseRouteObject & {\n  children?: AgnosticRouteObject[];\n  index?: false;\n};\n\n/**\n * A route object represents a logical route, with (optionally) its child\n * routes organized in a tree-like structure.\n */\nexport type AgnosticRouteObject =\n  | AgnosticIndexRouteObject\n  | AgnosticNonIndexRouteObject;\n\nexport type AgnosticDataIndexRouteObject = AgnosticIndexRouteObject & {\n  id: string;\n};\n\nexport type AgnosticDataNonIndexRouteObject = AgnosticNonIndexRouteObject & {\n  children?: AgnosticDataRouteObject[];\n  id: string;\n};\n\n/**\n * A data route object, which is just a RouteObject with a required unique ID\n */\nexport type AgnosticDataRouteObject =\n  | AgnosticDataIndexRouteObject\n  | AgnosticDataNonIndexRouteObject;\n\nexport type RouteManifest = Record<string, AgnosticDataRouteObject | undefined>;\n\n// Recursive helper for finding path parameters in the absence of wildcards\ntype _PathParam<Path extends string> =\n  // split path into individual path segments\n  Path extends `${infer L}/${infer R}`\n    ? _PathParam<L> | _PathParam<R>\n    : // find params after `:`\n    Path extends `:${infer Param}`\n    ? Param extends `${infer Optional}?`\n      ? Optional\n      : Param\n    : // otherwise, there aren't any params present\n      never;\n\n/**\n * Examples:\n * \"/a/b/*\" -> \"*\"\n * \":a\" -> \"a\"\n * \"/a/:b\" -> \"b\"\n * \"/a/blahblahblah:b\" -> \"b\"\n * \"/:a/:b\" -> \"a\" | \"b\"\n * \"/:a/b/:c/*\" -> \"a\" | \"c\" | \"*\"\n */\ntype PathParam<Path extends string> =\n  // check if path is just a wildcard\n  Path extends \"*\" | \"/*\"\n    ? \"*\"\n    : // look for wildcard at the end of the path\n    Path extends `${infer Rest}/*`\n    ? \"*\" | _PathParam<Rest>\n    : // look for params in the absence of wildcards\n      _PathParam<Path>;\n\n// Attempt to parse the given string segment. If it fails, then just return the\n// plain string type as a default fallback. Otherwise return the union of the\n// parsed string literals that were referenced as dynamic segments in the route.\nexport type ParamParseKey<Segment extends string> =\n  // if could not find path params, fallback to `string`\n  [PathParam<Segment>] extends [never] ? string : PathParam<Segment>;\n\n/**\n * The parameters that were parsed from the URL path.\n */\nexport type Params<Key extends string = string> = {\n  readonly [key in Key]: string | undefined;\n};\n\n/**\n * A RouteMatch contains info about how a route matched a URL.\n */\nexport interface AgnosticRouteMatch<\n  ParamKey extends string = string,\n  RouteObjectType extends AgnosticRouteObject = AgnosticRouteObject\n> {\n  /**\n   * The names and values of dynamic parameters in the URL.\n   */\n  params: Params<ParamKey>;\n  /**\n   * The portion of the URL pathname that was matched.\n   */\n  pathname: string;\n  /**\n   * The portion of the URL pathname that was matched before child routes.\n   */\n  pathnameBase: string;\n  /**\n   * The route object that was used to match.\n   */\n  route: RouteObjectType;\n}\n\nexport interface AgnosticDataRouteMatch\n  extends AgnosticRouteMatch<string, AgnosticDataRouteObject> {}\n\nfunction isIndexRoute(\n  route: AgnosticRouteObject\n): route is AgnosticIndexRouteObject {\n  return route.index === true;\n}\n\n// Walk the route tree generating unique IDs where necessary so we are working\n// solely with AgnosticDataRouteObject's within the Router\nexport function convertRoutesToDataRoutes(\n  routes: AgnosticRouteObject[],\n  mapRouteProperties: MapRoutePropertiesFunction,\n  parentPath: number[] = [],\n  manifest: RouteManifest = {}\n): AgnosticDataRouteObject[] {\n  return routes.map((route, index) => {\n    let treePath = [...parentPath, index];\n    let id = typeof route.id === \"string\" ? route.id : treePath.join(\"-\");\n    invariant(\n      route.index !== true || !route.children,\n      `Cannot specify children on an index route`\n    );\n    invariant(\n      !manifest[id],\n      `Found a route id collision on id \"${id}\".  Route ` +\n        \"id's must be globally unique within Data Router usages\"\n    );\n\n    if (isIndexRoute(route)) {\n      let indexRoute: AgnosticDataIndexRouteObject = {\n        ...route,\n        ...mapRouteProperties(route),\n        id,\n      };\n      manifest[id] = indexRoute;\n      return indexRoute;\n    } else {\n      let pathOrLayoutRoute: AgnosticDataNonIndexRouteObject = {\n        ...route,\n        ...mapRouteProperties(route),\n        id,\n        children: undefined,\n      };\n      manifest[id] = pathOrLayoutRoute;\n\n      if (route.children) {\n        pathOrLayoutRoute.children = convertRoutesToDataRoutes(\n          route.children,\n          mapRouteProperties,\n          treePath,\n          manifest\n        );\n      }\n\n      return pathOrLayoutRoute;\n    }\n  });\n}\n\n/**\n * Matches the given routes to a location and returns the match data.\n *\n * @see https://reactrouter.com/utils/match-routes\n */\nexport function matchRoutes<\n  RouteObjectType extends AgnosticRouteObject = AgnosticRouteObject\n>(\n  routes: RouteObjectType[],\n  locationArg: Partial<Location> | string,\n  basename = \"/\"\n): AgnosticRouteMatch<string, RouteObjectType>[] | null {\n  let location =\n    typeof locationArg === \"string\" ? parsePath(locationArg) : locationArg;\n\n  let pathname = stripBasename(location.pathname || \"/\", basename);\n\n  if (pathname == null) {\n    return null;\n  }\n\n  let branches = flattenRoutes(routes);\n  rankRouteBranches(branches);\n\n  let matches = null;\n  for (let i = 0; matches == null && i < branches.length; ++i) {\n    matches = matchRouteBranch<string, RouteObjectType>(\n      branches[i],\n      // Incoming pathnames are generally encoded from either window.location\n      // or from router.navigate, but we want to match against the unencoded\n      // paths in the route definitions.  Memory router locations won't be\n      // encoded here but there also shouldn't be anything to decode so this\n      // should be a safe operation.  This avoids needing matchRoutes to be\n      // history-aware.\n      safelyDecodeURI(pathname)\n    );\n  }\n\n  return matches;\n}\n\ninterface RouteMeta<\n  RouteObjectType extends AgnosticRouteObject = AgnosticRouteObject\n> {\n  relativePath: string;\n  caseSensitive: boolean;\n  childrenIndex: number;\n  route: RouteObjectType;\n}\n\ninterface RouteBranch<\n  RouteObjectType extends AgnosticRouteObject = AgnosticRouteObject\n> {\n  path: string;\n  score: number;\n  routesMeta: RouteMeta<RouteObjectType>[];\n}\n\nfunction flattenRoutes<\n  RouteObjectType extends AgnosticRouteObject = AgnosticRouteObject\n>(\n  routes: RouteObjectType[],\n  branches: RouteBranch<RouteObjectType>[] = [],\n  parentsMeta: RouteMeta<RouteObjectType>[] = [],\n  parentPath = \"\"\n): RouteBranch<RouteObjectType>[] {\n  let flattenRoute = (\n    route: RouteObjectType,\n    index: number,\n    relativePath?: string\n  ) => {\n    let meta: RouteMeta<RouteObjectType> = {\n      relativePath:\n        relativePath === undefined ? route.path || \"\" : relativePath,\n      caseSensitive: route.caseSensitive === true,\n      childrenIndex: index,\n      route,\n    };\n\n    if (meta.relativePath.startsWith(\"/\")) {\n      invariant(\n        meta.relativePath.startsWith(parentPath),\n        `Absolute route path \"${meta.relativePath}\" nested under path ` +\n          `\"${parentPath}\" is not valid. An absolute child route path ` +\n          `must start with the combined path of all its parent routes.`\n      );\n\n      meta.relativePath = meta.relativePath.slice(parentPath.length);\n    }\n\n    let path = joinPaths([parentPath, meta.relativePath]);\n    let routesMeta = parentsMeta.concat(meta);\n\n    // Add the children before adding this route to the array so we traverse the\n    // route tree depth-first and child routes appear before their parents in\n    // the \"flattened\" version.\n    if (route.children && route.children.length > 0) {\n      invariant(\n        // Our types know better, but runtime JS may not!\n        // @ts-expect-error\n        route.index !== true,\n        `Index routes must not have child routes. Please remove ` +\n          `all child routes from route path \"${path}\".`\n      );\n\n      flattenRoutes(route.children, branches, routesMeta, path);\n    }\n\n    // Routes without a path shouldn't ever match by themselves unless they are\n    // index routes, so don't add them to the list of possible branches.\n    if (route.path == null && !route.index) {\n      return;\n    }\n\n    branches.push({\n      path,\n      score: computeScore(path, route.index),\n      routesMeta,\n    });\n  };\n  routes.forEach((route, index) => {\n    // coarse-grain check for optional params\n    if (route.path === \"\" || !route.path?.includes(\"?\")) {\n      flattenRoute(route, index);\n    } else {\n      for (let exploded of explodeOptionalSegments(route.path)) {\n        flattenRoute(route, index, exploded);\n      }\n    }\n  });\n\n  return branches;\n}\n\n/**\n * Computes all combinations of optional path segments for a given path,\n * excluding combinations that are ambiguous and of lower priority.\n *\n * For example, `/one/:two?/three/:four?/:five?` explodes to:\n * - `/one/three`\n * - `/one/:two/three`\n * - `/one/three/:four`\n * - `/one/three/:five`\n * - `/one/:two/three/:four`\n * - `/one/:two/three/:five`\n * - `/one/three/:four/:five`\n * - `/one/:two/three/:four/:five`\n */\nfunction explodeOptionalSegments(path: string): string[] {\n  let segments = path.split(\"/\");\n  if (segments.length === 0) return [];\n\n  let [first, ...rest] = segments;\n\n  // Optional path segments are denoted by a trailing `?`\n  let isOptional = first.endsWith(\"?\");\n  // Compute the corresponding required segment: `foo?` -> `foo`\n  let required = first.replace(/\\?$/, \"\");\n\n  if (rest.length === 0) {\n    // Intepret empty string as omitting an optional segment\n    // `[\"one\", \"\", \"three\"]` corresponds to omitting `:two` from `/one/:two?/three` -> `/one/three`\n    return isOptional ? [required, \"\"] : [required];\n  }\n\n  let restExploded = explodeOptionalSegments(rest.join(\"/\"));\n\n  let result: string[] = [];\n\n  // All child paths with the prefix.  Do this for all children before the\n  // optional version for all children so we get consistent ordering where the\n  // parent optional aspect is preferred as required.  Otherwise, we can get\n  // child sections interspersed where deeper optional segments are higher than\n  // parent optional segments, where for example, /:two would explodes _earlier_\n  // then /:one.  By always including the parent as required _for all children_\n  // first, we avoid this issue\n  result.push(\n    ...restExploded.map((subpath) =>\n      subpath === \"\" ? required : [required, subpath].join(\"/\")\n    )\n  );\n\n  // Then if this is an optional value, add all child versions without\n  if (isOptional) {\n    result.push(...restExploded);\n  }\n\n  // for absolute paths, ensure `/` instead of empty segment\n  return result.map((exploded) =>\n    path.startsWith(\"/\") && exploded === \"\" ? \"/\" : exploded\n  );\n}\n\nfunction rankRouteBranches(branches: RouteBranch[]): void {\n  branches.sort((a, b) =>\n    a.score !== b.score\n      ? b.score - a.score // Higher score first\n      : compareIndexes(\n          a.routesMeta.map((meta) => meta.childrenIndex),\n          b.routesMeta.map((meta) => meta.childrenIndex)\n        )\n  );\n}\n\nconst paramRe = /^:\\w+$/;\nconst dynamicSegmentValue = 3;\nconst indexRouteValue = 2;\nconst emptySegmentValue = 1;\nconst staticSegmentValue = 10;\nconst splatPenalty = -2;\nconst isSplat = (s: string) => s === \"*\";\n\nfunction computeScore(path: string, index: boolean | undefined): number {\n  let segments = path.split(\"/\");\n  let initialScore = segments.length;\n  if (segments.some(isSplat)) {\n    initialScore += splatPenalty;\n  }\n\n  if (index) {\n    initialScore += indexRouteValue;\n  }\n\n  return segments\n    .filter((s) => !isSplat(s))\n    .reduce(\n      (score, segment) =>\n        score +\n        (paramRe.test(segment)\n          ? dynamicSegmentValue\n          : segment === \"\"\n          ? emptySegmentValue\n          : staticSegmentValue),\n      initialScore\n    );\n}\n\nfunction compareIndexes(a: number[], b: number[]): number {\n  let siblings =\n    a.length === b.length && a.slice(0, -1).every((n, i) => n === b[i]);\n\n  return siblings\n    ? // If two routes are siblings, we should try to match the earlier sibling\n      // first. This allows people to have fine-grained control over the matching\n      // behavior by simply putting routes with identical paths in the order they\n      // want them tried.\n      a[a.length - 1] - b[b.length - 1]\n    : // Otherwise, it doesn't really make sense to rank non-siblings by index,\n      // so they sort equally.\n      0;\n}\n\nfunction matchRouteBranch<\n  ParamKey extends string = string,\n  RouteObjectType extends AgnosticRouteObject = AgnosticRouteObject\n>(\n  branch: RouteBranch<RouteObjectType>,\n  pathname: string\n): AgnosticRouteMatch<ParamKey, RouteObjectType>[] | null {\n  let { routesMeta } = branch;\n\n  let matchedParams = {};\n  let matchedPathname = \"/\";\n  let matches: AgnosticRouteMatch<ParamKey, RouteObjectType>[] = [];\n  for (let i = 0; i < routesMeta.length; ++i) {\n    let meta = routesMeta[i];\n    let end = i === routesMeta.length - 1;\n    let remainingPathname =\n      matchedPathname === \"/\"\n        ? pathname\n        : pathname.slice(matchedPathname.length) || \"/\";\n    let match = matchPath(\n      { path: meta.relativePath, caseSensitive: meta.caseSensitive, end },\n      remainingPathname\n    );\n\n    if (!match) return null;\n\n    Object.assign(matchedParams, match.params);\n\n    let route = meta.route;\n\n    matches.push({\n      // TODO: Can this as be avoided?\n      params: matchedParams as Params<ParamKey>,\n      pathname: joinPaths([matchedPathname, match.pathname]),\n      pathnameBase: normalizePathname(\n        joinPaths([matchedPathname, match.pathnameBase])\n      ),\n      route,\n    });\n\n    if (match.pathnameBase !== \"/\") {\n      matchedPathname = joinPaths([matchedPathname, match.pathnameBase]);\n    }\n  }\n\n  return matches;\n}\n\n/**\n * Returns a path with params interpolated.\n *\n * @see https://reactrouter.com/utils/generate-path\n */\nexport function generatePath<Path extends string>(\n  originalPath: Path,\n  params: {\n    [key in PathParam<Path>]: string | null;\n  } = {} as any\n): string {\n  let path: string = originalPath;\n  if (path.endsWith(\"*\") && path !== \"*\" && !path.endsWith(\"/*\")) {\n    warning(\n      false,\n      `Route path \"${path}\" will be treated as if it were ` +\n        `\"${path.replace(/\\*$/, \"/*\")}\" because the \\`*\\` character must ` +\n        `always follow a \\`/\\` in the pattern. To get rid of this warning, ` +\n        `please change the route path to \"${path.replace(/\\*$/, \"/*\")}\".`\n    );\n    path = path.replace(/\\*$/, \"/*\") as Path;\n  }\n\n  // ensure `/` is added at the beginning if the path is absolute\n  const prefix = path.startsWith(\"/\") ? \"/\" : \"\";\n\n  const stringify = (p: any) =>\n    p == null ? \"\" : typeof p === \"string\" ? p : String(p);\n\n  const segments = path\n    .split(/\\/+/)\n    .map((segment, index, array) => {\n      const isLastSegment = index === array.length - 1;\n\n      // only apply the splat if it's the last segment\n      if (isLastSegment && segment === \"*\") {\n        const star = \"*\" as PathParam<Path>;\n        // Apply the splat\n        return stringify(params[star]);\n      }\n\n      const keyMatch = segment.match(/^:(\\w+)(\\??)$/);\n      if (keyMatch) {\n        const [, key, optional] = keyMatch;\n        let param = params[key as PathParam<Path>];\n        invariant(optional === \"?\" || param != null, `Missing \":${key}\" param`);\n        return stringify(param);\n      }\n\n      // Remove any optional markers from optional static segments\n      return segment.replace(/\\?$/g, \"\");\n    })\n    // Remove empty segments\n    .filter((segment) => !!segment);\n\n  return prefix + segments.join(\"/\");\n}\n\n/**\n * A PathPattern is used to match on some portion of a URL pathname.\n */\nexport interface PathPattern<Path extends string = string> {\n  /**\n   * A string to match against a URL pathname. May contain `:id`-style segments\n   * to indicate placeholders for dynamic parameters. May also end with `/*` to\n   * indicate matching the rest of the URL pathname.\n   */\n  path: Path;\n  /**\n   * Should be `true` if the static portions of the `path` should be matched in\n   * the same case.\n   */\n  caseSensitive?: boolean;\n  /**\n   * Should be `true` if this pattern should match the entire URL pathname.\n   */\n  end?: boolean;\n}\n\n/**\n * A PathMatch contains info about how a PathPattern matched on a URL pathname.\n */\nexport interface PathMatch<ParamKey extends string = string> {\n  /**\n   * The names and values of dynamic parameters in the URL.\n   */\n  params: Params<ParamKey>;\n  /**\n   * The portion of the URL pathname that was matched.\n   */\n  pathname: string;\n  /**\n   * The portion of the URL pathname that was matched before child routes.\n   */\n  pathnameBase: string;\n  /**\n   * The pattern that was used to match.\n   */\n  pattern: PathPattern;\n}\n\ntype Mutable<T> = {\n  -readonly [P in keyof T]: T[P];\n};\n\n/**\n * Performs pattern matching on a URL pathname and returns information about\n * the match.\n *\n * @see https://reactrouter.com/utils/match-path\n */\nexport function matchPath<\n  ParamKey extends ParamParseKey<Path>,\n  Path extends string\n>(\n  pattern: PathPattern<Path> | Path,\n  pathname: string\n): PathMatch<ParamKey> | null {\n  if (typeof pattern === \"string\") {\n    pattern = { path: pattern, caseSensitive: false, end: true };\n  }\n\n  let [matcher, paramNames] = compilePath(\n    pattern.path,\n    pattern.caseSensitive,\n    pattern.end\n  );\n\n  let match = pathname.match(matcher);\n  if (!match) return null;\n\n  let matchedPathname = match[0];\n  let pathnameBase = matchedPathname.replace(/(.)\\/+$/, \"$1\");\n  let captureGroups = match.slice(1);\n  let params: Params = paramNames.reduce<Mutable<Params>>(\n    (memo, paramName, index) => {\n      // We need to compute the pathnameBase here using the raw splat value\n      // instead of using params[\"*\"] later because it will be decoded then\n      if (paramName === \"*\") {\n        let splatValue = captureGroups[index] || \"\";\n        pathnameBase = matchedPathname\n          .slice(0, matchedPathname.length - splatValue.length)\n          .replace(/(.)\\/+$/, \"$1\");\n      }\n\n      memo[paramName] = safelyDecodeURIComponent(\n        captureGroups[index] || \"\",\n        paramName\n      );\n      return memo;\n    },\n    {}\n  );\n\n  return {\n    params,\n    pathname: matchedPathname,\n    pathnameBase,\n    pattern,\n  };\n}\n\nfunction compilePath(\n  path: string,\n  caseSensitive = false,\n  end = true\n): [RegExp, string[]] {\n  warning(\n    path === \"*\" || !path.endsWith(\"*\") || path.endsWith(\"/*\"),\n    `Route path \"${path}\" will be treated as if it were ` +\n      `\"${path.replace(/\\*$/, \"/*\")}\" because the \\`*\\` character must ` +\n      `always follow a \\`/\\` in the pattern. To get rid of this warning, ` +\n      `please change the route path to \"${path.replace(/\\*$/, \"/*\")}\".`\n  );\n\n  let paramNames: string[] = [];\n  let regexpSource =\n    \"^\" +\n    path\n      .replace(/\\/*\\*?$/, \"\") // Ignore trailing / and /*, we'll handle it below\n      .replace(/^\\/*/, \"/\") // Make sure it has a leading /\n      .replace(/[\\\\.*+^$?{}|()[\\]]/g, \"\\\\$&\") // Escape special regex chars\n      .replace(/\\/:(\\w+)/g, (_: string, paramName: string) => {\n        paramNames.push(paramName);\n        return \"/([^\\\\/]+)\";\n      });\n\n  if (path.endsWith(\"*\")) {\n    paramNames.push(\"*\");\n    regexpSource +=\n      path === \"*\" || path === \"/*\"\n        ? \"(.*)$\" // Already matched the initial /, just match the rest\n        : \"(?:\\\\/(.+)|\\\\/*)$\"; // Don't include the / in params[\"*\"]\n  } else if (end) {\n    // When matching to the end, ignore trailing slashes\n    regexpSource += \"\\\\/*$\";\n  } else if (path !== \"\" && path !== \"/\") {\n    // If our path is non-empty and contains anything beyond an initial slash,\n    // then we have _some_ form of path in our regex so we should expect to\n    // match only if we find the end of this path segment.  Look for an optional\n    // non-captured trailing slash (to match a portion of the URL) or the end\n    // of the path (if we've matched to the end).  We used to do this with a\n    // word boundary but that gives false positives on routes like\n    // /user-preferences since `-` counts as a word boundary.\n    regexpSource += \"(?:(?=\\\\/|$))\";\n  } else {\n    // Nothing to match for \"\" or \"/\"\n  }\n\n  let matcher = new RegExp(regexpSource, caseSensitive ? undefined : \"i\");\n\n  return [matcher, paramNames];\n}\n\nfunction safelyDecodeURI(value: string) {\n  try {\n    return decodeURI(value);\n  } catch (error) {\n    warning(\n      false,\n      `The URL path \"${value}\" could not be decoded because it is is a ` +\n        `malformed URL segment. This is probably due to a bad percent ` +\n        `encoding (${error}).`\n    );\n\n    return value;\n  }\n}\n\nfunction safelyDecodeURIComponent(value: string, paramName: string) {\n  try {\n    return decodeURIComponent(value);\n  } catch (error) {\n    warning(\n      false,\n      `The value for the URL param \"${paramName}\" will not be decoded because` +\n        ` the string \"${value}\" is a malformed URL segment. This is probably` +\n        ` due to a bad percent encoding (${error}).`\n    );\n\n    return value;\n  }\n}\n\n/**\n * @private\n */\nexport function stripBasename(\n  pathname: string,\n  basename: string\n): string | null {\n  if (basename === \"/\") return pathname;\n\n  if (!pathname.toLowerCase().startsWith(basename.toLowerCase())) {\n    return null;\n  }\n\n  // We want to leave trailing slash behavior in the user's control, so if they\n  // specify a basename with a trailing slash, we should support it\n  let startIndex = basename.endsWith(\"/\")\n    ? basename.length - 1\n    : basename.length;\n  let nextChar = pathname.charAt(startIndex);\n  if (nextChar && nextChar !== \"/\") {\n    // pathname does not start with basename/\n    return null;\n  }\n\n  return pathname.slice(startIndex) || \"/\";\n}\n\n/**\n * Returns a resolved path object relative to the given pathname.\n *\n * @see https://reactrouter.com/utils/resolve-path\n */\nexport function resolvePath(to: To, fromPathname = \"/\"): Path {\n  let {\n    pathname: toPathname,\n    search = \"\",\n    hash = \"\",\n  } = typeof to === \"string\" ? parsePath(to) : to;\n\n  let pathname = toPathname\n    ? toPathname.startsWith(\"/\")\n      ? toPathname\n      : resolvePathname(toPathname, fromPathname)\n    : fromPathname;\n\n  return {\n    pathname,\n    search: normalizeSearch(search),\n    hash: normalizeHash(hash),\n  };\n}\n\nfunction resolvePathname(relativePath: string, fromPathname: string): string {\n  let segments = fromPathname.replace(/\\/+$/, \"\").split(\"/\");\n  let relativeSegments = relativePath.split(\"/\");\n\n  relativeSegments.forEach((segment) => {\n    if (segment === \"..\") {\n      // Keep the root \"\" segment so the pathname starts at /\n      if (segments.length > 1) segments.pop();\n    } else if (segment !== \".\") {\n      segments.push(segment);\n    }\n  });\n\n  return segments.length > 1 ? segments.join(\"/\") : \"/\";\n}\n\nfunction getInvalidPathError(\n  char: string,\n  field: string,\n  dest: string,\n  path: Partial<Path>\n) {\n  return (\n    `Cannot include a '${char}' character in a manually specified ` +\n    `\\`to.${field}\\` field [${JSON.stringify(\n      path\n    )}].  Please separate it out to the ` +\n    `\\`to.${dest}\\` field. Alternatively you may provide the full path as ` +\n    `a string in <Link to=\"...\"> and the router will parse it for you.`\n  );\n}\n\n/**\n * @private\n *\n * When processing relative navigation we want to ignore ancestor routes that\n * do not contribute to the path, such that index/pathless layout routes don't\n * interfere.\n *\n * For example, when moving a route element into an index route and/or a\n * pathless layout route, relative link behavior contained within should stay\n * the same.  Both of the following examples should link back to the root:\n *\n *   <Route path=\"/\">\n *     <Route path=\"accounts\" element={<Link to=\"..\"}>\n *   </Route>\n *\n *   <Route path=\"/\">\n *     <Route path=\"accounts\">\n *       <Route element={<AccountsLayout />}>       // <-- Does not contribute\n *         <Route index element={<Link to=\"..\"} />  // <-- Does not contribute\n *       </Route\n *     </Route>\n *   </Route>\n */\nexport function getPathContributingMatches<\n  T extends AgnosticRouteMatch = AgnosticRouteMatch\n>(matches: T[]) {\n  return matches.filter(\n    (match, index) =>\n      index === 0 || (match.route.path && match.route.path.length > 0)\n  );\n}\n\n/**\n * @private\n */\nexport function resolveTo(\n  toArg: To,\n  routePathnames: string[],\n  locationPathname: string,\n  isPathRelative = false\n): Path {\n  let to: Partial<Path>;\n  if (typeof toArg === \"string\") {\n    to = parsePath(toArg);\n  } else {\n    to = { ...toArg };\n\n    invariant(\n      !to.pathname || !to.pathname.includes(\"?\"),\n      getInvalidPathError(\"?\", \"pathname\", \"search\", to)\n    );\n    invariant(\n      !to.pathname || !to.pathname.includes(\"#\"),\n      getInvalidPathError(\"#\", \"pathname\", \"hash\", to)\n    );\n    invariant(\n      !to.search || !to.search.includes(\"#\"),\n      getInvalidPathError(\"#\", \"search\", \"hash\", to)\n    );\n  }\n\n  let isEmptyPath = toArg === \"\" || to.pathname === \"\";\n  let toPathname = isEmptyPath ? \"/\" : to.pathname;\n\n  let from: string;\n\n  // Routing is relative to the current pathname if explicitly requested.\n  //\n  // If a pathname is explicitly provided in `to`, it should be relative to the\n  // route context. This is explained in `Note on `<Link to>` values` in our\n  // migration guide from v5 as a means of disambiguation between `to` values\n  // that begin with `/` and those that do not. However, this is problematic for\n  // `to` values that do not provide a pathname. `to` can simply be a search or\n  // hash string, in which case we should assume that the navigation is relative\n  // to the current location's pathname and *not* the route pathname.\n  if (isPathRelative || toPathname == null) {\n    from = locationPathname;\n  } else {\n    let routePathnameIndex = routePathnames.length - 1;\n\n    if (toPathname.startsWith(\"..\")) {\n      let toSegments = toPathname.split(\"/\");\n\n      // Each leading .. segment means \"go up one route\" instead of \"go up one\n      // URL segment\".  This is a key difference from how <a href> works and a\n      // major reason we call this a \"to\" value instead of a \"href\".\n      while (toSegments[0] === \"..\") {\n        toSegments.shift();\n        routePathnameIndex -= 1;\n      }\n\n      to.pathname = toSegments.join(\"/\");\n    }\n\n    // If there are more \"..\" segments than parent routes, resolve relative to\n    // the root / URL.\n    from = routePathnameIndex >= 0 ? routePathnames[routePathnameIndex] : \"/\";\n  }\n\n  let path = resolvePath(to, from);\n\n  // Ensure the pathname has a trailing slash if the original \"to\" had one\n  let hasExplicitTrailingSlash =\n    toPathname && toPathname !== \"/\" && toPathname.endsWith(\"/\");\n  // Or if this was a link to the current path which has a trailing slash\n  let hasCurrentTrailingSlash =\n    (isEmptyPath || toPathname === \".\") && locationPathname.endsWith(\"/\");\n  if (\n    !path.pathname.endsWith(\"/\") &&\n    (hasExplicitTrailingSlash || hasCurrentTrailingSlash)\n  ) {\n    path.pathname += \"/\";\n  }\n\n  return path;\n}\n\n/**\n * @private\n */\nexport function getToPathname(to: To): string | undefined {\n  // Empty strings should be treated the same as / paths\n  return to === \"\" || (to as Path).pathname === \"\"\n    ? \"/\"\n    : typeof to === \"string\"\n    ? parsePath(to).pathname\n    : to.pathname;\n}\n\n/**\n * @private\n */\nexport const joinPaths = (paths: string[]): string =>\n  paths.join(\"/\").replace(/\\/\\/+/g, \"/\");\n\n/**\n * @private\n */\nexport const normalizePathname = (pathname: string): string =>\n  pathname.replace(/\\/+$/, \"\").replace(/^\\/*/, \"/\");\n\n/**\n * @private\n */\nexport const normalizeSearch = (search: string): string =>\n  !search || search === \"?\"\n    ? \"\"\n    : search.startsWith(\"?\")\n    ? search\n    : \"?\" + search;\n\n/**\n * @private\n */\nexport const normalizeHash = (hash: string): string =>\n  !hash || hash === \"#\" ? \"\" : hash.startsWith(\"#\") ? hash : \"#\" + hash;\n\nexport type JsonFunction = <Data>(\n  data: Data,\n  init?: number | ResponseInit\n) => Response;\n\n/**\n * This is a shortcut for creating `application/json` responses. Converts `data`\n * to JSON and sets the `Content-Type` header.\n */\nexport const json: JsonFunction = (data, init = {}) => {\n  let responseInit = typeof init === \"number\" ? { status: init } : init;\n\n  let headers = new Headers(responseInit.headers);\n  if (!headers.has(\"Content-Type\")) {\n    headers.set(\"Content-Type\", \"application/json; charset=utf-8\");\n  }\n\n  return new Response(JSON.stringify(data), {\n    ...responseInit,\n    headers,\n  });\n};\n\nexport interface TrackedPromise extends Promise<any> {\n  _tracked?: boolean;\n  _data?: any;\n  _error?: any;\n}\n\nexport class AbortedDeferredError extends Error {}\n\nexport class DeferredData {\n  private pendingKeysSet: Set<string> = new Set<string>();\n  private controller: AbortController;\n  private abortPromise: Promise<void>;\n  private unlistenAbortSignal: () => void;\n  private subscribers: Set<(aborted: boolean, settledKey?: string) => void> =\n    new Set();\n  data: Record<string, unknown>;\n  init?: ResponseInit;\n  deferredKeys: string[] = [];\n\n  constructor(data: Record<string, unknown>, responseInit?: ResponseInit) {\n    invariant(\n      data && typeof data === \"object\" && !Array.isArray(data),\n      \"defer() only accepts plain objects\"\n    );\n\n    // Set up an AbortController + Promise we can race against to exit early\n    // cancellation\n    let reject: (e: AbortedDeferredError) => void;\n    this.abortPromise = new Promise((_, r) => (reject = r));\n    this.controller = new AbortController();\n    let onAbort = () =>\n      reject(new AbortedDeferredError(\"Deferred data aborted\"));\n    this.unlistenAbortSignal = () =>\n      this.controller.signal.removeEventListener(\"abort\", onAbort);\n    this.controller.signal.addEventListener(\"abort\", onAbort);\n\n    this.data = Object.entries(data).reduce(\n      (acc, [key, value]) =>\n        Object.assign(acc, {\n          [key]: this.trackPromise(key, value),\n        }),\n      {}\n    );\n\n    if (this.done) {\n      // All incoming values were resolved\n      this.unlistenAbortSignal();\n    }\n\n    this.init = responseInit;\n  }\n\n  private trackPromise(\n    key: string,\n    value: Promise<unknown> | unknown\n  ): TrackedPromise | unknown {\n    if (!(value instanceof Promise)) {\n      return value;\n    }\n\n    this.deferredKeys.push(key);\n    this.pendingKeysSet.add(key);\n\n    // We store a little wrapper promise that will be extended with\n    // _data/_error props upon resolve/reject\n    let promise: TrackedPromise = Promise.race([value, this.abortPromise]).then(\n      (data) => this.onSettle(promise, key, undefined, data as unknown),\n      (error) => this.onSettle(promise, key, error as unknown)\n    );\n\n    // Register rejection listeners to avoid uncaught promise rejections on\n    // errors or aborted deferred values\n    promise.catch(() => {});\n\n    Object.defineProperty(promise, \"_tracked\", { get: () => true });\n    return promise;\n  }\n\n  private onSettle(\n    promise: TrackedPromise,\n    key: string,\n    error: unknown,\n    data?: unknown\n  ): unknown {\n    if (\n      this.controller.signal.aborted &&\n      error instanceof AbortedDeferredError\n    ) {\n      this.unlistenAbortSignal();\n      Object.defineProperty(promise, \"_error\", { get: () => error });\n      return Promise.reject(error);\n    }\n\n    this.pendingKeysSet.delete(key);\n\n    if (this.done) {\n      // Nothing left to abort!\n      this.unlistenAbortSignal();\n    }\n\n    // If the promise was resolved/rejected with undefined, we'll throw an error as you\n    // should always resolve with a value or null\n    if (error === undefined && data === undefined) {\n      let undefinedError = new Error(\n        `Deferred data for key \"${key}\" resolved/rejected with \\`undefined\\`, ` +\n          `you must resolve/reject with a value or \\`null\\`.`\n      );\n      Object.defineProperty(promise, \"_error\", { get: () => undefinedError });\n      this.emit(false, key);\n      return Promise.reject(undefinedError);\n    }\n\n    if (data === undefined) {\n      Object.defineProperty(promise, \"_error\", { get: () => error });\n      this.emit(false, key);\n      return Promise.reject(error);\n    }\n\n    Object.defineProperty(promise, \"_data\", { get: () => data });\n    this.emit(false, key);\n    return data;\n  }\n\n  private emit(aborted: boolean, settledKey?: string) {\n    this.subscribers.forEach((subscriber) => subscriber(aborted, settledKey));\n  }\n\n  subscribe(fn: (aborted: boolean, settledKey?: string) => void) {\n    this.subscribers.add(fn);\n    return () => this.subscribers.delete(fn);\n  }\n\n  cancel() {\n    this.controller.abort();\n    this.pendingKeysSet.forEach((v, k) => this.pendingKeysSet.delete(k));\n    this.emit(true);\n  }\n\n  async resolveData(signal: AbortSignal) {\n    let aborted = false;\n    if (!this.done) {\n      let onAbort = () => this.cancel();\n      signal.addEventListener(\"abort\", onAbort);\n      aborted = await new Promise((resolve) => {\n        this.subscribe((aborted) => {\n          signal.removeEventListener(\"abort\", onAbort);\n          if (aborted || this.done) {\n            resolve(aborted);\n          }\n        });\n      });\n    }\n    return aborted;\n  }\n\n  get done() {\n    return this.pendingKeysSet.size === 0;\n  }\n\n  get unwrappedData() {\n    invariant(\n      this.data !== null && this.done,\n      \"Can only unwrap data on initialized and settled deferreds\"\n    );\n\n    return Object.entries(this.data).reduce(\n      (acc, [key, value]) =>\n        Object.assign(acc, {\n          [key]: unwrapTrackedPromise(value),\n        }),\n      {}\n    );\n  }\n\n  get pendingKeys() {\n    return Array.from(this.pendingKeysSet);\n  }\n}\n\nfunction isTrackedPromise(value: any): value is TrackedPromise {\n  return (\n    value instanceof Promise && (value as TrackedPromise)._tracked === true\n  );\n}\n\nfunction unwrapTrackedPromise(value: any) {\n  if (!isTrackedPromise(value)) {\n    return value;\n  }\n\n  if (value._error) {\n    throw value._error;\n  }\n  return value._data;\n}\n\nexport type DeferFunction = (\n  data: Record<string, unknown>,\n  init?: number | ResponseInit\n) => DeferredData;\n\nexport const defer: DeferFunction = (data, init = {}) => {\n  let responseInit = typeof init === \"number\" ? { status: init } : init;\n\n  return new DeferredData(data, responseInit);\n};\n\nexport type RedirectFunction = (\n  url: string,\n  init?: number | ResponseInit\n) => Response;\n\n/**\n * A redirect response. Sets the status code and the `Location` header.\n * Defaults to \"302 Found\".\n */\nexport const redirect: RedirectFunction = (url, init = 302) => {\n  let responseInit = init;\n  if (typeof responseInit === \"number\") {\n    responseInit = { status: responseInit };\n  } else if (typeof responseInit.status === \"undefined\") {\n    responseInit.status = 302;\n  }\n\n  let headers = new Headers(responseInit.headers);\n  headers.set(\"Location\", url);\n\n  return new Response(null, {\n    ...responseInit,\n    headers,\n  });\n};\n\n/**\n * A redirect response that will force a document reload to the new location.\n * Sets the status code and the `Location` header.\n * Defaults to \"302 Found\".\n */\nexport const redirectDocument: RedirectFunction = (url, init) => {\n  let response = redirect(url, init);\n  response.headers.set(\"X-Remix-Reload-Document\", \"true\");\n  return response;\n};\n\n/**\n * @private\n * Utility class we use to hold auto-unwrapped 4xx/5xx Response bodies\n */\nexport class ErrorResponse {\n  status: number;\n  statusText: string;\n  data: any;\n  error?: Error;\n  internal: boolean;\n\n  constructor(\n    status: number,\n    statusText: string | undefined,\n    data: any,\n    internal = false\n  ) {\n    this.status = status;\n    this.statusText = statusText || \"\";\n    this.internal = internal;\n    if (data instanceof Error) {\n      this.data = data.toString();\n      this.error = data;\n    } else {\n      this.data = data;\n    }\n  }\n}\n\n/**\n * Check if the given error is an ErrorResponse generated from a 4xx/5xx\n * Response thrown from an action/loader\n */\nexport function isRouteErrorResponse(error: any): error is ErrorResponse {\n  return (\n    error != null &&\n    typeof error.status === \"number\" &&\n    typeof error.statusText === \"string\" &&\n    typeof error.internal === \"boolean\" &&\n    \"data\" in error\n  );\n}\n","import type { History, Location, Path, To } from \"./history\";\nimport {\n  Action as HistoryAction,\n  createLocation,\n  createPath,\n  invariant,\n  parsePath,\n  warning,\n} from \"./history\";\nimport type {\n  DataResult,\n  DeferredData,\n  AgnosticDataRouteMatch,\n  AgnosticDataRouteObject,\n  DeferredResult,\n  ErrorResult,\n  FormEncType,\n  FormMethod,\n  DetectErrorBoundaryFunction,\n  RedirectResult,\n  RouteData,\n  AgnosticRouteObject,\n  Submission,\n  SuccessResult,\n  AgnosticRouteMatch,\n  ShouldRevalidateFunction,\n  RouteManifest,\n  ImmutableRouteKey,\n  ActionFunction,\n  LoaderFunction,\n  V7_MutationFormMethod,\n  V7_FormMethod,\n  HTMLFormMethod,\n  MutationFormMethod,\n  MapRoutePropertiesFunction,\n} from \"./utils\";\nimport {\n  ErrorResponse,\n  ResultType,\n  convertRoutesToDataRoutes,\n  getPathContributingMatches,\n  immutableRouteKeys,\n  isRouteErrorResponse,\n  joinPaths,\n  matchRoutes,\n  resolveTo,\n  stripBasename,\n} from \"./utils\";\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Types and Constants\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * A Router instance manages all navigation and data loading/mutations\n */\nexport interface Router {\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Return the basename for the router\n   */\n  get basename(): RouterInit[\"basename\"];\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Return the current state of the router\n   */\n  get state(): RouterState;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Return the routes for this router instance\n   */\n  get routes(): AgnosticDataRouteObject[];\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Initialize the router, including adding history listeners and kicking off\n   * initial data fetches.  Returns a function to cleanup listeners and abort\n   * any in-progress loads\n   */\n  initialize(): Router;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Subscribe to router.state updates\n   *\n   * @param fn function to call with the new state\n   */\n  subscribe(fn: RouterSubscriber): () => void;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Enable scroll restoration behavior in the router\n   *\n   * @param savedScrollPositions Object that will manage positions, in case\n   *                             it's being restored from sessionStorage\n   * @param getScrollPosition    Function to get the active Y scroll position\n   * @param getKey               Function to get the key to use for restoration\n   */\n  enableScrollRestoration(\n    savedScrollPositions: Record<string, number>,\n    getScrollPosition: GetScrollPositionFunction,\n    getKey?: GetScrollRestorationKeyFunction\n  ): () => void;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Navigate forward/backward in the history stack\n   * @param to Delta to move in the history stack\n   */\n  navigate(to: number): Promise<void>;\n\n  /**\n   * Navigate to the given path\n   * @param to Path to navigate to\n   * @param opts Navigation options (method, submission, etc.)\n   */\n  navigate(to: To | null, opts?: RouterNavigateOptions): Promise<void>;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Trigger a fetcher load/submission\n   *\n   * @param key     Fetcher key\n   * @param routeId Route that owns the fetcher\n   * @param href    href to fetch\n   * @param opts    Fetcher options, (method, submission, etc.)\n   */\n  fetch(\n    key: string,\n    routeId: string,\n    href: string | null,\n    opts?: RouterFetchOptions\n  ): void;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Trigger a revalidation of all current route loaders and fetcher loads\n   */\n  revalidate(): void;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Utility function to create an href for the given location\n   * @param location\n   */\n  createHref(location: Location | URL): string;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Utility function to URL encode a destination path according to the internal\n   * history implementation\n   * @param to\n   */\n  encodeLocation(to: To): Path;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Get/create a fetcher for the given key\n   * @param key\n   */\n  getFetcher<TData = any>(key?: string): Fetcher<TData>;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Delete the fetcher for a given key\n   * @param key\n   */\n  deleteFetcher(key?: string): void;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Cleanup listeners and abort any in-progress loads\n   */\n  dispose(): void;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Get a navigation blocker\n   * @param key The identifier for the blocker\n   * @param fn The blocker function implementation\n   */\n  getBlocker(key: string, fn: BlockerFunction): Blocker;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Delete a navigation blocker\n   * @param key The identifier for the blocker\n   */\n  deleteBlocker(key: string): void;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * HMR needs to pass in-flight route updates to React Router\n   * TODO: Replace this with granular route update APIs (addRoute, updateRoute, deleteRoute)\n   */\n  _internalSetRoutes(routes: AgnosticRouteObject[]): void;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Internal fetch AbortControllers accessed by unit tests\n   */\n  _internalFetchControllers: Map<string, AbortController>;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Internal pending DeferredData instances accessed by unit tests\n   */\n  _internalActiveDeferreds: Map<string, DeferredData>;\n}\n\n/**\n * State maintained internally by the router.  During a navigation, all states\n * reflect the the \"old\" location unless otherwise noted.\n */\nexport interface RouterState {\n  /**\n   * The action of the most recent navigation\n   */\n  historyAction: HistoryAction;\n\n  /**\n   * The current location reflected by the router\n   */\n  location: Location;\n\n  /**\n   * The current set of route matches\n   */\n  matches: AgnosticDataRouteMatch[];\n\n  /**\n   * Tracks whether we've completed our initial data load\n   */\n  initialized: boolean;\n\n  /**\n   * Current scroll position we should start at for a new view\n   *  - number -> scroll position to restore to\n   *  - false -> do not restore scroll at all (used during submissions)\n   *  - null -> don't have a saved position, scroll to hash or top of page\n   */\n  restoreScrollPosition: number | false | null;\n\n  /**\n   * Indicate whether this navigation should skip resetting the scroll position\n   * if we are unable to restore the scroll position\n   */\n  preventScrollReset: boolean;\n\n  /**\n   * Tracks the state of the current navigation\n   */\n  navigation: Navigation;\n\n  /**\n   * Tracks any in-progress revalidations\n   */\n  revalidation: RevalidationState;\n\n  /**\n   * Data from the loaders for the current matches\n   */\n  loaderData: RouteData;\n\n  /**\n   * Data from the action for the current matches\n   */\n  actionData: RouteData | null;\n\n  /**\n   * Errors caught from loaders for the current matches\n   */\n  errors: RouteData | null;\n\n  /**\n   * Map of current fetchers\n   */\n  fetchers: Map<string, Fetcher>;\n\n  /**\n   * Map of current blockers\n   */\n  blockers: Map<string, Blocker>;\n}\n\n/**\n * Data that can be passed into hydrate a Router from SSR\n */\nexport type HydrationState = Partial<\n  Pick<RouterState, \"loaderData\" | \"actionData\" | \"errors\">\n>;\n\n/**\n * Future flags to toggle new feature behavior\n */\nexport interface FutureConfig {\n  v7_normalizeFormMethod: boolean;\n  v7_prependBasename: boolean;\n}\n\n/**\n * Initialization options for createRouter\n */\nexport interface RouterInit {\n  routes: AgnosticRouteObject[];\n  history: History;\n  basename?: string;\n  /**\n   * @deprecated Use `mapRouteProperties` instead\n   */\n  detectErrorBoundary?: DetectErrorBoundaryFunction;\n  mapRouteProperties?: MapRoutePropertiesFunction;\n  future?: Partial<FutureConfig>;\n  hydrationData?: HydrationState;\n  window?: Window;\n}\n\n/**\n * State returned from a server-side query() call\n */\nexport interface StaticHandlerContext {\n  basename: Router[\"basename\"];\n  location: RouterState[\"location\"];\n  matches: RouterState[\"matches\"];\n  loaderData: RouterState[\"loaderData\"];\n  actionData: RouterState[\"actionData\"];\n  errors: RouterState[\"errors\"];\n  statusCode: number;\n  loaderHeaders: Record<string, Headers>;\n  actionHeaders: Record<string, Headers>;\n  activeDeferreds: Record<string, DeferredData> | null;\n  _deepestRenderedBoundaryId?: string | null;\n}\n\n/**\n * A StaticHandler instance manages a singular SSR navigation/fetch event\n */\nexport interface StaticHandler {\n  dataRoutes: AgnosticDataRouteObject[];\n  query(\n    request: Request,\n    opts?: { requestContext?: unknown }\n  ): Promise<StaticHandlerContext | Response>;\n  queryRoute(\n    request: Request,\n    opts?: { routeId?: string; requestContext?: unknown }\n  ): Promise<any>;\n}\n\n/**\n * Subscriber function signature for changes to router state\n */\nexport interface RouterSubscriber {\n  (state: RouterState): void;\n}\n\ninterface UseMatchesMatch {\n  id: string;\n  pathname: string;\n  params: AgnosticRouteMatch[\"params\"];\n  data: unknown;\n  handle: unknown;\n}\n\n/**\n * Function signature for determining the key to be used in scroll restoration\n * for a given location\n */\nexport interface GetScrollRestorationKeyFunction {\n  (location: Location, matches: UseMatchesMatch[]): string | null;\n}\n\n/**\n * Function signature for determining the current scroll position\n */\nexport interface GetScrollPositionFunction {\n  (): number;\n}\n\nexport type RelativeRoutingType = \"route\" | \"path\";\n\n// Allowed for any navigation or fetch\ntype BaseNavigateOrFetchOptions = {\n  preventScrollReset?: boolean;\n  relative?: RelativeRoutingType;\n};\n\n// Only allowed for navigations\ntype BaseNavigateOptions = BaseNavigateOrFetchOptions & {\n  replace?: boolean;\n  state?: any;\n  fromRouteId?: string;\n};\n\n// Only allowed for submission navigations\ntype BaseSubmissionOptions = {\n  formMethod?: HTMLFormMethod;\n  formEncType?: FormEncType;\n} & (\n  | { formData: FormData; body?: undefined }\n  | { formData?: undefined; body: any }\n);\n\n/**\n * Options for a navigate() call for a normal (non-submission) navigation\n */\ntype LinkNavigateOptions = BaseNavigateOptions;\n\n/**\n * Options for a navigate() call for a submission navigation\n */\ntype SubmissionNavigateOptions = BaseNavigateOptions & BaseSubmissionOptions;\n\n/**\n * Options to pass to navigate() for a navigation\n */\nexport type RouterNavigateOptions =\n  | LinkNavigateOptions\n  | SubmissionNavigateOptions;\n\n/**\n * Options for a fetch() load\n */\ntype LoadFetchOptions = BaseNavigateOrFetchOptions;\n\n/**\n * Options for a fetch() submission\n */\ntype SubmitFetchOptions = BaseNavigateOrFetchOptions & BaseSubmissionOptions;\n\n/**\n * Options to pass to fetch()\n */\nexport type RouterFetchOptions = LoadFetchOptions | SubmitFetchOptions;\n\n/**\n * Potential states for state.navigation\n */\nexport type NavigationStates = {\n  Idle: {\n    state: \"idle\";\n    location: undefined;\n    formMethod: undefined;\n    formAction: undefined;\n    formEncType: undefined;\n    formData: undefined;\n    json: undefined;\n    text: undefined;\n  };\n  Loading: {\n    state: \"loading\";\n    location: Location;\n    formMethod: Submission[\"formMethod\"] | undefined;\n    formAction: Submission[\"formAction\"] | undefined;\n    formEncType: Submission[\"formEncType\"] | undefined;\n    formData: Submission[\"formData\"] | undefined;\n    json: Submission[\"json\"] | undefined;\n    text: Submission[\"text\"] | undefined;\n  };\n  Submitting: {\n    state: \"submitting\";\n    location: Location;\n    formMethod: Submission[\"formMethod\"];\n    formAction: Submission[\"formAction\"];\n    formEncType: Submission[\"formEncType\"];\n    formData: Submission[\"formData\"];\n    json: Submission[\"json\"];\n    text: Submission[\"text\"];\n  };\n};\n\nexport type Navigation = NavigationStates[keyof NavigationStates];\n\nexport type RevalidationState = \"idle\" | \"loading\";\n\n/**\n * Potential states for fetchers\n */\ntype FetcherStates<TData = any> = {\n  Idle: {\n    state: \"idle\";\n    formMethod: undefined;\n    formAction: undefined;\n    formEncType: undefined;\n    text: undefined;\n    formData: undefined;\n    json: undefined;\n    data: TData | undefined;\n    \" _hasFetcherDoneAnything \"?: boolean;\n  };\n  Loading: {\n    state: \"loading\";\n    formMethod: Submission[\"formMethod\"] | undefined;\n    formAction: Submission[\"formAction\"] | undefined;\n    formEncType: Submission[\"formEncType\"] | undefined;\n    text: Submission[\"text\"] | undefined;\n    formData: Submission[\"formData\"] | undefined;\n    json: Submission[\"json\"] | undefined;\n    data: TData | undefined;\n    \" _hasFetcherDoneAnything \"?: boolean;\n  };\n  Submitting: {\n    state: \"submitting\";\n    formMethod: Submission[\"formMethod\"];\n    formAction: Submission[\"formAction\"];\n    formEncType: Submission[\"formEncType\"];\n    text: Submission[\"text\"];\n    formData: Submission[\"formData\"];\n    json: Submission[\"json\"];\n    data: TData | undefined;\n    \" _hasFetcherDoneAnything \"?: boolean;\n  };\n};\n\nexport type Fetcher<TData = any> =\n  FetcherStates<TData>[keyof FetcherStates<TData>];\n\ninterface BlockerBlocked {\n  state: \"blocked\";\n  reset(): void;\n  proceed(): void;\n  location: Location;\n}\n\ninterface BlockerUnblocked {\n  state: \"unblocked\";\n  reset: undefined;\n  proceed: undefined;\n  location: undefined;\n}\n\ninterface BlockerProceeding {\n  state: \"proceeding\";\n  reset: undefined;\n  proceed: undefined;\n  location: Location;\n}\n\nexport type Blocker = BlockerUnblocked | BlockerBlocked | BlockerProceeding;\n\nexport type BlockerFunction = (args: {\n  currentLocation: Location;\n  nextLocation: Location;\n  historyAction: HistoryAction;\n}) => boolean;\n\ninterface ShortCircuitable {\n  /**\n   * startNavigation does not need to complete the navigation because we\n   * redirected or got interrupted\n   */\n  shortCircuited?: boolean;\n}\n\ninterface HandleActionResult extends ShortCircuitable {\n  /**\n   * Error thrown from the current action, keyed by the route containing the\n   * error boundary to render the error.  To be committed to the state after\n   * loaders have completed\n   */\n  pendingActionError?: RouteData;\n  /**\n   * Data returned from the current action, keyed by the route owning the action.\n   * To be committed to the state after loaders have completed\n   */\n  pendingActionData?: RouteData;\n}\n\ninterface HandleLoadersResult extends ShortCircuitable {\n  /**\n   * loaderData returned from the current set of loaders\n   */\n  loaderData?: RouterState[\"loaderData\"];\n  /**\n   * errors thrown from the current set of loaders\n   */\n  errors?: RouterState[\"errors\"];\n}\n\n/**\n * Cached info for active fetcher.load() instances so they can participate\n * in revalidation\n */\ninterface FetchLoadMatch {\n  routeId: string;\n  path: string;\n}\n\n/**\n * Identified fetcher.load() calls that need to be revalidated\n */\ninterface RevalidatingFetcher extends FetchLoadMatch {\n  key: string;\n  match: AgnosticDataRouteMatch | null;\n  matches: AgnosticDataRouteMatch[] | null;\n  controller: AbortController | null;\n}\n\n/**\n * Wrapper object to allow us to throw any response out from callLoaderOrAction\n * for queryRouter while preserving whether or not it was thrown or returned\n * from the loader/action\n */\ninterface QueryRouteResponse {\n  type: ResultType.data | ResultType.error;\n  response: Response;\n}\n\nconst validMutationMethodsArr: MutationFormMethod[] = [\n  \"post\",\n  \"put\",\n  \"patch\",\n  \"delete\",\n];\nconst validMutationMethods = new Set<MutationFormMethod>(\n  validMutationMethodsArr\n);\n\nconst validRequestMethodsArr: FormMethod[] = [\n  \"get\",\n  ...validMutationMethodsArr,\n];\nconst validRequestMethods = new Set<FormMethod>(validRequestMethodsArr);\n\nconst redirectStatusCodes = new Set([301, 302, 303, 307, 308]);\nconst redirectPreserveMethodStatusCodes = new Set([307, 308]);\n\nexport const IDLE_NAVIGATION: NavigationStates[\"Idle\"] = {\n  state: \"idle\",\n  location: undefined,\n  formMethod: undefined,\n  formAction: undefined,\n  formEncType: undefined,\n  formData: undefined,\n  json: undefined,\n  text: undefined,\n};\n\nexport const IDLE_FETCHER: FetcherStates[\"Idle\"] = {\n  state: \"idle\",\n  data: undefined,\n  formMethod: undefined,\n  formAction: undefined,\n  formEncType: undefined,\n  formData: undefined,\n  json: undefined,\n  text: undefined,\n};\n\nexport const IDLE_BLOCKER: BlockerUnblocked = {\n  state: \"unblocked\",\n  proceed: undefined,\n  reset: undefined,\n  location: undefined,\n};\n\nconst ABSOLUTE_URL_REGEX = /^(?:[a-z][a-z0-9+.-]*:|\\/\\/)/i;\n\nconst defaultMapRouteProperties: MapRoutePropertiesFunction = (route) => ({\n  hasErrorBoundary: Boolean(route.hasErrorBoundary),\n});\n\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region createRouter\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * Create a router and listen to history POP navigations\n */\nexport function createRouter(init: RouterInit): Router {\n  const routerWindow = init.window\n    ? init.window\n    : typeof window !== \"undefined\"\n    ? window\n    : undefined;\n  const isBrowser =\n    typeof routerWindow !== \"undefined\" &&\n    typeof routerWindow.document !== \"undefined\" &&\n    typeof routerWindow.document.createElement !== \"undefined\";\n  const isServer = !isBrowser;\n\n  invariant(\n    init.routes.length > 0,\n    \"You must provide a non-empty routes array to createRouter\"\n  );\n\n  let mapRouteProperties: MapRoutePropertiesFunction;\n  if (init.mapRouteProperties) {\n    mapRouteProperties = init.mapRouteProperties;\n  } else if (init.detectErrorBoundary) {\n    // If they are still using the deprecated version, wrap it with the new API\n    let detectErrorBoundary = init.detectErrorBoundary;\n    mapRouteProperties = (route) => ({\n      hasErrorBoundary: detectErrorBoundary(route),\n    });\n  } else {\n    mapRouteProperties = defaultMapRouteProperties;\n  }\n\n  // Routes keyed by ID\n  let manifest: RouteManifest = {};\n  // Routes in tree format for matching\n  let dataRoutes = convertRoutesToDataRoutes(\n    init.routes,\n    mapRouteProperties,\n    undefined,\n    manifest\n  );\n  let inFlightDataRoutes: AgnosticDataRouteObject[] | undefined;\n  let basename = init.basename || \"/\";\n  // Config driven behavior flags\n  let future: FutureConfig = {\n    v7_normalizeFormMethod: false,\n    v7_prependBasename: false,\n    ...init.future,\n  };\n  // Cleanup function for history\n  let unlistenHistory: (() => void) | null = null;\n  // Externally-provided functions to call on all state changes\n  let subscribers = new Set<RouterSubscriber>();\n  // Externally-provided object to hold scroll restoration locations during routing\n  let savedScrollPositions: Record<string, number> | null = null;\n  // Externally-provided function to get scroll restoration keys\n  let getScrollRestorationKey: GetScrollRestorationKeyFunction | null = null;\n  // Externally-provided function to get current scroll position\n  let getScrollPosition: GetScrollPositionFunction | null = null;\n  // One-time flag to control the initial hydration scroll restoration.  Because\n  // we don't get the saved positions from <ScrollRestoration /> until _after_\n  // the initial render, we need to manually trigger a separate updateState to\n  // send along the restoreScrollPosition\n  // Set to true if we have `hydrationData` since we assume we were SSR'd and that\n  // SSR did the initial scroll restoration.\n  let initialScrollRestored = init.hydrationData != null;\n\n  let initialMatches = matchRoutes(dataRoutes, init.history.location, basename);\n  let initialErrors: RouteData | null = null;\n\n  if (initialMatches == null) {\n    // If we do not match a user-provided-route, fall back to the root\n    // to allow the error boundary to take over\n    let error = getInternalRouterError(404, {\n      pathname: init.history.location.pathname,\n    });\n    let { matches, route } = getShortCircuitMatches(dataRoutes);\n    initialMatches = matches;\n    initialErrors = { [route.id]: error };\n  }\n\n  let initialized =\n    // All initialMatches need to be loaded before we're ready.  If we have lazy\n    // functions around still then we'll need to run them in initialize()\n    !initialMatches.some((m) => m.route.lazy) &&\n    // And we have to either have no loaders or have been provided hydrationData\n    (!initialMatches.some((m) => m.route.loader) || init.hydrationData != null);\n\n  let router: Router;\n  let state: RouterState = {\n    historyAction: init.history.action,\n    location: init.history.location,\n    matches: initialMatches,\n    initialized,\n    navigation: IDLE_NAVIGATION,\n    // Don't restore on initial updateState() if we were SSR'd\n    restoreScrollPosition: init.hydrationData != null ? false : null,\n    preventScrollReset: false,\n    revalidation: \"idle\",\n    loaderData: (init.hydrationData && init.hydrationData.loaderData) || {},\n    actionData: (init.hydrationData && init.hydrationData.actionData) || null,\n    errors: (init.hydrationData && init.hydrationData.errors) || initialErrors,\n    fetchers: new Map(),\n    blockers: new Map(),\n  };\n\n  // -- Stateful internal variables to manage navigations --\n  // Current navigation in progress (to be committed in completeNavigation)\n  let pendingAction: HistoryAction = HistoryAction.Pop;\n\n  // Should the current navigation prevent the scroll reset if scroll cannot\n  // be restored?\n  let pendingPreventScrollReset = false;\n\n  // AbortController for the active navigation\n  let pendingNavigationController: AbortController | null;\n\n  // We use this to avoid touching history in completeNavigation if a\n  // revalidation is entirely uninterrupted\n  let isUninterruptedRevalidation = false;\n\n  // Use this internal flag to force revalidation of all loaders:\n  //  - submissions (completed or interrupted)\n  //  - useRevalidator()\n  //  - X-Remix-Revalidate (from redirect)\n  let isRevalidationRequired = false;\n\n  // Use this internal array to capture routes that require revalidation due\n  // to a cancelled deferred on action submission\n  let cancelledDeferredRoutes: string[] = [];\n\n  // Use this internal array to capture fetcher loads that were cancelled by an\n  // action navigation and require revalidation\n  let cancelledFetcherLoads: string[] = [];\n\n  // AbortControllers for any in-flight fetchers\n  let fetchControllers = new Map<string, AbortController>();\n\n  // Track loads based on the order in which they started\n  let incrementingLoadId = 0;\n\n  // Track the outstanding pending navigation data load to be compared against\n  // the globally incrementing load when a fetcher load lands after a completed\n  // navigation\n  let pendingNavigationLoadId = -1;\n\n  // Fetchers that triggered data reloads as a result of their actions\n  let fetchReloadIds = new Map<string, number>();\n\n  // Fetchers that triggered redirect navigations\n  let fetchRedirectIds = new Set<string>();\n\n  // Most recent href/match for fetcher.load calls for fetchers\n  let fetchLoadMatches = new Map<string, FetchLoadMatch>();\n\n  // Store DeferredData instances for active route matches.  When a\n  // route loader returns defer() we stick one in here.  Then, when a nested\n  // promise resolves we update loaderData.  If a new navigation starts we\n  // cancel active deferreds for eliminated routes.\n  let activeDeferreds = new Map<string, DeferredData>();\n\n  // Store blocker functions in a separate Map outside of router state since\n  // we don't need to update UI state if they change\n  let blockerFunctions = new Map<string, BlockerFunction>();\n\n  // Flag to ignore the next history update, so we can revert the URL change on\n  // a POP navigation that was blocked by the user without touching router state\n  let ignoreNextHistoryUpdate = false;\n\n  // Initialize the router, all side effects should be kicked off from here.\n  // Implemented as a Fluent API for ease of:\n  //   let router = createRouter(init).initialize();\n  function initialize() {\n    // If history informs us of a POP navigation, start the navigation but do not update\n    // state.  We'll update our own state once the navigation completes\n    unlistenHistory = init.history.listen(\n      ({ action: historyAction, location, delta }) => {\n        // Ignore this event if it was just us resetting the URL from a\n        // blocked POP navigation\n        if (ignoreNextHistoryUpdate) {\n          ignoreNextHistoryUpdate = false;\n          return;\n        }\n\n        warning(\n          blockerFunctions.size === 0 || delta != null,\n          \"You are trying to use a blocker on a POP navigation to a location \" +\n            \"that was not created by @remix-run/router. This will fail silently in \" +\n            \"production. This can happen if you are navigating outside the router \" +\n            \"via `window.history.pushState`/`window.location.hash` instead of using \" +\n            \"router navigation APIs.  This can also happen if you are using \" +\n            \"createHashRouter and the user manually changes the URL.\"\n        );\n\n        let blockerKey = shouldBlockNavigation({\n          currentLocation: state.location,\n          nextLocation: location,\n          historyAction,\n        });\n\n        if (blockerKey && delta != null) {\n          // Restore the URL to match the current UI, but don't update router state\n          ignoreNextHistoryUpdate = true;\n          init.history.go(delta * -1);\n\n          // Put the blocker into a blocked state\n          updateBlocker(blockerKey, {\n            state: \"blocked\",\n            location,\n            proceed() {\n              updateBlocker(blockerKey!, {\n                state: \"proceeding\",\n                proceed: undefined,\n                reset: undefined,\n                location,\n              });\n              // Re-do the same POP navigation we just blocked\n              init.history.go(delta);\n            },\n            reset() {\n              let blockers = new Map(state.blockers);\n              blockers.set(blockerKey!, IDLE_BLOCKER);\n              updateState({ blockers });\n            },\n          });\n          return;\n        }\n\n        return startNavigation(historyAction, location);\n      }\n    );\n\n    // Kick off initial data load if needed.  Use Pop to avoid modifying history\n    // Note we don't do any handling of lazy here.  For SPA's it'll get handled\n    // in the normal navigation flow.  For SSR it's expected that lazy modules are\n    // resolved prior to router creation since we can't go into a fallbackElement\n    // UI for SSR'd apps\n    if (!state.initialized) {\n      startNavigation(HistoryAction.Pop, state.location);\n    }\n\n    return router;\n  }\n\n  // Clean up a router and it's side effects\n  function dispose() {\n    if (unlistenHistory) {\n      unlistenHistory();\n    }\n    subscribers.clear();\n    pendingNavigationController && pendingNavigationController.abort();\n    state.fetchers.forEach((_, key) => deleteFetcher(key));\n    state.blockers.forEach((_, key) => deleteBlocker(key));\n  }\n\n  // Subscribe to state updates for the router\n  function subscribe(fn: RouterSubscriber) {\n    subscribers.add(fn);\n    return () => subscribers.delete(fn);\n  }\n\n  // Update our state and notify the calling context of the change\n  function updateState(newState: Partial<RouterState>): void {\n    state = {\n      ...state,\n      ...newState,\n    };\n    subscribers.forEach((subscriber) => subscriber(state));\n  }\n\n  // Complete a navigation returning the state.navigation back to the IDLE_NAVIGATION\n  // and setting state.[historyAction/location/matches] to the new route.\n  // - Location is a required param\n  // - Navigation will always be set to IDLE_NAVIGATION\n  // - Can pass any other state in newState\n  function completeNavigation(\n    location: Location,\n    newState: Partial<Omit<RouterState, \"action\" | \"location\" | \"navigation\">>\n  ): void {\n    // Deduce if we're in a loading/actionReload state:\n    // - We have committed actionData in the store\n    // - The current navigation was a mutation submission\n    // - We're past the submitting state and into the loading state\n    // - The location being loaded is not the result of a redirect\n    let isActionReload =\n      state.actionData != null &&\n      state.navigation.formMethod != null &&\n      isMutationMethod(state.navigation.formMethod) &&\n      state.navigation.state === \"loading\" &&\n      location.state?._isRedirect !== true;\n\n    let actionData: RouteData | null;\n    if (newState.actionData) {\n      if (Object.keys(newState.actionData).length > 0) {\n        actionData = newState.actionData;\n      } else {\n        // Empty actionData -> clear prior actionData due to an action error\n        actionData = null;\n      }\n    } else if (isActionReload) {\n      // Keep the current data if we're wrapping up the action reload\n      actionData = state.actionData;\n    } else {\n      // Clear actionData on any other completed navigations\n      actionData = null;\n    }\n\n    // Always preserve any existing loaderData from re-used routes\n    let loaderData = newState.loaderData\n      ? mergeLoaderData(\n          state.loaderData,\n          newState.loaderData,\n          newState.matches || [],\n          newState.errors\n        )\n      : state.loaderData;\n\n    // On a successful navigation we can assume we got through all blockers\n    // so we can start fresh\n    let blockers = state.blockers;\n    if (blockers.size > 0) {\n      blockers = new Map(blockers);\n      blockers.forEach((_, k) => blockers.set(k, IDLE_BLOCKER));\n    }\n\n    // Always respect the user flag.  Otherwise don't reset on mutation\n    // submission navigations unless they redirect\n    let preventScrollReset =\n      pendingPreventScrollReset === true ||\n      (state.navigation.formMethod != null &&\n        isMutationMethod(state.navigation.formMethod) &&\n        location.state?._isRedirect !== true);\n\n    if (inFlightDataRoutes) {\n      dataRoutes = inFlightDataRoutes;\n      inFlightDataRoutes = undefined;\n    }\n\n    if (isUninterruptedRevalidation) {\n      // If this was an uninterrupted revalidation then do not touch history\n    } else if (pendingAction === HistoryAction.Pop) {\n      // Do nothing for POP - URL has already been updated\n    } else if (pendingAction === HistoryAction.Push) {\n      init.history.push(location, location.state);\n    } else if (pendingAction === HistoryAction.Replace) {\n      init.history.replace(location, location.state);\n    }\n\n    updateState({\n      ...newState, // matches, errors, fetchers go through as-is\n      actionData,\n      loaderData,\n      historyAction: pendingAction,\n      location,\n      initialized: true,\n      navigation: IDLE_NAVIGATION,\n      revalidation: \"idle\",\n      restoreScrollPosition: getSavedScrollPosition(\n        location,\n        newState.matches || state.matches\n      ),\n      preventScrollReset,\n      blockers,\n    });\n\n    // Reset stateful navigation vars\n    pendingAction = HistoryAction.Pop;\n    pendingPreventScrollReset = false;\n    isUninterruptedRevalidation = false;\n    isRevalidationRequired = false;\n    cancelledDeferredRoutes = [];\n    cancelledFetcherLoads = [];\n  }\n\n  // Trigger a navigation event, which can either be a numerical POP or a PUSH\n  // replace with an optional submission\n  async function navigate(\n    to: number | To | null,\n    opts?: RouterNavigateOptions\n  ): Promise<void> {\n    if (typeof to === \"number\") {\n      init.history.go(to);\n      return;\n    }\n\n    let normalizedPath = normalizeTo(\n      state.location,\n      state.matches,\n      basename,\n      future.v7_prependBasename,\n      to,\n      opts?.fromRouteId,\n      opts?.relative\n    );\n    let { path, submission, error } = normalizeNavigateOptions(\n      future.v7_normalizeFormMethod,\n      false,\n      normalizedPath,\n      opts\n    );\n\n    let currentLocation = state.location;\n    let nextLocation = createLocation(state.location, path, opts && opts.state);\n\n    // When using navigate as a PUSH/REPLACE we aren't reading an already-encoded\n    // URL from window.location, so we need to encode it here so the behavior\n    // remains the same as POP and non-data-router usages.  new URL() does all\n    // the same encoding we'd get from a history.pushState/window.location read\n    // without having to touch history\n    nextLocation = {\n      ...nextLocation,\n      ...init.history.encodeLocation(nextLocation),\n    };\n\n    let userReplace = opts && opts.replace != null ? opts.replace : undefined;\n\n    let historyAction = HistoryAction.Push;\n\n    if (userReplace === true) {\n      historyAction = HistoryAction.Replace;\n    } else if (userReplace === false) {\n      // no-op\n    } else if (\n      submission != null &&\n      isMutationMethod(submission.formMethod) &&\n      submission.formAction === state.location.pathname + state.location.search\n    ) {\n      // By default on submissions to the current location we REPLACE so that\n      // users don't have to double-click the back button to get to the prior\n      // location.  If the user redirects to a different location from the\n      // action/loader this will be ignored and the redirect will be a PUSH\n      historyAction = HistoryAction.Replace;\n    }\n\n    let preventScrollReset =\n      opts && \"preventScrollReset\" in opts\n        ? opts.preventScrollReset === true\n        : undefined;\n\n    let blockerKey = shouldBlockNavigation({\n      currentLocation,\n      nextLocation,\n      historyAction,\n    });\n\n    if (blockerKey) {\n      // Put the blocker into a blocked state\n      updateBlocker(blockerKey, {\n        state: \"blocked\",\n        location: nextLocation,\n        proceed() {\n          updateBlocker(blockerKey!, {\n            state: \"proceeding\",\n            proceed: undefined,\n            reset: undefined,\n            location: nextLocation,\n          });\n          // Send the same navigation through\n          navigate(to, opts);\n        },\n        reset() {\n          let blockers = new Map(state.blockers);\n          blockers.set(blockerKey!, IDLE_BLOCKER);\n          updateState({ blockers });\n        },\n      });\n      return;\n    }\n\n    return await startNavigation(historyAction, nextLocation, {\n      submission,\n      // Send through the formData serialization error if we have one so we can\n      // render at the right error boundary after we match routes\n      pendingError: error,\n      preventScrollReset,\n      replace: opts && opts.replace,\n    });\n  }\n\n  // Revalidate all current loaders.  If a navigation is in progress or if this\n  // is interrupted by a navigation, allow this to \"succeed\" by calling all\n  // loaders during the next loader round\n  function revalidate() {\n    interruptActiveLoads();\n    updateState({ revalidation: \"loading\" });\n\n    // If we're currently submitting an action, we don't need to start a new\n    // navigation, we'll just let the follow up loader execution call all loaders\n    if (state.navigation.state === \"submitting\") {\n      return;\n    }\n\n    // If we're currently in an idle state, start a new navigation for the current\n    // action/location and mark it as uninterrupted, which will skip the history\n    // update in completeNavigation\n    if (state.navigation.state === \"idle\") {\n      startNavigation(state.historyAction, state.location, {\n        startUninterruptedRevalidation: true,\n      });\n      return;\n    }\n\n    // Otherwise, if we're currently in a loading state, just start a new\n    // navigation to the navigation.location but do not trigger an uninterrupted\n    // revalidation so that history correctly updates once the navigation completes\n    startNavigation(\n      pendingAction || state.historyAction,\n      state.navigation.location,\n      { overrideNavigation: state.navigation }\n    );\n  }\n\n  // Start a navigation to the given action/location.  Can optionally provide a\n  // overrideNavigation which will override the normalLoad in the case of a redirect\n  // navigation\n  async function startNavigation(\n    historyAction: HistoryAction,\n    location: Location,\n    opts?: {\n      submission?: Submission;\n      fetcherSubmission?: Submission;\n      overrideNavigation?: Navigation;\n      pendingError?: ErrorResponse;\n      startUninterruptedRevalidation?: boolean;\n      preventScrollReset?: boolean;\n      replace?: boolean;\n    }\n  ): Promise<void> {\n    // Abort any in-progress navigations and start a new one. Unset any ongoing\n    // uninterrupted revalidations unless told otherwise, since we want this\n    // new navigation to update history normally\n    pendingNavigationController && pendingNavigationController.abort();\n    pendingNavigationController = null;\n    pendingAction = historyAction;\n    isUninterruptedRevalidation =\n      (opts && opts.startUninterruptedRevalidation) === true;\n\n    // Save the current scroll position every time we start a new navigation,\n    // and track whether we should reset scroll on completion\n    saveScrollPosition(state.location, state.matches);\n    pendingPreventScrollReset = (opts && opts.preventScrollReset) === true;\n\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let loadingNavigation = opts && opts.overrideNavigation;\n    let matches = matchRoutes(routesToUse, location, basename);\n\n    // Short circuit with a 404 on the root error boundary if we match nothing\n    if (!matches) {\n      let error = getInternalRouterError(404, { pathname: location.pathname });\n      let { matches: notFoundMatches, route } =\n        getShortCircuitMatches(routesToUse);\n      // Cancel all pending deferred on 404s since we don't keep any routes\n      cancelActiveDeferreds();\n      completeNavigation(location, {\n        matches: notFoundMatches,\n        loaderData: {},\n        errors: {\n          [route.id]: error,\n        },\n      });\n      return;\n    }\n\n    // Short circuit if it's only a hash change and not a revalidation or\n    // mutation submission.\n    //\n    // Ignore on initial page loads because since the initial load will always\n    // be \"same hash\".  For example, on /page#hash and submit a <Form method=\"post\">\n    // which will default to a navigation to /page\n    if (\n      state.initialized &&\n      !isRevalidationRequired &&\n      isHashChangeOnly(state.location, location) &&\n      !(opts && opts.submission && isMutationMethod(opts.submission.formMethod))\n    ) {\n      completeNavigation(location, { matches });\n      return;\n    }\n\n    // Create a controller/Request for this navigation\n    pendingNavigationController = new AbortController();\n    let request = createClientSideRequest(\n      init.history,\n      location,\n      pendingNavigationController.signal,\n      opts && opts.submission\n    );\n    let pendingActionData: RouteData | undefined;\n    let pendingError: RouteData | undefined;\n\n    if (opts && opts.pendingError) {\n      // If we have a pendingError, it means the user attempted a GET submission\n      // with binary FormData so assign here and skip to handleLoaders.  That\n      // way we handle calling loaders above the boundary etc.  It's not really\n      // different from an actionError in that sense.\n      pendingError = {\n        [findNearestBoundary(matches).route.id]: opts.pendingError,\n      };\n    } else if (\n      opts &&\n      opts.submission &&\n      isMutationMethod(opts.submission.formMethod)\n    ) {\n      // Call action if we received an action submission\n      let actionOutput = await handleAction(\n        request,\n        location,\n        opts.submission,\n        matches,\n        { replace: opts.replace }\n      );\n\n      if (actionOutput.shortCircuited) {\n        return;\n      }\n\n      pendingActionData = actionOutput.pendingActionData;\n      pendingError = actionOutput.pendingActionError;\n      loadingNavigation = getLoadingNavigation(location, opts.submission);\n\n      // Create a GET request for the loaders\n      request = new Request(request.url, { signal: request.signal });\n    }\n\n    // Call loaders\n    let { shortCircuited, loaderData, errors } = await handleLoaders(\n      request,\n      location,\n      matches,\n      loadingNavigation,\n      opts && opts.submission,\n      opts && opts.fetcherSubmission,\n      opts && opts.replace,\n      pendingActionData,\n      pendingError\n    );\n\n    if (shortCircuited) {\n      return;\n    }\n\n    // Clean up now that the action/loaders have completed.  Don't clean up if\n    // we short circuited because pendingNavigationController will have already\n    // been assigned to a new controller for the next navigation\n    pendingNavigationController = null;\n\n    completeNavigation(location, {\n      matches,\n      ...(pendingActionData ? { actionData: pendingActionData } : {}),\n      loaderData,\n      errors,\n    });\n  }\n\n  // Call the action matched by the leaf route for this navigation and handle\n  // redirects/errors\n  async function handleAction(\n    request: Request,\n    location: Location,\n    submission: Submission,\n    matches: AgnosticDataRouteMatch[],\n    opts: { replace?: boolean } = {}\n  ): Promise<HandleActionResult> {\n    interruptActiveLoads();\n\n    // Put us in a submitting state\n    let navigation = getSubmittingNavigation(location, submission);\n    updateState({ navigation });\n\n    // Call our action and get the result\n    let result: DataResult;\n    let actionMatch = getTargetMatch(matches, location);\n\n    if (!actionMatch.route.action && !actionMatch.route.lazy) {\n      result = {\n        type: ResultType.error,\n        error: getInternalRouterError(405, {\n          method: request.method,\n          pathname: location.pathname,\n          routeId: actionMatch.route.id,\n        }),\n      };\n    } else {\n      result = await callLoaderOrAction(\n        \"action\",\n        request,\n        actionMatch,\n        matches,\n        manifest,\n        mapRouteProperties,\n        basename\n      );\n\n      if (request.signal.aborted) {\n        return { shortCircuited: true };\n      }\n    }\n\n    if (isRedirectResult(result)) {\n      let replace: boolean;\n      if (opts && opts.replace != null) {\n        replace = opts.replace;\n      } else {\n        // If the user didn't explicity indicate replace behavior, replace if\n        // we redirected to the exact same location we're currently at to avoid\n        // double back-buttons\n        replace =\n          result.location === state.location.pathname + state.location.search;\n      }\n      await startRedirectNavigation(state, result, { submission, replace });\n      return { shortCircuited: true };\n    }\n\n    if (isErrorResult(result)) {\n      // Store off the pending error - we use it to determine which loaders\n      // to call and will commit it when we complete the navigation\n      let boundaryMatch = findNearestBoundary(matches, actionMatch.route.id);\n\n      // By default, all submissions are REPLACE navigations, but if the\n      // action threw an error that'll be rendered in an errorElement, we fall\n      // back to PUSH so that the user can use the back button to get back to\n      // the pre-submission form location to try again\n      if ((opts && opts.replace) !== true) {\n        pendingAction = HistoryAction.Push;\n      }\n\n      return {\n        // Send back an empty object we can use to clear out any prior actionData\n        pendingActionData: {},\n        pendingActionError: { [boundaryMatch.route.id]: result.error },\n      };\n    }\n\n    if (isDeferredResult(result)) {\n      throw getInternalRouterError(400, { type: \"defer-action\" });\n    }\n\n    return {\n      pendingActionData: { [actionMatch.route.id]: result.data },\n    };\n  }\n\n  // Call all applicable loaders for the given matches, handling redirects,\n  // errors, etc.\n  async function handleLoaders(\n    request: Request,\n    location: Location,\n    matches: AgnosticDataRouteMatch[],\n    overrideNavigation?: Navigation,\n    submission?: Submission,\n    fetcherSubmission?: Submission,\n    replace?: boolean,\n    pendingActionData?: RouteData,\n    pendingError?: RouteData\n  ): Promise<HandleLoadersResult> {\n    // Figure out the right navigation we want to use for data loading\n    let loadingNavigation =\n      overrideNavigation || getLoadingNavigation(location, submission);\n\n    // If this was a redirect from an action we don't have a \"submission\" but\n    // we have it on the loading navigation so use that if available\n    let activeSubmission =\n      submission ||\n      fetcherSubmission ||\n      getSubmissionFromNavigation(loadingNavigation);\n\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let [matchesToLoad, revalidatingFetchers] = getMatchesToLoad(\n      init.history,\n      state,\n      matches,\n      activeSubmission,\n      location,\n      isRevalidationRequired,\n      cancelledDeferredRoutes,\n      cancelledFetcherLoads,\n      fetchLoadMatches,\n      fetchRedirectIds,\n      routesToUse,\n      basename,\n      pendingActionData,\n      pendingError\n    );\n\n    // Cancel pending deferreds for no-longer-matched routes or routes we're\n    // about to reload.  Note that if this is an action reload we would have\n    // already cancelled all pending deferreds so this would be a no-op\n    cancelActiveDeferreds(\n      (routeId) =>\n        !(matches && matches.some((m) => m.route.id === routeId)) ||\n        (matchesToLoad && matchesToLoad.some((m) => m.route.id === routeId))\n    );\n\n    pendingNavigationLoadId = ++incrementingLoadId;\n\n    // Short circuit if we have no loaders to run\n    if (matchesToLoad.length === 0 && revalidatingFetchers.length === 0) {\n      let updatedFetchers = markFetchRedirectsDone();\n      completeNavigation(location, {\n        matches,\n        loaderData: {},\n        // Commit pending error if we're short circuiting\n        errors: pendingError || null,\n        ...(pendingActionData ? { actionData: pendingActionData } : {}),\n        ...(updatedFetchers ? { fetchers: new Map(state.fetchers) } : {}),\n      });\n      return { shortCircuited: true };\n    }\n\n    // If this is an uninterrupted revalidation, we remain in our current idle\n    // state.  If not, we need to switch to our loading state and load data,\n    // preserving any new action data or existing action data (in the case of\n    // a revalidation interrupting an actionReload)\n    if (!isUninterruptedRevalidation) {\n      revalidatingFetchers.forEach((rf) => {\n        let fetcher = state.fetchers.get(rf.key);\n        let revalidatingFetcher = getLoadingFetcher(\n          undefined,\n          fetcher ? fetcher.data : undefined\n        );\n        state.fetchers.set(rf.key, revalidatingFetcher);\n      });\n      let actionData = pendingActionData || state.actionData;\n      updateState({\n        navigation: loadingNavigation,\n        ...(actionData\n          ? Object.keys(actionData).length === 0\n            ? { actionData: null }\n            : { actionData }\n          : {}),\n        ...(revalidatingFetchers.length > 0\n          ? { fetchers: new Map(state.fetchers) }\n          : {}),\n      });\n    }\n\n    revalidatingFetchers.forEach((rf) => {\n      if (fetchControllers.has(rf.key)) {\n        abortFetcher(rf.key);\n      }\n      if (rf.controller) {\n        // Fetchers use an independent AbortController so that aborting a fetcher\n        // (via deleteFetcher) does not abort the triggering navigation that\n        // triggered the revalidation\n        fetchControllers.set(rf.key, rf.controller);\n      }\n    });\n\n    // Proxy navigation abort through to revalidation fetchers\n    let abortPendingFetchRevalidations = () =>\n      revalidatingFetchers.forEach((f) => abortFetcher(f.key));\n    if (pendingNavigationController) {\n      pendingNavigationController.signal.addEventListener(\n        \"abort\",\n        abortPendingFetchRevalidations\n      );\n    }\n\n    let { results, loaderResults, fetcherResults } =\n      await callLoadersAndMaybeResolveData(\n        state.matches,\n        matches,\n        matchesToLoad,\n        revalidatingFetchers,\n        request\n      );\n\n    if (request.signal.aborted) {\n      return { shortCircuited: true };\n    }\n\n    // Clean up _after_ loaders have completed.  Don't clean up if we short\n    // circuited because fetchControllers would have been aborted and\n    // reassigned to new controllers for the next navigation\n    if (pendingNavigationController) {\n      pendingNavigationController.signal.removeEventListener(\n        \"abort\",\n        abortPendingFetchRevalidations\n      );\n    }\n    revalidatingFetchers.forEach((rf) => fetchControllers.delete(rf.key));\n\n    // If any loaders returned a redirect Response, start a new REPLACE navigation\n    let redirect = findRedirect(results);\n    if (redirect) {\n      if (redirect.idx >= matchesToLoad.length) {\n        // If this redirect came from a fetcher make sure we mark it in\n        // fetchRedirectIds so it doesn't get revalidated on the next set of\n        // loader executions\n        let fetcherKey =\n          revalidatingFetchers[redirect.idx - matchesToLoad.length].key;\n        fetchRedirectIds.add(fetcherKey);\n      }\n      await startRedirectNavigation(state, redirect.result, { replace });\n      return { shortCircuited: true };\n    }\n\n    // Process and commit output from loaders\n    let { loaderData, errors } = processLoaderData(\n      state,\n      matches,\n      matchesToLoad,\n      loaderResults,\n      pendingError,\n      revalidatingFetchers,\n      fetcherResults,\n      activeDeferreds\n    );\n\n    // Wire up subscribers to update loaderData as promises settle\n    activeDeferreds.forEach((deferredData, routeId) => {\n      deferredData.subscribe((aborted) => {\n        // Note: No need to updateState here since the TrackedPromise on\n        // loaderData is stable across resolve/reject\n        // Remove this instance if we were aborted or if promises have settled\n        if (aborted || deferredData.done) {\n          activeDeferreds.delete(routeId);\n        }\n      });\n    });\n\n    let updatedFetchers = markFetchRedirectsDone();\n    let didAbortFetchLoads = abortStaleFetchLoads(pendingNavigationLoadId);\n    let shouldUpdateFetchers =\n      updatedFetchers || didAbortFetchLoads || revalidatingFetchers.length > 0;\n\n    return {\n      loaderData,\n      errors,\n      ...(shouldUpdateFetchers ? { fetchers: new Map(state.fetchers) } : {}),\n    };\n  }\n\n  function getFetcher<TData = any>(key: string): Fetcher<TData> {\n    return state.fetchers.get(key) || IDLE_FETCHER;\n  }\n\n  // Trigger a fetcher load/submit for the given fetcher key\n  function fetch(\n    key: string,\n    routeId: string,\n    href: string | null,\n    opts?: RouterFetchOptions\n  ) {\n    if (isServer) {\n      throw new Error(\n        \"router.fetch() was called during the server render, but it shouldn't be. \" +\n          \"You are likely calling a useFetcher() method in the body of your component. \" +\n          \"Try moving it to a useEffect or a callback.\"\n      );\n    }\n\n    if (fetchControllers.has(key)) abortFetcher(key);\n\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let normalizedPath = normalizeTo(\n      state.location,\n      state.matches,\n      basename,\n      future.v7_prependBasename,\n      href,\n      routeId,\n      opts?.relative\n    );\n    let matches = matchRoutes(routesToUse, normalizedPath, basename);\n\n    if (!matches) {\n      setFetcherError(\n        key,\n        routeId,\n        getInternalRouterError(404, { pathname: normalizedPath })\n      );\n      return;\n    }\n\n    let { path, submission, error } = normalizeNavigateOptions(\n      future.v7_normalizeFormMethod,\n      true,\n      normalizedPath,\n      opts\n    );\n\n    if (error) {\n      setFetcherError(key, routeId, error);\n      return;\n    }\n\n    let match = getTargetMatch(matches, path);\n\n    pendingPreventScrollReset = (opts && opts.preventScrollReset) === true;\n\n    if (submission && isMutationMethod(submission.formMethod)) {\n      handleFetcherAction(key, routeId, path, match, matches, submission);\n      return;\n    }\n\n    // Store off the match so we can call it's shouldRevalidate on subsequent\n    // revalidations\n    fetchLoadMatches.set(key, { routeId, path });\n    handleFetcherLoader(key, routeId, path, match, matches, submission);\n  }\n\n  // Call the action for the matched fetcher.submit(), and then handle redirects,\n  // errors, and revalidation\n  async function handleFetcherAction(\n    key: string,\n    routeId: string,\n    path: string,\n    match: AgnosticDataRouteMatch,\n    requestMatches: AgnosticDataRouteMatch[],\n    submission: Submission\n  ) {\n    interruptActiveLoads();\n    fetchLoadMatches.delete(key);\n\n    if (!match.route.action && !match.route.lazy) {\n      let error = getInternalRouterError(405, {\n        method: submission.formMethod,\n        pathname: path,\n        routeId: routeId,\n      });\n      setFetcherError(key, routeId, error);\n      return;\n    }\n\n    // Put this fetcher into it's submitting state\n    let existingFetcher = state.fetchers.get(key);\n    let fetcher = getSubmittingFetcher(submission, existingFetcher);\n    state.fetchers.set(key, fetcher);\n    updateState({ fetchers: new Map(state.fetchers) });\n\n    // Call the action for the fetcher\n    let abortController = new AbortController();\n    let fetchRequest = createClientSideRequest(\n      init.history,\n      path,\n      abortController.signal,\n      submission\n    );\n    fetchControllers.set(key, abortController);\n\n    let originatingLoadId = incrementingLoadId;\n    let actionResult = await callLoaderOrAction(\n      \"action\",\n      fetchRequest,\n      match,\n      requestMatches,\n      manifest,\n      mapRouteProperties,\n      basename\n    );\n\n    if (fetchRequest.signal.aborted) {\n      // We can delete this so long as we weren't aborted by ou our own fetcher\n      // re-submit which would have put _new_ controller is in fetchControllers\n      if (fetchControllers.get(key) === abortController) {\n        fetchControllers.delete(key);\n      }\n      return;\n    }\n\n    if (isRedirectResult(actionResult)) {\n      fetchControllers.delete(key);\n      if (pendingNavigationLoadId > originatingLoadId) {\n        // A new navigation was kicked off after our action started, so that\n        // should take precedence over this redirect navigation.  We already\n        // set isRevalidationRequired so all loaders for the new route should\n        // fire unless opted out via shouldRevalidate\n        let doneFetcher = getDoneFetcher(undefined);\n        state.fetchers.set(key, doneFetcher);\n        updateState({ fetchers: new Map(state.fetchers) });\n        return;\n      } else {\n        fetchRedirectIds.add(key);\n        let loadingFetcher = getLoadingFetcher(submission);\n        state.fetchers.set(key, loadingFetcher);\n        updateState({ fetchers: new Map(state.fetchers) });\n\n        return startRedirectNavigation(state, actionResult, {\n          submission,\n          isFetchActionRedirect: true,\n        });\n      }\n    }\n\n    // Process any non-redirect errors thrown\n    if (isErrorResult(actionResult)) {\n      setFetcherError(key, routeId, actionResult.error);\n      return;\n    }\n\n    if (isDeferredResult(actionResult)) {\n      throw getInternalRouterError(400, { type: \"defer-action\" });\n    }\n\n    // Start the data load for current matches, or the next location if we're\n    // in the middle of a navigation\n    let nextLocation = state.navigation.location || state.location;\n    let revalidationRequest = createClientSideRequest(\n      init.history,\n      nextLocation,\n      abortController.signal\n    );\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let matches =\n      state.navigation.state !== \"idle\"\n        ? matchRoutes(routesToUse, state.navigation.location, basename)\n        : state.matches;\n\n    invariant(matches, \"Didn't find any matches after fetcher action\");\n\n    let loadId = ++incrementingLoadId;\n    fetchReloadIds.set(key, loadId);\n\n    let loadFetcher = getLoadingFetcher(submission, actionResult.data);\n    state.fetchers.set(key, loadFetcher);\n\n    let [matchesToLoad, revalidatingFetchers] = getMatchesToLoad(\n      init.history,\n      state,\n      matches,\n      submission,\n      nextLocation,\n      isRevalidationRequired,\n      cancelledDeferredRoutes,\n      cancelledFetcherLoads,\n      fetchLoadMatches,\n      fetchRedirectIds,\n      routesToUse,\n      basename,\n      { [match.route.id]: actionResult.data },\n      undefined // No need to send through errors since we short circuit above\n    );\n\n    // Put all revalidating fetchers into the loading state, except for the\n    // current fetcher which we want to keep in it's current loading state which\n    // contains it's action submission info + action data\n    revalidatingFetchers\n      .filter((rf) => rf.key !== key)\n      .forEach((rf) => {\n        let staleKey = rf.key;\n        let existingFetcher = state.fetchers.get(staleKey);\n        let revalidatingFetcher = getLoadingFetcher(\n          undefined,\n          existingFetcher ? existingFetcher.data : undefined\n        );\n        state.fetchers.set(staleKey, revalidatingFetcher);\n        if (fetchControllers.has(staleKey)) {\n          abortFetcher(staleKey);\n        }\n        if (rf.controller) {\n          fetchControllers.set(staleKey, rf.controller);\n        }\n      });\n\n    updateState({ fetchers: new Map(state.fetchers) });\n\n    let abortPendingFetchRevalidations = () =>\n      revalidatingFetchers.forEach((rf) => abortFetcher(rf.key));\n\n    abortController.signal.addEventListener(\n      \"abort\",\n      abortPendingFetchRevalidations\n    );\n\n    let { results, loaderResults, fetcherResults } =\n      await callLoadersAndMaybeResolveData(\n        state.matches,\n        matches,\n        matchesToLoad,\n        revalidatingFetchers,\n        revalidationRequest\n      );\n\n    if (abortController.signal.aborted) {\n      return;\n    }\n\n    abortController.signal.removeEventListener(\n      \"abort\",\n      abortPendingFetchRevalidations\n    );\n\n    fetchReloadIds.delete(key);\n    fetchControllers.delete(key);\n    revalidatingFetchers.forEach((r) => fetchControllers.delete(r.key));\n\n    let redirect = findRedirect(results);\n    if (redirect) {\n      if (redirect.idx >= matchesToLoad.length) {\n        // If this redirect came from a fetcher make sure we mark it in\n        // fetchRedirectIds so it doesn't get revalidated on the next set of\n        // loader executions\n        let fetcherKey =\n          revalidatingFetchers[redirect.idx - matchesToLoad.length].key;\n        fetchRedirectIds.add(fetcherKey);\n      }\n      return startRedirectNavigation(state, redirect.result);\n    }\n\n    // Process and commit output from loaders\n    let { loaderData, errors } = processLoaderData(\n      state,\n      state.matches,\n      matchesToLoad,\n      loaderResults,\n      undefined,\n      revalidatingFetchers,\n      fetcherResults,\n      activeDeferreds\n    );\n\n    // Since we let revalidations complete even if the submitting fetcher was\n    // deleted, only put it back to idle if it hasn't been deleted\n    if (state.fetchers.has(key)) {\n      let doneFetcher = getDoneFetcher(actionResult.data);\n      state.fetchers.set(key, doneFetcher);\n    }\n\n    let didAbortFetchLoads = abortStaleFetchLoads(loadId);\n\n    // If we are currently in a navigation loading state and this fetcher is\n    // more recent than the navigation, we want the newer data so abort the\n    // navigation and complete it with the fetcher data\n    if (\n      state.navigation.state === \"loading\" &&\n      loadId > pendingNavigationLoadId\n    ) {\n      invariant(pendingAction, \"Expected pending action\");\n      pendingNavigationController && pendingNavigationController.abort();\n\n      completeNavigation(state.navigation.location, {\n        matches,\n        loaderData,\n        errors,\n        fetchers: new Map(state.fetchers),\n      });\n    } else {\n      // otherwise just update with the fetcher data, preserving any existing\n      // loaderData for loaders that did not need to reload.  We have to\n      // manually merge here since we aren't going through completeNavigation\n      updateState({\n        errors,\n        loaderData: mergeLoaderData(\n          state.loaderData,\n          loaderData,\n          matches,\n          errors\n        ),\n        ...(didAbortFetchLoads || revalidatingFetchers.length > 0\n          ? { fetchers: new Map(state.fetchers) }\n          : {}),\n      });\n      isRevalidationRequired = false;\n    }\n  }\n\n  // Call the matched loader for fetcher.load(), handling redirects, errors, etc.\n  async function handleFetcherLoader(\n    key: string,\n    routeId: string,\n    path: string,\n    match: AgnosticDataRouteMatch,\n    matches: AgnosticDataRouteMatch[],\n    submission?: Submission\n  ) {\n    let existingFetcher = state.fetchers.get(key);\n    // Put this fetcher into it's loading state\n    let loadingFetcher = getLoadingFetcher(\n      submission,\n      existingFetcher ? existingFetcher.data : undefined\n    );\n    state.fetchers.set(key, loadingFetcher);\n    updateState({ fetchers: new Map(state.fetchers) });\n\n    // Call the loader for this fetcher route match\n    let abortController = new AbortController();\n    let fetchRequest = createClientSideRequest(\n      init.history,\n      path,\n      abortController.signal\n    );\n    fetchControllers.set(key, abortController);\n\n    let originatingLoadId = incrementingLoadId;\n    let result: DataResult = await callLoaderOrAction(\n      \"loader\",\n      fetchRequest,\n      match,\n      matches,\n      manifest,\n      mapRouteProperties,\n      basename\n    );\n\n    // Deferred isn't supported for fetcher loads, await everything and treat it\n    // as a normal load.  resolveDeferredData will return undefined if this\n    // fetcher gets aborted, so we just leave result untouched and short circuit\n    // below if that happens\n    if (isDeferredResult(result)) {\n      result =\n        (await resolveDeferredData(result, fetchRequest.signal, true)) ||\n        result;\n    }\n\n    // We can delete this so long as we weren't aborted by our our own fetcher\n    // re-load which would have put _new_ controller is in fetchControllers\n    if (fetchControllers.get(key) === abortController) {\n      fetchControllers.delete(key);\n    }\n\n    if (fetchRequest.signal.aborted) {\n      return;\n    }\n\n    // If the loader threw a redirect Response, start a new REPLACE navigation\n    if (isRedirectResult(result)) {\n      if (pendingNavigationLoadId > originatingLoadId) {\n        // A new navigation was kicked off after our loader started, so that\n        // should take precedence over this redirect navigation\n        let doneFetcher = getDoneFetcher(undefined);\n        state.fetchers.set(key, doneFetcher);\n        updateState({ fetchers: new Map(state.fetchers) });\n        return;\n      } else {\n        fetchRedirectIds.add(key);\n        await startRedirectNavigation(state, result);\n        return;\n      }\n    }\n\n    // Process any non-redirect errors thrown\n    if (isErrorResult(result)) {\n      let boundaryMatch = findNearestBoundary(state.matches, routeId);\n      state.fetchers.delete(key);\n      // TODO: In remix, this would reset to IDLE_NAVIGATION if it was a catch -\n      // do we need to behave any differently with our non-redirect errors?\n      // What if it was a non-redirect Response?\n      updateState({\n        fetchers: new Map(state.fetchers),\n        errors: {\n          [boundaryMatch.route.id]: result.error,\n        },\n      });\n      return;\n    }\n\n    invariant(!isDeferredResult(result), \"Unhandled fetcher deferred data\");\n\n    // Put the fetcher back into an idle state\n    let doneFetcher = getDoneFetcher(result.data);\n    state.fetchers.set(key, doneFetcher);\n    updateState({ fetchers: new Map(state.fetchers) });\n  }\n\n  /**\n   * Utility function to handle redirects returned from an action or loader.\n   * Normally, a redirect \"replaces\" the navigation that triggered it.  So, for\n   * example:\n   *\n   *  - user is on /a\n   *  - user clicks a link to /b\n   *  - loader for /b redirects to /c\n   *\n   * In a non-JS app the browser would track the in-flight navigation to /b and\n   * then replace it with /c when it encountered the redirect response.  In\n   * the end it would only ever update the URL bar with /c.\n   *\n   * In client-side routing using pushState/replaceState, we aim to emulate\n   * this behavior and we also do not update history until the end of the\n   * navigation (including processed redirects).  This means that we never\n   * actually touch history until we've processed redirects, so we just use\n   * the history action from the original navigation (PUSH or REPLACE).\n   */\n  async function startRedirectNavigation(\n    state: RouterState,\n    redirect: RedirectResult,\n    {\n      submission,\n      replace,\n      isFetchActionRedirect,\n    }: {\n      submission?: Submission;\n      replace?: boolean;\n      isFetchActionRedirect?: boolean;\n    } = {}\n  ) {\n    if (redirect.revalidate) {\n      isRevalidationRequired = true;\n    }\n\n    let redirectLocation = createLocation(\n      state.location,\n      redirect.location,\n      // TODO: This can be removed once we get rid of useTransition in Remix v2\n      {\n        _isRedirect: true,\n        ...(isFetchActionRedirect ? { _isFetchActionRedirect: true } : {}),\n      }\n    );\n    invariant(\n      redirectLocation,\n      \"Expected a location on the redirect navigation\"\n    );\n\n    if (isBrowser) {\n      let isDocumentReload = false;\n\n      if (redirect.reloadDocument) {\n        // Hard reload if the response contained X-Remix-Reload-Document\n        isDocumentReload = true;\n      } else if (ABSOLUTE_URL_REGEX.test(redirect.location)) {\n        const url = init.history.createURL(redirect.location);\n        isDocumentReload =\n          // Hard reload if it's an absolute URL to a new origin\n          url.origin !== routerWindow.location.origin ||\n          // Hard reload if it's an absolute URL that does not match our basename\n          stripBasename(url.pathname, basename) == null;\n      }\n\n      if (isDocumentReload) {\n        if (replace) {\n          routerWindow.location.replace(redirect.location);\n        } else {\n          routerWindow.location.assign(redirect.location);\n        }\n        return;\n      }\n    }\n\n    // There's no need to abort on redirects, since we don't detect the\n    // redirect until the action/loaders have settled\n    pendingNavigationController = null;\n\n    let redirectHistoryAction =\n      replace === true ? HistoryAction.Replace : HistoryAction.Push;\n\n    // Use the incoming submission if provided, fallback on the active one in\n    // state.navigation\n    let activeSubmission =\n      submission || getSubmissionFromNavigation(state.navigation);\n\n    // If this was a 307/308 submission we want to preserve the HTTP method and\n    // re-submit the GET/POST/PUT/PATCH/DELETE as a submission navigation to the\n    // redirected location\n    if (\n      redirectPreserveMethodStatusCodes.has(redirect.status) &&\n      activeSubmission &&\n      isMutationMethod(activeSubmission.formMethod)\n    ) {\n      await startNavigation(redirectHistoryAction, redirectLocation, {\n        submission: {\n          ...activeSubmission,\n          formAction: redirect.location,\n        },\n        // Preserve this flag across redirects\n        preventScrollReset: pendingPreventScrollReset,\n      });\n    } else if (isFetchActionRedirect) {\n      // For a fetch action redirect, we kick off a new loading navigation\n      // without the fetcher submission, but we send it along for shouldRevalidate\n      await startNavigation(redirectHistoryAction, redirectLocation, {\n        overrideNavigation: getLoadingNavigation(redirectLocation),\n        fetcherSubmission: activeSubmission,\n        // Preserve this flag across redirects\n        preventScrollReset: pendingPreventScrollReset,\n      });\n    } else {\n      // If we have a submission, we will preserve it through the redirect navigation\n      let overrideNavigation = getLoadingNavigation(\n        redirectLocation,\n        activeSubmission\n      );\n      await startNavigation(redirectHistoryAction, redirectLocation, {\n        overrideNavigation,\n        // Preserve this flag across redirects\n        preventScrollReset: pendingPreventScrollReset,\n      });\n    }\n  }\n\n  async function callLoadersAndMaybeResolveData(\n    currentMatches: AgnosticDataRouteMatch[],\n    matches: AgnosticDataRouteMatch[],\n    matchesToLoad: AgnosticDataRouteMatch[],\n    fetchersToLoad: RevalidatingFetcher[],\n    request: Request\n  ) {\n    // Call all navigation loaders and revalidating fetcher loaders in parallel,\n    // then slice off the results into separate arrays so we can handle them\n    // accordingly\n    let results = await Promise.all([\n      ...matchesToLoad.map((match) =>\n        callLoaderOrAction(\n          \"loader\",\n          request,\n          match,\n          matches,\n          manifest,\n          mapRouteProperties,\n          basename\n        )\n      ),\n      ...fetchersToLoad.map((f) => {\n        if (f.matches && f.match && f.controller) {\n          return callLoaderOrAction(\n            \"loader\",\n            createClientSideRequest(init.history, f.path, f.controller.signal),\n            f.match,\n            f.matches,\n            manifest,\n            mapRouteProperties,\n            basename\n          );\n        } else {\n          let error: ErrorResult = {\n            type: ResultType.error,\n            error: getInternalRouterError(404, { pathname: f.path }),\n          };\n          return error;\n        }\n      }),\n    ]);\n    let loaderResults = results.slice(0, matchesToLoad.length);\n    let fetcherResults = results.slice(matchesToLoad.length);\n\n    await Promise.all([\n      resolveDeferredResults(\n        currentMatches,\n        matchesToLoad,\n        loaderResults,\n        loaderResults.map(() => request.signal),\n        false,\n        state.loaderData\n      ),\n      resolveDeferredResults(\n        currentMatches,\n        fetchersToLoad.map((f) => f.match),\n        fetcherResults,\n        fetchersToLoad.map((f) => (f.controller ? f.controller.signal : null)),\n        true\n      ),\n    ]);\n\n    return { results, loaderResults, fetcherResults };\n  }\n\n  function interruptActiveLoads() {\n    // Every interruption triggers a revalidation\n    isRevalidationRequired = true;\n\n    // Cancel pending route-level deferreds and mark cancelled routes for\n    // revalidation\n    cancelledDeferredRoutes.push(...cancelActiveDeferreds());\n\n    // Abort in-flight fetcher loads\n    fetchLoadMatches.forEach((_, key) => {\n      if (fetchControllers.has(key)) {\n        cancelledFetcherLoads.push(key);\n        abortFetcher(key);\n      }\n    });\n  }\n\n  function setFetcherError(key: string, routeId: string, error: any) {\n    let boundaryMatch = findNearestBoundary(state.matches, routeId);\n    deleteFetcher(key);\n    updateState({\n      errors: {\n        [boundaryMatch.route.id]: error,\n      },\n      fetchers: new Map(state.fetchers),\n    });\n  }\n\n  function deleteFetcher(key: string): void {\n    let fetcher = state.fetchers.get(key);\n    // Don't abort the controller if this is a deletion of a fetcher.submit()\n    // in it's loading phase since - we don't want to abort the corresponding\n    // revalidation and want them to complete and land\n    if (\n      fetchControllers.has(key) &&\n      !(fetcher && fetcher.state === \"loading\" && fetchReloadIds.has(key))\n    ) {\n      abortFetcher(key);\n    }\n    fetchLoadMatches.delete(key);\n    fetchReloadIds.delete(key);\n    fetchRedirectIds.delete(key);\n    state.fetchers.delete(key);\n  }\n\n  function abortFetcher(key: string) {\n    let controller = fetchControllers.get(key);\n    invariant(controller, `Expected fetch controller: ${key}`);\n    controller.abort();\n    fetchControllers.delete(key);\n  }\n\n  function markFetchersDone(keys: string[]) {\n    for (let key of keys) {\n      let fetcher = getFetcher(key);\n      let doneFetcher = getDoneFetcher(fetcher.data);\n      state.fetchers.set(key, doneFetcher);\n    }\n  }\n\n  function markFetchRedirectsDone(): boolean {\n    let doneKeys = [];\n    let updatedFetchers = false;\n    for (let key of fetchRedirectIds) {\n      let fetcher = state.fetchers.get(key);\n      invariant(fetcher, `Expected fetcher: ${key}`);\n      if (fetcher.state === \"loading\") {\n        fetchRedirectIds.delete(key);\n        doneKeys.push(key);\n        updatedFetchers = true;\n      }\n    }\n    markFetchersDone(doneKeys);\n    return updatedFetchers;\n  }\n\n  function abortStaleFetchLoads(landedId: number): boolean {\n    let yeetedKeys = [];\n    for (let [key, id] of fetchReloadIds) {\n      if (id < landedId) {\n        let fetcher = state.fetchers.get(key);\n        invariant(fetcher, `Expected fetcher: ${key}`);\n        if (fetcher.state === \"loading\") {\n          abortFetcher(key);\n          fetchReloadIds.delete(key);\n          yeetedKeys.push(key);\n        }\n      }\n    }\n    markFetchersDone(yeetedKeys);\n    return yeetedKeys.length > 0;\n  }\n\n  function getBlocker(key: string, fn: BlockerFunction) {\n    let blocker: Blocker = state.blockers.get(key) || IDLE_BLOCKER;\n\n    if (blockerFunctions.get(key) !== fn) {\n      blockerFunctions.set(key, fn);\n    }\n\n    return blocker;\n  }\n\n  function deleteBlocker(key: string) {\n    state.blockers.delete(key);\n    blockerFunctions.delete(key);\n  }\n\n  // Utility function to update blockers, ensuring valid state transitions\n  function updateBlocker(key: string, newBlocker: Blocker) {\n    let blocker = state.blockers.get(key) || IDLE_BLOCKER;\n\n    // Poor mans state machine :)\n    // https://mermaid.live/edit#pako:eNqVkc9OwzAMxl8l8nnjAYrEtDIOHEBIgwvKJTReGy3_lDpIqO27k6awMG0XcrLlnz87nwdonESogKXXBuE79rq75XZO3-yHds0RJVuv70YrPlUrCEe2HfrORS3rubqZfuhtpg5C9wk5tZ4VKcRUq88q9Z8RS0-48cE1iHJkL0ugbHuFLus9L6spZy8nX9MP2CNdomVaposqu3fGayT8T8-jJQwhepo_UtpgBQaDEUom04dZhAN1aJBDlUKJBxE1ceB2Smj0Mln-IBW5AFU2dwUiktt_2Qaq2dBfaKdEup85UV7Yd-dKjlnkabl2Pvr0DTkTreM\n    invariant(\n      (blocker.state === \"unblocked\" && newBlocker.state === \"blocked\") ||\n        (blocker.state === \"blocked\" && newBlocker.state === \"blocked\") ||\n        (blocker.state === \"blocked\" && newBlocker.state === \"proceeding\") ||\n        (blocker.state === \"blocked\" && newBlocker.state === \"unblocked\") ||\n        (blocker.state === \"proceeding\" && newBlocker.state === \"unblocked\"),\n      `Invalid blocker state transition: ${blocker.state} -> ${newBlocker.state}`\n    );\n\n    let blockers = new Map(state.blockers);\n    blockers.set(key, newBlocker);\n    updateState({ blockers });\n  }\n\n  function shouldBlockNavigation({\n    currentLocation,\n    nextLocation,\n    historyAction,\n  }: {\n    currentLocation: Location;\n    nextLocation: Location;\n    historyAction: HistoryAction;\n  }): string | undefined {\n    if (blockerFunctions.size === 0) {\n      return;\n    }\n\n    // We ony support a single active blocker at the moment since we don't have\n    // any compelling use cases for multi-blocker yet\n    if (blockerFunctions.size > 1) {\n      warning(false, \"A router only supports one blocker at a time\");\n    }\n\n    let entries = Array.from(blockerFunctions.entries());\n    let [blockerKey, blockerFunction] = entries[entries.length - 1];\n    let blocker = state.blockers.get(blockerKey);\n\n    if (blocker && blocker.state === \"proceeding\") {\n      // If the blocker is currently proceeding, we don't need to re-check\n      // it and can let this navigation continue\n      return;\n    }\n\n    // At this point, we know we're unblocked/blocked so we need to check the\n    // user-provided blocker function\n    if (blockerFunction({ currentLocation, nextLocation, historyAction })) {\n      return blockerKey;\n    }\n  }\n\n  function cancelActiveDeferreds(\n    predicate?: (routeId: string) => boolean\n  ): string[] {\n    let cancelledRouteIds: string[] = [];\n    activeDeferreds.forEach((dfd, routeId) => {\n      if (!predicate || predicate(routeId)) {\n        // Cancel the deferred - but do not remove from activeDeferreds here -\n        // we rely on the subscribers to do that so our tests can assert proper\n        // cleanup via _internalActiveDeferreds\n        dfd.cancel();\n        cancelledRouteIds.push(routeId);\n        activeDeferreds.delete(routeId);\n      }\n    });\n    return cancelledRouteIds;\n  }\n\n  // Opt in to capturing and reporting scroll positions during navigations,\n  // used by the <ScrollRestoration> component\n  function enableScrollRestoration(\n    positions: Record<string, number>,\n    getPosition: GetScrollPositionFunction,\n    getKey?: GetScrollRestorationKeyFunction\n  ) {\n    savedScrollPositions = positions;\n    getScrollPosition = getPosition;\n    getScrollRestorationKey = getKey || null;\n\n    // Perform initial hydration scroll restoration, since we miss the boat on\n    // the initial updateState() because we've not yet rendered <ScrollRestoration/>\n    // and therefore have no savedScrollPositions available\n    if (!initialScrollRestored && state.navigation === IDLE_NAVIGATION) {\n      initialScrollRestored = true;\n      let y = getSavedScrollPosition(state.location, state.matches);\n      if (y != null) {\n        updateState({ restoreScrollPosition: y });\n      }\n    }\n\n    return () => {\n      savedScrollPositions = null;\n      getScrollPosition = null;\n      getScrollRestorationKey = null;\n    };\n  }\n\n  function getScrollKey(location: Location, matches: AgnosticDataRouteMatch[]) {\n    if (getScrollRestorationKey) {\n      let key = getScrollRestorationKey(\n        location,\n        matches.map((m) => createUseMatchesMatch(m, state.loaderData))\n      );\n      return key || location.key;\n    }\n    return location.key;\n  }\n\n  function saveScrollPosition(\n    location: Location,\n    matches: AgnosticDataRouteMatch[]\n  ): void {\n    if (savedScrollPositions && getScrollPosition) {\n      let key = getScrollKey(location, matches);\n      savedScrollPositions[key] = getScrollPosition();\n    }\n  }\n\n  function getSavedScrollPosition(\n    location: Location,\n    matches: AgnosticDataRouteMatch[]\n  ): number | null {\n    if (savedScrollPositions) {\n      let key = getScrollKey(location, matches);\n      let y = savedScrollPositions[key];\n      if (typeof y === \"number\") {\n        return y;\n      }\n    }\n    return null;\n  }\n\n  function _internalSetRoutes(newRoutes: AgnosticDataRouteObject[]) {\n    manifest = {};\n    inFlightDataRoutes = convertRoutesToDataRoutes(\n      newRoutes,\n      mapRouteProperties,\n      undefined,\n      manifest\n    );\n  }\n\n  router = {\n    get basename() {\n      return basename;\n    },\n    get state() {\n      return state;\n    },\n    get routes() {\n      return dataRoutes;\n    },\n    initialize,\n    subscribe,\n    enableScrollRestoration,\n    navigate,\n    fetch,\n    revalidate,\n    // Passthrough to history-aware createHref used by useHref so we get proper\n    // hash-aware URLs in DOM paths\n    createHref: (to: To) => init.history.createHref(to),\n    encodeLocation: (to: To) => init.history.encodeLocation(to),\n    getFetcher,\n    deleteFetcher,\n    dispose,\n    getBlocker,\n    deleteBlocker,\n    _internalFetchControllers: fetchControllers,\n    _internalActiveDeferreds: activeDeferreds,\n    // TODO: Remove setRoutes, it's temporary to avoid dealing with\n    // updating the tree while validating the update algorithm.\n    _internalSetRoutes,\n  };\n\n  return router;\n}\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region createStaticHandler\n////////////////////////////////////////////////////////////////////////////////\n\nexport const UNSAFE_DEFERRED_SYMBOL = Symbol(\"deferred\");\n\nexport interface CreateStaticHandlerOptions {\n  basename?: string;\n  /**\n   * @deprecated Use `mapRouteProperties` instead\n   */\n  detectErrorBoundary?: DetectErrorBoundaryFunction;\n  mapRouteProperties?: MapRoutePropertiesFunction;\n}\n\nexport function createStaticHandler(\n  routes: AgnosticRouteObject[],\n  opts?: CreateStaticHandlerOptions\n): StaticHandler {\n  invariant(\n    routes.length > 0,\n    \"You must provide a non-empty routes array to createStaticHandler\"\n  );\n\n  let manifest: RouteManifest = {};\n  let basename = (opts ? opts.basename : null) || \"/\";\n  let mapRouteProperties: MapRoutePropertiesFunction;\n  if (opts?.mapRouteProperties) {\n    mapRouteProperties = opts.mapRouteProperties;\n  } else if (opts?.detectErrorBoundary) {\n    // If they are still using the deprecated version, wrap it with the new API\n    let detectErrorBoundary = opts.detectErrorBoundary;\n    mapRouteProperties = (route) => ({\n      hasErrorBoundary: detectErrorBoundary(route),\n    });\n  } else {\n    mapRouteProperties = defaultMapRouteProperties;\n  }\n\n  let dataRoutes = convertRoutesToDataRoutes(\n    routes,\n    mapRouteProperties,\n    undefined,\n    manifest\n  );\n\n  /**\n   * The query() method is intended for document requests, in which we want to\n   * call an optional action and potentially multiple loaders for all nested\n   * routes.  It returns a StaticHandlerContext object, which is very similar\n   * to the router state (location, loaderData, actionData, errors, etc.) and\n   * also adds SSR-specific information such as the statusCode and headers\n   * from action/loaders Responses.\n   *\n   * It _should_ never throw and should report all errors through the\n   * returned context.errors object, properly associating errors to their error\n   * boundary.  Additionally, it tracks _deepestRenderedBoundaryId which can be\n   * used to emulate React error boundaries during SSr by performing a second\n   * pass only down to the boundaryId.\n   *\n   * The one exception where we do not return a StaticHandlerContext is when a\n   * redirect response is returned or thrown from any action/loader.  We\n   * propagate that out and return the raw Response so the HTTP server can\n   * return it directly.\n   */\n  async function query(\n    request: Request,\n    { requestContext }: { requestContext?: unknown } = {}\n  ): Promise<StaticHandlerContext | Response> {\n    let url = new URL(request.url);\n    let method = request.method;\n    let location = createLocation(\"\", createPath(url), null, \"default\");\n    let matches = matchRoutes(dataRoutes, location, basename);\n\n    // SSR supports HEAD requests while SPA doesn't\n    if (!isValidMethod(method) && method !== \"HEAD\") {\n      let error = getInternalRouterError(405, { method });\n      let { matches: methodNotAllowedMatches, route } =\n        getShortCircuitMatches(dataRoutes);\n      return {\n        basename,\n        location,\n        matches: methodNotAllowedMatches,\n        loaderData: {},\n        actionData: null,\n        errors: {\n          [route.id]: error,\n        },\n        statusCode: error.status,\n        loaderHeaders: {},\n        actionHeaders: {},\n        activeDeferreds: null,\n      };\n    } else if (!matches) {\n      let error = getInternalRouterError(404, { pathname: location.pathname });\n      let { matches: notFoundMatches, route } =\n        getShortCircuitMatches(dataRoutes);\n      return {\n        basename,\n        location,\n        matches: notFoundMatches,\n        loaderData: {},\n        actionData: null,\n        errors: {\n          [route.id]: error,\n        },\n        statusCode: error.status,\n        loaderHeaders: {},\n        actionHeaders: {},\n        activeDeferreds: null,\n      };\n    }\n\n    let result = await queryImpl(request, location, matches, requestContext);\n    if (isResponse(result)) {\n      return result;\n    }\n\n    // When returning StaticHandlerContext, we patch back in the location here\n    // since we need it for React Context.  But this helps keep our submit and\n    // loadRouteData operating on a Request instead of a Location\n    return { location, basename, ...result };\n  }\n\n  /**\n   * The queryRoute() method is intended for targeted route requests, either\n   * for fetch ?_data requests or resource route requests.  In this case, we\n   * are only ever calling a single action or loader, and we are returning the\n   * returned value directly.  In most cases, this will be a Response returned\n   * from the action/loader, but it may be a primitive or other value as well -\n   * and in such cases the calling context should handle that accordingly.\n   *\n   * We do respect the throw/return differentiation, so if an action/loader\n   * throws, then this method will throw the value.  This is important so we\n   * can do proper boundary identification in Remix where a thrown Response\n   * must go to the Catch Boundary but a returned Response is happy-path.\n   *\n   * One thing to note is that any Router-initiated Errors that make sense\n   * to associate with a status code will be thrown as an ErrorResponse\n   * instance which include the raw Error, such that the calling context can\n   * serialize the error as they see fit while including the proper response\n   * code.  Examples here are 404 and 405 errors that occur prior to reaching\n   * any user-defined loaders.\n   */\n  async function queryRoute(\n    request: Request,\n    {\n      routeId,\n      requestContext,\n    }: { requestContext?: unknown; routeId?: string } = {}\n  ): Promise<any> {\n    let url = new URL(request.url);\n    let method = request.method;\n    let location = createLocation(\"\", createPath(url), null, \"default\");\n    let matches = matchRoutes(dataRoutes, location, basename);\n\n    // SSR supports HEAD requests while SPA doesn't\n    if (!isValidMethod(method) && method !== \"HEAD\" && method !== \"OPTIONS\") {\n      throw getInternalRouterError(405, { method });\n    } else if (!matches) {\n      throw getInternalRouterError(404, { pathname: location.pathname });\n    }\n\n    let match = routeId\n      ? matches.find((m) => m.route.id === routeId)\n      : getTargetMatch(matches, location);\n\n    if (routeId && !match) {\n      throw getInternalRouterError(403, {\n        pathname: location.pathname,\n        routeId,\n      });\n    } else if (!match) {\n      // This should never hit I don't think?\n      throw getInternalRouterError(404, { pathname: location.pathname });\n    }\n\n    let result = await queryImpl(\n      request,\n      location,\n      matches,\n      requestContext,\n      match\n    );\n    if (isResponse(result)) {\n      return result;\n    }\n\n    let error = result.errors ? Object.values(result.errors)[0] : undefined;\n    if (error !== undefined) {\n      // If we got back result.errors, that means the loader/action threw\n      // _something_ that wasn't a Response, but it's not guaranteed/required\n      // to be an `instanceof Error` either, so we have to use throw here to\n      // preserve the \"error\" state outside of queryImpl.\n      throw error;\n    }\n\n    // Pick off the right state value to return\n    if (result.actionData) {\n      return Object.values(result.actionData)[0];\n    }\n\n    if (result.loaderData) {\n      let data = Object.values(result.loaderData)[0];\n      if (result.activeDeferreds?.[match.route.id]) {\n        data[UNSAFE_DEFERRED_SYMBOL] = result.activeDeferreds[match.route.id];\n      }\n      return data;\n    }\n\n    return undefined;\n  }\n\n  async function queryImpl(\n    request: Request,\n    location: Location,\n    matches: AgnosticDataRouteMatch[],\n    requestContext: unknown,\n    routeMatch?: AgnosticDataRouteMatch\n  ): Promise<Omit<StaticHandlerContext, \"location\" | \"basename\"> | Response> {\n    invariant(\n      request.signal,\n      \"query()/queryRoute() requests must contain an AbortController signal\"\n    );\n\n    try {\n      if (isMutationMethod(request.method.toLowerCase())) {\n        let result = await submit(\n          request,\n          matches,\n          routeMatch || getTargetMatch(matches, location),\n          requestContext,\n          routeMatch != null\n        );\n        return result;\n      }\n\n      let result = await loadRouteData(\n        request,\n        matches,\n        requestContext,\n        routeMatch\n      );\n      return isResponse(result)\n        ? result\n        : {\n            ...result,\n            actionData: null,\n            actionHeaders: {},\n          };\n    } catch (e) {\n      // If the user threw/returned a Response in callLoaderOrAction, we throw\n      // it to bail out and then return or throw here based on whether the user\n      // returned or threw\n      if (isQueryRouteResponse(e)) {\n        if (e.type === ResultType.error) {\n          throw e.response;\n        }\n        return e.response;\n      }\n      // Redirects are always returned since they don't propagate to catch\n      // boundaries\n      if (isRedirectResponse(e)) {\n        return e;\n      }\n      throw e;\n    }\n  }\n\n  async function submit(\n    request: Request,\n    matches: AgnosticDataRouteMatch[],\n    actionMatch: AgnosticDataRouteMatch,\n    requestContext: unknown,\n    isRouteRequest: boolean\n  ): Promise<Omit<StaticHandlerContext, \"location\" | \"basename\"> | Response> {\n    let result: DataResult;\n\n    if (!actionMatch.route.action && !actionMatch.route.lazy) {\n      let error = getInternalRouterError(405, {\n        method: request.method,\n        pathname: new URL(request.url).pathname,\n        routeId: actionMatch.route.id,\n      });\n      if (isRouteRequest) {\n        throw error;\n      }\n      result = {\n        type: ResultType.error,\n        error,\n      };\n    } else {\n      result = await callLoaderOrAction(\n        \"action\",\n        request,\n        actionMatch,\n        matches,\n        manifest,\n        mapRouteProperties,\n        basename,\n        { isStaticRequest: true, isRouteRequest, requestContext }\n      );\n\n      if (request.signal.aborted) {\n        let method = isRouteRequest ? \"queryRoute\" : \"query\";\n        throw new Error(`${method}() call aborted`);\n      }\n    }\n\n    if (isRedirectResult(result)) {\n      // Uhhhh - this should never happen, we should always throw these from\n      // callLoaderOrAction, but the type narrowing here keeps TS happy and we\n      // can get back on the \"throw all redirect responses\" train here should\n      // this ever happen :/\n      throw new Response(null, {\n        status: result.status,\n        headers: {\n          Location: result.location,\n        },\n      });\n    }\n\n    if (isDeferredResult(result)) {\n      let error = getInternalRouterError(400, { type: \"defer-action\" });\n      if (isRouteRequest) {\n        throw error;\n      }\n      result = {\n        type: ResultType.error,\n        error,\n      };\n    }\n\n    if (isRouteRequest) {\n      // Note: This should only be non-Response values if we get here, since\n      // isRouteRequest should throw any Response received in callLoaderOrAction\n      if (isErrorResult(result)) {\n        throw result.error;\n      }\n\n      return {\n        matches: [actionMatch],\n        loaderData: {},\n        actionData: { [actionMatch.route.id]: result.data },\n        errors: null,\n        // Note: statusCode + headers are unused here since queryRoute will\n        // return the raw Response or value\n        statusCode: 200,\n        loaderHeaders: {},\n        actionHeaders: {},\n        activeDeferreds: null,\n      };\n    }\n\n    if (isErrorResult(result)) {\n      // Store off the pending error - we use it to determine which loaders\n      // to call and will commit it when we complete the navigation\n      let boundaryMatch = findNearestBoundary(matches, actionMatch.route.id);\n      let context = await loadRouteData(\n        request,\n        matches,\n        requestContext,\n        undefined,\n        {\n          [boundaryMatch.route.id]: result.error,\n        }\n      );\n\n      // action status codes take precedence over loader status codes\n      return {\n        ...context,\n        statusCode: isRouteErrorResponse(result.error)\n          ? result.error.status\n          : 500,\n        actionData: null,\n        actionHeaders: {\n          ...(result.headers ? { [actionMatch.route.id]: result.headers } : {}),\n        },\n      };\n    }\n\n    // Create a GET request for the loaders\n    let loaderRequest = new Request(request.url, {\n      headers: request.headers,\n      redirect: request.redirect,\n      signal: request.signal,\n    });\n    let context = await loadRouteData(loaderRequest, matches, requestContext);\n\n    return {\n      ...context,\n      // action status codes take precedence over loader status codes\n      ...(result.statusCode ? { statusCode: result.statusCode } : {}),\n      actionData: {\n        [actionMatch.route.id]: result.data,\n      },\n      actionHeaders: {\n        ...(result.headers ? { [actionMatch.route.id]: result.headers } : {}),\n      },\n    };\n  }\n\n  async function loadRouteData(\n    request: Request,\n    matches: AgnosticDataRouteMatch[],\n    requestContext: unknown,\n    routeMatch?: AgnosticDataRouteMatch,\n    pendingActionError?: RouteData\n  ): Promise<\n    | Omit<\n        StaticHandlerContext,\n        \"location\" | \"basename\" | \"actionData\" | \"actionHeaders\"\n      >\n    | Response\n  > {\n    let isRouteRequest = routeMatch != null;\n\n    // Short circuit if we have no loaders to run (queryRoute())\n    if (\n      isRouteRequest &&\n      !routeMatch?.route.loader &&\n      !routeMatch?.route.lazy\n    ) {\n      throw getInternalRouterError(400, {\n        method: request.method,\n        pathname: new URL(request.url).pathname,\n        routeId: routeMatch?.route.id,\n      });\n    }\n\n    let requestMatches = routeMatch\n      ? [routeMatch]\n      : getLoaderMatchesUntilBoundary(\n          matches,\n          Object.keys(pendingActionError || {})[0]\n        );\n    let matchesToLoad = requestMatches.filter(\n      (m) => m.route.loader || m.route.lazy\n    );\n\n    // Short circuit if we have no loaders to run (query())\n    if (matchesToLoad.length === 0) {\n      return {\n        matches,\n        // Add a null for all matched routes for proper revalidation on the client\n        loaderData: matches.reduce(\n          (acc, m) => Object.assign(acc, { [m.route.id]: null }),\n          {}\n        ),\n        errors: pendingActionError || null,\n        statusCode: 200,\n        loaderHeaders: {},\n        activeDeferreds: null,\n      };\n    }\n\n    let results = await Promise.all([\n      ...matchesToLoad.map((match) =>\n        callLoaderOrAction(\n          \"loader\",\n          request,\n          match,\n          matches,\n          manifest,\n          mapRouteProperties,\n          basename,\n          { isStaticRequest: true, isRouteRequest, requestContext }\n        )\n      ),\n    ]);\n\n    if (request.signal.aborted) {\n      let method = isRouteRequest ? \"queryRoute\" : \"query\";\n      throw new Error(`${method}() call aborted`);\n    }\n\n    // Process and commit output from loaders\n    let activeDeferreds = new Map<string, DeferredData>();\n    let context = processRouteLoaderData(\n      matches,\n      matchesToLoad,\n      results,\n      pendingActionError,\n      activeDeferreds\n    );\n\n    // Add a null for any non-loader matches for proper revalidation on the client\n    let executedLoaders = new Set<string>(\n      matchesToLoad.map((match) => match.route.id)\n    );\n    matches.forEach((match) => {\n      if (!executedLoaders.has(match.route.id)) {\n        context.loaderData[match.route.id] = null;\n      }\n    });\n\n    return {\n      ...context,\n      matches,\n      activeDeferreds:\n        activeDeferreds.size > 0\n          ? Object.fromEntries(activeDeferreds.entries())\n          : null,\n    };\n  }\n\n  return {\n    dataRoutes,\n    query,\n    queryRoute,\n  };\n}\n\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Helpers\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * Given an existing StaticHandlerContext and an error thrown at render time,\n * provide an updated StaticHandlerContext suitable for a second SSR render\n */\nexport function getStaticContextFromError(\n  routes: AgnosticDataRouteObject[],\n  context: StaticHandlerContext,\n  error: any\n) {\n  let newContext: StaticHandlerContext = {\n    ...context,\n    statusCode: 500,\n    errors: {\n      [context._deepestRenderedBoundaryId || routes[0].id]: error,\n    },\n  };\n  return newContext;\n}\n\nfunction isSubmissionNavigation(\n  opts: RouterNavigateOptions\n): opts is SubmissionNavigateOptions {\n  return (\n    opts != null &&\n    ((\"formData\" in opts && opts.formData != null) ||\n      (\"body\" in opts && opts.body !== undefined))\n  );\n}\n\nfunction normalizeTo(\n  location: Path,\n  matches: AgnosticDataRouteMatch[],\n  basename: string,\n  prependBasename: boolean,\n  to: To | null,\n  fromRouteId?: string,\n  relative?: RelativeRoutingType\n) {\n  let contextualMatches: AgnosticDataRouteMatch[];\n  let activeRouteMatch: AgnosticDataRouteMatch | undefined;\n  if (fromRouteId != null && relative !== \"path\") {\n    // Grab matches up to the calling route so our route-relative logic is\n    // relative to the correct source route.  When using relative:path,\n    // fromRouteId is ignored since that is always relative to the current\n    // location path\n    contextualMatches = [];\n    for (let match of matches) {\n      contextualMatches.push(match);\n      if (match.route.id === fromRouteId) {\n        activeRouteMatch = match;\n        break;\n      }\n    }\n  } else {\n    contextualMatches = matches;\n    activeRouteMatch = matches[matches.length - 1];\n  }\n\n  // Resolve the relative path\n  let path = resolveTo(\n    to ? to : \".\",\n    getPathContributingMatches(contextualMatches).map((m) => m.pathnameBase),\n    stripBasename(location.pathname, basename) || location.pathname,\n    relative === \"path\"\n  );\n\n  // When `to` is not specified we inherit search/hash from the current\n  // location, unlike when to=\".\" and we just inherit the path.\n  // See https://github.com/remix-run/remix/issues/927\n  if (to == null) {\n    path.search = location.search;\n    path.hash = location.hash;\n  }\n\n  // Add an ?index param for matched index routes if we don't already have one\n  if (\n    (to == null || to === \"\" || to === \".\") &&\n    activeRouteMatch &&\n    activeRouteMatch.route.index &&\n    !hasNakedIndexQuery(path.search)\n  ) {\n    path.search = path.search\n      ? path.search.replace(/^\\?/, \"?index&\")\n      : \"?index\";\n  }\n\n  // If we're operating within a basename, prepend it to the pathname.  If\n  // this is a root navigation, then just use the raw basename which allows\n  // the basename to have full control over the presence of a trailing slash\n  // on root actions\n  if (prependBasename && basename !== \"/\") {\n    path.pathname =\n      path.pathname === \"/\" ? basename : joinPaths([basename, path.pathname]);\n  }\n\n  return createPath(path);\n}\n\n// Normalize navigation options by converting formMethod=GET formData objects to\n// URLSearchParams so they behave identically to links with query params\nfunction normalizeNavigateOptions(\n  normalizeFormMethod: boolean,\n  isFetcher: boolean,\n  path: string,\n  opts?: RouterNavigateOptions\n): {\n  path: string;\n  submission?: Submission;\n  error?: ErrorResponse;\n} {\n  // Return location verbatim on non-submission navigations\n  if (!opts || !isSubmissionNavigation(opts)) {\n    return { path };\n  }\n\n  if (opts.formMethod && !isValidMethod(opts.formMethod)) {\n    return {\n      path,\n      error: getInternalRouterError(405, { method: opts.formMethod }),\n    };\n  }\n\n  let getInvalidBodyError = () => ({\n    path,\n    error: getInternalRouterError(400, { type: \"invalid-body\" }),\n  });\n\n  // Create a Submission on non-GET navigations\n  let rawFormMethod = opts.formMethod || \"get\";\n  let formMethod = normalizeFormMethod\n    ? (rawFormMethod.toUpperCase() as V7_FormMethod)\n    : (rawFormMethod.toLowerCase() as FormMethod);\n  let formAction = stripHashFromPath(path);\n\n  if (opts.body !== undefined) {\n    if (opts.formEncType === \"text/plain\") {\n      // text only support POST/PUT/PATCH/DELETE submissions\n      if (!isMutationMethod(formMethod)) {\n        return getInvalidBodyError();\n      }\n\n      let text =\n        typeof opts.body === \"string\"\n          ? opts.body\n          : opts.body instanceof FormData ||\n            opts.body instanceof URLSearchParams\n          ? // https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#plain-text-form-data\n            Array.from(opts.body.entries()).reduce(\n              (acc, [name, value]) => `${acc}${name}=${value}\\n`,\n              \"\"\n            )\n          : String(opts.body);\n\n      return {\n        path,\n        submission: {\n          formMethod,\n          formAction,\n          formEncType: opts.formEncType,\n          formData: undefined,\n          json: undefined,\n          text,\n        },\n      };\n    } else if (opts.formEncType === \"application/json\") {\n      // json only supports POST/PUT/PATCH/DELETE submissions\n      if (!isMutationMethod(formMethod)) {\n        return getInvalidBodyError();\n      }\n\n      try {\n        let json =\n          typeof opts.body === \"string\" ? JSON.parse(opts.body) : opts.body;\n\n        return {\n          path,\n          submission: {\n            formMethod,\n            formAction,\n            formEncType: opts.formEncType,\n            formData: undefined,\n            json,\n            text: undefined,\n          },\n        };\n      } catch (e) {\n        return getInvalidBodyError();\n      }\n    }\n  }\n\n  invariant(\n    typeof FormData === \"function\",\n    \"FormData is not available in this environment\"\n  );\n\n  let searchParams: URLSearchParams;\n  let formData: FormData;\n\n  if (opts.formData) {\n    searchParams = convertFormDataToSearchParams(opts.formData);\n    formData = opts.formData;\n  } else if (opts.body instanceof FormData) {\n    searchParams = convertFormDataToSearchParams(opts.body);\n    formData = opts.body;\n  } else if (opts.body instanceof URLSearchParams) {\n    searchParams = opts.body;\n    formData = convertSearchParamsToFormData(searchParams);\n  } else if (opts.body == null) {\n    searchParams = new URLSearchParams();\n    formData = new FormData();\n  } else {\n    try {\n      searchParams = new URLSearchParams(opts.body);\n      formData = convertSearchParamsToFormData(searchParams);\n    } catch (e) {\n      return getInvalidBodyError();\n    }\n  }\n\n  let submission: Submission = {\n    formMethod,\n    formAction,\n    formEncType:\n      (opts && opts.formEncType) || \"application/x-www-form-urlencoded\",\n    formData,\n    json: undefined,\n    text: undefined,\n  };\n\n  if (isMutationMethod(submission.formMethod)) {\n    return { path, submission };\n  }\n\n  // Flatten submission onto URLSearchParams for GET submissions\n  let parsedPath = parsePath(path);\n  // On GET navigation submissions we can drop the ?index param from the\n  // resulting location since all loaders will run.  But fetcher GET submissions\n  // only run a single loader so we need to preserve any incoming ?index params\n  if (isFetcher && parsedPath.search && hasNakedIndexQuery(parsedPath.search)) {\n    searchParams.append(\"index\", \"\");\n  }\n  parsedPath.search = `?${searchParams}`;\n\n  return { path: createPath(parsedPath), submission };\n}\n\n// Filter out all routes below any caught error as they aren't going to\n// render so we don't need to load them\nfunction getLoaderMatchesUntilBoundary(\n  matches: AgnosticDataRouteMatch[],\n  boundaryId?: string\n) {\n  let boundaryMatches = matches;\n  if (boundaryId) {\n    let index = matches.findIndex((m) => m.route.id === boundaryId);\n    if (index >= 0) {\n      boundaryMatches = matches.slice(0, index);\n    }\n  }\n  return boundaryMatches;\n}\n\nfunction getMatchesToLoad(\n  history: History,\n  state: RouterState,\n  matches: AgnosticDataRouteMatch[],\n  submission: Submission | undefined,\n  location: Location,\n  isRevalidationRequired: boolean,\n  cancelledDeferredRoutes: string[],\n  cancelledFetcherLoads: string[],\n  fetchLoadMatches: Map<string, FetchLoadMatch>,\n  fetchRedirectIds: Set<string>,\n  routesToUse: AgnosticDataRouteObject[],\n  basename: string | undefined,\n  pendingActionData?: RouteData,\n  pendingError?: RouteData\n): [AgnosticDataRouteMatch[], RevalidatingFetcher[]] {\n  let actionResult = pendingError\n    ? Object.values(pendingError)[0]\n    : pendingActionData\n    ? Object.values(pendingActionData)[0]\n    : undefined;\n\n  let currentUrl = history.createURL(state.location);\n  let nextUrl = history.createURL(location);\n\n  // Pick navigation matches that are net-new or qualify for revalidation\n  let boundaryId = pendingError ? Object.keys(pendingError)[0] : undefined;\n  let boundaryMatches = getLoaderMatchesUntilBoundary(matches, boundaryId);\n\n  let navigationMatches = boundaryMatches.filter((match, index) => {\n    if (match.route.lazy) {\n      // We haven't loaded this route yet so we don't know if it's got a loader!\n      return true;\n    }\n    if (match.route.loader == null) {\n      return false;\n    }\n\n    // Always call the loader on new route instances and pending defer cancellations\n    if (\n      isNewLoader(state.loaderData, state.matches[index], match) ||\n      cancelledDeferredRoutes.some((id) => id === match.route.id)\n    ) {\n      return true;\n    }\n\n    // This is the default implementation for when we revalidate.  If the route\n    // provides it's own implementation, then we give them full control but\n    // provide this value so they can leverage it if needed after they check\n    // their own specific use cases\n    let currentRouteMatch = state.matches[index];\n    let nextRouteMatch = match;\n\n    return shouldRevalidateLoader(match, {\n      currentUrl,\n      currentParams: currentRouteMatch.params,\n      nextUrl,\n      nextParams: nextRouteMatch.params,\n      ...submission,\n      actionResult,\n      defaultShouldRevalidate:\n        // Forced revalidation due to submission, useRevalidator, or X-Remix-Revalidate\n        isRevalidationRequired ||\n        // Clicked the same link, resubmitted a GET form\n        currentUrl.pathname + currentUrl.search ===\n          nextUrl.pathname + nextUrl.search ||\n        // Search params affect all loaders\n        currentUrl.search !== nextUrl.search ||\n        isNewRouteInstance(currentRouteMatch, nextRouteMatch),\n    });\n  });\n\n  // Pick fetcher.loads that need to be revalidated\n  let revalidatingFetchers: RevalidatingFetcher[] = [];\n  fetchLoadMatches.forEach((f, key) => {\n    // Don't revalidate if fetcher won't be present in the subsequent render\n    if (!matches.some((m) => m.route.id === f.routeId)) {\n      return;\n    }\n\n    let fetcherMatches = matchRoutes(routesToUse, f.path, basename);\n\n    // If the fetcher path no longer matches, push it in with null matches so\n    // we can trigger a 404 in callLoadersAndMaybeResolveData.  Note this is\n    // currently only a use-case for Remix HMR where the route tree can change\n    // at runtime and remove a route previously loaded via a fetcher\n    if (!fetcherMatches) {\n      revalidatingFetchers.push({\n        key,\n        routeId: f.routeId,\n        path: f.path,\n        matches: null,\n        match: null,\n        controller: null,\n      });\n      return;\n    }\n\n    // Revalidating fetchers are decoupled from the route matches since they\n    // load from a static href.  They revalidate based on explicit revalidation\n    // (submission, useRevalidator, or X-Remix-Revalidate)\n    let fetcher = state.fetchers.get(key);\n    let fetcherMatch = getTargetMatch(fetcherMatches, f.path);\n\n    let shouldRevalidate = false;\n    if (fetchRedirectIds.has(key)) {\n      // Never trigger a revalidation of an actively redirecting fetcher\n      shouldRevalidate = false;\n    } else if (cancelledFetcherLoads.includes(key)) {\n      // Always revalidate if the fetcher was cancelled\n      shouldRevalidate = true;\n    } else if (\n      fetcher &&\n      fetcher.state !== \"idle\" &&\n      fetcher.data === undefined\n    ) {\n      // If the fetcher hasn't ever completed loading yet, then this isn't a\n      // revalidation, it would just be a brand new load if an explicit\n      // revalidation is required\n      shouldRevalidate = isRevalidationRequired;\n    } else {\n      // Otherwise fall back on any user-defined shouldRevalidate, defaulting\n      // to explicit revalidations only\n      shouldRevalidate = shouldRevalidateLoader(fetcherMatch, {\n        currentUrl,\n        currentParams: state.matches[state.matches.length - 1].params,\n        nextUrl,\n        nextParams: matches[matches.length - 1].params,\n        ...submission,\n        actionResult,\n        defaultShouldRevalidate: isRevalidationRequired,\n      });\n    }\n\n    if (shouldRevalidate) {\n      revalidatingFetchers.push({\n        key,\n        routeId: f.routeId,\n        path: f.path,\n        matches: fetcherMatches,\n        match: fetcherMatch,\n        controller: new AbortController(),\n      });\n    }\n  });\n\n  return [navigationMatches, revalidatingFetchers];\n}\n\nfunction isNewLoader(\n  currentLoaderData: RouteData,\n  currentMatch: AgnosticDataRouteMatch,\n  match: AgnosticDataRouteMatch\n) {\n  let isNew =\n    // [a] -> [a, b]\n    !currentMatch ||\n    // [a, b] -> [a, c]\n    match.route.id !== currentMatch.route.id;\n\n  // Handle the case that we don't have data for a re-used route, potentially\n  // from a prior error or from a cancelled pending deferred\n  let isMissingData = currentLoaderData[match.route.id] === undefined;\n\n  // Always load if this is a net-new route or we don't yet have data\n  return isNew || isMissingData;\n}\n\nfunction isNewRouteInstance(\n  currentMatch: AgnosticDataRouteMatch,\n  match: AgnosticDataRouteMatch\n) {\n  let currentPath = currentMatch.route.path;\n  return (\n    // param change for this match, /users/123 -> /users/456\n    currentMatch.pathname !== match.pathname ||\n    // splat param changed, which is not present in match.path\n    // e.g. /files/images/avatar.jpg -> files/finances.xls\n    (currentPath != null &&\n      currentPath.endsWith(\"*\") &&\n      currentMatch.params[\"*\"] !== match.params[\"*\"])\n  );\n}\n\nfunction shouldRevalidateLoader(\n  loaderMatch: AgnosticDataRouteMatch,\n  arg: Parameters<ShouldRevalidateFunction>[0]\n) {\n  if (loaderMatch.route.shouldRevalidate) {\n    let routeChoice = loaderMatch.route.shouldRevalidate(arg);\n    if (typeof routeChoice === \"boolean\") {\n      return routeChoice;\n    }\n  }\n\n  return arg.defaultShouldRevalidate;\n}\n\n/**\n * Execute route.lazy() methods to lazily load route modules (loader, action,\n * shouldRevalidate) and update the routeManifest in place which shares objects\n * with dataRoutes so those get updated as well.\n */\nasync function loadLazyRouteModule(\n  route: AgnosticDataRouteObject,\n  mapRouteProperties: MapRoutePropertiesFunction,\n  manifest: RouteManifest\n) {\n  if (!route.lazy) {\n    return;\n  }\n\n  let lazyRoute = await route.lazy();\n\n  // If the lazy route function was executed and removed by another parallel\n  // call then we can return - first lazy() to finish wins because the return\n  // value of lazy is expected to be static\n  if (!route.lazy) {\n    return;\n  }\n\n  let routeToUpdate = manifest[route.id];\n  invariant(routeToUpdate, \"No route found in manifest\");\n\n  // Update the route in place.  This should be safe because there's no way\n  // we could yet be sitting on this route as we can't get there without\n  // resolving lazy() first.\n  //\n  // This is different than the HMR \"update\" use-case where we may actively be\n  // on the route being updated.  The main concern boils down to \"does this\n  // mutation affect any ongoing navigations or any current state.matches\n  // values?\".  If not, it should be safe to update in place.\n  let routeUpdates: Record<string, any> = {};\n  for (let lazyRouteProperty in lazyRoute) {\n    let staticRouteValue =\n      routeToUpdate[lazyRouteProperty as keyof typeof routeToUpdate];\n\n    let isPropertyStaticallyDefined =\n      staticRouteValue !== undefined &&\n      // This property isn't static since it should always be updated based\n      // on the route updates\n      lazyRouteProperty !== \"hasErrorBoundary\";\n\n    warning(\n      !isPropertyStaticallyDefined,\n      `Route \"${routeToUpdate.id}\" has a static property \"${lazyRouteProperty}\" ` +\n        `defined but its lazy function is also returning a value for this property. ` +\n        `The lazy route property \"${lazyRouteProperty}\" will be ignored.`\n    );\n\n    if (\n      !isPropertyStaticallyDefined &&\n      !immutableRouteKeys.has(lazyRouteProperty as ImmutableRouteKey)\n    ) {\n      routeUpdates[lazyRouteProperty] =\n        lazyRoute[lazyRouteProperty as keyof typeof lazyRoute];\n    }\n  }\n\n  // Mutate the route with the provided updates.  Do this first so we pass\n  // the updated version to mapRouteProperties\n  Object.assign(routeToUpdate, routeUpdates);\n\n  // Mutate the `hasErrorBoundary` property on the route based on the route\n  // updates and remove the `lazy` function so we don't resolve the lazy\n  // route again.\n  Object.assign(routeToUpdate, {\n    // To keep things framework agnostic, we use the provided\n    // `mapRouteProperties` (or wrapped `detectErrorBoundary`) function to\n    // set the framework-aware properties (`element`/`hasErrorBoundary`) since\n    // the logic will differ between frameworks.\n    ...mapRouteProperties(routeToUpdate),\n    lazy: undefined,\n  });\n}\n\nasync function callLoaderOrAction(\n  type: \"loader\" | \"action\",\n  request: Request,\n  match: AgnosticDataRouteMatch,\n  matches: AgnosticDataRouteMatch[],\n  manifest: RouteManifest,\n  mapRouteProperties: MapRoutePropertiesFunction,\n  basename: string,\n  opts: {\n    isStaticRequest?: boolean;\n    isRouteRequest?: boolean;\n    requestContext?: unknown;\n  } = {}\n): Promise<DataResult> {\n  let resultType;\n  let result;\n  let onReject: (() => void) | undefined;\n\n  let runHandler = (handler: ActionFunction | LoaderFunction) => {\n    // Setup a promise we can race against so that abort signals short circuit\n    let reject: () => void;\n    let abortPromise = new Promise((_, r) => (reject = r));\n    onReject = () => reject();\n    request.signal.addEventListener(\"abort\", onReject);\n    return Promise.race([\n      handler({\n        request,\n        params: match.params,\n        context: opts.requestContext,\n      }),\n      abortPromise,\n    ]);\n  };\n\n  try {\n    let handler = match.route[type];\n\n    if (match.route.lazy) {\n      if (handler) {\n        // Run statically defined handler in parallel with lazy()\n        let values = await Promise.all([\n          runHandler(handler),\n          loadLazyRouteModule(match.route, mapRouteProperties, manifest),\n        ]);\n        result = values[0];\n      } else {\n        // Load lazy route module, then run any returned handler\n        await loadLazyRouteModule(match.route, mapRouteProperties, manifest);\n\n        handler = match.route[type];\n        if (handler) {\n          // Handler still run even if we got interrupted to maintain consistency\n          // with un-abortable behavior of handler execution on non-lazy or\n          // previously-lazy-loaded routes\n          result = await runHandler(handler);\n        } else if (type === \"action\") {\n          let url = new URL(request.url);\n          let pathname = url.pathname + url.search;\n          throw getInternalRouterError(405, {\n            method: request.method,\n            pathname,\n            routeId: match.route.id,\n          });\n        } else {\n          // lazy() route has no loader to run.  Short circuit here so we don't\n          // hit the invariant below that errors on returning undefined.\n          return { type: ResultType.data, data: undefined };\n        }\n      }\n    } else if (!handler) {\n      let url = new URL(request.url);\n      let pathname = url.pathname + url.search;\n      throw getInternalRouterError(404, {\n        pathname,\n      });\n    } else {\n      result = await runHandler(handler);\n    }\n\n    invariant(\n      result !== undefined,\n      `You defined ${type === \"action\" ? \"an action\" : \"a loader\"} for route ` +\n        `\"${match.route.id}\" but didn't return anything from your \\`${type}\\` ` +\n        `function. Please return a value or \\`null\\`.`\n    );\n  } catch (e) {\n    resultType = ResultType.error;\n    result = e;\n  } finally {\n    if (onReject) {\n      request.signal.removeEventListener(\"abort\", onReject);\n    }\n  }\n\n  if (isResponse(result)) {\n    let status = result.status;\n\n    // Process redirects\n    if (redirectStatusCodes.has(status)) {\n      let location = result.headers.get(\"Location\");\n      invariant(\n        location,\n        \"Redirects returned/thrown from loaders/actions must have a Location header\"\n      );\n\n      // Support relative routing in internal redirects\n      if (!ABSOLUTE_URL_REGEX.test(location)) {\n        location = normalizeTo(\n          new URL(request.url),\n          matches.slice(0, matches.indexOf(match) + 1),\n          basename,\n          true,\n          location\n        );\n      } else if (!opts.isStaticRequest) {\n        // Strip off the protocol+origin for same-origin + same-basename absolute\n        // redirects. If this is a static request, we can let it go back to the\n        // browser as-is\n        let currentUrl = new URL(request.url);\n        let url = location.startsWith(\"//\")\n          ? new URL(currentUrl.protocol + location)\n          : new URL(location);\n        let isSameBasename = stripBasename(url.pathname, basename) != null;\n        if (url.origin === currentUrl.origin && isSameBasename) {\n          location = url.pathname + url.search + url.hash;\n        }\n      }\n\n      // Don't process redirects in the router during static requests requests.\n      // Instead, throw the Response and let the server handle it with an HTTP\n      // redirect.  We also update the Location header in place in this flow so\n      // basename and relative routing is taken into account\n      if (opts.isStaticRequest) {\n        result.headers.set(\"Location\", location);\n        throw result;\n      }\n\n      return {\n        type: ResultType.redirect,\n        status,\n        location,\n        revalidate: result.headers.get(\"X-Remix-Revalidate\") !== null,\n        reloadDocument: result.headers.get(\"X-Remix-Reload-Document\") !== null,\n      };\n    }\n\n    // For SSR single-route requests, we want to hand Responses back directly\n    // without unwrapping.  We do this with the QueryRouteResponse wrapper\n    // interface so we can know whether it was returned or thrown\n    if (opts.isRouteRequest) {\n      let queryRouteResponse: QueryRouteResponse = {\n        type:\n          resultType === ResultType.error ? ResultType.error : ResultType.data,\n        response: result,\n      };\n      throw queryRouteResponse;\n    }\n\n    let data: any;\n    let contentType = result.headers.get(\"Content-Type\");\n    // Check between word boundaries instead of startsWith() due to the last\n    // paragraph of https://httpwg.org/specs/rfc9110.html#field.content-type\n    if (contentType && /\\bapplication\\/json\\b/.test(contentType)) {\n      data = await result.json();\n    } else {\n      data = await result.text();\n    }\n\n    if (resultType === ResultType.error) {\n      return {\n        type: resultType,\n        error: new ErrorResponse(status, result.statusText, data),\n        headers: result.headers,\n      };\n    }\n\n    return {\n      type: ResultType.data,\n      data,\n      statusCode: result.status,\n      headers: result.headers,\n    };\n  }\n\n  if (resultType === ResultType.error) {\n    return { type: resultType, error: result };\n  }\n\n  if (isDeferredData(result)) {\n    return {\n      type: ResultType.deferred,\n      deferredData: result,\n      statusCode: result.init?.status,\n      headers: result.init?.headers && new Headers(result.init.headers),\n    };\n  }\n\n  return { type: ResultType.data, data: result };\n}\n\n// Utility method for creating the Request instances for loaders/actions during\n// client-side navigations and fetches.  During SSR we will always have a\n// Request instance from the static handler (query/queryRoute)\nfunction createClientSideRequest(\n  history: History,\n  location: string | Location,\n  signal: AbortSignal,\n  submission?: Submission\n): Request {\n  let url = history.createURL(stripHashFromPath(location)).toString();\n  let init: RequestInit = { signal };\n\n  if (submission && isMutationMethod(submission.formMethod)) {\n    let { formMethod, formEncType } = submission;\n    // Didn't think we needed this but it turns out unlike other methods, patch\n    // won't be properly normalized to uppercase and results in a 405 error.\n    // See: https://fetch.spec.whatwg.org/#concept-method\n    init.method = formMethod.toUpperCase();\n\n    if (formEncType === \"application/json\") {\n      init.headers = new Headers({ \"Content-Type\": formEncType });\n      init.body = JSON.stringify(submission.json);\n    } else if (formEncType === \"text/plain\") {\n      // Content-Type is inferred (https://fetch.spec.whatwg.org/#dom-request)\n      init.body = submission.text;\n    } else if (\n      formEncType === \"application/x-www-form-urlencoded\" &&\n      submission.formData\n    ) {\n      // Content-Type is inferred (https://fetch.spec.whatwg.org/#dom-request)\n      init.body = convertFormDataToSearchParams(submission.formData);\n    } else {\n      // Content-Type is inferred (https://fetch.spec.whatwg.org/#dom-request)\n      init.body = submission.formData;\n    }\n  }\n\n  return new Request(url, init);\n}\n\nfunction convertFormDataToSearchParams(formData: FormData): URLSearchParams {\n  let searchParams = new URLSearchParams();\n\n  for (let [key, value] of formData.entries()) {\n    // https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#converting-an-entry-list-to-a-list-of-name-value-pairs\n    searchParams.append(key, typeof value === \"string\" ? value : value.name);\n  }\n\n  return searchParams;\n}\n\nfunction convertSearchParamsToFormData(\n  searchParams: URLSearchParams\n): FormData {\n  let formData = new FormData();\n  for (let [key, value] of searchParams.entries()) {\n    formData.append(key, value);\n  }\n  return formData;\n}\n\nfunction processRouteLoaderData(\n  matches: AgnosticDataRouteMatch[],\n  matchesToLoad: AgnosticDataRouteMatch[],\n  results: DataResult[],\n  pendingError: RouteData | undefined,\n  activeDeferreds: Map<string, DeferredData>\n): {\n  loaderData: RouterState[\"loaderData\"];\n  errors: RouterState[\"errors\"] | null;\n  statusCode: number;\n  loaderHeaders: Record<string, Headers>;\n} {\n  // Fill in loaderData/errors from our loaders\n  let loaderData: RouterState[\"loaderData\"] = {};\n  let errors: RouterState[\"errors\"] | null = null;\n  let statusCode: number | undefined;\n  let foundError = false;\n  let loaderHeaders: Record<string, Headers> = {};\n\n  // Process loader results into state.loaderData/state.errors\n  results.forEach((result, index) => {\n    let id = matchesToLoad[index].route.id;\n    invariant(\n      !isRedirectResult(result),\n      \"Cannot handle redirect results in processLoaderData\"\n    );\n    if (isErrorResult(result)) {\n      // Look upwards from the matched route for the closest ancestor\n      // error boundary, defaulting to the root match\n      let boundaryMatch = findNearestBoundary(matches, id);\n      let error = result.error;\n      // If we have a pending action error, we report it at the highest-route\n      // that throws a loader error, and then clear it out to indicate that\n      // it was consumed\n      if (pendingError) {\n        error = Object.values(pendingError)[0];\n        pendingError = undefined;\n      }\n\n      errors = errors || {};\n\n      // Prefer higher error values if lower errors bubble to the same boundary\n      if (errors[boundaryMatch.route.id] == null) {\n        errors[boundaryMatch.route.id] = error;\n      }\n\n      // Clear our any prior loaderData for the throwing route\n      loaderData[id] = undefined;\n\n      // Once we find our first (highest) error, we set the status code and\n      // prevent deeper status codes from overriding\n      if (!foundError) {\n        foundError = true;\n        statusCode = isRouteErrorResponse(result.error)\n          ? result.error.status\n          : 500;\n      }\n      if (result.headers) {\n        loaderHeaders[id] = result.headers;\n      }\n    } else {\n      if (isDeferredResult(result)) {\n        activeDeferreds.set(id, result.deferredData);\n        loaderData[id] = result.deferredData.data;\n      } else {\n        loaderData[id] = result.data;\n      }\n\n      // Error status codes always override success status codes, but if all\n      // loaders are successful we take the deepest status code.\n      if (\n        result.statusCode != null &&\n        result.statusCode !== 200 &&\n        !foundError\n      ) {\n        statusCode = result.statusCode;\n      }\n      if (result.headers) {\n        loaderHeaders[id] = result.headers;\n      }\n    }\n  });\n\n  // If we didn't consume the pending action error (i.e., all loaders\n  // resolved), then consume it here.  Also clear out any loaderData for the\n  // throwing route\n  if (pendingError) {\n    errors = pendingError;\n    loaderData[Object.keys(pendingError)[0]] = undefined;\n  }\n\n  return {\n    loaderData,\n    errors,\n    statusCode: statusCode || 200,\n    loaderHeaders,\n  };\n}\n\nfunction processLoaderData(\n  state: RouterState,\n  matches: AgnosticDataRouteMatch[],\n  matchesToLoad: AgnosticDataRouteMatch[],\n  results: DataResult[],\n  pendingError: RouteData | undefined,\n  revalidatingFetchers: RevalidatingFetcher[],\n  fetcherResults: DataResult[],\n  activeDeferreds: Map<string, DeferredData>\n): {\n  loaderData: RouterState[\"loaderData\"];\n  errors?: RouterState[\"errors\"];\n} {\n  let { loaderData, errors } = processRouteLoaderData(\n    matches,\n    matchesToLoad,\n    results,\n    pendingError,\n    activeDeferreds\n  );\n\n  // Process results from our revalidating fetchers\n  for (let index = 0; index < revalidatingFetchers.length; index++) {\n    let { key, match, controller } = revalidatingFetchers[index];\n    invariant(\n      fetcherResults !== undefined && fetcherResults[index] !== undefined,\n      \"Did not find corresponding fetcher result\"\n    );\n    let result = fetcherResults[index];\n\n    // Process fetcher non-redirect errors\n    if (controller && controller.signal.aborted) {\n      // Nothing to do for aborted fetchers\n      continue;\n    } else if (isErrorResult(result)) {\n      let boundaryMatch = findNearestBoundary(state.matches, match?.route.id);\n      if (!(errors && errors[boundaryMatch.route.id])) {\n        errors = {\n          ...errors,\n          [boundaryMatch.route.id]: result.error,\n        };\n      }\n      state.fetchers.delete(key);\n    } else if (isRedirectResult(result)) {\n      // Should never get here, redirects should get processed above, but we\n      // keep this to type narrow to a success result in the else\n      invariant(false, \"Unhandled fetcher revalidation redirect\");\n    } else if (isDeferredResult(result)) {\n      // Should never get here, deferred data should be awaited for fetchers\n      // in resolveDeferredResults\n      invariant(false, \"Unhandled fetcher deferred data\");\n    } else {\n      let doneFetcher = getDoneFetcher(result.data);\n      state.fetchers.set(key, doneFetcher);\n    }\n  }\n\n  return { loaderData, errors };\n}\n\nfunction mergeLoaderData(\n  loaderData: RouteData,\n  newLoaderData: RouteData,\n  matches: AgnosticDataRouteMatch[],\n  errors: RouteData | null | undefined\n): RouteData {\n  let mergedLoaderData = { ...newLoaderData };\n  for (let match of matches) {\n    let id = match.route.id;\n    if (newLoaderData.hasOwnProperty(id)) {\n      if (newLoaderData[id] !== undefined) {\n        mergedLoaderData[id] = newLoaderData[id];\n      } else {\n        // No-op - this is so we ignore existing data if we have a key in the\n        // incoming object with an undefined value, which is how we unset a prior\n        // loaderData if we encounter a loader error\n      }\n    } else if (loaderData[id] !== undefined && match.route.loader) {\n      // Preserve existing keys not included in newLoaderData and where a loader\n      // wasn't removed by HMR\n      mergedLoaderData[id] = loaderData[id];\n    }\n\n    if (errors && errors.hasOwnProperty(id)) {\n      // Don't keep any loader data below the boundary\n      break;\n    }\n  }\n  return mergedLoaderData;\n}\n\n// Find the nearest error boundary, looking upwards from the leaf route (or the\n// route specified by routeId) for the closest ancestor error boundary,\n// defaulting to the root match\nfunction findNearestBoundary(\n  matches: AgnosticDataRouteMatch[],\n  routeId?: string\n): AgnosticDataRouteMatch {\n  let eligibleMatches = routeId\n    ? matches.slice(0, matches.findIndex((m) => m.route.id === routeId) + 1)\n    : [...matches];\n  return (\n    eligibleMatches.reverse().find((m) => m.route.hasErrorBoundary === true) ||\n    matches[0]\n  );\n}\n\nfunction getShortCircuitMatches(routes: AgnosticDataRouteObject[]): {\n  matches: AgnosticDataRouteMatch[];\n  route: AgnosticDataRouteObject;\n} {\n  // Prefer a root layout route if present, otherwise shim in a route object\n  let route = routes.find((r) => r.index || !r.path || r.path === \"/\") || {\n    id: `__shim-error-route__`,\n  };\n\n  return {\n    matches: [\n      {\n        params: {},\n        pathname: \"\",\n        pathnameBase: \"\",\n        route,\n      },\n    ],\n    route,\n  };\n}\n\nfunction getInternalRouterError(\n  status: number,\n  {\n    pathname,\n    routeId,\n    method,\n    type,\n  }: {\n    pathname?: string;\n    routeId?: string;\n    method?: string;\n    type?: \"defer-action\" | \"invalid-body\";\n  } = {}\n) {\n  let statusText = \"Unknown Server Error\";\n  let errorMessage = \"Unknown @remix-run/router error\";\n\n  if (status === 400) {\n    statusText = \"Bad Request\";\n    if (method && pathname && routeId) {\n      errorMessage =\n        `You made a ${method} request to \"${pathname}\" but ` +\n        `did not provide a \\`loader\\` for route \"${routeId}\", ` +\n        `so there is no way to handle the request.`;\n    } else if (type === \"defer-action\") {\n      errorMessage = \"defer() is not supported in actions\";\n    } else if (type === \"invalid-body\") {\n      errorMessage = \"Unable to encode submission body\";\n    }\n  } else if (status === 403) {\n    statusText = \"Forbidden\";\n    errorMessage = `Route \"${routeId}\" does not match URL \"${pathname}\"`;\n  } else if (status === 404) {\n    statusText = \"Not Found\";\n    errorMessage = `No route matches URL \"${pathname}\"`;\n  } else if (status === 405) {\n    statusText = \"Method Not Allowed\";\n    if (method && pathname && routeId) {\n      errorMessage =\n        `You made a ${method.toUpperCase()} request to \"${pathname}\" but ` +\n        `did not provide an \\`action\\` for route \"${routeId}\", ` +\n        `so there is no way to handle the request.`;\n    } else if (method) {\n      errorMessage = `Invalid request method \"${method.toUpperCase()}\"`;\n    }\n  }\n\n  return new ErrorResponse(\n    status || 500,\n    statusText,\n    new Error(errorMessage),\n    true\n  );\n}\n\n// Find any returned redirect errors, starting from the lowest match\nfunction findRedirect(\n  results: DataResult[]\n): { result: RedirectResult; idx: number } | undefined {\n  for (let i = results.length - 1; i >= 0; i--) {\n    let result = results[i];\n    if (isRedirectResult(result)) {\n      return { result, idx: i };\n    }\n  }\n}\n\nfunction stripHashFromPath(path: To) {\n  let parsedPath = typeof path === \"string\" ? parsePath(path) : path;\n  return createPath({ ...parsedPath, hash: \"\" });\n}\n\nfunction isHashChangeOnly(a: Location, b: Location): boolean {\n  if (a.pathname !== b.pathname || a.search !== b.search) {\n    return false;\n  }\n\n  if (a.hash === \"\") {\n    // /page -> /page#hash\n    return b.hash !== \"\";\n  } else if (a.hash === b.hash) {\n    // /page#hash -> /page#hash\n    return true;\n  } else if (b.hash !== \"\") {\n    // /page#hash -> /page#other\n    return true;\n  }\n\n  // If the hash is removed the browser will re-perform a request to the server\n  // /page#hash -> /page\n  return false;\n}\n\nfunction isDeferredResult(result: DataResult): result is DeferredResult {\n  return result.type === ResultType.deferred;\n}\n\nfunction isErrorResult(result: DataResult): result is ErrorResult {\n  return result.type === ResultType.error;\n}\n\nfunction isRedirectResult(result?: DataResult): result is RedirectResult {\n  return (result && result.type) === ResultType.redirect;\n}\n\nexport function isDeferredData(value: any): value is DeferredData {\n  let deferred: DeferredData = value;\n  return (\n    deferred &&\n    typeof deferred === \"object\" &&\n    typeof deferred.data === \"object\" &&\n    typeof deferred.subscribe === \"function\" &&\n    typeof deferred.cancel === \"function\" &&\n    typeof deferred.resolveData === \"function\"\n  );\n}\n\nfunction isResponse(value: any): value is Response {\n  return (\n    value != null &&\n    typeof value.status === \"number\" &&\n    typeof value.statusText === \"string\" &&\n    typeof value.headers === \"object\" &&\n    typeof value.body !== \"undefined\"\n  );\n}\n\nfunction isRedirectResponse(result: any): result is Response {\n  if (!isResponse(result)) {\n    return false;\n  }\n\n  let status = result.status;\n  let location = result.headers.get(\"Location\");\n  return status >= 300 && status <= 399 && location != null;\n}\n\nfunction isQueryRouteResponse(obj: any): obj is QueryRouteResponse {\n  return (\n    obj &&\n    isResponse(obj.response) &&\n    (obj.type === ResultType.data || obj.type === ResultType.error)\n  );\n}\n\nfunction isValidMethod(method: string): method is FormMethod | V7_FormMethod {\n  return validRequestMethods.has(method.toLowerCase() as FormMethod);\n}\n\nfunction isMutationMethod(\n  method: string\n): method is MutationFormMethod | V7_MutationFormMethod {\n  return validMutationMethods.has(method.toLowerCase() as MutationFormMethod);\n}\n\nasync function resolveDeferredResults(\n  currentMatches: AgnosticDataRouteMatch[],\n  matchesToLoad: (AgnosticDataRouteMatch | null)[],\n  results: DataResult[],\n  signals: (AbortSignal | null)[],\n  isFetcher: boolean,\n  currentLoaderData?: RouteData\n) {\n  for (let index = 0; index < results.length; index++) {\n    let result = results[index];\n    let match = matchesToLoad[index];\n    // If we don't have a match, then we can have a deferred result to do\n    // anything with.  This is for revalidating fetchers where the route was\n    // removed during HMR\n    if (!match) {\n      continue;\n    }\n\n    let currentMatch = currentMatches.find(\n      (m) => m.route.id === match!.route.id\n    );\n    let isRevalidatingLoader =\n      currentMatch != null &&\n      !isNewRouteInstance(currentMatch, match) &&\n      (currentLoaderData && currentLoaderData[match.route.id]) !== undefined;\n\n    if (isDeferredResult(result) && (isFetcher || isRevalidatingLoader)) {\n      // Note: we do not have to touch activeDeferreds here since we race them\n      // against the signal in resolveDeferredData and they'll get aborted\n      // there if needed\n      let signal = signals[index];\n      invariant(\n        signal,\n        \"Expected an AbortSignal for revalidating fetcher deferred result\"\n      );\n      await resolveDeferredData(result, signal, isFetcher).then((result) => {\n        if (result) {\n          results[index] = result || results[index];\n        }\n      });\n    }\n  }\n}\n\nasync function resolveDeferredData(\n  result: DeferredResult,\n  signal: AbortSignal,\n  unwrap = false\n): Promise<SuccessResult | ErrorResult | undefined> {\n  let aborted = await result.deferredData.resolveData(signal);\n  if (aborted) {\n    return;\n  }\n\n  if (unwrap) {\n    try {\n      return {\n        type: ResultType.data,\n        data: result.deferredData.unwrappedData,\n      };\n    } catch (e) {\n      // Handle any TrackedPromise._error values encountered while unwrapping\n      return {\n        type: ResultType.error,\n        error: e,\n      };\n    }\n  }\n\n  return {\n    type: ResultType.data,\n    data: result.deferredData.data,\n  };\n}\n\nfunction hasNakedIndexQuery(search: string): boolean {\n  return new URLSearchParams(search).getAll(\"index\").some((v) => v === \"\");\n}\n\n// Note: This should match the format exported by useMatches, so if you change\n// this please also change that :)  Eventually we'll DRY this up\nfunction createUseMatchesMatch(\n  match: AgnosticDataRouteMatch,\n  loaderData: RouteData\n): UseMatchesMatch {\n  let { route, pathname, params } = match;\n  return {\n    id: route.id,\n    pathname,\n    params,\n    data: loaderData[route.id] as unknown,\n    handle: route.handle as unknown,\n  };\n}\n\nfunction getTargetMatch(\n  matches: AgnosticDataRouteMatch[],\n  location: Location | string\n) {\n  let search =\n    typeof location === \"string\" ? parsePath(location).search : location.search;\n  if (\n    matches[matches.length - 1].route.index &&\n    hasNakedIndexQuery(search || \"\")\n  ) {\n    // Return the leaf index route when index is present\n    return matches[matches.length - 1];\n  }\n  // Otherwise grab the deepest \"path contributing\" match (ignoring index and\n  // pathless layout routes)\n  let pathMatches = getPathContributingMatches(matches);\n  return pathMatches[pathMatches.length - 1];\n}\n\nfunction getSubmissionFromNavigation(\n  navigation: Navigation\n): Submission | undefined {\n  let { formMethod, formAction, formEncType, text, formData, json } =\n    navigation;\n  if (!formMethod || !formAction || !formEncType) {\n    return;\n  }\n\n  if (text != null) {\n    return {\n      formMethod,\n      formAction,\n      formEncType,\n      formData: undefined,\n      json: undefined,\n      text,\n    };\n  } else if (formData != null) {\n    return {\n      formMethod,\n      formAction,\n      formEncType,\n      formData,\n      json: undefined,\n      text: undefined,\n    };\n  } else if (json !== undefined) {\n    return {\n      formMethod,\n      formAction,\n      formEncType,\n      formData: undefined,\n      json,\n      text: undefined,\n    };\n  }\n}\n\nfunction getLoadingNavigation(\n  location: Location,\n  submission?: Submission\n): NavigationStates[\"Loading\"] {\n  if (submission) {\n    let navigation: NavigationStates[\"Loading\"] = {\n      state: \"loading\",\n      location,\n      formMethod: submission.formMethod,\n      formAction: submission.formAction,\n      formEncType: submission.formEncType,\n      formData: submission.formData,\n      json: submission.json,\n      text: submission.text,\n    };\n    return navigation;\n  } else {\n    let navigation: NavigationStates[\"Loading\"] = {\n      state: \"loading\",\n      location,\n      formMethod: undefined,\n      formAction: undefined,\n      formEncType: undefined,\n      formData: undefined,\n      json: undefined,\n      text: undefined,\n    };\n    return navigation;\n  }\n}\n\nfunction getSubmittingNavigation(\n  location: Location,\n  submission: Submission\n): NavigationStates[\"Submitting\"] {\n  let navigation: NavigationStates[\"Submitting\"] = {\n    state: \"submitting\",\n    location,\n    formMethod: submission.formMethod,\n    formAction: submission.formAction,\n    formEncType: submission.formEncType,\n    formData: submission.formData,\n    json: submission.json,\n    text: submission.text,\n  };\n  return navigation;\n}\n\nfunction getLoadingFetcher(\n  submission?: Submission,\n  data?: Fetcher[\"data\"]\n): FetcherStates[\"Loading\"] {\n  if (submission) {\n    let fetcher: FetcherStates[\"Loading\"] = {\n      state: \"loading\",\n      formMethod: submission.formMethod,\n      formAction: submission.formAction,\n      formEncType: submission.formEncType,\n      formData: submission.formData,\n      json: submission.json,\n      text: submission.text,\n      data,\n      \" _hasFetcherDoneAnything \": true,\n    };\n    return fetcher;\n  } else {\n    let fetcher: FetcherStates[\"Loading\"] = {\n      state: \"loading\",\n      formMethod: undefined,\n      formAction: undefined,\n      formEncType: undefined,\n      formData: undefined,\n      json: undefined,\n      text: undefined,\n      data,\n      \" _hasFetcherDoneAnything \": true,\n    };\n    return fetcher;\n  }\n}\n\nfunction getSubmittingFetcher(\n  submission: Submission,\n  existingFetcher?: Fetcher\n): FetcherStates[\"Submitting\"] {\n  let fetcher: FetcherStates[\"Submitting\"] = {\n    state: \"submitting\",\n    formMethod: submission.formMethod,\n    formAction: submission.formAction,\n    formEncType: submission.formEncType,\n    formData: submission.formData,\n    json: submission.json,\n    text: submission.text,\n    data: existingFetcher ? existingFetcher.data : undefined,\n    \" _hasFetcherDoneAnything \": true,\n  };\n  return fetcher;\n}\n\nfunction getDoneFetcher(data: Fetcher[\"data\"]): FetcherStates[\"Idle\"] {\n  let fetcher: FetcherStates[\"Idle\"] = {\n    state: \"idle\",\n    formMethod: undefined,\n    formAction: undefined,\n    formEncType: undefined,\n    formData: undefined,\n    json: undefined,\n    text: undefined,\n    data,\n    \" _hasFetcherDoneAnything \": true,\n  };\n  return fetcher;\n}\n//#endregion\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"IA7EQ\")).toString();","import { h } from \"preact\";\nimport { alert, storage, http, router } from \"/src/core\";\nimport { useTranslation } from \"react-i18next\";\nimport { useNavigate } from \"react-router-dom\";\n\nexport default function PasswordReset() {\n\n  const { t } = useTranslation();\n  const navigate = useNavigate();\n\n  const sendNewPassword = e => {\n    e.preventDefault();\n    storage.set(\"apiKey\", \"\");\n    const password = document.getElementById(\"password\").value || \"\";\n    const passwordConfirmation = document.getElementById(\"password_confirmation\").value || \"\";\n    const mail = router.getParam(\"mail\");\n    const key = router.getParam(\"key\");\n    if (mail && password) {\n      if (password != passwordConfirmation) {\n        alert.add(t(\"passwords_dont_match\"));\n        return;\n      }\n      http\n        .post(\"/api/new-password\", { mail, key, password })\n        .then(res => {\n          if (res.api_key) {\n            storage.set(\"apiKey\", res.api_key);\n            setTimeout(() => navigate(\"/\"), 100);\n          } else {\n            alert.add(t(res.message));\n          }\n        })\n        .catch(res => console.warn(res));\n    }\n  };\n\n  return (\n    <div class=\"login\">\n      <div class=\"login-form\">\n        <h2 class=\"title\">{t(\"reset_password_title\")}</h2>\n        <form>\n          <div class=\"form-group\">\n            <input\n              type=\"password\"\n              class=\"form-control\"\n              required\n              id=\"password\"\n              placeholder={t(\"new_password_placeholder\")}\n            />\n          </div>\n          <div class=\"form-group\">\n            <input\n              type=\"password\"\n              class=\"form-control\"\n              required\n              id=\"password_confirmation\"\n              placeholder={t(\"confirm_password_placeholder\")}\n            />\n          </div>\n          <button\n            type=\"submit\"\n            class=\"btn btn-light\"\n            onClick={e => sendNewPassword(e)}\n          >\n            {t(\"submit\")}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n","import { h } from \"preact\";\nimport { alert, storage, http, router } from \"/src/core\";\nimport { useTranslation } from \"react-i18next\";\nimport { useNavigate } from \"react-router-dom\";\n\nexport default function Signup() {\n\n  const navigate = useNavigate();\n  const { t } = useTranslation();\n\n  const sendSignupForm = e => {\n    e.preventDefault();\n    let login = document.getElementById(\"login\").value || \"\";\n    login.toLowerCase();\n    const password = document.getElementById(\"password\").value;\n    storage.set(\"apiKey\", \"\");\n    http\n      .post(\"/api/signup\", {\n        login,\n        password,\n        invite_key: router.getParam(\"inviteKey\")\n      })\n      .then(res => {\n        if (res && !res.message) {\n          storage.set(\"apiKey\", res.api_key);\n          setTimeout(() => navigate(\"/\"), 100);\n        } else {\n          alert.add(t(res.message));\n        }\n      });\n  };\n\n  return (\n    <div class=\"signup\">\n      <div class=\"signup-form\">\n        <img src={new URL(\"/src/assets/zusam_logo.svg\", import.meta.url)} />\n        <div class=\"welcome lead\">{t(\"invitation_welcome\")}</div>\n        <form>\n          <div class=\"form-group\">\n            <input\n              type=\"email\"\n              class=\"form-control\"\n              required\n              id=\"login\"\n              placeholder={t(\"login_placeholder\")}\n            />\n          </div>\n          <div class=\"form-group\">\n            <input\n              type=\"password\"\n              class=\"form-control\"\n              required\n              id=\"password\"\n              placeholder={t(\"password_placeholder\")}\n            />\n          </div>\n          <button\n            type=\"submit\"\n            class=\"btn btn-light\"\n            onClick={e => sendSignupForm(e)}\n          >\n            {t(\"signup\")}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n","import { h, Component } from \"preact\";\nimport { http } from \"/src/core\";\nimport { withTranslation } from \"react-i18next\";\n\nclass StopNotificationEmails extends Component {\n  constructor() {\n    super();\n    http\n      .get(`/api${  window.location.pathname}`)\n      .then(() => {\n        this.setState({ message: this.props.t(\"notification_emails_stopped\") });\n      })\n      .catch(err => {\n        console.warn(err);\n        this.setState({ message: this.props.t(\"error\") });\n      });\n  }\n\n  render() {\n    return <div>{this.state.message || \"\"}</div>;\n  }\n}\n\nexport default withTranslation()(StopNotificationEmails);\n","import { h } from \"preact\";\nimport { Message } from \"/src/message\";\nimport { useParams } from \"react-router-dom\";\n\nexport default function Public() {\n  let params = useParams();\n\n  return (\n    <article class=\"justify-content-center d-flex mt-2\">\n      <div class=\"container\">\n        <main>\n          <div class=\"content\">\n            <article class=\"mb-3 justify-content-center d-flex\">\n              <div class=\"container pb-3\">\n                <Message\n                  focus={false}\n                  isPublic={true}\n                  isChild={false}\n                  token={params.token}\n                />\n              </div>\n            </article>\n          </div>\n        </main>\n      </div>\n    </article>\n  );\n}\n","import _Message from \"./message.component.js\";\nimport _MessageBody from \"./message-body.component.js\";\nimport _MessageBreadcrumbs from \"./message-breadcrumbs.component.js\";\nimport _MessageChild from \"./message-child.component.js\";\nimport _MessageChildren from \"./message-children.component.js\";\nimport _MessageFooter from \"./message-footer.component.js\";\nimport _MessageHead from \"./message-head.component.js\";\nimport _MessageList from \"./message-list.component.js\";\nimport _MessageParent from \"./message-parent.component.js\";\nimport _MessagePreview from \"./message-preview.component.js\";\nimport _MessageSearchResult from \"./message-search-result.component.js\";\n\nexport const Message = _Message;\nexport const MessageBody = _MessageBody;\nexport const MessageBreadcrumbs = _MessageBreadcrumbs;\nexport const MessageChild = _MessageChild;\nexport const MessageChildren = _MessageChildren;\nexport const MessageFooter = _MessageFooter;\nexport const MessageHead = _MessageHead;\nexport const MessageList = _MessageList;\nexport const MessageParent = _MessageParent;\nexport const MessagePreview = _MessagePreview;\nexport const MessageSearchResult = _MessageSearchResult;\n","import { h, Fragment } from \"preact\";\nimport { http, router, util, notifications } from \"/src/core\";\nimport MessageChildren from \"./message-children.component.js\";\nimport MessageHead from \"./message-head.component.js\";\nimport MessageFooter from \"./message-footer.component.js\";\nimport MessageBody from \"./message-body.component.js\";\nimport MessageBreadcrumbs from \"./message-breadcrumbs.component.js\";\nimport { Writer } from \"/src/writer\";\nimport { useEffect, useState, useRef, useReducer } from \"preact/hooks\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\nimport { useStoreon } from \"storeon/preact\";\n\nexport default function Message(props) {\n\n  const navigate = useNavigate();\n  const { t } = useTranslation();\n  const { me } = useStoreon(\"me\");\n  const [author, setAuthor] = useState(null);\n  const [parent, setParent] = useState(null);\n  const [files, setFiles] = useState(null);\n  const [isRemoved, setIsRemoved] = useState(false);\n  const [edit, setEdit] = useState(false);\n\n  const [message, setMessage] = useState(null);\n  const messageRef = useRef(message);\n  const setMessageRef = message => {\n    messageRef.current = message;\n    setMessage(message);\n  };\n\n  const [, forceUpdate] = useReducer(x => x + 1, 0);\n\n  useEffect(() => {\n    window.addEventListener(\"newChild\", onNewChild);\n    window.addEventListener(\"editMessage\", onEditMessage);\n    loadMessage();\n    notifications.markAsRead(props.id);\n\n    if (!props.isChild) {\n      setTimeout(() => window.scrollTo(0, 0));\n    }\n\n    setTimeout(() => {\n      if (props.id == router.action) {\n        const msgElement = document.getElementById(props.id);\n        if (msgElement) {\n          msgElement.scrollIntoView({ block: \"start\", behavior: \"smooth\" });\n          setTimeout(() => msgElement.classList.remove(\"highlight\"), 1000);\n        }\n      }\n    }, 1000);\n  }, []);\n\n  const hydrateMessage = m => {\n    setMessageRef(m);\n    if (m?.author?.id) {\n      http.get(`/api/users/${m.author.id}`).then(u => {\n        setAuthor(u);\n      });\n    }\n    if (m?.parent?.id) {\n      http.get(`/api/messages/${m.parent.id}`).then(p => {\n        setParent(p);\n      });\n    }\n    // delay loading of files a little bit\n    setTimeout(() => {\n      if (m?.files?.length) {\n        Promise.all(m.files.map(f => http.get(`/api/files/${f.id}`).then(f => f))).then(\n          files => setFiles(files)\n        );\n      }\n    }, 100);\n  };\n\n  const loadMessage = () => {\n    if (props?.message) {\n      if (props?.files?.length) {\n        setFiles(props?.message?.files.map(f => ({id: f.id, status: \"loading\"})));\n      }\n      hydrateMessage(props.message);\n    } else if (props?.token) {\n      http.get(`/api/public/${props.token}`).then(m => {\n        if (m?.files?.length) {\n          setFiles(m?.files.map(f => ({id: f.id, status: \"loading\"})));\n        }\n        hydrateMessage(m);\n      });\n    } else {\n      http.get(`/api/messages/${props.id}`).then(m => {\n        if (m?.files?.length) {\n          setFiles(m?.files.map(f => ({id: f.id, status: \"loading\"})));\n        }\n        hydrateMessage(m);\n      });\n    }\n  };\n\n  const onNewChild = event => {\n    if (!messageRef.current?.id) {\n      return;\n    }\n    const newMsg = event.detail;\n    if (newMsg?.parent && util.getId(newMsg?.parent) == props.id) {\n      newMsg.author = me;\n      let newChildren = messageRef?.current?.children ? [...messageRef.current.children, newMsg] : [newMsg];\n      let newRef = Object.assign(\n        messageRef.current,\n        {\n          children: newChildren\n        },\n      );\n      setMessageRef(newRef);\n      forceUpdate();\n    }\n  };\n\n  const openPublicLink = async event => {\n    event.preventDefault();\n    let newTab = window.open(\"about:blank\", \"_blank\");\n    const res = await http.get(\n      `/api/messages/${props.id}/get-public-link`\n    );\n    newTab.location = `${document.baseURI}public/${res.token}`;\n  };\n\n  const onEditMessage = event => {\n    if (event.detail.id == props.id) {\n      setEdit(false);\n      hydrateMessage(event.detail);\n      props.key = +Date.now();\n    }\n  };\n\n  const getComponentClass = () => {\n    let cn = \"message\";\n    if (props.isChild) {\n      cn += \" child\";\n    }\n    if (props.id == router.action) {\n      cn += \" highlight\";\n    }\n    return cn;\n  };\n\n  const deleteMessage = event => {\n    event.preventDefault();\n    if (confirm(t(\"ask_delete_message\"))) {\n      http.delete(`/api/messages/${props.id}`).then(() => {\n        if (props.isChild) {\n          setIsRemoved(true);\n        } else {\n          navigate(`/groups/${message.group.id}`);\n        }\n      });\n    }\n  };\n\n  const shareMessage = event => {\n    event.preventDefault();\n    navigate(`/share?message=${props.id}`);\n  };\n\n  const editMessage = event => {\n    event.preventDefault();\n    setEdit(true);\n  };\n\n  const publishInGroup = () => {\n    http\n      .put(`/api/messages/${props.id}`, {\n        lastActivityDate: Math.floor(Date.now() / 1000),\n        isInFront: true\n      })\n      .then(res => {\n        if (!res) {\n          alert.add(t(\"error\"), \"alert-danger\");\n          return;\n        }\n        navigate(`/groups/${message.group.id}`);\n      });\n  };\n\n  const cancelEdit = event => {\n    event.preventDefault();\n    setEdit(false);\n  };\n\n  const displayWriter = (isChild, focus) => {\n    return (\n      <Writer\n        cancel={edit ? cancelEdit : null}\n        files={edit ? files : []}\n        focus={focus || !!edit}\n        group={message.group}\n        messageId={edit ? props.id : null}\n        parent={\n          edit ? parent?.id : props.id\n        }\n        text={edit ? message.data[\"text\"] : \"\"}\n        title={edit ? message.data[\"title\"] : \"\"}\n        isChild={isChild}\n      />\n    );\n  };\n\n  if (isRemoved || !message) {\n    // placeholder (to be able to target it)\n    return (\n      <div id={props.id} className=\"message\" />\n    );\n  }\n\n  return (\n    <Fragment>\n      {!props?.isChild && !props?.isPublic && (\n        <MessageBreadcrumbs key={message?.id} message={message} />\n      )}\n      <div id={props.id} className={getComponentClass()}>\n        {edit && displayWriter(props?.isChild)}\n        {!edit && (\n          <Fragment>\n            {props.isChild && !props.isPublic && edit && (\n              <div class=\"message-head d-none d-md-block\">\n                <img\n                  class=\"rounded-circle w-3 material-shadow avatar\"\n                  style={util.backgroundHash(me.id)}\n                  src={\n                    me.avatar\n                      ? util.crop(me.avatar?.id, 100, 100)\n                      : util.defaultAvatar\n                  }\n                />\n              </div>\n            )}\n            <MessageHead\n              author={author}\n              message={message}\n              isPublic={props?.isPublic}\n              isChild={props?.isChild}\n            />\n            <div class=\"main\">\n              <MessageBody\n                message={message}\n                files={files || []}\n                isPublic={props?.isPublic}\n                isChild={props?.isChild}\n              />\n              <MessageFooter\n                author={author}\n                message={message}\n                editMessage={editMessage}\n                deleteMessage={deleteMessage}\n                shareMessage={shareMessage}\n                publishInGroup={publishInGroup}\n                openPublicLink={openPublicLink}\n                isPublic={props?.isPublic}\n                isChild={props?.isChild}\n              />\n            </div>\n          </Fragment>\n        )}\n      </div>\n      {props?.postMessageComponent}\n      {!props?.isChild && !props?.isPublic && (\n        <MessageChildren\n          childMessages={message?.children}\n          key={props.id}\n          id={props.id}\n        />\n      )}\n      {!edit && !props?.isPublic && !props?.isChild && (\n        <div class=\"message child mt-2\">\n          {me?.id && (\n            <div class=\"message-head d-none d-md-block\">\n              <img\n                class=\"rounded-circle w-3 material-shadow avatar\"\n                style={util.backgroundHash(me.id)}\n                src={\n                  me?.avatar\n                    ? util.crop(me.avatar[\"id\"], 100, 100)\n                    : util.defaultAvatar\n                }\n              />\n            </div>\n          )}\n          {displayWriter(true, props.focus)}\n        </div>\n      )}\n    </Fragment>\n  );\n}\n","import { h } from \"preact\";\nimport { router, util } from \"/src/core\";\nimport MessageChild from \"./message-child.component.js\";\nimport { useEffect, useState } from \"preact/hooks\";\nimport { useTranslation } from \"react-i18next\";\n\nexport default function MessageChildren(props) {\n\n  const { t } = useTranslation();\n  const [firstDisplayedChild, setFirstDisplayedChild] = useState(0);\n  const [lastDisplayedChild, setLastDisplayedChild] = useState(0);\n\n  const onNewChild = event => {\n    const newMsg = event.detail;\n    if (newMsg.parent && util.getId(newMsg.parent) == props.id) {\n      // a big number to display all children until the new one. This is not elegant...\n      // The issue is that we can't simply increment lastDisplayedChild as it is not defined here\n      // Another issue is that a user could load a comment in the middle of the list and create a new one...\n      // The real answer is to make a paginated list but that is for another time\n      setLastDisplayedChild(1024);\n    }\n  };\n\n  const displayPreviousChildren = () => {\n    setFirstDisplayedChild(Math.max(0, firstDisplayedChild - 10));\n  };\n\n  const displayNextChildren = () => {\n    setLastDisplayedChild(Math.min(props.childMessages.length, lastDisplayedChild + 10));\n  };\n\n  useEffect(() => {\n    window.addEventListener(\"newChild\", onNewChild);\n    let firstDisplayedChild = 0;\n    let lastDisplayedChild = 0;\n    if (props.childMessages.length) {\n      let msgIndex = router.action\n        ? props.childMessages.findIndex(e => e && e.id === router.action)\n        : -1;\n      if (msgIndex != -1) {\n        firstDisplayedChild = Math.max(0, msgIndex - 1);\n        lastDisplayedChild = Math.min(\n          props.childMessages.length,\n          msgIndex + 1\n        );\n      } else {\n        firstDisplayedChild = props.childMessages && props.childMessages.length - 5; // display the last 5 children\n        lastDisplayedChild = props.childMessages && props.childMessages.length;\n      }\n    }\n    setFirstDisplayedChild(firstDisplayedChild);\n    setLastDisplayedChild(lastDisplayedChild);\n  }, []);\n\n  if (\n    lastDisplayedChild - firstDisplayedChild < 1 ||\n    !props.childMessages\n  ) {\n    return null;\n  }\n  return (\n    <div class=\"children\">\n      {firstDisplayedChild > 0 && (\n        <div class=\"d-flex\">\n          <a\n            class=\"more-coms unselectable\"\n            onClick={() => displayPreviousChildren()}\n          >\n            {t(\"previous_coms\")}\n          </a>\n        </div>\n      )}\n      {props.childMessages.map((e, i) => {\n        if (\n          i < firstDisplayedChild ||\n          i > lastDisplayedChild\n        ) {\n          return null;\n        }\n\n        return (\n          <MessageChild\n            id={e.id}\n            key={e.id}\n          />\n        );\n      })}\n      {lastDisplayedChild + 1 <\n        props.childMessages.length && (\n        <div class=\"d-flex\">\n          <span\n            class=\"more-coms unselectable\"\n            onClick={() => displayNextChildren()}\n          >\n            {t(\"next_coms\")}\n          </span>\n        </div>\n      )}\n    </div>\n  );\n}\n","import { h } from \"preact\";\nimport Message from \"./message.component.js\";\n\nexport default function MessageChild(props) {\n  return (\n    <Message\n      id={props.id}\n      isChild={true}\n    />\n  );\n}\n","import { h } from \"preact\";\nimport { util } from \"/src/core\";\n\nexport default function MessageHead(props) {\n  return (\n    <div class=\"message-head d-flex\">\n      {!props.isPublic && (\n        <div>\n          <img\n            className={\n              `rounded-circle material-shadow avatar${ \n                props.author && props.author.name ? \"\" : \" removed-user\"}`\n            }\n            style={util.backgroundHash(\n              props.author && props.author.name ? props.author && props.author.id : \"\"\n            )}\n            src={\n              props.author && props.author.avatar\n                ? util.crop(props.author.avatar.id, 100, 100)\n                : util.defaultAvatar\n            }\n            title={props.author && props.author.name ? props.author.name : \"\"}\n          />\n        </div>\n      )}\n      {!props.isChild && !props.isPublic && (\n        <div class=\"infos\">\n          <span class=\"capitalize author\">\n            {props.author && props.author.name ? props.author.name : \"\"}\n          </span>\n        </div>\n      )}\n    </div>\n  );\n}\n","import { h, Fragment } from \"preact\";\nimport { util, me, notifications, alert } from \"/src/core\";\nimport { Link } from \"react-router-dom\";\nimport { FaIcon } from \"/src/misc\";\nimport { useTranslation } from \"react-i18next\";\nimport { HumanTime } from \"/src/pages\";\nimport { useStoreon } from \"storeon/preact\";\nimport store from \"/src/store\";\n\nexport default function MessageFooter(props) {\n\n  const { t } = useTranslation();\n  const { bookmarks } = useStoreon(\"bookmarks\");\n\n  return (\n    <div class=\"message-footer\">\n      <div class=\"infos\">\n        {!props?.isPublic && props?.author && props?.author?.id === me.id && (\n          <Fragment>\n            <a\n              class=\"action seamless-link font-size-90 capitalize d-none d-sm-block\"\n              onClick={e => props.editMessage(e)}\n            >\n              {t(\"edit\")}\n            </a>\n            <div class=\"dot d-none d-sm-block\">&bull;</div>\n          </Fragment>\n        )}\n        {!props?.isPublic && props?.isChild && props?.message && (\n          <Fragment>\n            <Link\n              class=\"action seamless-link font-size-90 capitalize\"\n              to={\n                `/messages/${props?.message.id}${props?.message?.children.length ? \"\" : \"?focus=reply\"}`\n              }\n            >\n              {props?.message?.children.length ? (\n                props.message.children.some(e => notifications.isNew(e.id)) ? (\n                  <b>\n                    {t(\"replies\", {\n                      count: props.message.children.length\n                    })}\n                  </b>\n                ) : (\n                  t(\"replies\", {\n                    count: props.message.children.length\n                  })\n                )\n              ) : (\n                t(\"reply\")\n              )}\n            </Link>\n            <div class=\"dot\">&bull;</div>\n          </Fragment>\n        )}\n        <div\n          class=\"date font-size-90\"\n          title={util.humanFullDate(props?.message.createdAt)}\n        >\n          <HumanTime timestamp={props?.message.createdAt} />\n        </div>\n        <Fragment>\n          <div class=\"dot\">&bull;</div>\n          <div class=\"font-size-90\">\n            {\n              props?.author && props?.author?.name ? props.author.name : \"--\"\n            }\n          </div>\n        </Fragment>\n      </div>\n      <div>\n        {!props?.isPublic && (\n          <div\n            class=\"options dropdown\"\n            onClick={e =>\n              e?.target?.closest(\".dropdown\")?.classList.toggle(\"active\")\n            }\n          >\n            <div class=\"none-if-follows-empty\">\n              <FaIcon family=\"solid\" icon=\"ellipsis-h\" />\n            </div>\n            <div class=\"dropdown-menu dropdown-options\">\n              {props?.author && props?.author?.id === me.id && (\n                <a\n                  class=\"seamless-link capitalize\"\n                  onClick={e => props.deleteMessage(e)}\n                >\n                  {t(\"delete\")}\n                </a>\n              )}\n              {\n                <a\n                  class=\"seamless-link capitalize\"\n                  onClick={e => props.openPublicLink(e)}\n                >\n                  {t(\"public_link\")}\n                </a>\n              }\n              {me.groups?.length > 1 && (\n                <a\n                  class=\"seamless-link capitalize\"\n                  onClick={e => props.shareMessage(e)}\n                >\n                  {t(\"share_message\")}\n                </a>\n              )}\n              {!props?.message?.isInFront &&\n                  props?.author &&\n                  props?.author.id == me.id && (\n                <a\n                  class=\"seamless-link capitalize\"\n                  onClick={e => props.publishInGroup(e)}\n                >\n                  {t(\"publish_in_group\")}\n                </a>\n              )}\n              {!bookmarks.some(b => b.message.id === props?.message.id) && (\n                <a\n                  class=\"seamless-link capitalize\"\n                  onClick={() => {\n                    alert.add(t(\"bookmark_added\"));\n                    store.dispatch(\"bookmark/add\", props.message.id);\n                  }}\n                >\n                  {t(\"add_bookmark\")}\n                </a>\n              )}\n              {bookmarks.some(b => b.message.id === props?.message.id) && (\n                <a\n                  class=\"seamless-link capitalize\"\n                  onClick={() => {\n                    alert.add(t(\"bookmark_removed\"));\n                    store.dispatch(\"bookmark/remove\", bookmarks.find(b => b.message.id === props.message.id));\n                  }}\n                >\n                  {t(\"remove_bookmark\")}\n                </a>\n              )}\n              {props?.author?.id == me.id && (\n                <a\n                  class=\"seamless-link capitalize\"\n                  onClick={e => props.editMessage(e)}\n                >\n                  {t(\"edit\")}\n                </a>\n              )}\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","import _FaIcon from \"./fa-icon.component.js\";\n\nexport const FaIcon = _FaIcon;\n","import { h } from \"preact\";\n\n// Fontawesome icons taken from https://raw.githubusercontent.com/FortAwesome/Font-Awesome/master/js/all.js\nfunction FaIcon() {\n  const icons = {\n    regular: {\n      comment: [512, 512, [], \"f075\", \"M256 32C114.6 32 0 125.1 0 240c0 47.6 19.9 91.2 52.9 126.3C38 405.7 7 439.1 6.5 439.5c-6.6 7-8.4 17.2-4.6 26S14.4 480 24 480c61.5 0 110-25.7 139.1-46.3C192 442.8 223.2 448 256 448c141.4 0 256-93.1 256-208S397.4 32 256 32zm0 368c-26.7 0-53.1-4.1-78.4-12.1l-22.7-7.2-19.5 13.8c-14.3 10.1-33.9 21.4-57.5 29 7.3-12.1 14.4-25.7 19.9-40.2l10.6-28.1-20.6-21.8C69.7 314.1 48 282.2 48 240c0-88.2 93.3-160 208-160s208 71.8 208 160-93.3 160-208 160z\"],\n      bookmark: [384, 512, [], \"f02e\", \"M336 0H48C21.49 0 0 21.49 0 48v464l192-112 192 112V48c0-26.51-21.49-48-48-48zm0 428.43l-144-84-144 84V54a6 6 0 0 1 6-6h276c3.314 0 6 2.683 6 5.996V428.43z\"],\n      images: [ 576, 512, [], \"f302\", \"M480 416v16c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V176c0-26.51 21.49-48 48-48h16v48H54a6 6 0 0 0-6 6v244a6 6 0 0 0 6 6h372a6 6 0 0 0 6-6v-10h48zm42-336H150a6 6 0 0 0-6 6v244a6 6 0 0 0 6 6h372a6 6 0 0 0 6-6V86a6 6 0 0 0-6-6zm6-48c26.51 0 48 21.49 48 48v256c0 26.51-21.49 48-48 48H144c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h384zM264 144c0 22.091-17.909 40-40 40s-40-17.909-40-40 17.909-40 40-40 40 17.909 40 40zm-72 96l39.515-39.515c4.686-4.686 12.284-4.686 16.971 0L288 240l103.515-103.515c4.686-4.686 12.284-4.686 16.971 0L480 208v80H192v-48z\"],\n      \"check-circle\": [512, 512, [], \"f058\", \"M256 8C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm0 48c110.532 0 200 89.451 200 200 0 110.532-89.451 200-200 200-110.532 0-200-89.451-200-200 0-110.532 89.451-200 200-200m140.204 130.267l-22.536-22.718c-4.667-4.705-12.265-4.736-16.97-.068L215.346 303.697l-59.792-60.277c-4.667-4.705-12.265-4.736-16.97-.069l-22.719 22.536c-4.705 4.667-4.736 12.265-.068 16.971l90.781 91.516c4.667 4.705 12.265 4.736 16.97.068l172.589-171.204c4.704-4.668 4.734-12.266.067-16.971z\"],\n      \"file-pdf\": [384, 512, [], \"f1c1\", \"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm250.2-143.7c-12.2-12-47-8.7-64.4-6.5-17.2-10.5-28.7-25-36.8-46.3 3.9-16.1 10.1-40.6 5.4-56-4.2-26.2-37.8-23.6-42.6-5.9-4.4 16.1-.4 38.5 7 67.1-10 23.9-24.9 56-35.4 74.4-20 10.3-47 26.2-51 46.2-3.3 15.8 26 55.2 76.1-31.2 22.4-7.4 46.8-16.5 68.4-20.1 18.9 10.2 41 17 55.8 17 25.5 0 28-28.2 17.5-38.7zm-198.1 77.8c5.1-13.7 24.5-29.5 30.4-35-19 30.3-30.4 35.7-30.4 35zm81.6-190.6c7.4 0 6.7 32.1 1.8 40.8-4.4-13.9-4.3-40.8-1.8-40.8zm-24.4 136.6c9.7-16.9 18-37 24.7-54.7 8.3 15.1 18.9 27.2 30.1 35.5-20.8 4.3-38.9 13.1-54.8 19.2zm131.6-5s-5 6-37.3-7.8c35.1-2.6 40.9 5.4 37.3 7.8z\"],\n      bell: [448, 512, [], \"f0f3\", \"M439.39 362.29c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71zM67.53 368c21.22-27.97 44.42-74.33 44.53-159.42 0-.2-.06-.38-.06-.58 0-61.86 50.14-112 112-112s112 50.14 112 112c0 .2-.06.38-.06.58.11 85.1 23.31 131.46 44.53 159.42H67.53zM224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64z\"],\n      \"level-down-alt\": [320, 512, [], \"f3be\", \"M313.553 392.331L209.587 504.334c-9.485 10.214-25.676 10.229-35.174 0L70.438 392.331C56.232 377.031 67.062 352 88.025 352H152V80H68.024a11.996 11.996 0 0 1-8.485-3.515l-56-56C-4.021 12.926 1.333 0 12.024 0H208c13.255 0 24 10.745 24 24v328h63.966c20.878 0 31.851 24.969 17.587 40.331z\"]\n    },\n    solid: {\n      bookmark: [384, 512, [], \"f02e\", \"M0 512V48C0 21.49 21.49 0 48 0h288c26.51 0 48 21.49 48 48v464L192 400 0 512z\"],\n      comment: [512, 512, [], \"f075\", \"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32z\"],\n      \"pencil-alt\": [512, 512, [], \"f303\", \"M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z\"],\n      \"arrow-left\": [448, 512, [], \"f060\", \"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z\"],\n      \"caret-down\": [320, 512, [], \"f0d7\", \"M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z\"],\n      film: [512, 512, [], \"f008\", \"M488 64h-8v20c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12V64H96v20c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12V64h-8C10.7 64 0 74.7 0 88v336c0 13.3 10.7 24 24 24h8v-20c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v20h320v-20c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v20h8c13.3 0 24-10.7 24-24V88c0-13.3-10.7-24-24-24zM96 372c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm272 208c0 6.6-5.4 12-12 12H156c-6.6 0-12-5.4-12-12v-96c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v96zm0-168c0 6.6-5.4 12-12 12H156c-6.6 0-12-5.4-12-12v-96c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v96zm112 152c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40z\"],\n      times: [352, 512, [], \"f00d\", \"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z\"],\n      bell: [448, 512, [], \"f0f3\", \"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z\"],\n      \"ellipsis-h\": [512, 512, [], \"f141\", \"M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z\"],\n      search: [512, 512, [], \"f002\", \"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z\"],\n      \"headphones-alt\": [512, 512, [], \"f58f\", \"M160 288h-16c-35.35 0-64 28.7-64 64.12v63.76c0 35.41 28.65 64.12 64 64.12h16c17.67 0 32-14.36 32-32.06V320.06c0-17.71-14.33-32.06-32-32.06zm208 0h-16c-17.67 0-32 14.35-32 32.06v127.88c0 17.7 14.33 32.06 32 32.06h16c35.35 0 64-28.71 64-64.12v-63.76c0-35.41-28.65-64.12-64-64.12zM256 32C112.91 32 4.57 151.13 0 288v112c0 8.84 7.16 16 16 16h16c8.84 0 16-7.16 16-16V288c0-114.67 93.33-207.8 208-207.82 114.67.02 208 93.15 208 207.82v112c0 8.84 7.16 16 16 16h16c8.84 0 16-7.16 16-16V288C507.43 151.13 399.09 32 256 32z\"],\n    }\n  };\n\n  const icon = icons[this.props.family][this.props.icon];\n\n  if (icon) {\n    return (\n      <svg\n        style={this.props.rotation ? `transform: rotate(${this.props.rotation})` : null}\n        className={`fa-icon ${this.props.family} ${this.props.icon}`}\n        viewBox={`0 0 ${icon[0]} ${icon[1]}`}\n      >\n        <path fill=\"currentColor\" d={icon[4]} />\n      </svg>\n    );\n  }\n}\n\nexport default FaIcon;\n","import _BookmarkBoard from \"./bookmark-board.component.js\";\nimport _CreateGroup from \"./create-group.component.js\";\nimport _GroupBoard from \"./group-board.component.js\";\nimport _HumanTime from \"./human-time.component.js\";\nimport _Notification from \"./notification.component.js\";\nimport _RandomMessage from \"./random-message.component.js\";\nimport _Search from \"./search.component.js\";\nimport _Share from \"./share.component.js\";\n\nexport const BookmarkBoard = _BookmarkBoard;\nexport const CreateGroup = _CreateGroup;\nexport const GroupBoard = _GroupBoard;\nexport const HumanTime = _HumanTime;\nexport const Notification = _Notification;\nexport const RandomMessage = _RandomMessage;\nexport const Search = _Search;\nexport const Share = _Share;\n","import { h } from \"preact\";\nimport { MessagePreview } from \"/src/message\";\nimport { Navbar } from \"/src/navbar\";\nimport { useStoreon } from \"storeon/preact\";\n\nexport default function BookmarkBoard() {\n\n  const { bookmarks } = useStoreon(\"bookmarks\");\n  if (!bookmarks) {\n    return null;\n  }\n\n  if (!Array.isArray(bookmarks) || bookmarks.length < 1) {\n    return;\n  }\n\n  return (\n    <main>\n      <Navbar />\n      <div class=\"content\">\n        <article id=\"group\" class=\"justify-content-center d-flex\">\n          <div class=\"message-container container-fluid d-flex justify-content-center flex-wrap\">\n            {bookmarks.map((b, i) => {\n              return (\n                <MessagePreview\n                  tabindex={i + 1}\n                  key={b.message.id}\n                  id={b.message.id}\n                />\n              );\n            })}\n          </div>\n        </article>\n      </div>\n    </main>\n  );\n}\n","import _GroupSearch from \"./group-search.component.js\";\nimport _GroupSearchWrapper from \"./group-search-wrapper.component.js\";\nimport _GroupsDropdownNavbar from \"./groups-dropdown-navbar.component.js\";\nimport _Navbar from \"./navbar.component.js\";\nimport _NotificationsDropdownNavbar from \"./notifications-dropdown-navbar.component.js\";\n\nexport const GroupSearch = _GroupSearch;\nexport const GroupSearchWrapper = _GroupSearchWrapper;\nexport const GroupsDropdownNavbar = _GroupsDropdownNavbar;\nexport const Navbar = _Navbar;\nexport const NotificationsDropdownNavbar = _NotificationsDropdownNavbar;\n","import { h } from \"preact\";\nimport { router, http } from \"/src/core\";\nimport { MessageSearchResult } from \"/src/message\";\nimport { useEffect, useState } from \"preact/hooks\";\nimport { useTranslation } from \"react-i18next\";\n\nexport default function GroupSearch(props) {\n\n  const { t } = useTranslation();\n  const groupId = useState(props.id);\n  const [loaded, setLoaded] = useState(false);\n  const [search, setSearch] = useState(\"\");\n  const [hashtags, setHashtags] = useState(\"\");\n  const [messages, setMessages] = useState([]);\n\n  const loadMessages = () => {\n    const search = router.getParam(\"q\");\n    const hashtags = router.getParam(\"hashtags\");\n    setSearch(search);\n    setHashtags(hashtags);\n    setLoaded(false);\n    setMessages([]);\n    http.post(\"/api/messages/search\", {\n      group: groupId,\n      search,\n      hashtags\n    }).then(res => {\n      if (res && Array.isArray(res[\"messages\"])) {\n        setSearch(search);\n        setMessages(res[\"messages\"]);\n        setLoaded(true);\n      }\n    });\n  };\n\n  useEffect(() => {\n    loadMessages();\n    window.addEventListener(\"groupSearch\", loadMessages);\n    return () => {\n      window.removeEventListener(\"groupSearch\", loadMessages);\n    };\n  }, []);\n\n  if (!Array.isArray(messages)) {\n    return;\n  }\n\n  return (\n    <div>\n      <article id=\"group\" class=\"justify-content-center d-flex\">\n        <div class=\"search-results-container container-fluid d-flex justify-content-center flex-wrap\">\n          {messages.length == 0 && !loaded && (\n            <p>\n              <div class=\"mt-5 spinner orange-spinner\">\n                <div /><div /><div /><div /><div />\n              </div>\n            </p>\n          )}\n          {messages.length == 0 && loaded && (\n            <p>{t(\"search_without_result\")}</p>\n          )}\n          {messages.map((msg, i) => {\n            return (\n              <MessageSearchResult\n                tabindex={i + 1}\n                key={msg.id}\n                message={msg}\n                groupId={groupId}\n                search={search}\n                hashtags={hashtags}\n              />\n            );\n          })}\n        </div>\n      </article>\n    </div>\n  );\n}\n","import { h } from \"preact\";\nimport { Navbar, GroupSearch } from \"/src/navbar\";\nimport { useParams } from \"react-router-dom\";\n\nexport default function GroupSearchWrapper() {\n  let params = useParams();\n  return (\n    <main>\n      <Navbar />\n      <div class=\"content\">\n        <article class=\"mb-3\">\n          <div class=\"container pb-3\">\n            <GroupSearch key={params.id} id={params.id} />\n          </div>\n        </article>\n      </div>\n    </main>\n  );\n}\n","import { h, Fragment } from \"preact\";\nimport { FaIcon } from \"/src/misc\";\nimport { Link } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\n\nexport default function GroupsDropdownNavbar() {\n  const { t } = useTranslation();\n  return (\n    <Fragment>\n      {this.props.groups && (\n        <div\n          class=\"nav-link dropdown groups unselectable\"\n          tabindex=\"-1\"\n          onClick={e => e.currentTarget.classList.toggle(\"active\")}\n        >\n          <div class=\"unselectable pr-1\">\n            {t(\"groups\")} <FaIcon family={\"solid\"} icon={\"caret-down\"} />\n          </div>\n          <div class=\"dropdown-menu dropdown-left\">\n            {this.props.groups.filter(e => !!e).map(e => (\n              <Link\n                key={e.id}\n                to={`/groups/${e.id}`}\n                class=\"d-block seamless-link unselectable\"\n              >\n                {e.name}\n              </Link>\n            ))}\n            <Link\n              to={\"/create-group\"}\n              class=\"seamless-link unselectable\"\n            >\n              {`+ ${t(\"create_a_group\")}`}\n            </Link>\n          </div>\n        </div>\n      )}\n    </Fragment>\n  );\n}\n","import { h } from \"preact\";\nimport { router, util } from \"/src/core\";\nimport { Search } from \"/src/pages\";\nimport { GroupsDropdownNavbar, NotificationsDropdownNavbar } from \"/src/navbar\";\nimport { Link } from \"react-router-dom\";\nimport { useStoreon } from \"storeon/preact\";\nimport { useTranslation } from \"react-i18next\";\n\nexport default function Navbar() {\n\n  const { t } = useTranslation();\n  const { bookmarks } = useStoreon(\"bookmarks\");\n  const { me } = useStoreon(\"me\");\n\n  return (\n    <div class=\"main-nav nav align-items-center z-index-100\">\n      <div class=\"navbar-block\">\n        <div\n          class=\"menu dropdown cursor-pointer\"\n          tabindex=\"-1\"\n          onClick={e => e.currentTarget.classList.toggle(\"active\")}\n        >\n          <div class=\"rounded-circle avatar unselectable\">\n            <img\n              class=\"rounded-circle\"\n              style={util.backgroundHash(me.id)}\n              src={\n                me.avatar\n                  ? util.crop(me.avatar[\"id\"], 80, 80)\n                  : util.defaultAvatar\n              }\n              onError={e => (e.currentTarget.src = util.defaultAvatar)}\n            />\n          </div>\n          <div class=\"dropdown-menu dropdown-right\">\n            { bookmarks?.length > 0 && (\n              <Link\n                class=\"d-block seamless-link capitalize\"\n                to={\"/bookmarks\"}\n              >\n                {t(\"bookmarks\")}\n              </Link>\n            )}\n            <Link\n              class=\"d-block seamless-link capitalize\"\n              to={`/users/${me.id}/settings`}\n            >\n              {t(\"settings\")}\n            </Link>\n            <Link\n              class=\"d-block seamless-link capitalize\"\n              to={\"/logout\"}\n            >\n              {t(\"logout\")}\n            </Link>\n          </div>\n        </div>\n        <NotificationsDropdownNavbar />\n      </div>\n      { [\"messages\", \"groups\"].includes(router.route) && (\n        <Search />\n      )}\n      <div class=\"navbar-block\">\n        <GroupsDropdownNavbar groups={me.groups} />\n      </div>\n    </div>\n  );\n}\n","import {\n  useMemo,\n  useContext,\n  useState,\n  useLayoutEffect,\n  useEffect\n} from 'preact/hooks'\nimport { createContext, h } from 'preact'\nimport { forwardRef } from 'preact/compat'\n\nlet StoreContext = createContext()\n\nlet useIsomorphicLayoutEffect =\n  typeof window !== 'undefined' ? useLayoutEffect : useEffect\n\nlet customContext = context => (...keys) => {\n  let store = useContext(context)\n  if (process.env.NODE_ENV !== 'production' && !store) {\n    throw new Error(\n      'Could not find storeon context value.' +\n        'Please ensure the component is wrapped in a <StoreContext.Provider>'\n    )\n  }\n\n  let rerender = useState({})\n\n  useIsomorphicLayoutEffect(() => {\n    return store.on('@changed', (_, changed) => {\n      let changesInKeys = keys.some(key => key in changed)\n      if (changesInKeys) rerender[1]({})\n    })\n  }, [])\n\n  return useMemo(() => {\n    let state = store.get()\n    let data = {}\n    keys.forEach(key => {\n      data[key] = state[key]\n    })\n    data.dispatch = store.dispatch\n    return data\n  }, [rerender[0]])\n}\n\nlet useStoreon = customContext(StoreContext)\n\nlet connectStoreon = (...keys) => {\n  let Component = keys.pop()\n  return forwardRef((originProps, ref) => {\n    let props = { ...originProps, ...useStoreon(...keys), ref }\n    return h(Component, props)\n  })\n}\n\nexport { useStoreon, StoreContext, connectStoreon, customContext }\n","import { h } from \"preact\";\nimport { notifications as notifs } from \"/src/core\";\nimport { FaIcon } from \"/src/misc\";\nimport { Notification } from \"/src/pages\";\nimport { useStoreon } from \"storeon/preact\";\nimport { useTranslation } from \"react-i18next\";\n\nexport default function NotificationsDropdownNavbar() {\n\n  const { t } = useTranslation();\n  const { notifications } = useStoreon(\"notifications\");\n  if (!notifications) {\n    return null;\n  }\n\n  return (\n    <div\n      className={\n        `menu dropdown${notifications.length ? \" cursor-pointer\" : \"\"}`\n      }\n      title={t(\"notifications\")}\n      tabindex=\"-1\"\n      onClick={e =>\n        notifications.length &&\n        e.currentTarget.classList.toggle(\"active\")\n      }\n    >\n      <div class=\"unselectable button-with-count\">\n        <FaIcon\n          family={notifications.length ? \"solid\" : \"regular\"}\n          icon={\"bell\"}\n        />\n        {!!notifications.filter(n => !n.read).length && (\n          <div class=\"unread-badge\" />\n        )}\n      </div>\n      <div class=\"dropdown-menu dropdown-right notifications-menu\">\n        <div class=\"notification-header\">\n          <strong class=\"capitalize\">{t(\"notifications\")}</strong>\n          <div\n            class=\"action capitalize\"\n            onClick={() => {\n              notifs.markAllNotificationsAsRead();\n            }}\n          >\n            {t(\"mark_all_as_read\")}\n          </div>\n        </div>\n        {notifications?.length && (\n          notifications.sort((a, b) => b.createdAt - a.createdAt).slice(0,notifs.LIMIT).map(e => <Notification key={e.id + e.read} {...e} />)\n        )}\n      </div>\n    </div>\n  );\n}\n","import { h, Component } from \"preact\";\nimport { http, util } from \"/src/core\";\nimport { withTranslation } from \"react-i18next\";\nimport { Navbar } from \"/src/navbar\";\n\nclass CreateGroup extends Component {\n  constructor() {\n    super();\n    this.postNewGroup = this.postNewGroup.bind(this);\n  }\n\n  postNewGroup(event) {\n    event.preventDefault();\n    const name = document.querySelector(\"#create_group_form input[name='name']\").value;\n    let group = {};\n    if (name) {\n      group.name = name;\n    } else {\n      return false;\n    }\n    group.createdAt = Math.floor(Date.now() / 1000);\n    http.post(\"/api/groups\", group).then(res => {\n      http.post(`/api/groups/invitation/${  res.secretKey}`, {}).then(res => {\n        window.location = util.toApp(`/groups/${res.id}`);\n      });\n    });\n  }\n\n  render() {\n    return (\n      <main>\n        <Navbar />\n        <div class=\"content\">\n          <div class=\"container mt-2\">\n            <div class=\"group-settings\">\n              <div class=\"card\">\n                <div class=\"card-body\">\n                  <div class=\"container-fluid p-1\">\n                    <div class=\"row\">\n                      <div class=\"col-12 col-md-10\">\n                        <form id=\"create_group_form\" class=\"mb-1\">\n                          <div class=\"form-group\">\n                            <label for=\"name\">{this.props.t(\"name\")}: </label>\n                            <input\n                              type=\"text\"\n                              name=\"name\"\n                              minlength=\"1\"\n                              maxlength=\"128\"\n                              placeholder={this.props.t(\"name_input\")}\n                              class=\"form-control\"\n                              required\n                            />\n                          </div>\n                          <button\n                            onClick={e => this.postNewGroup(e)}\n                            class=\"btn btn-primary\"\n                          >\n                            {this.props.t(\"create_the_group\")}\n                          </button>\n                        </form>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </main>\n    );\n  }\n}\n\nexport default withTranslation()(CreateGroup);\n","import { h } from \"preact\";\nimport { FaIcon } from \"/src/misc\";\nimport { Navbar } from \"/src/navbar\";\nimport { MessageList } from \"/src/message\";\nimport { Link, useParams } from \"react-router-dom\";\n\nexport default function GroupBoard() {\n  let params = useParams();\n  return (\n    <main>\n      <Navbar />\n      <div class=\"content\">\n        <div>\n          <div>\n            <article id=\"group\" class=\"justify-content-center d-flex\">\n              <div class=\"message-container container-fluid d-flex justify-content-center flex-wrap\">\n                <MessageList key={params.id} id={params.id} />\n              </div>\n            </article>\n          </div>\n          <Link\n            class=\"write-button material-shadow seamless-link\"\n            to={`/groups/${params.id}/write`}\n          >\n            <FaIcon family={\"solid\"} icon={\"pencil-alt\"} />\n          </Link>\n        </div>\n      </div>\n    </main>\n  );\n}\n","import { h, Fragment } from \"preact\";\nimport { util } from \"/src/core\";\nimport { useTranslation } from \"react-i18next\";\n\nexport default function HumanTime(props) {\n\n  const { t } = useTranslation();\n\n  // duration relative to event\n  const humanTime = timestamp => {\n    if (!timestamp) {\n      return null;\n    }\n    const duration = Math.abs(Math.round((Date.now() / 1000 - timestamp) / 60));\n    if (duration < 1) {\n      return t(\"just_now\");\n    }\n    if (duration < 60) {\n      return t(\"ago\", { duration: `${duration  }mn` });\n    }\n    if (duration < 60 * 24) {\n      return t(\"ago\", { duration: `${Math.floor(duration / 60)  }h` });\n    }\n    return util.humanFullDate(timestamp).split(\" \")[0];\n  };\n\n  return (\n    <Fragment>{humanTime(props.timestamp)}</Fragment>\n  );\n}\n","import { h, Fragment } from \"preact\";\nimport { http, util, notifications } from \"/src/core\";\nimport { useEffect, useState } from \"preact/hooks\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\nimport { FaIcon } from \"/src/misc\";\n\nexport default function Notification(props) {\n\n  const navigate = useNavigate();\n  const { t } = useTranslation();\n  const [target, setTarget] = useState(null);\n  const [action, setAction] = useState(null);\n  const [title, setTitle] = useState(null);\n  const [author, setAuthor] = useState(null);\n  const [notification, setNotification] = useState(null);\n\n  const getMiniature = (notification) => {\n    let imgSrc = util.defaultAvatar;\n    if (\n      notification?.miniature\n      && notification.type != \"global_notification\"\n    ) {\n      imgSrc = util.crop(notification?.miniature?.id, 80, 80);\n    }\n    return (\n      <img\n        style={util.backgroundHash(notification?.fromUser?.id)}\n        src={imgSrc}\n        onError={e => setMiniatureOnError(e)}\n      />\n    );\n  };\n\n  const setMiniatureOnError = (event) => {\n    event.currentTarget.src = util.defaultAvatar;\n  };\n\n  const getAction = (notification) => {\n    switch (notification?.type) {\n    case \"new_message\":\n      return t(\"has_posted_in\");\n    case \"new_comment\":\n      return t(\"has_commented_on\");\n    case \"user_joined_group\":\n      return t(\"has_joined\");\n    case \"user_left_group\":\n      return t(\"has_left\");\n    case \"group_name_change\":\n      return t(\"changed_group_name\");\n    default:\n      return \"\";\n    }\n  };\n\n  const getObject = (notification) => {\n    switch (notification?.type) {\n    case \"new_message\":\n      return (\n        <Fragment>\n          <strong>\n            {notification?.fromGroup.name}\n          </strong>\n          {title && (\n            <Fragment>\n              <br />\n              <small><em>{util.limitStrSize(title, 50)}</em></small>\n            </Fragment>\n          )}\n        </Fragment>\n      );\n    case \"new_comment\":\n      return (\n        <span>\n          {`${t(\"the_message_from\")  } `}\n          <strong>{notification?.parentAuthorName}</strong>\n          {title && (\n            <Fragment>\n              <br />\n              <small><em>{util.limitStrSize(title, 50)}</em></small>\n            </Fragment>\n          )}\n        </span>\n      );\n    case \"user_joined_group\":\n    case \"user_left_group\":\n      return (\n        <strong>\n          {notification?.fromGroup.name}\n        </strong>\n      );\n    case \"group_name_change\":\n      return (\n        <span>\n          <strong>{notification.data[\"previousGroupName\"]}</strong>\n          {` ${t(\"to\")} `}\n          <strong>{notification.data[\"newGroupName\"]}</strong>\n        </span>\n      );\n    case \"global_notification\":\n      return notification.data[\"text\"];\n    default:\n      return \"\";\n    }\n  };\n\n  const getTarget = (notification, message_id) => {\n    switch (notification?.type) {\n    case \"user_joined_group\":\n    case \"user_left_group\":\n    case \"group_name_change\":\n      return `/groups/${notification.fromGroup.id}`;\n    case \"new_message\":\n      return `/messages/${notification.target}`;\n    case \"new_comment\":\n      return (\n        `/messages/${message_id}/${notification.target}`\n      );\n    case \"global_notification\":\n      return notification.target;\n    default:\n      return \"\";\n    }\n  };\n\n  const onClick = (event, target) => {\n    event.preventDefault();\n    notifications.markAsRead(props.id).then(() => {\n      navigate(target);\n    });\n  };\n\n  useEffect(() => {\n    http.get(`/api/notifications/${props.id}`, false, 100).then(n => {\n      if (n) {\n        setTarget(getTarget(n, n.fromMessage?.id));\n        setAction(getAction(n));\n        setTitle(n.title);\n        if (n?.fromUser?.id) {\n          http.get(`/api/users/${n.fromUser.id}`).then(u => {\n            setAuthor(u);\n          });\n        }\n        setNotification(n);\n      }\n    });\n  }, []);\n\n  if (!notification) {\n    return null;\n  }\n  return (\n    <Link\n      key={props.id}\n      class={`notification seamless-link unselectable ${!notification.read ? \"unread\" : \"\"}`}\n      to={target}\n      title={title}\n    >\n      <div class=\"miniature unselectable\">{getMiniature(notification)}</div>\n      <div class=\"infos\">\n        <div class=\"description\">\n          {notification.type != \"global_notification\" && (\n            <Fragment>\n              <strong>{author?.name || \"--\"}</strong>\n              <span>{` ${action} `}</span>\n            </Fragment>\n          )}\n          {getObject(notification)}\n        </div>\n        <div class=\"date\">\n          {util.humanTime(notification.createdAt)}\n        </div>\n      </div>\n      <div\n        class=\"options dropdown\"\n        onClick={e => {\n          e.stopPropagation();\n          e.preventDefault();\n          e?.target?.closest(\".dropdown\")?.classList.toggle(\"active\");\n        }}\n      >\n        <div class=\"none-if-follows-empty\">\n          <FaIcon family=\"solid\" icon=\"ellipsis-h\" />\n        </div>\n        <div class=\"dropdown-menu dropdown-options\">\n          <a\n            class=\"seamless-link capitalize\"\n            onClick={() => notifications.removeMatchingNotifications(notification.id)}\n          >\n            {t(\"delete\")}\n          </a>\n        </div>\n      </div>\n    </Link>\n  );\n}\n","import { h } from \"preact\";\nimport { http } from \"/src/core\";\nimport { useParams, Navigate } from \"react-router-dom\";\nimport { useEffect, useState } from \"preact/hooks\";\n\nexport default function RandomMessage() {\n  const params = useParams();\n  const [message, setMessage] = useState(null);\n\n  useEffect(() => {\n    http.get(`/api/groups/${params.id}/random`).then(m => {\n      setMessage(m);\n    });\n  }, []);\n\n  if (message) {\n    return <Navigate to={`/messages/${message.id}`} replace={true} />;\n  }\n}\n","import { h } from \"preact\";\nimport { router } from \"/src/core\";\nimport { FaIcon } from \"/src/misc\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\n\nexport default function Search() {\n\n  const { t } = useTranslation();\n  const navigate = useNavigate();\n\n  function search(evt) {\n    evt.preventDefault();\n    router.getEntity().then(entity => {\n      let group_id = null;\n      switch (entity.entityType) {\n      case \"group\":\n        group_id = entity.id;\n        break;\n      case \"message\":\n        group_id = entity.group.id;\n        break;\n      default:\n      }\n      // https://stackoverflow.com/a/37511463\n      let searchTerms = document\n        .getElementById(\"search\")\n        .value.normalize(\"NFD\")\n        .replace(/[\\u0300-\\u036f]/g, \"\")\n        .split(\" \");\n      navigate(`/groups/${group_id}/search?q=${searchTerms.join(\"+\")}`);\n      window.dispatchEvent(new CustomEvent(\"groupSearch\"));\n    });\n  }\n\n  return (\n    <form class=\"navbar-block search-block\" onSubmit={e => search(e)}>\n      <div class=\"input-group\">\n        <input\n          class=\"form-control\"\n          type=\"text\"\n          id=\"search\"\n          placeholder={t(\"search_in_group\")}\n          value={router.getParam(\"q\").replace(/\\+/g, \" \")}\n        />\n        <div class=\"input-group-append\">\n          <button\n            class=\"btn btn-secondary\"\n            type=\"submit\"\n          >\n            <FaIcon family={\"solid\"} icon={\"search\"} />\n          </button>\n        </div>\n      </div>\n    </form>\n  );\n}\n","import { h } from \"preact\";\nimport { me as meService, http } from \"/src/core\";\nimport { Writer } from \"/src/writer\";\nimport { Navbar } from \"/src/navbar\";\nimport { useStoreon } from \"storeon/preact\";\nimport { useLocation } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\nimport { useEffect, useState } from \"preact/hooks\";\n\nexport default function Share() {\n\n  const { t } = useTranslation();\n  const { me } = useStoreon(\"me\");\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n\n  const [loaded, setLoaded] = useState(false);\n  const [title, setTitle] = useState(searchParams.get(\"title\") || \"\");\n  const [text, setText] = useState(searchParams.get(\"text\") || \"\");\n  const [url, setUrl] = useState(searchParams.get(\"url\") || \"\");\n  const parent = searchParams.get(\"parent\") || \"\";\n  const [files, setFiles] = useState([]);\n  const [group, setGroup] = useState(\"\");\n\n  useEffect(() => {\n    setTimeout(() => {\n      meService.fetch().then(user => {\n        if (user.data[\"default_group\"]) {\n          setGroup(user.data[\"default_group\"]);\n        } else if (user.groups.length == 1) {\n          setGroup(user.groups[0][\"id\"]);\n        }\n        if(searchParams.get(\"message\")) {\n          http.get(`/api/messages/${searchParams.get(\"message\")}`)\n            .then(m => {\n              if (m?.files?.length) {\n                Promise.all(m.files.map(f => http.get(`/api/files/${f.id}`).then(f => f))).then(\n                  files => {\n                    setFiles(files);\n                    setTitle(m?.data?.title || \"\");\n                    setText(m?.data?.text || \"\");\n                    setUrl(\"\");\n                    setLoaded(true);\n                  }\n                );\n              } else {\n                setTitle(m?.data?.title || \"\");\n                setText(m?.data?.text || \"\");\n                setUrl(\"\");\n                setLoaded(true);\n              }\n            });\n        } else {\n          setLoaded(true);\n        }\n      });\n    }, 100);\n  }, []);\n\n  if (!loaded) {\n    return;\n  }\n\n  return (\n    <main>\n      <Navbar />\n      <div class=\"content\">\n        <article class=\"mt-2\">\n          <div class=\"container\">\n            {!parent && me?.groups?.length > 1 && (\n              <div class=\"mb-1\">\n                <label class=\"px-1\" for=\"group_share_choice\">\n                  {t(\"group_share_choice\")}\n                </label>\n                <select\n                  value={group}\n                  class=\"form-select\"\n                  name=\"group_share_choice\"\n                  onChange={e => setGroup(e.target.value)}\n                  required\n                >\n                  {me?.groups.map(e => (\n                    <option key={e[\"id\"]} value={e[\"id\"]}>{e.name}</option>\n                  ))}\n                </select>\n              </div>\n            )}\n            {!!parent && (\n              <div class=\"form-group\">\n                <label for=\"apiKey\">\n                  {t(\"parent_message\")}:{\" \"}\n                </label>\n                <input\n                  type=\"text\"\n                  name=\"parent_message\"\n                  value={parent}\n                  class=\"form-control font-size-80\"\n                  readonly=\"readonly\"\n                />\n              </div>\n            )}\n            <Writer\n              focus={true}\n              group={group}\n              title={title}\n              parent={parent}\n              text={text || url ? `${text}\\n${url}` : \"\"}\n              files={files}\n            />\n          </div>\n        </article>\n      </div>\n    </main>\n  );\n}\n","import _GroupWriter from \"./group-writer.component.js\";\nimport _Writer from \"./writer.component.js\";\nimport _WritingWidget from \"./writing-widget.component.js\";\n\nexport const GroupWriter = _GroupWriter;\nexport const Writer = _Writer;\nexport const WritingWidget = _WritingWidget;\n","import { h } from \"preact\";\nimport { Writer } from \"/src/writer\";\nimport { Navbar } from \"/src/navbar\";\nimport { useParams } from \"react-router-dom\";\n\nexport default function GroupWriter() {\n  let params = useParams();\n\n  return (\n    <main>\n      <Navbar />\n      <div class=\"content\">\n        <article class=\"mb-3\">\n          <div class=\"container pb-3\">\n            <Writer focus={true} group={params.id} />\n          </div>\n        </article>\n      </div>\n    </main>\n  );\n}\n","import { h } from \"preact\";\nimport { alert, http, util, me } from \"/src/core\";\nimport { useTranslation } from \"react-i18next\";\nimport { WritingWidget } from \"/src/writer\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useState, useEffect, useRef } from \"preact/hooks\";\n\n// trick from https://stackoverflow.com/a/53837442\nfunction useForceUpdate() {\n  const [value, setValue] = useState(0); // integer state\n  return () => setValue(value => value + 1); // update state to force render\n}\n\nexport default function Writer(props) {\n\n  const { t } = useTranslation();\n  const navigate = useNavigate();\n  const [files, setFiles] = useState(props?.files || []);\n  const [sending, setSending] = useState(false);\n  const [uploading, setUploading] = useState(false);\n  const forceUpdate = useForceUpdate();\n  const writerId = util.genId();\n\n  // This allows to have the latest state of files in callbacks\n  // https://stackoverflow.com/a/60643670\n  const currentFiles = useRef();\n  currentFiles.current = files;\n\n  const setForm = (writerForm, files = [], title = \"\", text = \"\") => {\n    setFiles(files);\n    Array.from(writerForm.current.getElementsByClassName(\"title-input\")).map(e => e.value = title);\n    Array.from(writerForm.current.getElementsByClassName(\"text-input\")).map(e => e.value = text);\n  };\n\n  const updateFile = (id, file) => {\n    setFiles(currentFiles.current.map(f => f.id === id ? Object.assign(f, file) : f));\n  };\n\n  const invertFiles = (id_a, id_b) => {\n    const index_a = files.findIndex(e => e.id === id_a);\n    const index_b = files.findIndex(e => e.id === id_b);\n    [files[index_a], files[index_b]] = [files[index_b], files[index_a]];\n    setFiles(files);\n    forceUpdate();\n  };\n\n  const removeFile = id => {\n    setFiles(files.filter(f => f.id != id));\n  };\n\n  const uploadFile = fileId => {\n    const formData = new FormData();\n    let file = files.find(e => e.id == fileId);\n    if (!file || !file.inputFile) {\n      // TODO handle this properly\n      console.error(files, file, fileId);\n      throw \"error\";\n    }\n\n    formData.append(\"file\", file.inputFile);\n\n    updateFile(fileId, Object.assign(file, {status: \"uploading\"}));\n    setUploading(true);\n\n    http.sendFile(\n      formData,\n      file => {\n        setUploading(false);\n        updateFile(fileId, Object.assign({status: \"ready\"}, file));\n      },\n      e => {\n        updateFile(\n          fileId,\n          {status: \"uploading\", progress: Math.floor((e.loaded / e.total) * 100)}\n        );\n      },\n      e => {\n        setUploading(false);\n        console.warn(e);\n        alert.add(t(\"error_upload\"), \"alert-danger\");\n        removeFile(fileId);\n      }\n    );\n  };\n\n  const putMessage = (msg, writerForm) => {\n    http.put(`/api/messages/${props.messageId}`, msg).then(res => {\n      setForm(writerForm, [], \"\", \"\");\n      setSending(false);\n      if (!res) {\n        alert.add(t(\"error_new_message\"), \"alert-danger\");\n        return;\n      }\n      window.dispatchEvent(new CustomEvent(\"editMessage\", { detail: res }));\n    });\n    setSending(true);\n  };\n\n  const postMessage = (msg, writerForm) => {\n    msg = Object.assign(msg, {\n      createdAt: Math.floor(Date.now() / 1000),\n      author: me.id,\n      group: util.getId(props.group),\n      children: [],\n      lastActivityDate: Math.floor(Date.now() / 1000)\n    });\n    if (props.parent) {\n      msg.parent = util.getId(props.parent);\n    }\n    // don't post if there is nothing to post\n    if (!msg.files.length && !msg.data.text && !msg.data.title) {\n      alert.add(t(\"empty_message\"), \"alert-danger\");\n      return;\n    }\n    http.post(\"/api/messages\", msg).then(res => {\n      if (!res) {\n        setSending(false);\n        alert.add(t(\"error_new_message\"), \"alert-danger\");\n        return;\n      }\n      if (props.isChild) {\n        setSending(false);\n        window.dispatchEvent(new CustomEvent(\"newChild\", { detail: res }));\n      } else {\n        navigate(`/messages/${res.id}`);\n      }\n      setForm(writerForm, [], \"\", \"\");\n    });\n    setSending(true);\n  };\n\n  const sendMessage = (writerForm, data) => {\n    let msg = {\n      files: files.filter(e => !e?.removed).filter(e => [\"ready\", \"raw\"].includes(e?.status)).map(e => e?.id).filter(e => !!e),\n      data: {\n        title: data?.title,\n        text: data?.text,\n      }\n    };\n    if (props.messageId) {\n      putMessage(msg, writerForm);\n    } else {\n      postMessage(msg, writerForm);\n    }\n  };\n\n  // toggle state (removed or not) of a file\n  const toggleFile = id => {\n    setFiles(files.map(f => {\n      if (f.id == id) {\n        f.removed = !f.removed;\n      }\n      return f;\n    }));\n  };\n\n  const addFiles = (mimetype, input_files) => {\n    let list = Array.from(input_files).map(e => ({\n      inputFile: e,\n      type: mimetype,\n      id: util.genId(),\n      progress: 0,\n      status: \"initial\",\n    }));\n    setFiles([...files, ...list]);\n  };\n\n  const inputFile = (mimetype, multiple = false) => {\n    const input = document.createElement(\"input\");\n    document.body.appendChild(input);\n    input.style.display = \"none\";\n    input.type = \"file\";\n    input.accept = mimetype;\n    if (multiple) {\n      input.multiple = \"multiple\";\n    }\n    input.addEventListener(\"change\", event => {\n      addFiles(mimetype, event.target.files);\n    });\n    input.click();\n  };\n\n  useEffect(() => {\n    if (files.filter(e => e.status === \"uploading\").length < 2) {\n      for (let i = 0; i < files.length; i++) {\n        if (files[i].status == \"initial\" && !!files[i].inputFile) {\n          uploadFile(files[i].id);\n          break;\n        }\n      }\n    }\n  }, [files]);\n\n  return (\n    <WritingWidget\n      id={writerId}\n      sending={sending}\n      uploading={uploading}\n      inputFile={inputFile}\n      sendMessage={sendMessage}\n      cancel={props.cancel}\n      files={files}\n      toggleFile={toggleFile}\n      invertFiles={invertFiles}\n      addFiles={addFiles}\n      group={props.group}\n      isChild={props.isChild}\n      text={props.text}\n      title={props.title}\n    />\n  );\n}\n","import { h } from \"preact\";\nimport { http, util, api } from \"/src/core\";\nimport { FaIcon } from \"/src/misc\";\nimport { EmbedBlock, FileGrid } from \"/src/embed\";\nimport { useTranslation } from \"react-i18next\";\nimport { useState, useRef, useEffect } from \"preact/hooks\";\n\nexport default function WritingWidget(props) {\n  const [preview, setPreview] = useState(null);\n  const [link, setLink] = useState(\"\");\n  const [text, setText] = useState(props.text || \"\");\n  const [title, setTitle] = useState(props.title || \"\");\n  const { t } = useTranslation();\n  const writerForm = useRef(null);\n\n  const cleanForm = () => {\n    setPreview(null);\n    setLink(null);\n    setText(\"\");\n    setTitle(\"\");\n  };\n\n  const sendMessage = writerForm => {\n    props.sendMessage(writerForm, {\n      // we get the raw value here because onChange() does not capture all possible inputs\n      // and then the values of text/title could not be up to date\n      title: writerForm?.current?.querySelector(\".title-input\")?.value,\n      text: writerForm?.current?.querySelector(\".text-input\")?.value,\n    });\n    cleanForm();\n  };\n\n  const genPreview = t => {\n    if (!t) {\n      return;\n    }\n    t.style.height = \"1px\";\n    t.style.height = `${25 + t.scrollHeight}px`;\n    // waiting for the dom to be updated\n    setTimeout(() => {\n      const text = t.value;\n      let links = text.match(/(https?:\\/\\/[^\\s]+)/gi);\n      if (links && links[0] != link) {\n        http\n          .get(`/api/links/by_url?url=${encodeURIComponent(links[0])}`)\n          .then(r => {\n            if (r && t.value.indexOf(links[0]) >= 0) {\n              setLink(links[0]);\n              setPreview(r);\n            }\n          });\n      }\n    }, 0);\n  };\n\n  const onKeyPress = (event, doGenPreview = false) => {\n    if (event.ctrlKey && util.is_it_enter(event)) {\n      sendMessage(writerForm);\n      return;\n    }\n    if (![\" \", \"Enter\", \"v\"].includes(event.key)) {\n      return;\n    }\n    if (doGenPreview) {\n      genPreview(event.currentTarget);\n    }\n  };\n\n  const onPaste = (event) => {\n    props.addFiles(\"image/jpeg\", event.clipboardData.files);\n  };\n\n  useEffect(() => {\n    genPreview(document?.getElementById(props.id)?.querySelector(\".text-input\"));\n  }, []);\n\n  if (props.sending) {\n    return (\n      <div class=\"message-placeholder\">\n        <div class=\"spinner orange-spinner\">\n          <div /><div /><div /><div /><div />\n        </div>\n      </div>\n    );\n  }\n  return (\n    <div id={props.id} class=\"writer\" ref={writerForm}>\n      {!props.isChild && (\n        <input\n          type=\"text\"\n          class=\"title-input\"\n          onKeyPress={e => onKeyPress(e)}\n          placeholder={t(\"title_placeholder\")}\n          value={title}\n          onChange={e => setTitle(e.target.value)}\n        />\n      )}\n      <textarea\n        onKeyPress={e => onKeyPress(e, true)}\n        onPaste={e => onPaste(e)}\n        class=\"text-input\"\n        rows=\"5\"\n        autocomplete=\"off\"\n        autofocus={props.focus}\n        placeholder={t(\"text_placeholder\")}\n        maxlength=\"50000\"\n        value={text}\n        onChange={e => setText(e.target.value)}\n      />\n      {!!preview && (\n        <EmbedBlock inWriter={true} {...preview} />\n      )}\n      {!!props.files.length && (\n        <FileGrid\n          files={props.files}\n          toggleFile={props.toggleFile}\n          invertFiles={props.invertFiles}\n          inWriter={true}\n        />\n      )}\n      <div class=\"options\">\n        {api?.info?.upload?.image && (\n          <button\n            class=\"option\"\n            onClick={() => props.inputFile(\"image/*\", true)}\n            title={t(\"upload_image\")}\n          >\n            <FaIcon family={\"regular\"} icon={\"images\"} />\n          </button>\n        )}\n        {api?.info?.upload?.video && (\n          <button\n            class=\"option\"\n            onClick={() => props.inputFile(\"video/*\")}\n            title={t(\"upload_video\")}\n          >\n            <FaIcon family={\"solid\"} icon={\"film\"} />\n          </button>\n        )}\n        {api?.info?.upload?.pdf && (\n          <button\n            class=\"option\"\n            onClick={() => props.inputFile(\"application/pdf\")}\n            title={t(\"upload_pdf\")}\n          >\n            <FaIcon family={\"regular\"} icon={\"file-pdf\"} />\n          </button>\n        )}\n        {api?.info?.upload?.audio && (\n          <button\n            class=\"option\"\n            onClick={() => props.inputFile(\"audio/*\")}\n            title={t(\"upload_audio\")}\n          >\n            <FaIcon family={\"solid\"} icon={\"headphones-alt\"} />\n          </button>\n        )}\n        <div class=\"actions\">\n          {!!props.cancel && (\n            <button class=\"cancel\" onClick={e => props.cancel(e)}>\n              {t(\"cancel\")}\n            </button>\n          )}\n          <button\n            disabled={!props.group || props.uploading}\n            type=\"submit\"\n            class=\"submit\"\n            onClick={() => sendMessage(writerForm)}\n          >\n            {t(\"submit\")}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import _EmbedBlock from \"./embed-block.component.js\";\nimport _FileGrid from \"./file-grid.component.js\";\nimport _BigFile from \"./big-file.component.js\";\nimport _MiniFile from \"./mini-file.component.js\";\n\nexport const EmbedBlock = _EmbedBlock;\nexport const FileGrid = _FileGrid;\nexport const BigFile = _BigFile;\nexport const MiniFile = _MiniFile;\n","import { h } from \"preact\";\nimport { util, router } from \"/src/core\";\nimport { useState, useEffect } from \"preact/hooks\";\nimport BandCampEmbed from \"./bandcamp-embed.component.js\";\nimport GenericEmbed from \"./generic-embed.component.js\";\nimport GLightbox from \"glightbox\";\n\nexport default function EmbedBlock(props) {\n\n  const [lightbox, setLightbox] = useState(null);\n\n  useEffect(() => {\n    setLightbox(GLightbox({\n      autoplayVideos: false,\n      draggable: true,\n      loop: false,\n      touchNavigation: true,\n      zoomable: true,\n      elements: [],\n    }));\n  }, []);\n\n  const openLightbox = evt => {\n    evt.preventDefault();\n    evt.stopPropagation();\n    if (lightbox != null && Array.from(document.getElementsByClassName(\"glightbox\")).length > 0) {\n      const elements = Array.from(document.getElementsByClassName(\"glightbox\")).map(e => {\n        const r = {href: e.href};\n        if (e?.dataset?.width) {\n          r.width = e?.dataset?.width;\n        }\n        if (e?.dataset?.height) {\n          r.height = e?.dataset?.height;\n        }\n        if (e?.dataset?.type) {\n          r.type = e?.dataset?.type;\n        }\n        if (e?.dataset?.srcset) {\n          r.srcset = e?.dataset?.srcset;\n        }\n        if (e?.dataset?.sizes) {\n          r.sizes = e?.dataset?.sizes;\n        }\n        return r;\n      });\n      lightbox.setElements(elements);\n      lightbox.open(null, elements.findIndex(e => e.href === evt.target.closest(\".glightbox\").href));\n    }\n  };\n\n  const getPreview = () => {\n    if (props?.data?.exception) {\n      console.warn(props.data);\n    }\n    if (props.data[\"providerName\"]) {\n      if (\"peertube\" == props.data[\"providerName\"].toLowerCase()) {\n        // default embed code\n        if (props.data[\"code\"]) {\n          return (\n            <div class=\"embed-container\" dangerouslySetInnerHTML={{ __html: props.data[\"code\"] }} />\n          );\n        }\n      }\n      if (\"soundcloud\" == props.data[\"providerName\"].toLowerCase()) {\n        if (props.data[\"code\"]) {\n          return (\n            <GenericEmbed\n              preview={util.crop(props.preview.id, 1024, 270)}\n              url={\n                `${props.data[\"code\"].match(/https:\\/\\/[^\"\\s]+/)[0] \n                }&auto_play=true`\n              }\n              playBtnClass={\"soundcloud\"}\n            />\n          );\n        }\n      }\n      if (\"bandcamp\" == props.data[\"providerName\"].toLowerCase()) {\n        if (props.data[\"code\"]) {\n          let id = props.data[\"code\"].match(/https:\\/\\/.*album=\\d+/);\n          if (!id) {\n            id = props.data[\"code\"].match(/https:\\/\\/.*track=\\d+/);\n          }\n          if (id) {\n            return (\n              <BandCampEmbed\n                preview={util.crop(props.preview.id, 1024, 270)}\n                url={id[0]}\n              />\n            );\n          }\n        }\n      }\n      if (\"lichess.org\" == props.data[\"providerName\"].toLowerCase()) {\n        let url = props?.data?.url && typeof(props?.data.url) == \"string\" ? props.data?.url : props.url;\n        if (util.isValidUrl(url) && !url.match(/embed/) && !url.match(/study/) && !url.match(/blog/)) {\n          url = new URL(url.replace(\"lichess.org/\", \"lichess.org/embed/\"));\n          let id;\n          try {\n            id = url.pathname.split(\"/\").slice(-1)[0];\n          } catch (e) {\n            id = \"\";\n          }\n          url = new URL(url.href.replace(id, id.slice(0, 8)));\n          if (id) {\n            return (\n              <GenericEmbed\n                preview={util.crop(props.preview.id, 270, 270)}\n                url={url}\n                playBtnClass={\"lichess\"}\n              />\n            );\n          }\n        }\n      }\n      if (\"youtube\" == props.data[\"providerName\"].toLowerCase()) {\n        let url = props.url;\n        if (props?.preview?.id && url) {\n          url = new URL(url);\n          let video_id;\n          let playlist_id;\n          if (\n            url.host == \"www.youtube.com\"\n            || url.host == \"m.youtube.com\"\n            || url.host == \"youtube.com\"\n            || url.host == \"music.youtube.com\"\n          ) {\n            if(url.pathname.match(/shorts/)) {\n              video_id = [`v=${url.pathname.split(\"/\").slice(-1)[0]}`];\n              playlist_id = [];\n            } else if(url.pathname.match(/embed/)) {\n              video_id = [`v=${url.pathname.split(\"/\").slice(-1)[0]}`];\n              playlist_id = [];\n            } else {\n              video_id = url.search.substring(1).split(\"&\").filter(e => e.match(/^v=/));\n              playlist_id = url.search.substring(1).split(\"&\").filter(e => e.match(/^list=/));\n            }\n          }\n          if (url.host == \"youtu.be\") {\n            video_id = [`v=${url.pathname.slice(1)}`];\n            playlist_id = [];\n          }\n          let timecode = router.getParam(\"t\", url.search.substring(1));\n          if (playlist_id.length && video_id.length) {\n            return (\n              <GenericEmbed\n                preview={util.crop(props.preview.id, 1024, 270)}\n                url={\n                  `https://youtube.com/embed/${video_id[0].split(\"=\")[1]}?autoplay=1&controls=2&wmode=opaque&list=${playlist_id[0].split(\"=\")[1]}${timecode ? `&start=${timecode}` : \"\"}`\n                }\n                playBtnClass={\"youtube\"}\n              />\n            );\n          }\n          if (playlist_id.length) {\n            return (\n              <GenericEmbed\n                preview={util.crop(props.preview.id, 1024, 270)}\n                url={\n                  `https://youtube.com/embed/videoseries?list=${playlist_id[0].split(\"=\")[1]}&autoplay=1&controls=2&wmode=opaque${timecode ? `&start=${timecode}` : \"\"}`\n                }\n                playBtnClass={\"youtube\"}\n              />\n            );\n          }\n          if (video_id.length) {\n            return (\n              <GenericEmbed\n                preview={util.crop(props.preview.id, 1024, 270)}\n                url={\n                  `https://youtube.com/embed/${video_id[0].split(\"=\")[1]}?autoplay=1&controls=2&wmode=opaque${timecode ? `&start=${timecode}` : \"\"}`\n                }\n                playBtnClass={\"youtube\"}\n              />\n            );\n          }\n        }\n      }\n    }\n    if (props.data[\"content-type\"] == \"image/gif\") {\n      return (\n        <div class=\"container d-flex justify-content-center flex-wrap align-items-center\">\n          <img\n            href={util.toApp(props.url)}\n            class=\"img-fluid\"\n            data-origin={props.url}\n            data-src={props.url}\n            src={props.url}\n          />\n        </div>\n      );\n    }\n    if (/image/.test(props.data[\"content-type\"])) {\n      return (\n        <div class=\"container d-flex justify-content-center flex-wrap align-items-center\">\n          <a\n            href={util.toApp(props.url)}\n            class=\"glightbox\"\n            data-type=\"image\"\n            data-srcset={`${util.thumbnail(props.preview.id, 720)} 720w, ${util.thumbnail(props.preview.id, 1366)} 1366w, ${util.thumbnail(props.preview.id, 2048)} 2048w`}\n            data-sizes=\"(max-width: 992px) 720px, (max-width: 1400px) 1366px, 2048px\"\n            onClick={e => openLightbox(e)}\n          >\n            <img\n              href={util.toApp(props.url)}\n              class=\"img-fluid cursor-pointer\"\n              data-origin={props.url}\n              data-src={util.thumbnail(props.preview.id, 1366)}\n              src={util.thumbnail(props.preview.id, 2048)}\n            />\n          </a>\n        </div>\n      );\n    }\n    // application/ogg: https://developer.mozilla.org/en-US/docs/Web/HTTP/Configuring_servers_for_Ogg_media\n    if (/video/.test(props.data[\"content-type\"]) || props.data[\"content-type\"] == \"application/ogg\") {\n      return (\n        <div class=\"container d-flex justify-content-center flex-wrap align-items-center\">\n          <video class=\"img-fluid\" controls src={props.url} />\n        </div>\n      );\n    }\n    if (/audio/.test(props.data[\"content-type\"])) {\n      return (\n        <div class=\"container d-flex justify-content-center flex-wrap align-items-center\">\n          <audio class=\"w-100\" controls>\n            <source src={props.url} />\n          </audio>\n        </div>\n      );\n    }\n    if (\n      props.data[\"title\"] &&\n      (props.preview || props.data[\"description\"])\n    ) {\n      return (\n        <a\n          class=\"preview-card seamless-link d-inline-block\"\n          target=\"_blank\"\n          rel=\"noreferrer\"\n          href={util.toApp(props.url)}\n        >\n          <div class=\"card\" style=\"max-width: 480px\">\n            {props.preview && (\n              <img\n                class=\"card-img-top\"\n                src={util.crop(props.preview.id, 320, 180)}\n              />\n            )}\n            <div class=\"card-body p-1\">\n              <h5>{props.data[\"title\"]}</h5>\n              {props.data[\"description\"] && (\n                <p>\n                  <small>{props.data[\"description\"].slice(0, 500)}</small>\n                </p>\n              )}\n            </div>\n          </div>\n        </a>\n      );\n    }\n    return null;\n  };\n\n  if (!props.url || !props.data) {\n    return null;\n  }\n  let preview = getPreview();\n  if (preview) {\n    return <p class=\"text-center card-text\">{preview}</p>;\n  }\n  return null;\n}\n","import { h, Component } from \"preact\";\n\nexport default class BandCampEmbed extends Component {\n  render() {\n    const embedUrl =\n      `${this.props.url \n      }/size=large/bgcol=f5f5f5/linkcol=0687f5/minimal=true/tracklist=false/`;\n    if (this.state.revealed) {\n      return (\n        <div class=\"bandcamp-embed embed-responsive embed-responsive-1by1\">\n          <iframe class=\"embed-responsive-item\" src={embedUrl} />\n        </div>\n      );\n    }\n    return (\n      <div\n        class=\"embed-preview\"\n        onClick={() => this.setState({ revealed: true })}\n      >\n        <div class=\"bandcamp\" />\n        <img src={this.props.preview} />\n      </div>\n    );\n  }\n}\n","import { h, Component } from \"preact\";\n\nexport default class GenericEmbed extends Component {\n  render() {\n    if (this.state.revealed) {\n      return (\n        <div class=\"embed-responsive embed-responsive-16by9\">\n          <iframe\n            allowfullscreen\n            class=\"embed-responsive-item\"\n            src={this.props.url}\n          />\n        </div>\n      );\n    }\n    return (\n      <div\n        class=\"embed-preview\"\n        onClick={() => this.setState({revealed: true})}\n      >\n        <div className={this.props.playBtnClass} />\n        <img src={this.props.preview} />\n      </div>\n    );\n  }\n}\n","!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):(e=e||self).GLightbox=t()}(this,(function(){\"use strict\";function e(t){return(e=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function i(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}var s=Date.now();function l(){var e={},t=!0,i=0,n=arguments.length;\"[object Boolean]\"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],i++);for(var s=function(i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t&&\"[object Object]\"===Object.prototype.toString.call(i[n])?e[n]=l(!0,e[n],i[n]):e[n]=i[n])};i<n;i++){var o=arguments[i];s(o)}return e}function o(e,t){if((k(e)||e===window||e===document)&&(e=[e]),A(e)||L(e)||(e=[e]),0!=P(e))if(A(e)&&!L(e))for(var i=e.length,n=0;n<i&&!1!==t.call(e[n],e[n],n,e);n++);else if(L(e))for(var s in e)if(O(e,s)&&!1===t.call(e[s],e[s],s,e))break}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=e[s]=e[s]||[],l={all:n,evt:null,found:null};return t&&i&&P(n)>0&&o(n,(function(e,n){if(e.eventName==t&&e.fn.toString()==i.toString())return l.found=!0,l.evt=n,!1})),l}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.onElement,n=t.withCallback,s=t.avoidDuplicate,l=void 0===s||s,a=t.once,h=void 0!==a&&a,d=t.useCapture,c=void 0!==d&&d,u=arguments.length>2?arguments[2]:void 0,g=i||[];function v(e){T(n)&&n.call(u,e,this),h&&v.destroy()}return C(g)&&(g=document.querySelectorAll(g)),v.destroy=function(){o(g,(function(t){var i=r(t,e,v);i.found&&i.all.splice(i.evt,1),t.removeEventListener&&t.removeEventListener(e,v,c)}))},o(g,(function(t){var i=r(t,e,v);(t.addEventListener&&l&&!i.found||!l)&&(t.addEventListener(e,v,c),i.all.push({eventName:e,fn:v}))})),v}function h(e,t){o(t.split(\" \"),(function(t){return e.classList.add(t)}))}function d(e,t){o(t.split(\" \"),(function(t){return e.classList.remove(t)}))}function c(e,t){return e.classList.contains(t)}function u(e,t){for(;e!==document.body;){if(!(e=e.parentElement))return!1;if(\"function\"==typeof e.matches?e.matches(t):e.msMatchesSelector(t))return e}}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e||\"\"===t)return!1;if(\"none\"===t)return T(i)&&i(),!1;var n=x(),s=t.split(\" \");o(s,(function(t){h(e,\"g\"+t)})),a(n,{onElement:e,avoidDuplicate:!1,once:!0,withCallback:function(e,t){o(s,(function(e){d(t,\"g\"+e)})),T(i)&&i()}})}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\";if(\"\"===t)return e.style.webkitTransform=\"\",e.style.MozTransform=\"\",e.style.msTransform=\"\",e.style.OTransform=\"\",e.style.transform=\"\",!1;e.style.webkitTransform=t,e.style.MozTransform=t,e.style.msTransform=t,e.style.OTransform=t,e.style.transform=t}function f(e){e.style.display=\"block\"}function p(e){e.style.display=\"none\"}function m(e){var t=document.createDocumentFragment(),i=document.createElement(\"div\");for(i.innerHTML=e;i.firstChild;)t.appendChild(i.firstChild);return t}function y(){return{width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}}function x(){var e,t=document.createElement(\"fakeelement\"),i={animation:\"animationend\",OAnimation:\"oAnimationEnd\",MozAnimation:\"animationend\",WebkitAnimation:\"webkitAnimationEnd\"};for(e in i)if(void 0!==t.style[e])return i[e]}function b(e,t,i,n){if(e())t();else{var s;i||(i=100);var l=setInterval((function(){e()&&(clearInterval(l),s&&clearTimeout(s),t())}),i);n&&(s=setTimeout((function(){clearInterval(l)}),n))}}function S(e,t,i){if(I(e))console.error(\"Inject assets error\");else if(T(t)&&(i=t,t=!1),C(t)&&t in window)T(i)&&i();else{var n;if(-1!==e.indexOf(\".css\")){if((n=document.querySelectorAll('link[href=\"'+e+'\"]'))&&n.length>0)return void(T(i)&&i());var s=document.getElementsByTagName(\"head\")[0],l=s.querySelectorAll('link[rel=\"stylesheet\"]'),o=document.createElement(\"link\");return o.rel=\"stylesheet\",o.type=\"text/css\",o.href=e,o.media=\"all\",l?s.insertBefore(o,l[0]):s.appendChild(o),void(T(i)&&i())}if((n=document.querySelectorAll('script[src=\"'+e+'\"]'))&&n.length>0){if(T(i)){if(C(t))return b((function(){return void 0!==window[t]}),(function(){i()})),!1;i()}}else{var r=document.createElement(\"script\");r.type=\"text/javascript\",r.src=e,r.onload=function(){if(T(i)){if(C(t))return b((function(){return void 0!==window[t]}),(function(){i()})),!1;i()}},document.body.appendChild(r)}}}function w(){return\"navigator\"in window&&window.navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(Android)|(PlayBook)|(BB10)|(BlackBerry)|(Opera Mini)|(IEMobile)|(webOS)|(MeeGo)/i)}function T(e){return\"function\"==typeof e}function C(e){return\"string\"==typeof e}function k(e){return!(!e||!e.nodeType||1!=e.nodeType)}function E(e){return Array.isArray(e)}function A(e){return e&&e.length&&isFinite(e.length)}function L(t){return\"object\"===e(t)&&null!=t&&!T(t)&&!E(t)}function I(e){return null==e}function O(e,t){return null!==e&&hasOwnProperty.call(e,t)}function P(e){if(L(e)){if(e.keys)return e.keys().length;var t=0;for(var i in e)O(e,i)&&t++;return t}return e.length}function M(e){return!isNaN(parseFloat(e))&&isFinite(e)}function z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=document.querySelectorAll(\".gbtn[data-taborder]:not(.disabled)\");if(!t.length)return!1;if(1==t.length)return t[0];\"string\"==typeof e&&(e=parseInt(e));var i=[];o(t,(function(e){i.push(e.getAttribute(\"data-taborder\"))}));var n=Math.max.apply(Math,i.map((function(e){return parseInt(e)}))),s=e<0?1:e+1;s>n&&(s=\"1\");var l=i.filter((function(e){return e>=parseInt(s)})),r=l.sort()[0];return document.querySelector('.gbtn[data-taborder=\"'.concat(r,'\"]'))}function X(e){if(e.events.hasOwnProperty(\"keyboard\"))return!1;e.events.keyboard=a(\"keydown\",{onElement:window,withCallback:function(t,i){var n=(t=t||window.event).keyCode;if(9==n){var s=document.querySelector(\".gbtn.focused\");if(!s){var l=!(!document.activeElement||!document.activeElement.nodeName)&&document.activeElement.nodeName.toLocaleLowerCase();if(\"input\"==l||\"textarea\"==l||\"button\"==l)return}t.preventDefault();var o=document.querySelectorAll(\".gbtn[data-taborder]\");if(!o||o.length<=0)return;if(!s){var r=z();return void(r&&(r.focus(),h(r,\"focused\")))}var a=z(s.getAttribute(\"data-taborder\"));d(s,\"focused\"),a&&(a.focus(),h(a,\"focused\"))}39==n&&e.nextSlide(),37==n&&e.prevSlide(),27==n&&e.close()}})}function Y(e){return Math.sqrt(e.x*e.x+e.y*e.y)}function q(e,t){var i=function(e,t){var i=Y(e)*Y(t);if(0===i)return 0;var n=function(e,t){return e.x*t.x+e.y*t.y}(e,t)/i;return n>1&&(n=1),Math.acos(n)}(e,t);return function(e,t){return e.x*t.y-t.x*e.y}(e,t)>0&&(i*=-1),180*i/Math.PI}var N=function(){function e(i){t(this,e),this.handlers=[],this.el=i}return n(e,[{key:\"add\",value:function(e){this.handlers.push(e)}},{key:\"del\",value:function(e){e||(this.handlers=[]);for(var t=this.handlers.length;t>=0;t--)this.handlers[t]===e&&this.handlers.splice(t,1)}},{key:\"dispatch\",value:function(){for(var e=0,t=this.handlers.length;e<t;e++){var i=this.handlers[e];\"function\"==typeof i&&i.apply(this.el,arguments)}}}]),e}();function D(e,t){var i=new N(e);return i.add(t),i}var _=function(){function e(i,n){t(this,e),this.element=\"string\"==typeof i?document.querySelector(i):i,this.start=this.start.bind(this),this.move=this.move.bind(this),this.end=this.end.bind(this),this.cancel=this.cancel.bind(this),this.element.addEventListener(\"touchstart\",this.start,!1),this.element.addEventListener(\"touchmove\",this.move,!1),this.element.addEventListener(\"touchend\",this.end,!1),this.element.addEventListener(\"touchcancel\",this.cancel,!1),this.preV={x:null,y:null},this.pinchStartLen=null,this.zoom=1,this.isDoubleTap=!1;var s=function(){};this.rotate=D(this.element,n.rotate||s),this.touchStart=D(this.element,n.touchStart||s),this.multipointStart=D(this.element,n.multipointStart||s),this.multipointEnd=D(this.element,n.multipointEnd||s),this.pinch=D(this.element,n.pinch||s),this.swipe=D(this.element,n.swipe||s),this.tap=D(this.element,n.tap||s),this.doubleTap=D(this.element,n.doubleTap||s),this.longTap=D(this.element,n.longTap||s),this.singleTap=D(this.element,n.singleTap||s),this.pressMove=D(this.element,n.pressMove||s),this.twoFingerPressMove=D(this.element,n.twoFingerPressMove||s),this.touchMove=D(this.element,n.touchMove||s),this.touchEnd=D(this.element,n.touchEnd||s),this.touchCancel=D(this.element,n.touchCancel||s),this.translateContainer=this.element,this._cancelAllHandler=this.cancelAll.bind(this),window.addEventListener(\"scroll\",this._cancelAllHandler),this.delta=null,this.last=null,this.now=null,this.tapTimeout=null,this.singleTapTimeout=null,this.longTapTimeout=null,this.swipeTimeout=null,this.x1=this.x2=this.y1=this.y2=null,this.preTapPosition={x:null,y:null}}return n(e,[{key:\"start\",value:function(e){if(e.touches){if(e.target&&e.target.nodeName&&[\"a\",\"button\",\"input\"].indexOf(e.target.nodeName.toLowerCase())>=0)console.log(\"ignore drag for this touched element\",e.target.nodeName.toLowerCase());else{this.now=Date.now(),this.x1=e.touches[0].pageX,this.y1=e.touches[0].pageY,this.delta=this.now-(this.last||this.now),this.touchStart.dispatch(e,this.element),null!==this.preTapPosition.x&&(this.isDoubleTap=this.delta>0&&this.delta<=250&&Math.abs(this.preTapPosition.x-this.x1)<30&&Math.abs(this.preTapPosition.y-this.y1)<30,this.isDoubleTap&&clearTimeout(this.singleTapTimeout)),this.preTapPosition.x=this.x1,this.preTapPosition.y=this.y1,this.last=this.now;var t=this.preV;if(e.touches.length>1){this._cancelLongTap(),this._cancelSingleTap();var i={x:e.touches[1].pageX-this.x1,y:e.touches[1].pageY-this.y1};t.x=i.x,t.y=i.y,this.pinchStartLen=Y(t),this.multipointStart.dispatch(e,this.element)}this._preventTap=!1,this.longTapTimeout=setTimeout(function(){this.longTap.dispatch(e,this.element),this._preventTap=!0}.bind(this),750)}}}},{key:\"move\",value:function(e){if(e.touches){var t=this.preV,i=e.touches.length,n=e.touches[0].pageX,s=e.touches[0].pageY;if(this.isDoubleTap=!1,i>1){var l=e.touches[1].pageX,o=e.touches[1].pageY,r={x:e.touches[1].pageX-n,y:e.touches[1].pageY-s};null!==t.x&&(this.pinchStartLen>0&&(e.zoom=Y(r)/this.pinchStartLen,this.pinch.dispatch(e,this.element)),e.angle=q(r,t),this.rotate.dispatch(e,this.element)),t.x=r.x,t.y=r.y,null!==this.x2&&null!==this.sx2?(e.deltaX=(n-this.x2+l-this.sx2)/2,e.deltaY=(s-this.y2+o-this.sy2)/2):(e.deltaX=0,e.deltaY=0),this.twoFingerPressMove.dispatch(e,this.element),this.sx2=l,this.sy2=o}else{if(null!==this.x2){e.deltaX=n-this.x2,e.deltaY=s-this.y2;var a=Math.abs(this.x1-this.x2),h=Math.abs(this.y1-this.y2);(a>10||h>10)&&(this._preventTap=!0)}else e.deltaX=0,e.deltaY=0;this.pressMove.dispatch(e,this.element)}this.touchMove.dispatch(e,this.element),this._cancelLongTap(),this.x2=n,this.y2=s,i>1&&e.preventDefault()}}},{key:\"end\",value:function(e){if(e.changedTouches){this._cancelLongTap();var t=this;e.touches.length<2&&(this.multipointEnd.dispatch(e,this.element),this.sx2=this.sy2=null),this.x2&&Math.abs(this.x1-this.x2)>30||this.y2&&Math.abs(this.y1-this.y2)>30?(e.direction=this._swipeDirection(this.x1,this.x2,this.y1,this.y2),this.swipeTimeout=setTimeout((function(){t.swipe.dispatch(e,t.element)}),0)):(this.tapTimeout=setTimeout((function(){t._preventTap||t.tap.dispatch(e,t.element),t.isDoubleTap&&(t.doubleTap.dispatch(e,t.element),t.isDoubleTap=!1)}),0),t.isDoubleTap||(t.singleTapTimeout=setTimeout((function(){t.singleTap.dispatch(e,t.element)}),250))),this.touchEnd.dispatch(e,this.element),this.preV.x=0,this.preV.y=0,this.zoom=1,this.pinchStartLen=null,this.x1=this.x2=this.y1=this.y2=null}}},{key:\"cancelAll\",value:function(){this._preventTap=!0,clearTimeout(this.singleTapTimeout),clearTimeout(this.tapTimeout),clearTimeout(this.longTapTimeout),clearTimeout(this.swipeTimeout)}},{key:\"cancel\",value:function(e){this.cancelAll(),this.touchCancel.dispatch(e,this.element)}},{key:\"_cancelLongTap\",value:function(){clearTimeout(this.longTapTimeout)}},{key:\"_cancelSingleTap\",value:function(){clearTimeout(this.singleTapTimeout)}},{key:\"_swipeDirection\",value:function(e,t,i,n){return Math.abs(e-t)>=Math.abs(i-n)?e-t>0?\"Left\":\"Right\":i-n>0?\"Up\":\"Down\"}},{key:\"on\",value:function(e,t){this[e]&&this[e].add(t)}},{key:\"off\",value:function(e,t){this[e]&&this[e].del(t)}},{key:\"destroy\",value:function(){return this.singleTapTimeout&&clearTimeout(this.singleTapTimeout),this.tapTimeout&&clearTimeout(this.tapTimeout),this.longTapTimeout&&clearTimeout(this.longTapTimeout),this.swipeTimeout&&clearTimeout(this.swipeTimeout),this.element.removeEventListener(\"touchstart\",this.start),this.element.removeEventListener(\"touchmove\",this.move),this.element.removeEventListener(\"touchend\",this.end),this.element.removeEventListener(\"touchcancel\",this.cancel),this.rotate.del(),this.touchStart.del(),this.multipointStart.del(),this.multipointEnd.del(),this.pinch.del(),this.swipe.del(),this.tap.del(),this.doubleTap.del(),this.longTap.del(),this.singleTap.del(),this.pressMove.del(),this.twoFingerPressMove.del(),this.touchMove.del(),this.touchEnd.del(),this.touchCancel.del(),this.preV=this.pinchStartLen=this.zoom=this.isDoubleTap=this.delta=this.last=this.now=this.tapTimeout=this.singleTapTimeout=this.longTapTimeout=this.swipeTimeout=this.x1=this.x2=this.y1=this.y2=this.preTapPosition=this.rotate=this.touchStart=this.multipointStart=this.multipointEnd=this.pinch=this.swipe=this.tap=this.doubleTap=this.longTap=this.singleTap=this.pressMove=this.touchMove=this.touchEnd=this.touchCancel=this.twoFingerPressMove=null,window.removeEventListener(\"scroll\",this._cancelAllHandler),null}}]),e}();function W(e){var t=function(){var e,t=document.createElement(\"fakeelement\"),i={transition:\"transitionend\",OTransition:\"oTransitionEnd\",MozTransition:\"transitionend\",WebkitTransition:\"webkitTransitionEnd\"};for(e in i)if(void 0!==t.style[e])return i[e]}(),i=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,n=c(e,\"gslide-media\")?e:e.querySelector(\".gslide-media\"),s=u(n,\".ginner-container\"),l=e.querySelector(\".gslide-description\");i>769&&(n=s),h(n,\"greset\"),v(n,\"translate3d(0, 0, 0)\"),a(t,{onElement:n,once:!0,withCallback:function(e,t){d(n,\"greset\")}}),n.style.opacity=\"\",l&&(l.style.opacity=\"\")}function B(e){if(e.events.hasOwnProperty(\"touch\"))return!1;var t,i,n,s=y(),l=s.width,o=s.height,r=!1,a=null,g=null,f=null,p=!1,m=1,x=1,b=!1,S=!1,w=null,T=null,C=null,k=null,E=0,A=0,L=!1,I=!1,O={},P={},M=0,z=0,X=document.getElementById(\"glightbox-slider\"),Y=document.querySelector(\".goverlay\"),q=new _(X,{touchStart:function(t){if(r=!0,(c(t.targetTouches[0].target,\"ginner-container\")||u(t.targetTouches[0].target,\".gslide-desc\")||\"a\"==t.targetTouches[0].target.nodeName.toLowerCase())&&(r=!1),u(t.targetTouches[0].target,\".gslide-inline\")&&!c(t.targetTouches[0].target.parentNode,\"gslide-inline\")&&(r=!1),r){if(P=t.targetTouches[0],O.pageX=t.targetTouches[0].pageX,O.pageY=t.targetTouches[0].pageY,M=t.targetTouches[0].clientX,z=t.targetTouches[0].clientY,a=e.activeSlide,g=a.querySelector(\".gslide-media\"),n=a.querySelector(\".gslide-inline\"),f=null,c(g,\"gslide-image\")&&(f=g.querySelector(\"img\")),(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)>769&&(g=a.querySelector(\".ginner-container\")),d(Y,\"greset\"),t.pageX>20&&t.pageX<window.innerWidth-20)return;t.preventDefault()}},touchMove:function(s){if(r&&(P=s.targetTouches[0],!b&&!S)){if(n&&n.offsetHeight>o){var a=O.pageX-P.pageX;if(Math.abs(a)<=13)return!1}p=!0;var h,d=s.targetTouches[0].clientX,c=s.targetTouches[0].clientY,u=M-d,m=z-c;if(Math.abs(u)>Math.abs(m)?(L=!1,I=!0):(I=!1,L=!0),t=P.pageX-O.pageX,E=100*t/l,i=P.pageY-O.pageY,A=100*i/o,L&&f&&(h=1-Math.abs(i)/o,Y.style.opacity=h,e.settings.touchFollowAxis&&(E=0)),I&&(h=1-Math.abs(t)/l,g.style.opacity=h,e.settings.touchFollowAxis&&(A=0)),!f)return v(g,\"translate3d(\".concat(E,\"%, 0, 0)\"));v(g,\"translate3d(\".concat(E,\"%, \").concat(A,\"%, 0)\"))}},touchEnd:function(){if(r){if(p=!1,S||b)return C=w,void(k=T);var t=Math.abs(parseInt(A)),i=Math.abs(parseInt(E));if(!(t>29&&f))return t<29&&i<25?(h(Y,\"greset\"),Y.style.opacity=1,W(g)):void 0;e.close()}},multipointEnd:function(){setTimeout((function(){b=!1}),50)},multipointStart:function(){b=!0,m=x||1},pinch:function(e){if(!f||p)return!1;b=!0,f.scaleX=f.scaleY=m*e.zoom;var t=m*e.zoom;if(S=!0,t<=1)return S=!1,t=1,k=null,C=null,w=null,T=null,void f.setAttribute(\"style\",\"\");t>4.5&&(t=4.5),f.style.transform=\"scale3d(\".concat(t,\", \").concat(t,\", 1)\"),x=t},pressMove:function(e){if(S&&!b){var t=P.pageX-O.pageX,i=P.pageY-O.pageY;C&&(t+=C),k&&(i+=k),w=t,T=i;var n=\"translate3d(\".concat(t,\"px, \").concat(i,\"px, 0)\");x&&(n+=\" scale3d(\".concat(x,\", \").concat(x,\", 1)\")),v(f,n)}},swipe:function(t){if(!S)if(b)b=!1;else{if(\"Left\"==t.direction){if(e.index==e.elements.length-1)return W(g);e.nextSlide()}if(\"Right\"==t.direction){if(0==e.index)return W(g);e.prevSlide()}}}});e.events.touch=q}var H=function(){function e(i,n){var s=this,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(t(this,e),this.img=i,this.slide=n,this.onclose=l,this.img.setZoomEvents)return!1;this.active=!1,this.zoomedIn=!1,this.dragging=!1,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.img.addEventListener(\"mousedown\",(function(e){return s.dragStart(e)}),!1),this.img.addEventListener(\"mouseup\",(function(e){return s.dragEnd(e)}),!1),this.img.addEventListener(\"mousemove\",(function(e){return s.drag(e)}),!1),this.img.addEventListener(\"click\",(function(e){return s.slide.classList.contains(\"dragging-nav\")?(s.zoomOut(),!1):s.zoomedIn?void(s.zoomedIn&&!s.dragging&&s.zoomOut()):s.zoomIn()}),!1),this.img.setZoomEvents=!0}return n(e,[{key:\"zoomIn\",value:function(){var e=this.widowWidth();if(!(this.zoomedIn||e<=768)){var t=this.img;if(t.setAttribute(\"data-style\",t.getAttribute(\"style\")),t.style.maxWidth=t.naturalWidth+\"px\",t.style.maxHeight=t.naturalHeight+\"px\",t.naturalWidth>e){var i=e/2-t.naturalWidth/2;this.setTranslate(this.img.parentNode,i,0)}this.slide.classList.add(\"zoomed\"),this.zoomedIn=!0}}},{key:\"zoomOut\",value:function(){this.img.parentNode.setAttribute(\"style\",\"\"),this.img.setAttribute(\"style\",this.img.getAttribute(\"data-style\")),this.slide.classList.remove(\"zoomed\"),this.zoomedIn=!1,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.onclose&&\"function\"==typeof this.onclose&&this.onclose()}},{key:\"dragStart\",value:function(e){e.preventDefault(),this.zoomedIn?(\"touchstart\"===e.type?(this.initialX=e.touches[0].clientX-this.xOffset,this.initialY=e.touches[0].clientY-this.yOffset):(this.initialX=e.clientX-this.xOffset,this.initialY=e.clientY-this.yOffset),e.target===this.img&&(this.active=!0,this.img.classList.add(\"dragging\"))):this.active=!1}},{key:\"dragEnd\",value:function(e){var t=this;e.preventDefault(),this.initialX=this.currentX,this.initialY=this.currentY,this.active=!1,setTimeout((function(){t.dragging=!1,t.img.isDragging=!1,t.img.classList.remove(\"dragging\")}),100)}},{key:\"drag\",value:function(e){this.active&&(e.preventDefault(),\"touchmove\"===e.type?(this.currentX=e.touches[0].clientX-this.initialX,this.currentY=e.touches[0].clientY-this.initialY):(this.currentX=e.clientX-this.initialX,this.currentY=e.clientY-this.initialY),this.xOffset=this.currentX,this.yOffset=this.currentY,this.img.isDragging=!0,this.dragging=!0,this.setTranslate(this.img,this.currentX,this.currentY))}},{key:\"onMove\",value:function(e){if(this.zoomedIn){var t=e.clientX-this.img.naturalWidth/2,i=e.clientY-this.img.naturalHeight/2;this.setTranslate(this.img,t,i)}}},{key:\"setTranslate\",value:function(e,t,i){e.style.transform=\"translate3d(\"+t+\"px, \"+i+\"px, 0)\"}},{key:\"widowWidth\",value:function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}}]),e}(),V=function(){function e(){var i=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,e);var s=n.dragEl,l=n.toleranceX,o=void 0===l?40:l,r=n.toleranceY,a=void 0===r?65:r,h=n.slide,d=void 0===h?null:h,c=n.instance,u=void 0===c?null:c;this.el=s,this.active=!1,this.dragging=!1,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.direction=null,this.lastDirection=null,this.toleranceX=o,this.toleranceY=a,this.toleranceReached=!1,this.dragContainer=this.el,this.slide=d,this.instance=u,this.el.addEventListener(\"mousedown\",(function(e){return i.dragStart(e)}),!1),this.el.addEventListener(\"mouseup\",(function(e){return i.dragEnd(e)}),!1),this.el.addEventListener(\"mousemove\",(function(e){return i.drag(e)}),!1)}return n(e,[{key:\"dragStart\",value:function(e){if(this.slide.classList.contains(\"zoomed\"))this.active=!1;else{\"touchstart\"===e.type?(this.initialX=e.touches[0].clientX-this.xOffset,this.initialY=e.touches[0].clientY-this.yOffset):(this.initialX=e.clientX-this.xOffset,this.initialY=e.clientY-this.yOffset);var t=e.target.nodeName.toLowerCase();e.target.classList.contains(\"nodrag\")||u(e.target,\".nodrag\")||-1!==[\"input\",\"select\",\"textarea\",\"button\",\"a\"].indexOf(t)?this.active=!1:(e.preventDefault(),(e.target===this.el||\"img\"!==t&&u(e.target,\".gslide-inline\"))&&(this.active=!0,this.el.classList.add(\"dragging\"),this.dragContainer=u(e.target,\".ginner-container\")))}}},{key:\"dragEnd\",value:function(e){var t=this;e&&e.preventDefault(),this.initialX=0,this.initialY=0,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.active=!1,this.doSlideChange&&(this.instance.preventOutsideClick=!0,\"right\"==this.doSlideChange&&this.instance.prevSlide(),\"left\"==this.doSlideChange&&this.instance.nextSlide()),this.doSlideClose&&this.instance.close(),this.toleranceReached||this.setTranslate(this.dragContainer,0,0,!0),setTimeout((function(){t.instance.preventOutsideClick=!1,t.toleranceReached=!1,t.lastDirection=null,t.dragging=!1,t.el.isDragging=!1,t.el.classList.remove(\"dragging\"),t.slide.classList.remove(\"dragging-nav\"),t.dragContainer.style.transform=\"\",t.dragContainer.style.transition=\"\"}),100)}},{key:\"drag\",value:function(e){if(this.active){e.preventDefault(),this.slide.classList.add(\"dragging-nav\"),\"touchmove\"===e.type?(this.currentX=e.touches[0].clientX-this.initialX,this.currentY=e.touches[0].clientY-this.initialY):(this.currentX=e.clientX-this.initialX,this.currentY=e.clientY-this.initialY),this.xOffset=this.currentX,this.yOffset=this.currentY,this.el.isDragging=!0,this.dragging=!0,this.doSlideChange=!1,this.doSlideClose=!1;var t=Math.abs(this.currentX),i=Math.abs(this.currentY);if(t>0&&t>=Math.abs(this.currentY)&&(!this.lastDirection||\"x\"==this.lastDirection)){this.yOffset=0,this.lastDirection=\"x\",this.setTranslate(this.dragContainer,this.currentX,0);var n=this.shouldChange();if(!this.instance.settings.dragAutoSnap&&n&&(this.doSlideChange=n),this.instance.settings.dragAutoSnap&&n)return this.instance.preventOutsideClick=!0,this.toleranceReached=!0,this.active=!1,this.instance.preventOutsideClick=!0,this.dragEnd(null),\"right\"==n&&this.instance.prevSlide(),void(\"left\"==n&&this.instance.nextSlide())}if(this.toleranceY>0&&i>0&&i>=t&&(!this.lastDirection||\"y\"==this.lastDirection)){this.xOffset=0,this.lastDirection=\"y\",this.setTranslate(this.dragContainer,0,this.currentY);var s=this.shouldClose();return!this.instance.settings.dragAutoSnap&&s&&(this.doSlideClose=!0),void(this.instance.settings.dragAutoSnap&&s&&this.instance.close())}}}},{key:\"shouldChange\",value:function(){var e=!1;if(Math.abs(this.currentX)>=this.toleranceX){var t=this.currentX>0?\"right\":\"left\";(\"left\"==t&&this.slide!==this.slide.parentNode.lastChild||\"right\"==t&&this.slide!==this.slide.parentNode.firstChild)&&(e=t)}return e}},{key:\"shouldClose\",value:function(){var e=!1;return Math.abs(this.currentY)>=this.toleranceY&&(e=!0),e}},{key:\"setTranslate\",value:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.style.transition=n?\"all .2s ease\":\"\",e.style.transform=\"translate3d(\".concat(t,\"px, \").concat(i,\"px, 0)\")}}]),e}();function j(e,t,i,n){var s=e.querySelector(\".gslide-media\"),l=new Image,o=\"gSlideTitle_\"+i,r=\"gSlideDesc_\"+i;l.addEventListener(\"load\",(function(){T(n)&&n()}),!1),l.src=t.href,\"\"!=t.sizes&&\"\"!=t.srcset&&(l.sizes=t.sizes,l.srcset=t.srcset),l.alt=\"\",I(t.alt)||\"\"===t.alt||(l.alt=t.alt),\"\"!==t.title&&l.setAttribute(\"aria-labelledby\",o),\"\"!==t.description&&l.setAttribute(\"aria-describedby\",r),t.hasOwnProperty(\"_hasCustomWidth\")&&t._hasCustomWidth&&(l.style.width=t.width),t.hasOwnProperty(\"_hasCustomHeight\")&&t._hasCustomHeight&&(l.style.height=t.height),s.insertBefore(l,s.firstChild)}function F(e,t,i,n){var s=this,l=e.querySelector(\".ginner-container\"),o=\"gvideo\"+i,r=e.querySelector(\".gslide-media\"),a=this.getAllPlayers();h(l,\"gvideo-container\"),r.insertBefore(m('<div class=\"gvideo-wrapper\"></div>'),r.firstChild);var d=e.querySelector(\".gvideo-wrapper\");S(this.settings.plyr.css,\"Plyr\");var c=t.href,u=null==t?void 0:t.videoProvider,g=!1;r.style.maxWidth=t.width,S(this.settings.plyr.js,\"Plyr\",(function(){if(!u&&c.match(/vimeo\\.com\\/([0-9]*)/)&&(u=\"vimeo\"),!u&&(c.match(/(youtube\\.com|youtube-nocookie\\.com)\\/watch\\?v=([a-zA-Z0-9\\-_]+)/)||c.match(/youtu\\.be\\/([a-zA-Z0-9\\-_]+)/)||c.match(/(youtube\\.com|youtube-nocookie\\.com)\\/embed\\/([a-zA-Z0-9\\-_]+)/))&&(u=\"youtube\"),\"local\"===u||!u){u=\"local\";var l='<video id=\"'+o+'\" ';l+='style=\"background:#000; max-width: '.concat(t.width,';\" '),l+='preload=\"metadata\" ',l+='x-webkit-airplay=\"allow\" ',l+=\"playsinline \",l+=\"controls \",l+='class=\"gvideo-local\">',l+='<source src=\"'.concat(c,'\">'),g=m(l+=\"</video>\")}var r=g||m('<div id=\"'.concat(o,'\" data-plyr-provider=\"').concat(u,'\" data-plyr-embed-id=\"').concat(c,'\"></div>'));h(d,\"\".concat(u,\"-video gvideo\")),d.appendChild(r),d.setAttribute(\"data-id\",o),d.setAttribute(\"data-index\",i);var v=O(s.settings.plyr,\"config\")?s.settings.plyr.config:{},f=new Plyr(\"#\"+o,v);f.on(\"ready\",(function(e){a[o]=e.detail.plyr,T(n)&&n()})),b((function(){return e.querySelector(\"iframe\")&&\"true\"==e.querySelector(\"iframe\").dataset.ready}),(function(){s.resize(e)})),f.on(\"enterfullscreen\",R),f.on(\"exitfullscreen\",R)}))}function R(e){var t=u(e.target,\".gslide-media\");\"enterfullscreen\"===e.type&&h(t,\"fullscreen\"),\"exitfullscreen\"===e.type&&d(t,\"fullscreen\")}function G(e,t,i,n){var s,l=this,o=e.querySelector(\".gslide-media\"),r=!(!O(t,\"href\")||!t.href)&&t.href.split(\"#\").pop().trim(),d=!(!O(t,\"content\")||!t.content)&&t.content;if(d&&(C(d)&&(s=m('<div class=\"ginlined-content\">'.concat(d,\"</div>\"))),k(d))){\"none\"==d.style.display&&(d.style.display=\"block\");var c=document.createElement(\"div\");c.className=\"ginlined-content\",c.appendChild(d),s=c}if(r){var u=document.getElementById(r);if(!u)return!1;var g=u.cloneNode(!0);g.style.height=t.height,g.style.maxWidth=t.width,h(g,\"ginlined-content\"),s=g}if(!s)return console.error(\"Unable to append inline slide content\",t),!1;o.style.height=t.height,o.style.width=t.width,o.appendChild(s),this.events[\"inlineclose\"+r]=a(\"click\",{onElement:o.querySelectorAll(\".gtrigger-close\"),withCallback:function(e){e.preventDefault(),l.close()}}),T(n)&&n()}function Z(e,t,i,n){var s=e.querySelector(\".gslide-media\"),l=function(e){var t=e.url,i=e.allow,n=e.callback,s=e.appendTo,l=document.createElement(\"iframe\");return l.className=\"vimeo-video gvideo\",l.src=t,l.style.width=\"100%\",l.style.height=\"100%\",i&&l.setAttribute(\"allow\",i),l.onload=function(){l.onload=null,h(l,\"node-ready\"),T(n)&&n()},s&&s.appendChild(l),l}({url:t.href,callback:n});s.parentNode.style.maxWidth=t.width,s.parentNode.style.height=t.height,s.appendChild(l)}var U=function(){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,e),this.defaults={href:\"\",sizes:\"\",srcset:\"\",title:\"\",type:\"\",videoProvider:\"\",description:\"\",alt:\"\",descPosition:\"bottom\",effect:\"\",width:\"\",height:\"\",content:!1,zoomable:!0,draggable:!0},L(i)&&(this.defaults=l(this.defaults,i))}return n(e,[{key:\"sourceType\",value:function(e){var t=e;if(null!==(e=e.toLowerCase()).match(/\\.(jpeg|jpg|jpe|gif|png|apn|webp|avif|svg)/))return\"image\";if(e.match(/(youtube\\.com|youtube-nocookie\\.com)\\/watch\\?v=([a-zA-Z0-9\\-_]+)/)||e.match(/youtu\\.be\\/([a-zA-Z0-9\\-_]+)/)||e.match(/(youtube\\.com|youtube-nocookie\\.com)\\/embed\\/([a-zA-Z0-9\\-_]+)/))return\"video\";if(e.match(/vimeo\\.com\\/([0-9]*)/))return\"video\";if(null!==e.match(/\\.(mp4|ogg|webm|mov)/))return\"video\";if(null!==e.match(/\\.(mp3|wav|wma|aac|ogg)/))return\"audio\";if(e.indexOf(\"#\")>-1&&\"\"!==t.split(\"#\").pop().trim())return\"inline\";return e.indexOf(\"goajax=true\")>-1?\"ajax\":\"external\"}},{key:\"parseConfig\",value:function(e,t){var i=this,n=l({descPosition:t.descPosition},this.defaults);if(L(e)&&!k(e)){O(e,\"type\")||(O(e,\"content\")&&e.content?e.type=\"inline\":O(e,\"href\")&&(e.type=this.sourceType(e.href)));var s=l(n,e);return this.setSize(s,t),s}var r=\"\",a=e.getAttribute(\"data-glightbox\"),h=e.nodeName.toLowerCase();if(\"a\"===h&&(r=e.href),\"img\"===h&&(r=e.src,n.alt=e.alt),n.href=r,o(n,(function(s,l){O(t,l)&&\"width\"!==l&&(n[l]=t[l]);var o=e.dataset[l];I(o)||(n[l]=i.sanitizeValue(o))})),n.content&&(n.type=\"inline\"),!n.type&&r&&(n.type=this.sourceType(r)),I(a)){if(!n.title&&\"a\"==h){var d=e.title;I(d)||\"\"===d||(n.title=d)}if(!n.title&&\"img\"==h){var c=e.alt;I(c)||\"\"===c||(n.title=c)}}else{var u=[];o(n,(function(e,t){u.push(\";\\\\s?\"+t)})),u=u.join(\"\\\\s?:|\"),\"\"!==a.trim()&&o(n,(function(e,t){var s=a,l=new RegExp(\"s?\"+t+\"s?:s?(.*?)(\"+u+\"s?:|$)\"),o=s.match(l);if(o&&o.length&&o[1]){var r=o[1].trim().replace(/;\\s*$/,\"\");n[t]=i.sanitizeValue(r)}}))}if(n.description&&\".\"===n.description.substring(0,1)){var g;try{g=document.querySelector(n.description).innerHTML}catch(e){if(!(e instanceof DOMException))throw e}g&&(n.description=g)}if(!n.description){var v=e.querySelector(\".glightbox-desc\");v&&(n.description=v.innerHTML)}return this.setSize(n,t,e),this.slideConfig=n,n}},{key:\"setSize\",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=\"video\"==e.type?this.checkSize(t.videosWidth):this.checkSize(t.width),s=this.checkSize(t.height);return e.width=O(e,\"width\")&&\"\"!==e.width?this.checkSize(e.width):n,e.height=O(e,\"height\")&&\"\"!==e.height?this.checkSize(e.height):s,i&&\"image\"==e.type&&(e._hasCustomWidth=!!i.dataset.width,e._hasCustomHeight=!!i.dataset.height),e}},{key:\"checkSize\",value:function(e){return M(e)?\"\".concat(e,\"px\"):e}},{key:\"sanitizeValue\",value:function(e){return\"true\"!==e&&\"false\"!==e?e:\"true\"===e}}]),e}(),$=function(){function e(i,n,s){t(this,e),this.element=i,this.instance=n,this.index=s}return n(e,[{key:\"setContent\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(c(t,\"loaded\"))return!1;var n=this.instance.settings,s=this.slideConfig,l=w();T(n.beforeSlideLoad)&&n.beforeSlideLoad({index:this.index,slide:t,player:!1});var o=s.type,r=s.descPosition,a=t.querySelector(\".gslide-media\"),d=t.querySelector(\".gslide-title\"),u=t.querySelector(\".gslide-desc\"),g=t.querySelector(\".gdesc-inner\"),v=i,f=\"gSlideTitle_\"+this.index,p=\"gSlideDesc_\"+this.index;if(T(n.afterSlideLoad)&&(v=function(){T(i)&&i(),n.afterSlideLoad({index:e.index,slide:t,player:e.instance.getSlidePlayerInstance(e.index)})}),\"\"==s.title&&\"\"==s.description?g&&g.parentNode.parentNode.removeChild(g.parentNode):(d&&\"\"!==s.title?(d.id=f,d.innerHTML=s.title):d.parentNode.removeChild(d),u&&\"\"!==s.description?(u.id=p,l&&n.moreLength>0?(s.smallDescription=this.slideShortDesc(s.description,n.moreLength,n.moreText),u.innerHTML=s.smallDescription,this.descriptionEvents(u,s)):u.innerHTML=s.description):u.parentNode.removeChild(u),h(a.parentNode,\"desc-\".concat(r)),h(g.parentNode,\"description-\".concat(r))),h(a,\"gslide-\".concat(o)),h(t,\"loaded\"),\"video\"!==o){if(\"external\"!==o)return\"inline\"===o?(G.apply(this.instance,[t,s,this.index,v]),void(s.draggable&&new V({dragEl:t.querySelector(\".gslide-inline\"),toleranceX:n.dragToleranceX,toleranceY:n.dragToleranceY,slide:t,instance:this.instance}))):void(\"image\"!==o?T(v)&&v():j(t,s,this.index,(function(){var i=t.querySelector(\"img\");s.draggable&&new V({dragEl:i,toleranceX:n.dragToleranceX,toleranceY:n.dragToleranceY,slide:t,instance:e.instance}),s.zoomable&&i.naturalWidth>i.offsetWidth&&(h(i,\"zoomable\"),new H(i,t,(function(){e.instance.resize()}))),T(v)&&v()})));Z.apply(this,[t,s,this.index,v])}else F.apply(this.instance,[t,s,this.index,v])}},{key:\"slideShortDesc\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=document.createElement(\"div\");n.innerHTML=e;var s=n.innerText,l=i;if((e=s.trim()).length<=t)return e;var o=e.substr(0,t-1);return l?(n=null,o+'... <a href=\"#\" class=\"desc-more\">'+i+\"</a>\"):o}},{key:\"descriptionEvents\",value:function(e,t){var i=this,n=e.querySelector(\".desc-more\");if(!n)return!1;a(\"click\",{onElement:n,withCallback:function(e,n){e.preventDefault();var s=document.body,l=u(n,\".gslide-desc\");if(!l)return!1;l.innerHTML=t.description,h(s,\"gdesc-open\");var o=a(\"click\",{onElement:[s,u(l,\".gslide-description\")],withCallback:function(e,n){\"a\"!==e.target.nodeName.toLowerCase()&&(d(s,\"gdesc-open\"),h(s,\"gdesc-closed\"),l.innerHTML=t.smallDescription,i.descriptionEvents(l,t),setTimeout((function(){d(s,\"gdesc-closed\")}),400),o.destroy())}})}})}},{key:\"create\",value:function(){return m(this.instance.settings.slideHTML)}},{key:\"getConfig\",value:function(){k(this.element)||this.element.hasOwnProperty(\"draggable\")||(this.element.draggable=this.instance.settings.draggable);var e=new U(this.instance.settings.slideExtraAttributes);return this.slideConfig=e.parseConfig(this.element,this.instance.settings),this.slideConfig}}]),e}(),J=w(),K=null!==w()||void 0!==document.createTouch||\"ontouchstart\"in window||\"onmsgesturechange\"in window||navigator.msMaxTouchPoints,Q=document.getElementsByTagName(\"html\")[0],ee={selector:\".glightbox\",elements:null,skin:\"clean\",theme:\"clean\",closeButton:!0,startAt:null,autoplayVideos:!0,autofocusVideos:!0,descPosition:\"bottom\",width:\"900px\",height:\"506px\",videosWidth:\"960px\",beforeSlideChange:null,afterSlideChange:null,beforeSlideLoad:null,afterSlideLoad:null,slideInserted:null,slideRemoved:null,slideExtraAttributes:null,onOpen:null,onClose:null,loop:!1,zoomable:!0,draggable:!0,dragAutoSnap:!1,dragToleranceX:40,dragToleranceY:65,preload:!0,oneSlidePerOpen:!1,touchNavigation:!0,touchFollowAxis:!0,keyboardNavigation:!0,closeOnOutsideClick:!0,plugins:!1,plyr:{css:\"https://cdn.plyr.io/3.6.12/plyr.css\",js:\"https://cdn.plyr.io/3.6.12/plyr.js\",config:{ratio:\"16:9\",fullscreen:{enabled:!0,iosNative:!0},youtube:{noCookie:!0,rel:0,showinfo:0,iv_load_policy:3},vimeo:{byline:!1,portrait:!1,title:!1,transparent:!1}}},openEffect:\"zoom\",closeEffect:\"zoom\",slideEffect:\"slide\",moreText:\"See more\",moreLength:60,cssEfects:{fade:{in:\"fadeIn\",out:\"fadeOut\"},zoom:{in:\"zoomIn\",out:\"zoomOut\"},slide:{in:\"slideInRight\",out:\"slideOutLeft\"},slideBack:{in:\"slideInLeft\",out:\"slideOutRight\"},none:{in:\"none\",out:\"none\"}},svg:{close:'<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 512 512\" xml:space=\"preserve\"><g><g><path d=\"M505.943,6.058c-8.077-8.077-21.172-8.077-29.249,0L6.058,476.693c-8.077,8.077-8.077,21.172,0,29.249C10.096,509.982,15.39,512,20.683,512c5.293,0,10.586-2.019,14.625-6.059L505.943,35.306C514.019,27.23,514.019,14.135,505.943,6.058z\"/></g></g><g><g><path d=\"M505.942,476.694L35.306,6.059c-8.076-8.077-21.172-8.077-29.248,0c-8.077,8.076-8.077,21.171,0,29.248l470.636,470.636c4.038,4.039,9.332,6.058,14.625,6.058c5.293,0,10.587-2.019,14.624-6.057C514.018,497.866,514.018,484.771,505.942,476.694z\"/></g></g></svg>',next:'<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 477.175 477.175\" xml:space=\"preserve\"> <g><path d=\"M360.731,229.075l-225.1-225.1c-5.3-5.3-13.8-5.3-19.1,0s-5.3,13.8,0,19.1l215.5,215.5l-215.5,215.5c-5.3,5.3-5.3,13.8,0,19.1c2.6,2.6,6.1,4,9.5,4c3.4,0,6.9-1.3,9.5-4l225.1-225.1C365.931,242.875,365.931,234.275,360.731,229.075z\"/></g></svg>',prev:'<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 477.175 477.175\" xml:space=\"preserve\"><g><path d=\"M145.188,238.575l215.5-215.5c5.3-5.3,5.3-13.8,0-19.1s-13.8-5.3-19.1,0l-225.1,225.1c-5.3,5.3-5.3,13.8,0,19.1l225.1,225c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1L145.188,238.575z\"/></g></svg>'},slideHTML:'<div class=\"gslide\">\\n    <div class=\"gslide-inner-content\">\\n        <div class=\"ginner-container\">\\n            <div class=\"gslide-media\">\\n            </div>\\n            <div class=\"gslide-description\">\\n                <div class=\"gdesc-inner\">\\n                    <h4 class=\"gslide-title\"></h4>\\n                    <div class=\"gslide-desc\"></div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>',lightboxHTML:'<div id=\"glightbox-body\" class=\"glightbox-container\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"false\">\\n    <div class=\"gloader visible\"></div>\\n    <div class=\"goverlay\"></div>\\n    <div class=\"gcontainer\">\\n    <div id=\"glightbox-slider\" class=\"gslider\"></div>\\n    <button class=\"gclose gbtn\" aria-label=\"Close\" data-taborder=\"3\">{closeSVG}</button>\\n    <button class=\"gprev gbtn\" aria-label=\"Previous\" data-taborder=\"2\">{prevSVG}</button>\\n    <button class=\"gnext gbtn\" aria-label=\"Next\" data-taborder=\"1\">{nextSVG}</button>\\n</div>\\n</div>'},te=function(){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,e),this.customOptions=i,this.settings=l(ee,i),this.effectsClasses=this.getAnimationClasses(),this.videoPlayers={},this.apiEvents=[],this.fullElementsList=!1}return n(e,[{key:\"init\",value:function(){var e=this,t=this.getSelector();t&&(this.baseEvents=a(\"click\",{onElement:t,withCallback:function(t,i){t.preventDefault(),e.open(i)}})),this.elements=this.getElements()}},{key:\"open\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(0===this.elements.length)return!1;this.activeSlide=null,this.prevActiveSlideIndex=null,this.prevActiveSlide=null;var i=M(t)?t:this.settings.startAt;if(k(e)){var n=e.getAttribute(\"data-gallery\");n&&(this.fullElementsList=this.elements,this.elements=this.getGalleryElements(this.elements,n)),I(i)&&(i=this.getElementIndex(e))<0&&(i=0)}M(i)||(i=0),this.build(),g(this.overlay,\"none\"===this.settings.openEffect?\"none\":this.settings.cssEfects.fade.in);var s=document.body,l=window.innerWidth-document.documentElement.clientWidth;if(l>0){var o=document.createElement(\"style\");o.type=\"text/css\",o.className=\"gcss-styles\",o.innerText=\".gscrollbar-fixer {margin-right: \".concat(l,\"px}\"),document.head.appendChild(o),h(s,\"gscrollbar-fixer\")}h(s,\"glightbox-open\"),h(Q,\"glightbox-open\"),J&&(h(document.body,\"glightbox-mobile\"),this.settings.slideEffect=\"slide\"),this.showSlide(i,!0),1===this.elements.length?(h(this.prevButton,\"glightbox-button-hidden\"),h(this.nextButton,\"glightbox-button-hidden\")):(d(this.prevButton,\"glightbox-button-hidden\"),d(this.nextButton,\"glightbox-button-hidden\")),this.lightboxOpen=!0,this.trigger(\"open\"),T(this.settings.onOpen)&&this.settings.onOpen(),K&&this.settings.touchNavigation&&B(this),this.settings.keyboardNavigation&&X(this)}},{key:\"openAt\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.open(null,e)}},{key:\"showSlide\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];f(this.loader),this.index=parseInt(t);var n=this.slidesContainer.querySelector(\".current\");n&&d(n,\"current\"),this.slideAnimateOut();var s=this.slidesContainer.querySelectorAll(\".gslide\")[t];if(c(s,\"loaded\"))this.slideAnimateIn(s,i),p(this.loader);else{f(this.loader);var l=this.elements[t],o={index:this.index,slide:s,slideNode:s,slideConfig:l.slideConfig,slideIndex:this.index,trigger:l.node,player:null};this.trigger(\"slide_before_load\",o),l.instance.setContent(s,(function(){p(e.loader),e.resize(),e.slideAnimateIn(s,i),e.trigger(\"slide_after_load\",o)}))}this.slideDescription=s.querySelector(\".gslide-description\"),this.slideDescriptionContained=this.slideDescription&&c(this.slideDescription.parentNode,\"gslide-media\"),this.settings.preload&&(this.preloadSlide(t+1),this.preloadSlide(t-1)),this.updateNavigationClasses(),this.activeSlide=s}},{key:\"preloadSlide\",value:function(e){var t=this;if(e<0||e>this.elements.length-1)return!1;if(I(this.elements[e]))return!1;var i=this.slidesContainer.querySelectorAll(\".gslide\")[e];if(c(i,\"loaded\"))return!1;var n=this.elements[e],s=n.type,l={index:e,slide:i,slideNode:i,slideConfig:n.slideConfig,slideIndex:e,trigger:n.node,player:null};this.trigger(\"slide_before_load\",l),\"video\"===s||\"external\"===s?setTimeout((function(){n.instance.setContent(i,(function(){t.trigger(\"slide_after_load\",l)}))}),200):n.instance.setContent(i,(function(){t.trigger(\"slide_after_load\",l)}))}},{key:\"prevSlide\",value:function(){this.goToSlide(this.index-1)}},{key:\"nextSlide\",value:function(){this.goToSlide(this.index+1)}},{key:\"goToSlide\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.prevActiveSlide=this.activeSlide,this.prevActiveSlideIndex=this.index,!this.loop()&&(e<0||e>this.elements.length-1))return!1;e<0?e=this.elements.length-1:e>=this.elements.length&&(e=0),this.showSlide(e)}},{key:\"insertSlide\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;t<0&&(t=this.elements.length);var i=new $(e,this,t),n=i.getConfig(),s=l({},n),o=i.create(),r=this.elements.length-1;s.index=t,s.node=!1,s.instance=i,s.slideConfig=n,this.elements.splice(t,0,s);var a=null,h=null;if(this.slidesContainer){if(t>r)this.slidesContainer.appendChild(o);else{var d=this.slidesContainer.querySelectorAll(\".gslide\")[t];this.slidesContainer.insertBefore(o,d)}(this.settings.preload&&0==this.index&&0==t||this.index-1==t||this.index+1==t)&&this.preloadSlide(t),0===this.index&&0===t&&(this.index=1),this.updateNavigationClasses(),a=this.slidesContainer.querySelectorAll(\".gslide\")[t],h=this.getSlidePlayerInstance(t),s.slideNode=a}this.trigger(\"slide_inserted\",{index:t,slide:a,slideNode:a,slideConfig:n,slideIndex:t,trigger:null,player:h}),T(this.settings.slideInserted)&&this.settings.slideInserted({index:t,slide:a,player:h})}},{key:\"removeSlide\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;if(e<0||e>this.elements.length-1)return!1;var t=this.slidesContainer&&this.slidesContainer.querySelectorAll(\".gslide\")[e];t&&(this.getActiveSlideIndex()==e&&(e==this.elements.length-1?this.prevSlide():this.nextSlide()),t.parentNode.removeChild(t)),this.elements.splice(e,1),this.trigger(\"slide_removed\",e),T(this.settings.slideRemoved)&&this.settings.slideRemoved(e)}},{key:\"slideAnimateIn\",value:function(e,t){var i=this,n=e.querySelector(\".gslide-media\"),s=e.querySelector(\".gslide-description\"),l={index:this.prevActiveSlideIndex,slide:this.prevActiveSlide,slideNode:this.prevActiveSlide,slideIndex:this.prevActiveSlide,slideConfig:I(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].slideConfig,trigger:I(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].node,player:this.getSlidePlayerInstance(this.prevActiveSlideIndex)},o={index:this.index,slide:this.activeSlide,slideNode:this.activeSlide,slideConfig:this.elements[this.index].slideConfig,slideIndex:this.index,trigger:this.elements[this.index].node,player:this.getSlidePlayerInstance(this.index)};if(n.offsetWidth>0&&s&&(p(s),s.style.display=\"\"),d(e,this.effectsClasses),t)g(e,this.settings.cssEfects[this.settings.openEffect].in,(function(){i.settings.autoplayVideos&&i.slidePlayerPlay(e),i.trigger(\"slide_changed\",{prev:l,current:o}),T(i.settings.afterSlideChange)&&i.settings.afterSlideChange.apply(i,[l,o])}));else{var r=this.settings.slideEffect,a=\"none\"!==r?this.settings.cssEfects[r].in:r;this.prevActiveSlideIndex>this.index&&\"slide\"==this.settings.slideEffect&&(a=this.settings.cssEfects.slideBack.in),g(e,a,(function(){i.settings.autoplayVideos&&i.slidePlayerPlay(e),i.trigger(\"slide_changed\",{prev:l,current:o}),T(i.settings.afterSlideChange)&&i.settings.afterSlideChange.apply(i,[l,o])}))}setTimeout((function(){i.resize(e)}),100),h(e,\"current\")}},{key:\"slideAnimateOut\",value:function(){if(!this.prevActiveSlide)return!1;var e=this.prevActiveSlide;d(e,this.effectsClasses),h(e,\"prev\");var t=this.settings.slideEffect,i=\"none\"!==t?this.settings.cssEfects[t].out:t;this.slidePlayerPause(e),this.trigger(\"slide_before_change\",{prev:{index:this.prevActiveSlideIndex,slide:this.prevActiveSlide,slideNode:this.prevActiveSlide,slideIndex:this.prevActiveSlideIndex,slideConfig:I(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].slideConfig,trigger:I(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].node,player:this.getSlidePlayerInstance(this.prevActiveSlideIndex)},current:{index:this.index,slide:this.activeSlide,slideNode:this.activeSlide,slideIndex:this.index,slideConfig:this.elements[this.index].slideConfig,trigger:this.elements[this.index].node,player:this.getSlidePlayerInstance(this.index)}}),T(this.settings.beforeSlideChange)&&this.settings.beforeSlideChange.apply(this,[{index:this.prevActiveSlideIndex,slide:this.prevActiveSlide,player:this.getSlidePlayerInstance(this.prevActiveSlideIndex)},{index:this.index,slide:this.activeSlide,player:this.getSlidePlayerInstance(this.index)}]),this.prevActiveSlideIndex>this.index&&\"slide\"==this.settings.slideEffect&&(i=this.settings.cssEfects.slideBack.out),g(e,i,(function(){var t=e.querySelector(\".ginner-container\"),i=e.querySelector(\".gslide-media\"),n=e.querySelector(\".gslide-description\");t.style.transform=\"\",i.style.transform=\"\",d(i,\"greset\"),i.style.opacity=\"\",n&&(n.style.opacity=\"\"),d(e,\"prev\")}))}},{key:\"getAllPlayers\",value:function(){return this.videoPlayers}},{key:\"getSlidePlayerInstance\",value:function(e){var t=\"gvideo\"+e,i=this.getAllPlayers();return!(!O(i,t)||!i[t])&&i[t]}},{key:\"stopSlideVideo\",value:function(e){if(k(e)){var t=e.querySelector(\".gvideo-wrapper\");t&&(e=t.getAttribute(\"data-index\"))}console.log(\"stopSlideVideo is deprecated, use slidePlayerPause\");var i=this.getSlidePlayerInstance(e);i&&i.playing&&i.pause()}},{key:\"slidePlayerPause\",value:function(e){if(k(e)){var t=e.querySelector(\".gvideo-wrapper\");t&&(e=t.getAttribute(\"data-index\"))}var i=this.getSlidePlayerInstance(e);i&&i.playing&&i.pause()}},{key:\"playSlideVideo\",value:function(e){if(k(e)){var t=e.querySelector(\".gvideo-wrapper\");t&&(e=t.getAttribute(\"data-index\"))}console.log(\"playSlideVideo is deprecated, use slidePlayerPlay\");var i=this.getSlidePlayerInstance(e);i&&!i.playing&&i.play()}},{key:\"slidePlayerPlay\",value:function(e){var t;if(!J||null!==(t=this.settings.plyr.config)&&void 0!==t&&t.muted){if(k(e)){var i=e.querySelector(\".gvideo-wrapper\");i&&(e=i.getAttribute(\"data-index\"))}var n=this.getSlidePlayerInstance(e);n&&!n.playing&&(n.play(),this.settings.autofocusVideos&&n.elements.container.focus())}}},{key:\"setElements\",value:function(e){var t=this;this.settings.elements=!1;var i=[];e&&e.length&&o(e,(function(e,n){var s=new $(e,t,n),o=s.getConfig(),r=l({},o);r.slideConfig=o,r.instance=s,r.index=n,i.push(r)})),this.elements=i,this.lightboxOpen&&(this.slidesContainer.innerHTML=\"\",this.elements.length&&(o(this.elements,(function(){var e=m(t.settings.slideHTML);t.slidesContainer.appendChild(e)})),this.showSlide(0,!0)))}},{key:\"getElementIndex\",value:function(e){var t=!1;return o(this.elements,(function(i,n){if(O(i,\"node\")&&i.node==e)return t=n,!0})),t}},{key:\"getElements\",value:function(){var e=this,t=[];this.elements=this.elements?this.elements:[],!I(this.settings.elements)&&E(this.settings.elements)&&this.settings.elements.length&&o(this.settings.elements,(function(i,n){var s=new $(i,e,n),o=s.getConfig(),r=l({},o);r.node=!1,r.index=n,r.instance=s,r.slideConfig=o,t.push(r)}));var i=!1;return this.getSelector()&&(i=document.querySelectorAll(this.getSelector())),i?(o(i,(function(i,n){var s=new $(i,e,n),o=s.getConfig(),r=l({},o);r.node=i,r.index=n,r.instance=s,r.slideConfig=o,r.gallery=i.getAttribute(\"data-gallery\"),t.push(r)})),t):t}},{key:\"getGalleryElements\",value:function(e,t){return e.filter((function(e){return e.gallery==t}))}},{key:\"getSelector\",value:function(){return!this.settings.elements&&(this.settings.selector&&\"data-\"==this.settings.selector.substring(0,5)?\"*[\".concat(this.settings.selector,\"]\"):this.settings.selector)}},{key:\"getActiveSlide\",value:function(){return this.slidesContainer.querySelectorAll(\".gslide\")[this.index]}},{key:\"getActiveSlideIndex\",value:function(){return this.index}},{key:\"getAnimationClasses\",value:function(){var e=[];for(var t in this.settings.cssEfects)if(this.settings.cssEfects.hasOwnProperty(t)){var i=this.settings.cssEfects[t];e.push(\"g\".concat(i.in)),e.push(\"g\".concat(i.out))}return e.join(\" \")}},{key:\"build\",value:function(){var e=this;if(this.built)return!1;var t=document.body.childNodes,i=[];o(t,(function(e){e.parentNode==document.body&&\"#\"!==e.nodeName.charAt(0)&&e.hasAttribute&&!e.hasAttribute(\"aria-hidden\")&&(i.push(e),e.setAttribute(\"aria-hidden\",\"true\"))}));var n=O(this.settings.svg,\"next\")?this.settings.svg.next:\"\",s=O(this.settings.svg,\"prev\")?this.settings.svg.prev:\"\",l=O(this.settings.svg,\"close\")?this.settings.svg.close:\"\",r=this.settings.lightboxHTML;r=m(r=(r=(r=r.replace(/{nextSVG}/g,n)).replace(/{prevSVG}/g,s)).replace(/{closeSVG}/g,l)),document.body.appendChild(r);var d=document.getElementById(\"glightbox-body\");this.modal=d;var g=d.querySelector(\".gclose\");this.prevButton=d.querySelector(\".gprev\"),this.nextButton=d.querySelector(\".gnext\"),this.overlay=d.querySelector(\".goverlay\"),this.loader=d.querySelector(\".gloader\"),this.slidesContainer=document.getElementById(\"glightbox-slider\"),this.bodyHiddenChildElms=i,this.events={},h(this.modal,\"glightbox-\"+this.settings.skin),this.settings.closeButton&&g&&(this.events.close=a(\"click\",{onElement:g,withCallback:function(t,i){t.preventDefault(),e.close()}})),g&&!this.settings.closeButton&&g.parentNode.removeChild(g),this.nextButton&&(this.events.next=a(\"click\",{onElement:this.nextButton,withCallback:function(t,i){t.preventDefault(),e.nextSlide()}})),this.prevButton&&(this.events.prev=a(\"click\",{onElement:this.prevButton,withCallback:function(t,i){t.preventDefault(),e.prevSlide()}})),this.settings.closeOnOutsideClick&&(this.events.outClose=a(\"click\",{onElement:d,withCallback:function(t,i){e.preventOutsideClick||c(document.body,\"glightbox-mobile\")||u(t.target,\".ginner-container\")||u(t.target,\".gbtn\")||c(t.target,\"gnext\")||c(t.target,\"gprev\")||e.close()}})),o(this.elements,(function(t,i){e.slidesContainer.appendChild(t.instance.create()),t.slideNode=e.slidesContainer.querySelectorAll(\".gslide\")[i]})),K&&h(document.body,\"glightbox-touch\"),this.events.resize=a(\"resize\",{onElement:window,withCallback:function(){e.resize()}}),this.built=!0}},{key:\"resize\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if((e=e||this.activeSlide)&&!c(e,\"zoomed\")){var t=y(),i=e.querySelector(\".gvideo-wrapper\"),n=e.querySelector(\".gslide-image\"),s=this.slideDescription,l=t.width,o=t.height;if(l<=768?h(document.body,\"glightbox-mobile\"):d(document.body,\"glightbox-mobile\"),i||n){var r=!1;if(s&&(c(s,\"description-bottom\")||c(s,\"description-top\"))&&!c(s,\"gabsolute\")&&(r=!0),n)if(l<=768)n.querySelector(\"img\");else if(r){var a=s.offsetHeight,u=n.querySelector(\"img\");u.setAttribute(\"style\",\"max-height: calc(100vh - \".concat(a,\"px)\")),s.setAttribute(\"style\",\"max-width: \".concat(u.offsetWidth,\"px;\"))}if(i){var g=O(this.settings.plyr.config,\"ratio\")?this.settings.plyr.config.ratio:\"\";if(!g){var v=i.clientWidth,f=i.clientHeight,p=v/f;g=\"\".concat(v/p,\":\").concat(f/p)}var m=g.split(\":\"),x=this.settings.videosWidth,b=this.settings.videosWidth,S=(b=M(x)||-1!==x.indexOf(\"px\")?parseInt(x):-1!==x.indexOf(\"vw\")?l*parseInt(x)/100:-1!==x.indexOf(\"vh\")?o*parseInt(x)/100:-1!==x.indexOf(\"%\")?l*parseInt(x)/100:parseInt(i.clientWidth))/(parseInt(m[0])/parseInt(m[1]));if(S=Math.floor(S),r&&(o-=s.offsetHeight),b>l||S>o||o<S&&l>b){var w=i.offsetWidth,T=i.offsetHeight,C=o/T,k={width:w*C,height:T*C};i.parentNode.setAttribute(\"style\",\"max-width: \".concat(k.width,\"px\")),r&&s.setAttribute(\"style\",\"max-width: \".concat(k.width,\"px;\"))}else i.parentNode.style.maxWidth=\"\".concat(x),r&&s.setAttribute(\"style\",\"max-width: \".concat(x,\";\"))}}}}},{key:\"reload\",value:function(){this.init()}},{key:\"updateNavigationClasses\",value:function(){var e=this.loop();d(this.nextButton,\"disabled\"),d(this.prevButton,\"disabled\"),0==this.index&&this.elements.length-1==0?(h(this.prevButton,\"disabled\"),h(this.nextButton,\"disabled\")):0!==this.index||e?this.index!==this.elements.length-1||e||h(this.nextButton,\"disabled\"):h(this.prevButton,\"disabled\")}},{key:\"loop\",value:function(){var e=O(this.settings,\"loopAtEnd\")?this.settings.loopAtEnd:null;return e=O(this.settings,\"loop\")?this.settings.loop:e,e}},{key:\"close\",value:function(){var e=this;if(!this.lightboxOpen){if(this.events){for(var t in this.events)this.events.hasOwnProperty(t)&&this.events[t].destroy();this.events=null}return!1}if(this.closing)return!1;this.closing=!0,this.slidePlayerPause(this.activeSlide),this.fullElementsList&&(this.elements=this.fullElementsList),this.bodyHiddenChildElms.length&&o(this.bodyHiddenChildElms,(function(e){e.removeAttribute(\"aria-hidden\")})),h(this.modal,\"glightbox-closing\"),g(this.overlay,\"none\"==this.settings.openEffect?\"none\":this.settings.cssEfects.fade.out),g(this.activeSlide,this.settings.cssEfects[this.settings.closeEffect].out,(function(){if(e.activeSlide=null,e.prevActiveSlideIndex=null,e.prevActiveSlide=null,e.built=!1,e.events){for(var t in e.events)e.events.hasOwnProperty(t)&&e.events[t].destroy();e.events=null}var i=document.body;d(Q,\"glightbox-open\"),d(i,\"glightbox-open touching gdesc-open glightbox-touch glightbox-mobile gscrollbar-fixer\"),e.modal.parentNode.removeChild(e.modal),e.trigger(\"close\"),T(e.settings.onClose)&&e.settings.onClose();var n=document.querySelector(\".gcss-styles\");n&&n.parentNode.removeChild(n),e.lightboxOpen=!1,e.closing=null}))}},{key:\"destroy\",value:function(){this.close(),this.clearAllEvents(),this.baseEvents&&this.baseEvents.destroy()}},{key:\"on\",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e||!T(t))throw new TypeError(\"Event name and callback must be defined\");this.apiEvents.push({evt:e,once:i,callback:t})}},{key:\"once\",value:function(e,t){this.on(e,t,!0)}},{key:\"trigger\",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=[];o(this.apiEvents,(function(t,s){var l=t.evt,o=t.once,r=t.callback;l==e&&(r(i),o&&n.push(s))})),n.length&&o(n,(function(e){return t.apiEvents.splice(e,1)}))}},{key:\"clearAllEvents\",value:function(){this.apiEvents.splice(0,this.apiEvents.length)}},{key:\"version\",value:function(){return\"3.1.0\"}}]),e}();return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new te(e);return t.init(),t}}));","import { h } from \"preact\";\nimport { BigFile, MiniFile } from \"/src/embed\";\n\nexport default function FileGrid(props) {\n\n  const toggleFile = (evt) => {\n    evt.stopPropagation();\n    evt.preventDefault();\n    if (typeof props.toggleFile == \"function\") {\n      props.toggleFile(evt.target.closest(\".file-embed\").id);\n    }\n  };\n\n  if (!props.files || props.files.length === 0) {\n    return null;\n  }\n  if (props.files && props.files.length > 3) {\n    return (\n      <div class=\"file-grid\">\n        {props.files\n          .map(e => (\n            <MiniFile\n              key={e.id}\n              invertFiles={props.invertFiles}\n              toggleFile={toggleFile}\n              file={e}\n              inWriter={props.inWriter}\n            />\n          ))}\n      </div>\n    );\n  }\n  return (\n    <div class=\"d-flex justify-content-center flex-wrap\">\n      {props.files\n        .map(e => (\n          <BigFile\n            key={e.id}\n            toggleFile={toggleFile}\n            invertFiles={props.invertFiles}\n            file={e}\n            inWriter={props.inWriter}\n          />\n        ))}\n    </div>\n  );\n}\n","import { h } from \"preact\";\nimport { util } from \"/src/core\";\nimport { FaIcon } from \"/src/misc\";\nimport { useTranslation } from \"react-i18next\";\nimport { useState, useEffect } from \"preact/hooks\";\nimport GLightbox from \"glightbox\";\n\nexport default function BigFile(props) {\n\n  const [lightbox, setLightbox] = useState(null);\n\n  const { t } = useTranslation();\n  const filePath = props.file.contentUrl ? `/files/${props.file.contentUrl}` : null;\n  let url = filePath;\n\n  useEffect(() => {\n    setLightbox(GLightbox({\n      autoplayVideos: false,\n      draggable: true,\n      loop: false,\n      touchNavigation: true,\n      zoomable: true,\n      elements: [],\n    }));\n  }, []);\n\n  const openLightbox = evt => {\n    if (!props.inWriter) {\n      evt.preventDefault();\n      evt.stopPropagation();\n      if (lightbox != null && Array.from(document.getElementsByClassName(\"glightbox\")).length > 0) {\n        const elements = Array.from(document.getElementsByClassName(\"glightbox\")).map(e => {\n          const r = {href: e.href};\n          if (e?.dataset?.width) {\n            r.width = e?.dataset?.width;\n          }\n          if (e?.dataset?.height) {\n            r.height = e?.dataset?.height;\n          }\n          if (e?.dataset?.type) {\n            r.type = e?.dataset?.type;\n          }\n          if (e?.dataset?.srcset) {\n            r.srcset = e?.dataset?.srcset;\n          }\n          if (e?.dataset?.sizes) {\n            r.sizes = e?.dataset?.sizes;\n          }\n          return r;\n        });\n        lightbox.setElements(elements);\n        lightbox.open(null, elements.findIndex(e => e.href === evt.target.closest(\".glightbox\").href));\n      }\n    }\n  };\n\n  if (props.file.contentUrl) {\n    if (/video/.test(props.file.type)) {\n      if (props.file.status == \"ready\") {\n        return (\n          <video\n            draggable=\"false\"\n            poster={util.thumbnail(props.file.id, 1280, 720)}\n            class=\"file-embed img-fluid contained-height video\"\n            controls=\"true\"\n            src={url}\n            id={props.file.id}\n          />\n        );\n      }\n      return (\n        <a class=\"file-embed file-loading image video-uploaded\" id={props.file.id}>\n          <img\n            class=\"img-fluid video-raw\"\n            src={util.crop(props.file.id, 320, 180)}\n          />\n          <div class=\"video-not-ready\">\n            {t(\"video_not_ready\")}\n          </div>\n        </a>\n      );\n    }\n    if (/audio/.test(props.file.type)) {\n      if (props.file.status == \"ready\") {\n        return (\n          <audio\n            controls=\"true\"\n            class=\"file-embed audio\"\n            src={util.toApp(url)}\n            id={props.file.id}\n          />\n        );\n      }\n      return (\n        <a class=\"file-embed file-loading image video-uploaded\" id={props.file.id}>\n          <div class=\"audio-not-ready\">\n            {t(\"audio_not_ready\")}\n          </div>\n        </a>\n      );\n    }\n    if (/pdf/.test(props.file.type)) {\n      return (\n        <a\n          data-origin={util.toApp(filePath)}\n          draggable=\"false\"\n          href={!props.inWriter ? util.toApp(url) : undefined}\n          className={`glightbox file-embed pdf-outline image${props.file.removed ? \" removed\" : \"\"}`}\n          id={props.file.id}\n          data-width=\"calc(90vw - 10px)\"\n          data-height=\"100vh\"\n          onClick={e => openLightbox(e)}\n        >\n          <img class=\"img-fluid\" src={util.thumbnail(props.file.id, 210*2, 497*2)} />\n          <div\n            class=\"remove-button\"\n            style={props.file.removed ? \"color:red\" : \"\"}\n            onClick={e => props.toggleFile(e)}\n          >\n            <FaIcon family={\"solid\"} icon={\"times\"} />\n          </div>\n        </a>\n      );\n    }\n    if (/image/.test(props.file.type)) {\n\n      if (props.file.type == \"image/gif\") {\n        return (\n          <a\n            data-origin={util.toApp(filePath)}\n            draggable=\"false\"\n            href={!props.inWriter ? util.toApp(filePath) : undefined}\n            className={`glightbox file-embed image${props.file.removed ? \" removed\" : \"\"}`}\n            id={props.file.id}\n            data-type=\"image\"\n            onClick={e => openLightbox(e)}\n          >\n            <img class=\"img-fluid\" src={util.toApp(filePath)} />\n            <div\n              class=\"remove-button\"\n              style={props.file.removed ? \"color:red\" : \"\"}\n              onClick={e => props.toggleFile(e)}\n            >\n              <FaIcon family={\"solid\"} icon={\"times\"} />\n            </div>\n          </a>\n        );\n      }\n\n      return (\n        <a\n          data-origin={util.toApp(filePath)}\n          draggable=\"false\"\n          data-type=\"image\"\n          data-srcset={`${util.thumbnail(props.file.id, 720)} 720w, ${util.thumbnail(props.file.id, 1366)} 1366w, ${util.thumbnail(props.file.id, 2048)} 2048w`}\n          data-sizes=\"(max-width: 992px) 720px, (max-width: 1400px) 1366px, 2048px\"\n          href={!props.inWriter ? util.toApp(filePath) : undefined}\n          className={`glightbox file-embed image${props.file.removed ? \" removed\" : \"\"}`}\n          id={props.file.id}\n          onClick={e => openLightbox(e)}\n        >\n          <img class=\"img-fluid\" src={util.thumbnail(props.file.id, 720)} />\n          <div\n            class=\"remove-button\"\n            style={props.file.removed ? \"color:red\" : \"\"}\n            onClick={e => props.toggleFile(e)}\n          >\n            <FaIcon family={\"solid\"} icon={\"times\"} />\n          </div>\n        </a>\n      );\n    }\n  }\n\n  if (props.file.status == \"loading\") {\n    return (\n      <div class=\"file-embed file-placeholder\" id={props.file.id}/>\n    );\n  }\n  return (\n    <div class=\"file-embed file-placeholder\" id={props.file.id}>\n      {props.file[\"error\"] ? (\n        <div class=\"orange-error\">&times;</div>\n      ) : (\n        <div class=\"spinner orange-spinner\">\n          <div /><div /><div /><div /><div />\n        </div>\n      )}\n      <div class=\"progress-bar\">\n        <div style={{ width: `${props.file.progress}%` }} />\n      </div>\n    </div>\n  );\n}\n","import { h } from \"preact\";\nimport { useState, useRef, useEffect } from \"preact/hooks\";\nimport { util } from \"/src/core\";\nimport { FaIcon } from \"/src/misc\";\nimport { polyfill } from \"mobile-drag-drop\";\nimport GLightbox from \"glightbox\";\n\nexport default function MiniFile(props) {\n\n  const [lightbox, setLightbox] = useState(null);\n\n  const filePath = props.file.contentUrl ? `/files/${props.file.contentUrl}` : null;\n  let url = filePath;\n  const innerRef = useRef(null);\n  polyfill({\n    tryFindDraggableTarget: e => {\n      if (!props.inWriter) {\n        return undefined;\n      }\n      const cp = e.composedPath();\n      for (const o of cp) {\n        let el = o;\n        do {\n          if (el.draggable === false) {\n            continue;\n          }\n          if (el.draggable === true) {\n            return el;\n          }\n          if (\n            el.getAttribute\n            && el.getAttribute(\"draggable\") === \"true\"\n          ) {\n            return el;\n          }\n        } while((el = el.parentNode) && el !== document.body);\n      }\n    },\n  });\n\n  useEffect(() => {\n    setLightbox(GLightbox({\n      autoplayVideos: false,\n      draggable: true,\n      loop: false,\n      touchNavigation: true,\n      zoomable: true,\n      elements: [],\n    }));\n  }, []);\n\n  const openLightbox = evt => {\n    if (!props.inWriter) {\n      evt.preventDefault();\n      evt.stopPropagation();\n      if (lightbox != null && Array.from(document.getElementsByClassName(\"glightbox\")).length > 0) {\n        const elements = Array.from(document.getElementsByClassName(\"glightbox\")).map(e => {\n          const r = {href: e.href};\n          if (e?.dataset?.width) {\n            r.width = e?.dataset?.width;\n          }\n          if (e?.dataset?.height) {\n            r.height = e?.dataset?.height;\n          }\n          if (e?.dataset?.type) {\n            r.type = e?.dataset?.type;\n          }\n          if (e?.dataset?.srcset) {\n            r.srcset = e?.dataset?.srcset;\n          }\n          if (e?.dataset?.sizes) {\n            r.sizes = e?.dataset?.sizes;\n          }\n          return r;\n        });\n        lightbox.setElements(elements);\n        lightbox.open(null, elements.findIndex(e => e.href === evt.target.closest(\".glightbox\").href));\n      }\n    }\n  };\n\n  const fileDragStart = e => {\n    e.target.style.opacity = \"0.4\";\n    e.dataTransfer.effectAllowed = \"move\";\n    e.dataTransfer.setData(\"id\", props.file.id);\n    document.querySelectorAll(\".remove-button\").forEach(e => e.style.display = \"none\");\n  };\n\n  const fileDragEnd = e => {\n    e.target.style.opacity = \"1\";\n    document.querySelectorAll(\".remove-button\").forEach(e => e.style.display = \"block\");\n    document.querySelectorAll(\".drag-over\").forEach(e => e.classList.remove(\"drag-over\"));\n  };\n\n  const fileDragEnter = e => {\n    e.preventDefault();\n    innerRef.current.classList.add(\"drag-over\");\n    return false;\n  };\n\n  const fileDragLeave = e => {\n    e.preventDefault();\n    innerRef.current.classList.remove(\"drag-over\");\n    return false;\n  };\n\n  // necessary to declare a drop target\n  const fileDragOver = e => {\n    e.preventDefault();\n    return false;\n  };\n\n  const fileDrop = e => {\n    // stops the browser from redirecting.\n    e.preventDefault();\n    props.invertFiles(e.dataTransfer.getData(\"id\"), props.file.id);\n    return false;\n  };\n\n  useEffect(() => {\n    if (\n      props.inWriter\n      && props.file.status == \"ready\"\n      && innerRef && innerRef.current\n    ) {\n      innerRef.current.addEventListener(\"dragstart\", fileDragStart);\n      innerRef.current.addEventListener(\"dragend\", fileDragEnd);\n      innerRef.current.addEventListener(\"dragover\", fileDragOver);\n      innerRef.current.addEventListener(\"dragenter\", fileDragEnter);\n      innerRef.current.addEventListener(\"dragleave\", fileDragLeave);\n      innerRef.current.addEventListener(\"drop\", fileDrop);\n      return () => {\n        innerRef.current.removeEventListener(\"dragstart\", fileDragStart);\n        innerRef.current.removeEventListener(\"dragend\", fileDragEnd);\n        innerRef.current.removeEventListener(\"dragover\", fileDragOver);\n        innerRef.current.removeEventListener(\"dragenter\", fileDragEnter);\n        innerRef.current.removeEventListener(\"dragleave\", fileDragLeave);\n        innerRef.current.removeEventListener(\"drop\", fileDrop);\n      };\n    }\n  }, []);\n\n  switch (props.file.status) {\n  case \"raw\":\n    return (\n      <a class=\"file-embed file-loading rounded\" id={props.file.id}>\n        <div class=\"miniature\">\n          <FaIcon family={\"regular\"} icon={\"check-circle\"} />\n        </div>\n      </a>\n    );\n  case \"loading\":\n    return (\n      <a class=\"file-embed file-loading rounded\" id={props.file.id}>\n        <div class=\"miniature\"/>\n      </a>\n    );\n  case \"uploading\":\n  case \"initial\":\n    return (\n      <a class=\"file-embed file-loading rounded\" id={props.file.id}>\n        <div\n          class=\"miniature video-raw\"\n          style={`background-image:url(\"${util.crop(props.file.id, 160, 160)}\")`}\n        />\n        <div class=\"spinner orange-spinner\">\n          <div /><div /><div /><div /><div />\n        </div>\n        { props.file && props.file.progress > 0 && (\n          <div class=\"progress-bar\">\n            <div style={{ width: `${props.file.progress}%` }} />\n          </div>\n        )}\n      </a>\n    );\n  case \"ready\":\n  default:\n    if (/pdf/.test(props.file.type) || /video/.test(props.file.type)) {\n      return (\n        <a\n          ref={innerRef}\n          draggable={!!props.inWriter}\n          data-origin={util.toApp(filePath)}\n          href={!props.inWriter ? util.toApp(url) : undefined}\n          className={`${!props.inWriter ? \"glightbox \": \"\"}file-embed rounded ${props.file.removed ? \" removed\" : \"\"}`}\n          id={props.file.id}\n          data-width=\"calc(90vw - 10px)\"\n          data-height=\"100vh\"\n          onClick={e => openLightbox(e)}\n        >\n          <div\n            className={`miniature${props.file.removed ? \" removed\" : \"\"}`}\n            style={\n              `background-image:url(\"${util.crop(props.file.id, 160, 160)}\")`\n            }\n          />\n          <div\n            class=\"remove-button\"\n            style={props.file.removed ? \"color:red\" : \"\"}\n            onClick={e => props.toggleFile(e)}\n          >\n            <FaIcon family={\"solid\"} icon={\"times\"} />\n          </div>\n        </a>\n      );\n    }\n    if (/audio/.test(props.file.type)) {\n      return (\n        <a\n          ref={innerRef}\n          draggable={!!props.inWriter}\n          data-origin={util.toApp(filePath)}\n          href={!props.inWriter ? util.toApp(url) : undefined}\n          className={`${!props.inWriter ? \"glightbox \": \"\"}file-embed rounded ${props.file.removed ? \" removed\" : \"\"}`}\n          id={props.file.id}\n          data-width=\"calc(90vw - 10px)\"\n          data-height=\"100vh\"\n          onClick={e => openLightbox(e)}\n        >\n          <div\n            className={`miniature audio-miniature${props.file.removed ? \" removed\" : \"\"}`}\n          >\n            <FaIcon family={\"solid\"} icon={\"headphones-alt\"} />\n          </div>\n          <div\n            class=\"remove-button\"\n            style={props.file.removed ? \"color:red\" : \"\"}\n            onClick={e => props.toggleFile(e)}\n          >\n            <FaIcon family={\"solid\"} icon={\"times\"} />\n          </div>\n        </a>\n      );\n    }\n    if (props.file.type == \"image/gif\") {\n      return (\n        <a\n          ref={innerRef}\n          draggable={!!props.inWriter}\n          data-origin={util.toApp(filePath)}\n          href={!props.inWriter ? util.toApp(filePath) : undefined}\n          class={`${!props.inWriter ? \"glightbox \": \"\"}file-embed rounded`}\n          id={props.file.id}\n          data-type=\"image\"\n          onClick={e => openLightbox(e)}\n        >\n          <div\n            className={`miniature${props.file.removed ? \" removed\" : \"\"}`}\n            style={\n              `background-image:url(\"${util.crop(props.file.id, 160, 160)}\")`\n            }\n          />\n          <div\n            class=\"remove-button\"\n            style={props.file.removed ? \"color:red\" : \"\"}\n            onClick={e => props.toggleFile(e)}\n          >\n            <FaIcon family={\"solid\"} icon={\"times\"} />\n          </div>\n        </a>\n      );\n    }\n    if (/image/.test(props.file.type)) {\n      return (\n        <a\n          ref={innerRef}\n          draggable={!!props.inWriter}\n          data-origin={util.toApp(filePath)}\n          data-type=\"image\"\n          data-srcset={`${util.thumbnail(props.file.id, 720)} 720w, ${util.thumbnail(props.file.id, 1366)} 1366w, ${util.thumbnail(props.file.id, 2048)} 2048w`}\n          data-sizes=\"(max-width: 992px) 720px, (max-width: 1400px) 1366px, 2048px\"\n          href={!props.inWriter ? util.toApp(filePath) : undefined}\n          class={`${!props.inWriter ? \"glightbox \": \"\"}file-embed rounded`}\n          id={props.file.id}\n          onClick={e => openLightbox(e)}\n        >\n          <div\n            className={`miniature${props.file.removed ? \" removed\" : \"\"}`}\n            style={\n              `background-image:url(\"${util.crop(props.file.id, 160, 160)}\")`\n            }\n          />\n          <div\n            class=\"remove-button\"\n            style={props.file.removed ? \"color:red\" : \"\"}\n            onClick={e => props.toggleFile(e)}\n          >\n            <FaIcon family={\"solid\"} icon={\"times\"} />\n          </div>\n        </a>\n      );\n    }\n  }\n}\n","/*! mobile-drag-drop 3.0.0-rc.0 | Copyright (c) 2022 Tim Ruffles | MIT License */\n!function(t,i){\"object\"==typeof exports&&\"undefined\"!=typeof module?i(exports):\"function\"==typeof define&&define.amd?define([\"exports\"],i):i(t.MobileDragDrop=t.MobileDragDrop||{})}(this,function(t){\"use strict\";var c=\"dnd-poly-\",s=[\"none\",\"copy\",\"copyLink\",\"copyMove\",\"link\",\"linkMove\",\"move\",\"all\"],f=[\"none\",\"copy\",\"move\",\"link\"];function i(){var t=!1;try{var i=Object.defineProperty({},\"passive\",{get:function(){t=!0}});window.addEventListener(\"test\",null,i)}catch(t){}return t}var e=i();function l(t){return t&&t.tagName}function h(t,i,s){void 0===s&&(s=!0),document.addEventListener(t,i,!!e&&{passive:s})}function n(t,i){document.removeEventListener(t,i)}function u(t,i,s,n){void 0===n&&(n=!1);var h=e?{passive:!0,capture:n}:n;return t.addEventListener(i,s,h),{off:function(){t.removeEventListener(i,s,h)}}}function o(t){return 0===t.length?0:t.reduce(function(t,i){return i+t},0)/t.length}function r(t,i){for(var s=0;s<t.changedTouches.length;s++)if(t.changedTouches[s].identifier===i)return!0;return!1}function a(t,i,s){for(var n=[],h=[],e=0;e<i.touches.length;e++){var r=i.touches[e];n.push(r[t+\"X\"]),h.push(r[t+\"Y\"])}s.x=o(n),s.y=o(h)}var d=[\"\",\"-webkit-\"];function v(t,i,s,n,h){var e=i.x,i=i.y;n&&(e+=n.x,i+=n.y),(h=void 0===h||h)&&(e-=parseInt(t.offsetWidth,10)/2,i-=parseInt(t.offsetHeight,10)/2);for(var r=\"translate3d(\"+e+\"px,\"+i+\"px, 0)\",o=0;o<d.length;o++){var u=d[o]+\"transform\";t.style[u]=r+\" \"+s[o]}}var p=(Object.defineProperty(g.prototype,\"dropEffect\",{get:function(){return this.t},set:function(t){0!==this.i.mode&&-1<s.indexOf(t)&&(this.t=t)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,\"types\",{get:function(){if(0!==this.i.mode)return Object.freeze(this.i.types)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,\"effectAllowed\",{get:function(){return this.i.effectAllowed},set:function(t){2===this.i.mode&&-1<s.indexOf(t)&&(this.i.effectAllowed=t)},enumerable:!1,configurable:!0}),g.prototype.setData=function(t,i){if(2===this.i.mode){if(-1<t.indexOf(\" \"))throw new Error(\"illegal arg: type contains space\");this.i.data[t]=i,-1===this.i.types.indexOf(t)&&this.i.types.push(t)}},g.prototype.getData=function(t){if(1===this.i.mode||2===this.i.mode)return this.i.data[t]||\"\"},g.prototype.clearData=function(t){2===this.i.mode&&(t&&this.i.data[t]?(delete this.i.data[t],-1<(t=this.i.types.indexOf(t))&&this.i.types.splice(t,1)):(this.i.data={},this.i.types=[]))},g.prototype.setDragImage=function(t,i,s){2===this.i.mode&&this.h(t,i,s)},g);function g(t,i){this.i=t,this.h=i,this.t=f[0]}function m(t,i){return t?t===s[0]?f[0]:0===t.indexOf(s[1])||t===s[7]?f[1]:0===t.indexOf(s[4])?f[3]:t===s[6]?f[2]:f[1]:3===i.nodeType&&\"A\"===i.tagName?f[3]:f[1]}function y(u,t,a,i,s,n,c){void 0===c&&(c=null);s=function(t,i,s,n,h,e,r){void 0===c&&(r=null);var o=a.changedTouches[0],n=new Event(u,{bubbles:!0,cancelable:n});n.dataTransfer=e,n.relatedTarget=r,n.screenX=o.screenX,n.screenY=o.screenY,n.clientX=o.clientX,n.clientY=o.clientY,n.pageX=o.pageX,n.pageY=o.pageY;t=t.getBoundingClientRect();return n.offsetX=n.clientX-t.left,n.offsetY=n.clientY-t.top,n}(t,0,0,n=void 0===n||n,document.defaultView,s,c),s=!t.dispatchEvent(s);return i.mode=0,s}function b(t,i){if(!t||t===s[7])return i;if(i===f[1]){if(0===t.indexOf(f[1]))return f[1]}else if(i===f[3]){if(0===t.indexOf(f[3])||-1<t.indexOf(\"Link\"))return f[3]}else if(i===f[2]&&(0===t.indexOf(f[2])||-1<t.indexOf(\"Move\")))return f[2];return f[0]}var w=(x.prototype.o=function(){var n=this;this.u=1,this.l=f[0],this.v={data:{},effectAllowed:void 0,mode:3,types:[]},this.p={x:null,y:null},this.g={x:null,y:null};var h=this.m;if(this.I=new p(this.v,function(t,i,s){h=t,\"number\"!=typeof i&&\"number\"!=typeof s||(n.j={x:i||0,y:s||0})}),this.v.mode=2,this.I.dropEffect=f[0],y(\"dragstart\",this.m,this.k,this.v,this.I))return this.u=3,this.C(),!1;a(\"page\",this.k,this.g);var i,t,s=this.S.dragImageSetup(h);return this.A=(i=s,d.map(function(t){t=i.style[t+\"transform\"];return t&&\"none\"!==t?t.replace(/translate\\(\\D*\\d+[^,]*,\\D*\\d+[^,]*\\)\\s*/g,\"\"):\"\"})),s.style.position=\"absolute\",s.style.left=\"0px\",s.style.top=\"0px\",s.style.zIndex=\"999999\",s.classList.add(\"dnd-poly-drag-image\"),s.classList.add(\"dnd-poly-icon\"),this.O=s,this.j||(this.S.dragImageOffset?this.j={x:this.S.dragImageOffset.x,y:this.S.dragImageOffset.y}:this.S.dragImageCenterOnTouch?(t=getComputedStyle(h),this.j={x:0-parseInt(t.marginLeft,10),y:0-parseInt(t.marginTop,10)}):(s=h.getBoundingClientRect(),t=getComputedStyle(h),this.j={x:s.left-this.M.clientX-parseInt(t.marginLeft,10)+s.width/2,y:s.top-this.M.clientY-parseInt(t.marginTop,10)+s.height/2})),v(this.O,this.g,this.A,this.j,this.S.dragImageCenterOnTouch),document.body.appendChild(this.O),this.D=window.setInterval(function(){n.F||(n.F=!0,n.N(),n.F=!1)},this.S.iterationInterval),!0},x.prototype.C=function(){this.D&&(clearInterval(this.D),this.D=null),n(\"touchmove\",this.P),n(\"touchend\",this.T),n(\"touchcancel\",this.T),this.O&&(this.O.parentNode.removeChild(this.O),this.O=null),this.L(this.S,this.k,this.u)},x.prototype._=function(t){var s=this;if(!1!==r(t,this.M.identifier)){if(this.k=t,0===this.u){var i=void 0;if(this.S.dragStartConditionOverride)try{i=this.S.dragStartConditionOverride(t)}catch(t){i=!1}else i=1===t.touches.length;return i?void(!0===this.o()&&(this.H.preventDefault(),t.preventDefault())):void this.C()}if(t.preventDefault(),a(\"client\",t,this.p),a(\"page\",t,this.g),this.S.dragImageTranslateOverride)try{var n=!1;if(this.S.dragImageTranslateOverride(t,{x:this.p.x,y:this.p.y},this.V,function(t,i){s.O&&(n=!0,s.p.x+=t,s.p.y+=i,s.g.x+=t,s.g.y+=i,v(s.O,s.g,s.A,s.j,s.S.dragImageCenterOnTouch))}),n)return}catch(t){}v(this.O,this.g,this.A,this.j,this.S.dragImageCenterOnTouch)}},x.prototype.X=function(t){if(!1!==r(t,this.M.identifier)){if(this.S.dragImageTranslateOverride)try{this.S.dragImageTranslateOverride(void 0,void 0,void 0,function(){})}catch(t){}0!==this.u?(t.preventDefault(),this.u=\"touchcancel\"===t.type?3:2):this.C()}},x.prototype.N=function(){var t=this,i=this.l;this.v.mode=3,this.I.dropEffect=f[0];var s,n,h,e,r,o=y(\"drag\",this.m,this.k,this.v,this.I);if(o&&(this.l=f[0]),o||2===this.u||3===this.u)return this.Y(this.u)?(e=this.m,s=this.O,n=this.A,a=function(){t.q()},void(\"hidden\"!==(r=getComputedStyle(e)).visibility&&\"none\"!==r.display?(s.classList.add(\"dnd-poly-snapback\"),h=getComputedStyle(s),o=parseFloat(h.transitionDuration),isNaN(o)||0===o?a():((e={x:(u=e.getBoundingClientRect()).left,y:u.top}).x+=document.body.scrollLeft||document.documentElement.scrollLeft,e.y+=document.body.scrollTop||document.documentElement.scrollTop,e.x-=parseInt(r.marginLeft,10),e.y-=parseInt(r.marginTop,10),u=parseFloat(h.transitionDelay),u=Math.round(1e3*(o+u)),v(s,e,n,void 0,!1),setTimeout(a,u))):a())):void this.q();var u=this.S.elementFromPoint(this.p.x,this.p.y),a=this.B;u!==this.V&&u!==this.B&&(this.V=u,null!==this.B&&(this.v.mode=3,this.I.dropEffect=f[0],y(\"dragexit\",this.B,this.k,this.v,this.I,!1)),null===this.V?this.B=this.V:(this.v.mode=3,this.I.dropEffect=m(this.v.effectAllowed,this.m),y(\"dragenter\",this.V,this.k,this.v,this.I)?(this.B=this.V,this.l=b(this.I.effectAllowed,this.I.dropEffect)):this.V!==document.body&&(this.B=document.body))),a!==this.B&&l(a)&&(this.v.mode=3,this.I.dropEffect=f[0],y(\"dragleave\",a,this.k,this.v,this.I,!1,this.B)),l(this.B)&&(this.v.mode=3,this.I.dropEffect=m(this.v.effectAllowed,this.m),!1===y(\"dragover\",this.B,this.k,this.v,this.I)?this.l=f[0]:this.l=b(this.I.effectAllowed,this.I.dropEffect)),i!==this.l&&this.O.classList.remove(c+i);i=c+this.l;this.O.classList.add(i)},x.prototype.Y=function(t){t=this.l===f[0]||null===this.B||3===t;return t?l(this.B)&&(this.v.mode=3,this.I.dropEffect=f[0],y(\"dragleave\",this.B,this.k,this.v,this.I,!1)):l(this.B)&&(this.v.mode=1,this.I.dropEffect=this.l,!0===y(\"drop\",this.B,this.k,this.v,this.I)?this.l=this.I.dropEffect:this.l=f[0]),t},x.prototype.q=function(){this.v.mode=3,this.I.dropEffect=this.l,y(\"dragend\",this.m,this.k,this.v,this.I,!1),this.u=2,this.C()},x);function x(t,i,s,n){this.H=t,this.S=i,this.m=s,this.L=n,this.u=0,this.V=null,this.B=null,this.k=t,this.M=t.changedTouches[0],this.P=this._.bind(this),this.T=this.X.bind(this),h(\"touchmove\",this.P,!1),h(\"touchend\",this.T,!1),h(\"touchcancel\",this.T,!1)}var I,j={iterationInterval:150,tryFindDraggableTarget:function(t){for(var i=0,s=t.composedPath();i<s.length;i++){var n=s[i];do{if(!1!==n.draggable){if(!0===n.draggable)return n;if(n.getAttribute&&\"true\"===n.getAttribute(\"draggable\"))return n}}while((n=n.parentNode)&&n!==document.body)}},dragImageSetup:function(t){var i=t.cloneNode(!0);return function t(i,s){if(1===i.nodeType){for(var n,h,e=getComputedStyle(i),r=0;r<e.length;r++){var o=e[r];s.style.setProperty(o,e.getPropertyValue(o),e.getPropertyPriority(o))}s.style.pointerEvents=\"none\",s.removeAttribute(\"id\"),s.removeAttribute(\"class\"),s.removeAttribute(\"draggable\"),\"CANVAS\"===s.nodeName&&(n=s,h=(h=i).getContext(\"2d\").getImageData(0,0,h.width,h.height),n.getContext(\"2d\").putImageData(h,0,0))}if(i.hasChildNodes())for(r=0;r<i.childNodes.length;r++)t(i.childNodes[r],s.childNodes[r]);!function t(i){if(i instanceof HTMLElement&&(i.style.pointerEvents=\"none\"),i.children&&i.children.length)for(var s=0;s<i.children.length;s++)t(i.children[s]);if(i.shadowRoot&&i.shadowRoot.children.length)for(s=0;s<i.shadowRoot.children.length;s++)t(i.shadowRoot.children[s])}(s)}(t,i),i},elementFromPoint:function(t,i){var s=document.elementFromPoint(t,i);if(s){for(;s.shadowRoot;){var n=s.shadowRoot.elementFromPoint(t,i);if(null===n||n===s)break;s=n}return s}}};function k(i){if(!I){var t=j.tryFindDraggableTarget(i);if(t)try{I=new w(i,j,t,S)}catch(t){throw S(j,i,3),t}}}function C(t){function i(t){h.off(),e.off(),r.off(),o.off(),s&&s.dispatchEvent(new CustomEvent(\"dnd-poly-dragstart-cancel\",{bubbles:!0,cancelable:!0})),clearTimeout(n)}var s=t.target;s&&s.dispatchEvent(new CustomEvent(\"dnd-poly-dragstart-pending\",{bubbles:!0,cancelable:!0}));var n=window.setTimeout(function(){h.off(),e.off(),r.off(),o.off(),k(t)},j.holdToDrag),h=u(s,\"touchend\",i),e=u(s,\"touchcancel\",i),r=u(s,\"touchmove\",i),o=u(window,\"scroll\",i,!0)}function S(t,i,s){if(0===s&&t.defaultActionOverride)try{t.defaultActionOverride(i),i.defaultPrevented}catch(t){}I=null}t.polyfill=function(i){if(i&&Object.keys(i).forEach(function(t){j[t]=i[t]}),!j.forceApply){t=(t=!!window.chrome||/chrome/i.test(navigator.userAgent),{dragEvents:\"ondragstart\"in document.documentElement,draggable:\"draggable\"in document.documentElement,userAgentSupportingNativeDnD:!(/iPad|iPhone|iPod|Android/.test(navigator.userAgent)||t&&\"ontouchstart\"in document.documentElement)});if(t.userAgentSupportingNativeDnD&&t.draggable&&t.dragEvents)return!1}var t;return j.holdToDrag?h(\"touchstart\",C,!1):h(\"touchstart\",k,!1),!0},t.supportsPassiveEventListener=i,Object.defineProperty(t,\"G\",{value:!0})});\n//# sourceMappingURL=index.min.js.map",null,null,null,null,null,null,null,"import { h } from \"preact\";\nimport { http, util } from \"/src/core\";\nimport { EmbedBlock, FileGrid } from \"/src/embed\";\nimport { useEffect, useState } from \"preact/hooks\";\n\nexport default function MessageBody(props) {\n\n  const [preview, setPreview] = useState(null);\n\n  const displayMessageText = () => {\n    if (!props.message.data) {\n      return \"\";\n    }\n    // escape html a little (just enough to avoid xss I hope)\n    let txt = props.message.data[\"text\"]\n      .replace(/</g, \"&lt;\")\n      .replace(/>/g, \"&gt;\")\n      .trim();\n    // replace url by real links\n    let shift = 0;\n    let match = null;\n    while ((match = util.getUrl(txt.slice(shift)))) {\n      let url = match[0];\n      if (url.length >= 50) {\n        url = `${url.slice(0, 25)  }...${  url.slice(-24)}`;\n      }\n      let link = `<a href=\"${match[0]}\" target=\"_blank\">${url}</a>`;\n      txt =\n        txt.slice(0, match[\"index\"] + shift) +\n        link +\n        txt.slice(match[\"index\"] + shift + match[0].length);\n      shift += match[\"index\"] + link.length;\n    }\n    // replace line returns\n    txt = txt.replace(/\\n/g, \"<br/>\");\n    return { __html: txt };\n  };\n\n  useEffect(() => {\n    if (!preview && props.message) {\n      if (props.message.data) {\n        let previewUrl = util.getUrl(props.message.data[\"text\"]);\n        if (previewUrl) {\n          http\n            .get(`/api/links/by_url?url=${encodeURIComponent(previewUrl[0])}`)\n            .then(r => setPreview(r));\n        }\n      }\n    }\n  });\n\n  return (\n    <div class=\"message-body\">\n      {props.message.data && props.message.data.title && (\n        <div class=\"title\">\n          <span>{props.message.data.title}</span>\n        </div>\n      )}\n      {props.message.data &&\n        props.message.data.text &&\n        props.message.data.text.trim() && (\n        <p\n          class=\"card-text\"\n          dangerouslySetInnerHTML={displayMessageText()}\n        />\n      )}\n      {preview && (!props.message.data || !props.message.data[\"no_embed\"]) && (\n        <EmbedBlock\n          key={preview.url}\n          url={preview.url}\n          preview={preview.preview}\n          data={preview.data}\n        />\n      )}\n      {props.files && (\n        <FileGrid files={props.files} />\n      )}\n    </div>\n  );\n}\n","import { h, Fragment } from \"preact\";\nimport { http, util } from \"/src/core\";\nimport { Link } from \"react-router-dom\";\nimport { useEffect, useState } from \"preact/hooks\";\n\nexport default function MessageBreadcrumbs(props) {\n\n  const stack = [props.message.id, ...props.message.lineage].reverse();\n  const [breadcrumbs, setBreadcrumbs] = useState([]);\n  const [group, setGroup] = useState(null);\n\n  const getTitle = (message, previewLink) => {\n    if (message) {\n      if (message[\"data\"] && message[\"data\"][\"title\"]) {\n        return message[\"data\"][\"title\"];\n      }\n      if (previewLink && previewLink[\"data\"]) {\n        return previewLink[\"data\"][\"title\"];\n      }\n      if (message[\"data\"] && message[\"data\"][\"text\"]) {\n        let url = util.getUrl(message[\"data\"][\"text\"]);\n        if (url && url.length > 0) {\n          url = url[0];\n        }\n        if (url) {\n          return url;\n        }\n        return message[\"data\"][\"text\"];\n      }\n    }\n    // When all else fails, just say who and when\n    return `${message?.author?.name}, ${util.humanTime(message.createdAt)}`;\n  };\n\n  const loadBreadcrumbs = ids => {\n    let breadcrumbs = [];\n    Promise.all(ids.map(id => http.get(`/api/messages/${id}`))).then((messages) => {\n      Promise.all(messages.map(message => {\n        let previewUrl = util.getUrl(message?.data?.text);\n        if (previewUrl) {\n          return http.get(`/api/links/by_url?url=${encodeURIComponent(previewUrl[0])}`);\n        }\n        return Promise.resolve(null);\n      })).then((links) => {\n        for (let i = 0; i < ids.length; i++) {\n          breadcrumbs[i] = getTitle(messages[i], links[i]);\n        }\n        setBreadcrumbs(breadcrumbs);\n      });\n    });\n  };\n\n  useEffect(() => {\n    loadBreadcrumbs(stack);\n    http.get(`/api/groups/${props.message.group.id}`).then(group => {\n      setGroup(group);\n    });\n  }, []);\n\n  if (stack.length > 0) {\n    const stack_truncated = [stack[0], ...stack.slice(Math.min(3, stack.length) * -1).slice(1)];\n    const breadcrumbs_truncated = [breadcrumbs[0], ...breadcrumbs.slice(Math.min(3, breadcrumbs.length) * -1).slice(1)];\n    return (\n      <div class=\"message-breadcrumbs\">\n        <nav style=\"--bs-breadcrumb-divider: '>';\">\n          <ol class=\"breadcrumb\">\n            {group && (\n              <li class=\"breadcrumb-item\">\n                <Link\n                  key={group.id}\n                  to={`/groups/${group.id}`}\n                  class=\"no-decoration\"\n                >{util.limitLength(group.name || group.id.slice(0, 8), 30)}</Link>\n              </li>\n            )}\n            {stack_truncated.map((e, i) => (\n              <Fragment key={e}>\n                <Fragment>\n                  {i == 1 && stack.length > 3 && (\n                    <li class=\"breadcrumb-item\">...</li>\n                  )}\n                </Fragment>\n                <li class=\"breadcrumb-item\">\n                  <Link\n                    key={e}\n                    to={`/messages/${e}`}\n                    class=\"no-decoration\"\n                  >{util.limitLength(breadcrumbs_truncated[i] || e.slice(0, 8), 30)}</Link>\n                </li>\n              </Fragment>\n            ))}\n          </ol>\n        </nav>\n      </div>\n    );\n  }\n}\n","import { h, Component, Fragment } from \"preact\";\nimport { http } from \"/src/core\";\nimport { MessagePreview } from \"/src/message\";\n\nexport default class MessageList extends Component {\n  constructor(props) {\n    super(props);\n    let loaded = 1 + Math.floor((window.screen.width * window.screen.height) / (320 * 215));\n    this.state = {\n      loaded,\n      messages: [],\n      scrollTop: 0,\n      totalMessages: 0,\n      pageYOffset: 0,\n      page: 0\n    };\n    this.scroll_cooldown = Date.now();\n    this.onScroll = this.onScroll.bind(this);\n    this.loadMessages = this.loadMessages.bind(this);\n    this.onNewParent = this.onNewParent.bind(this);\n    window.addEventListener(\"newParent\", this.onNewParent);\n  }\n\n  onNewParent() {\n    this.loadMessages(0);\n  }\n\n  componentDidMount() {\n    this.loadMessages(0);\n    window.addEventListener(\"scroll\", this.onScroll);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"scroll\", this.onScroll);\n  }\n\n  loadMessages(page) {\n    http\n      .get(`/api/groups/${this.props.id}`)\n      .then(res => {\n        this.setState({\n          group: res\n        });\n      });\n\n    http\n      .get(`/api/groups/${this.props.id}/page/${page}`)\n      .then(res => {\n        if (res && Array.isArray(res[\"messages\"])) {\n          let new_loaded = Math.max(this.state.loaded, page * 30);\n          let msgList = this.state.messages;\n          // don't add already added messages\n          res[\"messages\"].map(\n            mid => !msgList.find(msg => msg.id == mid) && msgList.push({\"id\":mid})\n          );\n          this.setState({\n            messages: msgList,\n            totalMessages: res[\"totalItems\"],\n            page,\n            loaded: new_loaded\n          });\n          if ((page + 1) * 30 < new_loaded) {\n            setTimeout(() => this.loadMessages(page + 1));\n          }\n        }\n      });\n  }\n\n  onScroll() {\n    // prevent loading messages if we are in a post\n    if (\n      window.getComputedStyle(document.getElementById(\"group\").parentNode)\n        .display == \"none\"\n    ) {\n      return;\n    }\n    // don't load if on cooldown\n    if (this.scroll_cooldown + 100 < Date.now()) {\n      this.scroll_cooldown = Date.now();\n      this.setState({ pageYOffset: window.pageYOffset });\n      // don't load if unecessary\n      if (\n        Array.isArray(this.state.messages) &&\n        document.body.scrollHeight - window.screen.height - 500 <\n          window.pageYOffset &&\n        this.state.loaded < this.state.totalMessages\n      ) {\n        this.setState(prevState => ({ loaded: prevState.loaded + 10 }));\n        if (this.state.loaded + 30 > this.state.messages.length) {\n          this.loadMessages(this.state.page + 1);\n          // update page count right away\n          this.setState(prevState => ({ page: prevState.page + 1 }));\n        }\n      }\n    }\n  }\n\n  render() {\n    if (!this.props.id) {\n      return;\n    }\n    return (\n      <Fragment>\n        {Array.isArray(this.state.messages) && this.state.messages.slice(0, this.state.loaded).map((msg, i) => {\n          return (\n            <MessagePreview\n              tabindex={i + 1}\n              key={msg.id}\n              id={msg.id}\n            />\n          );\n        })}\n      </Fragment>\n    );\n  }\n}\n","import { h } from \"preact\";\nimport { router } from \"/src/core\";\nimport Message from \"./message.component.js\";\nimport { Navbar } from \"/src/navbar\";\nimport { useParams } from \"react-router-dom\";\n\nexport default function MessageParent(props) {\n  let params = useParams();\n  return (\n    <main>\n      <Navbar />\n      <div class=\"content\">\n        <article class=\"mb-3 justify-content-center d-flex\">\n          <div class=\"container pb-3\">\n            <Message\n              focus={!!router.getParam(\"focus\", router.search)}\n              isPublic={false}\n              isChild={false}\n              message={props?.message}\n              id={params.id}\n              key={params.id}\n            />\n          </div>\n        </article>\n      </div>\n    </main>\n  );\n}\n","import { h, Fragment } from \"preact\";\nimport { util, notifications, http } from \"/src/core\";\nimport { FaIcon } from \"/src/misc\";\nimport { Link } from \"react-router-dom\";\nimport { HumanTime } from \"/src/pages\";\nimport { useEffect, useState } from \"preact/hooks\";\n\nexport default function MessagePreview(props) {\n\n  const [author, setAuthor] = useState(null);\n  const [preview, setPreview] = useState(null);\n  const [id, setId] = useState(null);\n  const [data, setData] = useState(null);\n  const [lastActivityDate, setLastActivityDate] = useState(null);\n  const [children, setChildren] = useState(0);\n  const [loaded, setLoaded] = useState(false);\n\n  const getAvatar = user => {\n    return (\n      <img\n        title={user ? user.name : \"--\"}\n        className={`avatar material-shadow${user ? \"\" : \" removed-user\"}`}\n        style={util.backgroundHash(user ? user.id : \"\")}\n        src={\n          user?.avatar\n            ? util.crop(user.avatar[\"id\"], 100, 100)\n            : util.defaultAvatar\n        }\n        onError={e => (e.currentTarget.src = util.defaultAvatar)}\n      />\n    );\n  };\n\n  const setDefaultMiniature = e => {\n    e.currentTarget.src = util.defaultAvatar;\n    e.currentTarget.style.height = \"180px\";\n    e.currentTarget.style.width = \"auto\";\n    e.currentTarget.style.position = \"absolute\";\n    e.currentTarget.style.left = \"50%\";\n    e.currentTarget.style.transform = \"translate(-50%, 0%)\";\n  }\n\n  useEffect(() => {\n    http.get(`/api/messages/${props.id}/preview`).then(p => {\n      if (p?.author?.id) {\n        http.get(`/api/users/${p.author.id}`).then(u => {\n          setAuthor(u);\n        });\n      }\n      console.log(p);\n      setPreview(p?.preview);\n      setId(p?.id);\n      setChildren(p?.children);\n      setLoaded(true);\n      setLastActivityDate(p?.lastActivityDate);\n      setData(p?.data);\n    });\n  }, []);\n\n  if (!props?.id || !data) {\n    return null;\n  }\n  return (\n    <Link\n      to={`/messages/${id}`}\n      class=\"d-inline-block seamless-link message-preview unselectable\"\n      title={data?.title}\n    >\n      <div tabindex={props?.tabindex} class=\"card material-shadow-with-hover\">\n        {getAvatar(author)}\n        <div class=\"card-miniature-loading\">\n          {loaded && (\n            <Fragment>\n              {preview ? (\n                <div\n                  class=\"card-miniature\"\n                >\n                  <img width=\"320\" height=\"180\" src={util.crop(util.getId(preview), 320, 180)} onError={e => setDefaultMiniature(e)} />\n                </div>\n              ) : (\n                <div class=\"text-preview\">{data?.text}</div>\n              )}\n            </Fragment>\n          )}\n        </div>\n        <div class=\"card-body border-top d-flex justify-content-between\">\n          <span class=\"left-buffer\" />\n          <span\n            class=\"title\"\n            title={\n              data?.title || util.humanFullDate(lastActivityDate)\n            }\n          >\n            {data?.title || (<HumanTime timestamp={lastActivityDate} />)}\n          </span>\n          <span class=\"children\">\n            {children > 0 && (\n              <span>\n                {`${children} `}\n                <FaIcon\n                  family={\n                    notifications.isNew(id) ? \"solid\" : \"regular\"\n                  }\n                  icon={\"comment\"}\n                />\n              </span>\n            )}\n          </span>\n        </div>\n      </div>\n    </Link>\n  );\n}\n","import { h } from \"preact\";\nimport { http, util, notifications } from \"/src/core\";\nimport { FaIcon } from \"/src/misc\";\nimport { useEffect, useState } from \"preact/hooks\";\nimport { Link } from \"react-router-dom\";\n\nexport default function MessageSearchResult(props) {\n\n  const [author, setAuthor] = useState(props?.message?.author || null);\n\n  useEffect(() => {\n    if (props?.message?.author) {\n      http.get(`/api/users/${props.message.author}`).then(author => author && setAuthor(author));\n    }\n  }, []);\n\n  const displayAuthorName = () => {\n    if (!author?.name) {\n      return { __html: \"--\" };\n    }\n    let authorName = author.name;\n\n    // make the search terms stand out\n    let words = authorName.split(\" \");\n    for (let j = 0; j < words.length; j++) {\n      if (!words[j].match(util.urlRegExp)) {\n        let searchTerms = props.search.split(\" \");\n        for (let k = 0; k < searchTerms.length; k++) {\n          words[j] = words[j].replace(\n            new RegExp(util.escapeRegex(searchTerms[k]), \"gi\"),\n            \"<b>$&</b>\"\n          );\n        }\n      }\n    }\n    authorName = words.join(\" \");\n    return { __html: authorName };\n  };\n\n  const displayMessageTitle = () => {\n    if (!props?.message?.data?.title) {\n      return { __html: util.humanTime(props?.message?.lastActivityDate) };\n    }\n    // escape html a little (just enough to avoid xss I hope)\n    let title = props?.message?.data?.title.replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").trim();\n\n    // make the search terms stand out\n    let words = title.split(\" \");\n    let searchTerms = props?.search.split(\" \") || [];\n    for (let j = 0; j < words.length; j++) {\n      if (!words[j].match(util.urlRegExp)) {\n        for (let k = 0; k < searchTerms.length; k++) {\n          words[j] = words[j].replace(new RegExp(util.escapeRegex(searchTerms[k]), \"gi\"), \"<b>$&</b>\");\n        }\n      }\n    }\n    title = words.join(\" \");\n    return { __html: title };\n  };\n\n  const displayMessageText = () => {\n    if (!props?.message?.data?.text) {\n      return \"\";\n    }\n\n    // escape html a little (just enough to avoid xss I hope)\n    let txt = props?.message?.data?.text.replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").trim();\n\n    // make the search terms stand out for not url words\n    let lines = txt.split(\"\\n\");\n    for (let i = 0; i < lines.length; i++) {\n      let words = lines[i].split(\" \");\n      for (let j = 0; j < words.length; j++) {\n        if (!words[j].match(util.urlRegExp)) {\n          let searchTerms = props.search.split(\" \");\n          for (let k = 0; k < searchTerms.length; k++) {\n            if (!searchTerms[k]) {\n              continue;\n            }\n            words[j] = words[j].replace(\n              new RegExp(util.escapeRegex(searchTerms[k]), \"gi\"),\n              \"<b>$&</b>\"\n            );\n          }\n          let hashtags = props?.hashtags.split(\" \") || [];\n          for (let k = 0; k < hashtags.length; k++) {\n            if (!hashtags[k]) {\n              continue;\n            }\n            words[j] = words[j].replace(\n              new RegExp(`#${  hashtags[k]}`, \"gi\"),\n              \"<b>$&</b>\"\n            );\n          }\n        }\n      }\n      lines[i] = words.join(\" \");\n    }\n    txt = lines.join(\"\\n\");\n\n    // replace url by real links\n    let shift = 0;\n    let match = null;\n    while ((match = util.getUrl(txt.slice(shift)))) {\n      let url = match[0];\n      if (url.length >= 50) {\n        url = `${url.slice(0, 25)  }...${  url.slice(-24)}`;\n      }\n      let searchTerms = props?.search.split(\" \") || [];\n      for (let i = 0; i < searchTerms.length; i++) {\n        url = url.replace(new RegExp(util.escapeRegex(searchTerms[i]), \"gi\"), \"<b>$&</b>\");\n      }\n      let link = `<a href=\"${  match[0]  }\" target=\"_blank\">${  url  }</a>`;\n      txt =\n        txt.slice(0, match[\"index\"] + shift) +\n        link +\n        txt.slice(match[\"index\"] + shift + match[0].length);\n      shift += match[\"index\"] + link.length;\n    }\n\n    // replace line returns\n    txt = txt.replace(/\\n/g, \"<br/>\");\n\n    return { __html: txt };\n  };\n\n  const getMiniature = () => {\n    if (props?.preview) {\n      return (\n        <div\n          class=\"card-miniature\"\n          style={\n            `background-image: url('${util.crop(props?.preview, 100, 100)}')`\n          }\n        />\n      );\n    }\n    let avatar = util.defaultAvatar;\n    if (author?.avatar?.id) {\n      avatar = util.crop(author.avatar[\"id\"], 100, 100);\n    }\n    return (\n      <div\n        class=\"card-miniature\"\n        style={`background-image: url('${avatar}')`}\n      />\n    );\n  };\n\n  const getLink = () => {\n    if (props.message.parent && props.message.children == 0) {\n      return (\n        `/messages/${props.message.parent}/${props.message.id}`\n      );\n    }\n    return `/messages/${props.message.id}`;\n  };\n\n  return (\n    <Link\n      class=\"d-inline-block seamless-link message-preview unselectable\"\n      to={getLink()}\n      title={props?.title}\n    >\n      <div tabindex={props.tabindex} class=\"card material-shadow-with-hover\">\n        <div class=\"card-body border-top\">\n          {getMiniature()}\n          <div class=\"infos\">\n            <div\n              class=\"title\"\n              dangerouslySetInnerHTML={displayAuthorName()}\n            />\n            <div class=\"dot\">&bull;</div>\n            <div\n              class=\"title\"\n              title={props?.title || util.humanFullDate(props.message.lastActivityDate)}\n              dangerouslySetInnerHTML={displayMessageTitle()}\n            />\n          </div>\n          <div class=\"text\">\n            {props?.message?.data?.text.trim() && (\n              <p\n                class=\"card-text\"\n                dangerouslySetInnerHTML={displayMessageText()}\n              />\n            )}\n          </div>\n          <div class=\"children\">\n            {!!props.message.children && (\n              <span>\n                {`${props.message.children} `}\n                <FaIcon\n                  family={\n                    notifications.isNew(props.message.id) ? \"solid\" : \"regular\"\n                  }\n                  icon={\"comment\"}\n                />\n              </span>\n            )}\n          </div>\n        </div>\n      </div>\n    </Link>\n  );\n}\n","import _GroupSettings from \"./group-settings.component.js\";\nimport _Settings from \"./settings.component.js\";\nimport _UserSettings from \"./user-settings.component.js\";\n\nexport const GroupSettings = _GroupSettings;\nexport const Settings = _Settings;\nexport const UserSettings = _UserSettings;\n","import { h } from \"preact\";\nimport { alert, http, util, router } from \"/src/core\";\nimport { useStoreon } from \"storeon/preact\";\nimport { useEffect, useState } from \"preact/hooks\";\nimport { useTranslation } from \"react-i18next\";\nimport { useNavigate, useParams } from \"react-router-dom\";\n\nexport default function GroupSettings() {\n\n  const params = useParams();\n  const { t } = useTranslation();\n  const { me, dispatch } = useStoreon(\"me\");\n  const navigate = useNavigate();\n  const [secretKey, setSecretKey] = useState(\"\");\n  const [users, setUsers] = useState([]);\n  const [group, setGroup] = useState({});\n  const [alertMessage, setAlertMessage] = useState(\"\");\n\n  useEffect(() => {\n    http.get(`/api/groups/${params.id}`).then(\n      group => {\n        setGroup(group);\n        setSecretKey(group.secretKey);\n        Promise.all(group.users.map(u => http.get(`/api/users/${u.id}`).then(u => u))).then(\n          users => setUsers(users)\n        );\n      }\n    );\n    setAlertMessage(t(router.getParam(\"alert\")));\n  }, []);\n\n  const resetSecretKey = (event) => {\n    event.preventDefault();\n    http\n      .post(`/api/groups/${group.id}/reset-invite-key`, {})\n      .then(res => {\n        alert.add(t(\"group_updated\"));\n        setSecretKey(res[\"inviteKey\"]);\n      });\n  };\n\n  const updateSettings = (event) => {\n    event.preventDefault();\n    const name = document.querySelector(\"#settings_form input[name='name']\").value;\n    if (name) {\n      group.name = name;\n    }\n    setGroup(Object.assign({}, group));\n    http.put(`/api/groups/${group.id}`, group).then(res => {\n      setGroup(res);\n      setAlertMessage(t(\"group_updated\"));\n      navigate(`${location.pathname}?alert=group_updated`);\n    });\n  };\n\n  const leaveGroup = (event) => {\n    event.preventDefault();\n    if (me.data?.default_group == group.id) {\n      let user = {};\n      user.data = { default_group: me.groups[0].id };\n      http.put(`/api/users/${me.id}`, user).then(() => {\n        dispatch(\"me/fetch\");\n        leave();\n      });\n    } else {\n      leave();\n    }\n  };\n\n  const leave = () => {\n    http.post(`/api/groups/${group.id}/leave`, {}).then(res => {\n      if (!res || !res[\"entityType\"]) {\n        alert.add(t(\"error\"), \"alert-danger\");\n      } else {\n        dispatch(\"me/fetch\");\n        alert.add(t(\"group_left\"));\n        navigate(\"/\");\n      }\n    });\n  };\n\n  return (\n    <div>\n      <div class=\"group-settings mb-3\">\n        <div class=\"card\">\n          <div class=\"card-body\">\n            <div class=\"container-fluid p-1\">\n              <div class=\"row\">\n                <div class=\"col-12 col-md-10\">\n                  <form id=\"settings_form\" class=\"mb-1 border-bottom pb-1\">\n                    <div class=\"form-group\">\n                      <label for=\"name\">{t(\"name\")}: </label>\n                      <input\n                        type=\"text\"\n                        name=\"name\"\n                        minlength=\"1\"\n                        maxlength=\"128\"\n                        placeholder={t(\"name_input\")}\n                        value={group.name}\n                        class=\"form-control\"\n                        required\n                      />\n                    </div>\n                    <button\n                      onClick={updateSettings}\n                      class=\"btn btn-outline-secondary\"\n                    >\n                      {t(\"save_changes\")}\n                    </button>\n                  </form>\n                  <form class=\"mb-1 border-bottom pb-1\">\n                    <div class=\"form-group\">\n                      <label for=\"inviteKey\">\n                        {t(\"invitation_link\")}:{\" \"}\n                      </label>\n                      <input\n                        type=\"text\"\n                        name=\"inviteKey\"\n                        value={\n                          `${window.location.protocol}//${window.location.host}/invitation/${secretKey}`\n                        }\n                        class=\"form-control font-size-80\"\n                        readonly=\"readonly\"\n                      />\n                    </div>\n                    <button\n                      class=\"btn btn-outline-secondary\"\n                      onClick={resetSecretKey}\n                    >\n                      {t(\"reset_invitation_link\")}\n                    </button>\n                  </form>\n                  <form>\n                    <button\n                      onClick={e => leaveGroup(e)}\n                      class=\"btn btn-outline-danger\"\n                    >\n                      {t(\"quit_group\")}\n                    </button>\n                  </form>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"user-list mb-3\">\n        <h3>{t(\"users\")}</h3>\n        {users.map(\n          user =>\n            user && (\n              <div class=\"user-card\">\n                <img\n                  class=\"avatar material-shadow-with-hover\"\n                  style={util.backgroundHash(user.id)}\n                  src={\n                    user.avatar\n                      ? util.crop(user.avatar[\"id\"], 200, 200)\n                      : util.defaultAvatar\n                  }\n                  onError={e => (e.currentTarget.src = util.defaultAvatar)}\n                />\n                <span>{user[\"name\"]}</span>\n              </div>\n            )\n        )}\n      </div>\n      {alertMessage && (\n        <div class=\"global-alert alert alert-success\">{alertMessage}</div>\n      )}\n    </div>\n  );\n}\n","import { h } from \"preact\";\nimport UserSettings from \"./user-settings.component.js\";\nimport GroupSettings from \"./group-settings.component.js\";\nimport { Navbar } from \"/src/navbar\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { useStoreon } from \"storeon/preact\";\nimport { useTranslation } from \"react-i18next\";\n\nexport default function Settings() {\n\n  const params = useParams();\n  const { t } = useTranslation();\n  const { me } = useStoreon(\"me\");\n\n  return (\n    <main>\n      <Navbar />\n      <div class=\"content\">\n        <article class=\"mt-2 justify-content-center d-flex\">\n          <div class=\"container pb-3\">\n            <div class=\"settings\">\n              <ul class=\"nav nav-tabs\">\n                <li class=\"nav-item\">\n                  <Link\n                    class={`nav-link${params.type == \"users\" ? \" active\" : \"\"}`}\n                    to={`/users/${me.id}/settings`}\n                  >\n                    {t(\"account\")}\n                  </Link>\n                </li>\n                {me.groups?.length > 0 && (\n                  <li\n                    class=\"nav-item dropdown group-list\"\n                    tabindex=\"-1\"\n                    onClick={e => e.currentTarget.classList.toggle(\"active\")}\n                  >\n                    <div\n                      class={`nav-link${params.type == \"groups\" ? \" active\" : \"\"}`}\n                    >\n                      {t(\"groups\")}\n                    </div>\n                    <div class=\"dropdown-menu\">\n                      {me.groups?.map(e => (\n                        <Link\n                          key={`/groups/${e.id}/settings`}\n                          class=\"seamless-link\"\n                          to={`/groups/${e.id}/settings`}\n                        >\n                          {e.name}\n                        </Link>\n                      ))}\n                    </div>\n                  </li>\n                )}\n              </ul>\n              {params.type === \"users\" && (\n                <UserSettings id={params.id} key={params.id} />\n              )}\n              {params.type === \"groups\" && (\n                <GroupSettings id={params.id} key={params.id} />\n              )}\n            </div>\n          </div>\n        </article>\n      </div>\n    </main>\n  );\n}\n","import { h } from \"preact\";\nimport { lang, router, alert, http, util, storage } from \"/src/core\";\nimport { useStoreon } from \"storeon/preact\";\nimport { useEffect, useState } from \"preact/hooks\";\nimport { useTranslation } from \"react-i18next\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\n\nexport default function UserSettings() {\n\n  const { t } = useTranslation();\n  const { me } = useStoreon(\"me\");\n  const navigate = useNavigate();\n  const location = useLocation();\n  const [apiKey, setApiKey] = useState(null);\n  const [alertMessage, setAlertMessage] = useState(\"\");\n\n  useEffect(() => {\n    storage.get(\"apiKey\").then(apiKey => setApiKey(apiKey));\n    setAlertMessage(t(router.getParam(\"alert\")));\n  }, []);\n\n  const resetApiKey = (event) => {\n    event.preventDefault();\n    http.post(`/api/users/${me.id}/reset-api-key`, {}).then(() => router.logout());\n  };\n\n  const inputAvatar = () => {\n    const input = document.createElement(\"input\");\n    input.type = \"file\";\n    input.accept = \"image/*\";\n    input.addEventListener(\"change\", event => {\n      const formData = new FormData();\n      formData.append(\"file\", event.target.files[0]);\n      http.sendFile(\n        formData,\n        file => {\n          http.put(`/api/users/${me.id}`, { avatar: file[\"id\"] }).then(() => {\n            setAlertMessage(t(\"settings_updated\"));\n            navigate(`${location.pathname}?alert=settings_updated`);\n          });\n        }\n      );\n    });\n    input.click();\n  };\n\n  const destroyAccount = (event) => {\n    event.preventDefault();\n    let confirmDeletion = confirm(t(\"are_you_sure\"));\n    if (confirmDeletion) {\n      http.delete(`/api/users/${me.id}`).then(() => {\n        navigate(\"/logout\");\n      });\n    }\n  };\n\n  const updateSettings = (event) => {\n    event.preventDefault();\n    const name = document.querySelector(\"#settings_form input[name='name']\")\n      .value;\n    const login = document.querySelector(\"#settings_form input[name='email']\")\n      .value;\n    const password = document.querySelector(\n      \"#settings_form input[name='password']\"\n    ).value;\n    const notification_emails = document.querySelector(\n      \"#settings_form select[name='notification_emails']\"\n    ).value;\n    const default_group = document.querySelector(\n      \"#settings_form select[name='default_group']\"\n    ).value;\n    const lang = document.querySelector(\"#settings_form select[name='lang']\")\n      .value;\n    let user = {};\n    if (name) {\n      user.name = name;\n    }\n    if (login) {\n      user.login = login;\n    }\n    if (password) {\n      user.password = password;\n    }\n    user[\"data\"] = {\n      notification_emails,\n      default_group,\n      lang\n    };\n    http.put(`/api/users/${me.id}`, user).then(res => {\n      if (res[\"error\"]) {\n        alert.add(res[\"error\"], \"alert-danger\");\n      } else {\n        setAlertMessage(t(\"settings_updated\"));\n        navigate(`${location.pathname}?alert=settings_updated`);\n      }\n    });\n  };\n\n  if (me && me?.data) {\n    return (\n      <div class=\"user-settings\">\n        <div class=\"card\">\n          <div class=\"identite card-body\">\n            <div class=\"container-fluid p-1\">\n              <div class=\"row\">\n                <div class=\"col-12 col-md-2\">\n                  <img\n                    class=\"img-fluid rounded-circle material-shadow avatar\"\n                    src={\n                      me.avatar\n                        ? util.crop(me.avatar[\"id\"], 100, 100)\n                        : util.defaultAvatar\n                    }\n                    style={util.backgroundHash(me.id || \"\")}\n                    onError={e => (e.currentTarget.src = util.defaultAvatar)}\n                    onClick={e => inputAvatar(e)}\n                  />\n                </div>\n                <div class=\"col-12 col-md-10\">\n                  <form id=\"settings_form\" class=\"mb-3\">\n                    <div class=\"form-group\">\n                      <label for=\"name\">{t(\"name\")}: </label>\n                      <input\n                        type=\"text\"\n                        name=\"name\"\n                        minlength=\"1\"\n                        maxlength=\"128\"\n                        placeholder={t(\"name_input\")}\n                        value={me.name}\n                        class=\"form-control\"\n                      />\n                    </div>\n                    <div class=\"form-group\">\n                      <label for=\"email\">{t(\"email\")}: </label>\n                      <input\n                        type=\"email\"\n                        name=\"email\"\n                        placeholder={t(\"email_input\")}\n                        value={me.login}\n                        class=\"form-control\"\n                      />\n                    </div>\n                    <div class=\"form-group\">\n                      <label for=\"password\">{t(\"password\")}: </label>\n                      <input\n                        type=\"password\"\n                        name=\"password\"\n                        autocomplete=\"off\"\n                        minlength=\"8\"\n                        maxlength=\"128\"\n                        placeholder={t(\"password_input\")}\n                        class=\"form-control\"\n                      />\n                    </div>\n                    <div class=\"form-group\">\n                      <label for=\"notification_emails\">\n                        {t(\"notification_emails\")}:\n                      </label>\n                      <select\n                        name=\"notification_emails\"\n                        class=\"form-control\"\n                        value={me?.data[\"notification_emails\"]}\n                      >\n                        <option value=\"none\">{t(\"none\")}</option>\n                        <option value=\"hourly\">{t(\"hourly\")}</option>\n                        <option value=\"daily\">{t(\"daily\")}</option>\n                        <option value=\"weekly\">{t(\"weekly\")}</option>\n                        <option value=\"monthly\">{t(\"monthly\")}</option>\n                      </select>\n                    </div>\n                    <div class=\"form-group\">\n                      <label for=\"default_group\">\n                        {t(\"default_group\")}:\n                      </label>\n                      <select\n                        name=\"default_group\"\n                        class=\"form-control\"\n                        value={me?.data[\"default_group\"]}\n                      >\n                        {me.groups?.map(e => (\n                          <option key={e.id} value={e.id}>{e.name}</option>\n                        ))}\n                      </select>\n                    </div>\n                    <div class=\"form-group\">\n                      <label class=\"capitalize\" for=\"lang\">\n                        {t(\"lang\")}:\n                      </label>\n                      <select\n                        name=\"lang\"\n                        class=\"form-control\"\n                        value={lang.getCurrentLang()}\n                      >\n                        {Object.keys(lang.possibleLang).map(k => (\n                          <option key={k} value={k}>{lang.possibleLang[k]}</option>\n                        ))}\n                      </select>\n                    </div>\n                    <button\n                      onClick={e => updateSettings(e)}\n                      class=\"btn btn-primary\"\n                    >\n                      {t(\"save_changes\")}\n                    </button>\n                  </form>\n                  <form id=\"api_key_form\">\n                    <div class=\"form-group\">\n                      <label for=\"apiKey\">\n                        {t(\"api_key\")}:{\" \"}\n                      </label>\n                      <input\n                        type=\"text\"\n                        name=\"apiKey\"\n                        value={apiKey}\n                        class=\"form-control font-size-80\"\n                        readonly=\"readonly\"\n                      />\n                    </div>\n                    <button\n                      class=\"btn btn-outline-secondary\"\n                      onClick={resetApiKey}\n                    >\n                      {t(\"reset_api_key\")}\n                    </button>\n                  </form>\n                  <form id=\"destroy_form\">\n                    <label class=\"d-block\" for=\"destroy_account\">\n                      {t(\"destroy_account_explain\")}\n                    </label>\n                    <button\n                      onClick={e => destroyAccount(e)}\n                      name=\"destroy_account\"\n                      class=\"btn btn-danger\"\n                    >\n                      {t(\"destroy_account\")}\n                    </button>\n                  </form>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        {alertMessage && (\n          <div class=\"global-alert alert alert-success\">{alertMessage}</div>\n        )}\n      </div>\n    );\n  }\n}\n"],"names":["$fb1664200764ca4e$var$i18nInstance","events","state","store","$parcel$interopDefault","a","__esModule","default","$parcel$export","e","n","v","s","Object","defineProperty","get","set","enumerable","configurable","_window","Action","ResultType","DataRouterHook","DataRouterStateHook","AwaitRenderStatus","routes","opts","$c846480b5114588d$export$e19cd5f9376f8cee","$c846480b5114588d$var$ResultType","$34f84368c0c9d98a$var$DataRouterHook","$34f84368c0c9d98a$var$DataRouterStateHook","$parcel$global","globalThis","self","window","global","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","$73048c6b859c8a02$var$n","$73048c6b859c8a02$export$41c562ebe57d11e2","$73048c6b859c8a02$var$u","$73048c6b859c8a02$var$i","$73048c6b859c8a02$var$o","$73048c6b859c8a02$var$r","$73048c6b859c8a02$var$f","$73048c6b859c8a02$var$e","$73048c6b859c8a02$var$c","$73048c6b859c8a02$var$s","$73048c6b859c8a02$var$a","$73048c6b859c8a02$var$h","Array","isArray","$73048c6b859c8a02$var$v","l","u","$73048c6b859c8a02$var$p","parentNode","removeChild","$73048c6b859c8a02$export$c8a8987d4410bf2d","t","i","o","r","f","arguments","length","children","defaultProps","$73048c6b859c8a02$var$d","type","props","key","ref","__k","__","__b","__e","__d","__c","__h","constructor","__v","vnode","$73048c6b859c8a02$export$7d1e3a5e95ceca43","current","$73048c6b859c8a02$export$ffb0004e005737fa","$73048c6b859c8a02$export$16fa2f45be04daa8","context","$73048c6b859c8a02$var$g","indexOf","$73048c6b859c8a02$var$w","push","$73048c6b859c8a02$var$x","__r","debounceRendering","c","sort","shift","__P","$73048c6b859c8a02$var$L","__n","ownerSVGElement","$73048c6b859c8a02$var$M","$73048c6b859c8a02$var$m","base","$73048c6b859c8a02$var$P","p","y","_","b","m","w","x","P","C","H","I","T","j","z","$73048c6b859c8a02$var$A","$73048c6b859c8a02$var$O","$73048c6b859c8a02$var$S","nextSibling","$73048c6b859c8a02$var$$","$73048c6b859c8a02$var$q","$73048c6b859c8a02$export$47e4c5b300681277","some","insertBefore","$73048c6b859c8a02$var$I","setProperty","test","$73048c6b859c8a02$var$T","style","cssText","replace","toLowerCase","slice","addEventListener","$73048c6b859c8a02$var$z","$73048c6b859c8a02$var$j","removeEventListener","removeAttribute","setAttribute","event","d","g","$","S","A","contextType","value","__E","prototype","render","$73048c6b859c8a02$var$B","sub","_sb","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","forEach","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","$73048c6b859c8a02$var$N","k","localName","nodeType","document","createTextNode","createElementNS","createElement","is","data","childNodes","dangerouslySetInnerHTML","attributes","name","__html","innerHTML","$73048c6b859c8a02$var$H","checked","diffed","unmount","componentWillUnmount","$73048c6b859c8a02$export$b3890eb0ae9dca99","firstChild","$73048c6b859c8a02$export$e530037191fcd5d7","$73048c6b859c8a02$export$fd42f52fd3ae1109","Consumer","Provider","splice","getDerivedStateFromError","setState","componentDidCatch","forceUpdate","Promise","then","bind","resolve","setTimeout","$7e84e1a08353bb30$var$alert","remove","getElementById","outerHTML","add","text","alertStyle","countdown","alertNode","hash","classList","body","appendChild","str","charCodeAt","$a43f12068c4c782d$var$storage","usage","total","localStorage","hasOwnProperty","createStorageBox","metadata","createdAt","Date","now","removeItem","setItem","JSON","stringify","getItem","parse","reset","clear","dispatchEvent","CustomEvent","$b7ae12cde431bd4b$var$store","modules","on","api","me","route","action","backUrl","entityType","search","entity","newState","notifications","notification","filter","map","assign","read","bookmarks","bookmark","$cd2f6546c5cf5c32$export$7d6f1c8842f9f527","delete","message_id","post","dispatch","changes","diff","includes","cb","$cb95bcae1947788f$var$consoleLogger","log","args","output","warn","error","console","apply","$cb95bcae1947788f$var$Logger","concreteLogger","options","undefined","prefix","logger","debug","_len","_key","forward","_len2","_key2","_len3","_key3","deprecate","_len4","_key4","lvl","debugOnly","create","moduleName","clone","$cb95bcae1947788f$var$baseLogger","$cb95bcae1947788f$var$EventEmitter","observers","listener","split","off","emit","cloned","concat","observer","$cb95bcae1947788f$var$defer","res","rej","promise","reject","$cb95bcae1947788f$var$makeString","object","$cb95bcae1947788f$var$getLastOfPath","path","Empty","cleanKey","canNotTraverseDeeper","stack","obj","$cb95bcae1947788f$var$setPath","newValue","$cb95bcae1947788f$var$getPath","$cb95bcae1947788f$var$regexEscape","$cb95bcae1947788f$var$_entityMap","$cb95bcae1947788f$var$escape","$cb95bcae1947788f$var$chars","$cb95bcae1947788f$var$deepFind","keySeparator","paths","join","mix","endsWith","joinedPath","$cb95bcae1947788f$var$getCleanedCode","$cb95bcae1947788f$var$ResourceStore","ns","defaultNS","ignoreJSONStructure","addNamespaces","removeNamespaces","index","getResource","lng","result","addResource","silent","addResources","resources","toString","addResourceBundle","deep","overwrite","pack","$cb95bcae1947788f$var$deepExtend","target","source","prop","String","removeResourceBundle","hasResourceBundle","getResourceBundle","compatibilityAPI","getDataByLanguage","hasLanguageSomeTranslations","keys","find","toJSON","$cb95bcae1947788f$var$postProcessor","processors","addPostProcessor","handle","translator","processor","process","$cb95bcae1947788f$var$checkedLoadedFor","$cb95bcae1947788f$var$Translator","services","$cb95bcae1947788f$var$copy","changeLanguage","language","exists","interpolation","resolved","extractFromKey","nsSeparator","namespaces","wouldCheckForNsInKey","seemsNaturalLanguage","userDefinedKeySeparator","userDefinedNsSeparator","$cb95bcae1947788f$var$looksLikeObjectPath","possibleChars","RegExp","matched","ki","substring","match","interpolator","nestingRegexp","parts","translate","lastKey","overloadTranslationOptionHandler","returnDetails","namespace","appendNamespaceToCIMode","usedKey","exactUsedKey","usedLng","usedNS","resUsedKey","resExactUsedKey","resType","joinArrays","handleAsObjectInI18nFormat","i18nFormat","handleAsObject","noObject","returnObjects","returnedObjectHandler","resTypeIsArray","copy","newKeyToUse","deepKey","extendTranslation","usedDefault","needsPluralHandling","count","hasDefaultValue","defaultValueSuffix","pluralResolver","getSuffix","defaultValueSuffixOrdinalFallback","ordinal","defaultValue","isValidLookup","missingKeyNoValueFallbackToKey","resForMissing","updateMissing","fk","lngs","fallbackLngs","languageUtils","getFallbackCodes","fallbackLng","saveMissingTo","toResolveHierarchy","send","specificDefaultValue","defaultForMissing","missingKeyHandler","backendConnector","saveMissing","saveMissingPlurals","getSuffixes","suffix","appendNamespaceToMissingKey","parseMissingKeyHandler","_this","defaultVariables","skipInterpolation","nestBef","skipOnVariables","nb","interpolate","na","nestAft","nest","postProcess","postProcessorNames","applyPostProcessor","postProcessPassResolved","i18nResolved","found","extracted","fallbackNS","needsZeroSuffixLookup","shouldUseIntlApi","needsContextHandling","codes","utils","hasLoadedNamespace","possibleKey","finalKeys","addLookupKeys","pluralSuffix","zeroSuffix","pluralSeparator","ordinalPrefix","contextKey","contextSeparator","pop","returnNull","returnEmptyString","resourceStore","option","$cb95bcae1947788f$var$capitalize","string","charAt","toUpperCase","$cb95bcae1947788f$var$LanguageUtil","supportedLngs","getScriptPartFromCode","formatLanguageCode","getLanguagePartFromCode","specialCases","lowerCaseLng","part","cleanCode","isSupportedCode","load","nonExplicitSupportedLngs","getBestMatchFromCodes","cleanedLng","lngOnly","supportedLng","fallbacks","fallbackCode","fallbackCodes","addCode","fc","$cb95bcae1947788f$var$sets","nr","$cb95bcae1947788f$var$_rulesPluralsTypes","Number","$cb95bcae1947788f$var$nonIntlVersions","$cb95bcae1947788f$var$intlVersions","$cb95bcae1947788f$var$suffixesOrder","zero","one","two","few","many","other","$cb95bcae1947788f$var$PluralResolver","compatibilityJSON","Intl","PluralRules","rules","$cb95bcae1947788f$var$createRules","numbers","plurals","addRule","getRule","needsPlural","rule","resolvedOptions","pluralCategories","getPluralFormsOfKey","pluralCategory1","pluralCategory2","pluralCategory","prepend","number","select","getSuffixRetroCompatible","idx","noAbs","Math","abs","simplifyPluralSuffix","returnSuffix","$cb95bcae1947788f$var$deepFindWithDefaults","defaultData","$cb95bcae1947788f$var$getPathWithDefaults","$cb95bcae1947788f$var$Interpolator","format","escapeValue","iOpts","escape","useRawValueToEscape","prefixEscaped","suffixEscaped","formatSeparator","unescapePrefix","unescapeSuffix","nestingPrefix","nestingPrefixEscaped","nestingSuffix","nestingSuffixEscaped","nestingOptionsSeparator","maxReplaces","alwaysFormat","resetRegExp","regexpStr","regexp","regexpUnescapeStr","regexpUnescape","nestingRegexpStr","replaces","regexSafe","val","handleFormat","interpolationkey","trim","missingInterpolationHandler","todos","regex","safeValue","todo","exec","matchedVar","temp","lastIndex","clonedOptions","handleHasOptions","inheritedOptions","sep","optionsString","matchedSingleQuotes","matchedDoubleQuotes","formatters","doReduce","elem","reduce","$cb95bcae1947788f$var$createCachedFormatter","fn","cache","formatter","$cb95bcae1947788f$var$Formatter","formats","opt","NumberFormat","currency","datetime","DateTimeFormat","relativetime","RelativeTimeFormat","range","list","ListFormat","addCached","mem","formatName","formatOptions","$cb95bcae1947788f$var$parseFormatStr","formatStr","optStr","rest","isNaN","parseInt","formatted","valOptions","formatParams","locale","$cb95bcae1947788f$var$Connector","backend","waitingReads","maxParallelReads","readingCalls","maxRetries","retryTimeout","queue","queueLoad","languages","callback","toLoad","pending","toLoadLanguages","toLoadNamespaces","hasAllNamespaces","reload","pendingCount","loaded","errors","q","$cb95bcae1947788f$var$pushPath","done","loadedKeys","fcName","tried","wait","resolver","next","catch","prepareLoading","loadOne","fallbackValue","isUpdate","clb","$cb95bcae1947788f$var$get","initImmediate","preload","partialBundledLanguages","ret","tDescription","$cb95bcae1947788f$var$transformOptions","$cb95bcae1947788f$var$noop","$cb95bcae1947788f$var$I18n","external","$cb95bcae1947788f$var$bindMemberFunctions","inst","mems","getOwnPropertyNames","getPrototypeOf","isInitialized","isClone","defOpts","createClassOnDemand","ClassOrObject","lu","languageDetector","detection","storeApi","storeApiChained","deferred","finish","initializedStoreOnce","loadResources","usedCallback","append","resolvedLanguage","setResolvedLanguage","reloadResources","use","li","lngInLngs","_this2","isLanguageChangingTo","setLngProps","setLng","cacheUserLanguage","async","detect","getFixedT","keyPrefix","_this3","fixedT","resultKey","setDefaultNamespace","lastLng","loadNotPending","loadState","precheck","preResult","loadNamespaces","loadLanguages","preloaded","newLngs","dir","rtlLngs","createInstance","cloneInstance","forkResourceStore","mergedOptions","membersToCopy","$cb95bcae1947788f$export$2e2bcd8739ae039","$c6f88c2c6ea3c4b1$var$me","lang","groups","avatar","getGroupName","group","update","$dcc08ede0b85ca51$export$2e2bcd8739ae039","all","fetch","logout","$d51ff6fbc6548743$exports","$d51ff6fbc6548743$export$221d75b3f55bb0bd","$d51ff6fbc6548743$export$7c73462e0d25e514","$d51ff6fbc6548743$export$257a8862b851cb5b","$d51ff6fbc6548743$export$dca3b0875bd9a954","$d51ff6fbc6548743$export$74bf444e3cd11ea5","$d51ff6fbc6548743$export$488013bae63b21da","$d51ff6fbc6548743$export$998bcd577473dd93","$d51ff6fbc6548743$export$d39a5bbd09211389","$d51ff6fbc6548743$export$b3890eb0ae9dca99","$d51ff6fbc6548743$export$fa8d919ba61d84db","$d51ff6fbc6548743$export$ae55be85d98224ed","$d51ff6fbc6548743$export$83d89fbfd8236492","$d51ff6fbc6548743$export$d38cd72104c1f0e9","$d51ff6fbc6548743$export$a8257692ac88316c","$d51ff6fbc6548743$export$9522e17588c12572","$d51ff6fbc6548743$export$e530037191fcd5d7","$d51ff6fbc6548743$export$502457920280e6be","$d51ff6fbc6548743$export$466bfc07425424d5","$d51ff6fbc6548743$export$c78a37762a8d58e1","$d51ff6fbc6548743$export$cd75ccfd720a3cd4","$d51ff6fbc6548743$export$5f8d39834fd61797","$d51ff6fbc6548743$export$7568632d0d33d16d","$d51ff6fbc6548743$export$6a7bc4e911dc01cf","$d51ff6fbc6548743$export$7b286972b8d8ccbf","$d51ff6fbc6548743$export$aaabe4eda9ed9969","$d51ff6fbc6548743$export$45a5e7f76e0caa8d","$d51ff6fbc6548743$export$306c0aa65ff9ec16","$d51ff6fbc6548743$export$2e2bcd8739ae039","$88a9540d1aad6464$exports","$88a9540d1aad6464$export$60241385465d0a34","$88a9540d1aad6464$export$13e3392192263954","$88a9540d1aad6464$export$6d9c69b0de29b591","$88a9540d1aad6464$export$e5c5a5f917a5871c","$88a9540d1aad6464$export$b8f5890fc79d6aca","$88a9540d1aad6464$export$1538c33de8887b59","$88a9540d1aad6464$export$d5a552a76deda3c2","$88a9540d1aad6464$export$35808ee640e87ca7","$88a9540d1aad6464$export$fae74005e78b1a27","$88a9540d1aad6464$export$dc8fbce3eb94dc1e","$88a9540d1aad6464$export$c052f6604b7d51fe","$88a9540d1aad6464$export$f680877a34711e37","$88a9540d1aad6464$var$t","$88a9540d1aad6464$var$r","$88a9540d1aad6464$var$u","$88a9540d1aad6464$var$i","$88a9540d1aad6464$var$o","$88a9540d1aad6464$var$f","$88a9540d1aad6464$var$c","$88a9540d1aad6464$var$e","$88a9540d1aad6464$var$a","$88a9540d1aad6464$var$v","$88a9540d1aad6464$var$l","$88a9540d1aad6464$var$m","$88a9540d1aad6464$var$d","__H","__V","$88a9540d1aad6464$var$B","__N","every","$88a9540d1aad6464$var$z","useDebugValue","__m","$88a9540d1aad6464$var$b","$88a9540d1aad6464$var$k","$88a9540d1aad6464$var$w","requestAnimationFrame","clearTimeout","$88a9540d1aad6464$var$g","cancelAnimationFrame","$d51ff6fbc6548743$var$g","$d51ff6fbc6548743$var$C","$d51ff6fbc6548743$var$E","displayName","isReactComponent","__f","isPureReactComponent","$d51ff6fbc6548743$var$R","$d51ff6fbc6548743$var$N","Symbol","for","$$typeof","$d51ff6fbc6548743$var$A","only","toArray","$d51ff6fbc6548743$var$T","$d51ff6fbc6548743$var$F","__u","$d51ff6fbc6548743$var$D","__a","__R","$d51ff6fbc6548743$var$L","__O","$d51ff6fbc6548743$var$I","fallback","$d51ff6fbc6548743$var$W","revealOrder","size","$d51ff6fbc6548743$var$P","$d51ff6fbc6548743$var$j","containerInfo","Map","reverse","$d51ff6fbc6548743$var$B","$d51ff6fbc6548743$var$H","$d51ff6fbc6548743$var$Z","$d51ff6fbc6548743$var$Y","$d51ff6fbc6548743$var$$","textContent","$73048c6b859c8a02$export$fa8d919ba61d84db","writable","$d51ff6fbc6548743$var$K","$d51ff6fbc6548743$var$Q","$d51ff6fbc6548743$var$X","cancelBubble","$d51ff6fbc6548743$var$nn","defaultPrevented","persist","isPropagationStopped","isDefaultPrevented","nativeEvent","$d51ff6fbc6548743$var$tn","$d51ff6fbc6548743$var$en","class","$d51ff6fbc6548743$var$rn","multiple","selected","className","$d51ff6fbc6548743$var$un","$d51ff6fbc6548743$var$on","ReactCurrentDispatcher","readContext","h","useState","useId","useReducer","useEffect","useLayoutEffect","useInsertionEffect","useTransition","useDeferredValue","useSyncExternalStore","startTransition","useRef","useImperativeHandle","useMemo","useCallback","useContext","version","Children","hydrate","unmountComponentAtNode","createPortal","createContext","createFactory","cloneElement","createRef","Fragment","isValidElement","isElement","isFragment","findDOMNode","Component","PureComponent","memo","forwardRef","flushSync","unstable_batchedUpdates","StrictMode","Suspense","SuspenseList","lazy","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","dest","$de454a4ed9de8e76$exports","$de454a4ed9de8e76$var$_extends","$8948bff4a00b46d7$var$alreadyWarned","$8948bff4a00b46d7$export$5b28268982f175ba","$8948bff4a00b46d7$export$c106dd0671a0fc2d","$8948bff4a00b46d7$var$loadedClb","i18n","initialized","$8948bff4a00b46d7$export$83be934b53fff43b","$8948bff4a00b46d7$export$8cd7e7a54fa865bc","$41e77d45d3c057fa$var$matchHtmlEntity","$41e77d45d3c057fa$var$htmlEntities","$41e77d45d3c057fa$var$unescapeHtmlEntity","$be3a1ef505afdca5$var$defaultOptions","bindI18n","bindI18nStore","transEmptyNodeValue","transSupportBasicHtmlNodes","transWrapTextNodes","transKeepBasicHtmlNodesFor","useSuspense","unescape","$7769fa9636e2bfa3$export$5603ab5ced17ce64","$7769fa9636e2bfa3$export$ea171b67e3820290","usedNamespaces","addUsedNamespaces","getUsedNamespaces","$23287d5819478a30$var$usePrevious","ignore","$23287d5819478a30$export$9fc83ad70ead8663","i18nFromProps","i18nFromContext","defaultNSFromContext","reportNamespaces","notReadyT","optsOrDefaultValue","retNotReady","ready","react","i18nOptions","isNewerI18next","i18nInstance","$8948bff4a00b46d7$var$oldI18nextHasLoadedNamespace","getT","nsMode","setT","joinedNS","previousJoinedNS","isMounted","boundReset","isInitial","$ee5bb531210bb8d0$export$2dcb0053efd21124","WrappedComponent","I18nextWithTranslation","_ref","forwardedRef","passDownProps","tReady","withRef","$a73d92951c8d8437$exports","$c584da26f4329295$exports","$5dcf1f301e8131c9$exports","$7101a0967e062291$exports","$73a8532651d8adeb$exports","$a1c13afdb4e96f13$export$9a771d6906431624","possibleLang","en","es","fr","nl","sk","getDefaultLang","querySelector","content","getCurrentLang","instance","translation","$30ef6c271b4e9124$var$util","isValidUrl","url","URL","limitLength","floor","escapeRegex","getSubpath","baseURI","pathname","toApp","location","origin","genId","seed","random","id2Int","urlRegExp","getUrl","txt","startsWith","link","limitStrSize","limit","humanFullDate","timestamp","getTime","getTimezoneOffset","toISOString","humanTime","duration","round","getId","thumbnail","width","height","crop","defaultAvatar","colorHash","backgroundHash","c1","c2","is_it_enter","keyCode","getVersion","getWidthBreakpoint","innerWidth","$dcc08ede0b85ca51$var$http","sendFile","formData","loadFn","progressFn","errorFn","apiKey","xhr","XMLHttpRequest","open","setRequestHeader","status","response","statusText","upload","onprogress","nocache","delay","method","headers","Headers","ok","json","contentType","request","put","fetchOptions","exception","message","$3f4f2fd808a213d2$var$notifications","LIMIT","isNew","matchNotification","fromMessage","removeAllNotifications","markAllNotificationsAsRead","removeMatchingNotifications","markAsRead","notif","$f85ec4af9c25b4e6$var$router","removeSubpath","getEntity","isEntity","getParam","param","searchParams","decodeURIComponent","getSegments","isOutside","getUrlComponents","components","$cd2f6546c5cf5c32$export$644d8ea042df96a6","info","$c846480b5114588d$var$_extends","$c846480b5114588d$var$PopStateEventType","$c846480b5114588d$export$3e9cee6b33872309","$c846480b5114588d$export$c0e02632e14916fd","cond","$c846480b5114588d$var$getHistoryState","usr","$c846480b5114588d$var$createLocation","to","$c846480b5114588d$export$8ccf933b0513f8d0","substr","$c846480b5114588d$export$fe53371bee54353d","parsedPath","hashIndex","searchIndex","$c846480b5114588d$var$immutableRouteKeys","Set","$c846480b5114588d$export$4a6d22b32134ea5d","mapRouteProperties","parentPath","manifest","treePath","indexRoute","pathOrLayoutRoute","$c846480b5114588d$export$2708184779ceb39d","locationArg","basename","$c846480b5114588d$export$b69e3301ce081aa3","branches","$c846480b5114588d$var$flattenRoutes","parentsMeta","flattenRoute","relativePath","segments","initialScore","meta","caseSensitive","childrenIndex","$c846480b5114588d$export$86d9a7913e44197e","routesMeta","score","$c846480b5114588d$var$isSplat","segment","$c846480b5114588d$var$paramRe","_route$path","exploded","$c846480b5114588d$var$explodeOptionalSegments","first","isOptional","required","restExploded","subpath","$c846480b5114588d$var$rankRouteBranches","siblings","matches","$c846480b5114588d$var$matchRouteBranch","branch","matchedParams","matchedPathname","end","remainingPathname","$c846480b5114588d$export$81336c211d5ff295","pattern","matcher","paramNames","$c846480b5114588d$var$compilePath","regexpSource","paramName","pathnameBase","captureGroups","params","splatValue","$c846480b5114588d$var$safelyDecodeURIComponent","$c846480b5114588d$export$a5c6d149b50c1d86","decodeURI","startIndex","nextChar","$c846480b5114588d$var$getInvalidPathError","char","field","$c846480b5114588d$export$90ba53ce1c7fdff2","$c846480b5114588d$export$cae722b0cc860f13","toArg","routePathnames","locationPathname","isPathRelative","from","isEmptyPath","toPathname","routePathnameIndex","toSegments","$c846480b5114588d$export$b09f2ff0bbcb43c7","fromPathname","relativeSegments","$c846480b5114588d$var$normalizeSearch","$c846480b5114588d$var$normalizeHash","hasExplicitTrailingSlash","hasCurrentTrailingSlash","$c846480b5114588d$export$acf1a680051f5031","internal","$c846480b5114588d$export$972111febbeef05b","$c846480b5114588d$var$validMutationMethodsArr","$c846480b5114588d$var$validMutationMethods","$c846480b5114588d$var$validRequestMethodsArr","$c846480b5114588d$var$validRequestMethods","$c846480b5114588d$var$redirectStatusCodes","$c846480b5114588d$var$redirectPreserveMethodStatusCodes","$c846480b5114588d$export$ed3e14b2f9e105d0","formMethod","formAction","formEncType","$c846480b5114588d$export$52eace9c284d3585","$c846480b5114588d$export$386d57f03f0b2883","proceed","$c846480b5114588d$var$ABSOLUTE_URL_REGEX","$c846480b5114588d$var$defaultMapRouteProperties","hasErrorBoundary","Boolean","$c846480b5114588d$var$normalizeTo","prependBasename","fromRouteId","relative","contextualMatches","activeRouteMatch","$c846480b5114588d$var$hasNakedIndexQuery","$c846480b5114588d$var$normalizeNavigateOptions","normalizeFormMethod","isFetcher","has","$c846480b5114588d$var$getInternalRouterError","getInvalidBodyError","rawFormMethod","$c846480b5114588d$var$stripHashFromPath","$c846480b5114588d$var$isMutationMethod","FormData","URLSearchParams","entries","acc","_ref3","submission","$c846480b5114588d$var$convertFormDataToSearchParams","$c846480b5114588d$var$convertSearchParamsToFormData","$c846480b5114588d$var$getMatchesToLoad","history","isRevalidationRequired","cancelledDeferredRoutes","cancelledFetcherLoads","fetchLoadMatches","fetchRedirectIds","routesToUse","pendingActionData","pendingError","actionResult","values","currentUrl","createURL","nextUrl","navigationMatches","boundaryMatches","$c846480b5114588d$var$getLoaderMatchesUntilBoundary","boundaryId","findIndex","currentLoaderData","currentMatch","isMissingData","loader","$c846480b5114588d$var$isNewLoader","loaderData","currentRouteMatch","$c846480b5114588d$var$shouldRevalidateLoader","currentParams","nextParams","nextRouteMatch","defaultShouldRevalidate","$c846480b5114588d$var$isNewRouteInstance","revalidatingFetchers","routeId","fetcherMatches","controller","fetcher","fetchers","fetcherMatch","$c846480b5114588d$var$getTargetMatch","AbortController","currentPath","loaderMatch","arg","shouldRevalidate","routeChoice","$c846480b5114588d$var$loadLazyRouteModule","lazyRoute","routeToUpdate","routeUpdates","lazyRouteProperty","isPropertyStaticallyDefined","staticRouteValue","$c846480b5114588d$var$callLoaderOrAction","_result$init","_result$init2","resultType","onReject","runHandler","handler","abortPromise","signal","race","requestContext","isStaticRequest","protocol","isSameBasename","redirect","revalidate","reloadDocument","isRouteRequest","statusCode","subscribe","cancel","resolveData","deferredData","$c846480b5114588d$var$createClientSideRequest","Request","$c846480b5114588d$var$processLoaderData","matchesToLoad","results","fetcherResults","activeDeferreds","foundError","loaderHeaders","$c846480b5114588d$var$isRedirectResult","$c846480b5114588d$var$isErrorResult","boundaryMatch","$c846480b5114588d$var$findNearestBoundary","$c846480b5114588d$var$isDeferredResult","aborted","doneFetcher","$c846480b5114588d$var$getDoneFetcher","$c846480b5114588d$var$mergeLoaderData","newLoaderData","mergedLoaderData","eligibleMatches","$c846480b5114588d$var$getShortCircuitMatches","_temp4","errorMessage","$c846480b5114588d$var$findRedirect","$c846480b5114588d$var$resolveDeferredResults","currentMatches","signals","isRevalidatingLoader","$c846480b5114588d$var$resolveDeferredData","unwrap","unwrappedData","getAll","pathMatches","$c846480b5114588d$var$getSubmissionFromNavigation","navigation","$c846480b5114588d$var$getLoadingNavigation","$c846480b5114588d$var$getLoadingFetcher","$2e634cb2b6e12a73$var$_extends","$2e634cb2b6e12a73$export$3add0d5dce533e2e","$2e634cb2b6e12a73$export$145dfa71566a64dc","$2e634cb2b6e12a73$export$26749e8557646306","$2e634cb2b6e12a73$export$c7914228fb69b0f5","$2e634cb2b6e12a73$export$9072aa6dd1f93057","outlet","isDataRoute","$2e634cb2b6e12a73$var$RouteErrorContext","$2e634cb2b6e12a73$export$9c954a9d03d32f4a","$2e634cb2b6e12a73$export$45d76561a5302f2b","$2e634cb2b6e12a73$var$useIsomorphicLayoutEffect","static","$2e634cb2b6e12a73$export$9770f232ac06a008","$2e634cb2b6e12a73$var$useNavigateStable","ctx","router","$2e634cb2b6e12a73$var$DataRouterHook","UseNavigateStable","$2e634cb2b6e12a73$var$useCurrentRouteId","$2e634cb2b6e12a73$var$DataRouterStateHook","activeRef","navigate","$2e634cb2b6e12a73$var$useNavigateUnstable","dataRouterContext","navigator","routePathnamesJson","go","$2e634cb2b6e12a73$export$99eaa27ddbbb95ef","routeMatch","$2e634cb2b6e12a73$export$e75d2a2d1b3c245b","_temp2","$2e634cb2b6e12a73$export$5fcee62552a12fbf","dataRouterState","parentMatches","parentParams","parentPathnameBase","locationFromContext","_parsedLocationArg$pa","parsedLocationArg","renderedMatches","$2e634cb2b6e12a73$var$_renderMatches","_dataRouterState2","_dataRouterState","errorIndex","min","reduceRight","errorElement","$2e634cb2b6e12a73$var$defaultErrorElement","getChildren","element","$2e634cb2b6e12a73$var$RenderedRoute","routeContext","ErrorBoundary","$2e634cb2b6e12a73$var$RenderErrorBoundary","revalidation","component","encodeLocation","navigationType","Pop","_state$errors","UseRouteError","fontStyle","padding","backgroundColor","errorInfo","staticContext","_deepestRenderedBoundaryId","hookName","thisRoute","$2e634cb2b6e12a73$var$startTransitionImpl","$2e634cb2b6e12a73$export$323e4fc2fa4753fb","fallbackElement","future","setStateImpl","v7_startTransition","createHref","preventScrollReset","$2e634cb2b6e12a73$export$55185c17a0fcbe46","historyAction","$2e634cb2b6e12a73$var$DataRoutes","_ref2","$2e634cb2b6e12a73$export$444b3ab0cb9aec40","_ref4","jsonPath","$2e634cb2b6e12a73$export$e7b0ac011bb776c6","_props","_ref5","basenameProp","locationProp","staticProp","navigationContext","locationContext","trailingPathname","$2e634cb2b6e12a73$export$3565eb3d00ca5a74","_ref6","$2e634cb2b6e12a73$export$16da398f5434bdec","$2e634cb2b6e12a73$var$AwaitRenderStatus","$34f84368c0c9d98a$var$_extends","$34f84368c0c9d98a$var$_objectWithoutPropertiesLoose","excluded","sourceKeys","$34f84368c0c9d98a$var$_excluded","$34f84368c0c9d98a$var$_excluded3","$34f84368c0c9d98a$var$isBrowser","$34f84368c0c9d98a$var$ABSOLUTE_URL_REGEX","$34f84368c0c9d98a$export$a6c7ac8248d6e38a","absoluteHref","onClick","isExternal","href","targetUrl","_temp","joinedPathname","internalOnClick","$34f84368c0c9d98a$export$67621102c14d847","replaceProp","button","metaKey","altKey","ctrlKey","shiftKey","preventDefault","$ec34f7025013ec94$exports","$10fcb144e46b2198$export$2e2bcd8739ae039","$6e64521ddde455b6$export$2e2bcd8739ae039","$48e0eac2816dd5e6$export$2e2bcd8739ae039","isChild","$02bd391920972de4$export$2e2bcd8739ae039","firstDisplayedChild","setFirstDisplayedChild","lastDisplayedChild","setLastDisplayedChild","onNewChild","newMsg","detail","parent","displayPreviousChildren","max","displayNextChildren","childMessages","msgIndex","$d385cb0a744355a5$export$2e2bcd8739ae039","isPublic","author","src","title","$607f51540ffcd426$export$8b29a4b6778bf7f","icon","icons","regular","comment","images","bell","solid","film","times","family","rotation","viewBox","fill","$5fa7d79990e2bc5d$export$554ccc96b126a426","$5fa7d79990e2bc5d$var$useIsomorphicLayoutEffect","$5fa7d79990e2bc5d$export$11aeef812f154e9e","rerender","changed","$664ade9a4f66382d$var$_extends","$520fa8871428281e$export$8eb86eb08c0b5c12","groupId","setLoaded","setSearch","hashtags","setHashtags","messages","setMessages","loadMessages","msg","$6a345a2434031edc$export$423dfe6469a8e0dd","tabindex","$520fa8871428281e$export$5cc34a6155e65c0e","$520fa8871428281e$export$42cfbb80f7861e77","$520fa8871428281e$export$ffe0a8eecde78dfa","currentTarget","toggle","onError","$520fa8871428281e$export$2d8ae0bb40c793f6","$be03c4de42ac64ff$export$4b85d3515bd863a5","$be03c4de42ac64ff$export$14834abbfce3b8cd","$dd2a1b0379ca9bf9$export$2e2bcd8739ae039","postNewGroup","secretKey","minlength","maxlength","placeholder","$471cd1c649eea7ba$export$2e2bcd8739ae039","embedUrl","revealed","preview","$1dd5e274a4fb4aa6$export$2e2bcd8739ae039","allowfullscreen","playBtnClass","$42107f3179039eb0$exports","iterator","TypeError","L","O","evt","eventName","onElement","withCallback","avoidDuplicate","once","useCapture","destroy","querySelectorAll","contains","parentElement","msMatchesSelector","animation","OAnimation","MozAnimation","WebkitAnimation","webkitTransform","MozTransform","msTransform","OTransform","transform","display","createDocumentFragment","documentElement","clientWidth","innerHeight","clientHeight","setInterval","clearInterval","getElementsByTagName","rel","media","onload","userAgent","E","isFinite","M","parseFloat","getAttribute","Y","sqrt","N","handlers","el","D","start","move","preV","pinchStartLen","zoom","isDoubleTap","rotate","touchStart","multipointStart","multipointEnd","pinch","swipe","tap","doubleTap","longTap","singleTap","pressMove","twoFingerPressMove","touchMove","touchEnd","touchCancel","translateContainer","_cancelAllHandler","cancelAll","delta","last","tapTimeout","singleTapTimeout","longTapTimeout","swipeTimeout","x1","x2","y1","y2","preTapPosition","touches","nodeName","pageX","pageY","_cancelLongTap","_cancelSingleTap","_preventTap","angle","acos","PI","sx2","deltaX","deltaY","sy2","changedTouches","direction","_swipeDirection","del","W","transition","OTransition","MozTransition","WebkitTransition","opacity","img","slide","onclose","setZoomEvents","active","zoomedIn","dragging","currentX","currentY","initialX","initialY","xOffset","yOffset","dragStart","dragEnd","drag","zoomOut","zoomIn","widowWidth","maxWidth","naturalWidth","maxHeight","naturalHeight","setTranslate","clientX","clientY","isDragging","V","dragEl","toleranceX","toleranceY","lastDirection","toleranceReached","dragContainer","doSlideChange","preventOutsideClick","prevSlide","nextSlide","doSlideClose","close","shouldChange","settings","dragAutoSnap","shouldClose","lastChild","F","getAllPlayers","plyr","css","videoProvider","js","config","Plyr","dataset","resize","R","G","cloneNode","Z","allow","appendTo","U","defaults","sizes","srcset","description","alt","descPosition","effect","zoomable","draggable","sourceType","setSize","sanitizeValue","DOMException","slideConfig","checkSize","videosWidth","_hasCustomWidth","_hasCustomHeight","beforeSlideLoad","player","afterSlideLoad","getSlidePlayerInstance","moreLength","smallDescription","slideShortDesc","moreText","descriptionEvents","dragToleranceX","dragToleranceY","offsetWidth","Image","innerText","slideHTML","slideExtraAttributes","parseConfig","J","K","createTouch","msMaxTouchPoints","Q","ee","selector","elements","skin","theme","closeButton","startAt","autoplayVideos","autofocusVideos","beforeSlideChange","afterSlideChange","slideInserted","slideRemoved","onOpen","onClose","loop","oneSlidePerOpen","touchNavigation","touchFollowAxis","keyboardNavigation","closeOnOutsideClick","plugins","ratio","fullscreen","enabled","iosNative","youtube","noCookie","showinfo","iv_load_policy","vimeo","byline","portrait","transparent","openEffect","closeEffect","slideEffect","cssEfects","fade","in","out","slideBack","none","svg","prev","lightboxHTML","te","customOptions","effectsClasses","getAnimationClasses","videoPlayers","apiEvents","fullElementsList","getSelector","baseEvents","getElements","activeSlide","prevActiveSlideIndex","prevActiveSlide","getGalleryElements","getElementIndex","build","overlay","head","showSlide","prevButton","nextButton","lightboxOpen","trigger","B","X","targetTouches","offsetHeight","scaleX","scaleY","touch","keyboard","activeElement","toLocaleLowerCase","focus","slidesContainer","slideAnimateOut","slideAnimateIn","slideNode","slideIndex","node","setContent","slideDescription","slideDescriptionContained","preloadSlide","updateNavigationClasses","goToSlide","getConfig","getActiveSlideIndex","slidePlayerPlay","slidePlayerPause","playing","pause","play","muted","container","gallery","built","hasAttribute","modal","bodyHiddenChildElms","outClose","loopAtEnd","closing","clearAllEvents","$a64402709a5ef811$exports","tagName","passive","capture","identifier","mode","freeze","types","effectAllowed","setData","getData","clearData","setDragImage","defaultView","Event","bubbles","cancelable","dataTransfer","relatedTarget","screenX","screenY","getBoundingClientRect","offsetX","left","offsetY","top","dropEffect","dragImageSetup","position","zIndex","dragImageOffset","dragImageCenterOnTouch","getComputedStyle","marginLeft","marginTop","iterationInterval","dragStartConditionOverride","dragImageTranslateOverride","visibility","transitionDuration","scrollLeft","scrollTop","transitionDelay","elementFromPoint","tryFindDraggableTarget","composedPath","getPropertyValue","getPropertyPriority","pointerEvents","getContext","getImageData","putImageData","hasChildNodes","HTMLElement","shadowRoot","holdToDrag","defaultActionOverride","polyfill","forceApply","chrome","dragEvents","userAgentSupportingNativeDnD","supportsPassiveEventListener","$c72cf4b6b78e8f8e$export$330d558700ffa676","lightbox","setLightbox","openLightbox","stopPropagation","getElementsByClassName","setElements","closest","getPreview","video_id","playlist_id","host","timecode","controls","$c72cf4b6b78e8f8e$export$ca445ff2f74d7dc4","toggleFile","files","$c72cf4b6b78e8f8e$export$40e4fb50d87564f1","invertFiles","file","inWriter","$c72cf4b6b78e8f8e$export$48621228a997a4e0","filePath","contentUrl","poster","removed","progress","innerRef","cp","fileDragStart","fileDragEnd","fileDragEnter","fileDragLeave","fileDragOver","fileDrop","$bd90da8fd697beab$var$_extends","$b0c42e92c84db02f$export$29913b8f065577b2","$b0c42e92c84db02f$export$d7a960146e1a269e","setFiles","sending","setSending","uploading","setUploading","$fe5a7484fb575b8e$var$useForceUpdate","setValue","writerId","currentFiles","setForm","writerForm","updateFile","removeFile","uploadFile","fileId","inputFile","putMessage","messageId","postMessage","lastActivityDate","addFiles","mimetype","input_files","$b0c42e92c84db02f$export$29beae8571dce55f","input","accept","click","sendMessage","id_a","id_b","index_a","index_b","setPreview","setLink","setText","setTitle","cleanForm","genPreview","scrollHeight","links","encodeURIComponent","onKeyPress","doGenPreview","onPaste","clipboardData","onChange","rows","autocomplete","autofocus","image","video","pdf","audio","disabled","$be03c4de42ac64ff$export$9c257beea3dbd13a","$6a345a2434031edc$export$84c965ec8b6b0f92","$be03c4de42ac64ff$export$959a4441e74dcd2b","$6a345a2434031edc$export$89085c7857c3f940","$be03c4de42ac64ff$export$35f3ae0a16fef81","imgSrc","setTarget","setAction","setAuthor","setNotification","setMiniatureOnError","getAction","getTarget","fromGroup","fromUser","miniature","getObject","parentAuthorName","$be03c4de42ac64ff$export$4b31f5af7c5f8dee","setMessage","onSubmit","group_id","searchTerms","normalize","$be03c4de42ac64ff$export$c9915453de10000b","setUrl","setGroup","user","readonly","$d0274a88e468a969$export$2e2bcd8739ae039","editMessage","deleteMessage","openPublicLink","shareMessage","isInFront","publishInGroup","$5345fa5f2538b9ef$export$2e2bcd8739ae039","previewUrl","displayMessageText","$7cd04194507a3338$export$2e2bcd8739ae039","lineage","breadcrumbs","setBreadcrumbs","getTitle","previewLink","loadBreadcrumbs","ids","stack_truncated","breadcrumbs_truncated","cn","setParent","isRemoved","setIsRemoved","edit","setEdit","messageRef","setMessageRef","onEditMessage","loadMessage","scrollTo","msgElement","scrollIntoView","block","behavior","hydrateMessage","token","newChildren","newTab","cancelEdit","displayWriter","confirm","alert","postMessageComponent","screen","totalMessages","pageYOffset","page","scroll_cooldown","onScroll","onNewParent","new_loaded","msgList","mid","prevState","$6a345a2434031edc$export$4025c8e17986f775","setId","setLastActivityDate","setChildren","setDefaultMiniature","getMiniature","displayAuthorName","authorName","words","displayMessageTitle","lines","$f367d32ad26358d9$export$21a94553ffa41578","showResetPassword","setShowResetPassword","sendPasswordReset","login","mail","sendLoginForm","password","api_key","default_group","$f367d32ad26358d9$export$b44239f84c8f0268","sendNewPassword","passwordConfirmation","$f367d32ad26358d9$export$89200835fb4edfb9","sendSignupForm","invite_key","$f367d32ad26358d9$export$68b4491d6924a6d1","$69115444f08d0dc6$export$2e2bcd8739ae039","setSecretKey","users","setUsers","alertMessage","setAlertMessage","leaveGroup","leave","$eee779cb2410b301$export$2e2bcd8739ae039","setApiKey","inputAvatar","destroyAccount","updateSettings","notification_emails","$1180cc40af8fd7c1$export$c72f6eaae7b9adff","$2b67dd6f65354df9$var$router","toggleDropdowns","inFlightDataRoutes","pendingNavigationController","routerWindow","isBrowser","isServer","detectErrorBoundary","dataRoutes","v7_normalizeFormMethod","v7_prependBasename","unlistenHistory","subscribers","savedScrollPositions","getScrollRestorationKey","getScrollPosition","initialScrollRestored","hydrationData","initialMatches","initialErrors","restoreScrollPosition","actionData","blockers","pendingAction","pendingPreventScrollReset","isUninterruptedRevalidation","fetchControllers","incrementingLoadId","pendingNavigationLoadId","fetchReloadIds","blockerFunctions","ignoreNextHistoryUpdate","updateState","subscriber","completeNavigation","_location$state","_location$state2","isActionReload","_isRedirect","Push","Replace","getSavedScrollPosition","normalizedPath","currentLocation","nextLocation","userReplace","blockerKey","shouldBlockNavigation","updateBlocker","startNavigation","abort","startUninterruptedRevalidation","getScrollKey","loadingNavigation","overrideNavigation","notFoundMatches","cancelActiveDeferreds","actionOutput","handleAction","shortCircuited","pendingActionError","handleLoaders","fetcherSubmission","interruptActiveLoads","actionMatch","startRedirectNavigation","activeSubmission","updatedFetchers","markFetchRedirectsDone","rf","revalidatingFetcher","abortFetcher","abortPendingFetchRevalidations","loaderResults","callLoadersAndMaybeResolveData","fetcherKey","didAbortFetchLoads","abortStaleFetchLoads","shouldUpdateFetchers","getFetcher","handleFetcherAction","requestMatches","existingFetcher","setFetcherError","abortController","fetchRequest","originatingLoadId","loadingFetcher","isFetchActionRedirect","revalidationRequest","loadId","loadFetcher","staleKey","handleFetcherLoader","redirectLocation","_isFetchActionRedirect","isDocumentReload","redirectHistoryAction","fetchersToLoad","deleteFetcher","markFetchersDone","doneKeys","landedId","yeetedKeys","deleteBlocker","newBlocker","blocker","blockerFunction","predicate","cancelledRouteIds","dfd","$c846480b5114588d$var$createUseMatchesMatch","initialize","listen","enableScrollRestoration","positions","getPosition","getKey","dispose","getBlocker","_internalFetchControllers","_internalActiveDeferreds","_internalSetRoutes","newRoutes","$c846480b5114588d$var$getUrlBasedHistory","getLocation","validateLocation","window1","v5Compat","globalHistory","getIndex","handlePop","nextIndex","replaceState","historyState","pushState","__staticRouterHydrationData","$34f84368c0c9d98a$var$deserializeErrors","serialized","__type","__subType","ErrorConstructor","updates","App","createBrowserRouter","createRoutesFromElements","RouterProvider","StoreContext","Index","vnodeId","rerenderQueue","prevDebounce","defer","depthSort","EMPTY_OBJ","EMPTY_ARR","IS_NON_DIMENSIONAL","removeNode","normalizedProps","createVNode","original","this","getDomSibling","childIndex","sibling","updateParentDomPointers","child","enqueueRender","renderQueueLength","commitQueue","refQueue","oldVNode","oldDom","parentDom","commitRoot","diffChildren","renderResult","newParentVNode","oldParentVNode","globalContext","isSvg","excessDomChildren","isHydrating","childVNode","newDom","firstChildDom","skewedIndex","matchingIndex","isMounting","skew","oldChildren","oldChildrenLength","remainingOldChildren","newChildrenLength","findMatchingIndex","applyRef","placeChild","reorderChildren","tmp","toChildArray","diffProps","dom","newProps","oldProps","setStyle","oldValue","eventProxyCapture","eventProxy","newVNode","oldState","snapshot","clearProcessingException","provider","componentContext","renderHook","newType","outer","doRender","diffElementNodes","root","oldHtml","newHtml","parentVNode","skipRemove","replaceNode","contextId","contextValue","subs","old","ctor","handled","http","bookmarks_utils","Login","Public","PasswordReset","Signup","StopNotificationEmails","MessageParent","GroupWriter","CreateGroup","GroupBoard","Share","BookmarkBoard","RandomMessage","Settings","GroupSearchWrapper","Navigate","Routes","Route","useNavigate","useLocation","_alert","_api","_http","_lang","_i18n","_me","_notifications","_bookmarks_utils","_router","_storage","_util","storage","util","deg","initReactI18next","createStoreon","meStore","apiStore","routerStore","notificationsStore","bookmarksStore","shallowDiffers","comparer","shouldUpdate","nextProps","updateRef","Memoed","oldDiffHook","REACT_FORWARD_SYMBOL","Forwarded","mapFn","normalized","oldCatchError","oldUnmount","detachedClone","detachedParent","removeOriginal","originalParent","_suspenders","suspended","prom","Lazy","_next","_map","suspendingVNode","suspendingComponent","onResolved","onSuspensionComplete","suspendedVNode","wasHydrating","detachedComponent","ContextProvider","Portal","_container","before","delegated","unsuspend","wrappedUnsuspend","REACT_ELEMENT_TYPE","CAMEL_PROPS","ON_ANI","CAMEL_REPLACE","IS_DOM","onChangeInputType","preactRender","preactHydrate","oldEventHook","empty","currentComponent","classNameDescriptorNonEnumberable","oldVNodeHook","lowerCased","handleDomVNode","oldBeforeRender","oldDiffed","preactCloneElement","getSnapshot","_instance","_getSnapshot","_useState","currentIndex","previousComponent","prevRaf","currentHook","afterPaintEffects","EMPTY","oldBeforeDiff","oldAfterDiff","oldCommit","oldBeforeUnmount","getHookState","hooks","initialState","invokeOrReturn","reducer","hookState","_reducer","currentValue","nextValue","_hasScuFromHooks","updateHookState","stateHooks","prevScu","hookItem","prevCWU","argsChanged","_pendingArgs","initialValue","createHandle","factory","useErrorBoundary","errState","mask","flushAfterPaintEffects","invokeCleanup","invokeEffect","afterNextFrame","hasErrored","HAS_RAF","raf","timeout","hook","comp","cleanup","oldArgs","newArgs","attrRE","tag","voidElement","attrs","tagMatch","lookup","endIndex","reg","attr","arr","tagRE","whitespaceRE","buff","doc","attrString","html","level","inComponent","isOpen","isComment","parseTag","rootEl","_Login","_PasswordReset","_Signup","_StopNotificationEmails","_Public","useTranslation","import","defaultMethod","defaultEncType","isHtmlElement","isButtonElement","isFormElement","isInputElement","isModifiedEvent","shouldProcessLinkClick","createSearchParams","getSearchParamsForLocation","locationSearch","defaultSearchParams","_formDataSupportsSubmitter","isFormDataSubmitterSupported","supportedFormEncTypes","getFormEncType","encType","env","NODE_ENV","warning","getFormSubmissionInfo","stripBasename","form","createRouter","_extends","createBrowserHistory","parseHydrationData","createHashRouter","createHashHistory","deserializeErrors","ErrorResponse","START_TRANSITION","startTransitionImpl","React","BrowserRouter","historyRef","Router","HashRouter","HistoryRouter","ABSOLUTE_URL_REGEX","Link","LinkWithRef","_objectWithoutPropertiesLoose","_excluded","NavigationContext","useHref","useLinkClickHandler","handleClick","NavLink","NavLinkWithRef","ariaCurrentProp","classNameProp","styleProp","_excluded2","useResolvedPath","routerState","DataRouterStateContext","nextLocationPathname","isActive","isPending","ariaCurrent","Form","submit","useSubmit","FormImpl","_excluded3","useFormAction","submitHandler","submitter","submitMethod","ScrollRestoration","_ref7","storageKey","useScrollRestoration","getDataRouterConsoleError","useDataRouterContext","DataRouterContext","invariant","useDataRouterState","createPath","useSearchParams","defaultInit","defaultSearchParamsRef","hasSetSearchParamsRef","setSearchParams","nextInit","navigateOptions","newSearchParams","validateClientSideSubmission","UseSubmit","currentRouteId","useRouteId","useSubmitFetcher","fetcherRouteId","UseSubmitFetcher","RouteContext","joinPaths","createFetcherForm","FetcherForm","fetcherId","useFetcher","_route$matches","UseFetcher","fetcherWithComponents","useFetchers","UseFetchers","SCROLL_RESTORATION_STORAGE_KEY","_temp3","UseScrollRestoration","useMatches","useNavigation","scrollRestoration","usePageHide","scrollY","sessionStorage","sessionPositions","getKeyWithoutBasename","disableScrollRestoration","useBeforeUnload","usePrompt","_ref8","when","useBlocker","AwaitContext","LocationContext","RouteErrorContext","useInRouterContext","useNavigationType","useMatch","matchPath","navigateEffectWarning","useIsomorphicLayoutEffect","isStatic","useNavigateStable","useNavigateUnstable","getPathContributingMatches","resolveTo","OutletContext","useOutletContext","useOutlet","useParams","useRoutes","useRoutesImpl","parentPathname","parentRoute","warningOnce","parsePath","matchRoutes","_renderMatches","NavigationType","DefaultErrorComponent","useRouteError","isRouteErrorResponse","lightgrey","preStyles","codeStyles","devInfo","defaultErrorElement","RenderErrorBoundary","RenderedRoute","useRouteContext","useCurrentRouteId","UseRouteId","UseNavigation","useRevalidator","UseRevalidator","UseMatches","useLoaderData","UseLoaderData","useRouteLoaderData","UseRouteLoaderData","useActionData","UseActionData","useAsyncValue","_data","useAsyncError","_error","blockerId","shouldBlock","UseBlocker","setBlockerKey","IDLE_BLOCKER","alreadyWarned","DataRoutes","MemoryRouter","initialEntries","initialIndex","createMemoryHistory","Outlet","createRoutesFromChildren","Await","AwaitErrorBoundary","ResolveAwait","neverSettledPromise","success","renderError","_tracked","AbortedDeferredError","toRender","renderMatches","createMemoryRouter","PopStateEventType","entry","createMemoryLocation","clampIndex","getCurrentLocation","createLocation","createBrowserLocation","createBrowserHref","getUrlBasedHistory","createHashLocation","createHashHref","validateHashLocation","createKey","getHistoryState","immutableRouteKeys","isIndexRoute","convertRoutesToDataRoutes","flattenRoutes","rankRouteBranches","matchRouteBranch","safelyDecodeURI","computeScore","explodeOptionalSegments","compareIndexes","paramRe","dynamicSegmentValue","indexRouteValue","emptySegmentValue","staticSegmentValue","splatPenalty","isSplat","normalizePathname","generatePath","originalPath","array","isLastSegment","star","keyMatch","optional","compilePath","safelyDecodeURIComponent","resolvePath","resolvePathname","normalizeSearch","normalizeHash","getInvalidPathError","getToPathname","responseInit","Response","DeferredData","pendingKeysSet","deferredKeys","onAbort","unlistenAbortSignal","trackPromise","onSettle","undefinedError","settledKey","unwrapTrackedPromise","pendingKeys","isTrackedPromise","redirectDocument","validMutationMethodsArr","validMutationMethods","validRequestMethodsArr","validRequestMethods","redirectStatusCodes","redirectPreserveMethodStatusCodes","IDLE_NAVIGATION","IDLE_FETCHER","defaultMapRouteProperties","getInternalRouterError","getShortCircuitMatches","HistoryAction","isMutationMethod","mergeLoaderData","normalizeTo","normalizeNavigateOptions","saveScrollPosition","isHashChangeOnly","createClientSideRequest","findNearestBoundary","getLoadingNavigation","getSubmittingNavigation","getTargetMatch","callLoaderOrAction","isRedirectResult","isErrorResult","isDeferredResult","getSubmissionFromNavigation","getMatchesToLoad","getLoadingFetcher","findRedirect","processLoaderData","getSubmittingFetcher","getDoneFetcher","resolveDeferredData","resolveDeferredResults","createUseMatchesMatch","UNSAFE_DEFERRED_SYMBOL","createStaticHandler","query","isValidMethod","methodNotAllowedMatches","actionHeaders","queryImpl","isResponse","queryRoute","_result$activeDeferre","loadRouteData","isQueryRouteResponse","isRedirectResponse","Location","loaderRequest","getLoaderMatchesUntilBoundary","processRouteLoaderData","executedLoaders","fromEntries","getStaticContextFromError","newContext","isSubmissionNavigation","hasNakedIndexQuery","stripHashFromPath","convertFormDataToSearchParams","convertSearchParamsToFormData","isNewLoader","shouldRevalidateLoader","isNewRouteInstance","loadLazyRouteModule","queryRouteResponse","isDeferredData","withTranslation","Message","_Message","_MessageBody","_MessageBreadcrumbs","_MessageChild","_MessageChildren","_MessageFooter","_MessageHead","_MessageList","_MessageParent","_MessagePreview","_MessageSearchResult","MessageBody","MessageBreadcrumbs","MessageChild","MessageChildren","MessageFooter","MessageHead","MessageList","MessagePreview","MessageSearchResult","Writer","useStoreon","newRef","getComponentClass","FaIcon","HumanTime","_FaIcon","_BookmarkBoard","_CreateGroup","_GroupBoard","_HumanTime","_Notification","_RandomMessage","_Search","_Share","Notification","Search","Navbar","_GroupSearch","_GroupSearchWrapper","_GroupsDropdownNavbar","_Navbar","_NotificationsDropdownNavbar","GroupSearch","GroupsDropdownNavbar","NotificationsDropdownNavbar","notifs","meService","_GroupWriter","_Writer","_WritingWidget","WritingWidget","useForceUpdate","EmbedBlock","FileGrid","_EmbedBlock","_FileGrid","_BigFile","_MiniFile","BigFile","MiniFile","BandCampEmbed","GenericEmbed","GLightbox","CLASS_PREFIX","ALLOWED_EFFECTS","DROP_EFFECTS","supportsPassiveEventListeners","supportsPassive","isDOMElement","addDocumentListener","ev","removeDocumentListener","onEvt","average","isTouchIdentifierContainedInTouchEvent","touchEvent","touchIdentifier","updateCentroidCoordinatesOfTouchesIn","coordinateProp","outPoint","pageXs","pageYs","TRANSFORM_CSS_VENDOR_PREFIXES","translateElementToPoint","pnt","originalTransforms","offset","centerOnCoordinates","transformProp","DataTransfer","_dropEffect","_dataStore","_setDragImageHandler","determineDropEffect","sourceNode","dispatchDragEvent","dragEvent","targetElement","dataStore","leaveEvt","dndEvent","targetRect","createDragEventFromTouch","cancelled","determineDragOperation","DragOperationController","_setup","_dragOperationState","_currentDragOperation","_dragDataStore","_currentHotspotCoordinates","_dragImagePageCoordinates","dragImageSrc","_sourceNode","_dataTransfer","_dragImageOffset","_lastTouchEvent","_cleanup","cs","dragImage","_config","_dragImageTransforms","_dragImage","_initialTouch","_iterationIntervalId","_iterationLock","_dragAndDropProcessModelIteration","_touchMoveHandler","_touchEndOrCancelHandler","_dragOperationEndedCb","_onTouchMove","startDrag","_initialEvent","handledDragImageTranslate_1","_immediateUserSelection","_onTouchEndOrCancel","previousDragOperation","dragImageTransforms","csDragImage","dragCancelled","_dragOperationEnded","sourceEl","transitionEndCb","_finishDragOperation","durationInS","rect","delayInS","durationInMs","newUserSelection","previousTargetElement","_currentDropTarget","currentDragOperationClass","dragFailed","activeDragOperation","_i","cp_1","prepareNodeCopyAsDragImage","srcNode","dstNode","canvasDst","canvasSrcImgData","csName","canvasSrc","removePointerEventsFromShadoDomChildNodes","customEl","onTouchstart","dragTarget","dragOperationEnded","onDelayTouchstart","onReleasedItem","scroll","EVENT_PREFIX","timer","override","detectedFeatures","isBlinkEngine","getAvatar","getLink","_GroupSettings","_Settings","_UserSettings","GroupSettings","UserSettings","resetSecretKey","resetApiKey","confirmDeletion"],"version":3,"file":"index.b4e71a5f.js.map"}