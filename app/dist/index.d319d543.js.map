{"mappings":"C,A,e2DAI,EjCCE,EACA,EAEA,EsD0PAE,E,S,E,C,C,C,C,C,C,C,E,O,c,C,E,E,C,I,E,I,E,W,C,E,a,C,C,E,C,S,E,C,E,O,G,E,U,C,E,O,C,C,C,IADqBiB,EOtPfC,ECGAC,ELguBPC,EAMAC,EChQAC,EJ2YAF,EAOAC,EAtqBHE,EACAC,EOtNUN,ECGAC,ERi3BPC,EAOAC,E,E,A,a,O,W,W,A,a,O,K,K,A,a,O,O,O,A,a,O,O,O,C,E,E,C,E,E,C,E,E,E,iB,A,O,I,A,C,E,S,C,E,G,K,E,O,C,C,E,C,O,C,G,K,E,C,I,E,C,C,E,A,Q,C,C,E,C,I,E,C,G,E,Q,C,C,E,O,C,C,E,C,E,E,I,C,E,O,C,E,E,O,E,E,O,A,C,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,Q,C,S,C,C,C,E,C,C,E,C,C,E,E,iB,C,G,E,Q,C,Q,S,C,C,C,E,E,E,O,C,e,W,O,C,E,S,C,E,O,E,C,G/Eh4BL,IAkCA,EAlCI,EAAY,CAAC,EAkCjB,EAjCA,SAA4B,CAAE,EAC5B,IAAI,EAAQ,CAAS,CAAC,EAAG,CAKzB,OAJK,IACH,EAAQ,AAKZ,WACE,GAAI,CACF,MAAM,AAAI,OACZ,CAAE,MAAO,EAAK,CACZ,IAAI,EAAU,AAAC,CAAA,GAAK,EAAI,KAAI,AAAJ,EAAO,KAAA,CAAM,oEACrC,GAAI,EAEF,mEAAmE;AACnE,MAMI,AAAA,CAAA,GANc,CAAO,CAAC,EAAE,AAMnB,EAAK,OAAA,CAAQ,0EAA2E,MAAQ,GAJ7G,CACA,MAAO,GACT,IAhBI,CAAS,CAAC,EAAG,CAAG,GAEX,CACT,C,GGkBamI,IAAAA,ECjBP8I,ECRF0/D,EC4KAC,EAWAC,EAEEC,EA0BAC,ECpNKxtE,ECFEytE,EAAY,CAAlB,EACMC,EAAY,EAAA,CACZC,EACZ,oELDYpuE,EAAUD,MAAMC,OA0BhBqF,CAjBN,SAASuH,EAAOiE,CAAAA,CAAK1P,CAAAA,EAE3B,IAAK,IAAIV,KAAKU,EAAO0P,CAAAA,CAAIpQ,EAAAA,CAAKU,CAAAA,CAAMV,EAAAA,CACpC,OAA6BoQ,CAC7B,CAAA,SAQew9D,EAAWhd,CAAAA,EAC1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,CAAS,SAAU,CAAC,GAC1B,MACF,CAQA,OAPAhE,QAAQ6iB,GAAAA,CAAItrB,EAAEgrB,MAAAA,CAAOhf,GAAAA,CAAI7G,AAAAA,GAAKitE,AAAAA,GAAKz2E,GAAAA,CAAK,CAAA,YAAA,EAAcwJ,EAAE5H,EAAAA,CAAG,CAAC,EAAEmL,IAAAA,CAAKyiB,AAAAA,GAASA,KAASziB,IAAAA,CACnFsiB,AAAAA,IACEhrB,EAAEgrB,MAAAA,CAASA,EACX7vB,ACnCKA,GDmCCsR,QAAAA,CAAS,YAAahR,OAAOwQ,MAAAA,CAAO,CAACyZ,OAAQ,CAAA,CAAI,EAAG1lB,GAC5D,GAEF62B,AAAAA,GAAK/iB,cAAAA,CAAe9T,GAAGkH,MAAM6jB,MACtB/qB,CACT,GAGFurB,MAAAA,IACE,AAAIpwB,AC5COA,GD4CDQ,GAAAA,GAAM,MAAS,CAChB,IAAI8M,QAAQzI,AAAAA,GAAKA,EAAE7E,AC7CjBA,GD6CuBQ,GADlC,KAGO0P,GAAG+f,MAAV,GAGFvgB,QACE1P,ACnDWA,GDmDLsR,QAAAA,CAAS,QACjB,EAEA+e,SACE4oD,AH3BWA,GG2BHvpE,KAARupE,EACF,CACF,E,I,G,C,E,O,c,C,G,a,C,M,C,E,a,C,C,G,E,G,gB,W,O,E,G,E,G,O,W,O,E,G,E,G,a,W,O,E,G,E,G,W,W,O,E,G,E,G,W,W,O,E,G,E,G,O,W,O,E,G,E,G,e,W,O,E,G,E,G,e,W,O,E,G,E,G,S,W,O,E,G,E,G,U,W,O,E,G,E,G,qD,W,O,E,G,E,G,U,W,O,E,G,E,G,gB,W,O,E,G,E,G,iB,W,O,E,G,E,G,a,W,O,E,G,E,G,e,W,O,E,G,E,G,yB,W,O,E,G,E,G,c,W,O,E,G,E,G,0B,W,O,E,G,E,G,Y,W,O,E,G,E,G,a,W,O,E,G,E,G,kB,W,O,E,G,E,G,mB,W,O,E,G,E,G,gB,W,O,E,G,E,G,qB,W,O,E,G,E,G,Y,W,O,E,G,E,G,uB,W,O,E,G,E,G,U,W,O,E,G,E,G,Y,W,O,C,G,E,G,W,W,O,C,G,E,G,gB,W,O,E,G,E,G,gB,W,O,C,G,E,G,Y,W,O,C,G,I,G,C,E,E,G,W,W,O,E,G,E,G,a,W,O,E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l0C,KAAAA,CAAM+K,MAAtBA,CACAgpC,aAAcG,EAAQl0C,KAAAA,CAAM+zC,YAA5BA,CACAM,cAAeH,EAAQl0C,KAAAA,CAAMq0C,aAA7BA,CACAlM,iBACE+L,AAA+B,MAA/BA,EAAQl0C,KAAAA,CAAMq0C,aAAAA,EACdH,AAA8B,MAA9BA,EAAQl0C,KAAAA,CAAM+zC,YAAAA,CAChBrH,iBAAkBwH,EAAQl0C,KAAAA,CAAM0sC,gBAAhCA,CACA55B,OAAQohC,EAAQl0C,KAAAA,CAAM8S,MAAtBA,CACA8iB,KAAMse,EAAQl0C,KAAAA,CAAM41B,IAApBA,AACD,CAEGse,CAAAA,EAAQl0C,KAAAA,CAAMJ,QAAAA,EAChBkL,CAAAA,EAAMlL,QAAAA,CAAW6oF,EACfv0C,EAAQl0C,KAAAA,CAAMJ,QAAAA,CACdyiC,EAHJ,EAOApmC,EAAOoF,IAAAA,CAAKyJ,EACd,GAEO7O,CACT,EA9N4C2D,GAAW27B,EACvD,CAsBC,IAWIv/B,IAAAA,CAAAA,EAAAA,IAAiB,CAAA,EAAA,CAAjBA,EAAiB,OAAA,CAAA,EAAA,CAAA,UAAjBA,CAAiB,CAAjBA,EAAiB,OAAA,CAAA,EAAA,CAAA,UAAjBA,CAAiB,CAAjBA,EAAiB,KAAA,CAAA,EAAA,CAAA,QAAjBA,G,S,K,M,A,C,G,O,M,C,O,M,C,I,G,S,C,E,I,I,E,E,E,U,M,C,I,C,I,E,S,C,E,C,I,I,K,E,O,S,C,c,C,I,C,E,I,C,C,C,E,C,C,C,E,A,C,C,O,C,C,E,K,C,I,C,U,C,S,G,C,C,C,E,G,A,M,E,M,C,E,I,E,E,E,C,E,E,O,I,C,G,I,E,E,E,E,M,C,I,E,C,C,E,C,E,O,C,I,G,C,C,C,E,C,C,C,E,A,E,O,C,CAMuB,IAAIiM,QAAQ,KAAM,GLjT9C,I,G,C,U,W,iB,U,Q,S,K,qB,C,G,C,iB,U,Q,S,S,W,S,W,qB,AC+I4B42E,CAAAA,GADH,eAC0B,CAmKnD,IAAMnb,GACJ,AAAkB,aAAlB,OAAOhnE,QACP,AAA2B,KAAA,IAApBA,OAAO2J,QAAAA,EACd,AAAyC,KAAA,IAAlC3J,OAAO2J,QAAAA,CAASG,aAAAA,CAEnB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","sources":["<anon>","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","src/index.js","node_modules/preact/dist/preact.module.js","node_modules/preact/src/util.js","node_modules/preact/src/options.js","node_modules/preact/src/create-element.js","node_modules/preact/src/component.js","node_modules/preact/src/create-context.js","node_modules/preact/src/constants.js","node_modules/preact/src/diff/children.js","node_modules/preact/src/diff/props.js","node_modules/preact/src/diff/index.js","node_modules/preact/src/render.js","node_modules/preact/src/clone-element.js","node_modules/preact/src/diff/catch-error.js","src/app.js","src/core/index.js","src/core/alert.js","src/core/api.js","src/core/http.js","src/core/storage.js","src/core/util.js","src/core/lang.js","src/core/me.js","src/store/index.js","node_modules/storeon/index.js","src/store/me.js","src/store/api.js","src/store/router.js","src/store/notifications.js","src/store/bookmarks.js","node_modules/i18next/dist/esm/i18next.js","node_modules/react-i18next/dist/es/index.js","node_modules/react-i18next/dist/es/Trans.js","node_modules/preact/compat/dist/compat.module.js","node_modules/preact/compat/src/util.js","node_modules/preact/compat/src/PureComponent.js","node_modules/preact/compat/src/memo.js","node_modules/preact/compat/src/forwardRef.js","node_modules/preact/compat/src/Children.js","node_modules/preact/compat/src/suspense.js","node_modules/preact/compat/src/suspense-list.js","node_modules/preact/compat/src/portals.js","node_modules/preact/compat/src/render.js","node_modules/preact/compat/src/index.js","node_modules/preact/hooks/dist/hooks.module.js","node_modules/preact/hooks/src/index.js","node_modules/react-i18next/dist/es/TransWithoutContext.js","node_modules/@babel/runtime/helpers/extends.js","node_modules/html-parse-stringify/dist/html-parse-stringify.module.js","node_modules/html-parse-stringify/src/parse-tag.js","node_modules/html-parse-stringify/src/parse.js","node_modules/html-parse-stringify/src/stringify.js","node_modules/html-parse-stringify/src/index.js","node_modules/void-elements/index.js","node_modules/react-i18next/dist/es/utils.js","node_modules/react-i18next/dist/es/defaults.js","node_modules/react-i18next/dist/es/unescape.js","node_modules/react-i18next/dist/es/i18nInstance.js","node_modules/react-i18next/dist/es/context.js","node_modules/react-i18next/dist/es/initReactI18next.js","node_modules/react-i18next/dist/es/useTranslation.js","node_modules/react-i18next/dist/es/withTranslation.js","node_modules/react-i18next/dist/es/Translation.js","node_modules/react-i18next/dist/es/I18nextProvider.js","node_modules/react-i18next/dist/es/withSSR.js","node_modules/react-i18next/dist/es/useSSR.js","src/lang/en.json","src/lang/es.json","src/lang/fr.json","src/lang/nl.json","src/lang/sk.json","src/core/notifications.js","src/core/bookmarks_utils.js","src/core/router.js","src/outside/index.js","src/outside/login.component.js","node_modules/react-router-dom/dist/index.js","node_modules/react-router-dom/dom.ts","node_modules/react-router-dom/index.tsx","node_modules/react-router/dist/index.js","node_modules/react-router/lib/context.ts","node_modules/react-router/lib/hooks.tsx","node_modules/react-router/lib/components.tsx","node_modules/react-router/index.ts","node_modules/@remix-run/router/dist/router.js","node_modules/@remix-run/router/history.ts","node_modules/@remix-run/router/utils.ts","node_modules/@remix-run/router/router.ts","node_modules/@parcel/runtime-js/lib/runtime-22d3d6ca166382c8.js","src/outside/password-reset.component.js","src/outside/signup.component.js","src/outside/stop-notification-emails.component.js","src/outside/public.component.js","src/message/index.js","src/message/message.component.js","src/message/message-children.component.js","src/message/message-child.component.js","src/message/message-head.component.js","src/message/message-footer.component.js","src/misc/index.js","src/misc/fa-icon.component.js","src/pages/index.js","src/pages/bookmark-board.component.js","src/navbar/index.js","src/navbar/group-search.component.js","src/navbar/group-search-wrapper.component.js","src/navbar/groups-dropdown-navbar.component.js","src/navbar/navbar.component.js","node_modules/storeon/preact/index.js","src/navbar/notifications-dropdown-navbar.component.js","src/pages/create-group.component.js","src/pages/group-board.component.js","src/pages/human-time.component.js","src/pages/notification.component.js","src/pages/random-message.component.js","src/pages/search.component.js","src/pages/share.component.js","src/writer/index.js","src/writer/group-writer.component.js","src/writer/writer.component.js","src/writer/writing-widget.component.js","src/embed/index.js","src/embed/embed-block.component.js","src/embed/bandcamp-embed.component.js","src/embed/generic-embed.component.js","node_modules/glightbox/dist/js/glightbox.min.js","src/embed/file-grid.component.js","src/embed/big-file.component.js","src/embed/mini-file.component.js","node_modules/mobile-drag-drop/index.min.js","node_modules/mobile-drag-drop/internal/constants.ts","node_modules/mobile-drag-drop/internal/feature-detection.ts","node_modules/mobile-drag-drop/internal/dom-utils.ts","node_modules/mobile-drag-drop/internal/drag-data-store.ts","node_modules/mobile-drag-drop/internal/drag-utils.ts","node_modules/mobile-drag-drop/internal/drag-operation-controller.ts","node_modules/mobile-drag-drop/index.ts","src/message/message-body.component.js","src/message/message-breadcrumbs.component.js","src/message/message-list.component.js","src/message/message-parent.component.js","src/message/message-preview.component.js","src/message/message-search-result.component.js","src/settings/index.js","src/settings/group-settings.component.js","src/settings/settings.component.js","src/settings/user-settings.component.js"],"sourcesContent":["(function () {\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\nfunction $parcel$defineInteropFlag(a) {\n  Object.defineProperty(a, '__esModule', {value: true, configurable: true});\n}\nfunction $parcel$exportWildcard(dest, source) {\n  Object.keys(source).forEach(function(key) {\n    if (key === 'default' || key === '__esModule' || dest.hasOwnProperty(key)) {\n      return;\n    }\n\n    Object.defineProperty(dest, key, {\n      enumerable: true,\n      get: function get() {\n        return source[key];\n      }\n    });\n  });\n\n  return dest;\n}\nvar $parcel$global =\ntypeof globalThis !== 'undefined'\n  ? globalThis\n  : typeof self !== 'undefined'\n  ? self\n  : typeof window !== 'undefined'\n  ? window\n  : typeof global !== 'undefined'\n  ? global\n  : {};\nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequiredc87\"];\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequiredc87\"] = parcelRequire;\n}\nparcelRequire.register(\"lpwGa\", function(module, exports) {\n\n$parcel$export(module.exports, \"getBundleURL\", function () { return $f965482ec7a35662$export$bdfd709ae4826697; }, function (v) { return $f965482ec7a35662$export$bdfd709ae4826697 = v; });\nvar $f965482ec7a35662$export$bdfd709ae4826697;\nvar $f965482ec7a35662$export$c9e73fbda7da57b6;\nvar $f965482ec7a35662$export$5a759dc7a1cfb72a;\n\"use strict\";\nvar $f965482ec7a35662$var$bundleURL = {};\nfunction $f965482ec7a35662$var$getBundleURLCached(id) {\n    var value = $f965482ec7a35662$var$bundleURL[id];\n    if (!value) {\n        value = $f965482ec7a35662$var$getBundleURL();\n        $f965482ec7a35662$var$bundleURL[id] = value;\n    }\n    return value;\n}\nfunction $f965482ec7a35662$var$getBundleURL() {\n    try {\n        throw new Error();\n    } catch (err) {\n        var matches = (\"\" + err.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^)\\n]+/g);\n        if (matches) // The first two stack frames will be this function and getBundleURLCached.\n        // Use the 3rd one, which will be a runtime in the original bundle.\n        return $f965482ec7a35662$var$getBaseURL(matches[2]);\n    }\n    return \"/\";\n}\nfunction $f965482ec7a35662$var$getBaseURL(url) {\n    return (\"\" + url).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/.+)\\/[^/]+$/, \"$1\") + \"/\";\n}\n// TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\nfunction $f965482ec7a35662$var$getOrigin(url) {\n    var matches = (\"\" + url).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^/]+/);\n    if (!matches) throw new Error(\"Origin not found\");\n    return matches[0];\n}\n$f965482ec7a35662$export$bdfd709ae4826697 = $f965482ec7a35662$var$getBundleURLCached;\n$f965482ec7a35662$export$c9e73fbda7da57b6 = $f965482ec7a35662$var$getBaseURL;\n$f965482ec7a35662$export$5a759dc7a1cfb72a = $f965482ec7a35662$var$getOrigin;\n\n});\n\nvar $bc4b82f252aed4aa$var$n, $bc4b82f252aed4aa$export$41c562ebe57d11e2, $bc4b82f252aed4aa$var$u, $bc4b82f252aed4aa$export$a8257692ac88316c, $bc4b82f252aed4aa$var$i, $bc4b82f252aed4aa$var$o, $bc4b82f252aed4aa$var$r, $bc4b82f252aed4aa$var$f, $bc4b82f252aed4aa$var$e, $bc4b82f252aed4aa$var$c = {}, $bc4b82f252aed4aa$var$s = [], $bc4b82f252aed4aa$var$a = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i, $bc4b82f252aed4aa$var$h = Array.isArray;\nfunction $bc4b82f252aed4aa$var$v(n, l) {\n    for(var u in l)n[u] = l[u];\n    return n;\n}\nfunction $bc4b82f252aed4aa$var$p(n) {\n    var l = n.parentNode;\n    l && l.removeChild(n);\n}\nfunction $bc4b82f252aed4aa$export$c8a8987d4410bf2d(l, u, t) {\n    var i, o, r, f = {};\n    for(r in u)\"key\" == r ? i = u[r] : \"ref\" == r ? o = u[r] : f[r] = u[r];\n    if (arguments.length > 2 && (f.children = arguments.length > 3 ? $bc4b82f252aed4aa$var$n.call(arguments, 2) : t), \"function\" == typeof l && null != l.defaultProps) for(r in l.defaultProps)void 0 === f[r] && (f[r] = l.defaultProps[r]);\n    return $bc4b82f252aed4aa$var$d(l, f, i, o, null);\n}\nfunction $bc4b82f252aed4aa$var$d(n, t, i, o, r) {\n    var f = {\n        type: n,\n        props: t,\n        key: i,\n        ref: o,\n        __k: null,\n        __: null,\n        __b: 0,\n        __e: null,\n        __d: void 0,\n        __c: null,\n        __h: null,\n        constructor: void 0,\n        __v: null == r ? ++$bc4b82f252aed4aa$var$u : r\n    };\n    return null == r && null != $bc4b82f252aed4aa$export$41c562ebe57d11e2.vnode && $bc4b82f252aed4aa$export$41c562ebe57d11e2.vnode(f), f;\n}\nfunction $bc4b82f252aed4aa$export$7d1e3a5e95ceca43() {\n    return {\n        current: null\n    };\n}\nfunction $bc4b82f252aed4aa$export$ffb0004e005737fa(n) {\n    return n.children;\n}\nfunction $bc4b82f252aed4aa$export$16fa2f45be04daa8(n, l) {\n    this.props = n, this.context = l;\n}\nfunction $bc4b82f252aed4aa$var$g(n, l) {\n    if (null == l) return n.__ ? $bc4b82f252aed4aa$var$g(n.__, n.__.__k.indexOf(n) + 1) : null;\n    for(var u; l < n.__k.length; l++)if (null != (u = n.__k[l]) && null != u.__e) return u.__e;\n    return \"function\" == typeof n.type ? $bc4b82f252aed4aa$var$g(n) : null;\n}\nfunction $bc4b82f252aed4aa$var$m(n) {\n    var l, u;\n    if (null != (n = n.__) && null != n.__c) {\n        for(n.__e = n.__c.base = null, l = 0; l < n.__k.length; l++)if (null != (u = n.__k[l]) && null != u.__e) {\n            n.__e = n.__c.base = u.__e;\n            break;\n        }\n        return $bc4b82f252aed4aa$var$m(n);\n    }\n}\nfunction $bc4b82f252aed4aa$var$w(n) {\n    (!n.__d && (n.__d = !0) && $bc4b82f252aed4aa$var$i.push(n) && !$bc4b82f252aed4aa$var$x.__r++ || $bc4b82f252aed4aa$var$o !== $bc4b82f252aed4aa$export$41c562ebe57d11e2.debounceRendering) && (($bc4b82f252aed4aa$var$o = $bc4b82f252aed4aa$export$41c562ebe57d11e2.debounceRendering) || $bc4b82f252aed4aa$var$r)($bc4b82f252aed4aa$var$x);\n}\nfunction $bc4b82f252aed4aa$var$x() {\n    var n, l, u, t, o, r, e, c, s;\n    for($bc4b82f252aed4aa$var$i.sort($bc4b82f252aed4aa$var$f); n = $bc4b82f252aed4aa$var$i.shift();)n.__d && (l = $bc4b82f252aed4aa$var$i.length, t = void 0, o = void 0, r = void 0, c = (e = (u = n).__v).__e, (s = u.__P) && (t = [], o = [], (r = $bc4b82f252aed4aa$var$v({}, e)).__v = e.__v + 1, $bc4b82f252aed4aa$var$L(s, e, r, u.__n, void 0 !== s.ownerSVGElement, null != e.__h ? [\n        c\n    ] : null, t, null == c ? $bc4b82f252aed4aa$var$g(e) : c, e.__h, o), $bc4b82f252aed4aa$var$M(t, e, o), e.__e != c && $bc4b82f252aed4aa$var$m(e)), $bc4b82f252aed4aa$var$i.length > l && $bc4b82f252aed4aa$var$i.sort($bc4b82f252aed4aa$var$f));\n    $bc4b82f252aed4aa$var$x.__r = 0;\n}\nfunction $bc4b82f252aed4aa$var$P(n, l, u, t, i, o, r, f, e, a, v) {\n    var p, y, _, b, m, w, x, P, C, H = 0, I = t && t.__k || $bc4b82f252aed4aa$var$s, T = I.length, j = T, z = l.length;\n    for(u.__k = [], p = 0; p < z; p++)null != (b = u.__k[p] = null == (b = l[p]) || \"boolean\" == typeof b || \"function\" == typeof b ? null : \"string\" == typeof b || \"number\" == typeof b || \"bigint\" == typeof b ? $bc4b82f252aed4aa$var$d(null, b, null, null, b) : $bc4b82f252aed4aa$var$h(b) ? $bc4b82f252aed4aa$var$d($bc4b82f252aed4aa$export$ffb0004e005737fa, {\n        children: b\n    }, null, null, null) : b.__b > 0 ? $bc4b82f252aed4aa$var$d(b.type, b.props, b.key, b.ref ? b.ref : null, b.__v) : b) ? (b.__ = u, b.__b = u.__b + 1, -1 === (P = $bc4b82f252aed4aa$var$A(b, I, x = p + H, j)) ? _ = $bc4b82f252aed4aa$var$c : (_ = I[P] || $bc4b82f252aed4aa$var$c, I[P] = void 0, j--), $bc4b82f252aed4aa$var$L(n, b, _, i, o, r, f, e, a, v), m = b.__e, (y = b.ref) && _.ref != y && (_.ref && $bc4b82f252aed4aa$var$O(_.ref, null, b), v.push(y, b.__c || m, b)), null != m && (null == w && (w = m), (C = _ === $bc4b82f252aed4aa$var$c || null === _.__v) ? -1 == P && H-- : P !== x && (P === x + 1 ? H++ : P > x ? j > z - x ? H += P - x : H-- : H = P < x && P == x - 1 ? P - x : 0), x = p + H, \"function\" != typeof b.type || P === x && _.__k !== b.__k ? \"function\" == typeof b.type || P === x && !C ? void 0 !== b.__d ? (e = b.__d, b.__d = void 0) : e = m.nextSibling : e = $bc4b82f252aed4aa$var$S(n, m, e) : e = $bc4b82f252aed4aa$var$$(b, e, n), \"function\" == typeof u.type && (u.__d = e))) : (_ = I[p]) && null == _.key && _.__e && (_.__e == e && (e = $bc4b82f252aed4aa$var$g(_)), $bc4b82f252aed4aa$var$q(_, _, !1), I[p] = null);\n    for(u.__e = w, p = T; p--;)null != I[p] && (\"function\" == typeof u.type && null != I[p].__e && I[p].__e == u.__d && (u.__d = I[p].__e.nextSibling), $bc4b82f252aed4aa$var$q(I[p], I[p]));\n}\nfunction $bc4b82f252aed4aa$var$$(n, l, u) {\n    for(var t, i = n.__k, o = 0; i && o < i.length; o++)(t = i[o]) && (t.__ = n, l = \"function\" == typeof t.type ? $bc4b82f252aed4aa$var$$(t, l, u) : $bc4b82f252aed4aa$var$S(u, t.__e, l));\n    return l;\n}\nfunction $bc4b82f252aed4aa$export$47e4c5b300681277(n, l) {\n    return l = l || [], null == n || \"boolean\" == typeof n || ($bc4b82f252aed4aa$var$h(n) ? n.some(function(n) {\n        $bc4b82f252aed4aa$export$47e4c5b300681277(n, l);\n    }) : l.push(n)), l;\n}\nfunction $bc4b82f252aed4aa$var$S(n, l, u) {\n    return null == u || u.parentNode !== n ? n.insertBefore(l, null) : l == u && null != l.parentNode || n.insertBefore(l, u), l.nextSibling;\n}\nfunction $bc4b82f252aed4aa$var$A(n, l, u, t) {\n    var i = n.key, o = n.type, r = u - 1, f = u + 1, e = l[u];\n    if (null === e || e && i == e.key && o === e.type) return u;\n    if (t > (null != e ? 1 : 0)) for(; r >= 0 || f < l.length;){\n        if (r >= 0) {\n            if ((e = l[r]) && i == e.key && o === e.type) return r;\n            r--;\n        }\n        if (f < l.length) {\n            if ((e = l[f]) && i == e.key && o === e.type) return f;\n            f++;\n        }\n    }\n    return -1;\n}\nfunction $bc4b82f252aed4aa$var$H(n, l, u, t, i) {\n    var o;\n    for(o in u)\"children\" === o || \"key\" === o || o in l || $bc4b82f252aed4aa$var$T(n, o, null, u[o], t);\n    for(o in l)i && \"function\" != typeof l[o] || \"children\" === o || \"key\" === o || \"value\" === o || \"checked\" === o || u[o] === l[o] || $bc4b82f252aed4aa$var$T(n, o, l[o], u[o], t);\n}\nfunction $bc4b82f252aed4aa$var$I(n, l, u) {\n    \"-\" === l[0] ? n.setProperty(l, null == u ? \"\" : u) : n[l] = null == u ? \"\" : \"number\" != typeof u || $bc4b82f252aed4aa$var$a.test(l) ? u : u + \"px\";\n}\nfunction $bc4b82f252aed4aa$var$T(n, l, u, t, i) {\n    var o;\n    n: if (\"style\" === l) {\n        if (\"string\" == typeof u) n.style.cssText = u;\n        else {\n            if (\"string\" == typeof t && (n.style.cssText = t = \"\"), t) for(l in t)u && l in u || $bc4b82f252aed4aa$var$I(n.style, l, \"\");\n            if (u) for(l in u)t && u[l] === t[l] || $bc4b82f252aed4aa$var$I(n.style, l, u[l]);\n        }\n    } else if (\"o\" === l[0] && \"n\" === l[1]) o = l !== (l = l.replace(/(PointerCapture)$|Capture$/, \"$1\")), l = l.toLowerCase() in n ? l.toLowerCase().slice(2) : l.slice(2), n.l || (n.l = {}), n.l[l + o] = u, u ? t || n.addEventListener(l, o ? $bc4b82f252aed4aa$var$z : $bc4b82f252aed4aa$var$j, o) : n.removeEventListener(l, o ? $bc4b82f252aed4aa$var$z : $bc4b82f252aed4aa$var$j, o);\n    else if (\"dangerouslySetInnerHTML\" !== l) {\n        if (i) l = l.replace(/xlink(H|:h)/, \"h\").replace(/sName$/, \"s\");\n        else if (\"width\" !== l && \"height\" !== l && \"href\" !== l && \"list\" !== l && \"form\" !== l && \"tabIndex\" !== l && \"download\" !== l && \"rowSpan\" !== l && \"colSpan\" !== l && l in n) try {\n            n[l] = null == u ? \"\" : u;\n            break n;\n        } catch (n) {}\n        \"function\" == typeof u || (null == u || !1 === u && \"-\" !== l[4] ? n.removeAttribute(l) : n.setAttribute(l, u));\n    }\n}\nfunction $bc4b82f252aed4aa$var$j(n) {\n    return this.l[n.type + !1]($bc4b82f252aed4aa$export$41c562ebe57d11e2.event ? $bc4b82f252aed4aa$export$41c562ebe57d11e2.event(n) : n);\n}\nfunction $bc4b82f252aed4aa$var$z(n) {\n    return this.l[n.type + !0]($bc4b82f252aed4aa$export$41c562ebe57d11e2.event ? $bc4b82f252aed4aa$export$41c562ebe57d11e2.event(n) : n);\n}\nfunction $bc4b82f252aed4aa$var$L(n, u, t, i, o, r, f, e, c, s) {\n    var a, p, y, d, _, g, m, w, x, $, C, S, A, H, I, T = u.type;\n    if (void 0 !== u.constructor) return null;\n    null != t.__h && (c = t.__h, e = u.__e = t.__e, u.__h = null, r = [\n        e\n    ]), (a = $bc4b82f252aed4aa$export$41c562ebe57d11e2.__b) && a(u);\n    n: if (\"function\" == typeof T) try {\n        if (w = u.props, x = (a = T.contextType) && i[a.__c], $ = a ? x ? x.props.value : a.__ : i, t.__c ? m = (p = u.__c = t.__c).__ = p.__E : (\"prototype\" in T && T.prototype.render ? u.__c = p = new T(w, $) : (u.__c = p = new $bc4b82f252aed4aa$export$16fa2f45be04daa8(w, $), p.constructor = T, p.render = $bc4b82f252aed4aa$var$B), x && x.sub(p), p.props = w, p.state || (p.state = {}), p.context = $, p.__n = i, y = p.__d = !0, p.__h = [], p._sb = []), null == p.__s && (p.__s = p.state), null != T.getDerivedStateFromProps && (p.__s == p.state && (p.__s = $bc4b82f252aed4aa$var$v({}, p.__s)), $bc4b82f252aed4aa$var$v(p.__s, T.getDerivedStateFromProps(w, p.__s))), d = p.props, _ = p.state, p.__v = u, y) null == T.getDerivedStateFromProps && null != p.componentWillMount && p.componentWillMount(), null != p.componentDidMount && p.__h.push(p.componentDidMount);\n        else {\n            if (null == T.getDerivedStateFromProps && w !== d && null != p.componentWillReceiveProps && p.componentWillReceiveProps(w, $), !p.__e && (null != p.shouldComponentUpdate && !1 === p.shouldComponentUpdate(w, p.__s, $) || u.__v === t.__v)) {\n                for(u.__v !== t.__v && (p.props = w, p.state = p.__s, p.__d = !1), u.__e = t.__e, u.__k = t.__k, u.__k.forEach(function(n) {\n                    n && (n.__ = u);\n                }), C = 0; C < p._sb.length; C++)p.__h.push(p._sb[C]);\n                p._sb = [], p.__h.length && f.push(p);\n                break n;\n            }\n            null != p.componentWillUpdate && p.componentWillUpdate(w, p.__s, $), null != p.componentDidUpdate && p.__h.push(function() {\n                p.componentDidUpdate(d, _, g);\n            });\n        }\n        if (p.context = $, p.props = w, p.__P = n, p.__e = !1, S = $bc4b82f252aed4aa$export$41c562ebe57d11e2.__r, A = 0, \"prototype\" in T && T.prototype.render) {\n            for(p.state = p.__s, p.__d = !1, S && S(u), a = p.render(p.props, p.state, p.context), H = 0; H < p._sb.length; H++)p.__h.push(p._sb[H]);\n            p._sb = [];\n        } else do p.__d = !1, S && S(u), a = p.render(p.props, p.state, p.context), p.state = p.__s;\n        while (p.__d && ++A < 25);\n        p.state = p.__s, null != p.getChildContext && (i = $bc4b82f252aed4aa$var$v($bc4b82f252aed4aa$var$v({}, i), p.getChildContext())), y || null == p.getSnapshotBeforeUpdate || (g = p.getSnapshotBeforeUpdate(d, _)), $bc4b82f252aed4aa$var$P(n, $bc4b82f252aed4aa$var$h(I = null != a && a.type === $bc4b82f252aed4aa$export$ffb0004e005737fa && null == a.key ? a.props.children : a) ? I : [\n            I\n        ], u, t, i, o, r, f, e, c, s), p.base = u.__e, u.__h = null, p.__h.length && f.push(p), m && (p.__E = p.__ = null);\n    } catch (n) {\n        u.__v = null, (c || null != r) && (u.__e = e, u.__h = !!c, r[r.indexOf(e)] = null), $bc4b82f252aed4aa$export$41c562ebe57d11e2.__e(n, u, t);\n    }\n    else null == r && u.__v === t.__v ? (u.__k = t.__k, u.__e = t.__e) : u.__e = $bc4b82f252aed4aa$var$N(t.__e, u, t, i, o, r, f, c, s);\n    (a = $bc4b82f252aed4aa$export$41c562ebe57d11e2.diffed) && a(u);\n}\nfunction $bc4b82f252aed4aa$var$M(n, u, t) {\n    for(var i = 0; i < t.length; i++)$bc4b82f252aed4aa$var$O(t[i], t[++i], t[++i]);\n    $bc4b82f252aed4aa$export$41c562ebe57d11e2.__c && $bc4b82f252aed4aa$export$41c562ebe57d11e2.__c(u, n), n.some(function(u) {\n        try {\n            n = u.__h, u.__h = [], n.some(function(n) {\n                n.call(u);\n            });\n        } catch (n) {\n            $bc4b82f252aed4aa$export$41c562ebe57d11e2.__e(n, u.__v);\n        }\n    });\n}\nfunction $bc4b82f252aed4aa$var$N(l, u, t, i, o, r, f, e, s) {\n    var a, v, y, d = t.props, _ = u.props, k = u.type, b = 0;\n    if (\"svg\" === k && (o = !0), null != r) {\n        for(; b < r.length; b++)if ((a = r[b]) && \"setAttribute\" in a == !!k && (k ? a.localName === k : 3 === a.nodeType)) {\n            l = a, r[b] = null;\n            break;\n        }\n    }\n    if (null == l) {\n        if (null === k) return document.createTextNode(_);\n        l = o ? document.createElementNS(\"http://www.w3.org/2000/svg\", k) : document.createElement(k, _.is && _), r = null, e = !1;\n    }\n    if (null === k) d === _ || e && l.data === _ || (l.data = _);\n    else {\n        if (r = r && $bc4b82f252aed4aa$var$n.call(l.childNodes), v = (d = t.props || $bc4b82f252aed4aa$var$c).dangerouslySetInnerHTML, y = _.dangerouslySetInnerHTML, !e) {\n            if (null != r) for(d = {}, b = 0; b < l.attributes.length; b++)d[l.attributes[b].name] = l.attributes[b].value;\n            (y || v) && (y && (v && y.__html == v.__html || y.__html === l.innerHTML) || (l.innerHTML = y && y.__html || \"\"));\n        }\n        if ($bc4b82f252aed4aa$var$H(l, _, d, o, e), y) u.__k = [];\n        else if ($bc4b82f252aed4aa$var$P(l, $bc4b82f252aed4aa$var$h(b = u.props.children) ? b : [\n            b\n        ], u, t, i, o && \"foreignObject\" !== k, r, f, r ? r[0] : t.__k && $bc4b82f252aed4aa$var$g(t, 0), e, s), null != r) for(b = r.length; b--;)null != r[b] && $bc4b82f252aed4aa$var$p(r[b]);\n        e || (\"value\" in _ && void 0 !== (b = _.value) && (b !== l.value || \"progress\" === k && !b || \"option\" === k && b !== d.value) && $bc4b82f252aed4aa$var$T(l, \"value\", b, d.value, !1), \"checked\" in _ && void 0 !== (b = _.checked) && b !== l.checked && $bc4b82f252aed4aa$var$T(l, \"checked\", b, d.checked, !1));\n    }\n    return l;\n}\nfunction $bc4b82f252aed4aa$var$O(n, u, t) {\n    try {\n        \"function\" == typeof n ? n(u) : n.current = u;\n    } catch (n) {\n        $bc4b82f252aed4aa$export$41c562ebe57d11e2.__e(n, t);\n    }\n}\nfunction $bc4b82f252aed4aa$var$q(n, u, t) {\n    var i, o;\n    if ($bc4b82f252aed4aa$export$41c562ebe57d11e2.unmount && $bc4b82f252aed4aa$export$41c562ebe57d11e2.unmount(n), (i = n.ref) && (i.current && i.current !== n.__e || $bc4b82f252aed4aa$var$O(i, null, u)), null != (i = n.__c)) {\n        if (i.componentWillUnmount) try {\n            i.componentWillUnmount();\n        } catch (n) {\n            $bc4b82f252aed4aa$export$41c562ebe57d11e2.__e(n, u);\n        }\n        i.base = i.__P = null, n.__c = void 0;\n    }\n    if (i = n.__k) for(o = 0; o < i.length; o++)i[o] && $bc4b82f252aed4aa$var$q(i[o], u, t || \"function\" != typeof n.type);\n    t || null == n.__e || $bc4b82f252aed4aa$var$p(n.__e), n.__ = n.__e = n.__d = void 0;\n}\nfunction $bc4b82f252aed4aa$var$B(n, l, u) {\n    return this.constructor(n, u);\n}\nfunction $bc4b82f252aed4aa$export$b3890eb0ae9dca99(u, t, i) {\n    var o, r, f, e;\n    $bc4b82f252aed4aa$export$41c562ebe57d11e2.__ && $bc4b82f252aed4aa$export$41c562ebe57d11e2.__(u, t), r = (o = \"function\" == typeof i) ? null : i && i.__k || t.__k, f = [], e = [], $bc4b82f252aed4aa$var$L(t, u = (!o && i || t).__k = $bc4b82f252aed4aa$export$c8a8987d4410bf2d($bc4b82f252aed4aa$export$ffb0004e005737fa, null, [\n        u\n    ]), r || $bc4b82f252aed4aa$var$c, $bc4b82f252aed4aa$var$c, void 0 !== t.ownerSVGElement, !o && i ? [\n        i\n    ] : r ? null : t.firstChild ? $bc4b82f252aed4aa$var$n.call(t.childNodes) : null, f, !o && i ? i : r ? r.__e : t.firstChild, o, e), $bc4b82f252aed4aa$var$M(f, u, e);\n}\nfunction $bc4b82f252aed4aa$export$fa8d919ba61d84db(n, l) {\n    $bc4b82f252aed4aa$export$b3890eb0ae9dca99(n, l, $bc4b82f252aed4aa$export$fa8d919ba61d84db);\n}\nfunction $bc4b82f252aed4aa$export$e530037191fcd5d7(l, u, t) {\n    var i, o, r, f, e = $bc4b82f252aed4aa$var$v({}, l.props);\n    for(r in l.type && l.type.defaultProps && (f = l.type.defaultProps), u)\"key\" == r ? i = u[r] : \"ref\" == r ? o = u[r] : e[r] = void 0 === u[r] && void 0 !== f ? f[r] : u[r];\n    return arguments.length > 2 && (e.children = arguments.length > 3 ? $bc4b82f252aed4aa$var$n.call(arguments, 2) : t), $bc4b82f252aed4aa$var$d(l.type, e, i || l.key, o || l.ref, null);\n}\nfunction $bc4b82f252aed4aa$export$fd42f52fd3ae1109(n, l) {\n    var u = {\n        __c: l = \"__cC\" + $bc4b82f252aed4aa$var$e++,\n        __: n,\n        Consumer: function(n, l) {\n            return n.children(l);\n        },\n        Provider: function(n) {\n            var u, t;\n            return this.getChildContext || (u = [], (t = {})[l] = this, this.getChildContext = function() {\n                return t;\n            }, this.shouldComponentUpdate = function(n) {\n                this.props.value !== n.value && u.some(function(n) {\n                    n.__e = !0, $bc4b82f252aed4aa$var$w(n);\n                });\n            }, this.sub = function(n) {\n                u.push(n);\n                var l = n.componentWillUnmount;\n                n.componentWillUnmount = function() {\n                    u.splice(u.indexOf(n), 1), l && l.call(n);\n                };\n            }), n.children;\n        }\n    };\n    return u.Provider.__ = u.Consumer.contextType = u;\n}\n$bc4b82f252aed4aa$var$n = $bc4b82f252aed4aa$var$s.slice, $bc4b82f252aed4aa$export$41c562ebe57d11e2 = {\n    __e: function(n, l, u, t) {\n        for(var i, o, r; l = l.__;)if ((i = l.__c) && !i.__) try {\n            if ((o = i.constructor) && null != o.getDerivedStateFromError && (i.setState(o.getDerivedStateFromError(n)), r = i.__d), null != i.componentDidCatch && (i.componentDidCatch(n, t || {}), r = i.__d), r) return i.__E = i;\n        } catch (l) {\n            n = l;\n        }\n        throw n;\n    }\n}, $bc4b82f252aed4aa$var$u = 0, $bc4b82f252aed4aa$export$a8257692ac88316c = function(n) {\n    return null != n && void 0 === n.constructor;\n}, $bc4b82f252aed4aa$export$16fa2f45be04daa8.prototype.setState = function(n, l) {\n    var u;\n    u = null != this.__s && this.__s !== this.state ? this.__s : this.__s = $bc4b82f252aed4aa$var$v({}, this.state), \"function\" == typeof n && (n = n($bc4b82f252aed4aa$var$v({}, u), this.props)), n && $bc4b82f252aed4aa$var$v(u, n), null != n && this.__v && (l && this._sb.push(l), $bc4b82f252aed4aa$var$w(this));\n}, $bc4b82f252aed4aa$export$16fa2f45be04daa8.prototype.forceUpdate = function(n) {\n    this.__v && (this.__e = !0, n && this.__h.push(n), $bc4b82f252aed4aa$var$w(this));\n}, $bc4b82f252aed4aa$export$16fa2f45be04daa8.prototype.render = $bc4b82f252aed4aa$export$ffb0004e005737fa, $bc4b82f252aed4aa$var$i = [], $bc4b82f252aed4aa$var$r = \"function\" == typeof Promise ? Promise.prototype.then.bind(Promise.resolve()) : setTimeout, $bc4b82f252aed4aa$var$f = function(n, l) {\n    return n.__v.__b - l.__v.__b;\n}, $bc4b82f252aed4aa$var$x.__r = 0, $bc4b82f252aed4aa$var$e = 0;\n\n\n\nconst $965d8b034b5a035b$var$alert = {\n    remove: (id)=>document.getElementById(id).outerHTML = \"\",\n    add: (text, alertStyle = \"alert-success\", countdown = 5000)=>{\n        if (!text) return;\n        let alertNode = document.createElement(\"DIV\");\n        alertNode.id = $965d8b034b5a035b$var$alert.hash(text);\n        alertNode.innerHTML = text;\n        alertNode.classList.add(\"global-alert\", \"alert\", alertStyle);\n        document.body.appendChild(alertNode);\n        setTimeout(()=>$965d8b034b5a035b$var$alert.remove(alertNode.id), countdown);\n    },\n    hash: (str)=>{\n        let hash = 0;\n        if (str.length == 0) return hash;\n        for(let i = 0; i < str.length; i++){\n            let char = str.charCodeAt(i);\n            hash = (hash << 5) - hash + char;\n            hash = hash & hash; // Convert to 32bit integer\n        }\n        return hash;\n    }\n};\nvar $965d8b034b5a035b$export$2e2bcd8739ae039 = $965d8b034b5a035b$var$alert;\n\n\n\nconst $15bf00c5a9ebafaa$var$storage = {\n    usage: ()=>{\n        let total = 0;\n        let k;\n        for(k in localStorage)if (Object.prototype.hasOwnProperty.call(localStorage, k)) total += (localStorage[k].length + k.length) * 2;\n        return total;\n    },\n    createStorageBox: (data, metadata = null)=>({\n            data: data,\n            createdAt: Date.now(),\n            metadata: metadata\n        }),\n    remove: (id)=>localStorage.removeItem(id),\n    set: (id, data, metadata = null)=>{\n        localStorage.setItem(id, JSON.stringify($15bf00c5a9ebafaa$var$storage.createStorageBox(data, metadata)));\n        return Promise.resolve(id);\n    },\n    get: (id)=>{\n        let data = localStorage.getItem(id);\n        if (data != null) {\n            data = JSON.parse(data);\n            if (Object.prototype.hasOwnProperty.call(data, \"data\")) return new Promise((r)=>r(data.data));\n        }\n        return new Promise((r)=>r(null));\n    },\n    reset: ()=>localStorage.clear() && window.dispatchEvent(new CustomEvent(\"resetStorage\"))\n};\nvar $15bf00c5a9ebafaa$export$2e2bcd8739ae039 = $15bf00c5a9ebafaa$var$storage;\n\n\n\n\nlet $491ff7c3dd9b8d76$export$5f80af4e66cab974 = (modules)=>{\n    let events = {};\n    let state = {};\n    let store = {\n        dispatch (event, data) {\n            if (event !== \"@dispatch\") store.dispatch(\"@dispatch\", [\n                event,\n                data,\n                events[event]\n            ]);\n            if (events[event]) {\n                let changes;\n                events[event].forEach((i)=>{\n                    let diff = events[event].includes(i) && i(state, data, store);\n                    if (diff && typeof diff.then !== \"function\") {\n                        state = {\n                            ...state,\n                            ...diff\n                        };\n                        changes = {\n                            ...changes,\n                            ...diff\n                        };\n                    }\n                });\n                if (changes) store.dispatch(\"@changed\", changes);\n            }\n        },\n        get: ()=>state,\n        on (event, cb) {\n            (events[event] || (events[event] = [])).push(cb);\n            return ()=>{\n                events[event] = events[event].filter((i)=>i !== cb);\n            };\n        }\n    };\n    modules.forEach((i)=>{\n        if (i) i(store);\n    });\n    store.dispatch(\"@init\");\n    return store;\n};\n\n\n//import { http } from \"/src/core\";\nconst $35d12cd49d83bbb5$export$bd17ce0bf3001bf8 = (store)=>{\n    store.on(\"@init\", ()=>({\n            me: {}\n        }));\n    store.on(\"me/update\", (state, me)=>{\n        return {\n            me: me\n        };\n    });\n};\n\n\nconst $5b06cd5848fcf3de$export$10417fa5fd48c90a = (store)=>{\n    store.on(\"@init\", ()=>({\n            api: {}\n        }));\n    store.on(\"api/update\", (state, api)=>{\n        return {\n            api: api\n        };\n    });\n};\n\n\nconst $fe332474b2073912$export$1a062524560abcaa = (store)=>{\n    store.on(\"@init\", ()=>({\n            route: \"\",\n            id: \"\",\n            action: \"\",\n            backUrl: \"\",\n            entityType: \"\",\n            search: \"\",\n            entity: {}\n        }));\n    store.on(\"router/update\", (_, newState)=>{\n        return {\n            entity: newState.entity,\n            backUrl: newState.backUrl\n        };\n    });\n};\n\n\nconst $466d4c407aaa4ef8$export$21b66e234e71aa95 = (store)=>{\n    store.on(\"@init\", ()=>({\n            notifications: []\n        }));\n    store.on(\"notifications/update\", (state, notifications = [])=>{\n        return {\n            notifications: notifications\n        };\n    });\n    store.on(\"notifications/remove\", (state, notification)=>{\n        return {\n            notifications: state.notifications.filter((n)=>n.id != notification.id)\n        };\n    });\n    store.on(\"notifications/read\", (state, notification)=>{\n        return {\n            notifications: state.notifications.map((n)=>n.id === notification.id ? Object.assign(n, {\n                    read: true\n                }) : n)\n        };\n    });\n};\n\n\n\nconst $cc0bd27b7507f491$export$336a589663e3f2e0 = (store)=>{\n    store.on(\"@init\", ()=>({\n            bookmarks: []\n        }));\n    store.on(\"bookmarks/update\", (state, bookmarks = [])=>{\n        return {\n            bookmarks: bookmarks\n        };\n    });\n    store.on(\"bookmark/remove\", (state, bookmark)=>{\n        (0, $ba05c0ef8a781e02$export$7d6f1c8842f9f527).delete(`/api/bookmarks/${bookmark.id}`);\n        return {\n            bookmarks: state.bookmarks.filter((b)=>b.id != bookmark.id)\n        };\n    });\n    store.on(\"bookmark/add\", (state, message_id)=>{\n        (0, $ba05c0ef8a781e02$export$7d6f1c8842f9f527).post(\"/api/bookmarks\", {\n            message_id: message_id\n        }).then((bookmark)=>{\n            store.dispatch(\"bookmarks/update\", [\n                ...state.bookmarks,\n                bookmark\n            ]);\n        });\n    });\n};\n\n\nconst $5e4e939c48db0130$var$store = (0, $491ff7c3dd9b8d76$export$5f80af4e66cab974)([\n    (0, $5b06cd5848fcf3de$export$10417fa5fd48c90a),\n    (0, $35d12cd49d83bbb5$export$bd17ce0bf3001bf8),\n    (0, $fe332474b2073912$export$1a062524560abcaa),\n    (0, $466d4c407aaa4ef8$export$21b66e234e71aa95),\n    (0, $cc0bd27b7507f491$export$336a589663e3f2e0)\n]);\nvar $5e4e939c48db0130$export$2e2bcd8739ae039 = $5e4e939c48db0130$var$store;\n\n\nconst $d7301ad24121e92e$var$consoleLogger = {\n    type: \"logger\",\n    log (args) {\n        this.output(\"log\", args);\n    },\n    warn (args) {\n        this.output(\"warn\", args);\n    },\n    error (args) {\n        this.output(\"error\", args);\n    },\n    output (type, args) {\n        if (console && console[type]) console[type].apply(console, args);\n    }\n};\nclass $d7301ad24121e92e$var$Logger {\n    constructor(concreteLogger){\n        let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        this.init(concreteLogger, options);\n    }\n    init(concreteLogger) {\n        let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        this.prefix = options.prefix || \"i18next:\";\n        this.logger = concreteLogger || $d7301ad24121e92e$var$consoleLogger;\n        this.options = options;\n        this.debug = options.debug;\n    }\n    log() {\n        for(var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++)args[_key] = arguments[_key];\n        return this.forward(args, \"log\", \"\", true);\n    }\n    warn() {\n        for(var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++)args[_key2] = arguments[_key2];\n        return this.forward(args, \"warn\", \"\", true);\n    }\n    error() {\n        for(var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++)args[_key3] = arguments[_key3];\n        return this.forward(args, \"error\", \"\");\n    }\n    deprecate() {\n        for(var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++)args[_key4] = arguments[_key4];\n        return this.forward(args, \"warn\", \"WARNING DEPRECATED: \", true);\n    }\n    forward(args, lvl, prefix, debugOnly) {\n        if (debugOnly && !this.debug) return null;\n        if (typeof args[0] === \"string\") args[0] = `${prefix}${this.prefix} ${args[0]}`;\n        return this.logger[lvl](args);\n    }\n    create(moduleName) {\n        return new $d7301ad24121e92e$var$Logger(this.logger, {\n            prefix: `${this.prefix}:${moduleName}:`,\n            ...this.options\n        });\n    }\n    clone(options) {\n        options = options || this.options;\n        options.prefix = options.prefix || this.prefix;\n        return new $d7301ad24121e92e$var$Logger(this.logger, options);\n    }\n}\nvar $d7301ad24121e92e$var$baseLogger = new $d7301ad24121e92e$var$Logger();\nclass $d7301ad24121e92e$var$EventEmitter {\n    constructor(){\n        this.observers = {};\n    }\n    on(events, listener) {\n        events.split(\" \").forEach((event)=>{\n            this.observers[event] = this.observers[event] || [];\n            this.observers[event].push(listener);\n        });\n        return this;\n    }\n    off(event, listener) {\n        if (!this.observers[event]) return;\n        if (!listener) {\n            delete this.observers[event];\n            return;\n        }\n        this.observers[event] = this.observers[event].filter((l)=>l !== listener);\n    }\n    emit(event) {\n        for(var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++)args[_key - 1] = arguments[_key];\n        if (this.observers[event]) {\n            const cloned = [].concat(this.observers[event]);\n            cloned.forEach((observer)=>{\n                observer(...args);\n            });\n        }\n        if (this.observers[\"*\"]) {\n            const cloned = [].concat(this.observers[\"*\"]);\n            cloned.forEach((observer)=>{\n                observer.apply(observer, [\n                    event,\n                    ...args\n                ]);\n            });\n        }\n    }\n}\nfunction $d7301ad24121e92e$var$defer() {\n    let res;\n    let rej;\n    const promise = new Promise((resolve, reject)=>{\n        res = resolve;\n        rej = reject;\n    });\n    promise.resolve = res;\n    promise.reject = rej;\n    return promise;\n}\nfunction $d7301ad24121e92e$var$makeString(object) {\n    if (object == null) return \"\";\n    return \"\" + object;\n}\nfunction $d7301ad24121e92e$var$copy(a, s, t) {\n    a.forEach((m)=>{\n        if (s[m]) t[m] = s[m];\n    });\n}\nfunction $d7301ad24121e92e$var$getLastOfPath(object, path, Empty) {\n    function cleanKey(key) {\n        return key && key.indexOf(\"###\") > -1 ? key.replace(/###/g, \".\") : key;\n    }\n    function canNotTraverseDeeper() {\n        return !object || typeof object === \"string\";\n    }\n    const stack = typeof path !== \"string\" ? [].concat(path) : path.split(\".\");\n    while(stack.length > 1){\n        if (canNotTraverseDeeper()) return {};\n        const key = cleanKey(stack.shift());\n        if (!object[key] && Empty) object[key] = new Empty();\n        if (Object.prototype.hasOwnProperty.call(object, key)) object = object[key];\n        else object = {};\n    }\n    if (canNotTraverseDeeper()) return {};\n    return {\n        obj: object,\n        k: cleanKey(stack.shift())\n    };\n}\nfunction $d7301ad24121e92e$var$setPath(object, path, newValue) {\n    const { obj: obj, k: k } = $d7301ad24121e92e$var$getLastOfPath(object, path, Object);\n    obj[k] = newValue;\n}\nfunction $d7301ad24121e92e$var$pushPath(object, path, newValue, concat) {\n    const { obj: obj, k: k } = $d7301ad24121e92e$var$getLastOfPath(object, path, Object);\n    obj[k] = obj[k] || [];\n    if (concat) obj[k] = obj[k].concat(newValue);\n    if (!concat) obj[k].push(newValue);\n}\nfunction $d7301ad24121e92e$var$getPath(object, path) {\n    const { obj: obj, k: k } = $d7301ad24121e92e$var$getLastOfPath(object, path);\n    if (!obj) return undefined;\n    return obj[k];\n}\nfunction $d7301ad24121e92e$var$getPathWithDefaults(data, defaultData, key) {\n    const value = $d7301ad24121e92e$var$getPath(data, key);\n    if (value !== undefined) return value;\n    return $d7301ad24121e92e$var$getPath(defaultData, key);\n}\nfunction $d7301ad24121e92e$var$deepExtend(target, source, overwrite) {\n    for(const prop in source)if (prop !== \"__proto__\" && prop !== \"constructor\") {\n        if (prop in target) {\n            if (typeof target[prop] === \"string\" || target[prop] instanceof String || typeof source[prop] === \"string\" || source[prop] instanceof String) {\n                if (overwrite) target[prop] = source[prop];\n            } else $d7301ad24121e92e$var$deepExtend(target[prop], source[prop], overwrite);\n        } else target[prop] = source[prop];\n    }\n    return target;\n}\nfunction $d7301ad24121e92e$var$regexEscape(str) {\n    return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\");\n}\nvar $d7301ad24121e92e$var$_entityMap = {\n    \"&\": \"&amp;\",\n    \"<\": \"&lt;\",\n    \">\": \"&gt;\",\n    '\"': \"&quot;\",\n    \"'\": \"&#39;\",\n    \"/\": \"&#x2F;\"\n};\nfunction $d7301ad24121e92e$var$escape(data) {\n    if (typeof data === \"string\") return data.replace(/[&<>\"'\\/]/g, (s)=>$d7301ad24121e92e$var$_entityMap[s]);\n    return data;\n}\nconst $d7301ad24121e92e$var$chars = [\n    \" \",\n    \",\",\n    \"?\",\n    \"!\",\n    \";\"\n];\nfunction $d7301ad24121e92e$var$looksLikeObjectPath(key, nsSeparator, keySeparator) {\n    nsSeparator = nsSeparator || \"\";\n    keySeparator = keySeparator || \"\";\n    const possibleChars = $d7301ad24121e92e$var$chars.filter((c)=>nsSeparator.indexOf(c) < 0 && keySeparator.indexOf(c) < 0);\n    if (possibleChars.length === 0) return true;\n    const r = new RegExp(`(${possibleChars.map((c)=>c === \"?\" ? \"\\\\?\" : c).join(\"|\")})`);\n    let matched = !r.test(key);\n    if (!matched) {\n        const ki = key.indexOf(keySeparator);\n        if (ki > 0 && !r.test(key.substring(0, ki))) matched = true;\n    }\n    return matched;\n}\nfunction $d7301ad24121e92e$var$deepFind(obj, path) {\n    let keySeparator = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \".\";\n    if (!obj) return undefined;\n    if (obj[path]) return obj[path];\n    const paths = path.split(keySeparator);\n    let current = obj;\n    for(let i = 0; i < paths.length; ++i){\n        if (!current) return undefined;\n        if (typeof current[paths[i]] === \"string\" && i + 1 < paths.length) return undefined;\n        if (current[paths[i]] === undefined) {\n            let j = 2;\n            let p = paths.slice(i, i + j).join(keySeparator);\n            let mix = current[p];\n            while(mix === undefined && paths.length > i + j){\n                j++;\n                p = paths.slice(i, i + j).join(keySeparator);\n                mix = current[p];\n            }\n            if (mix === undefined) return undefined;\n            if (mix === null) return null;\n            if (path.endsWith(p)) {\n                if (typeof mix === \"string\") return mix;\n                if (p && typeof mix[p] === \"string\") return mix[p];\n            }\n            const joinedPath = paths.slice(i + j).join(keySeparator);\n            if (joinedPath) return $d7301ad24121e92e$var$deepFind(mix, joinedPath, keySeparator);\n            return undefined;\n        }\n        current = current[paths[i]];\n    }\n    return current;\n}\nfunction $d7301ad24121e92e$var$getCleanedCode(code) {\n    if (code && code.indexOf(\"_\") > 0) return code.replace(\"_\", \"-\");\n    return code;\n}\nclass $d7301ad24121e92e$var$ResourceStore extends $d7301ad24121e92e$var$EventEmitter {\n    constructor(data){\n        let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n            ns: [\n                \"translation\"\n            ],\n            defaultNS: \"translation\"\n        };\n        super();\n        this.data = data || {};\n        this.options = options;\n        if (this.options.keySeparator === undefined) this.options.keySeparator = \".\";\n        if (this.options.ignoreJSONStructure === undefined) this.options.ignoreJSONStructure = true;\n    }\n    addNamespaces(ns) {\n        if (this.options.ns.indexOf(ns) < 0) this.options.ns.push(ns);\n    }\n    removeNamespaces(ns) {\n        const index = this.options.ns.indexOf(ns);\n        if (index > -1) this.options.ns.splice(index, 1);\n    }\n    getResource(lng, ns, key) {\n        let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n        const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n        const ignoreJSONStructure = options.ignoreJSONStructure !== undefined ? options.ignoreJSONStructure : this.options.ignoreJSONStructure;\n        let path = [\n            lng,\n            ns\n        ];\n        if (key && typeof key !== \"string\") path = path.concat(key);\n        if (key && typeof key === \"string\") path = path.concat(keySeparator ? key.split(keySeparator) : key);\n        if (lng.indexOf(\".\") > -1) path = lng.split(\".\");\n        const result = $d7301ad24121e92e$var$getPath(this.data, path);\n        if (result || !ignoreJSONStructure || typeof key !== \"string\") return result;\n        return $d7301ad24121e92e$var$deepFind(this.data && this.data[lng] && this.data[lng][ns], key, keySeparator);\n    }\n    addResource(lng, ns, key, value) {\n        let options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {\n            silent: false\n        };\n        const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n        let path = [\n            lng,\n            ns\n        ];\n        if (key) path = path.concat(keySeparator ? key.split(keySeparator) : key);\n        if (lng.indexOf(\".\") > -1) {\n            path = lng.split(\".\");\n            value = ns;\n            ns = path[1];\n        }\n        this.addNamespaces(ns);\n        $d7301ad24121e92e$var$setPath(this.data, path, value);\n        if (!options.silent) this.emit(\"added\", lng, ns, key, value);\n    }\n    addResources(lng, ns, resources) {\n        let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {\n            silent: false\n        };\n        for(const m in resources)if (typeof resources[m] === \"string\" || Object.prototype.toString.apply(resources[m]) === \"[object Array]\") this.addResource(lng, ns, m, resources[m], {\n            silent: true\n        });\n        if (!options.silent) this.emit(\"added\", lng, ns, resources);\n    }\n    addResourceBundle(lng, ns, resources, deep, overwrite) {\n        let options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {\n            silent: false\n        };\n        let path = [\n            lng,\n            ns\n        ];\n        if (lng.indexOf(\".\") > -1) {\n            path = lng.split(\".\");\n            deep = resources;\n            resources = ns;\n            ns = path[1];\n        }\n        this.addNamespaces(ns);\n        let pack = $d7301ad24121e92e$var$getPath(this.data, path) || {};\n        if (deep) $d7301ad24121e92e$var$deepExtend(pack, resources, overwrite);\n        else pack = {\n            ...pack,\n            ...resources\n        };\n        $d7301ad24121e92e$var$setPath(this.data, path, pack);\n        if (!options.silent) this.emit(\"added\", lng, ns, resources);\n    }\n    removeResourceBundle(lng, ns) {\n        if (this.hasResourceBundle(lng, ns)) delete this.data[lng][ns];\n        this.removeNamespaces(ns);\n        this.emit(\"removed\", lng, ns);\n    }\n    hasResourceBundle(lng, ns) {\n        return this.getResource(lng, ns) !== undefined;\n    }\n    getResourceBundle(lng, ns) {\n        if (!ns) ns = this.options.defaultNS;\n        if (this.options.compatibilityAPI === \"v1\") return {\n            ...this.getResource(lng, ns)\n        };\n        return this.getResource(lng, ns);\n    }\n    getDataByLanguage(lng) {\n        return this.data[lng];\n    }\n    hasLanguageSomeTranslations(lng) {\n        const data = this.getDataByLanguage(lng);\n        const n = data && Object.keys(data) || [];\n        return !!n.find((v)=>data[v] && Object.keys(data[v]).length > 0);\n    }\n    toJSON() {\n        return this.data;\n    }\n}\nvar $d7301ad24121e92e$var$postProcessor = {\n    processors: {},\n    addPostProcessor (module) {\n        this.processors[module.name] = module;\n    },\n    handle (processors, value, key, options, translator) {\n        processors.forEach((processor)=>{\n            if (this.processors[processor]) value = this.processors[processor].process(value, key, options, translator);\n        });\n        return value;\n    }\n};\nconst $d7301ad24121e92e$var$checkedLoadedFor = {};\nclass $d7301ad24121e92e$var$Translator extends $d7301ad24121e92e$var$EventEmitter {\n    constructor(services){\n        let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        super();\n        $d7301ad24121e92e$var$copy([\n            \"resourceStore\",\n            \"languageUtils\",\n            \"pluralResolver\",\n            \"interpolator\",\n            \"backendConnector\",\n            \"i18nFormat\",\n            \"utils\"\n        ], services, this);\n        this.options = options;\n        if (this.options.keySeparator === undefined) this.options.keySeparator = \".\";\n        this.logger = $d7301ad24121e92e$var$baseLogger.create(\"translator\");\n    }\n    changeLanguage(lng) {\n        if (lng) this.language = lng;\n    }\n    exists(key) {\n        let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n            interpolation: {}\n        };\n        if (key === undefined || key === null) return false;\n        const resolved = this.resolve(key, options);\n        return resolved && resolved.res !== undefined;\n    }\n    extractFromKey(key, options) {\n        let nsSeparator = options.nsSeparator !== undefined ? options.nsSeparator : this.options.nsSeparator;\n        if (nsSeparator === undefined) nsSeparator = \":\";\n        const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n        let namespaces = options.ns || this.options.defaultNS || [];\n        const wouldCheckForNsInKey = nsSeparator && key.indexOf(nsSeparator) > -1;\n        const seemsNaturalLanguage = !this.options.userDefinedKeySeparator && !options.keySeparator && !this.options.userDefinedNsSeparator && !options.nsSeparator && !$d7301ad24121e92e$var$looksLikeObjectPath(key, nsSeparator, keySeparator);\n        if (wouldCheckForNsInKey && !seemsNaturalLanguage) {\n            const m = key.match(this.interpolator.nestingRegexp);\n            if (m && m.length > 0) return {\n                key: key,\n                namespaces: namespaces\n            };\n            const parts = key.split(nsSeparator);\n            if (nsSeparator !== keySeparator || nsSeparator === keySeparator && this.options.ns.indexOf(parts[0]) > -1) namespaces = parts.shift();\n            key = parts.join(keySeparator);\n        }\n        if (typeof namespaces === \"string\") namespaces = [\n            namespaces\n        ];\n        return {\n            key: key,\n            namespaces: namespaces\n        };\n    }\n    translate(keys, options, lastKey) {\n        if (typeof options !== \"object\" && this.options.overloadTranslationOptionHandler) options = this.options.overloadTranslationOptionHandler(arguments);\n        if (typeof options === \"object\") options = {\n            ...options\n        };\n        if (!options) options = {};\n        if (keys === undefined || keys === null) return \"\";\n        if (!Array.isArray(keys)) keys = [\n            String(keys)\n        ];\n        const returnDetails = options.returnDetails !== undefined ? options.returnDetails : this.options.returnDetails;\n        const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n        const { key: key, namespaces: namespaces } = this.extractFromKey(keys[keys.length - 1], options);\n        const namespace = namespaces[namespaces.length - 1];\n        const lng = options.lng || this.language;\n        const appendNamespaceToCIMode = options.appendNamespaceToCIMode || this.options.appendNamespaceToCIMode;\n        if (lng && lng.toLowerCase() === \"cimode\") {\n            if (appendNamespaceToCIMode) {\n                const nsSeparator = options.nsSeparator || this.options.nsSeparator;\n                if (returnDetails) return {\n                    res: `${namespace}${nsSeparator}${key}`,\n                    usedKey: key,\n                    exactUsedKey: key,\n                    usedLng: lng,\n                    usedNS: namespace\n                };\n                return `${namespace}${nsSeparator}${key}`;\n            }\n            if (returnDetails) return {\n                res: key,\n                usedKey: key,\n                exactUsedKey: key,\n                usedLng: lng,\n                usedNS: namespace\n            };\n            return key;\n        }\n        const resolved = this.resolve(keys, options);\n        let res = resolved && resolved.res;\n        const resUsedKey = resolved && resolved.usedKey || key;\n        const resExactUsedKey = resolved && resolved.exactUsedKey || key;\n        const resType = Object.prototype.toString.apply(res);\n        const noObject = [\n            \"[object Number]\",\n            \"[object Function]\",\n            \"[object RegExp]\"\n        ];\n        const joinArrays = options.joinArrays !== undefined ? options.joinArrays : this.options.joinArrays;\n        const handleAsObjectInI18nFormat = !this.i18nFormat || this.i18nFormat.handleAsObject;\n        const handleAsObject = typeof res !== \"string\" && typeof res !== \"boolean\" && typeof res !== \"number\";\n        if (handleAsObjectInI18nFormat && res && handleAsObject && noObject.indexOf(resType) < 0 && !(typeof joinArrays === \"string\" && resType === \"[object Array]\")) {\n            if (!options.returnObjects && !this.options.returnObjects) {\n                if (!this.options.returnedObjectHandler) this.logger.warn(\"accessing an object - but returnObjects options is not enabled!\");\n                const r = this.options.returnedObjectHandler ? this.options.returnedObjectHandler(resUsedKey, res, {\n                    ...options,\n                    ns: namespaces\n                }) : `key '${key} (${this.language})' returned an object instead of string.`;\n                if (returnDetails) {\n                    resolved.res = r;\n                    return resolved;\n                }\n                return r;\n            }\n            if (keySeparator) {\n                const resTypeIsArray = resType === \"[object Array]\";\n                const copy = resTypeIsArray ? [] : {};\n                const newKeyToUse = resTypeIsArray ? resExactUsedKey : resUsedKey;\n                for(const m in res)if (Object.prototype.hasOwnProperty.call(res, m)) {\n                    const deepKey = `${newKeyToUse}${keySeparator}${m}`;\n                    copy[m] = this.translate(deepKey, {\n                        ...options,\n                        joinArrays: false,\n                        ns: namespaces\n                    });\n                    if (copy[m] === deepKey) copy[m] = res[m];\n                }\n                res = copy;\n            }\n        } else if (handleAsObjectInI18nFormat && typeof joinArrays === \"string\" && resType === \"[object Array]\") {\n            res = res.join(joinArrays);\n            if (res) res = this.extendTranslation(res, keys, options, lastKey);\n        } else {\n            let usedDefault = false;\n            let usedKey = false;\n            const needsPluralHandling = options.count !== undefined && typeof options.count !== \"string\";\n            const hasDefaultValue = $d7301ad24121e92e$var$Translator.hasDefaultValue(options);\n            const defaultValueSuffix = needsPluralHandling ? this.pluralResolver.getSuffix(lng, options.count, options) : \"\";\n            const defaultValueSuffixOrdinalFallback = options.ordinal && needsPluralHandling ? this.pluralResolver.getSuffix(lng, options.count, {\n                ordinal: false\n            }) : \"\";\n            const defaultValue = options[`defaultValue${defaultValueSuffix}`] || options[`defaultValue${defaultValueSuffixOrdinalFallback}`] || options.defaultValue;\n            if (!this.isValidLookup(res) && hasDefaultValue) {\n                usedDefault = true;\n                res = defaultValue;\n            }\n            if (!this.isValidLookup(res)) {\n                usedKey = true;\n                res = key;\n            }\n            const missingKeyNoValueFallbackToKey = options.missingKeyNoValueFallbackToKey || this.options.missingKeyNoValueFallbackToKey;\n            const resForMissing = missingKeyNoValueFallbackToKey && usedKey ? undefined : res;\n            const updateMissing = hasDefaultValue && defaultValue !== res && this.options.updateMissing;\n            if (usedKey || usedDefault || updateMissing) {\n                this.logger.log(updateMissing ? \"updateKey\" : \"missingKey\", lng, namespace, key, updateMissing ? defaultValue : res);\n                if (keySeparator) {\n                    const fk = this.resolve(key, {\n                        ...options,\n                        keySeparator: false\n                    });\n                    if (fk && fk.res) this.logger.warn(\"Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.\");\n                }\n                let lngs = [];\n                const fallbackLngs = this.languageUtils.getFallbackCodes(this.options.fallbackLng, options.lng || this.language);\n                if (this.options.saveMissingTo === \"fallback\" && fallbackLngs && fallbackLngs[0]) for(let i = 0; i < fallbackLngs.length; i++)lngs.push(fallbackLngs[i]);\n                else if (this.options.saveMissingTo === \"all\") lngs = this.languageUtils.toResolveHierarchy(options.lng || this.language);\n                else lngs.push(options.lng || this.language);\n                const send = (l, k, specificDefaultValue)=>{\n                    const defaultForMissing = hasDefaultValue && specificDefaultValue !== res ? specificDefaultValue : resForMissing;\n                    if (this.options.missingKeyHandler) this.options.missingKeyHandler(l, namespace, k, defaultForMissing, updateMissing, options);\n                    else if (this.backendConnector && this.backendConnector.saveMissing) this.backendConnector.saveMissing(l, namespace, k, defaultForMissing, updateMissing, options);\n                    this.emit(\"missingKey\", l, namespace, k, res);\n                };\n                if (this.options.saveMissing) {\n                    if (this.options.saveMissingPlurals && needsPluralHandling) lngs.forEach((language)=>{\n                        this.pluralResolver.getSuffixes(language, options).forEach((suffix)=>{\n                            send([\n                                language\n                            ], key + suffix, options[`defaultValue${suffix}`] || defaultValue);\n                        });\n                    });\n                    else send(lngs, key, defaultValue);\n                }\n            }\n            res = this.extendTranslation(res, keys, options, resolved, lastKey);\n            if (usedKey && res === key && this.options.appendNamespaceToMissingKey) res = `${namespace}:${key}`;\n            if ((usedKey || usedDefault) && this.options.parseMissingKeyHandler) {\n                if (this.options.compatibilityAPI !== \"v1\") res = this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey ? `${namespace}:${key}` : key, usedDefault ? res : undefined);\n                else res = this.options.parseMissingKeyHandler(res);\n            }\n        }\n        if (returnDetails) {\n            resolved.res = res;\n            return resolved;\n        }\n        return res;\n    }\n    extendTranslation(res, key, options, resolved, lastKey) {\n        var _this = this;\n        if (this.i18nFormat && this.i18nFormat.parse) res = this.i18nFormat.parse(res, {\n            ...this.options.interpolation.defaultVariables,\n            ...options\n        }, options.lng || this.language || resolved.usedLng, resolved.usedNS, resolved.usedKey, {\n            resolved: resolved\n        });\n        else if (!options.skipInterpolation) {\n            if (options.interpolation) this.interpolator.init({\n                ...options,\n                interpolation: {\n                    ...this.options.interpolation,\n                    ...options.interpolation\n                }\n            });\n            const skipOnVariables = typeof res === \"string\" && (options && options.interpolation && options.interpolation.skipOnVariables !== undefined ? options.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables);\n            let nestBef;\n            if (skipOnVariables) {\n                const nb = res.match(this.interpolator.nestingRegexp);\n                nestBef = nb && nb.length;\n            }\n            let data = options.replace && typeof options.replace !== \"string\" ? options.replace : options;\n            if (this.options.interpolation.defaultVariables) data = {\n                ...this.options.interpolation.defaultVariables,\n                ...data\n            };\n            res = this.interpolator.interpolate(res, data, options.lng || this.language, options);\n            if (skipOnVariables) {\n                const na = res.match(this.interpolator.nestingRegexp);\n                const nestAft = na && na.length;\n                if (nestBef < nestAft) options.nest = false;\n            }\n            if (!options.lng && this.options.compatibilityAPI !== \"v1\" && resolved && resolved.res) options.lng = resolved.usedLng;\n            if (options.nest !== false) res = this.interpolator.nest(res, function() {\n                for(var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++)args[_key] = arguments[_key];\n                if (lastKey && lastKey[0] === args[0] && !options.context) {\n                    _this.logger.warn(`It seems you are nesting recursively key: ${args[0]} in key: ${key[0]}`);\n                    return null;\n                }\n                return _this.translate(...args, key);\n            }, options);\n            if (options.interpolation) this.interpolator.reset();\n        }\n        const postProcess = options.postProcess || this.options.postProcess;\n        const postProcessorNames = typeof postProcess === \"string\" ? [\n            postProcess\n        ] : postProcess;\n        if (res !== undefined && res !== null && postProcessorNames && postProcessorNames.length && options.applyPostProcessor !== false) res = $d7301ad24121e92e$var$postProcessor.handle(postProcessorNames, res, key, this.options && this.options.postProcessPassResolved ? {\n            i18nResolved: resolved,\n            ...options\n        } : options, this);\n        return res;\n    }\n    resolve(keys) {\n        let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        let found;\n        let usedKey;\n        let exactUsedKey;\n        let usedLng;\n        let usedNS;\n        if (typeof keys === \"string\") keys = [\n            keys\n        ];\n        keys.forEach((k)=>{\n            if (this.isValidLookup(found)) return;\n            const extracted = this.extractFromKey(k, options);\n            const key = extracted.key;\n            usedKey = key;\n            let namespaces = extracted.namespaces;\n            if (this.options.fallbackNS) namespaces = namespaces.concat(this.options.fallbackNS);\n            const needsPluralHandling = options.count !== undefined && typeof options.count !== \"string\";\n            const needsZeroSuffixLookup = needsPluralHandling && !options.ordinal && options.count === 0 && this.pluralResolver.shouldUseIntlApi();\n            const needsContextHandling = options.context !== undefined && (typeof options.context === \"string\" || typeof options.context === \"number\") && options.context !== \"\";\n            const codes = options.lngs ? options.lngs : this.languageUtils.toResolveHierarchy(options.lng || this.language, options.fallbackLng);\n            namespaces.forEach((ns)=>{\n                if (this.isValidLookup(found)) return;\n                usedNS = ns;\n                if (!$d7301ad24121e92e$var$checkedLoadedFor[`${codes[0]}-${ns}`] && this.utils && this.utils.hasLoadedNamespace && !this.utils.hasLoadedNamespace(usedNS)) {\n                    $d7301ad24121e92e$var$checkedLoadedFor[`${codes[0]}-${ns}`] = true;\n                    this.logger.warn(`key \"${usedKey}\" for languages \"${codes.join(\", \")}\" won't get resolved as namespace \"${usedNS}\" was not yet loaded`, \"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!\");\n                }\n                codes.forEach((code)=>{\n                    if (this.isValidLookup(found)) return;\n                    usedLng = code;\n                    const finalKeys = [\n                        key\n                    ];\n                    if (this.i18nFormat && this.i18nFormat.addLookupKeys) this.i18nFormat.addLookupKeys(finalKeys, key, code, ns, options);\n                    else {\n                        let pluralSuffix;\n                        if (needsPluralHandling) pluralSuffix = this.pluralResolver.getSuffix(code, options.count, options);\n                        const zeroSuffix = `${this.options.pluralSeparator}zero`;\n                        const ordinalPrefix = `${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;\n                        if (needsPluralHandling) {\n                            finalKeys.push(key + pluralSuffix);\n                            if (options.ordinal && pluralSuffix.indexOf(ordinalPrefix) === 0) finalKeys.push(key + pluralSuffix.replace(ordinalPrefix, this.options.pluralSeparator));\n                            if (needsZeroSuffixLookup) finalKeys.push(key + zeroSuffix);\n                        }\n                        if (needsContextHandling) {\n                            const contextKey = `${key}${this.options.contextSeparator}${options.context}`;\n                            finalKeys.push(contextKey);\n                            if (needsPluralHandling) {\n                                finalKeys.push(contextKey + pluralSuffix);\n                                if (options.ordinal && pluralSuffix.indexOf(ordinalPrefix) === 0) finalKeys.push(contextKey + pluralSuffix.replace(ordinalPrefix, this.options.pluralSeparator));\n                                if (needsZeroSuffixLookup) finalKeys.push(contextKey + zeroSuffix);\n                            }\n                        }\n                    }\n                    let possibleKey;\n                    while(possibleKey = finalKeys.pop())if (!this.isValidLookup(found)) {\n                        exactUsedKey = possibleKey;\n                        found = this.getResource(code, ns, possibleKey, options);\n                    }\n                });\n            });\n        });\n        return {\n            res: found,\n            usedKey: usedKey,\n            exactUsedKey: exactUsedKey,\n            usedLng: usedLng,\n            usedNS: usedNS\n        };\n    }\n    isValidLookup(res) {\n        return res !== undefined && !(!this.options.returnNull && res === null) && !(!this.options.returnEmptyString && res === \"\");\n    }\n    getResource(code, ns, key) {\n        let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n        if (this.i18nFormat && this.i18nFormat.getResource) return this.i18nFormat.getResource(code, ns, key, options);\n        return this.resourceStore.getResource(code, ns, key, options);\n    }\n    static hasDefaultValue(options) {\n        const prefix = \"defaultValue\";\n        for(const option in options){\n            if (Object.prototype.hasOwnProperty.call(options, option) && prefix === option.substring(0, prefix.length) && undefined !== options[option]) return true;\n        }\n        return false;\n    }\n}\nfunction $d7301ad24121e92e$var$capitalize(string) {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n}\nclass $d7301ad24121e92e$var$LanguageUtil {\n    constructor(options){\n        this.options = options;\n        this.supportedLngs = this.options.supportedLngs || false;\n        this.logger = $d7301ad24121e92e$var$baseLogger.create(\"languageUtils\");\n    }\n    getScriptPartFromCode(code) {\n        code = $d7301ad24121e92e$var$getCleanedCode(code);\n        if (!code || code.indexOf(\"-\") < 0) return null;\n        const p = code.split(\"-\");\n        if (p.length === 2) return null;\n        p.pop();\n        if (p[p.length - 1].toLowerCase() === \"x\") return null;\n        return this.formatLanguageCode(p.join(\"-\"));\n    }\n    getLanguagePartFromCode(code) {\n        code = $d7301ad24121e92e$var$getCleanedCode(code);\n        if (!code || code.indexOf(\"-\") < 0) return code;\n        const p = code.split(\"-\");\n        return this.formatLanguageCode(p[0]);\n    }\n    formatLanguageCode(code) {\n        if (typeof code === \"string\" && code.indexOf(\"-\") > -1) {\n            const specialCases = [\n                \"hans\",\n                \"hant\",\n                \"latn\",\n                \"cyrl\",\n                \"cans\",\n                \"mong\",\n                \"arab\"\n            ];\n            let p = code.split(\"-\");\n            if (this.options.lowerCaseLng) p = p.map((part)=>part.toLowerCase());\n            else if (p.length === 2) {\n                p[0] = p[0].toLowerCase();\n                p[1] = p[1].toUpperCase();\n                if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = $d7301ad24121e92e$var$capitalize(p[1].toLowerCase());\n            } else if (p.length === 3) {\n                p[0] = p[0].toLowerCase();\n                if (p[1].length === 2) p[1] = p[1].toUpperCase();\n                if (p[0] !== \"sgn\" && p[2].length === 2) p[2] = p[2].toUpperCase();\n                if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = $d7301ad24121e92e$var$capitalize(p[1].toLowerCase());\n                if (specialCases.indexOf(p[2].toLowerCase()) > -1) p[2] = $d7301ad24121e92e$var$capitalize(p[2].toLowerCase());\n            }\n            return p.join(\"-\");\n        }\n        return this.options.cleanCode || this.options.lowerCaseLng ? code.toLowerCase() : code;\n    }\n    isSupportedCode(code) {\n        if (this.options.load === \"languageOnly\" || this.options.nonExplicitSupportedLngs) code = this.getLanguagePartFromCode(code);\n        return !this.supportedLngs || !this.supportedLngs.length || this.supportedLngs.indexOf(code) > -1;\n    }\n    getBestMatchFromCodes(codes) {\n        if (!codes) return null;\n        let found;\n        codes.forEach((code)=>{\n            if (found) return;\n            const cleanedLng = this.formatLanguageCode(code);\n            if (!this.options.supportedLngs || this.isSupportedCode(cleanedLng)) found = cleanedLng;\n        });\n        if (!found && this.options.supportedLngs) codes.forEach((code)=>{\n            if (found) return;\n            const lngOnly = this.getLanguagePartFromCode(code);\n            if (this.isSupportedCode(lngOnly)) return found = lngOnly;\n            found = this.options.supportedLngs.find((supportedLng)=>{\n                if (supportedLng === lngOnly) return supportedLng;\n                if (supportedLng.indexOf(\"-\") < 0 && lngOnly.indexOf(\"-\") < 0) return;\n                if (supportedLng.indexOf(lngOnly) === 0) return supportedLng;\n            });\n        });\n        if (!found) found = this.getFallbackCodes(this.options.fallbackLng)[0];\n        return found;\n    }\n    getFallbackCodes(fallbacks, code) {\n        if (!fallbacks) return [];\n        if (typeof fallbacks === \"function\") fallbacks = fallbacks(code);\n        if (typeof fallbacks === \"string\") fallbacks = [\n            fallbacks\n        ];\n        if (Object.prototype.toString.apply(fallbacks) === \"[object Array]\") return fallbacks;\n        if (!code) return fallbacks.default || [];\n        let found = fallbacks[code];\n        if (!found) found = fallbacks[this.getScriptPartFromCode(code)];\n        if (!found) found = fallbacks[this.formatLanguageCode(code)];\n        if (!found) found = fallbacks[this.getLanguagePartFromCode(code)];\n        if (!found) found = fallbacks.default;\n        return found || [];\n    }\n    toResolveHierarchy(code, fallbackCode) {\n        const fallbackCodes = this.getFallbackCodes(fallbackCode || this.options.fallbackLng || [], code);\n        const codes = [];\n        const addCode = (c)=>{\n            if (!c) return;\n            if (this.isSupportedCode(c)) codes.push(c);\n            else this.logger.warn(`rejecting language code not found in supportedLngs: ${c}`);\n        };\n        if (typeof code === \"string\" && (code.indexOf(\"-\") > -1 || code.indexOf(\"_\") > -1)) {\n            if (this.options.load !== \"languageOnly\") addCode(this.formatLanguageCode(code));\n            if (this.options.load !== \"languageOnly\" && this.options.load !== \"currentOnly\") addCode(this.getScriptPartFromCode(code));\n            if (this.options.load !== \"currentOnly\") addCode(this.getLanguagePartFromCode(code));\n        } else if (typeof code === \"string\") addCode(this.formatLanguageCode(code));\n        fallbackCodes.forEach((fc)=>{\n            if (codes.indexOf(fc) < 0) addCode(this.formatLanguageCode(fc));\n        });\n        return codes;\n    }\n}\nlet $d7301ad24121e92e$var$sets = [\n    {\n        lngs: [\n            \"ach\",\n            \"ak\",\n            \"am\",\n            \"arn\",\n            \"br\",\n            \"fil\",\n            \"gun\",\n            \"ln\",\n            \"mfe\",\n            \"mg\",\n            \"mi\",\n            \"oc\",\n            \"pt\",\n            \"pt-BR\",\n            \"tg\",\n            \"tl\",\n            \"ti\",\n            \"tr\",\n            \"uz\",\n            \"wa\"\n        ],\n        nr: [\n            1,\n            2\n        ],\n        fc: 1\n    },\n    {\n        lngs: [\n            \"af\",\n            \"an\",\n            \"ast\",\n            \"az\",\n            \"bg\",\n            \"bn\",\n            \"ca\",\n            \"da\",\n            \"de\",\n            \"dev\",\n            \"el\",\n            \"en\",\n            \"eo\",\n            \"es\",\n            \"et\",\n            \"eu\",\n            \"fi\",\n            \"fo\",\n            \"fur\",\n            \"fy\",\n            \"gl\",\n            \"gu\",\n            \"ha\",\n            \"hi\",\n            \"hu\",\n            \"hy\",\n            \"ia\",\n            \"it\",\n            \"kk\",\n            \"kn\",\n            \"ku\",\n            \"lb\",\n            \"mai\",\n            \"ml\",\n            \"mn\",\n            \"mr\",\n            \"nah\",\n            \"nap\",\n            \"nb\",\n            \"ne\",\n            \"nl\",\n            \"nn\",\n            \"no\",\n            \"nso\",\n            \"pa\",\n            \"pap\",\n            \"pms\",\n            \"ps\",\n            \"pt-PT\",\n            \"rm\",\n            \"sco\",\n            \"se\",\n            \"si\",\n            \"so\",\n            \"son\",\n            \"sq\",\n            \"sv\",\n            \"sw\",\n            \"ta\",\n            \"te\",\n            \"tk\",\n            \"ur\",\n            \"yo\"\n        ],\n        nr: [\n            1,\n            2\n        ],\n        fc: 2\n    },\n    {\n        lngs: [\n            \"ay\",\n            \"bo\",\n            \"cgg\",\n            \"fa\",\n            \"ht\",\n            \"id\",\n            \"ja\",\n            \"jbo\",\n            \"ka\",\n            \"km\",\n            \"ko\",\n            \"ky\",\n            \"lo\",\n            \"ms\",\n            \"sah\",\n            \"su\",\n            \"th\",\n            \"tt\",\n            \"ug\",\n            \"vi\",\n            \"wo\",\n            \"zh\"\n        ],\n        nr: [\n            1\n        ],\n        fc: 3\n    },\n    {\n        lngs: [\n            \"be\",\n            \"bs\",\n            \"cnr\",\n            \"dz\",\n            \"hr\",\n            \"ru\",\n            \"sr\",\n            \"uk\"\n        ],\n        nr: [\n            1,\n            2,\n            5\n        ],\n        fc: 4\n    },\n    {\n        lngs: [\n            \"ar\"\n        ],\n        nr: [\n            0,\n            1,\n            2,\n            3,\n            11,\n            100\n        ],\n        fc: 5\n    },\n    {\n        lngs: [\n            \"cs\",\n            \"sk\"\n        ],\n        nr: [\n            1,\n            2,\n            5\n        ],\n        fc: 6\n    },\n    {\n        lngs: [\n            \"csb\",\n            \"pl\"\n        ],\n        nr: [\n            1,\n            2,\n            5\n        ],\n        fc: 7\n    },\n    {\n        lngs: [\n            \"cy\"\n        ],\n        nr: [\n            1,\n            2,\n            3,\n            8\n        ],\n        fc: 8\n    },\n    {\n        lngs: [\n            \"fr\"\n        ],\n        nr: [\n            1,\n            2\n        ],\n        fc: 9\n    },\n    {\n        lngs: [\n            \"ga\"\n        ],\n        nr: [\n            1,\n            2,\n            3,\n            7,\n            11\n        ],\n        fc: 10\n    },\n    {\n        lngs: [\n            \"gd\"\n        ],\n        nr: [\n            1,\n            2,\n            3,\n            20\n        ],\n        fc: 11\n    },\n    {\n        lngs: [\n            \"is\"\n        ],\n        nr: [\n            1,\n            2\n        ],\n        fc: 12\n    },\n    {\n        lngs: [\n            \"jv\"\n        ],\n        nr: [\n            0,\n            1\n        ],\n        fc: 13\n    },\n    {\n        lngs: [\n            \"kw\"\n        ],\n        nr: [\n            1,\n            2,\n            3,\n            4\n        ],\n        fc: 14\n    },\n    {\n        lngs: [\n            \"lt\"\n        ],\n        nr: [\n            1,\n            2,\n            10\n        ],\n        fc: 15\n    },\n    {\n        lngs: [\n            \"lv\"\n        ],\n        nr: [\n            1,\n            2,\n            0\n        ],\n        fc: 16\n    },\n    {\n        lngs: [\n            \"mk\"\n        ],\n        nr: [\n            1,\n            2\n        ],\n        fc: 17\n    },\n    {\n        lngs: [\n            \"mnk\"\n        ],\n        nr: [\n            0,\n            1,\n            2\n        ],\n        fc: 18\n    },\n    {\n        lngs: [\n            \"mt\"\n        ],\n        nr: [\n            1,\n            2,\n            11,\n            20\n        ],\n        fc: 19\n    },\n    {\n        lngs: [\n            \"or\"\n        ],\n        nr: [\n            2,\n            1\n        ],\n        fc: 2\n    },\n    {\n        lngs: [\n            \"ro\"\n        ],\n        nr: [\n            1,\n            2,\n            20\n        ],\n        fc: 20\n    },\n    {\n        lngs: [\n            \"sl\"\n        ],\n        nr: [\n            5,\n            1,\n            2,\n            3\n        ],\n        fc: 21\n    },\n    {\n        lngs: [\n            \"he\",\n            \"iw\"\n        ],\n        nr: [\n            1,\n            2,\n            20,\n            21\n        ],\n        fc: 22\n    }\n];\nlet $d7301ad24121e92e$var$_rulesPluralsTypes = {\n    1: function(n) {\n        return Number(n > 1);\n    },\n    2: function(n) {\n        return Number(n != 1);\n    },\n    3: function(n) {\n        return 0;\n    },\n    4: function(n) {\n        return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n    },\n    5: function(n) {\n        return Number(n == 0 ? 0 : n == 1 ? 1 : n == 2 ? 2 : n % 100 >= 3 && n % 100 <= 10 ? 3 : n % 100 >= 11 ? 4 : 5);\n    },\n    6: function(n) {\n        return Number(n == 1 ? 0 : n >= 2 && n <= 4 ? 1 : 2);\n    },\n    7: function(n) {\n        return Number(n == 1 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n    },\n    8: function(n) {\n        return Number(n == 1 ? 0 : n == 2 ? 1 : n != 8 && n != 11 ? 2 : 3);\n    },\n    9: function(n) {\n        return Number(n >= 2);\n    },\n    10: function(n) {\n        return Number(n == 1 ? 0 : n == 2 ? 1 : n < 7 ? 2 : n < 11 ? 3 : 4);\n    },\n    11: function(n) {\n        return Number(n == 1 || n == 11 ? 0 : n == 2 || n == 12 ? 1 : n > 2 && n < 20 ? 2 : 3);\n    },\n    12: function(n) {\n        return Number(n % 10 != 1 || n % 100 == 11);\n    },\n    13: function(n) {\n        return Number(n !== 0);\n    },\n    14: function(n) {\n        return Number(n == 1 ? 0 : n == 2 ? 1 : n == 3 ? 2 : 3);\n    },\n    15: function(n) {\n        return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n    },\n    16: function(n) {\n        return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n !== 0 ? 1 : 2);\n    },\n    17: function(n) {\n        return Number(n == 1 || n % 10 == 1 && n % 100 != 11 ? 0 : 1);\n    },\n    18: function(n) {\n        return Number(n == 0 ? 0 : n == 1 ? 1 : 2);\n    },\n    19: function(n) {\n        return Number(n == 1 ? 0 : n == 0 || n % 100 > 1 && n % 100 < 11 ? 1 : n % 100 > 10 && n % 100 < 20 ? 2 : 3);\n    },\n    20: function(n) {\n        return Number(n == 1 ? 0 : n == 0 || n % 100 > 0 && n % 100 < 20 ? 1 : 2);\n    },\n    21: function(n) {\n        return Number(n % 100 == 1 ? 1 : n % 100 == 2 ? 2 : n % 100 == 3 || n % 100 == 4 ? 3 : 0);\n    },\n    22: function(n) {\n        return Number(n == 1 ? 0 : n == 2 ? 1 : (n < 0 || n > 10) && n % 10 == 0 ? 2 : 3);\n    }\n};\nconst $d7301ad24121e92e$var$nonIntlVersions = [\n    \"v1\",\n    \"v2\",\n    \"v3\"\n];\nconst $d7301ad24121e92e$var$intlVersions = [\n    \"v4\"\n];\nconst $d7301ad24121e92e$var$suffixesOrder = {\n    zero: 0,\n    one: 1,\n    two: 2,\n    few: 3,\n    many: 4,\n    other: 5\n};\nfunction $d7301ad24121e92e$var$createRules() {\n    const rules = {};\n    $d7301ad24121e92e$var$sets.forEach((set)=>{\n        set.lngs.forEach((l)=>{\n            rules[l] = {\n                numbers: set.nr,\n                plurals: $d7301ad24121e92e$var$_rulesPluralsTypes[set.fc]\n            };\n        });\n    });\n    return rules;\n}\nclass $d7301ad24121e92e$var$PluralResolver {\n    constructor(languageUtils){\n        let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        this.languageUtils = languageUtils;\n        this.options = options;\n        this.logger = $d7301ad24121e92e$var$baseLogger.create(\"pluralResolver\");\n        if ((!this.options.compatibilityJSON || $d7301ad24121e92e$var$intlVersions.includes(this.options.compatibilityJSON)) && (typeof Intl === \"undefined\" || !Intl.PluralRules)) {\n            this.options.compatibilityJSON = \"v3\";\n            this.logger.error(\"Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.\");\n        }\n        this.rules = $d7301ad24121e92e$var$createRules();\n    }\n    addRule(lng, obj) {\n        this.rules[lng] = obj;\n    }\n    getRule(code) {\n        let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        if (this.shouldUseIntlApi()) try {\n            return new Intl.PluralRules($d7301ad24121e92e$var$getCleanedCode(code), {\n                type: options.ordinal ? \"ordinal\" : \"cardinal\"\n            });\n        } catch  {\n            return;\n        }\n        return this.rules[code] || this.rules[this.languageUtils.getLanguagePartFromCode(code)];\n    }\n    needsPlural(code) {\n        let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        const rule = this.getRule(code, options);\n        if (this.shouldUseIntlApi()) return rule && rule.resolvedOptions().pluralCategories.length > 1;\n        return rule && rule.numbers.length > 1;\n    }\n    getPluralFormsOfKey(code, key) {\n        let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n        return this.getSuffixes(code, options).map((suffix)=>`${key}${suffix}`);\n    }\n    getSuffixes(code) {\n        let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        const rule = this.getRule(code, options);\n        if (!rule) return [];\n        if (this.shouldUseIntlApi()) return rule.resolvedOptions().pluralCategories.sort((pluralCategory1, pluralCategory2)=>$d7301ad24121e92e$var$suffixesOrder[pluralCategory1] - $d7301ad24121e92e$var$suffixesOrder[pluralCategory2]).map((pluralCategory)=>`${this.options.prepend}${options.ordinal ? `ordinal${this.options.prepend}` : \"\"}${pluralCategory}`);\n        return rule.numbers.map((number)=>this.getSuffix(code, number, options));\n    }\n    getSuffix(code, count) {\n        let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n        const rule = this.getRule(code, options);\n        if (rule) {\n            if (this.shouldUseIntlApi()) return `${this.options.prepend}${options.ordinal ? `ordinal${this.options.prepend}` : \"\"}${rule.select(count)}`;\n            return this.getSuffixRetroCompatible(rule, count);\n        }\n        this.logger.warn(`no plural rule found for: ${code}`);\n        return \"\";\n    }\n    getSuffixRetroCompatible(rule, count) {\n        const idx = rule.noAbs ? rule.plurals(count) : rule.plurals(Math.abs(count));\n        let suffix = rule.numbers[idx];\n        if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {\n            if (suffix === 2) suffix = \"plural\";\n            else if (suffix === 1) suffix = \"\";\n        }\n        const returnSuffix = ()=>this.options.prepend && suffix.toString() ? this.options.prepend + suffix.toString() : suffix.toString();\n        if (this.options.compatibilityJSON === \"v1\") {\n            if (suffix === 1) return \"\";\n            if (typeof suffix === \"number\") return `_plural_${suffix.toString()}`;\n            return returnSuffix();\n        } else if (this.options.compatibilityJSON === \"v2\") return returnSuffix();\n        else if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) return returnSuffix();\n        return this.options.prepend && idx.toString() ? this.options.prepend + idx.toString() : idx.toString();\n    }\n    shouldUseIntlApi() {\n        return !$d7301ad24121e92e$var$nonIntlVersions.includes(this.options.compatibilityJSON);\n    }\n}\nfunction $d7301ad24121e92e$var$deepFindWithDefaults(data, defaultData, key) {\n    let keySeparator = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : \".\";\n    let ignoreJSONStructure = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n    let path = $d7301ad24121e92e$var$getPathWithDefaults(data, defaultData, key);\n    if (!path && ignoreJSONStructure && typeof key === \"string\") {\n        path = $d7301ad24121e92e$var$deepFind(data, key, keySeparator);\n        if (path === undefined) path = $d7301ad24121e92e$var$deepFind(defaultData, key, keySeparator);\n    }\n    return path;\n}\nclass $d7301ad24121e92e$var$Interpolator {\n    constructor(){\n        let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        this.logger = $d7301ad24121e92e$var$baseLogger.create(\"interpolator\");\n        this.options = options;\n        this.format = options.interpolation && options.interpolation.format || ((value)=>value);\n        this.init(options);\n    }\n    init() {\n        let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        if (!options.interpolation) options.interpolation = {\n            escapeValue: true\n        };\n        const iOpts = options.interpolation;\n        this.escape = iOpts.escape !== undefined ? iOpts.escape : $d7301ad24121e92e$var$escape;\n        this.escapeValue = iOpts.escapeValue !== undefined ? iOpts.escapeValue : true;\n        this.useRawValueToEscape = iOpts.useRawValueToEscape !== undefined ? iOpts.useRawValueToEscape : false;\n        this.prefix = iOpts.prefix ? $d7301ad24121e92e$var$regexEscape(iOpts.prefix) : iOpts.prefixEscaped || \"{{\";\n        this.suffix = iOpts.suffix ? $d7301ad24121e92e$var$regexEscape(iOpts.suffix) : iOpts.suffixEscaped || \"}}\";\n        this.formatSeparator = iOpts.formatSeparator ? iOpts.formatSeparator : iOpts.formatSeparator || \",\";\n        this.unescapePrefix = iOpts.unescapeSuffix ? \"\" : iOpts.unescapePrefix || \"-\";\n        this.unescapeSuffix = this.unescapePrefix ? \"\" : iOpts.unescapeSuffix || \"\";\n        this.nestingPrefix = iOpts.nestingPrefix ? $d7301ad24121e92e$var$regexEscape(iOpts.nestingPrefix) : iOpts.nestingPrefixEscaped || $d7301ad24121e92e$var$regexEscape(\"$t(\");\n        this.nestingSuffix = iOpts.nestingSuffix ? $d7301ad24121e92e$var$regexEscape(iOpts.nestingSuffix) : iOpts.nestingSuffixEscaped || $d7301ad24121e92e$var$regexEscape(\")\");\n        this.nestingOptionsSeparator = iOpts.nestingOptionsSeparator ? iOpts.nestingOptionsSeparator : iOpts.nestingOptionsSeparator || \",\";\n        this.maxReplaces = iOpts.maxReplaces ? iOpts.maxReplaces : 1000;\n        this.alwaysFormat = iOpts.alwaysFormat !== undefined ? iOpts.alwaysFormat : false;\n        this.resetRegExp();\n    }\n    reset() {\n        if (this.options) this.init(this.options);\n    }\n    resetRegExp() {\n        const regexpStr = `${this.prefix}(.+?)${this.suffix}`;\n        this.regexp = new RegExp(regexpStr, \"g\");\n        const regexpUnescapeStr = `${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`;\n        this.regexpUnescape = new RegExp(regexpUnescapeStr, \"g\");\n        const nestingRegexpStr = `${this.nestingPrefix}(.+?)${this.nestingSuffix}`;\n        this.nestingRegexp = new RegExp(nestingRegexpStr, \"g\");\n    }\n    interpolate(str, data, lng, options) {\n        let match;\n        let value;\n        let replaces;\n        const defaultData = this.options && this.options.interpolation && this.options.interpolation.defaultVariables || {};\n        function regexSafe(val) {\n            return val.replace(/\\$/g, \"$$$$\");\n        }\n        const handleFormat = (key)=>{\n            if (key.indexOf(this.formatSeparator) < 0) {\n                const path = $d7301ad24121e92e$var$deepFindWithDefaults(data, defaultData, key, this.options.keySeparator, this.options.ignoreJSONStructure);\n                return this.alwaysFormat ? this.format(path, undefined, lng, {\n                    ...options,\n                    ...data,\n                    interpolationkey: key\n                }) : path;\n            }\n            const p = key.split(this.formatSeparator);\n            const k = p.shift().trim();\n            const f = p.join(this.formatSeparator).trim();\n            return this.format($d7301ad24121e92e$var$deepFindWithDefaults(data, defaultData, k, this.options.keySeparator, this.options.ignoreJSONStructure), f, lng, {\n                ...options,\n                ...data,\n                interpolationkey: k\n            });\n        };\n        this.resetRegExp();\n        const missingInterpolationHandler = options && options.missingInterpolationHandler || this.options.missingInterpolationHandler;\n        const skipOnVariables = options && options.interpolation && options.interpolation.skipOnVariables !== undefined ? options.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables;\n        const todos = [\n            {\n                regex: this.regexpUnescape,\n                safeValue: (val)=>regexSafe(val)\n            },\n            {\n                regex: this.regexp,\n                safeValue: (val)=>this.escapeValue ? regexSafe(this.escape(val)) : regexSafe(val)\n            }\n        ];\n        todos.forEach((todo)=>{\n            replaces = 0;\n            while(match = todo.regex.exec(str)){\n                const matchedVar = match[1].trim();\n                value = handleFormat(matchedVar);\n                if (value === undefined) {\n                    if (typeof missingInterpolationHandler === \"function\") {\n                        const temp = missingInterpolationHandler(str, match, options);\n                        value = typeof temp === \"string\" ? temp : \"\";\n                    } else if (options && Object.prototype.hasOwnProperty.call(options, matchedVar)) value = \"\";\n                    else if (skipOnVariables) {\n                        value = match[0];\n                        continue;\n                    } else {\n                        this.logger.warn(`missed to pass in variable ${matchedVar} for interpolating ${str}`);\n                        value = \"\";\n                    }\n                } else if (typeof value !== \"string\" && !this.useRawValueToEscape) value = $d7301ad24121e92e$var$makeString(value);\n                const safeValue = todo.safeValue(value);\n                str = str.replace(match[0], safeValue);\n                if (skipOnVariables) {\n                    todo.regex.lastIndex += value.length;\n                    todo.regex.lastIndex -= match[0].length;\n                } else todo.regex.lastIndex = 0;\n                replaces++;\n                if (replaces >= this.maxReplaces) break;\n            }\n        });\n        return str;\n    }\n    nest(str, fc) {\n        let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n        let match;\n        let value;\n        let clonedOptions;\n        function handleHasOptions(key, inheritedOptions) {\n            const sep = this.nestingOptionsSeparator;\n            if (key.indexOf(sep) < 0) return key;\n            const c = key.split(new RegExp(`${sep}[ ]*{`));\n            let optionsString = `{${c[1]}`;\n            key = c[0];\n            optionsString = this.interpolate(optionsString, clonedOptions);\n            const matchedSingleQuotes = optionsString.match(/'/g);\n            const matchedDoubleQuotes = optionsString.match(/\"/g);\n            if (matchedSingleQuotes && matchedSingleQuotes.length % 2 === 0 && !matchedDoubleQuotes || matchedDoubleQuotes.length % 2 !== 0) optionsString = optionsString.replace(/'/g, '\"');\n            try {\n                clonedOptions = JSON.parse(optionsString);\n                if (inheritedOptions) clonedOptions = {\n                    ...inheritedOptions,\n                    ...clonedOptions\n                };\n            } catch (e) {\n                this.logger.warn(`failed parsing options string in nesting for key ${key}`, e);\n                return `${key}${sep}${optionsString}`;\n            }\n            delete clonedOptions.defaultValue;\n            return key;\n        }\n        while(match = this.nestingRegexp.exec(str)){\n            let formatters = [];\n            clonedOptions = {\n                ...options\n            };\n            clonedOptions = clonedOptions.replace && typeof clonedOptions.replace !== \"string\" ? clonedOptions.replace : clonedOptions;\n            clonedOptions.applyPostProcessor = false;\n            delete clonedOptions.defaultValue;\n            let doReduce = false;\n            if (match[0].indexOf(this.formatSeparator) !== -1 && !/{.*}/.test(match[1])) {\n                const r = match[1].split(this.formatSeparator).map((elem)=>elem.trim());\n                match[1] = r.shift();\n                formatters = r;\n                doReduce = true;\n            }\n            value = fc(handleHasOptions.call(this, match[1].trim(), clonedOptions), clonedOptions);\n            if (value && match[0] === str && typeof value !== \"string\") return value;\n            if (typeof value !== \"string\") value = $d7301ad24121e92e$var$makeString(value);\n            if (!value) {\n                this.logger.warn(`missed to resolve ${match[1]} for nesting ${str}`);\n                value = \"\";\n            }\n            if (doReduce) value = formatters.reduce((v, f)=>this.format(v, f, options.lng, {\n                    ...options,\n                    interpolationkey: match[1].trim()\n                }), value.trim());\n            str = str.replace(match[0], value);\n            this.regexp.lastIndex = 0;\n        }\n        return str;\n    }\n}\nfunction $d7301ad24121e92e$var$parseFormatStr(formatStr) {\n    let formatName = formatStr.toLowerCase().trim();\n    const formatOptions = {};\n    if (formatStr.indexOf(\"(\") > -1) {\n        const p = formatStr.split(\"(\");\n        formatName = p[0].toLowerCase().trim();\n        const optStr = p[1].substring(0, p[1].length - 1);\n        if (formatName === \"currency\" && optStr.indexOf(\":\") < 0) {\n            if (!formatOptions.currency) formatOptions.currency = optStr.trim();\n        } else if (formatName === \"relativetime\" && optStr.indexOf(\":\") < 0) {\n            if (!formatOptions.range) formatOptions.range = optStr.trim();\n        } else {\n            const opts = optStr.split(\";\");\n            opts.forEach((opt)=>{\n                if (!opt) return;\n                const [key, ...rest] = opt.split(\":\");\n                const val = rest.join(\":\").trim().replace(/^'+|'+$/g, \"\");\n                if (!formatOptions[key.trim()]) formatOptions[key.trim()] = val;\n                if (val === \"false\") formatOptions[key.trim()] = false;\n                if (val === \"true\") formatOptions[key.trim()] = true;\n                if (!isNaN(val)) formatOptions[key.trim()] = parseInt(val, 10);\n            });\n        }\n    }\n    return {\n        formatName: formatName,\n        formatOptions: formatOptions\n    };\n}\nfunction $d7301ad24121e92e$var$createCachedFormatter(fn) {\n    const cache = {};\n    return function invokeFormatter(val, lng, options) {\n        const key = lng + JSON.stringify(options);\n        let formatter = cache[key];\n        if (!formatter) {\n            formatter = fn($d7301ad24121e92e$var$getCleanedCode(lng), options);\n            cache[key] = formatter;\n        }\n        return formatter(val);\n    };\n}\nclass $d7301ad24121e92e$var$Formatter {\n    constructor(){\n        let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        this.logger = $d7301ad24121e92e$var$baseLogger.create(\"formatter\");\n        this.options = options;\n        this.formats = {\n            number: $d7301ad24121e92e$var$createCachedFormatter((lng, opt)=>{\n                const formatter = new Intl.NumberFormat(lng, {\n                    ...opt\n                });\n                return (val)=>formatter.format(val);\n            }),\n            currency: $d7301ad24121e92e$var$createCachedFormatter((lng, opt)=>{\n                const formatter = new Intl.NumberFormat(lng, {\n                    ...opt,\n                    style: \"currency\"\n                });\n                return (val)=>formatter.format(val);\n            }),\n            datetime: $d7301ad24121e92e$var$createCachedFormatter((lng, opt)=>{\n                const formatter = new Intl.DateTimeFormat(lng, {\n                    ...opt\n                });\n                return (val)=>formatter.format(val);\n            }),\n            relativetime: $d7301ad24121e92e$var$createCachedFormatter((lng, opt)=>{\n                const formatter = new Intl.RelativeTimeFormat(lng, {\n                    ...opt\n                });\n                return (val)=>formatter.format(val, opt.range || \"day\");\n            }),\n            list: $d7301ad24121e92e$var$createCachedFormatter((lng, opt)=>{\n                const formatter = new Intl.ListFormat(lng, {\n                    ...opt\n                });\n                return (val)=>formatter.format(val);\n            })\n        };\n        this.init(options);\n    }\n    init(services) {\n        let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n            interpolation: {}\n        };\n        const iOpts = options.interpolation;\n        this.formatSeparator = iOpts.formatSeparator ? iOpts.formatSeparator : iOpts.formatSeparator || \",\";\n    }\n    add(name, fc) {\n        this.formats[name.toLowerCase().trim()] = fc;\n    }\n    addCached(name, fc) {\n        this.formats[name.toLowerCase().trim()] = $d7301ad24121e92e$var$createCachedFormatter(fc);\n    }\n    format(value, format, lng) {\n        let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n        const formats = format.split(this.formatSeparator);\n        const result = formats.reduce((mem, f)=>{\n            const { formatName: formatName, formatOptions: formatOptions } = $d7301ad24121e92e$var$parseFormatStr(f);\n            if (this.formats[formatName]) {\n                let formatted = mem;\n                try {\n                    const valOptions = options && options.formatParams && options.formatParams[options.interpolationkey] || {};\n                    const l = valOptions.locale || valOptions.lng || options.locale || options.lng || lng;\n                    formatted = this.formats[formatName](mem, l, {\n                        ...formatOptions,\n                        ...options,\n                        ...valOptions\n                    });\n                } catch (error) {\n                    this.logger.warn(error);\n                }\n                return formatted;\n            } else this.logger.warn(`there was no format function for ${formatName}`);\n            return mem;\n        }, value);\n        return result;\n    }\n}\nfunction $d7301ad24121e92e$var$removePending(q, name) {\n    if (q.pending[name] !== undefined) {\n        delete q.pending[name];\n        q.pendingCount--;\n    }\n}\nclass $d7301ad24121e92e$var$Connector extends $d7301ad24121e92e$var$EventEmitter {\n    constructor(backend, store, services){\n        let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n        super();\n        this.backend = backend;\n        this.store = store;\n        this.services = services;\n        this.languageUtils = services.languageUtils;\n        this.options = options;\n        this.logger = $d7301ad24121e92e$var$baseLogger.create(\"backendConnector\");\n        this.waitingReads = [];\n        this.maxParallelReads = options.maxParallelReads || 10;\n        this.readingCalls = 0;\n        this.maxRetries = options.maxRetries >= 0 ? options.maxRetries : 5;\n        this.retryTimeout = options.retryTimeout >= 1 ? options.retryTimeout : 350;\n        this.state = {};\n        this.queue = [];\n        if (this.backend && this.backend.init) this.backend.init(services, options.backend, options);\n    }\n    queueLoad(languages, namespaces, options, callback) {\n        const toLoad = {};\n        const pending = {};\n        const toLoadLanguages = {};\n        const toLoadNamespaces = {};\n        languages.forEach((lng)=>{\n            let hasAllNamespaces = true;\n            namespaces.forEach((ns)=>{\n                const name = `${lng}|${ns}`;\n                if (!options.reload && this.store.hasResourceBundle(lng, ns)) this.state[name] = 2;\n                else if (this.state[name] < 0) ;\n                else if (this.state[name] === 1) {\n                    if (pending[name] === undefined) pending[name] = true;\n                } else {\n                    this.state[name] = 1;\n                    hasAllNamespaces = false;\n                    if (pending[name] === undefined) pending[name] = true;\n                    if (toLoad[name] === undefined) toLoad[name] = true;\n                    if (toLoadNamespaces[ns] === undefined) toLoadNamespaces[ns] = true;\n                }\n            });\n            if (!hasAllNamespaces) toLoadLanguages[lng] = true;\n        });\n        if (Object.keys(toLoad).length || Object.keys(pending).length) this.queue.push({\n            pending: pending,\n            pendingCount: Object.keys(pending).length,\n            loaded: {},\n            errors: [],\n            callback: callback\n        });\n        return {\n            toLoad: Object.keys(toLoad),\n            pending: Object.keys(pending),\n            toLoadLanguages: Object.keys(toLoadLanguages),\n            toLoadNamespaces: Object.keys(toLoadNamespaces)\n        };\n    }\n    loaded(name, err, data) {\n        const s = name.split(\"|\");\n        const lng = s[0];\n        const ns = s[1];\n        if (err) this.emit(\"failedLoading\", lng, ns, err);\n        if (data) this.store.addResourceBundle(lng, ns, data);\n        this.state[name] = err ? -1 : 2;\n        const loaded = {};\n        this.queue.forEach((q)=>{\n            $d7301ad24121e92e$var$pushPath(q.loaded, [\n                lng\n            ], ns);\n            $d7301ad24121e92e$var$removePending(q, name);\n            if (err) q.errors.push(err);\n            if (q.pendingCount === 0 && !q.done) {\n                Object.keys(q.loaded).forEach((l)=>{\n                    if (!loaded[l]) loaded[l] = {};\n                    const loadedKeys = q.loaded[l];\n                    if (loadedKeys.length) loadedKeys.forEach((n)=>{\n                        if (loaded[l][n] === undefined) loaded[l][n] = true;\n                    });\n                });\n                q.done = true;\n                if (q.errors.length) q.callback(q.errors);\n                else q.callback();\n            }\n        });\n        this.emit(\"loaded\", loaded);\n        this.queue = this.queue.filter((q)=>!q.done);\n    }\n    read(lng, ns, fcName) {\n        let tried = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n        let wait = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : this.retryTimeout;\n        let callback = arguments.length > 5 ? arguments[5] : undefined;\n        if (!lng.length) return callback(null, {});\n        if (this.readingCalls >= this.maxParallelReads) {\n            this.waitingReads.push({\n                lng: lng,\n                ns: ns,\n                fcName: fcName,\n                tried: tried,\n                wait: wait,\n                callback: callback\n            });\n            return;\n        }\n        this.readingCalls++;\n        const resolver = (err, data)=>{\n            this.readingCalls--;\n            if (this.waitingReads.length > 0) {\n                const next = this.waitingReads.shift();\n                this.read(next.lng, next.ns, next.fcName, next.tried, next.wait, next.callback);\n            }\n            if (err && data && tried < this.maxRetries) {\n                setTimeout(()=>{\n                    this.read.call(this, lng, ns, fcName, tried + 1, wait * 2, callback);\n                }, wait);\n                return;\n            }\n            callback(err, data);\n        };\n        const fc = this.backend[fcName].bind(this.backend);\n        if (fc.length === 2) {\n            try {\n                const r = fc(lng, ns);\n                if (r && typeof r.then === \"function\") r.then((data)=>resolver(null, data)).catch(resolver);\n                else resolver(null, r);\n            } catch (err) {\n                resolver(err);\n            }\n            return;\n        }\n        return fc(lng, ns, resolver);\n    }\n    prepareLoading(languages, namespaces) {\n        let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n        let callback = arguments.length > 3 ? arguments[3] : undefined;\n        if (!this.backend) {\n            this.logger.warn(\"No backend was added via i18next.use. Will not load resources.\");\n            return callback && callback();\n        }\n        if (typeof languages === \"string\") languages = this.languageUtils.toResolveHierarchy(languages);\n        if (typeof namespaces === \"string\") namespaces = [\n            namespaces\n        ];\n        const toLoad = this.queueLoad(languages, namespaces, options, callback);\n        if (!toLoad.toLoad.length) {\n            if (!toLoad.pending.length) callback();\n            return null;\n        }\n        toLoad.toLoad.forEach((name)=>{\n            this.loadOne(name);\n        });\n    }\n    load(languages, namespaces, callback) {\n        this.prepareLoading(languages, namespaces, {}, callback);\n    }\n    reload(languages, namespaces, callback) {\n        this.prepareLoading(languages, namespaces, {\n            reload: true\n        }, callback);\n    }\n    loadOne(name) {\n        let prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n        const s = name.split(\"|\");\n        const lng = s[0];\n        const ns = s[1];\n        this.read(lng, ns, \"read\", undefined, undefined, (err, data)=>{\n            if (err) this.logger.warn(`${prefix}loading namespace ${ns} for language ${lng} failed`, err);\n            if (!err && data) this.logger.log(`${prefix}loaded namespace ${ns} for language ${lng}`, data);\n            this.loaded(name, err, data);\n        });\n    }\n    saveMissing(languages, namespace, key, fallbackValue, isUpdate) {\n        let options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};\n        let clb = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : ()=>{};\n        if (this.services.utils && this.services.utils.hasLoadedNamespace && !this.services.utils.hasLoadedNamespace(namespace)) {\n            this.logger.warn(`did not save key \"${key}\" as the namespace \"${namespace}\" was not yet loaded`, \"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!\");\n            return;\n        }\n        if (key === undefined || key === null || key === \"\") return;\n        if (this.backend && this.backend.create) {\n            const opts = {\n                ...options,\n                isUpdate: isUpdate\n            };\n            const fc = this.backend.create.bind(this.backend);\n            if (fc.length < 6) try {\n                let r;\n                if (fc.length === 5) r = fc(languages, namespace, key, fallbackValue, opts);\n                else r = fc(languages, namespace, key, fallbackValue);\n                if (r && typeof r.then === \"function\") r.then((data)=>clb(null, data)).catch(clb);\n                else clb(null, r);\n            } catch (err) {\n                clb(err);\n            }\n            else fc(languages, namespace, key, fallbackValue, clb, opts);\n        }\n        if (!languages || !languages[0]) return;\n        this.store.addResource(languages[0], namespace, key, fallbackValue);\n    }\n}\nfunction $d7301ad24121e92e$var$get() {\n    return {\n        debug: false,\n        initImmediate: true,\n        ns: [\n            \"translation\"\n        ],\n        defaultNS: [\n            \"translation\"\n        ],\n        fallbackLng: [\n            \"dev\"\n        ],\n        fallbackNS: false,\n        supportedLngs: false,\n        nonExplicitSupportedLngs: false,\n        load: \"all\",\n        preload: false,\n        simplifyPluralSuffix: true,\n        keySeparator: \".\",\n        nsSeparator: \":\",\n        pluralSeparator: \"_\",\n        contextSeparator: \"_\",\n        partialBundledLanguages: false,\n        saveMissing: false,\n        updateMissing: false,\n        saveMissingTo: \"fallback\",\n        saveMissingPlurals: true,\n        missingKeyHandler: false,\n        missingInterpolationHandler: false,\n        postProcess: false,\n        postProcessPassResolved: false,\n        returnNull: false,\n        returnEmptyString: true,\n        returnObjects: false,\n        joinArrays: false,\n        returnedObjectHandler: false,\n        parseMissingKeyHandler: false,\n        appendNamespaceToMissingKey: false,\n        appendNamespaceToCIMode: false,\n        overloadTranslationOptionHandler: function handle(args) {\n            let ret = {};\n            if (typeof args[1] === \"object\") ret = args[1];\n            if (typeof args[1] === \"string\") ret.defaultValue = args[1];\n            if (typeof args[2] === \"string\") ret.tDescription = args[2];\n            if (typeof args[2] === \"object\" || typeof args[3] === \"object\") {\n                const options = args[3] || args[2];\n                Object.keys(options).forEach((key)=>{\n                    ret[key] = options[key];\n                });\n            }\n            return ret;\n        },\n        interpolation: {\n            escapeValue: true,\n            format: (value, format, lng, options)=>value,\n            prefix: \"{{\",\n            suffix: \"}}\",\n            formatSeparator: \",\",\n            unescapePrefix: \"-\",\n            nestingPrefix: \"$t(\",\n            nestingSuffix: \")\",\n            nestingOptionsSeparator: \",\",\n            maxReplaces: 1000,\n            skipOnVariables: true\n        }\n    };\n}\nfunction $d7301ad24121e92e$var$transformOptions(options) {\n    if (typeof options.ns === \"string\") options.ns = [\n        options.ns\n    ];\n    if (typeof options.fallbackLng === \"string\") options.fallbackLng = [\n        options.fallbackLng\n    ];\n    if (typeof options.fallbackNS === \"string\") options.fallbackNS = [\n        options.fallbackNS\n    ];\n    if (options.supportedLngs && options.supportedLngs.indexOf(\"cimode\") < 0) options.supportedLngs = options.supportedLngs.concat([\n        \"cimode\"\n    ]);\n    return options;\n}\nfunction $d7301ad24121e92e$var$noop() {}\nfunction $d7301ad24121e92e$var$bindMemberFunctions(inst) {\n    const mems = Object.getOwnPropertyNames(Object.getPrototypeOf(inst));\n    mems.forEach((mem)=>{\n        if (typeof inst[mem] === \"function\") inst[mem] = inst[mem].bind(inst);\n    });\n}\nclass $d7301ad24121e92e$var$I18n extends $d7301ad24121e92e$var$EventEmitter {\n    constructor(){\n        let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        let callback = arguments.length > 1 ? arguments[1] : undefined;\n        super();\n        this.options = $d7301ad24121e92e$var$transformOptions(options);\n        this.services = {};\n        this.logger = $d7301ad24121e92e$var$baseLogger;\n        this.modules = {\n            external: []\n        };\n        $d7301ad24121e92e$var$bindMemberFunctions(this);\n        if (callback && !this.isInitialized && !options.isClone) {\n            if (!this.options.initImmediate) {\n                this.init(options, callback);\n                return this;\n            }\n            setTimeout(()=>{\n                this.init(options, callback);\n            }, 0);\n        }\n    }\n    init() {\n        var _this = this;\n        let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        let callback = arguments.length > 1 ? arguments[1] : undefined;\n        if (typeof options === \"function\") {\n            callback = options;\n            options = {};\n        }\n        if (!options.defaultNS && options.defaultNS !== false && options.ns) {\n            if (typeof options.ns === \"string\") options.defaultNS = options.ns;\n            else if (options.ns.indexOf(\"translation\") < 0) options.defaultNS = options.ns[0];\n        }\n        const defOpts = $d7301ad24121e92e$var$get();\n        this.options = {\n            ...defOpts,\n            ...this.options,\n            ...$d7301ad24121e92e$var$transformOptions(options)\n        };\n        if (this.options.compatibilityAPI !== \"v1\") this.options.interpolation = {\n            ...defOpts.interpolation,\n            ...this.options.interpolation\n        };\n        if (options.keySeparator !== undefined) this.options.userDefinedKeySeparator = options.keySeparator;\n        if (options.nsSeparator !== undefined) this.options.userDefinedNsSeparator = options.nsSeparator;\n        function createClassOnDemand(ClassOrObject) {\n            if (!ClassOrObject) return null;\n            if (typeof ClassOrObject === \"function\") return new ClassOrObject();\n            return ClassOrObject;\n        }\n        if (!this.options.isClone) {\n            if (this.modules.logger) $d7301ad24121e92e$var$baseLogger.init(createClassOnDemand(this.modules.logger), this.options);\n            else $d7301ad24121e92e$var$baseLogger.init(null, this.options);\n            let formatter;\n            if (this.modules.formatter) formatter = this.modules.formatter;\n            else if (typeof Intl !== \"undefined\") formatter = $d7301ad24121e92e$var$Formatter;\n            const lu = new $d7301ad24121e92e$var$LanguageUtil(this.options);\n            this.store = new $d7301ad24121e92e$var$ResourceStore(this.options.resources, this.options);\n            const s = this.services;\n            s.logger = $d7301ad24121e92e$var$baseLogger;\n            s.resourceStore = this.store;\n            s.languageUtils = lu;\n            s.pluralResolver = new $d7301ad24121e92e$var$PluralResolver(lu, {\n                prepend: this.options.pluralSeparator,\n                compatibilityJSON: this.options.compatibilityJSON,\n                simplifyPluralSuffix: this.options.simplifyPluralSuffix\n            });\n            if (formatter && (!this.options.interpolation.format || this.options.interpolation.format === defOpts.interpolation.format)) {\n                s.formatter = createClassOnDemand(formatter);\n                s.formatter.init(s, this.options);\n                this.options.interpolation.format = s.formatter.format.bind(s.formatter);\n            }\n            s.interpolator = new $d7301ad24121e92e$var$Interpolator(this.options);\n            s.utils = {\n                hasLoadedNamespace: this.hasLoadedNamespace.bind(this)\n            };\n            s.backendConnector = new $d7301ad24121e92e$var$Connector(createClassOnDemand(this.modules.backend), s.resourceStore, s, this.options);\n            s.backendConnector.on(\"*\", function(event) {\n                for(var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++)args[_key - 1] = arguments[_key];\n                _this.emit(event, ...args);\n            });\n            if (this.modules.languageDetector) {\n                s.languageDetector = createClassOnDemand(this.modules.languageDetector);\n                if (s.languageDetector.init) s.languageDetector.init(s, this.options.detection, this.options);\n            }\n            if (this.modules.i18nFormat) {\n                s.i18nFormat = createClassOnDemand(this.modules.i18nFormat);\n                if (s.i18nFormat.init) s.i18nFormat.init(this);\n            }\n            this.translator = new $d7301ad24121e92e$var$Translator(this.services, this.options);\n            this.translator.on(\"*\", function(event) {\n                for(var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++)args[_key2 - 1] = arguments[_key2];\n                _this.emit(event, ...args);\n            });\n            this.modules.external.forEach((m)=>{\n                if (m.init) m.init(this);\n            });\n        }\n        this.format = this.options.interpolation.format;\n        if (!callback) callback = $d7301ad24121e92e$var$noop;\n        if (this.options.fallbackLng && !this.services.languageDetector && !this.options.lng) {\n            const codes = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n            if (codes.length > 0 && codes[0] !== \"dev\") this.options.lng = codes[0];\n        }\n        if (!this.services.languageDetector && !this.options.lng) this.logger.warn(\"init: no languageDetector is used and no lng is defined\");\n        const storeApi = [\n            \"getResource\",\n            \"hasResourceBundle\",\n            \"getResourceBundle\",\n            \"getDataByLanguage\"\n        ];\n        storeApi.forEach((fcName)=>{\n            this[fcName] = function() {\n                return _this.store[fcName](...arguments);\n            };\n        });\n        const storeApiChained = [\n            \"addResource\",\n            \"addResources\",\n            \"addResourceBundle\",\n            \"removeResourceBundle\"\n        ];\n        storeApiChained.forEach((fcName)=>{\n            this[fcName] = function() {\n                _this.store[fcName](...arguments);\n                return _this;\n            };\n        });\n        const deferred = $d7301ad24121e92e$var$defer();\n        const load = ()=>{\n            const finish = (err, t)=>{\n                if (this.isInitialized && !this.initializedStoreOnce) this.logger.warn(\"init: i18next is already initialized. You should call init just once!\");\n                this.isInitialized = true;\n                if (!this.options.isClone) this.logger.log(\"initialized\", this.options);\n                this.emit(\"initialized\", this.options);\n                deferred.resolve(t);\n                callback(err, t);\n            };\n            if (this.languages && this.options.compatibilityAPI !== \"v1\" && !this.isInitialized) return finish(null, this.t.bind(this));\n            this.changeLanguage(this.options.lng, finish);\n        };\n        if (this.options.resources || !this.options.initImmediate) load();\n        else setTimeout(load, 0);\n        return deferred;\n    }\n    loadResources(language) {\n        let callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : $d7301ad24121e92e$var$noop;\n        let usedCallback = callback;\n        const usedLng = typeof language === \"string\" ? language : this.language;\n        if (typeof language === \"function\") usedCallback = language;\n        if (!this.options.resources || this.options.partialBundledLanguages) {\n            if (usedLng && usedLng.toLowerCase() === \"cimode\") return usedCallback();\n            const toLoad = [];\n            const append = (lng)=>{\n                if (!lng) return;\n                const lngs = this.services.languageUtils.toResolveHierarchy(lng);\n                lngs.forEach((l)=>{\n                    if (toLoad.indexOf(l) < 0) toLoad.push(l);\n                });\n            };\n            if (!usedLng) {\n                const fallbacks = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n                fallbacks.forEach((l)=>append(l));\n            } else append(usedLng);\n            if (this.options.preload) this.options.preload.forEach((l)=>append(l));\n            this.services.backendConnector.load(toLoad, this.options.ns, (e)=>{\n                if (!e && !this.resolvedLanguage && this.language) this.setResolvedLanguage(this.language);\n                usedCallback(e);\n            });\n        } else usedCallback(null);\n    }\n    reloadResources(lngs, ns, callback) {\n        const deferred = $d7301ad24121e92e$var$defer();\n        if (!lngs) lngs = this.languages;\n        if (!ns) ns = this.options.ns;\n        if (!callback) callback = $d7301ad24121e92e$var$noop;\n        this.services.backendConnector.reload(lngs, ns, (err)=>{\n            deferred.resolve();\n            callback(err);\n        });\n        return deferred;\n    }\n    use(module) {\n        if (!module) throw new Error(\"You are passing an undefined module! Please check the object you are passing to i18next.use()\");\n        if (!module.type) throw new Error(\"You are passing a wrong module! Please check the object you are passing to i18next.use()\");\n        if (module.type === \"backend\") this.modules.backend = module;\n        if (module.type === \"logger\" || module.log && module.warn && module.error) this.modules.logger = module;\n        if (module.type === \"languageDetector\") this.modules.languageDetector = module;\n        if (module.type === \"i18nFormat\") this.modules.i18nFormat = module;\n        if (module.type === \"postProcessor\") $d7301ad24121e92e$var$postProcessor.addPostProcessor(module);\n        if (module.type === \"formatter\") this.modules.formatter = module;\n        if (module.type === \"3rdParty\") this.modules.external.push(module);\n        return this;\n    }\n    setResolvedLanguage(l) {\n        if (!l || !this.languages) return;\n        if ([\n            \"cimode\",\n            \"dev\"\n        ].indexOf(l) > -1) return;\n        for(let li = 0; li < this.languages.length; li++){\n            const lngInLngs = this.languages[li];\n            if ([\n                \"cimode\",\n                \"dev\"\n            ].indexOf(lngInLngs) > -1) continue;\n            if (this.store.hasLanguageSomeTranslations(lngInLngs)) {\n                this.resolvedLanguage = lngInLngs;\n                break;\n            }\n        }\n    }\n    changeLanguage(lng, callback) {\n        var _this2 = this;\n        this.isLanguageChangingTo = lng;\n        const deferred = $d7301ad24121e92e$var$defer();\n        this.emit(\"languageChanging\", lng);\n        const setLngProps = (l)=>{\n            this.language = l;\n            this.languages = this.services.languageUtils.toResolveHierarchy(l);\n            this.resolvedLanguage = undefined;\n            this.setResolvedLanguage(l);\n        };\n        const done = (err, l)=>{\n            if (l) {\n                setLngProps(l);\n                this.translator.changeLanguage(l);\n                this.isLanguageChangingTo = undefined;\n                this.emit(\"languageChanged\", l);\n                this.logger.log(\"languageChanged\", l);\n            } else this.isLanguageChangingTo = undefined;\n            deferred.resolve(function() {\n                return _this2.t(...arguments);\n            });\n            if (callback) callback(err, function() {\n                return _this2.t(...arguments);\n            });\n        };\n        const setLng = (lngs)=>{\n            if (!lng && !lngs && this.services.languageDetector) lngs = [];\n            const l = typeof lngs === \"string\" ? lngs : this.services.languageUtils.getBestMatchFromCodes(lngs);\n            if (l) {\n                if (!this.language) setLngProps(l);\n                if (!this.translator.language) this.translator.changeLanguage(l);\n                if (this.services.languageDetector && this.services.languageDetector.cacheUserLanguage) this.services.languageDetector.cacheUserLanguage(l);\n            }\n            this.loadResources(l, (err)=>{\n                done(err, l);\n            });\n        };\n        if (!lng && this.services.languageDetector && !this.services.languageDetector.async) setLng(this.services.languageDetector.detect());\n        else if (!lng && this.services.languageDetector && this.services.languageDetector.async) {\n            if (this.services.languageDetector.detect.length === 0) this.services.languageDetector.detect().then(setLng);\n            else this.services.languageDetector.detect(setLng);\n        } else setLng(lng);\n        return deferred;\n    }\n    getFixedT(lng, ns, keyPrefix) {\n        var _this3 = this;\n        const fixedT = function(key, opts) {\n            let options;\n            if (typeof opts !== \"object\") {\n                for(var _len3 = arguments.length, rest = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++)rest[_key3 - 2] = arguments[_key3];\n                options = _this3.options.overloadTranslationOptionHandler([\n                    key,\n                    opts\n                ].concat(rest));\n            } else options = {\n                ...opts\n            };\n            options.lng = options.lng || fixedT.lng;\n            options.lngs = options.lngs || fixedT.lngs;\n            options.ns = options.ns || fixedT.ns;\n            options.keyPrefix = options.keyPrefix || keyPrefix || fixedT.keyPrefix;\n            const keySeparator = _this3.options.keySeparator || \".\";\n            let resultKey;\n            if (options.keyPrefix && Array.isArray(key)) resultKey = key.map((k)=>`${options.keyPrefix}${keySeparator}${k}`);\n            else resultKey = options.keyPrefix ? `${options.keyPrefix}${keySeparator}${key}` : key;\n            return _this3.t(resultKey, options);\n        };\n        if (typeof lng === \"string\") fixedT.lng = lng;\n        else fixedT.lngs = lng;\n        fixedT.ns = ns;\n        fixedT.keyPrefix = keyPrefix;\n        return fixedT;\n    }\n    t() {\n        return this.translator && this.translator.translate(...arguments);\n    }\n    exists() {\n        return this.translator && this.translator.exists(...arguments);\n    }\n    setDefaultNamespace(ns) {\n        this.options.defaultNS = ns;\n    }\n    hasLoadedNamespace(ns) {\n        let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        if (!this.isInitialized) {\n            this.logger.warn(\"hasLoadedNamespace: i18next was not initialized\", this.languages);\n            return false;\n        }\n        if (!this.languages || !this.languages.length) {\n            this.logger.warn(\"hasLoadedNamespace: i18n.languages were undefined or empty\", this.languages);\n            return false;\n        }\n        const lng = options.lng || this.resolvedLanguage || this.languages[0];\n        const fallbackLng = this.options ? this.options.fallbackLng : false;\n        const lastLng = this.languages[this.languages.length - 1];\n        if (lng.toLowerCase() === \"cimode\") return true;\n        const loadNotPending = (l, n)=>{\n            const loadState = this.services.backendConnector.state[`${l}|${n}`];\n            return loadState === -1 || loadState === 2;\n        };\n        if (options.precheck) {\n            const preResult = options.precheck(this, loadNotPending);\n            if (preResult !== undefined) return preResult;\n        }\n        if (this.hasResourceBundle(lng, ns)) return true;\n        if (!this.services.backendConnector.backend || this.options.resources && !this.options.partialBundledLanguages) return true;\n        if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns))) return true;\n        return false;\n    }\n    loadNamespaces(ns, callback) {\n        const deferred = $d7301ad24121e92e$var$defer();\n        if (!this.options.ns) {\n            if (callback) callback();\n            return Promise.resolve();\n        }\n        if (typeof ns === \"string\") ns = [\n            ns\n        ];\n        ns.forEach((n)=>{\n            if (this.options.ns.indexOf(n) < 0) this.options.ns.push(n);\n        });\n        this.loadResources((err)=>{\n            deferred.resolve();\n            if (callback) callback(err);\n        });\n        return deferred;\n    }\n    loadLanguages(lngs, callback) {\n        const deferred = $d7301ad24121e92e$var$defer();\n        if (typeof lngs === \"string\") lngs = [\n            lngs\n        ];\n        const preloaded = this.options.preload || [];\n        const newLngs = lngs.filter((lng)=>preloaded.indexOf(lng) < 0);\n        if (!newLngs.length) {\n            if (callback) callback();\n            return Promise.resolve();\n        }\n        this.options.preload = preloaded.concat(newLngs);\n        this.loadResources((err)=>{\n            deferred.resolve();\n            if (callback) callback(err);\n        });\n        return deferred;\n    }\n    dir(lng) {\n        if (!lng) lng = this.resolvedLanguage || (this.languages && this.languages.length > 0 ? this.languages[0] : this.language);\n        if (!lng) return \"rtl\";\n        const rtlLngs = [\n            \"ar\",\n            \"shu\",\n            \"sqr\",\n            \"ssh\",\n            \"xaa\",\n            \"yhd\",\n            \"yud\",\n            \"aao\",\n            \"abh\",\n            \"abv\",\n            \"acm\",\n            \"acq\",\n            \"acw\",\n            \"acx\",\n            \"acy\",\n            \"adf\",\n            \"ads\",\n            \"aeb\",\n            \"aec\",\n            \"afb\",\n            \"ajp\",\n            \"apc\",\n            \"apd\",\n            \"arb\",\n            \"arq\",\n            \"ars\",\n            \"ary\",\n            \"arz\",\n            \"auz\",\n            \"avl\",\n            \"ayh\",\n            \"ayl\",\n            \"ayn\",\n            \"ayp\",\n            \"bbz\",\n            \"pga\",\n            \"he\",\n            \"iw\",\n            \"ps\",\n            \"pbt\",\n            \"pbu\",\n            \"pst\",\n            \"prp\",\n            \"prd\",\n            \"ug\",\n            \"ur\",\n            \"ydd\",\n            \"yds\",\n            \"yih\",\n            \"ji\",\n            \"yi\",\n            \"hbo\",\n            \"men\",\n            \"xmn\",\n            \"fa\",\n            \"jpr\",\n            \"peo\",\n            \"pes\",\n            \"prs\",\n            \"dv\",\n            \"sam\",\n            \"ckb\"\n        ];\n        const languageUtils = this.services && this.services.languageUtils || new $d7301ad24121e92e$var$LanguageUtil($d7301ad24121e92e$var$get());\n        return rtlLngs.indexOf(languageUtils.getLanguagePartFromCode(lng)) > -1 || lng.toLowerCase().indexOf(\"-arab\") > 1 ? \"rtl\" : \"ltr\";\n    }\n    static createInstance() {\n        let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        let callback = arguments.length > 1 ? arguments[1] : undefined;\n        return new $d7301ad24121e92e$var$I18n(options, callback);\n    }\n    cloneInstance() {\n        let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        let callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : $d7301ad24121e92e$var$noop;\n        const forkResourceStore = options.forkResourceStore;\n        if (forkResourceStore) delete options.forkResourceStore;\n        const mergedOptions = {\n            ...this.options,\n            ...options,\n            isClone: true\n        };\n        const clone = new $d7301ad24121e92e$var$I18n(mergedOptions);\n        if (options.debug !== undefined || options.prefix !== undefined) clone.logger = clone.logger.clone(options);\n        const membersToCopy = [\n            \"store\",\n            \"services\",\n            \"language\"\n        ];\n        membersToCopy.forEach((m)=>{\n            clone[m] = this[m];\n        });\n        clone.services = {\n            ...this.services\n        };\n        clone.services.utils = {\n            hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)\n        };\n        if (forkResourceStore) {\n            clone.store = new $d7301ad24121e92e$var$ResourceStore(this.store.data, mergedOptions);\n            clone.services.resourceStore = clone.store;\n        }\n        clone.translator = new $d7301ad24121e92e$var$Translator(clone.services, mergedOptions);\n        clone.translator.on(\"*\", function(event) {\n            for(var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++)args[_key4 - 1] = arguments[_key4];\n            clone.emit(event, ...args);\n        });\n        clone.init(mergedOptions, callback);\n        clone.translator.options = mergedOptions;\n        clone.translator.backendConnector.services.utils = {\n            hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)\n        };\n        return clone;\n    }\n    toJSON() {\n        return {\n            options: this.options,\n            store: this.store,\n            language: this.language,\n            languages: this.languages,\n            resolvedLanguage: this.resolvedLanguage\n        };\n    }\n}\nconst $d7301ad24121e92e$export$2e2bcd8739ae039 = $d7301ad24121e92e$var$I18n.createInstance();\n$d7301ad24121e92e$export$2e2bcd8739ae039.createInstance = $d7301ad24121e92e$var$I18n.createInstance;\nconst $d7301ad24121e92e$export$99152e8d49ca4e7d = $d7301ad24121e92e$export$2e2bcd8739ae039.createInstance;\nconst $d7301ad24121e92e$export$147ec2801e896265 = $d7301ad24121e92e$export$2e2bcd8739ae039.dir;\nconst $d7301ad24121e92e$export$2cd8252107eb640b = $d7301ad24121e92e$export$2e2bcd8739ae039.init;\nconst $d7301ad24121e92e$export$d3d08d944062d7e = $d7301ad24121e92e$export$2e2bcd8739ae039.loadResources;\nconst $d7301ad24121e92e$export$a5d9bf5d83fcab09 = $d7301ad24121e92e$export$2e2bcd8739ae039.reloadResources;\nconst $d7301ad24121e92e$export$1f96ae73734a86cc = $d7301ad24121e92e$export$2e2bcd8739ae039.use;\nconst $d7301ad24121e92e$export$61465194746e7fd2 = $d7301ad24121e92e$export$2e2bcd8739ae039.changeLanguage;\nconst $d7301ad24121e92e$export$f90d180fc7da3b3b = $d7301ad24121e92e$export$2e2bcd8739ae039.getFixedT;\nconst $d7301ad24121e92e$export$625550452a3fa3ec = $d7301ad24121e92e$export$2e2bcd8739ae039.t;\nconst $d7301ad24121e92e$export$f7e9f41ea797a17 = $d7301ad24121e92e$export$2e2bcd8739ae039.exists;\nconst $d7301ad24121e92e$export$2b4b218e406d2d00 = $d7301ad24121e92e$export$2e2bcd8739ae039.setDefaultNamespace;\nconst $d7301ad24121e92e$export$93d9ee97c1ad3f31 = $d7301ad24121e92e$export$2e2bcd8739ae039.hasLoadedNamespace;\nconst $d7301ad24121e92e$export$83be934b53fff43b = $d7301ad24121e92e$export$2e2bcd8739ae039.loadNamespaces;\nconst $d7301ad24121e92e$export$8cd7e7a54fa865bc = $d7301ad24121e92e$export$2e2bcd8739ae039.loadLanguages;\n\n\nconst $1747d3542bece520$var$me = {\n    get () {\n        return (0, $5e4e939c48db0130$export$2e2bcd8739ae039).get()?.me;\n    },\n    get data () {\n        return (0, $5e4e939c48db0130$export$2e2bcd8739ae039).get()?.me?.data;\n    },\n    get lang () {\n        return (0, $5e4e939c48db0130$export$2e2bcd8739ae039).get()?.me?.data?.lang;\n    },\n    get groups () {\n        return (0, $5e4e939c48db0130$export$2e2bcd8739ae039).get()?.me?.groups;\n    },\n    get id () {\n        return (0, $5e4e939c48db0130$export$2e2bcd8739ae039).get()?.me?.id;\n    },\n    get avatar () {\n        return (0, $5e4e939c48db0130$export$2e2bcd8739ae039).get()?.me?.avatar;\n    },\n    getGroupName (id) {\n        let group = (0, $5e4e939c48db0130$export$2e2bcd8739ae039).get()[\"groups\"]?.find((g)=>g[\"id\"] == id);\n        return group ? group[\"name\"] : \"\";\n    },\n    update () {\n        return (0, $747de4a7b04ce4ba$export$2e2bcd8739ae039).get(\"/api/me\", true).then((r)=>{\n            if (!r || !r?.id) {\n                (0, $5e4e939c48db0130$export$2e2bcd8739ae039).dispatch(\"update\", {});\n                return;\n            }\n            Promise.all(r.groups.map((g)=>(0, $747de4a7b04ce4ba$export$2e2bcd8739ae039).get(`/api/groups/${g.id}`).then((group)=>group))).then((groups)=>{\n                r.groups = groups;\n                (0, $5e4e939c48db0130$export$2e2bcd8739ae039).dispatch(\"me/update\", Object.assign({\n                    loaded: true\n                }, r));\n            });\n            (0, $d7301ad24121e92e$export$2e2bcd8739ae039).changeLanguage(r?.data?.lang);\n            return r;\n        });\n    },\n    fetch () {\n        if ((0, $5e4e939c48db0130$export$2e2bcd8739ae039).get()[\"loaded\"]) return new Promise((r)=>r((0, $5e4e939c48db0130$export$2e2bcd8739ae039).get()));\n        return $1747d3542bece520$var$me.update();\n    },\n    reset () {\n        (0, $5e4e939c48db0130$export$2e2bcd8739ae039).dispatch(\"@init\");\n    },\n    logout () {\n        (0, $15bf00c5a9ebafaa$export$2e2bcd8739ae039).reset();\n    }\n};\nvar $1747d3542bece520$export$2e2bcd8739ae039 = $1747d3542bece520$var$me;\n\n\n\nvar $c9d322eeb636f8e5$exports = {};\n\n$parcel$defineInteropFlag($c9d322eeb636f8e5$exports);\n\n$parcel$export($c9d322eeb636f8e5$exports, \"PureComponent\", function () { return $c9d322eeb636f8e5$export$221d75b3f55bb0bd; });\n$parcel$export($c9d322eeb636f8e5$exports, \"memo\", function () { return $c9d322eeb636f8e5$export$7c73462e0d25e514; });\n$parcel$export($c9d322eeb636f8e5$exports, \"forwardRef\", function () { return $c9d322eeb636f8e5$export$257a8862b851cb5b; });\n$parcel$export($c9d322eeb636f8e5$exports, \"Children\", function () { return $c9d322eeb636f8e5$export$dca3b0875bd9a954; });\n$parcel$export($c9d322eeb636f8e5$exports, \"Suspense\", function () { return $c9d322eeb636f8e5$export$74bf444e3cd11ea5; });\n$parcel$export($c9d322eeb636f8e5$exports, \"lazy\", function () { return $c9d322eeb636f8e5$export$488013bae63b21da; });\n$parcel$export($c9d322eeb636f8e5$exports, \"SuspenseList\", function () { return $c9d322eeb636f8e5$export$998bcd577473dd93; });\n$parcel$export($c9d322eeb636f8e5$exports, \"createPortal\", function () { return $c9d322eeb636f8e5$export$d39a5bbd09211389; });\n$parcel$export($c9d322eeb636f8e5$exports, \"render\", function () { return $c9d322eeb636f8e5$export$b3890eb0ae9dca99; });\n$parcel$export($c9d322eeb636f8e5$exports, \"hydrate\", function () { return $c9d322eeb636f8e5$export$fa8d919ba61d84db; });\n$parcel$export($c9d322eeb636f8e5$exports, \"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED\", function () { return $c9d322eeb636f8e5$export$ae55be85d98224ed; });\n$parcel$export($c9d322eeb636f8e5$exports, \"version\", function () { return $c9d322eeb636f8e5$export$83d89fbfd8236492; });\n$parcel$export($c9d322eeb636f8e5$exports, \"createFactory\", function () { return $c9d322eeb636f8e5$export$d38cd72104c1f0e9; });\n$parcel$export($c9d322eeb636f8e5$exports, \"isValidElement\", function () { return $c9d322eeb636f8e5$export$a8257692ac88316c; });\n$parcel$export($c9d322eeb636f8e5$exports, \"isFragment\", function () { return $c9d322eeb636f8e5$export$9522e17588c12572; });\n$parcel$export($c9d322eeb636f8e5$exports, \"cloneElement\", function () { return $c9d322eeb636f8e5$export$e530037191fcd5d7; });\n$parcel$export($c9d322eeb636f8e5$exports, \"unmountComponentAtNode\", function () { return $c9d322eeb636f8e5$export$502457920280e6be; });\n$parcel$export($c9d322eeb636f8e5$exports, \"findDOMNode\", function () { return $c9d322eeb636f8e5$export$466bfc07425424d5; });\n$parcel$export($c9d322eeb636f8e5$exports, \"unstable_batchedUpdates\", function () { return $c9d322eeb636f8e5$export$c78a37762a8d58e1; });\n$parcel$export($c9d322eeb636f8e5$exports, \"flushSync\", function () { return $c9d322eeb636f8e5$export$cd75ccfd720a3cd4; });\n$parcel$export($c9d322eeb636f8e5$exports, \"StrictMode\", function () { return $c9d322eeb636f8e5$export$5f8d39834fd61797; });\n$parcel$export($c9d322eeb636f8e5$exports, \"startTransition\", function () { return $c9d322eeb636f8e5$export$7568632d0d33d16d; });\n$parcel$export($c9d322eeb636f8e5$exports, \"useDeferredValue\", function () { return $c9d322eeb636f8e5$export$6a7bc4e911dc01cf; });\n$parcel$export($c9d322eeb636f8e5$exports, \"useTransition\", function () { return $c9d322eeb636f8e5$export$7b286972b8d8ccbf; });\n$parcel$export($c9d322eeb636f8e5$exports, \"useInsertionEffect\", function () { return $c9d322eeb636f8e5$export$aaabe4eda9ed9969; });\n$parcel$export($c9d322eeb636f8e5$exports, \"isElement\", function () { return $c9d322eeb636f8e5$export$45a5e7f76e0caa8d; });\n$parcel$export($c9d322eeb636f8e5$exports, \"useSyncExternalStore\", function () { return $c9d322eeb636f8e5$export$306c0aa65ff9ec16; });\n$parcel$export($c9d322eeb636f8e5$exports, \"default\", function () { return $c9d322eeb636f8e5$export$2e2bcd8739ae039; });\n$parcel$export($c9d322eeb636f8e5$exports, \"Component\", function () { return $bc4b82f252aed4aa$export$16fa2f45be04daa8; });\n$parcel$export($c9d322eeb636f8e5$exports, \"Fragment\", function () { return $bc4b82f252aed4aa$export$ffb0004e005737fa; });\n$parcel$export($c9d322eeb636f8e5$exports, \"createContext\", function () { return $bc4b82f252aed4aa$export$fd42f52fd3ae1109; });\n$parcel$export($c9d322eeb636f8e5$exports, \"createElement\", function () { return $bc4b82f252aed4aa$export$c8a8987d4410bf2d; });\n$parcel$export($c9d322eeb636f8e5$exports, \"createRef\", function () { return $bc4b82f252aed4aa$export$7d1e3a5e95ceca43; });\n\nvar $35130c2d97e6777b$exports = {};\n\n$parcel$export($35130c2d97e6777b$exports, \"useState\", function () { return $35130c2d97e6777b$export$60241385465d0a34; });\n$parcel$export($35130c2d97e6777b$exports, \"useReducer\", function () { return $35130c2d97e6777b$export$13e3392192263954; });\n$parcel$export($35130c2d97e6777b$exports, \"useEffect\", function () { return $35130c2d97e6777b$export$6d9c69b0de29b591; });\n$parcel$export($35130c2d97e6777b$exports, \"useLayoutEffect\", function () { return $35130c2d97e6777b$export$e5c5a5f917a5871c; });\n$parcel$export($35130c2d97e6777b$exports, \"useRef\", function () { return $35130c2d97e6777b$export$b8f5890fc79d6aca; });\n$parcel$export($35130c2d97e6777b$exports, \"useMemo\", function () { return $35130c2d97e6777b$export$1538c33de8887b59; });\n$parcel$export($35130c2d97e6777b$exports, \"useImperativeHandle\", function () { return $35130c2d97e6777b$export$d5a552a76deda3c2; });\n$parcel$export($35130c2d97e6777b$exports, \"useCallback\", function () { return $35130c2d97e6777b$export$35808ee640e87ca7; });\n$parcel$export($35130c2d97e6777b$exports, \"useContext\", function () { return $35130c2d97e6777b$export$fae74005e78b1a27; });\n$parcel$export($35130c2d97e6777b$exports, \"useDebugValue\", function () { return $35130c2d97e6777b$export$dc8fbce3eb94dc1e; });\n$parcel$export($35130c2d97e6777b$exports, \"useErrorBoundary\", function () { return $35130c2d97e6777b$export$c052f6604b7d51fe; });\n$parcel$export($35130c2d97e6777b$exports, \"useId\", function () { return $35130c2d97e6777b$export$f680877a34711e37; });\n\nvar $35130c2d97e6777b$var$t, $35130c2d97e6777b$var$r, $35130c2d97e6777b$var$u, $35130c2d97e6777b$var$i, $35130c2d97e6777b$var$o = 0, $35130c2d97e6777b$var$f = [], $35130c2d97e6777b$var$c = [], $35130c2d97e6777b$var$e = (0, $bc4b82f252aed4aa$export$41c562ebe57d11e2).__b, $35130c2d97e6777b$var$a = (0, $bc4b82f252aed4aa$export$41c562ebe57d11e2).__r, $35130c2d97e6777b$var$v = (0, $bc4b82f252aed4aa$export$41c562ebe57d11e2).diffed, $35130c2d97e6777b$var$l = (0, $bc4b82f252aed4aa$export$41c562ebe57d11e2).__c, $35130c2d97e6777b$var$m = (0, $bc4b82f252aed4aa$export$41c562ebe57d11e2).unmount;\nfunction $35130c2d97e6777b$var$d(t, u) {\n    (0, $bc4b82f252aed4aa$export$41c562ebe57d11e2).__h && (0, $bc4b82f252aed4aa$export$41c562ebe57d11e2).__h($35130c2d97e6777b$var$r, t, $35130c2d97e6777b$var$o || u), $35130c2d97e6777b$var$o = 0;\n    var i = $35130c2d97e6777b$var$r.__H || ($35130c2d97e6777b$var$r.__H = {\n        __: [],\n        __h: []\n    });\n    return t >= i.__.length && i.__.push({\n        __V: $35130c2d97e6777b$var$c\n    }), i.__[t];\n}\nfunction $35130c2d97e6777b$export$60241385465d0a34(n) {\n    return $35130c2d97e6777b$var$o = 1, $35130c2d97e6777b$export$13e3392192263954($35130c2d97e6777b$var$B, n);\n}\nfunction $35130c2d97e6777b$export$13e3392192263954(n, u, i) {\n    var o = $35130c2d97e6777b$var$d($35130c2d97e6777b$var$t++, 2);\n    if (o.t = n, !o.__c && (o.__ = [\n        i ? i(u) : $35130c2d97e6777b$var$B(void 0, u),\n        function(n) {\n            var t = o.__N ? o.__N[0] : o.__[0], r = o.t(t, n);\n            t !== r && (o.__N = [\n                r,\n                o.__[1]\n            ], o.__c.setState({}));\n        }\n    ], o.__c = $35130c2d97e6777b$var$r, !$35130c2d97e6777b$var$r.u)) {\n        var f = function(n, t, r) {\n            if (!o.__c.__H) return !0;\n            var u = o.__c.__H.__.filter(function(n) {\n                return n.__c;\n            });\n            if (u.every(function(n) {\n                return !n.__N;\n            })) return !c || c.call(this, n, t, r);\n            var i = !1;\n            return u.forEach(function(n) {\n                if (n.__N) {\n                    var t = n.__[0];\n                    n.__ = n.__N, n.__N = void 0, t !== n.__[0] && (i = !0);\n                }\n            }), !(!i && o.__c.props === n) && (!c || c.call(this, n, t, r));\n        };\n        $35130c2d97e6777b$var$r.u = !0;\n        var c = $35130c2d97e6777b$var$r.shouldComponentUpdate, e = $35130c2d97e6777b$var$r.componentWillUpdate;\n        $35130c2d97e6777b$var$r.componentWillUpdate = function(n, t, r) {\n            if (this.__e) {\n                var u = c;\n                c = void 0, f(n, t, r), c = u;\n            }\n            e && e.call(this, n, t, r);\n        }, $35130c2d97e6777b$var$r.shouldComponentUpdate = f;\n    }\n    return o.__N || o.__;\n}\nfunction $35130c2d97e6777b$export$6d9c69b0de29b591(u, i) {\n    var o = $35130c2d97e6777b$var$d($35130c2d97e6777b$var$t++, 3);\n    !(0, $bc4b82f252aed4aa$export$41c562ebe57d11e2).__s && $35130c2d97e6777b$var$z(o.__H, i) && (o.__ = u, o.i = i, $35130c2d97e6777b$var$r.__H.__h.push(o));\n}\nfunction $35130c2d97e6777b$export$e5c5a5f917a5871c(u, i) {\n    var o = $35130c2d97e6777b$var$d($35130c2d97e6777b$var$t++, 4);\n    !(0, $bc4b82f252aed4aa$export$41c562ebe57d11e2).__s && $35130c2d97e6777b$var$z(o.__H, i) && (o.__ = u, o.i = i, $35130c2d97e6777b$var$r.__h.push(o));\n}\nfunction $35130c2d97e6777b$export$b8f5890fc79d6aca(n) {\n    return $35130c2d97e6777b$var$o = 5, $35130c2d97e6777b$export$1538c33de8887b59(function() {\n        return {\n            current: n\n        };\n    }, []);\n}\nfunction $35130c2d97e6777b$export$d5a552a76deda3c2(n, t, r) {\n    $35130c2d97e6777b$var$o = 6, $35130c2d97e6777b$export$e5c5a5f917a5871c(function() {\n        return \"function\" == typeof n ? (n(t()), function() {\n            return n(null);\n        }) : n ? (n.current = t(), function() {\n            return n.current = null;\n        }) : void 0;\n    }, null == r ? r : r.concat(n));\n}\nfunction $35130c2d97e6777b$export$1538c33de8887b59(n, r) {\n    var u = $35130c2d97e6777b$var$d($35130c2d97e6777b$var$t++, 7);\n    return $35130c2d97e6777b$var$z(u.__H, r) ? (u.__V = n(), u.i = r, u.__h = n, u.__V) : u.__;\n}\nfunction $35130c2d97e6777b$export$35808ee640e87ca7(n, t) {\n    return $35130c2d97e6777b$var$o = 8, $35130c2d97e6777b$export$1538c33de8887b59(function() {\n        return n;\n    }, t);\n}\nfunction $35130c2d97e6777b$export$fae74005e78b1a27(n) {\n    var u = $35130c2d97e6777b$var$r.context[n.__c], i = $35130c2d97e6777b$var$d($35130c2d97e6777b$var$t++, 9);\n    return i.c = n, u ? (null == i.__ && (i.__ = !0, u.sub($35130c2d97e6777b$var$r)), u.props.value) : n.__;\n}\nfunction $35130c2d97e6777b$export$dc8fbce3eb94dc1e(t, r) {\n    (0, $bc4b82f252aed4aa$export$41c562ebe57d11e2).useDebugValue && (0, $bc4b82f252aed4aa$export$41c562ebe57d11e2).useDebugValue(r ? r(t) : t);\n}\nfunction $35130c2d97e6777b$export$c052f6604b7d51fe(n) {\n    var u = $35130c2d97e6777b$var$d($35130c2d97e6777b$var$t++, 10), i = $35130c2d97e6777b$export$60241385465d0a34();\n    return u.__ = n, $35130c2d97e6777b$var$r.componentDidCatch || ($35130c2d97e6777b$var$r.componentDidCatch = function(n, t) {\n        u.__ && u.__(n, t), i[1](n);\n    }), [\n        i[0],\n        function() {\n            i[1](void 0);\n        }\n    ];\n}\nfunction $35130c2d97e6777b$export$f680877a34711e37() {\n    var n = $35130c2d97e6777b$var$d($35130c2d97e6777b$var$t++, 11);\n    if (!n.__) {\n        for(var u = $35130c2d97e6777b$var$r.__v; null !== u && !u.__m && null !== u.__;)u = u.__;\n        var i = u.__m || (u.__m = [\n            0,\n            0\n        ]);\n        n.__ = \"P\" + i[0] + \"-\" + i[1]++;\n    }\n    return n.__;\n}\nfunction $35130c2d97e6777b$var$b() {\n    for(var t; t = $35130c2d97e6777b$var$f.shift();)if (t.__P && t.__H) try {\n        t.__H.__h.forEach($35130c2d97e6777b$var$k), t.__H.__h.forEach($35130c2d97e6777b$var$w), t.__H.__h = [];\n    } catch (r) {\n        t.__H.__h = [], (0, $bc4b82f252aed4aa$export$41c562ebe57d11e2).__e(r, t.__v);\n    }\n}\n(0, $bc4b82f252aed4aa$export$41c562ebe57d11e2).__b = function(n) {\n    $35130c2d97e6777b$var$r = null, $35130c2d97e6777b$var$e && $35130c2d97e6777b$var$e(n);\n}, (0, $bc4b82f252aed4aa$export$41c562ebe57d11e2).__r = function(n) {\n    $35130c2d97e6777b$var$a && $35130c2d97e6777b$var$a(n), $35130c2d97e6777b$var$t = 0;\n    var i = ($35130c2d97e6777b$var$r = n.__c).__H;\n    i && ($35130c2d97e6777b$var$u === $35130c2d97e6777b$var$r ? (i.__h = [], $35130c2d97e6777b$var$r.__h = [], i.__.forEach(function(n) {\n        n.__N && (n.__ = n.__N), n.__V = $35130c2d97e6777b$var$c, n.__N = n.i = void 0;\n    })) : (i.__h.forEach($35130c2d97e6777b$var$k), i.__h.forEach($35130c2d97e6777b$var$w), i.__h = [], $35130c2d97e6777b$var$t = 0)), $35130c2d97e6777b$var$u = $35130c2d97e6777b$var$r;\n}, (0, $bc4b82f252aed4aa$export$41c562ebe57d11e2).diffed = function(t) {\n    $35130c2d97e6777b$var$v && $35130c2d97e6777b$var$v(t);\n    var o = t.__c;\n    o && o.__H && (o.__H.__h.length && (1 !== $35130c2d97e6777b$var$f.push(o) && $35130c2d97e6777b$var$i === (0, $bc4b82f252aed4aa$export$41c562ebe57d11e2).requestAnimationFrame || (($35130c2d97e6777b$var$i = (0, $bc4b82f252aed4aa$export$41c562ebe57d11e2).requestAnimationFrame) || $35130c2d97e6777b$var$j)($35130c2d97e6777b$var$b)), o.__H.__.forEach(function(n) {\n        n.i && (n.__H = n.i), n.__V !== $35130c2d97e6777b$var$c && (n.__ = n.__V), n.i = void 0, n.__V = $35130c2d97e6777b$var$c;\n    })), $35130c2d97e6777b$var$u = $35130c2d97e6777b$var$r = null;\n}, (0, $bc4b82f252aed4aa$export$41c562ebe57d11e2).__c = function(t, r) {\n    r.some(function(t) {\n        try {\n            t.__h.forEach($35130c2d97e6777b$var$k), t.__h = t.__h.filter(function(n) {\n                return !n.__ || $35130c2d97e6777b$var$w(n);\n            });\n        } catch (u) {\n            r.some(function(n) {\n                n.__h && (n.__h = []);\n            }), r = [], (0, $bc4b82f252aed4aa$export$41c562ebe57d11e2).__e(u, t.__v);\n        }\n    }), $35130c2d97e6777b$var$l && $35130c2d97e6777b$var$l(t, r);\n}, (0, $bc4b82f252aed4aa$export$41c562ebe57d11e2).unmount = function(t) {\n    $35130c2d97e6777b$var$m && $35130c2d97e6777b$var$m(t);\n    var r, u = t.__c;\n    u && u.__H && (u.__H.__.forEach(function(n) {\n        try {\n            $35130c2d97e6777b$var$k(n);\n        } catch (n) {\n            r = n;\n        }\n    }), u.__H = void 0, r && (0, $bc4b82f252aed4aa$export$41c562ebe57d11e2).__e(r, u.__v));\n};\nvar $35130c2d97e6777b$var$g = \"function\" == typeof requestAnimationFrame;\nfunction $35130c2d97e6777b$var$j(n) {\n    var t, r = function() {\n        clearTimeout(u), $35130c2d97e6777b$var$g && cancelAnimationFrame(t), setTimeout(n);\n    }, u = setTimeout(r, 100);\n    $35130c2d97e6777b$var$g && (t = requestAnimationFrame(r));\n}\nfunction $35130c2d97e6777b$var$k(n) {\n    var t = $35130c2d97e6777b$var$r, u = n.__c;\n    \"function\" == typeof u && (n.__c = void 0, u()), $35130c2d97e6777b$var$r = t;\n}\nfunction $35130c2d97e6777b$var$w(n) {\n    var t = $35130c2d97e6777b$var$r;\n    n.__c = n.__(), $35130c2d97e6777b$var$r = t;\n}\nfunction $35130c2d97e6777b$var$z(n, t) {\n    return !n || n.length !== t.length || t.some(function(t, r) {\n        return t !== n[r];\n    });\n}\nfunction $35130c2d97e6777b$var$B(n, t) {\n    return \"function\" == typeof t ? t(n) : t;\n}\n\n\nfunction $c9d322eeb636f8e5$var$g(n, t) {\n    for(var e in t)n[e] = t[e];\n    return n;\n}\nfunction $c9d322eeb636f8e5$var$C(n, t) {\n    for(var e in n)if (\"__source\" !== e && !(e in t)) return !0;\n    for(var r in t)if (\"__source\" !== r && n[r] !== t[r]) return !0;\n    return !1;\n}\nfunction $c9d322eeb636f8e5$var$E(n, t) {\n    return n === t && (0 !== n || 1 / n == 1 / t) || n != n && t != t;\n}\nfunction $c9d322eeb636f8e5$export$221d75b3f55bb0bd(n) {\n    this.props = n;\n}\nfunction $c9d322eeb636f8e5$export$7c73462e0d25e514(n, e) {\n    function r(n) {\n        var t = this.props.ref, r = t == n.ref;\n        return !r && t && (t.call ? t(null) : t.current = null), e ? !e(this.props, n) || !r : $c9d322eeb636f8e5$var$C(this.props, n);\n    }\n    function u(e) {\n        return this.shouldComponentUpdate = r, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(n, e);\n    }\n    return u.displayName = \"Memo(\" + (n.displayName || n.name) + \")\", u.prototype.isReactComponent = !0, u.__f = !0, u;\n}\n($c9d322eeb636f8e5$export$221d75b3f55bb0bd.prototype = new (0, $bc4b82f252aed4aa$export$16fa2f45be04daa8)).isPureReactComponent = !0, $c9d322eeb636f8e5$export$221d75b3f55bb0bd.prototype.shouldComponentUpdate = function(n, t) {\n    return $c9d322eeb636f8e5$var$C(this.props, n) || $c9d322eeb636f8e5$var$C(this.state, t);\n};\nvar $c9d322eeb636f8e5$var$R = (0, $bc4b82f252aed4aa$export$41c562ebe57d11e2).__b;\n(0, $bc4b82f252aed4aa$export$41c562ebe57d11e2).__b = function(n) {\n    n.type && n.type.__f && n.ref && (n.props.ref = n.ref, n.ref = null), $c9d322eeb636f8e5$var$R && $c9d322eeb636f8e5$var$R(n);\n};\nvar $c9d322eeb636f8e5$var$N = \"undefined\" != typeof Symbol && Symbol.for && Symbol.for(\"react.forward_ref\") || 3911;\nfunction $c9d322eeb636f8e5$export$257a8862b851cb5b(n) {\n    function t(t) {\n        var e = $c9d322eeb636f8e5$var$g({}, t);\n        return delete e.ref, n(e, t.ref || null);\n    }\n    return t.$$typeof = $c9d322eeb636f8e5$var$N, t.render = t, t.prototype.isReactComponent = t.__f = !0, t.displayName = \"ForwardRef(\" + (n.displayName || n.name) + \")\", t;\n}\nvar $c9d322eeb636f8e5$var$A = function(n, t) {\n    return null == n ? null : (0, $bc4b82f252aed4aa$export$47e4c5b300681277)((0, $bc4b82f252aed4aa$export$47e4c5b300681277)(n).map(t));\n}, $c9d322eeb636f8e5$export$dca3b0875bd9a954 = {\n    map: $c9d322eeb636f8e5$var$A,\n    forEach: $c9d322eeb636f8e5$var$A,\n    count: function(n) {\n        return n ? (0, $bc4b82f252aed4aa$export$47e4c5b300681277)(n).length : 0;\n    },\n    only: function(n) {\n        var t = (0, $bc4b82f252aed4aa$export$47e4c5b300681277)(n);\n        if (1 !== t.length) throw \"Children.only\";\n        return t[0];\n    },\n    toArray: (0, $bc4b82f252aed4aa$export$47e4c5b300681277)\n}, $c9d322eeb636f8e5$var$T = (0, $bc4b82f252aed4aa$export$41c562ebe57d11e2).__e;\n(0, $bc4b82f252aed4aa$export$41c562ebe57d11e2).__e = function(n, t, e, r) {\n    if (n.then) {\n        for(var u, o = t; o = o.__;)if ((u = o.__c) && u.__c) return null == t.__e && (t.__e = e.__e, t.__k = e.__k), u.__c(n, t);\n    }\n    $c9d322eeb636f8e5$var$T(n, t, e, r);\n};\nvar $c9d322eeb636f8e5$var$F = (0, $bc4b82f252aed4aa$export$41c562ebe57d11e2).unmount;\nfunction $c9d322eeb636f8e5$var$I(n, t, e) {\n    return n && (n.__c && n.__c.__H && (n.__c.__H.__.forEach(function(n) {\n        \"function\" == typeof n.__c && n.__c();\n    }), n.__c.__H = null), null != (n = $c9d322eeb636f8e5$var$g({}, n)).__c && (n.__c.__P === e && (n.__c.__P = t), n.__c = null), n.__k = n.__k && n.__k.map(function(n) {\n        return $c9d322eeb636f8e5$var$I(n, t, e);\n    })), n;\n}\nfunction $c9d322eeb636f8e5$var$L(n, t, e) {\n    return n && (n.__v = null, n.__k = n.__k && n.__k.map(function(n) {\n        return $c9d322eeb636f8e5$var$L(n, t, e);\n    }), n.__c && n.__c.__P === t && (n.__e && e.insertBefore(n.__e, n.__d), n.__c.__e = !0, n.__c.__P = e)), n;\n}\nfunction $c9d322eeb636f8e5$export$74bf444e3cd11ea5() {\n    this.__u = 0, this.t = null, this.__b = null;\n}\nfunction $c9d322eeb636f8e5$var$D(n) {\n    var t = n.__.__c;\n    return t && t.__a && t.__a(n);\n}\nfunction $c9d322eeb636f8e5$export$488013bae63b21da(n) {\n    var e, r, u;\n    function o(o) {\n        if (e || (e = n()).then(function(n) {\n            r = n.default || n;\n        }, function(n) {\n            u = n;\n        }), u) throw u;\n        if (!r) throw e;\n        return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(r, o);\n    }\n    return o.displayName = \"Lazy\", o.__f = !0, o;\n}\nfunction $c9d322eeb636f8e5$export$998bcd577473dd93() {\n    this.u = null, this.o = null;\n}\n(0, $bc4b82f252aed4aa$export$41c562ebe57d11e2).unmount = function(n) {\n    var t = n.__c;\n    t && t.__R && t.__R(), t && !0 === n.__h && (n.type = null), $c9d322eeb636f8e5$var$F && $c9d322eeb636f8e5$var$F(n);\n}, ($c9d322eeb636f8e5$export$74bf444e3cd11ea5.prototype = new (0, $bc4b82f252aed4aa$export$16fa2f45be04daa8)).__c = function(n, t) {\n    var e = t.__c, r = this;\n    null == r.t && (r.t = []), r.t.push(e);\n    var u = $c9d322eeb636f8e5$var$D(r.__v), o = !1, i = function() {\n        o || (o = !0, e.__R = null, u ? u(l) : l());\n    };\n    e.__R = i;\n    var l = function() {\n        if (!--r.__u) {\n            if (r.state.__a) {\n                var n = r.state.__a;\n                r.__v.__k[0] = $c9d322eeb636f8e5$var$L(n, n.__c.__P, n.__c.__O);\n            }\n            var t;\n            for(r.setState({\n                __a: r.__b = null\n            }); t = r.t.pop();)t.forceUpdate();\n        }\n    }, c = !0 === t.__h;\n    r.__u++ || c || r.setState({\n        __a: r.__b = r.__v.__k[0]\n    }), n.then(i, i);\n}, $c9d322eeb636f8e5$export$74bf444e3cd11ea5.prototype.componentWillUnmount = function() {\n    this.t = [];\n}, $c9d322eeb636f8e5$export$74bf444e3cd11ea5.prototype.render = function(n, e) {\n    if (this.__b) {\n        if (this.__v.__k) {\n            var r = document.createElement(\"div\"), o = this.__v.__k[0].__c;\n            this.__v.__k[0] = $c9d322eeb636f8e5$var$I(this.__b, r, o.__O = o.__P);\n        }\n        this.__b = null;\n    }\n    var i = e.__a && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $bc4b82f252aed4aa$export$ffb0004e005737fa), null, n.fallback);\n    return i && (i.__h = null), [\n        (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $bc4b82f252aed4aa$export$ffb0004e005737fa), null, e.__a ? null : n.children),\n        i\n    ];\n};\nvar $c9d322eeb636f8e5$var$W = function(n, t, e) {\n    if (++e[1] === e[0] && n.o.delete(t), n.props.revealOrder && (\"t\" !== n.props.revealOrder[0] || !n.o.size)) for(e = n.u; e;){\n        for(; e.length > 3;)e.pop()();\n        if (e[1] < e[0]) break;\n        n.u = e = e[2];\n    }\n};\nfunction $c9d322eeb636f8e5$var$P(n) {\n    return this.getChildContext = function() {\n        return n.context;\n    }, n.children;\n}\nfunction $c9d322eeb636f8e5$var$j(n) {\n    var e = this, r = n.i;\n    e.componentWillUnmount = function() {\n        (0, $bc4b82f252aed4aa$export$b3890eb0ae9dca99)(null, e.l), e.l = null, e.i = null;\n    }, e.i && e.i !== r && e.componentWillUnmount(), e.l || (e.i = r, e.l = {\n        nodeType: 1,\n        parentNode: r,\n        childNodes: [],\n        appendChild: function(n) {\n            this.childNodes.push(n), e.i.appendChild(n);\n        },\n        insertBefore: function(n, t) {\n            this.childNodes.push(n), e.i.appendChild(n);\n        },\n        removeChild: function(n) {\n            this.childNodes.splice(this.childNodes.indexOf(n) >>> 1, 1), e.i.removeChild(n);\n        }\n    }), (0, $bc4b82f252aed4aa$export$b3890eb0ae9dca99)((0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)($c9d322eeb636f8e5$var$P, {\n        context: e.context\n    }, n.__v), e.l);\n}\nfunction $c9d322eeb636f8e5$export$d39a5bbd09211389(n, e) {\n    var r = (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)($c9d322eeb636f8e5$var$j, {\n        __v: n,\n        i: e\n    });\n    return r.containerInfo = e, r;\n}\n($c9d322eeb636f8e5$export$998bcd577473dd93.prototype = new (0, $bc4b82f252aed4aa$export$16fa2f45be04daa8)).__a = function(n) {\n    var t = this, e = $c9d322eeb636f8e5$var$D(t.__v), r = t.o.get(n);\n    return r[0]++, function(u) {\n        var o = function() {\n            t.props.revealOrder ? (r.push(u), $c9d322eeb636f8e5$var$W(t, n, r)) : u();\n        };\n        e ? e(o) : o();\n    };\n}, $c9d322eeb636f8e5$export$998bcd577473dd93.prototype.render = function(n) {\n    this.u = null, this.o = new Map;\n    var t = (0, $bc4b82f252aed4aa$export$47e4c5b300681277)(n.children);\n    n.revealOrder && \"b\" === n.revealOrder[0] && t.reverse();\n    for(var e = t.length; e--;)this.o.set(t[e], this.u = [\n        1,\n        0,\n        this.u\n    ]);\n    return n.children;\n}, $c9d322eeb636f8e5$export$998bcd577473dd93.prototype.componentDidUpdate = $c9d322eeb636f8e5$export$998bcd577473dd93.prototype.componentDidMount = function() {\n    var n = this;\n    this.o.forEach(function(t, e) {\n        $c9d322eeb636f8e5$var$W(n, e, t);\n    });\n};\nvar $c9d322eeb636f8e5$var$B = \"undefined\" != typeof Symbol && Symbol.for && Symbol.for(\"react.element\") || 60103, $c9d322eeb636f8e5$var$H = /^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/, $c9d322eeb636f8e5$var$Z = /^on(Ani|Tra|Tou|BeforeInp|Compo)/, $c9d322eeb636f8e5$var$Y = /[A-Z0-9]/g, $c9d322eeb636f8e5$var$$ = \"undefined\" != typeof document, $c9d322eeb636f8e5$var$q = function(n) {\n    return (\"undefined\" != typeof Symbol && \"symbol\" == typeof Symbol() ? /fil|che|rad/ : /fil|che|ra/).test(n);\n};\nfunction $c9d322eeb636f8e5$export$b3890eb0ae9dca99(n, t, e) {\n    return null == t.__k && (t.textContent = \"\"), (0, $bc4b82f252aed4aa$export$b3890eb0ae9dca99)(n, t), \"function\" == typeof e && e(), n ? n.__c : null;\n}\nfunction $c9d322eeb636f8e5$export$fa8d919ba61d84db(n, t, e) {\n    return (0, $bc4b82f252aed4aa$export$fa8d919ba61d84db)(n, t), \"function\" == typeof e && e(), n ? n.__c : null;\n}\n(0, $bc4b82f252aed4aa$export$16fa2f45be04daa8).prototype.isReactComponent = {}, [\n    \"componentWillMount\",\n    \"componentWillReceiveProps\",\n    \"componentWillUpdate\"\n].forEach(function(t) {\n    Object.defineProperty((0, $bc4b82f252aed4aa$export$16fa2f45be04daa8).prototype, t, {\n        configurable: !0,\n        get: function() {\n            return this[\"UNSAFE_\" + t];\n        },\n        set: function(n) {\n            Object.defineProperty(this, t, {\n                configurable: !0,\n                writable: !0,\n                value: n\n            });\n        }\n    });\n});\nvar $c9d322eeb636f8e5$var$K = (0, $bc4b82f252aed4aa$export$41c562ebe57d11e2).event;\nfunction $c9d322eeb636f8e5$var$Q() {}\nfunction $c9d322eeb636f8e5$var$X() {\n    return this.cancelBubble;\n}\nfunction $c9d322eeb636f8e5$var$nn() {\n    return this.defaultPrevented;\n}\n(0, $bc4b82f252aed4aa$export$41c562ebe57d11e2).event = function(n) {\n    return $c9d322eeb636f8e5$var$K && (n = $c9d322eeb636f8e5$var$K(n)), n.persist = $c9d322eeb636f8e5$var$Q, n.isPropagationStopped = $c9d322eeb636f8e5$var$X, n.isDefaultPrevented = $c9d322eeb636f8e5$var$nn, n.nativeEvent = n;\n};\nvar $c9d322eeb636f8e5$var$tn, $c9d322eeb636f8e5$var$en = {\n    enumerable: !1,\n    configurable: !0,\n    get: function() {\n        return this.class;\n    }\n}, $c9d322eeb636f8e5$var$rn = (0, $bc4b82f252aed4aa$export$41c562ebe57d11e2).vnode;\n(0, $bc4b82f252aed4aa$export$41c562ebe57d11e2).vnode = function(n) {\n    \"string\" == typeof n.type && function(n) {\n        var t = n.props, e = n.type, u = {};\n        for(var o in t){\n            var i = t[o];\n            if (!(\"value\" === o && \"defaultValue\" in t && null == i || $c9d322eeb636f8e5$var$$ && \"children\" === o && \"noscript\" === e || \"class\" === o || \"className\" === o)) {\n                var l = o.toLowerCase();\n                \"defaultValue\" === o && \"value\" in t && null == t.value ? o = \"value\" : \"download\" === o && !0 === i ? i = \"\" : \"ondoubleclick\" === l ? o = \"ondblclick\" : \"onchange\" !== l || \"input\" !== e && \"textarea\" !== e || $c9d322eeb636f8e5$var$q(t.type) ? \"onfocus\" === l ? o = \"onfocusin\" : \"onblur\" === l ? o = \"onfocusout\" : $c9d322eeb636f8e5$var$Z.test(o) ? o = l : -1 === e.indexOf(\"-\") && $c9d322eeb636f8e5$var$H.test(o) ? o = o.replace($c9d322eeb636f8e5$var$Y, \"-$&\").toLowerCase() : null === i && (i = void 0) : l = o = \"oninput\", \"oninput\" === l && u[o = l] && (o = \"oninputCapture\"), u[o] = i;\n            }\n        }\n        \"select\" == e && u.multiple && Array.isArray(u.value) && (u.value = (0, $bc4b82f252aed4aa$export$47e4c5b300681277)(t.children).forEach(function(n) {\n            n.props.selected = -1 != u.value.indexOf(n.props.value);\n        })), \"select\" == e && null != u.defaultValue && (u.value = (0, $bc4b82f252aed4aa$export$47e4c5b300681277)(t.children).forEach(function(n) {\n            n.props.selected = u.multiple ? -1 != u.defaultValue.indexOf(n.props.value) : u.defaultValue == n.props.value;\n        })), t.class && !t.className ? (u.class = t.class, Object.defineProperty(u, \"className\", $c9d322eeb636f8e5$var$en)) : (t.className && !t.class || t.class && t.className) && (u.class = u.className = t.className), n.props = u;\n    }(n), n.$$typeof = $c9d322eeb636f8e5$var$B, $c9d322eeb636f8e5$var$rn && $c9d322eeb636f8e5$var$rn(n);\n};\nvar $c9d322eeb636f8e5$var$un = (0, $bc4b82f252aed4aa$export$41c562ebe57d11e2).__r;\n(0, $bc4b82f252aed4aa$export$41c562ebe57d11e2).__r = function(n) {\n    $c9d322eeb636f8e5$var$un && $c9d322eeb636f8e5$var$un(n), $c9d322eeb636f8e5$var$tn = n.__c;\n};\nvar $c9d322eeb636f8e5$var$on = (0, $bc4b82f252aed4aa$export$41c562ebe57d11e2).diffed;\n(0, $bc4b82f252aed4aa$export$41c562ebe57d11e2).diffed = function(n) {\n    $c9d322eeb636f8e5$var$on && $c9d322eeb636f8e5$var$on(n);\n    var t = n.props, e = n.__e;\n    null != e && \"textarea\" === n.type && \"value\" in t && t.value !== e.value && (e.value = null == t.value ? \"\" : t.value), $c9d322eeb636f8e5$var$tn = null;\n};\nvar $c9d322eeb636f8e5$export$ae55be85d98224ed = {\n    ReactCurrentDispatcher: {\n        current: {\n            readContext: function(n) {\n                return $c9d322eeb636f8e5$var$tn.__n[n.__c].props.value;\n            }\n        }\n    }\n}, $c9d322eeb636f8e5$export$83d89fbfd8236492 = \"17.0.2\";\nfunction $c9d322eeb636f8e5$export$d38cd72104c1f0e9(n) {\n    return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d).bind(null, n);\n}\nfunction $c9d322eeb636f8e5$export$a8257692ac88316c(n) {\n    return !!n && n.$$typeof === $c9d322eeb636f8e5$var$B;\n}\nfunction $c9d322eeb636f8e5$export$9522e17588c12572(n) {\n    return $c9d322eeb636f8e5$export$a8257692ac88316c(n) && n.type === (0, $bc4b82f252aed4aa$export$ffb0004e005737fa);\n}\nfunction $c9d322eeb636f8e5$export$e530037191fcd5d7(n) {\n    return $c9d322eeb636f8e5$export$a8257692ac88316c(n) ? (0, $bc4b82f252aed4aa$export$e530037191fcd5d7).apply(null, arguments) : n;\n}\nfunction $c9d322eeb636f8e5$export$502457920280e6be(n) {\n    return !!n.__k && ((0, $bc4b82f252aed4aa$export$b3890eb0ae9dca99)(null, n), !0);\n}\nfunction $c9d322eeb636f8e5$export$466bfc07425424d5(n) {\n    return n && (n.base || 1 === n.nodeType && n) || null;\n}\nvar $c9d322eeb636f8e5$export$c78a37762a8d58e1 = function(n, t) {\n    return n(t);\n}, $c9d322eeb636f8e5$export$cd75ccfd720a3cd4 = function(n, t) {\n    return n(t);\n}, $c9d322eeb636f8e5$export$5f8d39834fd61797 = (0, $bc4b82f252aed4aa$export$ffb0004e005737fa);\nfunction $c9d322eeb636f8e5$export$7568632d0d33d16d(n) {\n    n();\n}\nfunction $c9d322eeb636f8e5$export$6a7bc4e911dc01cf(n) {\n    return n;\n}\nfunction $c9d322eeb636f8e5$export$7b286972b8d8ccbf() {\n    return [\n        !1,\n        $c9d322eeb636f8e5$export$7568632d0d33d16d\n    ];\n}\nvar $c9d322eeb636f8e5$export$aaabe4eda9ed9969 = (0, $35130c2d97e6777b$export$e5c5a5f917a5871c), $c9d322eeb636f8e5$export$45a5e7f76e0caa8d = $c9d322eeb636f8e5$export$a8257692ac88316c;\nfunction $c9d322eeb636f8e5$export$306c0aa65ff9ec16(n, t) {\n    var e = t(), r = (0, $35130c2d97e6777b$export$60241385465d0a34)({\n        h: {\n            __: e,\n            v: t\n        }\n    }), u = r[0].h, o = r[1];\n    return (0, $35130c2d97e6777b$export$e5c5a5f917a5871c)(function() {\n        u.__ = e, u.v = t, $c9d322eeb636f8e5$var$E(u.__, t()) || o({\n            h: u\n        });\n    }, [\n        n,\n        e,\n        t\n    ]), (0, $35130c2d97e6777b$export$6d9c69b0de29b591)(function() {\n        return $c9d322eeb636f8e5$var$E(u.__, u.v()) || o({\n            h: u\n        }), n(function() {\n            $c9d322eeb636f8e5$var$E(u.__, u.v()) || o({\n                h: u\n            });\n        });\n    }, [\n        n\n    ]), e;\n}\nvar $c9d322eeb636f8e5$export$2e2bcd8739ae039 = {\n    useState: (0, $35130c2d97e6777b$export$60241385465d0a34),\n    useId: (0, $35130c2d97e6777b$export$f680877a34711e37),\n    useReducer: (0, $35130c2d97e6777b$export$13e3392192263954),\n    useEffect: (0, $35130c2d97e6777b$export$6d9c69b0de29b591),\n    useLayoutEffect: (0, $35130c2d97e6777b$export$e5c5a5f917a5871c),\n    useInsertionEffect: $c9d322eeb636f8e5$export$aaabe4eda9ed9969,\n    useTransition: $c9d322eeb636f8e5$export$7b286972b8d8ccbf,\n    useDeferredValue: $c9d322eeb636f8e5$export$6a7bc4e911dc01cf,\n    useSyncExternalStore: $c9d322eeb636f8e5$export$306c0aa65ff9ec16,\n    startTransition: $c9d322eeb636f8e5$export$7568632d0d33d16d,\n    useRef: (0, $35130c2d97e6777b$export$b8f5890fc79d6aca),\n    useImperativeHandle: (0, $35130c2d97e6777b$export$d5a552a76deda3c2),\n    useMemo: (0, $35130c2d97e6777b$export$1538c33de8887b59),\n    useCallback: (0, $35130c2d97e6777b$export$35808ee640e87ca7),\n    useContext: (0, $35130c2d97e6777b$export$fae74005e78b1a27),\n    useDebugValue: (0, $35130c2d97e6777b$export$dc8fbce3eb94dc1e),\n    version: \"17.0.2\",\n    Children: $c9d322eeb636f8e5$export$dca3b0875bd9a954,\n    render: $c9d322eeb636f8e5$export$b3890eb0ae9dca99,\n    hydrate: $c9d322eeb636f8e5$export$fa8d919ba61d84db,\n    unmountComponentAtNode: $c9d322eeb636f8e5$export$502457920280e6be,\n    createPortal: $c9d322eeb636f8e5$export$d39a5bbd09211389,\n    createElement: (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d),\n    createContext: (0, $bc4b82f252aed4aa$export$fd42f52fd3ae1109),\n    createFactory: $c9d322eeb636f8e5$export$d38cd72104c1f0e9,\n    cloneElement: $c9d322eeb636f8e5$export$e530037191fcd5d7,\n    createRef: (0, $bc4b82f252aed4aa$export$7d1e3a5e95ceca43),\n    Fragment: (0, $bc4b82f252aed4aa$export$ffb0004e005737fa),\n    isValidElement: $c9d322eeb636f8e5$export$a8257692ac88316c,\n    isElement: $c9d322eeb636f8e5$export$45a5e7f76e0caa8d,\n    isFragment: $c9d322eeb636f8e5$export$9522e17588c12572,\n    findDOMNode: $c9d322eeb636f8e5$export$466bfc07425424d5,\n    Component: (0, $bc4b82f252aed4aa$export$16fa2f45be04daa8),\n    PureComponent: $c9d322eeb636f8e5$export$221d75b3f55bb0bd,\n    memo: $c9d322eeb636f8e5$export$7c73462e0d25e514,\n    forwardRef: $c9d322eeb636f8e5$export$257a8862b851cb5b,\n    flushSync: $c9d322eeb636f8e5$export$cd75ccfd720a3cd4,\n    unstable_batchedUpdates: $c9d322eeb636f8e5$export$c78a37762a8d58e1,\n    StrictMode: $c9d322eeb636f8e5$export$5f8d39834fd61797,\n    Suspense: $c9d322eeb636f8e5$export$74bf444e3cd11ea5,\n    SuspenseList: $c9d322eeb636f8e5$export$998bcd577473dd93,\n    lazy: $c9d322eeb636f8e5$export$488013bae63b21da,\n    __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED: $c9d322eeb636f8e5$export$ae55be85d98224ed\n};\n$parcel$exportWildcard($c9d322eeb636f8e5$exports, $35130c2d97e6777b$exports);\n\n\nvar $1e9d83a033bb58ca$exports = {};\nfunction $1e9d83a033bb58ca$var$_extends() {\n    $1e9d83a033bb58ca$exports = $1e9d83a033bb58ca$var$_extends = Object.assign ? Object.assign.bind() : function(target) {\n        for(var i = 1; i < arguments.length; i++){\n            var source = arguments[i];\n            for(var key in source)if (Object.prototype.hasOwnProperty.call(source, key)) target[key] = source[key];\n        }\n        return target;\n    }, $1e9d83a033bb58ca$exports.__esModule = true, $1e9d83a033bb58ca$exports[\"default\"] = $1e9d83a033bb58ca$exports;\n    return $1e9d83a033bb58ca$var$_extends.apply(this, arguments);\n}\n$1e9d83a033bb58ca$exports = $1e9d83a033bb58ca$var$_extends, $1e9d83a033bb58ca$exports.__esModule = true, $1e9d83a033bb58ca$exports[\"default\"] = $1e9d83a033bb58ca$exports;\n\n\n\nvar $957aeb9b5380fafb$exports = {};\n/**\n * This file automatically generated from `pre-publish.js`.\n * Do not manually edit.\n */ $957aeb9b5380fafb$exports = {\n    \"area\": true,\n    \"base\": true,\n    \"br\": true,\n    \"col\": true,\n    \"embed\": true,\n    \"hr\": true,\n    \"img\": true,\n    \"input\": true,\n    \"link\": true,\n    \"meta\": true,\n    \"param\": true,\n    \"source\": true,\n    \"track\": true,\n    \"wbr\": true\n};\n\n\nvar $c6e574caa354fd2a$var$t = /\\s([^'\"/\\s><]+?)[\\s/>]|([^\\s=]+)=\\s?(\".*?\"|'.*?')/g;\nfunction $c6e574caa354fd2a$var$n(n) {\n    var r = {\n        type: \"tag\",\n        name: \"\",\n        voidElement: !1,\n        attrs: {},\n        children: []\n    }, i = n.match(/<\\/?([^\\s]+?)[/\\s>]/);\n    if (i && (r.name = i[1], ((0, (/*@__PURE__*/$parcel$interopDefault($957aeb9b5380fafb$exports)))[i[1]] || \"/\" === n.charAt(n.length - 2)) && (r.voidElement = !0), r.name.startsWith(\"!--\"))) {\n        var s = n.indexOf(\"-->\");\n        return {\n            type: \"comment\",\n            comment: -1 !== s ? n.slice(4, s) : \"\"\n        };\n    }\n    for(var a = new RegExp($c6e574caa354fd2a$var$t), c = null; null !== (c = a.exec(n));)if (c[0].trim()) {\n        if (c[1]) {\n            var o = c[1].trim(), l = [\n                o,\n                \"\"\n            ];\n            o.indexOf(\"=\") > -1 && (l = o.split(\"=\")), r.attrs[l[0]] = l[1], a.lastIndex--;\n        } else c[2] && (r.attrs[c[2]] = c[3].trim().substring(1, c[3].length - 1));\n    }\n    return r;\n}\nvar $c6e574caa354fd2a$var$r = /<[a-zA-Z0-9\\-\\!\\/](?:\"[^\"]*\"|'[^']*'|[^'\">])*>/g, $c6e574caa354fd2a$var$i = /^\\s*$/, $c6e574caa354fd2a$var$s = Object.create(null);\nfunction $c6e574caa354fd2a$var$a(e, t) {\n    switch(t.type){\n        case \"text\":\n            return e + t.content;\n        case \"tag\":\n            return e += \"<\" + t.name + (t.attrs ? function(e) {\n                var t = [];\n                for(var n in e)t.push(n + '=\"' + e[n] + '\"');\n                return t.length ? \" \" + t.join(\" \") : \"\";\n            }(t.attrs) : \"\") + (t.voidElement ? \"/>\" : \">\"), t.voidElement ? e : e + t.children.reduce($c6e574caa354fd2a$var$a, \"\") + \"</\" + t.name + \">\";\n        case \"comment\":\n            return e + \"<!--\" + t.comment + \"-->\";\n    }\n}\nvar $c6e574caa354fd2a$var$c = {\n    parse: function(e, t) {\n        t || (t = {}), t.components || (t.components = $c6e574caa354fd2a$var$s);\n        var a, c = [], o = [], l = -1, m = !1;\n        if (0 !== e.indexOf(\"<\")) {\n            var u = e.indexOf(\"<\");\n            c.push({\n                type: \"text\",\n                content: -1 === u ? e : e.substring(0, u)\n            });\n        }\n        return e.replace($c6e574caa354fd2a$var$r, function(r, s) {\n            if (m) {\n                if (r !== \"</\" + a.name + \">\") return;\n                m = !1;\n            }\n            var u, f = \"/\" !== r.charAt(1), h = r.startsWith(\"<!--\"), p = s + r.length, d = e.charAt(p);\n            if (h) {\n                var v = $c6e574caa354fd2a$var$n(r);\n                return l < 0 ? (c.push(v), c) : ((u = o[l]).children.push(v), c);\n            }\n            if (f && (l++, \"tag\" === (a = $c6e574caa354fd2a$var$n(r)).type && t.components[a.name] && (a.type = \"component\", m = !0), a.voidElement || m || !d || \"<\" === d || a.children.push({\n                type: \"text\",\n                content: e.slice(p, e.indexOf(\"<\", p))\n            }), 0 === l && c.push(a), (u = o[l - 1]) && u.children.push(a), o[l] = a), (!f || a.voidElement) && (l > -1 && (a.voidElement || a.name === r.slice(2, -1)) && (l--, a = -1 === l ? c : o[l]), !m && \"<\" !== d && d)) {\n                u = -1 === l ? c : o[l].children;\n                var x = e.indexOf(\"<\", p), g = e.slice(p, -1 === x ? void 0 : x);\n                $c6e574caa354fd2a$var$i.test(g) && (g = \" \"), (x > -1 && l + u.length >= 0 || \" \" !== g) && u.push({\n                    type: \"text\",\n                    content: g\n                });\n            }\n        }), c;\n    },\n    stringify: function(e) {\n        return e.reduce(function(e, t) {\n            return e + $c6e574caa354fd2a$var$a(\"\", t);\n        }, \"\");\n    }\n};\nvar $c6e574caa354fd2a$export$2e2bcd8739ae039 = $c6e574caa354fd2a$var$c;\n\n\nfunction $52be05fa2baefe83$export$c106dd0671a0fc2d() {\n    if (console && console.warn) {\n        for(var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++)args[_key] = arguments[_key];\n        if (typeof args[0] === \"string\") args[0] = `react-i18next:: ${args[0]}`;\n        console.warn(...args);\n    }\n}\nconst $52be05fa2baefe83$var$alreadyWarned = {};\nfunction $52be05fa2baefe83$export$5b28268982f175ba() {\n    for(var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++)args[_key2] = arguments[_key2];\n    if (typeof args[0] === \"string\" && $52be05fa2baefe83$var$alreadyWarned[args[0]]) return;\n    if (typeof args[0] === \"string\") $52be05fa2baefe83$var$alreadyWarned[args[0]] = new Date();\n    $52be05fa2baefe83$export$c106dd0671a0fc2d(...args);\n}\nconst $52be05fa2baefe83$var$loadedClb = (i18n, cb)=>()=>{\n        if (i18n.isInitialized) cb();\n        else {\n            const initialized = ()=>{\n                setTimeout(()=>{\n                    i18n.off(\"initialized\", initialized);\n                }, 0);\n                cb();\n            };\n            i18n.on(\"initialized\", initialized);\n        }\n    };\nfunction $52be05fa2baefe83$export$83be934b53fff43b(i18n, ns, cb) {\n    i18n.loadNamespaces(ns, $52be05fa2baefe83$var$loadedClb(i18n, cb));\n}\nfunction $52be05fa2baefe83$export$8cd7e7a54fa865bc(i18n, lng, ns, cb) {\n    if (typeof ns === \"string\") ns = [\n        ns\n    ];\n    ns.forEach((n)=>{\n        if (i18n.options.ns.indexOf(n) < 0) i18n.options.ns.push(n);\n    });\n    i18n.loadLanguages(lng, $52be05fa2baefe83$var$loadedClb(i18n, cb));\n}\nfunction $52be05fa2baefe83$var$oldI18nextHasLoadedNamespace(ns, i18n) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    const lng = i18n.languages[0];\n    const fallbackLng = i18n.options ? i18n.options.fallbackLng : false;\n    const lastLng = i18n.languages[i18n.languages.length - 1];\n    if (lng.toLowerCase() === \"cimode\") return true;\n    const loadNotPending = (l, n)=>{\n        const loadState = i18n.services.backendConnector.state[`${l}|${n}`];\n        return loadState === -1 || loadState === 2;\n    };\n    if (options.bindI18n && options.bindI18n.indexOf(\"languageChanging\") > -1 && i18n.services.backendConnector.backend && i18n.isLanguageChangingTo && !loadNotPending(i18n.isLanguageChangingTo, ns)) return false;\n    if (i18n.hasResourceBundle(lng, ns)) return true;\n    if (!i18n.services.backendConnector.backend || i18n.options.resources && !i18n.options.partialBundledLanguages) return true;\n    if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns))) return true;\n    return false;\n}\nfunction $52be05fa2baefe83$export$93d9ee97c1ad3f31(ns, i18n) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    if (!i18n.languages || !i18n.languages.length) {\n        $52be05fa2baefe83$export$5b28268982f175ba(\"i18n.languages were undefined or empty\", i18n.languages);\n        return true;\n    }\n    const isNewerI18next = i18n.options.ignoreJSONStructure !== undefined;\n    if (!isNewerI18next) return $52be05fa2baefe83$var$oldI18nextHasLoadedNamespace(ns, i18n, options);\n    return i18n.hasLoadedNamespace(ns, {\n        lng: options.lng,\n        precheck: (i18nInstance, loadNotPending)=>{\n            if (options.bindI18n && options.bindI18n.indexOf(\"languageChanging\") > -1 && i18nInstance.services.backendConnector.backend && i18nInstance.isLanguageChangingTo && !loadNotPending(i18nInstance.isLanguageChangingTo, ns)) return false;\n        }\n    });\n}\nfunction $52be05fa2baefe83$export$be63e0664592e141(Component) {\n    return Component.displayName || Component.name || (typeof Component === \"string\" && Component.length > 0 ? Component : \"Unknown\");\n}\n\n\nconst $a0179c60df6f1bb4$var$matchHtmlEntity = /&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g;\nconst $a0179c60df6f1bb4$var$htmlEntities = {\n    \"&amp;\": \"&\",\n    \"&#38;\": \"&\",\n    \"&lt;\": \"<\",\n    \"&#60;\": \"<\",\n    \"&gt;\": \">\",\n    \"&#62;\": \">\",\n    \"&apos;\": \"'\",\n    \"&#39;\": \"'\",\n    \"&quot;\": '\"',\n    \"&#34;\": '\"',\n    \"&nbsp;\": \" \",\n    \"&#160;\": \" \",\n    \"&copy;\": \"\\xa9\",\n    \"&#169;\": \"\\xa9\",\n    \"&reg;\": \"\\xae\",\n    \"&#174;\": \"\\xae\",\n    \"&hellip;\": \"\",\n    \"&#8230;\": \"\",\n    \"&#x2F;\": \"/\",\n    \"&#47;\": \"/\"\n};\nconst $a0179c60df6f1bb4$var$unescapeHtmlEntity = (m)=>$a0179c60df6f1bb4$var$htmlEntities[m];\nconst $a0179c60df6f1bb4$export$e8bacd2802a88316 = (text)=>text.replace($a0179c60df6f1bb4$var$matchHtmlEntity, $a0179c60df6f1bb4$var$unescapeHtmlEntity);\n\n\nlet $4ec6b5e5b6e9f8d7$var$defaultOptions = {\n    bindI18n: \"languageChanged\",\n    bindI18nStore: \"\",\n    transEmptyNodeValue: \"\",\n    transSupportBasicHtmlNodes: true,\n    transWrapTextNodes: \"\",\n    transKeepBasicHtmlNodesFor: [\n        \"br\",\n        \"strong\",\n        \"i\",\n        \"p\"\n    ],\n    useSuspense: true,\n    unescape: $a0179c60df6f1bb4$export$e8bacd2802a88316\n};\nfunction $4ec6b5e5b6e9f8d7$export$2e2366488d12e20d() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    $4ec6b5e5b6e9f8d7$var$defaultOptions = {\n        ...$4ec6b5e5b6e9f8d7$var$defaultOptions,\n        ...options\n    };\n}\nfunction $4ec6b5e5b6e9f8d7$export$212bb2fc580a90a8() {\n    return $4ec6b5e5b6e9f8d7$var$defaultOptions;\n}\n\n\nlet $3a9c5b0a2981242b$var$i18nInstance;\nfunction $3a9c5b0a2981242b$export$a039134f2fc7e0(instance) {\n    $3a9c5b0a2981242b$var$i18nInstance = instance;\n}\nfunction $3a9c5b0a2981242b$export$64af334f494c2f47() {\n    return $3a9c5b0a2981242b$var$i18nInstance;\n}\n\n\nfunction $a25339dd45d6990b$var$hasChildren(node, checkLength) {\n    if (!node) return false;\n    const base = node.props ? node.props.children : node.children;\n    if (checkLength) return base.length > 0;\n    return !!base;\n}\nfunction $a25339dd45d6990b$var$getChildren(node) {\n    if (!node) return [];\n    const children = node.props ? node.props.children : node.children;\n    return node.props && node.props.i18nIsDynamicList ? $a25339dd45d6990b$var$getAsArray(children) : children;\n}\nfunction $a25339dd45d6990b$var$hasValidReactChildren(children) {\n    if (Object.prototype.toString.call(children) !== \"[object Array]\") return false;\n    return children.every((child)=>(0, $c9d322eeb636f8e5$export$a8257692ac88316c)(child));\n}\nfunction $a25339dd45d6990b$var$getAsArray(data) {\n    return Array.isArray(data) ? data : [\n        data\n    ];\n}\nfunction $a25339dd45d6990b$var$mergeProps(source, target) {\n    const newTarget = {\n        ...target\n    };\n    newTarget.props = Object.assign(source.props, target.props);\n    return newTarget;\n}\nfunction $a25339dd45d6990b$export$4f7a36dd898f1267(children, i18nOptions) {\n    if (!children) return \"\";\n    let stringNode = \"\";\n    const childrenArray = $a25339dd45d6990b$var$getAsArray(children);\n    const keepArray = i18nOptions.transSupportBasicHtmlNodes && i18nOptions.transKeepBasicHtmlNodesFor ? i18nOptions.transKeepBasicHtmlNodesFor : [];\n    childrenArray.forEach((child, childIndex)=>{\n        if (typeof child === \"string\") stringNode += `${child}`;\n        else if ((0, $c9d322eeb636f8e5$export$a8257692ac88316c)(child)) {\n            const childPropsCount = Object.keys(child.props).length;\n            const shouldKeepChild = keepArray.indexOf(child.type) > -1;\n            const childChildren = child.props.children;\n            if (!childChildren && shouldKeepChild && childPropsCount === 0) stringNode += `<${child.type}/>`;\n            else if (!childChildren && (!shouldKeepChild || childPropsCount !== 0)) stringNode += `<${childIndex}></${childIndex}>`;\n            else if (child.props.i18nIsDynamicList) stringNode += `<${childIndex}></${childIndex}>`;\n            else if (shouldKeepChild && childPropsCount === 1 && typeof childChildren === \"string\") stringNode += `<${child.type}>${childChildren}</${child.type}>`;\n            else {\n                const content = $a25339dd45d6990b$export$4f7a36dd898f1267(childChildren, i18nOptions);\n                stringNode += `<${childIndex}>${content}</${childIndex}>`;\n            }\n        } else if (child === null) (0, $52be05fa2baefe83$export$c106dd0671a0fc2d)(`Trans: the passed in value is invalid - seems you passed in a null child.`);\n        else if (typeof child === \"object\") {\n            const { format: format, ...clone } = child;\n            const keys = Object.keys(clone);\n            if (keys.length === 1) {\n                const value = format ? `${keys[0]}, ${format}` : keys[0];\n                stringNode += `{{${value}}}`;\n            } else (0, $52be05fa2baefe83$export$c106dd0671a0fc2d)(`react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.`, child);\n        } else (0, $52be05fa2baefe83$export$c106dd0671a0fc2d)(`Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.`, child);\n    });\n    return stringNode;\n}\nfunction $a25339dd45d6990b$var$renderNodes(children, targetString, i18n, i18nOptions, combinedTOpts, shouldUnescape) {\n    if (targetString === \"\") return [];\n    const keepArray = i18nOptions.transKeepBasicHtmlNodesFor || [];\n    const emptyChildrenButNeedsHandling = targetString && new RegExp(keepArray.map((keep)=>`<${keep}`).join(\"|\")).test(targetString);\n    if (!children && !emptyChildrenButNeedsHandling && !shouldUnescape) return [\n        targetString\n    ];\n    const data = {};\n    function getData(childs) {\n        const childrenArray = $a25339dd45d6990b$var$getAsArray(childs);\n        childrenArray.forEach((child)=>{\n            if (typeof child === \"string\") return;\n            if ($a25339dd45d6990b$var$hasChildren(child)) getData($a25339dd45d6990b$var$getChildren(child));\n            else if (typeof child === \"object\" && !(0, $c9d322eeb636f8e5$export$a8257692ac88316c)(child)) Object.assign(data, child);\n        });\n    }\n    getData(children);\n    const ast = (0, $c6e574caa354fd2a$export$2e2bcd8739ae039).parse(`<0>${targetString}</0>`);\n    const opts = {\n        ...data,\n        ...combinedTOpts\n    };\n    function renderInner(child, node, rootReactNode) {\n        const childs = $a25339dd45d6990b$var$getChildren(child);\n        const mappedChildren = mapAST(childs, node.children, rootReactNode);\n        return $a25339dd45d6990b$var$hasValidReactChildren(childs) && mappedChildren.length === 0 || child.props && child.props.i18nIsDynamicList ? childs : mappedChildren;\n    }\n    function pushTranslatedJSX(child, inner, mem, i, isVoid) {\n        if (child.dummy) {\n            child.children = inner;\n            mem.push((0, $c9d322eeb636f8e5$export$e530037191fcd5d7)(child, {\n                key: i\n            }, isVoid ? undefined : inner));\n        } else mem.push(...(0, $c9d322eeb636f8e5$export$dca3b0875bd9a954).map([\n            child\n        ], (c)=>{\n            const props = {\n                ...c.props\n            };\n            delete props.i18nIsDynamicList;\n            return (0, $c9d322eeb636f8e5$export$2e2bcd8739ae039).createElement(c.type, (0, (/*@__PURE__*/$parcel$interopDefault($1e9d83a033bb58ca$exports)))({}, props, {\n                key: i,\n                ref: c.ref\n            }, isVoid ? {} : {\n                children: inner\n            }));\n        }));\n    }\n    function mapAST(reactNode, astNode, rootReactNode) {\n        const reactNodes = $a25339dd45d6990b$var$getAsArray(reactNode);\n        const astNodes = $a25339dd45d6990b$var$getAsArray(astNode);\n        return astNodes.reduce((mem, node, i)=>{\n            const translationContent = node.children && node.children[0] && node.children[0].content && i18n.services.interpolator.interpolate(node.children[0].content, opts, i18n.language);\n            if (node.type === \"tag\") {\n                let tmp = reactNodes[parseInt(node.name, 10)];\n                if (rootReactNode.length === 1 && !tmp) tmp = rootReactNode[0][node.name];\n                if (!tmp) tmp = {};\n                const child = Object.keys(node.attrs).length !== 0 ? $a25339dd45d6990b$var$mergeProps({\n                    props: node.attrs\n                }, tmp) : tmp;\n                const isElement = (0, $c9d322eeb636f8e5$export$a8257692ac88316c)(child);\n                const isValidTranslationWithChildren = isElement && $a25339dd45d6990b$var$hasChildren(node, true) && !node.voidElement;\n                const isEmptyTransWithHTML = emptyChildrenButNeedsHandling && typeof child === \"object\" && child.dummy && !isElement;\n                const isKnownComponent = typeof children === \"object\" && children !== null && Object.hasOwnProperty.call(children, node.name);\n                if (typeof child === \"string\") {\n                    const value = i18n.services.interpolator.interpolate(child, opts, i18n.language);\n                    mem.push(value);\n                } else if ($a25339dd45d6990b$var$hasChildren(child) || isValidTranslationWithChildren) {\n                    const inner = renderInner(child, node, rootReactNode);\n                    pushTranslatedJSX(child, inner, mem, i);\n                } else if (isEmptyTransWithHTML) {\n                    const inner = mapAST(reactNodes, node.children, rootReactNode);\n                    pushTranslatedJSX(child, inner, mem, i);\n                } else if (Number.isNaN(parseFloat(node.name))) {\n                    if (isKnownComponent) {\n                        const inner = renderInner(child, node, rootReactNode);\n                        pushTranslatedJSX(child, inner, mem, i, node.voidElement);\n                    } else if (i18nOptions.transSupportBasicHtmlNodes && keepArray.indexOf(node.name) > -1) {\n                        if (node.voidElement) mem.push((0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(node.name, {\n                            key: `${node.name}-${i}`\n                        }));\n                        else {\n                            const inner = mapAST(reactNodes, node.children, rootReactNode);\n                            mem.push((0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(node.name, {\n                                key: `${node.name}-${i}`\n                            }, inner));\n                        }\n                    } else if (node.voidElement) mem.push(`<${node.name} />`);\n                    else {\n                        const inner = mapAST(reactNodes, node.children, rootReactNode);\n                        mem.push(`<${node.name}>${inner}</${node.name}>`);\n                    }\n                } else if (typeof child === \"object\" && !isElement) {\n                    const content = node.children[0] ? translationContent : null;\n                    if (content) mem.push(content);\n                } else pushTranslatedJSX(child, translationContent, mem, i, node.children.length !== 1 || !translationContent);\n            } else if (node.type === \"text\") {\n                const wrapTextNodes = i18nOptions.transWrapTextNodes;\n                const content = shouldUnescape ? i18nOptions.unescape(i18n.services.interpolator.interpolate(node.content, opts, i18n.language)) : i18n.services.interpolator.interpolate(node.content, opts, i18n.language);\n                if (wrapTextNodes) mem.push((0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(wrapTextNodes, {\n                    key: `${node.name}-${i}`\n                }, content));\n                else mem.push(content);\n            }\n            return mem;\n        }, []);\n    }\n    const result = mapAST([\n        {\n            dummy: true,\n            children: children || []\n        }\n    ], ast, $a25339dd45d6990b$var$getAsArray(children || []));\n    return $a25339dd45d6990b$var$getChildren(result[0]);\n}\nfunction $a25339dd45d6990b$export$8d6a9236f2e3f2ce(_ref) {\n    let { children: children, count: count, parent: parent, i18nKey: i18nKey, context: context, tOptions: tOptions = {}, values: values, defaults: defaults, components: components, ns: ns, i18n: i18nFromProps, t: tFromProps, shouldUnescape: shouldUnescape, ...additionalProps } = _ref;\n    const i18n = i18nFromProps || (0, $3a9c5b0a2981242b$export$64af334f494c2f47)();\n    if (!i18n) {\n        (0, $52be05fa2baefe83$export$5b28268982f175ba)(\"You will need to pass in an i18next instance by using i18nextReactModule\");\n        return children;\n    }\n    const t = tFromProps || i18n.t.bind(i18n) || ((k)=>k);\n    if (context) tOptions.context = context;\n    const reactI18nextOptions = {\n        ...(0, $4ec6b5e5b6e9f8d7$export$212bb2fc580a90a8)(),\n        ...i18n.options && i18n.options.react\n    };\n    let namespaces = ns || t.ns || i18n.options && i18n.options.defaultNS;\n    namespaces = typeof namespaces === \"string\" ? [\n        namespaces\n    ] : namespaces || [\n        \"translation\"\n    ];\n    const nodeAsString = $a25339dd45d6990b$export$4f7a36dd898f1267(children, reactI18nextOptions);\n    const defaultValue = defaults || nodeAsString || reactI18nextOptions.transEmptyNodeValue || i18nKey;\n    const { hashTransKey: hashTransKey } = reactI18nextOptions;\n    const key = i18nKey || (hashTransKey ? hashTransKey(nodeAsString || defaultValue) : nodeAsString || defaultValue);\n    const interpolationOverride = values ? tOptions.interpolation : {\n        interpolation: {\n            ...tOptions.interpolation,\n            prefix: \"#$?\",\n            suffix: \"?$#\"\n        }\n    };\n    const combinedTOpts = {\n        ...tOptions,\n        count: count,\n        ...values,\n        ...interpolationOverride,\n        defaultValue: defaultValue,\n        ns: namespaces\n    };\n    const translation = key ? t(key, combinedTOpts) : defaultValue;\n    const content = $a25339dd45d6990b$var$renderNodes(components || children, translation, i18n, reactI18nextOptions, combinedTOpts, shouldUnescape);\n    const useAsParent = parent !== undefined ? parent : reactI18nextOptions.defaultTransParent;\n    return useAsParent ? (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(useAsParent, additionalProps, content) : content;\n}\n\n\n\n\n\n\n\nconst $dc44570447e3a989$export$ae7e14d40d89f296 = {\n    type: \"3rdParty\",\n    init (instance) {\n        (0, $4ec6b5e5b6e9f8d7$export$2e2366488d12e20d)(instance.options.react);\n        (0, $3a9c5b0a2981242b$export$a039134f2fc7e0)(instance);\n    }\n};\n\n\nconst $a6a4853fe069bc1d$export$5603ab5ced17ce64 = (0, $bc4b82f252aed4aa$export$fd42f52fd3ae1109)();\nclass $a6a4853fe069bc1d$export$ea171b67e3820290 {\n    constructor(){\n        this.usedNamespaces = {};\n    }\n    addUsedNamespaces(namespaces) {\n        namespaces.forEach((ns)=>{\n            if (!this.usedNamespaces[ns]) this.usedNamespaces[ns] = true;\n        });\n    }\n    getUsedNamespaces() {\n        return Object.keys(this.usedNamespaces);\n    }\n}\nfunction $a6a4853fe069bc1d$export$30ff0342ccf735a(ForComponent) {\n    return (ctx)=>new Promise((resolve)=>{\n            const i18nInitialProps = $a6a4853fe069bc1d$export$704200e5d0b9e8f();\n            if (ForComponent.getInitialProps) ForComponent.getInitialProps(ctx).then((componentsInitialProps)=>{\n                resolve({\n                    ...componentsInitialProps,\n                    ...i18nInitialProps\n                });\n            });\n            else resolve(i18nInitialProps);\n        });\n}\nfunction $a6a4853fe069bc1d$export$704200e5d0b9e8f() {\n    const i18n = (0, $3a9c5b0a2981242b$export$64af334f494c2f47)();\n    const namespaces = i18n.reportNamespaces ? i18n.reportNamespaces.getUsedNamespaces() : [];\n    const ret = {};\n    const initialI18nStore = {};\n    i18n.languages.forEach((l)=>{\n        initialI18nStore[l] = {};\n        namespaces.forEach((ns)=>{\n            initialI18nStore[l][ns] = i18n.getResourceBundle(l, ns) || {};\n        });\n    });\n    ret.initialI18nStore = initialI18nStore;\n    ret.initialLanguage = i18n.language;\n    return ret;\n}\n\n\nfunction $8b039b1917e34bb1$export$8d6a9236f2e3f2ce(_ref) {\n    let { children: children, count: count, parent: parent, i18nKey: i18nKey, context: context, tOptions: tOptions = {}, values: values, defaults: defaults, components: components, ns: ns, i18n: i18nFromProps, t: tFromProps, shouldUnescape: shouldUnescape, ...additionalProps } = _ref;\n    const { i18n: i18nFromContext, defaultNS: defaultNSFromContext } = (0, $35130c2d97e6777b$export$fae74005e78b1a27)((0, $a6a4853fe069bc1d$export$5603ab5ced17ce64)) || {};\n    const i18n = i18nFromProps || i18nFromContext || (0, $3a9c5b0a2981242b$export$64af334f494c2f47)();\n    const t = tFromProps || i18n && i18n.t.bind(i18n);\n    return (0, $a25339dd45d6990b$export$8d6a9236f2e3f2ce)({\n        children: children,\n        count: count,\n        parent: parent,\n        i18nKey: i18nKey,\n        context: context,\n        tOptions: tOptions,\n        values: values,\n        defaults: defaults,\n        components: components,\n        ns: ns || t && t.ns || defaultNSFromContext || i18n && i18n.options && i18n.options.defaultNS,\n        i18n: i18n,\n        t: tFromProps,\n        shouldUnescape: shouldUnescape,\n        ...additionalProps\n    });\n}\n\n\n\n\n\n\nconst $829be5acfdd67d69$var$usePrevious = (value, ignore)=>{\n    const ref = (0, $35130c2d97e6777b$export$b8f5890fc79d6aca)();\n    (0, $35130c2d97e6777b$export$6d9c69b0de29b591)(()=>{\n        ref.current = ignore ? ref.current : value;\n    }, [\n        value,\n        ignore\n    ]);\n    return ref.current;\n};\nfunction $829be5acfdd67d69$export$9fc83ad70ead8663(ns) {\n    let props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const { i18n: i18nFromProps } = props;\n    const { i18n: i18nFromContext, defaultNS: defaultNSFromContext } = (0, $35130c2d97e6777b$export$fae74005e78b1a27)((0, $a6a4853fe069bc1d$export$5603ab5ced17ce64)) || {};\n    const i18n = i18nFromProps || i18nFromContext || (0, $3a9c5b0a2981242b$export$64af334f494c2f47)();\n    if (i18n && !i18n.reportNamespaces) i18n.reportNamespaces = new (0, $a6a4853fe069bc1d$export$ea171b67e3820290)();\n    if (!i18n) {\n        (0, $52be05fa2baefe83$export$5b28268982f175ba)(\"You will need to pass in an i18next instance by using initReactI18next\");\n        const notReadyT = (k, optsOrDefaultValue)=>{\n            if (typeof optsOrDefaultValue === \"string\") return optsOrDefaultValue;\n            if (optsOrDefaultValue && typeof optsOrDefaultValue === \"object\" && typeof optsOrDefaultValue.defaultValue === \"string\") return optsOrDefaultValue.defaultValue;\n            return Array.isArray(k) ? k[k.length - 1] : k;\n        };\n        const retNotReady = [\n            notReadyT,\n            {},\n            false\n        ];\n        retNotReady.t = notReadyT;\n        retNotReady.i18n = {};\n        retNotReady.ready = false;\n        return retNotReady;\n    }\n    if (i18n.options.react && i18n.options.react.wait !== undefined) (0, $52be05fa2baefe83$export$5b28268982f175ba)(\"It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.\");\n    const i18nOptions = {\n        ...(0, $4ec6b5e5b6e9f8d7$export$212bb2fc580a90a8)(),\n        ...i18n.options.react,\n        ...props\n    };\n    const { useSuspense: useSuspense, keyPrefix: keyPrefix } = i18nOptions;\n    let namespaces = ns || defaultNSFromContext || i18n.options && i18n.options.defaultNS;\n    namespaces = typeof namespaces === \"string\" ? [\n        namespaces\n    ] : namespaces || [\n        \"translation\"\n    ];\n    if (i18n.reportNamespaces.addUsedNamespaces) i18n.reportNamespaces.addUsedNamespaces(namespaces);\n    const ready = (i18n.isInitialized || i18n.initializedStoreOnce) && namespaces.every((n)=>(0, $52be05fa2baefe83$export$93d9ee97c1ad3f31)(n, i18n, i18nOptions));\n    function getT() {\n        return i18n.getFixedT(props.lng || null, i18nOptions.nsMode === \"fallback\" ? namespaces : namespaces[0], keyPrefix);\n    }\n    const [t, setT] = (0, $35130c2d97e6777b$export$60241385465d0a34)(getT);\n    let joinedNS = namespaces.join();\n    if (props.lng) joinedNS = `${props.lng}${joinedNS}`;\n    const previousJoinedNS = $829be5acfdd67d69$var$usePrevious(joinedNS);\n    const isMounted = (0, $35130c2d97e6777b$export$b8f5890fc79d6aca)(true);\n    (0, $35130c2d97e6777b$export$6d9c69b0de29b591)(()=>{\n        const { bindI18n: bindI18n, bindI18nStore: bindI18nStore } = i18nOptions;\n        isMounted.current = true;\n        if (!ready && !useSuspense) {\n            if (props.lng) (0, $52be05fa2baefe83$export$8cd7e7a54fa865bc)(i18n, props.lng, namespaces, ()=>{\n                if (isMounted.current) setT(getT);\n            });\n            else (0, $52be05fa2baefe83$export$83be934b53fff43b)(i18n, namespaces, ()=>{\n                if (isMounted.current) setT(getT);\n            });\n        }\n        if (ready && previousJoinedNS && previousJoinedNS !== joinedNS && isMounted.current) setT(getT);\n        function boundReset() {\n            if (isMounted.current) setT(getT);\n        }\n        if (bindI18n && i18n) i18n.on(bindI18n, boundReset);\n        if (bindI18nStore && i18n) i18n.store.on(bindI18nStore, boundReset);\n        return ()=>{\n            isMounted.current = false;\n            if (bindI18n && i18n) bindI18n.split(\" \").forEach((e)=>i18n.off(e, boundReset));\n            if (bindI18nStore && i18n) bindI18nStore.split(\" \").forEach((e)=>i18n.store.off(e, boundReset));\n        };\n    }, [\n        i18n,\n        joinedNS\n    ]);\n    const isInitial = (0, $35130c2d97e6777b$export$b8f5890fc79d6aca)(true);\n    (0, $35130c2d97e6777b$export$6d9c69b0de29b591)(()=>{\n        if (isMounted.current && !isInitial.current) setT(getT);\n        isInitial.current = false;\n    }, [\n        i18n,\n        keyPrefix\n    ]);\n    const ret = [\n        t,\n        i18n,\n        ready\n    ];\n    ret.t = t;\n    ret.i18n = i18n;\n    ret.ready = ready;\n    if (ready) return ret;\n    if (!ready && !useSuspense) return ret;\n    throw new Promise((resolve)=>{\n        if (props.lng) (0, $52be05fa2baefe83$export$8cd7e7a54fa865bc)(i18n, props.lng, namespaces, ()=>resolve());\n        else (0, $52be05fa2baefe83$export$83be934b53fff43b)(i18n, namespaces, ()=>resolve());\n    });\n}\n\n\n\n\n\nfunction $5fa4965e78bef7fc$export$2dcb0053efd21124(ns) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    return function Extend(WrappedComponent) {\n        function I18nextWithTranslation(_ref) {\n            let { forwardedRef: forwardedRef, ...rest } = _ref;\n            const [t, i18n, ready] = (0, $829be5acfdd67d69$export$9fc83ad70ead8663)(ns, {\n                ...rest,\n                keyPrefix: options.keyPrefix\n            });\n            const passDownProps = {\n                ...rest,\n                t: t,\n                i18n: i18n,\n                tReady: ready\n            };\n            if (options.withRef && forwardedRef) passDownProps.ref = forwardedRef;\n            else if (!options.withRef && forwardedRef) passDownProps.forwardedRef = forwardedRef;\n            return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(WrappedComponent, passDownProps);\n        }\n        I18nextWithTranslation.displayName = `withI18nextTranslation(${(0, $52be05fa2baefe83$export$be63e0664592e141)(WrappedComponent)})`;\n        I18nextWithTranslation.WrappedComponent = WrappedComponent;\n        const forwardRef = (props, ref)=>(0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(I18nextWithTranslation, Object.assign({}, props, {\n                forwardedRef: ref\n            }));\n        return options.withRef ? (0, $c9d322eeb636f8e5$export$257a8862b851cb5b)(forwardRef) : I18nextWithTranslation;\n    };\n}\n\n\n\nfunction $b3f0d1298e473e74$export$b63289fbda65eed1(props) {\n    const { ns: ns, children: children, ...options } = props;\n    const [t, i18n, ready] = (0, $829be5acfdd67d69$export$9fc83ad70ead8663)(ns, options);\n    return children(t, {\n        i18n: i18n,\n        lng: i18n.language\n    }, ready);\n}\n\n\n\n\nfunction $4bae5cbab0cb0a49$export$1325e8699caa160f(_ref) {\n    let { i18n: i18n, defaultNS: defaultNS, children: children } = _ref;\n    const value = (0, $35130c2d97e6777b$export$1538c33de8887b59)(()=>({\n            i18n: i18n,\n            defaultNS: defaultNS\n        }), [\n        i18n,\n        defaultNS\n    ]);\n    return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $a6a4853fe069bc1d$export$5603ab5ced17ce64).Provider, {\n        value: value\n    }, children);\n}\n\n\n\n\n\nfunction $21e25aedc73983d2$export$3526fb65ade8d8b7(initialI18nStore, initialLanguage) {\n    let props = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    const { i18n: i18nFromProps } = props;\n    const { i18n: i18nFromContext } = (0, $35130c2d97e6777b$export$fae74005e78b1a27)((0, $a6a4853fe069bc1d$export$5603ab5ced17ce64)) || {};\n    const i18n = i18nFromProps || i18nFromContext || (0, $3a9c5b0a2981242b$export$64af334f494c2f47)();\n    if (i18n.options && i18n.options.isClone) return;\n    if (initialI18nStore && !i18n.initializedStoreOnce) {\n        i18n.services.resourceStore.data = initialI18nStore;\n        i18n.options.ns = Object.values(initialI18nStore).reduce((mem, lngResources)=>{\n            Object.keys(lngResources).forEach((ns)=>{\n                if (mem.indexOf(ns) < 0) mem.push(ns);\n            });\n            return mem;\n        }, i18n.options.ns);\n        i18n.initializedStoreOnce = true;\n        i18n.isInitialized = true;\n    }\n    if (initialLanguage && !i18n.initializedLanguageOnce) {\n        i18n.changeLanguage(initialLanguage);\n        i18n.initializedLanguageOnce = true;\n    }\n}\n\n\n\n\nfunction $569b2e3befd226ba$export$80dfa519af1c8605() {\n    return function Extend(WrappedComponent) {\n        function I18nextWithSSR(_ref) {\n            let { initialI18nStore: initialI18nStore, initialLanguage: initialLanguage, ...rest } = _ref;\n            (0, $21e25aedc73983d2$export$3526fb65ade8d8b7)(initialI18nStore, initialLanguage);\n            return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(WrappedComponent, {\n                ...rest\n            });\n        }\n        I18nextWithSSR.getInitialProps = (0, $a6a4853fe069bc1d$export$30ff0342ccf735a)(WrappedComponent);\n        I18nextWithSSR.displayName = `withI18nextSSR(${(0, $52be05fa2baefe83$export$be63e0664592e141)(WrappedComponent)})`;\n        I18nextWithSSR.WrappedComponent = WrappedComponent;\n        return I18nextWithSSR;\n    };\n}\n\n\n\n\n\n\n\nconst $8f3a55efb7d5aabe$export$324d90190a8b822a = ()=>\"\";\nconst $8f3a55efb7d5aabe$export$2da9be4cfdb689b1 = ()=>\"\";\nconst $8f3a55efb7d5aabe$export$98e628dec113755e = ()=>\"\";\nconst $8f3a55efb7d5aabe$export$2e6c959c16ff56b8 = ()=>\"\";\nconst $8f3a55efb7d5aabe$export$4e35d5c922a95490 = ()=>\"\";\nconst $8f3a55efb7d5aabe$export$720a3b9db04b7a0f = ()=>\"\";\n\n\nvar $a2d22b34d2713fc4$exports = {};\n$a2d22b34d2713fc4$exports = JSON.parse('{\"previous_coms\":\"See previous comments\",\"next_coms\":\"See next comments\",\"ago\":\"{{duration}} ago\",\"groups\":\"Groups\",\"login_placeholder\":\"email\",\"password_placeholder\":\"password\",\"new_password_placeholder\":\"new password\",\"confirm_password_placeholder\":\"confirm password\",\"connect\":\"Connection\",\"submit\":\"Submit\",\"title_placeholder\":\"Title of your message (optional)\",\"text_placeholder\":\"Write your message here\",\"upload_image\":\"Add photos\",\"upload_video\":\"Add videos\",\"upload_music\":\"Add musics\",\"upload_pdf\":\"Add pdf\",\"add_date\":\"Add a date\",\"logout\":\"Logout\",\"settings\":\"Settings\",\"name\":\"Name\",\"name_input\":\"Choose a name\",\"login\":\"Login\",\"login_input\":\"Choose a login\",\"email\":\"Email\",\"email_input\":\"Fill in your email here\",\"save_changes\":\"Save changes\",\"password\":\"Password\",\"password_input\":\"Write a new password here\",\"Invalid login/password\":\"Invalid login and/or password\",\"edit\":\"Edit\",\"delete\":\"Delete\",\"ask_delete_message\":\"Are you sure to delete this message?\",\"account\":\"Account\",\"forgot_password\":\"Did you forget your password?\",\"password_reset_mail_sent\":\"The password reset email was sent !\",\"User not found\":\"User not found\",\"reset_password_title\":\"Reset your password\",\"error\":\"An error occurred\",\"passwords_dont_match\":\"Passwords don\\'t match\",\"invitation_link\":\"Invitation link\",\"reset_invitation_link\":\"Reset invitation link\",\"invitation_welcome\":\"Welcome on Zusam ! Please sign up before joining the group.\",\"signup\":\"Sign up\",\"create_a_group\":\"Create a group\",\"create_the_group\":\"Create the group\",\"quit_group\":\"Leave the group\",\"settings_updated\":\"Your settings were updated\",\"group_updated\":\"The group was updated !\",\"group_left\":\"You left the group !\",\"multiple_photos_upload\":\"An error occurred. Try uploading images one by one (this can happen in some browsers).\",\"error_new_message\":\"An error occurred while sending your message.\",\"error_upload\":\"An error occurred during the upload\",\"cancel_write\":\"Do you really want to cancel writing a new message?\",\"empty_message\":\"The message is empty and cannot be sent !\",\"cancel\":\"Cancel\",\"just_now\":\"Just now\",\"notification_emails\":\"Email notifications\",\"none\":\"None\",\"hourly\":\"Hourly\",\"daily\":\"Daily\",\"weekly\":\"Weekly\",\"monthly\":\"Monthly\",\"notification_emails_stopped\":\"Email notifications stopped !\",\"group_share_choice\":\"To which group do you want to send this message?\",\"public_link\":\"public link\",\"default_group\":\"Default group\",\"destroy_account\":\"Delete your account\",\"destroy_account_explain\":\"Once you delete your account, there is no going back. Please be certain.\",\"are_you_sure\":\"Are you sure?\",\"share_message\":\"share the message\",\"users\":\"users\",\"has_posted_in\":\"has posted in\",\"has_commented_on\":\"has commented on\",\"has_joined\":\"has joined\",\"has_left\":\"has left\",\"the_message_from\":\"the message from\",\"in\":\"in\",\"lang\":\"language\",\"reply\":\"reply\",\"replies_one\":\"{{count}} reply\",\"replies_other\":\"{{count}} replies\",\"publish_in_group\":\"publish in the group\",\"search_in_group\":\"search in this group\",\"changed_group_name\":\"changed the group\\'s name\",\"to\":\"to\",\"notifications\":\"notifications\",\"mark_all_as_read\":\"mark all as read\",\"search_without_result\":\"Your search did not match any message.\",\"add_bookmark\":\"Bookmark message\",\"remove_bookmark\":\"Unbookmark message\",\"bookmarks\":\"bookmarks\",\"api_key\":\"API key\",\"reset_api_key\":\"Reset the API key (you will be disconnected)\",\"video_not_ready\":\"Video is not ready yet.\",\"bookmark_added\":\"Message added to bookmarks !\",\"bookmark_removed\":\"Message removed from bookmarks !\",\"parent_message\":\"Parent message\"}');\n\n\nvar $cc2715f99a47060f$exports = {};\n$cc2715f99a47060f$exports = JSON.parse('{\"previous_coms\":\"Ver los comentarios anteriores\",\"next_coms\":\"Ver los siguientes comentarios\",\"ago\":\"Hace {{duration}}\",\"groups\":\"Grupos\",\"login_placeholder\":\"correo\",\"password_placeholder\":\"contrase\\xf1a\",\"new_password_placeholder\":\"nueva contrase\\xf1a\",\"confirm_password_placeholder\":\"confirmar contrase\\xf1a\",\"connect\":\"Conectarse\",\"submit\":\"Enviar\",\"title_placeholder\":\"Asunto (opcional)\",\"text_placeholder\":\"Escribe tu mensaje aqu\\xed\",\"upload_image\":\"A\\xf1adir fotos\",\"upload_video\":\"A\\xf1adir videos\",\"upload_music\":\"A\\xf1adir m\\xfasica\",\"upload_pdf\":\"A\\xf1adir pdf\",\"add_date\":\"A\\xf1adir una fecha\",\"logout\":\"Desconectarse\",\"settings\":\"Par\\xe1metros\",\"name\":\"Nombre\",\"name_input\":\"Elige un nombre\",\"login\":\"Usuario\",\"login_input\":\"Elige un usuario\",\"email\":\"Correo\",\"email_input\":\"Indicar correo electr\\xf3nico\",\"save_changes\":\"Guardar los cambios\",\"password\":\"Contrase\\xf1a\",\"password_input\":\"Indicar una nueva contrase\\xf1a\",\"Invalid login/password\":\"Usuario o contrase\\xf1a incorrecto\",\"edit\":\"Editar\",\"delete\":\"Borrar\",\"ask_delete_message\":\"\\xbfQuieres borrar este mensaje?\",\"account\":\"Cuenta\",\"forgot_password\":\"\\xbfOlvidaste tu contrase\\xf1a?\",\"password_reset_mail_sent\":\"El correo ha sido enviado!\",\"User not found\":\"El usuario no existe\",\"reset_password_title\":\"Cambia tu contrase\\xf1a\",\"error\":\"Un error ocurri\\xf3. Vuelve a intentar.\",\"passwords_dont_match\":\"Las contrase\\xf1as no coinciden\",\"invitation_link\":\"Enlace de invitaci\\xf3n\",\"reset_invitation_link\":\"Cambiar el enlace de invitaci\\xf3n\",\"invitation_welcome\":\"Bienvenido a Zusam ! Inscribete para conectarte con un grupo.\",\"signup\":\"Inscribirse\",\"create_a_group\":\"Crear un grupo\",\"create_the_group\":\"Crear el grupo\",\"quit_group\":\"Dejar el grupo\",\"settings_updated\":\"Tus preferencias han sido actualizadas!\",\"group_updated\":\"El grupo ha sido actualizado!\",\"group_left\":\"Has abandonado el grupo\",\"multiple_photos_upload\":\"Un error ocurri\\xf3. Vuelve a intentar con solo una foto (algunos navegadores impiden a\\xf1adir varias fotos al mismo tiempo).\",\"error_new_message\":\"Un error desconocido ocurri\\xf3 durante el env\\xedo del mensaje.\",\"error_upload\":\"Un error ocurri\\xf3 durante el env\\xedo.\",\"cancel_write\":\"\\xbfQuieres cancelar este nuevo mensaje?\",\"empty_message\":\"No hay mensaje!\",\"cancel\":\"Cancelar\",\"just_now\":\"Ahora\",\"notification_emails\":\"Correo de notificaci\\xf3n\",\"none\":\"Ninguno\",\"hourly\":\"Cada hora\",\"daily\":\"Diario\",\"weekly\":\"Semanal\",\"monthly\":\"Mensual\",\"notification_emails_stopped\":\"Notificaciones de correo electr\\xf3nico detenidas!\",\"group_share_choice\":\"\\xbfA qu\\xe9 grupo desea enviar este mensaje?\",\"public_link\":\"enlace p\\xfablico\",\"default_group\":\"Grupo predeterminado\",\"destroy_account\":\"Borrar la cuenta\",\"destroy_account_explain\":\"Una vez que elimines tu cuenta, no hay vuelta atr\\xe1s.\",\"are_you_sure\":\"Est\\xe1s seguro ?\",\"share_message\":\"comparte el mensaje\",\"users\":\"usuarios\",\"has_posted_in\":\"ha publicado en\",\"has_commented_on\":\"ha comentado\",\"has_joined\":\"se has unido\",\"has_left\":\"ha dejado\",\"the_message_from\":\"el mensaje de\",\"in\":\"en\",\"lang\":\"idioma\",\"reply\":\"responder\",\"replies_one\":\"{{count}} respuesta\",\"replies_other\":\"{{count}} respuestas\",\"publish_in_group\":\"publicar en el grupo\",\"search_in_group\":\"buscar en este grupo\",\"changed_group_name\":\"cambi\\xf3 el nombre del grupo\",\"to\":\"a\",\"notifications\":\"notificaciones\",\"mark_all_as_read\":\"marcar todo como leido\",\"search_without_result\":\"Su b\\xfasqueda no coincide con ning\\xfan mensaje.\",\"add_bookmark\":\"Marcar este mensaje\",\"remove_bookmark\":\"Desmarcar este mensaje\",\"bookmarks\":\"marcadores\",\"api_key\":\"Clave API\",\"reset_api_key\":\"Restablecer la clave API (se desconectar\\xe1)\",\"video_not_ready\":\"El video a\\xfan no est\\xe1 listo\",\"bookmark_added\":\"Mensaje agregado a marcadores !\",\"bookmark_removed\":\"Mensaje eliminado de los marcadores !\",\"parent_message\":\"Mensaje para padres\"}');\n\n\nvar $c4ac5cd07b712bb3$exports = {};\n$c4ac5cd07b712bb3$exports = JSON.parse('{\"previous_coms\":\"Voir les commentaires pr\\xe9c\\xe9dents\",\"next_coms\":\"Voir les commentaires suivants\",\"ago\":\"Il y a {{duration}}\",\"groups\":\"Groupes\",\"login_placeholder\":\"email\",\"password_placeholder\":\"mot de passe\",\"new_password_placeholder\":\"nouveau mot de passe\",\"confirm_password_placeholder\":\"confirmez le mot de passe\",\"connect\":\"Connexion\",\"submit\":\"Envoyer\",\"title_placeholder\":\"Titre de votre message (optionnel)\",\"text_placeholder\":\"Ecrivez votre message ici\",\"upload_image\":\"Ajouter des photos\",\"upload_video\":\"Ajouter des vid\\xe9os\",\"upload_music\":\"Ajouter des musiques\",\"upload_pdf\":\"Ajouter un pdf\",\"add_date\":\"Pr\\xe9ciser une date\",\"logout\":\"Se d\\xe9connecter\",\"settings\":\"Param\\xe8tres\",\"name\":\"Nom\",\"name_input\":\"Choisissez un nom\",\"login\":\"Identifiant\",\"login_input\":\"Choisissez un identifiant\",\"email\":\"Email\",\"email_input\":\"Renseignez votre adresse mail ici\",\"save_changes\":\"Sauvegarder les changements\",\"password\":\"Mot de passe\",\"password_input\":\"Entrez un nouveau mot de passe\",\"Invalid login/password\":\"Identifiant et/ou mot de passe invalide\",\"edit\":\"Editer\",\"delete\":\"Supprimer\",\"ask_delete_message\":\"\\xcates-vous s\\xfbr de vouloir supprimer ce message ?\",\"account\":\"Compte\",\"forgot_password\":\"Mot de passe oubli\\xe9 ?\",\"password_reset_mail_sent\":\"Le mail de r\\xe9initialisation a bien \\xe9t\\xe9 envoy\\xe9 !\",\"User not found\":\"Utilisateur inexistant\",\"reset_password_title\":\"R\\xe9initialisation de votre mot de passe\",\"error\":\"Une erreur s\\'est produite\",\"passwords_dont_match\":\"Les mots de passe ne correspondent pas\",\"invitation_link\":\"Lien d\\'invitation\",\"reset_invitation_link\":\"R\\xe9initialiser le lien d\\'invitation\",\"invitation_welcome\":\"Bienvenue sur Zusam ! Veuillez vous inscrire avant de rejoindre le groupe.\",\"signup\":\"S\\'inscrire\",\"create_a_group\":\"Cr\\xe9er un groupe\",\"create_the_group\":\"Cr\\xe9er le groupe\",\"quit_group\":\"Quitter le groupe\",\"settings_updated\":\"Vos param\\xe8tres ont \\xe9t\\xe9 mis \\xe0 jour\",\"group_updated\":\"Le groupe a \\xe9t\\xe9 mis \\xe0 jour !\",\"group_left\":\"Vous avez quitt\\xe9 le groupe !\",\"multiple_photos_upload\":\"Une erreur s\\'est produite. Essayez de t\\xe9l\\xe9charger les images une par une (cela peut se produire dans certains navigateurs).\",\"error_new_message\":\"Une erreur sest produite lors de lenvoi de votre message.\",\"error_upload\":\"Une erreur s\\'est produite pendant le t\\xe9l\\xe9versement\",\"cancel_write\":\"Voulez-vous annuler l\\'\\xe9criture d\\'un nouveau message\\xa0?\",\"empty_message\":\"Le message est vide et ne peut \\xeatre envoy\\xe9\\xa0!\",\"cancel\":\"Annuler\",\"just_now\":\"A l\\'instant\",\"notification_emails\":\"Mail de notification\",\"none\":\"Aucun\",\"hourly\":\"Une fois par heure\",\"daily\":\"Journalier\",\"weekly\":\"Hebdomadaire\",\"monthly\":\"Mensuel\",\"notification_emails_stopped\":\"Notifications par email d\\xe9sactiv\\xe9es !\",\"group_share_choice\":\"A quel groupe voulez-vous envoyer ce message ?\",\"public_link\":\"lien public\",\"default_group\":\"Groupe par d\\xe9faut\",\"destroy_account\":\"Supprimer votre compte\",\"destroy_account_explain\":\"Une fois votre compte supprim\\xe9, il sera impossible d\\'annuler l\\'op\\xe9ration.\",\"are_you_sure\":\"Etes-vous s\\xfbr ?\",\"share_message\":\"partager le message\",\"users\":\"utilisateurs\",\"has_posted_in\":\"a post\\xe9 dans\",\"has_commented_on\":\"a comment\\xe9\",\"has_joined\":\"a rejoint\",\"has_left\":\"a quitt\\xe9\",\"the_message_from\":\"le message de\",\"in\":\"dans\",\"lang\":\"langue\",\"reply\":\"r\\xe9pondre\",\"replies_one\":\"{{count}} r\\xe9ponse\",\"replies_other\":\"{{count}} r\\xe9ponses\",\"publish_in_group\":\"promouvoir le message\",\"search_in_group\":\"rechercher dans le groupe\",\"changed_group_name\":\"a chang\\xe9 le nom du groupe\",\"to\":\"en\",\"notifications\":\"notifications\",\"mark_all_as_read\":\"tout marquer comme lu\",\"search_without_result\":\"Votre recherche ne correspond \\xe0 aucun message.\",\"add_bookmark\":\"Ajouter aux marque-pages\",\"remove_bookmark\":\"Supprimer des marque-pages\",\"bookmarks\":\"marque-pages\",\"api_key\":\"Clef d\\'API\",\"reset_api_key\":\"Changer votre clef d\\'API (vous allez \\xeatre d\\xe9connect\\xe9)\",\"video_not_ready\":\"La vid\\xe9o n\\'est pas encore pr\\xeate.\",\"bookmark_added\":\"Message ajout\\xe9 aux marque-pages !\",\"bookmark_removed\":\"Message supprim\\xe9 des marque-pages !\",\"parent_message\":\"Message parent\"}');\n\n\nvar $877f54add9e380c7$exports = {};\n$877f54add9e380c7$exports = JSON.parse('{\"previous_coms\":\"Zie vorige\",\"next_coms\":\"Zie volgende\",\"ago\":\"{{duration}} geleden\",\"groups\":\"Groepen\",\"login_placeholder\":\"email\",\"password_placeholder\":\"wachtwoord\",\"new_password_placeholder\":\"nieuw wachtwoord\",\"confirm_password_placeholder\":\"bevestig wachtwoord\",\"connect\":\"Verbind\",\"submit\":\"Verstuur\",\"title_placeholder\":\"Titel van jouw bericht (optioneel)\",\"text_placeholder\":\"Schrijf jouw bericht hier\",\"upload_image\":\"Voeg foto\\'s toe\",\"upload_video\":\"Voeg filmpjes toe\",\"upload_music\":\"Voeg muziek toe\",\"upload_pdf\":\"Voeg PDF toe\",\"add_date\":\"Voeg een datum toe\",\"logout\":\"Afmelden\",\"settings\":\"Instellingen\",\"name\":\"Naam\",\"name_input\":\"Kies een naam\",\"login\":\"Aanmelden\",\"login_input\":\"Kies een aanmeldingsnaam\",\"email\":\"Email\",\"email_input\":\"Voeg uw email adres hier in\",\"save_changes\":\"Wijzigingen opslaan\",\"password\":\"Wachtwoord\",\"password_input\":\"Kies een nieuw wachtwoord\",\"Invalid login/password\":\"Ongeldige aanmeldnaam/wachtwoord combinatie\",\"edit\":\"Bewerken\",\"delete\":\"Verwijderen\",\"ask_delete_message\":\"Bent u zeker dat u dit bericht wil verwijderen?\",\"account\":\"Account\",\"forgot_password\":\"Wachtwoord vergeten?\",\"password_reset_mail_sent\":\"De wachtwoord reset link is naar uw email adres verstuurd.\",\"User not found\":\"Gebruiker niet gevonden\",\"reset_password_title\":\"Reset uw wachtwoord\",\"error\":\"Er is een fout opgetreden\",\"passwords_dont_match\":\"Wachtwoorden komen niet overeen\",\"invitation_link\":\"Uitnodigings link\",\"reset_invitation_link\":\"Reset uitnodiging link\",\"invitation_welcome\":\"Welkom op Zusam ! Gelieve aan te melden vooraleer in een groep in te schrijven.\",\"signup\":\"Inschrijven\",\"create_a_group\":\"Maak een groep\",\"create_the_group\":\"Maak de groep\",\"quit_group\":\"Verlaat de groep\",\"settings_updated\":\"Uw instellingen werden aangepast\",\"group_updated\":\"De groep werd aangepast !\",\"group_left\":\"U heeft de groep verlaten !\",\"multiple_photos_upload\":\"Er is een fout opgetreden. Probeer foto\\'s 1 voor 1 op te laden\",\"error_new_message\":\"Er is een fout opgetreden bij het doorsturen van uw bericht.\",\"error_upload\":\"Er is een fout opgetreden bij het uploaden\",\"cancel_write\":\"Bent u zeker dat u dit bericht wil annuleren?\",\"empty_message\":\"Dit bericht is leeg en kan niet worden verzonden !\",\"cancel\":\"Annuleren\",\"just_now\":\"Net\",\"notification_emails\":\"Email notificaties\",\"none\":\"Niets\",\"hourly\":\"Elk uur\",\"daily\":\"Elke dag\",\"weekly\":\"Elke week\",\"monthly\":\"Elke maand\",\"notification_emails_stopped\":\"Email notificaties zijn gestopt !\",\"group_share_choice\":\"Naar welke groep wenst u dit bericht te sturen?\",\"public_link\":\"publieke link\",\"default_group\":\"Standaard groep\",\"destroy_account\":\"Verwijder jouw account\",\"destroy_account_explain\":\"Indien u uw account verwijdert, kan deze niet meer worden teruggehaald.\",\"are_you_sure\":\"Bent u zeker?\",\"share_message\":\"Deel bericht\",\"users\":\"gebruikers\",\"has_posted_in\":\"heeft gepost in\",\"has_commented_on\":\"heeft commentaar gegeven op\",\"has_joined\":\"is erbij gekomen\",\"has_left\":\"is weggegaan\",\"the_message_from\":\"het bericht van\",\"in\":\"in\",\"lang\":\"taal\",\"reply\":\"antwoorden\",\"replies_one\":\"{{count}} antwoord\",\"replies_other\":\"{{count}} antwoorden\",\"publish_in_group\":\"gepubliseerd in de groep\",\"search_in_group\":\"zoek in deze groep\",\"changed_group_name\":\"verandert de groepsnaam\",\"to\":\"aan\",\"notifications\":\"notificaties\",\"mark_all_as_read\":\"markeer als gelezen\",\"search_without_result\":\"Er werd geen enkel bericht gevonden met deze criteria\",\"add_bookmark\":\"Bookmark bericht\",\"remove_bookmark\":\"Unbookmark bericht\",\"bookmarks\":\"bookmarks\",\"api_key\":\"API key\",\"reset_api_key\":\"Reset the API key (you will be disconnected)\",\"video_not_ready\":\"Video is nog niet klaar.\",\"bookmark_added\":\"Bericht toegevoegd aan bookmarks !\",\"bookmark_removed\":\"Bericht verwijderd uit bookmarks !\",\"parent_message\":\"Parent bericht\"}');\n\n\nvar $1352a52cb5e99347$exports = {};\n$1352a52cb5e99347$exports = JSON.parse('{\"previous_coms\":\"Pozri predch\\xe1dzaj\\xface koment\\xe1re\",\"next_coms\":\"Pozri nasleduj\\xface koment\\xe1re\",\"ago\":\"{{duration}} sp\\xe4\",\"groups\":\"Skupiny\",\"login_placeholder\":\"email\",\"password_placeholder\":\"heslo\",\"new_password_placeholder\":\"nov\\xe9 heslo\",\"confirm_password_placeholder\":\"potvrdi heslo\",\"connect\":\"Connection\",\"submit\":\"Odosla\",\"title_placeholder\":\"Nadpis v\\xe1ho pr\\xedspevku (nie je povinn\\xe9)\",\"text_placeholder\":\"Tu nap\\xed pr\\xedspevok\",\"upload_image\":\"Prida fotografie\",\"upload_video\":\"Prida vide\\xe1\",\"upload_music\":\"Prida hudbu\",\"upload_pdf\":\"Prida pdf\",\"add_date\":\"Prida d\\xe1tum\",\"logout\":\"Odhl\\xe1si\",\"settings\":\"Nastavenia\",\"name\":\"Meno\",\"name_input\":\"Zvo si nejak\\xe9 meno\",\"login\":\"Login\",\"login_input\":\"Zvo si nejak\\xe9 prihlasovacie meno\",\"email\":\"Email\",\"email_input\":\"Nap\\xed tvoj email sem\",\"save_changes\":\"Uloi zmeny\",\"password\":\"Heslo\",\"password_input\":\"Tu nap\\xed heslo\",\"Invalid login/password\":\"Nespr\\xe1vny login alebo heslo\",\"edit\":\"Upravi\",\"delete\":\"Zmaza\",\"ask_delete_message\":\"Si si ist\\xfd, e chce zmaza tento pr\\xedspevok?\",\"account\":\"\\xdaet\",\"forgot_password\":\"Zabudol si svoje heslo?\",\"password_reset_mail_sent\":\"Email s inform\\xe1ciami o nastaven\\xed nov\\xe9ho hesla bol odoslan\\xfd!\",\"User not found\":\"Neexistuj\\xfaci u\\xedvate\",\"reset_password_title\":\"Zmena hesla\",\"error\":\"Chyba\",\"passwords_dont_match\":\"Hesl\\xe1 sa nezhoduj\\xfa\",\"invitation_link\":\"Poz\\xfdvac\\xed odkaz\",\"reset_invitation_link\":\"Reset invitation link\",\"invitation_welcome\":\"Vitajte v Zusam ! Zaregistrujte sa pred pripojen\\xedm sa ku skupine.\",\"signup\":\"Prihl\\xe1si\",\"create_a_group\":\"Vytvori skupinu\",\"create_the_group\":\"Vytvori skupinu\",\"quit_group\":\"Opusti skupinu\",\"settings_updated\":\"Vae nastavenia boli zmenen\\xe9\",\"group_updated\":\"Nastavenia skupiny boli zmenen\\xe9\",\"group_left\":\"Opustili ste skupinu\",\"multiple_photos_upload\":\"Objavila sa chyba. Sk\\xfaste priloi obr\\xe1zky po jednom (t\\xe1to chyba sa m\\xf4e objavova v niektor\\xfdch prehliadaoch)\",\"error_new_message\":\"Pri odosielan\\xed pr\\xedspevku sa objavila chyba\",\"error_upload\":\"Objavila sa chyba poas odosielania\",\"cancel_write\":\"Chcete naozaj zrui vytv\\xe1ranie nov\\xe9ho pr\\xedspevku?\",\"empty_message\":\"Pr\\xe1zdna spr\\xe1va nem\\xf4e by odoslan\\xe1\",\"cancel\":\"Zrui\",\"just_now\":\"Pr\\xe1ve teraz\",\"notification_emails\":\"Notifikan\\xfd email\",\"none\":\"iadne\",\"hourly\":\"Kad\\xfa hodinu\",\"daily\":\"Denne\",\"weekly\":\"T\\xfddenne\",\"monthly\":\"Mesane\",\"notification_emails_stopped\":\"E-mailov\\xe9 upozornenia sa zastavili!\",\"group_share_choice\":\"Do ktorej skupiny chcete odosla t\\xfato spr\\xe1vu ?\",\"public_link\":\"verejn\\xe9 spojenie\",\"default_group\":\"Predvolen\\xfa skupinu\",\"destroy_account\":\"Odstr\\xe1te svoj \\xfaet\",\"destroy_account_explain\":\"Po odstr\\xe1nen\\xed \\xfatu sa u nevr\\xe1ti\",\"are_you_sure\":\"Si si ist\\xfd ?\",\"share_message\":\"zdieajte spr\\xe1vu\",\"users\":\"u\\xedvatelia\",\"has_posted_in\":\"zverejnila v\",\"has_commented_on\":\"komentoval\",\"has_joined\":\"sa pripojil k\",\"has_left\":\"opustil\",\"the_message_from\":\"spr\\xe1va od\",\"in\":\"v\",\"lang\":\"jazyk\",\"reply\":\"odpove\",\"replies_one\":\"{{count}} odpove\",\"replies_other\":\"{{count}} odpoved\\xed\",\"publish_in_group\":\"publikova v skupine\",\"search_in_group\":\"hada v tejto skupine\",\"changed_group_name\":\"zmenil n\\xe1zov skupiny\",\"to\":\"na\",\"notifications\":\"ozn\\xe1menia\",\"mark_all_as_read\":\"oznai vetko ako pre\\xedtan\\xe9\",\"search_without_result\":\"V\\xe1mu vyhad\\xe1vaniu nezodpoved\\xe1 iadna spr\\xe1va\",\"add_bookmark\":\"T\\xfato spr\\xe1vu uloi medzi z\\xe1loky\",\"remove_bookmark\":\"Zrute oznaenie tejto spr\\xe1vy\",\"bookmarks\":\"z\\xe1loky\",\"api_key\":\"K\\xfa API\",\"reset_api_key\":\"Obnovte k\\xfa rozhrania API (budete odpojen\\xed)\",\"video_not_ready\":\"Video ete nie je pripraven\\xe9\",\"bookmark_added\":\"Spr\\xe1va pridan\\xe1 do z\\xe1loiek !\",\"bookmark_removed\":\"Spr\\xe1va bola odstr\\xe1nen\\xe1 zo z\\xe1loiek !\",\"parent_message\":\"Spr\\xe1va rodia\"}');\n\n\nconst $e61dc402a65410c5$export$9a771d6906431624 = {\n    possibleLang: {\n        en: \"English\",\n        es: \"Espa\\xf1ol\",\n        fr: \"Fran\\xe7ais\",\n        nl: \"Nederlands\",\n        sk: \"Slovensk\\xfd\"\n    },\n    // possible dicts names to load\n    getDefaultLang: ()=>(document.querySelector(\"meta[name='zusam:default-lang']\") || {}).content || \"en\",\n    getCurrentLang: ()=>(0, $1747d3542bece520$export$2e2bcd8739ae039).lang || $e61dc402a65410c5$export$9a771d6906431624.getDefaultLang()\n};\n(0, $d7301ad24121e92e$export$2e2bcd8739ae039).use((0, $dc44570447e3a989$export$ae7e14d40d89f296)).init({\n    resources: {\n        en: {\n            translation: (0, (/*@__PURE__*/$parcel$interopDefault($a2d22b34d2713fc4$exports)))\n        },\n        fr: {\n            translation: (0, (/*@__PURE__*/$parcel$interopDefault($c4ac5cd07b712bb3$exports)))\n        },\n        sk: {\n            translation: (0, (/*@__PURE__*/$parcel$interopDefault($1352a52cb5e99347$exports)))\n        },\n        es: {\n            translation: (0, (/*@__PURE__*/$parcel$interopDefault($cc2715f99a47060f$exports)))\n        },\n        nl: {\n            translation: (0, (/*@__PURE__*/$parcel$interopDefault($877f54add9e380c7$exports)))\n        }\n    },\n    lng: $e61dc402a65410c5$export$9a771d6906431624.getCurrentLang(),\n    // if you're using a language detector, do not define the lng option\n    fallbackLng: $e61dc402a65410c5$export$9a771d6906431624.getDefaultLang(),\n    interpolation: {\n        escapeValue: false // react already safes from xss => https://www.i18next.com/translation-function/interpolation#unescape\n    }\n});\n\n\n// Stateless utilities\n// Should be agnostic of other components of zusam if possible\nconst $0d89305838e7d07e$var$util = {\n    // check if the input is a valid URL\n    isValidUrl: (url)=>{\n        try {\n            new URL(url);\n            return true;\n        } catch (_) {\n            return false;\n        }\n    },\n    limitLength: (string, size = 20)=>{\n        return [\n            ...string.split(\"\").slice(0, Math.floor(size / 2)),\n            string.length > size ? \"...\" : \"\",\n            ...string.split(\"\").slice(Math.floor(size / 2)).slice(Math.floor(size / 2) * -1)\n        ].join(\"\");\n    },\n    escapeRegex: (string)=>{\n        return string.replace(/[-/\\\\^$*+?.()|[\\]{}]/g, \"\\\\$&\");\n    },\n    getSubpath: ()=>new URL(document.baseURI).pathname.replace(/\\/$/, \"\"),\n    // toApp transforms an api url into an \"app\" url that the user can naviate to\n    toApp: (url)=>{\n        if (!url || typeof url != \"string\") return \"\";\n        if ($0d89305838e7d07e$var$util.isValidUrl(url)) return url;\n        return location.origin + $0d89305838e7d07e$var$util.getSubpath() + url;\n    },\n    // genId starts with a letter to be DOM friendly\n    // seed can be used to order ids\n    // TODO improve using ideas from ai/nanoid\n    genId: (seed)=>`z${seed || \"\"}-${Date.now().toString().slice(-5)}${Math.random().toString().slice(-5)}`,\n    // transform an id into int for the API (TODO: revisit this on 0.5)\n    id2Int: (id)=>parseInt(id.replace(/[^\\d]/g, \"\"), 10),\n    urlRegExp: /(\\([^()]*)?https?:\\/\\/[^[\\]\\n\\r ]*[-A-Za-z0-9+&@#/%=~_()|]/i,\n    getUrl: (txt)=>{\n        if (!txt) return \"\";\n        let url = txt.match($0d89305838e7d07e$var$util.urlRegExp);\n        if (url && url[0].startsWith(\"(\")) {\n            let link = url[0].match(/https?:\\/\\//i);\n            url[\"index\"] += link[\"index\"];\n            url[0] = url[0].slice(link[\"index\"]);\n            if (url[0].endsWith(\")\")) url[0] = url[0].slice(0, -1);\n        }\n        return url;\n    },\n    limitStrSize: (str, limit)=>str.length > limit ? `${str.slice(0, limit - 3)}...` : str,\n    // full datetime as a string adapted to the users timezone\n    humanFullDate: (timestamp)=>{\n        if (!timestamp) return \"\";\n        let d = new Date(timestamp * 1000);\n        d = new Date(d.getTime() + d.getTimezoneOffset() * -60000);\n        return d.toISOString().replace(\"T\", \" \").replace(/\\..*$/, \"\");\n    },\n    // duration relative to event\n    humanTime: (timestamp)=>{\n        if (!timestamp) return null;\n        const duration = Math.abs(Math.round((Date.now() / 1000 - timestamp) / 60));\n        if (duration < 1) return (0, $d7301ad24121e92e$export$2e2bcd8739ae039).t(\"just_now\");\n        if (duration < 60) return (0, $d7301ad24121e92e$export$2e2bcd8739ae039).t(\"ago\", {\n            duration: `${duration}mn`\n        });\n        if (duration < 1440) return (0, $d7301ad24121e92e$export$2e2bcd8739ae039).t(\"ago\", {\n            duration: `${Math.floor(duration / 60)}h`\n        });\n        return $0d89305838e7d07e$var$util.humanFullDate(timestamp).split(\" \")[0];\n    },\n    // get the id of an object from an url\n    getId: (e)=>{\n        switch(typeof e){\n            case \"object\":\n                return e ? e.id : null;\n            case \"string\":\n                return e.split(\"/\").pop().replace(/\\?.*$/, \"\").replace(/\\.\\w+$/, \"\");\n            default:\n                console.error(e);\n                throw \"Could not extract id !\";\n        }\n    },\n    // get the url to a thubmnail\n    thumbnail: (id, width, height = 99999)=>typeof id == \"string\" && !id.startsWith(\"z\") ? $0d89305838e7d07e$var$util.toApp(`/api/images/thumbnail/${width}/${height}/${id}`) : null,\n    // same as http.thumbnail but for a crop\n    crop: (id, width, height)=>typeof id == \"string\" && !id.startsWith(\"z\") ? $0d89305838e7d07e$var$util.toApp(`/api/images/crop/${width}/${height}/${id}`) : null,\n    // default avatar in base64\n    defaultAvatar: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAABlBMVEUAAAD///+l2Z/dAAAAAnRSTlMA/iyWEiMAAAMJSURBVHja7ZtBjpwwEEWxmIhFFmiURZZEyi6HCLkZHCXr2eQKHIUjoEiRSGRRiWB6klaDU/hDF4z+W6LuNz3+ZRvbkCSEEEIIIYQQQgghhBBCCCGEEEIIITvwGfy+kxoTpNJigkw6TJBLjwkK8ZiglMFYUInAAqwQRKRBBR0q8FhXEKwVR0GLCvxCjeo6oyzkoIxnEvj5661acPO3yvFqpxdcV+Pj88VeNZ7cGB4ul1QFkv399KT4KBIpmGEwF4i9oL6DIN/3FzToL2ju8AvsBeE2aNFfQMFJBCkF0/R+bkHyCgSVuaDcVaC5zyvMBTkqyHYVaBZDKSpw5oJgLcMC5doXFBSoIMNutjcQBHJULmlhQYUKlmNQbs9kqGC5P2o3FqBBOVjMWkEOdcZQKam3dyqkkgP/g35zxmEpLhbjir0ZFz2tXHgbPR5deI+EMPKmig/hhU/fIkOYL4iYDbIyqpCXajp2Zy4yhNuxqUfbMCaEIraQZ9swJgQBQ0jBQr6eYXrzQrYIYdtC9uaFbDKayJajyTkL+VijyWA+mnBajGpDeFrMzAu5BNvwKoQBDaFHQ+jQEBo0hBoMYUBD8GgIHRpCi44mcAiJRQhoITvzQs63LGQxL2SOJnEhiHUI296bwNOixb1JYr5kz8yX7Odf6XDfBC9kd6yVzq+np69QIY/8AEJ45kt0T4hIM0VONm5CiLlVhLflS+CwdTGEVa2AnfOFTogaVAAfcg1QivpqzLFHD4LnrR0q8FAhqlux3PPUu0EFLSrooL6kLeaQwKMCTY4OfUjVoY+IOvTxSFiw81NtnbmgRwXeXDAg08IxBPIKBPX5BQ0FBxC0+wtSCg4gcBT853nruwiqfQXNHQT/LDiGD9Old6sEL2umn3MtqxDks9NotVbwfaG+FDfL6fznsjV32365cTXrtqoPdJKYrbmreIDvT42DCMYoIUEu4FvIKSpwgr6JvYEAfJm8QgUl+j58gb6Rn4Nvcv/p0jUmcODr8IQQQgghhBBCCCGEEEIIIYQQQgghs/wGp6uYgtiKODIAAAAASUVORK5CYII=\",\n    hash: (str)=>str.split(\"\").reduce((a, c)=>(a << 5) - a + c.charCodeAt() | 0),\n    colorHash: (str)=>[\n            \"#000000\",\n            \"#333366\",\n            \"#333399\",\n            \"#3333CC\",\n            \"#339933\",\n            \"#339999\",\n            \"#33CC33\",\n            \"#33CC99\",\n            \"#663333\",\n            \"#663366\",\n            \"#666633\",\n            \"#666699\",\n            \"#66CC33\",\n            \"#66CCCC\",\n            \"#993333\",\n            \"#993366\",\n            \"#993399\",\n            \"#996633\",\n            \"#999966\",\n            \"#CC3333\",\n            \"#CC3366\",\n            \"#CC3399\",\n            \"#CC33CC\",\n            \"#CC6633\",\n            \"#CC9933\",\n            \"#CC99CC\",\n            \"#CCCC33\"\n        ][Math.abs($0d89305838e7d07e$var$util.hash(str)) % 27],\n    backgroundHash: (str)=>{\n        if (!str) return \"background-color: #aaa;\";\n        let c1 = $0d89305838e7d07e$var$util.colorHash(str);\n        let c2 = $0d89305838e7d07e$var$util.colorHash(str.split(\"\").reverse().join(\".\"));\n        let deg = 45 * (Math.abs($0d89305838e7d07e$var$util.hash(str)) % 4);\n        return `background-color:${c1};background-image:linear-gradient(${deg}deg, ${c2} 15%, transparent 15% 30%, ${c2} 30% 45%, transparent 45% 60%, ${c2} 60% 75%, transparent 75% 90%, ${c2} 90%);`;\n    },\n    // Accepts a keydown event and checks if it's enter. Compatibility between browsers\n    // We do it the permissive way\n    is_it_enter: (e)=>{\n        return e.keyCode == 13 || e.keyCode == 10 || e.key == \"Enter\" || e.key == \"\" || e.code == \"Enter\";\n    },\n    getVersion: ()=>(document.querySelector(\"meta[name='zusam:version']\") || {}).content || \"unknown\",\n    getWidthBreakpoint: ()=>{\n        if (window.innerWidth > 1800) return 1800;\n        if (window.innerWidth > 1400) return 1400;\n        if (window.innerWidth > 992) return 992;\n        if (window.innerWidth > 768) return 768;\n        if (window.innerWidth > 576) return 576;\n        return window.innerWidth;\n    }\n};\nvar $0d89305838e7d07e$export$2e2bcd8739ae039 = $0d89305838e7d07e$var$util;\n\n\nconst $747de4a7b04ce4ba$var$http = {\n    sendFile: (formData, loadFn, progressFn = null, errorFn = null)=>{\n        return (0, $15bf00c5a9ebafaa$export$2e2bcd8739ae039).get(\"apiKey\").then((apiKey)=>{\n            let xhr = new XMLHttpRequest();\n            xhr.open(\"POST\", `${document.baseURI}api/files`, true);\n            xhr.setRequestHeader(\"X-AUTH-TOKEN\", apiKey);\n            xhr.addEventListener(\"load\", (e)=>{\n                if (e.target.status > 199 && e.target.status < 300) loadFn(JSON.parse(e.target.response));\n                else if (errorFn) errorFn(e.target.statusText);\n                else console.error(e.target.statusText);\n            });\n            if (progressFn) xhr.upload.onprogress = (e)=>progressFn({\n                    loaded: e.loaded,\n                    total: e.total\n                });\n            if (errorFn) xhr.addEventListener(\"error\", (e)=>errorFn(e));\n            xhr.send(formData);\n        }).catch((error)=>(0, $965d8b034b5a035b$export$2e2bcd8739ae039).add(error, \"alert-danger\"));\n    },\n    get: (url, nocache = false, delay = 0)=>{\n        return (0, $15bf00c5a9ebafaa$export$2e2bcd8739ae039).get(\"apiKey\").then((x)=>new Promise((resolve)=>setTimeout(()=>resolve(x), delay))).then((apiKey)=>{\n            url = (0, $0d89305838e7d07e$export$2e2bcd8739ae039).toApp(url);\n            if (!url) return;\n            let h = {};\n            if (apiKey) h[\"X-AUTH-TOKEN\"] = apiKey;\n            if (nocache) h[\"X-NOCACHE\"] = \"nocache\";\n            return fetch(url, {\n                method: \"GET\",\n                headers: new Headers(h)\n            }).then((res)=>res.ok && res.json()).catch((err)=>console.warn(`ERROR for ${url}`, err));\n        }).catch((error)=>(0, $965d8b034b5a035b$export$2e2bcd8739ae039).add(error, \"alert-danger\"));\n    },\n    post: (url, data, delay = 0, contentType = \"application/json\")=>$747de4a7b04ce4ba$var$http.request(url, data, \"POST\", delay, contentType),\n    put: (url, data, delay = 0, contentType = \"application/json\")=>$747de4a7b04ce4ba$var$http.request(url, data, \"PUT\", delay, contentType),\n    delete: (url, data, delay = 0, contentType = \"application/json\")=>$747de4a7b04ce4ba$var$http.request(url, null, \"DELETE\", delay, contentType),\n    request: (url, data, method, delay = 0, contentType = \"application/json\")=>{\n        return (0, $15bf00c5a9ebafaa$export$2e2bcd8739ae039).get(\"apiKey\").then((x)=>new Promise((resolve)=>setTimeout(()=>resolve(x), delay))).then((apiKey)=>{\n            url = (0, $0d89305838e7d07e$export$2e2bcd8739ae039).toApp(url);\n            if (!url) return;\n            let h = {};\n            if (apiKey) h[\"X-AUTH-TOKEN\"] = apiKey;\n            if (contentType) h[\"Content-type\"] = contentType;\n            let fetchOptions = {\n                method: method,\n                headers: new Headers(h)\n            };\n            if (data) fetchOptions.body = typeof data == \"object\" && data.constructor.name == \"Object\" ? JSON.stringify(data) : data;\n            return fetch(url, fetchOptions).then((res)=>{\n                try {\n                    if (method != \"DELETE\") return res.json();\n                    return {};\n                } catch (exception) {\n                    console.warn(exception.message);\n                    return Promise.reject(exception.message);\n                }\n            }).catch((err)=>console.warn(`ERROR for ${url}`, err));\n        }).catch((error)=>(0, $965d8b034b5a035b$export$2e2bcd8739ae039).add(error, \"alert-danger\"));\n    }\n};\nvar $747de4a7b04ce4ba$export$2e2bcd8739ae039 = $747de4a7b04ce4ba$var$http;\n\n\n\nconst $df6632f9961dbefb$var$api = {\n    get info () {\n        return (0, $5e4e939c48db0130$export$2e2bcd8739ae039).get()?.api;\n    },\n    update: ()=>(0, $747de4a7b04ce4ba$export$2e2bcd8739ae039).get(\"/api/info\", true).then((r)=>{\n            if (!r) return;\n            (0, $5e4e939c48db0130$export$2e2bcd8739ae039).dispatch(\"api/update\", Object.assign({}, r));\n            setTimeout(dispatchEvent(new CustomEvent(\"apiStateChange\")));\n            return r;\n        })\n};\nvar $df6632f9961dbefb$export$2e2bcd8739ae039 = $df6632f9961dbefb$var$api;\n\n\n\n\n\n\n\nconst $ea4e56e50a26ecd6$var$notifications = {\n    LIMIT: 20,\n    get () {\n        return (0, $5e4e939c48db0130$export$2e2bcd8739ae039).get()?.notifications || [];\n    },\n    update () {\n        return (0, $747de4a7b04ce4ba$export$2e2bcd8739ae039).get(`/api/me/notifications/${$ea4e56e50a26ecd6$var$notifications.LIMIT + 1}`).then((r)=>{\n            (0, $5e4e939c48db0130$export$2e2bcd8739ae039).dispatch(\"notifications/update\", r);\n        });\n    },\n    isNew (id) {\n        let state = (0, $5e4e939c48db0130$export$2e2bcd8739ae039).get();\n        if (Array.isArray(state[\"notifications\"])) return state.notifications.filter((n)=>!n.read).some((n)=>$ea4e56e50a26ecd6$var$notifications.matchNotification(n, id) || n.type == \"new_comment\" && n.fromMessage.id === id);\n        return false;\n    },\n    removeAllNotifications () {\n        let state = (0, $5e4e939c48db0130$export$2e2bcd8739ae039).get();\n        if (Array.isArray(state[\"notifications\"])) state.notifications.forEach((n)=>{\n            (0, $747de4a7b04ce4ba$export$2e2bcd8739ae039).delete(`/api/notifications/${n.id}`).then(()=>{\n                (0, $5e4e939c48db0130$export$2e2bcd8739ae039).dispatch(\"notifications/remove\", n);\n            });\n        });\n    },\n    markAllNotificationsAsRead () {\n        let state = (0, $5e4e939c48db0130$export$2e2bcd8739ae039).get();\n        if (Array.isArray(state[\"notifications\"])) state.notifications.forEach((n)=>{\n            (0, $747de4a7b04ce4ba$export$2e2bcd8739ae039).put(`/api/notifications/${n.id}`, {\n                read: true\n            }).then(()=>{\n                (0, $5e4e939c48db0130$export$2e2bcd8739ae039).dispatch(\"notifications/read\", n);\n            });\n        });\n    },\n    removeMatchingNotifications (id) {\n        return Promise.all((0, $5e4e939c48db0130$export$2e2bcd8739ae039).get().notifications.filter((n)=>$ea4e56e50a26ecd6$var$notifications.matchNotification(n, id)).map((n)=>{\n            (0, $747de4a7b04ce4ba$export$2e2bcd8739ae039).delete(`/api/notifications/${n.id}`).then(()=>{\n                (0, $5e4e939c48db0130$export$2e2bcd8739ae039).dispatch(\"notifications/remove\", n);\n            });\n        }));\n    },\n    markAsRead (id) {\n        return Promise.all((0, $5e4e939c48db0130$export$2e2bcd8739ae039).get().notifications.filter((n)=>$ea4e56e50a26ecd6$var$notifications.matchNotification(n, id)).map((n)=>{\n            (0, $747de4a7b04ce4ba$export$2e2bcd8739ae039).put(`/api/notifications/${n.id}`, {\n                read: true\n            }).then(()=>{\n                (0, $5e4e939c48db0130$export$2e2bcd8739ae039).dispatch(\"notifications/read\", n);\n            });\n        }));\n    },\n    matchNotification (notif, id) {\n        if (notif.id === id) return true;\n        if (notif.target === id) return true;\n        return false;\n    }\n};\nvar $ea4e56e50a26ecd6$export$2e2bcd8739ae039 = $ea4e56e50a26ecd6$var$notifications;\n\n\n\n\nconst $c493b830a498683a$var$bookmarks_utils = {\n    LIMIT: 1000,\n    get () {\n        return (0, $5e4e939c48db0130$export$2e2bcd8739ae039).get()?.bookmarks || [];\n    },\n    update () {\n        return (0, $747de4a7b04ce4ba$export$2e2bcd8739ae039).get(`/api/me/bookmarks/${$c493b830a498683a$var$bookmarks_utils.LIMIT + 1}`).then((r)=>{\n            (0, $5e4e939c48db0130$export$2e2bcd8739ae039).dispatch(\"bookmarks/update\", r);\n        });\n    }\n};\nvar $c493b830a498683a$export$2e2bcd8739ae039 = $c493b830a498683a$var$bookmarks_utils;\n\n\n\n\n\nconst $715455f3b9e52ce9$var$router = {\n    get () {\n        return (0, $5e4e939c48db0130$export$2e2bcd8739ae039).get();\n    },\n    get route () {\n        try {\n            return $715455f3b9e52ce9$var$router.removeSubpath(location.pathname).slice(1).split(\"/\")[0];\n        } catch  {\n            return \"\";\n        }\n    },\n    get id () {\n        try {\n            return $715455f3b9e52ce9$var$router.removeSubpath(location.pathname).slice(1).split(\"/\")[1];\n        } catch  {\n            return \"\";\n        }\n    },\n    get action () {\n        try {\n            return $715455f3b9e52ce9$var$router.removeSubpath(location.pathname).slice(1).split(\"/\")[2];\n        } catch  {\n            return \"\";\n        }\n    },\n    get backUrl () {\n        console.err(\"don't use backUrl\");\n        return (0, $5e4e939c48db0130$export$2e2bcd8739ae039).get()?.backUrl;\n    },\n    get search () {\n        return location.search.slice(1);\n    },\n    getEntity () {\n        if ($715455f3b9e52ce9$var$router.isEntity($715455f3b9e52ce9$var$router.route)) return (0, $747de4a7b04ce4ba$export$2e2bcd8739ae039).get(`/api/${$715455f3b9e52ce9$var$router.route}/${$715455f3b9e52ce9$var$router.id}`);\n        return Promise.resolve(null);\n    },\n    get entity () {\n        console.err(\"don't use entity\");\n        return (0, $5e4e939c48db0130$export$2e2bcd8739ae039).get()?.entity;\n    },\n    removeSubpath: (path)=>path ? path.replace(new RegExp(`^${(0, $0d89305838e7d07e$export$2e2bcd8739ae039).getSubpath()}`), \"\") : \"\",\n    getParam: (param, searchParams = window.location.search.substring(1))=>{\n        let res = searchParams.split(\"&\").find((e)=>e.split(\"=\")[0] === param);\n        return res ? decodeURIComponent(res.split(\"=\")[1]) : \"\";\n    },\n    getSegments: ()=>$715455f3b9e52ce9$var$router.removeSubpath(window.location.pathname).slice(1).split(\"?\")[0].split(\"/\"),\n    // check if route is \"outside\": accessible to non connected user\n    isOutside: ()=>[\n            \"login\",\n            \"password-reset\",\n            \"signup\",\n            \"invitation\",\n            \"stop-notification-emails\",\n            \"public\"\n        ].includes($715455f3b9e52ce9$var$router.route || $715455f3b9e52ce9$var$router.getSegments()[0]),\n    isEntity: ()=>[\n            \"messages\",\n            \"groups\",\n            \"users\",\n            \"links\",\n            \"files\"\n        ].includes($715455f3b9e52ce9$var$router.getSegments()[0]),\n    getUrlComponents: (url)=>{\n        let components = {};\n        if (url) {\n            components.url = new URL(url);\n            components.path = components.url.pathname;\n            components.search = components.url.search.slice(1);\n            [components.route, components.id, components.action] = $715455f3b9e52ce9$var$router.removeSubpath(components.path).slice(1).split(\"/\");\n        }\n        components.entityType = \"\";\n        components.backUrl = \"\";\n        return components;\n    }\n};\nvar $715455f3b9e52ce9$export$2e2bcd8739ae039 = $715455f3b9e52ce9$var$router;\n\n\n\n\nconst $ba05c0ef8a781e02$export$5ea928c9faf85bd3 = (0, $965d8b034b5a035b$export$2e2bcd8739ae039);\nconst $ba05c0ef8a781e02$export$644d8ea042df96a6 = (0, $df6632f9961dbefb$export$2e2bcd8739ae039);\nconst $ba05c0ef8a781e02$export$7d6f1c8842f9f527 = (0, $747de4a7b04ce4ba$export$2e2bcd8739ae039);\nconst $ba05c0ef8a781e02$export$9a771d6906431624 = (0, $e61dc402a65410c5$export$9a771d6906431624);\nconst $ba05c0ef8a781e02$export$a7357cdd1f0b0168 = (0, $d7301ad24121e92e$export$2e2bcd8739ae039);\nconst $ba05c0ef8a781e02$export$3e32638432616b6 = (0, $1747d3542bece520$export$2e2bcd8739ae039);\nconst $ba05c0ef8a781e02$export$6008d97729a90c74 = (0, $ea4e56e50a26ecd6$export$2e2bcd8739ae039);\nconst $ba05c0ef8a781e02$export$a4ea57bd994c1f0d = (0, $c493b830a498683a$export$2e2bcd8739ae039);\nconst $ba05c0ef8a781e02$export$5375cda95f0b0eb4 = (0, $715455f3b9e52ce9$export$2e2bcd8739ae039);\nconst $ba05c0ef8a781e02$export$ddcffe0146c8f882 = (0, $15bf00c5a9ebafaa$export$2e2bcd8739ae039);\nconst $ba05c0ef8a781e02$export$7debb50ef11d5e0b = (0, $0d89305838e7d07e$export$2e2bcd8739ae039);\n\n\n\n\n\n\n/**\n * React Router DOM v6.15.0\n *\n * Copyright (c) Remix Software Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */ \n/**\n * React Router v6.15.0\n *\n * Copyright (c) Remix Software Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */ \n/**\n * @remix-run/router v1.8.0\n *\n * Copyright (c) Remix Software Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */ function $6b1a25b8319a72de$var$_extends() {\n    $6b1a25b8319a72de$var$_extends = Object.assign ? Object.assign.bind() : function(target) {\n        for(var i = 1; i < arguments.length; i++){\n            var source = arguments[i];\n            for(var key in source)if (Object.prototype.hasOwnProperty.call(source, key)) target[key] = source[key];\n        }\n        return target;\n    };\n    return $6b1a25b8319a72de$var$_extends.apply(this, arguments);\n}\n////////////////////////////////////////////////////////////////////////////////\n//#region Types and Constants\n////////////////////////////////////////////////////////////////////////////////\n/**\n * Actions represent the type of change to a location value.\n */ var $6b1a25b8319a72de$export$e19cd5f9376f8cee;\n(function(Action) {\n    /**\n   * A POP indicates a change to an arbitrary index in the history stack, such\n   * as a back or forward navigation. It does not describe the direction of the\n   * navigation, only that the current index changed.\n   *\n   * Note: This is the default action for newly created history objects.\n   */ Action[\"Pop\"] = \"POP\";\n    /**\n   * A PUSH indicates a new entry being added to the history stack, such as when\n   * a link is clicked and a new page loads. When this happens, all subsequent\n   * entries in the stack are lost.\n   */ Action[\"Push\"] = \"PUSH\";\n    /**\n   * A REPLACE indicates the entry at the current index in the history stack\n   * being replaced by a new one.\n   */ Action[\"Replace\"] = \"REPLACE\";\n})($6b1a25b8319a72de$export$e19cd5f9376f8cee || ($6b1a25b8319a72de$export$e19cd5f9376f8cee = {}));\nconst $6b1a25b8319a72de$var$PopStateEventType = \"popstate\";\n/**\n * Memory history stores the current location in memory. It is designed for use\n * in stateful non-browser environments like tests and React Native.\n */ function $6b1a25b8319a72de$export$2b76ad033c6e6d08(options) {\n    if (options === void 0) options = {};\n    let { initialEntries: initialEntries = [\n        \"/\"\n    ], initialIndex: initialIndex, v5Compat: v5Compat = false } = options;\n    let entries; // Declare so we can access from createMemoryLocation\n    entries = initialEntries.map((entry, index)=>createMemoryLocation(entry, typeof entry === \"string\" ? null : entry.state, index === 0 ? \"default\" : undefined));\n    let index = clampIndex(initialIndex == null ? entries.length - 1 : initialIndex);\n    let action = $6b1a25b8319a72de$export$e19cd5f9376f8cee.Pop;\n    let listener = null;\n    function clampIndex(n) {\n        return Math.min(Math.max(n, 0), entries.length - 1);\n    }\n    function getCurrentLocation() {\n        return entries[index];\n    }\n    function createMemoryLocation(to, state, key) {\n        if (state === void 0) state = null;\n        let location = $6b1a25b8319a72de$var$createLocation(entries ? getCurrentLocation().pathname : \"/\", to, state, key);\n        $6b1a25b8319a72de$export$c0e02632e14916fd(location.pathname.charAt(0) === \"/\", \"relative pathnames are not supported in memory history: \" + JSON.stringify(to));\n        return location;\n    }\n    function createHref(to) {\n        return typeof to === \"string\" ? to : $6b1a25b8319a72de$export$fe53371bee54353d(to);\n    }\n    let history = {\n        get index () {\n            return index;\n        },\n        get action () {\n            return action;\n        },\n        get location () {\n            return getCurrentLocation();\n        },\n        createHref: createHref,\n        createURL (to) {\n            return new URL(createHref(to), \"http://localhost\");\n        },\n        encodeLocation (to) {\n            let path = typeof to === \"string\" ? $6b1a25b8319a72de$export$8ccf933b0513f8d0(to) : to;\n            return {\n                pathname: path.pathname || \"\",\n                search: path.search || \"\",\n                hash: path.hash || \"\"\n            };\n        },\n        push (to, state) {\n            action = $6b1a25b8319a72de$export$e19cd5f9376f8cee.Push;\n            let nextLocation = createMemoryLocation(to, state);\n            index += 1;\n            entries.splice(index, entries.length, nextLocation);\n            if (v5Compat && listener) listener({\n                action: action,\n                location: nextLocation,\n                delta: 1\n            });\n        },\n        replace (to, state) {\n            action = $6b1a25b8319a72de$export$e19cd5f9376f8cee.Replace;\n            let nextLocation = createMemoryLocation(to, state);\n            entries[index] = nextLocation;\n            if (v5Compat && listener) listener({\n                action: action,\n                location: nextLocation,\n                delta: 0\n            });\n        },\n        go (delta) {\n            action = $6b1a25b8319a72de$export$e19cd5f9376f8cee.Pop;\n            let nextIndex = clampIndex(index + delta);\n            let nextLocation = entries[nextIndex];\n            index = nextIndex;\n            if (listener) listener({\n                action: action,\n                location: nextLocation,\n                delta: delta\n            });\n        },\n        listen (fn) {\n            listener = fn;\n            return ()=>{\n                listener = null;\n            };\n        }\n    };\n    return history;\n}\n/**\n * Browser history stores the location in regular URLs. This is the standard for\n * most web apps, but it requires some configuration on the server to ensure you\n * serve the same app at multiple URLs.\n *\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#createbrowserhistory\n */ function $6b1a25b8319a72de$export$719fc203c4e16dee(options) {\n    if (options === void 0) options = {};\n    function createBrowserLocation(window1, globalHistory) {\n        let { pathname: pathname, search: search, hash: hash } = window1.location;\n        return $6b1a25b8319a72de$var$createLocation(\"\", {\n            pathname: pathname,\n            search: search,\n            hash: hash\n        }, // state defaults to `null` because `window.history.state` does\n        globalHistory.state && globalHistory.state.usr || null, globalHistory.state && globalHistory.state.key || \"default\");\n    }\n    function createBrowserHref(window1, to) {\n        return typeof to === \"string\" ? to : $6b1a25b8319a72de$export$fe53371bee54353d(to);\n    }\n    return $6b1a25b8319a72de$var$getUrlBasedHistory(createBrowserLocation, createBrowserHref, null, options);\n}\n/**\n * Hash history stores the location in window.location.hash. This makes it ideal\n * for situations where you don't want to send the location to the server for\n * some reason, either because you do cannot configure it or the URL space is\n * reserved for something else.\n *\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#createhashhistory\n */ function $6b1a25b8319a72de$export$b71fdd3798280242(options) {\n    if (options === void 0) options = {};\n    function createHashLocation(window1, globalHistory) {\n        let { pathname: pathname = \"/\", search: search = \"\", hash: hash = \"\" } = $6b1a25b8319a72de$export$8ccf933b0513f8d0(window1.location.hash.substr(1));\n        // Hash URL should always have a leading / just like window.location.pathname\n        // does, so if an app ends up at a route like /#something then we add a\n        // leading slash so all of our path-matching behaves the same as if it would\n        // in a browser router.  This is particularly important when there exists a\n        // root splat route (<Route path=\"*\">) since that matches internally against\n        // \"/*\" and we'd expect /#something to 404 in a hash router app.\n        if (!pathname.startsWith(\"/\") && !pathname.startsWith(\".\")) pathname = \"/\" + pathname;\n        return $6b1a25b8319a72de$var$createLocation(\"\", {\n            pathname: pathname,\n            search: search,\n            hash: hash\n        }, // state defaults to `null` because `window.history.state` does\n        globalHistory.state && globalHistory.state.usr || null, globalHistory.state && globalHistory.state.key || \"default\");\n    }\n    function createHashHref(window1, to) {\n        let base = window1.document.querySelector(\"base\");\n        let href = \"\";\n        if (base && base.getAttribute(\"href\")) {\n            let url = window1.location.href;\n            let hashIndex = url.indexOf(\"#\");\n            href = hashIndex === -1 ? url : url.slice(0, hashIndex);\n        }\n        return href + \"#\" + (typeof to === \"string\" ? to : $6b1a25b8319a72de$export$fe53371bee54353d(to));\n    }\n    function validateHashLocation(location, to) {\n        $6b1a25b8319a72de$export$c0e02632e14916fd(location.pathname.charAt(0) === \"/\", \"relative pathnames are not supported in hash history.push(\" + JSON.stringify(to) + \")\");\n    }\n    return $6b1a25b8319a72de$var$getUrlBasedHistory(createHashLocation, createHashHref, validateHashLocation, options);\n}\nfunction $6b1a25b8319a72de$export$3e9cee6b33872309(value, message) {\n    if (value === false || value === null || typeof value === \"undefined\") throw new Error(message);\n}\nfunction $6b1a25b8319a72de$export$c0e02632e14916fd(cond, message) {\n    if (!cond) {\n        // eslint-disable-next-line no-console\n        if (typeof console !== \"undefined\") console.warn(message);\n        try {\n            // Welcome to debugging history!\n            //\n            // This error is thrown as a convenience so you can more easily\n            // find the source for a warning that appears in the console by\n            // enabling \"pause on exceptions\" in your JavaScript debugger.\n            throw new Error(message);\n        // eslint-disable-next-line no-empty\n        } catch (e) {}\n    }\n}\nfunction $6b1a25b8319a72de$var$createKey() {\n    return Math.random().toString(36).substr(2, 8);\n}\n/**\n * For browser-based histories, we combine the state and key into an object\n */ function $6b1a25b8319a72de$var$getHistoryState(location, index) {\n    return {\n        usr: location.state,\n        key: location.key,\n        idx: index\n    };\n}\n/**\n * Creates a Location object with a unique key from the given Path\n */ function $6b1a25b8319a72de$var$createLocation(current, to, state, key) {\n    if (state === void 0) state = null;\n    let location = $6b1a25b8319a72de$var$_extends({\n        pathname: typeof current === \"string\" ? current : current.pathname,\n        search: \"\",\n        hash: \"\"\n    }, typeof to === \"string\" ? $6b1a25b8319a72de$export$8ccf933b0513f8d0(to) : to, {\n        state: state,\n        // TODO: This could be cleaned up.  push/replace should probably just take\n        // full Locations now and avoid the need to run through this flow at all\n        // But that's a pretty big refactor to the current test suite so going to\n        // keep as is for the time being and just let any incoming keys take precedence\n        key: to && to.key || key || $6b1a25b8319a72de$var$createKey()\n    });\n    return location;\n}\n/**\n * Creates a string URL path from the given pathname, search, and hash components.\n */ function $6b1a25b8319a72de$export$fe53371bee54353d(_ref) {\n    let { pathname: pathname = \"/\", search: search = \"\", hash: hash = \"\" } = _ref;\n    if (search && search !== \"?\") pathname += search.charAt(0) === \"?\" ? search : \"?\" + search;\n    if (hash && hash !== \"#\") pathname += hash.charAt(0) === \"#\" ? hash : \"#\" + hash;\n    return pathname;\n}\n/**\n * Parses a string URL path into its separate pathname, search, and hash components.\n */ function $6b1a25b8319a72de$export$8ccf933b0513f8d0(path) {\n    let parsedPath = {};\n    if (path) {\n        let hashIndex = path.indexOf(\"#\");\n        if (hashIndex >= 0) {\n            parsedPath.hash = path.substr(hashIndex);\n            path = path.substr(0, hashIndex);\n        }\n        let searchIndex = path.indexOf(\"?\");\n        if (searchIndex >= 0) {\n            parsedPath.search = path.substr(searchIndex);\n            path = path.substr(0, searchIndex);\n        }\n        if (path) parsedPath.pathname = path;\n    }\n    return parsedPath;\n}\nfunction $6b1a25b8319a72de$var$getUrlBasedHistory(getLocation, createHref, validateLocation, options) {\n    if (options === void 0) options = {};\n    let { window: window1 = document.defaultView, v5Compat: v5Compat = false } = options;\n    let globalHistory = window1.history;\n    let action = $6b1a25b8319a72de$export$e19cd5f9376f8cee.Pop;\n    let listener = null;\n    let index = getIndex();\n    // Index should only be null when we initialize. If not, it's because the\n    // user called history.pushState or history.replaceState directly, in which\n    // case we should log a warning as it will result in bugs.\n    if (index == null) {\n        index = 0;\n        globalHistory.replaceState($6b1a25b8319a72de$var$_extends({}, globalHistory.state, {\n            idx: index\n        }), \"\");\n    }\n    function getIndex() {\n        let state = globalHistory.state || {\n            idx: null\n        };\n        return state.idx;\n    }\n    function handlePop() {\n        action = $6b1a25b8319a72de$export$e19cd5f9376f8cee.Pop;\n        let nextIndex = getIndex();\n        let delta = nextIndex == null ? null : nextIndex - index;\n        index = nextIndex;\n        if (listener) listener({\n            action: action,\n            location: history.location,\n            delta: delta\n        });\n    }\n    function push(to, state) {\n        action = $6b1a25b8319a72de$export$e19cd5f9376f8cee.Push;\n        let location = $6b1a25b8319a72de$var$createLocation(history.location, to, state);\n        if (validateLocation) validateLocation(location, to);\n        index = getIndex() + 1;\n        let historyState = $6b1a25b8319a72de$var$getHistoryState(location, index);\n        let url = history.createHref(location);\n        // try...catch because iOS limits us to 100 pushState calls :/\n        try {\n            globalHistory.pushState(historyState, \"\", url);\n        } catch (error) {\n            // If the exception is because `state` can't be serialized, let that throw\n            // outwards just like a replace call would so the dev knows the cause\n            // https://html.spec.whatwg.org/multipage/nav-history-apis.html#shared-history-push/replace-state-steps\n            // https://html.spec.whatwg.org/multipage/structured-data.html#structuredserializeinternal\n            if (error instanceof DOMException && error.name === \"DataCloneError\") throw error;\n            // They are going to lose state here, but there is no real\n            // way to warn them about it since the page will refresh...\n            window1.location.assign(url);\n        }\n        if (v5Compat && listener) listener({\n            action: action,\n            location: history.location,\n            delta: 1\n        });\n    }\n    function replace(to, state) {\n        action = $6b1a25b8319a72de$export$e19cd5f9376f8cee.Replace;\n        let location = $6b1a25b8319a72de$var$createLocation(history.location, to, state);\n        if (validateLocation) validateLocation(location, to);\n        index = getIndex();\n        let historyState = $6b1a25b8319a72de$var$getHistoryState(location, index);\n        let url = history.createHref(location);\n        globalHistory.replaceState(historyState, \"\", url);\n        if (v5Compat && listener) listener({\n            action: action,\n            location: history.location,\n            delta: 0\n        });\n    }\n    function createURL(to) {\n        // window.location.origin is \"null\" (the literal string value) in Firefox\n        // under certain conditions, notably when serving from a local HTML file\n        // See https://bugzilla.mozilla.org/show_bug.cgi?id=878297\n        let base = window1.location.origin !== \"null\" ? window1.location.origin : window1.location.href;\n        let href = typeof to === \"string\" ? to : $6b1a25b8319a72de$export$fe53371bee54353d(to);\n        $6b1a25b8319a72de$export$3e9cee6b33872309(base, \"No window.location.(origin|href) available to create URL for href: \" + href);\n        return new URL(href, base);\n    }\n    let history = {\n        get action () {\n            return action;\n        },\n        get location () {\n            return getLocation(window1, globalHistory);\n        },\n        listen (fn) {\n            if (listener) throw new Error(\"A history only accepts one active listener\");\n            window1.addEventListener($6b1a25b8319a72de$var$PopStateEventType, handlePop);\n            listener = fn;\n            return ()=>{\n                window1.removeEventListener($6b1a25b8319a72de$var$PopStateEventType, handlePop);\n                listener = null;\n            };\n        },\n        createHref (to) {\n            return createHref(window1, to);\n        },\n        createURL: createURL,\n        encodeLocation (to) {\n            // Encode a Location the same way window.location would\n            let url = createURL(to);\n            return {\n                pathname: url.pathname,\n                search: url.search,\n                hash: url.hash\n            };\n        },\n        push: push,\n        replace: replace,\n        go (n) {\n            return globalHistory.go(n);\n        }\n    };\n    return history;\n}\n//#endregion\nvar $6b1a25b8319a72de$var$ResultType;\n(function(ResultType) {\n    ResultType[\"data\"] = \"data\";\n    ResultType[\"deferred\"] = \"deferred\";\n    ResultType[\"redirect\"] = \"redirect\";\n    ResultType[\"error\"] = \"error\";\n})($6b1a25b8319a72de$var$ResultType || ($6b1a25b8319a72de$var$ResultType = {}));\nconst $6b1a25b8319a72de$var$immutableRouteKeys = new Set([\n    \"lazy\",\n    \"caseSensitive\",\n    \"path\",\n    \"id\",\n    \"index\",\n    \"children\"\n]);\nfunction $6b1a25b8319a72de$var$isIndexRoute(route) {\n    return route.index === true;\n}\n// Walk the route tree generating unique IDs where necessary so we are working\n// solely with AgnosticDataRouteObject's within the Router\nfunction $6b1a25b8319a72de$export$4a6d22b32134ea5d(routes, mapRouteProperties, parentPath, manifest) {\n    if (parentPath === void 0) parentPath = [];\n    if (manifest === void 0) manifest = {};\n    return routes.map((route, index)=>{\n        let treePath = [\n            ...parentPath,\n            index\n        ];\n        let id = typeof route.id === \"string\" ? route.id : treePath.join(\"-\");\n        $6b1a25b8319a72de$export$3e9cee6b33872309(route.index !== true || !route.children, \"Cannot specify children on an index route\");\n        $6b1a25b8319a72de$export$3e9cee6b33872309(!manifest[id], 'Found a route id collision on id \"' + id + '\".  Route ' + \"id's must be globally unique within Data Router usages\");\n        if ($6b1a25b8319a72de$var$isIndexRoute(route)) {\n            let indexRoute = $6b1a25b8319a72de$var$_extends({}, route, mapRouteProperties(route), {\n                id: id\n            });\n            manifest[id] = indexRoute;\n            return indexRoute;\n        } else {\n            let pathOrLayoutRoute = $6b1a25b8319a72de$var$_extends({}, route, mapRouteProperties(route), {\n                id: id,\n                children: undefined\n            });\n            manifest[id] = pathOrLayoutRoute;\n            if (route.children) pathOrLayoutRoute.children = $6b1a25b8319a72de$export$4a6d22b32134ea5d(route.children, mapRouteProperties, treePath, manifest);\n            return pathOrLayoutRoute;\n        }\n    });\n}\n/**\n * Matches the given routes to a location and returns the match data.\n *\n * @see https://reactrouter.com/utils/match-routes\n */ function $6b1a25b8319a72de$export$2708184779ceb39d(routes, locationArg, basename) {\n    if (basename === void 0) basename = \"/\";\n    let location = typeof locationArg === \"string\" ? $6b1a25b8319a72de$export$8ccf933b0513f8d0(locationArg) : locationArg;\n    let pathname = $6b1a25b8319a72de$export$b69e3301ce081aa3(location.pathname || \"/\", basename);\n    if (pathname == null) return null;\n    let branches = $6b1a25b8319a72de$var$flattenRoutes(routes);\n    $6b1a25b8319a72de$var$rankRouteBranches(branches);\n    let matches = null;\n    for(let i = 0; matches == null && i < branches.length; ++i)matches = $6b1a25b8319a72de$var$matchRouteBranch(branches[i], // Incoming pathnames are generally encoded from either window.location\n    // or from router.navigate, but we want to match against the unencoded\n    // paths in the route definitions.  Memory router locations won't be\n    // encoded here but there also shouldn't be anything to decode so this\n    // should be a safe operation.  This avoids needing matchRoutes to be\n    // history-aware.\n    $6b1a25b8319a72de$var$safelyDecodeURI(pathname));\n    return matches;\n}\nfunction $6b1a25b8319a72de$var$flattenRoutes(routes, branches, parentsMeta, parentPath) {\n    if (branches === void 0) branches = [];\n    if (parentsMeta === void 0) parentsMeta = [];\n    if (parentPath === void 0) parentPath = \"\";\n    let flattenRoute = (route, index, relativePath)=>{\n        let meta = {\n            relativePath: relativePath === undefined ? route.path || \"\" : relativePath,\n            caseSensitive: route.caseSensitive === true,\n            childrenIndex: index,\n            route: route\n        };\n        if (meta.relativePath.startsWith(\"/\")) {\n            $6b1a25b8319a72de$export$3e9cee6b33872309(meta.relativePath.startsWith(parentPath), 'Absolute route path \"' + meta.relativePath + '\" nested under path ' + ('\"' + parentPath + '\" is not valid. An absolute child route path ') + \"must start with the combined path of all its parent routes.\");\n            meta.relativePath = meta.relativePath.slice(parentPath.length);\n        }\n        let path = $6b1a25b8319a72de$export$86d9a7913e44197e([\n            parentPath,\n            meta.relativePath\n        ]);\n        let routesMeta = parentsMeta.concat(meta);\n        // Add the children before adding this route to the array so we traverse the\n        // route tree depth-first and child routes appear before their parents in\n        // the \"flattened\" version.\n        if (route.children && route.children.length > 0) {\n            $6b1a25b8319a72de$export$3e9cee6b33872309(// Our types know better, but runtime JS may not!\n            // @ts-expect-error\n            route.index !== true, \"Index routes must not have child routes. Please remove \" + ('all child routes from route path \"' + path + '\".'));\n            $6b1a25b8319a72de$var$flattenRoutes(route.children, branches, routesMeta, path);\n        }\n        // Routes without a path shouldn't ever match by themselves unless they are\n        // index routes, so don't add them to the list of possible branches.\n        if (route.path == null && !route.index) return;\n        branches.push({\n            path: path,\n            score: $6b1a25b8319a72de$var$computeScore(path, route.index),\n            routesMeta: routesMeta\n        });\n    };\n    routes.forEach((route, index)=>{\n        var _route$path;\n        // coarse-grain check for optional params\n        if (route.path === \"\" || !((_route$path = route.path) != null && _route$path.includes(\"?\"))) flattenRoute(route, index);\n        else for (let exploded of $6b1a25b8319a72de$var$explodeOptionalSegments(route.path))flattenRoute(route, index, exploded);\n    });\n    return branches;\n}\n/**\n * Computes all combinations of optional path segments for a given path,\n * excluding combinations that are ambiguous and of lower priority.\n *\n * For example, `/one/:two?/three/:four?/:five?` explodes to:\n * - `/one/three`\n * - `/one/:two/three`\n * - `/one/three/:four`\n * - `/one/three/:five`\n * - `/one/:two/three/:four`\n * - `/one/:two/three/:five`\n * - `/one/three/:four/:five`\n * - `/one/:two/three/:four/:five`\n */ function $6b1a25b8319a72de$var$explodeOptionalSegments(path) {\n    let segments = path.split(\"/\");\n    if (segments.length === 0) return [];\n    let [first, ...rest] = segments;\n    // Optional path segments are denoted by a trailing `?`\n    let isOptional = first.endsWith(\"?\");\n    // Compute the corresponding required segment: `foo?` -> `foo`\n    let required = first.replace(/\\?$/, \"\");\n    if (rest.length === 0) // Intepret empty string as omitting an optional segment\n    // `[\"one\", \"\", \"three\"]` corresponds to omitting `:two` from `/one/:two?/three` -> `/one/three`\n    return isOptional ? [\n        required,\n        \"\"\n    ] : [\n        required\n    ];\n    let restExploded = $6b1a25b8319a72de$var$explodeOptionalSegments(rest.join(\"/\"));\n    let result = [];\n    // All child paths with the prefix.  Do this for all children before the\n    // optional version for all children so we get consistent ordering where the\n    // parent optional aspect is preferred as required.  Otherwise, we can get\n    // child sections interspersed where deeper optional segments are higher than\n    // parent optional segments, where for example, /:two would explodes _earlier_\n    // then /:one.  By always including the parent as required _for all children_\n    // first, we avoid this issue\n    result.push(...restExploded.map((subpath)=>subpath === \"\" ? required : [\n            required,\n            subpath\n        ].join(\"/\")));\n    // Then if this is an optional value, add all child versions without\n    if (isOptional) result.push(...restExploded);\n    // for absolute paths, ensure `/` instead of empty segment\n    return result.map((exploded)=>path.startsWith(\"/\") && exploded === \"\" ? \"/\" : exploded);\n}\nfunction $6b1a25b8319a72de$var$rankRouteBranches(branches) {\n    branches.sort((a, b)=>a.score !== b.score ? b.score - a.score // Higher score first\n         : $6b1a25b8319a72de$var$compareIndexes(a.routesMeta.map((meta)=>meta.childrenIndex), b.routesMeta.map((meta)=>meta.childrenIndex)));\n}\nconst $6b1a25b8319a72de$var$paramRe = /^:\\w+$/;\nconst $6b1a25b8319a72de$var$dynamicSegmentValue = 3;\nconst $6b1a25b8319a72de$var$indexRouteValue = 2;\nconst $6b1a25b8319a72de$var$emptySegmentValue = 1;\nconst $6b1a25b8319a72de$var$staticSegmentValue = 10;\nconst $6b1a25b8319a72de$var$splatPenalty = -2;\nconst $6b1a25b8319a72de$var$isSplat = (s)=>s === \"*\";\nfunction $6b1a25b8319a72de$var$computeScore(path, index) {\n    let segments = path.split(\"/\");\n    let initialScore = segments.length;\n    if (segments.some($6b1a25b8319a72de$var$isSplat)) initialScore += $6b1a25b8319a72de$var$splatPenalty;\n    if (index) initialScore += $6b1a25b8319a72de$var$indexRouteValue;\n    return segments.filter((s)=>!$6b1a25b8319a72de$var$isSplat(s)).reduce((score, segment)=>score + ($6b1a25b8319a72de$var$paramRe.test(segment) ? $6b1a25b8319a72de$var$dynamicSegmentValue : segment === \"\" ? $6b1a25b8319a72de$var$emptySegmentValue : $6b1a25b8319a72de$var$staticSegmentValue), initialScore);\n}\nfunction $6b1a25b8319a72de$var$compareIndexes(a, b) {\n    let siblings = a.length === b.length && a.slice(0, -1).every((n, i)=>n === b[i]);\n    return siblings ? // If two routes are siblings, we should try to match the earlier sibling\n    // first. This allows people to have fine-grained control over the matching\n    // behavior by simply putting routes with identical paths in the order they\n    // want them tried.\n    a[a.length - 1] - b[b.length - 1] : // Otherwise, it doesn't really make sense to rank non-siblings by index,\n    // so they sort equally.\n    0;\n}\nfunction $6b1a25b8319a72de$var$matchRouteBranch(branch, pathname) {\n    let { routesMeta: routesMeta } = branch;\n    let matchedParams = {};\n    let matchedPathname = \"/\";\n    let matches = [];\n    for(let i = 0; i < routesMeta.length; ++i){\n        let meta = routesMeta[i];\n        let end = i === routesMeta.length - 1;\n        let remainingPathname = matchedPathname === \"/\" ? pathname : pathname.slice(matchedPathname.length) || \"/\";\n        let match = $6b1a25b8319a72de$export$81336c211d5ff295({\n            path: meta.relativePath,\n            caseSensitive: meta.caseSensitive,\n            end: end\n        }, remainingPathname);\n        if (!match) return null;\n        Object.assign(matchedParams, match.params);\n        let route = meta.route;\n        matches.push({\n            // TODO: Can this as be avoided?\n            params: matchedParams,\n            pathname: $6b1a25b8319a72de$export$86d9a7913e44197e([\n                matchedPathname,\n                match.pathname\n            ]),\n            pathnameBase: $6b1a25b8319a72de$export$a5c6d149b50c1d86($6b1a25b8319a72de$export$86d9a7913e44197e([\n                matchedPathname,\n                match.pathnameBase\n            ])),\n            route: route\n        });\n        if (match.pathnameBase !== \"/\") matchedPathname = $6b1a25b8319a72de$export$86d9a7913e44197e([\n            matchedPathname,\n            match.pathnameBase\n        ]);\n    }\n    return matches;\n}\n/**\n * Returns a path with params interpolated.\n *\n * @see https://reactrouter.com/utils/generate-path\n */ function $6b1a25b8319a72de$export$82476f982757e71e(originalPath, params) {\n    if (params === void 0) params = {};\n    let path = originalPath;\n    if (path.endsWith(\"*\") && path !== \"*\" && !path.endsWith(\"/*\")) {\n        $6b1a25b8319a72de$export$c0e02632e14916fd(false, 'Route path \"' + path + '\" will be treated as if it were ' + ('\"' + path.replace(/\\*$/, \"/*\") + '\" because the `*` character must ') + \"always follow a `/` in the pattern. To get rid of this warning, \" + ('please change the route path to \"' + path.replace(/\\*$/, \"/*\") + '\".'));\n        path = path.replace(/\\*$/, \"/*\");\n    }\n    // ensure `/` is added at the beginning if the path is absolute\n    const prefix = path.startsWith(\"/\") ? \"/\" : \"\";\n    const stringify = (p)=>p == null ? \"\" : typeof p === \"string\" ? p : String(p);\n    const segments = path.split(/\\/+/).map((segment, index, array)=>{\n        const isLastSegment = index === array.length - 1;\n        // only apply the splat if it's the last segment\n        if (isLastSegment && segment === \"*\") {\n            const star = \"*\";\n            // Apply the splat\n            return stringify(params[star]);\n        }\n        const keyMatch = segment.match(/^:(\\w+)(\\??)$/);\n        if (keyMatch) {\n            const [, key, optional] = keyMatch;\n            let param = params[key];\n            $6b1a25b8319a72de$export$3e9cee6b33872309(optional === \"?\" || param != null, 'Missing \":' + key + '\" param');\n            return stringify(param);\n        }\n        // Remove any optional markers from optional static segments\n        return segment.replace(/\\?$/g, \"\");\n    })// Remove empty segments\n    .filter((segment)=>!!segment);\n    return prefix + segments.join(\"/\");\n}\n/**\n * Performs pattern matching on a URL pathname and returns information about\n * the match.\n *\n * @see https://reactrouter.com/utils/match-path\n */ function $6b1a25b8319a72de$export$81336c211d5ff295(pattern, pathname) {\n    if (typeof pattern === \"string\") pattern = {\n        path: pattern,\n        caseSensitive: false,\n        end: true\n    };\n    let [matcher, paramNames] = $6b1a25b8319a72de$var$compilePath(pattern.path, pattern.caseSensitive, pattern.end);\n    let match = pathname.match(matcher);\n    if (!match) return null;\n    let matchedPathname = match[0];\n    let pathnameBase = matchedPathname.replace(/(.)\\/+$/, \"$1\");\n    let captureGroups = match.slice(1);\n    let params = paramNames.reduce((memo, paramName, index)=>{\n        // We need to compute the pathnameBase here using the raw splat value\n        // instead of using params[\"*\"] later because it will be decoded then\n        if (paramName === \"*\") {\n            let splatValue = captureGroups[index] || \"\";\n            pathnameBase = matchedPathname.slice(0, matchedPathname.length - splatValue.length).replace(/(.)\\/+$/, \"$1\");\n        }\n        memo[paramName] = $6b1a25b8319a72de$var$safelyDecodeURIComponent(captureGroups[index] || \"\", paramName);\n        return memo;\n    }, {});\n    return {\n        params: params,\n        pathname: matchedPathname,\n        pathnameBase: pathnameBase,\n        pattern: pattern\n    };\n}\nfunction $6b1a25b8319a72de$var$compilePath(path, caseSensitive, end) {\n    if (caseSensitive === void 0) caseSensitive = false;\n    if (end === void 0) end = true;\n    $6b1a25b8319a72de$export$c0e02632e14916fd(path === \"*\" || !path.endsWith(\"*\") || path.endsWith(\"/*\"), 'Route path \"' + path + '\" will be treated as if it were ' + ('\"' + path.replace(/\\*$/, \"/*\") + '\" because the `*` character must ') + \"always follow a `/` in the pattern. To get rid of this warning, \" + ('please change the route path to \"' + path.replace(/\\*$/, \"/*\") + '\".'));\n    let paramNames = [];\n    let regexpSource = \"^\" + path.replace(/\\/*\\*?$/, \"\") // Ignore trailing / and /*, we'll handle it below\n    .replace(/^\\/*/, \"/\") // Make sure it has a leading /\n    .replace(/[\\\\.*+^$?{}|()[\\]]/g, \"\\\\$&\") // Escape special regex chars\n    .replace(/\\/:(\\w+)/g, (_, paramName)=>{\n        paramNames.push(paramName);\n        return \"/([^\\\\/]+)\";\n    });\n    if (path.endsWith(\"*\")) {\n        paramNames.push(\"*\");\n        regexpSource += path === \"*\" || path === \"/*\" ? \"(.*)$\" // Already matched the initial /, just match the rest\n         : \"(?:\\\\/(.+)|\\\\/*)$\"; // Don't include the / in params[\"*\"]\n    } else if (end) // When matching to the end, ignore trailing slashes\n    regexpSource += \"\\\\/*$\";\n    else if (path !== \"\" && path !== \"/\") // If our path is non-empty and contains anything beyond an initial slash,\n    // then we have _some_ form of path in our regex so we should expect to\n    // match only if we find the end of this path segment.  Look for an optional\n    // non-captured trailing slash (to match a portion of the URL) or the end\n    // of the path (if we've matched to the end).  We used to do this with a\n    // word boundary but that gives false positives on routes like\n    // /user-preferences since `-` counts as a word boundary.\n    regexpSource += \"(?:(?=\\\\/|$))\";\n    let matcher = new RegExp(regexpSource, caseSensitive ? undefined : \"i\");\n    return [\n        matcher,\n        paramNames\n    ];\n}\nfunction $6b1a25b8319a72de$var$safelyDecodeURI(value) {\n    try {\n        return decodeURI(value);\n    } catch (error) {\n        $6b1a25b8319a72de$export$c0e02632e14916fd(false, 'The URL path \"' + value + '\" could not be decoded because it is is a ' + \"malformed URL segment. This is probably due to a bad percent \" + (\"encoding (\" + error + \").\"));\n        return value;\n    }\n}\nfunction $6b1a25b8319a72de$var$safelyDecodeURIComponent(value, paramName) {\n    try {\n        return decodeURIComponent(value);\n    } catch (error) {\n        $6b1a25b8319a72de$export$c0e02632e14916fd(false, 'The value for the URL param \"' + paramName + '\" will not be decoded because' + (' the string \"' + value + '\" is a malformed URL segment. This is probably') + (\" due to a bad percent encoding (\" + error + \").\"));\n        return value;\n    }\n}\n/**\n * @private\n */ function $6b1a25b8319a72de$export$b69e3301ce081aa3(pathname, basename) {\n    if (basename === \"/\") return pathname;\n    if (!pathname.toLowerCase().startsWith(basename.toLowerCase())) return null;\n    // We want to leave trailing slash behavior in the user's control, so if they\n    // specify a basename with a trailing slash, we should support it\n    let startIndex = basename.endsWith(\"/\") ? basename.length - 1 : basename.length;\n    let nextChar = pathname.charAt(startIndex);\n    if (nextChar && nextChar !== \"/\") // pathname does not start with basename/\n    return null;\n    return pathname.slice(startIndex) || \"/\";\n}\n/**\n * Returns a resolved path object relative to the given pathname.\n *\n * @see https://reactrouter.com/utils/resolve-path\n */ function $6b1a25b8319a72de$export$b09f2ff0bbcb43c7(to, fromPathname) {\n    if (fromPathname === void 0) fromPathname = \"/\";\n    let { pathname: toPathname, search: search = \"\", hash: hash = \"\" } = typeof to === \"string\" ? $6b1a25b8319a72de$export$8ccf933b0513f8d0(to) : to;\n    let pathname = toPathname ? toPathname.startsWith(\"/\") ? toPathname : $6b1a25b8319a72de$var$resolvePathname(toPathname, fromPathname) : fromPathname;\n    return {\n        pathname: pathname,\n        search: $6b1a25b8319a72de$var$normalizeSearch(search),\n        hash: $6b1a25b8319a72de$var$normalizeHash(hash)\n    };\n}\nfunction $6b1a25b8319a72de$var$resolvePathname(relativePath, fromPathname) {\n    let segments = fromPathname.replace(/\\/+$/, \"\").split(\"/\");\n    let relativeSegments = relativePath.split(\"/\");\n    relativeSegments.forEach((segment)=>{\n        if (segment === \"..\") // Keep the root \"\" segment so the pathname starts at /\n        {\n            if (segments.length > 1) segments.pop();\n        } else if (segment !== \".\") segments.push(segment);\n    });\n    return segments.length > 1 ? segments.join(\"/\") : \"/\";\n}\nfunction $6b1a25b8319a72de$var$getInvalidPathError(char, field, dest, path) {\n    return \"Cannot include a '\" + char + \"' character in a manually specified \" + (\"`to.\" + field + \"` field [\" + JSON.stringify(path) + \"].  Please separate it out to the \") + (\"`to.\" + dest + \"` field. Alternatively you may provide the full path as \") + 'a string in <Link to=\"...\"> and the router will parse it for you.';\n}\n/**\n * @private\n *\n * When processing relative navigation we want to ignore ancestor routes that\n * do not contribute to the path, such that index/pathless layout routes don't\n * interfere.\n *\n * For example, when moving a route element into an index route and/or a\n * pathless layout route, relative link behavior contained within should stay\n * the same.  Both of the following examples should link back to the root:\n *\n *   <Route path=\"/\">\n *     <Route path=\"accounts\" element={<Link to=\"..\"}>\n *   </Route>\n *\n *   <Route path=\"/\">\n *     <Route path=\"accounts\">\n *       <Route element={<AccountsLayout />}>       // <-- Does not contribute\n *         <Route index element={<Link to=\"..\"} />  // <-- Does not contribute\n *       </Route\n *     </Route>\n *   </Route>\n */ function $6b1a25b8319a72de$export$90ba53ce1c7fdff2(matches) {\n    return matches.filter((match, index)=>index === 0 || match.route.path && match.route.path.length > 0);\n}\n/**\n * @private\n */ function $6b1a25b8319a72de$export$cae722b0cc860f13(toArg, routePathnames, locationPathname, isPathRelative) {\n    if (isPathRelative === void 0) isPathRelative = false;\n    let to;\n    if (typeof toArg === \"string\") to = $6b1a25b8319a72de$export$8ccf933b0513f8d0(toArg);\n    else {\n        to = $6b1a25b8319a72de$var$_extends({}, toArg);\n        $6b1a25b8319a72de$export$3e9cee6b33872309(!to.pathname || !to.pathname.includes(\"?\"), $6b1a25b8319a72de$var$getInvalidPathError(\"?\", \"pathname\", \"search\", to));\n        $6b1a25b8319a72de$export$3e9cee6b33872309(!to.pathname || !to.pathname.includes(\"#\"), $6b1a25b8319a72de$var$getInvalidPathError(\"#\", \"pathname\", \"hash\", to));\n        $6b1a25b8319a72de$export$3e9cee6b33872309(!to.search || !to.search.includes(\"#\"), $6b1a25b8319a72de$var$getInvalidPathError(\"#\", \"search\", \"hash\", to));\n    }\n    let isEmptyPath = toArg === \"\" || to.pathname === \"\";\n    let toPathname = isEmptyPath ? \"/\" : to.pathname;\n    let from;\n    // Routing is relative to the current pathname if explicitly requested.\n    //\n    // If a pathname is explicitly provided in `to`, it should be relative to the\n    // route context. This is explained in `Note on `<Link to>` values` in our\n    // migration guide from v5 as a means of disambiguation between `to` values\n    // that begin with `/` and those that do not. However, this is problematic for\n    // `to` values that do not provide a pathname. `to` can simply be a search or\n    // hash string, in which case we should assume that the navigation is relative\n    // to the current location's pathname and *not* the route pathname.\n    if (isPathRelative || toPathname == null) from = locationPathname;\n    else {\n        let routePathnameIndex = routePathnames.length - 1;\n        if (toPathname.startsWith(\"..\")) {\n            let toSegments = toPathname.split(\"/\");\n            // Each leading .. segment means \"go up one route\" instead of \"go up one\n            // URL segment\".  This is a key difference from how <a href> works and a\n            // major reason we call this a \"to\" value instead of a \"href\".\n            while(toSegments[0] === \"..\"){\n                toSegments.shift();\n                routePathnameIndex -= 1;\n            }\n            to.pathname = toSegments.join(\"/\");\n        }\n        // If there are more \"..\" segments than parent routes, resolve relative to\n        // the root / URL.\n        from = routePathnameIndex >= 0 ? routePathnames[routePathnameIndex] : \"/\";\n    }\n    let path = $6b1a25b8319a72de$export$b09f2ff0bbcb43c7(to, from);\n    // Ensure the pathname has a trailing slash if the original \"to\" had one\n    let hasExplicitTrailingSlash = toPathname && toPathname !== \"/\" && toPathname.endsWith(\"/\");\n    // Or if this was a link to the current path which has a trailing slash\n    let hasCurrentTrailingSlash = (isEmptyPath || toPathname === \".\") && locationPathname.endsWith(\"/\");\n    if (!path.pathname.endsWith(\"/\") && (hasExplicitTrailingSlash || hasCurrentTrailingSlash)) path.pathname += \"/\";\n    return path;\n}\n/**\n * @private\n */ function $6b1a25b8319a72de$export$f5655dfea9d981c7(to) {\n    // Empty strings should be treated the same as / paths\n    return to === \"\" || to.pathname === \"\" ? \"/\" : typeof to === \"string\" ? $6b1a25b8319a72de$export$8ccf933b0513f8d0(to).pathname : to.pathname;\n}\n/**\n * @private\n */ const $6b1a25b8319a72de$export$86d9a7913e44197e = (paths)=>paths.join(\"/\").replace(/\\/\\/+/g, \"/\");\n/**\n * @private\n */ const $6b1a25b8319a72de$export$a5c6d149b50c1d86 = (pathname)=>pathname.replace(/\\/+$/, \"\").replace(/^\\/*/, \"/\");\n/**\n * @private\n */ const $6b1a25b8319a72de$var$normalizeSearch = (search)=>!search || search === \"?\" ? \"\" : search.startsWith(\"?\") ? search : \"?\" + search;\n/**\n * @private\n */ const $6b1a25b8319a72de$var$normalizeHash = (hash)=>!hash || hash === \"#\" ? \"\" : hash.startsWith(\"#\") ? hash : \"#\" + hash;\n/**\n * This is a shortcut for creating `application/json` responses. Converts `data`\n * to JSON and sets the `Content-Type` header.\n */ const $6b1a25b8319a72de$export$7b419323e6ed4f31 = function json(data, init) {\n    if (init === void 0) init = {};\n    let responseInit = typeof init === \"number\" ? {\n        status: init\n    } : init;\n    let headers = new Headers(responseInit.headers);\n    if (!headers.has(\"Content-Type\")) headers.set(\"Content-Type\", \"application/json; charset=utf-8\");\n    return new Response(JSON.stringify(data), $6b1a25b8319a72de$var$_extends({}, responseInit, {\n        headers: headers\n    }));\n};\nclass $6b1a25b8319a72de$export$42a99a7a4bc0e76a extends Error {\n}\nclass $6b1a25b8319a72de$export$61d759255b4eec65 {\n    constructor(data, responseInit){\n        this.pendingKeysSet = new Set();\n        this.subscribers = new Set();\n        this.deferredKeys = [];\n        $6b1a25b8319a72de$export$3e9cee6b33872309(data && typeof data === \"object\" && !Array.isArray(data), \"defer() only accepts plain objects\");\n        // Set up an AbortController + Promise we can race against to exit early\n        // cancellation\n        let reject;\n        this.abortPromise = new Promise((_, r)=>reject = r);\n        this.controller = new AbortController();\n        let onAbort = ()=>reject(new $6b1a25b8319a72de$export$42a99a7a4bc0e76a(\"Deferred data aborted\"));\n        this.unlistenAbortSignal = ()=>this.controller.signal.removeEventListener(\"abort\", onAbort);\n        this.controller.signal.addEventListener(\"abort\", onAbort);\n        this.data = Object.entries(data).reduce((acc, _ref)=>{\n            let [key, value] = _ref;\n            return Object.assign(acc, {\n                [key]: this.trackPromise(key, value)\n            });\n        }, {});\n        if (this.done) // All incoming values were resolved\n        this.unlistenAbortSignal();\n        this.init = responseInit;\n    }\n    trackPromise(key, value) {\n        if (!(value instanceof Promise)) return value;\n        this.deferredKeys.push(key);\n        this.pendingKeysSet.add(key);\n        // We store a little wrapper promise that will be extended with\n        // _data/_error props upon resolve/reject\n        let promise = Promise.race([\n            value,\n            this.abortPromise\n        ]).then((data)=>this.onSettle(promise, key, undefined, data), (error)=>this.onSettle(promise, key, error));\n        // Register rejection listeners to avoid uncaught promise rejections on\n        // errors or aborted deferred values\n        promise.catch(()=>{});\n        Object.defineProperty(promise, \"_tracked\", {\n            get: ()=>true\n        });\n        return promise;\n    }\n    onSettle(promise, key, error, data) {\n        if (this.controller.signal.aborted && error instanceof $6b1a25b8319a72de$export$42a99a7a4bc0e76a) {\n            this.unlistenAbortSignal();\n            Object.defineProperty(promise, \"_error\", {\n                get: ()=>error\n            });\n            return Promise.reject(error);\n        }\n        this.pendingKeysSet.delete(key);\n        if (this.done) // Nothing left to abort!\n        this.unlistenAbortSignal();\n        // If the promise was resolved/rejected with undefined, we'll throw an error as you\n        // should always resolve with a value or null\n        if (error === undefined && data === undefined) {\n            let undefinedError = new Error('Deferred data for key \"' + key + '\" resolved/rejected with `undefined`, ' + \"you must resolve/reject with a value or `null`.\");\n            Object.defineProperty(promise, \"_error\", {\n                get: ()=>undefinedError\n            });\n            this.emit(false, key);\n            return Promise.reject(undefinedError);\n        }\n        if (data === undefined) {\n            Object.defineProperty(promise, \"_error\", {\n                get: ()=>error\n            });\n            this.emit(false, key);\n            return Promise.reject(error);\n        }\n        Object.defineProperty(promise, \"_data\", {\n            get: ()=>data\n        });\n        this.emit(false, key);\n        return data;\n    }\n    emit(aborted, settledKey) {\n        this.subscribers.forEach((subscriber)=>subscriber(aborted, settledKey));\n    }\n    subscribe(fn) {\n        this.subscribers.add(fn);\n        return ()=>this.subscribers.delete(fn);\n    }\n    cancel() {\n        this.controller.abort();\n        this.pendingKeysSet.forEach((v, k)=>this.pendingKeysSet.delete(k));\n        this.emit(true);\n    }\n    async resolveData(signal) {\n        let aborted = false;\n        if (!this.done) {\n            let onAbort = ()=>this.cancel();\n            signal.addEventListener(\"abort\", onAbort);\n            aborted = await new Promise((resolve)=>{\n                this.subscribe((aborted)=>{\n                    signal.removeEventListener(\"abort\", onAbort);\n                    if (aborted || this.done) resolve(aborted);\n                });\n            });\n        }\n        return aborted;\n    }\n    get done() {\n        return this.pendingKeysSet.size === 0;\n    }\n    get unwrappedData() {\n        $6b1a25b8319a72de$export$3e9cee6b33872309(this.data !== null && this.done, \"Can only unwrap data on initialized and settled deferreds\");\n        return Object.entries(this.data).reduce((acc, _ref2)=>{\n            let [key, value] = _ref2;\n            return Object.assign(acc, {\n                [key]: $6b1a25b8319a72de$var$unwrapTrackedPromise(value)\n            });\n        }, {});\n    }\n    get pendingKeys() {\n        return Array.from(this.pendingKeysSet);\n    }\n}\nfunction $6b1a25b8319a72de$var$isTrackedPromise(value) {\n    return value instanceof Promise && value._tracked === true;\n}\nfunction $6b1a25b8319a72de$var$unwrapTrackedPromise(value) {\n    if (!$6b1a25b8319a72de$var$isTrackedPromise(value)) return value;\n    if (value._error) throw value._error;\n    return value._data;\n}\nconst $6b1a25b8319a72de$export$260e5c0943f31606 = function defer(data, init) {\n    if (init === void 0) init = {};\n    let responseInit = typeof init === \"number\" ? {\n        status: init\n    } : init;\n    return new $6b1a25b8319a72de$export$61d759255b4eec65(data, responseInit);\n};\n/**\n * A redirect response. Sets the status code and the `Location` header.\n * Defaults to \"302 Found\".\n */ const $6b1a25b8319a72de$export$89e12c5b50f7529d = function redirect(url, init) {\n    if (init === void 0) init = 302;\n    let responseInit = init;\n    if (typeof responseInit === \"number\") responseInit = {\n        status: responseInit\n    };\n    else if (typeof responseInit.status === \"undefined\") responseInit.status = 302;\n    let headers = new Headers(responseInit.headers);\n    headers.set(\"Location\", url);\n    return new Response(null, $6b1a25b8319a72de$var$_extends({}, responseInit, {\n        headers: headers\n    }));\n};\n/**\n * A redirect response that will force a document reload to the new location.\n * Sets the status code and the `Location` header.\n * Defaults to \"302 Found\".\n */ const $6b1a25b8319a72de$export$a6cd19cd1951a23c = (url, init)=>{\n    let response = $6b1a25b8319a72de$export$89e12c5b50f7529d(url, init);\n    response.headers.set(\"X-Remix-Reload-Document\", \"true\");\n    return response;\n};\n/**\n * @private\n * Utility class we use to hold auto-unwrapped 4xx/5xx Response bodies\n */ class $6b1a25b8319a72de$export$acf1a680051f5031 {\n    constructor(status, statusText, data, internal){\n        if (internal === void 0) internal = false;\n        this.status = status;\n        this.statusText = statusText || \"\";\n        this.internal = internal;\n        if (data instanceof Error) {\n            this.data = data.toString();\n            this.error = data;\n        } else this.data = data;\n    }\n}\n/**\n * Check if the given error is an ErrorResponse generated from a 4xx/5xx\n * Response thrown from an action/loader\n */ function $6b1a25b8319a72de$export$972111febbeef05b(error) {\n    return error != null && typeof error.status === \"number\" && typeof error.statusText === \"string\" && typeof error.internal === \"boolean\" && \"data\" in error;\n}\nconst $6b1a25b8319a72de$var$validMutationMethodsArr = [\n    \"post\",\n    \"put\",\n    \"patch\",\n    \"delete\"\n];\nconst $6b1a25b8319a72de$var$validMutationMethods = new Set($6b1a25b8319a72de$var$validMutationMethodsArr);\nconst $6b1a25b8319a72de$var$validRequestMethodsArr = [\n    \"get\",\n    ...$6b1a25b8319a72de$var$validMutationMethodsArr\n];\nconst $6b1a25b8319a72de$var$validRequestMethods = new Set($6b1a25b8319a72de$var$validRequestMethodsArr);\nconst $6b1a25b8319a72de$var$redirectStatusCodes = new Set([\n    301,\n    302,\n    303,\n    307,\n    308\n]);\nconst $6b1a25b8319a72de$var$redirectPreserveMethodStatusCodes = new Set([\n    307,\n    308\n]);\nconst $6b1a25b8319a72de$export$ed3e14b2f9e105d0 = {\n    state: \"idle\",\n    location: undefined,\n    formMethod: undefined,\n    formAction: undefined,\n    formEncType: undefined,\n    formData: undefined,\n    json: undefined,\n    text: undefined\n};\nconst $6b1a25b8319a72de$export$52eace9c284d3585 = {\n    state: \"idle\",\n    data: undefined,\n    formMethod: undefined,\n    formAction: undefined,\n    formEncType: undefined,\n    formData: undefined,\n    json: undefined,\n    text: undefined\n};\nconst $6b1a25b8319a72de$export$386d57f03f0b2883 = {\n    state: \"unblocked\",\n    proceed: undefined,\n    reset: undefined,\n    location: undefined\n};\nconst $6b1a25b8319a72de$var$ABSOLUTE_URL_REGEX = /^(?:[a-z][a-z0-9+.-]*:|\\/\\/)/i;\nconst $6b1a25b8319a72de$var$defaultMapRouteProperties = (route)=>({\n        hasErrorBoundary: Boolean(route.hasErrorBoundary)\n    });\n//#endregion\n////////////////////////////////////////////////////////////////////////////////\n//#region createRouter\n////////////////////////////////////////////////////////////////////////////////\n/**\n * Create a router and listen to history POP navigations\n */ function $6b1a25b8319a72de$export$baddd0131ee8c05b(init) {\n    const routerWindow = init.window ? init.window : typeof window !== \"undefined\" ? window : undefined;\n    const isBrowser = typeof routerWindow !== \"undefined\" && typeof routerWindow.document !== \"undefined\" && typeof routerWindow.document.createElement !== \"undefined\";\n    const isServer = !isBrowser;\n    $6b1a25b8319a72de$export$3e9cee6b33872309(init.routes.length > 0, \"You must provide a non-empty routes array to createRouter\");\n    let mapRouteProperties;\n    if (init.mapRouteProperties) mapRouteProperties = init.mapRouteProperties;\n    else if (init.detectErrorBoundary) {\n        // If they are still using the deprecated version, wrap it with the new API\n        let detectErrorBoundary = init.detectErrorBoundary;\n        mapRouteProperties = (route)=>({\n                hasErrorBoundary: detectErrorBoundary(route)\n            });\n    } else mapRouteProperties = $6b1a25b8319a72de$var$defaultMapRouteProperties;\n    // Routes keyed by ID\n    let manifest = {};\n    // Routes in tree format for matching\n    let dataRoutes = $6b1a25b8319a72de$export$4a6d22b32134ea5d(init.routes, mapRouteProperties, undefined, manifest);\n    let inFlightDataRoutes;\n    let basename = init.basename || \"/\";\n    // Config driven behavior flags\n    let future = $6b1a25b8319a72de$var$_extends({\n        v7_normalizeFormMethod: false,\n        v7_prependBasename: false\n    }, init.future);\n    // Cleanup function for history\n    let unlistenHistory = null;\n    // Externally-provided functions to call on all state changes\n    let subscribers = new Set();\n    // Externally-provided object to hold scroll restoration locations during routing\n    let savedScrollPositions = null;\n    // Externally-provided function to get scroll restoration keys\n    let getScrollRestorationKey = null;\n    // Externally-provided function to get current scroll position\n    let getScrollPosition = null;\n    // One-time flag to control the initial hydration scroll restoration.  Because\n    // we don't get the saved positions from <ScrollRestoration /> until _after_\n    // the initial render, we need to manually trigger a separate updateState to\n    // send along the restoreScrollPosition\n    // Set to true if we have `hydrationData` since we assume we were SSR'd and that\n    // SSR did the initial scroll restoration.\n    let initialScrollRestored = init.hydrationData != null;\n    let initialMatches = $6b1a25b8319a72de$export$2708184779ceb39d(dataRoutes, init.history.location, basename);\n    let initialErrors = null;\n    if (initialMatches == null) {\n        // If we do not match a user-provided-route, fall back to the root\n        // to allow the error boundary to take over\n        let error = $6b1a25b8319a72de$var$getInternalRouterError(404, {\n            pathname: init.history.location.pathname\n        });\n        let { matches: matches, route: route } = $6b1a25b8319a72de$var$getShortCircuitMatches(dataRoutes);\n        initialMatches = matches;\n        initialErrors = {\n            [route.id]: error\n        };\n    }\n    let initialized = // All initialMatches need to be loaded before we're ready.  If we have lazy\n    // functions around still then we'll need to run them in initialize()\n    !initialMatches.some((m)=>m.route.lazy) && // And we have to either have no loaders or have been provided hydrationData\n    (!initialMatches.some((m)=>m.route.loader) || init.hydrationData != null);\n    let router;\n    let state = {\n        historyAction: init.history.action,\n        location: init.history.location,\n        matches: initialMatches,\n        initialized: initialized,\n        navigation: $6b1a25b8319a72de$export$ed3e14b2f9e105d0,\n        // Don't restore on initial updateState() if we were SSR'd\n        restoreScrollPosition: init.hydrationData != null ? false : null,\n        preventScrollReset: false,\n        revalidation: \"idle\",\n        loaderData: init.hydrationData && init.hydrationData.loaderData || {},\n        actionData: init.hydrationData && init.hydrationData.actionData || null,\n        errors: init.hydrationData && init.hydrationData.errors || initialErrors,\n        fetchers: new Map(),\n        blockers: new Map()\n    };\n    // -- Stateful internal variables to manage navigations --\n    // Current navigation in progress (to be committed in completeNavigation)\n    let pendingAction = $6b1a25b8319a72de$export$e19cd5f9376f8cee.Pop;\n    // Should the current navigation prevent the scroll reset if scroll cannot\n    // be restored?\n    let pendingPreventScrollReset = false;\n    // AbortController for the active navigation\n    let pendingNavigationController;\n    // We use this to avoid touching history in completeNavigation if a\n    // revalidation is entirely uninterrupted\n    let isUninterruptedRevalidation = false;\n    // Use this internal flag to force revalidation of all loaders:\n    //  - submissions (completed or interrupted)\n    //  - useRevalidator()\n    //  - X-Remix-Revalidate (from redirect)\n    let isRevalidationRequired = false;\n    // Use this internal array to capture routes that require revalidation due\n    // to a cancelled deferred on action submission\n    let cancelledDeferredRoutes = [];\n    // Use this internal array to capture fetcher loads that were cancelled by an\n    // action navigation and require revalidation\n    let cancelledFetcherLoads = [];\n    // AbortControllers for any in-flight fetchers\n    let fetchControllers = new Map();\n    // Track loads based on the order in which they started\n    let incrementingLoadId = 0;\n    // Track the outstanding pending navigation data load to be compared against\n    // the globally incrementing load when a fetcher load lands after a completed\n    // navigation\n    let pendingNavigationLoadId = -1;\n    // Fetchers that triggered data reloads as a result of their actions\n    let fetchReloadIds = new Map();\n    // Fetchers that triggered redirect navigations\n    let fetchRedirectIds = new Set();\n    // Most recent href/match for fetcher.load calls for fetchers\n    let fetchLoadMatches = new Map();\n    // Store DeferredData instances for active route matches.  When a\n    // route loader returns defer() we stick one in here.  Then, when a nested\n    // promise resolves we update loaderData.  If a new navigation starts we\n    // cancel active deferreds for eliminated routes.\n    let activeDeferreds = new Map();\n    // Store blocker functions in a separate Map outside of router state since\n    // we don't need to update UI state if they change\n    let blockerFunctions = new Map();\n    // Flag to ignore the next history update, so we can revert the URL change on\n    // a POP navigation that was blocked by the user without touching router state\n    let ignoreNextHistoryUpdate = false;\n    // Initialize the router, all side effects should be kicked off from here.\n    // Implemented as a Fluent API for ease of:\n    //   let router = createRouter(init).initialize();\n    function initialize() {\n        // If history informs us of a POP navigation, start the navigation but do not update\n        // state.  We'll update our own state once the navigation completes\n        unlistenHistory = init.history.listen((_ref)=>{\n            let { action: historyAction, location: location, delta: delta } = _ref;\n            // Ignore this event if it was just us resetting the URL from a\n            // blocked POP navigation\n            if (ignoreNextHistoryUpdate) {\n                ignoreNextHistoryUpdate = false;\n                return;\n            }\n            $6b1a25b8319a72de$export$c0e02632e14916fd(blockerFunctions.size === 0 || delta != null, \"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.\");\n            let blockerKey = shouldBlockNavigation({\n                currentLocation: state.location,\n                nextLocation: location,\n                historyAction: historyAction\n            });\n            if (blockerKey && delta != null) {\n                // Restore the URL to match the current UI, but don't update router state\n                ignoreNextHistoryUpdate = true;\n                init.history.go(delta * -1);\n                // Put the blocker into a blocked state\n                updateBlocker(blockerKey, {\n                    state: \"blocked\",\n                    location: location,\n                    proceed () {\n                        updateBlocker(blockerKey, {\n                            state: \"proceeding\",\n                            proceed: undefined,\n                            reset: undefined,\n                            location: location\n                        });\n                        // Re-do the same POP navigation we just blocked\n                        init.history.go(delta);\n                    },\n                    reset () {\n                        let blockers = new Map(state.blockers);\n                        blockers.set(blockerKey, $6b1a25b8319a72de$export$386d57f03f0b2883);\n                        updateState({\n                            blockers: blockers\n                        });\n                    }\n                });\n                return;\n            }\n            return startNavigation(historyAction, location);\n        });\n        // Kick off initial data load if needed.  Use Pop to avoid modifying history\n        // Note we don't do any handling of lazy here.  For SPA's it'll get handled\n        // in the normal navigation flow.  For SSR it's expected that lazy modules are\n        // resolved prior to router creation since we can't go into a fallbackElement\n        // UI for SSR'd apps\n        if (!state.initialized) startNavigation($6b1a25b8319a72de$export$e19cd5f9376f8cee.Pop, state.location);\n        return router;\n    }\n    // Clean up a router and it's side effects\n    function dispose() {\n        if (unlistenHistory) unlistenHistory();\n        subscribers.clear();\n        pendingNavigationController && pendingNavigationController.abort();\n        state.fetchers.forEach((_, key)=>deleteFetcher(key));\n        state.blockers.forEach((_, key)=>deleteBlocker(key));\n    }\n    // Subscribe to state updates for the router\n    function subscribe(fn) {\n        subscribers.add(fn);\n        return ()=>subscribers.delete(fn);\n    }\n    // Update our state and notify the calling context of the change\n    function updateState(newState) {\n        state = $6b1a25b8319a72de$var$_extends({}, state, newState);\n        subscribers.forEach((subscriber)=>subscriber(state));\n    }\n    // Complete a navigation returning the state.navigation back to the IDLE_NAVIGATION\n    // and setting state.[historyAction/location/matches] to the new route.\n    // - Location is a required param\n    // - Navigation will always be set to IDLE_NAVIGATION\n    // - Can pass any other state in newState\n    function completeNavigation(location, newState) {\n        var _location$state, _location$state2;\n        // Deduce if we're in a loading/actionReload state:\n        // - We have committed actionData in the store\n        // - The current navigation was a mutation submission\n        // - We're past the submitting state and into the loading state\n        // - The location being loaded is not the result of a redirect\n        let isActionReload = state.actionData != null && state.navigation.formMethod != null && $6b1a25b8319a72de$var$isMutationMethod(state.navigation.formMethod) && state.navigation.state === \"loading\" && ((_location$state = location.state) == null ? void 0 : _location$state._isRedirect) !== true;\n        let actionData;\n        if (newState.actionData) {\n            if (Object.keys(newState.actionData).length > 0) actionData = newState.actionData;\n            else // Empty actionData -> clear prior actionData due to an action error\n            actionData = null;\n        } else if (isActionReload) // Keep the current data if we're wrapping up the action reload\n        actionData = state.actionData;\n        else // Clear actionData on any other completed navigations\n        actionData = null;\n        // Always preserve any existing loaderData from re-used routes\n        let loaderData = newState.loaderData ? $6b1a25b8319a72de$var$mergeLoaderData(state.loaderData, newState.loaderData, newState.matches || [], newState.errors) : state.loaderData;\n        // On a successful navigation we can assume we got through all blockers\n        // so we can start fresh\n        let blockers = state.blockers;\n        if (blockers.size > 0) {\n            blockers = new Map(blockers);\n            blockers.forEach((_, k)=>blockers.set(k, $6b1a25b8319a72de$export$386d57f03f0b2883));\n        }\n        // Always respect the user flag.  Otherwise don't reset on mutation\n        // submission navigations unless they redirect\n        let preventScrollReset = pendingPreventScrollReset === true || state.navigation.formMethod != null && $6b1a25b8319a72de$var$isMutationMethod(state.navigation.formMethod) && ((_location$state2 = location.state) == null ? void 0 : _location$state2._isRedirect) !== true;\n        if (inFlightDataRoutes) {\n            dataRoutes = inFlightDataRoutes;\n            inFlightDataRoutes = undefined;\n        }\n        if (isUninterruptedRevalidation) ;\n        else if (pendingAction === $6b1a25b8319a72de$export$e19cd5f9376f8cee.Pop) ;\n        else if (pendingAction === $6b1a25b8319a72de$export$e19cd5f9376f8cee.Push) init.history.push(location, location.state);\n        else if (pendingAction === $6b1a25b8319a72de$export$e19cd5f9376f8cee.Replace) init.history.replace(location, location.state);\n        updateState($6b1a25b8319a72de$var$_extends({}, newState, {\n            actionData: actionData,\n            loaderData: loaderData,\n            historyAction: pendingAction,\n            location: location,\n            initialized: true,\n            navigation: $6b1a25b8319a72de$export$ed3e14b2f9e105d0,\n            revalidation: \"idle\",\n            restoreScrollPosition: getSavedScrollPosition(location, newState.matches || state.matches),\n            preventScrollReset: preventScrollReset,\n            blockers: blockers\n        }));\n        // Reset stateful navigation vars\n        pendingAction = $6b1a25b8319a72de$export$e19cd5f9376f8cee.Pop;\n        pendingPreventScrollReset = false;\n        isUninterruptedRevalidation = false;\n        isRevalidationRequired = false;\n        cancelledDeferredRoutes = [];\n        cancelledFetcherLoads = [];\n    }\n    // Trigger a navigation event, which can either be a numerical POP or a PUSH\n    // replace with an optional submission\n    async function navigate(to, opts) {\n        if (typeof to === \"number\") {\n            init.history.go(to);\n            return;\n        }\n        let normalizedPath = $6b1a25b8319a72de$var$normalizeTo(state.location, state.matches, basename, future.v7_prependBasename, to, opts == null ? void 0 : opts.fromRouteId, opts == null ? void 0 : opts.relative);\n        let { path: path, submission: submission, error: error } = $6b1a25b8319a72de$var$normalizeNavigateOptions(future.v7_normalizeFormMethod, false, normalizedPath, opts);\n        let currentLocation = state.location;\n        let nextLocation = $6b1a25b8319a72de$var$createLocation(state.location, path, opts && opts.state);\n        // When using navigate as a PUSH/REPLACE we aren't reading an already-encoded\n        // URL from window.location, so we need to encode it here so the behavior\n        // remains the same as POP and non-data-router usages.  new URL() does all\n        // the same encoding we'd get from a history.pushState/window.location read\n        // without having to touch history\n        nextLocation = $6b1a25b8319a72de$var$_extends({}, nextLocation, init.history.encodeLocation(nextLocation));\n        let userReplace = opts && opts.replace != null ? opts.replace : undefined;\n        let historyAction = $6b1a25b8319a72de$export$e19cd5f9376f8cee.Push;\n        if (userReplace === true) historyAction = $6b1a25b8319a72de$export$e19cd5f9376f8cee.Replace;\n        else if (userReplace === false) ;\n        else if (submission != null && $6b1a25b8319a72de$var$isMutationMethod(submission.formMethod) && submission.formAction === state.location.pathname + state.location.search) // By default on submissions to the current location we REPLACE so that\n        // users don't have to double-click the back button to get to the prior\n        // location.  If the user redirects to a different location from the\n        // action/loader this will be ignored and the redirect will be a PUSH\n        historyAction = $6b1a25b8319a72de$export$e19cd5f9376f8cee.Replace;\n        let preventScrollReset = opts && \"preventScrollReset\" in opts ? opts.preventScrollReset === true : undefined;\n        let blockerKey = shouldBlockNavigation({\n            currentLocation: currentLocation,\n            nextLocation: nextLocation,\n            historyAction: historyAction\n        });\n        if (blockerKey) {\n            // Put the blocker into a blocked state\n            updateBlocker(blockerKey, {\n                state: \"blocked\",\n                location: nextLocation,\n                proceed () {\n                    updateBlocker(blockerKey, {\n                        state: \"proceeding\",\n                        proceed: undefined,\n                        reset: undefined,\n                        location: nextLocation\n                    });\n                    // Send the same navigation through\n                    navigate(to, opts);\n                },\n                reset () {\n                    let blockers = new Map(state.blockers);\n                    blockers.set(blockerKey, $6b1a25b8319a72de$export$386d57f03f0b2883);\n                    updateState({\n                        blockers: blockers\n                    });\n                }\n            });\n            return;\n        }\n        return await startNavigation(historyAction, nextLocation, {\n            submission: submission,\n            // Send through the formData serialization error if we have one so we can\n            // render at the right error boundary after we match routes\n            pendingError: error,\n            preventScrollReset: preventScrollReset,\n            replace: opts && opts.replace\n        });\n    }\n    // Revalidate all current loaders.  If a navigation is in progress or if this\n    // is interrupted by a navigation, allow this to \"succeed\" by calling all\n    // loaders during the next loader round\n    function revalidate() {\n        interruptActiveLoads();\n        updateState({\n            revalidation: \"loading\"\n        });\n        // If we're currently submitting an action, we don't need to start a new\n        // navigation, we'll just let the follow up loader execution call all loaders\n        if (state.navigation.state === \"submitting\") return;\n        // If we're currently in an idle state, start a new navigation for the current\n        // action/location and mark it as uninterrupted, which will skip the history\n        // update in completeNavigation\n        if (state.navigation.state === \"idle\") {\n            startNavigation(state.historyAction, state.location, {\n                startUninterruptedRevalidation: true\n            });\n            return;\n        }\n        // Otherwise, if we're currently in a loading state, just start a new\n        // navigation to the navigation.location but do not trigger an uninterrupted\n        // revalidation so that history correctly updates once the navigation completes\n        startNavigation(pendingAction || state.historyAction, state.navigation.location, {\n            overrideNavigation: state.navigation\n        });\n    }\n    // Start a navigation to the given action/location.  Can optionally provide a\n    // overrideNavigation which will override the normalLoad in the case of a redirect\n    // navigation\n    async function startNavigation(historyAction, location, opts) {\n        // Abort any in-progress navigations and start a new one. Unset any ongoing\n        // uninterrupted revalidations unless told otherwise, since we want this\n        // new navigation to update history normally\n        pendingNavigationController && pendingNavigationController.abort();\n        pendingNavigationController = null;\n        pendingAction = historyAction;\n        isUninterruptedRevalidation = (opts && opts.startUninterruptedRevalidation) === true;\n        // Save the current scroll position every time we start a new navigation,\n        // and track whether we should reset scroll on completion\n        saveScrollPosition(state.location, state.matches);\n        pendingPreventScrollReset = (opts && opts.preventScrollReset) === true;\n        let routesToUse = inFlightDataRoutes || dataRoutes;\n        let loadingNavigation = opts && opts.overrideNavigation;\n        let matches = $6b1a25b8319a72de$export$2708184779ceb39d(routesToUse, location, basename);\n        // Short circuit with a 404 on the root error boundary if we match nothing\n        if (!matches) {\n            let error = $6b1a25b8319a72de$var$getInternalRouterError(404, {\n                pathname: location.pathname\n            });\n            let { matches: notFoundMatches, route: route } = $6b1a25b8319a72de$var$getShortCircuitMatches(routesToUse);\n            // Cancel all pending deferred on 404s since we don't keep any routes\n            cancelActiveDeferreds();\n            completeNavigation(location, {\n                matches: notFoundMatches,\n                loaderData: {},\n                errors: {\n                    [route.id]: error\n                }\n            });\n            return;\n        }\n        // Short circuit if it's only a hash change and not a revalidation or\n        // mutation submission.\n        //\n        // Ignore on initial page loads because since the initial load will always\n        // be \"same hash\".  For example, on /page#hash and submit a <Form method=\"post\">\n        // which will default to a navigation to /page\n        if (state.initialized && !isRevalidationRequired && $6b1a25b8319a72de$var$isHashChangeOnly(state.location, location) && !(opts && opts.submission && $6b1a25b8319a72de$var$isMutationMethod(opts.submission.formMethod))) {\n            completeNavigation(location, {\n                matches: matches\n            });\n            return;\n        }\n        // Create a controller/Request for this navigation\n        pendingNavigationController = new AbortController();\n        let request = $6b1a25b8319a72de$var$createClientSideRequest(init.history, location, pendingNavigationController.signal, opts && opts.submission);\n        let pendingActionData;\n        let pendingError;\n        if (opts && opts.pendingError) // If we have a pendingError, it means the user attempted a GET submission\n        // with binary FormData so assign here and skip to handleLoaders.  That\n        // way we handle calling loaders above the boundary etc.  It's not really\n        // different from an actionError in that sense.\n        pendingError = {\n            [$6b1a25b8319a72de$var$findNearestBoundary(matches).route.id]: opts.pendingError\n        };\n        else if (opts && opts.submission && $6b1a25b8319a72de$var$isMutationMethod(opts.submission.formMethod)) {\n            // Call action if we received an action submission\n            let actionOutput = await handleAction(request, location, opts.submission, matches, {\n                replace: opts.replace\n            });\n            if (actionOutput.shortCircuited) return;\n            pendingActionData = actionOutput.pendingActionData;\n            pendingError = actionOutput.pendingActionError;\n            loadingNavigation = $6b1a25b8319a72de$var$getLoadingNavigation(location, opts.submission);\n            // Create a GET request for the loaders\n            request = new Request(request.url, {\n                signal: request.signal\n            });\n        }\n        // Call loaders\n        let { shortCircuited: shortCircuited, loaderData: loaderData, errors: errors } = await handleLoaders(request, location, matches, loadingNavigation, opts && opts.submission, opts && opts.fetcherSubmission, opts && opts.replace, pendingActionData, pendingError);\n        if (shortCircuited) return;\n        // Clean up now that the action/loaders have completed.  Don't clean up if\n        // we short circuited because pendingNavigationController will have already\n        // been assigned to a new controller for the next navigation\n        pendingNavigationController = null;\n        completeNavigation(location, $6b1a25b8319a72de$var$_extends({\n            matches: matches\n        }, pendingActionData ? {\n            actionData: pendingActionData\n        } : {}, {\n            loaderData: loaderData,\n            errors: errors\n        }));\n    }\n    // Call the action matched by the leaf route for this navigation and handle\n    // redirects/errors\n    async function handleAction(request, location, submission, matches, opts) {\n        if (opts === void 0) opts = {};\n        interruptActiveLoads();\n        // Put us in a submitting state\n        let navigation = $6b1a25b8319a72de$var$getSubmittingNavigation(location, submission);\n        updateState({\n            navigation: navigation\n        });\n        // Call our action and get the result\n        let result;\n        let actionMatch = $6b1a25b8319a72de$var$getTargetMatch(matches, location);\n        if (!actionMatch.route.action && !actionMatch.route.lazy) result = {\n            type: $6b1a25b8319a72de$var$ResultType.error,\n            error: $6b1a25b8319a72de$var$getInternalRouterError(405, {\n                method: request.method,\n                pathname: location.pathname,\n                routeId: actionMatch.route.id\n            })\n        };\n        else {\n            result = await $6b1a25b8319a72de$var$callLoaderOrAction(\"action\", request, actionMatch, matches, manifest, mapRouteProperties, basename);\n            if (request.signal.aborted) return {\n                shortCircuited: true\n            };\n        }\n        if ($6b1a25b8319a72de$var$isRedirectResult(result)) {\n            let replace;\n            if (opts && opts.replace != null) replace = opts.replace;\n            else // If the user didn't explicity indicate replace behavior, replace if\n            // we redirected to the exact same location we're currently at to avoid\n            // double back-buttons\n            replace = result.location === state.location.pathname + state.location.search;\n            await startRedirectNavigation(state, result, {\n                submission: submission,\n                replace: replace\n            });\n            return {\n                shortCircuited: true\n            };\n        }\n        if ($6b1a25b8319a72de$var$isErrorResult(result)) {\n            // Store off the pending error - we use it to determine which loaders\n            // to call and will commit it when we complete the navigation\n            let boundaryMatch = $6b1a25b8319a72de$var$findNearestBoundary(matches, actionMatch.route.id);\n            // By default, all submissions are REPLACE navigations, but if the\n            // action threw an error that'll be rendered in an errorElement, we fall\n            // back to PUSH so that the user can use the back button to get back to\n            // the pre-submission form location to try again\n            if ((opts && opts.replace) !== true) pendingAction = $6b1a25b8319a72de$export$e19cd5f9376f8cee.Push;\n            return {\n                // Send back an empty object we can use to clear out any prior actionData\n                pendingActionData: {},\n                pendingActionError: {\n                    [boundaryMatch.route.id]: result.error\n                }\n            };\n        }\n        if ($6b1a25b8319a72de$var$isDeferredResult(result)) throw $6b1a25b8319a72de$var$getInternalRouterError(400, {\n            type: \"defer-action\"\n        });\n        return {\n            pendingActionData: {\n                [actionMatch.route.id]: result.data\n            }\n        };\n    }\n    // Call all applicable loaders for the given matches, handling redirects,\n    // errors, etc.\n    async function handleLoaders(request, location, matches, overrideNavigation, submission, fetcherSubmission, replace, pendingActionData, pendingError) {\n        // Figure out the right navigation we want to use for data loading\n        let loadingNavigation = overrideNavigation || $6b1a25b8319a72de$var$getLoadingNavigation(location, submission);\n        // If this was a redirect from an action we don't have a \"submission\" but\n        // we have it on the loading navigation so use that if available\n        let activeSubmission = submission || fetcherSubmission || $6b1a25b8319a72de$var$getSubmissionFromNavigation(loadingNavigation);\n        let routesToUse = inFlightDataRoutes || dataRoutes;\n        let [matchesToLoad, revalidatingFetchers] = $6b1a25b8319a72de$var$getMatchesToLoad(init.history, state, matches, activeSubmission, location, isRevalidationRequired, cancelledDeferredRoutes, cancelledFetcherLoads, fetchLoadMatches, fetchRedirectIds, routesToUse, basename, pendingActionData, pendingError);\n        // Cancel pending deferreds for no-longer-matched routes or routes we're\n        // about to reload.  Note that if this is an action reload we would have\n        // already cancelled all pending deferreds so this would be a no-op\n        cancelActiveDeferreds((routeId)=>!(matches && matches.some((m)=>m.route.id === routeId)) || matchesToLoad && matchesToLoad.some((m)=>m.route.id === routeId));\n        pendingNavigationLoadId = ++incrementingLoadId;\n        // Short circuit if we have no loaders to run\n        if (matchesToLoad.length === 0 && revalidatingFetchers.length === 0) {\n            let updatedFetchers = markFetchRedirectsDone();\n            completeNavigation(location, $6b1a25b8319a72de$var$_extends({\n                matches: matches,\n                loaderData: {},\n                // Commit pending error if we're short circuiting\n                errors: pendingError || null\n            }, pendingActionData ? {\n                actionData: pendingActionData\n            } : {}, updatedFetchers ? {\n                fetchers: new Map(state.fetchers)\n            } : {}));\n            return {\n                shortCircuited: true\n            };\n        }\n        // If this is an uninterrupted revalidation, we remain in our current idle\n        // state.  If not, we need to switch to our loading state and load data,\n        // preserving any new action data or existing action data (in the case of\n        // a revalidation interrupting an actionReload)\n        if (!isUninterruptedRevalidation) {\n            revalidatingFetchers.forEach((rf)=>{\n                let fetcher = state.fetchers.get(rf.key);\n                let revalidatingFetcher = $6b1a25b8319a72de$var$getLoadingFetcher(undefined, fetcher ? fetcher.data : undefined);\n                state.fetchers.set(rf.key, revalidatingFetcher);\n            });\n            let actionData = pendingActionData || state.actionData;\n            updateState($6b1a25b8319a72de$var$_extends({\n                navigation: loadingNavigation\n            }, actionData ? Object.keys(actionData).length === 0 ? {\n                actionData: null\n            } : {\n                actionData: actionData\n            } : {}, revalidatingFetchers.length > 0 ? {\n                fetchers: new Map(state.fetchers)\n            } : {}));\n        }\n        revalidatingFetchers.forEach((rf)=>{\n            if (fetchControllers.has(rf.key)) abortFetcher(rf.key);\n            if (rf.controller) // Fetchers use an independent AbortController so that aborting a fetcher\n            // (via deleteFetcher) does not abort the triggering navigation that\n            // triggered the revalidation\n            fetchControllers.set(rf.key, rf.controller);\n        });\n        // Proxy navigation abort through to revalidation fetchers\n        let abortPendingFetchRevalidations = ()=>revalidatingFetchers.forEach((f)=>abortFetcher(f.key));\n        if (pendingNavigationController) pendingNavigationController.signal.addEventListener(\"abort\", abortPendingFetchRevalidations);\n        let { results: results, loaderResults: loaderResults, fetcherResults: fetcherResults } = await callLoadersAndMaybeResolveData(state.matches, matches, matchesToLoad, revalidatingFetchers, request);\n        if (request.signal.aborted) return {\n            shortCircuited: true\n        };\n        // Clean up _after_ loaders have completed.  Don't clean up if we short\n        // circuited because fetchControllers would have been aborted and\n        // reassigned to new controllers for the next navigation\n        if (pendingNavigationController) pendingNavigationController.signal.removeEventListener(\"abort\", abortPendingFetchRevalidations);\n        revalidatingFetchers.forEach((rf)=>fetchControllers.delete(rf.key));\n        // If any loaders returned a redirect Response, start a new REPLACE navigation\n        let redirect = $6b1a25b8319a72de$var$findRedirect(results);\n        if (redirect) {\n            if (redirect.idx >= matchesToLoad.length) {\n                // If this redirect came from a fetcher make sure we mark it in\n                // fetchRedirectIds so it doesn't get revalidated on the next set of\n                // loader executions\n                let fetcherKey = revalidatingFetchers[redirect.idx - matchesToLoad.length].key;\n                fetchRedirectIds.add(fetcherKey);\n            }\n            await startRedirectNavigation(state, redirect.result, {\n                replace: replace\n            });\n            return {\n                shortCircuited: true\n            };\n        }\n        // Process and commit output from loaders\n        let { loaderData: loaderData, errors: errors } = $6b1a25b8319a72de$var$processLoaderData(state, matches, matchesToLoad, loaderResults, pendingError, revalidatingFetchers, fetcherResults, activeDeferreds);\n        // Wire up subscribers to update loaderData as promises settle\n        activeDeferreds.forEach((deferredData, routeId)=>{\n            deferredData.subscribe((aborted)=>{\n                // Note: No need to updateState here since the TrackedPromise on\n                // loaderData is stable across resolve/reject\n                // Remove this instance if we were aborted or if promises have settled\n                if (aborted || deferredData.done) activeDeferreds.delete(routeId);\n            });\n        });\n        let updatedFetchers = markFetchRedirectsDone();\n        let didAbortFetchLoads = abortStaleFetchLoads(pendingNavigationLoadId);\n        let shouldUpdateFetchers = updatedFetchers || didAbortFetchLoads || revalidatingFetchers.length > 0;\n        return $6b1a25b8319a72de$var$_extends({\n            loaderData: loaderData,\n            errors: errors\n        }, shouldUpdateFetchers ? {\n            fetchers: new Map(state.fetchers)\n        } : {});\n    }\n    function getFetcher(key) {\n        return state.fetchers.get(key) || $6b1a25b8319a72de$export$52eace9c284d3585;\n    }\n    // Trigger a fetcher load/submit for the given fetcher key\n    function fetch(key, routeId, href, opts) {\n        if (isServer) throw new Error(\"router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.\");\n        if (fetchControllers.has(key)) abortFetcher(key);\n        let routesToUse = inFlightDataRoutes || dataRoutes;\n        let normalizedPath = $6b1a25b8319a72de$var$normalizeTo(state.location, state.matches, basename, future.v7_prependBasename, href, routeId, opts == null ? void 0 : opts.relative);\n        let matches = $6b1a25b8319a72de$export$2708184779ceb39d(routesToUse, normalizedPath, basename);\n        if (!matches) {\n            setFetcherError(key, routeId, $6b1a25b8319a72de$var$getInternalRouterError(404, {\n                pathname: normalizedPath\n            }));\n            return;\n        }\n        let { path: path, submission: submission, error: error } = $6b1a25b8319a72de$var$normalizeNavigateOptions(future.v7_normalizeFormMethod, true, normalizedPath, opts);\n        if (error) {\n            setFetcherError(key, routeId, error);\n            return;\n        }\n        let match = $6b1a25b8319a72de$var$getTargetMatch(matches, path);\n        pendingPreventScrollReset = (opts && opts.preventScrollReset) === true;\n        if (submission && $6b1a25b8319a72de$var$isMutationMethod(submission.formMethod)) {\n            handleFetcherAction(key, routeId, path, match, matches, submission);\n            return;\n        }\n        // Store off the match so we can call it's shouldRevalidate on subsequent\n        // revalidations\n        fetchLoadMatches.set(key, {\n            routeId: routeId,\n            path: path\n        });\n        handleFetcherLoader(key, routeId, path, match, matches, submission);\n    }\n    // Call the action for the matched fetcher.submit(), and then handle redirects,\n    // errors, and revalidation\n    async function handleFetcherAction(key, routeId, path, match, requestMatches, submission) {\n        interruptActiveLoads();\n        fetchLoadMatches.delete(key);\n        if (!match.route.action && !match.route.lazy) {\n            let error = $6b1a25b8319a72de$var$getInternalRouterError(405, {\n                method: submission.formMethod,\n                pathname: path,\n                routeId: routeId\n            });\n            setFetcherError(key, routeId, error);\n            return;\n        }\n        // Put this fetcher into it's submitting state\n        let existingFetcher = state.fetchers.get(key);\n        let fetcher = $6b1a25b8319a72de$var$getSubmittingFetcher(submission, existingFetcher);\n        state.fetchers.set(key, fetcher);\n        updateState({\n            fetchers: new Map(state.fetchers)\n        });\n        // Call the action for the fetcher\n        let abortController = new AbortController();\n        let fetchRequest = $6b1a25b8319a72de$var$createClientSideRequest(init.history, path, abortController.signal, submission);\n        fetchControllers.set(key, abortController);\n        let originatingLoadId = incrementingLoadId;\n        let actionResult = await $6b1a25b8319a72de$var$callLoaderOrAction(\"action\", fetchRequest, match, requestMatches, manifest, mapRouteProperties, basename);\n        if (fetchRequest.signal.aborted) {\n            // We can delete this so long as we weren't aborted by ou our own fetcher\n            // re-submit which would have put _new_ controller is in fetchControllers\n            if (fetchControllers.get(key) === abortController) fetchControllers.delete(key);\n            return;\n        }\n        if ($6b1a25b8319a72de$var$isRedirectResult(actionResult)) {\n            fetchControllers.delete(key);\n            if (pendingNavigationLoadId > originatingLoadId) {\n                // A new navigation was kicked off after our action started, so that\n                // should take precedence over this redirect navigation.  We already\n                // set isRevalidationRequired so all loaders for the new route should\n                // fire unless opted out via shouldRevalidate\n                let doneFetcher = $6b1a25b8319a72de$var$getDoneFetcher(undefined);\n                state.fetchers.set(key, doneFetcher);\n                updateState({\n                    fetchers: new Map(state.fetchers)\n                });\n                return;\n            } else {\n                fetchRedirectIds.add(key);\n                let loadingFetcher = $6b1a25b8319a72de$var$getLoadingFetcher(submission);\n                state.fetchers.set(key, loadingFetcher);\n                updateState({\n                    fetchers: new Map(state.fetchers)\n                });\n                return startRedirectNavigation(state, actionResult, {\n                    submission: submission,\n                    isFetchActionRedirect: true\n                });\n            }\n        }\n        // Process any non-redirect errors thrown\n        if ($6b1a25b8319a72de$var$isErrorResult(actionResult)) {\n            setFetcherError(key, routeId, actionResult.error);\n            return;\n        }\n        if ($6b1a25b8319a72de$var$isDeferredResult(actionResult)) throw $6b1a25b8319a72de$var$getInternalRouterError(400, {\n            type: \"defer-action\"\n        });\n        // Start the data load for current matches, or the next location if we're\n        // in the middle of a navigation\n        let nextLocation = state.navigation.location || state.location;\n        let revalidationRequest = $6b1a25b8319a72de$var$createClientSideRequest(init.history, nextLocation, abortController.signal);\n        let routesToUse = inFlightDataRoutes || dataRoutes;\n        let matches = state.navigation.state !== \"idle\" ? $6b1a25b8319a72de$export$2708184779ceb39d(routesToUse, state.navigation.location, basename) : state.matches;\n        $6b1a25b8319a72de$export$3e9cee6b33872309(matches, \"Didn't find any matches after fetcher action\");\n        let loadId = ++incrementingLoadId;\n        fetchReloadIds.set(key, loadId);\n        let loadFetcher = $6b1a25b8319a72de$var$getLoadingFetcher(submission, actionResult.data);\n        state.fetchers.set(key, loadFetcher);\n        let [matchesToLoad, revalidatingFetchers] = $6b1a25b8319a72de$var$getMatchesToLoad(init.history, state, matches, submission, nextLocation, isRevalidationRequired, cancelledDeferredRoutes, cancelledFetcherLoads, fetchLoadMatches, fetchRedirectIds, routesToUse, basename, {\n            [match.route.id]: actionResult.data\n        }, undefined // No need to send through errors since we short circuit above\n        );\n        // Put all revalidating fetchers into the loading state, except for the\n        // current fetcher which we want to keep in it's current loading state which\n        // contains it's action submission info + action data\n        revalidatingFetchers.filter((rf)=>rf.key !== key).forEach((rf)=>{\n            let staleKey = rf.key;\n            let existingFetcher = state.fetchers.get(staleKey);\n            let revalidatingFetcher = $6b1a25b8319a72de$var$getLoadingFetcher(undefined, existingFetcher ? existingFetcher.data : undefined);\n            state.fetchers.set(staleKey, revalidatingFetcher);\n            if (fetchControllers.has(staleKey)) abortFetcher(staleKey);\n            if (rf.controller) fetchControllers.set(staleKey, rf.controller);\n        });\n        updateState({\n            fetchers: new Map(state.fetchers)\n        });\n        let abortPendingFetchRevalidations = ()=>revalidatingFetchers.forEach((rf)=>abortFetcher(rf.key));\n        abortController.signal.addEventListener(\"abort\", abortPendingFetchRevalidations);\n        let { results: results, loaderResults: loaderResults, fetcherResults: fetcherResults } = await callLoadersAndMaybeResolveData(state.matches, matches, matchesToLoad, revalidatingFetchers, revalidationRequest);\n        if (abortController.signal.aborted) return;\n        abortController.signal.removeEventListener(\"abort\", abortPendingFetchRevalidations);\n        fetchReloadIds.delete(key);\n        fetchControllers.delete(key);\n        revalidatingFetchers.forEach((r)=>fetchControllers.delete(r.key));\n        let redirect = $6b1a25b8319a72de$var$findRedirect(results);\n        if (redirect) {\n            if (redirect.idx >= matchesToLoad.length) {\n                // If this redirect came from a fetcher make sure we mark it in\n                // fetchRedirectIds so it doesn't get revalidated on the next set of\n                // loader executions\n                let fetcherKey = revalidatingFetchers[redirect.idx - matchesToLoad.length].key;\n                fetchRedirectIds.add(fetcherKey);\n            }\n            return startRedirectNavigation(state, redirect.result);\n        }\n        // Process and commit output from loaders\n        let { loaderData: loaderData, errors: errors } = $6b1a25b8319a72de$var$processLoaderData(state, state.matches, matchesToLoad, loaderResults, undefined, revalidatingFetchers, fetcherResults, activeDeferreds);\n        // Since we let revalidations complete even if the submitting fetcher was\n        // deleted, only put it back to idle if it hasn't been deleted\n        if (state.fetchers.has(key)) {\n            let doneFetcher = $6b1a25b8319a72de$var$getDoneFetcher(actionResult.data);\n            state.fetchers.set(key, doneFetcher);\n        }\n        let didAbortFetchLoads = abortStaleFetchLoads(loadId);\n        // If we are currently in a navigation loading state and this fetcher is\n        // more recent than the navigation, we want the newer data so abort the\n        // navigation and complete it with the fetcher data\n        if (state.navigation.state === \"loading\" && loadId > pendingNavigationLoadId) {\n            $6b1a25b8319a72de$export$3e9cee6b33872309(pendingAction, \"Expected pending action\");\n            pendingNavigationController && pendingNavigationController.abort();\n            completeNavigation(state.navigation.location, {\n                matches: matches,\n                loaderData: loaderData,\n                errors: errors,\n                fetchers: new Map(state.fetchers)\n            });\n        } else {\n            // otherwise just update with the fetcher data, preserving any existing\n            // loaderData for loaders that did not need to reload.  We have to\n            // manually merge here since we aren't going through completeNavigation\n            updateState($6b1a25b8319a72de$var$_extends({\n                errors: errors,\n                loaderData: $6b1a25b8319a72de$var$mergeLoaderData(state.loaderData, loaderData, matches, errors)\n            }, didAbortFetchLoads || revalidatingFetchers.length > 0 ? {\n                fetchers: new Map(state.fetchers)\n            } : {}));\n            isRevalidationRequired = false;\n        }\n    }\n    // Call the matched loader for fetcher.load(), handling redirects, errors, etc.\n    async function handleFetcherLoader(key, routeId, path, match, matches, submission) {\n        let existingFetcher = state.fetchers.get(key);\n        // Put this fetcher into it's loading state\n        let loadingFetcher = $6b1a25b8319a72de$var$getLoadingFetcher(submission, existingFetcher ? existingFetcher.data : undefined);\n        state.fetchers.set(key, loadingFetcher);\n        updateState({\n            fetchers: new Map(state.fetchers)\n        });\n        // Call the loader for this fetcher route match\n        let abortController = new AbortController();\n        let fetchRequest = $6b1a25b8319a72de$var$createClientSideRequest(init.history, path, abortController.signal);\n        fetchControllers.set(key, abortController);\n        let originatingLoadId = incrementingLoadId;\n        let result = await $6b1a25b8319a72de$var$callLoaderOrAction(\"loader\", fetchRequest, match, matches, manifest, mapRouteProperties, basename);\n        // Deferred isn't supported for fetcher loads, await everything and treat it\n        // as a normal load.  resolveDeferredData will return undefined if this\n        // fetcher gets aborted, so we just leave result untouched and short circuit\n        // below if that happens\n        if ($6b1a25b8319a72de$var$isDeferredResult(result)) result = await $6b1a25b8319a72de$var$resolveDeferredData(result, fetchRequest.signal, true) || result;\n        // We can delete this so long as we weren't aborted by our our own fetcher\n        // re-load which would have put _new_ controller is in fetchControllers\n        if (fetchControllers.get(key) === abortController) fetchControllers.delete(key);\n        if (fetchRequest.signal.aborted) return;\n        // If the loader threw a redirect Response, start a new REPLACE navigation\n        if ($6b1a25b8319a72de$var$isRedirectResult(result)) {\n            if (pendingNavigationLoadId > originatingLoadId) {\n                // A new navigation was kicked off after our loader started, so that\n                // should take precedence over this redirect navigation\n                let doneFetcher = $6b1a25b8319a72de$var$getDoneFetcher(undefined);\n                state.fetchers.set(key, doneFetcher);\n                updateState({\n                    fetchers: new Map(state.fetchers)\n                });\n                return;\n            } else {\n                fetchRedirectIds.add(key);\n                await startRedirectNavigation(state, result);\n                return;\n            }\n        }\n        // Process any non-redirect errors thrown\n        if ($6b1a25b8319a72de$var$isErrorResult(result)) {\n            let boundaryMatch = $6b1a25b8319a72de$var$findNearestBoundary(state.matches, routeId);\n            state.fetchers.delete(key);\n            // TODO: In remix, this would reset to IDLE_NAVIGATION if it was a catch -\n            // do we need to behave any differently with our non-redirect errors?\n            // What if it was a non-redirect Response?\n            updateState({\n                fetchers: new Map(state.fetchers),\n                errors: {\n                    [boundaryMatch.route.id]: result.error\n                }\n            });\n            return;\n        }\n        $6b1a25b8319a72de$export$3e9cee6b33872309(!$6b1a25b8319a72de$var$isDeferredResult(result), \"Unhandled fetcher deferred data\");\n        // Put the fetcher back into an idle state\n        let doneFetcher = $6b1a25b8319a72de$var$getDoneFetcher(result.data);\n        state.fetchers.set(key, doneFetcher);\n        updateState({\n            fetchers: new Map(state.fetchers)\n        });\n    }\n    /**\n   * Utility function to handle redirects returned from an action or loader.\n   * Normally, a redirect \"replaces\" the navigation that triggered it.  So, for\n   * example:\n   *\n   *  - user is on /a\n   *  - user clicks a link to /b\n   *  - loader for /b redirects to /c\n   *\n   * In a non-JS app the browser would track the in-flight navigation to /b and\n   * then replace it with /c when it encountered the redirect response.  In\n   * the end it would only ever update the URL bar with /c.\n   *\n   * In client-side routing using pushState/replaceState, we aim to emulate\n   * this behavior and we also do not update history until the end of the\n   * navigation (including processed redirects).  This means that we never\n   * actually touch history until we've processed redirects, so we just use\n   * the history action from the original navigation (PUSH or REPLACE).\n   */ async function startRedirectNavigation(state, redirect, _temp) {\n        let { submission: submission, replace: replace, isFetchActionRedirect: isFetchActionRedirect } = _temp === void 0 ? {} : _temp;\n        if (redirect.revalidate) isRevalidationRequired = true;\n        let redirectLocation = $6b1a25b8319a72de$var$createLocation(state.location, redirect.location, $6b1a25b8319a72de$var$_extends({\n            _isRedirect: true\n        }, isFetchActionRedirect ? {\n            _isFetchActionRedirect: true\n        } : {}));\n        $6b1a25b8319a72de$export$3e9cee6b33872309(redirectLocation, \"Expected a location on the redirect navigation\");\n        if (isBrowser) {\n            let isDocumentReload = false;\n            if (redirect.reloadDocument) // Hard reload if the response contained X-Remix-Reload-Document\n            isDocumentReload = true;\n            else if ($6b1a25b8319a72de$var$ABSOLUTE_URL_REGEX.test(redirect.location)) {\n                const url = init.history.createURL(redirect.location);\n                isDocumentReload = // Hard reload if it's an absolute URL to a new origin\n                url.origin !== routerWindow.location.origin || // Hard reload if it's an absolute URL that does not match our basename\n                $6b1a25b8319a72de$export$b69e3301ce081aa3(url.pathname, basename) == null;\n            }\n            if (isDocumentReload) {\n                if (replace) routerWindow.location.replace(redirect.location);\n                else routerWindow.location.assign(redirect.location);\n                return;\n            }\n        }\n        // There's no need to abort on redirects, since we don't detect the\n        // redirect until the action/loaders have settled\n        pendingNavigationController = null;\n        let redirectHistoryAction = replace === true ? $6b1a25b8319a72de$export$e19cd5f9376f8cee.Replace : $6b1a25b8319a72de$export$e19cd5f9376f8cee.Push;\n        // Use the incoming submission if provided, fallback on the active one in\n        // state.navigation\n        let activeSubmission = submission || $6b1a25b8319a72de$var$getSubmissionFromNavigation(state.navigation);\n        // If this was a 307/308 submission we want to preserve the HTTP method and\n        // re-submit the GET/POST/PUT/PATCH/DELETE as a submission navigation to the\n        // redirected location\n        if ($6b1a25b8319a72de$var$redirectPreserveMethodStatusCodes.has(redirect.status) && activeSubmission && $6b1a25b8319a72de$var$isMutationMethod(activeSubmission.formMethod)) await startNavigation(redirectHistoryAction, redirectLocation, {\n            submission: $6b1a25b8319a72de$var$_extends({}, activeSubmission, {\n                formAction: redirect.location\n            }),\n            // Preserve this flag across redirects\n            preventScrollReset: pendingPreventScrollReset\n        });\n        else if (isFetchActionRedirect) // For a fetch action redirect, we kick off a new loading navigation\n        // without the fetcher submission, but we send it along for shouldRevalidate\n        await startNavigation(redirectHistoryAction, redirectLocation, {\n            overrideNavigation: $6b1a25b8319a72de$var$getLoadingNavigation(redirectLocation),\n            fetcherSubmission: activeSubmission,\n            // Preserve this flag across redirects\n            preventScrollReset: pendingPreventScrollReset\n        });\n        else {\n            // If we have a submission, we will preserve it through the redirect navigation\n            let overrideNavigation = $6b1a25b8319a72de$var$getLoadingNavigation(redirectLocation, activeSubmission);\n            await startNavigation(redirectHistoryAction, redirectLocation, {\n                overrideNavigation: overrideNavigation,\n                // Preserve this flag across redirects\n                preventScrollReset: pendingPreventScrollReset\n            });\n        }\n    }\n    async function callLoadersAndMaybeResolveData(currentMatches, matches, matchesToLoad, fetchersToLoad, request) {\n        // Call all navigation loaders and revalidating fetcher loaders in parallel,\n        // then slice off the results into separate arrays so we can handle them\n        // accordingly\n        let results = await Promise.all([\n            ...matchesToLoad.map((match)=>$6b1a25b8319a72de$var$callLoaderOrAction(\"loader\", request, match, matches, manifest, mapRouteProperties, basename)),\n            ...fetchersToLoad.map((f)=>{\n                if (f.matches && f.match && f.controller) return $6b1a25b8319a72de$var$callLoaderOrAction(\"loader\", $6b1a25b8319a72de$var$createClientSideRequest(init.history, f.path, f.controller.signal), f.match, f.matches, manifest, mapRouteProperties, basename);\n                else {\n                    let error = {\n                        type: $6b1a25b8319a72de$var$ResultType.error,\n                        error: $6b1a25b8319a72de$var$getInternalRouterError(404, {\n                            pathname: f.path\n                        })\n                    };\n                    return error;\n                }\n            })\n        ]);\n        let loaderResults = results.slice(0, matchesToLoad.length);\n        let fetcherResults = results.slice(matchesToLoad.length);\n        await Promise.all([\n            $6b1a25b8319a72de$var$resolveDeferredResults(currentMatches, matchesToLoad, loaderResults, loaderResults.map(()=>request.signal), false, state.loaderData),\n            $6b1a25b8319a72de$var$resolveDeferredResults(currentMatches, fetchersToLoad.map((f)=>f.match), fetcherResults, fetchersToLoad.map((f)=>f.controller ? f.controller.signal : null), true)\n        ]);\n        return {\n            results: results,\n            loaderResults: loaderResults,\n            fetcherResults: fetcherResults\n        };\n    }\n    function interruptActiveLoads() {\n        // Every interruption triggers a revalidation\n        isRevalidationRequired = true;\n        // Cancel pending route-level deferreds and mark cancelled routes for\n        // revalidation\n        cancelledDeferredRoutes.push(...cancelActiveDeferreds());\n        // Abort in-flight fetcher loads\n        fetchLoadMatches.forEach((_, key)=>{\n            if (fetchControllers.has(key)) {\n                cancelledFetcherLoads.push(key);\n                abortFetcher(key);\n            }\n        });\n    }\n    function setFetcherError(key, routeId, error) {\n        let boundaryMatch = $6b1a25b8319a72de$var$findNearestBoundary(state.matches, routeId);\n        deleteFetcher(key);\n        updateState({\n            errors: {\n                [boundaryMatch.route.id]: error\n            },\n            fetchers: new Map(state.fetchers)\n        });\n    }\n    function deleteFetcher(key) {\n        let fetcher = state.fetchers.get(key);\n        // Don't abort the controller if this is a deletion of a fetcher.submit()\n        // in it's loading phase since - we don't want to abort the corresponding\n        // revalidation and want them to complete and land\n        if (fetchControllers.has(key) && !(fetcher && fetcher.state === \"loading\" && fetchReloadIds.has(key))) abortFetcher(key);\n        fetchLoadMatches.delete(key);\n        fetchReloadIds.delete(key);\n        fetchRedirectIds.delete(key);\n        state.fetchers.delete(key);\n    }\n    function abortFetcher(key) {\n        let controller = fetchControllers.get(key);\n        $6b1a25b8319a72de$export$3e9cee6b33872309(controller, \"Expected fetch controller: \" + key);\n        controller.abort();\n        fetchControllers.delete(key);\n    }\n    function markFetchersDone(keys) {\n        for (let key of keys){\n            let fetcher = getFetcher(key);\n            let doneFetcher = $6b1a25b8319a72de$var$getDoneFetcher(fetcher.data);\n            state.fetchers.set(key, doneFetcher);\n        }\n    }\n    function markFetchRedirectsDone() {\n        let doneKeys = [];\n        let updatedFetchers = false;\n        for (let key of fetchRedirectIds){\n            let fetcher = state.fetchers.get(key);\n            $6b1a25b8319a72de$export$3e9cee6b33872309(fetcher, \"Expected fetcher: \" + key);\n            if (fetcher.state === \"loading\") {\n                fetchRedirectIds.delete(key);\n                doneKeys.push(key);\n                updatedFetchers = true;\n            }\n        }\n        markFetchersDone(doneKeys);\n        return updatedFetchers;\n    }\n    function abortStaleFetchLoads(landedId) {\n        let yeetedKeys = [];\n        for (let [key, id] of fetchReloadIds)if (id < landedId) {\n            let fetcher = state.fetchers.get(key);\n            $6b1a25b8319a72de$export$3e9cee6b33872309(fetcher, \"Expected fetcher: \" + key);\n            if (fetcher.state === \"loading\") {\n                abortFetcher(key);\n                fetchReloadIds.delete(key);\n                yeetedKeys.push(key);\n            }\n        }\n        markFetchersDone(yeetedKeys);\n        return yeetedKeys.length > 0;\n    }\n    function getBlocker(key, fn) {\n        let blocker = state.blockers.get(key) || $6b1a25b8319a72de$export$386d57f03f0b2883;\n        if (blockerFunctions.get(key) !== fn) blockerFunctions.set(key, fn);\n        return blocker;\n    }\n    function deleteBlocker(key) {\n        state.blockers.delete(key);\n        blockerFunctions.delete(key);\n    }\n    // Utility function to update blockers, ensuring valid state transitions\n    function updateBlocker(key, newBlocker) {\n        let blocker = state.blockers.get(key) || $6b1a25b8319a72de$export$386d57f03f0b2883;\n        // Poor mans state machine :)\n        // https://mermaid.live/edit#pako:eNqVkc9OwzAMxl8l8nnjAYrEtDIOHEBIgwvKJTReGy3_lDpIqO27k6awMG0XcrLlnz87nwdonESogKXXBuE79rq75XZO3-yHds0RJVuv70YrPlUrCEe2HfrORS3rubqZfuhtpg5C9wk5tZ4VKcRUq88q9Z8RS0-48cE1iHJkL0ugbHuFLus9L6spZy8nX9MP2CNdomVaposqu3fGayT8T8-jJQwhepo_UtpgBQaDEUom04dZhAN1aJBDlUKJBxE1ceB2Smj0Mln-IBW5AFU2dwUiktt_2Qaq2dBfaKdEup85UV7Yd-dKjlnkabl2Pvr0DTkTreM\n        $6b1a25b8319a72de$export$3e9cee6b33872309(blocker.state === \"unblocked\" && newBlocker.state === \"blocked\" || blocker.state === \"blocked\" && newBlocker.state === \"blocked\" || blocker.state === \"blocked\" && newBlocker.state === \"proceeding\" || blocker.state === \"blocked\" && newBlocker.state === \"unblocked\" || blocker.state === \"proceeding\" && newBlocker.state === \"unblocked\", \"Invalid blocker state transition: \" + blocker.state + \" -> \" + newBlocker.state);\n        let blockers = new Map(state.blockers);\n        blockers.set(key, newBlocker);\n        updateState({\n            blockers: blockers\n        });\n    }\n    function shouldBlockNavigation(_ref2) {\n        let { currentLocation: currentLocation, nextLocation: nextLocation, historyAction: historyAction } = _ref2;\n        if (blockerFunctions.size === 0) return;\n        // We ony support a single active blocker at the moment since we don't have\n        // any compelling use cases for multi-blocker yet\n        if (blockerFunctions.size > 1) $6b1a25b8319a72de$export$c0e02632e14916fd(false, \"A router only supports one blocker at a time\");\n        let entries = Array.from(blockerFunctions.entries());\n        let [blockerKey, blockerFunction] = entries[entries.length - 1];\n        let blocker = state.blockers.get(blockerKey);\n        if (blocker && blocker.state === \"proceeding\") // If the blocker is currently proceeding, we don't need to re-check\n        // it and can let this navigation continue\n        return;\n        // At this point, we know we're unblocked/blocked so we need to check the\n        // user-provided blocker function\n        if (blockerFunction({\n            currentLocation: currentLocation,\n            nextLocation: nextLocation,\n            historyAction: historyAction\n        })) return blockerKey;\n    }\n    function cancelActiveDeferreds(predicate) {\n        let cancelledRouteIds = [];\n        activeDeferreds.forEach((dfd, routeId)=>{\n            if (!predicate || predicate(routeId)) {\n                // Cancel the deferred - but do not remove from activeDeferreds here -\n                // we rely on the subscribers to do that so our tests can assert proper\n                // cleanup via _internalActiveDeferreds\n                dfd.cancel();\n                cancelledRouteIds.push(routeId);\n                activeDeferreds.delete(routeId);\n            }\n        });\n        return cancelledRouteIds;\n    }\n    // Opt in to capturing and reporting scroll positions during navigations,\n    // used by the <ScrollRestoration> component\n    function enableScrollRestoration(positions, getPosition, getKey) {\n        savedScrollPositions = positions;\n        getScrollPosition = getPosition;\n        getScrollRestorationKey = getKey || null;\n        // Perform initial hydration scroll restoration, since we miss the boat on\n        // the initial updateState() because we've not yet rendered <ScrollRestoration/>\n        // and therefore have no savedScrollPositions available\n        if (!initialScrollRestored && state.navigation === $6b1a25b8319a72de$export$ed3e14b2f9e105d0) {\n            initialScrollRestored = true;\n            let y = getSavedScrollPosition(state.location, state.matches);\n            if (y != null) updateState({\n                restoreScrollPosition: y\n            });\n        }\n        return ()=>{\n            savedScrollPositions = null;\n            getScrollPosition = null;\n            getScrollRestorationKey = null;\n        };\n    }\n    function getScrollKey(location, matches) {\n        if (getScrollRestorationKey) {\n            let key = getScrollRestorationKey(location, matches.map((m)=>$6b1a25b8319a72de$var$createUseMatchesMatch(m, state.loaderData)));\n            return key || location.key;\n        }\n        return location.key;\n    }\n    function saveScrollPosition(location, matches) {\n        if (savedScrollPositions && getScrollPosition) {\n            let key = getScrollKey(location, matches);\n            savedScrollPositions[key] = getScrollPosition();\n        }\n    }\n    function getSavedScrollPosition(location, matches) {\n        if (savedScrollPositions) {\n            let key = getScrollKey(location, matches);\n            let y = savedScrollPositions[key];\n            if (typeof y === \"number\") return y;\n        }\n        return null;\n    }\n    function _internalSetRoutes(newRoutes) {\n        manifest = {};\n        inFlightDataRoutes = $6b1a25b8319a72de$export$4a6d22b32134ea5d(newRoutes, mapRouteProperties, undefined, manifest);\n    }\n    router = {\n        get basename () {\n            return basename;\n        },\n        get state () {\n            return state;\n        },\n        get routes () {\n            return dataRoutes;\n        },\n        initialize: initialize,\n        subscribe: subscribe,\n        enableScrollRestoration: enableScrollRestoration,\n        navigate: navigate,\n        fetch: fetch,\n        revalidate: revalidate,\n        // Passthrough to history-aware createHref used by useHref so we get proper\n        // hash-aware URLs in DOM paths\n        createHref: (to)=>init.history.createHref(to),\n        encodeLocation: (to)=>init.history.encodeLocation(to),\n        getFetcher: getFetcher,\n        deleteFetcher: deleteFetcher,\n        dispose: dispose,\n        getBlocker: getBlocker,\n        deleteBlocker: deleteBlocker,\n        _internalFetchControllers: fetchControllers,\n        _internalActiveDeferreds: activeDeferreds,\n        _internalSetRoutes: // TODO: Remove setRoutes, it's temporary to avoid dealing with\n        // updating the tree while validating the update algorithm.\n        _internalSetRoutes\n    };\n    return router;\n}\n//#endregion\n////////////////////////////////////////////////////////////////////////////////\n//#region createStaticHandler\n////////////////////////////////////////////////////////////////////////////////\nconst $6b1a25b8319a72de$export$4d0306f8f6a4585b = Symbol(\"deferred\");\nfunction $6b1a25b8319a72de$export$3336b097a6fbc59a(routes, opts) {\n    $6b1a25b8319a72de$export$3e9cee6b33872309(routes.length > 0, \"You must provide a non-empty routes array to createStaticHandler\");\n    let manifest = {};\n    let basename = (opts ? opts.basename : null) || \"/\";\n    let mapRouteProperties;\n    if (opts != null && opts.mapRouteProperties) mapRouteProperties = opts.mapRouteProperties;\n    else if (opts != null && opts.detectErrorBoundary) {\n        // If they are still using the deprecated version, wrap it with the new API\n        let detectErrorBoundary = opts.detectErrorBoundary;\n        mapRouteProperties = (route)=>({\n                hasErrorBoundary: detectErrorBoundary(route)\n            });\n    } else mapRouteProperties = $6b1a25b8319a72de$var$defaultMapRouteProperties;\n    let dataRoutes = $6b1a25b8319a72de$export$4a6d22b32134ea5d(routes, mapRouteProperties, undefined, manifest);\n    /**\n   * The query() method is intended for document requests, in which we want to\n   * call an optional action and potentially multiple loaders for all nested\n   * routes.  It returns a StaticHandlerContext object, which is very similar\n   * to the router state (location, loaderData, actionData, errors, etc.) and\n   * also adds SSR-specific information such as the statusCode and headers\n   * from action/loaders Responses.\n   *\n   * It _should_ never throw and should report all errors through the\n   * returned context.errors object, properly associating errors to their error\n   * boundary.  Additionally, it tracks _deepestRenderedBoundaryId which can be\n   * used to emulate React error boundaries during SSr by performing a second\n   * pass only down to the boundaryId.\n   *\n   * The one exception where we do not return a StaticHandlerContext is when a\n   * redirect response is returned or thrown from any action/loader.  We\n   * propagate that out and return the raw Response so the HTTP server can\n   * return it directly.\n   */ async function query(request, _temp2) {\n        let { requestContext: requestContext } = _temp2 === void 0 ? {} : _temp2;\n        let url = new URL(request.url);\n        let method = request.method;\n        let location = $6b1a25b8319a72de$var$createLocation(\"\", $6b1a25b8319a72de$export$fe53371bee54353d(url), null, \"default\");\n        let matches = $6b1a25b8319a72de$export$2708184779ceb39d(dataRoutes, location, basename);\n        // SSR supports HEAD requests while SPA doesn't\n        if (!$6b1a25b8319a72de$var$isValidMethod(method) && method !== \"HEAD\") {\n            let error = $6b1a25b8319a72de$var$getInternalRouterError(405, {\n                method: method\n            });\n            let { matches: methodNotAllowedMatches, route: route } = $6b1a25b8319a72de$var$getShortCircuitMatches(dataRoutes);\n            return {\n                basename: basename,\n                location: location,\n                matches: methodNotAllowedMatches,\n                loaderData: {},\n                actionData: null,\n                errors: {\n                    [route.id]: error\n                },\n                statusCode: error.status,\n                loaderHeaders: {},\n                actionHeaders: {},\n                activeDeferreds: null\n            };\n        } else if (!matches) {\n            let error = $6b1a25b8319a72de$var$getInternalRouterError(404, {\n                pathname: location.pathname\n            });\n            let { matches: notFoundMatches, route: route } = $6b1a25b8319a72de$var$getShortCircuitMatches(dataRoutes);\n            return {\n                basename: basename,\n                location: location,\n                matches: notFoundMatches,\n                loaderData: {},\n                actionData: null,\n                errors: {\n                    [route.id]: error\n                },\n                statusCode: error.status,\n                loaderHeaders: {},\n                actionHeaders: {},\n                activeDeferreds: null\n            };\n        }\n        let result = await queryImpl(request, location, matches, requestContext);\n        if ($6b1a25b8319a72de$var$isResponse(result)) return result;\n        // When returning StaticHandlerContext, we patch back in the location here\n        // since we need it for React Context.  But this helps keep our submit and\n        // loadRouteData operating on a Request instead of a Location\n        return $6b1a25b8319a72de$var$_extends({\n            location: location,\n            basename: basename\n        }, result);\n    }\n    /**\n   * The queryRoute() method is intended for targeted route requests, either\n   * for fetch ?_data requests or resource route requests.  In this case, we\n   * are only ever calling a single action or loader, and we are returning the\n   * returned value directly.  In most cases, this will be a Response returned\n   * from the action/loader, but it may be a primitive or other value as well -\n   * and in such cases the calling context should handle that accordingly.\n   *\n   * We do respect the throw/return differentiation, so if an action/loader\n   * throws, then this method will throw the value.  This is important so we\n   * can do proper boundary identification in Remix where a thrown Response\n   * must go to the Catch Boundary but a returned Response is happy-path.\n   *\n   * One thing to note is that any Router-initiated Errors that make sense\n   * to associate with a status code will be thrown as an ErrorResponse\n   * instance which include the raw Error, such that the calling context can\n   * serialize the error as they see fit while including the proper response\n   * code.  Examples here are 404 and 405 errors that occur prior to reaching\n   * any user-defined loaders.\n   */ async function queryRoute(request, _temp3) {\n        let { routeId: routeId, requestContext: requestContext } = _temp3 === void 0 ? {} : _temp3;\n        let url = new URL(request.url);\n        let method = request.method;\n        let location = $6b1a25b8319a72de$var$createLocation(\"\", $6b1a25b8319a72de$export$fe53371bee54353d(url), null, \"default\");\n        let matches = $6b1a25b8319a72de$export$2708184779ceb39d(dataRoutes, location, basename);\n        // SSR supports HEAD requests while SPA doesn't\n        if (!$6b1a25b8319a72de$var$isValidMethod(method) && method !== \"HEAD\" && method !== \"OPTIONS\") throw $6b1a25b8319a72de$var$getInternalRouterError(405, {\n            method: method\n        });\n        else if (!matches) throw $6b1a25b8319a72de$var$getInternalRouterError(404, {\n            pathname: location.pathname\n        });\n        let match = routeId ? matches.find((m)=>m.route.id === routeId) : $6b1a25b8319a72de$var$getTargetMatch(matches, location);\n        if (routeId && !match) throw $6b1a25b8319a72de$var$getInternalRouterError(403, {\n            pathname: location.pathname,\n            routeId: routeId\n        });\n        else if (!match) // This should never hit I don't think?\n        throw $6b1a25b8319a72de$var$getInternalRouterError(404, {\n            pathname: location.pathname\n        });\n        let result = await queryImpl(request, location, matches, requestContext, match);\n        if ($6b1a25b8319a72de$var$isResponse(result)) return result;\n        let error = result.errors ? Object.values(result.errors)[0] : undefined;\n        if (error !== undefined) // If we got back result.errors, that means the loader/action threw\n        // _something_ that wasn't a Response, but it's not guaranteed/required\n        // to be an `instanceof Error` either, so we have to use throw here to\n        // preserve the \"error\" state outside of queryImpl.\n        throw error;\n        // Pick off the right state value to return\n        if (result.actionData) return Object.values(result.actionData)[0];\n        if (result.loaderData) {\n            var _result$activeDeferre;\n            let data = Object.values(result.loaderData)[0];\n            if ((_result$activeDeferre = result.activeDeferreds) != null && _result$activeDeferre[match.route.id]) data[$6b1a25b8319a72de$export$4d0306f8f6a4585b] = result.activeDeferreds[match.route.id];\n            return data;\n        }\n        return undefined;\n    }\n    async function queryImpl(request, location, matches, requestContext, routeMatch) {\n        $6b1a25b8319a72de$export$3e9cee6b33872309(request.signal, \"query()/queryRoute() requests must contain an AbortController signal\");\n        try {\n            if ($6b1a25b8319a72de$var$isMutationMethod(request.method.toLowerCase())) {\n                let result = await submit(request, matches, routeMatch || $6b1a25b8319a72de$var$getTargetMatch(matches, location), requestContext, routeMatch != null);\n                return result;\n            }\n            let result = await loadRouteData(request, matches, requestContext, routeMatch);\n            return $6b1a25b8319a72de$var$isResponse(result) ? result : $6b1a25b8319a72de$var$_extends({}, result, {\n                actionData: null,\n                actionHeaders: {}\n            });\n        } catch (e) {\n            // If the user threw/returned a Response in callLoaderOrAction, we throw\n            // it to bail out and then return or throw here based on whether the user\n            // returned or threw\n            if ($6b1a25b8319a72de$var$isQueryRouteResponse(e)) {\n                if (e.type === $6b1a25b8319a72de$var$ResultType.error) throw e.response;\n                return e.response;\n            }\n            // Redirects are always returned since they don't propagate to catch\n            // boundaries\n            if ($6b1a25b8319a72de$var$isRedirectResponse(e)) return e;\n            throw e;\n        }\n    }\n    async function submit(request, matches, actionMatch, requestContext, isRouteRequest) {\n        let result;\n        if (!actionMatch.route.action && !actionMatch.route.lazy) {\n            let error = $6b1a25b8319a72de$var$getInternalRouterError(405, {\n                method: request.method,\n                pathname: new URL(request.url).pathname,\n                routeId: actionMatch.route.id\n            });\n            if (isRouteRequest) throw error;\n            result = {\n                type: $6b1a25b8319a72de$var$ResultType.error,\n                error: error\n            };\n        } else {\n            result = await $6b1a25b8319a72de$var$callLoaderOrAction(\"action\", request, actionMatch, matches, manifest, mapRouteProperties, basename, {\n                isStaticRequest: true,\n                isRouteRequest: isRouteRequest,\n                requestContext: requestContext\n            });\n            if (request.signal.aborted) {\n                let method = isRouteRequest ? \"queryRoute\" : \"query\";\n                throw new Error(method + \"() call aborted\");\n            }\n        }\n        if ($6b1a25b8319a72de$var$isRedirectResult(result)) // Uhhhh - this should never happen, we should always throw these from\n        // callLoaderOrAction, but the type narrowing here keeps TS happy and we\n        // can get back on the \"throw all redirect responses\" train here should\n        // this ever happen :/\n        throw new Response(null, {\n            status: result.status,\n            headers: {\n                Location: result.location\n            }\n        });\n        if ($6b1a25b8319a72de$var$isDeferredResult(result)) {\n            let error = $6b1a25b8319a72de$var$getInternalRouterError(400, {\n                type: \"defer-action\"\n            });\n            if (isRouteRequest) throw error;\n            result = {\n                type: $6b1a25b8319a72de$var$ResultType.error,\n                error: error\n            };\n        }\n        if (isRouteRequest) {\n            // Note: This should only be non-Response values if we get here, since\n            // isRouteRequest should throw any Response received in callLoaderOrAction\n            if ($6b1a25b8319a72de$var$isErrorResult(result)) throw result.error;\n            return {\n                matches: [\n                    actionMatch\n                ],\n                loaderData: {},\n                actionData: {\n                    [actionMatch.route.id]: result.data\n                },\n                errors: null,\n                // Note: statusCode + headers are unused here since queryRoute will\n                // return the raw Response or value\n                statusCode: 200,\n                loaderHeaders: {},\n                actionHeaders: {},\n                activeDeferreds: null\n            };\n        }\n        if ($6b1a25b8319a72de$var$isErrorResult(result)) {\n            // Store off the pending error - we use it to determine which loaders\n            // to call and will commit it when we complete the navigation\n            let boundaryMatch = $6b1a25b8319a72de$var$findNearestBoundary(matches, actionMatch.route.id);\n            let context = await loadRouteData(request, matches, requestContext, undefined, {\n                [boundaryMatch.route.id]: result.error\n            });\n            // action status codes take precedence over loader status codes\n            return $6b1a25b8319a72de$var$_extends({}, context, {\n                statusCode: $6b1a25b8319a72de$export$972111febbeef05b(result.error) ? result.error.status : 500,\n                actionData: null,\n                actionHeaders: $6b1a25b8319a72de$var$_extends({}, result.headers ? {\n                    [actionMatch.route.id]: result.headers\n                } : {})\n            });\n        }\n        // Create a GET request for the loaders\n        let loaderRequest = new Request(request.url, {\n            headers: request.headers,\n            redirect: request.redirect,\n            signal: request.signal\n        });\n        let context = await loadRouteData(loaderRequest, matches, requestContext);\n        return $6b1a25b8319a72de$var$_extends({}, context, result.statusCode ? {\n            statusCode: result.statusCode\n        } : {}, {\n            actionData: {\n                [actionMatch.route.id]: result.data\n            },\n            actionHeaders: $6b1a25b8319a72de$var$_extends({}, result.headers ? {\n                [actionMatch.route.id]: result.headers\n            } : {})\n        });\n    }\n    async function loadRouteData(request, matches, requestContext, routeMatch, pendingActionError) {\n        let isRouteRequest = routeMatch != null;\n        // Short circuit if we have no loaders to run (queryRoute())\n        if (isRouteRequest && !(routeMatch != null && routeMatch.route.loader) && !(routeMatch != null && routeMatch.route.lazy)) throw $6b1a25b8319a72de$var$getInternalRouterError(400, {\n            method: request.method,\n            pathname: new URL(request.url).pathname,\n            routeId: routeMatch == null ? void 0 : routeMatch.route.id\n        });\n        let requestMatches = routeMatch ? [\n            routeMatch\n        ] : $6b1a25b8319a72de$var$getLoaderMatchesUntilBoundary(matches, Object.keys(pendingActionError || {})[0]);\n        let matchesToLoad = requestMatches.filter((m)=>m.route.loader || m.route.lazy);\n        // Short circuit if we have no loaders to run (query())\n        if (matchesToLoad.length === 0) return {\n            matches: matches,\n            // Add a null for all matched routes for proper revalidation on the client\n            loaderData: matches.reduce((acc, m)=>Object.assign(acc, {\n                    [m.route.id]: null\n                }), {}),\n            errors: pendingActionError || null,\n            statusCode: 200,\n            loaderHeaders: {},\n            activeDeferreds: null\n        };\n        let results = await Promise.all([\n            ...matchesToLoad.map((match)=>$6b1a25b8319a72de$var$callLoaderOrAction(\"loader\", request, match, matches, manifest, mapRouteProperties, basename, {\n                    isStaticRequest: true,\n                    isRouteRequest: isRouteRequest,\n                    requestContext: requestContext\n                }))\n        ]);\n        if (request.signal.aborted) {\n            let method = isRouteRequest ? \"queryRoute\" : \"query\";\n            throw new Error(method + \"() call aborted\");\n        }\n        // Process and commit output from loaders\n        let activeDeferreds = new Map();\n        let context = $6b1a25b8319a72de$var$processRouteLoaderData(matches, matchesToLoad, results, pendingActionError, activeDeferreds);\n        // Add a null for any non-loader matches for proper revalidation on the client\n        let executedLoaders = new Set(matchesToLoad.map((match)=>match.route.id));\n        matches.forEach((match)=>{\n            if (!executedLoaders.has(match.route.id)) context.loaderData[match.route.id] = null;\n        });\n        return $6b1a25b8319a72de$var$_extends({}, context, {\n            matches: matches,\n            activeDeferreds: activeDeferreds.size > 0 ? Object.fromEntries(activeDeferreds.entries()) : null\n        });\n    }\n    return {\n        dataRoutes: dataRoutes,\n        query: query,\n        queryRoute: queryRoute\n    };\n}\n//#endregion\n////////////////////////////////////////////////////////////////////////////////\n//#region Helpers\n////////////////////////////////////////////////////////////////////////////////\n/**\n * Given an existing StaticHandlerContext and an error thrown at render time,\n * provide an updated StaticHandlerContext suitable for a second SSR render\n */ function $6b1a25b8319a72de$export$fec11da027c70692(routes, context, error) {\n    let newContext = $6b1a25b8319a72de$var$_extends({}, context, {\n        statusCode: 500,\n        errors: {\n            [context._deepestRenderedBoundaryId || routes[0].id]: error\n        }\n    });\n    return newContext;\n}\nfunction $6b1a25b8319a72de$var$isSubmissionNavigation(opts) {\n    return opts != null && (\"formData\" in opts && opts.formData != null || \"body\" in opts && opts.body !== undefined);\n}\nfunction $6b1a25b8319a72de$var$normalizeTo(location, matches, basename, prependBasename, to, fromRouteId, relative) {\n    let contextualMatches;\n    let activeRouteMatch;\n    if (fromRouteId != null && relative !== \"path\") {\n        // Grab matches up to the calling route so our route-relative logic is\n        // relative to the correct source route.  When using relative:path,\n        // fromRouteId is ignored since that is always relative to the current\n        // location path\n        contextualMatches = [];\n        for (let match of matches){\n            contextualMatches.push(match);\n            if (match.route.id === fromRouteId) {\n                activeRouteMatch = match;\n                break;\n            }\n        }\n    } else {\n        contextualMatches = matches;\n        activeRouteMatch = matches[matches.length - 1];\n    }\n    // Resolve the relative path\n    let path = $6b1a25b8319a72de$export$cae722b0cc860f13(to ? to : \".\", $6b1a25b8319a72de$export$90ba53ce1c7fdff2(contextualMatches).map((m)=>m.pathnameBase), $6b1a25b8319a72de$export$b69e3301ce081aa3(location.pathname, basename) || location.pathname, relative === \"path\");\n    // When `to` is not specified we inherit search/hash from the current\n    // location, unlike when to=\".\" and we just inherit the path.\n    // See https://github.com/remix-run/remix/issues/927\n    if (to == null) {\n        path.search = location.search;\n        path.hash = location.hash;\n    }\n    // Add an ?index param for matched index routes if we don't already have one\n    if ((to == null || to === \"\" || to === \".\") && activeRouteMatch && activeRouteMatch.route.index && !$6b1a25b8319a72de$var$hasNakedIndexQuery(path.search)) path.search = path.search ? path.search.replace(/^\\?/, \"?index&\") : \"?index\";\n    // If we're operating within a basename, prepend it to the pathname.  If\n    // this is a root navigation, then just use the raw basename which allows\n    // the basename to have full control over the presence of a trailing slash\n    // on root actions\n    if (prependBasename && basename !== \"/\") path.pathname = path.pathname === \"/\" ? basename : $6b1a25b8319a72de$export$86d9a7913e44197e([\n        basename,\n        path.pathname\n    ]);\n    return $6b1a25b8319a72de$export$fe53371bee54353d(path);\n}\n// Normalize navigation options by converting formMethod=GET formData objects to\n// URLSearchParams so they behave identically to links with query params\nfunction $6b1a25b8319a72de$var$normalizeNavigateOptions(normalizeFormMethod, isFetcher, path, opts) {\n    // Return location verbatim on non-submission navigations\n    if (!opts || !$6b1a25b8319a72de$var$isSubmissionNavigation(opts)) return {\n        path: path\n    };\n    if (opts.formMethod && !$6b1a25b8319a72de$var$isValidMethod(opts.formMethod)) return {\n        path: path,\n        error: $6b1a25b8319a72de$var$getInternalRouterError(405, {\n            method: opts.formMethod\n        })\n    };\n    let getInvalidBodyError = ()=>({\n            path: path,\n            error: $6b1a25b8319a72de$var$getInternalRouterError(400, {\n                type: \"invalid-body\"\n            })\n        });\n    // Create a Submission on non-GET navigations\n    let rawFormMethod = opts.formMethod || \"get\";\n    let formMethod = normalizeFormMethod ? rawFormMethod.toUpperCase() : rawFormMethod.toLowerCase();\n    let formAction = $6b1a25b8319a72de$var$stripHashFromPath(path);\n    if (opts.body !== undefined) {\n        if (opts.formEncType === \"text/plain\") {\n            // text only support POST/PUT/PATCH/DELETE submissions\n            if (!$6b1a25b8319a72de$var$isMutationMethod(formMethod)) return getInvalidBodyError();\n            let text = typeof opts.body === \"string\" ? opts.body : opts.body instanceof FormData || opts.body instanceof URLSearchParams ? // https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#plain-text-form-data\n            Array.from(opts.body.entries()).reduce((acc, _ref3)=>{\n                let [name, value] = _ref3;\n                return \"\" + acc + name + \"=\" + value + \"\\n\";\n            }, \"\") : String(opts.body);\n            return {\n                path: path,\n                submission: {\n                    formMethod: formMethod,\n                    formAction: formAction,\n                    formEncType: opts.formEncType,\n                    formData: undefined,\n                    json: undefined,\n                    text: text\n                }\n            };\n        } else if (opts.formEncType === \"application/json\") {\n            // json only supports POST/PUT/PATCH/DELETE submissions\n            if (!$6b1a25b8319a72de$var$isMutationMethod(formMethod)) return getInvalidBodyError();\n            try {\n                let json = typeof opts.body === \"string\" ? JSON.parse(opts.body) : opts.body;\n                return {\n                    path: path,\n                    submission: {\n                        formMethod: formMethod,\n                        formAction: formAction,\n                        formEncType: opts.formEncType,\n                        formData: undefined,\n                        json: json,\n                        text: undefined\n                    }\n                };\n            } catch (e) {\n                return getInvalidBodyError();\n            }\n        }\n    }\n    $6b1a25b8319a72de$export$3e9cee6b33872309(typeof FormData === \"function\", \"FormData is not available in this environment\");\n    let searchParams;\n    let formData;\n    if (opts.formData) {\n        searchParams = $6b1a25b8319a72de$var$convertFormDataToSearchParams(opts.formData);\n        formData = opts.formData;\n    } else if (opts.body instanceof FormData) {\n        searchParams = $6b1a25b8319a72de$var$convertFormDataToSearchParams(opts.body);\n        formData = opts.body;\n    } else if (opts.body instanceof URLSearchParams) {\n        searchParams = opts.body;\n        formData = $6b1a25b8319a72de$var$convertSearchParamsToFormData(searchParams);\n    } else if (opts.body == null) {\n        searchParams = new URLSearchParams();\n        formData = new FormData();\n    } else try {\n        searchParams = new URLSearchParams(opts.body);\n        formData = $6b1a25b8319a72de$var$convertSearchParamsToFormData(searchParams);\n    } catch (e) {\n        return getInvalidBodyError();\n    }\n    let submission = {\n        formMethod: formMethod,\n        formAction: formAction,\n        formEncType: opts && opts.formEncType || \"application/x-www-form-urlencoded\",\n        formData: formData,\n        json: undefined,\n        text: undefined\n    };\n    if ($6b1a25b8319a72de$var$isMutationMethod(submission.formMethod)) return {\n        path: path,\n        submission: submission\n    };\n    // Flatten submission onto URLSearchParams for GET submissions\n    let parsedPath = $6b1a25b8319a72de$export$8ccf933b0513f8d0(path);\n    // On GET navigation submissions we can drop the ?index param from the\n    // resulting location since all loaders will run.  But fetcher GET submissions\n    // only run a single loader so we need to preserve any incoming ?index params\n    if (isFetcher && parsedPath.search && $6b1a25b8319a72de$var$hasNakedIndexQuery(parsedPath.search)) searchParams.append(\"index\", \"\");\n    parsedPath.search = \"?\" + searchParams;\n    return {\n        path: $6b1a25b8319a72de$export$fe53371bee54353d(parsedPath),\n        submission: submission\n    };\n}\n// Filter out all routes below any caught error as they aren't going to\n// render so we don't need to load them\nfunction $6b1a25b8319a72de$var$getLoaderMatchesUntilBoundary(matches, boundaryId) {\n    let boundaryMatches = matches;\n    if (boundaryId) {\n        let index = matches.findIndex((m)=>m.route.id === boundaryId);\n        if (index >= 0) boundaryMatches = matches.slice(0, index);\n    }\n    return boundaryMatches;\n}\nfunction $6b1a25b8319a72de$var$getMatchesToLoad(history, state, matches, submission, location, isRevalidationRequired, cancelledDeferredRoutes, cancelledFetcherLoads, fetchLoadMatches, fetchRedirectIds, routesToUse, basename, pendingActionData, pendingError) {\n    let actionResult = pendingError ? Object.values(pendingError)[0] : pendingActionData ? Object.values(pendingActionData)[0] : undefined;\n    let currentUrl = history.createURL(state.location);\n    let nextUrl = history.createURL(location);\n    // Pick navigation matches that are net-new or qualify for revalidation\n    let boundaryId = pendingError ? Object.keys(pendingError)[0] : undefined;\n    let boundaryMatches = $6b1a25b8319a72de$var$getLoaderMatchesUntilBoundary(matches, boundaryId);\n    let navigationMatches = boundaryMatches.filter((match, index)=>{\n        if (match.route.lazy) // We haven't loaded this route yet so we don't know if it's got a loader!\n        return true;\n        if (match.route.loader == null) return false;\n        // Always call the loader on new route instances and pending defer cancellations\n        if ($6b1a25b8319a72de$var$isNewLoader(state.loaderData, state.matches[index], match) || cancelledDeferredRoutes.some((id)=>id === match.route.id)) return true;\n        // This is the default implementation for when we revalidate.  If the route\n        // provides it's own implementation, then we give them full control but\n        // provide this value so they can leverage it if needed after they check\n        // their own specific use cases\n        let currentRouteMatch = state.matches[index];\n        let nextRouteMatch = match;\n        return $6b1a25b8319a72de$var$shouldRevalidateLoader(match, $6b1a25b8319a72de$var$_extends({\n            currentUrl: currentUrl,\n            currentParams: currentRouteMatch.params,\n            nextUrl: nextUrl,\n            nextParams: nextRouteMatch.params\n        }, submission, {\n            actionResult: actionResult,\n            defaultShouldRevalidate: // Forced revalidation due to submission, useRevalidator, or X-Remix-Revalidate\n            isRevalidationRequired || // Clicked the same link, resubmitted a GET form\n            currentUrl.pathname + currentUrl.search === nextUrl.pathname + nextUrl.search || // Search params affect all loaders\n            currentUrl.search !== nextUrl.search || $6b1a25b8319a72de$var$isNewRouteInstance(currentRouteMatch, nextRouteMatch)\n        }));\n    });\n    // Pick fetcher.loads that need to be revalidated\n    let revalidatingFetchers = [];\n    fetchLoadMatches.forEach((f, key)=>{\n        // Don't revalidate if fetcher won't be present in the subsequent render\n        if (!matches.some((m)=>m.route.id === f.routeId)) return;\n        let fetcherMatches = $6b1a25b8319a72de$export$2708184779ceb39d(routesToUse, f.path, basename);\n        // If the fetcher path no longer matches, push it in with null matches so\n        // we can trigger a 404 in callLoadersAndMaybeResolveData.  Note this is\n        // currently only a use-case for Remix HMR where the route tree can change\n        // at runtime and remove a route previously loaded via a fetcher\n        if (!fetcherMatches) {\n            revalidatingFetchers.push({\n                key: key,\n                routeId: f.routeId,\n                path: f.path,\n                matches: null,\n                match: null,\n                controller: null\n            });\n            return;\n        }\n        // Revalidating fetchers are decoupled from the route matches since they\n        // load from a static href.  They revalidate based on explicit revalidation\n        // (submission, useRevalidator, or X-Remix-Revalidate)\n        let fetcher = state.fetchers.get(key);\n        let fetcherMatch = $6b1a25b8319a72de$var$getTargetMatch(fetcherMatches, f.path);\n        let shouldRevalidate = false;\n        if (fetchRedirectIds.has(key)) // Never trigger a revalidation of an actively redirecting fetcher\n        shouldRevalidate = false;\n        else if (cancelledFetcherLoads.includes(key)) // Always revalidate if the fetcher was cancelled\n        shouldRevalidate = true;\n        else if (fetcher && fetcher.state !== \"idle\" && fetcher.data === undefined) // If the fetcher hasn't ever completed loading yet, then this isn't a\n        // revalidation, it would just be a brand new load if an explicit\n        // revalidation is required\n        shouldRevalidate = isRevalidationRequired;\n        else // Otherwise fall back on any user-defined shouldRevalidate, defaulting\n        // to explicit revalidations only\n        shouldRevalidate = $6b1a25b8319a72de$var$shouldRevalidateLoader(fetcherMatch, $6b1a25b8319a72de$var$_extends({\n            currentUrl: currentUrl,\n            currentParams: state.matches[state.matches.length - 1].params,\n            nextUrl: nextUrl,\n            nextParams: matches[matches.length - 1].params\n        }, submission, {\n            actionResult: actionResult,\n            defaultShouldRevalidate: isRevalidationRequired\n        }));\n        if (shouldRevalidate) revalidatingFetchers.push({\n            key: key,\n            routeId: f.routeId,\n            path: f.path,\n            matches: fetcherMatches,\n            match: fetcherMatch,\n            controller: new AbortController()\n        });\n    });\n    return [\n        navigationMatches,\n        revalidatingFetchers\n    ];\n}\nfunction $6b1a25b8319a72de$var$isNewLoader(currentLoaderData, currentMatch, match) {\n    let isNew = // [a] -> [a, b]\n    !currentMatch || // [a, b] -> [a, c]\n    match.route.id !== currentMatch.route.id;\n    // Handle the case that we don't have data for a re-used route, potentially\n    // from a prior error or from a cancelled pending deferred\n    let isMissingData = currentLoaderData[match.route.id] === undefined;\n    // Always load if this is a net-new route or we don't yet have data\n    return isNew || isMissingData;\n}\nfunction $6b1a25b8319a72de$var$isNewRouteInstance(currentMatch, match) {\n    let currentPath = currentMatch.route.path;\n    return(// param change for this match, /users/123 -> /users/456\n    currentMatch.pathname !== match.pathname || // splat param changed, which is not present in match.path\n    // e.g. /files/images/avatar.jpg -> files/finances.xls\n    currentPath != null && currentPath.endsWith(\"*\") && currentMatch.params[\"*\"] !== match.params[\"*\"]);\n}\nfunction $6b1a25b8319a72de$var$shouldRevalidateLoader(loaderMatch, arg) {\n    if (loaderMatch.route.shouldRevalidate) {\n        let routeChoice = loaderMatch.route.shouldRevalidate(arg);\n        if (typeof routeChoice === \"boolean\") return routeChoice;\n    }\n    return arg.defaultShouldRevalidate;\n}\n/**\n * Execute route.lazy() methods to lazily load route modules (loader, action,\n * shouldRevalidate) and update the routeManifest in place which shares objects\n * with dataRoutes so those get updated as well.\n */ async function $6b1a25b8319a72de$var$loadLazyRouteModule(route, mapRouteProperties, manifest) {\n    if (!route.lazy) return;\n    let lazyRoute = await route.lazy();\n    // If the lazy route function was executed and removed by another parallel\n    // call then we can return - first lazy() to finish wins because the return\n    // value of lazy is expected to be static\n    if (!route.lazy) return;\n    let routeToUpdate = manifest[route.id];\n    $6b1a25b8319a72de$export$3e9cee6b33872309(routeToUpdate, \"No route found in manifest\");\n    // Update the route in place.  This should be safe because there's no way\n    // we could yet be sitting on this route as we can't get there without\n    // resolving lazy() first.\n    //\n    // This is different than the HMR \"update\" use-case where we may actively be\n    // on the route being updated.  The main concern boils down to \"does this\n    // mutation affect any ongoing navigations or any current state.matches\n    // values?\".  If not, it should be safe to update in place.\n    let routeUpdates = {};\n    for(let lazyRouteProperty in lazyRoute){\n        let staticRouteValue = routeToUpdate[lazyRouteProperty];\n        let isPropertyStaticallyDefined = staticRouteValue !== undefined && // This property isn't static since it should always be updated based\n        // on the route updates\n        lazyRouteProperty !== \"hasErrorBoundary\";\n        $6b1a25b8319a72de$export$c0e02632e14916fd(!isPropertyStaticallyDefined, 'Route \"' + routeToUpdate.id + '\" has a static property \"' + lazyRouteProperty + '\" ' + \"defined but its lazy function is also returning a value for this property. \" + ('The lazy route property \"' + lazyRouteProperty + '\" will be ignored.'));\n        if (!isPropertyStaticallyDefined && !$6b1a25b8319a72de$var$immutableRouteKeys.has(lazyRouteProperty)) routeUpdates[lazyRouteProperty] = lazyRoute[lazyRouteProperty];\n    }\n    // Mutate the route with the provided updates.  Do this first so we pass\n    // the updated version to mapRouteProperties\n    Object.assign(routeToUpdate, routeUpdates);\n    // Mutate the `hasErrorBoundary` property on the route based on the route\n    // updates and remove the `lazy` function so we don't resolve the lazy\n    // route again.\n    Object.assign(routeToUpdate, $6b1a25b8319a72de$var$_extends({}, mapRouteProperties(routeToUpdate), {\n        lazy: undefined\n    }));\n}\nasync function $6b1a25b8319a72de$var$callLoaderOrAction(type, request, match, matches, manifest, mapRouteProperties, basename, opts) {\n    if (opts === void 0) opts = {};\n    let resultType;\n    let result;\n    let onReject;\n    let runHandler = (handler)=>{\n        // Setup a promise we can race against so that abort signals short circuit\n        let reject;\n        let abortPromise = new Promise((_, r)=>reject = r);\n        onReject = ()=>reject();\n        request.signal.addEventListener(\"abort\", onReject);\n        return Promise.race([\n            handler({\n                request: request,\n                params: match.params,\n                context: opts.requestContext\n            }),\n            abortPromise\n        ]);\n    };\n    try {\n        let handler = match.route[type];\n        if (match.route.lazy) {\n            if (handler) {\n                // Run statically defined handler in parallel with lazy()\n                let values = await Promise.all([\n                    runHandler(handler),\n                    $6b1a25b8319a72de$var$loadLazyRouteModule(match.route, mapRouteProperties, manifest)\n                ]);\n                result = values[0];\n            } else {\n                // Load lazy route module, then run any returned handler\n                await $6b1a25b8319a72de$var$loadLazyRouteModule(match.route, mapRouteProperties, manifest);\n                handler = match.route[type];\n                if (handler) // Handler still run even if we got interrupted to maintain consistency\n                // with un-abortable behavior of handler execution on non-lazy or\n                // previously-lazy-loaded routes\n                result = await runHandler(handler);\n                else if (type === \"action\") {\n                    let url = new URL(request.url);\n                    let pathname = url.pathname + url.search;\n                    throw $6b1a25b8319a72de$var$getInternalRouterError(405, {\n                        method: request.method,\n                        pathname: pathname,\n                        routeId: match.route.id\n                    });\n                } else // lazy() route has no loader to run.  Short circuit here so we don't\n                // hit the invariant below that errors on returning undefined.\n                return {\n                    type: $6b1a25b8319a72de$var$ResultType.data,\n                    data: undefined\n                };\n            }\n        } else if (!handler) {\n            let url = new URL(request.url);\n            let pathname = url.pathname + url.search;\n            throw $6b1a25b8319a72de$var$getInternalRouterError(404, {\n                pathname: pathname\n            });\n        } else result = await runHandler(handler);\n        $6b1a25b8319a72de$export$3e9cee6b33872309(result !== undefined, \"You defined \" + (type === \"action\" ? \"an action\" : \"a loader\") + \" for route \" + ('\"' + match.route.id + \"\\\" but didn't return anything from your `\" + type + \"` \") + \"function. Please return a value or `null`.\");\n    } catch (e) {\n        resultType = $6b1a25b8319a72de$var$ResultType.error;\n        result = e;\n    } finally{\n        if (onReject) request.signal.removeEventListener(\"abort\", onReject);\n    }\n    if ($6b1a25b8319a72de$var$isResponse(result)) {\n        let status = result.status;\n        // Process redirects\n        if ($6b1a25b8319a72de$var$redirectStatusCodes.has(status)) {\n            let location = result.headers.get(\"Location\");\n            $6b1a25b8319a72de$export$3e9cee6b33872309(location, \"Redirects returned/thrown from loaders/actions must have a Location header\");\n            // Support relative routing in internal redirects\n            if (!$6b1a25b8319a72de$var$ABSOLUTE_URL_REGEX.test(location)) location = $6b1a25b8319a72de$var$normalizeTo(new URL(request.url), matches.slice(0, matches.indexOf(match) + 1), basename, true, location);\n            else if (!opts.isStaticRequest) {\n                // Strip off the protocol+origin for same-origin + same-basename absolute\n                // redirects. If this is a static request, we can let it go back to the\n                // browser as-is\n                let currentUrl = new URL(request.url);\n                let url = location.startsWith(\"//\") ? new URL(currentUrl.protocol + location) : new URL(location);\n                let isSameBasename = $6b1a25b8319a72de$export$b69e3301ce081aa3(url.pathname, basename) != null;\n                if (url.origin === currentUrl.origin && isSameBasename) location = url.pathname + url.search + url.hash;\n            }\n            // Don't process redirects in the router during static requests requests.\n            // Instead, throw the Response and let the server handle it with an HTTP\n            // redirect.  We also update the Location header in place in this flow so\n            // basename and relative routing is taken into account\n            if (opts.isStaticRequest) {\n                result.headers.set(\"Location\", location);\n                throw result;\n            }\n            return {\n                type: $6b1a25b8319a72de$var$ResultType.redirect,\n                status: status,\n                location: location,\n                revalidate: result.headers.get(\"X-Remix-Revalidate\") !== null,\n                reloadDocument: result.headers.get(\"X-Remix-Reload-Document\") !== null\n            };\n        }\n        // For SSR single-route requests, we want to hand Responses back directly\n        // without unwrapping.  We do this with the QueryRouteResponse wrapper\n        // interface so we can know whether it was returned or thrown\n        if (opts.isRouteRequest) {\n            let queryRouteResponse = {\n                type: resultType === $6b1a25b8319a72de$var$ResultType.error ? $6b1a25b8319a72de$var$ResultType.error : $6b1a25b8319a72de$var$ResultType.data,\n                response: result\n            };\n            throw queryRouteResponse;\n        }\n        let data;\n        let contentType = result.headers.get(\"Content-Type\");\n        // Check between word boundaries instead of startsWith() due to the last\n        // paragraph of https://httpwg.org/specs/rfc9110.html#field.content-type\n        if (contentType && /\\bapplication\\/json\\b/.test(contentType)) data = await result.json();\n        else data = await result.text();\n        if (resultType === $6b1a25b8319a72de$var$ResultType.error) return {\n            type: resultType,\n            error: new $6b1a25b8319a72de$export$acf1a680051f5031(status, result.statusText, data),\n            headers: result.headers\n        };\n        return {\n            type: $6b1a25b8319a72de$var$ResultType.data,\n            data: data,\n            statusCode: result.status,\n            headers: result.headers\n        };\n    }\n    if (resultType === $6b1a25b8319a72de$var$ResultType.error) return {\n        type: resultType,\n        error: result\n    };\n    if ($6b1a25b8319a72de$export$fbcedacb60443473(result)) {\n        var _result$init, _result$init2;\n        return {\n            type: $6b1a25b8319a72de$var$ResultType.deferred,\n            deferredData: result,\n            statusCode: (_result$init = result.init) == null ? void 0 : _result$init.status,\n            headers: ((_result$init2 = result.init) == null ? void 0 : _result$init2.headers) && new Headers(result.init.headers)\n        };\n    }\n    return {\n        type: $6b1a25b8319a72de$var$ResultType.data,\n        data: result\n    };\n}\n// Utility method for creating the Request instances for loaders/actions during\n// client-side navigations and fetches.  During SSR we will always have a\n// Request instance from the static handler (query/queryRoute)\nfunction $6b1a25b8319a72de$var$createClientSideRequest(history, location, signal, submission) {\n    let url = history.createURL($6b1a25b8319a72de$var$stripHashFromPath(location)).toString();\n    let init = {\n        signal: signal\n    };\n    if (submission && $6b1a25b8319a72de$var$isMutationMethod(submission.formMethod)) {\n        let { formMethod: formMethod, formEncType: formEncType } = submission;\n        // Didn't think we needed this but it turns out unlike other methods, patch\n        // won't be properly normalized to uppercase and results in a 405 error.\n        // See: https://fetch.spec.whatwg.org/#concept-method\n        init.method = formMethod.toUpperCase();\n        if (formEncType === \"application/json\") {\n            init.headers = new Headers({\n                \"Content-Type\": formEncType\n            });\n            init.body = JSON.stringify(submission.json);\n        } else if (formEncType === \"text/plain\") // Content-Type is inferred (https://fetch.spec.whatwg.org/#dom-request)\n        init.body = submission.text;\n        else if (formEncType === \"application/x-www-form-urlencoded\" && submission.formData) // Content-Type is inferred (https://fetch.spec.whatwg.org/#dom-request)\n        init.body = $6b1a25b8319a72de$var$convertFormDataToSearchParams(submission.formData);\n        else // Content-Type is inferred (https://fetch.spec.whatwg.org/#dom-request)\n        init.body = submission.formData;\n    }\n    return new Request(url, init);\n}\nfunction $6b1a25b8319a72de$var$convertFormDataToSearchParams(formData) {\n    let searchParams = new URLSearchParams();\n    for (let [key, value] of formData.entries())// https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#converting-an-entry-list-to-a-list-of-name-value-pairs\n    searchParams.append(key, typeof value === \"string\" ? value : value.name);\n    return searchParams;\n}\nfunction $6b1a25b8319a72de$var$convertSearchParamsToFormData(searchParams) {\n    let formData = new FormData();\n    for (let [key, value] of searchParams.entries())formData.append(key, value);\n    return formData;\n}\nfunction $6b1a25b8319a72de$var$processRouteLoaderData(matches, matchesToLoad, results, pendingError, activeDeferreds) {\n    // Fill in loaderData/errors from our loaders\n    let loaderData = {};\n    let errors = null;\n    let statusCode;\n    let foundError = false;\n    let loaderHeaders = {};\n    // Process loader results into state.loaderData/state.errors\n    results.forEach((result, index)=>{\n        let id = matchesToLoad[index].route.id;\n        $6b1a25b8319a72de$export$3e9cee6b33872309(!$6b1a25b8319a72de$var$isRedirectResult(result), \"Cannot handle redirect results in processLoaderData\");\n        if ($6b1a25b8319a72de$var$isErrorResult(result)) {\n            // Look upwards from the matched route for the closest ancestor\n            // error boundary, defaulting to the root match\n            let boundaryMatch = $6b1a25b8319a72de$var$findNearestBoundary(matches, id);\n            let error = result.error;\n            // If we have a pending action error, we report it at the highest-route\n            // that throws a loader error, and then clear it out to indicate that\n            // it was consumed\n            if (pendingError) {\n                error = Object.values(pendingError)[0];\n                pendingError = undefined;\n            }\n            errors = errors || {};\n            // Prefer higher error values if lower errors bubble to the same boundary\n            if (errors[boundaryMatch.route.id] == null) errors[boundaryMatch.route.id] = error;\n            // Clear our any prior loaderData for the throwing route\n            loaderData[id] = undefined;\n            // Once we find our first (highest) error, we set the status code and\n            // prevent deeper status codes from overriding\n            if (!foundError) {\n                foundError = true;\n                statusCode = $6b1a25b8319a72de$export$972111febbeef05b(result.error) ? result.error.status : 500;\n            }\n            if (result.headers) loaderHeaders[id] = result.headers;\n        } else {\n            if ($6b1a25b8319a72de$var$isDeferredResult(result)) {\n                activeDeferreds.set(id, result.deferredData);\n                loaderData[id] = result.deferredData.data;\n            } else loaderData[id] = result.data;\n            // Error status codes always override success status codes, but if all\n            // loaders are successful we take the deepest status code.\n            if (result.statusCode != null && result.statusCode !== 200 && !foundError) statusCode = result.statusCode;\n            if (result.headers) loaderHeaders[id] = result.headers;\n        }\n    });\n    // If we didn't consume the pending action error (i.e., all loaders\n    // resolved), then consume it here.  Also clear out any loaderData for the\n    // throwing route\n    if (pendingError) {\n        errors = pendingError;\n        loaderData[Object.keys(pendingError)[0]] = undefined;\n    }\n    return {\n        loaderData: loaderData,\n        errors: errors,\n        statusCode: statusCode || 200,\n        loaderHeaders: loaderHeaders\n    };\n}\nfunction $6b1a25b8319a72de$var$processLoaderData(state, matches, matchesToLoad, results, pendingError, revalidatingFetchers, fetcherResults, activeDeferreds) {\n    let { loaderData: loaderData, errors: errors } = $6b1a25b8319a72de$var$processRouteLoaderData(matches, matchesToLoad, results, pendingError, activeDeferreds);\n    // Process results from our revalidating fetchers\n    for(let index = 0; index < revalidatingFetchers.length; index++){\n        let { key: key, match: match, controller: controller } = revalidatingFetchers[index];\n        $6b1a25b8319a72de$export$3e9cee6b33872309(fetcherResults !== undefined && fetcherResults[index] !== undefined, \"Did not find corresponding fetcher result\");\n        let result = fetcherResults[index];\n        // Process fetcher non-redirect errors\n        if (controller && controller.signal.aborted) continue;\n        else if ($6b1a25b8319a72de$var$isErrorResult(result)) {\n            let boundaryMatch = $6b1a25b8319a72de$var$findNearestBoundary(state.matches, match == null ? void 0 : match.route.id);\n            if (!(errors && errors[boundaryMatch.route.id])) errors = $6b1a25b8319a72de$var$_extends({}, errors, {\n                [boundaryMatch.route.id]: result.error\n            });\n            state.fetchers.delete(key);\n        } else if ($6b1a25b8319a72de$var$isRedirectResult(result)) // Should never get here, redirects should get processed above, but we\n        // keep this to type narrow to a success result in the else\n        $6b1a25b8319a72de$export$3e9cee6b33872309(false, \"Unhandled fetcher revalidation redirect\");\n        else if ($6b1a25b8319a72de$var$isDeferredResult(result)) // Should never get here, deferred data should be awaited for fetchers\n        // in resolveDeferredResults\n        $6b1a25b8319a72de$export$3e9cee6b33872309(false, \"Unhandled fetcher deferred data\");\n        else {\n            let doneFetcher = $6b1a25b8319a72de$var$getDoneFetcher(result.data);\n            state.fetchers.set(key, doneFetcher);\n        }\n    }\n    return {\n        loaderData: loaderData,\n        errors: errors\n    };\n}\nfunction $6b1a25b8319a72de$var$mergeLoaderData(loaderData, newLoaderData, matches, errors) {\n    let mergedLoaderData = $6b1a25b8319a72de$var$_extends({}, newLoaderData);\n    for (let match of matches){\n        let id = match.route.id;\n        if (newLoaderData.hasOwnProperty(id)) {\n            if (newLoaderData[id] !== undefined) mergedLoaderData[id] = newLoaderData[id];\n        } else if (loaderData[id] !== undefined && match.route.loader) // Preserve existing keys not included in newLoaderData and where a loader\n        // wasn't removed by HMR\n        mergedLoaderData[id] = loaderData[id];\n        if (errors && errors.hasOwnProperty(id)) break;\n    }\n    return mergedLoaderData;\n}\n// Find the nearest error boundary, looking upwards from the leaf route (or the\n// route specified by routeId) for the closest ancestor error boundary,\n// defaulting to the root match\nfunction $6b1a25b8319a72de$var$findNearestBoundary(matches, routeId) {\n    let eligibleMatches = routeId ? matches.slice(0, matches.findIndex((m)=>m.route.id === routeId) + 1) : [\n        ...matches\n    ];\n    return eligibleMatches.reverse().find((m)=>m.route.hasErrorBoundary === true) || matches[0];\n}\nfunction $6b1a25b8319a72de$var$getShortCircuitMatches(routes) {\n    // Prefer a root layout route if present, otherwise shim in a route object\n    let route = routes.find((r)=>r.index || !r.path || r.path === \"/\") || {\n        id: \"__shim-error-route__\"\n    };\n    return {\n        matches: [\n            {\n                params: {},\n                pathname: \"\",\n                pathnameBase: \"\",\n                route: route\n            }\n        ],\n        route: route\n    };\n}\nfunction $6b1a25b8319a72de$var$getInternalRouterError(status, _temp4) {\n    let { pathname: pathname, routeId: routeId, method: method, type: type } = _temp4 === void 0 ? {} : _temp4;\n    let statusText = \"Unknown Server Error\";\n    let errorMessage = \"Unknown @remix-run/router error\";\n    if (status === 400) {\n        statusText = \"Bad Request\";\n        if (method && pathname && routeId) errorMessage = \"You made a \" + method + ' request to \"' + pathname + '\" but ' + ('did not provide a `loader` for route \"' + routeId + '\", ') + \"so there is no way to handle the request.\";\n        else if (type === \"defer-action\") errorMessage = \"defer() is not supported in actions\";\n        else if (type === \"invalid-body\") errorMessage = \"Unable to encode submission body\";\n    } else if (status === 403) {\n        statusText = \"Forbidden\";\n        errorMessage = 'Route \"' + routeId + '\" does not match URL \"' + pathname + '\"';\n    } else if (status === 404) {\n        statusText = \"Not Found\";\n        errorMessage = 'No route matches URL \"' + pathname + '\"';\n    } else if (status === 405) {\n        statusText = \"Method Not Allowed\";\n        if (method && pathname && routeId) errorMessage = \"You made a \" + method.toUpperCase() + ' request to \"' + pathname + '\" but ' + ('did not provide an `action` for route \"' + routeId + '\", ') + \"so there is no way to handle the request.\";\n        else if (method) errorMessage = 'Invalid request method \"' + method.toUpperCase() + '\"';\n    }\n    return new $6b1a25b8319a72de$export$acf1a680051f5031(status || 500, statusText, new Error(errorMessage), true);\n}\n// Find any returned redirect errors, starting from the lowest match\nfunction $6b1a25b8319a72de$var$findRedirect(results) {\n    for(let i = results.length - 1; i >= 0; i--){\n        let result = results[i];\n        if ($6b1a25b8319a72de$var$isRedirectResult(result)) return {\n            result: result,\n            idx: i\n        };\n    }\n}\nfunction $6b1a25b8319a72de$var$stripHashFromPath(path) {\n    let parsedPath = typeof path === \"string\" ? $6b1a25b8319a72de$export$8ccf933b0513f8d0(path) : path;\n    return $6b1a25b8319a72de$export$fe53371bee54353d($6b1a25b8319a72de$var$_extends({}, parsedPath, {\n        hash: \"\"\n    }));\n}\nfunction $6b1a25b8319a72de$var$isHashChangeOnly(a, b) {\n    if (a.pathname !== b.pathname || a.search !== b.search) return false;\n    if (a.hash === \"\") // /page -> /page#hash\n    return b.hash !== \"\";\n    else if (a.hash === b.hash) // /page#hash -> /page#hash\n    return true;\n    else if (b.hash !== \"\") // /page#hash -> /page#other\n    return true;\n    // If the hash is removed the browser will re-perform a request to the server\n    // /page#hash -> /page\n    return false;\n}\nfunction $6b1a25b8319a72de$var$isDeferredResult(result) {\n    return result.type === $6b1a25b8319a72de$var$ResultType.deferred;\n}\nfunction $6b1a25b8319a72de$var$isErrorResult(result) {\n    return result.type === $6b1a25b8319a72de$var$ResultType.error;\n}\nfunction $6b1a25b8319a72de$var$isRedirectResult(result) {\n    return (result && result.type) === $6b1a25b8319a72de$var$ResultType.redirect;\n}\nfunction $6b1a25b8319a72de$export$fbcedacb60443473(value) {\n    let deferred = value;\n    return deferred && typeof deferred === \"object\" && typeof deferred.data === \"object\" && typeof deferred.subscribe === \"function\" && typeof deferred.cancel === \"function\" && typeof deferred.resolveData === \"function\";\n}\nfunction $6b1a25b8319a72de$var$isResponse(value) {\n    return value != null && typeof value.status === \"number\" && typeof value.statusText === \"string\" && typeof value.headers === \"object\" && typeof value.body !== \"undefined\";\n}\nfunction $6b1a25b8319a72de$var$isRedirectResponse(result) {\n    if (!$6b1a25b8319a72de$var$isResponse(result)) return false;\n    let status = result.status;\n    let location = result.headers.get(\"Location\");\n    return status >= 300 && status <= 399 && location != null;\n}\nfunction $6b1a25b8319a72de$var$isQueryRouteResponse(obj) {\n    return obj && $6b1a25b8319a72de$var$isResponse(obj.response) && (obj.type === $6b1a25b8319a72de$var$ResultType.data || obj.type === $6b1a25b8319a72de$var$ResultType.error);\n}\nfunction $6b1a25b8319a72de$var$isValidMethod(method) {\n    return $6b1a25b8319a72de$var$validRequestMethods.has(method.toLowerCase());\n}\nfunction $6b1a25b8319a72de$var$isMutationMethod(method) {\n    return $6b1a25b8319a72de$var$validMutationMethods.has(method.toLowerCase());\n}\nasync function $6b1a25b8319a72de$var$resolveDeferredResults(currentMatches, matchesToLoad, results, signals, isFetcher, currentLoaderData) {\n    for(let index = 0; index < results.length; index++){\n        let result = results[index];\n        let match = matchesToLoad[index];\n        // If we don't have a match, then we can have a deferred result to do\n        // anything with.  This is for revalidating fetchers where the route was\n        // removed during HMR\n        if (!match) continue;\n        let currentMatch = currentMatches.find((m)=>m.route.id === match.route.id);\n        let isRevalidatingLoader = currentMatch != null && !$6b1a25b8319a72de$var$isNewRouteInstance(currentMatch, match) && (currentLoaderData && currentLoaderData[match.route.id]) !== undefined;\n        if ($6b1a25b8319a72de$var$isDeferredResult(result) && (isFetcher || isRevalidatingLoader)) {\n            // Note: we do not have to touch activeDeferreds here since we race them\n            // against the signal in resolveDeferredData and they'll get aborted\n            // there if needed\n            let signal = signals[index];\n            $6b1a25b8319a72de$export$3e9cee6b33872309(signal, \"Expected an AbortSignal for revalidating fetcher deferred result\");\n            await $6b1a25b8319a72de$var$resolveDeferredData(result, signal, isFetcher).then((result)=>{\n                if (result) results[index] = result || results[index];\n            });\n        }\n    }\n}\nasync function $6b1a25b8319a72de$var$resolveDeferredData(result, signal, unwrap) {\n    if (unwrap === void 0) unwrap = false;\n    let aborted = await result.deferredData.resolveData(signal);\n    if (aborted) return;\n    if (unwrap) try {\n        return {\n            type: $6b1a25b8319a72de$var$ResultType.data,\n            data: result.deferredData.unwrappedData\n        };\n    } catch (e) {\n        // Handle any TrackedPromise._error values encountered while unwrapping\n        return {\n            type: $6b1a25b8319a72de$var$ResultType.error,\n            error: e\n        };\n    }\n    return {\n        type: $6b1a25b8319a72de$var$ResultType.data,\n        data: result.deferredData.data\n    };\n}\nfunction $6b1a25b8319a72de$var$hasNakedIndexQuery(search) {\n    return new URLSearchParams(search).getAll(\"index\").some((v)=>v === \"\");\n}\n// Note: This should match the format exported by useMatches, so if you change\n// this please also change that :)  Eventually we'll DRY this up\nfunction $6b1a25b8319a72de$var$createUseMatchesMatch(match, loaderData) {\n    let { route: route, pathname: pathname, params: params } = match;\n    return {\n        id: route.id,\n        pathname: pathname,\n        params: params,\n        data: loaderData[route.id],\n        handle: route.handle\n    };\n}\nfunction $6b1a25b8319a72de$var$getTargetMatch(matches, location) {\n    let search = typeof location === \"string\" ? $6b1a25b8319a72de$export$8ccf933b0513f8d0(location).search : location.search;\n    if (matches[matches.length - 1].route.index && $6b1a25b8319a72de$var$hasNakedIndexQuery(search || \"\")) // Return the leaf index route when index is present\n    return matches[matches.length - 1];\n    // Otherwise grab the deepest \"path contributing\" match (ignoring index and\n    // pathless layout routes)\n    let pathMatches = $6b1a25b8319a72de$export$90ba53ce1c7fdff2(matches);\n    return pathMatches[pathMatches.length - 1];\n}\nfunction $6b1a25b8319a72de$var$getSubmissionFromNavigation(navigation) {\n    let { formMethod: formMethod, formAction: formAction, formEncType: formEncType, text: text, formData: formData, json: json } = navigation;\n    if (!formMethod || !formAction || !formEncType) return;\n    if (text != null) return {\n        formMethod: formMethod,\n        formAction: formAction,\n        formEncType: formEncType,\n        formData: undefined,\n        json: undefined,\n        text: text\n    };\n    else if (formData != null) return {\n        formMethod: formMethod,\n        formAction: formAction,\n        formEncType: formEncType,\n        formData: formData,\n        json: undefined,\n        text: undefined\n    };\n    else if (json !== undefined) return {\n        formMethod: formMethod,\n        formAction: formAction,\n        formEncType: formEncType,\n        formData: undefined,\n        json: json,\n        text: undefined\n    };\n}\nfunction $6b1a25b8319a72de$var$getLoadingNavigation(location, submission) {\n    if (submission) {\n        let navigation = {\n            state: \"loading\",\n            location: location,\n            formMethod: submission.formMethod,\n            formAction: submission.formAction,\n            formEncType: submission.formEncType,\n            formData: submission.formData,\n            json: submission.json,\n            text: submission.text\n        };\n        return navigation;\n    } else {\n        let navigation = {\n            state: \"loading\",\n            location: location,\n            formMethod: undefined,\n            formAction: undefined,\n            formEncType: undefined,\n            formData: undefined,\n            json: undefined,\n            text: undefined\n        };\n        return navigation;\n    }\n}\nfunction $6b1a25b8319a72de$var$getSubmittingNavigation(location, submission) {\n    let navigation = {\n        state: \"submitting\",\n        location: location,\n        formMethod: submission.formMethod,\n        formAction: submission.formAction,\n        formEncType: submission.formEncType,\n        formData: submission.formData,\n        json: submission.json,\n        text: submission.text\n    };\n    return navigation;\n}\nfunction $6b1a25b8319a72de$var$getLoadingFetcher(submission, data) {\n    if (submission) {\n        let fetcher = {\n            state: \"loading\",\n            formMethod: submission.formMethod,\n            formAction: submission.formAction,\n            formEncType: submission.formEncType,\n            formData: submission.formData,\n            json: submission.json,\n            text: submission.text,\n            data: data,\n            \" _hasFetcherDoneAnything \": true\n        };\n        return fetcher;\n    } else {\n        let fetcher = {\n            state: \"loading\",\n            formMethod: undefined,\n            formAction: undefined,\n            formEncType: undefined,\n            formData: undefined,\n            json: undefined,\n            text: undefined,\n            data: data,\n            \" _hasFetcherDoneAnything \": true\n        };\n        return fetcher;\n    }\n}\nfunction $6b1a25b8319a72de$var$getSubmittingFetcher(submission, existingFetcher) {\n    let fetcher = {\n        state: \"submitting\",\n        formMethod: submission.formMethod,\n        formAction: submission.formAction,\n        formEncType: submission.formEncType,\n        formData: submission.formData,\n        json: submission.json,\n        text: submission.text,\n        data: existingFetcher ? existingFetcher.data : undefined,\n        \" _hasFetcherDoneAnything \": true\n    };\n    return fetcher;\n}\nfunction $6b1a25b8319a72de$var$getDoneFetcher(data) {\n    let fetcher = {\n        state: \"idle\",\n        formMethod: undefined,\n        formAction: undefined,\n        formEncType: undefined,\n        formData: undefined,\n        json: undefined,\n        text: undefined,\n        data: data,\n        \" _hasFetcherDoneAnything \": true\n    };\n    return fetcher;\n}\n\n\nfunction $405e09292ddca27f$var$_extends() {\n    $405e09292ddca27f$var$_extends = Object.assign ? Object.assign.bind() : function(target) {\n        for(var i = 1; i < arguments.length; i++){\n            var source = arguments[i];\n            for(var key in source)if (Object.prototype.hasOwnProperty.call(source, key)) target[key] = source[key];\n        }\n        return target;\n    };\n    return $405e09292ddca27f$var$_extends.apply(this, arguments);\n}\n// Create react-specific types from the agnostic types in @remix-run/router to\n// export from react-router\nconst $405e09292ddca27f$export$3add0d5dce533e2e = /*#__PURE__*/ $c9d322eeb636f8e5$exports.createContext(null);\nconst $405e09292ddca27f$export$145dfa71566a64dc = /*#__PURE__*/ $c9d322eeb636f8e5$exports.createContext(null);\nconst $405e09292ddca27f$var$AwaitContext = /*#__PURE__*/ $c9d322eeb636f8e5$exports.createContext(null);\n/**\n * A Navigator is a \"location changer\"; it's how you get to different locations.\n *\n * Every history instance conforms to the Navigator interface, but the\n * distinction is useful primarily when it comes to the low-level <Router> API\n * where both the location and a navigator must be provided separately in order\n * to avoid \"tearing\" that may occur in a suspense-enabled app if the action\n * and/or location were to be read directly from the history instance.\n */ const $405e09292ddca27f$export$26749e8557646306 = /*#__PURE__*/ $c9d322eeb636f8e5$exports.createContext(null);\nconst $405e09292ddca27f$export$c7914228fb69b0f5 = /*#__PURE__*/ $c9d322eeb636f8e5$exports.createContext(null);\nconst $405e09292ddca27f$export$9072aa6dd1f93057 = /*#__PURE__*/ $c9d322eeb636f8e5$exports.createContext({\n    outlet: null,\n    matches: [],\n    isDataRoute: false\n});\nconst $405e09292ddca27f$var$RouteErrorContext = /*#__PURE__*/ $c9d322eeb636f8e5$exports.createContext(null);\n/**\n * Returns the full href for the given \"to\" value. This is useful for building\n * custom links that are also accessible and preserve right-click behavior.\n *\n * @see https://reactrouter.com/hooks/use-href\n */ function $405e09292ddca27f$export$b66bb29c5006f12f(to, _temp) {\n    let { relative: relative } = _temp === void 0 ? {} : _temp;\n    !$405e09292ddca27f$export$9c954a9d03d32f4a() && (0, $6b1a25b8319a72de$export$3e9cee6b33872309)(false);\n    let { basename: basename, navigator: navigator } = $c9d322eeb636f8e5$exports.useContext($405e09292ddca27f$export$26749e8557646306);\n    let { hash: hash, pathname: pathname, search: search } = $405e09292ddca27f$export$e75d2a2d1b3c245b(to, {\n        relative: relative\n    });\n    let joinedPathname = pathname;\n    // If we're operating within a basename, prepend it to the pathname prior\n    // to creating the href.  If this is a root navigation, then just use the raw\n    // basename which allows the basename to have full control over the presence\n    // of a trailing slash on root links\n    if (basename !== \"/\") joinedPathname = pathname === \"/\" ? basename : (0, $6b1a25b8319a72de$export$86d9a7913e44197e)([\n        basename,\n        pathname\n    ]);\n    return navigator.createHref({\n        pathname: joinedPathname,\n        search: search,\n        hash: hash\n    });\n}\n/**\n * Returns true if this component is a descendant of a <Router>.\n *\n * @see https://reactrouter.com/hooks/use-in-router-context\n */ function $405e09292ddca27f$export$9c954a9d03d32f4a() {\n    return $c9d322eeb636f8e5$exports.useContext($405e09292ddca27f$export$c7914228fb69b0f5) != null;\n}\n/**\n * Returns the current location object, which represents the current URL in web\n * browsers.\n *\n * Note: If you're using this it may mean you're doing some of your own\n * \"routing\" in your app, and we'd like to know what your use case is. We may\n * be able to provide something higher-level to better suit your needs.\n *\n * @see https://reactrouter.com/hooks/use-location\n */ function $405e09292ddca27f$export$45d76561a5302f2b() {\n    !$405e09292ddca27f$export$9c954a9d03d32f4a() && (0, $6b1a25b8319a72de$export$3e9cee6b33872309)(false);\n    return $c9d322eeb636f8e5$exports.useContext($405e09292ddca27f$export$c7914228fb69b0f5).location;\n}\n/**\n * Returns the current navigation action which describes how the router came to\n * the current location, either by a pop, push, or replace on the history stack.\n *\n * @see https://reactrouter.com/hooks/use-navigation-type\n */ function $405e09292ddca27f$export$1b3f31771c5d07c() {\n    return $c9d322eeb636f8e5$exports.useContext($405e09292ddca27f$export$c7914228fb69b0f5).navigationType;\n}\n/**\n * Returns a PathMatch object if the given pattern matches the current URL.\n * This is useful for components that need to know \"active\" state, e.g.\n * <NavLink>.\n *\n * @see https://reactrouter.com/hooks/use-match\n */ function $405e09292ddca27f$export$6c330e8992e8a295(pattern) {\n    !$405e09292ddca27f$export$9c954a9d03d32f4a() && (0, $6b1a25b8319a72de$export$3e9cee6b33872309)(false);\n    let { pathname: pathname } = $405e09292ddca27f$export$45d76561a5302f2b();\n    return $c9d322eeb636f8e5$exports.useMemo(()=>(0, $6b1a25b8319a72de$export$81336c211d5ff295)(pattern, pathname), [\n        pathname,\n        pattern\n    ]);\n}\n/**\n * The interface for the navigate() function returned from useNavigate().\n */ const $405e09292ddca27f$var$navigateEffectWarning = \"You should call navigate() in a React.useEffect(), not when your component is first rendered.\";\n// Mute warnings for calls to useNavigate in SSR environments\nfunction $405e09292ddca27f$var$useIsomorphicLayoutEffect(cb) {\n    let isStatic = $c9d322eeb636f8e5$exports.useContext($405e09292ddca27f$export$26749e8557646306).static;\n    if (!isStatic) // We should be able to get rid of this once react 18.3 is released\n    // See: https://github.com/facebook/react/pull/26395\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    $c9d322eeb636f8e5$exports.useLayoutEffect(cb);\n}\n/**\n * Returns an imperative method for changing the location. Used by <Link>s, but\n * may also be used by other elements to change the location.\n *\n * @see https://reactrouter.com/hooks/use-navigate\n */ function $405e09292ddca27f$export$9770f232ac06a008() {\n    let { isDataRoute: isDataRoute } = $c9d322eeb636f8e5$exports.useContext($405e09292ddca27f$export$9072aa6dd1f93057);\n    // Conditional usage is OK here because the usage of a data router is static\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    return isDataRoute ? $405e09292ddca27f$var$useNavigateStable() : $405e09292ddca27f$var$useNavigateUnstable();\n}\nfunction $405e09292ddca27f$var$useNavigateUnstable() {\n    !$405e09292ddca27f$export$9c954a9d03d32f4a() && (0, $6b1a25b8319a72de$export$3e9cee6b33872309)(false);\n    let dataRouterContext = $c9d322eeb636f8e5$exports.useContext($405e09292ddca27f$export$3add0d5dce533e2e);\n    let { basename: basename, navigator: navigator } = $c9d322eeb636f8e5$exports.useContext($405e09292ddca27f$export$26749e8557646306);\n    let { matches: matches } = $c9d322eeb636f8e5$exports.useContext($405e09292ddca27f$export$9072aa6dd1f93057);\n    let { pathname: locationPathname } = $405e09292ddca27f$export$45d76561a5302f2b();\n    let routePathnamesJson = JSON.stringify((0, $6b1a25b8319a72de$export$90ba53ce1c7fdff2)(matches).map((match)=>match.pathnameBase));\n    let activeRef = $c9d322eeb636f8e5$exports.useRef(false);\n    $405e09292ddca27f$var$useIsomorphicLayoutEffect(()=>{\n        activeRef.current = true;\n    });\n    let navigate = $c9d322eeb636f8e5$exports.useCallback(function(to, options) {\n        if (options === void 0) options = {};\n        // Short circuit here since if this happens on first render the navigate\n        // is useless because we haven't wired up our history listener yet\n        if (!activeRef.current) return;\n        if (typeof to === \"number\") {\n            navigator.go(to);\n            return;\n        }\n        let path = (0, $6b1a25b8319a72de$export$cae722b0cc860f13)(to, JSON.parse(routePathnamesJson), locationPathname, options.relative === \"path\");\n        // If we're operating within a basename, prepend it to the pathname prior\n        // to handing off to history (but only if we're not in a data router,\n        // otherwise it'll prepend the basename inside of the router).\n        // If this is a root navigation, then we navigate to the raw basename\n        // which allows the basename to have full control over the presence of a\n        // trailing slash on root links\n        if (dataRouterContext == null && basename !== \"/\") path.pathname = path.pathname === \"/\" ? basename : (0, $6b1a25b8319a72de$export$86d9a7913e44197e)([\n            basename,\n            path.pathname\n        ]);\n        (!!options.replace ? navigator.replace : navigator.push)(path, options.state, options);\n    }, [\n        basename,\n        navigator,\n        routePathnamesJson,\n        locationPathname,\n        dataRouterContext\n    ]);\n    return navigate;\n}\nconst $405e09292ddca27f$var$OutletContext = /*#__PURE__*/ $c9d322eeb636f8e5$exports.createContext(null);\n/**\n * Returns the context (if provided) for the child route at this level of the route\n * hierarchy.\n * @see https://reactrouter.com/hooks/use-outlet-context\n */ function $405e09292ddca27f$export$4138103a3ae699cc() {\n    return $c9d322eeb636f8e5$exports.useContext($405e09292ddca27f$var$OutletContext);\n}\n/**\n * Returns the element for the child route at this level of the route\n * hierarchy. Used internally by <Outlet> to render child routes.\n *\n * @see https://reactrouter.com/hooks/use-outlet\n */ function $405e09292ddca27f$export$a3be3530d8e40d0b(context) {\n    let outlet = $c9d322eeb636f8e5$exports.useContext($405e09292ddca27f$export$9072aa6dd1f93057).outlet;\n    if (outlet) return /*#__PURE__*/ $c9d322eeb636f8e5$exports.createElement($405e09292ddca27f$var$OutletContext.Provider, {\n        value: context\n    }, outlet);\n    return outlet;\n}\n/**\n * Returns an object of key/value pairs of the dynamic params from the current\n * URL that were matched by the route path.\n *\n * @see https://reactrouter.com/hooks/use-params\n */ function $405e09292ddca27f$export$99eaa27ddbbb95ef() {\n    let { matches: matches } = $c9d322eeb636f8e5$exports.useContext($405e09292ddca27f$export$9072aa6dd1f93057);\n    let routeMatch = matches[matches.length - 1];\n    return routeMatch ? routeMatch.params : {};\n}\n/**\n * Resolves the pathname of the given `to` value against the current location.\n *\n * @see https://reactrouter.com/hooks/use-resolved-path\n */ function $405e09292ddca27f$export$e75d2a2d1b3c245b(to, _temp2) {\n    let { relative: relative } = _temp2 === void 0 ? {} : _temp2;\n    let { matches: matches } = $c9d322eeb636f8e5$exports.useContext($405e09292ddca27f$export$9072aa6dd1f93057);\n    let { pathname: locationPathname } = $405e09292ddca27f$export$45d76561a5302f2b();\n    let routePathnamesJson = JSON.stringify((0, $6b1a25b8319a72de$export$90ba53ce1c7fdff2)(matches).map((match)=>match.pathnameBase));\n    return $c9d322eeb636f8e5$exports.useMemo(()=>(0, $6b1a25b8319a72de$export$cae722b0cc860f13)(to, JSON.parse(routePathnamesJson), locationPathname, relative === \"path\"), [\n        to,\n        routePathnamesJson,\n        locationPathname,\n        relative\n    ]);\n}\n/**\n * Returns the element of the route that matched the current location, prepared\n * with the correct context to render the remainder of the route tree. Route\n * elements in the tree must render an <Outlet> to render their child route's\n * element.\n *\n * @see https://reactrouter.com/hooks/use-routes\n */ function $405e09292ddca27f$export$5d3fca4a98652595(routes, locationArg) {\n    return $405e09292ddca27f$export$5fcee62552a12fbf(routes, locationArg);\n}\n// Internal implementation with accept optional param for RouterProvider usage\nfunction $405e09292ddca27f$export$5fcee62552a12fbf(routes, locationArg, dataRouterState) {\n    !$405e09292ddca27f$export$9c954a9d03d32f4a() && (0, $6b1a25b8319a72de$export$3e9cee6b33872309)(false);\n    let { navigator: navigator } = $c9d322eeb636f8e5$exports.useContext($405e09292ddca27f$export$26749e8557646306);\n    let { matches: parentMatches } = $c9d322eeb636f8e5$exports.useContext($405e09292ddca27f$export$9072aa6dd1f93057);\n    let routeMatch = parentMatches[parentMatches.length - 1];\n    let parentParams = routeMatch ? routeMatch.params : {};\n    let parentPathname = routeMatch ? routeMatch.pathname : \"/\";\n    let parentPathnameBase = routeMatch ? routeMatch.pathnameBase : \"/\";\n    let parentRoute = routeMatch && routeMatch.route;\n    let locationFromContext = $405e09292ddca27f$export$45d76561a5302f2b();\n    let location;\n    if (locationArg) {\n        var _parsedLocationArg$pa;\n        let parsedLocationArg = typeof locationArg === \"string\" ? (0, $6b1a25b8319a72de$export$8ccf933b0513f8d0)(locationArg) : locationArg;\n        !(parentPathnameBase === \"/\" || ((_parsedLocationArg$pa = parsedLocationArg.pathname) == null ? void 0 : _parsedLocationArg$pa.startsWith(parentPathnameBase))) && (0, $6b1a25b8319a72de$export$3e9cee6b33872309)(false);\n        location = parsedLocationArg;\n    } else location = locationFromContext;\n    let pathname = location.pathname || \"/\";\n    let remainingPathname = parentPathnameBase === \"/\" ? pathname : pathname.slice(parentPathnameBase.length) || \"/\";\n    let matches = (0, $6b1a25b8319a72de$export$2708184779ceb39d)(routes, {\n        pathname: remainingPathname\n    });\n    let renderedMatches = $405e09292ddca27f$var$_renderMatches(matches && matches.map((match)=>Object.assign({}, match, {\n            params: Object.assign({}, parentParams, match.params),\n            pathname: (0, $6b1a25b8319a72de$export$86d9a7913e44197e)([\n                parentPathnameBase,\n                // Re-encode pathnames that were decoded inside matchRoutes\n                navigator.encodeLocation ? navigator.encodeLocation(match.pathname).pathname : match.pathname\n            ]),\n            pathnameBase: match.pathnameBase === \"/\" ? parentPathnameBase : (0, $6b1a25b8319a72de$export$86d9a7913e44197e)([\n                parentPathnameBase,\n                // Re-encode pathnames that were decoded inside matchRoutes\n                navigator.encodeLocation ? navigator.encodeLocation(match.pathnameBase).pathname : match.pathnameBase\n            ])\n        })), parentMatches, dataRouterState);\n    // When a user passes in a `locationArg`, the associated routes need to\n    // be wrapped in a new `LocationContext.Provider` in order for `useLocation`\n    // to use the scoped location instead of the global location.\n    if (locationArg && renderedMatches) return /*#__PURE__*/ $c9d322eeb636f8e5$exports.createElement($405e09292ddca27f$export$c7914228fb69b0f5.Provider, {\n        value: {\n            location: $405e09292ddca27f$var$_extends({\n                pathname: \"/\",\n                search: \"\",\n                hash: \"\",\n                state: null,\n                key: \"default\"\n            }, location),\n            navigationType: (0, $6b1a25b8319a72de$export$e19cd5f9376f8cee).Pop\n        }\n    }, renderedMatches);\n    return renderedMatches;\n}\nfunction $405e09292ddca27f$var$DefaultErrorComponent() {\n    let error = $405e09292ddca27f$export$ed527bf60f6e05f2();\n    let message = (0, $6b1a25b8319a72de$export$972111febbeef05b)(error) ? error.status + \" \" + error.statusText : error instanceof Error ? error.message : JSON.stringify(error);\n    let stack = error instanceof Error ? error.stack : null;\n    let lightgrey = \"rgba(200,200,200, 0.5)\";\n    let preStyles = {\n        padding: \"0.5rem\",\n        backgroundColor: lightgrey\n    };\n    let codeStyles = {\n        padding: \"2px 4px\",\n        backgroundColor: lightgrey\n    };\n    let devInfo = null;\n    return /*#__PURE__*/ $c9d322eeb636f8e5$exports.createElement($c9d322eeb636f8e5$exports.Fragment, null, /*#__PURE__*/ $c9d322eeb636f8e5$exports.createElement(\"h2\", null, \"Unexpected Application Error!\"), /*#__PURE__*/ $c9d322eeb636f8e5$exports.createElement(\"h3\", {\n        style: {\n            fontStyle: \"italic\"\n        }\n    }, message), stack ? /*#__PURE__*/ $c9d322eeb636f8e5$exports.createElement(\"pre\", {\n        style: preStyles\n    }, stack) : null, devInfo);\n}\nconst $405e09292ddca27f$var$defaultErrorElement = /*#__PURE__*/ $c9d322eeb636f8e5$exports.createElement($405e09292ddca27f$var$DefaultErrorComponent, null);\nclass $405e09292ddca27f$var$RenderErrorBoundary extends $c9d322eeb636f8e5$exports.Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            location: props.location,\n            revalidation: props.revalidation,\n            error: props.error\n        };\n    }\n    static getDerivedStateFromError(error) {\n        return {\n            error: error\n        };\n    }\n    static getDerivedStateFromProps(props, state) {\n        // When we get into an error state, the user will likely click \"back\" to the\n        // previous page that didn't have an error. Because this wraps the entire\n        // application, that will have no effect--the error page continues to display.\n        // This gives us a mechanism to recover from the error when the location changes.\n        //\n        // Whether we're in an error state or not, we update the location in state\n        // so that when we are in an error state, it gets reset when a new location\n        // comes in and the user recovers from the error.\n        if (state.location !== props.location || state.revalidation !== \"idle\" && props.revalidation === \"idle\") return {\n            error: props.error,\n            location: props.location,\n            revalidation: props.revalidation\n        };\n        // If we're not changing locations, preserve the location but still surface\n        // any new errors that may come through. We retain the existing error, we do\n        // this because the error provided from the app state may be cleared without\n        // the location changing.\n        return {\n            error: props.error || state.error,\n            location: state.location,\n            revalidation: props.revalidation || state.revalidation\n        };\n    }\n    componentDidCatch(error, errorInfo) {\n        console.error(\"React Router caught the following error during render\", error, errorInfo);\n    }\n    render() {\n        return this.state.error ? /*#__PURE__*/ $c9d322eeb636f8e5$exports.createElement($405e09292ddca27f$export$9072aa6dd1f93057.Provider, {\n            value: this.props.routeContext\n        }, /*#__PURE__*/ $c9d322eeb636f8e5$exports.createElement($405e09292ddca27f$var$RouteErrorContext.Provider, {\n            value: this.state.error,\n            children: this.props.component\n        })) : this.props.children;\n    }\n}\nfunction $405e09292ddca27f$var$RenderedRoute(_ref) {\n    let { routeContext: routeContext, match: match, children: children } = _ref;\n    let dataRouterContext = $c9d322eeb636f8e5$exports.useContext($405e09292ddca27f$export$3add0d5dce533e2e);\n    // Track how deep we got in our render pass to emulate SSR componentDidCatch\n    // in a DataStaticRouter\n    if (dataRouterContext && dataRouterContext.static && dataRouterContext.staticContext && (match.route.errorElement || match.route.ErrorBoundary)) dataRouterContext.staticContext._deepestRenderedBoundaryId = match.route.id;\n    return /*#__PURE__*/ $c9d322eeb636f8e5$exports.createElement($405e09292ddca27f$export$9072aa6dd1f93057.Provider, {\n        value: routeContext\n    }, children);\n}\nfunction $405e09292ddca27f$var$_renderMatches(matches, parentMatches, dataRouterState) {\n    var _dataRouterState2;\n    if (parentMatches === void 0) parentMatches = [];\n    if (dataRouterState === void 0) dataRouterState = null;\n    if (matches == null) {\n        var _dataRouterState;\n        if ((_dataRouterState = dataRouterState) != null && _dataRouterState.errors) // Don't bail if we have data router errors so we can render them in the\n        // boundary.  Use the pre-matched (or shimmed) matches\n        matches = dataRouterState.matches;\n        else return null;\n    }\n    let renderedMatches = matches;\n    // If we have data errors, trim matches to the highest error boundary\n    let errors = (_dataRouterState2 = dataRouterState) == null ? void 0 : _dataRouterState2.errors;\n    if (errors != null) {\n        let errorIndex = renderedMatches.findIndex((m)=>m.route.id && (errors == null ? void 0 : errors[m.route.id]));\n        !(errorIndex >= 0) && (0, $6b1a25b8319a72de$export$3e9cee6b33872309)(false);\n        renderedMatches = renderedMatches.slice(0, Math.min(renderedMatches.length, errorIndex + 1));\n    }\n    return renderedMatches.reduceRight((outlet, match, index)=>{\n        let error = match.route.id ? errors == null ? void 0 : errors[match.route.id] : null;\n        // Only data routers handle errors\n        let errorElement = null;\n        if (dataRouterState) errorElement = match.route.errorElement || $405e09292ddca27f$var$defaultErrorElement;\n        let matches = parentMatches.concat(renderedMatches.slice(0, index + 1));\n        let getChildren = ()=>{\n            let children;\n            if (error) children = errorElement;\n            else if (match.route.Component) // Note: This is a de-optimized path since React won't re-use the\n            // ReactElement since it's identity changes with each new\n            // React.createElement call.  We keep this so folks can use\n            // `<Route Component={...}>` in `<Routes>` but generally `Component`\n            // usage is only advised in `RouterProvider` when we can convert it to\n            // `element` ahead of time.\n            children = /*#__PURE__*/ $c9d322eeb636f8e5$exports.createElement(match.route.Component, null);\n            else if (match.route.element) children = match.route.element;\n            else children = outlet;\n            return /*#__PURE__*/ $c9d322eeb636f8e5$exports.createElement($405e09292ddca27f$var$RenderedRoute, {\n                match: match,\n                routeContext: {\n                    outlet: outlet,\n                    matches: matches,\n                    isDataRoute: dataRouterState != null\n                },\n                children: children\n            });\n        };\n        // Only wrap in an error boundary within data router usages when we have an\n        // ErrorBoundary/errorElement on this route.  Otherwise let it bubble up to\n        // an ancestor ErrorBoundary/errorElement\n        return dataRouterState && (match.route.ErrorBoundary || match.route.errorElement || index === 0) ? /*#__PURE__*/ $c9d322eeb636f8e5$exports.createElement($405e09292ddca27f$var$RenderErrorBoundary, {\n            location: dataRouterState.location,\n            revalidation: dataRouterState.revalidation,\n            component: errorElement,\n            error: error,\n            children: getChildren(),\n            routeContext: {\n                outlet: null,\n                matches: matches,\n                isDataRoute: true\n            }\n        }) : getChildren();\n    }, null);\n}\nvar $405e09292ddca27f$var$DataRouterHook = /*#__PURE__*/ function(DataRouterHook) {\n    DataRouterHook[\"UseBlocker\"] = \"useBlocker\";\n    DataRouterHook[\"UseRevalidator\"] = \"useRevalidator\";\n    DataRouterHook[\"UseNavigateStable\"] = \"useNavigate\";\n    return DataRouterHook;\n}($405e09292ddca27f$var$DataRouterHook || {});\nvar $405e09292ddca27f$var$DataRouterStateHook = /*#__PURE__*/ function(DataRouterStateHook) {\n    DataRouterStateHook[\"UseBlocker\"] = \"useBlocker\";\n    DataRouterStateHook[\"UseLoaderData\"] = \"useLoaderData\";\n    DataRouterStateHook[\"UseActionData\"] = \"useActionData\";\n    DataRouterStateHook[\"UseRouteError\"] = \"useRouteError\";\n    DataRouterStateHook[\"UseNavigation\"] = \"useNavigation\";\n    DataRouterStateHook[\"UseRouteLoaderData\"] = \"useRouteLoaderData\";\n    DataRouterStateHook[\"UseMatches\"] = \"useMatches\";\n    DataRouterStateHook[\"UseRevalidator\"] = \"useRevalidator\";\n    DataRouterStateHook[\"UseNavigateStable\"] = \"useNavigate\";\n    DataRouterStateHook[\"UseRouteId\"] = \"useRouteId\";\n    return DataRouterStateHook;\n}($405e09292ddca27f$var$DataRouterStateHook || {});\nfunction $405e09292ddca27f$var$getDataRouterConsoleError(hookName) {\n    return hookName + \" must be used within a data router.  See https://reactrouter.com/routers/picking-a-router.\";\n}\nfunction $405e09292ddca27f$var$useDataRouterContext(hookName) {\n    let ctx = $c9d322eeb636f8e5$exports.useContext($405e09292ddca27f$export$3add0d5dce533e2e);\n    !ctx && (0, $6b1a25b8319a72de$export$3e9cee6b33872309)(false);\n    return ctx;\n}\nfunction $405e09292ddca27f$var$useDataRouterState(hookName) {\n    let state = $c9d322eeb636f8e5$exports.useContext($405e09292ddca27f$export$145dfa71566a64dc);\n    !state && (0, $6b1a25b8319a72de$export$3e9cee6b33872309)(false);\n    return state;\n}\nfunction $405e09292ddca27f$var$useRouteContext(hookName) {\n    let route = $c9d322eeb636f8e5$exports.useContext($405e09292ddca27f$export$9072aa6dd1f93057);\n    !route && (0, $6b1a25b8319a72de$export$3e9cee6b33872309)(false);\n    return route;\n}\n// Internal version with hookName-aware debugging\nfunction $405e09292ddca27f$var$useCurrentRouteId(hookName) {\n    let route = $405e09292ddca27f$var$useRouteContext(hookName);\n    let thisRoute = route.matches[route.matches.length - 1];\n    !thisRoute.route.id && (0, $6b1a25b8319a72de$export$3e9cee6b33872309)(false);\n    return thisRoute.route.id;\n}\n/**\n * Returns the ID for the nearest contextual route\n */ function $405e09292ddca27f$export$5fc8298006ad9e58() {\n    return $405e09292ddca27f$var$useCurrentRouteId($405e09292ddca27f$var$DataRouterStateHook.UseRouteId);\n}\n/**\n * Returns the current navigation, defaulting to an \"idle\" navigation when\n * no navigation is in progress\n */ function $405e09292ddca27f$export$d0fd4b7106de2769() {\n    let state = $405e09292ddca27f$var$useDataRouterState($405e09292ddca27f$var$DataRouterStateHook.UseNavigation);\n    return state.navigation;\n}\n/**\n * Returns a revalidate function for manually triggering revalidation, as well\n * as the current state of any manual revalidations\n */ function $405e09292ddca27f$export$600dc272ed516c15() {\n    let dataRouterContext = $405e09292ddca27f$var$useDataRouterContext($405e09292ddca27f$var$DataRouterHook.UseRevalidator);\n    let state = $405e09292ddca27f$var$useDataRouterState($405e09292ddca27f$var$DataRouterStateHook.UseRevalidator);\n    return $c9d322eeb636f8e5$exports.useMemo(()=>({\n            revalidate: dataRouterContext.router.revalidate,\n            state: state.revalidation\n        }), [\n        dataRouterContext.router.revalidate,\n        state.revalidation\n    ]);\n}\n/**\n * Returns the active route matches, useful for accessing loaderData for\n * parent/child routes or the route \"handle\" property\n */ function $405e09292ddca27f$export$2378eb7f5ff86053() {\n    let { matches: matches, loaderData: loaderData } = $405e09292ddca27f$var$useDataRouterState($405e09292ddca27f$var$DataRouterStateHook.UseMatches);\n    return $c9d322eeb636f8e5$exports.useMemo(()=>matches.map((match)=>{\n            let { pathname: pathname, params: params } = match;\n            // Note: This structure matches that created by createUseMatchesMatch\n            // in the @remix-run/router , so if you change this please also change\n            // that :)  Eventually we'll DRY this up\n            return {\n                id: match.route.id,\n                pathname: pathname,\n                params: params,\n                data: loaderData[match.route.id],\n                handle: match.route.handle\n            };\n        }), [\n        matches,\n        loaderData\n    ]);\n}\n/**\n * Returns the loader data for the nearest ancestor Route loader\n */ function $405e09292ddca27f$export$1448a5050d252c4d() {\n    let state = $405e09292ddca27f$var$useDataRouterState($405e09292ddca27f$var$DataRouterStateHook.UseLoaderData);\n    let routeId = $405e09292ddca27f$var$useCurrentRouteId($405e09292ddca27f$var$DataRouterStateHook.UseLoaderData);\n    if (state.errors && state.errors[routeId] != null) {\n        console.error(\"You cannot `useLoaderData` in an errorElement (routeId: \" + routeId + \")\");\n        return undefined;\n    }\n    return state.loaderData[routeId];\n}\n/**\n * Returns the loaderData for the given routeId\n */ function $405e09292ddca27f$export$fd5d37484eab868d(routeId) {\n    let state = $405e09292ddca27f$var$useDataRouterState($405e09292ddca27f$var$DataRouterStateHook.UseRouteLoaderData);\n    return state.loaderData[routeId];\n}\n/**\n * Returns the action data for the nearest ancestor Route action\n */ function $405e09292ddca27f$export$fdc00f3f26066d5e() {\n    let state = $405e09292ddca27f$var$useDataRouterState($405e09292ddca27f$var$DataRouterStateHook.UseActionData);\n    let route = $c9d322eeb636f8e5$exports.useContext($405e09292ddca27f$export$9072aa6dd1f93057);\n    !route && (0, $6b1a25b8319a72de$export$3e9cee6b33872309)(false);\n    return Object.values((state == null ? void 0 : state.actionData) || {})[0];\n}\n/**\n * Returns the nearest ancestor Route error, which could be a loader/action\n * error or a render error.  This is intended to be called from your\n * ErrorBoundary/errorElement to display a proper error message.\n */ function $405e09292ddca27f$export$ed527bf60f6e05f2() {\n    var _state$errors;\n    let error = $c9d322eeb636f8e5$exports.useContext($405e09292ddca27f$var$RouteErrorContext);\n    let state = $405e09292ddca27f$var$useDataRouterState($405e09292ddca27f$var$DataRouterStateHook.UseRouteError);\n    let routeId = $405e09292ddca27f$var$useCurrentRouteId($405e09292ddca27f$var$DataRouterStateHook.UseRouteError);\n    // If this was a render error, we put it in a RouteError context inside\n    // of RenderErrorBoundary\n    if (error) return error;\n    // Otherwise look for errors from our data router state\n    return (_state$errors = state.errors) == null ? void 0 : _state$errors[routeId];\n}\n/**\n * Returns the happy-path data from the nearest ancestor <Await /> value\n */ function $405e09292ddca27f$export$78a72ddb39bdd145() {\n    let value = $c9d322eeb636f8e5$exports.useContext($405e09292ddca27f$var$AwaitContext);\n    return value == null ? void 0 : value._data;\n}\n/**\n * Returns the error from the nearest ancestor <Await /> value\n */ function $405e09292ddca27f$export$17f53340677d5831() {\n    let value = $c9d322eeb636f8e5$exports.useContext($405e09292ddca27f$var$AwaitContext);\n    return value == null ? void 0 : value._error;\n}\nlet $405e09292ddca27f$var$blockerId = 0;\n/**\n * Allow the application to block navigations within the SPA and present the\n * user a confirmation dialog to confirm the navigation.  Mostly used to avoid\n * using half-filled form data.  This does not handle hard-reloads or\n * cross-origin navigations.\n */ function $405e09292ddca27f$export$2af03a1de5c0910(shouldBlock) {\n    let { router: router, basename: basename } = $405e09292ddca27f$var$useDataRouterContext($405e09292ddca27f$var$DataRouterHook.UseBlocker);\n    let state = $405e09292ddca27f$var$useDataRouterState($405e09292ddca27f$var$DataRouterStateHook.UseBlocker);\n    let [blockerKey, setBlockerKey] = $c9d322eeb636f8e5$exports.useState(\"\");\n    let blockerFunction = $c9d322eeb636f8e5$exports.useCallback((arg)=>{\n        if (typeof shouldBlock !== \"function\") return !!shouldBlock;\n        if (basename === \"/\") return shouldBlock(arg);\n        // If they provided us a function and we've got an active basename, strip\n        // it from the locations we expose to the user to match the behavior of\n        // useLocation\n        let { currentLocation: currentLocation, nextLocation: nextLocation, historyAction: historyAction } = arg;\n        return shouldBlock({\n            currentLocation: $405e09292ddca27f$var$_extends({}, currentLocation, {\n                pathname: (0, $6b1a25b8319a72de$export$b69e3301ce081aa3)(currentLocation.pathname, basename) || currentLocation.pathname\n            }),\n            nextLocation: $405e09292ddca27f$var$_extends({}, nextLocation, {\n                pathname: (0, $6b1a25b8319a72de$export$b69e3301ce081aa3)(nextLocation.pathname, basename) || nextLocation.pathname\n            }),\n            historyAction: historyAction\n        });\n    }, [\n        basename,\n        shouldBlock\n    ]);\n    // This effect is in charge of blocker key assignment and deletion (which is\n    // tightly coupled to the key)\n    $c9d322eeb636f8e5$exports.useEffect(()=>{\n        let key = String(++$405e09292ddca27f$var$blockerId);\n        setBlockerKey(key);\n        return ()=>router.deleteBlocker(key);\n    }, [\n        router\n    ]);\n    // This effect handles assigning the blockerFunction.  This is to handle\n    // unstable blocker function identities, and happens only after the prior\n    // effect so we don't get an orphaned blockerFunction in the router with a\n    // key of \"\".  Until then we just have the IDLE_BLOCKER.\n    $c9d322eeb636f8e5$exports.useEffect(()=>{\n        if (blockerKey !== \"\") router.getBlocker(blockerKey, blockerFunction);\n    }, [\n        router,\n        blockerKey,\n        blockerFunction\n    ]);\n    // Prefer the blocker from `state` not `router.state` since DataRouterContext\n    // is memoized so this ensures we update on blocker state updates\n    return blockerKey && state.blockers.has(blockerKey) ? state.blockers.get(blockerKey) : (0, $6b1a25b8319a72de$export$386d57f03f0b2883);\n}\n/**\n * Stable version of useNavigate that is used when we are in the context of\n * a RouterProvider.\n */ function $405e09292ddca27f$var$useNavigateStable() {\n    let { router: router } = $405e09292ddca27f$var$useDataRouterContext($405e09292ddca27f$var$DataRouterHook.UseNavigateStable);\n    let id = $405e09292ddca27f$var$useCurrentRouteId($405e09292ddca27f$var$DataRouterStateHook.UseNavigateStable);\n    let activeRef = $c9d322eeb636f8e5$exports.useRef(false);\n    $405e09292ddca27f$var$useIsomorphicLayoutEffect(()=>{\n        activeRef.current = true;\n    });\n    let navigate = $c9d322eeb636f8e5$exports.useCallback(function(to, options) {\n        if (options === void 0) options = {};\n        // Short circuit here since if this happens on first render the navigate\n        // is useless because we haven't wired up our router subscriber yet\n        if (!activeRef.current) return;\n        if (typeof to === \"number\") router.navigate(to);\n        else router.navigate(to, $405e09292ddca27f$var$_extends({\n            fromRouteId: id\n        }, options));\n    }, [\n        router,\n        id\n    ]);\n    return navigate;\n}\nconst $405e09292ddca27f$var$alreadyWarned = {};\nfunction $405e09292ddca27f$var$warningOnce(key, cond, message) {\n    if (!cond && !$405e09292ddca27f$var$alreadyWarned[key]) $405e09292ddca27f$var$alreadyWarned[key] = true;\n}\n/**\n  Webpack + React 17 fails to compile on any of the following because webpack\n  complains that `startTransition` doesn't exist in `React`:\n  * import { startTransition } from \"react\"\n  * import * as React from from \"react\";\n    \"startTransition\" in React ? React.startTransition(() => setState()) : setState()\n  * import * as React from from \"react\";\n    \"startTransition\" in React ? React[\"startTransition\"](() => setState()) : setState()\n\n  Moving it to a constant such as the following solves the Webpack/React 17 issue:\n  * import * as React from from \"react\";\n    const START_TRANSITION = \"startTransition\";\n    START_TRANSITION in React ? React[START_TRANSITION](() => setState()) : setState()\n\n  However, that introduces webpack/terser minification issues in production builds\n  in React 18 where minification/obfuscation ends up removing the call of\n  React.startTransition entirely from the first half of the ternary.  Grabbing\n  this exported reference once up front resolves that issue.\n\n  See https://github.com/remix-run/react-router/issues/10579\n*/ const $405e09292ddca27f$var$START_TRANSITION = \"startTransition\";\nconst $405e09292ddca27f$var$startTransitionImpl = $c9d322eeb636f8e5$exports[$405e09292ddca27f$var$START_TRANSITION];\n/**\n * Given a Remix Router instance, render the appropriate UI\n */ function $405e09292ddca27f$export$323e4fc2fa4753fb(_ref) {\n    let { fallbackElement: fallbackElement, router: router, future: future } = _ref;\n    // Need to use a layout effect here so we are subscribed early enough to\n    // pick up on any render-driven redirects/navigations (useEffect/<Navigate>)\n    let [state, setStateImpl] = $c9d322eeb636f8e5$exports.useState(router.state);\n    let { v7_startTransition: v7_startTransition } = future || {};\n    let setState = $c9d322eeb636f8e5$exports.useCallback((newState)=>{\n        v7_startTransition && $405e09292ddca27f$var$startTransitionImpl ? $405e09292ddca27f$var$startTransitionImpl(()=>setStateImpl(newState)) : setStateImpl(newState);\n    }, [\n        setStateImpl,\n        v7_startTransition\n    ]);\n    $c9d322eeb636f8e5$exports.useLayoutEffect(()=>router.subscribe(setState), [\n        router,\n        setState\n    ]);\n    let navigator = $c9d322eeb636f8e5$exports.useMemo(()=>{\n        return {\n            createHref: router.createHref,\n            encodeLocation: router.encodeLocation,\n            go: (n)=>router.navigate(n),\n            push: (to, state, opts)=>router.navigate(to, {\n                    state: state,\n                    preventScrollReset: opts == null ? void 0 : opts.preventScrollReset\n                }),\n            replace: (to, state, opts)=>router.navigate(to, {\n                    replace: true,\n                    state: state,\n                    preventScrollReset: opts == null ? void 0 : opts.preventScrollReset\n                })\n        };\n    }, [\n        router\n    ]);\n    let basename = router.basename || \"/\";\n    let dataRouterContext = $c9d322eeb636f8e5$exports.useMemo(()=>({\n            router: router,\n            navigator: navigator,\n            static: false,\n            basename: basename\n        }), [\n        router,\n        navigator,\n        basename\n    ]);\n    // The fragment and {null} here are important!  We need them to keep React 18's\n    // useId happy when we are server-rendering since we may have a <script> here\n    // containing the hydrated server-side staticContext (from StaticRouterProvider).\n    // useId relies on the component tree structure to generate deterministic id's\n    // so we need to ensure it remains the same on the client even though\n    // we don't need the <script> tag\n    return /*#__PURE__*/ $c9d322eeb636f8e5$exports.createElement($c9d322eeb636f8e5$exports.Fragment, null, /*#__PURE__*/ $c9d322eeb636f8e5$exports.createElement($405e09292ddca27f$export$3add0d5dce533e2e.Provider, {\n        value: dataRouterContext\n    }, /*#__PURE__*/ $c9d322eeb636f8e5$exports.createElement($405e09292ddca27f$export$145dfa71566a64dc.Provider, {\n        value: state\n    }, /*#__PURE__*/ $c9d322eeb636f8e5$exports.createElement($405e09292ddca27f$export$55185c17a0fcbe46, {\n        basename: basename,\n        location: state.location,\n        navigationType: state.historyAction,\n        navigator: navigator\n    }, state.initialized ? /*#__PURE__*/ $c9d322eeb636f8e5$exports.createElement($405e09292ddca27f$var$DataRoutes, {\n        routes: router.routes,\n        state: state\n    }) : fallbackElement))), null);\n}\nfunction $405e09292ddca27f$var$DataRoutes(_ref2) {\n    let { routes: routes, state: state } = _ref2;\n    return $405e09292ddca27f$export$5fcee62552a12fbf(routes, undefined, state);\n}\n/**\n * A <Router> that stores all entries in memory.\n *\n * @see https://reactrouter.com/router-components/memory-router\n */ function $405e09292ddca27f$export$ae46f04cfaffe093(_ref3) {\n    let { basename: basename, children: children, initialEntries: initialEntries, initialIndex: initialIndex, future: future } = _ref3;\n    let historyRef = $c9d322eeb636f8e5$exports.useRef();\n    if (historyRef.current == null) historyRef.current = (0, $6b1a25b8319a72de$export$2b76ad033c6e6d08)({\n        initialEntries: initialEntries,\n        initialIndex: initialIndex,\n        v5Compat: true\n    });\n    let history = historyRef.current;\n    let [state, setStateImpl] = $c9d322eeb636f8e5$exports.useState({\n        action: history.action,\n        location: history.location\n    });\n    let { v7_startTransition: v7_startTransition } = future || {};\n    let setState = $c9d322eeb636f8e5$exports.useCallback((newState)=>{\n        v7_startTransition && $405e09292ddca27f$var$startTransitionImpl ? $405e09292ddca27f$var$startTransitionImpl(()=>setStateImpl(newState)) : setStateImpl(newState);\n    }, [\n        setStateImpl,\n        v7_startTransition\n    ]);\n    $c9d322eeb636f8e5$exports.useLayoutEffect(()=>history.listen(setState), [\n        history,\n        setState\n    ]);\n    return /*#__PURE__*/ $c9d322eeb636f8e5$exports.createElement($405e09292ddca27f$export$55185c17a0fcbe46, {\n        basename: basename,\n        children: children,\n        location: state.location,\n        navigationType: state.action,\n        navigator: history\n    });\n}\n/**\n * Changes the current location.\n *\n * Note: This API is mostly useful in React.Component subclasses that are not\n * able to use hooks. In functional components, we recommend you use the\n * `useNavigate` hook instead.\n *\n * @see https://reactrouter.com/components/navigate\n */ function $405e09292ddca27f$export$444b3ab0cb9aec40(_ref4) {\n    let { to: to, replace: replace, state: state, relative: relative } = _ref4;\n    !$405e09292ddca27f$export$9c954a9d03d32f4a() && (0, $6b1a25b8319a72de$export$3e9cee6b33872309)(false);\n    let { matches: matches } = $c9d322eeb636f8e5$exports.useContext($405e09292ddca27f$export$9072aa6dd1f93057);\n    let { pathname: locationPathname } = $405e09292ddca27f$export$45d76561a5302f2b();\n    let navigate = $405e09292ddca27f$export$9770f232ac06a008();\n    // Resolve the path outside of the effect so that when effects run twice in\n    // StrictMode they navigate to the same place\n    let path = (0, $6b1a25b8319a72de$export$cae722b0cc860f13)(to, (0, $6b1a25b8319a72de$export$90ba53ce1c7fdff2)(matches).map((match)=>match.pathnameBase), locationPathname, relative === \"path\");\n    let jsonPath = JSON.stringify(path);\n    $c9d322eeb636f8e5$exports.useEffect(()=>navigate(JSON.parse(jsonPath), {\n            replace: replace,\n            state: state,\n            relative: relative\n        }), [\n        navigate,\n        jsonPath,\n        relative,\n        replace,\n        state\n    ]);\n    return null;\n}\n/**\n * Renders the child route's element, if there is one.\n *\n * @see https://reactrouter.com/components/outlet\n */ function $405e09292ddca27f$export$910ae8079b2c2852(props) {\n    return $405e09292ddca27f$export$a3be3530d8e40d0b(props.context);\n}\n/**\n * Declares an element that should be rendered at a certain URL path.\n *\n * @see https://reactrouter.com/components/route\n */ function $405e09292ddca27f$export$e7b0ac011bb776c6(_props) {\n    (0, $6b1a25b8319a72de$export$3e9cee6b33872309)(false);\n}\n/**\n * Provides location context for the rest of the app.\n *\n * Note: You usually won't render a <Router> directly. Instead, you'll render a\n * router that is more specific to your environment such as a <BrowserRouter>\n * in web browsers or a <StaticRouter> for server rendering.\n *\n * @see https://reactrouter.com/router-components/router\n */ function $405e09292ddca27f$export$55185c17a0fcbe46(_ref5) {\n    let { basename: basenameProp = \"/\", children: children = null, location: locationProp, navigationType: navigationType = (0, $6b1a25b8319a72de$export$e19cd5f9376f8cee).Pop, navigator: navigator, static: staticProp = false } = _ref5;\n    !!$405e09292ddca27f$export$9c954a9d03d32f4a() && (0, $6b1a25b8319a72de$export$3e9cee6b33872309)(false);\n    // Preserve trailing slashes on basename, so we can let the user control\n    // the enforcement of trailing slashes throughout the app\n    let basename = basenameProp.replace(/^\\/*/, \"/\");\n    let navigationContext = $c9d322eeb636f8e5$exports.useMemo(()=>({\n            basename: basename,\n            navigator: navigator,\n            static: staticProp\n        }), [\n        basename,\n        navigator,\n        staticProp\n    ]);\n    if (typeof locationProp === \"string\") locationProp = (0, $6b1a25b8319a72de$export$8ccf933b0513f8d0)(locationProp);\n    let { pathname: pathname = \"/\", search: search = \"\", hash: hash = \"\", state: state = null, key: key = \"default\" } = locationProp;\n    let locationContext = $c9d322eeb636f8e5$exports.useMemo(()=>{\n        let trailingPathname = (0, $6b1a25b8319a72de$export$b69e3301ce081aa3)(pathname, basename);\n        if (trailingPathname == null) return null;\n        return {\n            location: {\n                pathname: trailingPathname,\n                search: search,\n                hash: hash,\n                state: state,\n                key: key\n            },\n            navigationType: navigationType\n        };\n    }, [\n        basename,\n        pathname,\n        search,\n        hash,\n        state,\n        key,\n        navigationType\n    ]);\n    if (locationContext == null) return null;\n    return /*#__PURE__*/ $c9d322eeb636f8e5$exports.createElement($405e09292ddca27f$export$26749e8557646306.Provider, {\n        value: navigationContext\n    }, /*#__PURE__*/ $c9d322eeb636f8e5$exports.createElement($405e09292ddca27f$export$c7914228fb69b0f5.Provider, {\n        children: children,\n        value: locationContext\n    }));\n}\n/**\n * A container for a nested tree of <Route> elements that renders the branch\n * that best matches the current location.\n *\n * @see https://reactrouter.com/components/routes\n */ function $405e09292ddca27f$export$3565eb3d00ca5a74(_ref6) {\n    let { children: children, location: location } = _ref6;\n    return $405e09292ddca27f$export$5d3fca4a98652595($405e09292ddca27f$export$16da398f5434bdec(children), location);\n}\n/**\n * Component to use for rendering lazily loaded data from returning defer()\n * in a loader function\n */ function $405e09292ddca27f$export$6ddabde395c8c576(_ref7) {\n    let { children: children, errorElement: errorElement, resolve: resolve } = _ref7;\n    return /*#__PURE__*/ $c9d322eeb636f8e5$exports.createElement($405e09292ddca27f$var$AwaitErrorBoundary, {\n        resolve: resolve,\n        errorElement: errorElement\n    }, /*#__PURE__*/ $c9d322eeb636f8e5$exports.createElement($405e09292ddca27f$var$ResolveAwait, null, children));\n}\nvar $405e09292ddca27f$var$AwaitRenderStatus = /*#__PURE__*/ function(AwaitRenderStatus) {\n    AwaitRenderStatus[AwaitRenderStatus[\"pending\"] = 0] = \"pending\";\n    AwaitRenderStatus[AwaitRenderStatus[\"success\"] = 1] = \"success\";\n    AwaitRenderStatus[AwaitRenderStatus[\"error\"] = 2] = \"error\";\n    return AwaitRenderStatus;\n}($405e09292ddca27f$var$AwaitRenderStatus || {});\nconst $405e09292ddca27f$var$neverSettledPromise = new Promise(()=>{});\nclass $405e09292ddca27f$var$AwaitErrorBoundary extends $c9d322eeb636f8e5$exports.Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            error: null\n        };\n    }\n    static getDerivedStateFromError(error) {\n        return {\n            error: error\n        };\n    }\n    componentDidCatch(error, errorInfo) {\n        console.error(\"<Await> caught the following error during render\", error, errorInfo);\n    }\n    render() {\n        let { children: children, errorElement: errorElement, resolve: resolve } = this.props;\n        let promise = null;\n        let status = $405e09292ddca27f$var$AwaitRenderStatus.pending;\n        if (!(resolve instanceof Promise)) {\n            // Didn't get a promise - provide as a resolved promise\n            status = $405e09292ddca27f$var$AwaitRenderStatus.success;\n            promise = Promise.resolve();\n            Object.defineProperty(promise, \"_tracked\", {\n                get: ()=>true\n            });\n            Object.defineProperty(promise, \"_data\", {\n                get: ()=>resolve\n            });\n        } else if (this.state.error) {\n            // Caught a render error, provide it as a rejected promise\n            status = $405e09292ddca27f$var$AwaitRenderStatus.error;\n            let renderError = this.state.error;\n            promise = Promise.reject().catch(()=>{}); // Avoid unhandled rejection warnings\n            Object.defineProperty(promise, \"_tracked\", {\n                get: ()=>true\n            });\n            Object.defineProperty(promise, \"_error\", {\n                get: ()=>renderError\n            });\n        } else if (resolve._tracked) {\n            // Already tracked promise - check contents\n            promise = resolve;\n            status = promise._error !== undefined ? $405e09292ddca27f$var$AwaitRenderStatus.error : promise._data !== undefined ? $405e09292ddca27f$var$AwaitRenderStatus.success : $405e09292ddca27f$var$AwaitRenderStatus.pending;\n        } else {\n            // Raw (untracked) promise - track it\n            status = $405e09292ddca27f$var$AwaitRenderStatus.pending;\n            Object.defineProperty(resolve, \"_tracked\", {\n                get: ()=>true\n            });\n            promise = resolve.then((data)=>Object.defineProperty(resolve, \"_data\", {\n                    get: ()=>data\n                }), (error)=>Object.defineProperty(resolve, \"_error\", {\n                    get: ()=>error\n                }));\n        }\n        if (status === $405e09292ddca27f$var$AwaitRenderStatus.error && promise._error instanceof (0, $6b1a25b8319a72de$export$42a99a7a4bc0e76a)) // Freeze the UI by throwing a never resolved promise\n        throw $405e09292ddca27f$var$neverSettledPromise;\n        if (status === $405e09292ddca27f$var$AwaitRenderStatus.error && !errorElement) // No errorElement, throw to the nearest route-level error boundary\n        throw promise._error;\n        if (status === $405e09292ddca27f$var$AwaitRenderStatus.error) // Render via our errorElement\n        return /*#__PURE__*/ $c9d322eeb636f8e5$exports.createElement($405e09292ddca27f$var$AwaitContext.Provider, {\n            value: promise,\n            children: errorElement\n        });\n        if (status === $405e09292ddca27f$var$AwaitRenderStatus.success) // Render children with resolved value\n        return /*#__PURE__*/ $c9d322eeb636f8e5$exports.createElement($405e09292ddca27f$var$AwaitContext.Provider, {\n            value: promise,\n            children: children\n        });\n        // Throw to the suspense boundary\n        throw promise;\n    }\n}\n/**\n * @private\n * Indirection to leverage useAsyncValue for a render-prop API on <Await>\n */ function $405e09292ddca27f$var$ResolveAwait(_ref8) {\n    let { children: children } = _ref8;\n    let data = $405e09292ddca27f$export$78a72ddb39bdd145();\n    let toRender = typeof children === \"function\" ? children(data) : children;\n    return /*#__PURE__*/ $c9d322eeb636f8e5$exports.createElement($c9d322eeb636f8e5$exports.Fragment, null, toRender);\n}\n///////////////////////////////////////////////////////////////////////////////\n// UTILS\n///////////////////////////////////////////////////////////////////////////////\n/**\n * Creates a route config from a React \"children\" object, which is usually\n * either a `<Route>` element or an array of them. Used internally by\n * `<Routes>` to create a route config from its children.\n *\n * @see https://reactrouter.com/utils/create-routes-from-children\n */ function $405e09292ddca27f$export$16da398f5434bdec(children, parentPath) {\n    if (parentPath === void 0) parentPath = [];\n    let routes = [];\n    $c9d322eeb636f8e5$exports.Children.forEach(children, (element, index)=>{\n        if (!/*#__PURE__*/ $c9d322eeb636f8e5$exports.isValidElement(element)) // Ignore non-elements. This allows people to more easily inline\n        // conditionals in their route config.\n        return;\n        let treePath = [\n            ...parentPath,\n            index\n        ];\n        if (element.type === $c9d322eeb636f8e5$exports.Fragment) {\n            // Transparently support React.Fragment and its children.\n            routes.push.apply(routes, $405e09292ddca27f$export$16da398f5434bdec(element.props.children, treePath));\n            return;\n        }\n        !(element.type === $405e09292ddca27f$export$e7b0ac011bb776c6) && (0, $6b1a25b8319a72de$export$3e9cee6b33872309)(false);\n        !(!element.props.index || !element.props.children) && (0, $6b1a25b8319a72de$export$3e9cee6b33872309)(false);\n        let route = {\n            id: element.props.id || treePath.join(\"-\"),\n            caseSensitive: element.props.caseSensitive,\n            element: element.props.element,\n            Component: element.props.Component,\n            index: element.props.index,\n            path: element.props.path,\n            loader: element.props.loader,\n            action: element.props.action,\n            errorElement: element.props.errorElement,\n            ErrorBoundary: element.props.ErrorBoundary,\n            hasErrorBoundary: element.props.ErrorBoundary != null || element.props.errorElement != null,\n            shouldRevalidate: element.props.shouldRevalidate,\n            handle: element.props.handle,\n            lazy: element.props.lazy\n        };\n        if (element.props.children) route.children = $405e09292ddca27f$export$16da398f5434bdec(element.props.children, treePath);\n        routes.push(route);\n    });\n    return routes;\n}\n/**\n * Renders the result of `matchRoutes()` into a React element.\n */ function $405e09292ddca27f$export$daf73786167a7f72(matches) {\n    return $405e09292ddca27f$var$_renderMatches(matches);\n}\nfunction $405e09292ddca27f$export$52b333d321859367(route) {\n    let updates = {\n        // Note: this check also occurs in createRoutesFromChildren so update\n        // there if you change this -- please and thank you!\n        hasErrorBoundary: route.ErrorBoundary != null || route.errorElement != null\n    };\n    if (route.Component) Object.assign(updates, {\n        element: /*#__PURE__*/ $c9d322eeb636f8e5$exports.createElement(route.Component),\n        Component: undefined\n    });\n    if (route.ErrorBoundary) Object.assign(updates, {\n        errorElement: /*#__PURE__*/ $c9d322eeb636f8e5$exports.createElement(route.ErrorBoundary),\n        ErrorBoundary: undefined\n    });\n    return updates;\n}\nfunction $405e09292ddca27f$export$f30f7e456d254e83(routes, opts) {\n    return (0, $6b1a25b8319a72de$export$baddd0131ee8c05b)({\n        basename: opts == null ? void 0 : opts.basename,\n        future: $405e09292ddca27f$var$_extends({}, opts == null ? void 0 : opts.future, {\n            v7_prependBasename: true\n        }),\n        history: (0, $6b1a25b8319a72de$export$2b76ad033c6e6d08)({\n            initialEntries: opts == null ? void 0 : opts.initialEntries,\n            initialIndex: opts == null ? void 0 : opts.initialIndex\n        }),\n        hydrationData: opts == null ? void 0 : opts.hydrationData,\n        routes: routes,\n        mapRouteProperties: $405e09292ddca27f$export$52b333d321859367\n    }).initialize();\n}\n\n\n\nfunction $4a6806eb551925a6$var$_extends() {\n    $4a6806eb551925a6$var$_extends = Object.assign ? Object.assign.bind() : function(target) {\n        for(var i = 1; i < arguments.length; i++){\n            var source = arguments[i];\n            for(var key in source)if (Object.prototype.hasOwnProperty.call(source, key)) target[key] = source[key];\n        }\n        return target;\n    };\n    return $4a6806eb551925a6$var$_extends.apply(this, arguments);\n}\nfunction $4a6806eb551925a6$var$_objectWithoutPropertiesLoose(source, excluded) {\n    if (source == null) return {};\n    var target = {};\n    var sourceKeys = Object.keys(source);\n    var key, i;\n    for(i = 0; i < sourceKeys.length; i++){\n        key = sourceKeys[i];\n        if (excluded.indexOf(key) >= 0) continue;\n        target[key] = source[key];\n    }\n    return target;\n}\nconst $4a6806eb551925a6$var$defaultMethod = \"get\";\nconst $4a6806eb551925a6$var$defaultEncType = \"application/x-www-form-urlencoded\";\nfunction $4a6806eb551925a6$var$isHtmlElement(object) {\n    return object != null && typeof object.tagName === \"string\";\n}\nfunction $4a6806eb551925a6$var$isButtonElement(object) {\n    return $4a6806eb551925a6$var$isHtmlElement(object) && object.tagName.toLowerCase() === \"button\";\n}\nfunction $4a6806eb551925a6$var$isFormElement(object) {\n    return $4a6806eb551925a6$var$isHtmlElement(object) && object.tagName.toLowerCase() === \"form\";\n}\nfunction $4a6806eb551925a6$var$isInputElement(object) {\n    return $4a6806eb551925a6$var$isHtmlElement(object) && object.tagName.toLowerCase() === \"input\";\n}\nfunction $4a6806eb551925a6$var$isModifiedEvent(event) {\n    return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n}\nfunction $4a6806eb551925a6$var$shouldProcessLinkClick(event, target) {\n    return event.button === 0 && // Ignore everything but left clicks\n    (!target || target === \"_self\") && // Let browser handle \"target=_blank\" etc.\n    !$4a6806eb551925a6$var$isModifiedEvent(event) // Ignore clicks with modifier keys\n    ;\n}\n/**\n * Creates a URLSearchParams object using the given initializer.\n *\n * This is identical to `new URLSearchParams(init)` except it also\n * supports arrays as values in the object form of the initializer\n * instead of just strings. This is convenient when you need multiple\n * values for a given key, but don't want to use an array initializer.\n *\n * For example, instead of:\n *\n *   let searchParams = new URLSearchParams([\n *     ['sort', 'name'],\n *     ['sort', 'price']\n *   ]);\n *\n * you can do:\n *\n *   let searchParams = createSearchParams({\n *     sort: ['name', 'price']\n *   });\n */ function $4a6806eb551925a6$export$a2e4e2dcc7b1f22f(init) {\n    if (init === void 0) init = \"\";\n    return new URLSearchParams(typeof init === \"string\" || Array.isArray(init) || init instanceof URLSearchParams ? init : Object.keys(init).reduce((memo, key)=>{\n        let value = init[key];\n        return memo.concat(Array.isArray(value) ? value.map((v)=>[\n                key,\n                v\n            ]) : [\n            [\n                key,\n                value\n            ]\n        ]);\n    }, []));\n}\nfunction $4a6806eb551925a6$var$getSearchParamsForLocation(locationSearch, defaultSearchParams) {\n    let searchParams = $4a6806eb551925a6$export$a2e4e2dcc7b1f22f(locationSearch);\n    if (defaultSearchParams) // Use `defaultSearchParams.forEach(...)` here instead of iterating of\n    // `defaultSearchParams.keys()` to work-around a bug in Firefox related to\n    // web extensions. Relevant Bugzilla tickets:\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=1414602\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=1023984\n    defaultSearchParams.forEach((_, key)=>{\n        if (!searchParams.has(key)) defaultSearchParams.getAll(key).forEach((value)=>{\n            searchParams.append(key, value);\n        });\n    });\n    return searchParams;\n}\n// One-time check for submitter support\nlet $4a6806eb551925a6$var$_formDataSupportsSubmitter = null;\nfunction $4a6806eb551925a6$var$isFormDataSubmitterSupported() {\n    if ($4a6806eb551925a6$var$_formDataSupportsSubmitter === null) try {\n        new FormData(document.createElement(\"form\"), // @ts-expect-error if FormData supports the submitter parameter, this will throw\n        0);\n        $4a6806eb551925a6$var$_formDataSupportsSubmitter = false;\n    } catch (e) {\n        $4a6806eb551925a6$var$_formDataSupportsSubmitter = true;\n    }\n    return $4a6806eb551925a6$var$_formDataSupportsSubmitter;\n}\nconst $4a6806eb551925a6$var$supportedFormEncTypes = new Set([\n    \"application/x-www-form-urlencoded\",\n    \"multipart/form-data\",\n    \"text/plain\"\n]);\nfunction $4a6806eb551925a6$var$getFormEncType(encType) {\n    if (encType != null && !$4a6806eb551925a6$var$supportedFormEncTypes.has(encType)) return null;\n    return encType;\n}\nfunction $4a6806eb551925a6$var$getFormSubmissionInfo(target, basename) {\n    let method;\n    let action;\n    let encType;\n    let formData;\n    let body;\n    if ($4a6806eb551925a6$var$isFormElement(target)) {\n        // When grabbing the action from the element, it will have had the basename\n        // prefixed to ensure non-JS scenarios work, so strip it since we'll\n        // re-prefix in the router\n        let attr = target.getAttribute(\"action\");\n        action = attr ? (0, $6b1a25b8319a72de$export$b69e3301ce081aa3)(attr, basename) : null;\n        method = target.getAttribute(\"method\") || $4a6806eb551925a6$var$defaultMethod;\n        encType = $4a6806eb551925a6$var$getFormEncType(target.getAttribute(\"enctype\")) || $4a6806eb551925a6$var$defaultEncType;\n        formData = new FormData(target);\n    } else if ($4a6806eb551925a6$var$isButtonElement(target) || $4a6806eb551925a6$var$isInputElement(target) && (target.type === \"submit\" || target.type === \"image\")) {\n        let form = target.form;\n        if (form == null) throw new Error('Cannot submit a <button> or <input type=\"submit\"> without a <form>');\n        // <button>/<input type=\"submit\"> may override attributes of <form>\n        // When grabbing the action from the element, it will have had the basename\n        // prefixed to ensure non-JS scenarios work, so strip it since we'll\n        // re-prefix in the router\n        let attr = target.getAttribute(\"formaction\") || form.getAttribute(\"action\");\n        action = attr ? (0, $6b1a25b8319a72de$export$b69e3301ce081aa3)(attr, basename) : null;\n        method = target.getAttribute(\"formmethod\") || form.getAttribute(\"method\") || $4a6806eb551925a6$var$defaultMethod;\n        encType = $4a6806eb551925a6$var$getFormEncType(target.getAttribute(\"formenctype\")) || $4a6806eb551925a6$var$getFormEncType(form.getAttribute(\"enctype\")) || $4a6806eb551925a6$var$defaultEncType;\n        // Build a FormData object populated from a form and submitter\n        formData = new FormData(form, target);\n        // If this browser doesn't support the `FormData(el, submitter)` format,\n        // then tack on the submitter value at the end.  This is a lightweight\n        // solution that is not 100% spec compliant.  For complete support in older\n        // browsers, consider using the `formdata-submitter-polyfill` package\n        if (!$4a6806eb551925a6$var$isFormDataSubmitterSupported()) {\n            let { name: name, type: type, value: value } = target;\n            if (type === \"image\") {\n                let prefix = name ? name + \".\" : \"\";\n                formData.append(prefix + \"x\", \"0\");\n                formData.append(prefix + \"y\", \"0\");\n            } else if (name) formData.append(name, value);\n        }\n    } else if ($4a6806eb551925a6$var$isHtmlElement(target)) throw new Error('Cannot submit element that is not <form>, <button>, or <input type=\"submit|image\">');\n    else {\n        method = $4a6806eb551925a6$var$defaultMethod;\n        action = null;\n        encType = $4a6806eb551925a6$var$defaultEncType;\n        body = target;\n    }\n    // Send body for <Form encType=\"text/plain\" so we encode it into text\n    if (formData && encType === \"text/plain\") {\n        body = formData;\n        formData = undefined;\n    }\n    return {\n        action: action,\n        method: method.toLowerCase(),\n        encType: encType,\n        formData: formData,\n        body: body\n    };\n}\nconst $4a6806eb551925a6$var$_excluded = [\n    \"onClick\",\n    \"relative\",\n    \"reloadDocument\",\n    \"replace\",\n    \"state\",\n    \"target\",\n    \"to\",\n    \"preventScrollReset\"\n], $4a6806eb551925a6$var$_excluded2 = [\n    \"aria-current\",\n    \"caseSensitive\",\n    \"className\",\n    \"end\",\n    \"style\",\n    \"to\",\n    \"children\"\n], $4a6806eb551925a6$var$_excluded3 = [\n    \"reloadDocument\",\n    \"replace\",\n    \"state\",\n    \"method\",\n    \"action\",\n    \"onSubmit\",\n    \"submit\",\n    \"relative\",\n    \"preventScrollReset\"\n];\nfunction $4a6806eb551925a6$export$1f3f55432a00e06d(routes, opts) {\n    return (0, $6b1a25b8319a72de$export$baddd0131ee8c05b)({\n        basename: opts == null ? void 0 : opts.basename,\n        future: $4a6806eb551925a6$var$_extends({}, opts == null ? void 0 : opts.future, {\n            v7_prependBasename: true\n        }),\n        history: (0, $6b1a25b8319a72de$export$719fc203c4e16dee)({\n            window: opts == null ? void 0 : opts.window\n        }),\n        hydrationData: (opts == null ? void 0 : opts.hydrationData) || $4a6806eb551925a6$var$parseHydrationData(),\n        routes: routes,\n        mapRouteProperties: (0, $405e09292ddca27f$export$52b333d321859367)\n    }).initialize();\n}\nfunction $4a6806eb551925a6$export$1ba7ed8a3a7b3765(routes, opts) {\n    return (0, $6b1a25b8319a72de$export$baddd0131ee8c05b)({\n        basename: opts == null ? void 0 : opts.basename,\n        future: $4a6806eb551925a6$var$_extends({}, opts == null ? void 0 : opts.future, {\n            v7_prependBasename: true\n        }),\n        history: (0, $6b1a25b8319a72de$export$b71fdd3798280242)({\n            window: opts == null ? void 0 : opts.window\n        }),\n        hydrationData: (opts == null ? void 0 : opts.hydrationData) || $4a6806eb551925a6$var$parseHydrationData(),\n        routes: routes,\n        mapRouteProperties: (0, $405e09292ddca27f$export$52b333d321859367)\n    }).initialize();\n}\nfunction $4a6806eb551925a6$var$parseHydrationData() {\n    var _window;\n    let state = (_window = window) == null ? void 0 : _window.__staticRouterHydrationData;\n    if (state && state.errors) state = $4a6806eb551925a6$var$_extends({}, state, {\n        errors: $4a6806eb551925a6$var$deserializeErrors(state.errors)\n    });\n    return state;\n}\nfunction $4a6806eb551925a6$var$deserializeErrors(errors) {\n    if (!errors) return null;\n    let entries = Object.entries(errors);\n    let serialized = {};\n    for (let [key, val] of entries){\n        // Hey you!  If you change this, please change the corresponding logic in\n        // serializeErrors in react-router-dom/server.tsx :)\n        if (val && val.__type === \"RouteErrorResponse\") serialized[key] = new (0, $6b1a25b8319a72de$export$acf1a680051f5031)(val.status, val.statusText, val.data, val.internal === true);\n        else if (val && val.__type === \"Error\") {\n            // Attempt to reconstruct the right type of Error (i.e., ReferenceError)\n            if (val.__subType) {\n                let ErrorConstructor = window[val.__subType];\n                if (typeof ErrorConstructor === \"function\") try {\n                    // @ts-expect-error\n                    let error = new ErrorConstructor(val.message);\n                    // Wipe away the client-side stack trace.  Nothing to fill it in with\n                    // because we don't serialize SSR stack traces for security reasons\n                    error.stack = \"\";\n                    serialized[key] = error;\n                } catch (e) {\n                // no-op - fall through and create a normal Error\n                }\n            }\n            if (serialized[key] == null) {\n                let error = new Error(val.message);\n                // Wipe away the client-side stack trace.  Nothing to fill it in with\n                // because we don't serialize SSR stack traces for security reasons\n                error.stack = \"\";\n                serialized[key] = error;\n            }\n        } else serialized[key] = val;\n    }\n    return serialized;\n}\n//#endregion\n////////////////////////////////////////////////////////////////////////////////\n//#region Components\n////////////////////////////////////////////////////////////////////////////////\n/**\n  Webpack + React 17 fails to compile on any of the following because webpack\n  complains that `startTransition` doesn't exist in `React`:\n  * import { startTransition } from \"react\"\n  * import * as React from from \"react\";\n    \"startTransition\" in React ? React.startTransition(() => setState()) : setState()\n  * import * as React from from \"react\";\n    \"startTransition\" in React ? React[\"startTransition\"](() => setState()) : setState()\n\n  Moving it to a constant such as the following solves the Webpack/React 17 issue:\n  * import * as React from from \"react\";\n    const START_TRANSITION = \"startTransition\";\n    START_TRANSITION in React ? React[START_TRANSITION](() => setState()) : setState()\n\n  However, that introduces webpack/terser minification issues in production builds\n  in React 18 where minification/obfuscation ends up removing the call of\n  React.startTransition entirely from the first half of the ternary.  Grabbing\n  this exported reference once up front resolves that issue.\n\n  See https://github.com/remix-run/react-router/issues/10579\n*/ const $4a6806eb551925a6$var$START_TRANSITION = \"startTransition\";\nconst $4a6806eb551925a6$var$startTransitionImpl = $c9d322eeb636f8e5$exports[$4a6806eb551925a6$var$START_TRANSITION];\n/**\n * A `<Router>` for use in web browsers. Provides the cleanest URLs.\n */ function $4a6806eb551925a6$export$9ba4e89fdfa1fc54(_ref) {\n    let { basename: basename, children: children, future: future, window: window1 } = _ref;\n    let historyRef = $c9d322eeb636f8e5$exports.useRef();\n    if (historyRef.current == null) historyRef.current = (0, $6b1a25b8319a72de$export$719fc203c4e16dee)({\n        window: window1,\n        v5Compat: true\n    });\n    let history = historyRef.current;\n    let [state, setStateImpl] = $c9d322eeb636f8e5$exports.useState({\n        action: history.action,\n        location: history.location\n    });\n    let { v7_startTransition: v7_startTransition } = future || {};\n    let setState = $c9d322eeb636f8e5$exports.useCallback((newState)=>{\n        v7_startTransition && $4a6806eb551925a6$var$startTransitionImpl ? $4a6806eb551925a6$var$startTransitionImpl(()=>setStateImpl(newState)) : setStateImpl(newState);\n    }, [\n        setStateImpl,\n        v7_startTransition\n    ]);\n    $c9d322eeb636f8e5$exports.useLayoutEffect(()=>history.listen(setState), [\n        history,\n        setState\n    ]);\n    return /*#__PURE__*/ $c9d322eeb636f8e5$exports.createElement((0, $405e09292ddca27f$export$55185c17a0fcbe46), {\n        basename: basename,\n        children: children,\n        location: state.location,\n        navigationType: state.action,\n        navigator: history\n    });\n}\n/**\n * A `<Router>` for use in web browsers. Stores the location in the hash\n * portion of the URL so it is not sent to the server.\n */ function $4a6806eb551925a6$export$7221d69dcfc8e36b(_ref2) {\n    let { basename: basename, children: children, future: future, window: window1 } = _ref2;\n    let historyRef = $c9d322eeb636f8e5$exports.useRef();\n    if (historyRef.current == null) historyRef.current = (0, $6b1a25b8319a72de$export$b71fdd3798280242)({\n        window: window1,\n        v5Compat: true\n    });\n    let history = historyRef.current;\n    let [state, setStateImpl] = $c9d322eeb636f8e5$exports.useState({\n        action: history.action,\n        location: history.location\n    });\n    let { v7_startTransition: v7_startTransition } = future || {};\n    let setState = $c9d322eeb636f8e5$exports.useCallback((newState)=>{\n        v7_startTransition && $4a6806eb551925a6$var$startTransitionImpl ? $4a6806eb551925a6$var$startTransitionImpl(()=>setStateImpl(newState)) : setStateImpl(newState);\n    }, [\n        setStateImpl,\n        v7_startTransition\n    ]);\n    $c9d322eeb636f8e5$exports.useLayoutEffect(()=>history.listen(setState), [\n        history,\n        setState\n    ]);\n    return /*#__PURE__*/ $c9d322eeb636f8e5$exports.createElement((0, $405e09292ddca27f$export$55185c17a0fcbe46), {\n        basename: basename,\n        children: children,\n        location: state.location,\n        navigationType: state.action,\n        navigator: history\n    });\n}\n/**\n * A `<Router>` that accepts a pre-instantiated history object. It's important\n * to note that using your own history object is highly discouraged and may add\n * two versions of the history library to your bundles unless you use the same\n * version of the history library that React Router uses internally.\n */ function $4a6806eb551925a6$export$eefb0c834599897e(_ref3) {\n    let { basename: basename, children: children, future: future, history: history } = _ref3;\n    let [state, setStateImpl] = $c9d322eeb636f8e5$exports.useState({\n        action: history.action,\n        location: history.location\n    });\n    let { v7_startTransition: v7_startTransition } = future || {};\n    let setState = $c9d322eeb636f8e5$exports.useCallback((newState)=>{\n        v7_startTransition && $4a6806eb551925a6$var$startTransitionImpl ? $4a6806eb551925a6$var$startTransitionImpl(()=>setStateImpl(newState)) : setStateImpl(newState);\n    }, [\n        setStateImpl,\n        v7_startTransition\n    ]);\n    $c9d322eeb636f8e5$exports.useLayoutEffect(()=>history.listen(setState), [\n        history,\n        setState\n    ]);\n    return /*#__PURE__*/ $c9d322eeb636f8e5$exports.createElement((0, $405e09292ddca27f$export$55185c17a0fcbe46), {\n        basename: basename,\n        children: children,\n        location: state.location,\n        navigationType: state.action,\n        navigator: history\n    });\n}\nconst $4a6806eb551925a6$var$isBrowser = typeof window !== \"undefined\" && typeof window.document !== \"undefined\" && typeof window.document.createElement !== \"undefined\";\nconst $4a6806eb551925a6$var$ABSOLUTE_URL_REGEX = /^(?:[a-z][a-z0-9+.-]*:|\\/\\/)/i;\n/**\n * The public API for rendering a history-aware <a>.\n */ const $4a6806eb551925a6$export$a6c7ac8248d6e38a = /*#__PURE__*/ $c9d322eeb636f8e5$exports.forwardRef(function LinkWithRef(_ref4, ref) {\n    let { onClick: onClick, relative: relative, reloadDocument: reloadDocument, replace: replace, state: state, target: target, to: to, preventScrollReset: preventScrollReset } = _ref4, rest = $4a6806eb551925a6$var$_objectWithoutPropertiesLoose(_ref4, $4a6806eb551925a6$var$_excluded);\n    let { basename: basename } = $c9d322eeb636f8e5$exports.useContext((0, $405e09292ddca27f$export$26749e8557646306));\n    // Rendered into <a href> for absolute URLs\n    let absoluteHref;\n    let isExternal = false;\n    if (typeof to === \"string\" && $4a6806eb551925a6$var$ABSOLUTE_URL_REGEX.test(to)) {\n        // Render the absolute href server- and client-side\n        absoluteHref = to;\n        // Only check for external origins client-side\n        if ($4a6806eb551925a6$var$isBrowser) try {\n            let currentUrl = new URL(window.location.href);\n            let targetUrl = to.startsWith(\"//\") ? new URL(currentUrl.protocol + to) : new URL(to);\n            let path = (0, $6b1a25b8319a72de$export$b69e3301ce081aa3)(targetUrl.pathname, basename);\n            if (targetUrl.origin === currentUrl.origin && path != null) // Strip the protocol/origin/basename for same-origin absolute URLs\n            to = path + targetUrl.search + targetUrl.hash;\n            else isExternal = true;\n        } catch (e) {}\n    }\n    // Rendered into <a href> for relative URLs\n    let href = (0, $405e09292ddca27f$export$b66bb29c5006f12f)(to, {\n        relative: relative\n    });\n    let internalOnClick = $4a6806eb551925a6$export$67621102c14d847(to, {\n        replace: replace,\n        state: state,\n        target: target,\n        preventScrollReset: preventScrollReset,\n        relative: relative\n    });\n    function handleClick(event) {\n        if (onClick) onClick(event);\n        if (!event.defaultPrevented) internalOnClick(event);\n    }\n    return(/*#__PURE__*/ // eslint-disable-next-line jsx-a11y/anchor-has-content\n    $c9d322eeb636f8e5$exports.createElement(\"a\", $4a6806eb551925a6$var$_extends({}, rest, {\n        href: absoluteHref || href,\n        onClick: isExternal || reloadDocument ? onClick : handleClick,\n        ref: ref,\n        target: target\n    })));\n});\n/**\n * A <Link> wrapper that knows if it's \"active\" or not.\n */ const $4a6806eb551925a6$export$b0d92dbee9b5b60d = /*#__PURE__*/ $c9d322eeb636f8e5$exports.forwardRef(function NavLinkWithRef(_ref5, ref) {\n    let { \"aria-current\": ariaCurrentProp = \"page\", caseSensitive: caseSensitive = false, className: classNameProp = \"\", end: end = false, style: styleProp, to: to, children: children } = _ref5, rest = $4a6806eb551925a6$var$_objectWithoutPropertiesLoose(_ref5, $4a6806eb551925a6$var$_excluded2);\n    let path = (0, $405e09292ddca27f$export$e75d2a2d1b3c245b)(to, {\n        relative: rest.relative\n    });\n    let location = (0, $405e09292ddca27f$export$45d76561a5302f2b)();\n    let routerState = $c9d322eeb636f8e5$exports.useContext((0, $405e09292ddca27f$export$145dfa71566a64dc));\n    let { navigator: navigator } = $c9d322eeb636f8e5$exports.useContext((0, $405e09292ddca27f$export$26749e8557646306));\n    let toPathname = navigator.encodeLocation ? navigator.encodeLocation(path).pathname : path.pathname;\n    let locationPathname = location.pathname;\n    let nextLocationPathname = routerState && routerState.navigation && routerState.navigation.location ? routerState.navigation.location.pathname : null;\n    if (!caseSensitive) {\n        locationPathname = locationPathname.toLowerCase();\n        nextLocationPathname = nextLocationPathname ? nextLocationPathname.toLowerCase() : null;\n        toPathname = toPathname.toLowerCase();\n    }\n    let isActive = locationPathname === toPathname || !end && locationPathname.startsWith(toPathname) && locationPathname.charAt(toPathname.length) === \"/\";\n    let isPending = nextLocationPathname != null && (nextLocationPathname === toPathname || !end && nextLocationPathname.startsWith(toPathname) && nextLocationPathname.charAt(toPathname.length) === \"/\");\n    let ariaCurrent = isActive ? ariaCurrentProp : undefined;\n    let className;\n    if (typeof classNameProp === \"function\") className = classNameProp({\n        isActive: isActive,\n        isPending: isPending\n    });\n    else // If the className prop is not a function, we use a default `active`\n    // class for <NavLink />s that are active. In v5 `active` was the default\n    // value for `activeClassName`, but we are removing that API and can still\n    // use the old default behavior for a cleaner upgrade path and keep the\n    // simple styling rules working as they currently do.\n    className = [\n        classNameProp,\n        isActive ? \"active\" : null,\n        isPending ? \"pending\" : null\n    ].filter(Boolean).join(\" \");\n    let style = typeof styleProp === \"function\" ? styleProp({\n        isActive: isActive,\n        isPending: isPending\n    }) : styleProp;\n    return /*#__PURE__*/ $c9d322eeb636f8e5$exports.createElement($4a6806eb551925a6$export$a6c7ac8248d6e38a, $4a6806eb551925a6$var$_extends({}, rest, {\n        \"aria-current\": ariaCurrent,\n        className: className,\n        ref: ref,\n        style: style,\n        to: to\n    }), typeof children === \"function\" ? children({\n        isActive: isActive,\n        isPending: isPending\n    }) : children);\n});\n/**\n * A `@remix-run/router`-aware `<form>`. It behaves like a normal form except\n * that the interaction with the server is with `fetch` instead of new document\n * requests, allowing components to add nicer UX to the page as the form is\n * submitted and returns with data.\n */ const $4a6806eb551925a6$export$a7fed597f4b8afd8 = /*#__PURE__*/ $c9d322eeb636f8e5$exports.forwardRef((props, ref)=>{\n    let submit = $4a6806eb551925a6$export$47c85c6e3a081d3();\n    return /*#__PURE__*/ $c9d322eeb636f8e5$exports.createElement($4a6806eb551925a6$var$FormImpl, $4a6806eb551925a6$var$_extends({}, props, {\n        submit: submit,\n        ref: ref\n    }));\n});\nconst $4a6806eb551925a6$var$FormImpl = /*#__PURE__*/ $c9d322eeb636f8e5$exports.forwardRef((_ref6, forwardedRef)=>{\n    let { reloadDocument: reloadDocument, replace: replace, state: state, method: method = $4a6806eb551925a6$var$defaultMethod, action: action, onSubmit: onSubmit, submit: submit, relative: relative, preventScrollReset: preventScrollReset } = _ref6, props = $4a6806eb551925a6$var$_objectWithoutPropertiesLoose(_ref6, $4a6806eb551925a6$var$_excluded3);\n    let formMethod = method.toLowerCase() === \"get\" ? \"get\" : \"post\";\n    let formAction = $4a6806eb551925a6$export$89a6bd6db0d97c56(action, {\n        relative: relative\n    });\n    let submitHandler = (event)=>{\n        onSubmit && onSubmit(event);\n        if (event.defaultPrevented) return;\n        event.preventDefault();\n        let submitter = event.nativeEvent.submitter;\n        let submitMethod = (submitter == null ? void 0 : submitter.getAttribute(\"formmethod\")) || method;\n        submit(submitter || event.currentTarget, {\n            method: submitMethod,\n            replace: replace,\n            state: state,\n            relative: relative,\n            preventScrollReset: preventScrollReset\n        });\n    };\n    return /*#__PURE__*/ $c9d322eeb636f8e5$exports.createElement(\"form\", $4a6806eb551925a6$var$_extends({\n        ref: forwardedRef,\n        method: formMethod,\n        action: formAction,\n        onSubmit: reloadDocument ? onSubmit : submitHandler\n    }, props));\n});\n/**\n * This component will emulate the browser's scroll restoration on location\n * changes.\n */ function $4a6806eb551925a6$export$11aac1aab828f1fa(_ref7) {\n    let { getKey: getKey, storageKey: storageKey } = _ref7;\n    $4a6806eb551925a6$export$25057cfe5591e3e9({\n        getKey: getKey,\n        storageKey: storageKey\n    });\n    return null;\n}\n//#endregion\n////////////////////////////////////////////////////////////////////////////////\n//#region Hooks\n////////////////////////////////////////////////////////////////////////////////\nvar $4a6806eb551925a6$var$DataRouterHook;\n(function(DataRouterHook) {\n    DataRouterHook[\"UseScrollRestoration\"] = \"useScrollRestoration\";\n    DataRouterHook[\"UseSubmit\"] = \"useSubmit\";\n    DataRouterHook[\"UseSubmitFetcher\"] = \"useSubmitFetcher\";\n    DataRouterHook[\"UseFetcher\"] = \"useFetcher\";\n})($4a6806eb551925a6$var$DataRouterHook || ($4a6806eb551925a6$var$DataRouterHook = {}));\nvar $4a6806eb551925a6$var$DataRouterStateHook;\n(function(DataRouterStateHook) {\n    DataRouterStateHook[\"UseFetchers\"] = \"useFetchers\";\n    DataRouterStateHook[\"UseScrollRestoration\"] = \"useScrollRestoration\";\n})($4a6806eb551925a6$var$DataRouterStateHook || ($4a6806eb551925a6$var$DataRouterStateHook = {}));\nfunction $4a6806eb551925a6$var$getDataRouterConsoleError(hookName) {\n    return hookName + \" must be used within a data router.  See https://reactrouter.com/routers/picking-a-router.\";\n}\nfunction $4a6806eb551925a6$var$useDataRouterContext(hookName) {\n    let ctx = $c9d322eeb636f8e5$exports.useContext((0, $405e09292ddca27f$export$3add0d5dce533e2e));\n    !ctx && (0, $6b1a25b8319a72de$export$3e9cee6b33872309)(false);\n    return ctx;\n}\nfunction $4a6806eb551925a6$var$useDataRouterState(hookName) {\n    let state = $c9d322eeb636f8e5$exports.useContext((0, $405e09292ddca27f$export$145dfa71566a64dc));\n    !state && (0, $6b1a25b8319a72de$export$3e9cee6b33872309)(false);\n    return state;\n}\n/**\n * Handles the click behavior for router `<Link>` components. This is useful if\n * you need to create custom `<Link>` components with the same click behavior we\n * use in our exported `<Link>`.\n */ function $4a6806eb551925a6$export$67621102c14d847(to, _temp) {\n    let { target: target, replace: replaceProp, state: state, preventScrollReset: preventScrollReset, relative: relative } = _temp === void 0 ? {} : _temp;\n    let navigate = (0, $405e09292ddca27f$export$9770f232ac06a008)();\n    let location = (0, $405e09292ddca27f$export$45d76561a5302f2b)();\n    let path = (0, $405e09292ddca27f$export$e75d2a2d1b3c245b)(to, {\n        relative: relative\n    });\n    return $c9d322eeb636f8e5$exports.useCallback((event)=>{\n        if ($4a6806eb551925a6$var$shouldProcessLinkClick(event, target)) {\n            event.preventDefault();\n            // If the URL hasn't changed, a regular <a> will do a replace instead of\n            // a push, so do the same here unless the replace prop is explicitly set\n            let replace = replaceProp !== undefined ? replaceProp : (0, $6b1a25b8319a72de$export$fe53371bee54353d)(location) === (0, $6b1a25b8319a72de$export$fe53371bee54353d)(path);\n            navigate(to, {\n                replace: replace,\n                state: state,\n                preventScrollReset: preventScrollReset,\n                relative: relative\n            });\n        }\n    }, [\n        location,\n        navigate,\n        path,\n        replaceProp,\n        state,\n        target,\n        to,\n        preventScrollReset,\n        relative\n    ]);\n}\n/**\n * A convenient wrapper for reading and writing search parameters via the\n * URLSearchParams interface.\n */ function $4a6806eb551925a6$export$f1a78c17382fe22a(defaultInit) {\n    let defaultSearchParamsRef = $c9d322eeb636f8e5$exports.useRef($4a6806eb551925a6$export$a2e4e2dcc7b1f22f(defaultInit));\n    let hasSetSearchParamsRef = $c9d322eeb636f8e5$exports.useRef(false);\n    let location = (0, $405e09292ddca27f$export$45d76561a5302f2b)();\n    let searchParams = $c9d322eeb636f8e5$exports.useMemo(()=>// Only merge in the defaults if we haven't yet called setSearchParams.\n        // Once we call that we want those to take precedence, otherwise you can't\n        // remove a param with setSearchParams({}) if it has an initial value\n        $4a6806eb551925a6$var$getSearchParamsForLocation(location.search, hasSetSearchParamsRef.current ? null : defaultSearchParamsRef.current), [\n        location.search\n    ]);\n    let navigate = (0, $405e09292ddca27f$export$9770f232ac06a008)();\n    let setSearchParams = $c9d322eeb636f8e5$exports.useCallback((nextInit, navigateOptions)=>{\n        const newSearchParams = $4a6806eb551925a6$export$a2e4e2dcc7b1f22f(typeof nextInit === \"function\" ? nextInit(searchParams) : nextInit);\n        hasSetSearchParamsRef.current = true;\n        navigate(\"?\" + newSearchParams, navigateOptions);\n    }, [\n        navigate,\n        searchParams\n    ]);\n    return [\n        searchParams,\n        setSearchParams\n    ];\n}\nfunction $4a6806eb551925a6$var$validateClientSideSubmission() {\n    if (typeof document === \"undefined\") throw new Error(\"You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.\");\n}\n/**\n * Returns a function that may be used to programmatically submit a form (or\n * some arbitrary data) to the server.\n */ function $4a6806eb551925a6$export$47c85c6e3a081d3() {\n    let { router: router } = $4a6806eb551925a6$var$useDataRouterContext($4a6806eb551925a6$var$DataRouterHook.UseSubmit);\n    let { basename: basename } = $c9d322eeb636f8e5$exports.useContext((0, $405e09292ddca27f$export$26749e8557646306));\n    let currentRouteId = (0, $405e09292ddca27f$export$5fc8298006ad9e58)();\n    return $c9d322eeb636f8e5$exports.useCallback(function(target, options) {\n        if (options === void 0) options = {};\n        $4a6806eb551925a6$var$validateClientSideSubmission();\n        let { action: action, method: method, encType: encType, formData: formData, body: body } = $4a6806eb551925a6$var$getFormSubmissionInfo(target, basename);\n        router.navigate(options.action || action, {\n            preventScrollReset: options.preventScrollReset,\n            formData: formData,\n            body: body,\n            formMethod: options.method || method,\n            formEncType: options.encType || encType,\n            replace: options.replace,\n            state: options.state,\n            fromRouteId: currentRouteId\n        });\n    }, [\n        router,\n        basename,\n        currentRouteId\n    ]);\n}\n/**\n * Returns the implementation for fetcher.submit\n */ function $4a6806eb551925a6$var$useSubmitFetcher(fetcherKey, fetcherRouteId) {\n    let { router: router } = $4a6806eb551925a6$var$useDataRouterContext($4a6806eb551925a6$var$DataRouterHook.UseSubmitFetcher);\n    let { basename: basename } = $c9d322eeb636f8e5$exports.useContext((0, $405e09292ddca27f$export$26749e8557646306));\n    return $c9d322eeb636f8e5$exports.useCallback(function(target, options) {\n        if (options === void 0) options = {};\n        $4a6806eb551925a6$var$validateClientSideSubmission();\n        let { action: action, method: method, encType: encType, formData: formData, body: body } = $4a6806eb551925a6$var$getFormSubmissionInfo(target, basename);\n        !(fetcherRouteId != null) && (0, $6b1a25b8319a72de$export$3e9cee6b33872309)(false);\n        router.fetch(fetcherKey, fetcherRouteId, options.action || action, {\n            preventScrollReset: options.preventScrollReset,\n            formData: formData,\n            body: body,\n            formMethod: options.method || method,\n            formEncType: options.encType || encType\n        });\n    }, [\n        router,\n        basename,\n        fetcherKey,\n        fetcherRouteId\n    ]);\n}\n// v7: Eventually we should deprecate this entirely in favor of using the\n// router method directly?\nfunction $4a6806eb551925a6$export$89a6bd6db0d97c56(action, _temp2) {\n    let { relative: relative } = _temp2 === void 0 ? {} : _temp2;\n    let { basename: basename } = $c9d322eeb636f8e5$exports.useContext((0, $405e09292ddca27f$export$26749e8557646306));\n    let routeContext = $c9d322eeb636f8e5$exports.useContext((0, $405e09292ddca27f$export$9072aa6dd1f93057));\n    !routeContext && (0, $6b1a25b8319a72de$export$3e9cee6b33872309)(false);\n    let [match] = routeContext.matches.slice(-1);\n    // Shallow clone path so we can modify it below, otherwise we modify the\n    // object referenced by useMemo inside useResolvedPath\n    let path = $4a6806eb551925a6$var$_extends({}, (0, $405e09292ddca27f$export$e75d2a2d1b3c245b)(action ? action : \".\", {\n        relative: relative\n    }));\n    // Previously we set the default action to \".\". The problem with this is that\n    // `useResolvedPath(\".\")` excludes search params of the resolved URL. This is\n    // the intended behavior of when \".\" is specifically provided as\n    // the form action, but inconsistent w/ browsers when the action is omitted.\n    // https://github.com/remix-run/remix/issues/927\n    let location = (0, $405e09292ddca27f$export$45d76561a5302f2b)();\n    if (action == null) {\n        // Safe to write to this directly here since if action was undefined, we\n        // would have called useResolvedPath(\".\") which will never include a search\n        path.search = location.search;\n        // When grabbing search params from the URL, remove the automatically\n        // inserted ?index param so we match the useResolvedPath search behavior\n        // which would not include ?index\n        if (match.route.index) {\n            let params = new URLSearchParams(path.search);\n            params.delete(\"index\");\n            path.search = params.toString() ? \"?\" + params.toString() : \"\";\n        }\n    }\n    if ((!action || action === \".\") && match.route.index) path.search = path.search ? path.search.replace(/^\\?/, \"?index&\") : \"?index\";\n    // If we're operating within a basename, prepend it to the pathname prior\n    // to creating the form action.  If this is a root navigation, then just use\n    // the raw basename which allows the basename to have full control over the\n    // presence of a trailing slash on root actions\n    if (basename !== \"/\") path.pathname = path.pathname === \"/\" ? basename : (0, $6b1a25b8319a72de$export$86d9a7913e44197e)([\n        basename,\n        path.pathname\n    ]);\n    return (0, $6b1a25b8319a72de$export$fe53371bee54353d)(path);\n}\nfunction $4a6806eb551925a6$var$createFetcherForm(fetcherKey, routeId) {\n    let FetcherForm = /*#__PURE__*/ $c9d322eeb636f8e5$exports.forwardRef((props, ref)=>{\n        let submit = $4a6806eb551925a6$var$useSubmitFetcher(fetcherKey, routeId);\n        return /*#__PURE__*/ $c9d322eeb636f8e5$exports.createElement($4a6806eb551925a6$var$FormImpl, $4a6806eb551925a6$var$_extends({}, props, {\n            ref: ref,\n            submit: submit\n        }));\n    });\n    return FetcherForm;\n}\nlet $4a6806eb551925a6$var$fetcherId = 0;\n/**\n * Interacts with route loaders and actions without causing a navigation. Great\n * for any interaction that stays on the same page.\n */ function $4a6806eb551925a6$export$5b0d2d9a9921565a() {\n    var _route$matches;\n    let { router: router } = $4a6806eb551925a6$var$useDataRouterContext($4a6806eb551925a6$var$DataRouterHook.UseFetcher);\n    let route = $c9d322eeb636f8e5$exports.useContext((0, $405e09292ddca27f$export$9072aa6dd1f93057));\n    !route && (0, $6b1a25b8319a72de$export$3e9cee6b33872309)(false);\n    let routeId = (_route$matches = route.matches[route.matches.length - 1]) == null ? void 0 : _route$matches.route.id;\n    !(routeId != null) && (0, $6b1a25b8319a72de$export$3e9cee6b33872309)(false);\n    let [fetcherKey] = $c9d322eeb636f8e5$exports.useState(()=>String(++$4a6806eb551925a6$var$fetcherId));\n    let [Form] = $c9d322eeb636f8e5$exports.useState(()=>{\n        !routeId && (0, $6b1a25b8319a72de$export$3e9cee6b33872309)(false);\n        return $4a6806eb551925a6$var$createFetcherForm(fetcherKey, routeId);\n    });\n    let [load] = $c9d322eeb636f8e5$exports.useState(()=>(href)=>{\n            !router && (0, $6b1a25b8319a72de$export$3e9cee6b33872309)(false);\n            !routeId && (0, $6b1a25b8319a72de$export$3e9cee6b33872309)(false);\n            router.fetch(fetcherKey, routeId, href);\n        });\n    let submit = $4a6806eb551925a6$var$useSubmitFetcher(fetcherKey, routeId);\n    let fetcher = router.getFetcher(fetcherKey);\n    let fetcherWithComponents = $c9d322eeb636f8e5$exports.useMemo(()=>$4a6806eb551925a6$var$_extends({\n            Form: Form,\n            submit: submit,\n            load: load\n        }, fetcher), [\n        fetcher,\n        Form,\n        submit,\n        load\n    ]);\n    $c9d322eeb636f8e5$exports.useEffect(()=>{\n        // Is this busted when the React team gets real weird and calls effects\n        // twice on mount?  We really just need to garbage collect here when this\n        // fetcher is no longer around.\n        return ()=>{\n            if (!router) {\n                console.warn(\"No router available to clean up from useFetcher()\");\n                return;\n            }\n            router.deleteFetcher(fetcherKey);\n        };\n    }, [\n        router,\n        fetcherKey\n    ]);\n    return fetcherWithComponents;\n}\n/**\n * Provides all fetchers currently on the page. Useful for layouts and parent\n * routes that need to provide pending/optimistic UI regarding the fetch.\n */ function $4a6806eb551925a6$export$fa996778a3a31087() {\n    let state = $4a6806eb551925a6$var$useDataRouterState($4a6806eb551925a6$var$DataRouterStateHook.UseFetchers);\n    return [\n        ...state.fetchers.values()\n    ];\n}\nconst $4a6806eb551925a6$var$SCROLL_RESTORATION_STORAGE_KEY = \"react-router-scroll-positions\";\nlet $4a6806eb551925a6$var$savedScrollPositions = {};\n/**\n * When rendered inside a RouterProvider, will restore scroll positions on navigations\n */ function $4a6806eb551925a6$export$25057cfe5591e3e9(_temp3) {\n    let { getKey: getKey, storageKey: storageKey } = _temp3 === void 0 ? {} : _temp3;\n    let { router: router } = $4a6806eb551925a6$var$useDataRouterContext($4a6806eb551925a6$var$DataRouterHook.UseScrollRestoration);\n    let { restoreScrollPosition: restoreScrollPosition, preventScrollReset: preventScrollReset } = $4a6806eb551925a6$var$useDataRouterState($4a6806eb551925a6$var$DataRouterStateHook.UseScrollRestoration);\n    let { basename: basename } = $c9d322eeb636f8e5$exports.useContext((0, $405e09292ddca27f$export$26749e8557646306));\n    let location = (0, $405e09292ddca27f$export$45d76561a5302f2b)();\n    let matches = (0, $405e09292ddca27f$export$2378eb7f5ff86053)();\n    let navigation = (0, $405e09292ddca27f$export$d0fd4b7106de2769)();\n    // Trigger manual scroll restoration while we're active\n    $c9d322eeb636f8e5$exports.useEffect(()=>{\n        window.history.scrollRestoration = \"manual\";\n        return ()=>{\n            window.history.scrollRestoration = \"auto\";\n        };\n    }, []);\n    // Save positions on pagehide\n    $4a6806eb551925a6$var$usePageHide($c9d322eeb636f8e5$exports.useCallback(()=>{\n        if (navigation.state === \"idle\") {\n            let key = (getKey ? getKey(location, matches) : null) || location.key;\n            $4a6806eb551925a6$var$savedScrollPositions[key] = window.scrollY;\n        }\n        sessionStorage.setItem(storageKey || $4a6806eb551925a6$var$SCROLL_RESTORATION_STORAGE_KEY, JSON.stringify($4a6806eb551925a6$var$savedScrollPositions));\n        window.history.scrollRestoration = \"auto\";\n    }, [\n        storageKey,\n        getKey,\n        navigation.state,\n        location,\n        matches\n    ]));\n    // Read in any saved scroll locations\n    if (typeof document !== \"undefined\") {\n        // eslint-disable-next-line react-hooks/rules-of-hooks\n        $c9d322eeb636f8e5$exports.useLayoutEffect(()=>{\n            try {\n                let sessionPositions = sessionStorage.getItem(storageKey || $4a6806eb551925a6$var$SCROLL_RESTORATION_STORAGE_KEY);\n                if (sessionPositions) $4a6806eb551925a6$var$savedScrollPositions = JSON.parse(sessionPositions);\n            } catch (e) {\n            // no-op, use default empty object\n            }\n        }, [\n            storageKey\n        ]);\n        // Enable scroll restoration in the router\n        // eslint-disable-next-line react-hooks/rules-of-hooks\n        $c9d322eeb636f8e5$exports.useLayoutEffect(()=>{\n            let getKeyWithoutBasename = getKey && basename !== \"/\" ? (location, matches)=>getKey($4a6806eb551925a6$var$_extends({}, location, {\n                    pathname: (0, $6b1a25b8319a72de$export$b69e3301ce081aa3)(location.pathname, basename) || location.pathname\n                }), matches) : getKey;\n            let disableScrollRestoration = router == null ? void 0 : router.enableScrollRestoration($4a6806eb551925a6$var$savedScrollPositions, ()=>window.scrollY, getKeyWithoutBasename);\n            return ()=>disableScrollRestoration && disableScrollRestoration();\n        }, [\n            router,\n            basename,\n            getKey\n        ]);\n        // Restore scrolling when state.restoreScrollPosition changes\n        // eslint-disable-next-line react-hooks/rules-of-hooks\n        $c9d322eeb636f8e5$exports.useLayoutEffect(()=>{\n            // Explicit false means don't do anything (used for submissions)\n            if (restoreScrollPosition === false) return;\n            // been here before, scroll to it\n            if (typeof restoreScrollPosition === \"number\") {\n                window.scrollTo(0, restoreScrollPosition);\n                return;\n            }\n            // try to scroll to the hash\n            if (location.hash) {\n                let el = document.getElementById(decodeURIComponent(location.hash.slice(1)));\n                if (el) {\n                    el.scrollIntoView();\n                    return;\n                }\n            }\n            // Don't reset if this navigation opted out\n            if (preventScrollReset === true) return;\n            // otherwise go to the top on new locations\n            window.scrollTo(0, 0);\n        }, [\n            location,\n            restoreScrollPosition,\n            preventScrollReset\n        ]);\n    }\n}\n/**\n * Setup a callback to be fired on the window's `beforeunload` event. This is\n * useful for saving some data to `window.localStorage` just before the page\n * refreshes.\n *\n * Note: The `callback` argument should be a function created with\n * `React.useCallback()`.\n */ function $4a6806eb551925a6$export$c0a586b329cae57d(callback, options) {\n    let { capture: capture } = options || {};\n    $c9d322eeb636f8e5$exports.useEffect(()=>{\n        let opts = capture != null ? {\n            capture: capture\n        } : undefined;\n        window.addEventListener(\"beforeunload\", callback, opts);\n        return ()=>{\n            window.removeEventListener(\"beforeunload\", callback, opts);\n        };\n    }, [\n        callback,\n        capture\n    ]);\n}\n/**\n * Setup a callback to be fired on the window's `pagehide` event. This is\n * useful for saving some data to `window.localStorage` just before the page\n * refreshes.  This event is better supported than beforeunload across browsers.\n *\n * Note: The `callback` argument should be a function created with\n * `React.useCallback()`.\n */ function $4a6806eb551925a6$var$usePageHide(callback, options) {\n    let { capture: capture } = options || {};\n    $c9d322eeb636f8e5$exports.useEffect(()=>{\n        let opts = capture != null ? {\n            capture: capture\n        } : undefined;\n        window.addEventListener(\"pagehide\", callback, opts);\n        return ()=>{\n            window.removeEventListener(\"pagehide\", callback, opts);\n        };\n    }, [\n        callback,\n        capture\n    ]);\n}\n/**\n * Wrapper around useBlocker to show a window.confirm prompt to users instead\n * of building a custom UI with useBlocker.\n *\n * Warning: This has *a lot of rough edges* and behaves very differently (and\n * very incorrectly in some cases) across browsers if user click addition\n * back/forward navigations while the confirm is open.  Use at your own risk.\n */ function $4a6806eb551925a6$export$39f4eb3dbd812741(_ref8) {\n    let { when: when, message: message } = _ref8;\n    let blocker = (0, $405e09292ddca27f$export$2af03a1de5c0910)(when);\n    $c9d322eeb636f8e5$exports.useEffect(()=>{\n        if (blocker.state === \"blocked\") {\n            let proceed = window.confirm(message);\n            if (proceed) // This timeout is needed to avoid a weird \"race\" on POP navigations\n            // between the `window.history` revert navigation and the result of\n            // `window.confirm`\n            setTimeout(blocker.proceed, 0);\n            else blocker.reset();\n        }\n    }, [\n        blocker,\n        message\n    ]);\n    $c9d322eeb636f8e5$exports.useEffect(()=>{\n        if (blocker.state === \"blocked\" && !when) blocker.reset();\n    }, [\n        blocker,\n        when\n    ]);\n}\n\n\nvar $fd00660e7c465403$exports = {};\n\n\n$fd00660e7c465403$exports = (parcelRequire(\"lpwGa\")).getBundleURL(\"88FtB\") + (parcelRequire(\"6TJWq\")).resolve(\"051d2\");\n\n\nfunction $0426dbc898a9b87d$export$2e2bcd8739ae039() {\n    const [sending, setSending] = (0, $35130c2d97e6777b$export$60241385465d0a34)(false);\n    const [showResetPassword, setShowResetPassword] = (0, $35130c2d97e6777b$export$60241385465d0a34)(false);\n    const navigate = (0, $405e09292ddca27f$export$9770f232ac06a008)();\n    const { t: t } = (0, $829be5acfdd67d69$export$9fc83ad70ead8663)();\n    (0, $35130c2d97e6777b$export$6d9c69b0de29b591)(()=>{\n        // reroute if already logged in\n        (0, $ba05c0ef8a781e02$export$ddcffe0146c8f882).get(\"apiKey\").then((apiKey)=>apiKey && navigate(\"/\"));\n        (0, $ba05c0ef8a781e02$export$ddcffe0146c8f882).reset();\n    }, []);\n    const sendPasswordReset = (e)=>{\n        e.preventDefault();\n        let login = document.getElementById(\"login\").value || \"\";\n        login.toLowerCase();\n        setSending(true);\n        (0, $ba05c0ef8a781e02$export$7d6f1c8842f9f527).post(\"/api/password-reset-mail\", {\n            mail: login\n        }).then((res)=>{\n            setSending(false);\n            if (res && !res.message) (0, $ba05c0ef8a781e02$export$5ea928c9faf85bd3).add(t(\"password_reset_mail_sent\"));\n            else (0, $ba05c0ef8a781e02$export$5ea928c9faf85bd3).add(t(res.message), \"alert-danger\");\n        });\n    };\n    const sendLoginForm = (e)=>{\n        e.preventDefault();\n        setSending(true);\n        let login = document.getElementById(\"login\").value || \"\";\n        login.toLowerCase();\n        const password = document.getElementById(\"password\").value;\n        (0, $ba05c0ef8a781e02$export$7d6f1c8842f9f527).post(\"/api/login\", {\n            login: login,\n            password: password\n        }).then((res)=>{\n            setSending(false);\n            if (res && res.api_key) (0, $ba05c0ef8a781e02$export$ddcffe0146c8f882).set(\"apiKey\", res.api_key).then(()=>{\n                (0, $ba05c0ef8a781e02$export$3e32638432616b6).update().then((user)=>{\n                    let redirect = \"/create-group\";\n                    if (user.data?.default_group) redirect = `/groups/${user?.data[\"default_group\"]}`;\n                    else if (user?.groups[0]) redirect = `/groups/${user?.groups[0].id}`;\n                    navigate(redirect);\n                });\n            });\n            else if (res && res.message) (0, $ba05c0ef8a781e02$export$5ea928c9faf85bd3).add(t(res.message), \"alert-danger\");\n            else (0, $ba05c0ef8a781e02$export$5ea928c9faf85bd3).add(t(\"error\"), \"alert-danger\");\n        });\n    };\n    return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"login\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"login-form\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"img\", {\n        src: new URL($fd00660e7c465403$exports)\n    }), !showResetPassword && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"form\", null, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"form-group mb-3\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"input\", {\n        type: \"email\",\n        class: \"form-control\",\n        required: true,\n        id: \"login\",\n        placeholder: t(\"login_placeholder\")\n    })), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"form-group\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"input\", {\n        type: \"password\",\n        class: \"form-control\",\n        required: true,\n        id: \"password\",\n        placeholder: t(\"password_placeholder\")\n    })), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"forgot-password\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"span\", {\n        onClick: ()=>setShowResetPassword(true)\n    }, t(\"forgot_password\"))), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"button\", {\n        type: \"submit\",\n        class: \"btn btn-light\",\n        onClick: (e)=>sendLoginForm(e),\n        disabled: sending\n    }, t(\"connect\"))), !!showResetPassword && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"form\", null, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"form-group mb-3\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"input\", {\n        type: \"email\",\n        class: \"form-control\",\n        required: true,\n        id: \"login\",\n        placeholder: t(\"login_placeholder\")\n    })), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"button\", {\n        type: \"submit\",\n        class: \"btn btn-light\",\n        onClick: (e)=>sendPasswordReset(e),\n        disabled: sending\n    }, t(\"submit\")))));\n}\n\n\n\n\n\n\nfunction $d98633f34622d449$export$2e2bcd8739ae039() {\n    const { t: t } = (0, $829be5acfdd67d69$export$9fc83ad70ead8663)();\n    const navigate = (0, $405e09292ddca27f$export$9770f232ac06a008)();\n    const sendNewPassword = (e)=>{\n        e.preventDefault();\n        (0, $ba05c0ef8a781e02$export$ddcffe0146c8f882).set(\"apiKey\", \"\");\n        const password = document.getElementById(\"password\").value || \"\";\n        const passwordConfirmation = document.getElementById(\"password_confirmation\").value || \"\";\n        const mail = (0, $ba05c0ef8a781e02$export$5375cda95f0b0eb4).getParam(\"mail\");\n        const key = (0, $ba05c0ef8a781e02$export$5375cda95f0b0eb4).getParam(\"key\");\n        if (mail && password) {\n            if (password != passwordConfirmation) {\n                (0, $ba05c0ef8a781e02$export$5ea928c9faf85bd3).add(t(\"passwords_dont_match\"));\n                return;\n            }\n            (0, $ba05c0ef8a781e02$export$7d6f1c8842f9f527).post(\"/api/new-password\", {\n                mail: mail,\n                key: key,\n                password: password\n            }).then((res)=>{\n                if (res.api_key) {\n                    (0, $ba05c0ef8a781e02$export$ddcffe0146c8f882).set(\"apiKey\", res.api_key);\n                    setTimeout(()=>navigate(\"/\"), 100);\n                } else (0, $ba05c0ef8a781e02$export$5ea928c9faf85bd3).add(t(res.message));\n            }).catch((res)=>console.warn(res));\n        }\n    };\n    return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"login\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"login-form\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"h2\", {\n        class: \"title\"\n    }, t(\"reset_password_title\")), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"form\", null, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"form-group\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"input\", {\n        type: \"password\",\n        class: \"form-control\",\n        required: true,\n        id: \"password\",\n        placeholder: t(\"new_password_placeholder\")\n    })), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"form-group\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"input\", {\n        type: \"password\",\n        class: \"form-control\",\n        required: true,\n        id: \"password_confirmation\",\n        placeholder: t(\"confirm_password_placeholder\")\n    })), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"button\", {\n        type: \"submit\",\n        class: \"btn btn-light\",\n        onClick: (e)=>sendNewPassword(e)\n    }, t(\"submit\")))));\n}\n\n\n\n\n\n\n\nfunction $4b4c42fcf86b8acc$export$2e2bcd8739ae039() {\n    const navigate = (0, $405e09292ddca27f$export$9770f232ac06a008)();\n    const { t: t } = (0, $829be5acfdd67d69$export$9fc83ad70ead8663)();\n    const sendSignupForm = (e)=>{\n        e.preventDefault();\n        let login = document.getElementById(\"login\").value || \"\";\n        login.toLowerCase();\n        const password = document.getElementById(\"password\").value;\n        (0, $ba05c0ef8a781e02$export$ddcffe0146c8f882).set(\"apiKey\", \"\");\n        (0, $ba05c0ef8a781e02$export$7d6f1c8842f9f527).post(\"/api/signup\", {\n            login: login,\n            password: password,\n            invite_key: (0, $ba05c0ef8a781e02$export$5375cda95f0b0eb4).getParam(\"inviteKey\")\n        }).then((res)=>{\n            if (res && !res.message) {\n                (0, $ba05c0ef8a781e02$export$ddcffe0146c8f882).set(\"apiKey\", res.api_key);\n                setTimeout(()=>navigate(\"/\"), 100);\n            } else (0, $ba05c0ef8a781e02$export$5ea928c9faf85bd3).add(t(res.message));\n        });\n    };\n    return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"signup\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"signup-form\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"img\", {\n        src: new URL($fd00660e7c465403$exports)\n    }), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"welcome lead\"\n    }, t(\"invitation_welcome\")), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"form\", null, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"form-group\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"input\", {\n        type: \"email\",\n        class: \"form-control\",\n        required: true,\n        id: \"login\",\n        placeholder: t(\"login_placeholder\")\n    })), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"form-group\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"input\", {\n        type: \"password\",\n        class: \"form-control\",\n        required: true,\n        id: \"password\",\n        placeholder: t(\"password_placeholder\")\n    })), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"button\", {\n        type: \"submit\",\n        class: \"btn btn-light\",\n        onClick: (e)=>sendSignupForm(e)\n    }, t(\"signup\")))));\n}\n\n\n\n\n\nclass $f79e9cb5c3dbdf1a$var$StopNotificationEmails extends (0, $bc4b82f252aed4aa$export$16fa2f45be04daa8) {\n    constructor(){\n        super();\n        (0, $ba05c0ef8a781e02$export$7d6f1c8842f9f527).get(`/api${window.location.pathname}`).then(()=>{\n            this.setState({\n                message: this.props.t(\"notification_emails_stopped\")\n            });\n        }).catch((err)=>{\n            console.warn(err);\n            this.setState({\n                message: this.props.t(\"error\")\n            });\n        });\n    }\n    render() {\n        return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", null, this.state.message || \"\");\n    }\n}\nvar $f79e9cb5c3dbdf1a$export$2e2bcd8739ae039 = (0, $5fa4965e78bef7fc$export$2dcb0053efd21124)()($f79e9cb5c3dbdf1a$var$StopNotificationEmails);\n\n\n\n\n\n\n\n\n\nfunction $c6a97b4c72e49883$export$2e2bcd8739ae039(props) {\n    return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $30c5ca0a60c8316e$export$2e2bcd8739ae039), {\n        id: props.id,\n        isChild: true\n    });\n}\n\n\n\n\nfunction $021afc89466d3c0c$export$2e2bcd8739ae039(props) {\n    const { t: t } = (0, $829be5acfdd67d69$export$9fc83ad70ead8663)();\n    const [firstDisplayedChild, setFirstDisplayedChild] = (0, $35130c2d97e6777b$export$60241385465d0a34)(0);\n    const [lastDisplayedChild, setLastDisplayedChild] = (0, $35130c2d97e6777b$export$60241385465d0a34)(0);\n    const onNewChild = (event)=>{\n        const newMsg = event.detail;\n        if (newMsg.parent && (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).getId(newMsg.parent) == props.id) // a big number to display all children until the new one. This is not elegant...\n        // The issue is that we can't simply increment lastDisplayedChild as it is not defined here\n        // Another issue is that a user could load a comment in the middle of the list and create a new one...\n        // The real answer is to make a paginated list but that is for another time\n        setLastDisplayedChild(1024);\n    };\n    const displayPreviousChildren = ()=>{\n        setFirstDisplayedChild(Math.max(0, firstDisplayedChild - 10));\n    };\n    const displayNextChildren = ()=>{\n        setLastDisplayedChild(Math.min(props.childMessages.length, lastDisplayedChild + 10));\n    };\n    (0, $35130c2d97e6777b$export$6d9c69b0de29b591)(()=>{\n        window.addEventListener(\"newChild\", onNewChild);\n        let firstDisplayedChild = 0;\n        let lastDisplayedChild = 0;\n        if (props.childMessages.length) {\n            let msgIndex = (0, $ba05c0ef8a781e02$export$5375cda95f0b0eb4).action ? props.childMessages.findIndex((e)=>e && e.id === (0, $ba05c0ef8a781e02$export$5375cda95f0b0eb4).action) : -1;\n            if (msgIndex != -1) {\n                firstDisplayedChild = Math.max(0, msgIndex - 1);\n                lastDisplayedChild = Math.min(props.childMessages.length, msgIndex + 1);\n            } else {\n                firstDisplayedChild = props.childMessages && props.childMessages.length - 5; // display the last 5 children\n                lastDisplayedChild = props.childMessages && props.childMessages.length;\n            }\n        }\n        setFirstDisplayedChild(firstDisplayedChild);\n        setLastDisplayedChild(lastDisplayedChild);\n    }, []);\n    if (lastDisplayedChild - firstDisplayedChild < 1 || !props.childMessages) return null;\n    return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"children\"\n    }, firstDisplayedChild > 0 && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"d-flex\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"a\", {\n        class: \"more-coms unselectable\",\n        onClick: ()=>displayPreviousChildren()\n    }, t(\"previous_coms\"))), props.childMessages.map((e, i)=>{\n        if (i < firstDisplayedChild || i > lastDisplayedChild) return null;\n        return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $c6a97b4c72e49883$export$2e2bcd8739ae039), {\n            id: e.id,\n            key: e.id\n        });\n    }), lastDisplayedChild + 1 < props.childMessages.length && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"d-flex\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"span\", {\n        class: \"more-coms unselectable\",\n        onClick: ()=>displayNextChildren()\n    }, t(\"next_coms\"))));\n}\n\n\n\n\nfunction $9b716d635261f1d3$export$2e2bcd8739ae039(props) {\n    return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"message-head d-flex\"\n    }, !props.isPublic && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", null, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"img\", {\n        className: `rounded-circle material-shadow avatar${props.author && props.author.name ? \"\" : \" removed-user\"}`,\n        style: (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).backgroundHash(props.author && props.author.name ? props.author && props.author.id : \"\"),\n        src: props.author && props.author.avatar ? (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).crop(props.author.avatar.id, 100, 100) : (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).defaultAvatar,\n        title: props.author && props.author.name ? props.author.name : \"\"\n    })), !props.isChild && !props.isPublic && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"infos\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"span\", {\n        class: \"capitalize author\"\n    }, props.author && props.author.name ? props.author.name : \"\")));\n}\n\n\n\n\n\n\n// Fontawesome icons taken from https://raw.githubusercontent.com/FortAwesome/Font-Awesome/master/js/all.js\nfunction $cdd1b69860eb1f87$var$FaIcon() {\n    const icons = {\n        regular: {\n            comment: [\n                512,\n                512,\n                [],\n                \"f075\",\n                \"M256 32C114.6 32 0 125.1 0 240c0 47.6 19.9 91.2 52.9 126.3C38 405.7 7 439.1 6.5 439.5c-6.6 7-8.4 17.2-4.6 26S14.4 480 24 480c61.5 0 110-25.7 139.1-46.3C192 442.8 223.2 448 256 448c141.4 0 256-93.1 256-208S397.4 32 256 32zm0 368c-26.7 0-53.1-4.1-78.4-12.1l-22.7-7.2-19.5 13.8c-14.3 10.1-33.9 21.4-57.5 29 7.3-12.1 14.4-25.7 19.9-40.2l10.6-28.1-20.6-21.8C69.7 314.1 48 282.2 48 240c0-88.2 93.3-160 208-160s208 71.8 208 160-93.3 160-208 160z\"\n            ],\n            bookmark: [\n                384,\n                512,\n                [],\n                \"f02e\",\n                \"M336 0H48C21.49 0 0 21.49 0 48v464l192-112 192 112V48c0-26.51-21.49-48-48-48zm0 428.43l-144-84-144 84V54a6 6 0 0 1 6-6h276c3.314 0 6 2.683 6 5.996V428.43z\"\n            ],\n            images: [\n                576,\n                512,\n                [],\n                \"f302\",\n                \"M480 416v16c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V176c0-26.51 21.49-48 48-48h16v48H54a6 6 0 0 0-6 6v244a6 6 0 0 0 6 6h372a6 6 0 0 0 6-6v-10h48zm42-336H150a6 6 0 0 0-6 6v244a6 6 0 0 0 6 6h372a6 6 0 0 0 6-6V86a6 6 0 0 0-6-6zm6-48c26.51 0 48 21.49 48 48v256c0 26.51-21.49 48-48 48H144c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h384zM264 144c0 22.091-17.909 40-40 40s-40-17.909-40-40 17.909-40 40-40 40 17.909 40 40zm-72 96l39.515-39.515c4.686-4.686 12.284-4.686 16.971 0L288 240l103.515-103.515c4.686-4.686 12.284-4.686 16.971 0L480 208v80H192v-48z\"\n            ],\n            \"check-circle\": [\n                512,\n                512,\n                [],\n                \"f058\",\n                \"M256 8C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm0 48c110.532 0 200 89.451 200 200 0 110.532-89.451 200-200 200-110.532 0-200-89.451-200-200 0-110.532 89.451-200 200-200m140.204 130.267l-22.536-22.718c-4.667-4.705-12.265-4.736-16.97-.068L215.346 303.697l-59.792-60.277c-4.667-4.705-12.265-4.736-16.97-.069l-22.719 22.536c-4.705 4.667-4.736 12.265-.068 16.971l90.781 91.516c4.667 4.705 12.265 4.736 16.97.068l172.589-171.204c4.704-4.668 4.734-12.266.067-16.971z\"\n            ],\n            \"file-pdf\": [\n                384,\n                512,\n                [],\n                \"f1c1\",\n                \"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm250.2-143.7c-12.2-12-47-8.7-64.4-6.5-17.2-10.5-28.7-25-36.8-46.3 3.9-16.1 10.1-40.6 5.4-56-4.2-26.2-37.8-23.6-42.6-5.9-4.4 16.1-.4 38.5 7 67.1-10 23.9-24.9 56-35.4 74.4-20 10.3-47 26.2-51 46.2-3.3 15.8 26 55.2 76.1-31.2 22.4-7.4 46.8-16.5 68.4-20.1 18.9 10.2 41 17 55.8 17 25.5 0 28-28.2 17.5-38.7zm-198.1 77.8c5.1-13.7 24.5-29.5 30.4-35-19 30.3-30.4 35.7-30.4 35zm81.6-190.6c7.4 0 6.7 32.1 1.8 40.8-4.4-13.9-4.3-40.8-1.8-40.8zm-24.4 136.6c9.7-16.9 18-37 24.7-54.7 8.3 15.1 18.9 27.2 30.1 35.5-20.8 4.3-38.9 13.1-54.8 19.2zm131.6-5s-5 6-37.3-7.8c35.1-2.6 40.9 5.4 37.3 7.8z\"\n            ],\n            bell: [\n                448,\n                512,\n                [],\n                \"f0f3\",\n                \"M439.39 362.29c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71zM67.53 368c21.22-27.97 44.42-74.33 44.53-159.42 0-.2-.06-.38-.06-.58 0-61.86 50.14-112 112-112s112 50.14 112 112c0 .2-.06.38-.06.58.11 85.1 23.31 131.46 44.53 159.42H67.53zM224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64z\"\n            ],\n            \"level-down-alt\": [\n                320,\n                512,\n                [],\n                \"f3be\",\n                \"M313.553 392.331L209.587 504.334c-9.485 10.214-25.676 10.229-35.174 0L70.438 392.331C56.232 377.031 67.062 352 88.025 352H152V80H68.024a11.996 11.996 0 0 1-8.485-3.515l-56-56C-4.021 12.926 1.333 0 12.024 0H208c13.255 0 24 10.745 24 24v328h63.966c20.878 0 31.851 24.969 17.587 40.331z\"\n            ]\n        },\n        solid: {\n            bookmark: [\n                384,\n                512,\n                [],\n                \"f02e\",\n                \"M0 512V48C0 21.49 21.49 0 48 0h288c26.51 0 48 21.49 48 48v464L192 400 0 512z\"\n            ],\n            comment: [\n                512,\n                512,\n                [],\n                \"f075\",\n                \"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32z\"\n            ],\n            \"pencil-alt\": [\n                512,\n                512,\n                [],\n                \"f303\",\n                \"M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z\"\n            ],\n            \"arrow-left\": [\n                448,\n                512,\n                [],\n                \"f060\",\n                \"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z\"\n            ],\n            \"caret-down\": [\n                320,\n                512,\n                [],\n                \"f0d7\",\n                \"M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z\"\n            ],\n            film: [\n                512,\n                512,\n                [],\n                \"f008\",\n                \"M488 64h-8v20c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12V64H96v20c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12V64h-8C10.7 64 0 74.7 0 88v336c0 13.3 10.7 24 24 24h8v-20c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v20h320v-20c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v20h8c13.3 0 24-10.7 24-24V88c0-13.3-10.7-24-24-24zM96 372c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm272 208c0 6.6-5.4 12-12 12H156c-6.6 0-12-5.4-12-12v-96c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v96zm0-168c0 6.6-5.4 12-12 12H156c-6.6 0-12-5.4-12-12v-96c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v96zm112 152c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40z\"\n            ],\n            times: [\n                352,\n                512,\n                [],\n                \"f00d\",\n                \"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z\"\n            ],\n            bell: [\n                448,\n                512,\n                [],\n                \"f0f3\",\n                \"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z\"\n            ],\n            \"ellipsis-h\": [\n                512,\n                512,\n                [],\n                \"f141\",\n                \"M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z\"\n            ],\n            search: [\n                512,\n                512,\n                [],\n                \"f002\",\n                \"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z\"\n            ],\n            \"headphones-alt\": [\n                512,\n                512,\n                [],\n                \"f58f\",\n                \"M160 288h-16c-35.35 0-64 28.7-64 64.12v63.76c0 35.41 28.65 64.12 64 64.12h16c17.67 0 32-14.36 32-32.06V320.06c0-17.71-14.33-32.06-32-32.06zm208 0h-16c-17.67 0-32 14.35-32 32.06v127.88c0 17.7 14.33 32.06 32 32.06h16c35.35 0 64-28.71 64-64.12v-63.76c0-35.41-28.65-64.12-64-64.12zM256 32C112.91 32 4.57 151.13 0 288v112c0 8.84 7.16 16 16 16h16c8.84 0 16-7.16 16-16V288c0-114.67 93.33-207.8 208-207.82 114.67.02 208 93.15 208 207.82v112c0 8.84 7.16 16 16 16h16c8.84 0 16-7.16 16-16V288C507.43 151.13 399.09 32 256 32z\"\n            ]\n        }\n    };\n    const icon = icons[this.props.family][this.props.icon];\n    if (icon) return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"svg\", {\n        style: this.props.rotation ? `transform: rotate(${this.props.rotation})` : null,\n        className: `fa-icon ${this.props.family} ${this.props.icon}`,\n        viewBox: `0 0 ${icon[0]} ${icon[1]}`\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"path\", {\n        fill: \"currentColor\",\n        d: icon[4]\n    }));\n}\nvar $cdd1b69860eb1f87$export$2e2bcd8739ae039 = $cdd1b69860eb1f87$var$FaIcon;\n\n\nconst $85c05060c4c33f8a$export$8b29a4b6778bf7f = (0, $cdd1b69860eb1f87$export$2e2bcd8739ae039);\n\n\n\n\n\n\n\n\n\n\nfunction $ef522b83495e3114$export$2e2bcd8739ae039(props) {\n    const { t: t } = (0, $829be5acfdd67d69$export$9fc83ad70ead8663)();\n    const groupId = (0, $35130c2d97e6777b$export$60241385465d0a34)(props.id);\n    const [loaded, setLoaded] = (0, $35130c2d97e6777b$export$60241385465d0a34)(false);\n    const [search, setSearch] = (0, $35130c2d97e6777b$export$60241385465d0a34)(\"\");\n    const [hashtags, setHashtags] = (0, $35130c2d97e6777b$export$60241385465d0a34)(\"\");\n    const [messages, setMessages] = (0, $35130c2d97e6777b$export$60241385465d0a34)([]);\n    const loadMessages = ()=>{\n        const search = (0, $ba05c0ef8a781e02$export$5375cda95f0b0eb4).getParam(\"q\");\n        const hashtags = (0, $ba05c0ef8a781e02$export$5375cda95f0b0eb4).getParam(\"hashtags\");\n        setSearch(search);\n        setHashtags(hashtags);\n        setLoaded(false);\n        setMessages([]);\n        (0, $ba05c0ef8a781e02$export$7d6f1c8842f9f527).post(\"/api/messages/search\", {\n            group: groupId,\n            search: search,\n            hashtags: hashtags\n        }).then((res)=>{\n            if (res && Array.isArray(res[\"messages\"])) {\n                setSearch(search);\n                setMessages(res[\"messages\"]);\n                setLoaded(true);\n            }\n        });\n    };\n    (0, $35130c2d97e6777b$export$6d9c69b0de29b591)(()=>{\n        loadMessages();\n        window.addEventListener(\"groupSearch\", loadMessages);\n        return ()=>{\n            window.removeEventListener(\"groupSearch\", loadMessages);\n        };\n    }, []);\n    if (!Array.isArray(messages)) return;\n    return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", null, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"article\", {\n        id: \"group\",\n        class: \"justify-content-center d-flex\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"search-results-container container-fluid d-flex justify-content-center flex-wrap\"\n    }, messages.length == 0 && !loaded && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"p\", null, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"mt-5 spinner orange-spinner\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", null), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", null), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", null), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", null), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", null))), messages.length == 0 && loaded && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"p\", null, t(\"search_without_result\")), messages.map((msg, i)=>{\n        return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $19924b6e568a4f60$export$423dfe6469a8e0dd), {\n            tabindex: i + 1,\n            key: msg.id,\n            message: msg,\n            groupId: groupId,\n            search: search,\n            hashtags: hashtags\n        });\n    }))));\n}\n\n\n\n\n\nfunction $cccc4ecb09949b4d$export$2e2bcd8739ae039() {\n    let params = (0, $405e09292ddca27f$export$99eaa27ddbbb95ef)();\n    return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"main\", null, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $a779245c27c6d4b9$export$42cfbb80f7861e77), null), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"content\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"article\", {\n        class: \"mb-3\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"container pb-3\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $a779245c27c6d4b9$export$8eb86eb08c0b5c12), {\n        key: params.id,\n        id: params.id\n    })))));\n}\n\n\n\n\n\n\nfunction $9aa000d3d53c8f9f$export$2e2bcd8739ae039() {\n    const { t: t } = (0, $829be5acfdd67d69$export$9fc83ad70ead8663)();\n    return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $bc4b82f252aed4aa$export$ffb0004e005737fa), null, this.props.groups && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"nav-link dropdown groups unselectable\",\n        tabindex: \"-1\",\n        onClick: (e)=>e.currentTarget.classList.toggle(\"active\")\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"unselectable pr-1\"\n    }, t(\"groups\"), \" \", (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $85c05060c4c33f8a$export$8b29a4b6778bf7f), {\n        family: \"solid\",\n        icon: \"caret-down\"\n    })), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"dropdown-menu dropdown-left\"\n    }, this.props.groups.filter((e)=>!!e).map((e)=>(0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $4a6806eb551925a6$export$a6c7ac8248d6e38a), {\n            key: e.id,\n            to: `/groups/${e.id}`,\n            class: \"d-block seamless-link unselectable\"\n        }, e.name)), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $4a6806eb551925a6$export$a6c7ac8248d6e38a), {\n        to: \"/create-group\",\n        class: \"seamless-link unselectable\"\n    }, `+ ${t(\"create_a_group\")}`))));\n}\n\n\n\n\n\n\n\n\n\n\nlet $5133ef8bc2964922$export$554ccc96b126a426 = (0, $bc4b82f252aed4aa$export$fd42f52fd3ae1109)();\nlet $5133ef8bc2964922$var$useIsomorphicLayoutEffect = typeof window !== \"undefined\" ? (0, $35130c2d97e6777b$export$e5c5a5f917a5871c) : (0, $35130c2d97e6777b$export$6d9c69b0de29b591);\nlet $5133ef8bc2964922$export$b5d7ee322abba39e = (context)=>(...keys)=>{\n        let store = (0, $35130c2d97e6777b$export$fae74005e78b1a27)(context);\n        let rerender = (0, $35130c2d97e6777b$export$60241385465d0a34)({});\n        $5133ef8bc2964922$var$useIsomorphicLayoutEffect(()=>{\n            return store.on(\"@changed\", (_, changed)=>{\n                let changesInKeys = keys.some((key)=>key in changed);\n                if (changesInKeys) rerender[1]({});\n            });\n        }, []);\n        return (0, $35130c2d97e6777b$export$1538c33de8887b59)(()=>{\n            let state = store.get();\n            let data = {};\n            keys.forEach((key)=>{\n                data[key] = state[key];\n            });\n            data.dispatch = store.dispatch;\n            return data;\n        }, [\n            rerender[0]\n        ]);\n    };\nlet $5133ef8bc2964922$export$11aeef812f154e9e = $5133ef8bc2964922$export$b5d7ee322abba39e($5133ef8bc2964922$export$554ccc96b126a426);\nlet $5133ef8bc2964922$export$c8172487361f669f = (...keys)=>{\n    let Component = keys.pop();\n    return (0, $c9d322eeb636f8e5$export$257a8862b851cb5b)((originProps, ref)=>{\n        let props = {\n            ...originProps,\n            ...$5133ef8bc2964922$export$11aeef812f154e9e(...keys),\n            ref: ref\n        };\n        return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(Component, props);\n    });\n};\n\n\n\nfunction $9cd3479cd46259b1$export$2e2bcd8739ae039() {\n    const { t: t } = (0, $829be5acfdd67d69$export$9fc83ad70ead8663)();\n    const { bookmarks: bookmarks } = (0, $5133ef8bc2964922$export$11aeef812f154e9e)(\"bookmarks\");\n    const { me: me } = (0, $5133ef8bc2964922$export$11aeef812f154e9e)(\"me\");\n    return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"main-nav nav align-items-center z-index-100\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"navbar-block\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"menu dropdown cursor-pointer\",\n        tabindex: \"-1\",\n        onClick: (e)=>e.currentTarget.classList.toggle(\"active\")\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"rounded-circle avatar unselectable\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"img\", {\n        class: \"rounded-circle\",\n        style: (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).backgroundHash(me.id),\n        src: me.avatar ? (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).crop(me.avatar[\"id\"], 80, 80) : (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).defaultAvatar,\n        onError: (e)=>e.currentTarget.src = (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).defaultAvatar\n    })), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"dropdown-menu dropdown-right\"\n    }, bookmarks?.length > 0 && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $4a6806eb551925a6$export$a6c7ac8248d6e38a), {\n        class: \"d-block seamless-link capitalize\",\n        to: \"/bookmarks\"\n    }, t(\"bookmarks\")), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $4a6806eb551925a6$export$a6c7ac8248d6e38a), {\n        class: \"d-block seamless-link capitalize\",\n        to: `/users/${me.id}/settings`\n    }, t(\"settings\")), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $4a6806eb551925a6$export$a6c7ac8248d6e38a), {\n        class: \"d-block seamless-link capitalize\",\n        to: \"/logout\"\n    }, t(\"logout\")))), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $a779245c27c6d4b9$export$2d8ae0bb40c793f6), null)), [\n        \"messages\",\n        \"groups\"\n    ].includes((0, $ba05c0ef8a781e02$export$5375cda95f0b0eb4).route) && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $e4fc23afeade3f60$export$4b85d3515bd863a5), null), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"navbar-block\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $a779245c27c6d4b9$export$ffe0a8eecde78dfa), {\n        groups: me.groups\n    })));\n}\n\n\n\n\n\n\n\n\nfunction $5cdf1c2fc07a1db5$var$_extends() {\n    $5cdf1c2fc07a1db5$var$_extends = Object.assign ? Object.assign.bind() : function(target) {\n        for(var i = 1; i < arguments.length; i++){\n            var source = arguments[i];\n            for(var key in source)if (Object.prototype.hasOwnProperty.call(source, key)) target[key] = source[key];\n        }\n        return target;\n    };\n    return $5cdf1c2fc07a1db5$var$_extends.apply(this, arguments);\n}\nfunction $5cdf1c2fc07a1db5$export$2e2bcd8739ae039() {\n    const { t: t } = (0, $829be5acfdd67d69$export$9fc83ad70ead8663)();\n    const { notifications: notifications } = (0, $5133ef8bc2964922$export$11aeef812f154e9e)(\"notifications\");\n    if (!notifications) return null;\n    return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        className: `menu dropdown${notifications.length ? \" cursor-pointer\" : \"\"}`,\n        title: t(\"notifications\"),\n        tabindex: \"-1\",\n        onClick: (e)=>notifications.length && e.currentTarget.classList.toggle(\"active\")\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"unselectable button-with-count\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $85c05060c4c33f8a$export$8b29a4b6778bf7f), {\n        family: notifications.length ? \"solid\" : \"regular\",\n        icon: \"bell\"\n    }), !!notifications.filter((n)=>!n.read).length && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"unread-badge\"\n    })), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"dropdown-menu dropdown-right notifications-menu\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"notification-header\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"strong\", {\n        class: \"capitalize\"\n    }, t(\"notifications\")), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"action capitalize\",\n        onClick: ()=>{\n            (0, $ba05c0ef8a781e02$export$6008d97729a90c74).markAllNotificationsAsRead();\n        }\n    }, t(\"mark_all_as_read\"))), notifications?.length && notifications.sort((a, b)=>b.createdAt - a.createdAt).slice(0, (0, $ba05c0ef8a781e02$export$6008d97729a90c74).LIMIT).map((e)=>(0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $e4fc23afeade3f60$export$14834abbfce3b8cd), $5cdf1c2fc07a1db5$var$_extends({\n            key: e.id + e.read\n        }, e)))));\n}\n\n\nconst $a779245c27c6d4b9$export$8eb86eb08c0b5c12 = (0, $ef522b83495e3114$export$2e2bcd8739ae039);\nconst $a779245c27c6d4b9$export$5cc34a6155e65c0e = (0, $cccc4ecb09949b4d$export$2e2bcd8739ae039);\nconst $a779245c27c6d4b9$export$ffe0a8eecde78dfa = (0, $9aa000d3d53c8f9f$export$2e2bcd8739ae039);\nconst $a779245c27c6d4b9$export$42cfbb80f7861e77 = (0, $9cd3479cd46259b1$export$2e2bcd8739ae039);\nconst $a779245c27c6d4b9$export$2d8ae0bb40c793f6 = (0, $5cdf1c2fc07a1db5$export$2e2bcd8739ae039);\n\n\n\nfunction $c6bf11b1e742cb38$export$2e2bcd8739ae039() {\n    const { bookmarks: bookmarks } = (0, $5133ef8bc2964922$export$11aeef812f154e9e)(\"bookmarks\");\n    if (!bookmarks) return null;\n    if (!Array.isArray(bookmarks) || bookmarks.length < 1) return;\n    return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"main\", null, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $a779245c27c6d4b9$export$42cfbb80f7861e77), null), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"content\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"article\", {\n        id: \"group\",\n        class: \"justify-content-center d-flex\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"message-container container-fluid d-flex justify-content-center flex-wrap\"\n    }, bookmarks.map((b, i)=>{\n        return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $19924b6e568a4f60$export$84c965ec8b6b0f92), {\n            tabindex: i + 1,\n            key: b.message.id,\n            id: b.message.id\n        });\n    })))));\n}\n\n\n\n\n\n\nclass $968c795b42e82a14$var$CreateGroup extends (0, $bc4b82f252aed4aa$export$16fa2f45be04daa8) {\n    constructor(){\n        super();\n        this.postNewGroup = this.postNewGroup.bind(this);\n    }\n    postNewGroup(event) {\n        event.preventDefault();\n        const name = document.querySelector(\"#create_group_form input[name='name']\").value;\n        let group = {};\n        if (name) group.name = name;\n        else return false;\n        group.createdAt = Math.floor(Date.now() / 1000);\n        (0, $ba05c0ef8a781e02$export$7d6f1c8842f9f527).post(\"/api/groups\", group).then((res)=>{\n            (0, $ba05c0ef8a781e02$export$7d6f1c8842f9f527).post(`/api/groups/invitation/${res.secretKey}`, {}).then((res)=>{\n                window.location = (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).toApp(`/groups/${res.id}`);\n            });\n        });\n    }\n    render() {\n        return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"main\", null, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $a779245c27c6d4b9$export$42cfbb80f7861e77), null), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n            class: \"content\"\n        }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n            class: \"container mt-2\"\n        }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n            class: \"group-settings\"\n        }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n            class: \"card\"\n        }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n            class: \"card-body\"\n        }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n            class: \"container-fluid p-1\"\n        }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n            class: \"row\"\n        }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n            class: \"col-12 col-md-10\"\n        }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"form\", {\n            id: \"create_group_form\",\n            class: \"mb-1\"\n        }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n            class: \"form-group\"\n        }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"label\", {\n            for: \"name\"\n        }, this.props.t(\"name\"), \": \"), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"input\", {\n            type: \"text\",\n            name: \"name\",\n            minlength: \"1\",\n            maxlength: \"128\",\n            placeholder: this.props.t(\"name_input\"),\n            class: \"form-control\",\n            required: true\n        })), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"button\", {\n            onClick: (e)=>this.postNewGroup(e),\n            class: \"btn btn-primary\"\n        }, this.props.t(\"create_the_group\"))))))))))));\n    }\n}\nvar $968c795b42e82a14$export$2e2bcd8739ae039 = (0, $5fa4965e78bef7fc$export$2dcb0053efd21124)()($968c795b42e82a14$var$CreateGroup);\n\n\n\n\n\n\n\nfunction $e3f95cd8f7387e6c$export$2e2bcd8739ae039() {\n    let params = (0, $405e09292ddca27f$export$99eaa27ddbbb95ef)();\n    return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"main\", null, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $a779245c27c6d4b9$export$42cfbb80f7861e77), null), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"content\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", null, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", null, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"article\", {\n        id: \"group\",\n        class: \"justify-content-center d-flex\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"message-container container-fluid d-flex justify-content-center flex-wrap\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $19924b6e568a4f60$export$89085c7857c3f940), {\n        key: params.id,\n        id: params.id\n    })))), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $4a6806eb551925a6$export$a6c7ac8248d6e38a), {\n        class: \"write-button material-shadow seamless-link\",\n        to: `/groups/${params.id}/write`\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $85c05060c4c33f8a$export$8b29a4b6778bf7f), {\n        family: \"solid\",\n        icon: \"pencil-alt\"\n    })))));\n}\n\n\n\n\n\nfunction $08392949ea77580a$export$2e2bcd8739ae039(props) {\n    const { t: t } = (0, $829be5acfdd67d69$export$9fc83ad70ead8663)();\n    // duration relative to event\n    const humanTime = (timestamp)=>{\n        if (!timestamp) return null;\n        const duration = Math.abs(Math.round((Date.now() / 1000 - timestamp) / 60));\n        if (duration < 1) return t(\"just_now\");\n        if (duration < 60) return t(\"ago\", {\n            duration: `${duration}mn`\n        });\n        if (duration < 1440) return t(\"ago\", {\n            duration: `${Math.floor(duration / 60)}h`\n        });\n        return (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).humanFullDate(timestamp).split(\" \")[0];\n    };\n    return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $bc4b82f252aed4aa$export$ffb0004e005737fa), null, humanTime(props.timestamp));\n}\n\n\n\n\n\n\n\n\nfunction $31634567bd2e908e$export$2e2bcd8739ae039(props) {\n    const navigate = (0, $405e09292ddca27f$export$9770f232ac06a008)();\n    const { t: t } = (0, $829be5acfdd67d69$export$9fc83ad70ead8663)();\n    const [target, setTarget] = (0, $35130c2d97e6777b$export$60241385465d0a34)(null);\n    const [action, setAction] = (0, $35130c2d97e6777b$export$60241385465d0a34)(null);\n    const [title, setTitle] = (0, $35130c2d97e6777b$export$60241385465d0a34)(null);\n    const [author, setAuthor] = (0, $35130c2d97e6777b$export$60241385465d0a34)(null);\n    const [notification, setNotification] = (0, $35130c2d97e6777b$export$60241385465d0a34)(null);\n    const getMiniature = (notification)=>{\n        let imgSrc = (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).defaultAvatar;\n        if (notification?.miniature && notification.type != \"global_notification\") imgSrc = (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).crop(notification?.miniature?.id, 80, 80);\n        return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"img\", {\n            style: (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).backgroundHash(notification?.fromUser?.id),\n            src: imgSrc,\n            onError: (e)=>setMiniatureOnError(e)\n        });\n    };\n    const setMiniatureOnError = (event)=>{\n        event.currentTarget.src = (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).defaultAvatar;\n    };\n    const getAction = (notification)=>{\n        switch(notification?.type){\n            case \"new_message\":\n                return t(\"has_posted_in\");\n            case \"new_comment\":\n                return t(\"has_commented_on\");\n            case \"user_joined_group\":\n                return t(\"has_joined\");\n            case \"user_left_group\":\n                return t(\"has_left\");\n            case \"group_name_change\":\n                return t(\"changed_group_name\");\n            default:\n                return \"\";\n        }\n    };\n    const getObject = (notification)=>{\n        switch(notification?.type){\n            case \"new_message\":\n                return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $bc4b82f252aed4aa$export$ffb0004e005737fa), null, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"strong\", null, notification?.fromGroup.name), title && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $bc4b82f252aed4aa$export$ffb0004e005737fa), null, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"br\", null), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"small\", null, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"em\", null, (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).limitStrSize(title, 50)))));\n            case \"new_comment\":\n                return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"span\", null, `${t(\"the_message_from\")} `, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"strong\", null, notification?.parentAuthorName), title && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $bc4b82f252aed4aa$export$ffb0004e005737fa), null, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"br\", null), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"small\", null, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"em\", null, (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).limitStrSize(title, 50)))));\n            case \"user_joined_group\":\n            case \"user_left_group\":\n                return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"strong\", null, notification?.fromGroup.name);\n            case \"group_name_change\":\n                return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"span\", null, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"strong\", null, notification.data[\"previousGroupName\"]), ` ${t(\"to\")} `, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"strong\", null, notification.data[\"newGroupName\"]));\n            case \"global_notification\":\n                return notification.data[\"text\"];\n            default:\n                return \"\";\n        }\n    };\n    const getTarget = (notification, message_id)=>{\n        switch(notification?.type){\n            case \"user_joined_group\":\n            case \"user_left_group\":\n            case \"group_name_change\":\n                return `/groups/${notification.fromGroup.id}`;\n            case \"new_message\":\n                return `/messages/${notification.target}`;\n            case \"new_comment\":\n                return `/messages/${message_id}/${notification.target}`;\n            case \"global_notification\":\n                return notification.target;\n            default:\n                return \"\";\n        }\n    };\n    const onClick = (event, target)=>{\n        event.preventDefault();\n        (0, $ba05c0ef8a781e02$export$6008d97729a90c74).markAsRead(props.id).then(()=>{\n            navigate(target);\n        });\n    };\n    (0, $35130c2d97e6777b$export$6d9c69b0de29b591)(()=>{\n        (0, $ba05c0ef8a781e02$export$7d6f1c8842f9f527).get(`/api/notifications/${props.id}`, false, 100).then((n)=>{\n            if (n) {\n                setTarget(getTarget(n, n.fromMessage?.id));\n                setAction(getAction(n));\n                setTitle(n.title);\n                if (n?.fromUser?.id) (0, $ba05c0ef8a781e02$export$7d6f1c8842f9f527).get(`/api/users/${n.fromUser.id}`).then((u)=>{\n                    setAuthor(u);\n                });\n                setNotification(n);\n            }\n        });\n    }, []);\n    if (!notification) return null;\n    return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $4a6806eb551925a6$export$a6c7ac8248d6e38a), {\n        key: props.id,\n        class: `notification seamless-link unselectable ${!notification.read ? \"unread\" : \"\"}`,\n        to: target,\n        title: title\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"miniature unselectable\"\n    }, getMiniature(notification)), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"infos\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"description\"\n    }, notification.type != \"global_notification\" && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $bc4b82f252aed4aa$export$ffb0004e005737fa), null, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"strong\", null, author?.name || \"--\"), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"span\", null, ` ${action} `)), getObject(notification)), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"date\"\n    }, (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).humanTime(notification.createdAt))), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"options dropdown\",\n        onClick: (e)=>{\n            e.stopPropagation();\n            e.preventDefault();\n            e?.target?.closest(\".dropdown\")?.classList.toggle(\"active\");\n        }\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"none-if-follows-empty\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $85c05060c4c33f8a$export$8b29a4b6778bf7f), {\n        family: \"solid\",\n        icon: \"ellipsis-h\"\n    })), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"dropdown-menu dropdown-options\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"a\", {\n        class: \"seamless-link capitalize\",\n        onClick: ()=>(0, $ba05c0ef8a781e02$export$6008d97729a90c74).removeMatchingNotifications(notification.id)\n    }, t(\"delete\")))));\n}\n\n\n\n\n\n\nfunction $b86bbf00e8622c6b$export$2e2bcd8739ae039() {\n    const params = (0, $405e09292ddca27f$export$99eaa27ddbbb95ef)();\n    const [message, setMessage] = (0, $35130c2d97e6777b$export$60241385465d0a34)(null);\n    (0, $35130c2d97e6777b$export$6d9c69b0de29b591)(()=>{\n        (0, $ba05c0ef8a781e02$export$7d6f1c8842f9f527).get(`/api/groups/${params.id}/random`).then((m)=>{\n            setMessage(m);\n        });\n    }, []);\n    if (message) return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $405e09292ddca27f$export$444b3ab0cb9aec40), {\n        to: `/messages/${message.id}`,\n        replace: true\n    });\n}\n\n\n\n\n\n\n\nfunction $5df68f20e9e897ff$export$2e2bcd8739ae039() {\n    const { t: t } = (0, $829be5acfdd67d69$export$9fc83ad70ead8663)();\n    const navigate = (0, $405e09292ddca27f$export$9770f232ac06a008)();\n    function search(evt) {\n        evt.preventDefault();\n        (0, $ba05c0ef8a781e02$export$5375cda95f0b0eb4).getEntity().then((entity)=>{\n            let group_id = null;\n            switch(entity.entityType){\n                case \"group\":\n                    group_id = entity.id;\n                    break;\n                case \"message\":\n                    group_id = entity.group.id;\n                    break;\n                default:\n            }\n            // https://stackoverflow.com/a/37511463\n            let searchTerms = document.getElementById(\"search\").value.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\").split(\" \");\n            navigate(`/groups/${group_id}/search?q=${searchTerms.join(\"+\")}`);\n            window.dispatchEvent(new CustomEvent(\"groupSearch\"));\n        });\n    }\n    return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"form\", {\n        class: \"navbar-block search-block\",\n        onSubmit: (e)=>search(e)\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"input-group\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"input\", {\n        class: \"form-control\",\n        type: \"text\",\n        id: \"search\",\n        placeholder: t(\"search_in_group\"),\n        value: (0, $ba05c0ef8a781e02$export$5375cda95f0b0eb4).getParam(\"q\").replace(/\\+/g, \" \")\n    }), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"input-group-append\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"button\", {\n        class: \"btn btn-secondary\",\n        type: \"submit\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $85c05060c4c33f8a$export$8b29a4b6778bf7f), {\n        family: \"solid\",\n        icon: \"search\"\n    })))));\n}\n\n\n\n\n\n\n\n\nfunction $6aca12e4c56a7a76$export$2e2bcd8739ae039() {\n    let params = (0, $405e09292ddca27f$export$99eaa27ddbbb95ef)();\n    return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"main\", null, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $a779245c27c6d4b9$export$42cfbb80f7861e77), null), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"content\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"article\", {\n        class: \"mb-3\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"container pb-3\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $017da47328f74ae1$export$d7a960146e1a269e), {\n        focus: true,\n        group: params.id\n    })))));\n}\n\n\n\n\n\n\n\n\n// trick from https://stackoverflow.com/a/53837442\nfunction $21521b54b609d5fa$var$useForceUpdate() {\n    const [value, setValue] = (0, $35130c2d97e6777b$export$60241385465d0a34)(0); // integer state\n    return ()=>setValue((value)=>value + 1); // update state to force render\n}\nfunction $21521b54b609d5fa$export$2e2bcd8739ae039(props) {\n    const { t: t } = (0, $829be5acfdd67d69$export$9fc83ad70ead8663)();\n    const navigate = (0, $405e09292ddca27f$export$9770f232ac06a008)();\n    const [files, setFiles] = (0, $35130c2d97e6777b$export$60241385465d0a34)(props?.files || []);\n    const [sending, setSending] = (0, $35130c2d97e6777b$export$60241385465d0a34)(false);\n    const [uploading, setUploading] = (0, $35130c2d97e6777b$export$60241385465d0a34)(false);\n    const forceUpdate = $21521b54b609d5fa$var$useForceUpdate();\n    const writerId = (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).genId();\n    // This allows to have the latest state of files in callbacks\n    // https://stackoverflow.com/a/60643670\n    const currentFiles = (0, $35130c2d97e6777b$export$b8f5890fc79d6aca)();\n    currentFiles.current = files;\n    const setForm = (writerForm, files = [], title = \"\", text = \"\")=>{\n        setFiles(files);\n        Array.from(writerForm.current.getElementsByClassName(\"title-input\")).map((e)=>e.value = title);\n        Array.from(writerForm.current.getElementsByClassName(\"text-input\")).map((e)=>e.value = text);\n    };\n    const updateFile = (id, file)=>{\n        setFiles(currentFiles.current.map((f)=>f.id === id ? Object.assign(f, file) : f));\n    };\n    const invertFiles = (id_a, id_b)=>{\n        const index_a = files.findIndex((e)=>e.id === id_a);\n        const index_b = files.findIndex((e)=>e.id === id_b);\n        [files[index_a], files[index_b]] = [\n            files[index_b],\n            files[index_a]\n        ];\n        setFiles(files);\n        forceUpdate();\n    };\n    const removeFile = (id)=>{\n        setFiles(files.filter((f)=>f.id != id));\n    };\n    const uploadFile = (fileId)=>{\n        const formData = new FormData();\n        let file = files.find((e)=>e.id == fileId);\n        if (!file || !file.inputFile) {\n            // TODO handle this properly\n            console.error(files, file, fileId);\n            throw \"error\";\n        }\n        formData.append(\"file\", file.inputFile);\n        updateFile(fileId, Object.assign(file, {\n            status: \"uploading\"\n        }));\n        setUploading(true);\n        (0, $ba05c0ef8a781e02$export$7d6f1c8842f9f527).sendFile(formData, (file)=>{\n            setUploading(false);\n            updateFile(fileId, Object.assign({\n                status: \"ready\"\n            }, file));\n        }, (e)=>{\n            updateFile(fileId, {\n                status: \"uploading\",\n                progress: Math.floor(e.loaded / e.total * 100)\n            });\n        }, (e)=>{\n            setUploading(false);\n            console.warn(e);\n            (0, $ba05c0ef8a781e02$export$5ea928c9faf85bd3).add(t(\"error_upload\"), \"alert-danger\");\n            removeFile(fileId);\n        });\n    };\n    const putMessage = (msg, writerForm)=>{\n        (0, $ba05c0ef8a781e02$export$7d6f1c8842f9f527).put(`/api/messages/${props.messageId}`, msg).then((res)=>{\n            setForm(writerForm, [], \"\", \"\");\n            setSending(false);\n            if (!res) {\n                (0, $ba05c0ef8a781e02$export$5ea928c9faf85bd3).add(t(\"error_new_message\"), \"alert-danger\");\n                return;\n            }\n            window.dispatchEvent(new CustomEvent(\"editMessage\", {\n                detail: res\n            }));\n        });\n        setSending(true);\n    };\n    const postMessage = (msg, writerForm)=>{\n        msg = Object.assign(msg, {\n            createdAt: Math.floor(Date.now() / 1000),\n            author: (0, $ba05c0ef8a781e02$export$3e32638432616b6).id,\n            group: (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).getId(props.group),\n            children: [],\n            lastActivityDate: Math.floor(Date.now() / 1000)\n        });\n        if (props.parent) msg.parent = (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).getId(props.parent);\n        // don't post if there is nothing to post\n        if (!msg.files.length && !msg.data.text && !msg.data.title) {\n            (0, $ba05c0ef8a781e02$export$5ea928c9faf85bd3).add(t(\"empty_message\"), \"alert-danger\");\n            return;\n        }\n        (0, $ba05c0ef8a781e02$export$7d6f1c8842f9f527).post(\"/api/messages\", msg).then((res)=>{\n            if (!res) {\n                setSending(false);\n                (0, $ba05c0ef8a781e02$export$5ea928c9faf85bd3).add(t(\"error_new_message\"), \"alert-danger\");\n                return;\n            }\n            if (props.isChild) {\n                setSending(false);\n                window.dispatchEvent(new CustomEvent(\"newChild\", {\n                    detail: res\n                }));\n            } else navigate(`/messages/${res.id}`);\n            setForm(writerForm, [], \"\", \"\");\n        });\n        setSending(true);\n    };\n    const sendMessage = (writerForm, data)=>{\n        let msg = {\n            files: files.filter((e)=>!e?.removed).filter((e)=>[\n                    \"ready\",\n                    \"raw\"\n                ].includes(e?.status)).map((e)=>e?.id).filter((e)=>!!e),\n            data: {\n                title: data?.title,\n                text: data?.text\n            }\n        };\n        if (props.messageId) putMessage(msg, writerForm);\n        else postMessage(msg, writerForm);\n    };\n    // toggle state (removed or not) of a file\n    const toggleFile = (id)=>{\n        setFiles(files.map((f)=>{\n            if (f.id == id) f.removed = !f.removed;\n            return f;\n        }));\n    };\n    const addFiles = (mimetype, input_files)=>{\n        let list = Array.from(input_files).map((e)=>({\n                inputFile: e,\n                type: mimetype,\n                id: (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).genId(),\n                progress: 0,\n                status: \"initial\"\n            }));\n        setFiles([\n            ...files,\n            ...list\n        ]);\n    };\n    const inputFile = (mimetype, multiple = false)=>{\n        const input = document.createElement(\"input\");\n        document.body.appendChild(input);\n        input.style.display = \"none\";\n        input.type = \"file\";\n        input.accept = mimetype;\n        if (multiple) input.multiple = \"multiple\";\n        input.addEventListener(\"change\", (event)=>{\n            addFiles(mimetype, event.target.files);\n        });\n        input.click();\n    };\n    (0, $35130c2d97e6777b$export$6d9c69b0de29b591)(()=>{\n        if (files.filter((e)=>e.status === \"uploading\").length < 2) {\n            for(let i = 0; i < files.length; i++)if (files[i].status == \"initial\" && !!files[i].inputFile) {\n                uploadFile(files[i].id);\n                break;\n            }\n        }\n    }, [\n        files\n    ]);\n    return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $017da47328f74ae1$export$29beae8571dce55f), {\n        id: writerId,\n        sending: sending,\n        uploading: uploading,\n        inputFile: inputFile,\n        sendMessage: sendMessage,\n        cancel: props.cancel,\n        files: files,\n        toggleFile: toggleFile,\n        invertFiles: invertFiles,\n        addFiles: addFiles,\n        group: props.group,\n        isChild: props.isChild,\n        text: props.text,\n        title: props.title\n    });\n}\n\n\n\n\n\n\n\n\n\nclass $0d6022fefd5ea3cb$export$2e2bcd8739ae039 extends (0, $bc4b82f252aed4aa$export$16fa2f45be04daa8) {\n    render() {\n        const embedUrl = `${this.props.url}/size=large/bgcol=f5f5f5/linkcol=0687f5/minimal=true/tracklist=false/`;\n        if (this.state.revealed) return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n            class: \"bandcamp-embed embed-responsive embed-responsive-1by1\"\n        }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"iframe\", {\n            class: \"embed-responsive-item\",\n            src: embedUrl\n        }));\n        return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n            class: \"embed-preview\",\n            onClick: ()=>this.setState({\n                    revealed: true\n                })\n        }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n            class: \"bandcamp\"\n        }), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"img\", {\n            src: this.props.preview\n        }));\n    }\n}\n\n\n\nclass $339cc4f4e8c01c65$export$2e2bcd8739ae039 extends (0, $bc4b82f252aed4aa$export$16fa2f45be04daa8) {\n    render() {\n        if (this.state.revealed) return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n            class: \"embed-responsive embed-responsive-16by9\"\n        }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"iframe\", {\n            allowfullscreen: true,\n            class: \"embed-responsive-item\",\n            src: this.props.url\n        }));\n        return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n            class: \"embed-preview\",\n            onClick: ()=>this.setState({\n                    revealed: true\n                })\n        }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n            className: this.props.playBtnClass\n        }), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"img\", {\n            src: this.props.preview\n        }));\n    }\n}\n\n\nvar $91f4924d9b614d55$exports = {};\n!function(e, t) {\n    $91f4924d9b614d55$exports = t();\n}($91f4924d9b614d55$exports, function() {\n    \"use strict\";\n    function e(t) {\n        return (e = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(e) {\n            return typeof e;\n        } : function(e) {\n            return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n        })(t);\n    }\n    function t(e, t) {\n        if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n    }\n    function i(e, t) {\n        for(var i = 0; i < t.length; i++){\n            var n = t[i];\n            n.enumerable = n.enumerable || !1, n.configurable = !0, \"value\" in n && (n.writable = !0), Object.defineProperty(e, n.key, n);\n        }\n    }\n    function n(e, t, n) {\n        return t && i(e.prototype, t), n && i(e, n), e;\n    }\n    var s = Date.now();\n    function l() {\n        var e = {}, t = !0, i = 0, n = arguments.length;\n        \"[object Boolean]\" === Object.prototype.toString.call(arguments[0]) && (t = arguments[0], i++);\n        for(var s = function(i) {\n            for(var n in i)Object.prototype.hasOwnProperty.call(i, n) && (t && \"[object Object]\" === Object.prototype.toString.call(i[n]) ? e[n] = l(!0, e[n], i[n]) : e[n] = i[n]);\n        }; i < n; i++){\n            var o = arguments[i];\n            s(o);\n        }\n        return e;\n    }\n    function o(e, t) {\n        if ((k(e) || e === window || e === document) && (e = [\n            e\n        ]), A(e) || L(e) || (e = [\n            e\n        ]), 0 != P(e)) {\n            if (A(e) && !L(e)) for(var i = e.length, n = 0; n < i && !1 !== t.call(e[n], e[n], n, e); n++);\n            else if (L(e)) {\n                for(var s in e)if (O(e, s) && !1 === t.call(e[s], e[s], s, e)) break;\n            }\n        }\n    }\n    function r(e) {\n        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null, i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null, n = e[s] = e[s] || [], l = {\n            all: n,\n            evt: null,\n            found: null\n        };\n        return t && i && P(n) > 0 && o(n, function(e, n) {\n            if (e.eventName == t && e.fn.toString() == i.toString()) return l.found = !0, l.evt = n, !1;\n        }), l;\n    }\n    function a(e) {\n        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, i = t.onElement, n = t.withCallback, s = t.avoidDuplicate, l = void 0 === s || s, a = t.once, h = void 0 !== a && a, d = t.useCapture, c = void 0 !== d && d, u = arguments.length > 2 ? arguments[2] : void 0, g = i || [];\n        function v(e) {\n            T(n) && n.call(u, e, this), h && v.destroy();\n        }\n        return C(g) && (g = document.querySelectorAll(g)), v.destroy = function() {\n            o(g, function(t) {\n                var i = r(t, e, v);\n                i.found && i.all.splice(i.evt, 1), t.removeEventListener && t.removeEventListener(e, v, c);\n            });\n        }, o(g, function(t) {\n            var i = r(t, e, v);\n            (t.addEventListener && l && !i.found || !l) && (t.addEventListener(e, v, c), i.all.push({\n                eventName: e,\n                fn: v\n            }));\n        }), v;\n    }\n    function h(e, t) {\n        o(t.split(\" \"), function(t) {\n            return e.classList.add(t);\n        });\n    }\n    function d(e, t) {\n        o(t.split(\" \"), function(t) {\n            return e.classList.remove(t);\n        });\n    }\n    function c(e, t) {\n        return e.classList.contains(t);\n    }\n    function u(e, t) {\n        for(; e !== document.body;){\n            if (!(e = e.parentElement)) return !1;\n            if (\"function\" == typeof e.matches ? e.matches(t) : e.msMatchesSelector(t)) return e;\n        }\n    }\n    function g(e) {\n        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : \"\", i = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];\n        if (!e || \"\" === t) return !1;\n        if (\"none\" === t) return T(i) && i(), !1;\n        var n = x(), s = t.split(\" \");\n        o(s, function(t) {\n            h(e, \"g\" + t);\n        }), a(n, {\n            onElement: e,\n            avoidDuplicate: !1,\n            once: !0,\n            withCallback: function(e, t) {\n                o(s, function(e) {\n                    d(t, \"g\" + e);\n                }), T(i) && i();\n            }\n        });\n    }\n    function v(e) {\n        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : \"\";\n        if (\"\" === t) return e.style.webkitTransform = \"\", e.style.MozTransform = \"\", e.style.msTransform = \"\", e.style.OTransform = \"\", e.style.transform = \"\", !1;\n        e.style.webkitTransform = t, e.style.MozTransform = t, e.style.msTransform = t, e.style.OTransform = t, e.style.transform = t;\n    }\n    function f(e) {\n        e.style.display = \"block\";\n    }\n    function p(e) {\n        e.style.display = \"none\";\n    }\n    function m(e) {\n        var t = document.createDocumentFragment(), i = document.createElement(\"div\");\n        for(i.innerHTML = e; i.firstChild;)t.appendChild(i.firstChild);\n        return t;\n    }\n    function y() {\n        return {\n            width: window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth,\n            height: window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight\n        };\n    }\n    function x() {\n        var e, t = document.createElement(\"fakeelement\"), i = {\n            animation: \"animationend\",\n            OAnimation: \"oAnimationEnd\",\n            MozAnimation: \"animationend\",\n            WebkitAnimation: \"webkitAnimationEnd\"\n        };\n        for(e in i)if (void 0 !== t.style[e]) return i[e];\n    }\n    function b(e, t, i, n) {\n        if (e()) t();\n        else {\n            var s;\n            i || (i = 100);\n            var l = setInterval(function() {\n                e() && (clearInterval(l), s && clearTimeout(s), t());\n            }, i);\n            n && (s = setTimeout(function() {\n                clearInterval(l);\n            }, n));\n        }\n    }\n    function S(e, t, i) {\n        if (I(e)) console.error(\"Inject assets error\");\n        else if (T(t) && (i = t, t = !1), C(t) && t in window) T(i) && i();\n        else {\n            var n;\n            if (-1 !== e.indexOf(\".css\")) {\n                if ((n = document.querySelectorAll('link[href=\"' + e + '\"]')) && n.length > 0) return void (T(i) && i());\n                var s = document.getElementsByTagName(\"head\")[0], l = s.querySelectorAll('link[rel=\"stylesheet\"]'), o = document.createElement(\"link\");\n                return o.rel = \"stylesheet\", o.type = \"text/css\", o.href = e, o.media = \"all\", l ? s.insertBefore(o, l[0]) : s.appendChild(o), void (T(i) && i());\n            }\n            if ((n = document.querySelectorAll('script[src=\"' + e + '\"]')) && n.length > 0) {\n                if (T(i)) {\n                    if (C(t)) return b(function() {\n                        return void 0 !== window[t];\n                    }, function() {\n                        i();\n                    }), !1;\n                    i();\n                }\n            } else {\n                var r = document.createElement(\"script\");\n                r.type = \"text/javascript\", r.src = e, r.onload = function() {\n                    if (T(i)) {\n                        if (C(t)) return b(function() {\n                            return void 0 !== window[t];\n                        }, function() {\n                            i();\n                        }), !1;\n                        i();\n                    }\n                }, document.body.appendChild(r);\n            }\n        }\n    }\n    function w() {\n        return \"navigator\" in window && window.navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(Android)|(PlayBook)|(BB10)|(BlackBerry)|(Opera Mini)|(IEMobile)|(webOS)|(MeeGo)/i);\n    }\n    function T(e) {\n        return \"function\" == typeof e;\n    }\n    function C(e) {\n        return \"string\" == typeof e;\n    }\n    function k(e) {\n        return !(!e || !e.nodeType || 1 != e.nodeType);\n    }\n    function E(e) {\n        return Array.isArray(e);\n    }\n    function A(e) {\n        return e && e.length && isFinite(e.length);\n    }\n    function L(t) {\n        return \"object\" === e(t) && null != t && !T(t) && !E(t);\n    }\n    function I(e) {\n        return null == e;\n    }\n    function O(e, t) {\n        return null !== e && hasOwnProperty.call(e, t);\n    }\n    function P(e) {\n        if (L(e)) {\n            if (e.keys) return e.keys().length;\n            var t = 0;\n            for(var i in e)O(e, i) && t++;\n            return t;\n        }\n        return e.length;\n    }\n    function M(e) {\n        return !isNaN(parseFloat(e)) && isFinite(e);\n    }\n    function z() {\n        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : -1, t = document.querySelectorAll(\".gbtn[data-taborder]:not(.disabled)\");\n        if (!t.length) return !1;\n        if (1 == t.length) return t[0];\n        \"string\" == typeof e && (e = parseInt(e));\n        var i = [];\n        o(t, function(e) {\n            i.push(e.getAttribute(\"data-taborder\"));\n        });\n        var n = Math.max.apply(Math, i.map(function(e) {\n            return parseInt(e);\n        })), s = e < 0 ? 1 : e + 1;\n        s > n && (s = \"1\");\n        var l = i.filter(function(e) {\n            return e >= parseInt(s);\n        }), r = l.sort()[0];\n        return document.querySelector('.gbtn[data-taborder=\"'.concat(r, '\"]'));\n    }\n    function X(e) {\n        if (e.events.hasOwnProperty(\"keyboard\")) return !1;\n        e.events.keyboard = a(\"keydown\", {\n            onElement: window,\n            withCallback: function(t, i) {\n                var n = (t = t || window.event).keyCode;\n                if (9 == n) {\n                    var s = document.querySelector(\".gbtn.focused\");\n                    if (!s) {\n                        var l = !(!document.activeElement || !document.activeElement.nodeName) && document.activeElement.nodeName.toLocaleLowerCase();\n                        if (\"input\" == l || \"textarea\" == l || \"button\" == l) return;\n                    }\n                    t.preventDefault();\n                    var o = document.querySelectorAll(\".gbtn[data-taborder]\");\n                    if (!o || o.length <= 0) return;\n                    if (!s) {\n                        var r = z();\n                        return void (r && (r.focus(), h(r, \"focused\")));\n                    }\n                    var a = z(s.getAttribute(\"data-taborder\"));\n                    d(s, \"focused\"), a && (a.focus(), h(a, \"focused\"));\n                }\n                39 == n && e.nextSlide(), 37 == n && e.prevSlide(), 27 == n && e.close();\n            }\n        });\n    }\n    function Y(e) {\n        return Math.sqrt(e.x * e.x + e.y * e.y);\n    }\n    function q(e, t) {\n        var i = function(e, t) {\n            var i = Y(e) * Y(t);\n            if (0 === i) return 0;\n            var n = function(e, t) {\n                return e.x * t.x + e.y * t.y;\n            }(e, t) / i;\n            return n > 1 && (n = 1), Math.acos(n);\n        }(e, t);\n        return function(e, t) {\n            return e.x * t.y - t.x * e.y;\n        }(e, t) > 0 && (i *= -1), 180 * i / Math.PI;\n    }\n    var N = function() {\n        function e(i) {\n            t(this, e), this.handlers = [], this.el = i;\n        }\n        return n(e, [\n            {\n                key: \"add\",\n                value: function(e) {\n                    this.handlers.push(e);\n                }\n            },\n            {\n                key: \"del\",\n                value: function(e) {\n                    e || (this.handlers = []);\n                    for(var t = this.handlers.length; t >= 0; t--)this.handlers[t] === e && this.handlers.splice(t, 1);\n                }\n            },\n            {\n                key: \"dispatch\",\n                value: function() {\n                    for(var e = 0, t = this.handlers.length; e < t; e++){\n                        var i = this.handlers[e];\n                        \"function\" == typeof i && i.apply(this.el, arguments);\n                    }\n                }\n            }\n        ]), e;\n    }();\n    function D(e, t) {\n        var i = new N(e);\n        return i.add(t), i;\n    }\n    var _ = function() {\n        function e(i, n) {\n            t(this, e), this.element = \"string\" == typeof i ? document.querySelector(i) : i, this.start = this.start.bind(this), this.move = this.move.bind(this), this.end = this.end.bind(this), this.cancel = this.cancel.bind(this), this.element.addEventListener(\"touchstart\", this.start, !1), this.element.addEventListener(\"touchmove\", this.move, !1), this.element.addEventListener(\"touchend\", this.end, !1), this.element.addEventListener(\"touchcancel\", this.cancel, !1), this.preV = {\n                x: null,\n                y: null\n            }, this.pinchStartLen = null, this.zoom = 1, this.isDoubleTap = !1;\n            var s = function() {};\n            this.rotate = D(this.element, n.rotate || s), this.touchStart = D(this.element, n.touchStart || s), this.multipointStart = D(this.element, n.multipointStart || s), this.multipointEnd = D(this.element, n.multipointEnd || s), this.pinch = D(this.element, n.pinch || s), this.swipe = D(this.element, n.swipe || s), this.tap = D(this.element, n.tap || s), this.doubleTap = D(this.element, n.doubleTap || s), this.longTap = D(this.element, n.longTap || s), this.singleTap = D(this.element, n.singleTap || s), this.pressMove = D(this.element, n.pressMove || s), this.twoFingerPressMove = D(this.element, n.twoFingerPressMove || s), this.touchMove = D(this.element, n.touchMove || s), this.touchEnd = D(this.element, n.touchEnd || s), this.touchCancel = D(this.element, n.touchCancel || s), this.translateContainer = this.element, this._cancelAllHandler = this.cancelAll.bind(this), window.addEventListener(\"scroll\", this._cancelAllHandler), this.delta = null, this.last = null, this.now = null, this.tapTimeout = null, this.singleTapTimeout = null, this.longTapTimeout = null, this.swipeTimeout = null, this.x1 = this.x2 = this.y1 = this.y2 = null, this.preTapPosition = {\n                x: null,\n                y: null\n            };\n        }\n        return n(e, [\n            {\n                key: \"start\",\n                value: function(e) {\n                    if (e.touches) {\n                        if (e.target && e.target.nodeName && [\n                            \"a\",\n                            \"button\",\n                            \"input\"\n                        ].indexOf(e.target.nodeName.toLowerCase()) >= 0) console.log(\"ignore drag for this touched element\", e.target.nodeName.toLowerCase());\n                        else {\n                            this.now = Date.now(), this.x1 = e.touches[0].pageX, this.y1 = e.touches[0].pageY, this.delta = this.now - (this.last || this.now), this.touchStart.dispatch(e, this.element), null !== this.preTapPosition.x && (this.isDoubleTap = this.delta > 0 && this.delta <= 250 && Math.abs(this.preTapPosition.x - this.x1) < 30 && Math.abs(this.preTapPosition.y - this.y1) < 30, this.isDoubleTap && clearTimeout(this.singleTapTimeout)), this.preTapPosition.x = this.x1, this.preTapPosition.y = this.y1, this.last = this.now;\n                            var t = this.preV;\n                            if (e.touches.length > 1) {\n                                this._cancelLongTap(), this._cancelSingleTap();\n                                var i = {\n                                    x: e.touches[1].pageX - this.x1,\n                                    y: e.touches[1].pageY - this.y1\n                                };\n                                t.x = i.x, t.y = i.y, this.pinchStartLen = Y(t), this.multipointStart.dispatch(e, this.element);\n                            }\n                            this._preventTap = !1, this.longTapTimeout = setTimeout((function() {\n                                this.longTap.dispatch(e, this.element), this._preventTap = !0;\n                            }).bind(this), 750);\n                        }\n                    }\n                }\n            },\n            {\n                key: \"move\",\n                value: function(e) {\n                    if (e.touches) {\n                        var t = this.preV, i = e.touches.length, n = e.touches[0].pageX, s = e.touches[0].pageY;\n                        if (this.isDoubleTap = !1, i > 1) {\n                            var l = e.touches[1].pageX, o = e.touches[1].pageY, r = {\n                                x: e.touches[1].pageX - n,\n                                y: e.touches[1].pageY - s\n                            };\n                            null !== t.x && (this.pinchStartLen > 0 && (e.zoom = Y(r) / this.pinchStartLen, this.pinch.dispatch(e, this.element)), e.angle = q(r, t), this.rotate.dispatch(e, this.element)), t.x = r.x, t.y = r.y, null !== this.x2 && null !== this.sx2 ? (e.deltaX = (n - this.x2 + l - this.sx2) / 2, e.deltaY = (s - this.y2 + o - this.sy2) / 2) : (e.deltaX = 0, e.deltaY = 0), this.twoFingerPressMove.dispatch(e, this.element), this.sx2 = l, this.sy2 = o;\n                        } else {\n                            if (null !== this.x2) {\n                                e.deltaX = n - this.x2, e.deltaY = s - this.y2;\n                                var a = Math.abs(this.x1 - this.x2), h = Math.abs(this.y1 - this.y2);\n                                (a > 10 || h > 10) && (this._preventTap = !0);\n                            } else e.deltaX = 0, e.deltaY = 0;\n                            this.pressMove.dispatch(e, this.element);\n                        }\n                        this.touchMove.dispatch(e, this.element), this._cancelLongTap(), this.x2 = n, this.y2 = s, i > 1 && e.preventDefault();\n                    }\n                }\n            },\n            {\n                key: \"end\",\n                value: function(e) {\n                    if (e.changedTouches) {\n                        this._cancelLongTap();\n                        var t = this;\n                        e.touches.length < 2 && (this.multipointEnd.dispatch(e, this.element), this.sx2 = this.sy2 = null), this.x2 && Math.abs(this.x1 - this.x2) > 30 || this.y2 && Math.abs(this.y1 - this.y2) > 30 ? (e.direction = this._swipeDirection(this.x1, this.x2, this.y1, this.y2), this.swipeTimeout = setTimeout(function() {\n                            t.swipe.dispatch(e, t.element);\n                        }, 0)) : (this.tapTimeout = setTimeout(function() {\n                            t._preventTap || t.tap.dispatch(e, t.element), t.isDoubleTap && (t.doubleTap.dispatch(e, t.element), t.isDoubleTap = !1);\n                        }, 0), t.isDoubleTap || (t.singleTapTimeout = setTimeout(function() {\n                            t.singleTap.dispatch(e, t.element);\n                        }, 250))), this.touchEnd.dispatch(e, this.element), this.preV.x = 0, this.preV.y = 0, this.zoom = 1, this.pinchStartLen = null, this.x1 = this.x2 = this.y1 = this.y2 = null;\n                    }\n                }\n            },\n            {\n                key: \"cancelAll\",\n                value: function() {\n                    this._preventTap = !0, clearTimeout(this.singleTapTimeout), clearTimeout(this.tapTimeout), clearTimeout(this.longTapTimeout), clearTimeout(this.swipeTimeout);\n                }\n            },\n            {\n                key: \"cancel\",\n                value: function(e) {\n                    this.cancelAll(), this.touchCancel.dispatch(e, this.element);\n                }\n            },\n            {\n                key: \"_cancelLongTap\",\n                value: function() {\n                    clearTimeout(this.longTapTimeout);\n                }\n            },\n            {\n                key: \"_cancelSingleTap\",\n                value: function() {\n                    clearTimeout(this.singleTapTimeout);\n                }\n            },\n            {\n                key: \"_swipeDirection\",\n                value: function(e, t, i, n) {\n                    return Math.abs(e - t) >= Math.abs(i - n) ? e - t > 0 ? \"Left\" : \"Right\" : i - n > 0 ? \"Up\" : \"Down\";\n                }\n            },\n            {\n                key: \"on\",\n                value: function(e, t) {\n                    this[e] && this[e].add(t);\n                }\n            },\n            {\n                key: \"off\",\n                value: function(e, t) {\n                    this[e] && this[e].del(t);\n                }\n            },\n            {\n                key: \"destroy\",\n                value: function() {\n                    return this.singleTapTimeout && clearTimeout(this.singleTapTimeout), this.tapTimeout && clearTimeout(this.tapTimeout), this.longTapTimeout && clearTimeout(this.longTapTimeout), this.swipeTimeout && clearTimeout(this.swipeTimeout), this.element.removeEventListener(\"touchstart\", this.start), this.element.removeEventListener(\"touchmove\", this.move), this.element.removeEventListener(\"touchend\", this.end), this.element.removeEventListener(\"touchcancel\", this.cancel), this.rotate.del(), this.touchStart.del(), this.multipointStart.del(), this.multipointEnd.del(), this.pinch.del(), this.swipe.del(), this.tap.del(), this.doubleTap.del(), this.longTap.del(), this.singleTap.del(), this.pressMove.del(), this.twoFingerPressMove.del(), this.touchMove.del(), this.touchEnd.del(), this.touchCancel.del(), this.preV = this.pinchStartLen = this.zoom = this.isDoubleTap = this.delta = this.last = this.now = this.tapTimeout = this.singleTapTimeout = this.longTapTimeout = this.swipeTimeout = this.x1 = this.x2 = this.y1 = this.y2 = this.preTapPosition = this.rotate = this.touchStart = this.multipointStart = this.multipointEnd = this.pinch = this.swipe = this.tap = this.doubleTap = this.longTap = this.singleTap = this.pressMove = this.touchMove = this.touchEnd = this.touchCancel = this.twoFingerPressMove = null, window.removeEventListener(\"scroll\", this._cancelAllHandler), null;\n                }\n            }\n        ]), e;\n    }();\n    function W(e) {\n        var t = function() {\n            var e, t = document.createElement(\"fakeelement\"), i = {\n                transition: \"transitionend\",\n                OTransition: \"oTransitionEnd\",\n                MozTransition: \"transitionend\",\n                WebkitTransition: \"webkitTransitionEnd\"\n            };\n            for(e in i)if (void 0 !== t.style[e]) return i[e];\n        }(), i = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth, n = c(e, \"gslide-media\") ? e : e.querySelector(\".gslide-media\"), s = u(n, \".ginner-container\"), l = e.querySelector(\".gslide-description\");\n        i > 769 && (n = s), h(n, \"greset\"), v(n, \"translate3d(0, 0, 0)\"), a(t, {\n            onElement: n,\n            once: !0,\n            withCallback: function(e, t) {\n                d(n, \"greset\");\n            }\n        }), n.style.opacity = \"\", l && (l.style.opacity = \"\");\n    }\n    function B(e) {\n        if (e.events.hasOwnProperty(\"touch\")) return !1;\n        var t, i, n, s = y(), l = s.width, o = s.height, r = !1, a = null, g = null, f = null, p = !1, m = 1, x = 1, b = !1, S = !1, w = null, T = null, C = null, k = null, E = 0, A = 0, L = !1, I = !1, O = {}, P = {}, M = 0, z = 0, X = document.getElementById(\"glightbox-slider\"), Y = document.querySelector(\".goverlay\"), q = new _(X, {\n            touchStart: function(t) {\n                if (r = !0, (c(t.targetTouches[0].target, \"ginner-container\") || u(t.targetTouches[0].target, \".gslide-desc\") || \"a\" == t.targetTouches[0].target.nodeName.toLowerCase()) && (r = !1), u(t.targetTouches[0].target, \".gslide-inline\") && !c(t.targetTouches[0].target.parentNode, \"gslide-inline\") && (r = !1), r) {\n                    if (P = t.targetTouches[0], O.pageX = t.targetTouches[0].pageX, O.pageY = t.targetTouches[0].pageY, M = t.targetTouches[0].clientX, z = t.targetTouches[0].clientY, a = e.activeSlide, g = a.querySelector(\".gslide-media\"), n = a.querySelector(\".gslide-inline\"), f = null, c(g, \"gslide-image\") && (f = g.querySelector(\"img\")), (window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth) > 769 && (g = a.querySelector(\".ginner-container\")), d(Y, \"greset\"), t.pageX > 20 && t.pageX < window.innerWidth - 20) return;\n                    t.preventDefault();\n                }\n            },\n            touchMove: function(s) {\n                if (r && (P = s.targetTouches[0], !b && !S)) {\n                    if (n && n.offsetHeight > o) {\n                        var a = O.pageX - P.pageX;\n                        if (Math.abs(a) <= 13) return !1;\n                    }\n                    p = !0;\n                    var h, d = s.targetTouches[0].clientX, c = s.targetTouches[0].clientY, u = M - d, m = z - c;\n                    if (Math.abs(u) > Math.abs(m) ? (L = !1, I = !0) : (I = !1, L = !0), t = P.pageX - O.pageX, E = 100 * t / l, i = P.pageY - O.pageY, A = 100 * i / o, L && f && (h = 1 - Math.abs(i) / o, Y.style.opacity = h, e.settings.touchFollowAxis && (E = 0)), I && (h = 1 - Math.abs(t) / l, g.style.opacity = h, e.settings.touchFollowAxis && (A = 0)), !f) return v(g, \"translate3d(\".concat(E, \"%, 0, 0)\"));\n                    v(g, \"translate3d(\".concat(E, \"%, \").concat(A, \"%, 0)\"));\n                }\n            },\n            touchEnd: function() {\n                if (r) {\n                    if (p = !1, S || b) return C = w, void (k = T);\n                    var t = Math.abs(parseInt(A)), i = Math.abs(parseInt(E));\n                    if (!(t > 29 && f)) return t < 29 && i < 25 ? (h(Y, \"greset\"), Y.style.opacity = 1, W(g)) : void 0;\n                    e.close();\n                }\n            },\n            multipointEnd: function() {\n                setTimeout(function() {\n                    b = !1;\n                }, 50);\n            },\n            multipointStart: function() {\n                b = !0, m = x || 1;\n            },\n            pinch: function(e) {\n                if (!f || p) return !1;\n                b = !0, f.scaleX = f.scaleY = m * e.zoom;\n                var t = m * e.zoom;\n                if (S = !0, t <= 1) return S = !1, t = 1, k = null, C = null, w = null, T = null, void f.setAttribute(\"style\", \"\");\n                t > 4.5 && (t = 4.5), f.style.transform = \"scale3d(\".concat(t, \", \").concat(t, \", 1)\"), x = t;\n            },\n            pressMove: function(e) {\n                if (S && !b) {\n                    var t = P.pageX - O.pageX, i = P.pageY - O.pageY;\n                    C && (t += C), k && (i += k), w = t, T = i;\n                    var n = \"translate3d(\".concat(t, \"px, \").concat(i, \"px, 0)\");\n                    x && (n += \" scale3d(\".concat(x, \", \").concat(x, \", 1)\")), v(f, n);\n                }\n            },\n            swipe: function(t) {\n                if (!S) {\n                    if (b) b = !1;\n                    else {\n                        if (\"Left\" == t.direction) {\n                            if (e.index == e.elements.length - 1) return W(g);\n                            e.nextSlide();\n                        }\n                        if (\"Right\" == t.direction) {\n                            if (0 == e.index) return W(g);\n                            e.prevSlide();\n                        }\n                    }\n                }\n            }\n        });\n        e.events.touch = q;\n    }\n    var H = function() {\n        function e(i, n) {\n            var s = this, l = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null;\n            if (t(this, e), this.img = i, this.slide = n, this.onclose = l, this.img.setZoomEvents) return !1;\n            this.active = !1, this.zoomedIn = !1, this.dragging = !1, this.currentX = null, this.currentY = null, this.initialX = null, this.initialY = null, this.xOffset = 0, this.yOffset = 0, this.img.addEventListener(\"mousedown\", function(e) {\n                return s.dragStart(e);\n            }, !1), this.img.addEventListener(\"mouseup\", function(e) {\n                return s.dragEnd(e);\n            }, !1), this.img.addEventListener(\"mousemove\", function(e) {\n                return s.drag(e);\n            }, !1), this.img.addEventListener(\"click\", function(e) {\n                return s.slide.classList.contains(\"dragging-nav\") ? (s.zoomOut(), !1) : s.zoomedIn ? void (s.zoomedIn && !s.dragging && s.zoomOut()) : s.zoomIn();\n            }, !1), this.img.setZoomEvents = !0;\n        }\n        return n(e, [\n            {\n                key: \"zoomIn\",\n                value: function() {\n                    var e = this.widowWidth();\n                    if (!(this.zoomedIn || e <= 768)) {\n                        var t = this.img;\n                        if (t.setAttribute(\"data-style\", t.getAttribute(\"style\")), t.style.maxWidth = t.naturalWidth + \"px\", t.style.maxHeight = t.naturalHeight + \"px\", t.naturalWidth > e) {\n                            var i = e / 2 - t.naturalWidth / 2;\n                            this.setTranslate(this.img.parentNode, i, 0);\n                        }\n                        this.slide.classList.add(\"zoomed\"), this.zoomedIn = !0;\n                    }\n                }\n            },\n            {\n                key: \"zoomOut\",\n                value: function() {\n                    this.img.parentNode.setAttribute(\"style\", \"\"), this.img.setAttribute(\"style\", this.img.getAttribute(\"data-style\")), this.slide.classList.remove(\"zoomed\"), this.zoomedIn = !1, this.currentX = null, this.currentY = null, this.initialX = null, this.initialY = null, this.xOffset = 0, this.yOffset = 0, this.onclose && \"function\" == typeof this.onclose && this.onclose();\n                }\n            },\n            {\n                key: \"dragStart\",\n                value: function(e) {\n                    e.preventDefault(), this.zoomedIn ? (\"touchstart\" === e.type ? (this.initialX = e.touches[0].clientX - this.xOffset, this.initialY = e.touches[0].clientY - this.yOffset) : (this.initialX = e.clientX - this.xOffset, this.initialY = e.clientY - this.yOffset), e.target === this.img && (this.active = !0, this.img.classList.add(\"dragging\"))) : this.active = !1;\n                }\n            },\n            {\n                key: \"dragEnd\",\n                value: function(e) {\n                    var t = this;\n                    e.preventDefault(), this.initialX = this.currentX, this.initialY = this.currentY, this.active = !1, setTimeout(function() {\n                        t.dragging = !1, t.img.isDragging = !1, t.img.classList.remove(\"dragging\");\n                    }, 100);\n                }\n            },\n            {\n                key: \"drag\",\n                value: function(e) {\n                    this.active && (e.preventDefault(), \"touchmove\" === e.type ? (this.currentX = e.touches[0].clientX - this.initialX, this.currentY = e.touches[0].clientY - this.initialY) : (this.currentX = e.clientX - this.initialX, this.currentY = e.clientY - this.initialY), this.xOffset = this.currentX, this.yOffset = this.currentY, this.img.isDragging = !0, this.dragging = !0, this.setTranslate(this.img, this.currentX, this.currentY));\n                }\n            },\n            {\n                key: \"onMove\",\n                value: function(e) {\n                    if (this.zoomedIn) {\n                        var t = e.clientX - this.img.naturalWidth / 2, i = e.clientY - this.img.naturalHeight / 2;\n                        this.setTranslate(this.img, t, i);\n                    }\n                }\n            },\n            {\n                key: \"setTranslate\",\n                value: function(e, t, i) {\n                    e.style.transform = \"translate3d(\" + t + \"px, \" + i + \"px, 0)\";\n                }\n            },\n            {\n                key: \"widowWidth\",\n                value: function() {\n                    return window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n                }\n            }\n        ]), e;\n    }(), V = function() {\n        function e() {\n            var i = this, n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n            t(this, e);\n            var s = n.dragEl, l = n.toleranceX, o = void 0 === l ? 40 : l, r = n.toleranceY, a = void 0 === r ? 65 : r, h = n.slide, d = void 0 === h ? null : h, c = n.instance, u = void 0 === c ? null : c;\n            this.el = s, this.active = !1, this.dragging = !1, this.currentX = null, this.currentY = null, this.initialX = null, this.initialY = null, this.xOffset = 0, this.yOffset = 0, this.direction = null, this.lastDirection = null, this.toleranceX = o, this.toleranceY = a, this.toleranceReached = !1, this.dragContainer = this.el, this.slide = d, this.instance = u, this.el.addEventListener(\"mousedown\", function(e) {\n                return i.dragStart(e);\n            }, !1), this.el.addEventListener(\"mouseup\", function(e) {\n                return i.dragEnd(e);\n            }, !1), this.el.addEventListener(\"mousemove\", function(e) {\n                return i.drag(e);\n            }, !1);\n        }\n        return n(e, [\n            {\n                key: \"dragStart\",\n                value: function(e) {\n                    if (this.slide.classList.contains(\"zoomed\")) this.active = !1;\n                    else {\n                        \"touchstart\" === e.type ? (this.initialX = e.touches[0].clientX - this.xOffset, this.initialY = e.touches[0].clientY - this.yOffset) : (this.initialX = e.clientX - this.xOffset, this.initialY = e.clientY - this.yOffset);\n                        var t = e.target.nodeName.toLowerCase();\n                        e.target.classList.contains(\"nodrag\") || u(e.target, \".nodrag\") || -1 !== [\n                            \"input\",\n                            \"select\",\n                            \"textarea\",\n                            \"button\",\n                            \"a\"\n                        ].indexOf(t) ? this.active = !1 : (e.preventDefault(), (e.target === this.el || \"img\" !== t && u(e.target, \".gslide-inline\")) && (this.active = !0, this.el.classList.add(\"dragging\"), this.dragContainer = u(e.target, \".ginner-container\")));\n                    }\n                }\n            },\n            {\n                key: \"dragEnd\",\n                value: function(e) {\n                    var t = this;\n                    e && e.preventDefault(), this.initialX = 0, this.initialY = 0, this.currentX = null, this.currentY = null, this.initialX = null, this.initialY = null, this.xOffset = 0, this.yOffset = 0, this.active = !1, this.doSlideChange && (this.instance.preventOutsideClick = !0, \"right\" == this.doSlideChange && this.instance.prevSlide(), \"left\" == this.doSlideChange && this.instance.nextSlide()), this.doSlideClose && this.instance.close(), this.toleranceReached || this.setTranslate(this.dragContainer, 0, 0, !0), setTimeout(function() {\n                        t.instance.preventOutsideClick = !1, t.toleranceReached = !1, t.lastDirection = null, t.dragging = !1, t.el.isDragging = !1, t.el.classList.remove(\"dragging\"), t.slide.classList.remove(\"dragging-nav\"), t.dragContainer.style.transform = \"\", t.dragContainer.style.transition = \"\";\n                    }, 100);\n                }\n            },\n            {\n                key: \"drag\",\n                value: function(e) {\n                    if (this.active) {\n                        e.preventDefault(), this.slide.classList.add(\"dragging-nav\"), \"touchmove\" === e.type ? (this.currentX = e.touches[0].clientX - this.initialX, this.currentY = e.touches[0].clientY - this.initialY) : (this.currentX = e.clientX - this.initialX, this.currentY = e.clientY - this.initialY), this.xOffset = this.currentX, this.yOffset = this.currentY, this.el.isDragging = !0, this.dragging = !0, this.doSlideChange = !1, this.doSlideClose = !1;\n                        var t = Math.abs(this.currentX), i = Math.abs(this.currentY);\n                        if (t > 0 && t >= Math.abs(this.currentY) && (!this.lastDirection || \"x\" == this.lastDirection)) {\n                            this.yOffset = 0, this.lastDirection = \"x\", this.setTranslate(this.dragContainer, this.currentX, 0);\n                            var n = this.shouldChange();\n                            if (!this.instance.settings.dragAutoSnap && n && (this.doSlideChange = n), this.instance.settings.dragAutoSnap && n) return this.instance.preventOutsideClick = !0, this.toleranceReached = !0, this.active = !1, this.instance.preventOutsideClick = !0, this.dragEnd(null), \"right\" == n && this.instance.prevSlide(), void (\"left\" == n && this.instance.nextSlide());\n                        }\n                        if (this.toleranceY > 0 && i > 0 && i >= t && (!this.lastDirection || \"y\" == this.lastDirection)) {\n                            this.xOffset = 0, this.lastDirection = \"y\", this.setTranslate(this.dragContainer, 0, this.currentY);\n                            var s = this.shouldClose();\n                            return !this.instance.settings.dragAutoSnap && s && (this.doSlideClose = !0), void (this.instance.settings.dragAutoSnap && s && this.instance.close());\n                        }\n                    }\n                }\n            },\n            {\n                key: \"shouldChange\",\n                value: function() {\n                    var e = !1;\n                    if (Math.abs(this.currentX) >= this.toleranceX) {\n                        var t = this.currentX > 0 ? \"right\" : \"left\";\n                        (\"left\" == t && this.slide !== this.slide.parentNode.lastChild || \"right\" == t && this.slide !== this.slide.parentNode.firstChild) && (e = t);\n                    }\n                    return e;\n                }\n            },\n            {\n                key: \"shouldClose\",\n                value: function() {\n                    var e = !1;\n                    return Math.abs(this.currentY) >= this.toleranceY && (e = !0), e;\n                }\n            },\n            {\n                key: \"setTranslate\",\n                value: function(e, t, i) {\n                    var n = arguments.length > 3 && void 0 !== arguments[3] && arguments[3];\n                    e.style.transition = n ? \"all .2s ease\" : \"\", e.style.transform = \"translate3d(\".concat(t, \"px, \").concat(i, \"px, 0)\");\n                }\n            }\n        ]), e;\n    }();\n    function j(e, t, i, n) {\n        var s = e.querySelector(\".gslide-media\"), l = new Image, o = \"gSlideTitle_\" + i, r = \"gSlideDesc_\" + i;\n        l.addEventListener(\"load\", function() {\n            T(n) && n();\n        }, !1), l.src = t.href, \"\" != t.sizes && \"\" != t.srcset && (l.sizes = t.sizes, l.srcset = t.srcset), l.alt = \"\", I(t.alt) || \"\" === t.alt || (l.alt = t.alt), \"\" !== t.title && l.setAttribute(\"aria-labelledby\", o), \"\" !== t.description && l.setAttribute(\"aria-describedby\", r), t.hasOwnProperty(\"_hasCustomWidth\") && t._hasCustomWidth && (l.style.width = t.width), t.hasOwnProperty(\"_hasCustomHeight\") && t._hasCustomHeight && (l.style.height = t.height), s.insertBefore(l, s.firstChild);\n    }\n    function F(e, t, i, n) {\n        var s = this, l = e.querySelector(\".ginner-container\"), o = \"gvideo\" + i, r = e.querySelector(\".gslide-media\"), a = this.getAllPlayers();\n        h(l, \"gvideo-container\"), r.insertBefore(m('<div class=\"gvideo-wrapper\"></div>'), r.firstChild);\n        var d = e.querySelector(\".gvideo-wrapper\");\n        S(this.settings.plyr.css, \"Plyr\");\n        var c = t.href, u = null == t ? void 0 : t.videoProvider, g = !1;\n        r.style.maxWidth = t.width, S(this.settings.plyr.js, \"Plyr\", function() {\n            if (!u && c.match(/vimeo\\.com\\/([0-9]*)/) && (u = \"vimeo\"), !u && (c.match(/(youtube\\.com|youtube-nocookie\\.com)\\/watch\\?v=([a-zA-Z0-9\\-_]+)/) || c.match(/youtu\\.be\\/([a-zA-Z0-9\\-_]+)/) || c.match(/(youtube\\.com|youtube-nocookie\\.com)\\/embed\\/([a-zA-Z0-9\\-_]+)/)) && (u = \"youtube\"), \"local\" === u || !u) {\n                u = \"local\";\n                var l = '<video id=\"' + o + '\" ';\n                l += 'style=\"background:#000; max-width: '.concat(t.width, ';\" '), l += 'preload=\"metadata\" ', l += 'x-webkit-airplay=\"allow\" ', l += \"playsinline \", l += \"controls \", l += 'class=\"gvideo-local\">', l += '<source src=\"'.concat(c, '\">'), g = m(l += \"</video>\");\n            }\n            var r = g || m('<div id=\"'.concat(o, '\" data-plyr-provider=\"').concat(u, '\" data-plyr-embed-id=\"').concat(c, '\"></div>'));\n            h(d, \"\".concat(u, \"-video gvideo\")), d.appendChild(r), d.setAttribute(\"data-id\", o), d.setAttribute(\"data-index\", i);\n            var v = O(s.settings.plyr, \"config\") ? s.settings.plyr.config : {}, f = new Plyr(\"#\" + o, v);\n            f.on(\"ready\", function(e) {\n                a[o] = e.detail.plyr, T(n) && n();\n            }), b(function() {\n                return e.querySelector(\"iframe\") && \"true\" == e.querySelector(\"iframe\").dataset.ready;\n            }, function() {\n                s.resize(e);\n            }), f.on(\"enterfullscreen\", R), f.on(\"exitfullscreen\", R);\n        });\n    }\n    function R(e) {\n        var t = u(e.target, \".gslide-media\");\n        \"enterfullscreen\" === e.type && h(t, \"fullscreen\"), \"exitfullscreen\" === e.type && d(t, \"fullscreen\");\n    }\n    function G(e, t, i, n) {\n        var s, l = this, o = e.querySelector(\".gslide-media\"), r = !(!O(t, \"href\") || !t.href) && t.href.split(\"#\").pop().trim(), d = !(!O(t, \"content\") || !t.content) && t.content;\n        if (d && (C(d) && (s = m('<div class=\"ginlined-content\">'.concat(d, \"</div>\"))), k(d))) {\n            \"none\" == d.style.display && (d.style.display = \"block\");\n            var c = document.createElement(\"div\");\n            c.className = \"ginlined-content\", c.appendChild(d), s = c;\n        }\n        if (r) {\n            var u = document.getElementById(r);\n            if (!u) return !1;\n            var g = u.cloneNode(!0);\n            g.style.height = t.height, g.style.maxWidth = t.width, h(g, \"ginlined-content\"), s = g;\n        }\n        if (!s) return console.error(\"Unable to append inline slide content\", t), !1;\n        o.style.height = t.height, o.style.width = t.width, o.appendChild(s), this.events[\"inlineclose\" + r] = a(\"click\", {\n            onElement: o.querySelectorAll(\".gtrigger-close\"),\n            withCallback: function(e) {\n                e.preventDefault(), l.close();\n            }\n        }), T(n) && n();\n    }\n    function Z(e, t, i, n) {\n        var s = e.querySelector(\".gslide-media\"), l = function(e) {\n            var t = e.url, i = e.allow, n = e.callback, s = e.appendTo, l = document.createElement(\"iframe\");\n            return l.className = \"vimeo-video gvideo\", l.src = t, l.style.width = \"100%\", l.style.height = \"100%\", i && l.setAttribute(\"allow\", i), l.onload = function() {\n                l.onload = null, h(l, \"node-ready\"), T(n) && n();\n            }, s && s.appendChild(l), l;\n        }({\n            url: t.href,\n            callback: n\n        });\n        s.parentNode.style.maxWidth = t.width, s.parentNode.style.height = t.height, s.appendChild(l);\n    }\n    var U = function() {\n        function e() {\n            var i = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n            t(this, e), this.defaults = {\n                href: \"\",\n                sizes: \"\",\n                srcset: \"\",\n                title: \"\",\n                type: \"\",\n                videoProvider: \"\",\n                description: \"\",\n                alt: \"\",\n                descPosition: \"bottom\",\n                effect: \"\",\n                width: \"\",\n                height: \"\",\n                content: !1,\n                zoomable: !0,\n                draggable: !0\n            }, L(i) && (this.defaults = l(this.defaults, i));\n        }\n        return n(e, [\n            {\n                key: \"sourceType\",\n                value: function(e) {\n                    var t = e;\n                    if (null !== (e = e.toLowerCase()).match(/\\.(jpeg|jpg|jpe|gif|png|apn|webp|avif|svg)/)) return \"image\";\n                    if (e.match(/(youtube\\.com|youtube-nocookie\\.com)\\/watch\\?v=([a-zA-Z0-9\\-_]+)/) || e.match(/youtu\\.be\\/([a-zA-Z0-9\\-_]+)/) || e.match(/(youtube\\.com|youtube-nocookie\\.com)\\/embed\\/([a-zA-Z0-9\\-_]+)/)) return \"video\";\n                    if (e.match(/vimeo\\.com\\/([0-9]*)/)) return \"video\";\n                    if (null !== e.match(/\\.(mp4|ogg|webm|mov)/)) return \"video\";\n                    if (null !== e.match(/\\.(mp3|wav|wma|aac|ogg)/)) return \"audio\";\n                    if (e.indexOf(\"#\") > -1 && \"\" !== t.split(\"#\").pop().trim()) return \"inline\";\n                    return e.indexOf(\"goajax=true\") > -1 ? \"ajax\" : \"external\";\n                }\n            },\n            {\n                key: \"parseConfig\",\n                value: function(e, t) {\n                    var i = this, n = l({\n                        descPosition: t.descPosition\n                    }, this.defaults);\n                    if (L(e) && !k(e)) {\n                        O(e, \"type\") || (O(e, \"content\") && e.content ? e.type = \"inline\" : O(e, \"href\") && (e.type = this.sourceType(e.href)));\n                        var s = l(n, e);\n                        return this.setSize(s, t), s;\n                    }\n                    var r = \"\", a = e.getAttribute(\"data-glightbox\"), h = e.nodeName.toLowerCase();\n                    if (\"a\" === h && (r = e.href), \"img\" === h && (r = e.src, n.alt = e.alt), n.href = r, o(n, function(s, l) {\n                        O(t, l) && \"width\" !== l && (n[l] = t[l]);\n                        var o = e.dataset[l];\n                        I(o) || (n[l] = i.sanitizeValue(o));\n                    }), n.content && (n.type = \"inline\"), !n.type && r && (n.type = this.sourceType(r)), I(a)) {\n                        if (!n.title && \"a\" == h) {\n                            var d = e.title;\n                            I(d) || \"\" === d || (n.title = d);\n                        }\n                        if (!n.title && \"img\" == h) {\n                            var c = e.alt;\n                            I(c) || \"\" === c || (n.title = c);\n                        }\n                    } else {\n                        var u = [];\n                        o(n, function(e, t) {\n                            u.push(\";\\\\s?\" + t);\n                        }), u = u.join(\"\\\\s?:|\"), \"\" !== a.trim() && o(n, function(e, t) {\n                            var s = a, l = new RegExp(\"s?\" + t + \"s?:s?(.*?)(\" + u + \"s?:|$)\"), o = s.match(l);\n                            if (o && o.length && o[1]) {\n                                var r = o[1].trim().replace(/;\\s*$/, \"\");\n                                n[t] = i.sanitizeValue(r);\n                            }\n                        });\n                    }\n                    if (n.description && \".\" === n.description.substring(0, 1)) {\n                        var g;\n                        try {\n                            g = document.querySelector(n.description).innerHTML;\n                        } catch (e) {\n                            if (!(e instanceof DOMException)) throw e;\n                        }\n                        g && (n.description = g);\n                    }\n                    if (!n.description) {\n                        var v = e.querySelector(\".glightbox-desc\");\n                        v && (n.description = v.innerHTML);\n                    }\n                    return this.setSize(n, t, e), this.slideConfig = n, n;\n                }\n            },\n            {\n                key: \"setSize\",\n                value: function(e, t) {\n                    var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null, n = \"video\" == e.type ? this.checkSize(t.videosWidth) : this.checkSize(t.width), s = this.checkSize(t.height);\n                    return e.width = O(e, \"width\") && \"\" !== e.width ? this.checkSize(e.width) : n, e.height = O(e, \"height\") && \"\" !== e.height ? this.checkSize(e.height) : s, i && \"image\" == e.type && (e._hasCustomWidth = !!i.dataset.width, e._hasCustomHeight = !!i.dataset.height), e;\n                }\n            },\n            {\n                key: \"checkSize\",\n                value: function(e) {\n                    return M(e) ? \"\".concat(e, \"px\") : e;\n                }\n            },\n            {\n                key: \"sanitizeValue\",\n                value: function(e) {\n                    return \"true\" !== e && \"false\" !== e ? e : \"true\" === e;\n                }\n            }\n        ]), e;\n    }(), $ = function() {\n        function e(i, n, s) {\n            t(this, e), this.element = i, this.instance = n, this.index = s;\n        }\n        return n(e, [\n            {\n                key: \"setContent\",\n                value: function() {\n                    var e = this, t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null, i = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];\n                    if (c(t, \"loaded\")) return !1;\n                    var n = this.instance.settings, s = this.slideConfig, l = w();\n                    T(n.beforeSlideLoad) && n.beforeSlideLoad({\n                        index: this.index,\n                        slide: t,\n                        player: !1\n                    });\n                    var o = s.type, r = s.descPosition, a = t.querySelector(\".gslide-media\"), d = t.querySelector(\".gslide-title\"), u = t.querySelector(\".gslide-desc\"), g = t.querySelector(\".gdesc-inner\"), v = i, f = \"gSlideTitle_\" + this.index, p = \"gSlideDesc_\" + this.index;\n                    if (T(n.afterSlideLoad) && (v = function() {\n                        T(i) && i(), n.afterSlideLoad({\n                            index: e.index,\n                            slide: t,\n                            player: e.instance.getSlidePlayerInstance(e.index)\n                        });\n                    }), \"\" == s.title && \"\" == s.description ? g && g.parentNode.parentNode.removeChild(g.parentNode) : (d && \"\" !== s.title ? (d.id = f, d.innerHTML = s.title) : d.parentNode.removeChild(d), u && \"\" !== s.description ? (u.id = p, l && n.moreLength > 0 ? (s.smallDescription = this.slideShortDesc(s.description, n.moreLength, n.moreText), u.innerHTML = s.smallDescription, this.descriptionEvents(u, s)) : u.innerHTML = s.description) : u.parentNode.removeChild(u), h(a.parentNode, \"desc-\".concat(r)), h(g.parentNode, \"description-\".concat(r))), h(a, \"gslide-\".concat(o)), h(t, \"loaded\"), \"video\" !== o) {\n                        if (\"external\" !== o) return \"inline\" === o ? (G.apply(this.instance, [\n                            t,\n                            s,\n                            this.index,\n                            v\n                        ]), void (s.draggable && new V({\n                            dragEl: t.querySelector(\".gslide-inline\"),\n                            toleranceX: n.dragToleranceX,\n                            toleranceY: n.dragToleranceY,\n                            slide: t,\n                            instance: this.instance\n                        }))) : void (\"image\" !== o ? T(v) && v() : j(t, s, this.index, function() {\n                            var i = t.querySelector(\"img\");\n                            s.draggable && new V({\n                                dragEl: i,\n                                toleranceX: n.dragToleranceX,\n                                toleranceY: n.dragToleranceY,\n                                slide: t,\n                                instance: e.instance\n                            }), s.zoomable && i.naturalWidth > i.offsetWidth && (h(i, \"zoomable\"), new H(i, t, function() {\n                                e.instance.resize();\n                            })), T(v) && v();\n                        }));\n                        Z.apply(this, [\n                            t,\n                            s,\n                            this.index,\n                            v\n                        ]);\n                    } else F.apply(this.instance, [\n                        t,\n                        s,\n                        this.index,\n                        v\n                    ]);\n                }\n            },\n            {\n                key: \"slideShortDesc\",\n                value: function(e) {\n                    var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 50, i = arguments.length > 2 && void 0 !== arguments[2] && arguments[2], n = document.createElement(\"div\");\n                    n.innerHTML = e;\n                    var s = n.innerText, l = i;\n                    if ((e = s.trim()).length <= t) return e;\n                    var o = e.substr(0, t - 1);\n                    return l ? (n = null, o + '... <a href=\"#\" class=\"desc-more\">' + i + \"</a>\") : o;\n                }\n            },\n            {\n                key: \"descriptionEvents\",\n                value: function(e, t) {\n                    var i = this, n = e.querySelector(\".desc-more\");\n                    if (!n) return !1;\n                    a(\"click\", {\n                        onElement: n,\n                        withCallback: function(e, n) {\n                            e.preventDefault();\n                            var s = document.body, l = u(n, \".gslide-desc\");\n                            if (!l) return !1;\n                            l.innerHTML = t.description, h(s, \"gdesc-open\");\n                            var o = a(\"click\", {\n                                onElement: [\n                                    s,\n                                    u(l, \".gslide-description\")\n                                ],\n                                withCallback: function(e, n) {\n                                    \"a\" !== e.target.nodeName.toLowerCase() && (d(s, \"gdesc-open\"), h(s, \"gdesc-closed\"), l.innerHTML = t.smallDescription, i.descriptionEvents(l, t), setTimeout(function() {\n                                        d(s, \"gdesc-closed\");\n                                    }, 400), o.destroy());\n                                }\n                            });\n                        }\n                    });\n                }\n            },\n            {\n                key: \"create\",\n                value: function() {\n                    return m(this.instance.settings.slideHTML);\n                }\n            },\n            {\n                key: \"getConfig\",\n                value: function() {\n                    k(this.element) || this.element.hasOwnProperty(\"draggable\") || (this.element.draggable = this.instance.settings.draggable);\n                    var e = new U(this.instance.settings.slideExtraAttributes);\n                    return this.slideConfig = e.parseConfig(this.element, this.instance.settings), this.slideConfig;\n                }\n            }\n        ]), e;\n    }(), J = w(), K = null !== w() || void 0 !== document.createTouch || \"ontouchstart\" in window || \"onmsgesturechange\" in window || navigator.msMaxTouchPoints, Q = document.getElementsByTagName(\"html\")[0], ee = {\n        selector: \".glightbox\",\n        elements: null,\n        skin: \"clean\",\n        theme: \"clean\",\n        closeButton: !0,\n        startAt: null,\n        autoplayVideos: !0,\n        autofocusVideos: !0,\n        descPosition: \"bottom\",\n        width: \"900px\",\n        height: \"506px\",\n        videosWidth: \"960px\",\n        beforeSlideChange: null,\n        afterSlideChange: null,\n        beforeSlideLoad: null,\n        afterSlideLoad: null,\n        slideInserted: null,\n        slideRemoved: null,\n        slideExtraAttributes: null,\n        onOpen: null,\n        onClose: null,\n        loop: !1,\n        zoomable: !0,\n        draggable: !0,\n        dragAutoSnap: !1,\n        dragToleranceX: 40,\n        dragToleranceY: 65,\n        preload: !0,\n        oneSlidePerOpen: !1,\n        touchNavigation: !0,\n        touchFollowAxis: !0,\n        keyboardNavigation: !0,\n        closeOnOutsideClick: !0,\n        plugins: !1,\n        plyr: {\n            css: \"https://cdn.plyr.io/3.6.12/plyr.css\",\n            js: \"https://cdn.plyr.io/3.6.12/plyr.js\",\n            config: {\n                ratio: \"16:9\",\n                fullscreen: {\n                    enabled: !0,\n                    iosNative: !0\n                },\n                youtube: {\n                    noCookie: !0,\n                    rel: 0,\n                    showinfo: 0,\n                    iv_load_policy: 3\n                },\n                vimeo: {\n                    byline: !1,\n                    portrait: !1,\n                    title: !1,\n                    transparent: !1\n                }\n            }\n        },\n        openEffect: \"zoom\",\n        closeEffect: \"zoom\",\n        slideEffect: \"slide\",\n        moreText: \"See more\",\n        moreLength: 60,\n        cssEfects: {\n            fade: {\n                in: \"fadeIn\",\n                out: \"fadeOut\"\n            },\n            zoom: {\n                in: \"zoomIn\",\n                out: \"zoomOut\"\n            },\n            slide: {\n                in: \"slideInRight\",\n                out: \"slideOutLeft\"\n            },\n            slideBack: {\n                in: \"slideInLeft\",\n                out: \"slideOutRight\"\n            },\n            none: {\n                in: \"none\",\n                out: \"none\"\n            }\n        },\n        svg: {\n            close: '<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 512 512\" xml:space=\"preserve\"><g><g><path d=\"M505.943,6.058c-8.077-8.077-21.172-8.077-29.249,0L6.058,476.693c-8.077,8.077-8.077,21.172,0,29.249C10.096,509.982,15.39,512,20.683,512c5.293,0,10.586-2.019,14.625-6.059L505.943,35.306C514.019,27.23,514.019,14.135,505.943,6.058z\"/></g></g><g><g><path d=\"M505.942,476.694L35.306,6.059c-8.076-8.077-21.172-8.077-29.248,0c-8.077,8.076-8.077,21.171,0,29.248l470.636,470.636c4.038,4.039,9.332,6.058,14.625,6.058c5.293,0,10.587-2.019,14.624-6.057C514.018,497.866,514.018,484.771,505.942,476.694z\"/></g></g></svg>',\n            next: '<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 477.175 477.175\" xml:space=\"preserve\"> <g><path d=\"M360.731,229.075l-225.1-225.1c-5.3-5.3-13.8-5.3-19.1,0s-5.3,13.8,0,19.1l215.5,215.5l-215.5,215.5c-5.3,5.3-5.3,13.8,0,19.1c2.6,2.6,6.1,4,9.5,4c3.4,0,6.9-1.3,9.5-4l225.1-225.1C365.931,242.875,365.931,234.275,360.731,229.075z\"/></g></svg>',\n            prev: '<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 477.175 477.175\" xml:space=\"preserve\"><g><path d=\"M145.188,238.575l215.5-215.5c5.3-5.3,5.3-13.8,0-19.1s-13.8-5.3-19.1,0l-225.1,225.1c-5.3,5.3-5.3,13.8,0,19.1l225.1,225c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1L145.188,238.575z\"/></g></svg>'\n        },\n        slideHTML: '<div class=\"gslide\">\\n    <div class=\"gslide-inner-content\">\\n        <div class=\"ginner-container\">\\n            <div class=\"gslide-media\">\\n            </div>\\n            <div class=\"gslide-description\">\\n                <div class=\"gdesc-inner\">\\n                    <h4 class=\"gslide-title\"></h4>\\n                    <div class=\"gslide-desc\"></div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>',\n        lightboxHTML: '<div id=\"glightbox-body\" class=\"glightbox-container\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"false\">\\n    <div class=\"gloader visible\"></div>\\n    <div class=\"goverlay\"></div>\\n    <div class=\"gcontainer\">\\n    <div id=\"glightbox-slider\" class=\"gslider\"></div>\\n    <button class=\"gclose gbtn\" aria-label=\"Close\" data-taborder=\"3\">{closeSVG}</button>\\n    <button class=\"gprev gbtn\" aria-label=\"Previous\" data-taborder=\"2\">{prevSVG}</button>\\n    <button class=\"gnext gbtn\" aria-label=\"Next\" data-taborder=\"1\">{nextSVG}</button>\\n</div>\\n</div>'\n    }, te = function() {\n        function e() {\n            var i = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n            t(this, e), this.customOptions = i, this.settings = l(ee, i), this.effectsClasses = this.getAnimationClasses(), this.videoPlayers = {}, this.apiEvents = [], this.fullElementsList = !1;\n        }\n        return n(e, [\n            {\n                key: \"init\",\n                value: function() {\n                    var e = this, t = this.getSelector();\n                    t && (this.baseEvents = a(\"click\", {\n                        onElement: t,\n                        withCallback: function(t, i) {\n                            t.preventDefault(), e.open(i);\n                        }\n                    })), this.elements = this.getElements();\n                }\n            },\n            {\n                key: \"open\",\n                value: function() {\n                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null, t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null;\n                    if (0 === this.elements.length) return !1;\n                    this.activeSlide = null, this.prevActiveSlideIndex = null, this.prevActiveSlide = null;\n                    var i = M(t) ? t : this.settings.startAt;\n                    if (k(e)) {\n                        var n = e.getAttribute(\"data-gallery\");\n                        n && (this.fullElementsList = this.elements, this.elements = this.getGalleryElements(this.elements, n)), I(i) && (i = this.getElementIndex(e)) < 0 && (i = 0);\n                    }\n                    M(i) || (i = 0), this.build(), g(this.overlay, \"none\" === this.settings.openEffect ? \"none\" : this.settings.cssEfects.fade.in);\n                    var s = document.body, l = window.innerWidth - document.documentElement.clientWidth;\n                    if (l > 0) {\n                        var o = document.createElement(\"style\");\n                        o.type = \"text/css\", o.className = \"gcss-styles\", o.innerText = \".gscrollbar-fixer {margin-right: \".concat(l, \"px}\"), document.head.appendChild(o), h(s, \"gscrollbar-fixer\");\n                    }\n                    h(s, \"glightbox-open\"), h(Q, \"glightbox-open\"), J && (h(document.body, \"glightbox-mobile\"), this.settings.slideEffect = \"slide\"), this.showSlide(i, !0), 1 === this.elements.length ? (h(this.prevButton, \"glightbox-button-hidden\"), h(this.nextButton, \"glightbox-button-hidden\")) : (d(this.prevButton, \"glightbox-button-hidden\"), d(this.nextButton, \"glightbox-button-hidden\")), this.lightboxOpen = !0, this.trigger(\"open\"), T(this.settings.onOpen) && this.settings.onOpen(), K && this.settings.touchNavigation && B(this), this.settings.keyboardNavigation && X(this);\n                }\n            },\n            {\n                key: \"openAt\",\n                value: function() {\n                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;\n                    this.open(null, e);\n                }\n            },\n            {\n                key: \"showSlide\",\n                value: function() {\n                    var e = this, t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0, i = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];\n                    f(this.loader), this.index = parseInt(t);\n                    var n = this.slidesContainer.querySelector(\".current\");\n                    n && d(n, \"current\"), this.slideAnimateOut();\n                    var s = this.slidesContainer.querySelectorAll(\".gslide\")[t];\n                    if (c(s, \"loaded\")) this.slideAnimateIn(s, i), p(this.loader);\n                    else {\n                        f(this.loader);\n                        var l = this.elements[t], o = {\n                            index: this.index,\n                            slide: s,\n                            slideNode: s,\n                            slideConfig: l.slideConfig,\n                            slideIndex: this.index,\n                            trigger: l.node,\n                            player: null\n                        };\n                        this.trigger(\"slide_before_load\", o), l.instance.setContent(s, function() {\n                            p(e.loader), e.resize(), e.slideAnimateIn(s, i), e.trigger(\"slide_after_load\", o);\n                        });\n                    }\n                    this.slideDescription = s.querySelector(\".gslide-description\"), this.slideDescriptionContained = this.slideDescription && c(this.slideDescription.parentNode, \"gslide-media\"), this.settings.preload && (this.preloadSlide(t + 1), this.preloadSlide(t - 1)), this.updateNavigationClasses(), this.activeSlide = s;\n                }\n            },\n            {\n                key: \"preloadSlide\",\n                value: function(e) {\n                    var t = this;\n                    if (e < 0 || e > this.elements.length - 1) return !1;\n                    if (I(this.elements[e])) return !1;\n                    var i = this.slidesContainer.querySelectorAll(\".gslide\")[e];\n                    if (c(i, \"loaded\")) return !1;\n                    var n = this.elements[e], s = n.type, l = {\n                        index: e,\n                        slide: i,\n                        slideNode: i,\n                        slideConfig: n.slideConfig,\n                        slideIndex: e,\n                        trigger: n.node,\n                        player: null\n                    };\n                    this.trigger(\"slide_before_load\", l), \"video\" === s || \"external\" === s ? setTimeout(function() {\n                        n.instance.setContent(i, function() {\n                            t.trigger(\"slide_after_load\", l);\n                        });\n                    }, 200) : n.instance.setContent(i, function() {\n                        t.trigger(\"slide_after_load\", l);\n                    });\n                }\n            },\n            {\n                key: \"prevSlide\",\n                value: function() {\n                    this.goToSlide(this.index - 1);\n                }\n            },\n            {\n                key: \"nextSlide\",\n                value: function() {\n                    this.goToSlide(this.index + 1);\n                }\n            },\n            {\n                key: \"goToSlide\",\n                value: function() {\n                    var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];\n                    if (this.prevActiveSlide = this.activeSlide, this.prevActiveSlideIndex = this.index, !this.loop() && (e < 0 || e > this.elements.length - 1)) return !1;\n                    e < 0 ? e = this.elements.length - 1 : e >= this.elements.length && (e = 0), this.showSlide(e);\n                }\n            },\n            {\n                key: \"insertSlide\",\n                value: function() {\n                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : -1;\n                    t < 0 && (t = this.elements.length);\n                    var i = new $(e, this, t), n = i.getConfig(), s = l({}, n), o = i.create(), r = this.elements.length - 1;\n                    s.index = t, s.node = !1, s.instance = i, s.slideConfig = n, this.elements.splice(t, 0, s);\n                    var a = null, h = null;\n                    if (this.slidesContainer) {\n                        if (t > r) this.slidesContainer.appendChild(o);\n                        else {\n                            var d = this.slidesContainer.querySelectorAll(\".gslide\")[t];\n                            this.slidesContainer.insertBefore(o, d);\n                        }\n                        (this.settings.preload && 0 == this.index && 0 == t || this.index - 1 == t || this.index + 1 == t) && this.preloadSlide(t), 0 === this.index && 0 === t && (this.index = 1), this.updateNavigationClasses(), a = this.slidesContainer.querySelectorAll(\".gslide\")[t], h = this.getSlidePlayerInstance(t), s.slideNode = a;\n                    }\n                    this.trigger(\"slide_inserted\", {\n                        index: t,\n                        slide: a,\n                        slideNode: a,\n                        slideConfig: n,\n                        slideIndex: t,\n                        trigger: null,\n                        player: h\n                    }), T(this.settings.slideInserted) && this.settings.slideInserted({\n                        index: t,\n                        slide: a,\n                        player: h\n                    });\n                }\n            },\n            {\n                key: \"removeSlide\",\n                value: function() {\n                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : -1;\n                    if (e < 0 || e > this.elements.length - 1) return !1;\n                    var t = this.slidesContainer && this.slidesContainer.querySelectorAll(\".gslide\")[e];\n                    t && (this.getActiveSlideIndex() == e && (e == this.elements.length - 1 ? this.prevSlide() : this.nextSlide()), t.parentNode.removeChild(t)), this.elements.splice(e, 1), this.trigger(\"slide_removed\", e), T(this.settings.slideRemoved) && this.settings.slideRemoved(e);\n                }\n            },\n            {\n                key: \"slideAnimateIn\",\n                value: function(e, t) {\n                    var i = this, n = e.querySelector(\".gslide-media\"), s = e.querySelector(\".gslide-description\"), l = {\n                        index: this.prevActiveSlideIndex,\n                        slide: this.prevActiveSlide,\n                        slideNode: this.prevActiveSlide,\n                        slideIndex: this.prevActiveSlide,\n                        slideConfig: I(this.prevActiveSlideIndex) ? null : this.elements[this.prevActiveSlideIndex].slideConfig,\n                        trigger: I(this.prevActiveSlideIndex) ? null : this.elements[this.prevActiveSlideIndex].node,\n                        player: this.getSlidePlayerInstance(this.prevActiveSlideIndex)\n                    }, o = {\n                        index: this.index,\n                        slide: this.activeSlide,\n                        slideNode: this.activeSlide,\n                        slideConfig: this.elements[this.index].slideConfig,\n                        slideIndex: this.index,\n                        trigger: this.elements[this.index].node,\n                        player: this.getSlidePlayerInstance(this.index)\n                    };\n                    if (n.offsetWidth > 0 && s && (p(s), s.style.display = \"\"), d(e, this.effectsClasses), t) g(e, this.settings.cssEfects[this.settings.openEffect].in, function() {\n                        i.settings.autoplayVideos && i.slidePlayerPlay(e), i.trigger(\"slide_changed\", {\n                            prev: l,\n                            current: o\n                        }), T(i.settings.afterSlideChange) && i.settings.afterSlideChange.apply(i, [\n                            l,\n                            o\n                        ]);\n                    });\n                    else {\n                        var r = this.settings.slideEffect, a = \"none\" !== r ? this.settings.cssEfects[r].in : r;\n                        this.prevActiveSlideIndex > this.index && \"slide\" == this.settings.slideEffect && (a = this.settings.cssEfects.slideBack.in), g(e, a, function() {\n                            i.settings.autoplayVideos && i.slidePlayerPlay(e), i.trigger(\"slide_changed\", {\n                                prev: l,\n                                current: o\n                            }), T(i.settings.afterSlideChange) && i.settings.afterSlideChange.apply(i, [\n                                l,\n                                o\n                            ]);\n                        });\n                    }\n                    setTimeout(function() {\n                        i.resize(e);\n                    }, 100), h(e, \"current\");\n                }\n            },\n            {\n                key: \"slideAnimateOut\",\n                value: function() {\n                    if (!this.prevActiveSlide) return !1;\n                    var e = this.prevActiveSlide;\n                    d(e, this.effectsClasses), h(e, \"prev\");\n                    var t = this.settings.slideEffect, i = \"none\" !== t ? this.settings.cssEfects[t].out : t;\n                    this.slidePlayerPause(e), this.trigger(\"slide_before_change\", {\n                        prev: {\n                            index: this.prevActiveSlideIndex,\n                            slide: this.prevActiveSlide,\n                            slideNode: this.prevActiveSlide,\n                            slideIndex: this.prevActiveSlideIndex,\n                            slideConfig: I(this.prevActiveSlideIndex) ? null : this.elements[this.prevActiveSlideIndex].slideConfig,\n                            trigger: I(this.prevActiveSlideIndex) ? null : this.elements[this.prevActiveSlideIndex].node,\n                            player: this.getSlidePlayerInstance(this.prevActiveSlideIndex)\n                        },\n                        current: {\n                            index: this.index,\n                            slide: this.activeSlide,\n                            slideNode: this.activeSlide,\n                            slideIndex: this.index,\n                            slideConfig: this.elements[this.index].slideConfig,\n                            trigger: this.elements[this.index].node,\n                            player: this.getSlidePlayerInstance(this.index)\n                        }\n                    }), T(this.settings.beforeSlideChange) && this.settings.beforeSlideChange.apply(this, [\n                        {\n                            index: this.prevActiveSlideIndex,\n                            slide: this.prevActiveSlide,\n                            player: this.getSlidePlayerInstance(this.prevActiveSlideIndex)\n                        },\n                        {\n                            index: this.index,\n                            slide: this.activeSlide,\n                            player: this.getSlidePlayerInstance(this.index)\n                        }\n                    ]), this.prevActiveSlideIndex > this.index && \"slide\" == this.settings.slideEffect && (i = this.settings.cssEfects.slideBack.out), g(e, i, function() {\n                        var t = e.querySelector(\".ginner-container\"), i = e.querySelector(\".gslide-media\"), n = e.querySelector(\".gslide-description\");\n                        t.style.transform = \"\", i.style.transform = \"\", d(i, \"greset\"), i.style.opacity = \"\", n && (n.style.opacity = \"\"), d(e, \"prev\");\n                    });\n                }\n            },\n            {\n                key: \"getAllPlayers\",\n                value: function() {\n                    return this.videoPlayers;\n                }\n            },\n            {\n                key: \"getSlidePlayerInstance\",\n                value: function(e) {\n                    var t = \"gvideo\" + e, i = this.getAllPlayers();\n                    return !(!O(i, t) || !i[t]) && i[t];\n                }\n            },\n            {\n                key: \"stopSlideVideo\",\n                value: function(e) {\n                    if (k(e)) {\n                        var t = e.querySelector(\".gvideo-wrapper\");\n                        t && (e = t.getAttribute(\"data-index\"));\n                    }\n                    console.log(\"stopSlideVideo is deprecated, use slidePlayerPause\");\n                    var i = this.getSlidePlayerInstance(e);\n                    i && i.playing && i.pause();\n                }\n            },\n            {\n                key: \"slidePlayerPause\",\n                value: function(e) {\n                    if (k(e)) {\n                        var t = e.querySelector(\".gvideo-wrapper\");\n                        t && (e = t.getAttribute(\"data-index\"));\n                    }\n                    var i = this.getSlidePlayerInstance(e);\n                    i && i.playing && i.pause();\n                }\n            },\n            {\n                key: \"playSlideVideo\",\n                value: function(e) {\n                    if (k(e)) {\n                        var t = e.querySelector(\".gvideo-wrapper\");\n                        t && (e = t.getAttribute(\"data-index\"));\n                    }\n                    console.log(\"playSlideVideo is deprecated, use slidePlayerPlay\");\n                    var i = this.getSlidePlayerInstance(e);\n                    i && !i.playing && i.play();\n                }\n            },\n            {\n                key: \"slidePlayerPlay\",\n                value: function(e) {\n                    var t;\n                    if (!J || null !== (t = this.settings.plyr.config) && void 0 !== t && t.muted) {\n                        if (k(e)) {\n                            var i = e.querySelector(\".gvideo-wrapper\");\n                            i && (e = i.getAttribute(\"data-index\"));\n                        }\n                        var n = this.getSlidePlayerInstance(e);\n                        n && !n.playing && (n.play(), this.settings.autofocusVideos && n.elements.container.focus());\n                    }\n                }\n            },\n            {\n                key: \"setElements\",\n                value: function(e) {\n                    var t = this;\n                    this.settings.elements = !1;\n                    var i = [];\n                    e && e.length && o(e, function(e, n) {\n                        var s = new $(e, t, n), o = s.getConfig(), r = l({}, o);\n                        r.slideConfig = o, r.instance = s, r.index = n, i.push(r);\n                    }), this.elements = i, this.lightboxOpen && (this.slidesContainer.innerHTML = \"\", this.elements.length && (o(this.elements, function() {\n                        var e = m(t.settings.slideHTML);\n                        t.slidesContainer.appendChild(e);\n                    }), this.showSlide(0, !0)));\n                }\n            },\n            {\n                key: \"getElementIndex\",\n                value: function(e) {\n                    var t = !1;\n                    return o(this.elements, function(i, n) {\n                        if (O(i, \"node\") && i.node == e) return t = n, !0;\n                    }), t;\n                }\n            },\n            {\n                key: \"getElements\",\n                value: function() {\n                    var e = this, t = [];\n                    this.elements = this.elements ? this.elements : [], !I(this.settings.elements) && E(this.settings.elements) && this.settings.elements.length && o(this.settings.elements, function(i, n) {\n                        var s = new $(i, e, n), o = s.getConfig(), r = l({}, o);\n                        r.node = !1, r.index = n, r.instance = s, r.slideConfig = o, t.push(r);\n                    });\n                    var i = !1;\n                    return this.getSelector() && (i = document.querySelectorAll(this.getSelector())), i ? (o(i, function(i, n) {\n                        var s = new $(i, e, n), o = s.getConfig(), r = l({}, o);\n                        r.node = i, r.index = n, r.instance = s, r.slideConfig = o, r.gallery = i.getAttribute(\"data-gallery\"), t.push(r);\n                    }), t) : t;\n                }\n            },\n            {\n                key: \"getGalleryElements\",\n                value: function(e, t) {\n                    return e.filter(function(e) {\n                        return e.gallery == t;\n                    });\n                }\n            },\n            {\n                key: \"getSelector\",\n                value: function() {\n                    return !this.settings.elements && (this.settings.selector && \"data-\" == this.settings.selector.substring(0, 5) ? \"*[\".concat(this.settings.selector, \"]\") : this.settings.selector);\n                }\n            },\n            {\n                key: \"getActiveSlide\",\n                value: function() {\n                    return this.slidesContainer.querySelectorAll(\".gslide\")[this.index];\n                }\n            },\n            {\n                key: \"getActiveSlideIndex\",\n                value: function() {\n                    return this.index;\n                }\n            },\n            {\n                key: \"getAnimationClasses\",\n                value: function() {\n                    var e = [];\n                    for(var t in this.settings.cssEfects)if (this.settings.cssEfects.hasOwnProperty(t)) {\n                        var i = this.settings.cssEfects[t];\n                        e.push(\"g\".concat(i.in)), e.push(\"g\".concat(i.out));\n                    }\n                    return e.join(\" \");\n                }\n            },\n            {\n                key: \"build\",\n                value: function() {\n                    var e = this;\n                    if (this.built) return !1;\n                    var t = document.body.childNodes, i = [];\n                    o(t, function(e) {\n                        e.parentNode == document.body && \"#\" !== e.nodeName.charAt(0) && e.hasAttribute && !e.hasAttribute(\"aria-hidden\") && (i.push(e), e.setAttribute(\"aria-hidden\", \"true\"));\n                    });\n                    var n = O(this.settings.svg, \"next\") ? this.settings.svg.next : \"\", s = O(this.settings.svg, \"prev\") ? this.settings.svg.prev : \"\", l = O(this.settings.svg, \"close\") ? this.settings.svg.close : \"\", r = this.settings.lightboxHTML;\n                    r = m(r = (r = (r = r.replace(/{nextSVG}/g, n)).replace(/{prevSVG}/g, s)).replace(/{closeSVG}/g, l)), document.body.appendChild(r);\n                    var d = document.getElementById(\"glightbox-body\");\n                    this.modal = d;\n                    var g = d.querySelector(\".gclose\");\n                    this.prevButton = d.querySelector(\".gprev\"), this.nextButton = d.querySelector(\".gnext\"), this.overlay = d.querySelector(\".goverlay\"), this.loader = d.querySelector(\".gloader\"), this.slidesContainer = document.getElementById(\"glightbox-slider\"), this.bodyHiddenChildElms = i, this.events = {}, h(this.modal, \"glightbox-\" + this.settings.skin), this.settings.closeButton && g && (this.events.close = a(\"click\", {\n                        onElement: g,\n                        withCallback: function(t, i) {\n                            t.preventDefault(), e.close();\n                        }\n                    })), g && !this.settings.closeButton && g.parentNode.removeChild(g), this.nextButton && (this.events.next = a(\"click\", {\n                        onElement: this.nextButton,\n                        withCallback: function(t, i) {\n                            t.preventDefault(), e.nextSlide();\n                        }\n                    })), this.prevButton && (this.events.prev = a(\"click\", {\n                        onElement: this.prevButton,\n                        withCallback: function(t, i) {\n                            t.preventDefault(), e.prevSlide();\n                        }\n                    })), this.settings.closeOnOutsideClick && (this.events.outClose = a(\"click\", {\n                        onElement: d,\n                        withCallback: function(t, i) {\n                            e.preventOutsideClick || c(document.body, \"glightbox-mobile\") || u(t.target, \".ginner-container\") || u(t.target, \".gbtn\") || c(t.target, \"gnext\") || c(t.target, \"gprev\") || e.close();\n                        }\n                    })), o(this.elements, function(t, i) {\n                        e.slidesContainer.appendChild(t.instance.create()), t.slideNode = e.slidesContainer.querySelectorAll(\".gslide\")[i];\n                    }), K && h(document.body, \"glightbox-touch\"), this.events.resize = a(\"resize\", {\n                        onElement: window,\n                        withCallback: function() {\n                            e.resize();\n                        }\n                    }), this.built = !0;\n                }\n            },\n            {\n                key: \"resize\",\n                value: function() {\n                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;\n                    if ((e = e || this.activeSlide) && !c(e, \"zoomed\")) {\n                        var t = y(), i = e.querySelector(\".gvideo-wrapper\"), n = e.querySelector(\".gslide-image\"), s = this.slideDescription, l = t.width, o = t.height;\n                        if (l <= 768 ? h(document.body, \"glightbox-mobile\") : d(document.body, \"glightbox-mobile\"), i || n) {\n                            var r = !1;\n                            if (s && (c(s, \"description-bottom\") || c(s, \"description-top\")) && !c(s, \"gabsolute\") && (r = !0), n) {\n                                if (l <= 768) n.querySelector(\"img\");\n                                else if (r) {\n                                    var a = s.offsetHeight, u = n.querySelector(\"img\");\n                                    u.setAttribute(\"style\", \"max-height: calc(100vh - \".concat(a, \"px)\")), s.setAttribute(\"style\", \"max-width: \".concat(u.offsetWidth, \"px;\"));\n                                }\n                            }\n                            if (i) {\n                                var g = O(this.settings.plyr.config, \"ratio\") ? this.settings.plyr.config.ratio : \"\";\n                                if (!g) {\n                                    var v = i.clientWidth, f = i.clientHeight, p = v / f;\n                                    g = \"\".concat(v / p, \":\").concat(f / p);\n                                }\n                                var m = g.split(\":\"), x = this.settings.videosWidth, b = this.settings.videosWidth, S = (b = M(x) || -1 !== x.indexOf(\"px\") ? parseInt(x) : -1 !== x.indexOf(\"vw\") ? l * parseInt(x) / 100 : -1 !== x.indexOf(\"vh\") ? o * parseInt(x) / 100 : -1 !== x.indexOf(\"%\") ? l * parseInt(x) / 100 : parseInt(i.clientWidth)) / (parseInt(m[0]) / parseInt(m[1]));\n                                if (S = Math.floor(S), r && (o -= s.offsetHeight), b > l || S > o || o < S && l > b) {\n                                    var w = i.offsetWidth, T = i.offsetHeight, C = o / T, k = {\n                                        width: w * C,\n                                        height: T * C\n                                    };\n                                    i.parentNode.setAttribute(\"style\", \"max-width: \".concat(k.width, \"px\")), r && s.setAttribute(\"style\", \"max-width: \".concat(k.width, \"px;\"));\n                                } else i.parentNode.style.maxWidth = \"\".concat(x), r && s.setAttribute(\"style\", \"max-width: \".concat(x, \";\"));\n                            }\n                        }\n                    }\n                }\n            },\n            {\n                key: \"reload\",\n                value: function() {\n                    this.init();\n                }\n            },\n            {\n                key: \"updateNavigationClasses\",\n                value: function() {\n                    var e = this.loop();\n                    d(this.nextButton, \"disabled\"), d(this.prevButton, \"disabled\"), 0 == this.index && this.elements.length - 1 == 0 ? (h(this.prevButton, \"disabled\"), h(this.nextButton, \"disabled\")) : 0 !== this.index || e ? this.index !== this.elements.length - 1 || e || h(this.nextButton, \"disabled\") : h(this.prevButton, \"disabled\");\n                }\n            },\n            {\n                key: \"loop\",\n                value: function() {\n                    var e = O(this.settings, \"loopAtEnd\") ? this.settings.loopAtEnd : null;\n                    return e = O(this.settings, \"loop\") ? this.settings.loop : e, e;\n                }\n            },\n            {\n                key: \"close\",\n                value: function() {\n                    var e = this;\n                    if (!this.lightboxOpen) {\n                        if (this.events) {\n                            for(var t in this.events)this.events.hasOwnProperty(t) && this.events[t].destroy();\n                            this.events = null;\n                        }\n                        return !1;\n                    }\n                    if (this.closing) return !1;\n                    this.closing = !0, this.slidePlayerPause(this.activeSlide), this.fullElementsList && (this.elements = this.fullElementsList), this.bodyHiddenChildElms.length && o(this.bodyHiddenChildElms, function(e) {\n                        e.removeAttribute(\"aria-hidden\");\n                    }), h(this.modal, \"glightbox-closing\"), g(this.overlay, \"none\" == this.settings.openEffect ? \"none\" : this.settings.cssEfects.fade.out), g(this.activeSlide, this.settings.cssEfects[this.settings.closeEffect].out, function() {\n                        if (e.activeSlide = null, e.prevActiveSlideIndex = null, e.prevActiveSlide = null, e.built = !1, e.events) {\n                            for(var t in e.events)e.events.hasOwnProperty(t) && e.events[t].destroy();\n                            e.events = null;\n                        }\n                        var i = document.body;\n                        d(Q, \"glightbox-open\"), d(i, \"glightbox-open touching gdesc-open glightbox-touch glightbox-mobile gscrollbar-fixer\"), e.modal.parentNode.removeChild(e.modal), e.trigger(\"close\"), T(e.settings.onClose) && e.settings.onClose();\n                        var n = document.querySelector(\".gcss-styles\");\n                        n && n.parentNode.removeChild(n), e.lightboxOpen = !1, e.closing = null;\n                    });\n                }\n            },\n            {\n                key: \"destroy\",\n                value: function() {\n                    this.close(), this.clearAllEvents(), this.baseEvents && this.baseEvents.destroy();\n                }\n            },\n            {\n                key: \"on\",\n                value: function(e, t) {\n                    var i = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];\n                    if (!e || !T(t)) throw new TypeError(\"Event name and callback must be defined\");\n                    this.apiEvents.push({\n                        evt: e,\n                        once: i,\n                        callback: t\n                    });\n                }\n            },\n            {\n                key: \"once\",\n                value: function(e, t) {\n                    this.on(e, t, !0);\n                }\n            },\n            {\n                key: \"trigger\",\n                value: function(e) {\n                    var t = this, i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null, n = [];\n                    o(this.apiEvents, function(t, s) {\n                        var l = t.evt, o = t.once, r = t.callback;\n                        l == e && (r(i), o && n.push(s));\n                    }), n.length && o(n, function(e) {\n                        return t.apiEvents.splice(e, 1);\n                    });\n                }\n            },\n            {\n                key: \"clearAllEvents\",\n                value: function() {\n                    this.apiEvents.splice(0, this.apiEvents.length);\n                }\n            },\n            {\n                key: \"version\",\n                value: function() {\n                    return \"3.1.0\";\n                }\n            }\n        ]), e;\n    }();\n    return function() {\n        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = new te(e);\n        return t.init(), t;\n    };\n});\n\n\nfunction $ae435fb76acade86$export$2e2bcd8739ae039(props) {\n    const [lightbox, setLightbox] = (0, $35130c2d97e6777b$export$60241385465d0a34)(null);\n    (0, $35130c2d97e6777b$export$6d9c69b0de29b591)(()=>{\n        setLightbox((0, (/*@__PURE__*/$parcel$interopDefault($91f4924d9b614d55$exports)))({\n            autoplayVideos: false,\n            draggable: true,\n            loop: false,\n            touchNavigation: true,\n            zoomable: true,\n            elements: []\n        }));\n    }, []);\n    const openLightbox = (evt)=>{\n        evt.preventDefault();\n        evt.stopPropagation();\n        if (lightbox != null && Array.from(document.getElementsByClassName(\"glightbox\")).length > 0) {\n            const elements = Array.from(document.getElementsByClassName(\"glightbox\")).map((e)=>{\n                const r = {\n                    href: e.href\n                };\n                if (e?.dataset?.width) r.width = e?.dataset?.width;\n                if (e?.dataset?.height) r.height = e?.dataset?.height;\n                if (e?.dataset?.type) r.type = e?.dataset?.type;\n                if (e?.dataset?.srcset) r.srcset = e?.dataset?.srcset;\n                if (e?.dataset?.sizes) r.sizes = e?.dataset?.sizes;\n                return r;\n            });\n            lightbox.setElements(elements);\n            lightbox.open(null, elements.findIndex((e)=>e.href === evt.target.closest(\".glightbox\").href));\n        }\n    };\n    const getPreview = ()=>{\n        if (props?.data?.exception) console.warn(props.data);\n        if (props.data[\"providerName\"]) {\n            if (\"peertube\" == props.data[\"providerName\"].toLowerCase()) {\n                // default embed code\n                if (props.data[\"code\"]) return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n                    class: \"embed-container\",\n                    dangerouslySetInnerHTML: {\n                        __html: props.data[\"code\"]\n                    }\n                });\n            }\n            if (\"soundcloud\" == props.data[\"providerName\"].toLowerCase()) {\n                if (props.data[\"code\"]) return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $339cc4f4e8c01c65$export$2e2bcd8739ae039), {\n                    preview: (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).crop(props.preview.id, 1024, 270),\n                    url: `${props.data[\"code\"].match(/https:\\/\\/[^\"\\s]+/)[0]}&auto_play=true`,\n                    playBtnClass: \"soundcloud\"\n                });\n            }\n            if (\"bandcamp\" == props.data[\"providerName\"].toLowerCase()) {\n                if (props.data[\"code\"]) {\n                    let id = props.data[\"code\"].match(/https:\\/\\/.*album=\\d+/);\n                    if (!id) id = props.data[\"code\"].match(/https:\\/\\/.*track=\\d+/);\n                    if (id) return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $0d6022fefd5ea3cb$export$2e2bcd8739ae039), {\n                        preview: (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).crop(props.preview.id, 1024, 270),\n                        url: id[0]\n                    });\n                }\n            }\n            if (\"lichess.org\" == props.data[\"providerName\"].toLowerCase()) {\n                let url = props?.data?.url && typeof props?.data.url == \"string\" ? props.data?.url : props.url;\n                if ((0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).isValidUrl(url) && !url.match(/embed/) && !url.match(/study/) && !url.match(/blog/)) {\n                    url = new URL(url.replace(\"lichess.org/\", \"lichess.org/embed/\"));\n                    let id;\n                    try {\n                        id = url.pathname.split(\"/\").slice(-1)[0];\n                    } catch (e) {\n                        id = \"\";\n                    }\n                    url = new URL(url.href.replace(id, id.slice(0, 8)));\n                    if (id) return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $339cc4f4e8c01c65$export$2e2bcd8739ae039), {\n                        preview: (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).crop(props.preview.id, 270, 270),\n                        url: url,\n                        playBtnClass: \"lichess\"\n                    });\n                }\n            }\n            if (\"youtube\" == props.data[\"providerName\"].toLowerCase()) {\n                let url = props.url;\n                if (props?.preview?.id && url) {\n                    url = new URL(url);\n                    let video_id;\n                    let playlist_id;\n                    if (url.host == \"www.youtube.com\" || url.host == \"m.youtube.com\" || url.host == \"youtube.com\" || url.host == \"music.youtube.com\") {\n                        if (url.pathname.match(/shorts/)) {\n                            video_id = [\n                                `v=${url.pathname.split(\"/\").slice(-1)[0]}`\n                            ];\n                            playlist_id = [];\n                        } else if (url.pathname.match(/embed/)) {\n                            video_id = [\n                                `v=${url.pathname.split(\"/\").slice(-1)[0]}`\n                            ];\n                            playlist_id = [];\n                        } else {\n                            video_id = url.search.substring(1).split(\"&\").filter((e)=>e.match(/^v=/));\n                            playlist_id = url.search.substring(1).split(\"&\").filter((e)=>e.match(/^list=/));\n                        }\n                    }\n                    if (url.host == \"youtu.be\") {\n                        video_id = [\n                            `v=${url.pathname.slice(1)}`\n                        ];\n                        playlist_id = [];\n                    }\n                    let timecode = (0, $ba05c0ef8a781e02$export$5375cda95f0b0eb4).getParam(\"t\", url.search.substring(1));\n                    if (playlist_id.length && video_id.length) return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $339cc4f4e8c01c65$export$2e2bcd8739ae039), {\n                        preview: (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).crop(props.preview.id, 1024, 270),\n                        url: `https://youtube.com/embed/${video_id[0].split(\"=\")[1]}?autoplay=1&controls=2&wmode=opaque&list=${playlist_id[0].split(\"=\")[1]}${timecode ? `&start=${timecode}` : \"\"}`,\n                        playBtnClass: \"youtube\"\n                    });\n                    if (playlist_id.length) return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $339cc4f4e8c01c65$export$2e2bcd8739ae039), {\n                        preview: (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).crop(props.preview.id, 1024, 270),\n                        url: `https://youtube.com/embed/videoseries?list=${playlist_id[0].split(\"=\")[1]}&autoplay=1&controls=2&wmode=opaque${timecode ? `&start=${timecode}` : \"\"}`,\n                        playBtnClass: \"youtube\"\n                    });\n                    if (video_id.length) return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $339cc4f4e8c01c65$export$2e2bcd8739ae039), {\n                        preview: (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).crop(props.preview.id, 1024, 270),\n                        url: `https://youtube.com/embed/${video_id[0].split(\"=\")[1]}?autoplay=1&controls=2&wmode=opaque${timecode ? `&start=${timecode}` : \"\"}`,\n                        playBtnClass: \"youtube\"\n                    });\n                }\n            }\n        }\n        if (props.data[\"content-type\"] == \"image/gif\") return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n            class: \"container d-flex justify-content-center flex-wrap align-items-center\"\n        }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"img\", {\n            href: (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).toApp(props.url),\n            class: \"img-fluid\",\n            \"data-origin\": props.url,\n            \"data-src\": props.url,\n            src: props.url\n        }));\n        if (/image/.test(props.data[\"content-type\"])) return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n            class: \"container d-flex justify-content-center flex-wrap align-items-center\"\n        }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"a\", {\n            href: (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).toApp(props.url),\n            class: \"glightbox\",\n            \"data-type\": \"image\",\n            \"data-srcset\": `${(0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).thumbnail(props.preview.id, 720)} 720w, ${(0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).thumbnail(props.preview.id, 1366)} 1366w, ${(0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).thumbnail(props.preview.id, 2048)} 2048w`,\n            \"data-sizes\": \"(max-width: 992px) 720px, (max-width: 1400px) 1366px, 2048px\",\n            onClick: (e)=>openLightbox(e)\n        }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"img\", {\n            href: (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).toApp(props.url),\n            class: \"img-fluid cursor-pointer\",\n            \"data-origin\": props.url,\n            \"data-src\": (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).thumbnail(props.preview.id, 1366),\n            src: (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).thumbnail(props.preview.id, 2048)\n        })));\n        // application/ogg: https://developer.mozilla.org/en-US/docs/Web/HTTP/Configuring_servers_for_Ogg_media\n        if (/video/.test(props.data[\"content-type\"]) || props.data[\"content-type\"] == \"application/ogg\") return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n            class: \"container d-flex justify-content-center flex-wrap align-items-center\"\n        }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"video\", {\n            class: \"img-fluid\",\n            controls: true,\n            src: props.url\n        }));\n        if (/audio/.test(props.data[\"content-type\"])) return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n            class: \"container d-flex justify-content-center flex-wrap align-items-center\"\n        }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"audio\", {\n            class: \"w-100\",\n            controls: true\n        }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"source\", {\n            src: props.url\n        })));\n        if (props.data[\"title\"] && (props.preview || props.data[\"description\"])) return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"a\", {\n            class: \"preview-card seamless-link d-inline-block\",\n            target: \"_blank\",\n            rel: \"noreferrer\",\n            href: (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).toApp(props.url)\n        }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n            class: \"card\",\n            style: \"max-width: 480px\"\n        }, props.preview && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"img\", {\n            class: \"card-img-top\",\n            src: (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).crop(props.preview.id, 320, 180)\n        }), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n            class: \"card-body p-1\"\n        }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"h5\", null, props.data[\"title\"]), props.data[\"description\"] && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"p\", null, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"small\", null, props.data[\"description\"].slice(0, 500))))));\n        return null;\n    };\n    if (!props.url || !props.data) return null;\n    let preview = getPreview();\n    if (preview) return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"p\", {\n        class: \"text-center card-text\"\n    }, preview);\n    return null;\n}\n\n\n\n\nfunction $ed1226fc20dc713f$export$2e2bcd8739ae039(props) {\n    const toggleFile = (evt)=>{\n        evt.stopPropagation();\n        evt.preventDefault();\n        if (typeof props.toggleFile == \"function\") props.toggleFile(evt.target.closest(\".file-embed\").id);\n    };\n    if (!props.files || props.files.length === 0) return null;\n    if (props.files && props.files.length > 3) return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"file-grid\"\n    }, props.files.map((e)=>(0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $b3b214e33ef17c7d$export$40e4fb50d87564f1), {\n            key: e.id,\n            invertFiles: props.invertFiles,\n            toggleFile: toggleFile,\n            file: e,\n            inWriter: props.inWriter\n        })));\n    return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"d-flex justify-content-center flex-wrap\"\n    }, props.files.map((e)=>(0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $b3b214e33ef17c7d$export$48621228a997a4e0), {\n            key: e.id,\n            toggleFile: toggleFile,\n            invertFiles: props.invertFiles,\n            file: e,\n            inWriter: props.inWriter\n        })));\n}\n\n\n\n\n\n\n\n\nfunction $567a6a3c17f0a386$export$2e2bcd8739ae039(props) {\n    const [lightbox, setLightbox] = (0, $35130c2d97e6777b$export$60241385465d0a34)(null);\n    const { t: t } = (0, $829be5acfdd67d69$export$9fc83ad70ead8663)();\n    const filePath = props.file.contentUrl ? `/files/${props.file.contentUrl}` : null;\n    let url = filePath;\n    (0, $35130c2d97e6777b$export$6d9c69b0de29b591)(()=>{\n        setLightbox((0, (/*@__PURE__*/$parcel$interopDefault($91f4924d9b614d55$exports)))({\n            autoplayVideos: false,\n            draggable: true,\n            loop: false,\n            touchNavigation: true,\n            zoomable: true,\n            elements: []\n        }));\n    }, []);\n    const openLightbox = (evt)=>{\n        if (!props.inWriter) {\n            evt.preventDefault();\n            evt.stopPropagation();\n            if (lightbox != null && Array.from(document.getElementsByClassName(\"glightbox\")).length > 0) {\n                const elements = Array.from(document.getElementsByClassName(\"glightbox\")).map((e)=>{\n                    const r = {\n                        href: e.href\n                    };\n                    if (e?.dataset?.width) r.width = e?.dataset?.width;\n                    if (e?.dataset?.height) r.height = e?.dataset?.height;\n                    if (e?.dataset?.type) r.type = e?.dataset?.type;\n                    if (e?.dataset?.srcset) r.srcset = e?.dataset?.srcset;\n                    if (e?.dataset?.sizes) r.sizes = e?.dataset?.sizes;\n                    return r;\n                });\n                lightbox.setElements(elements);\n                lightbox.open(null, elements.findIndex((e)=>e.href === evt.target.closest(\".glightbox\").href));\n            }\n        }\n    };\n    if (props.file.contentUrl) {\n        if (/video/.test(props.file.type)) {\n            if (props.file.status == \"ready\") return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"video\", {\n                draggable: \"false\",\n                poster: (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).thumbnail(props.file.id, 1280, 720),\n                class: \"file-embed img-fluid contained-height video\",\n                controls: \"true\",\n                src: url,\n                id: props.file.id\n            });\n            return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"a\", {\n                class: \"file-embed file-loading image video-uploaded\",\n                id: props.file.id\n            }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"img\", {\n                class: \"img-fluid video-raw\",\n                src: (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).crop(props.file.id, 320, 180)\n            }), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n                class: \"video-not-ready\"\n            }, t(\"video_not_ready\")));\n        }\n        if (/audio/.test(props.file.type)) {\n            if (props.file.status == \"ready\") return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"audio\", {\n                controls: \"true\",\n                class: \"file-embed audio\",\n                src: (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).toApp(url),\n                id: props.file.id\n            });\n            return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"a\", {\n                class: \"file-embed file-loading image video-uploaded\",\n                id: props.file.id\n            }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n                class: \"audio-not-ready\"\n            }, t(\"audio_not_ready\")));\n        }\n        if (/pdf/.test(props.file.type)) return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"a\", {\n            \"data-origin\": (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).toApp(filePath),\n            draggable: \"false\",\n            href: !props.inWriter ? (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).toApp(url) : undefined,\n            className: `glightbox file-embed pdf-outline image${props.file.removed ? \" removed\" : \"\"}`,\n            id: props.file.id,\n            \"data-width\": \"calc(90vw - 10px)\",\n            \"data-height\": \"100vh\",\n            onClick: (e)=>openLightbox(e)\n        }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"img\", {\n            class: \"img-fluid\",\n            src: (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).thumbnail(props.file.id, 420, 994)\n        }), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n            class: \"remove-button\",\n            style: props.file.removed ? \"color:red\" : \"\",\n            onClick: (e)=>props.toggleFile(e)\n        }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $85c05060c4c33f8a$export$8b29a4b6778bf7f), {\n            family: \"solid\",\n            icon: \"times\"\n        })));\n        if (/image/.test(props.file.type)) {\n            if (props.file.type == \"image/gif\") return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"a\", {\n                \"data-origin\": (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).toApp(filePath),\n                draggable: \"false\",\n                href: !props.inWriter ? (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).toApp(filePath) : undefined,\n                className: `glightbox file-embed image${props.file.removed ? \" removed\" : \"\"}`,\n                id: props.file.id,\n                \"data-type\": \"image\",\n                onClick: (e)=>openLightbox(e)\n            }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"img\", {\n                class: \"img-fluid\",\n                src: (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).toApp(filePath)\n            }), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n                class: \"remove-button\",\n                style: props.file.removed ? \"color:red\" : \"\",\n                onClick: (e)=>props.toggleFile(e)\n            }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $85c05060c4c33f8a$export$8b29a4b6778bf7f), {\n                family: \"solid\",\n                icon: \"times\"\n            })));\n            return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"a\", {\n                \"data-origin\": (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).toApp(filePath),\n                draggable: \"false\",\n                \"data-type\": \"image\",\n                \"data-srcset\": `${(0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).thumbnail(props.file.id, 720)} 720w, ${(0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).thumbnail(props.file.id, 1366)} 1366w, ${(0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).thumbnail(props.file.id, 2048)} 2048w`,\n                \"data-sizes\": \"(max-width: 992px) 720px, (max-width: 1400px) 1366px, 2048px\",\n                href: !props.inWriter ? (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).toApp(filePath) : undefined,\n                className: `glightbox file-embed image${props.file.removed ? \" removed\" : \"\"}`,\n                id: props.file.id,\n                onClick: (e)=>openLightbox(e)\n            }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"img\", {\n                class: \"img-fluid\",\n                src: (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).thumbnail(props.file.id, 720)\n            }), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n                class: \"remove-button\",\n                style: props.file.removed ? \"color:red\" : \"\",\n                onClick: (e)=>props.toggleFile(e)\n            }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $85c05060c4c33f8a$export$8b29a4b6778bf7f), {\n                family: \"solid\",\n                icon: \"times\"\n            })));\n        }\n    }\n    if (props.file.status == \"loading\") return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"file-embed file-placeholder\",\n        id: props.file.id\n    });\n    return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"file-embed file-placeholder\",\n        id: props.file.id\n    }, props.file[\"error\"] ? (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"orange-error\"\n    }, \"\\xd7\") : (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"spinner orange-spinner\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", null), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", null), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", null), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", null), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", null)), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"progress-bar\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        style: {\n            width: `${props.file.progress}%`\n        }\n    })));\n}\n\n\n\n\n\n\nvar $26a1e2577cffdf19$exports = {};\n/*! mobile-drag-drop 3.0.0-rc.0 | Copyright (c) 2022 Tim Ruffles | MIT License */ !function(t, i) {\n    i($26a1e2577cffdf19$exports);\n}($26a1e2577cffdf19$exports, function(t) {\n    \"use strict\";\n    var c = \"dnd-poly-\", s = [\n        \"none\",\n        \"copy\",\n        \"copyLink\",\n        \"copyMove\",\n        \"link\",\n        \"linkMove\",\n        \"move\",\n        \"all\"\n    ], f = [\n        \"none\",\n        \"copy\",\n        \"move\",\n        \"link\"\n    ];\n    function i() {\n        var t = !1;\n        try {\n            var i = Object.defineProperty({}, \"passive\", {\n                get: function() {\n                    t = !0;\n                }\n            });\n            window.addEventListener(\"test\", null, i);\n        } catch (t) {}\n        return t;\n    }\n    var e = i();\n    function l(t) {\n        return t && t.tagName;\n    }\n    function h(t, i, s) {\n        void 0 === s && (s = !0), document.addEventListener(t, i, !!e && {\n            passive: s\n        });\n    }\n    function n(t, i) {\n        document.removeEventListener(t, i);\n    }\n    function u(t, i, s, n) {\n        void 0 === n && (n = !1);\n        var h = e ? {\n            passive: !0,\n            capture: n\n        } : n;\n        return t.addEventListener(i, s, h), {\n            off: function() {\n                t.removeEventListener(i, s, h);\n            }\n        };\n    }\n    function o(t) {\n        return 0 === t.length ? 0 : t.reduce(function(t, i) {\n            return i + t;\n        }, 0) / t.length;\n    }\n    function r(t, i) {\n        for(var s = 0; s < t.changedTouches.length; s++)if (t.changedTouches[s].identifier === i) return !0;\n        return !1;\n    }\n    function a(t, i, s) {\n        for(var n = [], h = [], e = 0; e < i.touches.length; e++){\n            var r = i.touches[e];\n            n.push(r[t + \"X\"]), h.push(r[t + \"Y\"]);\n        }\n        s.x = o(n), s.y = o(h);\n    }\n    var d = [\n        \"\",\n        \"-webkit-\"\n    ];\n    function v(t, i, s, n, h) {\n        var e = i.x, i = i.y;\n        n && (e += n.x, i += n.y), (h = void 0 === h || h) && (e -= parseInt(t.offsetWidth, 10) / 2, i -= parseInt(t.offsetHeight, 10) / 2);\n        for(var r = \"translate3d(\" + e + \"px,\" + i + \"px, 0)\", o = 0; o < d.length; o++){\n            var u = d[o] + \"transform\";\n            t.style[u] = r + \" \" + s[o];\n        }\n    }\n    var p = (Object.defineProperty(g.prototype, \"dropEffect\", {\n        get: function() {\n            return this.t;\n        },\n        set: function(t) {\n            0 !== this.i.mode && -1 < s.indexOf(t) && (this.t = t);\n        },\n        enumerable: !1,\n        configurable: !0\n    }), Object.defineProperty(g.prototype, \"types\", {\n        get: function() {\n            if (0 !== this.i.mode) return Object.freeze(this.i.types);\n        },\n        enumerable: !1,\n        configurable: !0\n    }), Object.defineProperty(g.prototype, \"effectAllowed\", {\n        get: function() {\n            return this.i.effectAllowed;\n        },\n        set: function(t) {\n            2 === this.i.mode && -1 < s.indexOf(t) && (this.i.effectAllowed = t);\n        },\n        enumerable: !1,\n        configurable: !0\n    }), g.prototype.setData = function(t, i) {\n        if (2 === this.i.mode) {\n            if (-1 < t.indexOf(\" \")) throw new Error(\"illegal arg: type contains space\");\n            this.i.data[t] = i, -1 === this.i.types.indexOf(t) && this.i.types.push(t);\n        }\n    }, g.prototype.getData = function(t) {\n        if (1 === this.i.mode || 2 === this.i.mode) return this.i.data[t] || \"\";\n    }, g.prototype.clearData = function(t) {\n        2 === this.i.mode && (t && this.i.data[t] ? (delete this.i.data[t], -1 < (t = this.i.types.indexOf(t)) && this.i.types.splice(t, 1)) : (this.i.data = {}, this.i.types = []));\n    }, g.prototype.setDragImage = function(t, i, s) {\n        2 === this.i.mode && this.h(t, i, s);\n    }, g);\n    function g(t, i) {\n        this.i = t, this.h = i, this.t = f[0];\n    }\n    function m(t, i) {\n        return t ? t === s[0] ? f[0] : 0 === t.indexOf(s[1]) || t === s[7] ? f[1] : 0 === t.indexOf(s[4]) ? f[3] : t === s[6] ? f[2] : f[1] : 3 === i.nodeType && \"A\" === i.tagName ? f[3] : f[1];\n    }\n    function y(u, t, a, i, s, n, c) {\n        void 0 === c && (c = null);\n        s = function(t, i, s, n, h, e, r) {\n            void 0 === c && (r = null);\n            var o = a.changedTouches[0], n = new Event(u, {\n                bubbles: !0,\n                cancelable: n\n            });\n            n.dataTransfer = e, n.relatedTarget = r, n.screenX = o.screenX, n.screenY = o.screenY, n.clientX = o.clientX, n.clientY = o.clientY, n.pageX = o.pageX, n.pageY = o.pageY;\n            t = t.getBoundingClientRect();\n            return n.offsetX = n.clientX - t.left, n.offsetY = n.clientY - t.top, n;\n        }(t, 0, 0, n = void 0 === n || n, document.defaultView, s, c), s = !t.dispatchEvent(s);\n        return i.mode = 0, s;\n    }\n    function b(t, i) {\n        if (!t || t === s[7]) return i;\n        if (i === f[1]) {\n            if (0 === t.indexOf(f[1])) return f[1];\n        } else if (i === f[3]) {\n            if (0 === t.indexOf(f[3]) || -1 < t.indexOf(\"Link\")) return f[3];\n        } else if (i === f[2] && (0 === t.indexOf(f[2]) || -1 < t.indexOf(\"Move\"))) return f[2];\n        return f[0];\n    }\n    var w = (x.prototype.o = function() {\n        var n = this;\n        this.u = 1, this.l = f[0], this.v = {\n            data: {},\n            effectAllowed: void 0,\n            mode: 3,\n            types: []\n        }, this.p = {\n            x: null,\n            y: null\n        }, this.g = {\n            x: null,\n            y: null\n        };\n        var h = this.m;\n        if (this.I = new p(this.v, function(t, i, s) {\n            h = t, \"number\" != typeof i && \"number\" != typeof s || (n.j = {\n                x: i || 0,\n                y: s || 0\n            });\n        }), this.v.mode = 2, this.I.dropEffect = f[0], y(\"dragstart\", this.m, this.k, this.v, this.I)) return this.u = 3, this.C(), !1;\n        a(\"page\", this.k, this.g);\n        var i, t, s = this.S.dragImageSetup(h);\n        return this.A = (i = s, d.map(function(t) {\n            t = i.style[t + \"transform\"];\n            return t && \"none\" !== t ? t.replace(/translate\\(\\D*\\d+[^,]*,\\D*\\d+[^,]*\\)\\s*/g, \"\") : \"\";\n        })), s.style.position = \"absolute\", s.style.left = \"0px\", s.style.top = \"0px\", s.style.zIndex = \"999999\", s.classList.add(\"dnd-poly-drag-image\"), s.classList.add(\"dnd-poly-icon\"), this.O = s, this.j || (this.S.dragImageOffset ? this.j = {\n            x: this.S.dragImageOffset.x,\n            y: this.S.dragImageOffset.y\n        } : this.S.dragImageCenterOnTouch ? (t = getComputedStyle(h), this.j = {\n            x: 0 - parseInt(t.marginLeft, 10),\n            y: 0 - parseInt(t.marginTop, 10)\n        }) : (s = h.getBoundingClientRect(), t = getComputedStyle(h), this.j = {\n            x: s.left - this.M.clientX - parseInt(t.marginLeft, 10) + s.width / 2,\n            y: s.top - this.M.clientY - parseInt(t.marginTop, 10) + s.height / 2\n        })), v(this.O, this.g, this.A, this.j, this.S.dragImageCenterOnTouch), document.body.appendChild(this.O), this.D = window.setInterval(function() {\n            n.F || (n.F = !0, n.N(), n.F = !1);\n        }, this.S.iterationInterval), !0;\n    }, x.prototype.C = function() {\n        this.D && (clearInterval(this.D), this.D = null), n(\"touchmove\", this.P), n(\"touchend\", this.T), n(\"touchcancel\", this.T), this.O && (this.O.parentNode.removeChild(this.O), this.O = null), this.L(this.S, this.k, this.u);\n    }, x.prototype._ = function(t) {\n        var s = this;\n        if (!1 !== r(t, this.M.identifier)) {\n            if (this.k = t, 0 === this.u) {\n                var i = void 0;\n                if (this.S.dragStartConditionOverride) try {\n                    i = this.S.dragStartConditionOverride(t);\n                } catch (t) {\n                    i = !1;\n                }\n                else i = 1 === t.touches.length;\n                return i ? void (!0 === this.o() && (this.H.preventDefault(), t.preventDefault())) : void this.C();\n            }\n            if (t.preventDefault(), a(\"client\", t, this.p), a(\"page\", t, this.g), this.S.dragImageTranslateOverride) try {\n                var n = !1;\n                if (this.S.dragImageTranslateOverride(t, {\n                    x: this.p.x,\n                    y: this.p.y\n                }, this.V, function(t, i) {\n                    s.O && (n = !0, s.p.x += t, s.p.y += i, s.g.x += t, s.g.y += i, v(s.O, s.g, s.A, s.j, s.S.dragImageCenterOnTouch));\n                }), n) return;\n            } catch (t) {}\n            v(this.O, this.g, this.A, this.j, this.S.dragImageCenterOnTouch);\n        }\n    }, x.prototype.X = function(t) {\n        if (!1 !== r(t, this.M.identifier)) {\n            if (this.S.dragImageTranslateOverride) try {\n                this.S.dragImageTranslateOverride(void 0, void 0, void 0, function() {});\n            } catch (t) {}\n            0 !== this.u ? (t.preventDefault(), this.u = \"touchcancel\" === t.type ? 3 : 2) : this.C();\n        }\n    }, x.prototype.N = function() {\n        var t = this, i = this.l;\n        this.v.mode = 3, this.I.dropEffect = f[0];\n        var s, n, h, e, r, o = y(\"drag\", this.m, this.k, this.v, this.I);\n        if (o && (this.l = f[0]), o || 2 === this.u || 3 === this.u) return this.Y(this.u) ? (e = this.m, s = this.O, n = this.A, a = function() {\n            t.q();\n        }, void (\"hidden\" !== (r = getComputedStyle(e)).visibility && \"none\" !== r.display ? (s.classList.add(\"dnd-poly-snapback\"), h = getComputedStyle(s), o = parseFloat(h.transitionDuration), isNaN(o) || 0 === o ? a() : ((e = {\n            x: (u = e.getBoundingClientRect()).left,\n            y: u.top\n        }).x += document.body.scrollLeft || document.documentElement.scrollLeft, e.y += document.body.scrollTop || document.documentElement.scrollTop, e.x -= parseInt(r.marginLeft, 10), e.y -= parseInt(r.marginTop, 10), u = parseFloat(h.transitionDelay), u = Math.round(1e3 * (o + u)), v(s, e, n, void 0, !1), setTimeout(a, u))) : a())) : void this.q();\n        var u = this.S.elementFromPoint(this.p.x, this.p.y), a = this.B;\n        u !== this.V && u !== this.B && (this.V = u, null !== this.B && (this.v.mode = 3, this.I.dropEffect = f[0], y(\"dragexit\", this.B, this.k, this.v, this.I, !1)), null === this.V ? this.B = this.V : (this.v.mode = 3, this.I.dropEffect = m(this.v.effectAllowed, this.m), y(\"dragenter\", this.V, this.k, this.v, this.I) ? (this.B = this.V, this.l = b(this.I.effectAllowed, this.I.dropEffect)) : this.V !== document.body && (this.B = document.body))), a !== this.B && l(a) && (this.v.mode = 3, this.I.dropEffect = f[0], y(\"dragleave\", a, this.k, this.v, this.I, !1, this.B)), l(this.B) && (this.v.mode = 3, this.I.dropEffect = m(this.v.effectAllowed, this.m), !1 === y(\"dragover\", this.B, this.k, this.v, this.I) ? this.l = f[0] : this.l = b(this.I.effectAllowed, this.I.dropEffect)), i !== this.l && this.O.classList.remove(c + i);\n        i = c + this.l;\n        this.O.classList.add(i);\n    }, x.prototype.Y = function(t) {\n        t = this.l === f[0] || null === this.B || 3 === t;\n        return t ? l(this.B) && (this.v.mode = 3, this.I.dropEffect = f[0], y(\"dragleave\", this.B, this.k, this.v, this.I, !1)) : l(this.B) && (this.v.mode = 1, this.I.dropEffect = this.l, !0 === y(\"drop\", this.B, this.k, this.v, this.I) ? this.l = this.I.dropEffect : this.l = f[0]), t;\n    }, x.prototype.q = function() {\n        this.v.mode = 3, this.I.dropEffect = this.l, y(\"dragend\", this.m, this.k, this.v, this.I, !1), this.u = 2, this.C();\n    }, x);\n    function x(t, i, s, n) {\n        this.H = t, this.S = i, this.m = s, this.L = n, this.u = 0, this.V = null, this.B = null, this.k = t, this.M = t.changedTouches[0], this.P = this._.bind(this), this.T = this.X.bind(this), h(\"touchmove\", this.P, !1), h(\"touchend\", this.T, !1), h(\"touchcancel\", this.T, !1);\n    }\n    var I, j = {\n        iterationInterval: 150,\n        tryFindDraggableTarget: function(t) {\n            for(var i = 0, s = t.composedPath(); i < s.length; i++){\n                var n = s[i];\n                do if (!1 !== n.draggable) {\n                    if (!0 === n.draggable) return n;\n                    if (n.getAttribute && \"true\" === n.getAttribute(\"draggable\")) return n;\n                }\n                while ((n = n.parentNode) && n !== document.body);\n            }\n        },\n        dragImageSetup: function(t) {\n            var i = t.cloneNode(!0);\n            return function t(i, s) {\n                if (1 === i.nodeType) {\n                    for(var n, h, e = getComputedStyle(i), r = 0; r < e.length; r++){\n                        var o = e[r];\n                        s.style.setProperty(o, e.getPropertyValue(o), e.getPropertyPriority(o));\n                    }\n                    s.style.pointerEvents = \"none\", s.removeAttribute(\"id\"), s.removeAttribute(\"class\"), s.removeAttribute(\"draggable\"), \"CANVAS\" === s.nodeName && (n = s, h = (h = i).getContext(\"2d\").getImageData(0, 0, h.width, h.height), n.getContext(\"2d\").putImageData(h, 0, 0));\n                }\n                if (i.hasChildNodes()) for(r = 0; r < i.childNodes.length; r++)t(i.childNodes[r], s.childNodes[r]);\n                !function t(i) {\n                    if (i instanceof HTMLElement && (i.style.pointerEvents = \"none\"), i.children && i.children.length) for(var s = 0; s < i.children.length; s++)t(i.children[s]);\n                    if (i.shadowRoot && i.shadowRoot.children.length) for(s = 0; s < i.shadowRoot.children.length; s++)t(i.shadowRoot.children[s]);\n                }(s);\n            }(t, i), i;\n        },\n        elementFromPoint: function(t, i) {\n            var s = document.elementFromPoint(t, i);\n            if (s) {\n                for(; s.shadowRoot;){\n                    var n = s.shadowRoot.elementFromPoint(t, i);\n                    if (null === n || n === s) break;\n                    s = n;\n                }\n                return s;\n            }\n        }\n    };\n    function k(i) {\n        if (!I) {\n            var t = j.tryFindDraggableTarget(i);\n            if (t) try {\n                I = new w(i, j, t, S);\n            } catch (t) {\n                throw S(j, i, 3), t;\n            }\n        }\n    }\n    function C(t) {\n        function i(t) {\n            h.off(), e.off(), r.off(), o.off(), s && s.dispatchEvent(new CustomEvent(\"dnd-poly-dragstart-cancel\", {\n                bubbles: !0,\n                cancelable: !0\n            })), clearTimeout(n);\n        }\n        var s = t.target;\n        s && s.dispatchEvent(new CustomEvent(\"dnd-poly-dragstart-pending\", {\n            bubbles: !0,\n            cancelable: !0\n        }));\n        var n = window.setTimeout(function() {\n            h.off(), e.off(), r.off(), o.off(), k(t);\n        }, j.holdToDrag), h = u(s, \"touchend\", i), e = u(s, \"touchcancel\", i), r = u(s, \"touchmove\", i), o = u(window, \"scroll\", i, !0);\n    }\n    function S(t, i, s) {\n        if (0 === s && t.defaultActionOverride) try {\n            t.defaultActionOverride(i), i.defaultPrevented;\n        } catch (t) {}\n        I = null;\n    }\n    t.polyfill = function(i) {\n        if (i && Object.keys(i).forEach(function(t) {\n            j[t] = i[t];\n        }), !j.forceApply) {\n            t = (t = !!window.chrome || /chrome/i.test(navigator.userAgent), {\n                dragEvents: \"ondragstart\" in document.documentElement,\n                draggable: \"draggable\" in document.documentElement,\n                userAgentSupportingNativeDnD: !(/iPad|iPhone|iPod|Android/.test(navigator.userAgent) || t && \"ontouchstart\" in document.documentElement)\n            });\n            if (t.userAgentSupportingNativeDnD && t.draggable && t.dragEvents) return !1;\n        }\n        var t;\n        return j.holdToDrag ? h(\"touchstart\", C, !1) : h(\"touchstart\", k, !1), !0;\n    }, t.supportsPassiveEventListener = i, Object.defineProperty(t, \"G\", {\n        value: !0\n    });\n});\n\n\n\nfunction $b2fc78b113401134$export$2e2bcd8739ae039(props) {\n    const [lightbox, setLightbox] = (0, $35130c2d97e6777b$export$60241385465d0a34)(null);\n    const filePath = props.file.contentUrl ? `/files/${props.file.contentUrl}` : null;\n    let url = filePath;\n    const innerRef = (0, $35130c2d97e6777b$export$b8f5890fc79d6aca)(null);\n    (0, $26a1e2577cffdf19$exports.polyfill)({\n        tryFindDraggableTarget: (e)=>{\n            if (!props.inWriter) return undefined;\n            const cp = e.composedPath();\n            for (const o of cp){\n                let el = o;\n                do {\n                    if (el.draggable === false) continue;\n                    if (el.draggable === true) return el;\n                    if (el.getAttribute && el.getAttribute(\"draggable\") === \"true\") return el;\n                }while ((el = el.parentNode) && el !== document.body);\n            }\n        }\n    });\n    (0, $35130c2d97e6777b$export$6d9c69b0de29b591)(()=>{\n        setLightbox((0, (/*@__PURE__*/$parcel$interopDefault($91f4924d9b614d55$exports)))({\n            autoplayVideos: false,\n            draggable: true,\n            loop: false,\n            touchNavigation: true,\n            zoomable: true,\n            elements: []\n        }));\n    }, []);\n    const openLightbox = (evt)=>{\n        if (!props.inWriter) {\n            evt.preventDefault();\n            evt.stopPropagation();\n            if (lightbox != null && Array.from(document.getElementsByClassName(\"glightbox\")).length > 0) {\n                const elements = Array.from(document.getElementsByClassName(\"glightbox\")).map((e)=>{\n                    const r = {\n                        href: e.href\n                    };\n                    if (e?.dataset?.width) r.width = e?.dataset?.width;\n                    if (e?.dataset?.height) r.height = e?.dataset?.height;\n                    if (e?.dataset?.type) r.type = e?.dataset?.type;\n                    if (e?.dataset?.srcset) r.srcset = e?.dataset?.srcset;\n                    if (e?.dataset?.sizes) r.sizes = e?.dataset?.sizes;\n                    return r;\n                });\n                lightbox.setElements(elements);\n                lightbox.open(null, elements.findIndex((e)=>e.href === evt.target.closest(\".glightbox\").href));\n            }\n        }\n    };\n    const fileDragStart = (e)=>{\n        e.target.style.opacity = \"0.4\";\n        e.dataTransfer.effectAllowed = \"move\";\n        e.dataTransfer.setData(\"id\", props.file.id);\n        document.querySelectorAll(\".remove-button\").forEach((e)=>e.style.display = \"none\");\n    };\n    const fileDragEnd = (e)=>{\n        e.target.style.opacity = \"1\";\n        document.querySelectorAll(\".remove-button\").forEach((e)=>e.style.display = \"block\");\n        document.querySelectorAll(\".drag-over\").forEach((e)=>e.classList.remove(\"drag-over\"));\n    };\n    const fileDragEnter = (e)=>{\n        e.preventDefault();\n        innerRef.current.classList.add(\"drag-over\");\n        return false;\n    };\n    const fileDragLeave = (e)=>{\n        e.preventDefault();\n        innerRef.current.classList.remove(\"drag-over\");\n        return false;\n    };\n    // necessary to declare a drop target\n    const fileDragOver = (e)=>{\n        e.preventDefault();\n        return false;\n    };\n    const fileDrop = (e)=>{\n        // stops the browser from redirecting.\n        e.preventDefault();\n        props.invertFiles(e.dataTransfer.getData(\"id\"), props.file.id);\n        return false;\n    };\n    (0, $35130c2d97e6777b$export$6d9c69b0de29b591)(()=>{\n        if (props.inWriter && props.file.status == \"ready\" && innerRef && innerRef.current) {\n            innerRef.current.addEventListener(\"dragstart\", fileDragStart);\n            innerRef.current.addEventListener(\"dragend\", fileDragEnd);\n            innerRef.current.addEventListener(\"dragover\", fileDragOver);\n            innerRef.current.addEventListener(\"dragenter\", fileDragEnter);\n            innerRef.current.addEventListener(\"dragleave\", fileDragLeave);\n            innerRef.current.addEventListener(\"drop\", fileDrop);\n            return ()=>{\n                innerRef.current.removeEventListener(\"dragstart\", fileDragStart);\n                innerRef.current.removeEventListener(\"dragend\", fileDragEnd);\n                innerRef.current.removeEventListener(\"dragover\", fileDragOver);\n                innerRef.current.removeEventListener(\"dragenter\", fileDragEnter);\n                innerRef.current.removeEventListener(\"dragleave\", fileDragLeave);\n                innerRef.current.removeEventListener(\"drop\", fileDrop);\n            };\n        }\n    }, []);\n    switch(props.file.status){\n        case \"raw\":\n            return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"a\", {\n                class: \"file-embed file-loading rounded\",\n                id: props.file.id\n            }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n                class: \"miniature\"\n            }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $85c05060c4c33f8a$export$8b29a4b6778bf7f), {\n                family: \"regular\",\n                icon: \"check-circle\"\n            })));\n        case \"loading\":\n            return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"a\", {\n                class: \"file-embed file-loading rounded\",\n                id: props.file.id\n            }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n                class: \"miniature\"\n            }));\n        case \"uploading\":\n        case \"initial\":\n            return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"a\", {\n                class: \"file-embed file-loading rounded\",\n                id: props.file.id\n            }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n                class: \"miniature video-raw\",\n                style: `background-image:url(\"${(0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).crop(props.file.id, 160, 160)}\")`\n            }), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n                class: \"spinner orange-spinner\"\n            }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", null), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", null), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", null), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", null), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", null)), props.file && props.file.progress > 0 && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n                class: \"progress-bar\"\n            }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n                style: {\n                    width: `${props.file.progress}%`\n                }\n            })));\n        case \"ready\":\n        default:\n            if (/pdf/.test(props.file.type) || /video/.test(props.file.type)) return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"a\", {\n                ref: innerRef,\n                draggable: !!props.inWriter,\n                \"data-origin\": (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).toApp(filePath),\n                href: !props.inWriter ? (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).toApp(url) : undefined,\n                className: `${!props.inWriter ? \"glightbox \" : \"\"}file-embed rounded ${props.file.removed ? \" removed\" : \"\"}`,\n                id: props.file.id,\n                \"data-width\": \"calc(90vw - 10px)\",\n                \"data-height\": \"100vh\",\n                onClick: (e)=>openLightbox(e)\n            }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n                className: `miniature${props.file.removed ? \" removed\" : \"\"}`,\n                style: `background-image:url(\"${(0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).crop(props.file.id, 160, 160)}\")`\n            }), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n                class: \"remove-button\",\n                style: props.file.removed ? \"color:red\" : \"\",\n                onClick: (e)=>props.toggleFile(e)\n            }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $85c05060c4c33f8a$export$8b29a4b6778bf7f), {\n                family: \"solid\",\n                icon: \"times\"\n            })));\n            if (/audio/.test(props.file.type)) return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"a\", {\n                ref: innerRef,\n                draggable: !!props.inWriter,\n                \"data-origin\": (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).toApp(filePath),\n                href: !props.inWriter ? (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).toApp(url) : undefined,\n                className: `${!props.inWriter ? \"glightbox \" : \"\"}file-embed rounded ${props.file.removed ? \" removed\" : \"\"}`,\n                id: props.file.id,\n                \"data-width\": \"calc(90vw - 10px)\",\n                \"data-height\": \"100vh\",\n                onClick: (e)=>openLightbox(e)\n            }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n                className: `miniature audio-miniature${props.file.removed ? \" removed\" : \"\"}`\n            }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $85c05060c4c33f8a$export$8b29a4b6778bf7f), {\n                family: \"solid\",\n                icon: \"headphones-alt\"\n            })), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n                class: \"remove-button\",\n                style: props.file.removed ? \"color:red\" : \"\",\n                onClick: (e)=>props.toggleFile(e)\n            }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $85c05060c4c33f8a$export$8b29a4b6778bf7f), {\n                family: \"solid\",\n                icon: \"times\"\n            })));\n            if (props.file.type == \"image/gif\") return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"a\", {\n                ref: innerRef,\n                draggable: !!props.inWriter,\n                \"data-origin\": (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).toApp(filePath),\n                href: !props.inWriter ? (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).toApp(filePath) : undefined,\n                class: `${!props.inWriter ? \"glightbox \" : \"\"}file-embed rounded`,\n                id: props.file.id,\n                \"data-type\": \"image\",\n                onClick: (e)=>openLightbox(e)\n            }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n                className: `miniature${props.file.removed ? \" removed\" : \"\"}`,\n                style: `background-image:url(\"${(0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).crop(props.file.id, 160, 160)}\")`\n            }), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n                class: \"remove-button\",\n                style: props.file.removed ? \"color:red\" : \"\",\n                onClick: (e)=>props.toggleFile(e)\n            }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $85c05060c4c33f8a$export$8b29a4b6778bf7f), {\n                family: \"solid\",\n                icon: \"times\"\n            })));\n            if (/image/.test(props.file.type)) return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"a\", {\n                ref: innerRef,\n                draggable: !!props.inWriter,\n                \"data-origin\": (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).toApp(filePath),\n                \"data-type\": \"image\",\n                \"data-srcset\": `${(0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).thumbnail(props.file.id, 720)} 720w, ${(0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).thumbnail(props.file.id, 1366)} 1366w, ${(0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).thumbnail(props.file.id, 2048)} 2048w`,\n                \"data-sizes\": \"(max-width: 992px) 720px, (max-width: 1400px) 1366px, 2048px\",\n                href: !props.inWriter ? (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).toApp(filePath) : undefined,\n                class: `${!props.inWriter ? \"glightbox \" : \"\"}file-embed rounded`,\n                id: props.file.id,\n                onClick: (e)=>openLightbox(e)\n            }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n                className: `miniature${props.file.removed ? \" removed\" : \"\"}`,\n                style: `background-image:url(\"${(0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).crop(props.file.id, 160, 160)}\")`\n            }), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n                class: \"remove-button\",\n                style: props.file.removed ? \"color:red\" : \"\",\n                onClick: (e)=>props.toggleFile(e)\n            }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $85c05060c4c33f8a$export$8b29a4b6778bf7f), {\n                family: \"solid\",\n                icon: \"times\"\n            })));\n    }\n}\n\n\nconst $b3b214e33ef17c7d$export$330d558700ffa676 = (0, $ae435fb76acade86$export$2e2bcd8739ae039);\nconst $b3b214e33ef17c7d$export$ca445ff2f74d7dc4 = (0, $ed1226fc20dc713f$export$2e2bcd8739ae039);\nconst $b3b214e33ef17c7d$export$48621228a997a4e0 = (0, $567a6a3c17f0a386$export$2e2bcd8739ae039);\nconst $b3b214e33ef17c7d$export$40e4fb50d87564f1 = (0, $b2fc78b113401134$export$2e2bcd8739ae039);\n\n\n\n\nfunction $ecd01d0bd55f75ef$var$_extends() {\n    $ecd01d0bd55f75ef$var$_extends = Object.assign ? Object.assign.bind() : function(target) {\n        for(var i = 1; i < arguments.length; i++){\n            var source = arguments[i];\n            for(var key in source)if (Object.prototype.hasOwnProperty.call(source, key)) target[key] = source[key];\n        }\n        return target;\n    };\n    return $ecd01d0bd55f75ef$var$_extends.apply(this, arguments);\n}\nfunction $ecd01d0bd55f75ef$export$2e2bcd8739ae039(props) {\n    const [preview, setPreview] = (0, $35130c2d97e6777b$export$60241385465d0a34)(null);\n    const [link, setLink] = (0, $35130c2d97e6777b$export$60241385465d0a34)(\"\");\n    const [text, setText] = (0, $35130c2d97e6777b$export$60241385465d0a34)(props.text || \"\");\n    const [title, setTitle] = (0, $35130c2d97e6777b$export$60241385465d0a34)(props.title || \"\");\n    const { t: t } = (0, $829be5acfdd67d69$export$9fc83ad70ead8663)();\n    const writerForm = (0, $35130c2d97e6777b$export$b8f5890fc79d6aca)(null);\n    const cleanForm = ()=>{\n        setPreview(null);\n        setLink(null);\n        setText(\"\");\n        setTitle(\"\");\n    };\n    const sendMessage = (writerForm)=>{\n        props.sendMessage(writerForm, {\n            // we get the raw value here because onChange() does not capture all possible inputs\n            // and then the values of text/title could not be up to date\n            title: writerForm?.current?.querySelector(\".title-input\")?.value,\n            text: writerForm?.current?.querySelector(\".text-input\")?.value\n        });\n        cleanForm();\n    };\n    const genPreview = (t)=>{\n        if (!t) return;\n        t.style.height = \"1px\";\n        t.style.height = `${25 + t.scrollHeight}px`;\n        // waiting for the dom to be updated\n        setTimeout(()=>{\n            const text = t.value;\n            let links = text.match(/(https?:\\/\\/[^\\s]+)/gi);\n            if (links && links[0] != link) (0, $ba05c0ef8a781e02$export$7d6f1c8842f9f527).get(`/api/links/by_url?url=${encodeURIComponent(links[0])}`).then((r)=>{\n                if (r && t.value.indexOf(links[0]) >= 0) {\n                    setLink(links[0]);\n                    setPreview(r);\n                }\n            });\n        }, 0);\n    };\n    const onKeyPress = (event, doGenPreview = false)=>{\n        if (event.ctrlKey && (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).is_it_enter(event)) {\n            sendMessage(writerForm);\n            return;\n        }\n        if (![\n            \" \",\n            \"Enter\",\n            \"v\"\n        ].includes(event.key)) return;\n        if (doGenPreview) genPreview(event.currentTarget);\n    };\n    const onPaste = (event)=>{\n        props.addFiles(\"image/jpeg\", event.clipboardData.files);\n    };\n    (0, $35130c2d97e6777b$export$6d9c69b0de29b591)(()=>{\n        genPreview(document?.getElementById(props.id)?.querySelector(\".text-input\"));\n    }, []);\n    if (props.sending) return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"message-placeholder\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"spinner orange-spinner\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", null), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", null), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", null), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", null), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", null)));\n    return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        id: props.id,\n        class: \"writer\",\n        ref: writerForm\n    }, !props.isChild && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"input\", {\n        type: \"text\",\n        class: \"title-input\",\n        onKeyPress: (e)=>onKeyPress(e),\n        placeholder: t(\"title_placeholder\"),\n        value: title,\n        onChange: (e)=>setTitle(e.target.value)\n    }), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"textarea\", {\n        onKeyPress: (e)=>onKeyPress(e, true),\n        onPaste: (e)=>onPaste(e),\n        class: \"text-input\",\n        rows: \"5\",\n        autocomplete: \"off\",\n        autofocus: props.focus,\n        placeholder: t(\"text_placeholder\"),\n        maxlength: \"50000\",\n        value: text,\n        onChange: (e)=>setText(e.target.value)\n    }), !!preview && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $b3b214e33ef17c7d$export$330d558700ffa676), $ecd01d0bd55f75ef$var$_extends({\n        inWriter: true\n    }, preview)), !!props.files.length && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $b3b214e33ef17c7d$export$ca445ff2f74d7dc4), {\n        files: props.files,\n        toggleFile: props.toggleFile,\n        invertFiles: props.invertFiles,\n        inWriter: true\n    }), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"options\"\n    }, (0, $ba05c0ef8a781e02$export$644d8ea042df96a6)?.info?.upload?.image && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"button\", {\n        class: \"option\",\n        onClick: ()=>props.inputFile(\"image/*\", true),\n        title: t(\"upload_image\")\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $85c05060c4c33f8a$export$8b29a4b6778bf7f), {\n        family: \"regular\",\n        icon: \"images\"\n    })), (0, $ba05c0ef8a781e02$export$644d8ea042df96a6)?.info?.upload?.video && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"button\", {\n        class: \"option\",\n        onClick: ()=>props.inputFile(\"video/*\"),\n        title: t(\"upload_video\")\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $85c05060c4c33f8a$export$8b29a4b6778bf7f), {\n        family: \"solid\",\n        icon: \"film\"\n    })), (0, $ba05c0ef8a781e02$export$644d8ea042df96a6)?.info?.upload?.pdf && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"button\", {\n        class: \"option\",\n        onClick: ()=>props.inputFile(\"application/pdf\"),\n        title: t(\"upload_pdf\")\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $85c05060c4c33f8a$export$8b29a4b6778bf7f), {\n        family: \"regular\",\n        icon: \"file-pdf\"\n    })), (0, $ba05c0ef8a781e02$export$644d8ea042df96a6)?.info?.upload?.audio && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"button\", {\n        class: \"option\",\n        onClick: ()=>props.inputFile(\"audio/*\"),\n        title: t(\"upload_audio\")\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $85c05060c4c33f8a$export$8b29a4b6778bf7f), {\n        family: \"solid\",\n        icon: \"headphones-alt\"\n    })), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"actions\"\n    }, !!props.cancel && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"button\", {\n        class: \"cancel\",\n        onClick: (e)=>props.cancel(e)\n    }, t(\"cancel\")), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"button\", {\n        disabled: !props.group || props.uploading,\n        type: \"submit\",\n        class: \"submit\",\n        onClick: ()=>sendMessage(writerForm)\n    }, t(\"submit\")))));\n}\n\n\nconst $017da47328f74ae1$export$29913b8f065577b2 = (0, $6aca12e4c56a7a76$export$2e2bcd8739ae039);\nconst $017da47328f74ae1$export$d7a960146e1a269e = (0, $21521b54b609d5fa$export$2e2bcd8739ae039);\nconst $017da47328f74ae1$export$29beae8571dce55f = (0, $ecd01d0bd55f75ef$export$2e2bcd8739ae039);\n\n\n\n\n\n\n\nfunction $e5d5ff45104628e8$export$2e2bcd8739ae039() {\n    const { t: t } = (0, $829be5acfdd67d69$export$9fc83ad70ead8663)();\n    const { me: me } = (0, $5133ef8bc2964922$export$11aeef812f154e9e)(\"me\");\n    const location = (0, $405e09292ddca27f$export$45d76561a5302f2b)();\n    const searchParams = new URLSearchParams(location.search);\n    const [loaded, setLoaded] = (0, $35130c2d97e6777b$export$60241385465d0a34)(false);\n    const [title, setTitle] = (0, $35130c2d97e6777b$export$60241385465d0a34)(searchParams.get(\"title\") || \"\");\n    const [text, setText] = (0, $35130c2d97e6777b$export$60241385465d0a34)(searchParams.get(\"text\") || \"\");\n    const [url, setUrl] = (0, $35130c2d97e6777b$export$60241385465d0a34)(searchParams.get(\"url\") || \"\");\n    const parent = searchParams.get(\"parent\") || \"\";\n    const [files, setFiles] = (0, $35130c2d97e6777b$export$60241385465d0a34)([]);\n    const [group, setGroup] = (0, $35130c2d97e6777b$export$60241385465d0a34)(\"\");\n    (0, $35130c2d97e6777b$export$6d9c69b0de29b591)(()=>{\n        setTimeout(()=>{\n            (0, $ba05c0ef8a781e02$export$3e32638432616b6).fetch().then((user)=>{\n                if (user.data[\"default_group\"]) setGroup(user.data[\"default_group\"]);\n                else if (user.groups.length == 1) setGroup(user.groups[0][\"id\"]);\n                if (searchParams.get(\"message\")) (0, $ba05c0ef8a781e02$export$7d6f1c8842f9f527).get(`/api/messages/${searchParams.get(\"message\")}`).then((m)=>{\n                    if (m?.files?.length) Promise.all(m.files.map((f)=>(0, $ba05c0ef8a781e02$export$7d6f1c8842f9f527).get(`/api/files/${f.id}`).then((f)=>f))).then((files)=>{\n                        setFiles(files);\n                        setTitle(m?.data?.title || \"\");\n                        setText(m?.data?.text || \"\");\n                        setUrl(\"\");\n                        setLoaded(true);\n                    });\n                    else {\n                        setTitle(m?.data?.title || \"\");\n                        setText(m?.data?.text || \"\");\n                        setUrl(\"\");\n                        setLoaded(true);\n                    }\n                });\n                else setLoaded(true);\n            });\n        }, 100);\n    }, []);\n    if (!loaded) return;\n    return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"main\", null, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $a779245c27c6d4b9$export$42cfbb80f7861e77), null), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"content\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"article\", {\n        class: \"mt-2\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"container\"\n    }, !parent && me?.groups?.length > 1 && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"mb-1\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"label\", {\n        class: \"px-1\",\n        for: \"group_share_choice\"\n    }, t(\"group_share_choice\")), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"select\", {\n        value: group,\n        class: \"form-select\",\n        name: \"group_share_choice\",\n        onChange: (e)=>setGroup(e.target.value),\n        required: true\n    }, me?.groups.map((e)=>(0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"option\", {\n            key: e[\"id\"],\n            value: e[\"id\"]\n        }, e.name)))), !!parent && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"form-group\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"label\", {\n        for: \"apiKey\"\n    }, t(\"parent_message\"), \":\", \" \"), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"input\", {\n        type: \"text\",\n        name: \"parent_message\",\n        value: parent,\n        class: \"form-control font-size-80\",\n        readonly: \"readonly\"\n    })), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $017da47328f74ae1$export$d7a960146e1a269e), {\n        focus: true,\n        group: group,\n        title: title,\n        parent: parent,\n        text: text || url ? `${text}\\n${url}` : \"\",\n        files: files\n    })))));\n}\n\n\nconst $e4fc23afeade3f60$export$9c257beea3dbd13a = (0, $c6bf11b1e742cb38$export$2e2bcd8739ae039);\nconst $e4fc23afeade3f60$export$1a13290ec7702c7 = (0, $968c795b42e82a14$export$2e2bcd8739ae039);\nconst $e4fc23afeade3f60$export$959a4441e74dcd2b = (0, $e3f95cd8f7387e6c$export$2e2bcd8739ae039);\nconst $e4fc23afeade3f60$export$35f3ae0a16fef81 = (0, $08392949ea77580a$export$2e2bcd8739ae039);\nconst $e4fc23afeade3f60$export$14834abbfce3b8cd = (0, $31634567bd2e908e$export$2e2bcd8739ae039);\nconst $e4fc23afeade3f60$export$4b31f5af7c5f8dee = (0, $b86bbf00e8622c6b$export$2e2bcd8739ae039);\nconst $e4fc23afeade3f60$export$4b85d3515bd863a5 = (0, $5df68f20e9e897ff$export$2e2bcd8739ae039);\nconst $e4fc23afeade3f60$export$c9915453de10000b = (0, $e5d5ff45104628e8$export$2e2bcd8739ae039);\n\n\n\n\nfunction $ad65ccb0e164de06$export$2e2bcd8739ae039(props) {\n    const { t: t } = (0, $829be5acfdd67d69$export$9fc83ad70ead8663)();\n    const { bookmarks: bookmarks } = (0, $5133ef8bc2964922$export$11aeef812f154e9e)(\"bookmarks\");\n    return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"message-footer\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"infos\"\n    }, !props?.isPublic && props?.author && props?.author?.id === (0, $ba05c0ef8a781e02$export$3e32638432616b6).id && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $bc4b82f252aed4aa$export$ffb0004e005737fa), null, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"a\", {\n        class: \"action seamless-link font-size-90 capitalize d-none d-sm-block\",\n        onClick: (e)=>props.editMessage(e)\n    }, t(\"edit\")), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"dot d-none d-sm-block\"\n    }, \"\")), !props?.isPublic && props?.isChild && props?.message && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $bc4b82f252aed4aa$export$ffb0004e005737fa), null, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $4a6806eb551925a6$export$a6c7ac8248d6e38a), {\n        class: \"action seamless-link font-size-90 capitalize\",\n        to: `/messages/${props?.message.id}${props?.message?.children.length ? \"\" : \"?focus=reply\"}`\n    }, props?.message?.children.length ? props.message.children.some((e)=>(0, $ba05c0ef8a781e02$export$6008d97729a90c74).isNew(e.id)) ? (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"b\", null, t(\"replies\", {\n        count: props.message.children.length\n    })) : t(\"replies\", {\n        count: props.message.children.length\n    }) : t(\"reply\")), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"dot\"\n    }, \"\")), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"date font-size-90\",\n        title: (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).humanFullDate(props?.message.createdAt)\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $e4fc23afeade3f60$export$35f3ae0a16fef81), {\n        timestamp: props?.message.createdAt\n    })), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $bc4b82f252aed4aa$export$ffb0004e005737fa), null, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"dot\"\n    }, \"\"), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"font-size-90\"\n    }, props?.author && props?.author?.name ? props.author.name : \"--\"))), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", null, !props?.isPublic && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"options dropdown\",\n        onClick: (e)=>e?.target?.closest(\".dropdown\")?.classList.toggle(\"active\")\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"none-if-follows-empty\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $85c05060c4c33f8a$export$8b29a4b6778bf7f), {\n        family: \"solid\",\n        icon: \"ellipsis-h\"\n    })), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"dropdown-menu dropdown-options\"\n    }, props?.author && props?.author?.id === (0, $ba05c0ef8a781e02$export$3e32638432616b6).id && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"a\", {\n        class: \"seamless-link capitalize\",\n        onClick: (e)=>props.deleteMessage(e)\n    }, t(\"delete\")), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"a\", {\n        class: \"seamless-link capitalize\",\n        onClick: (e)=>props.openPublicLink(e)\n    }, t(\"public_link\")), (0, $ba05c0ef8a781e02$export$3e32638432616b6).groups?.length > 1 && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"a\", {\n        class: \"seamless-link capitalize\",\n        onClick: (e)=>props.shareMessage(e)\n    }, t(\"share_message\")), !props?.message?.isInFront && props?.author && props?.author.id == (0, $ba05c0ef8a781e02$export$3e32638432616b6).id && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"a\", {\n        class: \"seamless-link capitalize\",\n        onClick: (e)=>props.publishInGroup(e)\n    }, t(\"publish_in_group\")), !bookmarks.some((b)=>b.message.id === props?.message.id) && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"a\", {\n        class: \"seamless-link capitalize\",\n        onClick: ()=>{\n            (0, $ba05c0ef8a781e02$export$5ea928c9faf85bd3).add(t(\"bookmark_added\"));\n            (0, $5e4e939c48db0130$export$2e2bcd8739ae039).dispatch(\"bookmark/add\", props.message.id);\n        }\n    }, t(\"add_bookmark\")), bookmarks.some((b)=>b.message.id === props?.message.id) && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"a\", {\n        class: \"seamless-link capitalize\",\n        onClick: ()=>{\n            (0, $ba05c0ef8a781e02$export$5ea928c9faf85bd3).add(t(\"bookmark_removed\"));\n            (0, $5e4e939c48db0130$export$2e2bcd8739ae039).dispatch(\"bookmark/remove\", bookmarks.find((b)=>b.message.id === props.message.id));\n        }\n    }, t(\"remove_bookmark\")), props?.author?.id == (0, $ba05c0ef8a781e02$export$3e32638432616b6).id && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"a\", {\n        class: \"seamless-link capitalize\",\n        onClick: (e)=>props.editMessage(e)\n    }, t(\"edit\"))))));\n}\n\n\n\n\n\n\nfunction $7128f2b1295b6a89$export$2e2bcd8739ae039(props) {\n    const [preview, setPreview] = (0, $35130c2d97e6777b$export$60241385465d0a34)(null);\n    const displayMessageText = ()=>{\n        if (!props.message.data) return \"\";\n        // escape html a little (just enough to avoid xss I hope)\n        let txt = props.message.data[\"text\"].replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").trim();\n        // replace url by real links\n        let shift = 0;\n        let match = null;\n        while(match = (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).getUrl(txt.slice(shift))){\n            let url = match[0];\n            if (url.length >= 50) url = `${url.slice(0, 25)}...${url.slice(-24)}`;\n            let link = `<a href=\"${match[0]}\" target=\"_blank\">${url}</a>`;\n            txt = txt.slice(0, match[\"index\"] + shift) + link + txt.slice(match[\"index\"] + shift + match[0].length);\n            shift += match[\"index\"] + link.length;\n        }\n        // replace line returns\n        txt = txt.replace(/\\n/g, \"<br/>\");\n        return {\n            __html: txt\n        };\n    };\n    (0, $35130c2d97e6777b$export$6d9c69b0de29b591)(()=>{\n        if (!preview && props.message) {\n            if (props.message.data) {\n                let previewUrl = (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).getUrl(props.message.data[\"text\"]);\n                if (previewUrl) (0, $ba05c0ef8a781e02$export$7d6f1c8842f9f527).get(`/api/links/by_url?url=${encodeURIComponent(previewUrl[0])}`).then((r)=>setPreview(r));\n            }\n        }\n    });\n    return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"message-body\"\n    }, props.message.data && props.message.data.title && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"title\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"span\", null, props.message.data.title)), props.message.data && props.message.data.text && props.message.data.text.trim() && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"p\", {\n        class: \"card-text\",\n        dangerouslySetInnerHTML: displayMessageText()\n    }), preview && (!props.message.data || !props.message.data[\"no_embed\"]) && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $b3b214e33ef17c7d$export$330d558700ffa676), {\n        key: preview.url,\n        url: preview.url,\n        preview: preview.preview,\n        data: preview.data\n    }), props.files && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $b3b214e33ef17c7d$export$ca445ff2f74d7dc4), {\n        files: props.files\n    }));\n}\n\n\n\n\n\n\nfunction $0329eb4a81e3801e$export$2e2bcd8739ae039(props) {\n    const stack = [\n        props.message.id,\n        ...props.message.lineage\n    ].reverse();\n    const [breadcrumbs, setBreadcrumbs] = (0, $35130c2d97e6777b$export$60241385465d0a34)([]);\n    const [group, setGroup] = (0, $35130c2d97e6777b$export$60241385465d0a34)(null);\n    const getTitle = (message, previewLink)=>{\n        if (message) {\n            if (message[\"data\"] && message[\"data\"][\"title\"]) return message[\"data\"][\"title\"];\n            if (previewLink && previewLink[\"data\"]) return previewLink[\"data\"][\"title\"];\n            if (message[\"data\"] && message[\"data\"][\"text\"]) {\n                let url = (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).getUrl(message[\"data\"][\"text\"]);\n                if (url && url.length > 0) url = url[0];\n                if (url) return url;\n                return message[\"data\"][\"text\"];\n            }\n        }\n        // When all else fails, just say who and when\n        return `${message?.author?.name}, ${(0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).humanTime(message.createdAt)}`;\n    };\n    const loadBreadcrumbs = (ids)=>{\n        let breadcrumbs = [];\n        Promise.all(ids.map((id)=>(0, $ba05c0ef8a781e02$export$7d6f1c8842f9f527).get(`/api/messages/${id}`))).then((messages)=>{\n            Promise.all(messages.map((message)=>{\n                let previewUrl = (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).getUrl(message?.data?.text);\n                if (previewUrl) return (0, $ba05c0ef8a781e02$export$7d6f1c8842f9f527).get(`/api/links/by_url?url=${encodeURIComponent(previewUrl[0])}`);\n                return Promise.resolve(null);\n            })).then((links)=>{\n                for(let i = 0; i < ids.length; i++)breadcrumbs[i] = getTitle(messages[i], links[i]);\n                setBreadcrumbs(breadcrumbs);\n            });\n        });\n    };\n    (0, $35130c2d97e6777b$export$6d9c69b0de29b591)(()=>{\n        loadBreadcrumbs(stack);\n        (0, $ba05c0ef8a781e02$export$7d6f1c8842f9f527).get(`/api/groups/${props.message.group.id}`).then((group)=>{\n            setGroup(group);\n        });\n    }, []);\n    if (stack.length > 0) {\n        const stack_truncated = [\n            stack[0],\n            ...stack.slice(Math.min(3, stack.length) * -1).slice(1)\n        ];\n        const breadcrumbs_truncated = [\n            breadcrumbs[0],\n            ...breadcrumbs.slice(Math.min(3, breadcrumbs.length) * -1).slice(1)\n        ];\n        return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n            class: \"message-breadcrumbs\"\n        }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"nav\", {\n            style: \"--bs-breadcrumb-divider: '>';\"\n        }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"ol\", {\n            class: \"breadcrumb\"\n        }, group && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"li\", {\n            class: \"breadcrumb-item\"\n        }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $4a6806eb551925a6$export$a6c7ac8248d6e38a), {\n            key: group.id,\n            to: `/groups/${group.id}`,\n            class: \"no-decoration\"\n        }, (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).limitLength(group.name || group.id.slice(0, 8), 30))), stack_truncated.map((e, i)=>(0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $bc4b82f252aed4aa$export$ffb0004e005737fa), {\n                key: e\n            }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $bc4b82f252aed4aa$export$ffb0004e005737fa), null, i == 1 && stack.length > 3 && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"li\", {\n                class: \"breadcrumb-item\"\n            }, \"...\")), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"li\", {\n                class: \"breadcrumb-item\"\n            }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $4a6806eb551925a6$export$a6c7ac8248d6e38a), {\n                key: e,\n                to: `/messages/${e}`,\n                class: \"no-decoration\"\n            }, (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).limitLength(breadcrumbs_truncated[i] || e.slice(0, 8), 30))))))));\n    }\n}\n\n\n\n\n\n\n\nfunction $30c5ca0a60c8316e$export$2e2bcd8739ae039(props) {\n    const navigate = (0, $405e09292ddca27f$export$9770f232ac06a008)();\n    const { t: t } = (0, $829be5acfdd67d69$export$9fc83ad70ead8663)();\n    const { me: me } = (0, $5133ef8bc2964922$export$11aeef812f154e9e)(\"me\");\n    const [author, setAuthor] = (0, $35130c2d97e6777b$export$60241385465d0a34)(null);\n    const [parent, setParent] = (0, $35130c2d97e6777b$export$60241385465d0a34)(null);\n    const [files, setFiles] = (0, $35130c2d97e6777b$export$60241385465d0a34)(null);\n    const [isRemoved, setIsRemoved] = (0, $35130c2d97e6777b$export$60241385465d0a34)(false);\n    const [edit, setEdit] = (0, $35130c2d97e6777b$export$60241385465d0a34)(false);\n    const [message, setMessage] = (0, $35130c2d97e6777b$export$60241385465d0a34)(null);\n    const messageRef = (0, $35130c2d97e6777b$export$b8f5890fc79d6aca)(message);\n    const setMessageRef = (message)=>{\n        messageRef.current = message;\n        setMessage(message);\n    };\n    const [, forceUpdate] = (0, $35130c2d97e6777b$export$13e3392192263954)((x)=>x + 1, 0);\n    (0, $35130c2d97e6777b$export$6d9c69b0de29b591)(()=>{\n        window.addEventListener(\"newChild\", onNewChild);\n        window.addEventListener(\"editMessage\", onEditMessage);\n        loadMessage();\n        (0, $ba05c0ef8a781e02$export$6008d97729a90c74).markAsRead(props.id);\n        if (!props.isChild) setTimeout(()=>window.scrollTo(0, 0));\n        setTimeout(()=>{\n            if (props.id == (0, $ba05c0ef8a781e02$export$5375cda95f0b0eb4).action) {\n                const msgElement = document.getElementById(props.id);\n                if (msgElement) {\n                    msgElement.scrollIntoView({\n                        block: \"start\",\n                        behavior: \"smooth\"\n                    });\n                    setTimeout(()=>msgElement.classList.remove(\"highlight\"), 1000);\n                }\n            }\n        }, 1000);\n    }, []);\n    const hydrateMessage = (m)=>{\n        setMessageRef(m);\n        if (m?.author?.id) (0, $ba05c0ef8a781e02$export$7d6f1c8842f9f527).get(`/api/users/${m.author.id}`).then((u)=>{\n            setAuthor(u);\n        });\n        if (m?.parent?.id) (0, $ba05c0ef8a781e02$export$7d6f1c8842f9f527).get(`/api/messages/${m.parent.id}`).then((p)=>{\n            setParent(p);\n        });\n        // delay loading of files a little bit\n        setTimeout(()=>{\n            if (m?.files?.length) Promise.all(m.files.map((f)=>(0, $ba05c0ef8a781e02$export$7d6f1c8842f9f527).get(`/api/files/${f.id}`).then((f)=>f))).then((files)=>setFiles(files));\n        }, 100);\n    };\n    const loadMessage = ()=>{\n        if (props?.message) {\n            if (props?.files?.length) setFiles(props?.message?.files.map((f)=>({\n                    id: f.id,\n                    status: \"loading\"\n                })));\n            hydrateMessage(props.message);\n        } else if (props?.token) (0, $ba05c0ef8a781e02$export$7d6f1c8842f9f527).get(`/api/public/${props.token}`).then((m)=>{\n            if (m?.files?.length) setFiles(m?.files.map((f)=>({\n                    id: f.id,\n                    status: \"loading\"\n                })));\n            hydrateMessage(m);\n        });\n        else (0, $ba05c0ef8a781e02$export$7d6f1c8842f9f527).get(`/api/messages/${props.id}`).then((m)=>{\n            if (m?.files?.length) setFiles(m?.files.map((f)=>({\n                    id: f.id,\n                    status: \"loading\"\n                })));\n            hydrateMessage(m);\n        });\n    };\n    const onNewChild = (event)=>{\n        if (!messageRef.current?.id) return;\n        const newMsg = event.detail;\n        if (newMsg?.parent && (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).getId(newMsg?.parent) == props.id) {\n            newMsg.author = me;\n            let newChildren = messageRef?.current?.children ? [\n                ...messageRef.current.children,\n                newMsg\n            ] : [\n                newMsg\n            ];\n            let newRef = Object.assign(messageRef.current, {\n                children: newChildren\n            });\n            setMessageRef(newRef);\n            forceUpdate();\n        }\n    };\n    const openPublicLink = async (event)=>{\n        event.preventDefault();\n        let newTab = window.open(\"about:blank\", \"_blank\");\n        const res = await (0, $ba05c0ef8a781e02$export$7d6f1c8842f9f527).get(`/api/messages/${props.id}/get-public-link`);\n        newTab.location = `${document.baseURI}public/${res.token}`;\n    };\n    const onEditMessage = (event)=>{\n        if (event.detail.id == props.id) {\n            setEdit(false);\n            hydrateMessage(event.detail);\n            props.key = +Date.now();\n        }\n    };\n    const getComponentClass = ()=>{\n        let cn = \"message\";\n        if (props.isChild) cn += \" child\";\n        if (props.id == (0, $ba05c0ef8a781e02$export$5375cda95f0b0eb4).action) cn += \" highlight\";\n        return cn;\n    };\n    const deleteMessage = (event)=>{\n        event.preventDefault();\n        if (confirm(t(\"ask_delete_message\"))) (0, $ba05c0ef8a781e02$export$7d6f1c8842f9f527).delete(`/api/messages/${props.id}`).then(()=>{\n            if (props.isChild) setIsRemoved(true);\n            else navigate(`/groups/${message.group.id}`);\n        });\n    };\n    const shareMessage = (event)=>{\n        event.preventDefault();\n        navigate(`/share?message=${props.id}`);\n    };\n    const editMessage = (event)=>{\n        event.preventDefault();\n        setEdit(true);\n    };\n    const publishInGroup = ()=>{\n        (0, $ba05c0ef8a781e02$export$7d6f1c8842f9f527).put(`/api/messages/${props.id}`, {\n            lastActivityDate: Math.floor(Date.now() / 1000),\n            isInFront: true\n        }).then((res)=>{\n            if (!res) {\n                alert.add(t(\"error\"), \"alert-danger\");\n                return;\n            }\n            navigate(`/groups/${message.group.id}`);\n        });\n    };\n    const cancelEdit = (event)=>{\n        event.preventDefault();\n        setEdit(false);\n    };\n    const displayWriter = (isChild, focus)=>{\n        return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $017da47328f74ae1$export$d7a960146e1a269e), {\n            cancel: edit ? cancelEdit : null,\n            files: edit ? files : [],\n            focus: focus || !!edit,\n            group: message.group,\n            messageId: edit ? props.id : null,\n            parent: edit ? parent?.id : props.id,\n            text: edit ? message.data[\"text\"] : \"\",\n            title: edit ? message.data[\"title\"] : \"\",\n            isChild: isChild\n        });\n    };\n    if (isRemoved || !message) // placeholder (to be able to target it)\n    return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        id: props.id,\n        className: \"message\"\n    });\n    return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $bc4b82f252aed4aa$export$ffb0004e005737fa), null, !props?.isChild && !props?.isPublic && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $0329eb4a81e3801e$export$2e2bcd8739ae039), {\n        key: message?.id,\n        message: message\n    }), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        id: props.id,\n        className: getComponentClass()\n    }, edit && displayWriter(props?.isChild), !edit && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $bc4b82f252aed4aa$export$ffb0004e005737fa), null, props.isChild && !props.isPublic && edit && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"message-head d-none d-md-block\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"img\", {\n        class: \"rounded-circle w-3 material-shadow avatar\",\n        style: (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).backgroundHash(me.id),\n        src: me.avatar ? (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).crop(me.avatar?.id, 100, 100) : (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).defaultAvatar\n    })), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $9b716d635261f1d3$export$2e2bcd8739ae039), {\n        author: author,\n        message: message,\n        isPublic: props?.isPublic,\n        isChild: props?.isChild\n    }), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"main\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $7128f2b1295b6a89$export$2e2bcd8739ae039), {\n        message: message,\n        files: files || [],\n        isPublic: props?.isPublic,\n        isChild: props?.isChild\n    }), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $ad65ccb0e164de06$export$2e2bcd8739ae039), {\n        author: author,\n        message: message,\n        editMessage: editMessage,\n        deleteMessage: deleteMessage,\n        shareMessage: shareMessage,\n        publishInGroup: publishInGroup,\n        openPublicLink: openPublicLink,\n        isPublic: props?.isPublic,\n        isChild: props?.isChild\n    })))), props?.postMessageComponent, !props?.isChild && !props?.isPublic && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $021afc89466d3c0c$export$2e2bcd8739ae039), {\n        childMessages: message?.children,\n        key: props.id,\n        id: props.id\n    }), !edit && !props?.isPublic && !props?.isChild && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"message child mt-2\"\n    }, me?.id && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"message-head d-none d-md-block\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"img\", {\n        class: \"rounded-circle w-3 material-shadow avatar\",\n        style: (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).backgroundHash(me.id),\n        src: me?.avatar ? (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).crop(me.avatar[\"id\"], 100, 100) : (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).defaultAvatar\n    })), displayWriter(true, props.focus)));\n}\n\n\n\n\n\n\n\n\n\n\n\nclass $035df1b12d129642$export$2e2bcd8739ae039 extends (0, $bc4b82f252aed4aa$export$16fa2f45be04daa8) {\n    constructor(props){\n        super(props);\n        let loaded = 1 + Math.floor(window.screen.width * window.screen.height / 68800);\n        this.state = {\n            loaded: loaded,\n            messages: [],\n            scrollTop: 0,\n            totalMessages: 0,\n            pageYOffset: 0,\n            page: 0\n        };\n        this.scroll_cooldown = Date.now();\n        this.onScroll = this.onScroll.bind(this);\n        this.loadMessages = this.loadMessages.bind(this);\n        this.onNewParent = this.onNewParent.bind(this);\n        window.addEventListener(\"newParent\", this.onNewParent);\n    }\n    onNewParent() {\n        this.loadMessages(0);\n    }\n    componentDidMount() {\n        this.loadMessages(0);\n        window.addEventListener(\"scroll\", this.onScroll);\n    }\n    componentWillUnmount() {\n        window.removeEventListener(\"scroll\", this.onScroll);\n    }\n    loadMessages(page) {\n        (0, $ba05c0ef8a781e02$export$7d6f1c8842f9f527).get(`/api/groups/${this.props.id}`).then((res)=>{\n            this.setState({\n                group: res\n            });\n        });\n        (0, $ba05c0ef8a781e02$export$7d6f1c8842f9f527).get(`/api/groups/${this.props.id}/page/${page}`).then((res)=>{\n            if (res && Array.isArray(res[\"messages\"])) {\n                let new_loaded = Math.max(this.state.loaded, page * 30);\n                let msgList = this.state.messages;\n                // don't add already added messages\n                res[\"messages\"].map((mid)=>!msgList.find((msg)=>msg.id == mid) && msgList.push({\n                        \"id\": mid\n                    }));\n                this.setState({\n                    messages: msgList,\n                    totalMessages: res[\"totalItems\"],\n                    page: page,\n                    loaded: new_loaded\n                });\n                if ((page + 1) * 30 < new_loaded) setTimeout(()=>this.loadMessages(page + 1));\n            }\n        });\n    }\n    onScroll() {\n        // prevent loading messages if we are in a post\n        if (window.getComputedStyle(document.getElementById(\"group\").parentNode).display == \"none\") return;\n        // don't load if on cooldown\n        if (this.scroll_cooldown + 100 < Date.now()) {\n            this.scroll_cooldown = Date.now();\n            this.setState({\n                pageYOffset: window.pageYOffset\n            });\n            // don't load if unecessary\n            if (Array.isArray(this.state.messages) && document.body.scrollHeight - window.screen.height - 500 < window.pageYOffset && this.state.loaded < this.state.totalMessages) {\n                this.setState((prevState)=>({\n                        loaded: prevState.loaded + 10\n                    }));\n                if (this.state.loaded + 30 > this.state.messages.length) {\n                    this.loadMessages(this.state.page + 1);\n                    // update page count right away\n                    this.setState((prevState)=>({\n                            page: prevState.page + 1\n                        }));\n                }\n            }\n        }\n    }\n    render() {\n        if (!this.props.id) return;\n        return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $bc4b82f252aed4aa$export$ffb0004e005737fa), null, Array.isArray(this.state.messages) && this.state.messages.slice(0, this.state.loaded).map((msg, i)=>{\n            return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $19924b6e568a4f60$export$84c965ec8b6b0f92), {\n                tabindex: i + 1,\n                key: msg.id,\n                id: msg.id\n            });\n        }));\n    }\n}\n\n\n\n\n\n\n\nfunction $c9ab4f969fa59a9f$export$2e2bcd8739ae039(props) {\n    let params = (0, $405e09292ddca27f$export$99eaa27ddbbb95ef)();\n    return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"main\", null, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $a779245c27c6d4b9$export$42cfbb80f7861e77), null), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"content\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"article\", {\n        class: \"mb-3 justify-content-center d-flex\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"container pb-3\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $30c5ca0a60c8316e$export$2e2bcd8739ae039), {\n        focus: !!(0, $ba05c0ef8a781e02$export$5375cda95f0b0eb4).getParam(\"focus\", (0, $ba05c0ef8a781e02$export$5375cda95f0b0eb4).search),\n        isPublic: false,\n        isChild: false,\n        message: props?.message,\n        id: params.id,\n        key: params.id\n    })))));\n}\n\n\n\n\n\n\n\n\nfunction $e595d0422a62521e$export$2e2bcd8739ae039(props) {\n    const [author, setAuthor] = (0, $35130c2d97e6777b$export$60241385465d0a34)(null);\n    const [preview, setPreview] = (0, $35130c2d97e6777b$export$60241385465d0a34)(null);\n    const [id, setId] = (0, $35130c2d97e6777b$export$60241385465d0a34)(null);\n    const [data, setData] = (0, $35130c2d97e6777b$export$60241385465d0a34)(null);\n    const [lastActivityDate, setLastActivityDate] = (0, $35130c2d97e6777b$export$60241385465d0a34)(null);\n    const [children, setChildren] = (0, $35130c2d97e6777b$export$60241385465d0a34)(0);\n    const [loaded, setLoaded] = (0, $35130c2d97e6777b$export$60241385465d0a34)(false);\n    const getAvatar = (user)=>{\n        return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"img\", {\n            title: user ? user.name : \"--\",\n            className: `avatar material-shadow${user ? \"\" : \" removed-user\"}`,\n            style: (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).backgroundHash(user ? user.id : \"\"),\n            src: user?.avatar ? (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).crop(user.avatar[\"id\"], 100, 100) : (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).defaultAvatar,\n            onError: (e)=>e.currentTarget.src = (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).defaultAvatar\n        });\n    };\n    const setDefaultMiniature = (e)=>{\n        e.currentTarget.src = (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).defaultAvatar;\n        e.currentTarget.style.height = \"180px\";\n        e.currentTarget.style.width = \"auto\";\n        e.currentTarget.style.position = \"absolute\";\n        e.currentTarget.style.left = \"50%\";\n        e.currentTarget.style.transform = \"translate(-50%, 0%)\";\n    };\n    (0, $35130c2d97e6777b$export$6d9c69b0de29b591)(()=>{\n        (0, $ba05c0ef8a781e02$export$7d6f1c8842f9f527).get(`/api/messages/${props.id}/preview`).then((p)=>{\n            if (p?.author?.id) (0, $ba05c0ef8a781e02$export$7d6f1c8842f9f527).get(`/api/users/${p.author.id}`).then((u)=>{\n                setAuthor(u);\n            });\n            console.log(p);\n            setPreview(p?.preview);\n            setId(p?.id);\n            setChildren(p?.children);\n            setLoaded(true);\n            setLastActivityDate(p?.lastActivityDate);\n            setData(p?.data);\n        });\n    }, []);\n    if (!props?.id || !data) return null;\n    return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $4a6806eb551925a6$export$a6c7ac8248d6e38a), {\n        to: `/messages/${id}`,\n        class: \"d-inline-block seamless-link message-preview unselectable\",\n        title: data?.title\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        tabindex: props?.tabindex,\n        class: \"card material-shadow-with-hover\"\n    }, getAvatar(author), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"card-miniature-loading\"\n    }, loaded && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $bc4b82f252aed4aa$export$ffb0004e005737fa), null, preview ? (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"card-miniature\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"img\", {\n        width: \"320\",\n        height: \"180\",\n        src: (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).crop((0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).getId(preview), 320, 180),\n        onError: (e)=>setDefaultMiniature(e)\n    })) : (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"text-preview\"\n    }, data?.text))), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"card-body border-top d-flex justify-content-between\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"span\", {\n        class: \"left-buffer\"\n    }), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"span\", {\n        class: \"title\",\n        title: data?.title || (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).humanFullDate(lastActivityDate)\n    }, data?.title || (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $e4fc23afeade3f60$export$35f3ae0a16fef81), {\n        timestamp: lastActivityDate\n    })), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"span\", {\n        class: \"children\"\n    }, children > 0 && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"span\", null, `${children} `, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $85c05060c4c33f8a$export$8b29a4b6778bf7f), {\n        family: (0, $ba05c0ef8a781e02$export$6008d97729a90c74).isNew(id) ? \"solid\" : \"regular\",\n        icon: \"comment\"\n    }))))));\n}\n\n\n\n\n\n\n\nfunction $4b50a8abb2aa644f$export$2e2bcd8739ae039(props) {\n    const [author, setAuthor] = (0, $35130c2d97e6777b$export$60241385465d0a34)(props?.message?.author || null);\n    (0, $35130c2d97e6777b$export$6d9c69b0de29b591)(()=>{\n        if (props?.message?.author) (0, $ba05c0ef8a781e02$export$7d6f1c8842f9f527).get(`/api/users/${props.message.author}`).then((author)=>author && setAuthor(author));\n    }, []);\n    const displayAuthorName = ()=>{\n        if (!author?.name) return {\n            __html: \"--\"\n        };\n        let authorName = author.name;\n        // make the search terms stand out\n        let words = authorName.split(\" \");\n        for(let j = 0; j < words.length; j++)if (!words[j].match((0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).urlRegExp)) {\n            let searchTerms = props.search.split(\" \");\n            for(let k = 0; k < searchTerms.length; k++)words[j] = words[j].replace(new RegExp((0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).escapeRegex(searchTerms[k]), \"gi\"), \"<b>$&</b>\");\n        }\n        authorName = words.join(\" \");\n        return {\n            __html: authorName\n        };\n    };\n    const displayMessageTitle = ()=>{\n        if (!props?.message?.data?.title) return {\n            __html: (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).humanTime(props?.message?.lastActivityDate)\n        };\n        // escape html a little (just enough to avoid xss I hope)\n        let title = props?.message?.data?.title.replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").trim();\n        // make the search terms stand out\n        let words = title.split(\" \");\n        let searchTerms = props?.search.split(\" \") || [];\n        for(let j = 0; j < words.length; j++){\n            if (!words[j].match((0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).urlRegExp)) for(let k = 0; k < searchTerms.length; k++)words[j] = words[j].replace(new RegExp((0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).escapeRegex(searchTerms[k]), \"gi\"), \"<b>$&</b>\");\n        }\n        title = words.join(\" \");\n        return {\n            __html: title\n        };\n    };\n    const displayMessageText = ()=>{\n        if (!props?.message?.data?.text) return \"\";\n        // escape html a little (just enough to avoid xss I hope)\n        let txt = props?.message?.data?.text.replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").trim();\n        // make the search terms stand out for not url words\n        let lines = txt.split(\"\\n\");\n        for(let i = 0; i < lines.length; i++){\n            let words = lines[i].split(\" \");\n            for(let j = 0; j < words.length; j++)if (!words[j].match((0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).urlRegExp)) {\n                let searchTerms = props.search.split(\" \");\n                for(let k = 0; k < searchTerms.length; k++){\n                    if (!searchTerms[k]) continue;\n                    words[j] = words[j].replace(new RegExp((0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).escapeRegex(searchTerms[k]), \"gi\"), \"<b>$&</b>\");\n                }\n                let hashtags = props?.hashtags.split(\" \") || [];\n                for(let k = 0; k < hashtags.length; k++){\n                    if (!hashtags[k]) continue;\n                    words[j] = words[j].replace(new RegExp(`#${hashtags[k]}`, \"gi\"), \"<b>$&</b>\");\n                }\n            }\n            lines[i] = words.join(\" \");\n        }\n        txt = lines.join(\"\\n\");\n        // replace url by real links\n        let shift = 0;\n        let match = null;\n        while(match = (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).getUrl(txt.slice(shift))){\n            let url = match[0];\n            if (url.length >= 50) url = `${url.slice(0, 25)}...${url.slice(-24)}`;\n            let searchTerms = props?.search.split(\" \") || [];\n            for(let i = 0; i < searchTerms.length; i++)url = url.replace(new RegExp((0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).escapeRegex(searchTerms[i]), \"gi\"), \"<b>$&</b>\");\n            let link = `<a href=\"${match[0]}\" target=\"_blank\">${url}</a>`;\n            txt = txt.slice(0, match[\"index\"] + shift) + link + txt.slice(match[\"index\"] + shift + match[0].length);\n            shift += match[\"index\"] + link.length;\n        }\n        // replace line returns\n        txt = txt.replace(/\\n/g, \"<br/>\");\n        return {\n            __html: txt\n        };\n    };\n    const getMiniature = ()=>{\n        if (props?.preview) return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n            class: \"card-miniature\",\n            style: `background-image: url('${(0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).crop(props?.preview, 100, 100)}')`\n        });\n        let avatar = (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).defaultAvatar;\n        if (author?.avatar?.id) avatar = (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).crop(author.avatar[\"id\"], 100, 100);\n        return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n            class: \"card-miniature\",\n            style: `background-image: url('${avatar}')`\n        });\n    };\n    const getLink = ()=>{\n        if (props.message.parent && props.message.children == 0) return `/messages/${props.message.parent}/${props.message.id}`;\n        return `/messages/${props.message.id}`;\n    };\n    return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $4a6806eb551925a6$export$a6c7ac8248d6e38a), {\n        class: \"d-inline-block seamless-link message-preview unselectable\",\n        to: getLink(),\n        title: props?.title\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        tabindex: props.tabindex,\n        class: \"card material-shadow-with-hover\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"card-body border-top\"\n    }, getMiniature(), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"infos\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"title\",\n        dangerouslySetInnerHTML: displayAuthorName()\n    }), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"dot\"\n    }, \"\"), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"title\",\n        title: props?.title || (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).humanFullDate(props.message.lastActivityDate),\n        dangerouslySetInnerHTML: displayMessageTitle()\n    })), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"text\"\n    }, props?.message?.data?.text.trim() && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"p\", {\n        class: \"card-text\",\n        dangerouslySetInnerHTML: displayMessageText()\n    })), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"children\"\n    }, !!props.message.children && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"span\", null, `${props.message.children} `, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $85c05060c4c33f8a$export$8b29a4b6778bf7f), {\n        family: (0, $ba05c0ef8a781e02$export$6008d97729a90c74).isNew(props.message.id) ? \"solid\" : \"regular\",\n        icon: \"comment\"\n    }))))));\n}\n\n\nconst $19924b6e568a4f60$export$f69c19e57285b83a = (0, $30c5ca0a60c8316e$export$2e2bcd8739ae039);\nconst $19924b6e568a4f60$export$36e783c4ff07cd7c = (0, $7128f2b1295b6a89$export$2e2bcd8739ae039);\nconst $19924b6e568a4f60$export$ff4023171d74287f = (0, $0329eb4a81e3801e$export$2e2bcd8739ae039);\nconst $19924b6e568a4f60$export$34692698b50bc55e = (0, $c6a97b4c72e49883$export$2e2bcd8739ae039);\nconst $19924b6e568a4f60$export$e4f91797a78e658f = (0, $021afc89466d3c0c$export$2e2bcd8739ae039);\nconst $19924b6e568a4f60$export$448e87951e58f7a8 = (0, $ad65ccb0e164de06$export$2e2bcd8739ae039);\nconst $19924b6e568a4f60$export$14933f4fded8a04f = (0, $9b716d635261f1d3$export$2e2bcd8739ae039);\nconst $19924b6e568a4f60$export$89085c7857c3f940 = (0, $035df1b12d129642$export$2e2bcd8739ae039);\nconst $19924b6e568a4f60$export$4025c8e17986f775 = (0, $c9ab4f969fa59a9f$export$2e2bcd8739ae039);\nconst $19924b6e568a4f60$export$84c965ec8b6b0f92 = (0, $e595d0422a62521e$export$2e2bcd8739ae039);\nconst $19924b6e568a4f60$export$423dfe6469a8e0dd = (0, $4b50a8abb2aa644f$export$2e2bcd8739ae039);\n\n\n\nfunction $4ea33daa32a5a1fd$export$2e2bcd8739ae039() {\n    let params = (0, $405e09292ddca27f$export$99eaa27ddbbb95ef)();\n    return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"article\", {\n        class: \"justify-content-center d-flex mt-2\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"container\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"main\", null, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"content\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"article\", {\n        class: \"mb-3 justify-content-center d-flex\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"container pb-3\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $19924b6e568a4f60$export$f69c19e57285b83a), {\n        focus: false,\n        isPublic: true,\n        isChild: false,\n        token: params.token\n    })))))));\n}\n\n\nconst $7a4a2b5c7de24037$export$21a94553ffa41578 = (0, $0426dbc898a9b87d$export$2e2bcd8739ae039);\nconst $7a4a2b5c7de24037$export$b44239f84c8f0268 = (0, $d98633f34622d449$export$2e2bcd8739ae039);\nconst $7a4a2b5c7de24037$export$89200835fb4edfb9 = (0, $4b4c42fcf86b8acc$export$2e2bcd8739ae039);\nconst $7a4a2b5c7de24037$export$e9e03eeea26d4dee = (0, $f79e9cb5c3dbdf1a$export$2e2bcd8739ae039);\nconst $7a4a2b5c7de24037$export$68b4491d6924a6d1 = (0, $4ea33daa32a5a1fd$export$2e2bcd8739ae039);\n\n\n\n\n\n\n\n\n\n\n\nfunction $eeb1ed40e8ffc517$export$2e2bcd8739ae039() {\n    const params = (0, $405e09292ddca27f$export$99eaa27ddbbb95ef)();\n    const { t: t } = (0, $829be5acfdd67d69$export$9fc83ad70ead8663)();\n    const { me: me, dispatch: dispatch } = (0, $5133ef8bc2964922$export$11aeef812f154e9e)(\"me\");\n    const navigate = (0, $405e09292ddca27f$export$9770f232ac06a008)();\n    const [secretKey, setSecretKey] = (0, $35130c2d97e6777b$export$60241385465d0a34)(\"\");\n    const [users, setUsers] = (0, $35130c2d97e6777b$export$60241385465d0a34)([]);\n    const [group, setGroup] = (0, $35130c2d97e6777b$export$60241385465d0a34)({});\n    const [alertMessage, setAlertMessage] = (0, $35130c2d97e6777b$export$60241385465d0a34)(\"\");\n    (0, $35130c2d97e6777b$export$6d9c69b0de29b591)(()=>{\n        (0, $ba05c0ef8a781e02$export$7d6f1c8842f9f527).get(`/api/groups/${params.id}`).then((group)=>{\n            setGroup(group);\n            setSecretKey(group.secretKey);\n            Promise.all(group.users.map((u)=>(0, $ba05c0ef8a781e02$export$7d6f1c8842f9f527).get(`/api/users/${u.id}`).then((u)=>u))).then((users)=>setUsers(users));\n        });\n        setAlertMessage(t((0, $ba05c0ef8a781e02$export$5375cda95f0b0eb4).getParam(\"alert\")));\n    }, []);\n    const resetSecretKey = (event)=>{\n        event.preventDefault();\n        (0, $ba05c0ef8a781e02$export$7d6f1c8842f9f527).post(`/api/groups/${group.id}/reset-invite-key`, {}).then((res)=>{\n            (0, $ba05c0ef8a781e02$export$5ea928c9faf85bd3).add(t(\"group_updated\"));\n            setSecretKey(res[\"inviteKey\"]);\n        });\n    };\n    const updateSettings = (event)=>{\n        event.preventDefault();\n        const name = document.querySelector(\"#settings_form input[name='name']\").value;\n        if (name) group.name = name;\n        setGroup(Object.assign({}, group));\n        (0, $ba05c0ef8a781e02$export$7d6f1c8842f9f527).put(`/api/groups/${group.id}`, group).then((res)=>{\n            setGroup(res);\n            setAlertMessage(t(\"group_updated\"));\n            navigate(`${location.pathname}?alert=group_updated`);\n        });\n    };\n    const leaveGroup = (event)=>{\n        event.preventDefault();\n        if (me.data?.default_group == group.id) {\n            let user = {};\n            user.data = {\n                default_group: me.groups[0].id\n            };\n            (0, $ba05c0ef8a781e02$export$7d6f1c8842f9f527).put(`/api/users/${me.id}`, user).then(()=>{\n                dispatch(\"me/fetch\");\n                leave();\n            });\n        } else leave();\n    };\n    const leave = ()=>{\n        (0, $ba05c0ef8a781e02$export$7d6f1c8842f9f527).post(`/api/groups/${group.id}/leave`, {}).then((res)=>{\n            if (!res || !res[\"entityType\"]) (0, $ba05c0ef8a781e02$export$5ea928c9faf85bd3).add(t(\"error\"), \"alert-danger\");\n            else {\n                dispatch(\"me/fetch\");\n                (0, $ba05c0ef8a781e02$export$5ea928c9faf85bd3).add(t(\"group_left\"));\n                navigate(\"/\");\n            }\n        });\n    };\n    return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", null, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"group-settings mb-3\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"card\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"card-body\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"container-fluid p-1\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"row\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"col-12 col-md-10\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"form\", {\n        id: \"settings_form\",\n        class: \"mb-1 border-bottom pb-1\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"form-group\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"label\", {\n        for: \"name\"\n    }, t(\"name\"), \": \"), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"input\", {\n        type: \"text\",\n        name: \"name\",\n        minlength: \"1\",\n        maxlength: \"128\",\n        placeholder: t(\"name_input\"),\n        value: group.name,\n        class: \"form-control\",\n        required: true\n    })), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"button\", {\n        onClick: updateSettings,\n        class: \"btn btn-outline-secondary\"\n    }, t(\"save_changes\"))), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"form\", {\n        class: \"mb-1 border-bottom pb-1\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"form-group\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"label\", {\n        for: \"inviteKey\"\n    }, t(\"invitation_link\"), \":\", \" \"), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"input\", {\n        type: \"text\",\n        name: \"inviteKey\",\n        value: `${window.location.protocol}//${window.location.host}/invitation/${secretKey}`,\n        class: \"form-control font-size-80\",\n        readonly: \"readonly\"\n    })), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"button\", {\n        class: \"btn btn-outline-secondary\",\n        onClick: resetSecretKey\n    }, t(\"reset_invitation_link\"))), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"form\", null, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"button\", {\n        onClick: (e)=>leaveGroup(e),\n        class: \"btn btn-outline-danger\"\n    }, t(\"quit_group\"))))))))), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"user-list mb-3\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"h3\", null, t(\"users\")), users.map((user)=>user && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n            class: \"user-card\"\n        }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"img\", {\n            class: \"avatar material-shadow-with-hover\",\n            style: (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).backgroundHash(user.id),\n            src: user.avatar ? (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).crop(user.avatar[\"id\"], 200, 200) : (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).defaultAvatar,\n            onError: (e)=>e.currentTarget.src = (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).defaultAvatar\n        }), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"span\", null, user[\"name\"])))), alertMessage && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"global-alert alert alert-success\"\n    }, alertMessage));\n}\n\n\n\n\n\n\n\n\n\nfunction $6b414d55358a8032$export$2e2bcd8739ae039() {\n    const { t: t } = (0, $829be5acfdd67d69$export$9fc83ad70ead8663)();\n    const { me: me } = (0, $5133ef8bc2964922$export$11aeef812f154e9e)(\"me\");\n    const navigate = (0, $405e09292ddca27f$export$9770f232ac06a008)();\n    const location = (0, $405e09292ddca27f$export$45d76561a5302f2b)();\n    const [apiKey, setApiKey] = (0, $35130c2d97e6777b$export$60241385465d0a34)(null);\n    const [alertMessage, setAlertMessage] = (0, $35130c2d97e6777b$export$60241385465d0a34)(\"\");\n    (0, $35130c2d97e6777b$export$6d9c69b0de29b591)(()=>{\n        (0, $ba05c0ef8a781e02$export$ddcffe0146c8f882).get(\"apiKey\").then((apiKey)=>setApiKey(apiKey));\n        setAlertMessage(t((0, $ba05c0ef8a781e02$export$5375cda95f0b0eb4).getParam(\"alert\")));\n    }, []);\n    const resetApiKey = (event)=>{\n        event.preventDefault();\n        (0, $ba05c0ef8a781e02$export$7d6f1c8842f9f527).post(`/api/users/${me.id}/reset-api-key`, {}).then(()=>(0, $ba05c0ef8a781e02$export$5375cda95f0b0eb4).logout());\n    };\n    const inputAvatar = ()=>{\n        const input = document.createElement(\"input\");\n        input.type = \"file\";\n        input.accept = \"image/*\";\n        input.addEventListener(\"change\", (event)=>{\n            const formData = new FormData();\n            formData.append(\"file\", event.target.files[0]);\n            (0, $ba05c0ef8a781e02$export$7d6f1c8842f9f527).sendFile(formData, (file)=>{\n                (0, $ba05c0ef8a781e02$export$7d6f1c8842f9f527).put(`/api/users/${me.id}`, {\n                    avatar: file[\"id\"]\n                }).then(()=>{\n                    setAlertMessage(t(\"settings_updated\"));\n                    navigate(`${location.pathname}?alert=settings_updated`);\n                });\n            });\n        });\n        input.click();\n    };\n    const destroyAccount = (event)=>{\n        event.preventDefault();\n        let confirmDeletion = confirm(t(\"are_you_sure\"));\n        if (confirmDeletion) (0, $ba05c0ef8a781e02$export$7d6f1c8842f9f527).delete(`/api/users/${me.id}`).then(()=>{\n            navigate(\"/logout\");\n        });\n    };\n    const updateSettings = (event)=>{\n        event.preventDefault();\n        const name = document.querySelector(\"#settings_form input[name='name']\").value;\n        const login = document.querySelector(\"#settings_form input[name='email']\").value;\n        const password = document.querySelector(\"#settings_form input[name='password']\").value;\n        const notification_emails = document.querySelector(\"#settings_form select[name='notification_emails']\").value;\n        const default_group = document.querySelector(\"#settings_form select[name='default_group']\").value;\n        const lang = document.querySelector(\"#settings_form select[name='lang']\").value;\n        let user = {};\n        if (name) user.name = name;\n        if (login) user.login = login;\n        if (password) user.password = password;\n        user[\"data\"] = {\n            notification_emails: notification_emails,\n            default_group: default_group,\n            lang: lang\n        };\n        (0, $ba05c0ef8a781e02$export$7d6f1c8842f9f527).put(`/api/users/${me.id}`, user).then((res)=>{\n            if (res[\"error\"]) (0, $ba05c0ef8a781e02$export$5ea928c9faf85bd3).add(res[\"error\"], \"alert-danger\");\n            else {\n                setAlertMessage(t(\"settings_updated\"));\n                navigate(`${location.pathname}?alert=settings_updated`);\n            }\n        });\n    };\n    if (me && me?.data) return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"user-settings\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"card\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"identite card-body\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"container-fluid p-1\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"row\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"col-12 col-md-2\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"img\", {\n        class: \"img-fluid rounded-circle material-shadow avatar\",\n        src: me.avatar ? (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).crop(me.avatar[\"id\"], 100, 100) : (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).defaultAvatar,\n        style: (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).backgroundHash(me.id || \"\"),\n        onError: (e)=>e.currentTarget.src = (0, $ba05c0ef8a781e02$export$7debb50ef11d5e0b).defaultAvatar,\n        onClick: (e)=>inputAvatar(e)\n    })), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"col-12 col-md-10\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"form\", {\n        id: \"settings_form\",\n        class: \"mb-3\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"form-group\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"label\", {\n        for: \"name\"\n    }, t(\"name\"), \": \"), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"input\", {\n        type: \"text\",\n        name: \"name\",\n        minlength: \"1\",\n        maxlength: \"128\",\n        placeholder: t(\"name_input\"),\n        value: me.name,\n        class: \"form-control\"\n    })), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"form-group\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"label\", {\n        for: \"email\"\n    }, t(\"email\"), \": \"), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"input\", {\n        type: \"email\",\n        name: \"email\",\n        placeholder: t(\"email_input\"),\n        value: me.login,\n        class: \"form-control\"\n    })), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"form-group\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"label\", {\n        for: \"password\"\n    }, t(\"password\"), \": \"), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"input\", {\n        type: \"password\",\n        name: \"password\",\n        autocomplete: \"off\",\n        minlength: \"8\",\n        maxlength: \"128\",\n        placeholder: t(\"password_input\"),\n        class: \"form-control\"\n    })), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"form-group\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"label\", {\n        for: \"notification_emails\"\n    }, t(\"notification_emails\"), \":\"), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"select\", {\n        name: \"notification_emails\",\n        class: \"form-control\",\n        value: me?.data[\"notification_emails\"]\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"option\", {\n        value: \"none\"\n    }, t(\"none\")), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"option\", {\n        value: \"hourly\"\n    }, t(\"hourly\")), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"option\", {\n        value: \"daily\"\n    }, t(\"daily\")), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"option\", {\n        value: \"weekly\"\n    }, t(\"weekly\")), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"option\", {\n        value: \"monthly\"\n    }, t(\"monthly\")))), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"form-group\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"label\", {\n        for: \"default_group\"\n    }, t(\"default_group\"), \":\"), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"select\", {\n        name: \"default_group\",\n        class: \"form-control\",\n        value: me?.data[\"default_group\"]\n    }, me.groups?.map((e)=>(0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"option\", {\n            key: e.id,\n            value: e.id\n        }, e.name)))), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"form-group\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"label\", {\n        class: \"capitalize\",\n        for: \"lang\"\n    }, t(\"lang\"), \":\"), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"select\", {\n        name: \"lang\",\n        class: \"form-control\",\n        value: (0, $ba05c0ef8a781e02$export$9a771d6906431624).getCurrentLang()\n    }, Object.keys((0, $ba05c0ef8a781e02$export$9a771d6906431624).possibleLang).map((k)=>(0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"option\", {\n            key: k,\n            value: k\n        }, (0, $ba05c0ef8a781e02$export$9a771d6906431624).possibleLang[k])))), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"button\", {\n        onClick: (e)=>updateSettings(e),\n        class: \"btn btn-primary\"\n    }, t(\"save_changes\"))), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"form\", {\n        id: \"api_key_form\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"form-group\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"label\", {\n        for: \"apiKey\"\n    }, t(\"api_key\"), \":\", \" \"), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"input\", {\n        type: \"text\",\n        name: \"apiKey\",\n        value: apiKey,\n        class: \"form-control font-size-80\",\n        readonly: \"readonly\"\n    })), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"button\", {\n        class: \"btn btn-outline-secondary\",\n        onClick: resetApiKey\n    }, t(\"reset_api_key\"))), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"form\", {\n        id: \"destroy_form\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"label\", {\n        class: \"d-block\",\n        for: \"destroy_account\"\n    }, t(\"destroy_account_explain\")), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"button\", {\n        onClick: (e)=>destroyAccount(e),\n        name: \"destroy_account\",\n        class: \"btn btn-danger\"\n    }, t(\"destroy_account\")))))))), alertMessage && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"global-alert alert alert-success\"\n    }, alertMessage));\n}\n\n\n\n\n\n\n\nfunction $e445918a5a4228c3$export$2e2bcd8739ae039() {\n    const params = (0, $405e09292ddca27f$export$99eaa27ddbbb95ef)();\n    const { t: t } = (0, $829be5acfdd67d69$export$9fc83ad70ead8663)();\n    const { me: me } = (0, $5133ef8bc2964922$export$11aeef812f154e9e)(\"me\");\n    return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"main\", null, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $a779245c27c6d4b9$export$42cfbb80f7861e77), null), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"content\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"article\", {\n        class: \"mt-2 justify-content-center d-flex\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"container pb-3\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"settings\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"ul\", {\n        class: \"nav nav-tabs\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"li\", {\n        class: \"nav-item\"\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $4a6806eb551925a6$export$a6c7ac8248d6e38a), {\n        class: `nav-link${params.type == \"users\" ? \" active\" : \"\"}`,\n        to: `/users/${me.id}/settings`\n    }, t(\"account\"))), me.groups?.length > 0 && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"li\", {\n        class: \"nav-item dropdown group-list\",\n        tabindex: \"-1\",\n        onClick: (e)=>e.currentTarget.classList.toggle(\"active\")\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: `nav-link${params.type == \"groups\" ? \" active\" : \"\"}`\n    }, t(\"groups\")), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)(\"div\", {\n        class: \"dropdown-menu\"\n    }, me.groups?.map((e)=>(0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $4a6806eb551925a6$export$a6c7ac8248d6e38a), {\n            key: `/groups/${e.id}/settings`,\n            class: \"seamless-link\",\n            to: `/groups/${e.id}/settings`\n        }, e.name))))), params.type === \"users\" && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $6b414d55358a8032$export$2e2bcd8739ae039), {\n        id: params.id,\n        key: params.id\n    }), params.type === \"groups\" && (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $eeb1ed40e8ffc517$export$2e2bcd8739ae039), {\n        id: params.id,\n        key: params.id\n    }))))));\n}\n\n\n\nconst $15e77f43f1e3331f$export$7756bc8dbeb9ec70 = (0, $eeb1ed40e8ffc517$export$2e2bcd8739ae039);\nconst $15e77f43f1e3331f$export$c72f6eaae7b9adff = (0, $e445918a5a4228c3$export$2e2bcd8739ae039);\nconst $15e77f43f1e3331f$export$6587c76ebf15601c = (0, $6b414d55358a8032$export$2e2bcd8739ae039);\n\n\n\n\n\nfunction $c94d87274290ed2f$var$App() {\n    const navigate = (0, $405e09292ddca27f$export$9770f232ac06a008)();\n    const location = (0, $405e09292ddca27f$export$45d76561a5302f2b)();\n    const toggleDropdowns = (e)=>{\n        if (!e.target.closest(\".dropdown\")) // close dropdowns if we are clicking on something else\n        document.querySelectorAll(\".dropdown\").forEach((n)=>n.classList.remove(\"active\"));\n        else // close dropdowns that are not clicked on\n        document.querySelectorAll(\".dropdown\").forEach((n)=>{\n            if (n != e.target.closest(\".dropdown\")) n.classList.remove(\"active\");\n        });\n    };\n    // initial load\n    (0, $35130c2d97e6777b$export$6d9c69b0de29b591)(()=>{\n        // this test is here to ensure that 'api' gets loaded before\n        // this may come from a transpilation issue with parceljs\n        if ((0, $ba05c0ef8a781e02$export$644d8ea042df96a6) && typeof (0, $ba05c0ef8a781e02$export$644d8ea042df96a6).update === \"function\") (0, $ba05c0ef8a781e02$export$644d8ea042df96a6).update();\n        else console.error(\"Could not use api.update()\");\n        (0, $ba05c0ef8a781e02$export$6008d97729a90c74).update();\n        (0, $ba05c0ef8a781e02$export$a4ea57bd994c1f0d).update();\n        // manage dropdowns\n        window.addEventListener(\"click\", (e)=>toggleDropdowns(e));\n        return ()=>{\n            window.removeEventListener(\"click\", (e)=>toggleDropdowns(e));\n        };\n    });\n    (0, $ba05c0ef8a781e02$export$3e32638432616b6).fetch().then((user)=>{\n        if (location.pathname == \"/\") {\n            let redirect = \"/login\";\n            if (user) {\n                redirect = \"/create-group\";\n                if (user.data?.default_group) redirect = `/groups/${user?.data[\"default_group\"]}`;\n                else if (user?.groups[0]) redirect = `/groups/${user?.groups[0].id}`;\n            }\n            navigate(redirect);\n        }\n        if (location.pathname.match(/^\\/invitation/)) {\n            if (user) (0, $ba05c0ef8a781e02$export$7d6f1c8842f9f527).post(`/api/groups/invitation/${(0, $ba05c0ef8a781e02$export$5375cda95f0b0eb4).id}`, {}).then(()=>{\n                navigate(\"/\");\n            });\n            else navigate(`/signup?inviteKey=${(0, $ba05c0ef8a781e02$export$5375cda95f0b0eb4).id}`);\n        }\n        if (!(0, $ba05c0ef8a781e02$export$5375cda95f0b0eb4).isOutside() && !user) navigate(\"/login\");\n    });\n    return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $405e09292ddca27f$export$3565eb3d00ca5a74), null, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $405e09292ddca27f$export$e7b0ac011bb776c6), {\n        path: \"/password-reset\",\n        element: (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $7a4a2b5c7de24037$export$b44239f84c8f0268), null)\n    }), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $405e09292ddca27f$export$e7b0ac011bb776c6), {\n        path: \"/public/:token\",\n        element: (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $7a4a2b5c7de24037$export$68b4491d6924a6d1), null)\n    }), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $405e09292ddca27f$export$e7b0ac011bb776c6), {\n        path: \"/share\",\n        element: (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $e4fc23afeade3f60$export$c9915453de10000b), null)\n    }), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $405e09292ddca27f$export$e7b0ac011bb776c6), {\n        path: \"/signup\",\n        element: (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $7a4a2b5c7de24037$export$89200835fb4edfb9), null)\n    }), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $405e09292ddca27f$export$e7b0ac011bb776c6), {\n        path: \"/stop-notification-emails\",\n        element: (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $7a4a2b5c7de24037$export$e9e03eeea26d4dee), null)\n    }), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $405e09292ddca27f$export$e7b0ac011bb776c6), {\n        path: \"/login\",\n        element: (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $7a4a2b5c7de24037$export$21a94553ffa41578), null)\n    }), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $405e09292ddca27f$export$e7b0ac011bb776c6), {\n        path: \"/logout\",\n        element: (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $405e09292ddca27f$export$444b3ab0cb9aec40), {\n            replace: true,\n            to: \"/login\"\n        })\n    }), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $405e09292ddca27f$export$e7b0ac011bb776c6), {\n        path: \"/:type/:id/settings\",\n        element: (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $15e77f43f1e3331f$export$c72f6eaae7b9adff), null)\n    }), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $405e09292ddca27f$export$e7b0ac011bb776c6), {\n        path: \"/bookmarks\",\n        element: (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $e4fc23afeade3f60$export$9c257beea3dbd13a), null)\n    }), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $405e09292ddca27f$export$e7b0ac011bb776c6), {\n        path: \"/create-group\",\n        element: (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $e4fc23afeade3f60$export$1a13290ec7702c7), null)\n    }), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $405e09292ddca27f$export$e7b0ac011bb776c6), {\n        path: \"/groups/:id\",\n        element: (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $e4fc23afeade3f60$export$959a4441e74dcd2b), null)\n    }), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $405e09292ddca27f$export$e7b0ac011bb776c6), {\n        path: \"/groups/:id/random\",\n        element: (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $e4fc23afeade3f60$export$4b31f5af7c5f8dee), null)\n    }), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $405e09292ddca27f$export$e7b0ac011bb776c6), {\n        path: \"/groups/:id/search\",\n        element: (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $a779245c27c6d4b9$export$5cc34a6155e65c0e), null)\n    }), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $405e09292ddca27f$export$e7b0ac011bb776c6), {\n        path: \"/groups/:id/write\",\n        element: (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $017da47328f74ae1$export$29913b8f065577b2), null)\n    }), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $405e09292ddca27f$export$e7b0ac011bb776c6), {\n        path: \"/messages/:id\",\n        element: (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $19924b6e568a4f60$export$4025c8e17986f775), null)\n    }), (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $405e09292ddca27f$export$e7b0ac011bb776c6), {\n        path: \"/messages/:id/:child_id\",\n        element: (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $19924b6e568a4f60$export$4025c8e17986f775), null)\n    }));\n}\nvar $c94d87274290ed2f$export$2e2bcd8739ae039 = $c94d87274290ed2f$var$App;\n\n\n\n\n\nconst $9a3e4fde01996651$var$router = (0, $4a6806eb551925a6$export$1f3f55432a00e06d)([\n    {\n        path: \"*\",\n        Component: (0, $c94d87274290ed2f$export$2e2bcd8739ae039)\n    }\n], {\n    basename: `/${document.baseURI.split(\"/\")[3]}`\n});\nfunction $9a3e4fde01996651$var$Index() {\n    return (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $5133ef8bc2964922$export$554ccc96b126a426).Provider, {\n        value: (0, $5e4e939c48db0130$export$2e2bcd8739ae039)\n    }, (0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)((0, $405e09292ddca27f$export$323e4fc2fa4753fb), {\n        router: $9a3e4fde01996651$var$router\n    }));\n}\n(0, $bc4b82f252aed4aa$export$b3890eb0ae9dca99)((0, $bc4b82f252aed4aa$export$c8a8987d4410bf2d)($9a3e4fde01996651$var$Index, null), document.body);\n\n})();\n//# sourceMappingURL=index.d319d543.js.map\n","\"use strict\";\n\nvar bundleURL = {};\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n  return value;\n}\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n  return '/';\n}\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\n// TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^/]+/);\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n  return matches[0];\n}\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","import { h, render } from \"preact\";\nimport App from \"./app.js\";\nimport {\n  createBrowserRouter,\n  createRoutesFromElements,\n  RouterProvider,\n} from \"react-router-dom\";\n\nimport { StoreContext } from \"storeon/preact\";\nimport store from \"/src/store\";\n\nconst router = createBrowserRouter(\n  [\n    { path: \"*\", Component: App },\n  ],\n  {\n    basename: `/${document.baseURI.split('/')[3]}`,\n  }\n);\n\nfunction Index() {\n  return (\n    <StoreContext.Provider value={store}>\n      <RouterProvider router={router} />\n    </StoreContext.Provider>\n  );\n}\n\nrender(<Index />, document.body);\n","var n,l,u,t,i,o,r,f,e,c={},s=[],a=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,h=Array.isArray;function v(n,l){for(var u in l)n[u]=l[u];return n}function p(n){var l=n.parentNode;l&&l.removeChild(n)}function y(l,u,t){var i,o,r,f={};for(r in u)\"key\"==r?i=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):t),\"function\"==typeof l&&null!=l.defaultProps)for(r in l.defaultProps)void 0===f[r]&&(f[r]=l.defaultProps[r]);return d(l,f,i,o,null)}function d(n,t,i,o,r){var f={type:n,props:t,key:i,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==r?++u:r};return null==r&&null!=l.vnode&&l.vnode(f),f}function _(){return{current:null}}function k(n){return n.children}function b(n,l){this.props=n,this.context=l}function g(n,l){if(null==l)return n.__?g(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?g(n):null}function m(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return m(n)}}function w(n){(!n.__d&&(n.__d=!0)&&i.push(n)&&!x.__r++||o!==l.debounceRendering)&&((o=l.debounceRendering)||r)(x)}function x(){var n,l,u,t,o,r,e,c,s;for(i.sort(f);n=i.shift();)n.__d&&(l=i.length,t=void 0,o=void 0,r=void 0,c=(e=(u=n).__v).__e,(s=u.__P)&&(t=[],o=[],(r=v({},e)).__v=e.__v+1,L(s,e,r,u.__n,void 0!==s.ownerSVGElement,null!=e.__h?[c]:null,t,null==c?g(e):c,e.__h,o),M(t,e,o),e.__e!=c&&m(e)),i.length>l&&i.sort(f));x.__r=0}function P(n,l,u,t,i,o,r,f,e,a,v){var p,y,_,b,m,w,x,P,C,H=0,I=t&&t.__k||s,T=I.length,j=T,z=l.length;for(u.__k=[],p=0;p<z;p++)null!=(b=u.__k[p]=null==(b=l[p])||\"boolean\"==typeof b||\"function\"==typeof b?null:\"string\"==typeof b||\"number\"==typeof b||\"bigint\"==typeof b?d(null,b,null,null,b):h(b)?d(k,{children:b},null,null,null):b.__b>0?d(b.type,b.props,b.key,b.ref?b.ref:null,b.__v):b)?(b.__=u,b.__b=u.__b+1,-1===(P=A(b,I,x=p+H,j))?_=c:(_=I[P]||c,I[P]=void 0,j--),L(n,b,_,i,o,r,f,e,a,v),m=b.__e,(y=b.ref)&&_.ref!=y&&(_.ref&&O(_.ref,null,b),v.push(y,b.__c||m,b)),null!=m&&(null==w&&(w=m),(C=_===c||null===_.__v)?-1==P&&H--:P!==x&&(P===x+1?H++:P>x?j>z-x?H+=P-x:H--:H=P<x&&P==x-1?P-x:0),x=p+H,\"function\"!=typeof b.type||P===x&&_.__k!==b.__k?\"function\"==typeof b.type||P===x&&!C?void 0!==b.__d?(e=b.__d,b.__d=void 0):e=m.nextSibling:e=S(n,m,e):e=$(b,e,n),\"function\"==typeof u.type&&(u.__d=e))):(_=I[p])&&null==_.key&&_.__e&&(_.__e==e&&(e=g(_)),q(_,_,!1),I[p]=null);for(u.__e=w,p=T;p--;)null!=I[p]&&(\"function\"==typeof u.type&&null!=I[p].__e&&I[p].__e==u.__d&&(u.__d=I[p].__e.nextSibling),q(I[p],I[p]))}function $(n,l,u){for(var t,i=n.__k,o=0;i&&o<i.length;o++)(t=i[o])&&(t.__=n,l=\"function\"==typeof t.type?$(t,l,u):S(u,t.__e,l));return l}function C(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(h(n)?n.some(function(n){C(n,l)}):l.push(n)),l}function S(n,l,u){return null==u||u.parentNode!==n?n.insertBefore(l,null):l==u&&null!=l.parentNode||n.insertBefore(l,u),l.nextSibling}function A(n,l,u,t){var i=n.key,o=n.type,r=u-1,f=u+1,e=l[u];if(null===e||e&&i==e.key&&o===e.type)return u;if(t>(null!=e?1:0))for(;r>=0||f<l.length;){if(r>=0){if((e=l[r])&&i==e.key&&o===e.type)return r;r--}if(f<l.length){if((e=l[f])&&i==e.key&&o===e.type)return f;f++}}return-1}function H(n,l,u,t,i){var o;for(o in u)\"children\"===o||\"key\"===o||o in l||T(n,o,null,u[o],t);for(o in l)i&&\"function\"!=typeof l[o]||\"children\"===o||\"key\"===o||\"value\"===o||\"checked\"===o||u[o]===l[o]||T(n,o,l[o],u[o],t)}function I(n,l,u){\"-\"===l[0]?n.setProperty(l,null==u?\"\":u):n[l]=null==u?\"\":\"number\"!=typeof u||a.test(l)?u:u+\"px\"}function T(n,l,u,t,i){var o;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof t&&(n.style.cssText=t=\"\"),t)for(l in t)u&&l in u||I(n.style,l,\"\");if(u)for(l in u)t&&u[l]===t[l]||I(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])o=l!==(l=l.replace(/(PointerCapture)$|Capture$/,\"$1\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+o]=u,u?t||n.addEventListener(l,o?z:j,o):n.removeEventListener(l,o?z:j,o);else if(\"dangerouslySetInnerHTML\"!==l){if(i)l=l.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"width\"!==l&&\"height\"!==l&&\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"tabIndex\"!==l&&\"download\"!==l&&\"rowSpan\"!==l&&\"colSpan\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null==u||!1===u&&\"-\"!==l[4]?n.removeAttribute(l):n.setAttribute(l,u))}}function j(n){return this.l[n.type+!1](l.event?l.event(n):n)}function z(n){return this.l[n.type+!0](l.event?l.event(n):n)}function L(n,u,t,i,o,r,f,e,c,s){var a,p,y,d,_,g,m,w,x,$,C,S,A,H,I,T=u.type;if(void 0!==u.constructor)return null;null!=t.__h&&(c=t.__h,e=u.__e=t.__e,u.__h=null,r=[e]),(a=l.__b)&&a(u);n:if(\"function\"==typeof T)try{if(w=u.props,x=(a=T.contextType)&&i[a.__c],$=a?x?x.props.value:a.__:i,t.__c?m=(p=u.__c=t.__c).__=p.__E:(\"prototype\"in T&&T.prototype.render?u.__c=p=new T(w,$):(u.__c=p=new b(w,$),p.constructor=T,p.render=B),x&&x.sub(p),p.props=w,p.state||(p.state={}),p.context=$,p.__n=i,y=p.__d=!0,p.__h=[],p._sb=[]),null==p.__s&&(p.__s=p.state),null!=T.getDerivedStateFromProps&&(p.__s==p.state&&(p.__s=v({},p.__s)),v(p.__s,T.getDerivedStateFromProps(w,p.__s))),d=p.props,_=p.state,p.__v=u,y)null==T.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),null!=p.componentDidMount&&p.__h.push(p.componentDidMount);else{if(null==T.getDerivedStateFromProps&&w!==d&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(w,$),!p.__e&&(null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(w,p.__s,$)||u.__v===t.__v)){for(u.__v!==t.__v&&(p.props=w,p.state=p.__s,p.__d=!1),u.__e=t.__e,u.__k=t.__k,u.__k.forEach(function(n){n&&(n.__=u)}),C=0;C<p._sb.length;C++)p.__h.push(p._sb[C]);p._sb=[],p.__h.length&&f.push(p);break n}null!=p.componentWillUpdate&&p.componentWillUpdate(w,p.__s,$),null!=p.componentDidUpdate&&p.__h.push(function(){p.componentDidUpdate(d,_,g)})}if(p.context=$,p.props=w,p.__P=n,p.__e=!1,S=l.__r,A=0,\"prototype\"in T&&T.prototype.render){for(p.state=p.__s,p.__d=!1,S&&S(u),a=p.render(p.props,p.state,p.context),H=0;H<p._sb.length;H++)p.__h.push(p._sb[H]);p._sb=[]}else do{p.__d=!1,S&&S(u),a=p.render(p.props,p.state,p.context),p.state=p.__s}while(p.__d&&++A<25);p.state=p.__s,null!=p.getChildContext&&(i=v(v({},i),p.getChildContext())),y||null==p.getSnapshotBeforeUpdate||(g=p.getSnapshotBeforeUpdate(d,_)),P(n,h(I=null!=a&&a.type===k&&null==a.key?a.props.children:a)?I:[I],u,t,i,o,r,f,e,c,s),p.base=u.__e,u.__h=null,p.__h.length&&f.push(p),m&&(p.__E=p.__=null)}catch(n){u.__v=null,(c||null!=r)&&(u.__e=e,u.__h=!!c,r[r.indexOf(e)]=null),l.__e(n,u,t)}else null==r&&u.__v===t.__v?(u.__k=t.__k,u.__e=t.__e):u.__e=N(t.__e,u,t,i,o,r,f,c,s);(a=l.diffed)&&a(u)}function M(n,u,t){for(var i=0;i<t.length;i++)O(t[i],t[++i],t[++i]);l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function N(l,u,t,i,o,r,f,e,s){var a,v,y,d=t.props,_=u.props,k=u.type,b=0;if(\"svg\"===k&&(o=!0),null!=r)for(;b<r.length;b++)if((a=r[b])&&\"setAttribute\"in a==!!k&&(k?a.localName===k:3===a.nodeType)){l=a,r[b]=null;break}if(null==l){if(null===k)return document.createTextNode(_);l=o?document.createElementNS(\"http://www.w3.org/2000/svg\",k):document.createElement(k,_.is&&_),r=null,e=!1}if(null===k)d===_||e&&l.data===_||(l.data=_);else{if(r=r&&n.call(l.childNodes),v=(d=t.props||c).dangerouslySetInnerHTML,y=_.dangerouslySetInnerHTML,!e){if(null!=r)for(d={},b=0;b<l.attributes.length;b++)d[l.attributes[b].name]=l.attributes[b].value;(y||v)&&(y&&(v&&y.__html==v.__html||y.__html===l.innerHTML)||(l.innerHTML=y&&y.__html||\"\"))}if(H(l,_,d,o,e),y)u.__k=[];else if(P(l,h(b=u.props.children)?b:[b],u,t,i,o&&\"foreignObject\"!==k,r,f,r?r[0]:t.__k&&g(t,0),e,s),null!=r)for(b=r.length;b--;)null!=r[b]&&p(r[b]);e||(\"value\"in _&&void 0!==(b=_.value)&&(b!==l.value||\"progress\"===k&&!b||\"option\"===k&&b!==d.value)&&T(l,\"value\",b,d.value,!1),\"checked\"in _&&void 0!==(b=_.checked)&&b!==l.checked&&T(l,\"checked\",b,d.checked,!1))}return l}function O(n,u,t){try{\"function\"==typeof n?n(u):n.current=u}catch(n){l.__e(n,t)}}function q(n,u,t){var i,o;if(l.unmount&&l.unmount(n),(i=n.ref)&&(i.current&&i.current!==n.__e||O(i,null,u)),null!=(i=n.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(n){l.__e(n,u)}i.base=i.__P=null,n.__c=void 0}if(i=n.__k)for(o=0;o<i.length;o++)i[o]&&q(i[o],u,t||\"function\"!=typeof n.type);t||null==n.__e||p(n.__e),n.__=n.__e=n.__d=void 0}function B(n,l,u){return this.constructor(n,u)}function D(u,t,i){var o,r,f,e;l.__&&l.__(u,t),r=(o=\"function\"==typeof i)?null:i&&i.__k||t.__k,f=[],e=[],L(t,u=(!o&&i||t).__k=y(k,null,[u]),r||c,c,void 0!==t.ownerSVGElement,!o&&i?[i]:r?null:t.firstChild?n.call(t.childNodes):null,f,!o&&i?i:r?r.__e:t.firstChild,o,e),M(f,u,e)}function E(n,l){D(n,l,E)}function F(l,u,t){var i,o,r,f,e=v({},l.props);for(r in l.type&&l.type.defaultProps&&(f=l.type.defaultProps),u)\"key\"==r?i=u[r]:\"ref\"==r?o=u[r]:e[r]=void 0===u[r]&&void 0!==f?f[r]:u[r];return arguments.length>2&&(e.children=arguments.length>3?n.call(arguments,2):t),d(l.type,e,i||l.key,o||l.ref,null)}function G(n,l){var u={__c:l=\"__cC\"+e++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,t;return this.getChildContext||(u=[],(t={})[l]=this,this.getChildContext=function(){return t},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(function(n){n.__e=!0,w(n)})},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n=s.slice,l={__e:function(n,l,u,t){for(var i,o,r;l=l.__;)if((i=l.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(n)),r=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(n,t||{}),r=i.__d),r)return i.__E=i}catch(l){n=l}throw n}},u=0,t=function(n){return null!=n&&void 0===n.constructor},b.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=v({},this.state),\"function\"==typeof n&&(n=n(v({},u),this.props)),n&&v(u,n),null!=n&&this.__v&&(l&&this._sb.push(l),w(this))},b.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),w(this))},b.prototype.render=k,i=[],r=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,f=function(n,l){return n.__v.__b-l.__v.__b},x.__r=0,e=0;export{b as Component,k as Fragment,F as cloneElement,G as createContext,y as createElement,_ as createRef,y as h,E as hydrate,t as isValidElement,l as options,D as render,C as toChildArray};\n//# sourceMappingURL=preact.module.js.map\n","import { EMPTY_ARR } from './constants';\n\nexport const isArray = Array.isArray;\n\n/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\t// @ts-ignore We change the type of `obj` to be `O & P`\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Remove a child node from its parent if attached. This is a workaround for\n * IE11 which doesn't support `Element.prototype.remove()`. Using this function\n * is smaller than including a dedicated polyfill.\n * @param {Node} node The node to remove\n */\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\nexport const slice = EMPTY_ARR.slice;\n","import { _catchError } from './diff/catch-error';\n\n/**\n * The `option` object can potentially contain callback functions\n * that are called during various stages of our renderer. This is the\n * foundation on which all our addons like `preact/debug`, `preact/compat`,\n * and `preact/hooks` are based on. See the `Options` type in `internal.d.ts`\n * for a full list of available option hooks (most editors/IDEs allow you to\n * ctrl+click or cmd+click on mac the type definition below).\n * @type {import('./internal').Options}\n */\nconst options = {\n\t_catchError\n};\n\nexport default options;\n","import { slice } from './util';\nimport options from './options';\n\nlet vnodeId = 0;\n\n/**\n * Create an virtual node (used for JSX)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * constructor for this virtual node\n * @param {object | null | undefined} [props] The properties of the virtual node\n * @param {Array<import('.').ComponentChildren>} [children] The children of the virtual node\n * @returns {import('./internal').VNode}\n */\nexport function createElement(type, props, children) {\n\tlet normalizedProps = {},\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\t// If a Component VNode, check for and apply defaultProps\n\t// Note: type may be undefined in development, must never error here.\n\tif (typeof type == 'function' && type.defaultProps != null) {\n\t\tfor (i in type.defaultProps) {\n\t\t\tif (normalizedProps[i] === undefined) {\n\t\t\t\tnormalizedProps[i] = type.defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn createVNode(type, normalizedProps, key, ref, null);\n}\n\n/**\n * Create a VNode (used internally by Preact)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * Constructor for this virtual node\n * @param {object | string | number | null} props The properties of this virtual node.\n * If this virtual node represents a text node, this is the text of the node (string or number).\n * @param {string | number | null} key The key for this virtual node, used when\n * diffing it against its children\n * @param {import('./internal').VNode[\"ref\"]} ref The ref property that will\n * receive a reference to its created child\n * @returns {import('./internal').VNode}\n */\nexport function createVNode(type, props, key, ref, original) {\n\t// V8 seems to be better at detecting type shapes if the object is allocated from the same call site\n\t// Do not inline into createElement and coerceToVNode!\n\tconst vnode = {\n\t\ttype,\n\t\tprops,\n\t\tkey,\n\t\tref,\n\t\t_children: null,\n\t\t_parent: null,\n\t\t_depth: 0,\n\t\t_dom: null,\n\t\t// _nextDom must be initialized to undefined b/c it will eventually\n\t\t// be set to dom.nextSibling which can return `null` and it is important\n\t\t// to be able to distinguish between an uninitialized _nextDom and\n\t\t// a _nextDom that has been set to `null`\n\t\t_nextDom: undefined,\n\t\t_component: null,\n\t\t_hydrating: null,\n\t\tconstructor: undefined,\n\t\t_original: original == null ? ++vnodeId : original\n\t};\n\n\t// Only invoke the vnode hook if this was *not* a direct copy:\n\tif (original == null && options.vnode != null) options.vnode(vnode);\n\n\treturn vnode;\n}\n\nexport function createRef() {\n\treturn { current: null };\n}\n\nexport function Fragment(props) {\n\treturn props.children;\n}\n\n/**\n * Check if a the argument is a valid Preact VNode.\n * @param {*} vnode\n * @returns {vnode is import('./internal').VNode}\n */\nexport const isValidElement = vnode =>\n\tvnode != null && vnode.constructor === undefined;\n","import { assign } from './util';\nimport { diff, commitRoot } from './diff/index';\nimport options from './options';\nimport { Fragment } from './create-element';\n\n/**\n * Base Component class. Provides `setState()` and `forceUpdate()`, which\n * trigger rendering\n * @param {object} props The initial component props\n * @param {object} context The initial context from parent components'\n * getChildContext\n */\nexport function Component(props, context) {\n\tthis.props = props;\n\tthis.context = context;\n}\n\n/**\n * Update component state and schedule a re-render.\n * @this {import('./internal').Component}\n * @param {object | ((s: object, p: object) => object)} update A hash of state\n * properties to update with new values or a function that given the current\n * state and props returns a new partial state\n * @param {() => void} [callback] A function to be called once component state is\n * updated\n */\nComponent.prototype.setState = function (update, callback) {\n\t// only clone state when copying to nextState the first time.\n\tlet s;\n\tif (this._nextState != null && this._nextState !== this.state) {\n\t\ts = this._nextState;\n\t} else {\n\t\ts = this._nextState = assign({}, this.state);\n\t}\n\n\tif (typeof update == 'function') {\n\t\t// Some libraries like `immer` mark the current state as readonly,\n\t\t// preventing us from mutating it, so we need to clone it. See #2716\n\t\tupdate = update(assign({}, s), this.props);\n\t}\n\n\tif (update) {\n\t\tassign(s, update);\n\t}\n\n\t// Skip update if updater function returned null\n\tif (update == null) return;\n\n\tif (this._vnode) {\n\t\tif (callback) {\n\t\t\tthis._stateCallbacks.push(callback);\n\t\t}\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Immediately perform a synchronous re-render of the component\n * @this {import('./internal').Component}\n * @param {() => void} [callback] A function to be called after component is\n * re-rendered\n */\nComponent.prototype.forceUpdate = function (callback) {\n\tif (this._vnode) {\n\t\t// Set render mode so that we can differentiate where the render request\n\t\t// is coming from. We need this because forceUpdate should never call\n\t\t// shouldComponentUpdate\n\t\tthis._force = true;\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n * Virtual DOM is generally constructed via [JSX](http://jasonformat.com/wtf-is-jsx).\n * @param {object} props Props (eg: JSX attributes) received from parent\n * element/component\n * @param {object} state The component's current state\n * @param {object} context Context object, as returned by the nearest\n * ancestor's `getChildContext()`\n * @returns {import('./index').ComponentChildren | void}\n */\nComponent.prototype.render = Fragment;\n\n/**\n * @param {import('./internal').VNode} vnode\n * @param {number | null} [childIndex]\n */\nexport function getDomSibling(vnode, childIndex) {\n\tif (childIndex == null) {\n\t\t// Use childIndex==null as a signal to resume the search from the vnode's sibling\n\t\treturn vnode._parent\n\t\t\t? getDomSibling(vnode._parent, vnode._parent._children.indexOf(vnode) + 1)\n\t\t\t: null;\n\t}\n\n\tlet sibling;\n\tfor (; childIndex < vnode._children.length; childIndex++) {\n\t\tsibling = vnode._children[childIndex];\n\n\t\tif (sibling != null && sibling._dom != null) {\n\t\t\t// Since updateParentDomPointers keeps _dom pointer correct,\n\t\t\t// we can rely on _dom to tell us if this subtree contains a\n\t\t\t// rendered DOM node, and what the first rendered DOM node is\n\t\t\treturn sibling._dom;\n\t\t}\n\t}\n\n\t// If we get here, we have not found a DOM node in this vnode's children.\n\t// We must resume from this vnode's sibling (in it's parent _children array)\n\t// Only climb up and search the parent if we aren't searching through a DOM\n\t// VNode (meaning we reached the DOM parent of the original vnode that began\n\t// the search)\n\treturn typeof vnode.type == 'function' ? getDomSibling(vnode) : null;\n}\n\n/**\n * Trigger in-place re-rendering of a component.\n * @param {import('./internal').Component} component The component to rerender\n */\nfunction renderComponent(component) {\n\tlet vnode = component._vnode,\n\t\toldDom = vnode._dom,\n\t\tparentDom = component._parentDom;\n\n\tif (parentDom) {\n\t\tlet commitQueue = [],\n\t\t\trefQueue = [];\n\t\tconst oldVNode = assign({}, vnode);\n\t\toldVNode._original = vnode._original + 1;\n\n\t\tdiff(\n\t\t\tparentDom,\n\t\t\tvnode,\n\t\t\toldVNode,\n\t\t\tcomponent._globalContext,\n\t\t\tparentDom.ownerSVGElement !== undefined,\n\t\t\tvnode._hydrating != null ? [oldDom] : null,\n\t\t\tcommitQueue,\n\t\t\toldDom == null ? getDomSibling(vnode) : oldDom,\n\t\t\tvnode._hydrating,\n\t\t\trefQueue\n\t\t);\n\n\t\tcommitRoot(commitQueue, vnode, refQueue);\n\n\t\tif (vnode._dom != oldDom) {\n\t\t\tupdateParentDomPointers(vnode);\n\t\t}\n\t}\n}\n\n/**\n * @param {import('./internal').VNode} vnode\n */\nfunction updateParentDomPointers(vnode) {\n\tif ((vnode = vnode._parent) != null && vnode._component != null) {\n\t\tvnode._dom = vnode._component.base = null;\n\t\tfor (let i = 0; i < vnode._children.length; i++) {\n\t\t\tlet child = vnode._children[i];\n\t\t\tif (child != null && child._dom != null) {\n\t\t\t\tvnode._dom = vnode._component.base = child._dom;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn updateParentDomPointers(vnode);\n\t}\n}\n\n/**\n * The render queue\n * @type {Array<import('./internal').Component>}\n */\nlet rerenderQueue = [];\n\n/*\n * The value of `Component.debounce` must asynchronously invoke the passed in callback. It is\n * important that contributors to Preact can consistently reason about what calls to `setState`, etc.\n * do, and when their effects will be applied. See the links below for some further reading on designing\n * asynchronous APIs.\n * * [Designing APIs for Asynchrony](https://blog.izs.me/2013/08/designing-apis-for-asynchrony)\n * * [Callbacks synchronous and asynchronous](https://blog.ometer.com/2011/07/24/callbacks-synchronous-and-asynchronous/)\n */\n\nlet prevDebounce;\n\nconst defer =\n\ttypeof Promise == 'function'\n\t\t? Promise.prototype.then.bind(Promise.resolve())\n\t\t: setTimeout;\n\n/**\n * Enqueue a rerender of a component\n * @param {import('./internal').Component} c The component to rerender\n */\nexport function enqueueRender(c) {\n\tif (\n\t\t(!c._dirty &&\n\t\t\t(c._dirty = true) &&\n\t\t\trerenderQueue.push(c) &&\n\t\t\t!process._rerenderCount++) ||\n\t\tprevDebounce !== options.debounceRendering\n\t) {\n\t\tprevDebounce = options.debounceRendering;\n\t\t(prevDebounce || defer)(process);\n\t}\n}\n\n/**\n * @param {import('./internal').Component} a\n * @param {import('./internal').Component} b\n */\nconst depthSort = (a, b) => a._vnode._depth - b._vnode._depth;\n\n/** Flush the render queue by rerendering all queued components */\nfunction process() {\n\tlet c;\n\trerenderQueue.sort(depthSort);\n\t// Don't update `renderCount` yet. Keep its value non-zero to prevent unnecessary\n\t// process() calls from getting scheduled while `queue` is still being consumed.\n\twhile ((c = rerenderQueue.shift())) {\n\t\tif (c._dirty) {\n\t\t\tlet renderQueueLength = rerenderQueue.length;\n\t\t\trenderComponent(c);\n\t\t\tif (rerenderQueue.length > renderQueueLength) {\n\t\t\t\t// When i.e. rerendering a provider additional new items can be injected, we want to\n\t\t\t\t// keep the order from top to bottom with those new items so we can handle them in a\n\t\t\t\t// single pass\n\t\t\t\trerenderQueue.sort(depthSort);\n\t\t\t}\n\t\t}\n\t}\n\tprocess._rerenderCount = 0;\n}\n\nprocess._rerenderCount = 0;\n","import { enqueueRender } from './component';\n\nexport let i = 0;\n\nexport function createContext(defaultValue, contextId) {\n\tcontextId = '__cC' + i++;\n\n\tconst context = {\n\t\t_id: contextId,\n\t\t_defaultValue: defaultValue,\n\t\t/** @type {import('./internal').FunctionComponent} */\n\t\tConsumer(props, contextValue) {\n\t\t\t// return props.children(\n\t\t\t// \tcontext[contextId] ? context[contextId].props.value : defaultValue\n\t\t\t// );\n\t\t\treturn props.children(contextValue);\n\t\t},\n\t\t/** @type {import('./internal').FunctionComponent} */\n\t\tProvider(props) {\n\t\t\tif (!this.getChildContext) {\n\t\t\t\t/** @type {import('./internal').Component[]} */\n\t\t\t\tlet subs = [];\n\t\t\t\tlet ctx = {};\n\t\t\t\tctx[contextId] = this;\n\n\t\t\t\tthis.getChildContext = () => ctx;\n\n\t\t\t\tthis.shouldComponentUpdate = function (_props) {\n\t\t\t\t\tif (this.props.value !== _props.value) {\n\t\t\t\t\t\t// I think the forced value propagation here was only needed when `options.debounceRendering` was being bypassed:\n\t\t\t\t\t\t// https://github.com/preactjs/preact/commit/4d339fb803bea09e9f198abf38ca1bf8ea4b7771#diff-54682ce380935a717e41b8bfc54737f6R358\n\t\t\t\t\t\t// In those cases though, even with the value corrected, we're double-rendering all nodes.\n\t\t\t\t\t\t// It might be better to just tell folks not to use force-sync mode.\n\t\t\t\t\t\t// Currently, using `useContext()` in a class component will overwrite its `this.context` value.\n\t\t\t\t\t\t// subs.some(c => {\n\t\t\t\t\t\t// \tc.context = _props.value;\n\t\t\t\t\t\t// \tenqueueRender(c);\n\t\t\t\t\t\t// });\n\n\t\t\t\t\t\t// subs.some(c => {\n\t\t\t\t\t\t// \tc.context[contextId] = _props.value;\n\t\t\t\t\t\t// \tenqueueRender(c);\n\t\t\t\t\t\t// });\n\t\t\t\t\t\tsubs.some(c => {\n\t\t\t\t\t\t\tc._force = true;\n\t\t\t\t\t\t\tenqueueRender(c);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.sub = c => {\n\t\t\t\t\tsubs.push(c);\n\t\t\t\t\tlet old = c.componentWillUnmount;\n\t\t\t\t\tc.componentWillUnmount = () => {\n\t\t\t\t\t\tsubs.splice(subs.indexOf(c), 1);\n\t\t\t\t\t\tif (old) old.call(c);\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn props.children;\n\t\t}\n\t};\n\n\t// Devtools needs access to the context object when it\n\t// encounters a Provider. This is necessary to support\n\t// setting `displayName` on the context object instead\n\t// of on the component itself. See:\n\t// https://reactjs.org/docs/context.html#contextdisplayname\n\n\treturn (context.Provider._contextRef = context.Consumer.contextType =\n\t\tcontext);\n}\n","export const EMPTY_OBJ = {};\nexport const EMPTY_ARR = [];\nexport const IS_NON_DIMENSIONAL =\n\t/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;\n","import { diff, unmount, applyRef } from './index';\nimport { createVNode, Fragment } from '../create-element';\nimport { EMPTY_OBJ, EMPTY_ARR } from '../constants';\nimport { isArray } from '../util';\nimport { getDomSibling } from '../component';\n\n/**\n * Diff the children of a virtual node\n * @param {import('../internal').PreactElement} parentDom The DOM element whose\n * children are being diffed\n * @param {import('../internal').ComponentChildren[]} renderResult\n * @param {import('../internal').VNode} newParentVNode The new virtual\n * node whose children should be diff'ed against oldParentVNode\n * @param {import('../internal').VNode} oldParentVNode The old virtual\n * node whose children should be diff'ed against newParentVNode\n * @param {object} globalContext The current context object - modified by getChildContext\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').PreactElement} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @param {Array<any>} refQueue an array of elements needed to invoke refs\n */\nexport function diffChildren(\n\tparentDom,\n\trenderResult,\n\tnewParentVNode,\n\toldParentVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating,\n\trefQueue\n) {\n\tlet i,\n\t\tj,\n\t\toldVNode,\n\t\tchildVNode,\n\t\tnewDom,\n\t\tfirstChildDom,\n\t\tskew = 0;\n\n\t// This is a compression of oldParentVNode!=null && oldParentVNode != EMPTY_OBJ && oldParentVNode._children || EMPTY_ARR\n\t// as EMPTY_OBJ._children should be `undefined`.\n\tlet oldChildren = (oldParentVNode && oldParentVNode._children) || EMPTY_ARR;\n\n\tlet oldChildrenLength = oldChildren.length,\n\t\tremainingOldChildren = oldChildrenLength,\n\t\tnewChildrenLength = renderResult.length;\n\n\tnewParentVNode._children = [];\n\tfor (i = 0; i < newChildrenLength; i++) {\n\t\tchildVNode = renderResult[i];\n\n\t\tif (\n\t\t\tchildVNode == null ||\n\t\t\ttypeof childVNode == 'boolean' ||\n\t\t\ttypeof childVNode == 'function'\n\t\t) {\n\t\t\tchildVNode = newParentVNode._children[i] = null;\n\t\t}\n\t\t// If this newVNode is being reused (e.g. <div>{reuse}{reuse}</div>) in the same diff,\n\t\t// or we are rendering a component (e.g. setState) copy the oldVNodes so it can have\n\t\t// it's own DOM & etc. pointers\n\t\telse if (\n\t\t\ttypeof childVNode == 'string' ||\n\t\t\ttypeof childVNode == 'number' ||\n\t\t\t// eslint-disable-next-line valid-typeof\n\t\t\ttypeof childVNode == 'bigint'\n\t\t) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tnull,\n\t\t\t\tchildVNode,\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tchildVNode\n\t\t\t);\n\t\t} else if (isArray(childVNode)) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tFragment,\n\t\t\t\t{ children: childVNode },\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tnull\n\t\t\t);\n\t\t} else if (childVNode._depth > 0) {\n\t\t\t// VNode is already in use, clone it. This can happen in the following\n\t\t\t// scenario:\n\t\t\t//   const reuse = <div />\n\t\t\t//   <div>{reuse}<span />{reuse}</div>\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tchildVNode.type,\n\t\t\t\tchildVNode.props,\n\t\t\t\tchildVNode.key,\n\t\t\t\tchildVNode.ref ? childVNode.ref : null,\n\t\t\t\tchildVNode._original\n\t\t\t);\n\t\t} else {\n\t\t\tchildVNode = newParentVNode._children[i] = childVNode;\n\t\t}\n\n\t\t// Terser removes the `continue` here and wraps the loop body\n\t\t// in a `if (childVNode) { ... } condition\n\t\tif (childVNode == null) {\n\t\t\toldVNode = oldChildren[i];\n\t\t\tif (oldVNode && oldVNode.key == null && oldVNode._dom) {\n\t\t\t\tif (oldVNode._dom == oldDom) {\n\t\t\t\t\toldDom = getDomSibling(oldVNode);\n\t\t\t\t}\n\n\t\t\t\tunmount(oldVNode, oldVNode, false);\n\t\t\t\toldChildren[i] = null;\n\t\t\t}\n\n\t\t\tcontinue;\n\t\t}\n\n\t\tchildVNode._parent = newParentVNode;\n\t\tchildVNode._depth = newParentVNode._depth + 1;\n\n\t\tlet skewedIndex = i + skew;\n\t\tconst matchingIndex = findMatchingIndex(\n\t\t\tchildVNode,\n\t\t\toldChildren,\n\t\t\tskewedIndex,\n\t\t\tremainingOldChildren\n\t\t);\n\n\t\tif (matchingIndex === -1) {\n\t\t\toldVNode = EMPTY_OBJ;\n\t\t} else {\n\t\t\toldVNode = oldChildren[matchingIndex] || EMPTY_OBJ;\n\t\t\toldChildren[matchingIndex] = undefined;\n\t\t\tremainingOldChildren--;\n\t\t}\n\n\t\t// Morph the old element into the new one, but don't append it to the dom yet\n\t\tdiff(\n\t\t\tparentDom,\n\t\t\tchildVNode,\n\t\t\toldVNode,\n\t\t\tglobalContext,\n\t\t\tisSvg,\n\t\t\texcessDomChildren,\n\t\t\tcommitQueue,\n\t\t\toldDom,\n\t\t\tisHydrating,\n\t\t\trefQueue\n\t\t);\n\n\t\tnewDom = childVNode._dom;\n\t\tif ((j = childVNode.ref) && oldVNode.ref != j) {\n\t\t\tif (oldVNode.ref) {\n\t\t\t\tapplyRef(oldVNode.ref, null, childVNode);\n\t\t\t}\n\t\t\trefQueue.push(j, childVNode._component || newDom, childVNode);\n\t\t}\n\n\t\tif (newDom != null) {\n\t\t\tif (firstChildDom == null) {\n\t\t\t\tfirstChildDom = newDom;\n\t\t\t}\n\n\t\t\tlet isMounting = oldVNode === EMPTY_OBJ || oldVNode._original === null;\n\t\t\tif (isMounting) {\n\t\t\t\tif (matchingIndex == -1) {\n\t\t\t\t\tskew--;\n\t\t\t\t}\n\t\t\t} else if (matchingIndex !== skewedIndex) {\n\t\t\t\tif (matchingIndex === skewedIndex + 1) {\n\t\t\t\t\tskew++;\n\t\t\t\t} else if (matchingIndex > skewedIndex) {\n\t\t\t\t\tif (remainingOldChildren > newChildrenLength - skewedIndex) {\n\t\t\t\t\t\tskew += matchingIndex - skewedIndex;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// ### Change from keyed: I think this was missing from the algo...\n\t\t\t\t\t\tskew--;\n\t\t\t\t\t}\n\t\t\t\t} else if (matchingIndex < skewedIndex) {\n\t\t\t\t\tif (matchingIndex == skewedIndex - 1) {\n\t\t\t\t\t\tskew = matchingIndex - skewedIndex;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tskew = 0;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tskew = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tskewedIndex = i + skew;\n\n\t\t\tif (\n\t\t\t\ttypeof childVNode.type == 'function' &&\n\t\t\t\t(matchingIndex !== skewedIndex ||\n\t\t\t\t\toldVNode._children === childVNode._children)\n\t\t\t) {\n\t\t\t\toldDom = reorderChildren(childVNode, oldDom, parentDom);\n\t\t\t} else if (\n\t\t\t\ttypeof childVNode.type != 'function' &&\n\t\t\t\t(matchingIndex !== skewedIndex || isMounting)\n\t\t\t) {\n\t\t\t\toldDom = placeChild(parentDom, newDom, oldDom);\n\t\t\t} else if (childVNode._nextDom !== undefined) {\n\t\t\t\t// Only Fragments or components that return Fragment like VNodes will\n\t\t\t\t// have a non-undefined _nextDom. Continue the diff from the sibling\n\t\t\t\t// of last DOM child of this child VNode\n\t\t\t\toldDom = childVNode._nextDom;\n\n\t\t\t\t// Eagerly cleanup _nextDom. We don't need to persist the value because\n\t\t\t\t// it is only used by `diffChildren` to determine where to resume the diff after\n\t\t\t\t// diffing Components and Fragments. Once we store it the nextDOM local var, we\n\t\t\t\t// can clean up the property\n\t\t\t\tchildVNode._nextDom = undefined;\n\t\t\t} else {\n\t\t\t\toldDom = newDom.nextSibling;\n\t\t\t}\n\n\t\t\tif (typeof newParentVNode.type == 'function') {\n\t\t\t\t// Because the newParentVNode is Fragment-like, we need to set it's\n\t\t\t\t// _nextDom property to the nextSibling of its last child DOM node.\n\t\t\t\t//\n\t\t\t\t// `oldDom` contains the correct value here because if the last child\n\t\t\t\t// is a Fragment-like, then oldDom has already been set to that child's _nextDom.\n\t\t\t\t// If the last child is a DOM VNode, then oldDom will be set to that DOM\n\t\t\t\t// node's nextSibling.\n\t\t\t\tnewParentVNode._nextDom = oldDom;\n\t\t\t}\n\t\t}\n\t}\n\n\tnewParentVNode._dom = firstChildDom;\n\n\t// Remove remaining oldChildren if there are any.\n\tfor (i = oldChildrenLength; i--; ) {\n\t\tif (oldChildren[i] != null) {\n\t\t\tif (\n\t\t\t\ttypeof newParentVNode.type == 'function' &&\n\t\t\t\toldChildren[i]._dom != null &&\n\t\t\t\toldChildren[i]._dom == newParentVNode._nextDom\n\t\t\t) {\n\t\t\t\t// If the newParentVNode.__nextDom points to a dom node that is about to\n\t\t\t\t// be unmounted, then get the next sibling of that vnode and set\n\t\t\t\t// _nextDom to it\n\n\t\t\t\tnewParentVNode._nextDom = oldChildren[i]._dom.nextSibling;\n\t\t\t}\n\n\t\t\tunmount(oldChildren[i], oldChildren[i]);\n\t\t}\n\t}\n}\n\nfunction reorderChildren(childVNode, oldDom, parentDom) {\n\t// Note: VNodes in nested suspended trees may be missing _children.\n\tlet c = childVNode._children;\n\n\tlet tmp = 0;\n\tfor (; c && tmp < c.length; tmp++) {\n\t\tlet vnode = c[tmp];\n\t\tif (vnode) {\n\t\t\t// We typically enter this code path on sCU bailout, where we copy\n\t\t\t// oldVNode._children to newVNode._children. If that is the case, we need\n\t\t\t// to update the old children's _parent pointer to point to the newVNode\n\t\t\t// (childVNode here).\n\t\t\tvnode._parent = childVNode;\n\n\t\t\tif (typeof vnode.type == 'function') {\n\t\t\t\toldDom = reorderChildren(vnode, oldDom, parentDom);\n\t\t\t} else {\n\t\t\t\toldDom = placeChild(parentDom, vnode._dom, oldDom);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn oldDom;\n}\n\n/**\n * Flatten and loop through the children of a virtual node\n * @param {import('../index').ComponentChildren} children The unflattened\n * children of a virtual node\n * @returns {import('../internal').VNode[]}\n */\nexport function toChildArray(children, out) {\n\tout = out || [];\n\tif (children == null || typeof children == 'boolean') {\n\t} else if (isArray(children)) {\n\t\tchildren.some(child => {\n\t\t\ttoChildArray(child, out);\n\t\t});\n\t} else {\n\t\tout.push(children);\n\t}\n\treturn out;\n}\n\nfunction placeChild(parentDom, newDom, oldDom) {\n\tif (oldDom == null || oldDom.parentNode !== parentDom) {\n\t\tparentDom.insertBefore(newDom, null);\n\t} else if (newDom != oldDom || newDom.parentNode == null) {\n\t\tparentDom.insertBefore(newDom, oldDom);\n\t}\n\n\treturn newDom.nextSibling;\n}\n\n/**\n * @param {import('../internal').VNode | string} childVNode\n * @param {import('../internal').VNode[]} oldChildren\n * @param {number} skewedIndex\n * @param {number} remainingOldChildren\n * @returns {number}\n */\nfunction findMatchingIndex(\n\tchildVNode,\n\toldChildren,\n\tskewedIndex,\n\tremainingOldChildren\n) {\n\tconst key = childVNode.key;\n\tconst type = childVNode.type;\n\tlet x = skewedIndex - 1;\n\tlet y = skewedIndex + 1;\n\tlet oldVNode = oldChildren[skewedIndex];\n\n\tif (\n\t\toldVNode === null ||\n\t\t(oldVNode && key == oldVNode.key && type === oldVNode.type)\n\t) {\n\t\treturn skewedIndex;\n\t} else if (remainingOldChildren > (oldVNode != null ? 1 : 0)) {\n\t\twhile (x >= 0 || y < oldChildren.length) {\n\t\t\tif (x >= 0) {\n\t\t\t\toldVNode = oldChildren[x];\n\t\t\t\tif (oldVNode && key == oldVNode.key && type === oldVNode.type) {\n\t\t\t\t\treturn x;\n\t\t\t\t}\n\t\t\t\tx--;\n\t\t\t}\n\n\t\t\tif (y < oldChildren.length) {\n\t\t\t\toldVNode = oldChildren[y];\n\t\t\t\tif (oldVNode && key == oldVNode.key && type === oldVNode.type) {\n\t\t\t\t\treturn y;\n\t\t\t\t}\n\t\t\t\ty++;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn -1;\n}\n","import { IS_NON_DIMENSIONAL } from '../constants';\nimport options from '../options';\n\n/**\n * Diff the old and new properties of a VNode and apply changes to the DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to apply\n * changes to\n * @param {object} newProps The new props\n * @param {object} oldProps The old props\n * @param {boolean} isSvg Whether or not this node is an SVG node\n * @param {boolean} hydrate Whether or not we are in hydration mode\n */\nexport function diffProps(dom, newProps, oldProps, isSvg, hydrate) {\n\tlet i;\n\n\tfor (i in oldProps) {\n\t\tif (i !== 'children' && i !== 'key' && !(i in newProps)) {\n\t\t\tsetProperty(dom, i, null, oldProps[i], isSvg);\n\t\t}\n\t}\n\n\tfor (i in newProps) {\n\t\tif (\n\t\t\t(!hydrate || typeof newProps[i] == 'function') &&\n\t\t\ti !== 'children' &&\n\t\t\ti !== 'key' &&\n\t\t\ti !== 'value' &&\n\t\t\ti !== 'checked' &&\n\t\t\toldProps[i] !== newProps[i]\n\t\t) {\n\t\t\tsetProperty(dom, i, newProps[i], oldProps[i], isSvg);\n\t\t}\n\t}\n}\n\nfunction setStyle(style, key, value) {\n\tif (key[0] === '-') {\n\t\tstyle.setProperty(key, value == null ? '' : value);\n\t} else if (value == null) {\n\t\tstyle[key] = '';\n\t} else if (typeof value != 'number' || IS_NON_DIMENSIONAL.test(key)) {\n\t\tstyle[key] = value;\n\t} else {\n\t\tstyle[key] = value + 'px';\n\t}\n}\n\n/**\n * Set a property value on a DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to modify\n * @param {string} name The name of the property to set\n * @param {*} value The value to set the property to\n * @param {*} oldValue The old value the property had\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node or not\n */\nexport function setProperty(dom, name, value, oldValue, isSvg) {\n\tlet useCapture;\n\n\to: if (name === 'style') {\n\t\tif (typeof value == 'string') {\n\t\t\tdom.style.cssText = value;\n\t\t} else {\n\t\t\tif (typeof oldValue == 'string') {\n\t\t\t\tdom.style.cssText = oldValue = '';\n\t\t\t}\n\n\t\t\tif (oldValue) {\n\t\t\t\tfor (name in oldValue) {\n\t\t\t\t\tif (!(value && name in value)) {\n\t\t\t\t\t\tsetStyle(dom.style, name, '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (value) {\n\t\t\t\tfor (name in value) {\n\t\t\t\t\tif (!oldValue || value[name] !== oldValue[name]) {\n\t\t\t\t\t\tsetStyle(dom.style, name, value[name]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// Benchmark for comparison: https://esbench.com/bench/574c954bdb965b9a00965ac6\n\telse if (name[0] === 'o' && name[1] === 'n') {\n\t\tuseCapture = name !== (name = name.replace(/(PointerCapture)$|Capture$/, '$1'));\n\n\t\t// Infer correct casing for DOM built-in events:\n\t\tif (name.toLowerCase() in dom) name = name.toLowerCase().slice(2);\n\t\telse name = name.slice(2);\n\n\t\tif (!dom._listeners) dom._listeners = {};\n\t\tdom._listeners[name + useCapture] = value;\n\n\t\tif (value) {\n\t\t\tif (!oldValue) {\n\t\t\t\tconst handler = useCapture ? eventProxyCapture : eventProxy;\n\t\t\t\tdom.addEventListener(name, handler, useCapture);\n\t\t\t}\n\t\t} else {\n\t\t\tconst handler = useCapture ? eventProxyCapture : eventProxy;\n\t\t\tdom.removeEventListener(name, handler, useCapture);\n\t\t}\n\t} else if (name !== 'dangerouslySetInnerHTML') {\n\t\tif (isSvg) {\n\t\t\t// Normalize incorrect prop usage for SVG:\n\t\t\t// - xlink:href / xlinkHref --> href (xlink:href was removed from SVG and isn't needed)\n\t\t\t// - className --> class\n\t\t\tname = name.replace(/xlink(H|:h)/, 'h').replace(/sName$/, 's');\n\t\t} else if (\n\t\t\tname !== 'width' &&\n\t\t\tname !== 'height' &&\n\t\t\tname !== 'href' &&\n\t\t\tname !== 'list' &&\n\t\t\tname !== 'form' &&\n\t\t\t// Default value in browsers is `-1` and an empty string is\n\t\t\t// cast to `0` instead\n\t\t\tname !== 'tabIndex' &&\n\t\t\tname !== 'download' &&\n\t\t\tname !== 'rowSpan' &&\n\t\t\tname !== 'colSpan' &&\n\t\t\tname in dom\n\t\t) {\n\t\t\ttry {\n\t\t\t\tdom[name] = value == null ? '' : value;\n\t\t\t\t// labelled break is 1b smaller here than a return statement (sorry)\n\t\t\t\tbreak o;\n\t\t\t} catch (e) {}\n\t\t}\n\n\t\t// aria- and data- attributes have no boolean representation.\n\t\t// A `false` value is different from the attribute not being\n\t\t// present, so we can't remove it. For non-boolean aria\n\t\t// attributes we could treat false as a removal, but the\n\t\t// amount of exceptions would cost too many bytes. On top of\n\t\t// that other frameworks generally stringify `false`.\n\n\t\tif (typeof value === 'function') {\n\t\t\t// never serialize functions as attribute values\n\t\t} else if (value != null && (value !== false || name[4] === '-')) {\n\t\t\tdom.setAttribute(name, value);\n\t\t} else {\n\t\t\tdom.removeAttribute(name);\n\t\t}\n\t}\n}\n\n/**\n * Proxy an event to hooked event handlers\n * @param {Event} e The event object from the browser\n * @private\n */\nfunction eventProxy(e) {\n\treturn this._listeners[e.type + false](options.event ? options.event(e) : e);\n}\n\nfunction eventProxyCapture(e) {\n\treturn this._listeners[e.type + true](options.event ? options.event(e) : e);\n}\n","import { EMPTY_OBJ } from '../constants';\nimport { Component, getDomSibling } from '../component';\nimport { Fragment } from '../create-element';\nimport { diffChildren } from './children';\nimport { diffProps, setProperty } from './props';\nimport { assign, isArray, removeNode, slice } from '../util';\nimport options from '../options';\n\n/**\n * Diff two virtual nodes and apply proper changes to the DOM\n * @param {import('../internal').PreactElement} parentDom The parent of the DOM element\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object. Modified by getChildContext\n * @param {boolean} isSvg Whether or not this element is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').PreactElement} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @param {Array<any>} refQueue an array of elements needed to invoke refs\n */\nexport function diff(\n\tparentDom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating,\n\trefQueue\n) {\n\tlet tmp,\n\t\tnewType = newVNode.type;\n\n\t// When passing through createElement it assigns the object\n\t// constructor as undefined. This to prevent JSON-injection.\n\tif (newVNode.constructor !== undefined) return null;\n\n\t// If the previous diff bailed out, resume creating/hydrating.\n\tif (oldVNode._hydrating != null) {\n\t\tisHydrating = oldVNode._hydrating;\n\t\toldDom = newVNode._dom = oldVNode._dom;\n\t\t// if we resume, we want the tree to be \"unlocked\"\n\t\tnewVNode._hydrating = null;\n\t\texcessDomChildren = [oldDom];\n\t}\n\n\tif ((tmp = options._diff)) tmp(newVNode);\n\n\touter: if (typeof newType == 'function') {\n\t\ttry {\n\t\t\tlet c, isNew, oldProps, oldState, snapshot, clearProcessingException;\n\t\t\tlet newProps = newVNode.props;\n\n\t\t\t// Necessary for createContext api. Setting this property will pass\n\t\t\t// the context value as `this.context` just for this component.\n\t\t\ttmp = newType.contextType;\n\t\t\tlet provider = tmp && globalContext[tmp._id];\n\t\t\tlet componentContext = tmp\n\t\t\t\t? provider\n\t\t\t\t\t? provider.props.value\n\t\t\t\t\t: tmp._defaultValue\n\t\t\t\t: globalContext;\n\n\t\t\t// Get component and set it to `c`\n\t\t\tif (oldVNode._component) {\n\t\t\t\tc = newVNode._component = oldVNode._component;\n\t\t\t\tclearProcessingException = c._processingException = c._pendingError;\n\t\t\t} else {\n\t\t\t\t// Instantiate the new component\n\t\t\t\tif ('prototype' in newType && newType.prototype.render) {\n\t\t\t\t\t// @ts-ignore The check above verifies that newType is suppose to be constructed\n\t\t\t\t\tnewVNode._component = c = new newType(newProps, componentContext); // eslint-disable-line new-cap\n\t\t\t\t} else {\n\t\t\t\t\t// @ts-ignore Trust me, Component implements the interface we want\n\t\t\t\t\tnewVNode._component = c = new Component(newProps, componentContext);\n\t\t\t\t\tc.constructor = newType;\n\t\t\t\t\tc.render = doRender;\n\t\t\t\t}\n\t\t\t\tif (provider) provider.sub(c);\n\n\t\t\t\tc.props = newProps;\n\t\t\t\tif (!c.state) c.state = {};\n\t\t\t\tc.context = componentContext;\n\t\t\t\tc._globalContext = globalContext;\n\t\t\t\tisNew = c._dirty = true;\n\t\t\t\tc._renderCallbacks = [];\n\t\t\t\tc._stateCallbacks = [];\n\t\t\t}\n\n\t\t\t// Invoke getDerivedStateFromProps\n\t\t\tif (c._nextState == null) {\n\t\t\t\tc._nextState = c.state;\n\t\t\t}\n\n\t\t\tif (newType.getDerivedStateFromProps != null) {\n\t\t\t\tif (c._nextState == c.state) {\n\t\t\t\t\tc._nextState = assign({}, c._nextState);\n\t\t\t\t}\n\n\t\t\t\tassign(\n\t\t\t\t\tc._nextState,\n\t\t\t\t\tnewType.getDerivedStateFromProps(newProps, c._nextState)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\toldProps = c.props;\n\t\t\toldState = c.state;\n\t\t\tc._vnode = newVNode;\n\n\t\t\t// Invoke pre-render lifecycle methods\n\t\t\tif (isNew) {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tc.componentWillMount != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillMount();\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidMount != null) {\n\t\t\t\t\tc._renderCallbacks.push(c.componentDidMount);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tnewProps !== oldProps &&\n\t\t\t\t\tc.componentWillReceiveProps != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillReceiveProps(newProps, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t!c._force &&\n\t\t\t\t\t((c.shouldComponentUpdate != null &&\n\t\t\t\t\t\tc.shouldComponentUpdate(\n\t\t\t\t\t\t\tnewProps,\n\t\t\t\t\t\t\tc._nextState,\n\t\t\t\t\t\t\tcomponentContext\n\t\t\t\t\t\t) === false) ||\n\t\t\t\t\t\tnewVNode._original === oldVNode._original)\n\t\t\t\t) {\n\t\t\t\t\t// More info about this here: https://gist.github.com/JoviDeCroock/bec5f2ce93544d2e6070ef8e0036e4e8\n\t\t\t\t\tif (newVNode._original !== oldVNode._original) {\n\t\t\t\t\t\t// When we are dealing with a bail because of sCU we have to update\n\t\t\t\t\t\t// the props, state and dirty-state.\n\t\t\t\t\t\t// when we are dealing with strict-equality we don't as the child could still\n\t\t\t\t\t\t// be dirtied see #3883\n\t\t\t\t\t\tc.props = newProps;\n\t\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t\t\tc._dirty = false;\n\t\t\t\t\t}\n\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t\tnewVNode._children.forEach(vnode => {\n\t\t\t\t\t\tif (vnode) vnode._parent = newVNode;\n\t\t\t\t\t});\n\n\t\t\t\t\tfor (let i = 0; i < c._stateCallbacks.length; i++) {\n\t\t\t\t\t\tc._renderCallbacks.push(c._stateCallbacks[i]);\n\t\t\t\t\t}\n\t\t\t\t\tc._stateCallbacks = [];\n\n\t\t\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\t\t\tcommitQueue.push(c);\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\n\t\t\t\tif (c.componentWillUpdate != null) {\n\t\t\t\t\tc.componentWillUpdate(newProps, c._nextState, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidUpdate != null) {\n\t\t\t\t\tc._renderCallbacks.push(() => {\n\t\t\t\t\t\tc.componentDidUpdate(oldProps, oldState, snapshot);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tc.context = componentContext;\n\t\t\tc.props = newProps;\n\t\t\tc._parentDom = parentDom;\n\t\t\tc._force = false;\n\n\t\t\tlet renderHook = options._render,\n\t\t\t\tcount = 0;\n\t\t\tif ('prototype' in newType && newType.prototype.render) {\n\t\t\t\tc.state = c._nextState;\n\t\t\t\tc._dirty = false;\n\n\t\t\t\tif (renderHook) renderHook(newVNode);\n\n\t\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t\tfor (let i = 0; i < c._stateCallbacks.length; i++) {\n\t\t\t\t\tc._renderCallbacks.push(c._stateCallbacks[i]);\n\t\t\t\t}\n\t\t\t\tc._stateCallbacks = [];\n\t\t\t} else {\n\t\t\t\tdo {\n\t\t\t\t\tc._dirty = false;\n\t\t\t\t\tif (renderHook) renderHook(newVNode);\n\n\t\t\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t\t\t// Handle setState called in render, see #2553\n\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t} while (c._dirty && ++count < 25);\n\t\t\t}\n\n\t\t\t// Handle setState called in render, see #2553\n\t\t\tc.state = c._nextState;\n\n\t\t\tif (c.getChildContext != null) {\n\t\t\t\tglobalContext = assign(assign({}, globalContext), c.getChildContext());\n\t\t\t}\n\n\t\t\tif (!isNew && c.getSnapshotBeforeUpdate != null) {\n\t\t\t\tsnapshot = c.getSnapshotBeforeUpdate(oldProps, oldState);\n\t\t\t}\n\n\t\t\tlet isTopLevelFragment =\n\t\t\t\ttmp != null && tmp.type === Fragment && tmp.key == null;\n\t\t\tlet renderResult = isTopLevelFragment ? tmp.props.children : tmp;\n\n\t\t\tdiffChildren(\n\t\t\t\tparentDom,\n\t\t\t\tisArray(renderResult) ? renderResult : [renderResult],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\toldDom,\n\t\t\t\tisHydrating,\n\t\t\t\trefQueue\n\t\t\t);\n\n\t\t\tc.base = newVNode._dom;\n\n\t\t\t// We successfully rendered this VNode, unset any stored hydration/bailout state:\n\t\t\tnewVNode._hydrating = null;\n\n\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\tcommitQueue.push(c);\n\t\t\t}\n\n\t\t\tif (clearProcessingException) {\n\t\t\t\tc._pendingError = c._processingException = null;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tnewVNode._original = null;\n\t\t\t// if hydrating or creating initial tree, bailout preserves DOM:\n\t\t\tif (isHydrating || excessDomChildren != null) {\n\t\t\t\tnewVNode._dom = oldDom;\n\t\t\t\tnewVNode._hydrating = !!isHydrating;\n\t\t\t\texcessDomChildren[excessDomChildren.indexOf(oldDom)] = null;\n\t\t\t\t// ^ could possibly be simplified to:\n\t\t\t\t// excessDomChildren.length = 0;\n\t\t\t}\n\t\t\toptions._catchError(e, newVNode, oldVNode);\n\t\t}\n\t} else if (\n\t\texcessDomChildren == null &&\n\t\tnewVNode._original === oldVNode._original\n\t) {\n\t\tnewVNode._children = oldVNode._children;\n\t\tnewVNode._dom = oldVNode._dom;\n\t} else {\n\t\tnewVNode._dom = diffElementNodes(\n\t\t\toldVNode._dom,\n\t\t\tnewVNode,\n\t\t\toldVNode,\n\t\t\tglobalContext,\n\t\t\tisSvg,\n\t\t\texcessDomChildren,\n\t\t\tcommitQueue,\n\t\t\tisHydrating,\n\t\t\trefQueue\n\t\t);\n\t}\n\n\tif ((tmp = options.diffed)) tmp(newVNode);\n}\n\n/**\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').VNode} root\n */\nexport function commitRoot(commitQueue, root, refQueue) {\n\tfor (let i = 0; i < refQueue.length; i++) {\n\t\tapplyRef(refQueue[i], refQueue[++i], refQueue[++i]);\n\t}\n\n\tif (options._commit) options._commit(root, commitQueue);\n\n\tcommitQueue.some(c => {\n\t\ttry {\n\t\t\t// @ts-ignore Reuse the commitQueue variable here so the type changes\n\t\t\tcommitQueue = c._renderCallbacks;\n\t\t\tc._renderCallbacks = [];\n\t\t\tcommitQueue.some(cb => {\n\t\t\t\t// @ts-ignore See above ts-ignore on commitQueue\n\t\t\t\tcb.call(c);\n\t\t\t});\n\t\t} catch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t});\n}\n\n/**\n * Diff two virtual nodes representing DOM element\n * @param {import('../internal').PreactElement} dom The DOM element representing\n * the virtual nodes being diffed\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {*} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @param {Array<any>} refQueue an array of elements needed to invoke refs\n * @returns {import('../internal').PreactElement}\n */\nfunction diffElementNodes(\n\tdom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\tisHydrating,\n\trefQueue\n) {\n\tlet oldProps = oldVNode.props;\n\tlet newProps = newVNode.props;\n\tlet nodeType = newVNode.type;\n\tlet i = 0;\n\n\t// Tracks entering and exiting SVG namespace when descending through the tree.\n\tif (nodeType === 'svg') isSvg = true;\n\n\tif (excessDomChildren != null) {\n\t\tfor (; i < excessDomChildren.length; i++) {\n\t\t\tconst child = excessDomChildren[i];\n\n\t\t\t// if newVNode matches an element in excessDomChildren or the `dom`\n\t\t\t// argument matches an element in excessDomChildren, remove it from\n\t\t\t// excessDomChildren so it isn't later removed in diffChildren\n\t\t\tif (\n\t\t\t\tchild &&\n\t\t\t\t'setAttribute' in child === !!nodeType &&\n\t\t\t\t(nodeType ? child.localName === nodeType : child.nodeType === 3)\n\t\t\t) {\n\t\t\t\tdom = child;\n\t\t\t\texcessDomChildren[i] = null;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (dom == null) {\n\t\tif (nodeType === null) {\n\t\t\t// @ts-ignore createTextNode returns Text, we expect PreactElement\n\t\t\treturn document.createTextNode(newProps);\n\t\t}\n\n\t\tif (isSvg) {\n\t\t\tdom = document.createElementNS(\n\t\t\t\t'http://www.w3.org/2000/svg',\n\t\t\t\t// @ts-ignore We know `newVNode.type` is a string\n\t\t\t\tnodeType\n\t\t\t);\n\t\t} else {\n\t\t\tdom = document.createElement(\n\t\t\t\t// @ts-ignore We know `newVNode.type` is a string\n\t\t\t\tnodeType,\n\t\t\t\tnewProps.is && newProps\n\t\t\t);\n\t\t}\n\n\t\t// we created a new parent, so none of the previously attached children can be reused:\n\t\texcessDomChildren = null;\n\t\t// we are creating a new node, so we can assume this is a new subtree (in case we are hydrating), this deopts the hydrate\n\t\tisHydrating = false;\n\t}\n\n\tif (nodeType === null) {\n\t\t// During hydration, we still have to split merged text from SSR'd HTML.\n\t\tif (oldProps !== newProps && (!isHydrating || dom.data !== newProps)) {\n\t\t\tdom.data = newProps;\n\t\t}\n\t} else {\n\t\t// If excessDomChildren was not null, repopulate it with the current element's children:\n\t\texcessDomChildren = excessDomChildren && slice.call(dom.childNodes);\n\n\t\toldProps = oldVNode.props || EMPTY_OBJ;\n\n\t\tlet oldHtml = oldProps.dangerouslySetInnerHTML;\n\t\tlet newHtml = newProps.dangerouslySetInnerHTML;\n\n\t\t// During hydration, props are not diffed at all (including dangerouslySetInnerHTML)\n\t\t// @TODO we should warn in debug mode when props don't match here.\n\t\tif (!isHydrating) {\n\t\t\t// But, if we are in a situation where we are using existing DOM (e.g. replaceNode)\n\t\t\t// we should read the existing DOM attributes to diff them\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\toldProps = {};\n\t\t\t\tfor (i = 0; i < dom.attributes.length; i++) {\n\t\t\t\t\toldProps[dom.attributes[i].name] = dom.attributes[i].value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (newHtml || oldHtml) {\n\t\t\t\t// Avoid re-applying the same '__html' if it did not changed between re-render\n\t\t\t\tif (\n\t\t\t\t\t!newHtml ||\n\t\t\t\t\t((!oldHtml || newHtml.__html != oldHtml.__html) &&\n\t\t\t\t\t\tnewHtml.__html !== dom.innerHTML)\n\t\t\t\t) {\n\t\t\t\t\tdom.innerHTML = (newHtml && newHtml.__html) || '';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tdiffProps(dom, newProps, oldProps, isSvg, isHydrating);\n\n\t\t// If the new vnode didn't have dangerouslySetInnerHTML, diff its children\n\t\tif (newHtml) {\n\t\t\tnewVNode._children = [];\n\t\t} else {\n\t\t\ti = newVNode.props.children;\n\t\t\tdiffChildren(\n\t\t\t\tdom,\n\t\t\t\tisArray(i) ? i : [i],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg && nodeType !== 'foreignObject',\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\texcessDomChildren\n\t\t\t\t\t? excessDomChildren[0]\n\t\t\t\t\t: oldVNode._children && getDomSibling(oldVNode, 0),\n\t\t\t\tisHydrating,\n\t\t\t\trefQueue\n\t\t\t);\n\n\t\t\t// Remove children that are not part of any vnode.\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\tfor (i = excessDomChildren.length; i--; ) {\n\t\t\t\t\tif (excessDomChildren[i] != null) removeNode(excessDomChildren[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// (as above, don't diff props during hydration)\n\t\tif (!isHydrating) {\n\t\t\tif (\n\t\t\t\t'value' in newProps &&\n\t\t\t\t(i = newProps.value) !== undefined &&\n\t\t\t\t// #2756 For the <progress>-element the initial value is 0,\n\t\t\t\t// despite the attribute not being present. When the attribute\n\t\t\t\t// is missing the progress bar is treated as indeterminate.\n\t\t\t\t// To fix that we'll always update it when it is 0 for progress elements\n\t\t\t\t(i !== dom.value ||\n\t\t\t\t\t(nodeType === 'progress' && !i) ||\n\t\t\t\t\t// This is only for IE 11 to fix <select> value not being updated.\n\t\t\t\t\t// To avoid a stale select value we need to set the option.value\n\t\t\t\t\t// again, which triggers IE11 to re-evaluate the select value\n\t\t\t\t\t(nodeType === 'option' && i !== oldProps.value))\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'value', i, oldProps.value, false);\n\t\t\t}\n\t\t\tif (\n\t\t\t\t'checked' in newProps &&\n\t\t\t\t(i = newProps.checked) !== undefined &&\n\t\t\t\ti !== dom.checked\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'checked', i, oldProps.checked, false);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n/**\n * Invoke or update a ref, depending on whether it is a function or object ref.\n * @param {object|function} ref\n * @param {any} value\n * @param {import('../internal').VNode} vnode\n */\nexport function applyRef(ref, value, vnode) {\n\ttry {\n\t\tif (typeof ref == 'function') ref(value);\n\t\telse ref.current = value;\n\t} catch (e) {\n\t\toptions._catchError(e, vnode);\n\t}\n}\n\n/**\n * Unmount a virtual node from the tree and apply DOM changes\n * @param {import('../internal').VNode} vnode The virtual node to unmount\n * @param {import('../internal').VNode} parentVNode The parent of the VNode that\n * initiated the unmount\n * @param {boolean} [skipRemove] Flag that indicates that a parent node of the\n * current element is already detached from the DOM.\n */\nexport function unmount(vnode, parentVNode, skipRemove) {\n\tlet r;\n\tif (options.unmount) options.unmount(vnode);\n\n\tif ((r = vnode.ref)) {\n\t\tif (!r.current || r.current === vnode._dom) {\n\t\t\tapplyRef(r, null, parentVNode);\n\t\t}\n\t}\n\n\tif ((r = vnode._component) != null) {\n\t\tif (r.componentWillUnmount) {\n\t\t\ttry {\n\t\t\t\tr.componentWillUnmount();\n\t\t\t} catch (e) {\n\t\t\t\toptions._catchError(e, parentVNode);\n\t\t\t}\n\t\t}\n\n\t\tr.base = r._parentDom = null;\n\t\tvnode._component = undefined;\n\t}\n\n\tif ((r = vnode._children)) {\n\t\tfor (let i = 0; i < r.length; i++) {\n\t\t\tif (r[i]) {\n\t\t\t\tunmount(\n\t\t\t\t\tr[i],\n\t\t\t\t\tparentVNode,\n\t\t\t\t\tskipRemove || typeof vnode.type !== 'function'\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tif (!skipRemove && vnode._dom != null) {\n\t\tremoveNode(vnode._dom);\n\t}\n\n\t// Must be set to `undefined` to properly clean up `_nextDom`\n\t// for which `null` is a valid value. See comment in `create-element.js`\n\tvnode._parent = vnode._dom = vnode._nextDom = undefined;\n}\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n","import { EMPTY_OBJ } from './constants';\nimport { commitRoot, diff } from './diff/index';\nimport { createElement, Fragment } from './create-element';\nimport options from './options';\nimport { slice } from './util';\n\n/**\n * Render a Preact virtual node into a DOM element\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * render into\n * @param {import('./internal').PreactElement | object} [replaceNode] Optional: Attempt to re-use an\n * existing DOM tree rooted at `replaceNode`\n */\nexport function render(vnode, parentDom, replaceNode) {\n\tif (options._root) options._root(vnode, parentDom);\n\n\t// We abuse the `replaceNode` parameter in `hydrate()` to signal if we are in\n\t// hydration mode or not by passing the `hydrate` function instead of a DOM\n\t// element..\n\tlet isHydrating = typeof replaceNode === 'function';\n\n\t// To be able to support calling `render()` multiple times on the same\n\t// DOM node, we need to obtain a reference to the previous tree. We do\n\t// this by assigning a new `_children` property to DOM nodes which points\n\t// to the last rendered tree. By default this property is not present, which\n\t// means that we are mounting a new tree for the first time.\n\tlet oldVNode = isHydrating\n\t\t? null\n\t\t: (replaceNode && replaceNode._children) || parentDom._children;\n\n\tvnode = ((!isHydrating && replaceNode) || parentDom)._children =\n\t\tcreateElement(Fragment, null, [vnode]);\n\n\t// List of effects that need to be called after diffing.\n\tlet commitQueue = [],\n\t\trefQueue = [];\n\tdiff(\n\t\tparentDom,\n\t\t// Determine the new vnode tree and store it on the DOM element on\n\t\t// our custom `_children` property.\n\t\tvnode,\n\t\toldVNode || EMPTY_OBJ,\n\t\tEMPTY_OBJ,\n\t\tparentDom.ownerSVGElement !== undefined,\n\t\t!isHydrating && replaceNode\n\t\t\t? [replaceNode]\n\t\t\t: oldVNode\n\t\t\t? null\n\t\t\t: parentDom.firstChild\n\t\t\t? slice.call(parentDom.childNodes)\n\t\t\t: null,\n\t\tcommitQueue,\n\t\t!isHydrating && replaceNode\n\t\t\t? replaceNode\n\t\t\t: oldVNode\n\t\t\t? oldVNode._dom\n\t\t\t: parentDom.firstChild,\n\t\tisHydrating,\n\t\trefQueue\n\t);\n\n\t// Flush all queued effects\n\tcommitRoot(commitQueue, vnode, refQueue);\n}\n\n/**\n * Update an existing DOM element with data from a Preact virtual node\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * update\n */\nexport function hydrate(vnode, parentDom) {\n\trender(vnode, parentDom, hydrate);\n}\n","import { assign, slice } from './util';\nimport { createVNode } from './create-element';\n\n/**\n * Clones the given VNode, optionally adding attributes/props and replacing its children.\n * @param {import('./internal').VNode} vnode The virtual DOM element to clone\n * @param {object} props Attributes/props to add when cloning\n * @param {Array<import('./internal').ComponentChildren>} rest Any additional arguments will be used as replacement children.\n * @returns {import('./internal').VNode}\n */\nexport function cloneElement(vnode, props, children) {\n\tlet normalizedProps = assign({}, vnode.props),\n\t\tkey,\n\t\tref,\n\t\ti;\n\n\tlet defaultProps;\n\n\tif (vnode.type && vnode.type.defaultProps) {\n\t\tdefaultProps = vnode.type.defaultProps;\n\t}\n\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse if (props[i] === undefined && defaultProps !== undefined) {\n\t\t\tnormalizedProps[i] = defaultProps[i];\n\t\t} else {\n\t\t\tnormalizedProps[i] = props[i];\n\t\t}\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\treturn createVNode(\n\t\tvnode.type,\n\t\tnormalizedProps,\n\t\tkey || vnode.key,\n\t\tref || vnode.ref,\n\t\tnull\n\t);\n}\n","/**\n * Find the closest error boundary to a thrown error and call it\n * @param {object} error The thrown value\n * @param {import('../internal').VNode} vnode The vnode that threw\n * the error that was caught (except for unmounting when this parameter\n * is the highest parent that was being unmounted)\n * @param {import('../internal').VNode} [oldVNode]\n * @param {import('../internal').ErrorInfo} [errorInfo]\n */\nexport function _catchError(error, vnode, oldVNode, errorInfo) {\n\t/** @type {import('../internal').Component} */\n\tlet component, ctor, handled;\n\n\tfor (; (vnode = vnode._parent); ) {\n\t\tif ((component = vnode._component) && !component._processingException) {\n\t\t\ttry {\n\t\t\t\tctor = component.constructor;\n\n\t\t\t\tif (ctor && ctor.getDerivedStateFromError != null) {\n\t\t\t\t\tcomponent.setState(ctor.getDerivedStateFromError(error));\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\tif (component.componentDidCatch != null) {\n\t\t\t\t\tcomponent.componentDidCatch(error, errorInfo || {});\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\t// This is an error boundary. Mark it as having bailed out, and whether it was mid-hydration.\n\t\t\t\tif (handled) {\n\t\t\t\t\treturn (component._pendingError = component);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\terror = e;\n\t\t\t}\n\t\t}\n\t}\n\n\tthrow error;\n}\n","import { h } from \"preact\";\nimport { http, api, me, notifications, bookmarks_utils, router } from \"/src/core\";\nimport {\n  Login,\n  Public,\n  PasswordReset,\n  Signup,\n  StopNotificationEmails\n} from \"/src/outside\";\nimport { MessageParent } from \"/src/message\";\nimport { GroupWriter } from \"/src/writer\";\nimport { CreateGroup, GroupBoard, Share, BookmarkBoard, RandomMessage } from \"/src/pages\";\nimport { Settings } from \"/src/settings\";\nimport { GroupSearchWrapper } from \"/src/navbar\";\nimport {\n  Navigate,\n  Routes,\n  Route,\n  useNavigate,\n  useLocation,\n} from \"react-router-dom\";\nimport { useEffect } from \"preact/hooks\";\n\nfunction App() {\n\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  const toggleDropdowns = e => {\n    if (!e.target.closest(\".dropdown\")) {\n      // close dropdowns if we are clicking on something else\n      document.querySelectorAll(\".dropdown\").forEach(n => n.classList.remove(\"active\"));\n    } else {\n      // close dropdowns that are not clicked on\n      document\n        .querySelectorAll(\".dropdown\")\n        .forEach(n => {\n          if(n != e.target.closest(\".dropdown\")) {\n            n.classList.remove(\"active\");\n          }\n        });\n    }\n  };\n\n  // initial load\n  useEffect(() => {\n    // this test is here to ensure that 'api' gets loaded before\n    // this may come from a transpilation issue with parceljs\n    if(api && typeof api.update === 'function') {\n      api.update();\n    } else {\n      console.error('Could not use api.update()');\n    }\n    notifications.update();\n    bookmarks_utils.update();\n\n    // manage dropdowns\n    window.addEventListener(\"click\", e => toggleDropdowns(e));\n    return () => {\n      window.removeEventListener(\"click\", e => toggleDropdowns(e));\n    };\n  });\n\n  me.fetch().then(user => {\n    if (location.pathname == \"/\") {\n      let redirect = \"/login\";\n      if (user) {\n        redirect = \"/create-group\";\n        if (user.data?.default_group) {\n          redirect = `/groups/${user?.data[\"default_group\"]}`;\n        } else if (user?.groups[0]) {\n          redirect = `/groups/${user?.groups[0].id}`;\n        }\n      }\n      navigate(redirect);\n    }\n\n    if (location.pathname.match(/^\\/invitation/)) {\n      if (user) {\n        http.post(`/api/groups/invitation/${router.id}`, {}).then(() => {\n          navigate(\"/\");\n        });\n      } else {\n        navigate(`/signup?inviteKey=${router.id}`);\n      }\n    }\n\n    if (!router.isOutside() && !user) {\n      navigate(\"/login\");\n    }\n  });\n\n  return (\n    <Routes>\n      <Route path=\"/password-reset\" element={<PasswordReset />} />\n      <Route path=\"/public/:token\" element={<Public />} />\n      <Route path=\"/share\" element={<Share />} />\n      <Route path=\"/signup\" element={<Signup />} />\n      <Route path=\"/stop-notification-emails\" element={<StopNotificationEmails />} />\n      <Route path=\"/login\" element={<Login />} />\n      <Route path=\"/logout\" element={<Navigate replace to=\"/login\" />} />\n      <Route path=\"/:type/:id/settings\" element={<Settings />} />\n      <Route path=\"/bookmarks\" element={<BookmarkBoard />} />\n      <Route path=\"/create-group\" element={<CreateGroup />} />\n      <Route path=\"/groups/:id\" element={<GroupBoard />} />\n      <Route path=\"/groups/:id/random\" element={<RandomMessage />} />\n      <Route path=\"/groups/:id/search\" element={<GroupSearchWrapper />} />\n      <Route path=\"/groups/:id/write\" element={<GroupWriter />} />\n      <Route path=\"/messages/:id\" element={<MessageParent />} />\n      <Route path=\"/messages/:id/:child_id\" element={<MessageParent />} />\n    </Routes>\n  );\n}\n\nexport default App;\n","import _alert from \"./alert.js\";\nimport _api from \"./api.js\";\nimport _http from \"./http.js\";\nimport { lang as _lang, i18n as _i18n } from \"./lang.js\";\nimport _me from \"./me.js\";\nimport _notifications from \"./notifications.js\";\nimport _bookmarks_utils from \"./bookmarks_utils.js\";\nimport _router from \"./router.js\";\nimport _storage from \"./storage.js\";\nimport _util from \"./util.js\";\n\nexport const alert = _alert;\nexport const api = _api;\nexport const http = _http;\nexport const lang = _lang;\nexport const i18n = _i18n;\nexport const me = _me;\nexport const notifications = _notifications;\nexport const bookmarks_utils = _bookmarks_utils;\nexport const router = _router;\nexport const storage = _storage;\nexport const util = _util;\n","const alert = {\n  remove: id => (document.getElementById(id).outerHTML = \"\"),\n  add: (text, alertStyle = \"alert-success\", countdown = 5000) => {\n    if (!text) {\n      return;\n    }\n    let alertNode = document.createElement(\"DIV\");\n    alertNode.id = alert.hash(text);\n    alertNode.innerHTML = text;\n    alertNode.classList.add(\"global-alert\", \"alert\", alertStyle);\n    document.body.appendChild(alertNode);\n    setTimeout(() => alert.remove(alertNode.id), countdown);\n  },\n  hash: str => {\n    let hash = 0;\n    if (str.length == 0) {\n      return hash;\n    }\n    for (let i = 0; i < str.length; i++) {\n      let char = str.charCodeAt(i);\n      hash = (hash << 5) - hash + char;\n      hash = hash & hash; // Convert to 32bit integer\n    }\n    return hash;\n  }\n};\nexport default alert;\n","import http from \"./http.js\";\nimport store from \"/src/store\";\n\nconst api = {\n  get info() {\n    return store.get()?.api;\n  },\n  update: () =>\n    http.get(\"/api/info\", true).then(r => {\n      if (!r) {\n        return;\n      }\n      store.dispatch(\"api/update\", Object.assign({}, r));\n      setTimeout(dispatchEvent(new CustomEvent(\"apiStateChange\")));\n      return r;\n    }),\n};\nexport default api;\n","import alert from \"./alert.js\";\nimport storage from \"./storage.js\";\nimport util from \"./util.js\";\n\nconst http = {\n  sendFile: (formData, loadFn, progressFn = null, errorFn = null) => {\n    return storage\n      .get(\"apiKey\")\n      .then(apiKey => {\n        let xhr = new XMLHttpRequest();\n        xhr.open(\"POST\", `${document.baseURI}api/files`, true);\n        xhr.setRequestHeader(\"X-AUTH-TOKEN\", apiKey);\n        xhr.addEventListener(\"load\", e => {\n          if (e.target.status > 199 && e.target.status < 300) {\n            loadFn(JSON.parse(e.target.response));\n          } else if (errorFn) {\n            errorFn(e.target.statusText);\n          } else {\n            console.error(e.target.statusText);\n          }\n        });\n        if (progressFn) {\n          xhr.upload.onprogress = e =>\n            progressFn({ loaded: e.loaded, total: e.total });\n        }\n        if (errorFn) {\n          xhr.addEventListener(\"error\", e => errorFn(e));\n        }\n        xhr.send(formData);\n      })\n      .catch(error => alert.add(error, \"alert-danger\"));\n  },\n  get: (url, nocache = false, delay = 0) => {\n    return storage\n      .get(\"apiKey\")\n      .then(x => new Promise(resolve => setTimeout(() => resolve(x), delay)))\n      .then(apiKey => {\n        url = util.toApp(url);\n        if (!url) {\n          return;\n        }\n        let h = {};\n        if (apiKey) {\n          h[\"X-AUTH-TOKEN\"] = apiKey;\n        }\n        if (nocache) {\n          h[\"X-NOCACHE\"] = \"nocache\";\n        }\n        return fetch(url, {\n          method: \"GET\",\n          headers: new Headers(h)\n        })\n          .then(res => res.ok && res.json())\n          .catch(err => console.warn(`ERROR for ${url}`, err));\n      })\n      .catch(error => alert.add(error, \"alert-danger\"));\n  },\n  post: (url, data, delay = 0, contentType = \"application/json\") =>\n    http.request(url, data, \"POST\", delay, contentType),\n  put: (url, data, delay = 0, contentType = \"application/json\") =>\n    http.request(url, data, \"PUT\", delay, contentType),\n  delete: (url, data, delay = 0, contentType = \"application/json\") =>\n    http.request(url, null, \"DELETE\", delay, contentType),\n  request: (url, data, method, delay = 0, contentType = \"application/json\") => {\n    return storage\n      .get(\"apiKey\")\n      .then(x => new Promise(resolve => setTimeout(() => resolve(x), delay)))\n      .then(apiKey => {\n        url = util.toApp(url);\n        if (!url) {\n          return;\n        }\n        let h = {};\n        if (apiKey) {\n          h[\"X-AUTH-TOKEN\"] = apiKey;\n        }\n        if (contentType) {\n          h[\"Content-type\"] = contentType;\n        }\n        let fetchOptions = {\n          method,\n          headers: new Headers(h)\n        };\n        if (data) {\n          fetchOptions.body =\n            typeof data == \"object\" && data.constructor.name == \"Object\"\n              ? JSON.stringify(data)\n              : data;\n        }\n        return fetch(url, fetchOptions)\n          .then(res => {\n            try {\n              if (method != \"DELETE\") {\n                return res.json();\n              }\n              return {};\n            } catch (exception) {\n              console.warn(exception.message);\n              return Promise.reject(exception.message);\n            }\n          })\n          .catch(err => console.warn(`ERROR for ${url}`, err));\n      })\n      .catch(error => alert.add(error, \"alert-danger\"));\n  }\n};\nexport default http;\n","const storage = {\n  usage: () => {\n    let total = 0;\n    let k;\n    for (k in localStorage) {\n      if (Object.prototype.hasOwnProperty.call(localStorage, k)) {\n        total += (localStorage[k].length + k.length) * 2;\n      }\n    }\n    return total;\n  },\n  createStorageBox: (data, metadata = null) => ({\n    data,\n    createdAt: Date.now(),\n    metadata\n  }),\n  remove: id => localStorage.removeItem(id),\n  set: (id, data, metadata = null) => {\n    localStorage.setItem(\n      id,\n      JSON.stringify(storage.createStorageBox(data, metadata))\n    );\n    return Promise.resolve(id);\n  },\n  get: id => {\n    let data = localStorage.getItem(id);\n    if (data != null) {\n      data = JSON.parse(data);\n      if (Object.prototype.hasOwnProperty.call(data, \"data\")) {\n        return new Promise(r => r(data.data));\n      }\n    }\n    return new Promise(r => r(null));\n  },\n  reset: () =>\n    localStorage.clear() &&\n    window.dispatchEvent(new CustomEvent(\"resetStorage\"))\n};\nexport default storage;\n","import { i18n } from \"./lang.js\";\n// Stateless utilities\n// Should be agnostic of other components of zusam if possible\n\nconst util = {\n  // check if the input is a valid URL\n  isValidUrl: url => {\n    try {\n      new URL(url);\n      return true;\n    } catch (_) {\n      return false;\n    }\n  },\n  limitLength: (string, size = 20) => {\n    return [\n      ...string.split(\"\").slice(0, Math.floor(size/2)),\n      string.length > size ? \"...\" : \"\",\n      ...string.split(\"\").slice(Math.floor(size/2)).slice(Math.floor(size/2) * -1)].join(\"\");\n  },\n  escapeRegex: string => {\n    return string.replace(/[-/\\\\^$*+?.()|[\\]{}]/g, \"\\\\$&\");\n  },\n  getSubpath: () => new URL(document.baseURI).pathname.replace(/\\/$/, \"\"),\n  // toApp transforms an api url into an \"app\" url that the user can naviate to\n  toApp: url => {\n    if (!url || typeof url != \"string\") {\n      return \"\";\n    }\n    if (util.isValidUrl(url)) {\n      return url;\n    }\n    return location.origin + util.getSubpath() + url;\n  },\n  // genId starts with a letter to be DOM friendly\n  // seed can be used to order ids\n  // TODO improve using ideas from ai/nanoid\n  genId: seed => `z${seed || \"\"}-${Date.now().toString().slice(-5)}${Math.random().toString().slice(-5)}`,\n  // transform an id into int for the API (TODO: revisit this on 0.5)\n  id2Int: id => parseInt(id.replace(/[^\\d]/g,\"\"), 10),\n  urlRegExp: /(\\([^()]*)?https?:\\/\\/[^[\\]\\n\\r ]*[-A-Za-z0-9+&@#/%=~_()|]/i,\n  getUrl: txt => {\n    if (!txt) {\n      return \"\";\n    }\n    let url = txt.match(util.urlRegExp);\n    if (url && url[0].startsWith(\"(\")) {\n      let link = url[0].match(/https?:\\/\\//i);\n      url[\"index\"] += link[\"index\"];\n      url[0] = url[0].slice(link[\"index\"]);\n      if (url[0].endsWith(\")\")) {\n        url[0] = url[0].slice(0, -1);\n      }\n    }\n    return url;\n  },\n  limitStrSize: (str, limit) => str.length > limit ? `${str.slice(0, limit-3)}...` : str,\n  // full datetime as a string adapted to the users timezone\n  humanFullDate: timestamp => {\n    if (!timestamp) {\n      return \"\";\n    }\n    let d = new Date(timestamp * 1000);\n    d = new Date(d.getTime() + d.getTimezoneOffset() * 60000 * -1);\n    return d.toISOString().replace(\"T\", \" \").replace(/\\..*$/, \"\");\n  },\n  // duration relative to event\n  humanTime: timestamp => {\n    if (!timestamp) {\n      return null;\n    }\n    const duration = Math.abs(Math.round((Date.now() / 1000 - timestamp) / 60));\n    if (duration < 1) {\n      return i18n.t(\"just_now\");\n    }\n    if (duration < 60) {\n      return i18n.t(\"ago\", { duration: `${duration  }mn` });\n    }\n    if (duration < 60 * 24) {\n      return i18n.t(\"ago\", { duration: `${Math.floor(duration / 60)  }h` });\n    }\n    return util.humanFullDate(timestamp).split(\" \")[0];\n  },\n  // get the id of an object from an url\n  getId: e => {\n    switch (typeof e) {\n    case \"object\":\n      return e ? e.id : null;\n    case \"string\":\n      return e\n        .split(\"/\")\n        .pop()\n        .replace(/\\?.*$/, \"\")\n        .replace(/\\.\\w+$/, \"\");\n    default:\n      console.error(e);\n      throw \"Could not extract id !\";\n    }\n  },\n  // get the url to a thubmnail\n  thumbnail: (id, width, height = 99999) =>\n    typeof(id) == \"string\" && !id.startsWith(\"z\")\n      ? util.toApp(`/api/images/thumbnail/${width}/${height}/${id}`)\n      : null,\n  // same as http.thumbnail but for a crop\n  crop: (id, width, height) =>\n    typeof(id) == \"string\" && !id.startsWith(\"z\")\n      ? util.toApp(`/api/images/crop/${width}/${height}/${id}`)\n      : null,\n  // default avatar in base64\n  defaultAvatar:\n    \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAABlBMVEUAAAD///+l2Z/dAAAAAnRSTlMA/iyWEiMAAAMJSURBVHja7ZtBjpwwEEWxmIhFFmiURZZEyi6HCLkZHCXr2eQKHIUjoEiRSGRRiWB6klaDU/hDF4z+W6LuNz3+ZRvbkCSEEEIIIYQQQgghhBBCCCGEEEIIITvwGfy+kxoTpNJigkw6TJBLjwkK8ZiglMFYUInAAqwQRKRBBR0q8FhXEKwVR0GLCvxCjeo6oyzkoIxnEvj5661acPO3yvFqpxdcV+Pj88VeNZ7cGB4ul1QFkv399KT4KBIpmGEwF4i9oL6DIN/3FzToL2ju8AvsBeE2aNFfQMFJBCkF0/R+bkHyCgSVuaDcVaC5zyvMBTkqyHYVaBZDKSpw5oJgLcMC5doXFBSoIMNutjcQBHJULmlhQYUKlmNQbs9kqGC5P2o3FqBBOVjMWkEOdcZQKam3dyqkkgP/g35zxmEpLhbjir0ZFz2tXHgbPR5deI+EMPKmig/hhU/fIkOYL4iYDbIyqpCXajp2Zy4yhNuxqUfbMCaEIraQZ9swJgQBQ0jBQr6eYXrzQrYIYdtC9uaFbDKayJajyTkL+VijyWA+mnBajGpDeFrMzAu5BNvwKoQBDaFHQ+jQEBo0hBoMYUBD8GgIHRpCi44mcAiJRQhoITvzQs63LGQxL2SOJnEhiHUI296bwNOixb1JYr5kz8yX7Odf6XDfBC9kd6yVzq+np69QIY/8AEJ45kt0T4hIM0VONm5CiLlVhLflS+CwdTGEVa2AnfOFTogaVAAfcg1QivpqzLFHD4LnrR0q8FAhqlux3PPUu0EFLSrooL6kLeaQwKMCTY4OfUjVoY+IOvTxSFiw81NtnbmgRwXeXDAg08IxBPIKBPX5BQ0FBxC0+wtSCg4gcBT853nruwiqfQXNHQT/LDiGD9Old6sEL2umn3MtqxDks9NotVbwfaG+FDfL6fznsjV32365cTXrtqoPdJKYrbmreIDvT42DCMYoIUEu4FvIKSpwgr6JvYEAfJm8QgUl+j58gb6Rn4Nvcv/p0jUmcODr8IQQQgghhBBCCCGEEEIIIYQQQgghs/wGp6uYgtiKODIAAAAASUVORK5CYII=\",\n  hash: str =>\n    str.split(\"\").reduce((a, c) => ((a << 5) - a + c.charCodeAt()) | 0),\n  colorHash: str =>\n    [\n      \"#000000\",\n      \"#333366\",\n      \"#333399\",\n      \"#3333CC\",\n      \"#339933\",\n      \"#339999\",\n      \"#33CC33\",\n      \"#33CC99\",\n      \"#663333\",\n      \"#663366\",\n      \"#666633\",\n      \"#666699\",\n      \"#66CC33\",\n      \"#66CCCC\",\n      \"#993333\",\n      \"#993366\",\n      \"#993399\",\n      \"#996633\",\n      \"#999966\",\n      \"#CC3333\",\n      \"#CC3366\",\n      \"#CC3399\",\n      \"#CC33CC\",\n      \"#CC6633\",\n      \"#CC9933\",\n      \"#CC99CC\",\n      \"#CCCC33\"\n    ][Math.abs(util.hash(str)) % 27],\n  backgroundHash: str => {\n    if (!str) {\n      return \"background-color: #aaa;\";\n    }\n    let c1 = util.colorHash(str);\n    let c2 = util.colorHash(\n      str\n        .split(\"\")\n        .reverse()\n        .join(\".\")\n    );\n    let deg = 45 * (Math.abs(util.hash(str)) % 4);\n    return (\n      `background-color:${c1};background-image:linear-gradient(${deg}deg, ${c2} 15%, transparent 15% 30%, ${c2} 30% 45%, transparent 45% 60%, ${c2} 60% 75%, transparent 75% 90%, ${c2} 90%);`\n    );\n  },\n  // Accepts a keydown event and checks if it's enter. Compatibility between browsers\n  // We do it the permissive way\n  is_it_enter: e => {\n    return e.keyCode == 13 || e.keyCode == 10 || e.key == \"Enter\" || e.key == \"\" || e.code == \"Enter\";\n  },\n  getVersion: () => (document.querySelector(\"meta[name='zusam:version']\") || {}).content || \"unknown\",\n  getWidthBreakpoint: () => {\n    if (window.innerWidth > 1800)\n      return 1800;\n    if (window.innerWidth > 1400)\n      return 1400;\n    if (window.innerWidth > 992)\n      return 992;\n    if (window.innerWidth > 768)\n      return 768;\n    if (window.innerWidth > 576)\n      return 576;\n    return window.innerWidth;\n  },\n};\nexport default util;\n","import me from \"./me.js\";\nimport i18n from \"i18next\";\nimport { initReactI18next } from \"react-i18next\";\n\nimport en from \"/src/lang/en.json\";\nimport es from \"/src/lang/es.json\";\nimport fr from \"/src/lang/fr.json\";\nimport nl from \"/src/lang/nl.json\";\nimport sk from \"/src/lang/sk.json\";\n\nconst lang = {\n  possibleLang: {\n    en: \"English\",\n    es: \"Espaol\",\n    fr: \"Franais\",\n    nl: \"Nederlands\",\n    sk: \"Slovensk\",\n  }, // possible dicts names to load\n  getDefaultLang: () =>\n    (document.querySelector(\"meta[name='zusam:default-lang']\") || {}).content ||\n    \"en\",\n  getCurrentLang: () => me.lang || lang.getDefaultLang(),\n};\n\ni18n.use(initReactI18next).init({\n  resources: {\n    en: {\n      translation: en\n    },\n    fr: {\n      translation: fr\n    },\n    sk: {\n      translation: sk\n    },\n    es: {\n      translation: es\n    },\n    nl: {\n      translation: nl\n    },\n  },\n  lng: lang.getCurrentLang(), // if you're using a language detector, do not define the lng option\n  fallbackLng: lang.getDefaultLang(),\n  interpolation: {\n    escapeValue: false // react already safes from xss => https://www.i18next.com/translation-function/interpolation#unescape\n  }\n});\n\nexport { lang, i18n };\n","import http from \"./http.js\";\nimport storage from \"./storage.js\";\nimport store from \"/src/store\";\nimport i18n from \"i18next\";\n\nconst me = {\n\n  get() {\n    return store.get()?.me;\n  },\n\n  get data() {\n    return store.get()?.me?.data;\n  },\n\n  get lang() {\n    return store.get()?.me?.data?.lang;\n  },\n\n  get groups() {\n    return store.get()?.me?.groups;\n  },\n\n  get id() {\n    return store.get()?.me?.id;\n  },\n\n  get avatar() {\n    return store.get()?.me?.avatar;\n  },\n\n  getGroupName(id) {\n    let group = store.get()[\"groups\"]?.find(g => g[\"id\"] == id);\n    return group ? group[\"name\"] : \"\";\n  },\n\n  update() {\n    return http.get(\"/api/me\", true).then(r => {\n      if (!r || !r?.id) {\n        store.dispatch(\"update\", {});\n        return;\n      }\n      Promise.all(r.groups.map(g => http.get(`/api/groups/${g.id}`).then(group => group))).then(\n        groups => {\n          r.groups = groups;\n          store.dispatch(\"me/update\", Object.assign({loaded: true}, r));\n        }\n      );\n      i18n.changeLanguage(r?.data?.lang);\n      return r;\n    });\n  },\n\n  fetch() {\n    if (store.get()[\"loaded\"]) {\n      return new Promise(r => r(store.get()));\n    }\n    return me.update();\n  },\n\n  reset() {\n    store.dispatch(\"@init\");\n  },\n\n  logout() {\n    storage.reset();\n  }\n};\n\nexport default me;\n","import { createStoreon } from \"storeon\";\n//import { crossTab } from '@storeon/crosstab';\n\nimport { meStore } from \"./me.js\";\nimport { apiStore } from \"./api.js\";\nimport { routerStore } from \"./router.js\";\nimport { notificationsStore } from \"./notifications.js\";\nimport { bookmarksStore } from \"./bookmarks.js\";\n\nconst store = createStoreon([apiStore, meStore, routerStore, notificationsStore, bookmarksStore]);\nexport default store;\n","let createStoreon = modules => {\n  let events = {}\n  let state = {}\n\n  let store = {\n    dispatch(event, data) {\n      if (event !== '@dispatch') {\n        store.dispatch('@dispatch', [event, data, events[event]])\n      }\n\n      if (events[event]) {\n        let changes\n        events[event].forEach(i => {\n          let diff = events[event].includes(i) && i(state, data, store)\n          if (diff && typeof diff.then !== 'function') {\n            state = { ...state, ...diff }\n            changes = { ...changes, ...diff }\n          }\n        })\n        if (changes) store.dispatch('@changed', changes)\n      }\n    },\n\n    get: () => state,\n\n    on(event, cb) {\n      ;(events[event] || (events[event] = [])).push(cb)\n\n      return () => {\n        events[event] = events[event].filter(i => i !== cb)\n      }\n    }\n  }\n\n  modules.forEach(i => {\n    if (i) i(store)\n  })\n  store.dispatch('@init')\n\n  return store\n}\n\nexport { createStoreon }\n","//import { http } from \"/src/core\";\n\nexport const meStore = store => {\n  store.on(\"@init\", () => ({me: {}}));\n\n  store.on(\"me/update\", (state, me) => {\n    return {me};\n  });\n};\n","export const apiStore = store => {\n  store.on(\"@init\", () => ({api: {}}));\n\n  store.on(\"api/update\", (state, api) => {\n    return {api};\n  });\n};\n","export const routerStore = store => {\n  store.on(\"@init\", () => ({\n    route: \"\",\n    id: \"\",\n    action: \"\",\n    backUrl: \"\",\n    entityType: \"\",\n    search: \"\",\n    entity: {},\n  }));\n\n  store.on(\"router/update\", (_, newState) => {\n    return {\n      entity: newState.entity,\n      backUrl: newState.backUrl,\n    };\n  });\n};\n","export const notificationsStore = store => {\n  store.on(\"@init\", () => ({notifications:[]}));\n\n  store.on(\"notifications/update\", (state, notifications = []) => {\n    return {notifications};\n  });\n\n  store.on(\"notifications/remove\", (state, notification) => {\n    return {\n      notifications: state.notifications.filter(n => n.id != notification.id)\n    };\n  });\n\n  store.on(\"notifications/read\", (state, notification) => {\n    return {\n      notifications: state.notifications.map(n => n.id === notification.id ? Object.assign(n, {read: true}) : n)\n    };\n  });\n};\n","import { http } from \"/src/core\";\n\nexport const bookmarksStore = store => {\n  store.on(\"@init\", () => ({bookmarks:[]}));\n\n  store.on(\"bookmarks/update\", (state, bookmarks = []) => {\n    return {bookmarks};\n  });\n\n  store.on(\"bookmark/remove\", (state, bookmark) => {\n    http.delete(`/api/bookmarks/${bookmark.id}`);\n    return {\n      bookmarks: state.bookmarks.filter(b => b.id != bookmark.id)\n    };\n  });\n\n  store.on(\"bookmark/add\", (state, message_id) => {\n    http.post(\"/api/bookmarks\", {message_id}).then(bookmark => {\n      store.dispatch(\"bookmarks/update\", [...state.bookmarks, bookmark]);\n    });\n  });\n};\n","const consoleLogger = {\n  type: 'logger',\n  log(args) {\n    this.output('log', args);\n  },\n  warn(args) {\n    this.output('warn', args);\n  },\n  error(args) {\n    this.output('error', args);\n  },\n  output(type, args) {\n    if (console && console[type]) console[type].apply(console, args);\n  }\n};\nclass Logger {\n  constructor(concreteLogger) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    this.init(concreteLogger, options);\n  }\n  init(concreteLogger) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    this.prefix = options.prefix || 'i18next:';\n    this.logger = concreteLogger || consoleLogger;\n    this.options = options;\n    this.debug = options.debug;\n  }\n  log() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    return this.forward(args, 'log', '', true);\n  }\n  warn() {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n    return this.forward(args, 'warn', '', true);\n  }\n  error() {\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n    return this.forward(args, 'error', '');\n  }\n  deprecate() {\n    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n    return this.forward(args, 'warn', 'WARNING DEPRECATED: ', true);\n  }\n  forward(args, lvl, prefix, debugOnly) {\n    if (debugOnly && !this.debug) return null;\n    if (typeof args[0] === 'string') args[0] = `${prefix}${this.prefix} ${args[0]}`;\n    return this.logger[lvl](args);\n  }\n  create(moduleName) {\n    return new Logger(this.logger, {\n      ...{\n        prefix: `${this.prefix}:${moduleName}:`\n      },\n      ...this.options\n    });\n  }\n  clone(options) {\n    options = options || this.options;\n    options.prefix = options.prefix || this.prefix;\n    return new Logger(this.logger, options);\n  }\n}\nvar baseLogger = new Logger();\n\nclass EventEmitter {\n  constructor() {\n    this.observers = {};\n  }\n  on(events, listener) {\n    events.split(' ').forEach(event => {\n      this.observers[event] = this.observers[event] || [];\n      this.observers[event].push(listener);\n    });\n    return this;\n  }\n  off(event, listener) {\n    if (!this.observers[event]) return;\n    if (!listener) {\n      delete this.observers[event];\n      return;\n    }\n    this.observers[event] = this.observers[event].filter(l => l !== listener);\n  }\n  emit(event) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    if (this.observers[event]) {\n      const cloned = [].concat(this.observers[event]);\n      cloned.forEach(observer => {\n        observer(...args);\n      });\n    }\n    if (this.observers['*']) {\n      const cloned = [].concat(this.observers['*']);\n      cloned.forEach(observer => {\n        observer.apply(observer, [event, ...args]);\n      });\n    }\n  }\n}\n\nfunction defer() {\n  let res;\n  let rej;\n  const promise = new Promise((resolve, reject) => {\n    res = resolve;\n    rej = reject;\n  });\n  promise.resolve = res;\n  promise.reject = rej;\n  return promise;\n}\nfunction makeString(object) {\n  if (object == null) return '';\n  return '' + object;\n}\nfunction copy(a, s, t) {\n  a.forEach(m => {\n    if (s[m]) t[m] = s[m];\n  });\n}\nfunction getLastOfPath(object, path, Empty) {\n  function cleanKey(key) {\n    return key && key.indexOf('###') > -1 ? key.replace(/###/g, '.') : key;\n  }\n  function canNotTraverseDeeper() {\n    return !object || typeof object === 'string';\n  }\n  const stack = typeof path !== 'string' ? [].concat(path) : path.split('.');\n  while (stack.length > 1) {\n    if (canNotTraverseDeeper()) return {};\n    const key = cleanKey(stack.shift());\n    if (!object[key] && Empty) object[key] = new Empty();\n    if (Object.prototype.hasOwnProperty.call(object, key)) {\n      object = object[key];\n    } else {\n      object = {};\n    }\n  }\n  if (canNotTraverseDeeper()) return {};\n  return {\n    obj: object,\n    k: cleanKey(stack.shift())\n  };\n}\nfunction setPath(object, path, newValue) {\n  const {\n    obj,\n    k\n  } = getLastOfPath(object, path, Object);\n  obj[k] = newValue;\n}\nfunction pushPath(object, path, newValue, concat) {\n  const {\n    obj,\n    k\n  } = getLastOfPath(object, path, Object);\n  obj[k] = obj[k] || [];\n  if (concat) obj[k] = obj[k].concat(newValue);\n  if (!concat) obj[k].push(newValue);\n}\nfunction getPath(object, path) {\n  const {\n    obj,\n    k\n  } = getLastOfPath(object, path);\n  if (!obj) return undefined;\n  return obj[k];\n}\nfunction getPathWithDefaults(data, defaultData, key) {\n  const value = getPath(data, key);\n  if (value !== undefined) {\n    return value;\n  }\n  return getPath(defaultData, key);\n}\nfunction deepExtend(target, source, overwrite) {\n  for (const prop in source) {\n    if (prop !== '__proto__' && prop !== 'constructor') {\n      if (prop in target) {\n        if (typeof target[prop] === 'string' || target[prop] instanceof String || typeof source[prop] === 'string' || source[prop] instanceof String) {\n          if (overwrite) target[prop] = source[prop];\n        } else {\n          deepExtend(target[prop], source[prop], overwrite);\n        }\n      } else {\n        target[prop] = source[prop];\n      }\n    }\n  }\n  return target;\n}\nfunction regexEscape(str) {\n  return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n}\nvar _entityMap = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;',\n  '/': '&#x2F;'\n};\nfunction escape(data) {\n  if (typeof data === 'string') {\n    return data.replace(/[&<>\"'\\/]/g, s => _entityMap[s]);\n  }\n  return data;\n}\nconst chars = [' ', ',', '?', '!', ';'];\nfunction looksLikeObjectPath(key, nsSeparator, keySeparator) {\n  nsSeparator = nsSeparator || '';\n  keySeparator = keySeparator || '';\n  const possibleChars = chars.filter(c => nsSeparator.indexOf(c) < 0 && keySeparator.indexOf(c) < 0);\n  if (possibleChars.length === 0) return true;\n  const r = new RegExp(`(${possibleChars.map(c => c === '?' ? '\\\\?' : c).join('|')})`);\n  let matched = !r.test(key);\n  if (!matched) {\n    const ki = key.indexOf(keySeparator);\n    if (ki > 0 && !r.test(key.substring(0, ki))) {\n      matched = true;\n    }\n  }\n  return matched;\n}\nfunction deepFind(obj, path) {\n  let keySeparator = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '.';\n  if (!obj) return undefined;\n  if (obj[path]) return obj[path];\n  const paths = path.split(keySeparator);\n  let current = obj;\n  for (let i = 0; i < paths.length; ++i) {\n    if (!current) return undefined;\n    if (typeof current[paths[i]] === 'string' && i + 1 < paths.length) {\n      return undefined;\n    }\n    if (current[paths[i]] === undefined) {\n      let j = 2;\n      let p = paths.slice(i, i + j).join(keySeparator);\n      let mix = current[p];\n      while (mix === undefined && paths.length > i + j) {\n        j++;\n        p = paths.slice(i, i + j).join(keySeparator);\n        mix = current[p];\n      }\n      if (mix === undefined) return undefined;\n      if (mix === null) return null;\n      if (path.endsWith(p)) {\n        if (typeof mix === 'string') return mix;\n        if (p && typeof mix[p] === 'string') return mix[p];\n      }\n      const joinedPath = paths.slice(i + j).join(keySeparator);\n      if (joinedPath) return deepFind(mix, joinedPath, keySeparator);\n      return undefined;\n    }\n    current = current[paths[i]];\n  }\n  return current;\n}\nfunction getCleanedCode(code) {\n  if (code && code.indexOf('_') > 0) return code.replace('_', '-');\n  return code;\n}\n\nclass ResourceStore extends EventEmitter {\n  constructor(data) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      ns: ['translation'],\n      defaultNS: 'translation'\n    };\n    super();\n    this.data = data || {};\n    this.options = options;\n    if (this.options.keySeparator === undefined) {\n      this.options.keySeparator = '.';\n    }\n    if (this.options.ignoreJSONStructure === undefined) {\n      this.options.ignoreJSONStructure = true;\n    }\n  }\n  addNamespaces(ns) {\n    if (this.options.ns.indexOf(ns) < 0) {\n      this.options.ns.push(ns);\n    }\n  }\n  removeNamespaces(ns) {\n    const index = this.options.ns.indexOf(ns);\n    if (index > -1) {\n      this.options.ns.splice(index, 1);\n    }\n  }\n  getResource(lng, ns, key) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n    const ignoreJSONStructure = options.ignoreJSONStructure !== undefined ? options.ignoreJSONStructure : this.options.ignoreJSONStructure;\n    let path = [lng, ns];\n    if (key && typeof key !== 'string') path = path.concat(key);\n    if (key && typeof key === 'string') path = path.concat(keySeparator ? key.split(keySeparator) : key);\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n    }\n    const result = getPath(this.data, path);\n    if (result || !ignoreJSONStructure || typeof key !== 'string') return result;\n    return deepFind(this.data && this.data[lng] && this.data[lng][ns], key, keySeparator);\n  }\n  addResource(lng, ns, key, value) {\n    let options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {\n      silent: false\n    };\n    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n    let path = [lng, ns];\n    if (key) path = path.concat(keySeparator ? key.split(keySeparator) : key);\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n      value = ns;\n      ns = path[1];\n    }\n    this.addNamespaces(ns);\n    setPath(this.data, path, value);\n    if (!options.silent) this.emit('added', lng, ns, key, value);\n  }\n  addResources(lng, ns, resources) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {\n      silent: false\n    };\n    for (const m in resources) {\n      if (typeof resources[m] === 'string' || Object.prototype.toString.apply(resources[m]) === '[object Array]') this.addResource(lng, ns, m, resources[m], {\n        silent: true\n      });\n    }\n    if (!options.silent) this.emit('added', lng, ns, resources);\n  }\n  addResourceBundle(lng, ns, resources, deep, overwrite) {\n    let options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {\n      silent: false\n    };\n    let path = [lng, ns];\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n      deep = resources;\n      resources = ns;\n      ns = path[1];\n    }\n    this.addNamespaces(ns);\n    let pack = getPath(this.data, path) || {};\n    if (deep) {\n      deepExtend(pack, resources, overwrite);\n    } else {\n      pack = {\n        ...pack,\n        ...resources\n      };\n    }\n    setPath(this.data, path, pack);\n    if (!options.silent) this.emit('added', lng, ns, resources);\n  }\n  removeResourceBundle(lng, ns) {\n    if (this.hasResourceBundle(lng, ns)) {\n      delete this.data[lng][ns];\n    }\n    this.removeNamespaces(ns);\n    this.emit('removed', lng, ns);\n  }\n  hasResourceBundle(lng, ns) {\n    return this.getResource(lng, ns) !== undefined;\n  }\n  getResourceBundle(lng, ns) {\n    if (!ns) ns = this.options.defaultNS;\n    if (this.options.compatibilityAPI === 'v1') return {\n      ...{},\n      ...this.getResource(lng, ns)\n    };\n    return this.getResource(lng, ns);\n  }\n  getDataByLanguage(lng) {\n    return this.data[lng];\n  }\n  hasLanguageSomeTranslations(lng) {\n    const data = this.getDataByLanguage(lng);\n    const n = data && Object.keys(data) || [];\n    return !!n.find(v => data[v] && Object.keys(data[v]).length > 0);\n  }\n  toJSON() {\n    return this.data;\n  }\n}\n\nvar postProcessor = {\n  processors: {},\n  addPostProcessor(module) {\n    this.processors[module.name] = module;\n  },\n  handle(processors, value, key, options, translator) {\n    processors.forEach(processor => {\n      if (this.processors[processor]) value = this.processors[processor].process(value, key, options, translator);\n    });\n    return value;\n  }\n};\n\nconst checkedLoadedFor = {};\nclass Translator extends EventEmitter {\n  constructor(services) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    super();\n    copy(['resourceStore', 'languageUtils', 'pluralResolver', 'interpolator', 'backendConnector', 'i18nFormat', 'utils'], services, this);\n    this.options = options;\n    if (this.options.keySeparator === undefined) {\n      this.options.keySeparator = '.';\n    }\n    this.logger = baseLogger.create('translator');\n  }\n  changeLanguage(lng) {\n    if (lng) this.language = lng;\n  }\n  exists(key) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      interpolation: {}\n    };\n    if (key === undefined || key === null) {\n      return false;\n    }\n    const resolved = this.resolve(key, options);\n    return resolved && resolved.res !== undefined;\n  }\n  extractFromKey(key, options) {\n    let nsSeparator = options.nsSeparator !== undefined ? options.nsSeparator : this.options.nsSeparator;\n    if (nsSeparator === undefined) nsSeparator = ':';\n    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n    let namespaces = options.ns || this.options.defaultNS || [];\n    const wouldCheckForNsInKey = nsSeparator && key.indexOf(nsSeparator) > -1;\n    const seemsNaturalLanguage = !this.options.userDefinedKeySeparator && !options.keySeparator && !this.options.userDefinedNsSeparator && !options.nsSeparator && !looksLikeObjectPath(key, nsSeparator, keySeparator);\n    if (wouldCheckForNsInKey && !seemsNaturalLanguage) {\n      const m = key.match(this.interpolator.nestingRegexp);\n      if (m && m.length > 0) {\n        return {\n          key,\n          namespaces\n        };\n      }\n      const parts = key.split(nsSeparator);\n      if (nsSeparator !== keySeparator || nsSeparator === keySeparator && this.options.ns.indexOf(parts[0]) > -1) namespaces = parts.shift();\n      key = parts.join(keySeparator);\n    }\n    if (typeof namespaces === 'string') namespaces = [namespaces];\n    return {\n      key,\n      namespaces\n    };\n  }\n  translate(keys, options, lastKey) {\n    if (typeof options !== 'object' && this.options.overloadTranslationOptionHandler) {\n      options = this.options.overloadTranslationOptionHandler(arguments);\n    }\n    if (typeof options === 'object') options = {\n      ...options\n    };\n    if (!options) options = {};\n    if (keys === undefined || keys === null) return '';\n    if (!Array.isArray(keys)) keys = [String(keys)];\n    const returnDetails = options.returnDetails !== undefined ? options.returnDetails : this.options.returnDetails;\n    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n    const {\n      key,\n      namespaces\n    } = this.extractFromKey(keys[keys.length - 1], options);\n    const namespace = namespaces[namespaces.length - 1];\n    const lng = options.lng || this.language;\n    const appendNamespaceToCIMode = options.appendNamespaceToCIMode || this.options.appendNamespaceToCIMode;\n    if (lng && lng.toLowerCase() === 'cimode') {\n      if (appendNamespaceToCIMode) {\n        const nsSeparator = options.nsSeparator || this.options.nsSeparator;\n        if (returnDetails) {\n          return {\n            res: `${namespace}${nsSeparator}${key}`,\n            usedKey: key,\n            exactUsedKey: key,\n            usedLng: lng,\n            usedNS: namespace\n          };\n        }\n        return `${namespace}${nsSeparator}${key}`;\n      }\n      if (returnDetails) {\n        return {\n          res: key,\n          usedKey: key,\n          exactUsedKey: key,\n          usedLng: lng,\n          usedNS: namespace\n        };\n      }\n      return key;\n    }\n    const resolved = this.resolve(keys, options);\n    let res = resolved && resolved.res;\n    const resUsedKey = resolved && resolved.usedKey || key;\n    const resExactUsedKey = resolved && resolved.exactUsedKey || key;\n    const resType = Object.prototype.toString.apply(res);\n    const noObject = ['[object Number]', '[object Function]', '[object RegExp]'];\n    const joinArrays = options.joinArrays !== undefined ? options.joinArrays : this.options.joinArrays;\n    const handleAsObjectInI18nFormat = !this.i18nFormat || this.i18nFormat.handleAsObject;\n    const handleAsObject = typeof res !== 'string' && typeof res !== 'boolean' && typeof res !== 'number';\n    if (handleAsObjectInI18nFormat && res && handleAsObject && noObject.indexOf(resType) < 0 && !(typeof joinArrays === 'string' && resType === '[object Array]')) {\n      if (!options.returnObjects && !this.options.returnObjects) {\n        if (!this.options.returnedObjectHandler) {\n          this.logger.warn('accessing an object - but returnObjects options is not enabled!');\n        }\n        const r = this.options.returnedObjectHandler ? this.options.returnedObjectHandler(resUsedKey, res, {\n          ...options,\n          ns: namespaces\n        }) : `key '${key} (${this.language})' returned an object instead of string.`;\n        if (returnDetails) {\n          resolved.res = r;\n          return resolved;\n        }\n        return r;\n      }\n      if (keySeparator) {\n        const resTypeIsArray = resType === '[object Array]';\n        const copy = resTypeIsArray ? [] : {};\n        const newKeyToUse = resTypeIsArray ? resExactUsedKey : resUsedKey;\n        for (const m in res) {\n          if (Object.prototype.hasOwnProperty.call(res, m)) {\n            const deepKey = `${newKeyToUse}${keySeparator}${m}`;\n            copy[m] = this.translate(deepKey, {\n              ...options,\n              ...{\n                joinArrays: false,\n                ns: namespaces\n              }\n            });\n            if (copy[m] === deepKey) copy[m] = res[m];\n          }\n        }\n        res = copy;\n      }\n    } else if (handleAsObjectInI18nFormat && typeof joinArrays === 'string' && resType === '[object Array]') {\n      res = res.join(joinArrays);\n      if (res) res = this.extendTranslation(res, keys, options, lastKey);\n    } else {\n      let usedDefault = false;\n      let usedKey = false;\n      const needsPluralHandling = options.count !== undefined && typeof options.count !== 'string';\n      const hasDefaultValue = Translator.hasDefaultValue(options);\n      const defaultValueSuffix = needsPluralHandling ? this.pluralResolver.getSuffix(lng, options.count, options) : '';\n      const defaultValueSuffixOrdinalFallback = options.ordinal && needsPluralHandling ? this.pluralResolver.getSuffix(lng, options.count, {\n        ordinal: false\n      }) : '';\n      const defaultValue = options[`defaultValue${defaultValueSuffix}`] || options[`defaultValue${defaultValueSuffixOrdinalFallback}`] || options.defaultValue;\n      if (!this.isValidLookup(res) && hasDefaultValue) {\n        usedDefault = true;\n        res = defaultValue;\n      }\n      if (!this.isValidLookup(res)) {\n        usedKey = true;\n        res = key;\n      }\n      const missingKeyNoValueFallbackToKey = options.missingKeyNoValueFallbackToKey || this.options.missingKeyNoValueFallbackToKey;\n      const resForMissing = missingKeyNoValueFallbackToKey && usedKey ? undefined : res;\n      const updateMissing = hasDefaultValue && defaultValue !== res && this.options.updateMissing;\n      if (usedKey || usedDefault || updateMissing) {\n        this.logger.log(updateMissing ? 'updateKey' : 'missingKey', lng, namespace, key, updateMissing ? defaultValue : res);\n        if (keySeparator) {\n          const fk = this.resolve(key, {\n            ...options,\n            keySeparator: false\n          });\n          if (fk && fk.res) this.logger.warn('Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.');\n        }\n        let lngs = [];\n        const fallbackLngs = this.languageUtils.getFallbackCodes(this.options.fallbackLng, options.lng || this.language);\n        if (this.options.saveMissingTo === 'fallback' && fallbackLngs && fallbackLngs[0]) {\n          for (let i = 0; i < fallbackLngs.length; i++) {\n            lngs.push(fallbackLngs[i]);\n          }\n        } else if (this.options.saveMissingTo === 'all') {\n          lngs = this.languageUtils.toResolveHierarchy(options.lng || this.language);\n        } else {\n          lngs.push(options.lng || this.language);\n        }\n        const send = (l, k, specificDefaultValue) => {\n          const defaultForMissing = hasDefaultValue && specificDefaultValue !== res ? specificDefaultValue : resForMissing;\n          if (this.options.missingKeyHandler) {\n            this.options.missingKeyHandler(l, namespace, k, defaultForMissing, updateMissing, options);\n          } else if (this.backendConnector && this.backendConnector.saveMissing) {\n            this.backendConnector.saveMissing(l, namespace, k, defaultForMissing, updateMissing, options);\n          }\n          this.emit('missingKey', l, namespace, k, res);\n        };\n        if (this.options.saveMissing) {\n          if (this.options.saveMissingPlurals && needsPluralHandling) {\n            lngs.forEach(language => {\n              this.pluralResolver.getSuffixes(language, options).forEach(suffix => {\n                send([language], key + suffix, options[`defaultValue${suffix}`] || defaultValue);\n              });\n            });\n          } else {\n            send(lngs, key, defaultValue);\n          }\n        }\n      }\n      res = this.extendTranslation(res, keys, options, resolved, lastKey);\n      if (usedKey && res === key && this.options.appendNamespaceToMissingKey) res = `${namespace}:${key}`;\n      if ((usedKey || usedDefault) && this.options.parseMissingKeyHandler) {\n        if (this.options.compatibilityAPI !== 'v1') {\n          res = this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey ? `${namespace}:${key}` : key, usedDefault ? res : undefined);\n        } else {\n          res = this.options.parseMissingKeyHandler(res);\n        }\n      }\n    }\n    if (returnDetails) {\n      resolved.res = res;\n      return resolved;\n    }\n    return res;\n  }\n  extendTranslation(res, key, options, resolved, lastKey) {\n    var _this = this;\n    if (this.i18nFormat && this.i18nFormat.parse) {\n      res = this.i18nFormat.parse(res, {\n        ...this.options.interpolation.defaultVariables,\n        ...options\n      }, options.lng || this.language || resolved.usedLng, resolved.usedNS, resolved.usedKey, {\n        resolved\n      });\n    } else if (!options.skipInterpolation) {\n      if (options.interpolation) this.interpolator.init({\n        ...options,\n        ...{\n          interpolation: {\n            ...this.options.interpolation,\n            ...options.interpolation\n          }\n        }\n      });\n      const skipOnVariables = typeof res === 'string' && (options && options.interpolation && options.interpolation.skipOnVariables !== undefined ? options.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables);\n      let nestBef;\n      if (skipOnVariables) {\n        const nb = res.match(this.interpolator.nestingRegexp);\n        nestBef = nb && nb.length;\n      }\n      let data = options.replace && typeof options.replace !== 'string' ? options.replace : options;\n      if (this.options.interpolation.defaultVariables) data = {\n        ...this.options.interpolation.defaultVariables,\n        ...data\n      };\n      res = this.interpolator.interpolate(res, data, options.lng || this.language, options);\n      if (skipOnVariables) {\n        const na = res.match(this.interpolator.nestingRegexp);\n        const nestAft = na && na.length;\n        if (nestBef < nestAft) options.nest = false;\n      }\n      if (!options.lng && this.options.compatibilityAPI !== 'v1' && resolved && resolved.res) options.lng = resolved.usedLng;\n      if (options.nest !== false) res = this.interpolator.nest(res, function () {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n        if (lastKey && lastKey[0] === args[0] && !options.context) {\n          _this.logger.warn(`It seems you are nesting recursively key: ${args[0]} in key: ${key[0]}`);\n          return null;\n        }\n        return _this.translate(...args, key);\n      }, options);\n      if (options.interpolation) this.interpolator.reset();\n    }\n    const postProcess = options.postProcess || this.options.postProcess;\n    const postProcessorNames = typeof postProcess === 'string' ? [postProcess] : postProcess;\n    if (res !== undefined && res !== null && postProcessorNames && postProcessorNames.length && options.applyPostProcessor !== false) {\n      res = postProcessor.handle(postProcessorNames, res, key, this.options && this.options.postProcessPassResolved ? {\n        i18nResolved: resolved,\n        ...options\n      } : options, this);\n    }\n    return res;\n  }\n  resolve(keys) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let found;\n    let usedKey;\n    let exactUsedKey;\n    let usedLng;\n    let usedNS;\n    if (typeof keys === 'string') keys = [keys];\n    keys.forEach(k => {\n      if (this.isValidLookup(found)) return;\n      const extracted = this.extractFromKey(k, options);\n      const key = extracted.key;\n      usedKey = key;\n      let namespaces = extracted.namespaces;\n      if (this.options.fallbackNS) namespaces = namespaces.concat(this.options.fallbackNS);\n      const needsPluralHandling = options.count !== undefined && typeof options.count !== 'string';\n      const needsZeroSuffixLookup = needsPluralHandling && !options.ordinal && options.count === 0 && this.pluralResolver.shouldUseIntlApi();\n      const needsContextHandling = options.context !== undefined && (typeof options.context === 'string' || typeof options.context === 'number') && options.context !== '';\n      const codes = options.lngs ? options.lngs : this.languageUtils.toResolveHierarchy(options.lng || this.language, options.fallbackLng);\n      namespaces.forEach(ns => {\n        if (this.isValidLookup(found)) return;\n        usedNS = ns;\n        if (!checkedLoadedFor[`${codes[0]}-${ns}`] && this.utils && this.utils.hasLoadedNamespace && !this.utils.hasLoadedNamespace(usedNS)) {\n          checkedLoadedFor[`${codes[0]}-${ns}`] = true;\n          this.logger.warn(`key \"${usedKey}\" for languages \"${codes.join(', ')}\" won't get resolved as namespace \"${usedNS}\" was not yet loaded`, 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');\n        }\n        codes.forEach(code => {\n          if (this.isValidLookup(found)) return;\n          usedLng = code;\n          const finalKeys = [key];\n          if (this.i18nFormat && this.i18nFormat.addLookupKeys) {\n            this.i18nFormat.addLookupKeys(finalKeys, key, code, ns, options);\n          } else {\n            let pluralSuffix;\n            if (needsPluralHandling) pluralSuffix = this.pluralResolver.getSuffix(code, options.count, options);\n            const zeroSuffix = `${this.options.pluralSeparator}zero`;\n            const ordinalPrefix = `${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;\n            if (needsPluralHandling) {\n              finalKeys.push(key + pluralSuffix);\n              if (options.ordinal && pluralSuffix.indexOf(ordinalPrefix) === 0) {\n                finalKeys.push(key + pluralSuffix.replace(ordinalPrefix, this.options.pluralSeparator));\n              }\n              if (needsZeroSuffixLookup) {\n                finalKeys.push(key + zeroSuffix);\n              }\n            }\n            if (needsContextHandling) {\n              const contextKey = `${key}${this.options.contextSeparator}${options.context}`;\n              finalKeys.push(contextKey);\n              if (needsPluralHandling) {\n                finalKeys.push(contextKey + pluralSuffix);\n                if (options.ordinal && pluralSuffix.indexOf(ordinalPrefix) === 0) {\n                  finalKeys.push(contextKey + pluralSuffix.replace(ordinalPrefix, this.options.pluralSeparator));\n                }\n                if (needsZeroSuffixLookup) {\n                  finalKeys.push(contextKey + zeroSuffix);\n                }\n              }\n            }\n          }\n          let possibleKey;\n          while (possibleKey = finalKeys.pop()) {\n            if (!this.isValidLookup(found)) {\n              exactUsedKey = possibleKey;\n              found = this.getResource(code, ns, possibleKey, options);\n            }\n          }\n        });\n      });\n    });\n    return {\n      res: found,\n      usedKey,\n      exactUsedKey,\n      usedLng,\n      usedNS\n    };\n  }\n  isValidLookup(res) {\n    return res !== undefined && !(!this.options.returnNull && res === null) && !(!this.options.returnEmptyString && res === '');\n  }\n  getResource(code, ns, key) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    if (this.i18nFormat && this.i18nFormat.getResource) return this.i18nFormat.getResource(code, ns, key, options);\n    return this.resourceStore.getResource(code, ns, key, options);\n  }\n  static hasDefaultValue(options) {\n    const prefix = 'defaultValue';\n    for (const option in options) {\n      if (Object.prototype.hasOwnProperty.call(options, option) && prefix === option.substring(0, prefix.length) && undefined !== options[option]) {\n        return true;\n      }\n    }\n    return false;\n  }\n}\n\nfunction capitalize(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\nclass LanguageUtil {\n  constructor(options) {\n    this.options = options;\n    this.supportedLngs = this.options.supportedLngs || false;\n    this.logger = baseLogger.create('languageUtils');\n  }\n  getScriptPartFromCode(code) {\n    code = getCleanedCode(code);\n    if (!code || code.indexOf('-') < 0) return null;\n    const p = code.split('-');\n    if (p.length === 2) return null;\n    p.pop();\n    if (p[p.length - 1].toLowerCase() === 'x') return null;\n    return this.formatLanguageCode(p.join('-'));\n  }\n  getLanguagePartFromCode(code) {\n    code = getCleanedCode(code);\n    if (!code || code.indexOf('-') < 0) return code;\n    const p = code.split('-');\n    return this.formatLanguageCode(p[0]);\n  }\n  formatLanguageCode(code) {\n    if (typeof code === 'string' && code.indexOf('-') > -1) {\n      const specialCases = ['hans', 'hant', 'latn', 'cyrl', 'cans', 'mong', 'arab'];\n      let p = code.split('-');\n      if (this.options.lowerCaseLng) {\n        p = p.map(part => part.toLowerCase());\n      } else if (p.length === 2) {\n        p[0] = p[0].toLowerCase();\n        p[1] = p[1].toUpperCase();\n        if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());\n      } else if (p.length === 3) {\n        p[0] = p[0].toLowerCase();\n        if (p[1].length === 2) p[1] = p[1].toUpperCase();\n        if (p[0] !== 'sgn' && p[2].length === 2) p[2] = p[2].toUpperCase();\n        if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());\n        if (specialCases.indexOf(p[2].toLowerCase()) > -1) p[2] = capitalize(p[2].toLowerCase());\n      }\n      return p.join('-');\n    }\n    return this.options.cleanCode || this.options.lowerCaseLng ? code.toLowerCase() : code;\n  }\n  isSupportedCode(code) {\n    if (this.options.load === 'languageOnly' || this.options.nonExplicitSupportedLngs) {\n      code = this.getLanguagePartFromCode(code);\n    }\n    return !this.supportedLngs || !this.supportedLngs.length || this.supportedLngs.indexOf(code) > -1;\n  }\n  getBestMatchFromCodes(codes) {\n    if (!codes) return null;\n    let found;\n    codes.forEach(code => {\n      if (found) return;\n      const cleanedLng = this.formatLanguageCode(code);\n      if (!this.options.supportedLngs || this.isSupportedCode(cleanedLng)) found = cleanedLng;\n    });\n    if (!found && this.options.supportedLngs) {\n      codes.forEach(code => {\n        if (found) return;\n        const lngOnly = this.getLanguagePartFromCode(code);\n        if (this.isSupportedCode(lngOnly)) return found = lngOnly;\n        found = this.options.supportedLngs.find(supportedLng => {\n          if (supportedLng === lngOnly) return supportedLng;\n          if (supportedLng.indexOf('-') < 0 && lngOnly.indexOf('-') < 0) return;\n          if (supportedLng.indexOf(lngOnly) === 0) return supportedLng;\n        });\n      });\n    }\n    if (!found) found = this.getFallbackCodes(this.options.fallbackLng)[0];\n    return found;\n  }\n  getFallbackCodes(fallbacks, code) {\n    if (!fallbacks) return [];\n    if (typeof fallbacks === 'function') fallbacks = fallbacks(code);\n    if (typeof fallbacks === 'string') fallbacks = [fallbacks];\n    if (Object.prototype.toString.apply(fallbacks) === '[object Array]') return fallbacks;\n    if (!code) return fallbacks.default || [];\n    let found = fallbacks[code];\n    if (!found) found = fallbacks[this.getScriptPartFromCode(code)];\n    if (!found) found = fallbacks[this.formatLanguageCode(code)];\n    if (!found) found = fallbacks[this.getLanguagePartFromCode(code)];\n    if (!found) found = fallbacks.default;\n    return found || [];\n  }\n  toResolveHierarchy(code, fallbackCode) {\n    const fallbackCodes = this.getFallbackCodes(fallbackCode || this.options.fallbackLng || [], code);\n    const codes = [];\n    const addCode = c => {\n      if (!c) return;\n      if (this.isSupportedCode(c)) {\n        codes.push(c);\n      } else {\n        this.logger.warn(`rejecting language code not found in supportedLngs: ${c}`);\n      }\n    };\n    if (typeof code === 'string' && (code.indexOf('-') > -1 || code.indexOf('_') > -1)) {\n      if (this.options.load !== 'languageOnly') addCode(this.formatLanguageCode(code));\n      if (this.options.load !== 'languageOnly' && this.options.load !== 'currentOnly') addCode(this.getScriptPartFromCode(code));\n      if (this.options.load !== 'currentOnly') addCode(this.getLanguagePartFromCode(code));\n    } else if (typeof code === 'string') {\n      addCode(this.formatLanguageCode(code));\n    }\n    fallbackCodes.forEach(fc => {\n      if (codes.indexOf(fc) < 0) addCode(this.formatLanguageCode(fc));\n    });\n    return codes;\n  }\n}\n\nlet sets = [{\n  lngs: ['ach', 'ak', 'am', 'arn', 'br', 'fil', 'gun', 'ln', 'mfe', 'mg', 'mi', 'oc', 'pt', 'pt-BR', 'tg', 'tl', 'ti', 'tr', 'uz', 'wa'],\n  nr: [1, 2],\n  fc: 1\n}, {\n  lngs: ['af', 'an', 'ast', 'az', 'bg', 'bn', 'ca', 'da', 'de', 'dev', 'el', 'en', 'eo', 'es', 'et', 'eu', 'fi', 'fo', 'fur', 'fy', 'gl', 'gu', 'ha', 'hi', 'hu', 'hy', 'ia', 'it', 'kk', 'kn', 'ku', 'lb', 'mai', 'ml', 'mn', 'mr', 'nah', 'nap', 'nb', 'ne', 'nl', 'nn', 'no', 'nso', 'pa', 'pap', 'pms', 'ps', 'pt-PT', 'rm', 'sco', 'se', 'si', 'so', 'son', 'sq', 'sv', 'sw', 'ta', 'te', 'tk', 'ur', 'yo'],\n  nr: [1, 2],\n  fc: 2\n}, {\n  lngs: ['ay', 'bo', 'cgg', 'fa', 'ht', 'id', 'ja', 'jbo', 'ka', 'km', 'ko', 'ky', 'lo', 'ms', 'sah', 'su', 'th', 'tt', 'ug', 'vi', 'wo', 'zh'],\n  nr: [1],\n  fc: 3\n}, {\n  lngs: ['be', 'bs', 'cnr', 'dz', 'hr', 'ru', 'sr', 'uk'],\n  nr: [1, 2, 5],\n  fc: 4\n}, {\n  lngs: ['ar'],\n  nr: [0, 1, 2, 3, 11, 100],\n  fc: 5\n}, {\n  lngs: ['cs', 'sk'],\n  nr: [1, 2, 5],\n  fc: 6\n}, {\n  lngs: ['csb', 'pl'],\n  nr: [1, 2, 5],\n  fc: 7\n}, {\n  lngs: ['cy'],\n  nr: [1, 2, 3, 8],\n  fc: 8\n}, {\n  lngs: ['fr'],\n  nr: [1, 2],\n  fc: 9\n}, {\n  lngs: ['ga'],\n  nr: [1, 2, 3, 7, 11],\n  fc: 10\n}, {\n  lngs: ['gd'],\n  nr: [1, 2, 3, 20],\n  fc: 11\n}, {\n  lngs: ['is'],\n  nr: [1, 2],\n  fc: 12\n}, {\n  lngs: ['jv'],\n  nr: [0, 1],\n  fc: 13\n}, {\n  lngs: ['kw'],\n  nr: [1, 2, 3, 4],\n  fc: 14\n}, {\n  lngs: ['lt'],\n  nr: [1, 2, 10],\n  fc: 15\n}, {\n  lngs: ['lv'],\n  nr: [1, 2, 0],\n  fc: 16\n}, {\n  lngs: ['mk'],\n  nr: [1, 2],\n  fc: 17\n}, {\n  lngs: ['mnk'],\n  nr: [0, 1, 2],\n  fc: 18\n}, {\n  lngs: ['mt'],\n  nr: [1, 2, 11, 20],\n  fc: 19\n}, {\n  lngs: ['or'],\n  nr: [2, 1],\n  fc: 2\n}, {\n  lngs: ['ro'],\n  nr: [1, 2, 20],\n  fc: 20\n}, {\n  lngs: ['sl'],\n  nr: [5, 1, 2, 3],\n  fc: 21\n}, {\n  lngs: ['he', 'iw'],\n  nr: [1, 2, 20, 21],\n  fc: 22\n}];\nlet _rulesPluralsTypes = {\n  1: function (n) {\n    return Number(n > 1);\n  },\n  2: function (n) {\n    return Number(n != 1);\n  },\n  3: function (n) {\n    return 0;\n  },\n  4: function (n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  5: function (n) {\n    return Number(n == 0 ? 0 : n == 1 ? 1 : n == 2 ? 2 : n % 100 >= 3 && n % 100 <= 10 ? 3 : n % 100 >= 11 ? 4 : 5);\n  },\n  6: function (n) {\n    return Number(n == 1 ? 0 : n >= 2 && n <= 4 ? 1 : 2);\n  },\n  7: function (n) {\n    return Number(n == 1 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  8: function (n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n != 8 && n != 11 ? 2 : 3);\n  },\n  9: function (n) {\n    return Number(n >= 2);\n  },\n  10: function (n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n < 7 ? 2 : n < 11 ? 3 : 4);\n  },\n  11: function (n) {\n    return Number(n == 1 || n == 11 ? 0 : n == 2 || n == 12 ? 1 : n > 2 && n < 20 ? 2 : 3);\n  },\n  12: function (n) {\n    return Number(n % 10 != 1 || n % 100 == 11);\n  },\n  13: function (n) {\n    return Number(n !== 0);\n  },\n  14: function (n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n == 3 ? 2 : 3);\n  },\n  15: function (n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  16: function (n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n !== 0 ? 1 : 2);\n  },\n  17: function (n) {\n    return Number(n == 1 || n % 10 == 1 && n % 100 != 11 ? 0 : 1);\n  },\n  18: function (n) {\n    return Number(n == 0 ? 0 : n == 1 ? 1 : 2);\n  },\n  19: function (n) {\n    return Number(n == 1 ? 0 : n == 0 || n % 100 > 1 && n % 100 < 11 ? 1 : n % 100 > 10 && n % 100 < 20 ? 2 : 3);\n  },\n  20: function (n) {\n    return Number(n == 1 ? 0 : n == 0 || n % 100 > 0 && n % 100 < 20 ? 1 : 2);\n  },\n  21: function (n) {\n    return Number(n % 100 == 1 ? 1 : n % 100 == 2 ? 2 : n % 100 == 3 || n % 100 == 4 ? 3 : 0);\n  },\n  22: function (n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : (n < 0 || n > 10) && n % 10 == 0 ? 2 : 3);\n  }\n};\nconst nonIntlVersions = ['v1', 'v2', 'v3'];\nconst intlVersions = ['v4'];\nconst suffixesOrder = {\n  zero: 0,\n  one: 1,\n  two: 2,\n  few: 3,\n  many: 4,\n  other: 5\n};\nfunction createRules() {\n  const rules = {};\n  sets.forEach(set => {\n    set.lngs.forEach(l => {\n      rules[l] = {\n        numbers: set.nr,\n        plurals: _rulesPluralsTypes[set.fc]\n      };\n    });\n  });\n  return rules;\n}\nclass PluralResolver {\n  constructor(languageUtils) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    this.languageUtils = languageUtils;\n    this.options = options;\n    this.logger = baseLogger.create('pluralResolver');\n    if ((!this.options.compatibilityJSON || intlVersions.includes(this.options.compatibilityJSON)) && (typeof Intl === 'undefined' || !Intl.PluralRules)) {\n      this.options.compatibilityJSON = 'v3';\n      this.logger.error('Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.');\n    }\n    this.rules = createRules();\n  }\n  addRule(lng, obj) {\n    this.rules[lng] = obj;\n  }\n  getRule(code) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    if (this.shouldUseIntlApi()) {\n      try {\n        return new Intl.PluralRules(getCleanedCode(code), {\n          type: options.ordinal ? 'ordinal' : 'cardinal'\n        });\n      } catch {\n        return;\n      }\n    }\n    return this.rules[code] || this.rules[this.languageUtils.getLanguagePartFromCode(code)];\n  }\n  needsPlural(code) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const rule = this.getRule(code, options);\n    if (this.shouldUseIntlApi()) {\n      return rule && rule.resolvedOptions().pluralCategories.length > 1;\n    }\n    return rule && rule.numbers.length > 1;\n  }\n  getPluralFormsOfKey(code, key) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return this.getSuffixes(code, options).map(suffix => `${key}${suffix}`);\n  }\n  getSuffixes(code) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const rule = this.getRule(code, options);\n    if (!rule) {\n      return [];\n    }\n    if (this.shouldUseIntlApi()) {\n      return rule.resolvedOptions().pluralCategories.sort((pluralCategory1, pluralCategory2) => suffixesOrder[pluralCategory1] - suffixesOrder[pluralCategory2]).map(pluralCategory => `${this.options.prepend}${options.ordinal ? `ordinal${this.options.prepend}` : ''}${pluralCategory}`);\n    }\n    return rule.numbers.map(number => this.getSuffix(code, number, options));\n  }\n  getSuffix(code, count) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    const rule = this.getRule(code, options);\n    if (rule) {\n      if (this.shouldUseIntlApi()) {\n        return `${this.options.prepend}${options.ordinal ? `ordinal${this.options.prepend}` : ''}${rule.select(count)}`;\n      }\n      return this.getSuffixRetroCompatible(rule, count);\n    }\n    this.logger.warn(`no plural rule found for: ${code}`);\n    return '';\n  }\n  getSuffixRetroCompatible(rule, count) {\n    const idx = rule.noAbs ? rule.plurals(count) : rule.plurals(Math.abs(count));\n    let suffix = rule.numbers[idx];\n    if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {\n      if (suffix === 2) {\n        suffix = 'plural';\n      } else if (suffix === 1) {\n        suffix = '';\n      }\n    }\n    const returnSuffix = () => this.options.prepend && suffix.toString() ? this.options.prepend + suffix.toString() : suffix.toString();\n    if (this.options.compatibilityJSON === 'v1') {\n      if (suffix === 1) return '';\n      if (typeof suffix === 'number') return `_plural_${suffix.toString()}`;\n      return returnSuffix();\n    } else if (this.options.compatibilityJSON === 'v2') {\n      return returnSuffix();\n    } else if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {\n      return returnSuffix();\n    }\n    return this.options.prepend && idx.toString() ? this.options.prepend + idx.toString() : idx.toString();\n  }\n  shouldUseIntlApi() {\n    return !nonIntlVersions.includes(this.options.compatibilityJSON);\n  }\n}\n\nfunction deepFindWithDefaults(data, defaultData, key) {\n  let keySeparator = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '.';\n  let ignoreJSONStructure = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n  let path = getPathWithDefaults(data, defaultData, key);\n  if (!path && ignoreJSONStructure && typeof key === 'string') {\n    path = deepFind(data, key, keySeparator);\n    if (path === undefined) path = deepFind(defaultData, key, keySeparator);\n  }\n  return path;\n}\nclass Interpolator {\n  constructor() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    this.logger = baseLogger.create('interpolator');\n    this.options = options;\n    this.format = options.interpolation && options.interpolation.format || (value => value);\n    this.init(options);\n  }\n  init() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    if (!options.interpolation) options.interpolation = {\n      escapeValue: true\n    };\n    const iOpts = options.interpolation;\n    this.escape = iOpts.escape !== undefined ? iOpts.escape : escape;\n    this.escapeValue = iOpts.escapeValue !== undefined ? iOpts.escapeValue : true;\n    this.useRawValueToEscape = iOpts.useRawValueToEscape !== undefined ? iOpts.useRawValueToEscape : false;\n    this.prefix = iOpts.prefix ? regexEscape(iOpts.prefix) : iOpts.prefixEscaped || '{{';\n    this.suffix = iOpts.suffix ? regexEscape(iOpts.suffix) : iOpts.suffixEscaped || '}}';\n    this.formatSeparator = iOpts.formatSeparator ? iOpts.formatSeparator : iOpts.formatSeparator || ',';\n    this.unescapePrefix = iOpts.unescapeSuffix ? '' : iOpts.unescapePrefix || '-';\n    this.unescapeSuffix = this.unescapePrefix ? '' : iOpts.unescapeSuffix || '';\n    this.nestingPrefix = iOpts.nestingPrefix ? regexEscape(iOpts.nestingPrefix) : iOpts.nestingPrefixEscaped || regexEscape('$t(');\n    this.nestingSuffix = iOpts.nestingSuffix ? regexEscape(iOpts.nestingSuffix) : iOpts.nestingSuffixEscaped || regexEscape(')');\n    this.nestingOptionsSeparator = iOpts.nestingOptionsSeparator ? iOpts.nestingOptionsSeparator : iOpts.nestingOptionsSeparator || ',';\n    this.maxReplaces = iOpts.maxReplaces ? iOpts.maxReplaces : 1000;\n    this.alwaysFormat = iOpts.alwaysFormat !== undefined ? iOpts.alwaysFormat : false;\n    this.resetRegExp();\n  }\n  reset() {\n    if (this.options) this.init(this.options);\n  }\n  resetRegExp() {\n    const regexpStr = `${this.prefix}(.+?)${this.suffix}`;\n    this.regexp = new RegExp(regexpStr, 'g');\n    const regexpUnescapeStr = `${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`;\n    this.regexpUnescape = new RegExp(regexpUnescapeStr, 'g');\n    const nestingRegexpStr = `${this.nestingPrefix}(.+?)${this.nestingSuffix}`;\n    this.nestingRegexp = new RegExp(nestingRegexpStr, 'g');\n  }\n  interpolate(str, data, lng, options) {\n    let match;\n    let value;\n    let replaces;\n    const defaultData = this.options && this.options.interpolation && this.options.interpolation.defaultVariables || {};\n    function regexSafe(val) {\n      return val.replace(/\\$/g, '$$$$');\n    }\n    const handleFormat = key => {\n      if (key.indexOf(this.formatSeparator) < 0) {\n        const path = deepFindWithDefaults(data, defaultData, key, this.options.keySeparator, this.options.ignoreJSONStructure);\n        return this.alwaysFormat ? this.format(path, undefined, lng, {\n          ...options,\n          ...data,\n          interpolationkey: key\n        }) : path;\n      }\n      const p = key.split(this.formatSeparator);\n      const k = p.shift().trim();\n      const f = p.join(this.formatSeparator).trim();\n      return this.format(deepFindWithDefaults(data, defaultData, k, this.options.keySeparator, this.options.ignoreJSONStructure), f, lng, {\n        ...options,\n        ...data,\n        interpolationkey: k\n      });\n    };\n    this.resetRegExp();\n    const missingInterpolationHandler = options && options.missingInterpolationHandler || this.options.missingInterpolationHandler;\n    const skipOnVariables = options && options.interpolation && options.interpolation.skipOnVariables !== undefined ? options.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables;\n    const todos = [{\n      regex: this.regexpUnescape,\n      safeValue: val => regexSafe(val)\n    }, {\n      regex: this.regexp,\n      safeValue: val => this.escapeValue ? regexSafe(this.escape(val)) : regexSafe(val)\n    }];\n    todos.forEach(todo => {\n      replaces = 0;\n      while (match = todo.regex.exec(str)) {\n        const matchedVar = match[1].trim();\n        value = handleFormat(matchedVar);\n        if (value === undefined) {\n          if (typeof missingInterpolationHandler === 'function') {\n            const temp = missingInterpolationHandler(str, match, options);\n            value = typeof temp === 'string' ? temp : '';\n          } else if (options && Object.prototype.hasOwnProperty.call(options, matchedVar)) {\n            value = '';\n          } else if (skipOnVariables) {\n            value = match[0];\n            continue;\n          } else {\n            this.logger.warn(`missed to pass in variable ${matchedVar} for interpolating ${str}`);\n            value = '';\n          }\n        } else if (typeof value !== 'string' && !this.useRawValueToEscape) {\n          value = makeString(value);\n        }\n        const safeValue = todo.safeValue(value);\n        str = str.replace(match[0], safeValue);\n        if (skipOnVariables) {\n          todo.regex.lastIndex += value.length;\n          todo.regex.lastIndex -= match[0].length;\n        } else {\n          todo.regex.lastIndex = 0;\n        }\n        replaces++;\n        if (replaces >= this.maxReplaces) {\n          break;\n        }\n      }\n    });\n    return str;\n  }\n  nest(str, fc) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    let match;\n    let value;\n    let clonedOptions;\n    function handleHasOptions(key, inheritedOptions) {\n      const sep = this.nestingOptionsSeparator;\n      if (key.indexOf(sep) < 0) return key;\n      const c = key.split(new RegExp(`${sep}[ ]*{`));\n      let optionsString = `{${c[1]}`;\n      key = c[0];\n      optionsString = this.interpolate(optionsString, clonedOptions);\n      const matchedSingleQuotes = optionsString.match(/'/g);\n      const matchedDoubleQuotes = optionsString.match(/\"/g);\n      if (matchedSingleQuotes && matchedSingleQuotes.length % 2 === 0 && !matchedDoubleQuotes || matchedDoubleQuotes.length % 2 !== 0) {\n        optionsString = optionsString.replace(/'/g, '\"');\n      }\n      try {\n        clonedOptions = JSON.parse(optionsString);\n        if (inheritedOptions) clonedOptions = {\n          ...inheritedOptions,\n          ...clonedOptions\n        };\n      } catch (e) {\n        this.logger.warn(`failed parsing options string in nesting for key ${key}`, e);\n        return `${key}${sep}${optionsString}`;\n      }\n      delete clonedOptions.defaultValue;\n      return key;\n    }\n    while (match = this.nestingRegexp.exec(str)) {\n      let formatters = [];\n      clonedOptions = {\n        ...options\n      };\n      clonedOptions = clonedOptions.replace && typeof clonedOptions.replace !== 'string' ? clonedOptions.replace : clonedOptions;\n      clonedOptions.applyPostProcessor = false;\n      delete clonedOptions.defaultValue;\n      let doReduce = false;\n      if (match[0].indexOf(this.formatSeparator) !== -1 && !/{.*}/.test(match[1])) {\n        const r = match[1].split(this.formatSeparator).map(elem => elem.trim());\n        match[1] = r.shift();\n        formatters = r;\n        doReduce = true;\n      }\n      value = fc(handleHasOptions.call(this, match[1].trim(), clonedOptions), clonedOptions);\n      if (value && match[0] === str && typeof value !== 'string') return value;\n      if (typeof value !== 'string') value = makeString(value);\n      if (!value) {\n        this.logger.warn(`missed to resolve ${match[1]} for nesting ${str}`);\n        value = '';\n      }\n      if (doReduce) {\n        value = formatters.reduce((v, f) => this.format(v, f, options.lng, {\n          ...options,\n          interpolationkey: match[1].trim()\n        }), value.trim());\n      }\n      str = str.replace(match[0], value);\n      this.regexp.lastIndex = 0;\n    }\n    return str;\n  }\n}\n\nfunction parseFormatStr(formatStr) {\n  let formatName = formatStr.toLowerCase().trim();\n  const formatOptions = {};\n  if (formatStr.indexOf('(') > -1) {\n    const p = formatStr.split('(');\n    formatName = p[0].toLowerCase().trim();\n    const optStr = p[1].substring(0, p[1].length - 1);\n    if (formatName === 'currency' && optStr.indexOf(':') < 0) {\n      if (!formatOptions.currency) formatOptions.currency = optStr.trim();\n    } else if (formatName === 'relativetime' && optStr.indexOf(':') < 0) {\n      if (!formatOptions.range) formatOptions.range = optStr.trim();\n    } else {\n      const opts = optStr.split(';');\n      opts.forEach(opt => {\n        if (!opt) return;\n        const [key, ...rest] = opt.split(':');\n        const val = rest.join(':').trim().replace(/^'+|'+$/g, '');\n        if (!formatOptions[key.trim()]) formatOptions[key.trim()] = val;\n        if (val === 'false') formatOptions[key.trim()] = false;\n        if (val === 'true') formatOptions[key.trim()] = true;\n        if (!isNaN(val)) formatOptions[key.trim()] = parseInt(val, 10);\n      });\n    }\n  }\n  return {\n    formatName,\n    formatOptions\n  };\n}\nfunction createCachedFormatter(fn) {\n  const cache = {};\n  return function invokeFormatter(val, lng, options) {\n    const key = lng + JSON.stringify(options);\n    let formatter = cache[key];\n    if (!formatter) {\n      formatter = fn(getCleanedCode(lng), options);\n      cache[key] = formatter;\n    }\n    return formatter(val);\n  };\n}\nclass Formatter {\n  constructor() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    this.logger = baseLogger.create('formatter');\n    this.options = options;\n    this.formats = {\n      number: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.NumberFormat(lng, {\n          ...opt\n        });\n        return val => formatter.format(val);\n      }),\n      currency: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.NumberFormat(lng, {\n          ...opt,\n          style: 'currency'\n        });\n        return val => formatter.format(val);\n      }),\n      datetime: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.DateTimeFormat(lng, {\n          ...opt\n        });\n        return val => formatter.format(val);\n      }),\n      relativetime: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.RelativeTimeFormat(lng, {\n          ...opt\n        });\n        return val => formatter.format(val, opt.range || 'day');\n      }),\n      list: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.ListFormat(lng, {\n          ...opt\n        });\n        return val => formatter.format(val);\n      })\n    };\n    this.init(options);\n  }\n  init(services) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      interpolation: {}\n    };\n    const iOpts = options.interpolation;\n    this.formatSeparator = iOpts.formatSeparator ? iOpts.formatSeparator : iOpts.formatSeparator || ',';\n  }\n  add(name, fc) {\n    this.formats[name.toLowerCase().trim()] = fc;\n  }\n  addCached(name, fc) {\n    this.formats[name.toLowerCase().trim()] = createCachedFormatter(fc);\n  }\n  format(value, format, lng) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    const formats = format.split(this.formatSeparator);\n    const result = formats.reduce((mem, f) => {\n      const {\n        formatName,\n        formatOptions\n      } = parseFormatStr(f);\n      if (this.formats[formatName]) {\n        let formatted = mem;\n        try {\n          const valOptions = options && options.formatParams && options.formatParams[options.interpolationkey] || {};\n          const l = valOptions.locale || valOptions.lng || options.locale || options.lng || lng;\n          formatted = this.formats[formatName](mem, l, {\n            ...formatOptions,\n            ...options,\n            ...valOptions\n          });\n        } catch (error) {\n          this.logger.warn(error);\n        }\n        return formatted;\n      } else {\n        this.logger.warn(`there was no format function for ${formatName}`);\n      }\n      return mem;\n    }, value);\n    return result;\n  }\n}\n\nfunction removePending(q, name) {\n  if (q.pending[name] !== undefined) {\n    delete q.pending[name];\n    q.pendingCount--;\n  }\n}\nclass Connector extends EventEmitter {\n  constructor(backend, store, services) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    super();\n    this.backend = backend;\n    this.store = store;\n    this.services = services;\n    this.languageUtils = services.languageUtils;\n    this.options = options;\n    this.logger = baseLogger.create('backendConnector');\n    this.waitingReads = [];\n    this.maxParallelReads = options.maxParallelReads || 10;\n    this.readingCalls = 0;\n    this.maxRetries = options.maxRetries >= 0 ? options.maxRetries : 5;\n    this.retryTimeout = options.retryTimeout >= 1 ? options.retryTimeout : 350;\n    this.state = {};\n    this.queue = [];\n    if (this.backend && this.backend.init) {\n      this.backend.init(services, options.backend, options);\n    }\n  }\n  queueLoad(languages, namespaces, options, callback) {\n    const toLoad = {};\n    const pending = {};\n    const toLoadLanguages = {};\n    const toLoadNamespaces = {};\n    languages.forEach(lng => {\n      let hasAllNamespaces = true;\n      namespaces.forEach(ns => {\n        const name = `${lng}|${ns}`;\n        if (!options.reload && this.store.hasResourceBundle(lng, ns)) {\n          this.state[name] = 2;\n        } else if (this.state[name] < 0) ; else if (this.state[name] === 1) {\n          if (pending[name] === undefined) pending[name] = true;\n        } else {\n          this.state[name] = 1;\n          hasAllNamespaces = false;\n          if (pending[name] === undefined) pending[name] = true;\n          if (toLoad[name] === undefined) toLoad[name] = true;\n          if (toLoadNamespaces[ns] === undefined) toLoadNamespaces[ns] = true;\n        }\n      });\n      if (!hasAllNamespaces) toLoadLanguages[lng] = true;\n    });\n    if (Object.keys(toLoad).length || Object.keys(pending).length) {\n      this.queue.push({\n        pending,\n        pendingCount: Object.keys(pending).length,\n        loaded: {},\n        errors: [],\n        callback\n      });\n    }\n    return {\n      toLoad: Object.keys(toLoad),\n      pending: Object.keys(pending),\n      toLoadLanguages: Object.keys(toLoadLanguages),\n      toLoadNamespaces: Object.keys(toLoadNamespaces)\n    };\n  }\n  loaded(name, err, data) {\n    const s = name.split('|');\n    const lng = s[0];\n    const ns = s[1];\n    if (err) this.emit('failedLoading', lng, ns, err);\n    if (data) {\n      this.store.addResourceBundle(lng, ns, data);\n    }\n    this.state[name] = err ? -1 : 2;\n    const loaded = {};\n    this.queue.forEach(q => {\n      pushPath(q.loaded, [lng], ns);\n      removePending(q, name);\n      if (err) q.errors.push(err);\n      if (q.pendingCount === 0 && !q.done) {\n        Object.keys(q.loaded).forEach(l => {\n          if (!loaded[l]) loaded[l] = {};\n          const loadedKeys = q.loaded[l];\n          if (loadedKeys.length) {\n            loadedKeys.forEach(n => {\n              if (loaded[l][n] === undefined) loaded[l][n] = true;\n            });\n          }\n        });\n        q.done = true;\n        if (q.errors.length) {\n          q.callback(q.errors);\n        } else {\n          q.callback();\n        }\n      }\n    });\n    this.emit('loaded', loaded);\n    this.queue = this.queue.filter(q => !q.done);\n  }\n  read(lng, ns, fcName) {\n    let tried = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n    let wait = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : this.retryTimeout;\n    let callback = arguments.length > 5 ? arguments[5] : undefined;\n    if (!lng.length) return callback(null, {});\n    if (this.readingCalls >= this.maxParallelReads) {\n      this.waitingReads.push({\n        lng,\n        ns,\n        fcName,\n        tried,\n        wait,\n        callback\n      });\n      return;\n    }\n    this.readingCalls++;\n    const resolver = (err, data) => {\n      this.readingCalls--;\n      if (this.waitingReads.length > 0) {\n        const next = this.waitingReads.shift();\n        this.read(next.lng, next.ns, next.fcName, next.tried, next.wait, next.callback);\n      }\n      if (err && data && tried < this.maxRetries) {\n        setTimeout(() => {\n          this.read.call(this, lng, ns, fcName, tried + 1, wait * 2, callback);\n        }, wait);\n        return;\n      }\n      callback(err, data);\n    };\n    const fc = this.backend[fcName].bind(this.backend);\n    if (fc.length === 2) {\n      try {\n        const r = fc(lng, ns);\n        if (r && typeof r.then === 'function') {\n          r.then(data => resolver(null, data)).catch(resolver);\n        } else {\n          resolver(null, r);\n        }\n      } catch (err) {\n        resolver(err);\n      }\n      return;\n    }\n    return fc(lng, ns, resolver);\n  }\n  prepareLoading(languages, namespaces) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    let callback = arguments.length > 3 ? arguments[3] : undefined;\n    if (!this.backend) {\n      this.logger.warn('No backend was added via i18next.use. Will not load resources.');\n      return callback && callback();\n    }\n    if (typeof languages === 'string') languages = this.languageUtils.toResolveHierarchy(languages);\n    if (typeof namespaces === 'string') namespaces = [namespaces];\n    const toLoad = this.queueLoad(languages, namespaces, options, callback);\n    if (!toLoad.toLoad.length) {\n      if (!toLoad.pending.length) callback();\n      return null;\n    }\n    toLoad.toLoad.forEach(name => {\n      this.loadOne(name);\n    });\n  }\n  load(languages, namespaces, callback) {\n    this.prepareLoading(languages, namespaces, {}, callback);\n  }\n  reload(languages, namespaces, callback) {\n    this.prepareLoading(languages, namespaces, {\n      reload: true\n    }, callback);\n  }\n  loadOne(name) {\n    let prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    const s = name.split('|');\n    const lng = s[0];\n    const ns = s[1];\n    this.read(lng, ns, 'read', undefined, undefined, (err, data) => {\n      if (err) this.logger.warn(`${prefix}loading namespace ${ns} for language ${lng} failed`, err);\n      if (!err && data) this.logger.log(`${prefix}loaded namespace ${ns} for language ${lng}`, data);\n      this.loaded(name, err, data);\n    });\n  }\n  saveMissing(languages, namespace, key, fallbackValue, isUpdate) {\n    let options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};\n    let clb = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : () => {};\n    if (this.services.utils && this.services.utils.hasLoadedNamespace && !this.services.utils.hasLoadedNamespace(namespace)) {\n      this.logger.warn(`did not save key \"${key}\" as the namespace \"${namespace}\" was not yet loaded`, 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');\n      return;\n    }\n    if (key === undefined || key === null || key === '') return;\n    if (this.backend && this.backend.create) {\n      const opts = {\n        ...options,\n        isUpdate\n      };\n      const fc = this.backend.create.bind(this.backend);\n      if (fc.length < 6) {\n        try {\n          let r;\n          if (fc.length === 5) {\n            r = fc(languages, namespace, key, fallbackValue, opts);\n          } else {\n            r = fc(languages, namespace, key, fallbackValue);\n          }\n          if (r && typeof r.then === 'function') {\n            r.then(data => clb(null, data)).catch(clb);\n          } else {\n            clb(null, r);\n          }\n        } catch (err) {\n          clb(err);\n        }\n      } else {\n        fc(languages, namespace, key, fallbackValue, clb, opts);\n      }\n    }\n    if (!languages || !languages[0]) return;\n    this.store.addResource(languages[0], namespace, key, fallbackValue);\n  }\n}\n\nfunction get() {\n  return {\n    debug: false,\n    initImmediate: true,\n    ns: ['translation'],\n    defaultNS: ['translation'],\n    fallbackLng: ['dev'],\n    fallbackNS: false,\n    supportedLngs: false,\n    nonExplicitSupportedLngs: false,\n    load: 'all',\n    preload: false,\n    simplifyPluralSuffix: true,\n    keySeparator: '.',\n    nsSeparator: ':',\n    pluralSeparator: '_',\n    contextSeparator: '_',\n    partialBundledLanguages: false,\n    saveMissing: false,\n    updateMissing: false,\n    saveMissingTo: 'fallback',\n    saveMissingPlurals: true,\n    missingKeyHandler: false,\n    missingInterpolationHandler: false,\n    postProcess: false,\n    postProcessPassResolved: false,\n    returnNull: false,\n    returnEmptyString: true,\n    returnObjects: false,\n    joinArrays: false,\n    returnedObjectHandler: false,\n    parseMissingKeyHandler: false,\n    appendNamespaceToMissingKey: false,\n    appendNamespaceToCIMode: false,\n    overloadTranslationOptionHandler: function handle(args) {\n      let ret = {};\n      if (typeof args[1] === 'object') ret = args[1];\n      if (typeof args[1] === 'string') ret.defaultValue = args[1];\n      if (typeof args[2] === 'string') ret.tDescription = args[2];\n      if (typeof args[2] === 'object' || typeof args[3] === 'object') {\n        const options = args[3] || args[2];\n        Object.keys(options).forEach(key => {\n          ret[key] = options[key];\n        });\n      }\n      return ret;\n    },\n    interpolation: {\n      escapeValue: true,\n      format: (value, format, lng, options) => value,\n      prefix: '{{',\n      suffix: '}}',\n      formatSeparator: ',',\n      unescapePrefix: '-',\n      nestingPrefix: '$t(',\n      nestingSuffix: ')',\n      nestingOptionsSeparator: ',',\n      maxReplaces: 1000,\n      skipOnVariables: true\n    }\n  };\n}\nfunction transformOptions(options) {\n  if (typeof options.ns === 'string') options.ns = [options.ns];\n  if (typeof options.fallbackLng === 'string') options.fallbackLng = [options.fallbackLng];\n  if (typeof options.fallbackNS === 'string') options.fallbackNS = [options.fallbackNS];\n  if (options.supportedLngs && options.supportedLngs.indexOf('cimode') < 0) {\n    options.supportedLngs = options.supportedLngs.concat(['cimode']);\n  }\n  return options;\n}\n\nfunction noop() {}\nfunction bindMemberFunctions(inst) {\n  const mems = Object.getOwnPropertyNames(Object.getPrototypeOf(inst));\n  mems.forEach(mem => {\n    if (typeof inst[mem] === 'function') {\n      inst[mem] = inst[mem].bind(inst);\n    }\n  });\n}\nclass I18n extends EventEmitter {\n  constructor() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let callback = arguments.length > 1 ? arguments[1] : undefined;\n    super();\n    this.options = transformOptions(options);\n    this.services = {};\n    this.logger = baseLogger;\n    this.modules = {\n      external: []\n    };\n    bindMemberFunctions(this);\n    if (callback && !this.isInitialized && !options.isClone) {\n      if (!this.options.initImmediate) {\n        this.init(options, callback);\n        return this;\n      }\n      setTimeout(() => {\n        this.init(options, callback);\n      }, 0);\n    }\n  }\n  init() {\n    var _this = this;\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let callback = arguments.length > 1 ? arguments[1] : undefined;\n    if (typeof options === 'function') {\n      callback = options;\n      options = {};\n    }\n    if (!options.defaultNS && options.defaultNS !== false && options.ns) {\n      if (typeof options.ns === 'string') {\n        options.defaultNS = options.ns;\n      } else if (options.ns.indexOf('translation') < 0) {\n        options.defaultNS = options.ns[0];\n      }\n    }\n    const defOpts = get();\n    this.options = {\n      ...defOpts,\n      ...this.options,\n      ...transformOptions(options)\n    };\n    if (this.options.compatibilityAPI !== 'v1') {\n      this.options.interpolation = {\n        ...defOpts.interpolation,\n        ...this.options.interpolation\n      };\n    }\n    if (options.keySeparator !== undefined) {\n      this.options.userDefinedKeySeparator = options.keySeparator;\n    }\n    if (options.nsSeparator !== undefined) {\n      this.options.userDefinedNsSeparator = options.nsSeparator;\n    }\n    function createClassOnDemand(ClassOrObject) {\n      if (!ClassOrObject) return null;\n      if (typeof ClassOrObject === 'function') return new ClassOrObject();\n      return ClassOrObject;\n    }\n    if (!this.options.isClone) {\n      if (this.modules.logger) {\n        baseLogger.init(createClassOnDemand(this.modules.logger), this.options);\n      } else {\n        baseLogger.init(null, this.options);\n      }\n      let formatter;\n      if (this.modules.formatter) {\n        formatter = this.modules.formatter;\n      } else if (typeof Intl !== 'undefined') {\n        formatter = Formatter;\n      }\n      const lu = new LanguageUtil(this.options);\n      this.store = new ResourceStore(this.options.resources, this.options);\n      const s = this.services;\n      s.logger = baseLogger;\n      s.resourceStore = this.store;\n      s.languageUtils = lu;\n      s.pluralResolver = new PluralResolver(lu, {\n        prepend: this.options.pluralSeparator,\n        compatibilityJSON: this.options.compatibilityJSON,\n        simplifyPluralSuffix: this.options.simplifyPluralSuffix\n      });\n      if (formatter && (!this.options.interpolation.format || this.options.interpolation.format === defOpts.interpolation.format)) {\n        s.formatter = createClassOnDemand(formatter);\n        s.formatter.init(s, this.options);\n        this.options.interpolation.format = s.formatter.format.bind(s.formatter);\n      }\n      s.interpolator = new Interpolator(this.options);\n      s.utils = {\n        hasLoadedNamespace: this.hasLoadedNamespace.bind(this)\n      };\n      s.backendConnector = new Connector(createClassOnDemand(this.modules.backend), s.resourceStore, s, this.options);\n      s.backendConnector.on('*', function (event) {\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n        _this.emit(event, ...args);\n      });\n      if (this.modules.languageDetector) {\n        s.languageDetector = createClassOnDemand(this.modules.languageDetector);\n        if (s.languageDetector.init) s.languageDetector.init(s, this.options.detection, this.options);\n      }\n      if (this.modules.i18nFormat) {\n        s.i18nFormat = createClassOnDemand(this.modules.i18nFormat);\n        if (s.i18nFormat.init) s.i18nFormat.init(this);\n      }\n      this.translator = new Translator(this.services, this.options);\n      this.translator.on('*', function (event) {\n        for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n          args[_key2 - 1] = arguments[_key2];\n        }\n        _this.emit(event, ...args);\n      });\n      this.modules.external.forEach(m => {\n        if (m.init) m.init(this);\n      });\n    }\n    this.format = this.options.interpolation.format;\n    if (!callback) callback = noop;\n    if (this.options.fallbackLng && !this.services.languageDetector && !this.options.lng) {\n      const codes = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n      if (codes.length > 0 && codes[0] !== 'dev') this.options.lng = codes[0];\n    }\n    if (!this.services.languageDetector && !this.options.lng) {\n      this.logger.warn('init: no languageDetector is used and no lng is defined');\n    }\n    const storeApi = ['getResource', 'hasResourceBundle', 'getResourceBundle', 'getDataByLanguage'];\n    storeApi.forEach(fcName => {\n      this[fcName] = function () {\n        return _this.store[fcName](...arguments);\n      };\n    });\n    const storeApiChained = ['addResource', 'addResources', 'addResourceBundle', 'removeResourceBundle'];\n    storeApiChained.forEach(fcName => {\n      this[fcName] = function () {\n        _this.store[fcName](...arguments);\n        return _this;\n      };\n    });\n    const deferred = defer();\n    const load = () => {\n      const finish = (err, t) => {\n        if (this.isInitialized && !this.initializedStoreOnce) this.logger.warn('init: i18next is already initialized. You should call init just once!');\n        this.isInitialized = true;\n        if (!this.options.isClone) this.logger.log('initialized', this.options);\n        this.emit('initialized', this.options);\n        deferred.resolve(t);\n        callback(err, t);\n      };\n      if (this.languages && this.options.compatibilityAPI !== 'v1' && !this.isInitialized) return finish(null, this.t.bind(this));\n      this.changeLanguage(this.options.lng, finish);\n    };\n    if (this.options.resources || !this.options.initImmediate) {\n      load();\n    } else {\n      setTimeout(load, 0);\n    }\n    return deferred;\n  }\n  loadResources(language) {\n    let callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n    let usedCallback = callback;\n    const usedLng = typeof language === 'string' ? language : this.language;\n    if (typeof language === 'function') usedCallback = language;\n    if (!this.options.resources || this.options.partialBundledLanguages) {\n      if (usedLng && usedLng.toLowerCase() === 'cimode') return usedCallback();\n      const toLoad = [];\n      const append = lng => {\n        if (!lng) return;\n        const lngs = this.services.languageUtils.toResolveHierarchy(lng);\n        lngs.forEach(l => {\n          if (toLoad.indexOf(l) < 0) toLoad.push(l);\n        });\n      };\n      if (!usedLng) {\n        const fallbacks = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n        fallbacks.forEach(l => append(l));\n      } else {\n        append(usedLng);\n      }\n      if (this.options.preload) {\n        this.options.preload.forEach(l => append(l));\n      }\n      this.services.backendConnector.load(toLoad, this.options.ns, e => {\n        if (!e && !this.resolvedLanguage && this.language) this.setResolvedLanguage(this.language);\n        usedCallback(e);\n      });\n    } else {\n      usedCallback(null);\n    }\n  }\n  reloadResources(lngs, ns, callback) {\n    const deferred = defer();\n    if (!lngs) lngs = this.languages;\n    if (!ns) ns = this.options.ns;\n    if (!callback) callback = noop;\n    this.services.backendConnector.reload(lngs, ns, err => {\n      deferred.resolve();\n      callback(err);\n    });\n    return deferred;\n  }\n  use(module) {\n    if (!module) throw new Error('You are passing an undefined module! Please check the object you are passing to i18next.use()');\n    if (!module.type) throw new Error('You are passing a wrong module! Please check the object you are passing to i18next.use()');\n    if (module.type === 'backend') {\n      this.modules.backend = module;\n    }\n    if (module.type === 'logger' || module.log && module.warn && module.error) {\n      this.modules.logger = module;\n    }\n    if (module.type === 'languageDetector') {\n      this.modules.languageDetector = module;\n    }\n    if (module.type === 'i18nFormat') {\n      this.modules.i18nFormat = module;\n    }\n    if (module.type === 'postProcessor') {\n      postProcessor.addPostProcessor(module);\n    }\n    if (module.type === 'formatter') {\n      this.modules.formatter = module;\n    }\n    if (module.type === '3rdParty') {\n      this.modules.external.push(module);\n    }\n    return this;\n  }\n  setResolvedLanguage(l) {\n    if (!l || !this.languages) return;\n    if (['cimode', 'dev'].indexOf(l) > -1) return;\n    for (let li = 0; li < this.languages.length; li++) {\n      const lngInLngs = this.languages[li];\n      if (['cimode', 'dev'].indexOf(lngInLngs) > -1) continue;\n      if (this.store.hasLanguageSomeTranslations(lngInLngs)) {\n        this.resolvedLanguage = lngInLngs;\n        break;\n      }\n    }\n  }\n  changeLanguage(lng, callback) {\n    var _this2 = this;\n    this.isLanguageChangingTo = lng;\n    const deferred = defer();\n    this.emit('languageChanging', lng);\n    const setLngProps = l => {\n      this.language = l;\n      this.languages = this.services.languageUtils.toResolveHierarchy(l);\n      this.resolvedLanguage = undefined;\n      this.setResolvedLanguage(l);\n    };\n    const done = (err, l) => {\n      if (l) {\n        setLngProps(l);\n        this.translator.changeLanguage(l);\n        this.isLanguageChangingTo = undefined;\n        this.emit('languageChanged', l);\n        this.logger.log('languageChanged', l);\n      } else {\n        this.isLanguageChangingTo = undefined;\n      }\n      deferred.resolve(function () {\n        return _this2.t(...arguments);\n      });\n      if (callback) callback(err, function () {\n        return _this2.t(...arguments);\n      });\n    };\n    const setLng = lngs => {\n      if (!lng && !lngs && this.services.languageDetector) lngs = [];\n      const l = typeof lngs === 'string' ? lngs : this.services.languageUtils.getBestMatchFromCodes(lngs);\n      if (l) {\n        if (!this.language) {\n          setLngProps(l);\n        }\n        if (!this.translator.language) this.translator.changeLanguage(l);\n        if (this.services.languageDetector && this.services.languageDetector.cacheUserLanguage) this.services.languageDetector.cacheUserLanguage(l);\n      }\n      this.loadResources(l, err => {\n        done(err, l);\n      });\n    };\n    if (!lng && this.services.languageDetector && !this.services.languageDetector.async) {\n      setLng(this.services.languageDetector.detect());\n    } else if (!lng && this.services.languageDetector && this.services.languageDetector.async) {\n      if (this.services.languageDetector.detect.length === 0) {\n        this.services.languageDetector.detect().then(setLng);\n      } else {\n        this.services.languageDetector.detect(setLng);\n      }\n    } else {\n      setLng(lng);\n    }\n    return deferred;\n  }\n  getFixedT(lng, ns, keyPrefix) {\n    var _this3 = this;\n    const fixedT = function (key, opts) {\n      let options;\n      if (typeof opts !== 'object') {\n        for (var _len3 = arguments.length, rest = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n          rest[_key3 - 2] = arguments[_key3];\n        }\n        options = _this3.options.overloadTranslationOptionHandler([key, opts].concat(rest));\n      } else {\n        options = {\n          ...opts\n        };\n      }\n      options.lng = options.lng || fixedT.lng;\n      options.lngs = options.lngs || fixedT.lngs;\n      options.ns = options.ns || fixedT.ns;\n      options.keyPrefix = options.keyPrefix || keyPrefix || fixedT.keyPrefix;\n      const keySeparator = _this3.options.keySeparator || '.';\n      let resultKey;\n      if (options.keyPrefix && Array.isArray(key)) {\n        resultKey = key.map(k => `${options.keyPrefix}${keySeparator}${k}`);\n      } else {\n        resultKey = options.keyPrefix ? `${options.keyPrefix}${keySeparator}${key}` : key;\n      }\n      return _this3.t(resultKey, options);\n    };\n    if (typeof lng === 'string') {\n      fixedT.lng = lng;\n    } else {\n      fixedT.lngs = lng;\n    }\n    fixedT.ns = ns;\n    fixedT.keyPrefix = keyPrefix;\n    return fixedT;\n  }\n  t() {\n    return this.translator && this.translator.translate(...arguments);\n  }\n  exists() {\n    return this.translator && this.translator.exists(...arguments);\n  }\n  setDefaultNamespace(ns) {\n    this.options.defaultNS = ns;\n  }\n  hasLoadedNamespace(ns) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    if (!this.isInitialized) {\n      this.logger.warn('hasLoadedNamespace: i18next was not initialized', this.languages);\n      return false;\n    }\n    if (!this.languages || !this.languages.length) {\n      this.logger.warn('hasLoadedNamespace: i18n.languages were undefined or empty', this.languages);\n      return false;\n    }\n    const lng = options.lng || this.resolvedLanguage || this.languages[0];\n    const fallbackLng = this.options ? this.options.fallbackLng : false;\n    const lastLng = this.languages[this.languages.length - 1];\n    if (lng.toLowerCase() === 'cimode') return true;\n    const loadNotPending = (l, n) => {\n      const loadState = this.services.backendConnector.state[`${l}|${n}`];\n      return loadState === -1 || loadState === 2;\n    };\n    if (options.precheck) {\n      const preResult = options.precheck(this, loadNotPending);\n      if (preResult !== undefined) return preResult;\n    }\n    if (this.hasResourceBundle(lng, ns)) return true;\n    if (!this.services.backendConnector.backend || this.options.resources && !this.options.partialBundledLanguages) return true;\n    if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns))) return true;\n    return false;\n  }\n  loadNamespaces(ns, callback) {\n    const deferred = defer();\n    if (!this.options.ns) {\n      if (callback) callback();\n      return Promise.resolve();\n    }\n    if (typeof ns === 'string') ns = [ns];\n    ns.forEach(n => {\n      if (this.options.ns.indexOf(n) < 0) this.options.ns.push(n);\n    });\n    this.loadResources(err => {\n      deferred.resolve();\n      if (callback) callback(err);\n    });\n    return deferred;\n  }\n  loadLanguages(lngs, callback) {\n    const deferred = defer();\n    if (typeof lngs === 'string') lngs = [lngs];\n    const preloaded = this.options.preload || [];\n    const newLngs = lngs.filter(lng => preloaded.indexOf(lng) < 0);\n    if (!newLngs.length) {\n      if (callback) callback();\n      return Promise.resolve();\n    }\n    this.options.preload = preloaded.concat(newLngs);\n    this.loadResources(err => {\n      deferred.resolve();\n      if (callback) callback(err);\n    });\n    return deferred;\n  }\n  dir(lng) {\n    if (!lng) lng = this.resolvedLanguage || (this.languages && this.languages.length > 0 ? this.languages[0] : this.language);\n    if (!lng) return 'rtl';\n    const rtlLngs = ['ar', 'shu', 'sqr', 'ssh', 'xaa', 'yhd', 'yud', 'aao', 'abh', 'abv', 'acm', 'acq', 'acw', 'acx', 'acy', 'adf', 'ads', 'aeb', 'aec', 'afb', 'ajp', 'apc', 'apd', 'arb', 'arq', 'ars', 'ary', 'arz', 'auz', 'avl', 'ayh', 'ayl', 'ayn', 'ayp', 'bbz', 'pga', 'he', 'iw', 'ps', 'pbt', 'pbu', 'pst', 'prp', 'prd', 'ug', 'ur', 'ydd', 'yds', 'yih', 'ji', 'yi', 'hbo', 'men', 'xmn', 'fa', 'jpr', 'peo', 'pes', 'prs', 'dv', 'sam', 'ckb'];\n    const languageUtils = this.services && this.services.languageUtils || new LanguageUtil(get());\n    return rtlLngs.indexOf(languageUtils.getLanguagePartFromCode(lng)) > -1 || lng.toLowerCase().indexOf('-arab') > 1 ? 'rtl' : 'ltr';\n  }\n  static createInstance() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let callback = arguments.length > 1 ? arguments[1] : undefined;\n    return new I18n(options, callback);\n  }\n  cloneInstance() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n    const forkResourceStore = options.forkResourceStore;\n    if (forkResourceStore) delete options.forkResourceStore;\n    const mergedOptions = {\n      ...this.options,\n      ...options,\n      ...{\n        isClone: true\n      }\n    };\n    const clone = new I18n(mergedOptions);\n    if (options.debug !== undefined || options.prefix !== undefined) {\n      clone.logger = clone.logger.clone(options);\n    }\n    const membersToCopy = ['store', 'services', 'language'];\n    membersToCopy.forEach(m => {\n      clone[m] = this[m];\n    });\n    clone.services = {\n      ...this.services\n    };\n    clone.services.utils = {\n      hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)\n    };\n    if (forkResourceStore) {\n      clone.store = new ResourceStore(this.store.data, mergedOptions);\n      clone.services.resourceStore = clone.store;\n    }\n    clone.translator = new Translator(clone.services, mergedOptions);\n    clone.translator.on('*', function (event) {\n      for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n        args[_key4 - 1] = arguments[_key4];\n      }\n      clone.emit(event, ...args);\n    });\n    clone.init(mergedOptions, callback);\n    clone.translator.options = mergedOptions;\n    clone.translator.backendConnector.services.utils = {\n      hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)\n    };\n    return clone;\n  }\n  toJSON() {\n    return {\n      options: this.options,\n      store: this.store,\n      language: this.language,\n      languages: this.languages,\n      resolvedLanguage: this.resolvedLanguage\n    };\n  }\n}\nconst instance = I18n.createInstance();\ninstance.createInstance = I18n.createInstance;\n\nconst createInstance = instance.createInstance;\nconst dir = instance.dir;\nconst init = instance.init;\nconst loadResources = instance.loadResources;\nconst reloadResources = instance.reloadResources;\nconst use = instance.use;\nconst changeLanguage = instance.changeLanguage;\nconst getFixedT = instance.getFixedT;\nconst t = instance.t;\nconst exists = instance.exists;\nconst setDefaultNamespace = instance.setDefaultNamespace;\nconst hasLoadedNamespace = instance.hasLoadedNamespace;\nconst loadNamespaces = instance.loadNamespaces;\nconst loadLanguages = instance.loadLanguages;\n\nexport { changeLanguage, createInstance, instance as default, dir, exists, getFixedT, hasLoadedNamespace, init, loadLanguages, loadNamespaces, loadResources, reloadResources, setDefaultNamespace, t, use };\n","export { Trans } from './Trans.js';\nexport { Trans as TransWithoutContext } from './TransWithoutContext.js';\nexport { useTranslation } from './useTranslation.js';\nexport { withTranslation } from './withTranslation.js';\nexport { Translation } from './Translation.js';\nexport { I18nextProvider } from './I18nextProvider.js';\nexport { withSSR } from './withSSR.js';\nexport { useSSR } from './useSSR.js';\nexport { initReactI18next } from './initReactI18next.js';\nexport { setDefaults, getDefaults } from './defaults.js';\nexport { setI18n, getI18n } from './i18nInstance.js';\nexport { I18nContext, composeInitialProps, getInitialProps } from './context.js';\nexport const date = () => '';\nexport const time = () => '';\nexport const number = () => '';\nexport const select = () => '';\nexport const plural = () => '';\nexport const selectOrdinal = () => '';","import { useContext } from 'react';\nimport { nodesToString, Trans as TransWithoutContext } from './TransWithoutContext.js';\nimport { getI18n, I18nContext } from './context.js';\nexport { nodesToString };\nexport function Trans(_ref) {\n  let {\n    children,\n    count,\n    parent,\n    i18nKey,\n    context,\n    tOptions = {},\n    values,\n    defaults,\n    components,\n    ns,\n    i18n: i18nFromProps,\n    t: tFromProps,\n    shouldUnescape,\n    ...additionalProps\n  } = _ref;\n  const {\n    i18n: i18nFromContext,\n    defaultNS: defaultNSFromContext\n  } = useContext(I18nContext) || {};\n  const i18n = i18nFromProps || i18nFromContext || getI18n();\n  const t = tFromProps || i18n && i18n.t.bind(i18n);\n  return TransWithoutContext({\n    children,\n    count,\n    parent,\n    i18nKey,\n    context,\n    tOptions,\n    values,\n    defaults,\n    components,\n    ns: ns || t && t.ns || defaultNSFromContext || i18n && i18n.options && i18n.options.defaultNS,\n    i18n,\n    t: tFromProps,\n    shouldUnescape,\n    ...additionalProps\n  });\n}","import{Component as n,createElement as t,options as e,toChildArray as r,Fragment as u,render as o,hydrate as i,createContext as l,createRef as c,cloneElement as f}from\"preact\";export{Component,Fragment,createContext,createElement,createRef}from\"preact\";import{useState as a,useId as s,useReducer as h,useEffect as v,useLayoutEffect as d,useRef as p,useImperativeHandle as m,useMemo as y,useCallback as _,useContext as b,useDebugValue as S}from\"preact/hooks\";export*from\"preact/hooks\";function g(n,t){for(var e in t)n[e]=t[e];return n}function C(n,t){for(var e in n)if(\"__source\"!==e&&!(e in t))return!0;for(var r in t)if(\"__source\"!==r&&n[r]!==t[r])return!0;return!1}function E(n,t){return n===t&&(0!==n||1/n==1/t)||n!=n&&t!=t}function w(n){this.props=n}function x(n,e){function r(n){var t=this.props.ref,r=t==n.ref;return!r&&t&&(t.call?t(null):t.current=null),e?!e(this.props,n)||!r:C(this.props,n)}function u(e){return this.shouldComponentUpdate=r,t(n,e)}return u.displayName=\"Memo(\"+(n.displayName||n.name)+\")\",u.prototype.isReactComponent=!0,u.__f=!0,u}(w.prototype=new n).isPureReactComponent=!0,w.prototype.shouldComponentUpdate=function(n,t){return C(this.props,n)||C(this.state,t)};var R=e.__b;e.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),R&&R(n)};var N=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.forward_ref\")||3911;function k(n){function t(t){var e=g({},t);return delete e.ref,n(e,t.ref||null)}return t.$$typeof=N,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName=\"ForwardRef(\"+(n.displayName||n.name)+\")\",t}var A=function(n,t){return null==n?null:r(r(n).map(t))},O={map:A,forEach:A,count:function(n){return n?r(n).length:0},only:function(n){var t=r(n);if(1!==t.length)throw\"Children.only\";return t[0]},toArray:r},T=e.__e;e.__e=function(n,t,e,r){if(n.then)for(var u,o=t;o=o.__;)if((u=o.__c)&&u.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),u.__c(n,t);T(n,t,e,r)};var F=e.unmount;function I(n,t,e){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(n){\"function\"==typeof n.__c&&n.__c()}),n.__c.__H=null),null!=(n=g({},n)).__c&&(n.__c.__P===e&&(n.__c.__P=t),n.__c=null),n.__k=n.__k&&n.__k.map(function(n){return I(n,t,e)})),n}function L(n,t,e){return n&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(n){return L(n,t,e)}),n.__c&&n.__c.__P===t&&(n.__e&&e.insertBefore(n.__e,n.__d),n.__c.__e=!0,n.__c.__P=e)),n}function U(){this.__u=0,this.t=null,this.__b=null}function D(n){var t=n.__.__c;return t&&t.__a&&t.__a(n)}function M(n){var e,r,u;function o(o){if(e||(e=n()).then(function(n){r=n.default||n},function(n){u=n}),u)throw u;if(!r)throw e;return t(r,o)}return o.displayName=\"Lazy\",o.__f=!0,o}function V(){this.u=null,this.o=null}e.unmount=function(n){var t=n.__c;t&&t.__R&&t.__R(),t&&!0===n.__h&&(n.type=null),F&&F(n)},(U.prototype=new n).__c=function(n,t){var e=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(e);var u=D(r.__v),o=!1,i=function(){o||(o=!0,e.__R=null,u?u(l):l())};e.__R=i;var l=function(){if(!--r.__u){if(r.state.__a){var n=r.state.__a;r.__v.__k[0]=L(n,n.__c.__P,n.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.t.pop();)t.forceUpdate()}},c=!0===t.__h;r.__u++||c||r.setState({__a:r.__b=r.__v.__k[0]}),n.then(i,i)},U.prototype.componentWillUnmount=function(){this.t=[]},U.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var r=document.createElement(\"div\"),o=this.__v.__k[0].__c;this.__v.__k[0]=I(this.__b,r,o.__O=o.__P)}this.__b=null}var i=e.__a&&t(u,null,n.fallback);return i&&(i.__h=null),[t(u,null,e.__a?null:n.children),i]};var W=function(n,t,e){if(++e[1]===e[0]&&n.o.delete(t),n.props.revealOrder&&(\"t\"!==n.props.revealOrder[0]||!n.o.size))for(e=n.u;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.u=e=e[2]}};function P(n){return this.getChildContext=function(){return n.context},n.children}function j(n){var e=this,r=n.i;e.componentWillUnmount=function(){o(null,e.l),e.l=null,e.i=null},e.i&&e.i!==r&&e.componentWillUnmount(),e.l||(e.i=r,e.l={nodeType:1,parentNode:r,childNodes:[],appendChild:function(n){this.childNodes.push(n),e.i.appendChild(n)},insertBefore:function(n,t){this.childNodes.push(n),e.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.i.removeChild(n)}}),o(t(P,{context:e.context},n.__v),e.l)}function z(n,e){var r=t(j,{__v:n,i:e});return r.containerInfo=e,r}(V.prototype=new n).__a=function(n){var t=this,e=D(t.__v),r=t.o.get(n);return r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),W(t,n,r)):u()};e?e(o):o()}},V.prototype.render=function(n){this.u=null,this.o=new Map;var t=r(n.children);n.revealOrder&&\"b\"===n.revealOrder[0]&&t.reverse();for(var e=t.length;e--;)this.o.set(t[e],this.u=[1,0,this.u]);return n.children},V.prototype.componentDidUpdate=V.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(t,e){W(n,e,t)})};var B=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,H=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Z=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Y=/[A-Z0-9]/g,$=\"undefined\"!=typeof document,q=function(n){return(\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(n)};function G(n,t,e){return null==t.__k&&(t.textContent=\"\"),o(n,t),\"function\"==typeof e&&e(),n?n.__c:null}function J(n,t,e){return i(n,t),\"function\"==typeof e&&e(),n?n.__c:null}n.prototype.isReactComponent={},[\"componentWillMount\",\"componentWillReceiveProps\",\"componentWillUpdate\"].forEach(function(t){Object.defineProperty(n.prototype,t,{configurable:!0,get:function(){return this[\"UNSAFE_\"+t]},set:function(n){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:n})}})});var K=e.event;function Q(){}function X(){return this.cancelBubble}function nn(){return this.defaultPrevented}e.event=function(n){return K&&(n=K(n)),n.persist=Q,n.isPropagationStopped=X,n.isDefaultPrevented=nn,n.nativeEvent=n};var tn,en={enumerable:!1,configurable:!0,get:function(){return this.class}},rn=e.vnode;e.vnode=function(n){\"string\"==typeof n.type&&function(n){var t=n.props,e=n.type,u={};for(var o in t){var i=t[o];if(!(\"value\"===o&&\"defaultValue\"in t&&null==i||$&&\"children\"===o&&\"noscript\"===e||\"class\"===o||\"className\"===o)){var l=o.toLowerCase();\"defaultValue\"===o&&\"value\"in t&&null==t.value?o=\"value\":\"download\"===o&&!0===i?i=\"\":\"ondoubleclick\"===l?o=\"ondblclick\":\"onchange\"!==l||\"input\"!==e&&\"textarea\"!==e||q(t.type)?\"onfocus\"===l?o=\"onfocusin\":\"onblur\"===l?o=\"onfocusout\":Z.test(o)?o=l:-1===e.indexOf(\"-\")&&H.test(o)?o=o.replace(Y,\"-$&\").toLowerCase():null===i&&(i=void 0):l=o=\"oninput\",\"oninput\"===l&&u[o=l]&&(o=\"oninputCapture\"),u[o]=i}}\"select\"==e&&u.multiple&&Array.isArray(u.value)&&(u.value=r(t.children).forEach(function(n){n.props.selected=-1!=u.value.indexOf(n.props.value)})),\"select\"==e&&null!=u.defaultValue&&(u.value=r(t.children).forEach(function(n){n.props.selected=u.multiple?-1!=u.defaultValue.indexOf(n.props.value):u.defaultValue==n.props.value})),t.class&&!t.className?(u.class=t.class,Object.defineProperty(u,\"className\",en)):(t.className&&!t.class||t.class&&t.className)&&(u.class=u.className=t.className),n.props=u}(n),n.$$typeof=B,rn&&rn(n)};var un=e.__r;e.__r=function(n){un&&un(n),tn=n.__c};var on=e.diffed;e.diffed=function(n){on&&on(n);var t=n.props,e=n.__e;null!=e&&\"textarea\"===n.type&&\"value\"in t&&t.value!==e.value&&(e.value=null==t.value?\"\":t.value),tn=null};var ln={ReactCurrentDispatcher:{current:{readContext:function(n){return tn.__n[n.__c].props.value}}}},cn=\"17.0.2\";function fn(n){return t.bind(null,n)}function an(n){return!!n&&n.$$typeof===B}function sn(n){return an(n)&&n.type===u}function hn(n){return an(n)?f.apply(null,arguments):n}function vn(n){return!!n.__k&&(o(null,n),!0)}function dn(n){return n&&(n.base||1===n.nodeType&&n)||null}var pn=function(n,t){return n(t)},mn=function(n,t){return n(t)},yn=u;function _n(n){n()}function bn(n){return n}function Sn(){return[!1,_n]}var gn=d,Cn=an;function En(n,t){var e=t(),r=a({h:{__:e,v:t}}),u=r[0].h,o=r[1];return d(function(){u.__=e,u.v=t,E(u.__,t())||o({h:u})},[n,e,t]),v(function(){return E(u.__,u.v())||o({h:u}),n(function(){E(u.__,u.v())||o({h:u})})},[n]),e}var wn={useState:a,useId:s,useReducer:h,useEffect:v,useLayoutEffect:d,useInsertionEffect:gn,useTransition:Sn,useDeferredValue:bn,useSyncExternalStore:En,startTransition:_n,useRef:p,useImperativeHandle:m,useMemo:y,useCallback:_,useContext:b,useDebugValue:S,version:\"17.0.2\",Children:O,render:G,hydrate:J,unmountComponentAtNode:vn,createPortal:z,createElement:t,createContext:l,createFactory:fn,cloneElement:hn,createRef:c,Fragment:u,isValidElement:an,isElement:Cn,isFragment:sn,findDOMNode:dn,Component:n,PureComponent:w,memo:x,forwardRef:k,flushSync:mn,unstable_batchedUpdates:pn,StrictMode:yn,Suspense:U,SuspenseList:V,lazy:M,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:ln};export{O as Children,w as PureComponent,yn as StrictMode,U as Suspense,V as SuspenseList,ln as __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hn as cloneElement,fn as createFactory,z as createPortal,wn as default,dn as findDOMNode,mn as flushSync,k as forwardRef,J as hydrate,Cn as isElement,sn as isFragment,an as isValidElement,M as lazy,x as memo,G as render,_n as startTransition,vn as unmountComponentAtNode,pn as unstable_batchedUpdates,bn as useDeferredValue,gn as useInsertionEffect,En as useSyncExternalStore,Sn as useTransition,cn as version};\n//# sourceMappingURL=compat.module.js.map\n","/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Check if two objects have a different shape\n * @param {object} a\n * @param {object} b\n * @returns {boolean}\n */\nexport function shallowDiffers(a, b) {\n\tfor (let i in a) if (i !== '__source' && !(i in b)) return true;\n\tfor (let i in b) if (i !== '__source' && a[i] !== b[i]) return true;\n\treturn false;\n}\n\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\n/**\n * Check if two values are the same value\n * @param {*} x\n * @param {*} y\n * @returns {boolean}\n */\nexport function is(x, y) {\n\treturn (x === y && (x !== 0 || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\n","import { Component } from 'preact';\nimport { shallowDiffers } from './util';\n\n/**\n * Component class with a predefined `shouldComponentUpdate` implementation\n */\nexport function PureComponent(p) {\n\tthis.props = p;\n}\nPureComponent.prototype = new Component();\n// Some third-party libraries check if this property is present\nPureComponent.prototype.isPureReactComponent = true;\nPureComponent.prototype.shouldComponentUpdate = function (props, state) {\n\treturn shallowDiffers(this.props, props) || shallowDiffers(this.state, state);\n};\n","import { createElement } from 'preact';\nimport { shallowDiffers } from './util';\n\n/**\n * Memoize a component, so that it only updates when the props actually have\n * changed. This was previously known as `React.pure`.\n * @param {import('./internal').FunctionComponent} c functional component\n * @param {(prev: object, next: object) => boolean} [comparer] Custom equality function\n * @returns {import('./internal').FunctionComponent}\n */\nexport function memo(c, comparer) {\n\tfunction shouldUpdate(nextProps) {\n\t\tlet ref = this.props.ref;\n\t\tlet updateRef = ref == nextProps.ref;\n\t\tif (!updateRef && ref) {\n\t\t\tref.call ? ref(null) : (ref.current = null);\n\t\t}\n\n\t\tif (!comparer) {\n\t\t\treturn shallowDiffers(this.props, nextProps);\n\t\t}\n\n\t\treturn !comparer(this.props, nextProps) || !updateRef;\n\t}\n\n\tfunction Memoed(props) {\n\t\tthis.shouldComponentUpdate = shouldUpdate;\n\t\treturn createElement(c, props);\n\t}\n\tMemoed.displayName = 'Memo(' + (c.displayName || c.name) + ')';\n\tMemoed.prototype.isReactComponent = true;\n\tMemoed._forwarded = true;\n\treturn Memoed;\n}\n","import { options } from 'preact';\nimport { assign } from './util';\n\nlet oldDiffHook = options._diff;\noptions._diff = vnode => {\n\tif (vnode.type && vnode.type._forwarded && vnode.ref) {\n\t\tvnode.props.ref = vnode.ref;\n\t\tvnode.ref = null;\n\t}\n\tif (oldDiffHook) oldDiffHook(vnode);\n};\n\nexport const REACT_FORWARD_SYMBOL =\n\t(typeof Symbol != 'undefined' &&\n\t\tSymbol.for &&\n\t\tSymbol.for('react.forward_ref')) ||\n\t0xf47;\n\n/**\n * Pass ref down to a child. This is mainly used in libraries with HOCs that\n * wrap components. Using `forwardRef` there is an easy way to get a reference\n * of the wrapped component instead of one of the wrapper itself.\n * @param {import('./index').ForwardFn} fn\n * @returns {import('./internal').FunctionComponent}\n */\nexport function forwardRef(fn) {\n\tfunction Forwarded(props) {\n\t\tlet clone = assign({}, props);\n\t\tdelete clone.ref;\n\t\treturn fn(clone, props.ref || null);\n\t}\n\n\t// mobx-react checks for this being present\n\tForwarded.$$typeof = REACT_FORWARD_SYMBOL;\n\t// mobx-react heavily relies on implementation details.\n\t// It expects an object here with a `render` property,\n\t// and prototype.render will fail. Without this\n\t// mobx-react throws.\n\tForwarded.render = Forwarded;\n\n\tForwarded.prototype.isReactComponent = Forwarded._forwarded = true;\n\tForwarded.displayName = 'ForwardRef(' + (fn.displayName || fn.name) + ')';\n\treturn Forwarded;\n}\n","import { toChildArray } from 'preact';\n\nconst mapFn = (children, fn) => {\n\tif (children == null) return null;\n\treturn toChildArray(toChildArray(children).map(fn));\n};\n\n// This API is completely unnecessary for Preact, so it's basically passthrough.\nexport const Children = {\n\tmap: mapFn,\n\tforEach: mapFn,\n\tcount(children) {\n\t\treturn children ? toChildArray(children).length : 0;\n\t},\n\tonly(children) {\n\t\tconst normalized = toChildArray(children);\n\t\tif (normalized.length !== 1) throw 'Children.only';\n\t\treturn normalized[0];\n\t},\n\ttoArray: toChildArray\n};\n","import { Component, createElement, options, Fragment } from 'preact';\nimport { assign } from './util';\n\nconst oldCatchError = options._catchError;\noptions._catchError = function (error, newVNode, oldVNode, errorInfo) {\n\tif (error.then) {\n\t\t/** @type {import('./internal').Component} */\n\t\tlet component;\n\t\tlet vnode = newVNode;\n\n\t\tfor (; (vnode = vnode._parent); ) {\n\t\t\tif ((component = vnode._component) && component._childDidSuspend) {\n\t\t\t\tif (newVNode._dom == null) {\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t}\n\t\t\t\t// Don't call oldCatchError if we found a Suspense\n\t\t\t\treturn component._childDidSuspend(error, newVNode);\n\t\t\t}\n\t\t}\n\t}\n\toldCatchError(error, newVNode, oldVNode, errorInfo);\n};\n\nconst oldUnmount = options.unmount;\noptions.unmount = function (vnode) {\n\t/** @type {import('./internal').Component} */\n\tconst component = vnode._component;\n\tif (component && component._onResolve) {\n\t\tcomponent._onResolve();\n\t}\n\n\t// if the component is still hydrating\n\t// most likely it is because the component is suspended\n\t// we set the vnode.type as `null` so that it is not a typeof function\n\t// so the unmount will remove the vnode._dom\n\tif (component && vnode._hydrating === true) {\n\t\tvnode.type = null;\n\t}\n\n\tif (oldUnmount) oldUnmount(vnode);\n};\n\nfunction detachedClone(vnode, detachedParent, parentDom) {\n\tif (vnode) {\n\t\tif (vnode._component && vnode._component.__hooks) {\n\t\t\tvnode._component.__hooks._list.forEach(effect => {\n\t\t\t\tif (typeof effect._cleanup == 'function') effect._cleanup();\n\t\t\t});\n\n\t\t\tvnode._component.__hooks = null;\n\t\t}\n\n\t\tvnode = assign({}, vnode);\n\t\tif (vnode._component != null) {\n\t\t\tif (vnode._component._parentDom === parentDom) {\n\t\t\t\tvnode._component._parentDom = detachedParent;\n\t\t\t}\n\t\t\tvnode._component = null;\n\t\t}\n\n\t\tvnode._children =\n\t\t\tvnode._children &&\n\t\t\tvnode._children.map(child =>\n\t\t\t\tdetachedClone(child, detachedParent, parentDom)\n\t\t\t);\n\t}\n\n\treturn vnode;\n}\n\nfunction removeOriginal(vnode, detachedParent, originalParent) {\n\tif (vnode) {\n\t\tvnode._original = null;\n\t\tvnode._children =\n\t\t\tvnode._children &&\n\t\t\tvnode._children.map(child =>\n\t\t\t\tremoveOriginal(child, detachedParent, originalParent)\n\t\t\t);\n\n\t\tif (vnode._component) {\n\t\t\tif (vnode._component._parentDom === detachedParent) {\n\t\t\t\tif (vnode._dom) {\n\t\t\t\t\toriginalParent.insertBefore(vnode._dom, vnode._nextDom);\n\t\t\t\t}\n\t\t\t\tvnode._component._force = true;\n\t\t\t\tvnode._component._parentDom = originalParent;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn vnode;\n}\n\n// having custom inheritance instead of a class here saves a lot of bytes\nexport function Suspense() {\n\t// we do not call super here to golf some bytes...\n\tthis._pendingSuspensionCount = 0;\n\tthis._suspenders = null;\n\tthis._detachOnNextRender = null;\n}\n\n// Things we do here to save some bytes but are not proper JS inheritance:\n// - call `new Component()` as the prototype\n// - do not set `Suspense.prototype.constructor` to `Suspense`\nSuspense.prototype = new Component();\n\n/**\n * @this {import('./internal').SuspenseComponent}\n * @param {Promise} promise The thrown promise\n * @param {import('./internal').VNode<any, any>} suspendingVNode The suspending component\n */\nSuspense.prototype._childDidSuspend = function (promise, suspendingVNode) {\n\tconst suspendingComponent = suspendingVNode._component;\n\n\t/** @type {import('./internal').SuspenseComponent} */\n\tconst c = this;\n\n\tif (c._suspenders == null) {\n\t\tc._suspenders = [];\n\t}\n\tc._suspenders.push(suspendingComponent);\n\n\tconst resolve = suspended(c._vnode);\n\n\tlet resolved = false;\n\tconst onResolved = () => {\n\t\tif (resolved) return;\n\n\t\tresolved = true;\n\t\tsuspendingComponent._onResolve = null;\n\n\t\tif (resolve) {\n\t\t\tresolve(onSuspensionComplete);\n\t\t} else {\n\t\t\tonSuspensionComplete();\n\t\t}\n\t};\n\n\tsuspendingComponent._onResolve = onResolved;\n\n\tconst onSuspensionComplete = () => {\n\t\tif (!--c._pendingSuspensionCount) {\n\t\t\t// If the suspension was during hydration we don't need to restore the\n\t\t\t// suspended children into the _children array\n\t\t\tif (c.state._suspended) {\n\t\t\t\tconst suspendedVNode = c.state._suspended;\n\t\t\t\tc._vnode._children[0] = removeOriginal(\n\t\t\t\t\tsuspendedVNode,\n\t\t\t\t\tsuspendedVNode._component._parentDom,\n\t\t\t\t\tsuspendedVNode._component._originalParentDom\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tc.setState({ _suspended: (c._detachOnNextRender = null) });\n\n\t\t\tlet suspended;\n\t\t\twhile ((suspended = c._suspenders.pop())) {\n\t\t\t\tsuspended.forceUpdate();\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * We do not set `suspended: true` during hydration because we want the actual markup\n\t * to remain on screen and hydrate it when the suspense actually gets resolved.\n\t * While in non-hydration cases the usual fallback -> component flow would occour.\n\t */\n\tconst wasHydrating = suspendingVNode._hydrating === true;\n\tif (!c._pendingSuspensionCount++ && !wasHydrating) {\n\t\tc.setState({ _suspended: (c._detachOnNextRender = c._vnode._children[0]) });\n\t}\n\tpromise.then(onResolved, onResolved);\n};\n\nSuspense.prototype.componentWillUnmount = function () {\n\tthis._suspenders = [];\n};\n\n/**\n * @this {import('./internal').SuspenseComponent}\n * @param {import('./internal').SuspenseComponent[\"props\"]} props\n * @param {import('./internal').SuspenseState} state\n */\nSuspense.prototype.render = function (props, state) {\n\tif (this._detachOnNextRender) {\n\t\t// When the Suspense's _vnode was created by a call to createVNode\n\t\t// (i.e. due to a setState further up in the tree)\n\t\t// it's _children prop is null, in this case we \"forget\" about the parked vnodes to detach\n\t\tif (this._vnode._children) {\n\t\t\tconst detachedParent = document.createElement('div');\n\t\t\tconst detachedComponent = this._vnode._children[0]._component;\n\t\t\tthis._vnode._children[0] = detachedClone(\n\t\t\t\tthis._detachOnNextRender,\n\t\t\t\tdetachedParent,\n\t\t\t\t(detachedComponent._originalParentDom = detachedComponent._parentDom)\n\t\t\t);\n\t\t}\n\n\t\tthis._detachOnNextRender = null;\n\t}\n\n\t// Wrap fallback tree in a VNode that prevents itself from being marked as aborting mid-hydration:\n\t/** @type {import('./internal').VNode} */\n\tconst fallback =\n\t\tstate._suspended && createElement(Fragment, null, props.fallback);\n\tif (fallback) fallback._hydrating = null;\n\n\treturn [\n\t\tcreateElement(Fragment, null, state._suspended ? null : props.children),\n\t\tfallback\n\t];\n};\n\n/**\n * Checks and calls the parent component's _suspended method, passing in the\n * suspended vnode. This is a way for a parent (e.g. SuspenseList) to get notified\n * that one of its children/descendants suspended.\n *\n * The parent MAY return a callback. The callback will get called when the\n * suspension resolves, notifying the parent of the fact.\n * Moreover, the callback gets function `unsuspend` as a parameter. The resolved\n * child descendant will not actually get unsuspended until `unsuspend` gets called.\n * This is a way for the parent to delay unsuspending.\n *\n * If the parent does not return a callback then the resolved vnode\n * gets unsuspended immediately when it resolves.\n *\n * @param {import('./internal').VNode} vnode\n * @returns {((unsuspend: () => void) => void)?}\n */\nexport function suspended(vnode) {\n\t/** @type {import('./internal').Component} */\n\tlet component = vnode._parent._component;\n\treturn component && component._suspended && component._suspended(vnode);\n}\n\nexport function lazy(loader) {\n\tlet prom;\n\tlet component;\n\tlet error;\n\n\tfunction Lazy(props) {\n\t\tif (!prom) {\n\t\t\tprom = loader();\n\t\t\tprom.then(\n\t\t\t\texports => {\n\t\t\t\t\tcomponent = exports.default || exports;\n\t\t\t\t},\n\t\t\t\te => {\n\t\t\t\t\terror = e;\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\n\t\tif (error) {\n\t\t\tthrow error;\n\t\t}\n\n\t\tif (!component) {\n\t\t\tthrow prom;\n\t\t}\n\n\t\treturn createElement(component, props);\n\t}\n\n\tLazy.displayName = 'Lazy';\n\tLazy._forwarded = true;\n\treturn Lazy;\n}\n","import { Component, toChildArray } from 'preact';\nimport { suspended } from './suspense.js';\n\n// Indexes to linked list nodes (nodes are stored as arrays to save bytes).\nconst SUSPENDED_COUNT = 0;\nconst RESOLVED_COUNT = 1;\nconst NEXT_NODE = 2;\n\n// Having custom inheritance instead of a class here saves a lot of bytes.\nexport function SuspenseList() {\n\tthis._next = null;\n\tthis._map = null;\n}\n\n// Mark one of child's earlier suspensions as resolved.\n// Some pending callbacks may become callable due to this\n// (e.g. the last suspended descendant gets resolved when\n// revealOrder === 'together'). Process those callbacks as well.\nconst resolve = (list, child, node) => {\n\tif (++node[RESOLVED_COUNT] === node[SUSPENDED_COUNT]) {\n\t\t// The number a child (or any of its descendants) has been suspended\n\t\t// matches the number of times it's been resolved. Therefore we\n\t\t// mark the child as completely resolved by deleting it from ._map.\n\t\t// This is used to figure out when *all* children have been completely\n\t\t// resolved when revealOrder is 'together'.\n\t\tlist._map.delete(child);\n\t}\n\n\t// If revealOrder is falsy then we can do an early exit, as the\n\t// callbacks won't get queued in the node anyway.\n\t// If revealOrder is 'together' then also do an early exit\n\t// if all suspended descendants have not yet been resolved.\n\tif (\n\t\t!list.props.revealOrder ||\n\t\t(list.props.revealOrder[0] === 't' && list._map.size)\n\t) {\n\t\treturn;\n\t}\n\n\t// Walk the currently suspended children in order, calling their\n\t// stored callbacks on the way. Stop if we encounter a child that\n\t// has not been completely resolved yet.\n\tnode = list._next;\n\twhile (node) {\n\t\twhile (node.length > 3) {\n\t\t\tnode.pop()();\n\t\t}\n\t\tif (node[RESOLVED_COUNT] < node[SUSPENDED_COUNT]) {\n\t\t\tbreak;\n\t\t}\n\t\tlist._next = node = node[NEXT_NODE];\n\t}\n};\n\n// Things we do here to save some bytes but are not proper JS inheritance:\n// - call `new Component()` as the prototype\n// - do not set `Suspense.prototype.constructor` to `Suspense`\nSuspenseList.prototype = new Component();\n\nSuspenseList.prototype._suspended = function (child) {\n\tconst list = this;\n\tconst delegated = suspended(list._vnode);\n\n\tlet node = list._map.get(child);\n\tnode[SUSPENDED_COUNT]++;\n\n\treturn unsuspend => {\n\t\tconst wrappedUnsuspend = () => {\n\t\t\tif (!list.props.revealOrder) {\n\t\t\t\t// Special case the undefined (falsy) revealOrder, as there\n\t\t\t\t// is no need to coordinate a specific order or unsuspends.\n\t\t\t\tunsuspend();\n\t\t\t} else {\n\t\t\t\tnode.push(unsuspend);\n\t\t\t\tresolve(list, child, node);\n\t\t\t}\n\t\t};\n\t\tif (delegated) {\n\t\t\tdelegated(wrappedUnsuspend);\n\t\t} else {\n\t\t\twrappedUnsuspend();\n\t\t}\n\t};\n};\n\nSuspenseList.prototype.render = function (props) {\n\tthis._next = null;\n\tthis._map = new Map();\n\n\tconst children = toChildArray(props.children);\n\tif (props.revealOrder && props.revealOrder[0] === 'b') {\n\t\t// If order === 'backwards' (or, well, anything starting with a 'b')\n\t\t// then flip the child list around so that the last child will be\n\t\t// the first in the linked list.\n\t\tchildren.reverse();\n\t}\n\t// Build the linked list. Iterate through the children in reverse order\n\t// so that `_next` points to the first linked list node to be resolved.\n\tfor (let i = children.length; i--; ) {\n\t\t// Create a new linked list node as an array of form:\n\t\t// \t[suspended_count, resolved_count, next_node]\n\t\t// where suspended_count and resolved_count are numeric counters for\n\t\t// keeping track how many times a node has been suspended and resolved.\n\t\t//\n\t\t// Note that suspended_count starts from 1 instead of 0, so we can block\n\t\t// processing callbacks until componentDidMount has been called. In a sense\n\t\t// node is suspended at least until componentDidMount gets called!\n\t\t//\n\t\t// Pending callbacks are added to the end of the node:\n\t\t// \t[suspended_count, resolved_count, next_node, callback_0, callback_1, ...]\n\t\tthis._map.set(children[i], (this._next = [1, 0, this._next]));\n\t}\n\treturn props.children;\n};\n\nSuspenseList.prototype.componentDidUpdate =\n\tSuspenseList.prototype.componentDidMount = function () {\n\t\t// Iterate through all children after mounting for two reasons:\n\t\t// 1. As each node[SUSPENDED_COUNT] starts from 1, this iteration increases\n\t\t//    each node[RELEASED_COUNT] by 1, therefore balancing the counters.\n\t\t//    The nodes can now be completely consumed from the linked list.\n\t\t// 2. Handle nodes that might have gotten resolved between render and\n\t\t//    componentDidMount.\n\t\tthis._map.forEach((node, child) => {\n\t\t\tresolve(this, child, node);\n\t\t});\n\t};\n","import { createElement, render } from 'preact';\n\n/**\n * @param {import('../../src/index').RenderableProps<{ context: any }>} props\n */\nfunction ContextProvider(props) {\n\tthis.getChildContext = () => props.context;\n\treturn props.children;\n}\n\n/**\n * Portal component\n * @this {import('./internal').Component}\n * @param {object | null | undefined} props\n *\n * TODO: use createRoot() instead of fake root\n */\nfunction Portal(props) {\n\tconst _this = this;\n\tlet container = props._container;\n\n\t_this.componentWillUnmount = function () {\n\t\trender(null, _this._temp);\n\t\t_this._temp = null;\n\t\t_this._container = null;\n\t};\n\n\t// When we change container we should clear our old container and\n\t// indicate a new mount.\n\tif (_this._container && _this._container !== container) {\n\t\t_this.componentWillUnmount();\n\t}\n\n\tif (!_this._temp) {\n\t\t_this._container = container;\n\n\t\t// Create a fake DOM parent node that manages a subset of `container`'s children:\n\t\t_this._temp = {\n\t\t\tnodeType: 1,\n\t\t\tparentNode: container,\n\t\t\tchildNodes: [],\n\t\t\tappendChild(child) {\n\t\t\t\tthis.childNodes.push(child);\n\t\t\t\t_this._container.appendChild(child);\n\t\t\t},\n\t\t\tinsertBefore(child, before) {\n\t\t\t\tthis.childNodes.push(child);\n\t\t\t\t_this._container.appendChild(child);\n\t\t\t},\n\t\t\tremoveChild(child) {\n\t\t\t\tthis.childNodes.splice(this.childNodes.indexOf(child) >>> 1, 1);\n\t\t\t\t_this._container.removeChild(child);\n\t\t\t}\n\t\t};\n\t}\n\n\t// Render our wrapping element into temp.\n\trender(\n\t\tcreateElement(ContextProvider, { context: _this.context }, props._vnode),\n\t\t_this._temp\n\t);\n}\n\n/**\n * Create a `Portal` to continue rendering the vnode tree at a different DOM node\n * @param {import('./internal').VNode} vnode The vnode to render\n * @param {import('./internal').PreactElement} container The DOM node to continue rendering in to.\n */\nexport function createPortal(vnode, container) {\n\tconst el = createElement(Portal, { _vnode: vnode, _container: container });\n\tel.containerInfo = container;\n\treturn el;\n}\n","import {\n\trender as preactRender,\n\thydrate as preactHydrate,\n\toptions,\n\ttoChildArray,\n\tComponent\n} from 'preact';\n\nexport const REACT_ELEMENT_TYPE =\n\t(typeof Symbol != 'undefined' && Symbol.for && Symbol.for('react.element')) ||\n\t0xeac7;\n\nconst CAMEL_PROPS =\n\t/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;\nconst ON_ANI = /^on(Ani|Tra|Tou|BeforeInp|Compo)/;\nconst CAMEL_REPLACE = /[A-Z0-9]/g;\n\nconst IS_DOM = typeof document !== 'undefined';\n\n// Input types for which onchange should not be converted to oninput.\n// type=\"file|checkbox|radio\", plus \"range\" in IE11.\n// (IE11 doesn't support Symbol, which we use here to turn `rad` into `ra` which matches \"range\")\nconst onChangeInputType = type =>\n\t(typeof Symbol != 'undefined' && typeof Symbol() == 'symbol'\n\t\t? /fil|che|rad/\n\t\t: /fil|che|ra/\n\t).test(type);\n\n// Some libraries like `react-virtualized` explicitly check for this.\nComponent.prototype.isReactComponent = {};\n\n// `UNSAFE_*` lifecycle hooks\n// Preact only ever invokes the unprefixed methods.\n// Here we provide a base \"fallback\" implementation that calls any defined UNSAFE_ prefixed method.\n// - If a component defines its own `componentDidMount()` (including via defineProperty), use that.\n// - If a component defines `UNSAFE_componentDidMount()`, `componentDidMount` is the alias getter/setter.\n// - If anything assigns to an `UNSAFE_*` property, the assignment is forwarded to the unprefixed property.\n// See https://github.com/preactjs/preact/issues/1941\n[\n\t'componentWillMount',\n\t'componentWillReceiveProps',\n\t'componentWillUpdate'\n].forEach(key => {\n\tObject.defineProperty(Component.prototype, key, {\n\t\tconfigurable: true,\n\t\tget() {\n\t\t\treturn this['UNSAFE_' + key];\n\t\t},\n\t\tset(v) {\n\t\t\tObject.defineProperty(this, key, {\n\t\t\t\tconfigurable: true,\n\t\t\t\twritable: true,\n\t\t\t\tvalue: v\n\t\t\t});\n\t\t}\n\t});\n});\n\n/**\n * Proxy render() since React returns a Component reference.\n * @param {import('./internal').VNode} vnode VNode tree to render\n * @param {import('./internal').PreactElement} parent DOM node to render vnode tree into\n * @param {() => void} [callback] Optional callback that will be called after rendering\n * @returns {import('./internal').Component | null} The root component reference or null\n */\nexport function render(vnode, parent, callback) {\n\t// React destroys any existing DOM nodes, see #1727\n\t// ...but only on the first render, see #1828\n\tif (parent._children == null) {\n\t\tparent.textContent = '';\n\t}\n\n\tpreactRender(vnode, parent);\n\tif (typeof callback == 'function') callback();\n\n\treturn vnode ? vnode._component : null;\n}\n\nexport function hydrate(vnode, parent, callback) {\n\tpreactHydrate(vnode, parent);\n\tif (typeof callback == 'function') callback();\n\n\treturn vnode ? vnode._component : null;\n}\n\nlet oldEventHook = options.event;\noptions.event = e => {\n\tif (oldEventHook) e = oldEventHook(e);\n\n\te.persist = empty;\n\te.isPropagationStopped = isPropagationStopped;\n\te.isDefaultPrevented = isDefaultPrevented;\n\treturn (e.nativeEvent = e);\n};\n\nfunction empty() {}\n\nfunction isPropagationStopped() {\n\treturn this.cancelBubble;\n}\n\nfunction isDefaultPrevented() {\n\treturn this.defaultPrevented;\n}\n\nconst classNameDescriptorNonEnumberable = {\n\tenumerable: false,\n\tconfigurable: true,\n\tget() {\n\t\treturn this.class;\n\t}\n};\n\nfunction handleDomVNode(vnode) {\n\tlet props = vnode.props,\n\t\ttype = vnode.type,\n\t\tnormalizedProps = {};\n\n\tfor (let i in props) {\n\t\tlet value = props[i];\n\n\t\tif (\n\t\t\t(i === 'value' && 'defaultValue' in props && value == null) ||\n\t\t\t// Emulate React's behavior of not rendering the contents of noscript tags on the client.\n\t\t\t(IS_DOM && i === 'children' && type === 'noscript') ||\n\t\t\ti === 'class' ||\n\t\t\ti === 'className'\n\t\t) {\n\t\t\t// Skip applying value if it is null/undefined and we already set\n\t\t\t// a default value\n\t\t\tcontinue;\n\t\t}\n\n\t\tlet lowerCased = i.toLowerCase();\n\t\tif (i === 'defaultValue' && 'value' in props && props.value == null) {\n\t\t\t// `defaultValue` is treated as a fallback `value` when a value prop is present but null/undefined.\n\t\t\t// `defaultValue` for Elements with no value prop is the same as the DOM defaultValue property.\n\t\t\ti = 'value';\n\t\t} else if (i === 'download' && value === true) {\n\t\t\t// Calling `setAttribute` with a truthy value will lead to it being\n\t\t\t// passed as a stringified value, e.g. `download=\"true\"`. React\n\t\t\t// converts it to an empty string instead, otherwise the attribute\n\t\t\t// value will be used as the file name and the file will be called\n\t\t\t// \"true\" upon downloading it.\n\t\t\tvalue = '';\n\t\t} else if (lowerCased === 'ondoubleclick') {\n\t\t\ti = 'ondblclick';\n\t\t} else if (\n\t\t\tlowerCased === 'onchange' &&\n\t\t\t(type === 'input' || type === 'textarea') &&\n\t\t\t!onChangeInputType(props.type)\n\t\t) {\n\t\t\tlowerCased = i = 'oninput';\n\t\t} else if (lowerCased === 'onfocus') {\n\t\t\ti = 'onfocusin';\n\t\t} else if (lowerCased === 'onblur') {\n\t\t\ti = 'onfocusout';\n\t\t} else if (ON_ANI.test(i)) {\n\t\t\ti = lowerCased;\n\t\t} else if (type.indexOf('-') === -1 && CAMEL_PROPS.test(i)) {\n\t\t\ti = i.replace(CAMEL_REPLACE, '-$&').toLowerCase();\n\t\t} else if (value === null) {\n\t\t\tvalue = undefined;\n\t\t}\n\n\t\t// Add support for onInput and onChange, see #3561\n\t\t// if we have an oninput prop already change it to oninputCapture\n\t\tif (lowerCased === 'oninput') {\n\t\t\ti = lowerCased;\n\t\t\tif (normalizedProps[i]) {\n\t\t\t\ti = 'oninputCapture';\n\t\t\t}\n\t\t}\n\n\t\tnormalizedProps[i] = value;\n\t}\n\n\t// Add support for array select values: <select multiple value={[]} />\n\tif (\n\t\ttype == 'select' &&\n\t\tnormalizedProps.multiple &&\n\t\tArray.isArray(normalizedProps.value)\n\t) {\n\t\t// forEach() always returns undefined, which we abuse here to unset the value prop.\n\t\tnormalizedProps.value = toChildArray(props.children).forEach(child => {\n\t\t\tchild.props.selected =\n\t\t\t\tnormalizedProps.value.indexOf(child.props.value) != -1;\n\t\t});\n\t}\n\n\t// Adding support for defaultValue in select tag\n\tif (type == 'select' && normalizedProps.defaultValue != null) {\n\t\tnormalizedProps.value = toChildArray(props.children).forEach(child => {\n\t\t\tif (normalizedProps.multiple) {\n\t\t\t\tchild.props.selected =\n\t\t\t\t\tnormalizedProps.defaultValue.indexOf(child.props.value) != -1;\n\t\t\t} else {\n\t\t\t\tchild.props.selected =\n\t\t\t\t\tnormalizedProps.defaultValue == child.props.value;\n\t\t\t}\n\t\t});\n\t}\n\n\tif (props.class && !props.className) {\n\t\tnormalizedProps.class = props.class;\n\t\tObject.defineProperty(\n\t\t\tnormalizedProps,\n\t\t\t'className',\n\t\t\tclassNameDescriptorNonEnumberable\n\t\t);\n\t} else if (props.className && !props.class) {\n\t\tnormalizedProps.class = normalizedProps.className = props.className;\n\t} else if (props.class && props.className) {\n\t\tnormalizedProps.class = normalizedProps.className = props.className;\n\t}\n\n\tvnode.props = normalizedProps;\n}\n\nlet oldVNodeHook = options.vnode;\noptions.vnode = vnode => {\n\t// only normalize props on Element nodes\n\tif (typeof vnode.type === 'string') {\n\t\thandleDomVNode(vnode);\n\t}\n\n\tvnode.$$typeof = REACT_ELEMENT_TYPE;\n\n\tif (oldVNodeHook) oldVNodeHook(vnode);\n};\n\n// Only needed for react-relay\nlet currentComponent;\nconst oldBeforeRender = options._render;\noptions._render = function (vnode) {\n\tif (oldBeforeRender) {\n\t\toldBeforeRender(vnode);\n\t}\n\tcurrentComponent = vnode._component;\n};\n\nconst oldDiffed = options.diffed;\n/** @type {(vnode: import('./internal').VNode) => void} */\noptions.diffed = function (vnode) {\n\tif (oldDiffed) {\n\t\toldDiffed(vnode);\n\t}\n\n\tconst props = vnode.props;\n\tconst dom = vnode._dom;\n\n\tif (\n\t\tdom != null &&\n\t\tvnode.type === 'textarea' &&\n\t\t'value' in props &&\n\t\tprops.value !== dom.value\n\t) {\n\t\tdom.value = props.value == null ? '' : props.value;\n\t}\n\n\tcurrentComponent = null;\n};\n\n// This is a very very private internal function for React it\n// is used to sort-of do runtime dependency injection. So far\n// only `react-relay` makes use of it. It uses it to read the\n// context value.\nexport const __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = {\n\tReactCurrentDispatcher: {\n\t\tcurrent: {\n\t\t\treadContext(context) {\n\t\t\t\treturn currentComponent._globalContext[context._id].props.value;\n\t\t\t}\n\t\t}\n\t}\n};\n","import {\n\tcreateElement,\n\trender as preactRender,\n\tcloneElement as preactCloneElement,\n\tcreateRef,\n\tComponent,\n\tcreateContext,\n\tFragment\n} from 'preact';\nimport {\n\tuseState,\n\tuseId,\n\tuseReducer,\n\tuseEffect,\n\tuseLayoutEffect,\n\tuseRef,\n\tuseImperativeHandle,\n\tuseMemo,\n\tuseCallback,\n\tuseContext,\n\tuseDebugValue\n} from 'preact/hooks';\nimport { PureComponent } from './PureComponent';\nimport { memo } from './memo';\nimport { forwardRef } from './forwardRef';\nimport { Children } from './Children';\nimport { Suspense, lazy } from './suspense';\nimport { SuspenseList } from './suspense-list';\nimport { createPortal } from './portals';\nimport { is } from './util';\nimport {\n\thydrate,\n\trender,\n\tREACT_ELEMENT_TYPE,\n\t__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED\n} from './render';\n\nconst version = '17.0.2'; // trick libraries to think we are react\n\n/**\n * Legacy version of createElement.\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component constructor\n */\nfunction createFactory(type) {\n\treturn createElement.bind(null, type);\n}\n\n/**\n * Check if the passed element is a valid (p)react node.\n * @param {*} element The element to check\n * @returns {boolean}\n */\nfunction isValidElement(element) {\n\treturn !!element && element.$$typeof === REACT_ELEMENT_TYPE;\n}\n\n/**\n * Check if the passed element is a Fragment node.\n * @param {*} element The element to check\n * @returns {boolean}\n */\nfunction isFragment(element) {\n\treturn isValidElement(element) && element.type === Fragment;\n}\n\n/**\n * Wrap `cloneElement` to abort if the passed element is not a valid element and apply\n * all vnode normalizations.\n * @param {import('./internal').VNode} element The vnode to clone\n * @param {object} props Props to add when cloning\n * @param {Array<import('./internal').ComponentChildren>} rest Optional component children\n */\nfunction cloneElement(element) {\n\tif (!isValidElement(element)) return element;\n\treturn preactCloneElement.apply(null, arguments);\n}\n\n/**\n * Remove a component tree from the DOM, including state and event handlers.\n * @param {import('./internal').PreactElement} container\n * @returns {boolean}\n */\nfunction unmountComponentAtNode(container) {\n\tif (container._children) {\n\t\tpreactRender(null, container);\n\t\treturn true;\n\t}\n\treturn false;\n}\n\n/**\n * Get the matching DOM node for a component\n * @param {import('./internal').Component} component\n * @returns {import('./internal').PreactElement | null}\n */\nfunction findDOMNode(component) {\n\treturn (\n\t\t(component &&\n\t\t\t(component.base || (component.nodeType === 1 && component))) ||\n\t\tnull\n\t);\n}\n\n/**\n * Deprecated way to control batched rendering inside the reconciler, but we\n * already schedule in batches inside our rendering code\n * @template Arg\n * @param {(arg: Arg) => void} callback function that triggers the updated\n * @param {Arg} [arg] Optional argument that can be passed to the callback\n */\n// eslint-disable-next-line camelcase\nconst unstable_batchedUpdates = (callback, arg) => callback(arg);\n\n/**\n * In React, `flushSync` flushes the entire tree and forces a rerender. It's\n * implmented here as a no-op.\n * @template Arg\n * @template Result\n * @param {(arg: Arg) => Result} callback function that runs before the flush\n * @param {Arg} [arg] Optional argument that can be passed to the callback\n * @returns\n */\nconst flushSync = (callback, arg) => callback(arg);\n\n/**\n * Strict Mode is not implemented in Preact, so we provide a stand-in for it\n * that just renders its children without imposing any restrictions.\n */\nconst StrictMode = Fragment;\n\nexport function startTransition(cb) {\n\tcb();\n}\n\nexport function useDeferredValue(val) {\n\treturn val;\n}\n\nexport function useTransition() {\n\treturn [false, startTransition];\n}\n\n// TODO: in theory this should be done after a VNode is diffed as we want to insert\n// styles/... before it attaches\nexport const useInsertionEffect = useLayoutEffect;\n\n// compat to react-is\nexport const isElement = isValidElement;\n\n/**\n * This is taken from https://github.com/facebook/react/blob/main/packages/use-sync-external-store/src/useSyncExternalStoreShimClient.js#L84\n * on a high level this cuts out the warnings, ... and attempts a smaller implementation\n */\nexport function useSyncExternalStore(subscribe, getSnapshot) {\n\tconst value = getSnapshot();\n\n\tconst [{ _instance }, forceUpdate] = useState({\n\t\t_instance: { _value: value, _getSnapshot: getSnapshot }\n\t});\n\n\tuseLayoutEffect(() => {\n\t\t_instance._value = value;\n\t\t_instance._getSnapshot = getSnapshot;\n\n\t\tif (!is(_instance._value, getSnapshot())) {\n\t\t\tforceUpdate({ _instance });\n\t\t}\n\t}, [subscribe, value, getSnapshot]);\n\n\tuseEffect(() => {\n\t\tif (!is(_instance._value, _instance._getSnapshot())) {\n\t\t\tforceUpdate({ _instance });\n\t\t}\n\n\t\treturn subscribe(() => {\n\t\t\tif (!is(_instance._value, _instance._getSnapshot())) {\n\t\t\t\tforceUpdate({ _instance });\n\t\t\t}\n\t\t});\n\t}, [subscribe]);\n\n\treturn value;\n}\n\nexport * from 'preact/hooks';\nexport {\n\tversion,\n\tChildren,\n\trender,\n\thydrate,\n\tunmountComponentAtNode,\n\tcreatePortal,\n\tcreateElement,\n\tcreateContext,\n\tcreateFactory,\n\tcloneElement,\n\tcreateRef,\n\tFragment,\n\tisValidElement,\n\tisFragment,\n\tfindDOMNode,\n\tComponent,\n\tPureComponent,\n\tmemo,\n\tforwardRef,\n\tflushSync,\n\t// eslint-disable-next-line camelcase\n\tunstable_batchedUpdates,\n\tStrictMode,\n\tSuspense,\n\tSuspenseList,\n\tlazy,\n\t__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED\n};\n\n// React copies the named exports to the default one.\nexport default {\n\tuseState,\n\tuseId,\n\tuseReducer,\n\tuseEffect,\n\tuseLayoutEffect,\n\tuseInsertionEffect,\n\tuseTransition,\n\tuseDeferredValue,\n\tuseSyncExternalStore,\n\tstartTransition,\n\tuseRef,\n\tuseImperativeHandle,\n\tuseMemo,\n\tuseCallback,\n\tuseContext,\n\tuseDebugValue,\n\tversion,\n\tChildren,\n\trender,\n\thydrate,\n\tunmountComponentAtNode,\n\tcreatePortal,\n\tcreateElement,\n\tcreateContext,\n\tcreateFactory,\n\tcloneElement,\n\tcreateRef,\n\tFragment,\n\tisValidElement,\n\tisElement,\n\tisFragment,\n\tfindDOMNode,\n\tComponent,\n\tPureComponent,\n\tmemo,\n\tforwardRef,\n\tflushSync,\n\tunstable_batchedUpdates,\n\tStrictMode,\n\tSuspense,\n\tSuspenseList,\n\tlazy,\n\t__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED\n};\n","import{options as n}from\"preact\";var t,r,u,i,o=0,f=[],c=[],e=n.__b,a=n.__r,v=n.diffed,l=n.__c,m=n.unmount;function d(t,u){n.__h&&n.__h(r,t,o||u),o=0;var i=r.__H||(r.__H={__:[],__h:[]});return t>=i.__.length&&i.__.push({__V:c}),i.__[t]}function h(n){return o=1,s(B,n)}function s(n,u,i){var o=d(t++,2);if(o.t=n,!o.__c&&(o.__=[i?i(u):B(void 0,u),function(n){var t=o.__N?o.__N[0]:o.__[0],r=o.t(t,n);t!==r&&(o.__N=[r,o.__[1]],o.__c.setState({}))}],o.__c=r,!r.u)){var f=function(n,t,r){if(!o.__c.__H)return!0;var u=o.__c.__H.__.filter(function(n){return n.__c});if(u.every(function(n){return!n.__N}))return!c||c.call(this,n,t,r);var i=!1;return u.forEach(function(n){if(n.__N){var t=n.__[0];n.__=n.__N,n.__N=void 0,t!==n.__[0]&&(i=!0)}}),!(!i&&o.__c.props===n)&&(!c||c.call(this,n,t,r))};r.u=!0;var c=r.shouldComponentUpdate,e=r.componentWillUpdate;r.componentWillUpdate=function(n,t,r){if(this.__e){var u=c;c=void 0,f(n,t,r),c=u}e&&e.call(this,n,t,r)},r.shouldComponentUpdate=f}return o.__N||o.__}function p(u,i){var o=d(t++,3);!n.__s&&z(o.__H,i)&&(o.__=u,o.i=i,r.__H.__h.push(o))}function y(u,i){var o=d(t++,4);!n.__s&&z(o.__H,i)&&(o.__=u,o.i=i,r.__h.push(o))}function _(n){return o=5,F(function(){return{current:n}},[])}function A(n,t,r){o=6,y(function(){return\"function\"==typeof n?(n(t()),function(){return n(null)}):n?(n.current=t(),function(){return n.current=null}):void 0},null==r?r:r.concat(n))}function F(n,r){var u=d(t++,7);return z(u.__H,r)?(u.__V=n(),u.i=r,u.__h=n,u.__V):u.__}function T(n,t){return o=8,F(function(){return n},t)}function q(n){var u=r.context[n.__c],i=d(t++,9);return i.c=n,u?(null==i.__&&(i.__=!0,u.sub(r)),u.props.value):n.__}function x(t,r){n.useDebugValue&&n.useDebugValue(r?r(t):t)}function P(n){var u=d(t++,10),i=h();return u.__=n,r.componentDidCatch||(r.componentDidCatch=function(n,t){u.__&&u.__(n,t),i[1](n)}),[i[0],function(){i[1](void 0)}]}function V(){var n=d(t++,11);if(!n.__){for(var u=r.__v;null!==u&&!u.__m&&null!==u.__;)u=u.__;var i=u.__m||(u.__m=[0,0]);n.__=\"P\"+i[0]+\"-\"+i[1]++}return n.__}function b(){for(var t;t=f.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(k),t.__H.__h.forEach(w),t.__H.__h=[]}catch(r){t.__H.__h=[],n.__e(r,t.__v)}}n.__b=function(n){r=null,e&&e(n)},n.__r=function(n){a&&a(n),t=0;var i=(r=n.__c).__H;i&&(u===r?(i.__h=[],r.__h=[],i.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=c,n.__N=n.i=void 0})):(i.__h.forEach(k),i.__h.forEach(w),i.__h=[],t=0)),u=r},n.diffed=function(t){v&&v(t);var o=t.__c;o&&o.__H&&(o.__H.__h.length&&(1!==f.push(o)&&i===n.requestAnimationFrame||((i=n.requestAnimationFrame)||j)(b)),o.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==c&&(n.__=n.__V),n.i=void 0,n.__V=c})),u=r=null},n.__c=function(t,r){r.some(function(t){try{t.__h.forEach(k),t.__h=t.__h.filter(function(n){return!n.__||w(n)})}catch(u){r.some(function(n){n.__h&&(n.__h=[])}),r=[],n.__e(u,t.__v)}}),l&&l(t,r)},n.unmount=function(t){m&&m(t);var r,u=t.__c;u&&u.__H&&(u.__H.__.forEach(function(n){try{k(n)}catch(n){r=n}}),u.__H=void 0,r&&n.__e(r,u.__v))};var g=\"function\"==typeof requestAnimationFrame;function j(n){var t,r=function(){clearTimeout(u),g&&cancelAnimationFrame(t),setTimeout(n)},u=setTimeout(r,100);g&&(t=requestAnimationFrame(r))}function k(n){var t=r,u=n.__c;\"function\"==typeof u&&(n.__c=void 0,u()),r=t}function w(n){var t=r;n.__c=n.__(),r=t}function z(n,t){return!n||n.length!==t.length||t.some(function(t,r){return t!==n[r]})}function B(n,t){return\"function\"==typeof t?t(n):t}export{T as useCallback,q as useContext,x as useDebugValue,p as useEffect,P as useErrorBoundary,V as useId,A as useImperativeHandle,y as useLayoutEffect,F as useMemo,s as useReducer,_ as useRef,h as useState};\n//# sourceMappingURL=hooks.module.js.map\n","import { options } from 'preact';\n\n/** @type {number} */\nlet currentIndex;\n\n/** @type {import('./internal').Component} */\nlet currentComponent;\n\n/** @type {import('./internal').Component} */\nlet previousComponent;\n\n/** @type {number} */\nlet currentHook = 0;\n\n/** @type {Array<import('./internal').Component>} */\nlet afterPaintEffects = [];\n\nlet EMPTY = [];\n\nlet oldBeforeDiff = options._diff;\nlet oldBeforeRender = options._render;\nlet oldAfterDiff = options.diffed;\nlet oldCommit = options._commit;\nlet oldBeforeUnmount = options.unmount;\n\nconst RAF_TIMEOUT = 100;\nlet prevRaf;\n\noptions._diff = vnode => {\n\tcurrentComponent = null;\n\tif (oldBeforeDiff) oldBeforeDiff(vnode);\n};\n\noptions._render = vnode => {\n\tif (oldBeforeRender) oldBeforeRender(vnode);\n\n\tcurrentComponent = vnode._component;\n\tcurrentIndex = 0;\n\n\tconst hooks = currentComponent.__hooks;\n\tif (hooks) {\n\t\tif (previousComponent === currentComponent) {\n\t\t\thooks._pendingEffects = [];\n\t\t\tcurrentComponent._renderCallbacks = [];\n\t\t\thooks._list.forEach(hookItem => {\n\t\t\t\tif (hookItem._nextValue) {\n\t\t\t\t\thookItem._value = hookItem._nextValue;\n\t\t\t\t}\n\t\t\t\thookItem._pendingValue = EMPTY;\n\t\t\t\thookItem._nextValue = hookItem._pendingArgs = undefined;\n\t\t\t});\n\t\t} else {\n\t\t\thooks._pendingEffects.forEach(invokeCleanup);\n\t\t\thooks._pendingEffects.forEach(invokeEffect);\n\t\t\thooks._pendingEffects = [];\n\t\t\tcurrentIndex = 0;\n\t\t}\n\t}\n\tpreviousComponent = currentComponent;\n};\n\noptions.diffed = vnode => {\n\tif (oldAfterDiff) oldAfterDiff(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks) {\n\t\tif (c.__hooks._pendingEffects.length) afterPaint(afterPaintEffects.push(c));\n\t\tc.__hooks._list.forEach(hookItem => {\n\t\t\tif (hookItem._pendingArgs) {\n\t\t\t\thookItem._args = hookItem._pendingArgs;\n\t\t\t}\n\t\t\tif (hookItem._pendingValue !== EMPTY) {\n\t\t\t\thookItem._value = hookItem._pendingValue;\n\t\t\t}\n\t\t\thookItem._pendingArgs = undefined;\n\t\t\thookItem._pendingValue = EMPTY;\n\t\t});\n\t}\n\tpreviousComponent = currentComponent = null;\n};\n\noptions._commit = (vnode, commitQueue) => {\n\tcommitQueue.some(component => {\n\t\ttry {\n\t\t\tcomponent._renderCallbacks.forEach(invokeCleanup);\n\t\t\tcomponent._renderCallbacks = component._renderCallbacks.filter(cb =>\n\t\t\t\tcb._value ? invokeEffect(cb) : true\n\t\t\t);\n\t\t} catch (e) {\n\t\t\tcommitQueue.some(c => {\n\t\t\t\tif (c._renderCallbacks) c._renderCallbacks = [];\n\t\t\t});\n\t\t\tcommitQueue = [];\n\t\t\toptions._catchError(e, component._vnode);\n\t\t}\n\t});\n\n\tif (oldCommit) oldCommit(vnode, commitQueue);\n};\n\noptions.unmount = vnode => {\n\tif (oldBeforeUnmount) oldBeforeUnmount(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks) {\n\t\tlet hasErrored;\n\t\tc.__hooks._list.forEach(s => {\n\t\t\ttry {\n\t\t\t\tinvokeCleanup(s);\n\t\t\t} catch (e) {\n\t\t\t\thasErrored = e;\n\t\t\t}\n\t\t});\n\t\tc.__hooks = undefined;\n\t\tif (hasErrored) options._catchError(hasErrored, c._vnode);\n\t}\n};\n\n/**\n * Get a hook's state from the currentComponent\n * @param {number} index The index of the hook to get\n * @param {number} type The index of the hook to get\n * @returns {any}\n */\nfunction getHookState(index, type) {\n\tif (options._hook) {\n\t\toptions._hook(currentComponent, index, currentHook || type);\n\t}\n\tcurrentHook = 0;\n\n\t// Largely inspired by:\n\t// * https://github.com/michael-klein/funcy.js/blob/f6be73468e6ec46b0ff5aa3cc4c9baf72a29025a/src/hooks/core_hooks.mjs\n\t// * https://github.com/michael-klein/funcy.js/blob/650beaa58c43c33a74820a3c98b3c7079cf2e333/src/renderer.mjs\n\t// Other implementations to look at:\n\t// * https://codesandbox.io/s/mnox05qp8\n\tconst hooks =\n\t\tcurrentComponent.__hooks ||\n\t\t(currentComponent.__hooks = {\n\t\t\t_list: [],\n\t\t\t_pendingEffects: []\n\t\t});\n\n\tif (index >= hooks._list.length) {\n\t\thooks._list.push({ _pendingValue: EMPTY });\n\t}\n\treturn hooks._list[index];\n}\n\n/**\n * @param {import('./index').StateUpdater<any>} [initialState]\n */\nexport function useState(initialState) {\n\tcurrentHook = 1;\n\treturn useReducer(invokeOrReturn, initialState);\n}\n\n/**\n * @param {import('./index').Reducer<any, any>} reducer\n * @param {import('./index').StateUpdater<any>} initialState\n * @param {(initialState: any) => void} [init]\n * @returns {[ any, (state: any) => void ]}\n */\nexport function useReducer(reducer, initialState, init) {\n\t/** @type {import('./internal').ReducerHookState} */\n\tconst hookState = getHookState(currentIndex++, 2);\n\thookState._reducer = reducer;\n\tif (!hookState._component) {\n\t\thookState._value = [\n\t\t\t!init ? invokeOrReturn(undefined, initialState) : init(initialState),\n\n\t\t\taction => {\n\t\t\t\tconst currentValue = hookState._nextValue\n\t\t\t\t\t? hookState._nextValue[0]\n\t\t\t\t\t: hookState._value[0];\n\t\t\t\tconst nextValue = hookState._reducer(currentValue, action);\n\n\t\t\t\tif (currentValue !== nextValue) {\n\t\t\t\t\thookState._nextValue = [nextValue, hookState._value[1]];\n\t\t\t\t\thookState._component.setState({});\n\t\t\t\t}\n\t\t\t}\n\t\t];\n\n\t\thookState._component = currentComponent;\n\n\t\tif (!currentComponent._hasScuFromHooks) {\n\t\t\tcurrentComponent._hasScuFromHooks = true;\n\t\t\tlet prevScu = currentComponent.shouldComponentUpdate;\n\t\t\tconst prevCWU = currentComponent.componentWillUpdate;\n\n\t\t\t// If we're dealing with a forced update `shouldComponentUpdate` will\n\t\t\t// not be called. But we use that to update the hook values, so we\n\t\t\t// need to call it.\n\t\t\tcurrentComponent.componentWillUpdate = function (p, s, c) {\n\t\t\t\tif (this._force) {\n\t\t\t\t\tlet tmp = prevScu;\n\t\t\t\t\t// Clear to avoid other sCU hooks from being called\n\t\t\t\t\tprevScu = undefined;\n\t\t\t\t\tupdateHookState(p, s, c);\n\t\t\t\t\tprevScu = tmp;\n\t\t\t\t}\n\n\t\t\t\tif (prevCWU) prevCWU.call(this, p, s, c);\n\t\t\t};\n\n\t\t\t// This SCU has the purpose of bailing out after repeated updates\n\t\t\t// to stateful hooks.\n\t\t\t// we store the next value in _nextValue[0] and keep doing that for all\n\t\t\t// state setters, if we have next states and\n\t\t\t// all next states within a component end up being equal to their original state\n\t\t\t// we are safe to bail out for this specific component.\n\t\t\t/**\n\t\t\t *\n\t\t\t * @type {import('./internal').Component[\"shouldComponentUpdate\"]}\n\t\t\t */\n\t\t\t// @ts-ignore - We don't use TS to downtranspile\n\t\t\t// eslint-disable-next-line no-inner-declarations\n\t\t\tfunction updateHookState(p, s, c) {\n\t\t\t\tif (!hookState._component.__hooks) return true;\n\n\t\t\t\tconst stateHooks = hookState._component.__hooks._list.filter(\n\t\t\t\t\tx => x._component\n\t\t\t\t);\n\t\t\t\tconst allHooksEmpty = stateHooks.every(x => !x._nextValue);\n\t\t\t\t// When we have no updated hooks in the component we invoke the previous SCU or\n\t\t\t\t// traverse the VDOM tree further.\n\t\t\t\tif (allHooksEmpty) {\n\t\t\t\t\treturn prevScu ? prevScu.call(this, p, s, c) : true;\n\t\t\t\t}\n\n\t\t\t\t// We check whether we have components with a nextValue set that\n\t\t\t\t// have values that aren't equal to one another this pushes\n\t\t\t\t// us to update further down the tree\n\t\t\t\tlet shouldUpdate = false;\n\t\t\t\tstateHooks.forEach(hookItem => {\n\t\t\t\t\tif (hookItem._nextValue) {\n\t\t\t\t\t\tconst currentValue = hookItem._value[0];\n\t\t\t\t\t\thookItem._value = hookItem._nextValue;\n\t\t\t\t\t\thookItem._nextValue = undefined;\n\t\t\t\t\t\tif (currentValue !== hookItem._value[0]) shouldUpdate = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn shouldUpdate || hookState._component.props !== p\n\t\t\t\t\t? prevScu\n\t\t\t\t\t\t? prevScu.call(this, p, s, c)\n\t\t\t\t\t\t: true\n\t\t\t\t\t: false;\n\t\t\t}\n\n\t\t\tcurrentComponent.shouldComponentUpdate = updateHookState;\n\t\t}\n\t}\n\n\treturn hookState._nextValue || hookState._value;\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {any[]} args\n */\nexport function useEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 3);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._pendingArgs = args;\n\n\t\tcurrentComponent.__hooks._pendingEffects.push(state);\n\t}\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {any[]} args\n */\nexport function useLayoutEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 4);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._pendingArgs = args;\n\n\t\tcurrentComponent._renderCallbacks.push(state);\n\t}\n}\n\nexport function useRef(initialValue) {\n\tcurrentHook = 5;\n\treturn useMemo(() => ({ current: initialValue }), []);\n}\n\n/**\n * @param {object} ref\n * @param {() => object} createHandle\n * @param {any[]} args\n */\nexport function useImperativeHandle(ref, createHandle, args) {\n\tcurrentHook = 6;\n\tuseLayoutEffect(\n\t\t() => {\n\t\t\tif (typeof ref == 'function') {\n\t\t\t\tref(createHandle());\n\t\t\t\treturn () => ref(null);\n\t\t\t} else if (ref) {\n\t\t\t\tref.current = createHandle();\n\t\t\t\treturn () => (ref.current = null);\n\t\t\t}\n\t\t},\n\t\targs == null ? args : args.concat(ref)\n\t);\n}\n\n/**\n * @param {() => any} factory\n * @param {any[]} args\n */\nexport function useMemo(factory, args) {\n\t/** @type {import('./internal').MemoHookState} */\n\tconst state = getHookState(currentIndex++, 7);\n\tif (argsChanged(state._args, args)) {\n\t\tstate._pendingValue = factory();\n\t\tstate._pendingArgs = args;\n\t\tstate._factory = factory;\n\t\treturn state._pendingValue;\n\t}\n\n\treturn state._value;\n}\n\n/**\n * @param {() => void} callback\n * @param {any[]} args\n */\nexport function useCallback(callback, args) {\n\tcurrentHook = 8;\n\treturn useMemo(() => callback, args);\n}\n\n/**\n * @param {import('./internal').PreactContext} context\n */\nexport function useContext(context) {\n\tconst provider = currentComponent.context[context._id];\n\t// We could skip this call here, but than we'd not call\n\t// `options._hook`. We need to do that in order to make\n\t// the devtools aware of this hook.\n\t/** @type {import('./internal').ContextHookState} */\n\tconst state = getHookState(currentIndex++, 9);\n\t// The devtools needs access to the context object to\n\t// be able to pull of the default value when no provider\n\t// is present in the tree.\n\tstate._context = context;\n\tif (!provider) return context._defaultValue;\n\t// This is probably not safe to convert to \"!\"\n\tif (state._value == null) {\n\t\tstate._value = true;\n\t\tprovider.sub(currentComponent);\n\t}\n\treturn provider.props.value;\n}\n\n/**\n * Display a custom label for a custom hook for the devtools panel\n * @type {<T>(value: T, cb?: (value: T) => string | number) => void}\n */\nexport function useDebugValue(value, formatter) {\n\tif (options.useDebugValue) {\n\t\toptions.useDebugValue(formatter ? formatter(value) : value);\n\t}\n}\n\n/**\n * @param {(error: any, errorInfo: import('preact').ErrorInfo) => void} cb\n */\nexport function useErrorBoundary(cb) {\n\t/** @type {import('./internal').ErrorBoundaryHookState} */\n\tconst state = getHookState(currentIndex++, 10);\n\tconst errState = useState();\n\tstate._value = cb;\n\tif (!currentComponent.componentDidCatch) {\n\t\tcurrentComponent.componentDidCatch = (err, errorInfo) => {\n\t\t\tif (state._value) state._value(err, errorInfo);\n\t\t\terrState[1](err);\n\t\t};\n\t}\n\treturn [\n\t\terrState[0],\n\t\t() => {\n\t\t\terrState[1](undefined);\n\t\t}\n\t];\n}\n\nexport function useId() {\n\tconst state = getHookState(currentIndex++, 11);\n\tif (!state._value) {\n\t\t// Grab either the root node or the nearest async boundary node.\n\t\t/** @type {import('./internal.d').VNode} */\n\t\tlet root = currentComponent._vnode;\n\t\twhile (root !== null && !root._mask && root._parent !== null) {\n\t\t\troot = root._parent;\n\t\t}\n\n\t\tlet mask = root._mask || (root._mask = [0, 0]);\n\t\tstate._value = 'P' + mask[0] + '-' + mask[1]++;\n\t}\n\n\treturn state._value;\n}\n/**\n * After paint effects consumer.\n */\nfunction flushAfterPaintEffects() {\n\tlet component;\n\twhile ((component = afterPaintEffects.shift())) {\n\t\tif (!component._parentDom || !component.__hooks) continue;\n\t\ttry {\n\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeCleanup);\n\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeEffect);\n\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t} catch (e) {\n\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t\toptions._catchError(e, component._vnode);\n\t\t}\n\t}\n}\n\nlet HAS_RAF = typeof requestAnimationFrame == 'function';\n\n/**\n * Schedule a callback to be invoked after the browser has a chance to paint a new frame.\n * Do this by combining requestAnimationFrame (rAF) + setTimeout to invoke a callback after\n * the next browser frame.\n *\n * Also, schedule a timeout in parallel to the the rAF to ensure the callback is invoked\n * even if RAF doesn't fire (for example if the browser tab is not visible)\n *\n * @param {() => void} callback\n */\nfunction afterNextFrame(callback) {\n\tconst done = () => {\n\t\tclearTimeout(timeout);\n\t\tif (HAS_RAF) cancelAnimationFrame(raf);\n\t\tsetTimeout(callback);\n\t};\n\tconst timeout = setTimeout(done, RAF_TIMEOUT);\n\n\tlet raf;\n\tif (HAS_RAF) {\n\t\traf = requestAnimationFrame(done);\n\t}\n}\n\n// Note: if someone used options.debounceRendering = requestAnimationFrame,\n// then effects will ALWAYS run on the NEXT frame instead of the current one, incurring a ~16ms delay.\n// Perhaps this is not such a big deal.\n/**\n * Schedule afterPaintEffects flush after the browser paints\n * @param {number} newQueueLength\n */\nfunction afterPaint(newQueueLength) {\n\tif (newQueueLength === 1 || prevRaf !== options.requestAnimationFrame) {\n\t\tprevRaf = options.requestAnimationFrame;\n\t\t(prevRaf || afterNextFrame)(flushAfterPaintEffects);\n\t}\n}\n\n/**\n * @param {import('./internal').EffectHookState} hook\n */\nfunction invokeCleanup(hook) {\n\t// A hook cleanup can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\tlet cleanup = hook._cleanup;\n\tif (typeof cleanup == 'function') {\n\t\thook._cleanup = undefined;\n\t\tcleanup();\n\t}\n\n\tcurrentComponent = comp;\n}\n\n/**\n * Invoke a Hook's effect\n * @param {import('./internal').EffectHookState} hook\n */\nfunction invokeEffect(hook) {\n\t// A hook call can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\thook._cleanup = hook._value();\n\tcurrentComponent = comp;\n}\n\n/**\n * @param {any[]} oldArgs\n * @param {any[]} newArgs\n */\nfunction argsChanged(oldArgs, newArgs) {\n\treturn (\n\t\t!oldArgs ||\n\t\toldArgs.length !== newArgs.length ||\n\t\tnewArgs.some((arg, index) => arg !== oldArgs[index])\n\t);\n}\n\nfunction invokeOrReturn(arg, f) {\n\treturn typeof f == 'function' ? f(arg) : f;\n}\n","import _extends from \"@babel/runtime/helpers/extends\";\nimport React, { isValidElement, cloneElement, createElement, Children } from 'react';\nimport HTML from 'html-parse-stringify';\nimport { warn, warnOnce } from './utils.js';\nimport { getDefaults } from './defaults.js';\nimport { getI18n } from './i18nInstance.js';\nfunction hasChildren(node, checkLength) {\n  if (!node) return false;\n  const base = node.props ? node.props.children : node.children;\n  if (checkLength) return base.length > 0;\n  return !!base;\n}\nfunction getChildren(node) {\n  if (!node) return [];\n  const children = node.props ? node.props.children : node.children;\n  return node.props && node.props.i18nIsDynamicList ? getAsArray(children) : children;\n}\nfunction hasValidReactChildren(children) {\n  if (Object.prototype.toString.call(children) !== '[object Array]') return false;\n  return children.every(child => isValidElement(child));\n}\nfunction getAsArray(data) {\n  return Array.isArray(data) ? data : [data];\n}\nfunction mergeProps(source, target) {\n  const newTarget = {\n    ...target\n  };\n  newTarget.props = Object.assign(source.props, target.props);\n  return newTarget;\n}\nexport function nodesToString(children, i18nOptions) {\n  if (!children) return '';\n  let stringNode = '';\n  const childrenArray = getAsArray(children);\n  const keepArray = i18nOptions.transSupportBasicHtmlNodes && i18nOptions.transKeepBasicHtmlNodesFor ? i18nOptions.transKeepBasicHtmlNodesFor : [];\n  childrenArray.forEach((child, childIndex) => {\n    if (typeof child === 'string') {\n      stringNode += `${child}`;\n    } else if (isValidElement(child)) {\n      const childPropsCount = Object.keys(child.props).length;\n      const shouldKeepChild = keepArray.indexOf(child.type) > -1;\n      const childChildren = child.props.children;\n      if (!childChildren && shouldKeepChild && childPropsCount === 0) {\n        stringNode += `<${child.type}/>`;\n      } else if (!childChildren && (!shouldKeepChild || childPropsCount !== 0)) {\n        stringNode += `<${childIndex}></${childIndex}>`;\n      } else if (child.props.i18nIsDynamicList) {\n        stringNode += `<${childIndex}></${childIndex}>`;\n      } else if (shouldKeepChild && childPropsCount === 1 && typeof childChildren === 'string') {\n        stringNode += `<${child.type}>${childChildren}</${child.type}>`;\n      } else {\n        const content = nodesToString(childChildren, i18nOptions);\n        stringNode += `<${childIndex}>${content}</${childIndex}>`;\n      }\n    } else if (child === null) {\n      warn(`Trans: the passed in value is invalid - seems you passed in a null child.`);\n    } else if (typeof child === 'object') {\n      const {\n        format,\n        ...clone\n      } = child;\n      const keys = Object.keys(clone);\n      if (keys.length === 1) {\n        const value = format ? `${keys[0]}, ${format}` : keys[0];\n        stringNode += `{{${value}}}`;\n      } else {\n        warn(`react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.`, child);\n      }\n    } else {\n      warn(`Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.`, child);\n    }\n  });\n  return stringNode;\n}\nfunction renderNodes(children, targetString, i18n, i18nOptions, combinedTOpts, shouldUnescape) {\n  if (targetString === '') return [];\n  const keepArray = i18nOptions.transKeepBasicHtmlNodesFor || [];\n  const emptyChildrenButNeedsHandling = targetString && new RegExp(keepArray.map(keep => `<${keep}`).join('|')).test(targetString);\n  if (!children && !emptyChildrenButNeedsHandling && !shouldUnescape) return [targetString];\n  const data = {};\n  function getData(childs) {\n    const childrenArray = getAsArray(childs);\n    childrenArray.forEach(child => {\n      if (typeof child === 'string') return;\n      if (hasChildren(child)) getData(getChildren(child));else if (typeof child === 'object' && !isValidElement(child)) Object.assign(data, child);\n    });\n  }\n  getData(children);\n  const ast = HTML.parse(`<0>${targetString}</0>`);\n  const opts = {\n    ...data,\n    ...combinedTOpts\n  };\n  function renderInner(child, node, rootReactNode) {\n    const childs = getChildren(child);\n    const mappedChildren = mapAST(childs, node.children, rootReactNode);\n    return hasValidReactChildren(childs) && mappedChildren.length === 0 || child.props && child.props.i18nIsDynamicList ? childs : mappedChildren;\n  }\n  function pushTranslatedJSX(child, inner, mem, i, isVoid) {\n    if (child.dummy) {\n      child.children = inner;\n      mem.push(cloneElement(child, {\n        key: i\n      }, isVoid ? undefined : inner));\n    } else {\n      mem.push(...Children.map([child], c => {\n        const props = {\n          ...c.props\n        };\n        delete props.i18nIsDynamicList;\n        return React.createElement(c.type, _extends({}, props, {\n          key: i,\n          ref: c.ref\n        }, isVoid ? {} : {\n          children: inner\n        }));\n      }));\n    }\n  }\n  function mapAST(reactNode, astNode, rootReactNode) {\n    const reactNodes = getAsArray(reactNode);\n    const astNodes = getAsArray(astNode);\n    return astNodes.reduce((mem, node, i) => {\n      const translationContent = node.children && node.children[0] && node.children[0].content && i18n.services.interpolator.interpolate(node.children[0].content, opts, i18n.language);\n      if (node.type === 'tag') {\n        let tmp = reactNodes[parseInt(node.name, 10)];\n        if (rootReactNode.length === 1 && !tmp) tmp = rootReactNode[0][node.name];\n        if (!tmp) tmp = {};\n        const child = Object.keys(node.attrs).length !== 0 ? mergeProps({\n          props: node.attrs\n        }, tmp) : tmp;\n        const isElement = isValidElement(child);\n        const isValidTranslationWithChildren = isElement && hasChildren(node, true) && !node.voidElement;\n        const isEmptyTransWithHTML = emptyChildrenButNeedsHandling && typeof child === 'object' && child.dummy && !isElement;\n        const isKnownComponent = typeof children === 'object' && children !== null && Object.hasOwnProperty.call(children, node.name);\n        if (typeof child === 'string') {\n          const value = i18n.services.interpolator.interpolate(child, opts, i18n.language);\n          mem.push(value);\n        } else if (hasChildren(child) || isValidTranslationWithChildren) {\n          const inner = renderInner(child, node, rootReactNode);\n          pushTranslatedJSX(child, inner, mem, i);\n        } else if (isEmptyTransWithHTML) {\n          const inner = mapAST(reactNodes, node.children, rootReactNode);\n          pushTranslatedJSX(child, inner, mem, i);\n        } else if (Number.isNaN(parseFloat(node.name))) {\n          if (isKnownComponent) {\n            const inner = renderInner(child, node, rootReactNode);\n            pushTranslatedJSX(child, inner, mem, i, node.voidElement);\n          } else if (i18nOptions.transSupportBasicHtmlNodes && keepArray.indexOf(node.name) > -1) {\n            if (node.voidElement) {\n              mem.push(createElement(node.name, {\n                key: `${node.name}-${i}`\n              }));\n            } else {\n              const inner = mapAST(reactNodes, node.children, rootReactNode);\n              mem.push(createElement(node.name, {\n                key: `${node.name}-${i}`\n              }, inner));\n            }\n          } else if (node.voidElement) {\n            mem.push(`<${node.name} />`);\n          } else {\n            const inner = mapAST(reactNodes, node.children, rootReactNode);\n            mem.push(`<${node.name}>${inner}</${node.name}>`);\n          }\n        } else if (typeof child === 'object' && !isElement) {\n          const content = node.children[0] ? translationContent : null;\n          if (content) mem.push(content);\n        } else {\n          pushTranslatedJSX(child, translationContent, mem, i, node.children.length !== 1 || !translationContent);\n        }\n      } else if (node.type === 'text') {\n        const wrapTextNodes = i18nOptions.transWrapTextNodes;\n        const content = shouldUnescape ? i18nOptions.unescape(i18n.services.interpolator.interpolate(node.content, opts, i18n.language)) : i18n.services.interpolator.interpolate(node.content, opts, i18n.language);\n        if (wrapTextNodes) {\n          mem.push(createElement(wrapTextNodes, {\n            key: `${node.name}-${i}`\n          }, content));\n        } else {\n          mem.push(content);\n        }\n      }\n      return mem;\n    }, []);\n  }\n  const result = mapAST([{\n    dummy: true,\n    children: children || []\n  }], ast, getAsArray(children || []));\n  return getChildren(result[0]);\n}\nexport function Trans(_ref) {\n  let {\n    children,\n    count,\n    parent,\n    i18nKey,\n    context,\n    tOptions = {},\n    values,\n    defaults,\n    components,\n    ns,\n    i18n: i18nFromProps,\n    t: tFromProps,\n    shouldUnescape,\n    ...additionalProps\n  } = _ref;\n  const i18n = i18nFromProps || getI18n();\n  if (!i18n) {\n    warnOnce('You will need to pass in an i18next instance by using i18nextReactModule');\n    return children;\n  }\n  const t = tFromProps || i18n.t.bind(i18n) || (k => k);\n  if (context) tOptions.context = context;\n  const reactI18nextOptions = {\n    ...getDefaults(),\n    ...(i18n.options && i18n.options.react)\n  };\n  let namespaces = ns || t.ns || i18n.options && i18n.options.defaultNS;\n  namespaces = typeof namespaces === 'string' ? [namespaces] : namespaces || ['translation'];\n  const nodeAsString = nodesToString(children, reactI18nextOptions);\n  const defaultValue = defaults || nodeAsString || reactI18nextOptions.transEmptyNodeValue || i18nKey;\n  const {\n    hashTransKey\n  } = reactI18nextOptions;\n  const key = i18nKey || (hashTransKey ? hashTransKey(nodeAsString || defaultValue) : nodeAsString || defaultValue);\n  const interpolationOverride = values ? tOptions.interpolation : {\n    interpolation: {\n      ...tOptions.interpolation,\n      prefix: '#$?',\n      suffix: '?$#'\n    }\n  };\n  const combinedTOpts = {\n    ...tOptions,\n    count,\n    ...values,\n    ...interpolationOverride,\n    defaultValue,\n    ns: namespaces\n  };\n  const translation = key ? t(key, combinedTOpts) : defaultValue;\n  const content = renderNodes(components || children, translation, i18n, reactI18nextOptions, combinedTOpts, shouldUnescape);\n  const useAsParent = parent !== undefined ? parent : reactI18nextOptions.defaultTransParent;\n  return useAsParent ? createElement(useAsParent, additionalProps, content) : content;\n}","function _extends() {\n  module.exports = _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _extends.apply(this, arguments);\n}\nmodule.exports = _extends, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","import e from\"void-elements\";var t=/\\s([^'\"/\\s><]+?)[\\s/>]|([^\\s=]+)=\\s?(\".*?\"|'.*?')/g;function n(n){var r={type:\"tag\",name:\"\",voidElement:!1,attrs:{},children:[]},i=n.match(/<\\/?([^\\s]+?)[/\\s>]/);if(i&&(r.name=i[1],(e[i[1]]||\"/\"===n.charAt(n.length-2))&&(r.voidElement=!0),r.name.startsWith(\"!--\"))){var s=n.indexOf(\"--\\x3e\");return{type:\"comment\",comment:-1!==s?n.slice(4,s):\"\"}}for(var a=new RegExp(t),c=null;null!==(c=a.exec(n));)if(c[0].trim())if(c[1]){var o=c[1].trim(),l=[o,\"\"];o.indexOf(\"=\")>-1&&(l=o.split(\"=\")),r.attrs[l[0]]=l[1],a.lastIndex--}else c[2]&&(r.attrs[c[2]]=c[3].trim().substring(1,c[3].length-1));return r}var r=/<[a-zA-Z0-9\\-\\!\\/](?:\"[^\"]*\"|'[^']*'|[^'\">])*>/g,i=/^\\s*$/,s=Object.create(null);function a(e,t){switch(t.type){case\"text\":return e+t.content;case\"tag\":return e+=\"<\"+t.name+(t.attrs?function(e){var t=[];for(var n in e)t.push(n+'=\"'+e[n]+'\"');return t.length?\" \"+t.join(\" \"):\"\"}(t.attrs):\"\")+(t.voidElement?\"/>\":\">\"),t.voidElement?e:e+t.children.reduce(a,\"\")+\"</\"+t.name+\">\";case\"comment\":return e+\"\\x3c!--\"+t.comment+\"--\\x3e\"}}var c={parse:function(e,t){t||(t={}),t.components||(t.components=s);var a,c=[],o=[],l=-1,m=!1;if(0!==e.indexOf(\"<\")){var u=e.indexOf(\"<\");c.push({type:\"text\",content:-1===u?e:e.substring(0,u)})}return e.replace(r,function(r,s){if(m){if(r!==\"</\"+a.name+\">\")return;m=!1}var u,f=\"/\"!==r.charAt(1),h=r.startsWith(\"\\x3c!--\"),p=s+r.length,d=e.charAt(p);if(h){var v=n(r);return l<0?(c.push(v),c):((u=o[l]).children.push(v),c)}if(f&&(l++,\"tag\"===(a=n(r)).type&&t.components[a.name]&&(a.type=\"component\",m=!0),a.voidElement||m||!d||\"<\"===d||a.children.push({type:\"text\",content:e.slice(p,e.indexOf(\"<\",p))}),0===l&&c.push(a),(u=o[l-1])&&u.children.push(a),o[l]=a),(!f||a.voidElement)&&(l>-1&&(a.voidElement||a.name===r.slice(2,-1))&&(l--,a=-1===l?c:o[l]),!m&&\"<\"!==d&&d)){u=-1===l?c:o[l].children;var x=e.indexOf(\"<\",p),g=e.slice(p,-1===x?void 0:x);i.test(g)&&(g=\" \"),(x>-1&&l+u.length>=0||\" \"!==g)&&u.push({type:\"text\",content:g})}}),c},stringify:function(e){return e.reduce(function(e,t){return e+a(\"\",t)},\"\")}};export default c;\n//# sourceMappingURL=html-parse-stringify.module.js.map\n","import lookup from 'void-elements'\nconst attrRE = /\\s([^'\"/\\s><]+?)[\\s/>]|([^\\s=]+)=\\s?(\".*?\"|'.*?')/g\n\nexport default function stringify(tag) {\n  const res = {\n    type: 'tag',\n    name: '',\n    voidElement: false,\n    attrs: {},\n    children: [],\n  }\n\n  const tagMatch = tag.match(/<\\/?([^\\s]+?)[/\\s>]/)\n  if (tagMatch) {\n    res.name = tagMatch[1]\n    if (\n      lookup[tagMatch[1]] ||\n      tag.charAt(tag.length - 2) === '/'\n    ) {\n      res.voidElement = true\n    }\n\n    // handle comment tag\n    if (res.name.startsWith('!--')) {\n      const endIndex = tag.indexOf('-->')\n      return {\n        type: 'comment',\n        comment: endIndex !== -1 ? tag.slice(4, endIndex) : '',\n      }\n    }\n  }\n\n  const reg = new RegExp(attrRE)\n  let result = null\n  for (;;) {\n    result = reg.exec(tag)\n\n    if (result === null) {\n      break\n    }\n\n    if (!result[0].trim()) {\n      continue\n    }\n\n    if (result[1]) {\n      const attr = result[1].trim()\n      let arr = [attr, '']\n\n      if (attr.indexOf('=') > -1) {\n        arr = attr.split('=')\n      }\n\n      res.attrs[arr[0]] = arr[1]\n      reg.lastIndex--\n    } else if (result[2]) {\n      res.attrs[result[2]] = result[3].trim().substring(1, result[3].length - 1)\n    }\n  }\n\n  return res\n}\n","import parseTag from './parse-tag'\n\nconst tagRE = /<[a-zA-Z0-9\\-\\!\\/](?:\"[^\"]*\"|'[^']*'|[^'\">])*>/g\nconst whitespaceRE = /^\\s*$/\n\n// re-used obj for quick lookups of components\nconst empty = Object.create(null)\n\nexport default function parse(html, options) {\n  options || (options = {})\n  options.components || (options.components = empty)\n  const result = []\n  const arr = []\n  let current\n  let level = -1\n  let inComponent = false\n\n  // handle text at top level\n  if (html.indexOf('<') !== 0) {\n    var end = html.indexOf('<')\n    result.push({\n      type: 'text',\n      content: end === -1 ? html : html.substring(0, end),\n    })\n  }\n\n  html.replace(tagRE, function (tag, index) {\n    if (inComponent) {\n      if (tag !== '</' + current.name + '>') {\n        return\n      } else {\n        inComponent = false\n      }\n    }\n    const isOpen = tag.charAt(1) !== '/'\n    const isComment = tag.startsWith('<!--')\n    const start = index + tag.length\n    const nextChar = html.charAt(start)\n    let parent\n\n    if (isComment) {\n      const comment = parseTag(tag)\n\n      // if we're at root, push new base node\n      if (level < 0) {\n        result.push(comment)\n        return result\n      }\n      parent = arr[level]\n      parent.children.push(comment)\n      return result\n    }\n\n    if (isOpen) {\n      level++\n\n      current = parseTag(tag)\n      if (current.type === 'tag' && options.components[current.name]) {\n        current.type = 'component'\n        inComponent = true\n      }\n\n      if (\n        !current.voidElement &&\n        !inComponent &&\n        nextChar &&\n        nextChar !== '<'\n      ) {\n        current.children.push({\n          type: 'text',\n          content: html.slice(start, html.indexOf('<', start)),\n        })\n      }\n\n      // if we're at root, push new base node\n      if (level === 0) {\n        result.push(current)\n      }\n\n      parent = arr[level - 1]\n\n      if (parent) {\n        parent.children.push(current)\n      }\n\n      arr[level] = current\n    }\n\n    if (!isOpen || current.voidElement) {\n      if (\n        level > -1 &&\n        (current.voidElement || current.name === tag.slice(2, -1))\n      ) {\n        level--\n        // move current up a level to match the end tag\n        current = level === -1 ? result : arr[level]\n      }\n      if (!inComponent && nextChar !== '<' && nextChar) {\n        // trailing text node\n        // if we're at the root, push a base text node. otherwise add as\n        // a child to the current node.\n        parent = level === -1 ? result : arr[level].children\n\n        // calculate correct end of the content slice in case there's\n        // no tag after the text node.\n        const end = html.indexOf('<', start)\n        let content = html.slice(start, end === -1 ? undefined : end)\n        // if a node is nothing but whitespace, collapse it as the spec states:\n        // https://www.w3.org/TR/html4/struct/text.html#h-9.1\n        if (whitespaceRE.test(content)) {\n          content = ' '\n        }\n        // don't add whitespace-only text nodes if they would be trailing text nodes\n        // or if they would be leading whitespace-only text nodes:\n        //  * end > -1 indicates this is not a trailing text node\n        //  * leading node is when level is -1 and parent has length 0\n        if ((end > -1 && level + parent.length >= 0) || content !== ' ') {\n          parent.push({\n            type: 'text',\n            content: content,\n          })\n        }\n      }\n    }\n  })\n\n  return result\n}\n","function attrString(attrs) {\n  const buff = []\n  for (let key in attrs) {\n    buff.push(key + '=\"' + attrs[key] + '\"')\n  }\n  if (!buff.length) {\n    return ''\n  }\n  return ' ' + buff.join(' ')\n}\n\nfunction stringify(buff, doc) {\n  switch (doc.type) {\n    case 'text':\n      return buff + doc.content\n    case 'tag':\n      buff +=\n        '<' +\n        doc.name +\n        (doc.attrs ? attrString(doc.attrs) : '') +\n        (doc.voidElement ? '/>' : '>')\n      if (doc.voidElement) {\n        return buff\n      }\n      return buff + doc.children.reduce(stringify, '') + '</' + doc.name + '>'\n    case 'comment':\n      buff += '<!--' + doc.comment + '-->'\n      return buff\n  }\n}\n\nexport default function (doc) {\n  return doc.reduce(function (token, rootEl) {\n    return token + stringify('', rootEl)\n  }, '')\n}\n","import parse from './parse'\nimport stringify from './stringify'\n\nexport default {\n  parse,\n  stringify,\n}\n","/**\n * This file automatically generated from `pre-publish.js`.\n * Do not manually edit.\n */\n\nmodule.exports = {\n  \"area\": true,\n  \"base\": true,\n  \"br\": true,\n  \"col\": true,\n  \"embed\": true,\n  \"hr\": true,\n  \"img\": true,\n  \"input\": true,\n  \"link\": true,\n  \"meta\": true,\n  \"param\": true,\n  \"source\": true,\n  \"track\": true,\n  \"wbr\": true\n};\n","export function warn() {\n  if (console && console.warn) {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    if (typeof args[0] === 'string') args[0] = `react-i18next:: ${args[0]}`;\n    console.warn(...args);\n  }\n}\nconst alreadyWarned = {};\nexport function warnOnce() {\n  for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    args[_key2] = arguments[_key2];\n  }\n  if (typeof args[0] === 'string' && alreadyWarned[args[0]]) return;\n  if (typeof args[0] === 'string') alreadyWarned[args[0]] = new Date();\n  warn(...args);\n}\nconst loadedClb = (i18n, cb) => () => {\n  if (i18n.isInitialized) {\n    cb();\n  } else {\n    const initialized = () => {\n      setTimeout(() => {\n        i18n.off('initialized', initialized);\n      }, 0);\n      cb();\n    };\n    i18n.on('initialized', initialized);\n  }\n};\nexport function loadNamespaces(i18n, ns, cb) {\n  i18n.loadNamespaces(ns, loadedClb(i18n, cb));\n}\nexport function loadLanguages(i18n, lng, ns, cb) {\n  if (typeof ns === 'string') ns = [ns];\n  ns.forEach(n => {\n    if (i18n.options.ns.indexOf(n) < 0) i18n.options.ns.push(n);\n  });\n  i18n.loadLanguages(lng, loadedClb(i18n, cb));\n}\nfunction oldI18nextHasLoadedNamespace(ns, i18n) {\n  let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  const lng = i18n.languages[0];\n  const fallbackLng = i18n.options ? i18n.options.fallbackLng : false;\n  const lastLng = i18n.languages[i18n.languages.length - 1];\n  if (lng.toLowerCase() === 'cimode') return true;\n  const loadNotPending = (l, n) => {\n    const loadState = i18n.services.backendConnector.state[`${l}|${n}`];\n    return loadState === -1 || loadState === 2;\n  };\n  if (options.bindI18n && options.bindI18n.indexOf('languageChanging') > -1 && i18n.services.backendConnector.backend && i18n.isLanguageChangingTo && !loadNotPending(i18n.isLanguageChangingTo, ns)) return false;\n  if (i18n.hasResourceBundle(lng, ns)) return true;\n  if (!i18n.services.backendConnector.backend || i18n.options.resources && !i18n.options.partialBundledLanguages) return true;\n  if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns))) return true;\n  return false;\n}\nexport function hasLoadedNamespace(ns, i18n) {\n  let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  if (!i18n.languages || !i18n.languages.length) {\n    warnOnce('i18n.languages were undefined or empty', i18n.languages);\n    return true;\n  }\n  const isNewerI18next = i18n.options.ignoreJSONStructure !== undefined;\n  if (!isNewerI18next) {\n    return oldI18nextHasLoadedNamespace(ns, i18n, options);\n  }\n  return i18n.hasLoadedNamespace(ns, {\n    lng: options.lng,\n    precheck: (i18nInstance, loadNotPending) => {\n      if (options.bindI18n && options.bindI18n.indexOf('languageChanging') > -1 && i18nInstance.services.backendConnector.backend && i18nInstance.isLanguageChangingTo && !loadNotPending(i18nInstance.isLanguageChangingTo, ns)) return false;\n    }\n  });\n}\nexport function getDisplayName(Component) {\n  return Component.displayName || Component.name || (typeof Component === 'string' && Component.length > 0 ? Component : 'Unknown');\n}","import { unescape } from './unescape.js';\nlet defaultOptions = {\n  bindI18n: 'languageChanged',\n  bindI18nStore: '',\n  transEmptyNodeValue: '',\n  transSupportBasicHtmlNodes: true,\n  transWrapTextNodes: '',\n  transKeepBasicHtmlNodesFor: ['br', 'strong', 'i', 'p'],\n  useSuspense: true,\n  unescape\n};\nexport function setDefaults() {\n  let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  defaultOptions = {\n    ...defaultOptions,\n    ...options\n  };\n}\nexport function getDefaults() {\n  return defaultOptions;\n}","const matchHtmlEntity = /&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g;\nconst htmlEntities = {\n  '&amp;': '&',\n  '&#38;': '&',\n  '&lt;': '<',\n  '&#60;': '<',\n  '&gt;': '>',\n  '&#62;': '>',\n  '&apos;': \"'\",\n  '&#39;': \"'\",\n  '&quot;': '\"',\n  '&#34;': '\"',\n  '&nbsp;': ' ',\n  '&#160;': ' ',\n  '&copy;': '',\n  '&#169;': '',\n  '&reg;': '',\n  '&#174;': '',\n  '&hellip;': '',\n  '&#8230;': '',\n  '&#x2F;': '/',\n  '&#47;': '/'\n};\nconst unescapeHtmlEntity = m => htmlEntities[m];\nexport const unescape = text => text.replace(matchHtmlEntity, unescapeHtmlEntity);","let i18nInstance;\nexport function setI18n(instance) {\n  i18nInstance = instance;\n}\nexport function getI18n() {\n  return i18nInstance;\n}","import { createContext } from 'react';\nimport { getDefaults, setDefaults } from './defaults.js';\nimport { getI18n, setI18n } from './i18nInstance.js';\nimport { initReactI18next } from './initReactI18next.js';\nexport { getDefaults, setDefaults, getI18n, setI18n, initReactI18next };\nexport const I18nContext = createContext();\nexport class ReportNamespaces {\n  constructor() {\n    this.usedNamespaces = {};\n  }\n  addUsedNamespaces(namespaces) {\n    namespaces.forEach(ns => {\n      if (!this.usedNamespaces[ns]) this.usedNamespaces[ns] = true;\n    });\n  }\n  getUsedNamespaces() {\n    return Object.keys(this.usedNamespaces);\n  }\n}\nexport function composeInitialProps(ForComponent) {\n  return ctx => new Promise(resolve => {\n    const i18nInitialProps = getInitialProps();\n    if (ForComponent.getInitialProps) {\n      ForComponent.getInitialProps(ctx).then(componentsInitialProps => {\n        resolve({\n          ...componentsInitialProps,\n          ...i18nInitialProps\n        });\n      });\n    } else {\n      resolve(i18nInitialProps);\n    }\n  });\n}\nexport function getInitialProps() {\n  const i18n = getI18n();\n  const namespaces = i18n.reportNamespaces ? i18n.reportNamespaces.getUsedNamespaces() : [];\n  const ret = {};\n  const initialI18nStore = {};\n  i18n.languages.forEach(l => {\n    initialI18nStore[l] = {};\n    namespaces.forEach(ns => {\n      initialI18nStore[l][ns] = i18n.getResourceBundle(l, ns) || {};\n    });\n  });\n  ret.initialI18nStore = initialI18nStore;\n  ret.initialLanguage = i18n.language;\n  return ret;\n}","import { setDefaults } from './defaults.js';\nimport { setI18n } from './i18nInstance.js';\nexport const initReactI18next = {\n  type: '3rdParty',\n  init(instance) {\n    setDefaults(instance.options.react);\n    setI18n(instance);\n  }\n};","import { useState, useEffect, useContext, useRef } from 'react';\nimport { getI18n, getDefaults, ReportNamespaces, I18nContext } from './context.js';\nimport { warnOnce, loadNamespaces, loadLanguages, hasLoadedNamespace } from './utils.js';\nconst usePrevious = (value, ignore) => {\n  const ref = useRef();\n  useEffect(() => {\n    ref.current = ignore ? ref.current : value;\n  }, [value, ignore]);\n  return ref.current;\n};\nexport function useTranslation(ns) {\n  let props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const {\n    i18n: i18nFromProps\n  } = props;\n  const {\n    i18n: i18nFromContext,\n    defaultNS: defaultNSFromContext\n  } = useContext(I18nContext) || {};\n  const i18n = i18nFromProps || i18nFromContext || getI18n();\n  if (i18n && !i18n.reportNamespaces) i18n.reportNamespaces = new ReportNamespaces();\n  if (!i18n) {\n    warnOnce('You will need to pass in an i18next instance by using initReactI18next');\n    const notReadyT = (k, optsOrDefaultValue) => {\n      if (typeof optsOrDefaultValue === 'string') return optsOrDefaultValue;\n      if (optsOrDefaultValue && typeof optsOrDefaultValue === 'object' && typeof optsOrDefaultValue.defaultValue === 'string') return optsOrDefaultValue.defaultValue;\n      return Array.isArray(k) ? k[k.length - 1] : k;\n    };\n    const retNotReady = [notReadyT, {}, false];\n    retNotReady.t = notReadyT;\n    retNotReady.i18n = {};\n    retNotReady.ready = false;\n    return retNotReady;\n  }\n  if (i18n.options.react && i18n.options.react.wait !== undefined) warnOnce('It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.');\n  const i18nOptions = {\n    ...getDefaults(),\n    ...i18n.options.react,\n    ...props\n  };\n  const {\n    useSuspense,\n    keyPrefix\n  } = i18nOptions;\n  let namespaces = ns || defaultNSFromContext || i18n.options && i18n.options.defaultNS;\n  namespaces = typeof namespaces === 'string' ? [namespaces] : namespaces || ['translation'];\n  if (i18n.reportNamespaces.addUsedNamespaces) i18n.reportNamespaces.addUsedNamespaces(namespaces);\n  const ready = (i18n.isInitialized || i18n.initializedStoreOnce) && namespaces.every(n => hasLoadedNamespace(n, i18n, i18nOptions));\n  function getT() {\n    return i18n.getFixedT(props.lng || null, i18nOptions.nsMode === 'fallback' ? namespaces : namespaces[0], keyPrefix);\n  }\n  const [t, setT] = useState(getT);\n  let joinedNS = namespaces.join();\n  if (props.lng) joinedNS = `${props.lng}${joinedNS}`;\n  const previousJoinedNS = usePrevious(joinedNS);\n  const isMounted = useRef(true);\n  useEffect(() => {\n    const {\n      bindI18n,\n      bindI18nStore\n    } = i18nOptions;\n    isMounted.current = true;\n    if (!ready && !useSuspense) {\n      if (props.lng) {\n        loadLanguages(i18n, props.lng, namespaces, () => {\n          if (isMounted.current) setT(getT);\n        });\n      } else {\n        loadNamespaces(i18n, namespaces, () => {\n          if (isMounted.current) setT(getT);\n        });\n      }\n    }\n    if (ready && previousJoinedNS && previousJoinedNS !== joinedNS && isMounted.current) {\n      setT(getT);\n    }\n    function boundReset() {\n      if (isMounted.current) setT(getT);\n    }\n    if (bindI18n && i18n) i18n.on(bindI18n, boundReset);\n    if (bindI18nStore && i18n) i18n.store.on(bindI18nStore, boundReset);\n    return () => {\n      isMounted.current = false;\n      if (bindI18n && i18n) bindI18n.split(' ').forEach(e => i18n.off(e, boundReset));\n      if (bindI18nStore && i18n) bindI18nStore.split(' ').forEach(e => i18n.store.off(e, boundReset));\n    };\n  }, [i18n, joinedNS]);\n  const isInitial = useRef(true);\n  useEffect(() => {\n    if (isMounted.current && !isInitial.current) {\n      setT(getT);\n    }\n    isInitial.current = false;\n  }, [i18n, keyPrefix]);\n  const ret = [t, i18n, ready];\n  ret.t = t;\n  ret.i18n = i18n;\n  ret.ready = ready;\n  if (ready) return ret;\n  if (!ready && !useSuspense) return ret;\n  throw new Promise(resolve => {\n    if (props.lng) {\n      loadLanguages(i18n, props.lng, namespaces, () => resolve());\n    } else {\n      loadNamespaces(i18n, namespaces, () => resolve());\n    }\n  });\n}","import { createElement, forwardRef as forwardRefReact } from 'react';\nimport { useTranslation } from './useTranslation.js';\nimport { getDisplayName } from './utils.js';\nexport function withTranslation(ns) {\n  let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return function Extend(WrappedComponent) {\n    function I18nextWithTranslation(_ref) {\n      let {\n        forwardedRef,\n        ...rest\n      } = _ref;\n      const [t, i18n, ready] = useTranslation(ns, {\n        ...rest,\n        keyPrefix: options.keyPrefix\n      });\n      const passDownProps = {\n        ...rest,\n        t,\n        i18n,\n        tReady: ready\n      };\n      if (options.withRef && forwardedRef) {\n        passDownProps.ref = forwardedRef;\n      } else if (!options.withRef && forwardedRef) {\n        passDownProps.forwardedRef = forwardedRef;\n      }\n      return createElement(WrappedComponent, passDownProps);\n    }\n    I18nextWithTranslation.displayName = `withI18nextTranslation(${getDisplayName(WrappedComponent)})`;\n    I18nextWithTranslation.WrappedComponent = WrappedComponent;\n    const forwardRef = (props, ref) => createElement(I18nextWithTranslation, Object.assign({}, props, {\n      forwardedRef: ref\n    }));\n    return options.withRef ? forwardRefReact(forwardRef) : I18nextWithTranslation;\n  };\n}","import { useTranslation } from './useTranslation.js';\nexport function Translation(props) {\n  const {\n    ns,\n    children,\n    ...options\n  } = props;\n  const [t, i18n, ready] = useTranslation(ns, options);\n  return children(t, {\n    i18n,\n    lng: i18n.language\n  }, ready);\n}","import { createElement, useMemo } from 'react';\nimport { I18nContext } from './context.js';\nexport function I18nextProvider(_ref) {\n  let {\n    i18n,\n    defaultNS,\n    children\n  } = _ref;\n  const value = useMemo(() => ({\n    i18n,\n    defaultNS\n  }), [i18n, defaultNS]);\n  return createElement(I18nContext.Provider, {\n    value\n  }, children);\n}","import { createElement } from 'react';\nimport { useSSR } from './useSSR.js';\nimport { composeInitialProps } from './context.js';\nimport { getDisplayName } from './utils.js';\nexport function withSSR() {\n  return function Extend(WrappedComponent) {\n    function I18nextWithSSR(_ref) {\n      let {\n        initialI18nStore,\n        initialLanguage,\n        ...rest\n      } = _ref;\n      useSSR(initialI18nStore, initialLanguage);\n      return createElement(WrappedComponent, {\n        ...rest\n      });\n    }\n    I18nextWithSSR.getInitialProps = composeInitialProps(WrappedComponent);\n    I18nextWithSSR.displayName = `withI18nextSSR(${getDisplayName(WrappedComponent)})`;\n    I18nextWithSSR.WrappedComponent = WrappedComponent;\n    return I18nextWithSSR;\n  };\n}","import { useContext } from 'react';\nimport { getI18n, I18nContext } from './context.js';\nexport function useSSR(initialI18nStore, initialLanguage) {\n  let props = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  const {\n    i18n: i18nFromProps\n  } = props;\n  const {\n    i18n: i18nFromContext\n  } = useContext(I18nContext) || {};\n  const i18n = i18nFromProps || i18nFromContext || getI18n();\n  if (i18n.options && i18n.options.isClone) return;\n  if (initialI18nStore && !i18n.initializedStoreOnce) {\n    i18n.services.resourceStore.data = initialI18nStore;\n    i18n.options.ns = Object.values(initialI18nStore).reduce((mem, lngResources) => {\n      Object.keys(lngResources).forEach(ns => {\n        if (mem.indexOf(ns) < 0) mem.push(ns);\n      });\n      return mem;\n    }, i18n.options.ns);\n    i18n.initializedStoreOnce = true;\n    i18n.isInitialized = true;\n  }\n  if (initialLanguage && !i18n.initializedLanguageOnce) {\n    i18n.changeLanguage(initialLanguage);\n    i18n.initializedLanguageOnce = true;\n  }\n}","{\n    \"previous_coms\": \"See previous comments\",\n    \"next_coms\": \"See next comments\",\n    \"ago\": \"{{duration}} ago\",\n    \"groups\": \"Groups\",\n    \"login_placeholder\": \"email\",\n    \"password_placeholder\": \"password\",\n    \"new_password_placeholder\": \"new password\",\n    \"confirm_password_placeholder\": \"confirm password\",\n    \"connect\": \"Connection\",\n    \"submit\": \"Submit\",\n    \"title_placeholder\": \"Title of your message (optional)\",\n    \"text_placeholder\": \"Write your message here\",\n    \"upload_image\": \"Add photos\",\n    \"upload_video\": \"Add videos\",\n    \"upload_music\": \"Add musics\",\n    \"upload_pdf\": \"Add pdf\",\n    \"add_date\": \"Add a date\",\n    \"logout\": \"Logout\",\n    \"settings\": \"Settings\",\n    \"name\": \"Name\",\n    \"name_input\": \"Choose a name\",\n    \"login\": \"Login\",\n    \"login_input\": \"Choose a login\",\n    \"email\": \"Email\",\n    \"email_input\": \"Fill in your email here\",\n    \"save_changes\": \"Save changes\",\n    \"password\": \"Password\",\n    \"password_input\": \"Write a new password here\",\n    \"Invalid login/password\": \"Invalid login and/or password\",\n    \"edit\": \"Edit\",\n    \"delete\": \"Delete\",\n    \"ask_delete_message\": \"Are you sure to delete this message?\",\n    \"account\": \"Account\",\n    \"forgot_password\": \"Did you forget your password?\",\n    \"password_reset_mail_sent\": \"The password reset email was sent !\",\n    \"User not found\": \"User not found\",\n    \"reset_password_title\": \"Reset your password\",\n    \"error\": \"An error occurred\",\n    \"passwords_dont_match\": \"Passwords don't match\",\n    \"invitation_link\": \"Invitation link\",\n    \"reset_invitation_link\": \"Reset invitation link\",\n    \"invitation_welcome\": \"Welcome on Zusam ! Please sign up before joining the group.\",\n    \"signup\": \"Sign up\",\n    \"create_a_group\": \"Create a group\",\n    \"create_the_group\": \"Create the group\",\n    \"quit_group\": \"Leave the group\",\n    \"settings_updated\": \"Your settings were updated\",\n    \"group_updated\": \"The group was updated !\",\n    \"group_left\": \"You left the group !\",\n    \"multiple_photos_upload\": \"An error occurred. Try uploading images one by one (this can happen in some browsers).\",\n    \"error_new_message\": \"An error occurred while sending your message.\",\n    \"error_upload\": \"An error occurred during the upload\",\n    \"cancel_write\": \"Do you really want to cancel writing a new message?\",\n    \"empty_message\": \"The message is empty and cannot be sent !\",\n    \"cancel\": \"Cancel\",\n    \"just_now\": \"Just now\",\n    \"notification_emails\": \"Email notifications\",\n    \"none\": \"None\",\n    \"hourly\": \"Hourly\",\n    \"daily\": \"Daily\",\n    \"weekly\": \"Weekly\",\n    \"monthly\": \"Monthly\",\n    \"notification_emails_stopped\": \"Email notifications stopped !\",\n    \"group_share_choice\": \"To which group do you want to send this message?\",\n    \"public_link\": \"public link\",\n    \"default_group\": \"Default group\",\n    \"destroy_account\": \"Delete your account\",\n    \"destroy_account_explain\": \"Once you delete your account, there is no going back. Please be certain.\",\n    \"are_you_sure\": \"Are you sure?\",\n    \"share_message\": \"share the message\",\n    \"users\": \"users\",\n    \"has_posted_in\": \"has posted in\",\n    \"has_commented_on\": \"has commented on\",\n    \"has_joined\": \"has joined\",\n    \"has_left\": \"has left\",\n    \"the_message_from\": \"the message from\",\n    \"in\": \"in\",\n    \"lang\": \"language\",\n    \"reply\": \"reply\",\n    \"replies_one\": \"{{count}} reply\",\n    \"replies_other\": \"{{count}} replies\",\n    \"publish_in_group\": \"publish in the group\",\n    \"search_in_group\": \"search in this group\",\n    \"changed_group_name\": \"changed the group's name\",\n    \"to\": \"to\",\n    \"notifications\": \"notifications\",\n    \"mark_all_as_read\": \"mark all as read\",\n    \"search_without_result\": \"Your search did not match any message.\",\n    \"add_bookmark\": \"Bookmark message\",\n    \"remove_bookmark\": \"Unbookmark message\",\n    \"bookmarks\": \"bookmarks\",\n    \"api_key\": \"API key\",\n    \"reset_api_key\": \"Reset the API key (you will be disconnected)\",\n    \"video_not_ready\": \"Video is not ready yet.\",\n    \"bookmark_added\": \"Message added to bookmarks !\",\n    \"bookmark_removed\": \"Message removed from bookmarks !\",\n    \"parent_message\": \"Parent message\"\n}\n","{\n    \"previous_coms\": \"Ver los comentarios anteriores\",\n    \"next_coms\": \"Ver los siguientes comentarios\",\n    \"ago\": \"Hace {{duration}}\",\n    \"groups\": \"Grupos\",\n    \"login_placeholder\": \"correo\",\n    \"password_placeholder\": \"contrasea\",\n    \"new_password_placeholder\": \"nueva contrasea\",\n    \"confirm_password_placeholder\": \"confirmar contrasea\",\n    \"connect\": \"Conectarse\",\n    \"submit\": \"Enviar\",\n    \"title_placeholder\": \"Asunto (opcional)\",\n    \"text_placeholder\": \"Escribe tu mensaje aqu\",\n    \"upload_image\": \"Aadir fotos\",\n    \"upload_video\": \"Aadir videos\",\n    \"upload_music\": \"Aadir msica\",\n    \"upload_pdf\": \"Aadir pdf\",\n    \"add_date\": \"Aadir una fecha\",\n    \"logout\": \"Desconectarse\",\n    \"settings\": \"Parmetros\",\n    \"name\": \"Nombre\",\n    \"name_input\": \"Elige un nombre\",\n    \"login\": \"Usuario\",\n    \"login_input\": \"Elige un usuario\",\n    \"email\": \"Correo\",\n    \"email_input\": \"Indicar correo electrnico\",\n    \"save_changes\": \"Guardar los cambios\",\n    \"password\": \"Contrasea\",\n    \"password_input\": \"Indicar una nueva contrasea\",\n    \"Invalid login/password\": \"Usuario o contrasea incorrecto\",\n    \"edit\": \"Editar\",\n    \"delete\": \"Borrar\",\n    \"ask_delete_message\": \"Quieres borrar este mensaje?\",\n    \"account\": \"Cuenta\",\n    \"groups\": \"Grupos\",\n    \"forgot_password\": \"Olvidaste tu contrasea?\",\n    \"password_reset_mail_sent\": \"El correo ha sido enviado!\",\n    \"User not found\": \"El usuario no existe\",\n    \"reset_password_title\": \"Cambia tu contrasea\",\n    \"error\": \"Un error ocurri. Vuelve a intentar.\",\n    \"passwords_dont_match\": \"Las contraseas no coinciden\",\n    \"invitation_link\": \"Enlace de invitacin\",\n    \"reset_invitation_link\": \"Cambiar el enlace de invitacin\",\n    \"invitation_welcome\": \"Bienvenido a Zusam ! Inscribete para conectarte con un grupo.\",\n    \"signup\": \"Inscribirse\",\n    \"create_a_group\": \"Crear un grupo\",\n    \"create_the_group\": \"Crear el grupo\",\n    \"quit_group\": \"Dejar el grupo\",\n    \"settings_updated\": \"Tus preferencias han sido actualizadas!\",\n    \"group_updated\": \"El grupo ha sido actualizado!\",\n    \"group_left\": \"Has abandonado el grupo\",\n    \"multiple_photos_upload\": \"Un error ocurri. Vuelve a intentar con solo una foto (algunos navegadores impiden aadir varias fotos al mismo tiempo).\",\n    \"error_new_message\": \"Un error desconocido ocurri durante el envo del mensaje.\",\n    \"error_upload\": \"Un error ocurri durante el envo.\",\n    \"cancel_write\": \"Quieres cancelar este nuevo mensaje?\",\n    \"empty_message\": \"No hay mensaje!\",\n    \"cancel\": \"Cancelar\",\n    \"just_now\": \"Ahora\",\n    \"notification_emails\": \"Correo de notificacin\",\n    \"none\": \"Ninguno\",\n    \"hourly\": \"Cada hora\",\n    \"daily\": \"Diario\",\n    \"weekly\": \"Semanal\",\n    \"monthly\": \"Mensual\",\n    \"notification_emails_stopped\": \"Notificaciones de correo electrnico detenidas!\",\n    \"group_share_choice\": \"A qu grupo desea enviar este mensaje?\",\n    \"public_link\": \"enlace pblico\",\n    \"default_group\": \"Grupo predeterminado\",\n    \"destroy_account\": \"Borrar la cuenta\",\n    \"destroy_account_explain\": \"Una vez que elimines tu cuenta, no hay vuelta atrs.\",\n    \"are_you_sure\": \"Ests seguro ?\",\n    \"share_message\": \"comparte el mensaje\",\n    \"users\": \"usuarios\",\n    \"has_posted_in\": \"ha publicado en\",\n    \"has_commented_on\": \"ha comentado\",\n    \"has_joined\": \"se has unido\",\n    \"has_left\": \"ha dejado\",\n    \"the_message_from\": \"el mensaje de\",\n    \"in\": \"en\",\n    \"lang\": \"idioma\",\n    \"reply\": \"responder\",\n    \"replies_one\": \"{{count}} respuesta\",\n    \"replies_other\":\"{{count}} respuestas\",\n    \"publish_in_group\": \"publicar en el grupo\",\n    \"search_in_group\": \"buscar en este grupo\",\n    \"changed_group_name\": \"cambi el nombre del grupo\",\n    \"to\": \"a\",\n    \"notifications\": \"notificaciones\",\n    \"mark_all_as_read\": \"marcar todo como leido\",\n    \"search_without_result\": \"Su bsqueda no coincide con ningn mensaje.\",\n    \"add_bookmark\": \"Marcar este mensaje\",\n    \"remove_bookmark\": \"Desmarcar este mensaje\",\n    \"bookmarks\": \"marcadores\",\n    \"api_key\": \"Clave API\",\n    \"reset_api_key\": \"Restablecer la clave API (se desconectar)\",\n    \"video_not_ready\": \"El video an no est listo\",\n    \"bookmark_added\": \"Mensaje agregado a marcadores !\",\n    \"bookmark_removed\": \"Mensaje eliminado de los marcadores !\",\n    \"parent_message\": \"Mensaje para padres\"\n\n}\n","{\n    \"previous_coms\": \"Voir les commentaires prcdents\",\n    \"next_coms\": \"Voir les commentaires suivants\",\n    \"ago\": \"Il y a {{duration}}\",\n    \"groups\": \"Groupes\",\n    \"login_placeholder\": \"email\",\n    \"password_placeholder\": \"mot de passe\",\n    \"new_password_placeholder\": \"nouveau mot de passe\",\n    \"confirm_password_placeholder\": \"confirmez le mot de passe\",\n    \"connect\": \"Connexion\",\n    \"submit\": \"Envoyer\",\n    \"title_placeholder\": \"Titre de votre message (optionnel)\",\n    \"text_placeholder\": \"Ecrivez votre message ici\",\n    \"upload_image\": \"Ajouter des photos\",\n    \"upload_video\": \"Ajouter des vidos\",\n    \"upload_music\": \"Ajouter des musiques\",\n    \"upload_pdf\": \"Ajouter un pdf\",\n    \"add_date\": \"Prciser une date\",\n    \"logout\": \"Se dconnecter\",\n    \"settings\": \"Paramtres\",\n    \"name\": \"Nom\",\n    \"name_input\": \"Choisissez un nom\",\n    \"login\": \"Identifiant\",\n    \"login_input\": \"Choisissez un identifiant\",\n    \"email\": \"Email\",\n    \"email_input\": \"Renseignez votre adresse mail ici\",\n    \"save_changes\": \"Sauvegarder les changements\",\n    \"password\": \"Mot de passe\",\n    \"password_input\": \"Entrez un nouveau mot de passe\",\n    \"Invalid login/password\": \"Identifiant et/ou mot de passe invalide\",\n    \"edit\": \"Editer\",\n    \"delete\": \"Supprimer\",\n    \"ask_delete_message\": \"tes-vous sr de vouloir supprimer ce message ?\",\n    \"account\": \"Compte\",\n    \"forgot_password\": \"Mot de passe oubli ?\",\n    \"password_reset_mail_sent\": \"Le mail de rinitialisation a bien t envoy !\",\n    \"User not found\": \"Utilisateur inexistant\",\n    \"reset_password_title\": \"Rinitialisation de votre mot de passe\",\n    \"error\": \"Une erreur s'est produite\",\n    \"passwords_dont_match\": \"Les mots de passe ne correspondent pas\",\n    \"invitation_link\": \"Lien d'invitation\",\n    \"reset_invitation_link\": \"Rinitialiser le lien d'invitation\",\n    \"invitation_welcome\": \"Bienvenue sur Zusam ! Veuillez vous inscrire avant de rejoindre le groupe.\",\n    \"signup\": \"S'inscrire\",\n    \"create_a_group\": \"Crer un groupe\",\n    \"create_the_group\": \"Crer le groupe\",\n    \"quit_group\": \"Quitter le groupe\",\n    \"settings_updated\": \"Vos paramtres ont t mis  jour\",\n    \"group_updated\": \"Le groupe a t mis  jour !\",\n    \"group_left\": \"Vous avez quitt le groupe !\",\n    \"multiple_photos_upload\": \"Une erreur s'est produite. Essayez de tlcharger les images une par une (cela peut se produire dans certains navigateurs).\",\n    \"error_new_message\": \"Une erreur sest produite lors de lenvoi de votre message.\",\n    \"error_upload\": \"Une erreur s'est produite pendant le tlversement\",\n    \"cancel_write\": \"Voulez-vous annuler l'criture d'un nouveau message?\",\n    \"empty_message\": \"Le message est vide et ne peut tre envoy!\",\n    \"cancel\": \"Annuler\",\n    \"just_now\": \"A l'instant\",\n    \"notification_emails\": \"Mail de notification\",\n    \"none\": \"Aucun\",\n    \"hourly\": \"Une fois par heure\",\n    \"daily\": \"Journalier\",\n    \"weekly\": \"Hebdomadaire\",\n    \"monthly\": \"Mensuel\",\n    \"notification_emails_stopped\": \"Notifications par email dsactives !\",\n    \"group_share_choice\": \"A quel groupe voulez-vous envoyer ce message ?\",\n    \"public_link\": \"lien public\",\n    \"default_group\": \"Groupe par dfaut\",\n    \"destroy_account\": \"Supprimer votre compte\",\n    \"destroy_account_explain\": \"Une fois votre compte supprim, il sera impossible d'annuler l'opration.\",\n    \"are_you_sure\": \"Etes-vous sr ?\",\n    \"share_message\": \"partager le message\",\n    \"users\": \"utilisateurs\",\n    \"has_posted_in\": \"a post dans\",\n    \"has_commented_on\": \"a comment\",\n    \"has_joined\": \"a rejoint\",\n    \"has_left\": \"a quitt\",\n    \"the_message_from\": \"le message de\",\n    \"in\": \"dans\",\n    \"lang\": \"langue\",\n    \"reply\": \"rpondre\",\n    \"replies_one\": \"{{count}} rponse\",\n    \"replies_other\": \"{{count}} rponses\",\n    \"publish_in_group\": \"promouvoir le message\",\n    \"search_in_group\": \"rechercher dans le groupe\",\n    \"changed_group_name\": \"a chang le nom du groupe\",\n    \"to\": \"en\",\n    \"notifications\": \"notifications\",\n    \"mark_all_as_read\": \"tout marquer comme lu\",\n    \"search_without_result\": \"Votre recherche ne correspond  aucun message.\",\n    \"add_bookmark\": \"Ajouter aux marque-pages\",\n    \"remove_bookmark\": \"Supprimer des marque-pages\",\n    \"bookmarks\": \"marque-pages\",\n    \"api_key\": \"Clef d'API\",\n    \"reset_api_key\": \"Changer votre clef d'API (vous allez tre dconnect)\",\n    \"video_not_ready\": \"La vido n'est pas encore prte.\",\n    \"bookmark_added\": \"Message ajout aux marque-pages !\",\n    \"bookmark_removed\": \"Message supprim des marque-pages !\",\n    \"parent_message\": \"Message parent\"\n}\n","{\n    \"previous_coms\": \"Zie vorige\",\n    \"next_coms\": \"Zie volgende\",\n    \"ago\": \"{{duration}} geleden\",\n    \"groups\": \"Groepen\",\n    \"login_placeholder\": \"email\",\n    \"password_placeholder\": \"wachtwoord\",\n    \"new_password_placeholder\": \"nieuw wachtwoord\",\n    \"confirm_password_placeholder\": \"bevestig wachtwoord\",\n    \"connect\": \"Verbind\",\n    \"submit\": \"Verstuur\",\n    \"title_placeholder\": \"Titel van jouw bericht (optioneel)\",\n    \"text_placeholder\": \"Schrijf jouw bericht hier\",\n    \"upload_image\": \"Voeg foto's toe\",\n    \"upload_video\": \"Voeg filmpjes toe\",\n    \"upload_music\": \"Voeg muziek toe\",\n    \"upload_pdf\": \"Voeg PDF toe\",\n    \"add_date\": \"Voeg een datum toe\",\n    \"logout\": \"Afmelden\",\n    \"settings\": \"Instellingen\",\n    \"name\": \"Naam\",\n    \"name_input\": \"Kies een naam\",\n    \"login\": \"Aanmelden\",\n    \"login_input\": \"Kies een aanmeldingsnaam\",\n    \"email\": \"Email\",\n    \"email_input\": \"Voeg uw email adres hier in\",\n    \"save_changes\": \"Wijzigingen opslaan\",\n    \"password\": \"Wachtwoord\",\n    \"password_input\": \"Kies een nieuw wachtwoord\",\n    \"Invalid login/password\": \"Ongeldige aanmeldnaam/wachtwoord combinatie\",\n    \"edit\": \"Bewerken\",\n    \"delete\": \"Verwijderen\",\n    \"ask_delete_message\": \"Bent u zeker dat u dit bericht wil verwijderen?\",\n    \"account\": \"Account\",\n    \"groups\": \"Groepen\",\n    \"forgot_password\": \"Wachtwoord vergeten?\",\n    \"password_reset_mail_sent\": \"De wachtwoord reset link is naar uw email adres verstuurd.\",\n    \"User not found\": \"Gebruiker niet gevonden\",\n    \"reset_password_title\": \"Reset uw wachtwoord\",\n    \"error\": \"Er is een fout opgetreden\",\n    \"passwords_dont_match\": \"Wachtwoorden komen niet overeen\",\n    \"invitation_link\": \"Uitnodigings link\",\n    \"reset_invitation_link\": \"Reset uitnodiging link\",\n    \"invitation_welcome\": \"Welkom op Zusam ! Gelieve aan te melden vooraleer in een groep in te schrijven.\",\n    \"signup\": \"Inschrijven\",\n    \"create_a_group\": \"Maak een groep\",\n    \"create_the_group\": \"Maak de groep\",\n    \"quit_group\": \"Verlaat de groep\",\n    \"settings_updated\": \"Uw instellingen werden aangepast\",\n    \"group_updated\": \"De groep werd aangepast !\",\n    \"group_left\": \"U heeft de groep verlaten !\",\n    \"multiple_photos_upload\": \"Er is een fout opgetreden. Probeer foto's 1 voor 1 op te laden\",\n    \"error_new_message\": \"Er is een fout opgetreden bij het doorsturen van uw bericht.\",\n    \"error_upload\": \"Er is een fout opgetreden bij het uploaden\",\n    \"cancel_write\": \"Bent u zeker dat u dit bericht wil annuleren?\",\n    \"empty_message\": \"Dit bericht is leeg en kan niet worden verzonden !\",\n    \"cancel\": \"Annuleren\",\n    \"just_now\": \"Net\",\n    \"notification_emails\": \"Email notificaties\",\n    \"none\": \"Niets\",\n    \"hourly\": \"Elk uur\",\n    \"daily\": \"Elke dag\",\n    \"weekly\": \"Elke week\",\n    \"monthly\": \"Elke maand\",\n    \"notification_emails_stopped\": \"Email notificaties zijn gestopt !\",\n    \"group_share_choice\": \"Naar welke groep wenst u dit bericht te sturen?\",\n    \"public_link\": \"publieke link\",\n    \"default_group\": \"Standaard groep\",\n    \"destroy_account\": \"Verwijder jouw account\",\n    \"destroy_account_explain\": \"Indien u uw account verwijdert, kan deze niet meer worden teruggehaald.\",\n    \"are_you_sure\": \"Bent u zeker?\",\n    \"share_message\": \"Deel bericht\",\n    \"users\": \"gebruikers\",\n    \"has_posted_in\": \"heeft gepost in\",\n    \"has_commented_on\": \"heeft commentaar gegeven op\",\n    \"has_joined\": \"is erbij gekomen\",\n    \"has_left\": \"is weggegaan\",\n    \"the_message_from\": \"het bericht van\",\n    \"in\": \"in\",\n    \"lang\": \"taal\",\n    \"reply\": \"antwoorden\",\n    \"replies_one\": \"{{count}} antwoord\",\n    \"replies_other\":\"{{count}} antwoorden\",\n    \"publish_in_group\": \"gepubliseerd in de groep\",\n    \"search_in_group\": \"zoek in deze groep\",\n    \"changed_group_name\": \"verandert de groepsnaam\",\n    \"to\": \"aan\",\n    \"notifications\": \"notificaties\",\n    \"mark_all_as_read\": \"markeer als gelezen\",\n    \"search_without_result\": \"Er werd geen enkel bericht gevonden met deze criteria\",\n    \"add_bookmark\": \"Bookmark bericht\",\n    \"remove_bookmark\": \"Unbookmark bericht\",\n    \"bookmarks\": \"bookmarks\",\n    \"api_key\": \"API key\",\n    \"reset_api_key\": \"Reset the API key (you will be disconnected)\",\n    \"video_not_ready\": \"Video is nog niet klaar.\",\n    \"bookmark_added\": \"Bericht toegevoegd aan bookmarks !\",\n    \"bookmark_removed\": \"Bericht verwijderd uit bookmarks !\",\n    \"parent_message\": \"Parent bericht\"\n}\n","{\n    \"previous_coms\": \"Pozri predchdzajce komentre\",\n    \"next_coms\": \"Pozri nasledujce komentre\",\n    \"ago\": \"{{duration}} sp\",\n    \"groups\": \"Skupiny\",\n    \"login_placeholder\": \"email\",\n    \"password_placeholder\": \"heslo\",\n    \"new_password_placeholder\": \"nov heslo\",\n    \"confirm_password_placeholder\": \"potvrdi heslo\",\n    \"connect\": \"Connection\",\n    \"submit\": \"Odosla\",\n    \"title_placeholder\": \"Nadpis vho prspevku (nie je povinn)\",\n    \"text_placeholder\": \"Tu nap prspevok\",\n    \"upload_image\": \"Prida fotografie\",\n    \"upload_video\": \"Prida vide\",\n    \"upload_music\": \"Prida hudbu\",\n    \"upload_pdf\": \"Prida pdf\",\n    \"add_date\": \"Prida dtum\",\n    \"logout\": \"Odhlsi\",\n    \"settings\": \"Nastavenia\",\n    \"name\": \"Meno\",\n    \"name_input\": \"Zvo si nejak meno\",\n    \"login\": \"Login\",\n    \"login_input\": \"Zvo si nejak prihlasovacie meno\",\n    \"email\": \"Email\",\n    \"email_input\": \"Nap tvoj email sem\",\n    \"save_changes\": \"Uloi zmeny\",\n    \"password\": \"Heslo\",\n    \"password_input\": \"Tu nap heslo\",\n    \"Invalid login/password\": \"Nesprvny login alebo heslo\",\n    \"edit\": \"Upravi\",\n    \"delete\": \"Zmaza\",\n    \"ask_delete_message\": \"Si si ist, e chce zmaza tento prspevok?\",\n    \"account\": \"et\",\n    \"groups\": \"Skupiny\",\n    \"forgot_password\": \"Zabudol si svoje heslo?\",\n    \"password_reset_mail_sent\": \"Email s informciami o nastaven novho hesla bol odoslan!\",\n    \"User not found\": \"Neexistujci uvate\",\n    \"reset_password_title\": \"Zmena hesla\",\n    \"error\": \"Chyba\",\n    \"passwords_dont_match\": \"Hesl sa nezhoduj\",\n    \"invitation_link\": \"Pozvac odkaz\",\n    \"reset_invitation_link\": \"Reset invitation link\",\n    \"invitation_welcome\": \"Vitajte v Zusam ! Zaregistrujte sa pred pripojenm sa ku skupine.\",\n    \"signup\": \"Prihlsi\",\n    \"create_a_group\": \"Vytvori skupinu\",\n    \"create_the_group\": \"Vytvori skupinu\",\n    \"quit_group\": \"Opusti skupinu\",\n    \"settings_updated\": \"Vae nastavenia boli zmenen\",\n    \"group_updated\": \"Nastavenia skupiny boli zmenen\",\n    \"group_left\": \"Opustili ste skupinu\",\n    \"multiple_photos_upload\": \"Objavila sa chyba. Skste priloi obrzky po jednom (tto chyba sa me objavova v niektorch prehliadaoch)\",\n    \"error_new_message\": \"Pri odosielan prspevku sa objavila chyba\",\n    \"error_upload\": \"Objavila sa chyba poas odosielania\",\n    \"cancel_write\": \"Chcete naozaj zrui vytvranie novho prspevku?\",\n    \"empty_message\": \"Przdna sprva neme by odoslan\",\n    \"cancel\": \"Zrui\",\n    \"just_now\": \"Prve teraz\",\n    \"notification_emails\": \"Notifikan email\",\n    \"none\": \"iadne\",\n    \"hourly\": \"Kad hodinu\",\n    \"daily\": \"Denne\",\n    \"weekly\": \"Tdenne\",\n    \"monthly\": \"Mesane\",\n    \"notification_emails_stopped\": \"E-mailov upozornenia sa zastavili!\",\n    \"group_share_choice\": \"Do ktorej skupiny chcete odosla tto sprvu ?\",\n    \"public_link\": \"verejn spojenie\",\n    \"default_group\": \"Predvolen skupinu\",\n    \"destroy_account\": \"Odstrte svoj et\",\n    \"destroy_account_explain\": \"Po odstrnen tu sa u nevrti\",\n    \"are_you_sure\": \"Si si ist ?\",\n    \"share_message\": \"zdieajte sprvu\",\n    \"users\": \"uvatelia\",\n    \"has_posted_in\": \"zverejnila v\",\n    \"has_commented_on\": \"komentoval\",\n    \"has_joined\": \"sa pripojil k\",\n    \"has_left\": \"opustil\",\n    \"the_message_from\": \"sprva od\",\n    \"in\": \"v\",\n    \"lang\": \"jazyk\",\n    \"reply\": \"odpove\",\n    \"replies_one\": \"{{count}} odpove\",\n    \"replies_other\":\"{{count}} odpoved\",\n    \"publish_in_group\": \"publikova v skupine\",\n    \"search_in_group\": \"hada v tejto skupine\",\n    \"changed_group_name\": \"zmenil nzov skupiny\",\n    \"to\": \"na\",\n    \"notifications\": \"oznmenia\",\n    \"mark_all_as_read\": \"oznai vetko ako pretan\",\n    \"search_without_result\": \"Vmu vyhadvaniu nezodpoved iadna sprva\",\n    \"add_bookmark\": \"Tto sprvu uloi medzi zloky\",\n    \"remove_bookmark\": \"Zrute oznaenie tejto sprvy\",\n    \"bookmarks\": \"zloky\",\n    \"api_key\": \"K API\",\n    \"reset_api_key\": \"Obnovte k rozhrania API (budete odpojen)\",\n    \"video_not_ready\": \"Video ete nie je pripraven\",\n    \"bookmark_added\": \"Sprva pridan do zloiek !\",\n    \"bookmark_removed\": \"Sprva bola odstrnen zo zloiek !\",\n    \"parent_message\": \"Sprva rodia\"\n\n}\n","import http from \"./http.js\";\nimport store from \"/src/store\";\n\nconst notifications = {\n\n  LIMIT: 20,\n\n  get() {\n    return store.get()?.notifications || [];\n  },\n\n  update() {\n    return http.get(`/api/me/notifications/${notifications.LIMIT + 1}`).then(r => {\n      store.dispatch(\"notifications/update\", r);\n    });\n  },\n\n  isNew(id) {\n    let state = store.get();\n    if (Array.isArray(state[\"notifications\"])) {\n      return state.notifications.filter(n => !n.read).some(\n        n =>\n          notifications.matchNotification(n, id) ||\n          (n.type == \"new_comment\" && n.fromMessage.id === id)\n      );\n    }\n    return false;\n  },\n\n  removeAllNotifications() {\n    let state = store.get();\n    if (Array.isArray(state[\"notifications\"])) {\n      state.notifications.forEach(n => {\n        http.delete(`/api/notifications/${n.id}`).then(() => {\n          store.dispatch(\"notifications/remove\", n);\n        });\n      });\n    }\n  },\n\n  markAllNotificationsAsRead() {\n    let state = store.get();\n    if (Array.isArray(state[\"notifications\"])) {\n      state.notifications.forEach(n => {\n        http.put(`/api/notifications/${n.id}`, {read: true}).then(() => {\n          store.dispatch(\"notifications/read\", n);\n        });\n      });\n    }\n  },\n\n  removeMatchingNotifications(id) {\n    return Promise.all(\n      store.get().notifications\n        .filter(n => notifications.matchNotification(n, id))\n        .map(n => {\n          http.delete(`/api/notifications/${n.id}`).then(() => {\n            store.dispatch(\"notifications/remove\", n);\n          });\n        })\n    );\n  },\n\n  markAsRead(id) {\n    return Promise.all(\n      store.get().notifications\n        .filter(n => notifications.matchNotification(n, id))\n        .map(n => {\n          http.put(`/api/notifications/${n.id}`, {read: true}).then(() => {\n            store.dispatch(\"notifications/read\", n);\n          });\n        })\n    );\n  },\n\n  matchNotification(notif, id) {\n    if (notif.id === id) {\n      return true;\n    }\n    if (notif.target === id) {\n      return true;\n    }\n    return false;\n  },\n};\n\nexport default notifications;\n","import http from \"./http.js\";\nimport store from \"/src/store\";\n\nconst bookmarks_utils = {\n\n  LIMIT: 1000,\n\n  get() {\n    return store.get()?.bookmarks || [];\n  },\n\n  update() {\n    return http.get(`/api/me/bookmarks/${bookmarks_utils.LIMIT + 1}`).then(r => {\n      store.dispatch(\"bookmarks/update\", r);\n    });\n  },\n};\n\nexport default bookmarks_utils;\n","import util from \"./util.js\";\nimport http from \"./http.js\";\nimport store from \"/src/store\";\n\nconst router = {\n\n  get() {\n    return store.get();\n  },\n\n  get route() {\n    try {\n      return router.removeSubpath(location.pathname).slice(1).split(\"/\")[0];\n    } catch {\n      return \"\";\n    }\n  },\n\n  get id() {\n    try {\n      return router.removeSubpath(location.pathname).slice(1).split(\"/\")[1];\n    } catch {\n      return \"\";\n    }\n  },\n\n  get action() {\n    try {\n      return router.removeSubpath(location.pathname).slice(1).split(\"/\")[2];\n    } catch {\n      return \"\";\n    }\n  },\n\n  get backUrl() {\n    console.err(\"don't use backUrl\");\n    return store.get()?.backUrl;\n  },\n\n  get search() {\n    return location.search.slice(1);\n  },\n\n  getEntity() {\n    if (router.isEntity(router.route)) {\n      return http.get(`/api/${router.route}/${router.id}`);\n    }\n    return Promise.resolve(null);\n  },\n\n  get entity() {\n    console.err(\"don't use entity\");\n    return store.get()?.entity;\n  },\n\n  removeSubpath: path =>\n    path ? path.replace(new RegExp(`^${util.getSubpath()}`), \"\") : \"\",\n\n  getParam: (param, searchParams = window.location.search.substring(1)) => {\n    let res = searchParams.split(\"&\").find(e => e.split(\"=\")[0] === param);\n    return res ? decodeURIComponent(res.split(\"=\")[1]) : \"\";\n  },\n\n  getSegments: () =>\n    router\n      .removeSubpath(window.location.pathname)\n      .slice(1)\n      .split(\"?\")[0]\n      .split(\"/\"),\n\n  // check if route is \"outside\": accessible to non connected user\n  isOutside: () =>\n    [\n      \"login\",\n      \"password-reset\",\n      \"signup\",\n      \"invitation\",\n      \"stop-notification-emails\",\n      \"public\"\n    ].includes(router.route || router.getSegments()[0]),\n\n  isEntity: () => [\"messages\", \"groups\", \"users\", \"links\", \"files\"].includes(router.getSegments()[0]),\n\n  getUrlComponents: url => {\n    let components = {};\n    if (url) {\n      components.url = new URL(url);\n      components.path = components.url.pathname;\n      components.search = components.url.search.slice(1);\n      [components.route, components.id, components.action] = router\n        .removeSubpath(components.path)\n        .slice(1)\n        .split(\"/\");\n    }\n    components.entityType = \"\";\n    components.backUrl = \"\";\n    return components;\n  },\n};\nexport default router;\n","import _Login from \"./login.component.js\";\nimport _PasswordReset from \"./password-reset.component.js\";\nimport _Signup from \"./signup.component.js\";\nimport _StopNotificationEmails from \"./stop-notification-emails.component.js\";\nimport _Public from \"./public.component.js\";\n\nexport const Login = _Login;\nexport const PasswordReset = _PasswordReset;\nexport const Signup = _Signup;\nexport const StopNotificationEmails = _StopNotificationEmails;\nexport const Public = _Public;\n","import { h } from \"preact\";\nimport { alert, storage, http, me } from \"/src/core\";\nimport { useTranslation } from \"react-i18next\";\nimport { useEffect, useState } from \"preact/hooks\";\nimport { useNavigate } from \"react-router-dom\";\n\nexport default function Login() {\n\n  const [sending, setSending] = useState(false);\n  const [showResetPassword, setShowResetPassword] = useState(false);\n  const navigate = useNavigate();\n  const { t } = useTranslation();\n\n  useEffect(() => {\n    // reroute if already logged in\n    storage.get(\"apiKey\").then(apiKey => apiKey && navigate(\"/\"));\n    storage.reset();\n  }, []);\n\n  const sendPasswordReset = e => {\n    e.preventDefault();\n    let login = document.getElementById(\"login\").value || \"\";\n    login.toLowerCase();\n    setSending(true);\n    http.post(\"/api/password-reset-mail\", { mail: login }).then(res => {\n      setSending(false);\n      if (res && !res.message) {\n        alert.add(t(\"password_reset_mail_sent\"));\n      } else {\n        alert.add(t(res.message), \"alert-danger\");\n      }\n    });\n  };\n\n  const sendLoginForm = e => {\n    e.preventDefault();\n    setSending(true);\n    let login = document.getElementById(\"login\").value || \"\";\n    login.toLowerCase();\n    const password = document.getElementById(\"password\").value;\n    http.post(\"/api/login\", {login, password}).then(res => {\n      setSending(false);\n      if (res && res.api_key) {\n        storage.set(\"apiKey\", res.api_key).then(() => {\n          me.update().then(user => {\n            let redirect = \"/create-group\";\n            if (user.data?.default_group) {\n              redirect = `/groups/${user?.data[\"default_group\"]}`;\n            } else if (user?.groups[0]) {\n              redirect = `/groups/${user?.groups[0].id}`;\n            }\n            navigate(redirect);\n          });\n        });\n      } else if (res && res.message) {\n        alert.add(t(res.message), \"alert-danger\");\n      } else {\n        alert.add(t(\"error\"), \"alert-danger\");\n      }\n    });\n  };\n\n  return (\n    <div class=\"login\">\n      <div class=\"login-form\">\n        <img src={new URL(\"/src/assets/zusam_logo.svg\", import.meta.url)} />\n        {!showResetPassword && (\n          <form>\n            <div class=\"form-group mb-3\">\n              <input\n                type=\"email\"\n                class=\"form-control\"\n                required\n                id=\"login\"\n                placeholder={t(\"login_placeholder\")}\n              />\n            </div>\n            <div class=\"form-group\">\n              <input\n                type=\"password\"\n                class=\"form-control\"\n                required\n                id=\"password\"\n                placeholder={t(\"password_placeholder\")}\n              />\n            </div>\n            <div class=\"forgot-password\">\n              <span onClick={() => setShowResetPassword(true)}>\n                {t(\"forgot_password\")}\n              </span>\n            </div>\n            <button\n              type=\"submit\"\n              class=\"btn btn-light\"\n              onClick={e => sendLoginForm(e)}\n              disabled={sending}\n            >\n              {t(\"connect\")}\n            </button>\n          </form>\n        )}\n        {!!showResetPassword && (\n          <form>\n            <div class=\"form-group mb-3\">\n              <input\n                type=\"email\"\n                class=\"form-control\"\n                required\n                id=\"login\"\n                placeholder={t(\"login_placeholder\")}\n              />\n            </div>\n            <button\n              type=\"submit\"\n              class=\"btn btn-light\"\n              onClick={e => sendPasswordReset(e)}\n              disabled={sending}\n            >\n              {t(\"submit\")}\n            </button>\n          </form>\n        )}\n      </div>\n    </div>\n  );\n}\n","/**\n * React Router DOM v6.15.0\n *\n * Copyright (c) Remix Software Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */\nimport * as React from 'react';\nimport { UNSAFE_mapRouteProperties, Router, UNSAFE_NavigationContext, useHref, useResolvedPath, useLocation, UNSAFE_DataRouterStateContext, useNavigate, createPath, UNSAFE_useRouteId, UNSAFE_RouteContext, useMatches, useNavigation, unstable_useBlocker, UNSAFE_DataRouterContext } from 'react-router';\nexport { AbortedDeferredError, Await, MemoryRouter, Navigate, NavigationType, Outlet, Route, Router, RouterProvider, Routes, UNSAFE_DataRouterContext, UNSAFE_DataRouterStateContext, UNSAFE_LocationContext, UNSAFE_NavigationContext, UNSAFE_RouteContext, UNSAFE_useRouteId, createMemoryRouter, createPath, createRoutesFromChildren, createRoutesFromElements, defer, generatePath, isRouteErrorResponse, json, matchPath, matchRoutes, parsePath, redirect, redirectDocument, renderMatches, resolvePath, unstable_useBlocker, useActionData, useAsyncError, useAsyncValue, useHref, useInRouterContext, useLoaderData, useLocation, useMatch, useMatches, useNavigate, useNavigation, useNavigationType, useOutlet, useOutletContext, useParams, useResolvedPath, useRevalidator, useRouteError, useRouteLoaderData, useRoutes } from 'react-router';\nimport { stripBasename, UNSAFE_warning, createRouter, createBrowserHistory, createHashHistory, ErrorResponse, UNSAFE_invariant, joinPaths } from '@remix-run/router';\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\n\nconst defaultMethod = \"get\";\nconst defaultEncType = \"application/x-www-form-urlencoded\";\nfunction isHtmlElement(object) {\n  return object != null && typeof object.tagName === \"string\";\n}\nfunction isButtonElement(object) {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"button\";\n}\nfunction isFormElement(object) {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"form\";\n}\nfunction isInputElement(object) {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"input\";\n}\nfunction isModifiedEvent(event) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n}\nfunction shouldProcessLinkClick(event, target) {\n  return event.button === 0 && (\n  // Ignore everything but left clicks\n  !target || target === \"_self\") &&\n  // Let browser handle \"target=_blank\" etc.\n  !isModifiedEvent(event) // Ignore clicks with modifier keys\n  ;\n}\n/**\n * Creates a URLSearchParams object using the given initializer.\n *\n * This is identical to `new URLSearchParams(init)` except it also\n * supports arrays as values in the object form of the initializer\n * instead of just strings. This is convenient when you need multiple\n * values for a given key, but don't want to use an array initializer.\n *\n * For example, instead of:\n *\n *   let searchParams = new URLSearchParams([\n *     ['sort', 'name'],\n *     ['sort', 'price']\n *   ]);\n *\n * you can do:\n *\n *   let searchParams = createSearchParams({\n *     sort: ['name', 'price']\n *   });\n */\nfunction createSearchParams(init) {\n  if (init === void 0) {\n    init = \"\";\n  }\n  return new URLSearchParams(typeof init === \"string\" || Array.isArray(init) || init instanceof URLSearchParams ? init : Object.keys(init).reduce((memo, key) => {\n    let value = init[key];\n    return memo.concat(Array.isArray(value) ? value.map(v => [key, v]) : [[key, value]]);\n  }, []));\n}\nfunction getSearchParamsForLocation(locationSearch, defaultSearchParams) {\n  let searchParams = createSearchParams(locationSearch);\n  if (defaultSearchParams) {\n    // Use `defaultSearchParams.forEach(...)` here instead of iterating of\n    // `defaultSearchParams.keys()` to work-around a bug in Firefox related to\n    // web extensions. Relevant Bugzilla tickets:\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=1414602\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=1023984\n    defaultSearchParams.forEach((_, key) => {\n      if (!searchParams.has(key)) {\n        defaultSearchParams.getAll(key).forEach(value => {\n          searchParams.append(key, value);\n        });\n      }\n    });\n  }\n  return searchParams;\n}\n// One-time check for submitter support\nlet _formDataSupportsSubmitter = null;\nfunction isFormDataSubmitterSupported() {\n  if (_formDataSupportsSubmitter === null) {\n    try {\n      new FormData(document.createElement(\"form\"),\n      // @ts-expect-error if FormData supports the submitter parameter, this will throw\n      0);\n      _formDataSupportsSubmitter = false;\n    } catch (e) {\n      _formDataSupportsSubmitter = true;\n    }\n  }\n  return _formDataSupportsSubmitter;\n}\nconst supportedFormEncTypes = new Set([\"application/x-www-form-urlencoded\", \"multipart/form-data\", \"text/plain\"]);\nfunction getFormEncType(encType) {\n  if (encType != null && !supportedFormEncTypes.has(encType)) {\n    process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(false, \"\\\"\" + encType + \"\\\" is not a valid `encType` for `<Form>`/`<fetcher.Form>` \" + (\"and will default to \\\"\" + defaultEncType + \"\\\"\")) : void 0;\n    return null;\n  }\n  return encType;\n}\nfunction getFormSubmissionInfo(target, basename) {\n  let method;\n  let action;\n  let encType;\n  let formData;\n  let body;\n  if (isFormElement(target)) {\n    // When grabbing the action from the element, it will have had the basename\n    // prefixed to ensure non-JS scenarios work, so strip it since we'll\n    // re-prefix in the router\n    let attr = target.getAttribute(\"action\");\n    action = attr ? stripBasename(attr, basename) : null;\n    method = target.getAttribute(\"method\") || defaultMethod;\n    encType = getFormEncType(target.getAttribute(\"enctype\")) || defaultEncType;\n    formData = new FormData(target);\n  } else if (isButtonElement(target) || isInputElement(target) && (target.type === \"submit\" || target.type === \"image\")) {\n    let form = target.form;\n    if (form == null) {\n      throw new Error(\"Cannot submit a <button> or <input type=\\\"submit\\\"> without a <form>\");\n    }\n    // <button>/<input type=\"submit\"> may override attributes of <form>\n    // When grabbing the action from the element, it will have had the basename\n    // prefixed to ensure non-JS scenarios work, so strip it since we'll\n    // re-prefix in the router\n    let attr = target.getAttribute(\"formaction\") || form.getAttribute(\"action\");\n    action = attr ? stripBasename(attr, basename) : null;\n    method = target.getAttribute(\"formmethod\") || form.getAttribute(\"method\") || defaultMethod;\n    encType = getFormEncType(target.getAttribute(\"formenctype\")) || getFormEncType(form.getAttribute(\"enctype\")) || defaultEncType;\n    // Build a FormData object populated from a form and submitter\n    formData = new FormData(form, target);\n    // If this browser doesn't support the `FormData(el, submitter)` format,\n    // then tack on the submitter value at the end.  This is a lightweight\n    // solution that is not 100% spec compliant.  For complete support in older\n    // browsers, consider using the `formdata-submitter-polyfill` package\n    if (!isFormDataSubmitterSupported()) {\n      let {\n        name,\n        type,\n        value\n      } = target;\n      if (type === \"image\") {\n        let prefix = name ? name + \".\" : \"\";\n        formData.append(prefix + \"x\", \"0\");\n        formData.append(prefix + \"y\", \"0\");\n      } else if (name) {\n        formData.append(name, value);\n      }\n    }\n  } else if (isHtmlElement(target)) {\n    throw new Error(\"Cannot submit element that is not <form>, <button>, or \" + \"<input type=\\\"submit|image\\\">\");\n  } else {\n    method = defaultMethod;\n    action = null;\n    encType = defaultEncType;\n    body = target;\n  }\n  // Send body for <Form encType=\"text/plain\" so we encode it into text\n  if (formData && encType === \"text/plain\") {\n    body = formData;\n    formData = undefined;\n  }\n  return {\n    action,\n    method: method.toLowerCase(),\n    encType,\n    formData,\n    body\n  };\n}\n\nconst _excluded = [\"onClick\", \"relative\", \"reloadDocument\", \"replace\", \"state\", \"target\", \"to\", \"preventScrollReset\"],\n  _excluded2 = [\"aria-current\", \"caseSensitive\", \"className\", \"end\", \"style\", \"to\", \"children\"],\n  _excluded3 = [\"reloadDocument\", \"replace\", \"state\", \"method\", \"action\", \"onSubmit\", \"submit\", \"relative\", \"preventScrollReset\"];\nfunction createBrowserRouter(routes, opts) {\n  return createRouter({\n    basename: opts == null ? void 0 : opts.basename,\n    future: _extends({}, opts == null ? void 0 : opts.future, {\n      v7_prependBasename: true\n    }),\n    history: createBrowserHistory({\n      window: opts == null ? void 0 : opts.window\n    }),\n    hydrationData: (opts == null ? void 0 : opts.hydrationData) || parseHydrationData(),\n    routes,\n    mapRouteProperties: UNSAFE_mapRouteProperties\n  }).initialize();\n}\nfunction createHashRouter(routes, opts) {\n  return createRouter({\n    basename: opts == null ? void 0 : opts.basename,\n    future: _extends({}, opts == null ? void 0 : opts.future, {\n      v7_prependBasename: true\n    }),\n    history: createHashHistory({\n      window: opts == null ? void 0 : opts.window\n    }),\n    hydrationData: (opts == null ? void 0 : opts.hydrationData) || parseHydrationData(),\n    routes,\n    mapRouteProperties: UNSAFE_mapRouteProperties\n  }).initialize();\n}\nfunction parseHydrationData() {\n  var _window;\n  let state = (_window = window) == null ? void 0 : _window.__staticRouterHydrationData;\n  if (state && state.errors) {\n    state = _extends({}, state, {\n      errors: deserializeErrors(state.errors)\n    });\n  }\n  return state;\n}\nfunction deserializeErrors(errors) {\n  if (!errors) return null;\n  let entries = Object.entries(errors);\n  let serialized = {};\n  for (let [key, val] of entries) {\n    // Hey you!  If you change this, please change the corresponding logic in\n    // serializeErrors in react-router-dom/server.tsx :)\n    if (val && val.__type === \"RouteErrorResponse\") {\n      serialized[key] = new ErrorResponse(val.status, val.statusText, val.data, val.internal === true);\n    } else if (val && val.__type === \"Error\") {\n      // Attempt to reconstruct the right type of Error (i.e., ReferenceError)\n      if (val.__subType) {\n        let ErrorConstructor = window[val.__subType];\n        if (typeof ErrorConstructor === \"function\") {\n          try {\n            // @ts-expect-error\n            let error = new ErrorConstructor(val.message);\n            // Wipe away the client-side stack trace.  Nothing to fill it in with\n            // because we don't serialize SSR stack traces for security reasons\n            error.stack = \"\";\n            serialized[key] = error;\n          } catch (e) {\n            // no-op - fall through and create a normal Error\n          }\n        }\n      }\n      if (serialized[key] == null) {\n        let error = new Error(val.message);\n        // Wipe away the client-side stack trace.  Nothing to fill it in with\n        // because we don't serialize SSR stack traces for security reasons\n        error.stack = \"\";\n        serialized[key] = error;\n      }\n    } else {\n      serialized[key] = val;\n    }\n  }\n  return serialized;\n}\n//#endregion\n////////////////////////////////////////////////////////////////////////////////\n//#region Components\n////////////////////////////////////////////////////////////////////////////////\n/**\n  Webpack + React 17 fails to compile on any of the following because webpack\n  complains that `startTransition` doesn't exist in `React`:\n  * import { startTransition } from \"react\"\n  * import * as React from from \"react\";\n    \"startTransition\" in React ? React.startTransition(() => setState()) : setState()\n  * import * as React from from \"react\";\n    \"startTransition\" in React ? React[\"startTransition\"](() => setState()) : setState()\n\n  Moving it to a constant such as the following solves the Webpack/React 17 issue:\n  * import * as React from from \"react\";\n    const START_TRANSITION = \"startTransition\";\n    START_TRANSITION in React ? React[START_TRANSITION](() => setState()) : setState()\n\n  However, that introduces webpack/terser minification issues in production builds\n  in React 18 where minification/obfuscation ends up removing the call of\n  React.startTransition entirely from the first half of the ternary.  Grabbing\n  this exported reference once up front resolves that issue.\n\n  See https://github.com/remix-run/react-router/issues/10579\n*/\nconst START_TRANSITION = \"startTransition\";\nconst startTransitionImpl = React[START_TRANSITION];\n/**\n * A `<Router>` for use in web browsers. Provides the cleanest URLs.\n */\nfunction BrowserRouter(_ref) {\n  let {\n    basename,\n    children,\n    future,\n    window\n  } = _ref;\n  let historyRef = React.useRef();\n  if (historyRef.current == null) {\n    historyRef.current = createBrowserHistory({\n      window,\n      v5Compat: true\n    });\n  }\n  let history = historyRef.current;\n  let [state, setStateImpl] = React.useState({\n    action: history.action,\n    location: history.location\n  });\n  let {\n    v7_startTransition\n  } = future || {};\n  let setState = React.useCallback(newState => {\n    v7_startTransition && startTransitionImpl ? startTransitionImpl(() => setStateImpl(newState)) : setStateImpl(newState);\n  }, [setStateImpl, v7_startTransition]);\n  React.useLayoutEffect(() => history.listen(setState), [history, setState]);\n  return /*#__PURE__*/React.createElement(Router, {\n    basename: basename,\n    children: children,\n    location: state.location,\n    navigationType: state.action,\n    navigator: history\n  });\n}\n/**\n * A `<Router>` for use in web browsers. Stores the location in the hash\n * portion of the URL so it is not sent to the server.\n */\nfunction HashRouter(_ref2) {\n  let {\n    basename,\n    children,\n    future,\n    window\n  } = _ref2;\n  let historyRef = React.useRef();\n  if (historyRef.current == null) {\n    historyRef.current = createHashHistory({\n      window,\n      v5Compat: true\n    });\n  }\n  let history = historyRef.current;\n  let [state, setStateImpl] = React.useState({\n    action: history.action,\n    location: history.location\n  });\n  let {\n    v7_startTransition\n  } = future || {};\n  let setState = React.useCallback(newState => {\n    v7_startTransition && startTransitionImpl ? startTransitionImpl(() => setStateImpl(newState)) : setStateImpl(newState);\n  }, [setStateImpl, v7_startTransition]);\n  React.useLayoutEffect(() => history.listen(setState), [history, setState]);\n  return /*#__PURE__*/React.createElement(Router, {\n    basename: basename,\n    children: children,\n    location: state.location,\n    navigationType: state.action,\n    navigator: history\n  });\n}\n/**\n * A `<Router>` that accepts a pre-instantiated history object. It's important\n * to note that using your own history object is highly discouraged and may add\n * two versions of the history library to your bundles unless you use the same\n * version of the history library that React Router uses internally.\n */\nfunction HistoryRouter(_ref3) {\n  let {\n    basename,\n    children,\n    future,\n    history\n  } = _ref3;\n  let [state, setStateImpl] = React.useState({\n    action: history.action,\n    location: history.location\n  });\n  let {\n    v7_startTransition\n  } = future || {};\n  let setState = React.useCallback(newState => {\n    v7_startTransition && startTransitionImpl ? startTransitionImpl(() => setStateImpl(newState)) : setStateImpl(newState);\n  }, [setStateImpl, v7_startTransition]);\n  React.useLayoutEffect(() => history.listen(setState), [history, setState]);\n  return /*#__PURE__*/React.createElement(Router, {\n    basename: basename,\n    children: children,\n    location: state.location,\n    navigationType: state.action,\n    navigator: history\n  });\n}\nif (process.env.NODE_ENV !== \"production\") {\n  HistoryRouter.displayName = \"unstable_HistoryRouter\";\n}\nconst isBrowser = typeof window !== \"undefined\" && typeof window.document !== \"undefined\" && typeof window.document.createElement !== \"undefined\";\nconst ABSOLUTE_URL_REGEX = /^(?:[a-z][a-z0-9+.-]*:|\\/\\/)/i;\n/**\n * The public API for rendering a history-aware <a>.\n */\nconst Link = /*#__PURE__*/React.forwardRef(function LinkWithRef(_ref4, ref) {\n  let {\n      onClick,\n      relative,\n      reloadDocument,\n      replace,\n      state,\n      target,\n      to,\n      preventScrollReset\n    } = _ref4,\n    rest = _objectWithoutPropertiesLoose(_ref4, _excluded);\n  let {\n    basename\n  } = React.useContext(UNSAFE_NavigationContext);\n  // Rendered into <a href> for absolute URLs\n  let absoluteHref;\n  let isExternal = false;\n  if (typeof to === \"string\" && ABSOLUTE_URL_REGEX.test(to)) {\n    // Render the absolute href server- and client-side\n    absoluteHref = to;\n    // Only check for external origins client-side\n    if (isBrowser) {\n      try {\n        let currentUrl = new URL(window.location.href);\n        let targetUrl = to.startsWith(\"//\") ? new URL(currentUrl.protocol + to) : new URL(to);\n        let path = stripBasename(targetUrl.pathname, basename);\n        if (targetUrl.origin === currentUrl.origin && path != null) {\n          // Strip the protocol/origin/basename for same-origin absolute URLs\n          to = path + targetUrl.search + targetUrl.hash;\n        } else {\n          isExternal = true;\n        }\n      } catch (e) {\n        // We can't do external URL detection without a valid URL\n        process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(false, \"<Link to=\\\"\" + to + \"\\\"> contains an invalid URL which will probably break \" + \"when clicked - please update to a valid URL path.\") : void 0;\n      }\n    }\n  }\n  // Rendered into <a href> for relative URLs\n  let href = useHref(to, {\n    relative\n  });\n  let internalOnClick = useLinkClickHandler(to, {\n    replace,\n    state,\n    target,\n    preventScrollReset,\n    relative\n  });\n  function handleClick(event) {\n    if (onClick) onClick(event);\n    if (!event.defaultPrevented) {\n      internalOnClick(event);\n    }\n  }\n  return (\n    /*#__PURE__*/\n    // eslint-disable-next-line jsx-a11y/anchor-has-content\n    React.createElement(\"a\", _extends({}, rest, {\n      href: absoluteHref || href,\n      onClick: isExternal || reloadDocument ? onClick : handleClick,\n      ref: ref,\n      target: target\n    }))\n  );\n});\nif (process.env.NODE_ENV !== \"production\") {\n  Link.displayName = \"Link\";\n}\n/**\n * A <Link> wrapper that knows if it's \"active\" or not.\n */\nconst NavLink = /*#__PURE__*/React.forwardRef(function NavLinkWithRef(_ref5, ref) {\n  let {\n      \"aria-current\": ariaCurrentProp = \"page\",\n      caseSensitive = false,\n      className: classNameProp = \"\",\n      end = false,\n      style: styleProp,\n      to,\n      children\n    } = _ref5,\n    rest = _objectWithoutPropertiesLoose(_ref5, _excluded2);\n  let path = useResolvedPath(to, {\n    relative: rest.relative\n  });\n  let location = useLocation();\n  let routerState = React.useContext(UNSAFE_DataRouterStateContext);\n  let {\n    navigator\n  } = React.useContext(UNSAFE_NavigationContext);\n  let toPathname = navigator.encodeLocation ? navigator.encodeLocation(path).pathname : path.pathname;\n  let locationPathname = location.pathname;\n  let nextLocationPathname = routerState && routerState.navigation && routerState.navigation.location ? routerState.navigation.location.pathname : null;\n  if (!caseSensitive) {\n    locationPathname = locationPathname.toLowerCase();\n    nextLocationPathname = nextLocationPathname ? nextLocationPathname.toLowerCase() : null;\n    toPathname = toPathname.toLowerCase();\n  }\n  let isActive = locationPathname === toPathname || !end && locationPathname.startsWith(toPathname) && locationPathname.charAt(toPathname.length) === \"/\";\n  let isPending = nextLocationPathname != null && (nextLocationPathname === toPathname || !end && nextLocationPathname.startsWith(toPathname) && nextLocationPathname.charAt(toPathname.length) === \"/\");\n  let ariaCurrent = isActive ? ariaCurrentProp : undefined;\n  let className;\n  if (typeof classNameProp === \"function\") {\n    className = classNameProp({\n      isActive,\n      isPending\n    });\n  } else {\n    // If the className prop is not a function, we use a default `active`\n    // class for <NavLink />s that are active. In v5 `active` was the default\n    // value for `activeClassName`, but we are removing that API and can still\n    // use the old default behavior for a cleaner upgrade path and keep the\n    // simple styling rules working as they currently do.\n    className = [classNameProp, isActive ? \"active\" : null, isPending ? \"pending\" : null].filter(Boolean).join(\" \");\n  }\n  let style = typeof styleProp === \"function\" ? styleProp({\n    isActive,\n    isPending\n  }) : styleProp;\n  return /*#__PURE__*/React.createElement(Link, _extends({}, rest, {\n    \"aria-current\": ariaCurrent,\n    className: className,\n    ref: ref,\n    style: style,\n    to: to\n  }), typeof children === \"function\" ? children({\n    isActive,\n    isPending\n  }) : children);\n});\nif (process.env.NODE_ENV !== \"production\") {\n  NavLink.displayName = \"NavLink\";\n}\n/**\n * A `@remix-run/router`-aware `<form>`. It behaves like a normal form except\n * that the interaction with the server is with `fetch` instead of new document\n * requests, allowing components to add nicer UX to the page as the form is\n * submitted and returns with data.\n */\nconst Form = /*#__PURE__*/React.forwardRef((props, ref) => {\n  let submit = useSubmit();\n  return /*#__PURE__*/React.createElement(FormImpl, _extends({}, props, {\n    submit: submit,\n    ref: ref\n  }));\n});\nif (process.env.NODE_ENV !== \"production\") {\n  Form.displayName = \"Form\";\n}\nconst FormImpl = /*#__PURE__*/React.forwardRef((_ref6, forwardedRef) => {\n  let {\n      reloadDocument,\n      replace,\n      state,\n      method = defaultMethod,\n      action,\n      onSubmit,\n      submit,\n      relative,\n      preventScrollReset\n    } = _ref6,\n    props = _objectWithoutPropertiesLoose(_ref6, _excluded3);\n  let formMethod = method.toLowerCase() === \"get\" ? \"get\" : \"post\";\n  let formAction = useFormAction(action, {\n    relative\n  });\n  let submitHandler = event => {\n    onSubmit && onSubmit(event);\n    if (event.defaultPrevented) return;\n    event.preventDefault();\n    let submitter = event.nativeEvent.submitter;\n    let submitMethod = (submitter == null ? void 0 : submitter.getAttribute(\"formmethod\")) || method;\n    submit(submitter || event.currentTarget, {\n      method: submitMethod,\n      replace,\n      state,\n      relative,\n      preventScrollReset\n    });\n  };\n  return /*#__PURE__*/React.createElement(\"form\", _extends({\n    ref: forwardedRef,\n    method: formMethod,\n    action: formAction,\n    onSubmit: reloadDocument ? onSubmit : submitHandler\n  }, props));\n});\nif (process.env.NODE_ENV !== \"production\") {\n  FormImpl.displayName = \"FormImpl\";\n}\n/**\n * This component will emulate the browser's scroll restoration on location\n * changes.\n */\nfunction ScrollRestoration(_ref7) {\n  let {\n    getKey,\n    storageKey\n  } = _ref7;\n  useScrollRestoration({\n    getKey,\n    storageKey\n  });\n  return null;\n}\nif (process.env.NODE_ENV !== \"production\") {\n  ScrollRestoration.displayName = \"ScrollRestoration\";\n}\n//#endregion\n////////////////////////////////////////////////////////////////////////////////\n//#region Hooks\n////////////////////////////////////////////////////////////////////////////////\nvar DataRouterHook;\n(function (DataRouterHook) {\n  DataRouterHook[\"UseScrollRestoration\"] = \"useScrollRestoration\";\n  DataRouterHook[\"UseSubmit\"] = \"useSubmit\";\n  DataRouterHook[\"UseSubmitFetcher\"] = \"useSubmitFetcher\";\n  DataRouterHook[\"UseFetcher\"] = \"useFetcher\";\n})(DataRouterHook || (DataRouterHook = {}));\nvar DataRouterStateHook;\n(function (DataRouterStateHook) {\n  DataRouterStateHook[\"UseFetchers\"] = \"useFetchers\";\n  DataRouterStateHook[\"UseScrollRestoration\"] = \"useScrollRestoration\";\n})(DataRouterStateHook || (DataRouterStateHook = {}));\nfunction getDataRouterConsoleError(hookName) {\n  return hookName + \" must be used within a data router.  See https://reactrouter.com/routers/picking-a-router.\";\n}\nfunction useDataRouterContext(hookName) {\n  let ctx = React.useContext(UNSAFE_DataRouterContext);\n  !ctx ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, getDataRouterConsoleError(hookName)) : UNSAFE_invariant(false) : void 0;\n  return ctx;\n}\nfunction useDataRouterState(hookName) {\n  let state = React.useContext(UNSAFE_DataRouterStateContext);\n  !state ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, getDataRouterConsoleError(hookName)) : UNSAFE_invariant(false) : void 0;\n  return state;\n}\n/**\n * Handles the click behavior for router `<Link>` components. This is useful if\n * you need to create custom `<Link>` components with the same click behavior we\n * use in our exported `<Link>`.\n */\nfunction useLinkClickHandler(to, _temp) {\n  let {\n    target,\n    replace: replaceProp,\n    state,\n    preventScrollReset,\n    relative\n  } = _temp === void 0 ? {} : _temp;\n  let navigate = useNavigate();\n  let location = useLocation();\n  let path = useResolvedPath(to, {\n    relative\n  });\n  return React.useCallback(event => {\n    if (shouldProcessLinkClick(event, target)) {\n      event.preventDefault();\n      // If the URL hasn't changed, a regular <a> will do a replace instead of\n      // a push, so do the same here unless the replace prop is explicitly set\n      let replace = replaceProp !== undefined ? replaceProp : createPath(location) === createPath(path);\n      navigate(to, {\n        replace,\n        state,\n        preventScrollReset,\n        relative\n      });\n    }\n  }, [location, navigate, path, replaceProp, state, target, to, preventScrollReset, relative]);\n}\n/**\n * A convenient wrapper for reading and writing search parameters via the\n * URLSearchParams interface.\n */\nfunction useSearchParams(defaultInit) {\n  process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(typeof URLSearchParams !== \"undefined\", \"You cannot use the `useSearchParams` hook in a browser that does not \" + \"support the URLSearchParams API. If you need to support Internet \" + \"Explorer 11, we recommend you load a polyfill such as \" + \"https://github.com/ungap/url-search-params\\n\\n\" + \"If you're unsure how to load polyfills, we recommend you check out \" + \"https://polyfill.io/v3/ which provides some recommendations about how \" + \"to load polyfills only for users that need them, instead of for every \" + \"user.\") : void 0;\n  let defaultSearchParamsRef = React.useRef(createSearchParams(defaultInit));\n  let hasSetSearchParamsRef = React.useRef(false);\n  let location = useLocation();\n  let searchParams = React.useMemo(() =>\n  // Only merge in the defaults if we haven't yet called setSearchParams.\n  // Once we call that we want those to take precedence, otherwise you can't\n  // remove a param with setSearchParams({}) if it has an initial value\n  getSearchParamsForLocation(location.search, hasSetSearchParamsRef.current ? null : defaultSearchParamsRef.current), [location.search]);\n  let navigate = useNavigate();\n  let setSearchParams = React.useCallback((nextInit, navigateOptions) => {\n    const newSearchParams = createSearchParams(typeof nextInit === \"function\" ? nextInit(searchParams) : nextInit);\n    hasSetSearchParamsRef.current = true;\n    navigate(\"?\" + newSearchParams, navigateOptions);\n  }, [navigate, searchParams]);\n  return [searchParams, setSearchParams];\n}\nfunction validateClientSideSubmission() {\n  if (typeof document === \"undefined\") {\n    throw new Error(\"You are calling submit during the server render. \" + \"Try calling submit within a `useEffect` or callback instead.\");\n  }\n}\n/**\n * Returns a function that may be used to programmatically submit a form (or\n * some arbitrary data) to the server.\n */\nfunction useSubmit() {\n  let {\n    router\n  } = useDataRouterContext(DataRouterHook.UseSubmit);\n  let {\n    basename\n  } = React.useContext(UNSAFE_NavigationContext);\n  let currentRouteId = UNSAFE_useRouteId();\n  return React.useCallback(function (target, options) {\n    if (options === void 0) {\n      options = {};\n    }\n    validateClientSideSubmission();\n    let {\n      action,\n      method,\n      encType,\n      formData,\n      body\n    } = getFormSubmissionInfo(target, basename);\n    router.navigate(options.action || action, {\n      preventScrollReset: options.preventScrollReset,\n      formData,\n      body,\n      formMethod: options.method || method,\n      formEncType: options.encType || encType,\n      replace: options.replace,\n      state: options.state,\n      fromRouteId: currentRouteId\n    });\n  }, [router, basename, currentRouteId]);\n}\n/**\n * Returns the implementation for fetcher.submit\n */\nfunction useSubmitFetcher(fetcherKey, fetcherRouteId) {\n  let {\n    router\n  } = useDataRouterContext(DataRouterHook.UseSubmitFetcher);\n  let {\n    basename\n  } = React.useContext(UNSAFE_NavigationContext);\n  return React.useCallback(function (target, options) {\n    if (options === void 0) {\n      options = {};\n    }\n    validateClientSideSubmission();\n    let {\n      action,\n      method,\n      encType,\n      formData,\n      body\n    } = getFormSubmissionInfo(target, basename);\n    !(fetcherRouteId != null) ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"No routeId available for useFetcher()\") : UNSAFE_invariant(false) : void 0;\n    router.fetch(fetcherKey, fetcherRouteId, options.action || action, {\n      preventScrollReset: options.preventScrollReset,\n      formData,\n      body,\n      formMethod: options.method || method,\n      formEncType: options.encType || encType\n    });\n  }, [router, basename, fetcherKey, fetcherRouteId]);\n}\n// v7: Eventually we should deprecate this entirely in favor of using the\n// router method directly?\nfunction useFormAction(action, _temp2) {\n  let {\n    relative\n  } = _temp2 === void 0 ? {} : _temp2;\n  let {\n    basename\n  } = React.useContext(UNSAFE_NavigationContext);\n  let routeContext = React.useContext(UNSAFE_RouteContext);\n  !routeContext ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"useFormAction must be used inside a RouteContext\") : UNSAFE_invariant(false) : void 0;\n  let [match] = routeContext.matches.slice(-1);\n  // Shallow clone path so we can modify it below, otherwise we modify the\n  // object referenced by useMemo inside useResolvedPath\n  let path = _extends({}, useResolvedPath(action ? action : \".\", {\n    relative\n  }));\n  // Previously we set the default action to \".\". The problem with this is that\n  // `useResolvedPath(\".\")` excludes search params of the resolved URL. This is\n  // the intended behavior of when \".\" is specifically provided as\n  // the form action, but inconsistent w/ browsers when the action is omitted.\n  // https://github.com/remix-run/remix/issues/927\n  let location = useLocation();\n  if (action == null) {\n    // Safe to write to this directly here since if action was undefined, we\n    // would have called useResolvedPath(\".\") which will never include a search\n    path.search = location.search;\n    // When grabbing search params from the URL, remove the automatically\n    // inserted ?index param so we match the useResolvedPath search behavior\n    // which would not include ?index\n    if (match.route.index) {\n      let params = new URLSearchParams(path.search);\n      params.delete(\"index\");\n      path.search = params.toString() ? \"?\" + params.toString() : \"\";\n    }\n  }\n  if ((!action || action === \".\") && match.route.index) {\n    path.search = path.search ? path.search.replace(/^\\?/, \"?index&\") : \"?index\";\n  }\n  // If we're operating within a basename, prepend it to the pathname prior\n  // to creating the form action.  If this is a root navigation, then just use\n  // the raw basename which allows the basename to have full control over the\n  // presence of a trailing slash on root actions\n  if (basename !== \"/\") {\n    path.pathname = path.pathname === \"/\" ? basename : joinPaths([basename, path.pathname]);\n  }\n  return createPath(path);\n}\nfunction createFetcherForm(fetcherKey, routeId) {\n  let FetcherForm = /*#__PURE__*/React.forwardRef((props, ref) => {\n    let submit = useSubmitFetcher(fetcherKey, routeId);\n    return /*#__PURE__*/React.createElement(FormImpl, _extends({}, props, {\n      ref: ref,\n      submit: submit\n    }));\n  });\n  if (process.env.NODE_ENV !== \"production\") {\n    FetcherForm.displayName = \"fetcher.Form\";\n  }\n  return FetcherForm;\n}\nlet fetcherId = 0;\n/**\n * Interacts with route loaders and actions without causing a navigation. Great\n * for any interaction that stays on the same page.\n */\nfunction useFetcher() {\n  var _route$matches;\n  let {\n    router\n  } = useDataRouterContext(DataRouterHook.UseFetcher);\n  let route = React.useContext(UNSAFE_RouteContext);\n  !route ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"useFetcher must be used inside a RouteContext\") : UNSAFE_invariant(false) : void 0;\n  let routeId = (_route$matches = route.matches[route.matches.length - 1]) == null ? void 0 : _route$matches.route.id;\n  !(routeId != null) ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"useFetcher can only be used on routes that contain a unique \\\"id\\\"\") : UNSAFE_invariant(false) : void 0;\n  let [fetcherKey] = React.useState(() => String(++fetcherId));\n  let [Form] = React.useState(() => {\n    !routeId ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"No routeId available for fetcher.Form()\") : UNSAFE_invariant(false) : void 0;\n    return createFetcherForm(fetcherKey, routeId);\n  });\n  let [load] = React.useState(() => href => {\n    !router ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"No router available for fetcher.load()\") : UNSAFE_invariant(false) : void 0;\n    !routeId ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"No routeId available for fetcher.load()\") : UNSAFE_invariant(false) : void 0;\n    router.fetch(fetcherKey, routeId, href);\n  });\n  let submit = useSubmitFetcher(fetcherKey, routeId);\n  let fetcher = router.getFetcher(fetcherKey);\n  let fetcherWithComponents = React.useMemo(() => _extends({\n    Form,\n    submit,\n    load\n  }, fetcher), [fetcher, Form, submit, load]);\n  React.useEffect(() => {\n    // Is this busted when the React team gets real weird and calls effects\n    // twice on mount?  We really just need to garbage collect here when this\n    // fetcher is no longer around.\n    return () => {\n      if (!router) {\n        console.warn(\"No router available to clean up from useFetcher()\");\n        return;\n      }\n      router.deleteFetcher(fetcherKey);\n    };\n  }, [router, fetcherKey]);\n  return fetcherWithComponents;\n}\n/**\n * Provides all fetchers currently on the page. Useful for layouts and parent\n * routes that need to provide pending/optimistic UI regarding the fetch.\n */\nfunction useFetchers() {\n  let state = useDataRouterState(DataRouterStateHook.UseFetchers);\n  return [...state.fetchers.values()];\n}\nconst SCROLL_RESTORATION_STORAGE_KEY = \"react-router-scroll-positions\";\nlet savedScrollPositions = {};\n/**\n * When rendered inside a RouterProvider, will restore scroll positions on navigations\n */\nfunction useScrollRestoration(_temp3) {\n  let {\n    getKey,\n    storageKey\n  } = _temp3 === void 0 ? {} : _temp3;\n  let {\n    router\n  } = useDataRouterContext(DataRouterHook.UseScrollRestoration);\n  let {\n    restoreScrollPosition,\n    preventScrollReset\n  } = useDataRouterState(DataRouterStateHook.UseScrollRestoration);\n  let {\n    basename\n  } = React.useContext(UNSAFE_NavigationContext);\n  let location = useLocation();\n  let matches = useMatches();\n  let navigation = useNavigation();\n  // Trigger manual scroll restoration while we're active\n  React.useEffect(() => {\n    window.history.scrollRestoration = \"manual\";\n    return () => {\n      window.history.scrollRestoration = \"auto\";\n    };\n  }, []);\n  // Save positions on pagehide\n  usePageHide(React.useCallback(() => {\n    if (navigation.state === \"idle\") {\n      let key = (getKey ? getKey(location, matches) : null) || location.key;\n      savedScrollPositions[key] = window.scrollY;\n    }\n    sessionStorage.setItem(storageKey || SCROLL_RESTORATION_STORAGE_KEY, JSON.stringify(savedScrollPositions));\n    window.history.scrollRestoration = \"auto\";\n  }, [storageKey, getKey, navigation.state, location, matches]));\n  // Read in any saved scroll locations\n  if (typeof document !== \"undefined\") {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useLayoutEffect(() => {\n      try {\n        let sessionPositions = sessionStorage.getItem(storageKey || SCROLL_RESTORATION_STORAGE_KEY);\n        if (sessionPositions) {\n          savedScrollPositions = JSON.parse(sessionPositions);\n        }\n      } catch (e) {\n        // no-op, use default empty object\n      }\n    }, [storageKey]);\n    // Enable scroll restoration in the router\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useLayoutEffect(() => {\n      let getKeyWithoutBasename = getKey && basename !== \"/\" ? (location, matches) => getKey( // Strip the basename to match useLocation()\n      _extends({}, location, {\n        pathname: stripBasename(location.pathname, basename) || location.pathname\n      }), matches) : getKey;\n      let disableScrollRestoration = router == null ? void 0 : router.enableScrollRestoration(savedScrollPositions, () => window.scrollY, getKeyWithoutBasename);\n      return () => disableScrollRestoration && disableScrollRestoration();\n    }, [router, basename, getKey]);\n    // Restore scrolling when state.restoreScrollPosition changes\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useLayoutEffect(() => {\n      // Explicit false means don't do anything (used for submissions)\n      if (restoreScrollPosition === false) {\n        return;\n      }\n      // been here before, scroll to it\n      if (typeof restoreScrollPosition === \"number\") {\n        window.scrollTo(0, restoreScrollPosition);\n        return;\n      }\n      // try to scroll to the hash\n      if (location.hash) {\n        let el = document.getElementById(decodeURIComponent(location.hash.slice(1)));\n        if (el) {\n          el.scrollIntoView();\n          return;\n        }\n      }\n      // Don't reset if this navigation opted out\n      if (preventScrollReset === true) {\n        return;\n      }\n      // otherwise go to the top on new locations\n      window.scrollTo(0, 0);\n    }, [location, restoreScrollPosition, preventScrollReset]);\n  }\n}\n/**\n * Setup a callback to be fired on the window's `beforeunload` event. This is\n * useful for saving some data to `window.localStorage` just before the page\n * refreshes.\n *\n * Note: The `callback` argument should be a function created with\n * `React.useCallback()`.\n */\nfunction useBeforeUnload(callback, options) {\n  let {\n    capture\n  } = options || {};\n  React.useEffect(() => {\n    let opts = capture != null ? {\n      capture\n    } : undefined;\n    window.addEventListener(\"beforeunload\", callback, opts);\n    return () => {\n      window.removeEventListener(\"beforeunload\", callback, opts);\n    };\n  }, [callback, capture]);\n}\n/**\n * Setup a callback to be fired on the window's `pagehide` event. This is\n * useful for saving some data to `window.localStorage` just before the page\n * refreshes.  This event is better supported than beforeunload across browsers.\n *\n * Note: The `callback` argument should be a function created with\n * `React.useCallback()`.\n */\nfunction usePageHide(callback, options) {\n  let {\n    capture\n  } = options || {};\n  React.useEffect(() => {\n    let opts = capture != null ? {\n      capture\n    } : undefined;\n    window.addEventListener(\"pagehide\", callback, opts);\n    return () => {\n      window.removeEventListener(\"pagehide\", callback, opts);\n    };\n  }, [callback, capture]);\n}\n/**\n * Wrapper around useBlocker to show a window.confirm prompt to users instead\n * of building a custom UI with useBlocker.\n *\n * Warning: This has *a lot of rough edges* and behaves very differently (and\n * very incorrectly in some cases) across browsers if user click addition\n * back/forward navigations while the confirm is open.  Use at your own risk.\n */\nfunction usePrompt(_ref8) {\n  let {\n    when,\n    message\n  } = _ref8;\n  let blocker = unstable_useBlocker(when);\n  React.useEffect(() => {\n    if (blocker.state === \"blocked\") {\n      let proceed = window.confirm(message);\n      if (proceed) {\n        // This timeout is needed to avoid a weird \"race\" on POP navigations\n        // between the `window.history` revert navigation and the result of\n        // `window.confirm`\n        setTimeout(blocker.proceed, 0);\n      } else {\n        blocker.reset();\n      }\n    }\n  }, [blocker, message]);\n  React.useEffect(() => {\n    if (blocker.state === \"blocked\" && !when) {\n      blocker.reset();\n    }\n  }, [blocker, when]);\n}\n//#endregion\n\nexport { BrowserRouter, Form, HashRouter, Link, NavLink, ScrollRestoration, useScrollRestoration as UNSAFE_useScrollRestoration, createBrowserRouter, createHashRouter, createSearchParams, HistoryRouter as unstable_HistoryRouter, usePrompt as unstable_usePrompt, useBeforeUnload, useFetcher, useFetchers, useFormAction, useLinkClickHandler, useSearchParams, useSubmit };\n//# sourceMappingURL=index.js.map\n","import type {\n  FormEncType,\n  HTMLFormMethod,\n  RelativeRoutingType,\n} from \"@remix-run/router\";\nimport { stripBasename, UNSAFE_warning as warning } from \"@remix-run/router\";\n\nexport const defaultMethod: HTMLFormMethod = \"get\";\nconst defaultEncType: FormEncType = \"application/x-www-form-urlencoded\";\n\nexport function isHtmlElement(object: any): object is HTMLElement {\n  return object != null && typeof object.tagName === \"string\";\n}\n\nexport function isButtonElement(object: any): object is HTMLButtonElement {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"button\";\n}\n\nexport function isFormElement(object: any): object is HTMLFormElement {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"form\";\n}\n\nexport function isInputElement(object: any): object is HTMLInputElement {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"input\";\n}\n\ntype LimitedMouseEvent = Pick<\n  MouseEvent,\n  \"button\" | \"metaKey\" | \"altKey\" | \"ctrlKey\" | \"shiftKey\"\n>;\n\nfunction isModifiedEvent(event: LimitedMouseEvent) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n}\n\nexport function shouldProcessLinkClick(\n  event: LimitedMouseEvent,\n  target?: string\n) {\n  return (\n    event.button === 0 && // Ignore everything but left clicks\n    (!target || target === \"_self\") && // Let browser handle \"target=_blank\" etc.\n    !isModifiedEvent(event) // Ignore clicks with modifier keys\n  );\n}\n\nexport type ParamKeyValuePair = [string, string];\n\nexport type URLSearchParamsInit =\n  | string\n  | ParamKeyValuePair[]\n  | Record<string, string | string[]>\n  | URLSearchParams;\n\n/**\n * Creates a URLSearchParams object using the given initializer.\n *\n * This is identical to `new URLSearchParams(init)` except it also\n * supports arrays as values in the object form of the initializer\n * instead of just strings. This is convenient when you need multiple\n * values for a given key, but don't want to use an array initializer.\n *\n * For example, instead of:\n *\n *   let searchParams = new URLSearchParams([\n *     ['sort', 'name'],\n *     ['sort', 'price']\n *   ]);\n *\n * you can do:\n *\n *   let searchParams = createSearchParams({\n *     sort: ['name', 'price']\n *   });\n */\nexport function createSearchParams(\n  init: URLSearchParamsInit = \"\"\n): URLSearchParams {\n  return new URLSearchParams(\n    typeof init === \"string\" ||\n    Array.isArray(init) ||\n    init instanceof URLSearchParams\n      ? init\n      : Object.keys(init).reduce((memo, key) => {\n          let value = init[key];\n          return memo.concat(\n            Array.isArray(value) ? value.map((v) => [key, v]) : [[key, value]]\n          );\n        }, [] as ParamKeyValuePair[])\n  );\n}\n\nexport function getSearchParamsForLocation(\n  locationSearch: string,\n  defaultSearchParams: URLSearchParams | null\n) {\n  let searchParams = createSearchParams(locationSearch);\n\n  if (defaultSearchParams) {\n    // Use `defaultSearchParams.forEach(...)` here instead of iterating of\n    // `defaultSearchParams.keys()` to work-around a bug in Firefox related to\n    // web extensions. Relevant Bugzilla tickets:\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=1414602\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=1023984\n    defaultSearchParams.forEach((_, key) => {\n      if (!searchParams.has(key)) {\n        defaultSearchParams.getAll(key).forEach((value) => {\n          searchParams.append(key, value);\n        });\n      }\n    });\n  }\n\n  return searchParams;\n}\n\n// Thanks https://github.com/sindresorhus/type-fest!\ntype JsonObject = { [Key in string]: JsonValue } & {\n  [Key in string]?: JsonValue | undefined;\n};\ntype JsonArray = JsonValue[] | readonly JsonValue[];\ntype JsonPrimitive = string | number | boolean | null;\ntype JsonValue = JsonPrimitive | JsonObject | JsonArray;\n\nexport type SubmitTarget =\n  | HTMLFormElement\n  | HTMLButtonElement\n  | HTMLInputElement\n  | FormData\n  | URLSearchParams\n  | JsonValue\n  | null;\n\n// One-time check for submitter support\nlet _formDataSupportsSubmitter: boolean | null = null;\n\nfunction isFormDataSubmitterSupported() {\n  if (_formDataSupportsSubmitter === null) {\n    try {\n      new FormData(\n        document.createElement(\"form\"),\n        // @ts-expect-error if FormData supports the submitter parameter, this will throw\n        0\n      );\n      _formDataSupportsSubmitter = false;\n    } catch (e) {\n      _formDataSupportsSubmitter = true;\n    }\n  }\n  return _formDataSupportsSubmitter;\n}\n\nexport interface SubmitOptions {\n  /**\n   * The HTTP method used to submit the form. Overrides `<form method>`.\n   * Defaults to \"GET\".\n   */\n  method?: HTMLFormMethod;\n\n  /**\n   * The action URL path used to submit the form. Overrides `<form action>`.\n   * Defaults to the path of the current route.\n   */\n  action?: string;\n\n  /**\n   * The encoding used to submit the form. Overrides `<form encType>`.\n   * Defaults to \"application/x-www-form-urlencoded\".\n   */\n  encType?: FormEncType;\n\n  /**\n   * Set `true` to replace the current entry in the browser's history stack\n   * instead of creating a new one (i.e. stay on \"the same page\"). Defaults\n   * to `false`.\n   */\n  replace?: boolean;\n\n  /**\n   * State object to add to the history stack entry for this navigation\n   */\n  state?: any;\n\n  /**\n   * Determines whether the form action is relative to the route hierarchy or\n   * the pathname.  Use this if you want to opt out of navigating the route\n   * hierarchy and want to instead route based on /-delimited URL segments\n   */\n  relative?: RelativeRoutingType;\n\n  /**\n   * In browser-based environments, prevent resetting scroll after this\n   * navigation when using the <ScrollRestoration> component\n   */\n  preventScrollReset?: boolean;\n}\n\nconst supportedFormEncTypes: Set<FormEncType> = new Set([\n  \"application/x-www-form-urlencoded\",\n  \"multipart/form-data\",\n  \"text/plain\",\n]);\n\nfunction getFormEncType(encType: string | null) {\n  if (encType != null && !supportedFormEncTypes.has(encType as FormEncType)) {\n    warning(\n      false,\n      `\"${encType}\" is not a valid \\`encType\\` for \\`<Form>\\`/\\`<fetcher.Form>\\` ` +\n        `and will default to \"${defaultEncType}\"`\n    );\n\n    return null;\n  }\n  return encType;\n}\n\nexport function getFormSubmissionInfo(\n  target: SubmitTarget,\n  basename: string\n): {\n  action: string | null;\n  method: string;\n  encType: string;\n  formData: FormData | undefined;\n  body: any;\n} {\n  let method: string;\n  let action: string | null;\n  let encType: string;\n  let formData: FormData | undefined;\n  let body: any;\n\n  if (isFormElement(target)) {\n    // When grabbing the action from the element, it will have had the basename\n    // prefixed to ensure non-JS scenarios work, so strip it since we'll\n    // re-prefix in the router\n    let attr = target.getAttribute(\"action\");\n    action = attr ? stripBasename(attr, basename) : null;\n    method = target.getAttribute(\"method\") || defaultMethod;\n    encType = getFormEncType(target.getAttribute(\"enctype\")) || defaultEncType;\n\n    formData = new FormData(target);\n  } else if (\n    isButtonElement(target) ||\n    (isInputElement(target) &&\n      (target.type === \"submit\" || target.type === \"image\"))\n  ) {\n    let form = target.form;\n\n    if (form == null) {\n      throw new Error(\n        `Cannot submit a <button> or <input type=\"submit\"> without a <form>`\n      );\n    }\n\n    // <button>/<input type=\"submit\"> may override attributes of <form>\n\n    // When grabbing the action from the element, it will have had the basename\n    // prefixed to ensure non-JS scenarios work, so strip it since we'll\n    // re-prefix in the router\n    let attr = target.getAttribute(\"formaction\") || form.getAttribute(\"action\");\n    action = attr ? stripBasename(attr, basename) : null;\n\n    method =\n      target.getAttribute(\"formmethod\") ||\n      form.getAttribute(\"method\") ||\n      defaultMethod;\n    encType =\n      getFormEncType(target.getAttribute(\"formenctype\")) ||\n      getFormEncType(form.getAttribute(\"enctype\")) ||\n      defaultEncType;\n\n    // Build a FormData object populated from a form and submitter\n    formData = new FormData(form, target);\n\n    // If this browser doesn't support the `FormData(el, submitter)` format,\n    // then tack on the submitter value at the end.  This is a lightweight\n    // solution that is not 100% spec compliant.  For complete support in older\n    // browsers, consider using the `formdata-submitter-polyfill` package\n    if (!isFormDataSubmitterSupported()) {\n      let { name, type, value } = target;\n      if (type === \"image\") {\n        let prefix = name ? `${name}.` : \"\";\n        formData.append(`${prefix}x`, \"0\");\n        formData.append(`${prefix}y`, \"0\");\n      } else if (name) {\n        formData.append(name, value);\n      }\n    }\n  } else if (isHtmlElement(target)) {\n    throw new Error(\n      `Cannot submit element that is not <form>, <button>, or ` +\n        `<input type=\"submit|image\">`\n    );\n  } else {\n    method = defaultMethod;\n    action = null;\n    encType = defaultEncType;\n    body = target;\n  }\n\n  // Send body for <Form encType=\"text/plain\" so we encode it into text\n  if (formData && encType === \"text/plain\") {\n    body = formData;\n    formData = undefined;\n  }\n\n  return { action, method: method.toLowerCase(), encType, formData, body };\n}\n","/**\n * NOTE: If you refactor this to split up the modules into separate files,\n * you'll need to update the rollup config for react-router-dom-v5-compat.\n */\nimport * as React from \"react\";\nimport type {\n  FutureConfig,\n  Location,\n  NavigateOptions,\n  NavigationType,\n  RelativeRoutingType,\n  RouteObject,\n  To,\n} from \"react-router\";\nimport {\n  Router,\n  createPath,\n  useHref,\n  useLocation,\n  useMatches,\n  useNavigate,\n  useNavigation,\n  useResolvedPath,\n  unstable_useBlocker as useBlocker,\n  UNSAFE_DataRouterContext as DataRouterContext,\n  UNSAFE_DataRouterStateContext as DataRouterStateContext,\n  UNSAFE_NavigationContext as NavigationContext,\n  UNSAFE_RouteContext as RouteContext,\n  UNSAFE_mapRouteProperties as mapRouteProperties,\n  UNSAFE_useRouteId as useRouteId,\n} from \"react-router\";\nimport type {\n  BrowserHistory,\n  Fetcher,\n  FormEncType,\n  FormMethod,\n  FutureConfig as RouterFutureConfig,\n  GetScrollRestorationKeyFunction,\n  HashHistory,\n  History,\n  HTMLFormMethod,\n  HydrationState,\n  Router as RemixRouter,\n  V7_FormMethod,\n} from \"@remix-run/router\";\nimport {\n  createRouter,\n  createBrowserHistory,\n  createHashHistory,\n  joinPaths,\n  stripBasename,\n  ErrorResponse,\n  UNSAFE_invariant as invariant,\n  UNSAFE_warning as warning,\n} from \"@remix-run/router\";\n\nimport type {\n  SubmitOptions,\n  ParamKeyValuePair,\n  URLSearchParamsInit,\n  SubmitTarget,\n} from \"./dom\";\nimport {\n  createSearchParams,\n  defaultMethod,\n  getFormSubmissionInfo,\n  getSearchParamsForLocation,\n  shouldProcessLinkClick,\n} from \"./dom\";\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Re-exports\n////////////////////////////////////////////////////////////////////////////////\n\nexport type {\n  FormEncType,\n  FormMethod,\n  GetScrollRestorationKeyFunction,\n  ParamKeyValuePair,\n  SubmitOptions,\n  URLSearchParamsInit,\n  V7_FormMethod,\n};\nexport { createSearchParams };\n\n// Note: Keep in sync with react-router exports!\nexport type {\n  ActionFunction,\n  ActionFunctionArgs,\n  AwaitProps,\n  unstable_Blocker,\n  unstable_BlockerFunction,\n  DataRouteMatch,\n  DataRouteObject,\n  Fetcher,\n  Hash,\n  IndexRouteObject,\n  IndexRouteProps,\n  JsonFunction,\n  LazyRouteFunction,\n  LayoutRouteProps,\n  LoaderFunction,\n  LoaderFunctionArgs,\n  Location,\n  MemoryRouterProps,\n  NavigateFunction,\n  NavigateOptions,\n  NavigateProps,\n  Navigation,\n  Navigator,\n  NonIndexRouteObject,\n  OutletProps,\n  Params,\n  ParamParseKey,\n  Path,\n  PathMatch,\n  Pathname,\n  PathPattern,\n  PathRouteProps,\n  RedirectFunction,\n  RelativeRoutingType,\n  RouteMatch,\n  RouteObject,\n  RouteProps,\n  RouterProps,\n  RouterProviderProps,\n  RoutesProps,\n  Search,\n  ShouldRevalidateFunction,\n  To,\n} from \"react-router\";\nexport {\n  AbortedDeferredError,\n  Await,\n  MemoryRouter,\n  Navigate,\n  NavigationType,\n  Outlet,\n  Route,\n  Router,\n  RouterProvider,\n  Routes,\n  createMemoryRouter,\n  createPath,\n  createRoutesFromChildren,\n  createRoutesFromElements,\n  defer,\n  isRouteErrorResponse,\n  generatePath,\n  json,\n  matchPath,\n  matchRoutes,\n  parsePath,\n  redirect,\n  redirectDocument,\n  renderMatches,\n  resolvePath,\n  useActionData,\n  useAsyncError,\n  useAsyncValue,\n  unstable_useBlocker,\n  useHref,\n  useInRouterContext,\n  useLoaderData,\n  useLocation,\n  useMatch,\n  useMatches,\n  useNavigate,\n  useNavigation,\n  useNavigationType,\n  useOutlet,\n  useOutletContext,\n  useParams,\n  useResolvedPath,\n  useRevalidator,\n  useRouteError,\n  useRouteLoaderData,\n  useRoutes,\n} from \"react-router\";\n\n///////////////////////////////////////////////////////////////////////////////\n// DANGER! PLEASE READ ME!\n// We provide these exports as an escape hatch in the event that you need any\n// routing data that we don't provide an explicit API for. With that said, we\n// want to cover your use case if we can, so if you feel the need to use these\n// we want to hear from you. Let us know what you're building and we'll do our\n// best to make sure we can support you!\n//\n// We consider these exports an implementation detail and do not guarantee\n// against any breaking changes, regardless of the semver release. Use with\n// extreme caution and only if you understand the consequences. Godspeed.\n///////////////////////////////////////////////////////////////////////////////\n\n/** @internal */\nexport {\n  UNSAFE_DataRouterContext,\n  UNSAFE_DataRouterStateContext,\n  UNSAFE_NavigationContext,\n  UNSAFE_LocationContext,\n  UNSAFE_RouteContext,\n  UNSAFE_useRouteId,\n} from \"react-router\";\n//#endregion\n\ndeclare global {\n  var __staticRouterHydrationData: HydrationState | undefined;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Routers\n////////////////////////////////////////////////////////////////////////////////\n\ninterface DOMRouterOpts {\n  basename?: string;\n  future?: Partial<Omit<RouterFutureConfig, \"v7_prependBasename\">>;\n  hydrationData?: HydrationState;\n  window?: Window;\n}\n\nexport function createBrowserRouter(\n  routes: RouteObject[],\n  opts?: DOMRouterOpts\n): RemixRouter {\n  return createRouter({\n    basename: opts?.basename,\n    future: {\n      ...opts?.future,\n      v7_prependBasename: true,\n    },\n    history: createBrowserHistory({ window: opts?.window }),\n    hydrationData: opts?.hydrationData || parseHydrationData(),\n    routes,\n    mapRouteProperties,\n  }).initialize();\n}\n\nexport function createHashRouter(\n  routes: RouteObject[],\n  opts?: DOMRouterOpts\n): RemixRouter {\n  return createRouter({\n    basename: opts?.basename,\n    future: {\n      ...opts?.future,\n      v7_prependBasename: true,\n    },\n    history: createHashHistory({ window: opts?.window }),\n    hydrationData: opts?.hydrationData || parseHydrationData(),\n    routes,\n    mapRouteProperties,\n  }).initialize();\n}\n\nfunction parseHydrationData(): HydrationState | undefined {\n  let state = window?.__staticRouterHydrationData;\n  if (state && state.errors) {\n    state = {\n      ...state,\n      errors: deserializeErrors(state.errors),\n    };\n  }\n  return state;\n}\n\nfunction deserializeErrors(\n  errors: RemixRouter[\"state\"][\"errors\"]\n): RemixRouter[\"state\"][\"errors\"] {\n  if (!errors) return null;\n  let entries = Object.entries(errors);\n  let serialized: RemixRouter[\"state\"][\"errors\"] = {};\n  for (let [key, val] of entries) {\n    // Hey you!  If you change this, please change the corresponding logic in\n    // serializeErrors in react-router-dom/server.tsx :)\n    if (val && val.__type === \"RouteErrorResponse\") {\n      serialized[key] = new ErrorResponse(\n        val.status,\n        val.statusText,\n        val.data,\n        val.internal === true\n      );\n    } else if (val && val.__type === \"Error\") {\n      // Attempt to reconstruct the right type of Error (i.e., ReferenceError)\n      if (val.__subType) {\n        let ErrorConstructor = window[val.__subType];\n        if (typeof ErrorConstructor === \"function\") {\n          try {\n            // @ts-expect-error\n            let error = new ErrorConstructor(val.message);\n            // Wipe away the client-side stack trace.  Nothing to fill it in with\n            // because we don't serialize SSR stack traces for security reasons\n            error.stack = \"\";\n            serialized[key] = error;\n          } catch (e) {\n            // no-op - fall through and create a normal Error\n          }\n        }\n      }\n\n      if (serialized[key] == null) {\n        let error = new Error(val.message);\n        // Wipe away the client-side stack trace.  Nothing to fill it in with\n        // because we don't serialize SSR stack traces for security reasons\n        error.stack = \"\";\n        serialized[key] = error;\n      }\n    } else {\n      serialized[key] = val;\n    }\n  }\n  return serialized;\n}\n\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Components\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n  Webpack + React 17 fails to compile on any of the following because webpack\n  complains that `startTransition` doesn't exist in `React`:\n  * import { startTransition } from \"react\"\n  * import * as React from from \"react\";\n    \"startTransition\" in React ? React.startTransition(() => setState()) : setState()\n  * import * as React from from \"react\";\n    \"startTransition\" in React ? React[\"startTransition\"](() => setState()) : setState()\n\n  Moving it to a constant such as the following solves the Webpack/React 17 issue:\n  * import * as React from from \"react\";\n    const START_TRANSITION = \"startTransition\";\n    START_TRANSITION in React ? React[START_TRANSITION](() => setState()) : setState()\n\n  However, that introduces webpack/terser minification issues in production builds\n  in React 18 where minification/obfuscation ends up removing the call of\n  React.startTransition entirely from the first half of the ternary.  Grabbing\n  this exported reference once up front resolves that issue.\n\n  See https://github.com/remix-run/react-router/issues/10579\n*/\nconst START_TRANSITION = \"startTransition\";\nconst startTransitionImpl = React[START_TRANSITION];\n\nexport interface BrowserRouterProps {\n  basename?: string;\n  children?: React.ReactNode;\n  future?: FutureConfig;\n  window?: Window;\n}\n\n/**\n * A `<Router>` for use in web browsers. Provides the cleanest URLs.\n */\nexport function BrowserRouter({\n  basename,\n  children,\n  future,\n  window,\n}: BrowserRouterProps) {\n  let historyRef = React.useRef<BrowserHistory>();\n  if (historyRef.current == null) {\n    historyRef.current = createBrowserHistory({ window, v5Compat: true });\n  }\n\n  let history = historyRef.current;\n  let [state, setStateImpl] = React.useState({\n    action: history.action,\n    location: history.location,\n  });\n  let { v7_startTransition } = future || {};\n  let setState = React.useCallback(\n    (newState: { action: NavigationType; location: Location }) => {\n      v7_startTransition && startTransitionImpl\n        ? startTransitionImpl(() => setStateImpl(newState))\n        : setStateImpl(newState);\n    },\n    [setStateImpl, v7_startTransition]\n  );\n\n  React.useLayoutEffect(() => history.listen(setState), [history, setState]);\n\n  return (\n    <Router\n      basename={basename}\n      children={children}\n      location={state.location}\n      navigationType={state.action}\n      navigator={history}\n    />\n  );\n}\n\nexport interface HashRouterProps {\n  basename?: string;\n  children?: React.ReactNode;\n  future?: FutureConfig;\n  window?: Window;\n}\n\n/**\n * A `<Router>` for use in web browsers. Stores the location in the hash\n * portion of the URL so it is not sent to the server.\n */\nexport function HashRouter({\n  basename,\n  children,\n  future,\n  window,\n}: HashRouterProps) {\n  let historyRef = React.useRef<HashHistory>();\n  if (historyRef.current == null) {\n    historyRef.current = createHashHistory({ window, v5Compat: true });\n  }\n\n  let history = historyRef.current;\n  let [state, setStateImpl] = React.useState({\n    action: history.action,\n    location: history.location,\n  });\n  let { v7_startTransition } = future || {};\n  let setState = React.useCallback(\n    (newState: { action: NavigationType; location: Location }) => {\n      v7_startTransition && startTransitionImpl\n        ? startTransitionImpl(() => setStateImpl(newState))\n        : setStateImpl(newState);\n    },\n    [setStateImpl, v7_startTransition]\n  );\n\n  React.useLayoutEffect(() => history.listen(setState), [history, setState]);\n\n  return (\n    <Router\n      basename={basename}\n      children={children}\n      location={state.location}\n      navigationType={state.action}\n      navigator={history}\n    />\n  );\n}\n\nexport interface HistoryRouterProps {\n  basename?: string;\n  children?: React.ReactNode;\n  future?: FutureConfig;\n  history: History;\n}\n\n/**\n * A `<Router>` that accepts a pre-instantiated history object. It's important\n * to note that using your own history object is highly discouraged and may add\n * two versions of the history library to your bundles unless you use the same\n * version of the history library that React Router uses internally.\n */\nfunction HistoryRouter({\n  basename,\n  children,\n  future,\n  history,\n}: HistoryRouterProps) {\n  let [state, setStateImpl] = React.useState({\n    action: history.action,\n    location: history.location,\n  });\n  let { v7_startTransition } = future || {};\n  let setState = React.useCallback(\n    (newState: { action: NavigationType; location: Location }) => {\n      v7_startTransition && startTransitionImpl\n        ? startTransitionImpl(() => setStateImpl(newState))\n        : setStateImpl(newState);\n    },\n    [setStateImpl, v7_startTransition]\n  );\n\n  React.useLayoutEffect(() => history.listen(setState), [history, setState]);\n\n  return (\n    <Router\n      basename={basename}\n      children={children}\n      location={state.location}\n      navigationType={state.action}\n      navigator={history}\n    />\n  );\n}\n\nif (__DEV__) {\n  HistoryRouter.displayName = \"unstable_HistoryRouter\";\n}\n\nexport { HistoryRouter as unstable_HistoryRouter };\n\nexport interface LinkProps\n  extends Omit<React.AnchorHTMLAttributes<HTMLAnchorElement>, \"href\"> {\n  reloadDocument?: boolean;\n  replace?: boolean;\n  state?: any;\n  preventScrollReset?: boolean;\n  relative?: RelativeRoutingType;\n  to: To;\n}\n\nconst isBrowser =\n  typeof window !== \"undefined\" &&\n  typeof window.document !== \"undefined\" &&\n  typeof window.document.createElement !== \"undefined\";\n\nconst ABSOLUTE_URL_REGEX = /^(?:[a-z][a-z0-9+.-]*:|\\/\\/)/i;\n\n/**\n * The public API for rendering a history-aware <a>.\n */\nexport const Link = React.forwardRef<HTMLAnchorElement, LinkProps>(\n  function LinkWithRef(\n    {\n      onClick,\n      relative,\n      reloadDocument,\n      replace,\n      state,\n      target,\n      to,\n      preventScrollReset,\n      ...rest\n    },\n    ref\n  ) {\n    let { basename } = React.useContext(NavigationContext);\n\n    // Rendered into <a href> for absolute URLs\n    let absoluteHref;\n    let isExternal = false;\n\n    if (typeof to === \"string\" && ABSOLUTE_URL_REGEX.test(to)) {\n      // Render the absolute href server- and client-side\n      absoluteHref = to;\n\n      // Only check for external origins client-side\n      if (isBrowser) {\n        try {\n          let currentUrl = new URL(window.location.href);\n          let targetUrl = to.startsWith(\"//\")\n            ? new URL(currentUrl.protocol + to)\n            : new URL(to);\n          let path = stripBasename(targetUrl.pathname, basename);\n\n          if (targetUrl.origin === currentUrl.origin && path != null) {\n            // Strip the protocol/origin/basename for same-origin absolute URLs\n            to = path + targetUrl.search + targetUrl.hash;\n          } else {\n            isExternal = true;\n          }\n        } catch (e) {\n          // We can't do external URL detection without a valid URL\n          warning(\n            false,\n            `<Link to=\"${to}\"> contains an invalid URL which will probably break ` +\n              `when clicked - please update to a valid URL path.`\n          );\n        }\n      }\n    }\n\n    // Rendered into <a href> for relative URLs\n    let href = useHref(to, { relative });\n\n    let internalOnClick = useLinkClickHandler(to, {\n      replace,\n      state,\n      target,\n      preventScrollReset,\n      relative,\n    });\n    function handleClick(\n      event: React.MouseEvent<HTMLAnchorElement, MouseEvent>\n    ) {\n      if (onClick) onClick(event);\n      if (!event.defaultPrevented) {\n        internalOnClick(event);\n      }\n    }\n\n    return (\n      // eslint-disable-next-line jsx-a11y/anchor-has-content\n      <a\n        {...rest}\n        href={absoluteHref || href}\n        onClick={isExternal || reloadDocument ? onClick : handleClick}\n        ref={ref}\n        target={target}\n      />\n    );\n  }\n);\n\nif (__DEV__) {\n  Link.displayName = \"Link\";\n}\n\nexport interface NavLinkProps\n  extends Omit<LinkProps, \"className\" | \"style\" | \"children\"> {\n  children?:\n    | React.ReactNode\n    | ((props: { isActive: boolean; isPending: boolean }) => React.ReactNode);\n  caseSensitive?: boolean;\n  className?:\n    | string\n    | ((props: {\n        isActive: boolean;\n        isPending: boolean;\n      }) => string | undefined);\n  end?: boolean;\n  style?:\n    | React.CSSProperties\n    | ((props: {\n        isActive: boolean;\n        isPending: boolean;\n      }) => React.CSSProperties | undefined);\n}\n\n/**\n * A <Link> wrapper that knows if it's \"active\" or not.\n */\nexport const NavLink = React.forwardRef<HTMLAnchorElement, NavLinkProps>(\n  function NavLinkWithRef(\n    {\n      \"aria-current\": ariaCurrentProp = \"page\",\n      caseSensitive = false,\n      className: classNameProp = \"\",\n      end = false,\n      style: styleProp,\n      to,\n      children,\n      ...rest\n    },\n    ref\n  ) {\n    let path = useResolvedPath(to, { relative: rest.relative });\n    let location = useLocation();\n    let routerState = React.useContext(DataRouterStateContext);\n    let { navigator } = React.useContext(NavigationContext);\n\n    let toPathname = navigator.encodeLocation\n      ? navigator.encodeLocation(path).pathname\n      : path.pathname;\n    let locationPathname = location.pathname;\n    let nextLocationPathname =\n      routerState && routerState.navigation && routerState.navigation.location\n        ? routerState.navigation.location.pathname\n        : null;\n\n    if (!caseSensitive) {\n      locationPathname = locationPathname.toLowerCase();\n      nextLocationPathname = nextLocationPathname\n        ? nextLocationPathname.toLowerCase()\n        : null;\n      toPathname = toPathname.toLowerCase();\n    }\n\n    let isActive =\n      locationPathname === toPathname ||\n      (!end &&\n        locationPathname.startsWith(toPathname) &&\n        locationPathname.charAt(toPathname.length) === \"/\");\n\n    let isPending =\n      nextLocationPathname != null &&\n      (nextLocationPathname === toPathname ||\n        (!end &&\n          nextLocationPathname.startsWith(toPathname) &&\n          nextLocationPathname.charAt(toPathname.length) === \"/\"));\n\n    let ariaCurrent = isActive ? ariaCurrentProp : undefined;\n\n    let className: string | undefined;\n    if (typeof classNameProp === \"function\") {\n      className = classNameProp({ isActive, isPending });\n    } else {\n      // If the className prop is not a function, we use a default `active`\n      // class for <NavLink />s that are active. In v5 `active` was the default\n      // value for `activeClassName`, but we are removing that API and can still\n      // use the old default behavior for a cleaner upgrade path and keep the\n      // simple styling rules working as they currently do.\n      className = [\n        classNameProp,\n        isActive ? \"active\" : null,\n        isPending ? \"pending\" : null,\n      ]\n        .filter(Boolean)\n        .join(\" \");\n    }\n\n    let style =\n      typeof styleProp === \"function\"\n        ? styleProp({ isActive, isPending })\n        : styleProp;\n\n    return (\n      <Link\n        {...rest}\n        aria-current={ariaCurrent}\n        className={className}\n        ref={ref}\n        style={style}\n        to={to}\n      >\n        {typeof children === \"function\"\n          ? children({ isActive, isPending })\n          : children}\n      </Link>\n    );\n  }\n);\n\nif (__DEV__) {\n  NavLink.displayName = \"NavLink\";\n}\n\nexport interface FetcherFormProps\n  extends React.FormHTMLAttributes<HTMLFormElement> {\n  /**\n   * The HTTP verb to use when the form is submit. Supports \"get\", \"post\",\n   * \"put\", \"delete\", \"patch\".\n   */\n  method?: HTMLFormMethod;\n\n  /**\n   * `<form encType>` - enhancing beyond the normal string type and limiting\n   * to the built-in browser supported values\n   */\n  encType?:\n    | \"application/x-www-form-urlencoded\"\n    | \"multipart/form-data\"\n    | \"text/plain\";\n\n  /**\n   * Normal `<form action>` but supports React Router's relative paths.\n   */\n  action?: string;\n\n  /**\n   * Determines whether the form action is relative to the route hierarchy or\n   * the pathname.  Use this if you want to opt out of navigating the route\n   * hierarchy and want to instead route based on /-delimited URL segments\n   */\n  relative?: RelativeRoutingType;\n\n  /**\n   * Prevent the scroll position from resetting to the top of the viewport on\n   * completion of the navigation when using the <ScrollRestoration> component\n   */\n  preventScrollReset?: boolean;\n\n  /**\n   * A function to call when the form is submitted. If you call\n   * `event.preventDefault()` then this form will not do anything.\n   */\n  onSubmit?: React.FormEventHandler<HTMLFormElement>;\n}\n\nexport interface FormProps extends FetcherFormProps {\n  /**\n   * Forces a full document navigation instead of a fetch.\n   */\n  reloadDocument?: boolean;\n\n  /**\n   * Replaces the current entry in the browser history stack when the form\n   * navigates. Use this if you don't want the user to be able to click \"back\"\n   * to the page with the form on it.\n   */\n  replace?: boolean;\n\n  /**\n   * State object to add to the history stack entry for this navigation\n   */\n  state?: any;\n}\n\n/**\n * A `@remix-run/router`-aware `<form>`. It behaves like a normal form except\n * that the interaction with the server is with `fetch` instead of new document\n * requests, allowing components to add nicer UX to the page as the form is\n * submitted and returns with data.\n */\nexport const Form = React.forwardRef<HTMLFormElement, FormProps>(\n  (props, ref) => {\n    let submit = useSubmit();\n    return <FormImpl {...props} submit={submit} ref={ref} />;\n  }\n);\n\nif (__DEV__) {\n  Form.displayName = \"Form\";\n}\n\ntype HTMLSubmitEvent = React.BaseSyntheticEvent<\n  SubmitEvent,\n  Event,\n  HTMLFormElement\n>;\n\ntype HTMLFormSubmitter = HTMLButtonElement | HTMLInputElement;\n\ninterface FormImplProps extends FormProps {\n  submit: SubmitFunction | FetcherSubmitFunction;\n}\n\nconst FormImpl = React.forwardRef<HTMLFormElement, FormImplProps>(\n  (\n    {\n      reloadDocument,\n      replace,\n      state,\n      method = defaultMethod,\n      action,\n      onSubmit,\n      submit,\n      relative,\n      preventScrollReset,\n      ...props\n    },\n    forwardedRef\n  ) => {\n    let formMethod: HTMLFormMethod =\n      method.toLowerCase() === \"get\" ? \"get\" : \"post\";\n    let formAction = useFormAction(action, { relative });\n    let submitHandler: React.FormEventHandler<HTMLFormElement> = (event) => {\n      onSubmit && onSubmit(event);\n      if (event.defaultPrevented) return;\n      event.preventDefault();\n\n      let submitter = (event as unknown as HTMLSubmitEvent).nativeEvent\n        .submitter as HTMLFormSubmitter | null;\n\n      let submitMethod =\n        (submitter?.getAttribute(\"formmethod\") as HTMLFormMethod | undefined) ||\n        method;\n\n      submit(submitter || event.currentTarget, {\n        method: submitMethod,\n        replace,\n        state,\n        relative,\n        preventScrollReset,\n      });\n    };\n\n    return (\n      <form\n        ref={forwardedRef}\n        method={formMethod}\n        action={formAction}\n        onSubmit={reloadDocument ? onSubmit : submitHandler}\n        {...props}\n      />\n    );\n  }\n);\n\nif (__DEV__) {\n  FormImpl.displayName = \"FormImpl\";\n}\n\nexport interface ScrollRestorationProps {\n  getKey?: GetScrollRestorationKeyFunction;\n  storageKey?: string;\n}\n\n/**\n * This component will emulate the browser's scroll restoration on location\n * changes.\n */\nexport function ScrollRestoration({\n  getKey,\n  storageKey,\n}: ScrollRestorationProps) {\n  useScrollRestoration({ getKey, storageKey });\n  return null;\n}\n\nif (__DEV__) {\n  ScrollRestoration.displayName = \"ScrollRestoration\";\n}\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Hooks\n////////////////////////////////////////////////////////////////////////////////\n\nenum DataRouterHook {\n  UseScrollRestoration = \"useScrollRestoration\",\n  UseSubmit = \"useSubmit\",\n  UseSubmitFetcher = \"useSubmitFetcher\",\n  UseFetcher = \"useFetcher\",\n}\n\nenum DataRouterStateHook {\n  UseFetchers = \"useFetchers\",\n  UseScrollRestoration = \"useScrollRestoration\",\n}\n\nfunction getDataRouterConsoleError(\n  hookName: DataRouterHook | DataRouterStateHook\n) {\n  return `${hookName} must be used within a data router.  See https://reactrouter.com/routers/picking-a-router.`;\n}\n\nfunction useDataRouterContext(hookName: DataRouterHook) {\n  let ctx = React.useContext(DataRouterContext);\n  invariant(ctx, getDataRouterConsoleError(hookName));\n  return ctx;\n}\n\nfunction useDataRouterState(hookName: DataRouterStateHook) {\n  let state = React.useContext(DataRouterStateContext);\n  invariant(state, getDataRouterConsoleError(hookName));\n  return state;\n}\n\n/**\n * Handles the click behavior for router `<Link>` components. This is useful if\n * you need to create custom `<Link>` components with the same click behavior we\n * use in our exported `<Link>`.\n */\nexport function useLinkClickHandler<E extends Element = HTMLAnchorElement>(\n  to: To,\n  {\n    target,\n    replace: replaceProp,\n    state,\n    preventScrollReset,\n    relative,\n  }: {\n    target?: React.HTMLAttributeAnchorTarget;\n    replace?: boolean;\n    state?: any;\n    preventScrollReset?: boolean;\n    relative?: RelativeRoutingType;\n  } = {}\n): (event: React.MouseEvent<E, MouseEvent>) => void {\n  let navigate = useNavigate();\n  let location = useLocation();\n  let path = useResolvedPath(to, { relative });\n\n  return React.useCallback(\n    (event: React.MouseEvent<E, MouseEvent>) => {\n      if (shouldProcessLinkClick(event, target)) {\n        event.preventDefault();\n\n        // If the URL hasn't changed, a regular <a> will do a replace instead of\n        // a push, so do the same here unless the replace prop is explicitly set\n        let replace =\n          replaceProp !== undefined\n            ? replaceProp\n            : createPath(location) === createPath(path);\n\n        navigate(to, { replace, state, preventScrollReset, relative });\n      }\n    },\n    [\n      location,\n      navigate,\n      path,\n      replaceProp,\n      state,\n      target,\n      to,\n      preventScrollReset,\n      relative,\n    ]\n  );\n}\n\n/**\n * A convenient wrapper for reading and writing search parameters via the\n * URLSearchParams interface.\n */\nexport function useSearchParams(\n  defaultInit?: URLSearchParamsInit\n): [URLSearchParams, SetURLSearchParams] {\n  warning(\n    typeof URLSearchParams !== \"undefined\",\n    `You cannot use the \\`useSearchParams\\` hook in a browser that does not ` +\n      `support the URLSearchParams API. If you need to support Internet ` +\n      `Explorer 11, we recommend you load a polyfill such as ` +\n      `https://github.com/ungap/url-search-params\\n\\n` +\n      `If you're unsure how to load polyfills, we recommend you check out ` +\n      `https://polyfill.io/v3/ which provides some recommendations about how ` +\n      `to load polyfills only for users that need them, instead of for every ` +\n      `user.`\n  );\n\n  let defaultSearchParamsRef = React.useRef(createSearchParams(defaultInit));\n  let hasSetSearchParamsRef = React.useRef(false);\n\n  let location = useLocation();\n  let searchParams = React.useMemo(\n    () =>\n      // Only merge in the defaults if we haven't yet called setSearchParams.\n      // Once we call that we want those to take precedence, otherwise you can't\n      // remove a param with setSearchParams({}) if it has an initial value\n      getSearchParamsForLocation(\n        location.search,\n        hasSetSearchParamsRef.current ? null : defaultSearchParamsRef.current\n      ),\n    [location.search]\n  );\n\n  let navigate = useNavigate();\n  let setSearchParams = React.useCallback<SetURLSearchParams>(\n    (nextInit, navigateOptions) => {\n      const newSearchParams = createSearchParams(\n        typeof nextInit === \"function\" ? nextInit(searchParams) : nextInit\n      );\n      hasSetSearchParamsRef.current = true;\n      navigate(\"?\" + newSearchParams, navigateOptions);\n    },\n    [navigate, searchParams]\n  );\n\n  return [searchParams, setSearchParams];\n}\n\nexport type SetURLSearchParams = (\n  nextInit?:\n    | URLSearchParamsInit\n    | ((prev: URLSearchParams) => URLSearchParamsInit),\n  navigateOpts?: NavigateOptions\n) => void;\n\n/**\n * Submits a HTML `<form>` to the server without reloading the page.\n */\nexport interface SubmitFunction {\n  (\n    /**\n     * Specifies the `<form>` to be submitted to the server, a specific\n     * `<button>` or `<input type=\"submit\">` to use to submit the form, or some\n     * arbitrary data to submit.\n     *\n     * Note: When using a `<button>` its `name` and `value` will also be\n     * included in the form data that is submitted.\n     */\n    target: SubmitTarget,\n\n    /**\n     * Options that override the `<form>`'s own attributes. Required when\n     * submitting arbitrary data without a backing `<form>`.\n     */\n    options?: SubmitOptions\n  ): void;\n}\n\n/**\n * Submits a fetcher `<form>` to the server without reloading the page.\n */\nexport interface FetcherSubmitFunction {\n  (\n    target: SubmitTarget,\n    // Fetchers cannot replace or set state because they are not navigation events\n    options?: Omit<SubmitOptions, \"replace\" | \"state\">\n  ): void;\n}\n\nfunction validateClientSideSubmission() {\n  if (typeof document === \"undefined\") {\n    throw new Error(\n      \"You are calling submit during the server render. \" +\n        \"Try calling submit within a `useEffect` or callback instead.\"\n    );\n  }\n}\n\n/**\n * Returns a function that may be used to programmatically submit a form (or\n * some arbitrary data) to the server.\n */\nexport function useSubmit(): SubmitFunction {\n  let { router } = useDataRouterContext(DataRouterHook.UseSubmit);\n  let { basename } = React.useContext(NavigationContext);\n  let currentRouteId = useRouteId();\n\n  return React.useCallback<SubmitFunction>(\n    (target, options = {}) => {\n      validateClientSideSubmission();\n\n      let { action, method, encType, formData, body } = getFormSubmissionInfo(\n        target,\n        basename\n      );\n\n      router.navigate(options.action || action, {\n        preventScrollReset: options.preventScrollReset,\n        formData,\n        body,\n        formMethod: options.method || (method as HTMLFormMethod),\n        formEncType: options.encType || (encType as FormEncType),\n        replace: options.replace,\n        state: options.state,\n        fromRouteId: currentRouteId,\n      });\n    },\n    [router, basename, currentRouteId]\n  );\n}\n\n/**\n * Returns the implementation for fetcher.submit\n */\nfunction useSubmitFetcher(\n  fetcherKey: string,\n  fetcherRouteId: string\n): FetcherSubmitFunction {\n  let { router } = useDataRouterContext(DataRouterHook.UseSubmitFetcher);\n  let { basename } = React.useContext(NavigationContext);\n\n  return React.useCallback<FetcherSubmitFunction>(\n    (target, options = {}) => {\n      validateClientSideSubmission();\n\n      let { action, method, encType, formData, body } = getFormSubmissionInfo(\n        target,\n        basename\n      );\n\n      invariant(\n        fetcherRouteId != null,\n        \"No routeId available for useFetcher()\"\n      );\n      router.fetch(fetcherKey, fetcherRouteId, options.action || action, {\n        preventScrollReset: options.preventScrollReset,\n        formData,\n        body,\n        formMethod: options.method || (method as HTMLFormMethod),\n        formEncType: options.encType || (encType as FormEncType),\n      });\n    },\n    [router, basename, fetcherKey, fetcherRouteId]\n  );\n}\n\n// v7: Eventually we should deprecate this entirely in favor of using the\n// router method directly?\nexport function useFormAction(\n  action?: string,\n  { relative }: { relative?: RelativeRoutingType } = {}\n): string {\n  let { basename } = React.useContext(NavigationContext);\n  let routeContext = React.useContext(RouteContext);\n  invariant(routeContext, \"useFormAction must be used inside a RouteContext\");\n\n  let [match] = routeContext.matches.slice(-1);\n  // Shallow clone path so we can modify it below, otherwise we modify the\n  // object referenced by useMemo inside useResolvedPath\n  let path = { ...useResolvedPath(action ? action : \".\", { relative }) };\n\n  // Previously we set the default action to \".\". The problem with this is that\n  // `useResolvedPath(\".\")` excludes search params of the resolved URL. This is\n  // the intended behavior of when \".\" is specifically provided as\n  // the form action, but inconsistent w/ browsers when the action is omitted.\n  // https://github.com/remix-run/remix/issues/927\n  let location = useLocation();\n  if (action == null) {\n    // Safe to write to this directly here since if action was undefined, we\n    // would have called useResolvedPath(\".\") which will never include a search\n    path.search = location.search;\n\n    // When grabbing search params from the URL, remove the automatically\n    // inserted ?index param so we match the useResolvedPath search behavior\n    // which would not include ?index\n    if (match.route.index) {\n      let params = new URLSearchParams(path.search);\n      params.delete(\"index\");\n      path.search = params.toString() ? `?${params.toString()}` : \"\";\n    }\n  }\n\n  if ((!action || action === \".\") && match.route.index) {\n    path.search = path.search\n      ? path.search.replace(/^\\?/, \"?index&\")\n      : \"?index\";\n  }\n\n  // If we're operating within a basename, prepend it to the pathname prior\n  // to creating the form action.  If this is a root navigation, then just use\n  // the raw basename which allows the basename to have full control over the\n  // presence of a trailing slash on root actions\n  if (basename !== \"/\") {\n    path.pathname =\n      path.pathname === \"/\" ? basename : joinPaths([basename, path.pathname]);\n  }\n\n  return createPath(path);\n}\n\nfunction createFetcherForm(fetcherKey: string, routeId: string) {\n  let FetcherForm = React.forwardRef<HTMLFormElement, FetcherFormProps>(\n    (props, ref) => {\n      let submit = useSubmitFetcher(fetcherKey, routeId);\n      return <FormImpl {...props} ref={ref} submit={submit} />;\n    }\n  );\n  if (__DEV__) {\n    FetcherForm.displayName = \"fetcher.Form\";\n  }\n  return FetcherForm;\n}\n\nlet fetcherId = 0;\n\nexport type FetcherWithComponents<TData> = Fetcher<TData> & {\n  Form: ReturnType<typeof createFetcherForm>;\n  submit: FetcherSubmitFunction;\n  load: (href: string) => void;\n};\n\n/**\n * Interacts with route loaders and actions without causing a navigation. Great\n * for any interaction that stays on the same page.\n */\nexport function useFetcher<TData = any>(): FetcherWithComponents<TData> {\n  let { router } = useDataRouterContext(DataRouterHook.UseFetcher);\n\n  let route = React.useContext(RouteContext);\n  invariant(route, `useFetcher must be used inside a RouteContext`);\n\n  let routeId = route.matches[route.matches.length - 1]?.route.id;\n  invariant(\n    routeId != null,\n    `useFetcher can only be used on routes that contain a unique \"id\"`\n  );\n\n  let [fetcherKey] = React.useState(() => String(++fetcherId));\n  let [Form] = React.useState(() => {\n    invariant(routeId, `No routeId available for fetcher.Form()`);\n    return createFetcherForm(fetcherKey, routeId);\n  });\n  let [load] = React.useState(() => (href: string) => {\n    invariant(router, \"No router available for fetcher.load()\");\n    invariant(routeId, \"No routeId available for fetcher.load()\");\n    router.fetch(fetcherKey, routeId, href);\n  });\n  let submit = useSubmitFetcher(fetcherKey, routeId);\n\n  let fetcher = router.getFetcher<TData>(fetcherKey);\n\n  let fetcherWithComponents = React.useMemo(\n    () => ({\n      Form,\n      submit,\n      load,\n      ...fetcher,\n    }),\n    [fetcher, Form, submit, load]\n  );\n\n  React.useEffect(() => {\n    // Is this busted when the React team gets real weird and calls effects\n    // twice on mount?  We really just need to garbage collect here when this\n    // fetcher is no longer around.\n    return () => {\n      if (!router) {\n        console.warn(`No router available to clean up from useFetcher()`);\n        return;\n      }\n      router.deleteFetcher(fetcherKey);\n    };\n  }, [router, fetcherKey]);\n\n  return fetcherWithComponents;\n}\n\n/**\n * Provides all fetchers currently on the page. Useful for layouts and parent\n * routes that need to provide pending/optimistic UI regarding the fetch.\n */\nexport function useFetchers(): Fetcher[] {\n  let state = useDataRouterState(DataRouterStateHook.UseFetchers);\n  return [...state.fetchers.values()];\n}\n\nconst SCROLL_RESTORATION_STORAGE_KEY = \"react-router-scroll-positions\";\nlet savedScrollPositions: Record<string, number> = {};\n\n/**\n * When rendered inside a RouterProvider, will restore scroll positions on navigations\n */\nfunction useScrollRestoration({\n  getKey,\n  storageKey,\n}: {\n  getKey?: GetScrollRestorationKeyFunction;\n  storageKey?: string;\n} = {}) {\n  let { router } = useDataRouterContext(DataRouterHook.UseScrollRestoration);\n  let { restoreScrollPosition, preventScrollReset } = useDataRouterState(\n    DataRouterStateHook.UseScrollRestoration\n  );\n  let { basename } = React.useContext(NavigationContext);\n  let location = useLocation();\n  let matches = useMatches();\n  let navigation = useNavigation();\n\n  // Trigger manual scroll restoration while we're active\n  React.useEffect(() => {\n    window.history.scrollRestoration = \"manual\";\n    return () => {\n      window.history.scrollRestoration = \"auto\";\n    };\n  }, []);\n\n  // Save positions on pagehide\n  usePageHide(\n    React.useCallback(() => {\n      if (navigation.state === \"idle\") {\n        let key = (getKey ? getKey(location, matches) : null) || location.key;\n        savedScrollPositions[key] = window.scrollY;\n      }\n      sessionStorage.setItem(\n        storageKey || SCROLL_RESTORATION_STORAGE_KEY,\n        JSON.stringify(savedScrollPositions)\n      );\n      window.history.scrollRestoration = \"auto\";\n    }, [storageKey, getKey, navigation.state, location, matches])\n  );\n\n  // Read in any saved scroll locations\n  if (typeof document !== \"undefined\") {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useLayoutEffect(() => {\n      try {\n        let sessionPositions = sessionStorage.getItem(\n          storageKey || SCROLL_RESTORATION_STORAGE_KEY\n        );\n        if (sessionPositions) {\n          savedScrollPositions = JSON.parse(sessionPositions);\n        }\n      } catch (e) {\n        // no-op, use default empty object\n      }\n    }, [storageKey]);\n\n    // Enable scroll restoration in the router\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useLayoutEffect(() => {\n      let getKeyWithoutBasename: GetScrollRestorationKeyFunction | undefined =\n        getKey && basename !== \"/\"\n          ? (location, matches) =>\n              getKey(\n                // Strip the basename to match useLocation()\n                {\n                  ...location,\n                  pathname:\n                    stripBasename(location.pathname, basename) ||\n                    location.pathname,\n                },\n                matches\n              )\n          : getKey;\n      let disableScrollRestoration = router?.enableScrollRestoration(\n        savedScrollPositions,\n        () => window.scrollY,\n        getKeyWithoutBasename\n      );\n      return () => disableScrollRestoration && disableScrollRestoration();\n    }, [router, basename, getKey]);\n\n    // Restore scrolling when state.restoreScrollPosition changes\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useLayoutEffect(() => {\n      // Explicit false means don't do anything (used for submissions)\n      if (restoreScrollPosition === false) {\n        return;\n      }\n\n      // been here before, scroll to it\n      if (typeof restoreScrollPosition === \"number\") {\n        window.scrollTo(0, restoreScrollPosition);\n        return;\n      }\n\n      // try to scroll to the hash\n      if (location.hash) {\n        let el = document.getElementById(\n          decodeURIComponent(location.hash.slice(1))\n        );\n        if (el) {\n          el.scrollIntoView();\n          return;\n        }\n      }\n\n      // Don't reset if this navigation opted out\n      if (preventScrollReset === true) {\n        return;\n      }\n\n      // otherwise go to the top on new locations\n      window.scrollTo(0, 0);\n    }, [location, restoreScrollPosition, preventScrollReset]);\n  }\n}\n\nexport { useScrollRestoration as UNSAFE_useScrollRestoration };\n\n/**\n * Setup a callback to be fired on the window's `beforeunload` event. This is\n * useful for saving some data to `window.localStorage` just before the page\n * refreshes.\n *\n * Note: The `callback` argument should be a function created with\n * `React.useCallback()`.\n */\nexport function useBeforeUnload(\n  callback: (event: BeforeUnloadEvent) => any,\n  options?: { capture?: boolean }\n): void {\n  let { capture } = options || {};\n  React.useEffect(() => {\n    let opts = capture != null ? { capture } : undefined;\n    window.addEventListener(\"beforeunload\", callback, opts);\n    return () => {\n      window.removeEventListener(\"beforeunload\", callback, opts);\n    };\n  }, [callback, capture]);\n}\n\n/**\n * Setup a callback to be fired on the window's `pagehide` event. This is\n * useful for saving some data to `window.localStorage` just before the page\n * refreshes.  This event is better supported than beforeunload across browsers.\n *\n * Note: The `callback` argument should be a function created with\n * `React.useCallback()`.\n */\nfunction usePageHide(\n  callback: (event: PageTransitionEvent) => any,\n  options?: { capture?: boolean }\n): void {\n  let { capture } = options || {};\n  React.useEffect(() => {\n    let opts = capture != null ? { capture } : undefined;\n    window.addEventListener(\"pagehide\", callback, opts);\n    return () => {\n      window.removeEventListener(\"pagehide\", callback, opts);\n    };\n  }, [callback, capture]);\n}\n\n/**\n * Wrapper around useBlocker to show a window.confirm prompt to users instead\n * of building a custom UI with useBlocker.\n *\n * Warning: This has *a lot of rough edges* and behaves very differently (and\n * very incorrectly in some cases) across browsers if user click addition\n * back/forward navigations while the confirm is open.  Use at your own risk.\n */\nfunction usePrompt({ when, message }: { when: boolean; message: string }) {\n  let blocker = useBlocker(when);\n\n  React.useEffect(() => {\n    if (blocker.state === \"blocked\") {\n      let proceed = window.confirm(message);\n      if (proceed) {\n        // This timeout is needed to avoid a weird \"race\" on POP navigations\n        // between the `window.history` revert navigation and the result of\n        // `window.confirm`\n        setTimeout(blocker.proceed, 0);\n      } else {\n        blocker.reset();\n      }\n    }\n  }, [blocker, message]);\n\n  React.useEffect(() => {\n    if (blocker.state === \"blocked\" && !when) {\n      blocker.reset();\n    }\n  }, [blocker, when]);\n}\n\nexport { usePrompt as unstable_usePrompt };\n\n//#endregion\n","/**\n * React Router v6.15.0\n *\n * Copyright (c) Remix Software Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */\nimport * as React from 'react';\nimport { UNSAFE_invariant, joinPaths, matchPath, UNSAFE_getPathContributingMatches, UNSAFE_warning, resolveTo, parsePath, matchRoutes, Action, stripBasename, IDLE_BLOCKER, isRouteErrorResponse, createMemoryHistory, AbortedDeferredError, createRouter } from '@remix-run/router';\nexport { AbortedDeferredError, Action as NavigationType, createPath, defer, generatePath, isRouteErrorResponse, json, matchPath, matchRoutes, parsePath, redirect, redirectDocument, resolvePath } from '@remix-run/router';\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\n// Create react-specific types from the agnostic types in @remix-run/router to\n// export from react-router\nconst DataRouterContext = /*#__PURE__*/React.createContext(null);\nif (process.env.NODE_ENV !== \"production\") {\n  DataRouterContext.displayName = \"DataRouter\";\n}\nconst DataRouterStateContext = /*#__PURE__*/React.createContext(null);\nif (process.env.NODE_ENV !== \"production\") {\n  DataRouterStateContext.displayName = \"DataRouterState\";\n}\nconst AwaitContext = /*#__PURE__*/React.createContext(null);\nif (process.env.NODE_ENV !== \"production\") {\n  AwaitContext.displayName = \"Await\";\n}\n\n/**\n * A Navigator is a \"location changer\"; it's how you get to different locations.\n *\n * Every history instance conforms to the Navigator interface, but the\n * distinction is useful primarily when it comes to the low-level <Router> API\n * where both the location and a navigator must be provided separately in order\n * to avoid \"tearing\" that may occur in a suspense-enabled app if the action\n * and/or location were to be read directly from the history instance.\n */\n\nconst NavigationContext = /*#__PURE__*/React.createContext(null);\nif (process.env.NODE_ENV !== \"production\") {\n  NavigationContext.displayName = \"Navigation\";\n}\nconst LocationContext = /*#__PURE__*/React.createContext(null);\nif (process.env.NODE_ENV !== \"production\") {\n  LocationContext.displayName = \"Location\";\n}\nconst RouteContext = /*#__PURE__*/React.createContext({\n  outlet: null,\n  matches: [],\n  isDataRoute: false\n});\nif (process.env.NODE_ENV !== \"production\") {\n  RouteContext.displayName = \"Route\";\n}\nconst RouteErrorContext = /*#__PURE__*/React.createContext(null);\nif (process.env.NODE_ENV !== \"production\") {\n  RouteErrorContext.displayName = \"RouteError\";\n}\n\n/**\n * Returns the full href for the given \"to\" value. This is useful for building\n * custom links that are also accessible and preserve right-click behavior.\n *\n * @see https://reactrouter.com/hooks/use-href\n */\nfunction useHref(to, _temp) {\n  let {\n    relative\n  } = _temp === void 0 ? {} : _temp;\n  !useInRouterContext() ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, // TODO: This error is probably because they somehow have 2 versions of the\n  // router loaded. We can help them understand how to avoid that.\n  \"useHref() may be used only in the context of a <Router> component.\") : UNSAFE_invariant(false) : void 0;\n  let {\n    basename,\n    navigator\n  } = React.useContext(NavigationContext);\n  let {\n    hash,\n    pathname,\n    search\n  } = useResolvedPath(to, {\n    relative\n  });\n  let joinedPathname = pathname;\n\n  // If we're operating within a basename, prepend it to the pathname prior\n  // to creating the href.  If this is a root navigation, then just use the raw\n  // basename which allows the basename to have full control over the presence\n  // of a trailing slash on root links\n  if (basename !== \"/\") {\n    joinedPathname = pathname === \"/\" ? basename : joinPaths([basename, pathname]);\n  }\n  return navigator.createHref({\n    pathname: joinedPathname,\n    search,\n    hash\n  });\n}\n\n/**\n * Returns true if this component is a descendant of a <Router>.\n *\n * @see https://reactrouter.com/hooks/use-in-router-context\n */\nfunction useInRouterContext() {\n  return React.useContext(LocationContext) != null;\n}\n\n/**\n * Returns the current location object, which represents the current URL in web\n * browsers.\n *\n * Note: If you're using this it may mean you're doing some of your own\n * \"routing\" in your app, and we'd like to know what your use case is. We may\n * be able to provide something higher-level to better suit your needs.\n *\n * @see https://reactrouter.com/hooks/use-location\n */\nfunction useLocation() {\n  !useInRouterContext() ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, // TODO: This error is probably because they somehow have 2 versions of the\n  // router loaded. We can help them understand how to avoid that.\n  \"useLocation() may be used only in the context of a <Router> component.\") : UNSAFE_invariant(false) : void 0;\n  return React.useContext(LocationContext).location;\n}\n\n/**\n * Returns the current navigation action which describes how the router came to\n * the current location, either by a pop, push, or replace on the history stack.\n *\n * @see https://reactrouter.com/hooks/use-navigation-type\n */\nfunction useNavigationType() {\n  return React.useContext(LocationContext).navigationType;\n}\n\n/**\n * Returns a PathMatch object if the given pattern matches the current URL.\n * This is useful for components that need to know \"active\" state, e.g.\n * <NavLink>.\n *\n * @see https://reactrouter.com/hooks/use-match\n */\nfunction useMatch(pattern) {\n  !useInRouterContext() ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, // TODO: This error is probably because they somehow have 2 versions of the\n  // router loaded. We can help them understand how to avoid that.\n  \"useMatch() may be used only in the context of a <Router> component.\") : UNSAFE_invariant(false) : void 0;\n  let {\n    pathname\n  } = useLocation();\n  return React.useMemo(() => matchPath(pattern, pathname), [pathname, pattern]);\n}\n\n/**\n * The interface for the navigate() function returned from useNavigate().\n */\n\nconst navigateEffectWarning = \"You should call navigate() in a React.useEffect(), not when \" + \"your component is first rendered.\";\n\n// Mute warnings for calls to useNavigate in SSR environments\nfunction useIsomorphicLayoutEffect(cb) {\n  let isStatic = React.useContext(NavigationContext).static;\n  if (!isStatic) {\n    // We should be able to get rid of this once react 18.3 is released\n    // See: https://github.com/facebook/react/pull/26395\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useLayoutEffect(cb);\n  }\n}\n\n/**\n * Returns an imperative method for changing the location. Used by <Link>s, but\n * may also be used by other elements to change the location.\n *\n * @see https://reactrouter.com/hooks/use-navigate\n */\nfunction useNavigate() {\n  let {\n    isDataRoute\n  } = React.useContext(RouteContext);\n  // Conditional usage is OK here because the usage of a data router is static\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  return isDataRoute ? useNavigateStable() : useNavigateUnstable();\n}\nfunction useNavigateUnstable() {\n  !useInRouterContext() ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, // TODO: This error is probably because they somehow have 2 versions of the\n  // router loaded. We can help them understand how to avoid that.\n  \"useNavigate() may be used only in the context of a <Router> component.\") : UNSAFE_invariant(false) : void 0;\n  let dataRouterContext = React.useContext(DataRouterContext);\n  let {\n    basename,\n    navigator\n  } = React.useContext(NavigationContext);\n  let {\n    matches\n  } = React.useContext(RouteContext);\n  let {\n    pathname: locationPathname\n  } = useLocation();\n  let routePathnamesJson = JSON.stringify(UNSAFE_getPathContributingMatches(matches).map(match => match.pathnameBase));\n  let activeRef = React.useRef(false);\n  useIsomorphicLayoutEffect(() => {\n    activeRef.current = true;\n  });\n  let navigate = React.useCallback(function (to, options) {\n    if (options === void 0) {\n      options = {};\n    }\n    process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(activeRef.current, navigateEffectWarning) : void 0;\n\n    // Short circuit here since if this happens on first render the navigate\n    // is useless because we haven't wired up our history listener yet\n    if (!activeRef.current) return;\n    if (typeof to === \"number\") {\n      navigator.go(to);\n      return;\n    }\n    let path = resolveTo(to, JSON.parse(routePathnamesJson), locationPathname, options.relative === \"path\");\n\n    // If we're operating within a basename, prepend it to the pathname prior\n    // to handing off to history (but only if we're not in a data router,\n    // otherwise it'll prepend the basename inside of the router).\n    // If this is a root navigation, then we navigate to the raw basename\n    // which allows the basename to have full control over the presence of a\n    // trailing slash on root links\n    if (dataRouterContext == null && basename !== \"/\") {\n      path.pathname = path.pathname === \"/\" ? basename : joinPaths([basename, path.pathname]);\n    }\n    (!!options.replace ? navigator.replace : navigator.push)(path, options.state, options);\n  }, [basename, navigator, routePathnamesJson, locationPathname, dataRouterContext]);\n  return navigate;\n}\nconst OutletContext = /*#__PURE__*/React.createContext(null);\n\n/**\n * Returns the context (if provided) for the child route at this level of the route\n * hierarchy.\n * @see https://reactrouter.com/hooks/use-outlet-context\n */\nfunction useOutletContext() {\n  return React.useContext(OutletContext);\n}\n\n/**\n * Returns the element for the child route at this level of the route\n * hierarchy. Used internally by <Outlet> to render child routes.\n *\n * @see https://reactrouter.com/hooks/use-outlet\n */\nfunction useOutlet(context) {\n  let outlet = React.useContext(RouteContext).outlet;\n  if (outlet) {\n    return /*#__PURE__*/React.createElement(OutletContext.Provider, {\n      value: context\n    }, outlet);\n  }\n  return outlet;\n}\n\n/**\n * Returns an object of key/value pairs of the dynamic params from the current\n * URL that were matched by the route path.\n *\n * @see https://reactrouter.com/hooks/use-params\n */\nfunction useParams() {\n  let {\n    matches\n  } = React.useContext(RouteContext);\n  let routeMatch = matches[matches.length - 1];\n  return routeMatch ? routeMatch.params : {};\n}\n\n/**\n * Resolves the pathname of the given `to` value against the current location.\n *\n * @see https://reactrouter.com/hooks/use-resolved-path\n */\nfunction useResolvedPath(to, _temp2) {\n  let {\n    relative\n  } = _temp2 === void 0 ? {} : _temp2;\n  let {\n    matches\n  } = React.useContext(RouteContext);\n  let {\n    pathname: locationPathname\n  } = useLocation();\n  let routePathnamesJson = JSON.stringify(UNSAFE_getPathContributingMatches(matches).map(match => match.pathnameBase));\n  return React.useMemo(() => resolveTo(to, JSON.parse(routePathnamesJson), locationPathname, relative === \"path\"), [to, routePathnamesJson, locationPathname, relative]);\n}\n\n/**\n * Returns the element of the route that matched the current location, prepared\n * with the correct context to render the remainder of the route tree. Route\n * elements in the tree must render an <Outlet> to render their child route's\n * element.\n *\n * @see https://reactrouter.com/hooks/use-routes\n */\nfunction useRoutes(routes, locationArg) {\n  return useRoutesImpl(routes, locationArg);\n}\n\n// Internal implementation with accept optional param for RouterProvider usage\nfunction useRoutesImpl(routes, locationArg, dataRouterState) {\n  !useInRouterContext() ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, // TODO: This error is probably because they somehow have 2 versions of the\n  // router loaded. We can help them understand how to avoid that.\n  \"useRoutes() may be used only in the context of a <Router> component.\") : UNSAFE_invariant(false) : void 0;\n  let {\n    navigator\n  } = React.useContext(NavigationContext);\n  let {\n    matches: parentMatches\n  } = React.useContext(RouteContext);\n  let routeMatch = parentMatches[parentMatches.length - 1];\n  let parentParams = routeMatch ? routeMatch.params : {};\n  let parentPathname = routeMatch ? routeMatch.pathname : \"/\";\n  let parentPathnameBase = routeMatch ? routeMatch.pathnameBase : \"/\";\n  let parentRoute = routeMatch && routeMatch.route;\n  if (process.env.NODE_ENV !== \"production\") {\n    // You won't get a warning about 2 different <Routes> under a <Route>\n    // without a trailing *, but this is a best-effort warning anyway since we\n    // cannot even give the warning unless they land at the parent route.\n    //\n    // Example:\n    //\n    // <Routes>\n    //   {/* This route path MUST end with /* because otherwise\n    //       it will never match /blog/post/123 */}\n    //   <Route path=\"blog\" element={<Blog />} />\n    //   <Route path=\"blog/feed\" element={<BlogFeed />} />\n    // </Routes>\n    //\n    // function Blog() {\n    //   return (\n    //     <Routes>\n    //       <Route path=\"post/:id\" element={<Post />} />\n    //     </Routes>\n    //   );\n    // }\n    let parentPath = parentRoute && parentRoute.path || \"\";\n    warningOnce(parentPathname, !parentRoute || parentPath.endsWith(\"*\"), \"You rendered descendant <Routes> (or called `useRoutes()`) at \" + (\"\\\"\" + parentPathname + \"\\\" (under <Route path=\\\"\" + parentPath + \"\\\">) but the \") + \"parent route path has no trailing \\\"*\\\". This means if you navigate \" + \"deeper, the parent won't match anymore and therefore the child \" + \"routes will never render.\\n\\n\" + (\"Please change the parent <Route path=\\\"\" + parentPath + \"\\\"> to <Route \") + (\"path=\\\"\" + (parentPath === \"/\" ? \"*\" : parentPath + \"/*\") + \"\\\">.\"));\n  }\n  let locationFromContext = useLocation();\n  let location;\n  if (locationArg) {\n    var _parsedLocationArg$pa;\n    let parsedLocationArg = typeof locationArg === \"string\" ? parsePath(locationArg) : locationArg;\n    !(parentPathnameBase === \"/\" || ((_parsedLocationArg$pa = parsedLocationArg.pathname) == null ? void 0 : _parsedLocationArg$pa.startsWith(parentPathnameBase))) ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, \" + \"the location pathname must begin with the portion of the URL pathname that was \" + (\"matched by all parent routes. The current pathname base is \\\"\" + parentPathnameBase + \"\\\" \") + (\"but pathname \\\"\" + parsedLocationArg.pathname + \"\\\" was given in the `location` prop.\")) : UNSAFE_invariant(false) : void 0;\n    location = parsedLocationArg;\n  } else {\n    location = locationFromContext;\n  }\n  let pathname = location.pathname || \"/\";\n  let remainingPathname = parentPathnameBase === \"/\" ? pathname : pathname.slice(parentPathnameBase.length) || \"/\";\n  let matches = matchRoutes(routes, {\n    pathname: remainingPathname\n  });\n  if (process.env.NODE_ENV !== \"production\") {\n    process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(parentRoute || matches != null, \"No routes matched location \\\"\" + location.pathname + location.search + location.hash + \"\\\" \") : void 0;\n    process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(matches == null || matches[matches.length - 1].route.element !== undefined || matches[matches.length - 1].route.Component !== undefined, \"Matched leaf route at location \\\"\" + location.pathname + location.search + location.hash + \"\\\" \" + \"does not have an element or Component. This means it will render an <Outlet /> with a \" + \"null value by default resulting in an \\\"empty\\\" page.\") : void 0;\n  }\n  let renderedMatches = _renderMatches(matches && matches.map(match => Object.assign({}, match, {\n    params: Object.assign({}, parentParams, match.params),\n    pathname: joinPaths([parentPathnameBase,\n    // Re-encode pathnames that were decoded inside matchRoutes\n    navigator.encodeLocation ? navigator.encodeLocation(match.pathname).pathname : match.pathname]),\n    pathnameBase: match.pathnameBase === \"/\" ? parentPathnameBase : joinPaths([parentPathnameBase,\n    // Re-encode pathnames that were decoded inside matchRoutes\n    navigator.encodeLocation ? navigator.encodeLocation(match.pathnameBase).pathname : match.pathnameBase])\n  })), parentMatches, dataRouterState);\n\n  // When a user passes in a `locationArg`, the associated routes need to\n  // be wrapped in a new `LocationContext.Provider` in order for `useLocation`\n  // to use the scoped location instead of the global location.\n  if (locationArg && renderedMatches) {\n    return /*#__PURE__*/React.createElement(LocationContext.Provider, {\n      value: {\n        location: _extends({\n          pathname: \"/\",\n          search: \"\",\n          hash: \"\",\n          state: null,\n          key: \"default\"\n        }, location),\n        navigationType: Action.Pop\n      }\n    }, renderedMatches);\n  }\n  return renderedMatches;\n}\nfunction DefaultErrorComponent() {\n  let error = useRouteError();\n  let message = isRouteErrorResponse(error) ? error.status + \" \" + error.statusText : error instanceof Error ? error.message : JSON.stringify(error);\n  let stack = error instanceof Error ? error.stack : null;\n  let lightgrey = \"rgba(200,200,200, 0.5)\";\n  let preStyles = {\n    padding: \"0.5rem\",\n    backgroundColor: lightgrey\n  };\n  let codeStyles = {\n    padding: \"2px 4px\",\n    backgroundColor: lightgrey\n  };\n  let devInfo = null;\n  if (process.env.NODE_ENV !== \"production\") {\n    console.error(\"Error handled by React Router default ErrorBoundary:\", error);\n    devInfo = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"p\", null, \"\\uD83D\\uDCBF Hey developer \\uD83D\\uDC4B\"), /*#__PURE__*/React.createElement(\"p\", null, \"You can provide a way better UX than this when your app throws errors by providing your own \", /*#__PURE__*/React.createElement(\"code\", {\n      style: codeStyles\n    }, \"ErrorBoundary\"), \" or\", \" \", /*#__PURE__*/React.createElement(\"code\", {\n      style: codeStyles\n    }, \"errorElement\"), \" prop on your route.\"));\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h2\", null, \"Unexpected Application Error!\"), /*#__PURE__*/React.createElement(\"h3\", {\n    style: {\n      fontStyle: \"italic\"\n    }\n  }, message), stack ? /*#__PURE__*/React.createElement(\"pre\", {\n    style: preStyles\n  }, stack) : null, devInfo);\n}\nconst defaultErrorElement = /*#__PURE__*/React.createElement(DefaultErrorComponent, null);\nclass RenderErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      location: props.location,\n      revalidation: props.revalidation,\n      error: props.error\n    };\n  }\n  static getDerivedStateFromError(error) {\n    return {\n      error: error\n    };\n  }\n  static getDerivedStateFromProps(props, state) {\n    // When we get into an error state, the user will likely click \"back\" to the\n    // previous page that didn't have an error. Because this wraps the entire\n    // application, that will have no effect--the error page continues to display.\n    // This gives us a mechanism to recover from the error when the location changes.\n    //\n    // Whether we're in an error state or not, we update the location in state\n    // so that when we are in an error state, it gets reset when a new location\n    // comes in and the user recovers from the error.\n    if (state.location !== props.location || state.revalidation !== \"idle\" && props.revalidation === \"idle\") {\n      return {\n        error: props.error,\n        location: props.location,\n        revalidation: props.revalidation\n      };\n    }\n\n    // If we're not changing locations, preserve the location but still surface\n    // any new errors that may come through. We retain the existing error, we do\n    // this because the error provided from the app state may be cleared without\n    // the location changing.\n    return {\n      error: props.error || state.error,\n      location: state.location,\n      revalidation: props.revalidation || state.revalidation\n    };\n  }\n  componentDidCatch(error, errorInfo) {\n    console.error(\"React Router caught the following error during render\", error, errorInfo);\n  }\n  render() {\n    return this.state.error ? /*#__PURE__*/React.createElement(RouteContext.Provider, {\n      value: this.props.routeContext\n    }, /*#__PURE__*/React.createElement(RouteErrorContext.Provider, {\n      value: this.state.error,\n      children: this.props.component\n    })) : this.props.children;\n  }\n}\nfunction RenderedRoute(_ref) {\n  let {\n    routeContext,\n    match,\n    children\n  } = _ref;\n  let dataRouterContext = React.useContext(DataRouterContext);\n\n  // Track how deep we got in our render pass to emulate SSR componentDidCatch\n  // in a DataStaticRouter\n  if (dataRouterContext && dataRouterContext.static && dataRouterContext.staticContext && (match.route.errorElement || match.route.ErrorBoundary)) {\n    dataRouterContext.staticContext._deepestRenderedBoundaryId = match.route.id;\n  }\n  return /*#__PURE__*/React.createElement(RouteContext.Provider, {\n    value: routeContext\n  }, children);\n}\nfunction _renderMatches(matches, parentMatches, dataRouterState) {\n  var _dataRouterState2;\n  if (parentMatches === void 0) {\n    parentMatches = [];\n  }\n  if (dataRouterState === void 0) {\n    dataRouterState = null;\n  }\n  if (matches == null) {\n    var _dataRouterState;\n    if ((_dataRouterState = dataRouterState) != null && _dataRouterState.errors) {\n      // Don't bail if we have data router errors so we can render them in the\n      // boundary.  Use the pre-matched (or shimmed) matches\n      matches = dataRouterState.matches;\n    } else {\n      return null;\n    }\n  }\n  let renderedMatches = matches;\n\n  // If we have data errors, trim matches to the highest error boundary\n  let errors = (_dataRouterState2 = dataRouterState) == null ? void 0 : _dataRouterState2.errors;\n  if (errors != null) {\n    let errorIndex = renderedMatches.findIndex(m => m.route.id && (errors == null ? void 0 : errors[m.route.id]));\n    !(errorIndex >= 0) ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"Could not find a matching route for errors on route IDs: \" + Object.keys(errors).join(\",\")) : UNSAFE_invariant(false) : void 0;\n    renderedMatches = renderedMatches.slice(0, Math.min(renderedMatches.length, errorIndex + 1));\n  }\n  return renderedMatches.reduceRight((outlet, match, index) => {\n    let error = match.route.id ? errors == null ? void 0 : errors[match.route.id] : null;\n    // Only data routers handle errors\n    let errorElement = null;\n    if (dataRouterState) {\n      errorElement = match.route.errorElement || defaultErrorElement;\n    }\n    let matches = parentMatches.concat(renderedMatches.slice(0, index + 1));\n    let getChildren = () => {\n      let children;\n      if (error) {\n        children = errorElement;\n      } else if (match.route.Component) {\n        // Note: This is a de-optimized path since React won't re-use the\n        // ReactElement since it's identity changes with each new\n        // React.createElement call.  We keep this so folks can use\n        // `<Route Component={...}>` in `<Routes>` but generally `Component`\n        // usage is only advised in `RouterProvider` when we can convert it to\n        // `element` ahead of time.\n        children = /*#__PURE__*/React.createElement(match.route.Component, null);\n      } else if (match.route.element) {\n        children = match.route.element;\n      } else {\n        children = outlet;\n      }\n      return /*#__PURE__*/React.createElement(RenderedRoute, {\n        match: match,\n        routeContext: {\n          outlet,\n          matches,\n          isDataRoute: dataRouterState != null\n        },\n        children: children\n      });\n    };\n    // Only wrap in an error boundary within data router usages when we have an\n    // ErrorBoundary/errorElement on this route.  Otherwise let it bubble up to\n    // an ancestor ErrorBoundary/errorElement\n    return dataRouterState && (match.route.ErrorBoundary || match.route.errorElement || index === 0) ? /*#__PURE__*/React.createElement(RenderErrorBoundary, {\n      location: dataRouterState.location,\n      revalidation: dataRouterState.revalidation,\n      component: errorElement,\n      error: error,\n      children: getChildren(),\n      routeContext: {\n        outlet: null,\n        matches,\n        isDataRoute: true\n      }\n    }) : getChildren();\n  }, null);\n}\nvar DataRouterHook = /*#__PURE__*/function (DataRouterHook) {\n  DataRouterHook[\"UseBlocker\"] = \"useBlocker\";\n  DataRouterHook[\"UseRevalidator\"] = \"useRevalidator\";\n  DataRouterHook[\"UseNavigateStable\"] = \"useNavigate\";\n  return DataRouterHook;\n}(DataRouterHook || {});\nvar DataRouterStateHook = /*#__PURE__*/function (DataRouterStateHook) {\n  DataRouterStateHook[\"UseBlocker\"] = \"useBlocker\";\n  DataRouterStateHook[\"UseLoaderData\"] = \"useLoaderData\";\n  DataRouterStateHook[\"UseActionData\"] = \"useActionData\";\n  DataRouterStateHook[\"UseRouteError\"] = \"useRouteError\";\n  DataRouterStateHook[\"UseNavigation\"] = \"useNavigation\";\n  DataRouterStateHook[\"UseRouteLoaderData\"] = \"useRouteLoaderData\";\n  DataRouterStateHook[\"UseMatches\"] = \"useMatches\";\n  DataRouterStateHook[\"UseRevalidator\"] = \"useRevalidator\";\n  DataRouterStateHook[\"UseNavigateStable\"] = \"useNavigate\";\n  DataRouterStateHook[\"UseRouteId\"] = \"useRouteId\";\n  return DataRouterStateHook;\n}(DataRouterStateHook || {});\nfunction getDataRouterConsoleError(hookName) {\n  return hookName + \" must be used within a data router.  See https://reactrouter.com/routers/picking-a-router.\";\n}\nfunction useDataRouterContext(hookName) {\n  let ctx = React.useContext(DataRouterContext);\n  !ctx ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, getDataRouterConsoleError(hookName)) : UNSAFE_invariant(false) : void 0;\n  return ctx;\n}\nfunction useDataRouterState(hookName) {\n  let state = React.useContext(DataRouterStateContext);\n  !state ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, getDataRouterConsoleError(hookName)) : UNSAFE_invariant(false) : void 0;\n  return state;\n}\nfunction useRouteContext(hookName) {\n  let route = React.useContext(RouteContext);\n  !route ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, getDataRouterConsoleError(hookName)) : UNSAFE_invariant(false) : void 0;\n  return route;\n}\n\n// Internal version with hookName-aware debugging\nfunction useCurrentRouteId(hookName) {\n  let route = useRouteContext(hookName);\n  let thisRoute = route.matches[route.matches.length - 1];\n  !thisRoute.route.id ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, hookName + \" can only be used on routes that contain a unique \\\"id\\\"\") : UNSAFE_invariant(false) : void 0;\n  return thisRoute.route.id;\n}\n\n/**\n * Returns the ID for the nearest contextual route\n */\nfunction useRouteId() {\n  return useCurrentRouteId(DataRouterStateHook.UseRouteId);\n}\n\n/**\n * Returns the current navigation, defaulting to an \"idle\" navigation when\n * no navigation is in progress\n */\nfunction useNavigation() {\n  let state = useDataRouterState(DataRouterStateHook.UseNavigation);\n  return state.navigation;\n}\n\n/**\n * Returns a revalidate function for manually triggering revalidation, as well\n * as the current state of any manual revalidations\n */\nfunction useRevalidator() {\n  let dataRouterContext = useDataRouterContext(DataRouterHook.UseRevalidator);\n  let state = useDataRouterState(DataRouterStateHook.UseRevalidator);\n  return React.useMemo(() => ({\n    revalidate: dataRouterContext.router.revalidate,\n    state: state.revalidation\n  }), [dataRouterContext.router.revalidate, state.revalidation]);\n}\n\n/**\n * Returns the active route matches, useful for accessing loaderData for\n * parent/child routes or the route \"handle\" property\n */\nfunction useMatches() {\n  let {\n    matches,\n    loaderData\n  } = useDataRouterState(DataRouterStateHook.UseMatches);\n  return React.useMemo(() => matches.map(match => {\n    let {\n      pathname,\n      params\n    } = match;\n    // Note: This structure matches that created by createUseMatchesMatch\n    // in the @remix-run/router , so if you change this please also change\n    // that :)  Eventually we'll DRY this up\n    return {\n      id: match.route.id,\n      pathname,\n      params,\n      data: loaderData[match.route.id],\n      handle: match.route.handle\n    };\n  }), [matches, loaderData]);\n}\n\n/**\n * Returns the loader data for the nearest ancestor Route loader\n */\nfunction useLoaderData() {\n  let state = useDataRouterState(DataRouterStateHook.UseLoaderData);\n  let routeId = useCurrentRouteId(DataRouterStateHook.UseLoaderData);\n  if (state.errors && state.errors[routeId] != null) {\n    console.error(\"You cannot `useLoaderData` in an errorElement (routeId: \" + routeId + \")\");\n    return undefined;\n  }\n  return state.loaderData[routeId];\n}\n\n/**\n * Returns the loaderData for the given routeId\n */\nfunction useRouteLoaderData(routeId) {\n  let state = useDataRouterState(DataRouterStateHook.UseRouteLoaderData);\n  return state.loaderData[routeId];\n}\n\n/**\n * Returns the action data for the nearest ancestor Route action\n */\nfunction useActionData() {\n  let state = useDataRouterState(DataRouterStateHook.UseActionData);\n  let route = React.useContext(RouteContext);\n  !route ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"useActionData must be used inside a RouteContext\") : UNSAFE_invariant(false) : void 0;\n  return Object.values((state == null ? void 0 : state.actionData) || {})[0];\n}\n\n/**\n * Returns the nearest ancestor Route error, which could be a loader/action\n * error or a render error.  This is intended to be called from your\n * ErrorBoundary/errorElement to display a proper error message.\n */\nfunction useRouteError() {\n  var _state$errors;\n  let error = React.useContext(RouteErrorContext);\n  let state = useDataRouterState(DataRouterStateHook.UseRouteError);\n  let routeId = useCurrentRouteId(DataRouterStateHook.UseRouteError);\n\n  // If this was a render error, we put it in a RouteError context inside\n  // of RenderErrorBoundary\n  if (error) {\n    return error;\n  }\n\n  // Otherwise look for errors from our data router state\n  return (_state$errors = state.errors) == null ? void 0 : _state$errors[routeId];\n}\n\n/**\n * Returns the happy-path data from the nearest ancestor <Await /> value\n */\nfunction useAsyncValue() {\n  let value = React.useContext(AwaitContext);\n  return value == null ? void 0 : value._data;\n}\n\n/**\n * Returns the error from the nearest ancestor <Await /> value\n */\nfunction useAsyncError() {\n  let value = React.useContext(AwaitContext);\n  return value == null ? void 0 : value._error;\n}\nlet blockerId = 0;\n\n/**\n * Allow the application to block navigations within the SPA and present the\n * user a confirmation dialog to confirm the navigation.  Mostly used to avoid\n * using half-filled form data.  This does not handle hard-reloads or\n * cross-origin navigations.\n */\nfunction useBlocker(shouldBlock) {\n  let {\n    router,\n    basename\n  } = useDataRouterContext(DataRouterHook.UseBlocker);\n  let state = useDataRouterState(DataRouterStateHook.UseBlocker);\n  let [blockerKey, setBlockerKey] = React.useState(\"\");\n  let blockerFunction = React.useCallback(arg => {\n    if (typeof shouldBlock !== \"function\") {\n      return !!shouldBlock;\n    }\n    if (basename === \"/\") {\n      return shouldBlock(arg);\n    }\n\n    // If they provided us a function and we've got an active basename, strip\n    // it from the locations we expose to the user to match the behavior of\n    // useLocation\n    let {\n      currentLocation,\n      nextLocation,\n      historyAction\n    } = arg;\n    return shouldBlock({\n      currentLocation: _extends({}, currentLocation, {\n        pathname: stripBasename(currentLocation.pathname, basename) || currentLocation.pathname\n      }),\n      nextLocation: _extends({}, nextLocation, {\n        pathname: stripBasename(nextLocation.pathname, basename) || nextLocation.pathname\n      }),\n      historyAction\n    });\n  }, [basename, shouldBlock]);\n\n  // This effect is in charge of blocker key assignment and deletion (which is\n  // tightly coupled to the key)\n  React.useEffect(() => {\n    let key = String(++blockerId);\n    setBlockerKey(key);\n    return () => router.deleteBlocker(key);\n  }, [router]);\n\n  // This effect handles assigning the blockerFunction.  This is to handle\n  // unstable blocker function identities, and happens only after the prior\n  // effect so we don't get an orphaned blockerFunction in the router with a\n  // key of \"\".  Until then we just have the IDLE_BLOCKER.\n  React.useEffect(() => {\n    if (blockerKey !== \"\") {\n      router.getBlocker(blockerKey, blockerFunction);\n    }\n  }, [router, blockerKey, blockerFunction]);\n\n  // Prefer the blocker from `state` not `router.state` since DataRouterContext\n  // is memoized so this ensures we update on blocker state updates\n  return blockerKey && state.blockers.has(blockerKey) ? state.blockers.get(blockerKey) : IDLE_BLOCKER;\n}\n\n/**\n * Stable version of useNavigate that is used when we are in the context of\n * a RouterProvider.\n */\nfunction useNavigateStable() {\n  let {\n    router\n  } = useDataRouterContext(DataRouterHook.UseNavigateStable);\n  let id = useCurrentRouteId(DataRouterStateHook.UseNavigateStable);\n  let activeRef = React.useRef(false);\n  useIsomorphicLayoutEffect(() => {\n    activeRef.current = true;\n  });\n  let navigate = React.useCallback(function (to, options) {\n    if (options === void 0) {\n      options = {};\n    }\n    process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(activeRef.current, navigateEffectWarning) : void 0;\n\n    // Short circuit here since if this happens on first render the navigate\n    // is useless because we haven't wired up our router subscriber yet\n    if (!activeRef.current) return;\n    if (typeof to === \"number\") {\n      router.navigate(to);\n    } else {\n      router.navigate(to, _extends({\n        fromRouteId: id\n      }, options));\n    }\n  }, [router, id]);\n  return navigate;\n}\nconst alreadyWarned = {};\nfunction warningOnce(key, cond, message) {\n  if (!cond && !alreadyWarned[key]) {\n    alreadyWarned[key] = true;\n    process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(false, message) : void 0;\n  }\n}\n\n/**\n  Webpack + React 17 fails to compile on any of the following because webpack\n  complains that `startTransition` doesn't exist in `React`:\n  * import { startTransition } from \"react\"\n  * import * as React from from \"react\";\n    \"startTransition\" in React ? React.startTransition(() => setState()) : setState()\n  * import * as React from from \"react\";\n    \"startTransition\" in React ? React[\"startTransition\"](() => setState()) : setState()\n\n  Moving it to a constant such as the following solves the Webpack/React 17 issue:\n  * import * as React from from \"react\";\n    const START_TRANSITION = \"startTransition\";\n    START_TRANSITION in React ? React[START_TRANSITION](() => setState()) : setState()\n\n  However, that introduces webpack/terser minification issues in production builds\n  in React 18 where minification/obfuscation ends up removing the call of\n  React.startTransition entirely from the first half of the ternary.  Grabbing\n  this exported reference once up front resolves that issue.\n\n  See https://github.com/remix-run/react-router/issues/10579\n*/\nconst START_TRANSITION = \"startTransition\";\nconst startTransitionImpl = React[START_TRANSITION];\n\n/**\n * Given a Remix Router instance, render the appropriate UI\n */\nfunction RouterProvider(_ref) {\n  let {\n    fallbackElement,\n    router,\n    future\n  } = _ref;\n  // Need to use a layout effect here so we are subscribed early enough to\n  // pick up on any render-driven redirects/navigations (useEffect/<Navigate>)\n  let [state, setStateImpl] = React.useState(router.state);\n  let {\n    v7_startTransition\n  } = future || {};\n  let setState = React.useCallback(newState => {\n    v7_startTransition && startTransitionImpl ? startTransitionImpl(() => setStateImpl(newState)) : setStateImpl(newState);\n  }, [setStateImpl, v7_startTransition]);\n  React.useLayoutEffect(() => router.subscribe(setState), [router, setState]);\n  let navigator = React.useMemo(() => {\n    return {\n      createHref: router.createHref,\n      encodeLocation: router.encodeLocation,\n      go: n => router.navigate(n),\n      push: (to, state, opts) => router.navigate(to, {\n        state,\n        preventScrollReset: opts == null ? void 0 : opts.preventScrollReset\n      }),\n      replace: (to, state, opts) => router.navigate(to, {\n        replace: true,\n        state,\n        preventScrollReset: opts == null ? void 0 : opts.preventScrollReset\n      })\n    };\n  }, [router]);\n  let basename = router.basename || \"/\";\n  let dataRouterContext = React.useMemo(() => ({\n    router,\n    navigator,\n    static: false,\n    basename\n  }), [router, navigator, basename]);\n\n  // The fragment and {null} here are important!  We need them to keep React 18's\n  // useId happy when we are server-rendering since we may have a <script> here\n  // containing the hydrated server-side staticContext (from StaticRouterProvider).\n  // useId relies on the component tree structure to generate deterministic id's\n  // so we need to ensure it remains the same on the client even though\n  // we don't need the <script> tag\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(DataRouterContext.Provider, {\n    value: dataRouterContext\n  }, /*#__PURE__*/React.createElement(DataRouterStateContext.Provider, {\n    value: state\n  }, /*#__PURE__*/React.createElement(Router, {\n    basename: basename,\n    location: state.location,\n    navigationType: state.historyAction,\n    navigator: navigator\n  }, state.initialized ? /*#__PURE__*/React.createElement(DataRoutes, {\n    routes: router.routes,\n    state: state\n  }) : fallbackElement))), null);\n}\nfunction DataRoutes(_ref2) {\n  let {\n    routes,\n    state\n  } = _ref2;\n  return useRoutesImpl(routes, undefined, state);\n}\n/**\n * A <Router> that stores all entries in memory.\n *\n * @see https://reactrouter.com/router-components/memory-router\n */\nfunction MemoryRouter(_ref3) {\n  let {\n    basename,\n    children,\n    initialEntries,\n    initialIndex,\n    future\n  } = _ref3;\n  let historyRef = React.useRef();\n  if (historyRef.current == null) {\n    historyRef.current = createMemoryHistory({\n      initialEntries,\n      initialIndex,\n      v5Compat: true\n    });\n  }\n  let history = historyRef.current;\n  let [state, setStateImpl] = React.useState({\n    action: history.action,\n    location: history.location\n  });\n  let {\n    v7_startTransition\n  } = future || {};\n  let setState = React.useCallback(newState => {\n    v7_startTransition && startTransitionImpl ? startTransitionImpl(() => setStateImpl(newState)) : setStateImpl(newState);\n  }, [setStateImpl, v7_startTransition]);\n  React.useLayoutEffect(() => history.listen(setState), [history, setState]);\n  return /*#__PURE__*/React.createElement(Router, {\n    basename: basename,\n    children: children,\n    location: state.location,\n    navigationType: state.action,\n    navigator: history\n  });\n}\n/**\n * Changes the current location.\n *\n * Note: This API is mostly useful in React.Component subclasses that are not\n * able to use hooks. In functional components, we recommend you use the\n * `useNavigate` hook instead.\n *\n * @see https://reactrouter.com/components/navigate\n */\nfunction Navigate(_ref4) {\n  let {\n    to,\n    replace,\n    state,\n    relative\n  } = _ref4;\n  !useInRouterContext() ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, // TODO: This error is probably because they somehow have 2 versions of\n  // the router loaded. We can help them understand how to avoid that.\n  \"<Navigate> may be used only in the context of a <Router> component.\") : UNSAFE_invariant(false) : void 0;\n  process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(!React.useContext(NavigationContext).static, \"<Navigate> must not be used on the initial render in a <StaticRouter>. \" + \"This is a no-op, but you should modify your code so the <Navigate> is \" + \"only ever rendered in response to some user interaction or state change.\") : void 0;\n  let {\n    matches\n  } = React.useContext(RouteContext);\n  let {\n    pathname: locationPathname\n  } = useLocation();\n  let navigate = useNavigate();\n\n  // Resolve the path outside of the effect so that when effects run twice in\n  // StrictMode they navigate to the same place\n  let path = resolveTo(to, UNSAFE_getPathContributingMatches(matches).map(match => match.pathnameBase), locationPathname, relative === \"path\");\n  let jsonPath = JSON.stringify(path);\n  React.useEffect(() => navigate(JSON.parse(jsonPath), {\n    replace,\n    state,\n    relative\n  }), [navigate, jsonPath, relative, replace, state]);\n  return null;\n}\n/**\n * Renders the child route's element, if there is one.\n *\n * @see https://reactrouter.com/components/outlet\n */\nfunction Outlet(props) {\n  return useOutlet(props.context);\n}\n/**\n * Declares an element that should be rendered at a certain URL path.\n *\n * @see https://reactrouter.com/components/route\n */\nfunction Route(_props) {\n  process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"A <Route> is only ever to be used as the child of <Routes> element, \" + \"never rendered directly. Please wrap your <Route> in a <Routes>.\") : UNSAFE_invariant(false) ;\n}\n/**\n * Provides location context for the rest of the app.\n *\n * Note: You usually won't render a <Router> directly. Instead, you'll render a\n * router that is more specific to your environment such as a <BrowserRouter>\n * in web browsers or a <StaticRouter> for server rendering.\n *\n * @see https://reactrouter.com/router-components/router\n */\nfunction Router(_ref5) {\n  let {\n    basename: basenameProp = \"/\",\n    children = null,\n    location: locationProp,\n    navigationType = Action.Pop,\n    navigator,\n    static: staticProp = false\n  } = _ref5;\n  !!useInRouterContext() ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"You cannot render a <Router> inside another <Router>.\" + \" You should never have more than one in your app.\") : UNSAFE_invariant(false) : void 0;\n\n  // Preserve trailing slashes on basename, so we can let the user control\n  // the enforcement of trailing slashes throughout the app\n  let basename = basenameProp.replace(/^\\/*/, \"/\");\n  let navigationContext = React.useMemo(() => ({\n    basename,\n    navigator,\n    static: staticProp\n  }), [basename, navigator, staticProp]);\n  if (typeof locationProp === \"string\") {\n    locationProp = parsePath(locationProp);\n  }\n  let {\n    pathname = \"/\",\n    search = \"\",\n    hash = \"\",\n    state = null,\n    key = \"default\"\n  } = locationProp;\n  let locationContext = React.useMemo(() => {\n    let trailingPathname = stripBasename(pathname, basename);\n    if (trailingPathname == null) {\n      return null;\n    }\n    return {\n      location: {\n        pathname: trailingPathname,\n        search,\n        hash,\n        state,\n        key\n      },\n      navigationType\n    };\n  }, [basename, pathname, search, hash, state, key, navigationType]);\n  process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(locationContext != null, \"<Router basename=\\\"\" + basename + \"\\\"> is not able to match the URL \" + (\"\\\"\" + pathname + search + hash + \"\\\" because it does not start with the \") + \"basename, so the <Router> won't render anything.\") : void 0;\n  if (locationContext == null) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(NavigationContext.Provider, {\n    value: navigationContext\n  }, /*#__PURE__*/React.createElement(LocationContext.Provider, {\n    children: children,\n    value: locationContext\n  }));\n}\n/**\n * A container for a nested tree of <Route> elements that renders the branch\n * that best matches the current location.\n *\n * @see https://reactrouter.com/components/routes\n */\nfunction Routes(_ref6) {\n  let {\n    children,\n    location\n  } = _ref6;\n  return useRoutes(createRoutesFromChildren(children), location);\n}\n/**\n * Component to use for rendering lazily loaded data from returning defer()\n * in a loader function\n */\nfunction Await(_ref7) {\n  let {\n    children,\n    errorElement,\n    resolve\n  } = _ref7;\n  return /*#__PURE__*/React.createElement(AwaitErrorBoundary, {\n    resolve: resolve,\n    errorElement: errorElement\n  }, /*#__PURE__*/React.createElement(ResolveAwait, null, children));\n}\nvar AwaitRenderStatus = /*#__PURE__*/function (AwaitRenderStatus) {\n  AwaitRenderStatus[AwaitRenderStatus[\"pending\"] = 0] = \"pending\";\n  AwaitRenderStatus[AwaitRenderStatus[\"success\"] = 1] = \"success\";\n  AwaitRenderStatus[AwaitRenderStatus[\"error\"] = 2] = \"error\";\n  return AwaitRenderStatus;\n}(AwaitRenderStatus || {});\nconst neverSettledPromise = new Promise(() => {});\nclass AwaitErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: null\n    };\n  }\n  static getDerivedStateFromError(error) {\n    return {\n      error\n    };\n  }\n  componentDidCatch(error, errorInfo) {\n    console.error(\"<Await> caught the following error during render\", error, errorInfo);\n  }\n  render() {\n    let {\n      children,\n      errorElement,\n      resolve\n    } = this.props;\n    let promise = null;\n    let status = AwaitRenderStatus.pending;\n    if (!(resolve instanceof Promise)) {\n      // Didn't get a promise - provide as a resolved promise\n      status = AwaitRenderStatus.success;\n      promise = Promise.resolve();\n      Object.defineProperty(promise, \"_tracked\", {\n        get: () => true\n      });\n      Object.defineProperty(promise, \"_data\", {\n        get: () => resolve\n      });\n    } else if (this.state.error) {\n      // Caught a render error, provide it as a rejected promise\n      status = AwaitRenderStatus.error;\n      let renderError = this.state.error;\n      promise = Promise.reject().catch(() => {}); // Avoid unhandled rejection warnings\n      Object.defineProperty(promise, \"_tracked\", {\n        get: () => true\n      });\n      Object.defineProperty(promise, \"_error\", {\n        get: () => renderError\n      });\n    } else if (resolve._tracked) {\n      // Already tracked promise - check contents\n      promise = resolve;\n      status = promise._error !== undefined ? AwaitRenderStatus.error : promise._data !== undefined ? AwaitRenderStatus.success : AwaitRenderStatus.pending;\n    } else {\n      // Raw (untracked) promise - track it\n      status = AwaitRenderStatus.pending;\n      Object.defineProperty(resolve, \"_tracked\", {\n        get: () => true\n      });\n      promise = resolve.then(data => Object.defineProperty(resolve, \"_data\", {\n        get: () => data\n      }), error => Object.defineProperty(resolve, \"_error\", {\n        get: () => error\n      }));\n    }\n    if (status === AwaitRenderStatus.error && promise._error instanceof AbortedDeferredError) {\n      // Freeze the UI by throwing a never resolved promise\n      throw neverSettledPromise;\n    }\n    if (status === AwaitRenderStatus.error && !errorElement) {\n      // No errorElement, throw to the nearest route-level error boundary\n      throw promise._error;\n    }\n    if (status === AwaitRenderStatus.error) {\n      // Render via our errorElement\n      return /*#__PURE__*/React.createElement(AwaitContext.Provider, {\n        value: promise,\n        children: errorElement\n      });\n    }\n    if (status === AwaitRenderStatus.success) {\n      // Render children with resolved value\n      return /*#__PURE__*/React.createElement(AwaitContext.Provider, {\n        value: promise,\n        children: children\n      });\n    }\n\n    // Throw to the suspense boundary\n    throw promise;\n  }\n}\n\n/**\n * @private\n * Indirection to leverage useAsyncValue for a render-prop API on <Await>\n */\nfunction ResolveAwait(_ref8) {\n  let {\n    children\n  } = _ref8;\n  let data = useAsyncValue();\n  let toRender = typeof children === \"function\" ? children(data) : children;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, toRender);\n}\n\n///////////////////////////////////////////////////////////////////////////////\n// UTILS\n///////////////////////////////////////////////////////////////////////////////\n\n/**\n * Creates a route config from a React \"children\" object, which is usually\n * either a `<Route>` element or an array of them. Used internally by\n * `<Routes>` to create a route config from its children.\n *\n * @see https://reactrouter.com/utils/create-routes-from-children\n */\nfunction createRoutesFromChildren(children, parentPath) {\n  if (parentPath === void 0) {\n    parentPath = [];\n  }\n  let routes = [];\n  React.Children.forEach(children, (element, index) => {\n    if (! /*#__PURE__*/React.isValidElement(element)) {\n      // Ignore non-elements. This allows people to more easily inline\n      // conditionals in their route config.\n      return;\n    }\n    let treePath = [...parentPath, index];\n    if (element.type === React.Fragment) {\n      // Transparently support React.Fragment and its children.\n      routes.push.apply(routes, createRoutesFromChildren(element.props.children, treePath));\n      return;\n    }\n    !(element.type === Route) ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"[\" + (typeof element.type === \"string\" ? element.type : element.type.name) + \"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>\") : UNSAFE_invariant(false) : void 0;\n    !(!element.props.index || !element.props.children) ? process.env.NODE_ENV !== \"production\" ? UNSAFE_invariant(false, \"An index route cannot have child routes.\") : UNSAFE_invariant(false) : void 0;\n    let route = {\n      id: element.props.id || treePath.join(\"-\"),\n      caseSensitive: element.props.caseSensitive,\n      element: element.props.element,\n      Component: element.props.Component,\n      index: element.props.index,\n      path: element.props.path,\n      loader: element.props.loader,\n      action: element.props.action,\n      errorElement: element.props.errorElement,\n      ErrorBoundary: element.props.ErrorBoundary,\n      hasErrorBoundary: element.props.ErrorBoundary != null || element.props.errorElement != null,\n      shouldRevalidate: element.props.shouldRevalidate,\n      handle: element.props.handle,\n      lazy: element.props.lazy\n    };\n    if (element.props.children) {\n      route.children = createRoutesFromChildren(element.props.children, treePath);\n    }\n    routes.push(route);\n  });\n  return routes;\n}\n\n/**\n * Renders the result of `matchRoutes()` into a React element.\n */\nfunction renderMatches(matches) {\n  return _renderMatches(matches);\n}\n\nfunction mapRouteProperties(route) {\n  let updates = {\n    // Note: this check also occurs in createRoutesFromChildren so update\n    // there if you change this -- please and thank you!\n    hasErrorBoundary: route.ErrorBoundary != null || route.errorElement != null\n  };\n  if (route.Component) {\n    if (process.env.NODE_ENV !== \"production\") {\n      if (route.element) {\n        process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(false, \"You should not include both `Component` and `element` on your route - \" + \"`Component` will be used.\") : void 0;\n      }\n    }\n    Object.assign(updates, {\n      element: /*#__PURE__*/React.createElement(route.Component),\n      Component: undefined\n    });\n  }\n  if (route.ErrorBoundary) {\n    if (process.env.NODE_ENV !== \"production\") {\n      if (route.errorElement) {\n        process.env.NODE_ENV !== \"production\" ? UNSAFE_warning(false, \"You should not include both `ErrorBoundary` and `errorElement` on your route - \" + \"`ErrorBoundary` will be used.\") : void 0;\n      }\n    }\n    Object.assign(updates, {\n      errorElement: /*#__PURE__*/React.createElement(route.ErrorBoundary),\n      ErrorBoundary: undefined\n    });\n  }\n  return updates;\n}\nfunction createMemoryRouter(routes, opts) {\n  return createRouter({\n    basename: opts == null ? void 0 : opts.basename,\n    future: _extends({}, opts == null ? void 0 : opts.future, {\n      v7_prependBasename: true\n    }),\n    history: createMemoryHistory({\n      initialEntries: opts == null ? void 0 : opts.initialEntries,\n      initialIndex: opts == null ? void 0 : opts.initialIndex\n    }),\n    hydrationData: opts == null ? void 0 : opts.hydrationData,\n    routes,\n    mapRouteProperties\n  }).initialize();\n}\n\nexport { Await, MemoryRouter, Navigate, Outlet, Route, Router, RouterProvider, Routes, DataRouterContext as UNSAFE_DataRouterContext, DataRouterStateContext as UNSAFE_DataRouterStateContext, LocationContext as UNSAFE_LocationContext, NavigationContext as UNSAFE_NavigationContext, RouteContext as UNSAFE_RouteContext, mapRouteProperties as UNSAFE_mapRouteProperties, useRouteId as UNSAFE_useRouteId, useRoutesImpl as UNSAFE_useRoutesImpl, createMemoryRouter, createRoutesFromChildren, createRoutesFromChildren as createRoutesFromElements, renderMatches, useBlocker as unstable_useBlocker, useActionData, useAsyncError, useAsyncValue, useHref, useInRouterContext, useLoaderData, useLocation, useMatch, useMatches, useNavigate, useNavigation, useNavigationType, useOutlet, useOutletContext, useParams, useResolvedPath, useRevalidator, useRouteError, useRouteLoaderData, useRoutes };\n//# sourceMappingURL=index.js.map\n","import * as React from \"react\";\nimport type {\n  AgnosticRouteMatch,\n  AgnosticIndexRouteObject,\n  AgnosticNonIndexRouteObject,\n  History,\n  Location,\n  RelativeRoutingType,\n  Router,\n  StaticHandlerContext,\n  To,\n  TrackedPromise,\n  LazyRouteFunction,\n} from \"@remix-run/router\";\nimport type { Action as NavigationType } from \"@remix-run/router\";\n\n// Create react-specific types from the agnostic types in @remix-run/router to\n// export from react-router\nexport interface IndexRouteObject {\n  caseSensitive?: AgnosticIndexRouteObject[\"caseSensitive\"];\n  path?: AgnosticIndexRouteObject[\"path\"];\n  id?: AgnosticIndexRouteObject[\"id\"];\n  loader?: AgnosticIndexRouteObject[\"loader\"];\n  action?: AgnosticIndexRouteObject[\"action\"];\n  hasErrorBoundary?: AgnosticIndexRouteObject[\"hasErrorBoundary\"];\n  shouldRevalidate?: AgnosticIndexRouteObject[\"shouldRevalidate\"];\n  handle?: AgnosticIndexRouteObject[\"handle\"];\n  index: true;\n  children?: undefined;\n  element?: React.ReactNode | null;\n  errorElement?: React.ReactNode | null;\n  Component?: React.ComponentType | null;\n  ErrorBoundary?: React.ComponentType | null;\n  lazy?: LazyRouteFunction<RouteObject>;\n}\n\nexport interface NonIndexRouteObject {\n  caseSensitive?: AgnosticNonIndexRouteObject[\"caseSensitive\"];\n  path?: AgnosticNonIndexRouteObject[\"path\"];\n  id?: AgnosticNonIndexRouteObject[\"id\"];\n  loader?: AgnosticNonIndexRouteObject[\"loader\"];\n  action?: AgnosticNonIndexRouteObject[\"action\"];\n  hasErrorBoundary?: AgnosticNonIndexRouteObject[\"hasErrorBoundary\"];\n  shouldRevalidate?: AgnosticNonIndexRouteObject[\"shouldRevalidate\"];\n  handle?: AgnosticNonIndexRouteObject[\"handle\"];\n  index?: false;\n  children?: RouteObject[];\n  element?: React.ReactNode | null;\n  errorElement?: React.ReactNode | null;\n  Component?: React.ComponentType | null;\n  ErrorBoundary?: React.ComponentType | null;\n  lazy?: LazyRouteFunction<RouteObject>;\n}\n\nexport type RouteObject = IndexRouteObject | NonIndexRouteObject;\n\nexport type DataRouteObject = RouteObject & {\n  children?: DataRouteObject[];\n  id: string;\n};\n\nexport interface RouteMatch<\n  ParamKey extends string = string,\n  RouteObjectType extends RouteObject = RouteObject\n> extends AgnosticRouteMatch<ParamKey, RouteObjectType> {}\n\nexport interface DataRouteMatch extends RouteMatch<string, DataRouteObject> {}\n\nexport interface DataRouterContextObject extends NavigationContextObject {\n  router: Router;\n  staticContext?: StaticHandlerContext;\n}\n\nexport const DataRouterContext =\n  React.createContext<DataRouterContextObject | null>(null);\nif (__DEV__) {\n  DataRouterContext.displayName = \"DataRouter\";\n}\n\nexport const DataRouterStateContext = React.createContext<\n  Router[\"state\"] | null\n>(null);\nif (__DEV__) {\n  DataRouterStateContext.displayName = \"DataRouterState\";\n}\n\nexport const AwaitContext = React.createContext<TrackedPromise | null>(null);\nif (__DEV__) {\n  AwaitContext.displayName = \"Await\";\n}\n\nexport interface NavigateOptions {\n  replace?: boolean;\n  state?: any;\n  preventScrollReset?: boolean;\n  relative?: RelativeRoutingType;\n}\n\n/**\n * A Navigator is a \"location changer\"; it's how you get to different locations.\n *\n * Every history instance conforms to the Navigator interface, but the\n * distinction is useful primarily when it comes to the low-level <Router> API\n * where both the location and a navigator must be provided separately in order\n * to avoid \"tearing\" that may occur in a suspense-enabled app if the action\n * and/or location were to be read directly from the history instance.\n */\nexport interface Navigator {\n  createHref: History[\"createHref\"];\n  // Optional for backwards-compat with Router/HistoryRouter usage (edge case)\n  encodeLocation?: History[\"encodeLocation\"];\n  go: History[\"go\"];\n  push(to: To, state?: any, opts?: NavigateOptions): void;\n  replace(to: To, state?: any, opts?: NavigateOptions): void;\n}\n\ninterface NavigationContextObject {\n  basename: string;\n  navigator: Navigator;\n  static: boolean;\n}\n\nexport const NavigationContext = React.createContext<NavigationContextObject>(\n  null!\n);\n\nif (__DEV__) {\n  NavigationContext.displayName = \"Navigation\";\n}\n\ninterface LocationContextObject {\n  location: Location;\n  navigationType: NavigationType;\n}\n\nexport const LocationContext = React.createContext<LocationContextObject>(\n  null!\n);\n\nif (__DEV__) {\n  LocationContext.displayName = \"Location\";\n}\n\nexport interface RouteContextObject {\n  outlet: React.ReactElement | null;\n  matches: RouteMatch[];\n  isDataRoute: boolean;\n}\n\nexport const RouteContext = React.createContext<RouteContextObject>({\n  outlet: null,\n  matches: [],\n  isDataRoute: false,\n});\n\nif (__DEV__) {\n  RouteContext.displayName = \"Route\";\n}\n\nexport const RouteErrorContext = React.createContext<any>(null);\n\nif (__DEV__) {\n  RouteErrorContext.displayName = \"RouteError\";\n}\n","import * as React from \"react\";\nimport type {\n  Blocker,\n  BlockerFunction,\n  Location,\n  ParamParseKey,\n  Params,\n  Path,\n  PathMatch,\n  PathPattern,\n  RelativeRoutingType,\n  Router as RemixRouter,\n  RevalidationState,\n  To,\n} from \"@remix-run/router\";\nimport {\n  Action as NavigationType,\n  UNSAFE_invariant as invariant,\n  isRouteErrorResponse,\n  joinPaths,\n  matchPath,\n  matchRoutes,\n  parsePath,\n  resolveTo,\n  stripBasename,\n  IDLE_BLOCKER,\n  UNSAFE_getPathContributingMatches as getPathContributingMatches,\n  UNSAFE_warning as warning,\n} from \"@remix-run/router\";\n\nimport type {\n  NavigateOptions,\n  RouteContextObject,\n  RouteMatch,\n  RouteObject,\n  DataRouteMatch,\n} from \"./context\";\nimport {\n  DataRouterContext,\n  DataRouterStateContext,\n  LocationContext,\n  NavigationContext,\n  RouteContext,\n  RouteErrorContext,\n  AwaitContext,\n} from \"./context\";\n\n/**\n * Returns the full href for the given \"to\" value. This is useful for building\n * custom links that are also accessible and preserve right-click behavior.\n *\n * @see https://reactrouter.com/hooks/use-href\n */\nexport function useHref(\n  to: To,\n  { relative }: { relative?: RelativeRoutingType } = {}\n): string {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useHref() may be used only in the context of a <Router> component.`\n  );\n\n  let { basename, navigator } = React.useContext(NavigationContext);\n  let { hash, pathname, search } = useResolvedPath(to, { relative });\n\n  let joinedPathname = pathname;\n\n  // If we're operating within a basename, prepend it to the pathname prior\n  // to creating the href.  If this is a root navigation, then just use the raw\n  // basename which allows the basename to have full control over the presence\n  // of a trailing slash on root links\n  if (basename !== \"/\") {\n    joinedPathname =\n      pathname === \"/\" ? basename : joinPaths([basename, pathname]);\n  }\n\n  return navigator.createHref({ pathname: joinedPathname, search, hash });\n}\n\n/**\n * Returns true if this component is a descendant of a <Router>.\n *\n * @see https://reactrouter.com/hooks/use-in-router-context\n */\nexport function useInRouterContext(): boolean {\n  return React.useContext(LocationContext) != null;\n}\n\n/**\n * Returns the current location object, which represents the current URL in web\n * browsers.\n *\n * Note: If you're using this it may mean you're doing some of your own\n * \"routing\" in your app, and we'd like to know what your use case is. We may\n * be able to provide something higher-level to better suit your needs.\n *\n * @see https://reactrouter.com/hooks/use-location\n */\nexport function useLocation(): Location {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useLocation() may be used only in the context of a <Router> component.`\n  );\n\n  return React.useContext(LocationContext).location;\n}\n\n/**\n * Returns the current navigation action which describes how the router came to\n * the current location, either by a pop, push, or replace on the history stack.\n *\n * @see https://reactrouter.com/hooks/use-navigation-type\n */\nexport function useNavigationType(): NavigationType {\n  return React.useContext(LocationContext).navigationType;\n}\n\n/**\n * Returns a PathMatch object if the given pattern matches the current URL.\n * This is useful for components that need to know \"active\" state, e.g.\n * <NavLink>.\n *\n * @see https://reactrouter.com/hooks/use-match\n */\nexport function useMatch<\n  ParamKey extends ParamParseKey<Path>,\n  Path extends string\n>(pattern: PathPattern<Path> | Path): PathMatch<ParamKey> | null {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useMatch() may be used only in the context of a <Router> component.`\n  );\n\n  let { pathname } = useLocation();\n  return React.useMemo(\n    () => matchPath<ParamKey, Path>(pattern, pathname),\n    [pathname, pattern]\n  );\n}\n\n/**\n * The interface for the navigate() function returned from useNavigate().\n */\nexport interface NavigateFunction {\n  (to: To, options?: NavigateOptions): void;\n  (delta: number): void;\n}\n\nconst navigateEffectWarning =\n  `You should call navigate() in a React.useEffect(), not when ` +\n  `your component is first rendered.`;\n\n// Mute warnings for calls to useNavigate in SSR environments\nfunction useIsomorphicLayoutEffect(\n  cb: Parameters<typeof React.useLayoutEffect>[0]\n) {\n  let isStatic = React.useContext(NavigationContext).static;\n  if (!isStatic) {\n    // We should be able to get rid of this once react 18.3 is released\n    // See: https://github.com/facebook/react/pull/26395\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useLayoutEffect(cb);\n  }\n}\n\n/**\n * Returns an imperative method for changing the location. Used by <Link>s, but\n * may also be used by other elements to change the location.\n *\n * @see https://reactrouter.com/hooks/use-navigate\n */\nexport function useNavigate(): NavigateFunction {\n  let { isDataRoute } = React.useContext(RouteContext);\n  // Conditional usage is OK here because the usage of a data router is static\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  return isDataRoute ? useNavigateStable() : useNavigateUnstable();\n}\n\nfunction useNavigateUnstable(): NavigateFunction {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useNavigate() may be used only in the context of a <Router> component.`\n  );\n\n  let dataRouterContext = React.useContext(DataRouterContext);\n  let { basename, navigator } = React.useContext(NavigationContext);\n  let { matches } = React.useContext(RouteContext);\n  let { pathname: locationPathname } = useLocation();\n\n  let routePathnamesJson = JSON.stringify(\n    getPathContributingMatches(matches).map((match) => match.pathnameBase)\n  );\n\n  let activeRef = React.useRef(false);\n  useIsomorphicLayoutEffect(() => {\n    activeRef.current = true;\n  });\n\n  let navigate: NavigateFunction = React.useCallback(\n    (to: To | number, options: NavigateOptions = {}) => {\n      warning(activeRef.current, navigateEffectWarning);\n\n      // Short circuit here since if this happens on first render the navigate\n      // is useless because we haven't wired up our history listener yet\n      if (!activeRef.current) return;\n\n      if (typeof to === \"number\") {\n        navigator.go(to);\n        return;\n      }\n\n      let path = resolveTo(\n        to,\n        JSON.parse(routePathnamesJson),\n        locationPathname,\n        options.relative === \"path\"\n      );\n\n      // If we're operating within a basename, prepend it to the pathname prior\n      // to handing off to history (but only if we're not in a data router,\n      // otherwise it'll prepend the basename inside of the router).\n      // If this is a root navigation, then we navigate to the raw basename\n      // which allows the basename to have full control over the presence of a\n      // trailing slash on root links\n      if (dataRouterContext == null && basename !== \"/\") {\n        path.pathname =\n          path.pathname === \"/\"\n            ? basename\n            : joinPaths([basename, path.pathname]);\n      }\n\n      (!!options.replace ? navigator.replace : navigator.push)(\n        path,\n        options.state,\n        options\n      );\n    },\n    [\n      basename,\n      navigator,\n      routePathnamesJson,\n      locationPathname,\n      dataRouterContext,\n    ]\n  );\n\n  return navigate;\n}\n\nconst OutletContext = React.createContext<unknown>(null);\n\n/**\n * Returns the context (if provided) for the child route at this level of the route\n * hierarchy.\n * @see https://reactrouter.com/hooks/use-outlet-context\n */\nexport function useOutletContext<Context = unknown>(): Context {\n  return React.useContext(OutletContext) as Context;\n}\n\n/**\n * Returns the element for the child route at this level of the route\n * hierarchy. Used internally by <Outlet> to render child routes.\n *\n * @see https://reactrouter.com/hooks/use-outlet\n */\nexport function useOutlet(context?: unknown): React.ReactElement | null {\n  let outlet = React.useContext(RouteContext).outlet;\n  if (outlet) {\n    return (\n      <OutletContext.Provider value={context}>{outlet}</OutletContext.Provider>\n    );\n  }\n  return outlet;\n}\n\n/**\n * Returns an object of key/value pairs of the dynamic params from the current\n * URL that were matched by the route path.\n *\n * @see https://reactrouter.com/hooks/use-params\n */\nexport function useParams<\n  ParamsOrKey extends string | Record<string, string | undefined> = string\n>(): Readonly<\n  [ParamsOrKey] extends [string] ? Params<ParamsOrKey> : Partial<ParamsOrKey>\n> {\n  let { matches } = React.useContext(RouteContext);\n  let routeMatch = matches[matches.length - 1];\n  return routeMatch ? (routeMatch.params as any) : {};\n}\n\n/**\n * Resolves the pathname of the given `to` value against the current location.\n *\n * @see https://reactrouter.com/hooks/use-resolved-path\n */\nexport function useResolvedPath(\n  to: To,\n  { relative }: { relative?: RelativeRoutingType } = {}\n): Path {\n  let { matches } = React.useContext(RouteContext);\n  let { pathname: locationPathname } = useLocation();\n\n  let routePathnamesJson = JSON.stringify(\n    getPathContributingMatches(matches).map((match) => match.pathnameBase)\n  );\n\n  return React.useMemo(\n    () =>\n      resolveTo(\n        to,\n        JSON.parse(routePathnamesJson),\n        locationPathname,\n        relative === \"path\"\n      ),\n    [to, routePathnamesJson, locationPathname, relative]\n  );\n}\n\n/**\n * Returns the element of the route that matched the current location, prepared\n * with the correct context to render the remainder of the route tree. Route\n * elements in the tree must render an <Outlet> to render their child route's\n * element.\n *\n * @see https://reactrouter.com/hooks/use-routes\n */\nexport function useRoutes(\n  routes: RouteObject[],\n  locationArg?: Partial<Location> | string\n): React.ReactElement | null {\n  return useRoutesImpl(routes, locationArg);\n}\n\n// Internal implementation with accept optional param for RouterProvider usage\nexport function useRoutesImpl(\n  routes: RouteObject[],\n  locationArg?: Partial<Location> | string,\n  dataRouterState?: RemixRouter[\"state\"]\n): React.ReactElement | null {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useRoutes() may be used only in the context of a <Router> component.`\n  );\n\n  let { navigator } = React.useContext(NavigationContext);\n  let { matches: parentMatches } = React.useContext(RouteContext);\n  let routeMatch = parentMatches[parentMatches.length - 1];\n  let parentParams = routeMatch ? routeMatch.params : {};\n  let parentPathname = routeMatch ? routeMatch.pathname : \"/\";\n  let parentPathnameBase = routeMatch ? routeMatch.pathnameBase : \"/\";\n  let parentRoute = routeMatch && routeMatch.route;\n\n  if (__DEV__) {\n    // You won't get a warning about 2 different <Routes> under a <Route>\n    // without a trailing *, but this is a best-effort warning anyway since we\n    // cannot even give the warning unless they land at the parent route.\n    //\n    // Example:\n    //\n    // <Routes>\n    //   {/* This route path MUST end with /* because otherwise\n    //       it will never match /blog/post/123 */}\n    //   <Route path=\"blog\" element={<Blog />} />\n    //   <Route path=\"blog/feed\" element={<BlogFeed />} />\n    // </Routes>\n    //\n    // function Blog() {\n    //   return (\n    //     <Routes>\n    //       <Route path=\"post/:id\" element={<Post />} />\n    //     </Routes>\n    //   );\n    // }\n    let parentPath = (parentRoute && parentRoute.path) || \"\";\n    warningOnce(\n      parentPathname,\n      !parentRoute || parentPath.endsWith(\"*\"),\n      `You rendered descendant <Routes> (or called \\`useRoutes()\\`) at ` +\n        `\"${parentPathname}\" (under <Route path=\"${parentPath}\">) but the ` +\n        `parent route path has no trailing \"*\". This means if you navigate ` +\n        `deeper, the parent won't match anymore and therefore the child ` +\n        `routes will never render.\\n\\n` +\n        `Please change the parent <Route path=\"${parentPath}\"> to <Route ` +\n        `path=\"${parentPath === \"/\" ? \"*\" : `${parentPath}/*`}\">.`\n    );\n  }\n\n  let locationFromContext = useLocation();\n\n  let location;\n  if (locationArg) {\n    let parsedLocationArg =\n      typeof locationArg === \"string\" ? parsePath(locationArg) : locationArg;\n\n    invariant(\n      parentPathnameBase === \"/\" ||\n        parsedLocationArg.pathname?.startsWith(parentPathnameBase),\n      `When overriding the location using \\`<Routes location>\\` or \\`useRoutes(routes, location)\\`, ` +\n        `the location pathname must begin with the portion of the URL pathname that was ` +\n        `matched by all parent routes. The current pathname base is \"${parentPathnameBase}\" ` +\n        `but pathname \"${parsedLocationArg.pathname}\" was given in the \\`location\\` prop.`\n    );\n\n    location = parsedLocationArg;\n  } else {\n    location = locationFromContext;\n  }\n\n  let pathname = location.pathname || \"/\";\n  let remainingPathname =\n    parentPathnameBase === \"/\"\n      ? pathname\n      : pathname.slice(parentPathnameBase.length) || \"/\";\n\n  let matches = matchRoutes(routes, { pathname: remainingPathname });\n\n  if (__DEV__) {\n    warning(\n      parentRoute || matches != null,\n      `No routes matched location \"${location.pathname}${location.search}${location.hash}\" `\n    );\n\n    warning(\n      matches == null ||\n        matches[matches.length - 1].route.element !== undefined ||\n        matches[matches.length - 1].route.Component !== undefined,\n      `Matched leaf route at location \"${location.pathname}${location.search}${location.hash}\" ` +\n        `does not have an element or Component. This means it will render an <Outlet /> with a ` +\n        `null value by default resulting in an \"empty\" page.`\n    );\n  }\n\n  let renderedMatches = _renderMatches(\n    matches &&\n      matches.map((match) =>\n        Object.assign({}, match, {\n          params: Object.assign({}, parentParams, match.params),\n          pathname: joinPaths([\n            parentPathnameBase,\n            // Re-encode pathnames that were decoded inside matchRoutes\n            navigator.encodeLocation\n              ? navigator.encodeLocation(match.pathname).pathname\n              : match.pathname,\n          ]),\n          pathnameBase:\n            match.pathnameBase === \"/\"\n              ? parentPathnameBase\n              : joinPaths([\n                  parentPathnameBase,\n                  // Re-encode pathnames that were decoded inside matchRoutes\n                  navigator.encodeLocation\n                    ? navigator.encodeLocation(match.pathnameBase).pathname\n                    : match.pathnameBase,\n                ]),\n        })\n      ),\n    parentMatches,\n    dataRouterState\n  );\n\n  // When a user passes in a `locationArg`, the associated routes need to\n  // be wrapped in a new `LocationContext.Provider` in order for `useLocation`\n  // to use the scoped location instead of the global location.\n  if (locationArg && renderedMatches) {\n    return (\n      <LocationContext.Provider\n        value={{\n          location: {\n            pathname: \"/\",\n            search: \"\",\n            hash: \"\",\n            state: null,\n            key: \"default\",\n            ...location,\n          },\n          navigationType: NavigationType.Pop,\n        }}\n      >\n        {renderedMatches}\n      </LocationContext.Provider>\n    );\n  }\n\n  return renderedMatches;\n}\n\nfunction DefaultErrorComponent() {\n  let error = useRouteError();\n  let message = isRouteErrorResponse(error)\n    ? `${error.status} ${error.statusText}`\n    : error instanceof Error\n    ? error.message\n    : JSON.stringify(error);\n  let stack = error instanceof Error ? error.stack : null;\n  let lightgrey = \"rgba(200,200,200, 0.5)\";\n  let preStyles = { padding: \"0.5rem\", backgroundColor: lightgrey };\n  let codeStyles = { padding: \"2px 4px\", backgroundColor: lightgrey };\n\n  let devInfo = null;\n  if (__DEV__) {\n    console.error(\n      \"Error handled by React Router default ErrorBoundary:\",\n      error\n    );\n\n    devInfo = (\n      <>\n        <p> Hey developer </p>\n        <p>\n          You can provide a way better UX than this when your app throws errors\n          by providing your own <code style={codeStyles}>ErrorBoundary</code> or{\" \"}\n          <code style={codeStyles}>errorElement</code> prop on your route.\n        </p>\n      </>\n    );\n  }\n\n  return (\n    <>\n      <h2>Unexpected Application Error!</h2>\n      <h3 style={{ fontStyle: \"italic\" }}>{message}</h3>\n      {stack ? <pre style={preStyles}>{stack}</pre> : null}\n      {devInfo}\n    </>\n  );\n}\n\nconst defaultErrorElement = <DefaultErrorComponent />;\n\ntype RenderErrorBoundaryProps = React.PropsWithChildren<{\n  location: Location;\n  revalidation: RevalidationState;\n  error: any;\n  component: React.ReactNode;\n  routeContext: RouteContextObject;\n}>;\n\ntype RenderErrorBoundaryState = {\n  location: Location;\n  revalidation: RevalidationState;\n  error: any;\n};\n\nexport class RenderErrorBoundary extends React.Component<\n  RenderErrorBoundaryProps,\n  RenderErrorBoundaryState\n> {\n  constructor(props: RenderErrorBoundaryProps) {\n    super(props);\n    this.state = {\n      location: props.location,\n      revalidation: props.revalidation,\n      error: props.error,\n    };\n  }\n\n  static getDerivedStateFromError(error: any) {\n    return { error: error };\n  }\n\n  static getDerivedStateFromProps(\n    props: RenderErrorBoundaryProps,\n    state: RenderErrorBoundaryState\n  ) {\n    // When we get into an error state, the user will likely click \"back\" to the\n    // previous page that didn't have an error. Because this wraps the entire\n    // application, that will have no effect--the error page continues to display.\n    // This gives us a mechanism to recover from the error when the location changes.\n    //\n    // Whether we're in an error state or not, we update the location in state\n    // so that when we are in an error state, it gets reset when a new location\n    // comes in and the user recovers from the error.\n    if (\n      state.location !== props.location ||\n      (state.revalidation !== \"idle\" && props.revalidation === \"idle\")\n    ) {\n      return {\n        error: props.error,\n        location: props.location,\n        revalidation: props.revalidation,\n      };\n    }\n\n    // If we're not changing locations, preserve the location but still surface\n    // any new errors that may come through. We retain the existing error, we do\n    // this because the error provided from the app state may be cleared without\n    // the location changing.\n    return {\n      error: props.error || state.error,\n      location: state.location,\n      revalidation: props.revalidation || state.revalidation,\n    };\n  }\n\n  componentDidCatch(error: any, errorInfo: any) {\n    console.error(\n      \"React Router caught the following error during render\",\n      error,\n      errorInfo\n    );\n  }\n\n  render() {\n    return this.state.error ? (\n      <RouteContext.Provider value={this.props.routeContext}>\n        <RouteErrorContext.Provider\n          value={this.state.error}\n          children={this.props.component}\n        />\n      </RouteContext.Provider>\n    ) : (\n      this.props.children\n    );\n  }\n}\n\ninterface RenderedRouteProps {\n  routeContext: RouteContextObject;\n  match: RouteMatch<string, RouteObject>;\n  children: React.ReactNode | null;\n}\n\nfunction RenderedRoute({ routeContext, match, children }: RenderedRouteProps) {\n  let dataRouterContext = React.useContext(DataRouterContext);\n\n  // Track how deep we got in our render pass to emulate SSR componentDidCatch\n  // in a DataStaticRouter\n  if (\n    dataRouterContext &&\n    dataRouterContext.static &&\n    dataRouterContext.staticContext &&\n    (match.route.errorElement || match.route.ErrorBoundary)\n  ) {\n    dataRouterContext.staticContext._deepestRenderedBoundaryId = match.route.id;\n  }\n\n  return (\n    <RouteContext.Provider value={routeContext}>\n      {children}\n    </RouteContext.Provider>\n  );\n}\n\nexport function _renderMatches(\n  matches: RouteMatch[] | null,\n  parentMatches: RouteMatch[] = [],\n  dataRouterState: RemixRouter[\"state\"] | null = null\n): React.ReactElement | null {\n  if (matches == null) {\n    if (dataRouterState?.errors) {\n      // Don't bail if we have data router errors so we can render them in the\n      // boundary.  Use the pre-matched (or shimmed) matches\n      matches = dataRouterState.matches as DataRouteMatch[];\n    } else {\n      return null;\n    }\n  }\n\n  let renderedMatches = matches;\n\n  // If we have data errors, trim matches to the highest error boundary\n  let errors = dataRouterState?.errors;\n  if (errors != null) {\n    let errorIndex = renderedMatches.findIndex(\n      (m) => m.route.id && errors?.[m.route.id]\n    );\n    invariant(\n      errorIndex >= 0,\n      `Could not find a matching route for errors on route IDs: ${Object.keys(\n        errors\n      ).join(\",\")}`\n    );\n    renderedMatches = renderedMatches.slice(\n      0,\n      Math.min(renderedMatches.length, errorIndex + 1)\n    );\n  }\n\n  return renderedMatches.reduceRight((outlet, match, index) => {\n    let error = match.route.id ? errors?.[match.route.id] : null;\n    // Only data routers handle errors\n    let errorElement: React.ReactNode | null = null;\n    if (dataRouterState) {\n      errorElement = match.route.errorElement || defaultErrorElement;\n    }\n    let matches = parentMatches.concat(renderedMatches.slice(0, index + 1));\n    let getChildren = () => {\n      let children: React.ReactNode;\n      if (error) {\n        children = errorElement;\n      } else if (match.route.Component) {\n        // Note: This is a de-optimized path since React won't re-use the\n        // ReactElement since it's identity changes with each new\n        // React.createElement call.  We keep this so folks can use\n        // `<Route Component={...}>` in `<Routes>` but generally `Component`\n        // usage is only advised in `RouterProvider` when we can convert it to\n        // `element` ahead of time.\n        children = <match.route.Component />;\n      } else if (match.route.element) {\n        children = match.route.element;\n      } else {\n        children = outlet;\n      }\n      return (\n        <RenderedRoute\n          match={match}\n          routeContext={{\n            outlet,\n            matches,\n            isDataRoute: dataRouterState != null,\n          }}\n          children={children}\n        />\n      );\n    };\n    // Only wrap in an error boundary within data router usages when we have an\n    // ErrorBoundary/errorElement on this route.  Otherwise let it bubble up to\n    // an ancestor ErrorBoundary/errorElement\n    return dataRouterState &&\n      (match.route.ErrorBoundary || match.route.errorElement || index === 0) ? (\n      <RenderErrorBoundary\n        location={dataRouterState.location}\n        revalidation={dataRouterState.revalidation}\n        component={errorElement}\n        error={error}\n        children={getChildren()}\n        routeContext={{ outlet: null, matches, isDataRoute: true }}\n      />\n    ) : (\n      getChildren()\n    );\n  }, null as React.ReactElement | null);\n}\n\nenum DataRouterHook {\n  UseBlocker = \"useBlocker\",\n  UseRevalidator = \"useRevalidator\",\n  UseNavigateStable = \"useNavigate\",\n}\n\nenum DataRouterStateHook {\n  UseBlocker = \"useBlocker\",\n  UseLoaderData = \"useLoaderData\",\n  UseActionData = \"useActionData\",\n  UseRouteError = \"useRouteError\",\n  UseNavigation = \"useNavigation\",\n  UseRouteLoaderData = \"useRouteLoaderData\",\n  UseMatches = \"useMatches\",\n  UseRevalidator = \"useRevalidator\",\n  UseNavigateStable = \"useNavigate\",\n  UseRouteId = \"useRouteId\",\n}\n\nfunction getDataRouterConsoleError(\n  hookName: DataRouterHook | DataRouterStateHook\n) {\n  return `${hookName} must be used within a data router.  See https://reactrouter.com/routers/picking-a-router.`;\n}\n\nfunction useDataRouterContext(hookName: DataRouterHook) {\n  let ctx = React.useContext(DataRouterContext);\n  invariant(ctx, getDataRouterConsoleError(hookName));\n  return ctx;\n}\n\nfunction useDataRouterState(hookName: DataRouterStateHook) {\n  let state = React.useContext(DataRouterStateContext);\n  invariant(state, getDataRouterConsoleError(hookName));\n  return state;\n}\n\nfunction useRouteContext(hookName: DataRouterStateHook) {\n  let route = React.useContext(RouteContext);\n  invariant(route, getDataRouterConsoleError(hookName));\n  return route;\n}\n\n// Internal version with hookName-aware debugging\nfunction useCurrentRouteId(hookName: DataRouterStateHook) {\n  let route = useRouteContext(hookName);\n  let thisRoute = route.matches[route.matches.length - 1];\n  invariant(\n    thisRoute.route.id,\n    `${hookName} can only be used on routes that contain a unique \"id\"`\n  );\n  return thisRoute.route.id;\n}\n\n/**\n * Returns the ID for the nearest contextual route\n */\nexport function useRouteId() {\n  return useCurrentRouteId(DataRouterStateHook.UseRouteId);\n}\n\n/**\n * Returns the current navigation, defaulting to an \"idle\" navigation when\n * no navigation is in progress\n */\nexport function useNavigation() {\n  let state = useDataRouterState(DataRouterStateHook.UseNavigation);\n  return state.navigation;\n}\n\n/**\n * Returns a revalidate function for manually triggering revalidation, as well\n * as the current state of any manual revalidations\n */\nexport function useRevalidator() {\n  let dataRouterContext = useDataRouterContext(DataRouterHook.UseRevalidator);\n  let state = useDataRouterState(DataRouterStateHook.UseRevalidator);\n  return React.useMemo(\n    () => ({\n      revalidate: dataRouterContext.router.revalidate,\n      state: state.revalidation,\n    }),\n    [dataRouterContext.router.revalidate, state.revalidation]\n  );\n}\n\n/**\n * Returns the active route matches, useful for accessing loaderData for\n * parent/child routes or the route \"handle\" property\n */\nexport function useMatches() {\n  let { matches, loaderData } = useDataRouterState(\n    DataRouterStateHook.UseMatches\n  );\n  return React.useMemo(\n    () =>\n      matches.map((match) => {\n        let { pathname, params } = match;\n        // Note: This structure matches that created by createUseMatchesMatch\n        // in the @remix-run/router , so if you change this please also change\n        // that :)  Eventually we'll DRY this up\n        return {\n          id: match.route.id,\n          pathname,\n          params,\n          data: loaderData[match.route.id] as unknown,\n          handle: match.route.handle as unknown,\n        };\n      }),\n    [matches, loaderData]\n  );\n}\n\n/**\n * Returns the loader data for the nearest ancestor Route loader\n */\nexport function useLoaderData(): unknown {\n  let state = useDataRouterState(DataRouterStateHook.UseLoaderData);\n  let routeId = useCurrentRouteId(DataRouterStateHook.UseLoaderData);\n\n  if (state.errors && state.errors[routeId] != null) {\n    console.error(\n      `You cannot \\`useLoaderData\\` in an errorElement (routeId: ${routeId})`\n    );\n    return undefined;\n  }\n  return state.loaderData[routeId];\n}\n\n/**\n * Returns the loaderData for the given routeId\n */\nexport function useRouteLoaderData(routeId: string): unknown {\n  let state = useDataRouterState(DataRouterStateHook.UseRouteLoaderData);\n  return state.loaderData[routeId];\n}\n\n/**\n * Returns the action data for the nearest ancestor Route action\n */\nexport function useActionData(): unknown {\n  let state = useDataRouterState(DataRouterStateHook.UseActionData);\n\n  let route = React.useContext(RouteContext);\n  invariant(route, `useActionData must be used inside a RouteContext`);\n\n  return Object.values(state?.actionData || {})[0];\n}\n\n/**\n * Returns the nearest ancestor Route error, which could be a loader/action\n * error or a render error.  This is intended to be called from your\n * ErrorBoundary/errorElement to display a proper error message.\n */\nexport function useRouteError(): unknown {\n  let error = React.useContext(RouteErrorContext);\n  let state = useDataRouterState(DataRouterStateHook.UseRouteError);\n  let routeId = useCurrentRouteId(DataRouterStateHook.UseRouteError);\n\n  // If this was a render error, we put it in a RouteError context inside\n  // of RenderErrorBoundary\n  if (error) {\n    return error;\n  }\n\n  // Otherwise look for errors from our data router state\n  return state.errors?.[routeId];\n}\n\n/**\n * Returns the happy-path data from the nearest ancestor <Await /> value\n */\nexport function useAsyncValue(): unknown {\n  let value = React.useContext(AwaitContext);\n  return value?._data;\n}\n\n/**\n * Returns the error from the nearest ancestor <Await /> value\n */\nexport function useAsyncError(): unknown {\n  let value = React.useContext(AwaitContext);\n  return value?._error;\n}\n\nlet blockerId = 0;\n\n/**\n * Allow the application to block navigations within the SPA and present the\n * user a confirmation dialog to confirm the navigation.  Mostly used to avoid\n * using half-filled form data.  This does not handle hard-reloads or\n * cross-origin navigations.\n */\nexport function useBlocker(shouldBlock: boolean | BlockerFunction): Blocker {\n  let { router, basename } = useDataRouterContext(DataRouterHook.UseBlocker);\n  let state = useDataRouterState(DataRouterStateHook.UseBlocker);\n\n  let [blockerKey, setBlockerKey] = React.useState(\"\");\n  let blockerFunction = React.useCallback<BlockerFunction>(\n    (arg) => {\n      if (typeof shouldBlock !== \"function\") {\n        return !!shouldBlock;\n      }\n      if (basename === \"/\") {\n        return shouldBlock(arg);\n      }\n\n      // If they provided us a function and we've got an active basename, strip\n      // it from the locations we expose to the user to match the behavior of\n      // useLocation\n      let { currentLocation, nextLocation, historyAction } = arg;\n      return shouldBlock({\n        currentLocation: {\n          ...currentLocation,\n          pathname:\n            stripBasename(currentLocation.pathname, basename) ||\n            currentLocation.pathname,\n        },\n        nextLocation: {\n          ...nextLocation,\n          pathname:\n            stripBasename(nextLocation.pathname, basename) ||\n            nextLocation.pathname,\n        },\n        historyAction,\n      });\n    },\n    [basename, shouldBlock]\n  );\n\n  // This effect is in charge of blocker key assignment and deletion (which is\n  // tightly coupled to the key)\n  React.useEffect(() => {\n    let key = String(++blockerId);\n    setBlockerKey(key);\n    return () => router.deleteBlocker(key);\n  }, [router]);\n\n  // This effect handles assigning the blockerFunction.  This is to handle\n  // unstable blocker function identities, and happens only after the prior\n  // effect so we don't get an orphaned blockerFunction in the router with a\n  // key of \"\".  Until then we just have the IDLE_BLOCKER.\n  React.useEffect(() => {\n    if (blockerKey !== \"\") {\n      router.getBlocker(blockerKey, blockerFunction);\n    }\n  }, [router, blockerKey, blockerFunction]);\n\n  // Prefer the blocker from `state` not `router.state` since DataRouterContext\n  // is memoized so this ensures we update on blocker state updates\n  return blockerKey && state.blockers.has(blockerKey)\n    ? state.blockers.get(blockerKey)!\n    : IDLE_BLOCKER;\n}\n\n/**\n * Stable version of useNavigate that is used when we are in the context of\n * a RouterProvider.\n */\nfunction useNavigateStable(): NavigateFunction {\n  let { router } = useDataRouterContext(DataRouterHook.UseNavigateStable);\n  let id = useCurrentRouteId(DataRouterStateHook.UseNavigateStable);\n\n  let activeRef = React.useRef(false);\n  useIsomorphicLayoutEffect(() => {\n    activeRef.current = true;\n  });\n\n  let navigate: NavigateFunction = React.useCallback(\n    (to: To | number, options: NavigateOptions = {}) => {\n      warning(activeRef.current, navigateEffectWarning);\n\n      // Short circuit here since if this happens on first render the navigate\n      // is useless because we haven't wired up our router subscriber yet\n      if (!activeRef.current) return;\n\n      if (typeof to === \"number\") {\n        router.navigate(to);\n      } else {\n        router.navigate(to, { fromRouteId: id, ...options });\n      }\n    },\n    [router, id]\n  );\n\n  return navigate;\n}\n\nconst alreadyWarned: Record<string, boolean> = {};\n\nfunction warningOnce(key: string, cond: boolean, message: string) {\n  if (!cond && !alreadyWarned[key]) {\n    alreadyWarned[key] = true;\n    warning(false, message);\n  }\n}\n","import * as React from \"react\";\nimport type {\n  TrackedPromise,\n  InitialEntry,\n  Location,\n  MemoryHistory,\n  Router as RemixRouter,\n  To,\n  LazyRouteFunction,\n  RelativeRoutingType,\n  RouterState,\n} from \"@remix-run/router\";\nimport {\n  Action as NavigationType,\n  AbortedDeferredError,\n  createMemoryHistory,\n  UNSAFE_invariant as invariant,\n  parsePath,\n  resolveTo,\n  stripBasename,\n  UNSAFE_warning as warning,\n  UNSAFE_getPathContributingMatches as getPathContributingMatches,\n} from \"@remix-run/router\";\n\nimport type {\n  DataRouteObject,\n  IndexRouteObject,\n  RouteMatch,\n  RouteObject,\n  Navigator,\n  NonIndexRouteObject,\n} from \"./context\";\nimport {\n  LocationContext,\n  NavigationContext,\n  DataRouterContext,\n  DataRouterStateContext,\n  AwaitContext,\n  RouteContext,\n} from \"./context\";\nimport {\n  useAsyncValue,\n  useInRouterContext,\n  useNavigate,\n  useOutlet,\n  useRoutes,\n  _renderMatches,\n  useRoutesImpl,\n  useLocation,\n} from \"./hooks\";\n\nexport interface FutureConfig {\n  v7_startTransition: boolean;\n}\n\nexport interface RouterProviderProps {\n  fallbackElement?: React.ReactNode;\n  router: RemixRouter;\n  future?: FutureConfig;\n}\n\n/**\n  Webpack + React 17 fails to compile on any of the following because webpack\n  complains that `startTransition` doesn't exist in `React`:\n  * import { startTransition } from \"react\"\n  * import * as React from from \"react\";\n    \"startTransition\" in React ? React.startTransition(() => setState()) : setState()\n  * import * as React from from \"react\";\n    \"startTransition\" in React ? React[\"startTransition\"](() => setState()) : setState()\n\n  Moving it to a constant such as the following solves the Webpack/React 17 issue:\n  * import * as React from from \"react\";\n    const START_TRANSITION = \"startTransition\";\n    START_TRANSITION in React ? React[START_TRANSITION](() => setState()) : setState()\n\n  However, that introduces webpack/terser minification issues in production builds\n  in React 18 where minification/obfuscation ends up removing the call of\n  React.startTransition entirely from the first half of the ternary.  Grabbing\n  this exported reference once up front resolves that issue.\n\n  See https://github.com/remix-run/react-router/issues/10579\n*/\nconst START_TRANSITION = \"startTransition\";\nconst startTransitionImpl = React[START_TRANSITION];\n\n/**\n * Given a Remix Router instance, render the appropriate UI\n */\nexport function RouterProvider({\n  fallbackElement,\n  router,\n  future,\n}: RouterProviderProps): React.ReactElement {\n  // Need to use a layout effect here so we are subscribed early enough to\n  // pick up on any render-driven redirects/navigations (useEffect/<Navigate>)\n  let [state, setStateImpl] = React.useState(router.state);\n  let { v7_startTransition } = future || {};\n  let setState = React.useCallback(\n    (newState: RouterState) => {\n      v7_startTransition && startTransitionImpl\n        ? startTransitionImpl(() => setStateImpl(newState))\n        : setStateImpl(newState);\n    },\n    [setStateImpl, v7_startTransition]\n  );\n  React.useLayoutEffect(() => router.subscribe(setState), [router, setState]);\n\n  let navigator = React.useMemo((): Navigator => {\n    return {\n      createHref: router.createHref,\n      encodeLocation: router.encodeLocation,\n      go: (n) => router.navigate(n),\n      push: (to, state, opts) =>\n        router.navigate(to, {\n          state,\n          preventScrollReset: opts?.preventScrollReset,\n        }),\n      replace: (to, state, opts) =>\n        router.navigate(to, {\n          replace: true,\n          state,\n          preventScrollReset: opts?.preventScrollReset,\n        }),\n    };\n  }, [router]);\n\n  let basename = router.basename || \"/\";\n\n  let dataRouterContext = React.useMemo(\n    () => ({\n      router,\n      navigator,\n      static: false,\n      basename,\n    }),\n    [router, navigator, basename]\n  );\n\n  // The fragment and {null} here are important!  We need them to keep React 18's\n  // useId happy when we are server-rendering since we may have a <script> here\n  // containing the hydrated server-side staticContext (from StaticRouterProvider).\n  // useId relies on the component tree structure to generate deterministic id's\n  // so we need to ensure it remains the same on the client even though\n  // we don't need the <script> tag\n  return (\n    <>\n      <DataRouterContext.Provider value={dataRouterContext}>\n        <DataRouterStateContext.Provider value={state}>\n          <Router\n            basename={basename}\n            location={state.location}\n            navigationType={state.historyAction}\n            navigator={navigator}\n          >\n            {state.initialized ? (\n              <DataRoutes routes={router.routes} state={state} />\n            ) : (\n              fallbackElement\n            )}\n          </Router>\n        </DataRouterStateContext.Provider>\n      </DataRouterContext.Provider>\n      {null}\n    </>\n  );\n}\n\nfunction DataRoutes({\n  routes,\n  state,\n}: {\n  routes: DataRouteObject[];\n  state: RouterState;\n}): React.ReactElement | null {\n  return useRoutesImpl(routes, undefined, state);\n}\n\nexport interface MemoryRouterProps {\n  basename?: string;\n  children?: React.ReactNode;\n  initialEntries?: InitialEntry[];\n  initialIndex?: number;\n  future?: FutureConfig;\n}\n\n/**\n * A <Router> that stores all entries in memory.\n *\n * @see https://reactrouter.com/router-components/memory-router\n */\nexport function MemoryRouter({\n  basename,\n  children,\n  initialEntries,\n  initialIndex,\n  future,\n}: MemoryRouterProps): React.ReactElement {\n  let historyRef = React.useRef<MemoryHistory>();\n  if (historyRef.current == null) {\n    historyRef.current = createMemoryHistory({\n      initialEntries,\n      initialIndex,\n      v5Compat: true,\n    });\n  }\n\n  let history = historyRef.current;\n  let [state, setStateImpl] = React.useState({\n    action: history.action,\n    location: history.location,\n  });\n  let { v7_startTransition } = future || {};\n  let setState = React.useCallback(\n    (newState: { action: NavigationType; location: Location }) => {\n      v7_startTransition && startTransitionImpl\n        ? startTransitionImpl(() => setStateImpl(newState))\n        : setStateImpl(newState);\n    },\n    [setStateImpl, v7_startTransition]\n  );\n\n  React.useLayoutEffect(() => history.listen(setState), [history, setState]);\n\n  return (\n    <Router\n      basename={basename}\n      children={children}\n      location={state.location}\n      navigationType={state.action}\n      navigator={history}\n    />\n  );\n}\n\nexport interface NavigateProps {\n  to: To;\n  replace?: boolean;\n  state?: any;\n  relative?: RelativeRoutingType;\n}\n\n/**\n * Changes the current location.\n *\n * Note: This API is mostly useful in React.Component subclasses that are not\n * able to use hooks. In functional components, we recommend you use the\n * `useNavigate` hook instead.\n *\n * @see https://reactrouter.com/components/navigate\n */\nexport function Navigate({\n  to,\n  replace,\n  state,\n  relative,\n}: NavigateProps): null {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of\n    // the router loaded. We can help them understand how to avoid that.\n    `<Navigate> may be used only in the context of a <Router> component.`\n  );\n\n  warning(\n    !React.useContext(NavigationContext).static,\n    `<Navigate> must not be used on the initial render in a <StaticRouter>. ` +\n      `This is a no-op, but you should modify your code so the <Navigate> is ` +\n      `only ever rendered in response to some user interaction or state change.`\n  );\n\n  let { matches } = React.useContext(RouteContext);\n  let { pathname: locationPathname } = useLocation();\n  let navigate = useNavigate();\n\n  // Resolve the path outside of the effect so that when effects run twice in\n  // StrictMode they navigate to the same place\n  let path = resolveTo(\n    to,\n    getPathContributingMatches(matches).map((match) => match.pathnameBase),\n    locationPathname,\n    relative === \"path\"\n  );\n  let jsonPath = JSON.stringify(path);\n\n  React.useEffect(\n    () => navigate(JSON.parse(jsonPath), { replace, state, relative }),\n    [navigate, jsonPath, relative, replace, state]\n  );\n\n  return null;\n}\n\nexport interface OutletProps {\n  context?: unknown;\n}\n\n/**\n * Renders the child route's element, if there is one.\n *\n * @see https://reactrouter.com/components/outlet\n */\nexport function Outlet(props: OutletProps): React.ReactElement | null {\n  return useOutlet(props.context);\n}\n\nexport interface PathRouteProps {\n  caseSensitive?: NonIndexRouteObject[\"caseSensitive\"];\n  path?: NonIndexRouteObject[\"path\"];\n  id?: NonIndexRouteObject[\"id\"];\n  lazy?: LazyRouteFunction<NonIndexRouteObject>;\n  loader?: NonIndexRouteObject[\"loader\"];\n  action?: NonIndexRouteObject[\"action\"];\n  hasErrorBoundary?: NonIndexRouteObject[\"hasErrorBoundary\"];\n  shouldRevalidate?: NonIndexRouteObject[\"shouldRevalidate\"];\n  handle?: NonIndexRouteObject[\"handle\"];\n  index?: false;\n  children?: React.ReactNode;\n  element?: React.ReactNode | null;\n  errorElement?: React.ReactNode | null;\n  Component?: React.ComponentType | null;\n  ErrorBoundary?: React.ComponentType | null;\n}\n\nexport interface LayoutRouteProps extends PathRouteProps {}\n\nexport interface IndexRouteProps {\n  caseSensitive?: IndexRouteObject[\"caseSensitive\"];\n  path?: IndexRouteObject[\"path\"];\n  id?: IndexRouteObject[\"id\"];\n  lazy?: LazyRouteFunction<IndexRouteObject>;\n  loader?: IndexRouteObject[\"loader\"];\n  action?: IndexRouteObject[\"action\"];\n  hasErrorBoundary?: IndexRouteObject[\"hasErrorBoundary\"];\n  shouldRevalidate?: IndexRouteObject[\"shouldRevalidate\"];\n  handle?: IndexRouteObject[\"handle\"];\n  index: true;\n  children?: undefined;\n  element?: React.ReactNode | null;\n  errorElement?: React.ReactNode | null;\n  Component?: React.ComponentType | null;\n  ErrorBoundary?: React.ComponentType | null;\n}\n\nexport type RouteProps = PathRouteProps | LayoutRouteProps | IndexRouteProps;\n\n/**\n * Declares an element that should be rendered at a certain URL path.\n *\n * @see https://reactrouter.com/components/route\n */\nexport function Route(_props: RouteProps): React.ReactElement | null {\n  invariant(\n    false,\n    `A <Route> is only ever to be used as the child of <Routes> element, ` +\n      `never rendered directly. Please wrap your <Route> in a <Routes>.`\n  );\n}\n\nexport interface RouterProps {\n  basename?: string;\n  children?: React.ReactNode;\n  location: Partial<Location> | string;\n  navigationType?: NavigationType;\n  navigator: Navigator;\n  static?: boolean;\n}\n\n/**\n * Provides location context for the rest of the app.\n *\n * Note: You usually won't render a <Router> directly. Instead, you'll render a\n * router that is more specific to your environment such as a <BrowserRouter>\n * in web browsers or a <StaticRouter> for server rendering.\n *\n * @see https://reactrouter.com/router-components/router\n */\nexport function Router({\n  basename: basenameProp = \"/\",\n  children = null,\n  location: locationProp,\n  navigationType = NavigationType.Pop,\n  navigator,\n  static: staticProp = false,\n}: RouterProps): React.ReactElement | null {\n  invariant(\n    !useInRouterContext(),\n    `You cannot render a <Router> inside another <Router>.` +\n      ` You should never have more than one in your app.`\n  );\n\n  // Preserve trailing slashes on basename, so we can let the user control\n  // the enforcement of trailing slashes throughout the app\n  let basename = basenameProp.replace(/^\\/*/, \"/\");\n  let navigationContext = React.useMemo(\n    () => ({ basename, navigator, static: staticProp }),\n    [basename, navigator, staticProp]\n  );\n\n  if (typeof locationProp === \"string\") {\n    locationProp = parsePath(locationProp);\n  }\n\n  let {\n    pathname = \"/\",\n    search = \"\",\n    hash = \"\",\n    state = null,\n    key = \"default\",\n  } = locationProp;\n\n  let locationContext = React.useMemo(() => {\n    let trailingPathname = stripBasename(pathname, basename);\n\n    if (trailingPathname == null) {\n      return null;\n    }\n\n    return {\n      location: {\n        pathname: trailingPathname,\n        search,\n        hash,\n        state,\n        key,\n      },\n      navigationType,\n    };\n  }, [basename, pathname, search, hash, state, key, navigationType]);\n\n  warning(\n    locationContext != null,\n    `<Router basename=\"${basename}\"> is not able to match the URL ` +\n      `\"${pathname}${search}${hash}\" because it does not start with the ` +\n      `basename, so the <Router> won't render anything.`\n  );\n\n  if (locationContext == null) {\n    return null;\n  }\n\n  return (\n    <NavigationContext.Provider value={navigationContext}>\n      <LocationContext.Provider children={children} value={locationContext} />\n    </NavigationContext.Provider>\n  );\n}\n\nexport interface RoutesProps {\n  children?: React.ReactNode;\n  location?: Partial<Location> | string;\n}\n\n/**\n * A container for a nested tree of <Route> elements that renders the branch\n * that best matches the current location.\n *\n * @see https://reactrouter.com/components/routes\n */\nexport function Routes({\n  children,\n  location,\n}: RoutesProps): React.ReactElement | null {\n  return useRoutes(createRoutesFromChildren(children), location);\n}\n\nexport interface AwaitResolveRenderFunction {\n  (data: Awaited<any>): React.ReactNode;\n}\n\nexport interface AwaitProps {\n  children: React.ReactNode | AwaitResolveRenderFunction;\n  errorElement?: React.ReactNode;\n  resolve: TrackedPromise | any;\n}\n\n/**\n * Component to use for rendering lazily loaded data from returning defer()\n * in a loader function\n */\nexport function Await({ children, errorElement, resolve }: AwaitProps) {\n  return (\n    <AwaitErrorBoundary resolve={resolve} errorElement={errorElement}>\n      <ResolveAwait>{children}</ResolveAwait>\n    </AwaitErrorBoundary>\n  );\n}\n\ntype AwaitErrorBoundaryProps = React.PropsWithChildren<{\n  errorElement?: React.ReactNode;\n  resolve: TrackedPromise | any;\n}>;\n\ntype AwaitErrorBoundaryState = {\n  error: any;\n};\n\nenum AwaitRenderStatus {\n  pending,\n  success,\n  error,\n}\n\nconst neverSettledPromise = new Promise(() => {});\n\nclass AwaitErrorBoundary extends React.Component<\n  AwaitErrorBoundaryProps,\n  AwaitErrorBoundaryState\n> {\n  constructor(props: AwaitErrorBoundaryProps) {\n    super(props);\n    this.state = { error: null };\n  }\n\n  static getDerivedStateFromError(error: any) {\n    return { error };\n  }\n\n  componentDidCatch(error: any, errorInfo: any) {\n    console.error(\n      \"<Await> caught the following error during render\",\n      error,\n      errorInfo\n    );\n  }\n\n  render() {\n    let { children, errorElement, resolve } = this.props;\n\n    let promise: TrackedPromise | null = null;\n    let status: AwaitRenderStatus = AwaitRenderStatus.pending;\n\n    if (!(resolve instanceof Promise)) {\n      // Didn't get a promise - provide as a resolved promise\n      status = AwaitRenderStatus.success;\n      promise = Promise.resolve();\n      Object.defineProperty(promise, \"_tracked\", { get: () => true });\n      Object.defineProperty(promise, \"_data\", { get: () => resolve });\n    } else if (this.state.error) {\n      // Caught a render error, provide it as a rejected promise\n      status = AwaitRenderStatus.error;\n      let renderError = this.state.error;\n      promise = Promise.reject().catch(() => {}); // Avoid unhandled rejection warnings\n      Object.defineProperty(promise, \"_tracked\", { get: () => true });\n      Object.defineProperty(promise, \"_error\", { get: () => renderError });\n    } else if ((resolve as TrackedPromise)._tracked) {\n      // Already tracked promise - check contents\n      promise = resolve;\n      status =\n        promise._error !== undefined\n          ? AwaitRenderStatus.error\n          : promise._data !== undefined\n          ? AwaitRenderStatus.success\n          : AwaitRenderStatus.pending;\n    } else {\n      // Raw (untracked) promise - track it\n      status = AwaitRenderStatus.pending;\n      Object.defineProperty(resolve, \"_tracked\", { get: () => true });\n      promise = resolve.then(\n        (data: any) =>\n          Object.defineProperty(resolve, \"_data\", { get: () => data }),\n        (error: any) =>\n          Object.defineProperty(resolve, \"_error\", { get: () => error })\n      );\n    }\n\n    if (\n      status === AwaitRenderStatus.error &&\n      promise._error instanceof AbortedDeferredError\n    ) {\n      // Freeze the UI by throwing a never resolved promise\n      throw neverSettledPromise;\n    }\n\n    if (status === AwaitRenderStatus.error && !errorElement) {\n      // No errorElement, throw to the nearest route-level error boundary\n      throw promise._error;\n    }\n\n    if (status === AwaitRenderStatus.error) {\n      // Render via our errorElement\n      return <AwaitContext.Provider value={promise} children={errorElement} />;\n    }\n\n    if (status === AwaitRenderStatus.success) {\n      // Render children with resolved value\n      return <AwaitContext.Provider value={promise} children={children} />;\n    }\n\n    // Throw to the suspense boundary\n    throw promise;\n  }\n}\n\n/**\n * @private\n * Indirection to leverage useAsyncValue for a render-prop API on <Await>\n */\nfunction ResolveAwait({\n  children,\n}: {\n  children: React.ReactNode | AwaitResolveRenderFunction;\n}) {\n  let data = useAsyncValue();\n  let toRender = typeof children === \"function\" ? children(data) : children;\n  return <>{toRender}</>;\n}\n\n///////////////////////////////////////////////////////////////////////////////\n// UTILS\n///////////////////////////////////////////////////////////////////////////////\n\n/**\n * Creates a route config from a React \"children\" object, which is usually\n * either a `<Route>` element or an array of them. Used internally by\n * `<Routes>` to create a route config from its children.\n *\n * @see https://reactrouter.com/utils/create-routes-from-children\n */\nexport function createRoutesFromChildren(\n  children: React.ReactNode,\n  parentPath: number[] = []\n): RouteObject[] {\n  let routes: RouteObject[] = [];\n\n  React.Children.forEach(children, (element, index) => {\n    if (!React.isValidElement(element)) {\n      // Ignore non-elements. This allows people to more easily inline\n      // conditionals in their route config.\n      return;\n    }\n\n    let treePath = [...parentPath, index];\n\n    if (element.type === React.Fragment) {\n      // Transparently support React.Fragment and its children.\n      routes.push.apply(\n        routes,\n        createRoutesFromChildren(element.props.children, treePath)\n      );\n      return;\n    }\n\n    invariant(\n      element.type === Route,\n      `[${\n        typeof element.type === \"string\" ? element.type : element.type.name\n      }] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`\n    );\n\n    invariant(\n      !element.props.index || !element.props.children,\n      \"An index route cannot have child routes.\"\n    );\n\n    let route: RouteObject = {\n      id: element.props.id || treePath.join(\"-\"),\n      caseSensitive: element.props.caseSensitive,\n      element: element.props.element,\n      Component: element.props.Component,\n      index: element.props.index,\n      path: element.props.path,\n      loader: element.props.loader,\n      action: element.props.action,\n      errorElement: element.props.errorElement,\n      ErrorBoundary: element.props.ErrorBoundary,\n      hasErrorBoundary:\n        element.props.ErrorBoundary != null ||\n        element.props.errorElement != null,\n      shouldRevalidate: element.props.shouldRevalidate,\n      handle: element.props.handle,\n      lazy: element.props.lazy,\n    };\n\n    if (element.props.children) {\n      route.children = createRoutesFromChildren(\n        element.props.children,\n        treePath\n      );\n    }\n\n    routes.push(route);\n  });\n\n  return routes;\n}\n\n/**\n * Renders the result of `matchRoutes()` into a React element.\n */\nexport function renderMatches(\n  matches: RouteMatch[] | null\n): React.ReactElement | null {\n  return _renderMatches(matches);\n}\n","import * as React from \"react\";\nimport type {\n  ActionFunction,\n  ActionFunctionArgs,\n  Blocker,\n  BlockerFunction,\n  Fetcher,\n  HydrationState,\n  JsonFunction,\n  LoaderFunction,\n  LoaderFunctionArgs,\n  Location,\n  Navigation,\n  Params,\n  ParamParseKey,\n  Path,\n  PathMatch,\n  PathPattern,\n  RedirectFunction,\n  RelativeRoutingType,\n  Router as RemixRouter,\n  ShouldRevalidateFunction,\n  To,\n  InitialEntry,\n  LazyRouteFunction,\n  FutureConfig as RouterFutureConfig,\n} from \"@remix-run/router\";\nimport {\n  AbortedDeferredError,\n  Action as NavigationType,\n  createMemoryHistory,\n  createPath,\n  createRouter,\n  defer,\n  generatePath,\n  isRouteErrorResponse,\n  json,\n  matchPath,\n  matchRoutes,\n  parsePath,\n  redirect,\n  redirectDocument,\n  resolvePath,\n  UNSAFE_warning as warning,\n} from \"@remix-run/router\";\n\nimport type {\n  AwaitProps,\n  MemoryRouterProps,\n  NavigateProps,\n  OutletProps,\n  RouteProps,\n  PathRouteProps,\n  LayoutRouteProps,\n  IndexRouteProps,\n  RouterProps,\n  RoutesProps,\n  RouterProviderProps,\n  FutureConfig,\n} from \"./lib/components\";\nimport {\n  createRoutesFromChildren,\n  renderMatches,\n  Await,\n  MemoryRouter,\n  Navigate,\n  Outlet,\n  Route,\n  Router,\n  RouterProvider,\n  Routes,\n} from \"./lib/components\";\nimport type {\n  DataRouteMatch,\n  DataRouteObject,\n  IndexRouteObject,\n  Navigator,\n  NavigateOptions,\n  NonIndexRouteObject,\n  RouteMatch,\n  RouteObject,\n} from \"./lib/context\";\nimport {\n  DataRouterContext,\n  DataRouterStateContext,\n  LocationContext,\n  NavigationContext,\n  RouteContext,\n} from \"./lib/context\";\nimport type { NavigateFunction } from \"./lib/hooks\";\nimport {\n  useBlocker,\n  useHref,\n  useInRouterContext,\n  useLocation,\n  useMatch,\n  useNavigationType,\n  useNavigate,\n  useOutlet,\n  useOutletContext,\n  useParams,\n  useResolvedPath,\n  useRoutes,\n  useActionData,\n  useAsyncError,\n  useAsyncValue,\n  useRouteId,\n  useLoaderData,\n  useMatches,\n  useNavigation,\n  useRevalidator,\n  useRouteError,\n  useRouteLoaderData,\n  useRoutesImpl,\n} from \"./lib/hooks\";\n\n// Exported for backwards compatibility, but not being used internally anymore\ntype Hash = string;\ntype Pathname = string;\ntype Search = string;\n\n// Expose react-router public API\nexport type {\n  ActionFunction,\n  ActionFunctionArgs,\n  AwaitProps,\n  Blocker as unstable_Blocker,\n  BlockerFunction as unstable_BlockerFunction,\n  DataRouteMatch,\n  DataRouteObject,\n  Fetcher,\n  FutureConfig,\n  Hash,\n  IndexRouteObject,\n  IndexRouteProps,\n  JsonFunction,\n  LazyRouteFunction,\n  LayoutRouteProps,\n  LoaderFunction,\n  LoaderFunctionArgs,\n  Location,\n  MemoryRouterProps,\n  NavigateFunction,\n  NavigateOptions,\n  NavigateProps,\n  Navigation,\n  Navigator,\n  NonIndexRouteObject,\n  OutletProps,\n  Params,\n  ParamParseKey,\n  Path,\n  PathMatch,\n  Pathname,\n  PathPattern,\n  PathRouteProps,\n  RedirectFunction,\n  RelativeRoutingType,\n  RouteMatch,\n  RouteObject,\n  RouteProps,\n  RouterProps,\n  RouterProviderProps,\n  RoutesProps,\n  Search,\n  ShouldRevalidateFunction,\n  To,\n};\nexport {\n  AbortedDeferredError,\n  Await,\n  MemoryRouter,\n  Navigate,\n  NavigationType,\n  Outlet,\n  Route,\n  Router,\n  RouterProvider,\n  Routes,\n  createPath,\n  createRoutesFromChildren,\n  createRoutesFromChildren as createRoutesFromElements,\n  defer,\n  isRouteErrorResponse,\n  generatePath,\n  json,\n  matchPath,\n  matchRoutes,\n  parsePath,\n  redirect,\n  redirectDocument,\n  renderMatches,\n  resolvePath,\n  useActionData,\n  useAsyncError,\n  useAsyncValue,\n  useBlocker as unstable_useBlocker,\n  useHref,\n  useInRouterContext,\n  useLoaderData,\n  useLocation,\n  useMatch,\n  useMatches,\n  useNavigate,\n  useNavigation,\n  useNavigationType,\n  useOutlet,\n  useOutletContext,\n  useParams,\n  useResolvedPath,\n  useRevalidator,\n  useRouteError,\n  useRouteLoaderData,\n  useRoutes,\n};\n\nfunction mapRouteProperties(route: RouteObject) {\n  let updates: Partial<RouteObject> & { hasErrorBoundary: boolean } = {\n    // Note: this check also occurs in createRoutesFromChildren so update\n    // there if you change this -- please and thank you!\n    hasErrorBoundary: route.ErrorBoundary != null || route.errorElement != null,\n  };\n\n  if (route.Component) {\n    if (__DEV__) {\n      if (route.element) {\n        warning(\n          false,\n          \"You should not include both `Component` and `element` on your route - \" +\n            \"`Component` will be used.\"\n        );\n      }\n    }\n    Object.assign(updates, {\n      element: React.createElement(route.Component),\n      Component: undefined,\n    });\n  }\n\n  if (route.ErrorBoundary) {\n    if (__DEV__) {\n      if (route.errorElement) {\n        warning(\n          false,\n          \"You should not include both `ErrorBoundary` and `errorElement` on your route - \" +\n            \"`ErrorBoundary` will be used.\"\n        );\n      }\n    }\n    Object.assign(updates, {\n      errorElement: React.createElement(route.ErrorBoundary),\n      ErrorBoundary: undefined,\n    });\n  }\n\n  return updates;\n}\n\nexport function createMemoryRouter(\n  routes: RouteObject[],\n  opts?: {\n    basename?: string;\n    future?: Partial<Omit<RouterFutureConfig, \"v7_prependBasename\">>;\n    hydrationData?: HydrationState;\n    initialEntries?: InitialEntry[];\n    initialIndex?: number;\n  }\n): RemixRouter {\n  return createRouter({\n    basename: opts?.basename,\n    future: {\n      ...opts?.future,\n      v7_prependBasename: true,\n    },\n    history: createMemoryHistory({\n      initialEntries: opts?.initialEntries,\n      initialIndex: opts?.initialIndex,\n    }),\n    hydrationData: opts?.hydrationData,\n    routes,\n    mapRouteProperties,\n  }).initialize();\n}\n\n///////////////////////////////////////////////////////////////////////////////\n// DANGER! PLEASE READ ME!\n// We provide these exports as an escape hatch in the event that you need any\n// routing data that we don't provide an explicit API for. With that said, we\n// want to cover your use case if we can, so if you feel the need to use these\n// we want to hear from you. Let us know what you're building and we'll do our\n// best to make sure we can support you!\n//\n// We consider these exports an implementation detail and do not guarantee\n// against any breaking changes, regardless of the semver release. Use with\n// extreme caution and only if you understand the consequences. Godspeed.\n///////////////////////////////////////////////////////////////////////////////\n\n/** @internal */\nexport {\n  NavigationContext as UNSAFE_NavigationContext,\n  LocationContext as UNSAFE_LocationContext,\n  RouteContext as UNSAFE_RouteContext,\n  DataRouterContext as UNSAFE_DataRouterContext,\n  DataRouterStateContext as UNSAFE_DataRouterStateContext,\n  mapRouteProperties as UNSAFE_mapRouteProperties,\n  useRouteId as UNSAFE_useRouteId,\n  useRoutesImpl as UNSAFE_useRoutesImpl,\n};\n","/**\n * @remix-run/router v1.8.0\n *\n * Copyright (c) Remix Software Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Types and Constants\n////////////////////////////////////////////////////////////////////////////////\n/**\n * Actions represent the type of change to a location value.\n */\nvar Action;\n(function (Action) {\n  /**\n   * A POP indicates a change to an arbitrary index in the history stack, such\n   * as a back or forward navigation. It does not describe the direction of the\n   * navigation, only that the current index changed.\n   *\n   * Note: This is the default action for newly created history objects.\n   */\n  Action[\"Pop\"] = \"POP\";\n  /**\n   * A PUSH indicates a new entry being added to the history stack, such as when\n   * a link is clicked and a new page loads. When this happens, all subsequent\n   * entries in the stack are lost.\n   */\n  Action[\"Push\"] = \"PUSH\";\n  /**\n   * A REPLACE indicates the entry at the current index in the history stack\n   * being replaced by a new one.\n   */\n  Action[\"Replace\"] = \"REPLACE\";\n})(Action || (Action = {}));\nconst PopStateEventType = \"popstate\";\n/**\n * Memory history stores the current location in memory. It is designed for use\n * in stateful non-browser environments like tests and React Native.\n */\nfunction createMemoryHistory(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  let {\n    initialEntries = [\"/\"],\n    initialIndex,\n    v5Compat = false\n  } = options;\n  let entries; // Declare so we can access from createMemoryLocation\n  entries = initialEntries.map((entry, index) => createMemoryLocation(entry, typeof entry === \"string\" ? null : entry.state, index === 0 ? \"default\" : undefined));\n  let index = clampIndex(initialIndex == null ? entries.length - 1 : initialIndex);\n  let action = Action.Pop;\n  let listener = null;\n  function clampIndex(n) {\n    return Math.min(Math.max(n, 0), entries.length - 1);\n  }\n  function getCurrentLocation() {\n    return entries[index];\n  }\n  function createMemoryLocation(to, state, key) {\n    if (state === void 0) {\n      state = null;\n    }\n    let location = createLocation(entries ? getCurrentLocation().pathname : \"/\", to, state, key);\n    warning(location.pathname.charAt(0) === \"/\", \"relative pathnames are not supported in memory history: \" + JSON.stringify(to));\n    return location;\n  }\n  function createHref(to) {\n    return typeof to === \"string\" ? to : createPath(to);\n  }\n  let history = {\n    get index() {\n      return index;\n    },\n    get action() {\n      return action;\n    },\n    get location() {\n      return getCurrentLocation();\n    },\n    createHref,\n    createURL(to) {\n      return new URL(createHref(to), \"http://localhost\");\n    },\n    encodeLocation(to) {\n      let path = typeof to === \"string\" ? parsePath(to) : to;\n      return {\n        pathname: path.pathname || \"\",\n        search: path.search || \"\",\n        hash: path.hash || \"\"\n      };\n    },\n    push(to, state) {\n      action = Action.Push;\n      let nextLocation = createMemoryLocation(to, state);\n      index += 1;\n      entries.splice(index, entries.length, nextLocation);\n      if (v5Compat && listener) {\n        listener({\n          action,\n          location: nextLocation,\n          delta: 1\n        });\n      }\n    },\n    replace(to, state) {\n      action = Action.Replace;\n      let nextLocation = createMemoryLocation(to, state);\n      entries[index] = nextLocation;\n      if (v5Compat && listener) {\n        listener({\n          action,\n          location: nextLocation,\n          delta: 0\n        });\n      }\n    },\n    go(delta) {\n      action = Action.Pop;\n      let nextIndex = clampIndex(index + delta);\n      let nextLocation = entries[nextIndex];\n      index = nextIndex;\n      if (listener) {\n        listener({\n          action,\n          location: nextLocation,\n          delta\n        });\n      }\n    },\n    listen(fn) {\n      listener = fn;\n      return () => {\n        listener = null;\n      };\n    }\n  };\n  return history;\n}\n/**\n * Browser history stores the location in regular URLs. This is the standard for\n * most web apps, but it requires some configuration on the server to ensure you\n * serve the same app at multiple URLs.\n *\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#createbrowserhistory\n */\nfunction createBrowserHistory(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  function createBrowserLocation(window, globalHistory) {\n    let {\n      pathname,\n      search,\n      hash\n    } = window.location;\n    return createLocation(\"\", {\n      pathname,\n      search,\n      hash\n    },\n    // state defaults to `null` because `window.history.state` does\n    globalHistory.state && globalHistory.state.usr || null, globalHistory.state && globalHistory.state.key || \"default\");\n  }\n  function createBrowserHref(window, to) {\n    return typeof to === \"string\" ? to : createPath(to);\n  }\n  return getUrlBasedHistory(createBrowserLocation, createBrowserHref, null, options);\n}\n/**\n * Hash history stores the location in window.location.hash. This makes it ideal\n * for situations where you don't want to send the location to the server for\n * some reason, either because you do cannot configure it or the URL space is\n * reserved for something else.\n *\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#createhashhistory\n */\nfunction createHashHistory(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  function createHashLocation(window, globalHistory) {\n    let {\n      pathname = \"/\",\n      search = \"\",\n      hash = \"\"\n    } = parsePath(window.location.hash.substr(1));\n    // Hash URL should always have a leading / just like window.location.pathname\n    // does, so if an app ends up at a route like /#something then we add a\n    // leading slash so all of our path-matching behaves the same as if it would\n    // in a browser router.  This is particularly important when there exists a\n    // root splat route (<Route path=\"*\">) since that matches internally against\n    // \"/*\" and we'd expect /#something to 404 in a hash router app.\n    if (!pathname.startsWith(\"/\") && !pathname.startsWith(\".\")) {\n      pathname = \"/\" + pathname;\n    }\n    return createLocation(\"\", {\n      pathname,\n      search,\n      hash\n    },\n    // state defaults to `null` because `window.history.state` does\n    globalHistory.state && globalHistory.state.usr || null, globalHistory.state && globalHistory.state.key || \"default\");\n  }\n  function createHashHref(window, to) {\n    let base = window.document.querySelector(\"base\");\n    let href = \"\";\n    if (base && base.getAttribute(\"href\")) {\n      let url = window.location.href;\n      let hashIndex = url.indexOf(\"#\");\n      href = hashIndex === -1 ? url : url.slice(0, hashIndex);\n    }\n    return href + \"#\" + (typeof to === \"string\" ? to : createPath(to));\n  }\n  function validateHashLocation(location, to) {\n    warning(location.pathname.charAt(0) === \"/\", \"relative pathnames are not supported in hash history.push(\" + JSON.stringify(to) + \")\");\n  }\n  return getUrlBasedHistory(createHashLocation, createHashHref, validateHashLocation, options);\n}\nfunction invariant(value, message) {\n  if (value === false || value === null || typeof value === \"undefined\") {\n    throw new Error(message);\n  }\n}\nfunction warning(cond, message) {\n  if (!cond) {\n    // eslint-disable-next-line no-console\n    if (typeof console !== \"undefined\") console.warn(message);\n    try {\n      // Welcome to debugging history!\n      //\n      // This error is thrown as a convenience so you can more easily\n      // find the source for a warning that appears in the console by\n      // enabling \"pause on exceptions\" in your JavaScript debugger.\n      throw new Error(message);\n      // eslint-disable-next-line no-empty\n    } catch (e) {}\n  }\n}\nfunction createKey() {\n  return Math.random().toString(36).substr(2, 8);\n}\n/**\n * For browser-based histories, we combine the state and key into an object\n */\nfunction getHistoryState(location, index) {\n  return {\n    usr: location.state,\n    key: location.key,\n    idx: index\n  };\n}\n/**\n * Creates a Location object with a unique key from the given Path\n */\nfunction createLocation(current, to, state, key) {\n  if (state === void 0) {\n    state = null;\n  }\n  let location = _extends({\n    pathname: typeof current === \"string\" ? current : current.pathname,\n    search: \"\",\n    hash: \"\"\n  }, typeof to === \"string\" ? parsePath(to) : to, {\n    state,\n    // TODO: This could be cleaned up.  push/replace should probably just take\n    // full Locations now and avoid the need to run through this flow at all\n    // But that's a pretty big refactor to the current test suite so going to\n    // keep as is for the time being and just let any incoming keys take precedence\n    key: to && to.key || key || createKey()\n  });\n  return location;\n}\n/**\n * Creates a string URL path from the given pathname, search, and hash components.\n */\nfunction createPath(_ref) {\n  let {\n    pathname = \"/\",\n    search = \"\",\n    hash = \"\"\n  } = _ref;\n  if (search && search !== \"?\") pathname += search.charAt(0) === \"?\" ? search : \"?\" + search;\n  if (hash && hash !== \"#\") pathname += hash.charAt(0) === \"#\" ? hash : \"#\" + hash;\n  return pathname;\n}\n/**\n * Parses a string URL path into its separate pathname, search, and hash components.\n */\nfunction parsePath(path) {\n  let parsedPath = {};\n  if (path) {\n    let hashIndex = path.indexOf(\"#\");\n    if (hashIndex >= 0) {\n      parsedPath.hash = path.substr(hashIndex);\n      path = path.substr(0, hashIndex);\n    }\n    let searchIndex = path.indexOf(\"?\");\n    if (searchIndex >= 0) {\n      parsedPath.search = path.substr(searchIndex);\n      path = path.substr(0, searchIndex);\n    }\n    if (path) {\n      parsedPath.pathname = path;\n    }\n  }\n  return parsedPath;\n}\nfunction getUrlBasedHistory(getLocation, createHref, validateLocation, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  let {\n    window = document.defaultView,\n    v5Compat = false\n  } = options;\n  let globalHistory = window.history;\n  let action = Action.Pop;\n  let listener = null;\n  let index = getIndex();\n  // Index should only be null when we initialize. If not, it's because the\n  // user called history.pushState or history.replaceState directly, in which\n  // case we should log a warning as it will result in bugs.\n  if (index == null) {\n    index = 0;\n    globalHistory.replaceState(_extends({}, globalHistory.state, {\n      idx: index\n    }), \"\");\n  }\n  function getIndex() {\n    let state = globalHistory.state || {\n      idx: null\n    };\n    return state.idx;\n  }\n  function handlePop() {\n    action = Action.Pop;\n    let nextIndex = getIndex();\n    let delta = nextIndex == null ? null : nextIndex - index;\n    index = nextIndex;\n    if (listener) {\n      listener({\n        action,\n        location: history.location,\n        delta\n      });\n    }\n  }\n  function push(to, state) {\n    action = Action.Push;\n    let location = createLocation(history.location, to, state);\n    if (validateLocation) validateLocation(location, to);\n    index = getIndex() + 1;\n    let historyState = getHistoryState(location, index);\n    let url = history.createHref(location);\n    // try...catch because iOS limits us to 100 pushState calls :/\n    try {\n      globalHistory.pushState(historyState, \"\", url);\n    } catch (error) {\n      // If the exception is because `state` can't be serialized, let that throw\n      // outwards just like a replace call would so the dev knows the cause\n      // https://html.spec.whatwg.org/multipage/nav-history-apis.html#shared-history-push/replace-state-steps\n      // https://html.spec.whatwg.org/multipage/structured-data.html#structuredserializeinternal\n      if (error instanceof DOMException && error.name === \"DataCloneError\") {\n        throw error;\n      }\n      // They are going to lose state here, but there is no real\n      // way to warn them about it since the page will refresh...\n      window.location.assign(url);\n    }\n    if (v5Compat && listener) {\n      listener({\n        action,\n        location: history.location,\n        delta: 1\n      });\n    }\n  }\n  function replace(to, state) {\n    action = Action.Replace;\n    let location = createLocation(history.location, to, state);\n    if (validateLocation) validateLocation(location, to);\n    index = getIndex();\n    let historyState = getHistoryState(location, index);\n    let url = history.createHref(location);\n    globalHistory.replaceState(historyState, \"\", url);\n    if (v5Compat && listener) {\n      listener({\n        action,\n        location: history.location,\n        delta: 0\n      });\n    }\n  }\n  function createURL(to) {\n    // window.location.origin is \"null\" (the literal string value) in Firefox\n    // under certain conditions, notably when serving from a local HTML file\n    // See https://bugzilla.mozilla.org/show_bug.cgi?id=878297\n    let base = window.location.origin !== \"null\" ? window.location.origin : window.location.href;\n    let href = typeof to === \"string\" ? to : createPath(to);\n    invariant(base, \"No window.location.(origin|href) available to create URL for href: \" + href);\n    return new URL(href, base);\n  }\n  let history = {\n    get action() {\n      return action;\n    },\n    get location() {\n      return getLocation(window, globalHistory);\n    },\n    listen(fn) {\n      if (listener) {\n        throw new Error(\"A history only accepts one active listener\");\n      }\n      window.addEventListener(PopStateEventType, handlePop);\n      listener = fn;\n      return () => {\n        window.removeEventListener(PopStateEventType, handlePop);\n        listener = null;\n      };\n    },\n    createHref(to) {\n      return createHref(window, to);\n    },\n    createURL,\n    encodeLocation(to) {\n      // Encode a Location the same way window.location would\n      let url = createURL(to);\n      return {\n        pathname: url.pathname,\n        search: url.search,\n        hash: url.hash\n      };\n    },\n    push,\n    replace,\n    go(n) {\n      return globalHistory.go(n);\n    }\n  };\n  return history;\n}\n//#endregion\n\nvar ResultType;\n(function (ResultType) {\n  ResultType[\"data\"] = \"data\";\n  ResultType[\"deferred\"] = \"deferred\";\n  ResultType[\"redirect\"] = \"redirect\";\n  ResultType[\"error\"] = \"error\";\n})(ResultType || (ResultType = {}));\nconst immutableRouteKeys = new Set([\"lazy\", \"caseSensitive\", \"path\", \"id\", \"index\", \"children\"]);\nfunction isIndexRoute(route) {\n  return route.index === true;\n}\n// Walk the route tree generating unique IDs where necessary so we are working\n// solely with AgnosticDataRouteObject's within the Router\nfunction convertRoutesToDataRoutes(routes, mapRouteProperties, parentPath, manifest) {\n  if (parentPath === void 0) {\n    parentPath = [];\n  }\n  if (manifest === void 0) {\n    manifest = {};\n  }\n  return routes.map((route, index) => {\n    let treePath = [...parentPath, index];\n    let id = typeof route.id === \"string\" ? route.id : treePath.join(\"-\");\n    invariant(route.index !== true || !route.children, \"Cannot specify children on an index route\");\n    invariant(!manifest[id], \"Found a route id collision on id \\\"\" + id + \"\\\".  Route \" + \"id's must be globally unique within Data Router usages\");\n    if (isIndexRoute(route)) {\n      let indexRoute = _extends({}, route, mapRouteProperties(route), {\n        id\n      });\n      manifest[id] = indexRoute;\n      return indexRoute;\n    } else {\n      let pathOrLayoutRoute = _extends({}, route, mapRouteProperties(route), {\n        id,\n        children: undefined\n      });\n      manifest[id] = pathOrLayoutRoute;\n      if (route.children) {\n        pathOrLayoutRoute.children = convertRoutesToDataRoutes(route.children, mapRouteProperties, treePath, manifest);\n      }\n      return pathOrLayoutRoute;\n    }\n  });\n}\n/**\n * Matches the given routes to a location and returns the match data.\n *\n * @see https://reactrouter.com/utils/match-routes\n */\nfunction matchRoutes(routes, locationArg, basename) {\n  if (basename === void 0) {\n    basename = \"/\";\n  }\n  let location = typeof locationArg === \"string\" ? parsePath(locationArg) : locationArg;\n  let pathname = stripBasename(location.pathname || \"/\", basename);\n  if (pathname == null) {\n    return null;\n  }\n  let branches = flattenRoutes(routes);\n  rankRouteBranches(branches);\n  let matches = null;\n  for (let i = 0; matches == null && i < branches.length; ++i) {\n    matches = matchRouteBranch(branches[i],\n    // Incoming pathnames are generally encoded from either window.location\n    // or from router.navigate, but we want to match against the unencoded\n    // paths in the route definitions.  Memory router locations won't be\n    // encoded here but there also shouldn't be anything to decode so this\n    // should be a safe operation.  This avoids needing matchRoutes to be\n    // history-aware.\n    safelyDecodeURI(pathname));\n  }\n  return matches;\n}\nfunction flattenRoutes(routes, branches, parentsMeta, parentPath) {\n  if (branches === void 0) {\n    branches = [];\n  }\n  if (parentsMeta === void 0) {\n    parentsMeta = [];\n  }\n  if (parentPath === void 0) {\n    parentPath = \"\";\n  }\n  let flattenRoute = (route, index, relativePath) => {\n    let meta = {\n      relativePath: relativePath === undefined ? route.path || \"\" : relativePath,\n      caseSensitive: route.caseSensitive === true,\n      childrenIndex: index,\n      route\n    };\n    if (meta.relativePath.startsWith(\"/\")) {\n      invariant(meta.relativePath.startsWith(parentPath), \"Absolute route path \\\"\" + meta.relativePath + \"\\\" nested under path \" + (\"\\\"\" + parentPath + \"\\\" is not valid. An absolute child route path \") + \"must start with the combined path of all its parent routes.\");\n      meta.relativePath = meta.relativePath.slice(parentPath.length);\n    }\n    let path = joinPaths([parentPath, meta.relativePath]);\n    let routesMeta = parentsMeta.concat(meta);\n    // Add the children before adding this route to the array so we traverse the\n    // route tree depth-first and child routes appear before their parents in\n    // the \"flattened\" version.\n    if (route.children && route.children.length > 0) {\n      invariant(\n      // Our types know better, but runtime JS may not!\n      // @ts-expect-error\n      route.index !== true, \"Index routes must not have child routes. Please remove \" + (\"all child routes from route path \\\"\" + path + \"\\\".\"));\n      flattenRoutes(route.children, branches, routesMeta, path);\n    }\n    // Routes without a path shouldn't ever match by themselves unless they are\n    // index routes, so don't add them to the list of possible branches.\n    if (route.path == null && !route.index) {\n      return;\n    }\n    branches.push({\n      path,\n      score: computeScore(path, route.index),\n      routesMeta\n    });\n  };\n  routes.forEach((route, index) => {\n    var _route$path;\n    // coarse-grain check for optional params\n    if (route.path === \"\" || !((_route$path = route.path) != null && _route$path.includes(\"?\"))) {\n      flattenRoute(route, index);\n    } else {\n      for (let exploded of explodeOptionalSegments(route.path)) {\n        flattenRoute(route, index, exploded);\n      }\n    }\n  });\n  return branches;\n}\n/**\n * Computes all combinations of optional path segments for a given path,\n * excluding combinations that are ambiguous and of lower priority.\n *\n * For example, `/one/:two?/three/:four?/:five?` explodes to:\n * - `/one/three`\n * - `/one/:two/three`\n * - `/one/three/:four`\n * - `/one/three/:five`\n * - `/one/:two/three/:four`\n * - `/one/:two/three/:five`\n * - `/one/three/:four/:five`\n * - `/one/:two/three/:four/:five`\n */\nfunction explodeOptionalSegments(path) {\n  let segments = path.split(\"/\");\n  if (segments.length === 0) return [];\n  let [first, ...rest] = segments;\n  // Optional path segments are denoted by a trailing `?`\n  let isOptional = first.endsWith(\"?\");\n  // Compute the corresponding required segment: `foo?` -> `foo`\n  let required = first.replace(/\\?$/, \"\");\n  if (rest.length === 0) {\n    // Intepret empty string as omitting an optional segment\n    // `[\"one\", \"\", \"three\"]` corresponds to omitting `:two` from `/one/:two?/three` -> `/one/three`\n    return isOptional ? [required, \"\"] : [required];\n  }\n  let restExploded = explodeOptionalSegments(rest.join(\"/\"));\n  let result = [];\n  // All child paths with the prefix.  Do this for all children before the\n  // optional version for all children so we get consistent ordering where the\n  // parent optional aspect is preferred as required.  Otherwise, we can get\n  // child sections interspersed where deeper optional segments are higher than\n  // parent optional segments, where for example, /:two would explodes _earlier_\n  // then /:one.  By always including the parent as required _for all children_\n  // first, we avoid this issue\n  result.push(...restExploded.map(subpath => subpath === \"\" ? required : [required, subpath].join(\"/\")));\n  // Then if this is an optional value, add all child versions without\n  if (isOptional) {\n    result.push(...restExploded);\n  }\n  // for absolute paths, ensure `/` instead of empty segment\n  return result.map(exploded => path.startsWith(\"/\") && exploded === \"\" ? \"/\" : exploded);\n}\nfunction rankRouteBranches(branches) {\n  branches.sort((a, b) => a.score !== b.score ? b.score - a.score // Higher score first\n  : compareIndexes(a.routesMeta.map(meta => meta.childrenIndex), b.routesMeta.map(meta => meta.childrenIndex)));\n}\nconst paramRe = /^:\\w+$/;\nconst dynamicSegmentValue = 3;\nconst indexRouteValue = 2;\nconst emptySegmentValue = 1;\nconst staticSegmentValue = 10;\nconst splatPenalty = -2;\nconst isSplat = s => s === \"*\";\nfunction computeScore(path, index) {\n  let segments = path.split(\"/\");\n  let initialScore = segments.length;\n  if (segments.some(isSplat)) {\n    initialScore += splatPenalty;\n  }\n  if (index) {\n    initialScore += indexRouteValue;\n  }\n  return segments.filter(s => !isSplat(s)).reduce((score, segment) => score + (paramRe.test(segment) ? dynamicSegmentValue : segment === \"\" ? emptySegmentValue : staticSegmentValue), initialScore);\n}\nfunction compareIndexes(a, b) {\n  let siblings = a.length === b.length && a.slice(0, -1).every((n, i) => n === b[i]);\n  return siblings ?\n  // If two routes are siblings, we should try to match the earlier sibling\n  // first. This allows people to have fine-grained control over the matching\n  // behavior by simply putting routes with identical paths in the order they\n  // want them tried.\n  a[a.length - 1] - b[b.length - 1] :\n  // Otherwise, it doesn't really make sense to rank non-siblings by index,\n  // so they sort equally.\n  0;\n}\nfunction matchRouteBranch(branch, pathname) {\n  let {\n    routesMeta\n  } = branch;\n  let matchedParams = {};\n  let matchedPathname = \"/\";\n  let matches = [];\n  for (let i = 0; i < routesMeta.length; ++i) {\n    let meta = routesMeta[i];\n    let end = i === routesMeta.length - 1;\n    let remainingPathname = matchedPathname === \"/\" ? pathname : pathname.slice(matchedPathname.length) || \"/\";\n    let match = matchPath({\n      path: meta.relativePath,\n      caseSensitive: meta.caseSensitive,\n      end\n    }, remainingPathname);\n    if (!match) return null;\n    Object.assign(matchedParams, match.params);\n    let route = meta.route;\n    matches.push({\n      // TODO: Can this as be avoided?\n      params: matchedParams,\n      pathname: joinPaths([matchedPathname, match.pathname]),\n      pathnameBase: normalizePathname(joinPaths([matchedPathname, match.pathnameBase])),\n      route\n    });\n    if (match.pathnameBase !== \"/\") {\n      matchedPathname = joinPaths([matchedPathname, match.pathnameBase]);\n    }\n  }\n  return matches;\n}\n/**\n * Returns a path with params interpolated.\n *\n * @see https://reactrouter.com/utils/generate-path\n */\nfunction generatePath(originalPath, params) {\n  if (params === void 0) {\n    params = {};\n  }\n  let path = originalPath;\n  if (path.endsWith(\"*\") && path !== \"*\" && !path.endsWith(\"/*\")) {\n    warning(false, \"Route path \\\"\" + path + \"\\\" will be treated as if it were \" + (\"\\\"\" + path.replace(/\\*$/, \"/*\") + \"\\\" because the `*` character must \") + \"always follow a `/` in the pattern. To get rid of this warning, \" + (\"please change the route path to \\\"\" + path.replace(/\\*$/, \"/*\") + \"\\\".\"));\n    path = path.replace(/\\*$/, \"/*\");\n  }\n  // ensure `/` is added at the beginning if the path is absolute\n  const prefix = path.startsWith(\"/\") ? \"/\" : \"\";\n  const stringify = p => p == null ? \"\" : typeof p === \"string\" ? p : String(p);\n  const segments = path.split(/\\/+/).map((segment, index, array) => {\n    const isLastSegment = index === array.length - 1;\n    // only apply the splat if it's the last segment\n    if (isLastSegment && segment === \"*\") {\n      const star = \"*\";\n      // Apply the splat\n      return stringify(params[star]);\n    }\n    const keyMatch = segment.match(/^:(\\w+)(\\??)$/);\n    if (keyMatch) {\n      const [, key, optional] = keyMatch;\n      let param = params[key];\n      invariant(optional === \"?\" || param != null, \"Missing \\\":\" + key + \"\\\" param\");\n      return stringify(param);\n    }\n    // Remove any optional markers from optional static segments\n    return segment.replace(/\\?$/g, \"\");\n  })\n  // Remove empty segments\n  .filter(segment => !!segment);\n  return prefix + segments.join(\"/\");\n}\n/**\n * Performs pattern matching on a URL pathname and returns information about\n * the match.\n *\n * @see https://reactrouter.com/utils/match-path\n */\nfunction matchPath(pattern, pathname) {\n  if (typeof pattern === \"string\") {\n    pattern = {\n      path: pattern,\n      caseSensitive: false,\n      end: true\n    };\n  }\n  let [matcher, paramNames] = compilePath(pattern.path, pattern.caseSensitive, pattern.end);\n  let match = pathname.match(matcher);\n  if (!match) return null;\n  let matchedPathname = match[0];\n  let pathnameBase = matchedPathname.replace(/(.)\\/+$/, \"$1\");\n  let captureGroups = match.slice(1);\n  let params = paramNames.reduce((memo, paramName, index) => {\n    // We need to compute the pathnameBase here using the raw splat value\n    // instead of using params[\"*\"] later because it will be decoded then\n    if (paramName === \"*\") {\n      let splatValue = captureGroups[index] || \"\";\n      pathnameBase = matchedPathname.slice(0, matchedPathname.length - splatValue.length).replace(/(.)\\/+$/, \"$1\");\n    }\n    memo[paramName] = safelyDecodeURIComponent(captureGroups[index] || \"\", paramName);\n    return memo;\n  }, {});\n  return {\n    params,\n    pathname: matchedPathname,\n    pathnameBase,\n    pattern\n  };\n}\nfunction compilePath(path, caseSensitive, end) {\n  if (caseSensitive === void 0) {\n    caseSensitive = false;\n  }\n  if (end === void 0) {\n    end = true;\n  }\n  warning(path === \"*\" || !path.endsWith(\"*\") || path.endsWith(\"/*\"), \"Route path \\\"\" + path + \"\\\" will be treated as if it were \" + (\"\\\"\" + path.replace(/\\*$/, \"/*\") + \"\\\" because the `*` character must \") + \"always follow a `/` in the pattern. To get rid of this warning, \" + (\"please change the route path to \\\"\" + path.replace(/\\*$/, \"/*\") + \"\\\".\"));\n  let paramNames = [];\n  let regexpSource = \"^\" + path.replace(/\\/*\\*?$/, \"\") // Ignore trailing / and /*, we'll handle it below\n  .replace(/^\\/*/, \"/\") // Make sure it has a leading /\n  .replace(/[\\\\.*+^$?{}|()[\\]]/g, \"\\\\$&\") // Escape special regex chars\n  .replace(/\\/:(\\w+)/g, (_, paramName) => {\n    paramNames.push(paramName);\n    return \"/([^\\\\/]+)\";\n  });\n  if (path.endsWith(\"*\")) {\n    paramNames.push(\"*\");\n    regexpSource += path === \"*\" || path === \"/*\" ? \"(.*)$\" // Already matched the initial /, just match the rest\n    : \"(?:\\\\/(.+)|\\\\/*)$\"; // Don't include the / in params[\"*\"]\n  } else if (end) {\n    // When matching to the end, ignore trailing slashes\n    regexpSource += \"\\\\/*$\";\n  } else if (path !== \"\" && path !== \"/\") {\n    // If our path is non-empty and contains anything beyond an initial slash,\n    // then we have _some_ form of path in our regex so we should expect to\n    // match only if we find the end of this path segment.  Look for an optional\n    // non-captured trailing slash (to match a portion of the URL) or the end\n    // of the path (if we've matched to the end).  We used to do this with a\n    // word boundary but that gives false positives on routes like\n    // /user-preferences since `-` counts as a word boundary.\n    regexpSource += \"(?:(?=\\\\/|$))\";\n  } else ;\n  let matcher = new RegExp(regexpSource, caseSensitive ? undefined : \"i\");\n  return [matcher, paramNames];\n}\nfunction safelyDecodeURI(value) {\n  try {\n    return decodeURI(value);\n  } catch (error) {\n    warning(false, \"The URL path \\\"\" + value + \"\\\" could not be decoded because it is is a \" + \"malformed URL segment. This is probably due to a bad percent \" + (\"encoding (\" + error + \").\"));\n    return value;\n  }\n}\nfunction safelyDecodeURIComponent(value, paramName) {\n  try {\n    return decodeURIComponent(value);\n  } catch (error) {\n    warning(false, \"The value for the URL param \\\"\" + paramName + \"\\\" will not be decoded because\" + (\" the string \\\"\" + value + \"\\\" is a malformed URL segment. This is probably\") + (\" due to a bad percent encoding (\" + error + \").\"));\n    return value;\n  }\n}\n/**\n * @private\n */\nfunction stripBasename(pathname, basename) {\n  if (basename === \"/\") return pathname;\n  if (!pathname.toLowerCase().startsWith(basename.toLowerCase())) {\n    return null;\n  }\n  // We want to leave trailing slash behavior in the user's control, so if they\n  // specify a basename with a trailing slash, we should support it\n  let startIndex = basename.endsWith(\"/\") ? basename.length - 1 : basename.length;\n  let nextChar = pathname.charAt(startIndex);\n  if (nextChar && nextChar !== \"/\") {\n    // pathname does not start with basename/\n    return null;\n  }\n  return pathname.slice(startIndex) || \"/\";\n}\n/**\n * Returns a resolved path object relative to the given pathname.\n *\n * @see https://reactrouter.com/utils/resolve-path\n */\nfunction resolvePath(to, fromPathname) {\n  if (fromPathname === void 0) {\n    fromPathname = \"/\";\n  }\n  let {\n    pathname: toPathname,\n    search = \"\",\n    hash = \"\"\n  } = typeof to === \"string\" ? parsePath(to) : to;\n  let pathname = toPathname ? toPathname.startsWith(\"/\") ? toPathname : resolvePathname(toPathname, fromPathname) : fromPathname;\n  return {\n    pathname,\n    search: normalizeSearch(search),\n    hash: normalizeHash(hash)\n  };\n}\nfunction resolvePathname(relativePath, fromPathname) {\n  let segments = fromPathname.replace(/\\/+$/, \"\").split(\"/\");\n  let relativeSegments = relativePath.split(\"/\");\n  relativeSegments.forEach(segment => {\n    if (segment === \"..\") {\n      // Keep the root \"\" segment so the pathname starts at /\n      if (segments.length > 1) segments.pop();\n    } else if (segment !== \".\") {\n      segments.push(segment);\n    }\n  });\n  return segments.length > 1 ? segments.join(\"/\") : \"/\";\n}\nfunction getInvalidPathError(char, field, dest, path) {\n  return \"Cannot include a '\" + char + \"' character in a manually specified \" + (\"`to.\" + field + \"` field [\" + JSON.stringify(path) + \"].  Please separate it out to the \") + (\"`to.\" + dest + \"` field. Alternatively you may provide the full path as \") + \"a string in <Link to=\\\"...\\\"> and the router will parse it for you.\";\n}\n/**\n * @private\n *\n * When processing relative navigation we want to ignore ancestor routes that\n * do not contribute to the path, such that index/pathless layout routes don't\n * interfere.\n *\n * For example, when moving a route element into an index route and/or a\n * pathless layout route, relative link behavior contained within should stay\n * the same.  Both of the following examples should link back to the root:\n *\n *   <Route path=\"/\">\n *     <Route path=\"accounts\" element={<Link to=\"..\"}>\n *   </Route>\n *\n *   <Route path=\"/\">\n *     <Route path=\"accounts\">\n *       <Route element={<AccountsLayout />}>       // <-- Does not contribute\n *         <Route index element={<Link to=\"..\"} />  // <-- Does not contribute\n *       </Route\n *     </Route>\n *   </Route>\n */\nfunction getPathContributingMatches(matches) {\n  return matches.filter((match, index) => index === 0 || match.route.path && match.route.path.length > 0);\n}\n/**\n * @private\n */\nfunction resolveTo(toArg, routePathnames, locationPathname, isPathRelative) {\n  if (isPathRelative === void 0) {\n    isPathRelative = false;\n  }\n  let to;\n  if (typeof toArg === \"string\") {\n    to = parsePath(toArg);\n  } else {\n    to = _extends({}, toArg);\n    invariant(!to.pathname || !to.pathname.includes(\"?\"), getInvalidPathError(\"?\", \"pathname\", \"search\", to));\n    invariant(!to.pathname || !to.pathname.includes(\"#\"), getInvalidPathError(\"#\", \"pathname\", \"hash\", to));\n    invariant(!to.search || !to.search.includes(\"#\"), getInvalidPathError(\"#\", \"search\", \"hash\", to));\n  }\n  let isEmptyPath = toArg === \"\" || to.pathname === \"\";\n  let toPathname = isEmptyPath ? \"/\" : to.pathname;\n  let from;\n  // Routing is relative to the current pathname if explicitly requested.\n  //\n  // If a pathname is explicitly provided in `to`, it should be relative to the\n  // route context. This is explained in `Note on `<Link to>` values` in our\n  // migration guide from v5 as a means of disambiguation between `to` values\n  // that begin with `/` and those that do not. However, this is problematic for\n  // `to` values that do not provide a pathname. `to` can simply be a search or\n  // hash string, in which case we should assume that the navigation is relative\n  // to the current location's pathname and *not* the route pathname.\n  if (isPathRelative || toPathname == null) {\n    from = locationPathname;\n  } else {\n    let routePathnameIndex = routePathnames.length - 1;\n    if (toPathname.startsWith(\"..\")) {\n      let toSegments = toPathname.split(\"/\");\n      // Each leading .. segment means \"go up one route\" instead of \"go up one\n      // URL segment\".  This is a key difference from how <a href> works and a\n      // major reason we call this a \"to\" value instead of a \"href\".\n      while (toSegments[0] === \"..\") {\n        toSegments.shift();\n        routePathnameIndex -= 1;\n      }\n      to.pathname = toSegments.join(\"/\");\n    }\n    // If there are more \"..\" segments than parent routes, resolve relative to\n    // the root / URL.\n    from = routePathnameIndex >= 0 ? routePathnames[routePathnameIndex] : \"/\";\n  }\n  let path = resolvePath(to, from);\n  // Ensure the pathname has a trailing slash if the original \"to\" had one\n  let hasExplicitTrailingSlash = toPathname && toPathname !== \"/\" && toPathname.endsWith(\"/\");\n  // Or if this was a link to the current path which has a trailing slash\n  let hasCurrentTrailingSlash = (isEmptyPath || toPathname === \".\") && locationPathname.endsWith(\"/\");\n  if (!path.pathname.endsWith(\"/\") && (hasExplicitTrailingSlash || hasCurrentTrailingSlash)) {\n    path.pathname += \"/\";\n  }\n  return path;\n}\n/**\n * @private\n */\nfunction getToPathname(to) {\n  // Empty strings should be treated the same as / paths\n  return to === \"\" || to.pathname === \"\" ? \"/\" : typeof to === \"string\" ? parsePath(to).pathname : to.pathname;\n}\n/**\n * @private\n */\nconst joinPaths = paths => paths.join(\"/\").replace(/\\/\\/+/g, \"/\");\n/**\n * @private\n */\nconst normalizePathname = pathname => pathname.replace(/\\/+$/, \"\").replace(/^\\/*/, \"/\");\n/**\n * @private\n */\nconst normalizeSearch = search => !search || search === \"?\" ? \"\" : search.startsWith(\"?\") ? search : \"?\" + search;\n/**\n * @private\n */\nconst normalizeHash = hash => !hash || hash === \"#\" ? \"\" : hash.startsWith(\"#\") ? hash : \"#\" + hash;\n/**\n * This is a shortcut for creating `application/json` responses. Converts `data`\n * to JSON and sets the `Content-Type` header.\n */\nconst json = function json(data, init) {\n  if (init === void 0) {\n    init = {};\n  }\n  let responseInit = typeof init === \"number\" ? {\n    status: init\n  } : init;\n  let headers = new Headers(responseInit.headers);\n  if (!headers.has(\"Content-Type\")) {\n    headers.set(\"Content-Type\", \"application/json; charset=utf-8\");\n  }\n  return new Response(JSON.stringify(data), _extends({}, responseInit, {\n    headers\n  }));\n};\nclass AbortedDeferredError extends Error {}\nclass DeferredData {\n  constructor(data, responseInit) {\n    this.pendingKeysSet = new Set();\n    this.subscribers = new Set();\n    this.deferredKeys = [];\n    invariant(data && typeof data === \"object\" && !Array.isArray(data), \"defer() only accepts plain objects\");\n    // Set up an AbortController + Promise we can race against to exit early\n    // cancellation\n    let reject;\n    this.abortPromise = new Promise((_, r) => reject = r);\n    this.controller = new AbortController();\n    let onAbort = () => reject(new AbortedDeferredError(\"Deferred data aborted\"));\n    this.unlistenAbortSignal = () => this.controller.signal.removeEventListener(\"abort\", onAbort);\n    this.controller.signal.addEventListener(\"abort\", onAbort);\n    this.data = Object.entries(data).reduce((acc, _ref) => {\n      let [key, value] = _ref;\n      return Object.assign(acc, {\n        [key]: this.trackPromise(key, value)\n      });\n    }, {});\n    if (this.done) {\n      // All incoming values were resolved\n      this.unlistenAbortSignal();\n    }\n    this.init = responseInit;\n  }\n  trackPromise(key, value) {\n    if (!(value instanceof Promise)) {\n      return value;\n    }\n    this.deferredKeys.push(key);\n    this.pendingKeysSet.add(key);\n    // We store a little wrapper promise that will be extended with\n    // _data/_error props upon resolve/reject\n    let promise = Promise.race([value, this.abortPromise]).then(data => this.onSettle(promise, key, undefined, data), error => this.onSettle(promise, key, error));\n    // Register rejection listeners to avoid uncaught promise rejections on\n    // errors or aborted deferred values\n    promise.catch(() => {});\n    Object.defineProperty(promise, \"_tracked\", {\n      get: () => true\n    });\n    return promise;\n  }\n  onSettle(promise, key, error, data) {\n    if (this.controller.signal.aborted && error instanceof AbortedDeferredError) {\n      this.unlistenAbortSignal();\n      Object.defineProperty(promise, \"_error\", {\n        get: () => error\n      });\n      return Promise.reject(error);\n    }\n    this.pendingKeysSet.delete(key);\n    if (this.done) {\n      // Nothing left to abort!\n      this.unlistenAbortSignal();\n    }\n    // If the promise was resolved/rejected with undefined, we'll throw an error as you\n    // should always resolve with a value or null\n    if (error === undefined && data === undefined) {\n      let undefinedError = new Error(\"Deferred data for key \\\"\" + key + \"\\\" resolved/rejected with `undefined`, \" + \"you must resolve/reject with a value or `null`.\");\n      Object.defineProperty(promise, \"_error\", {\n        get: () => undefinedError\n      });\n      this.emit(false, key);\n      return Promise.reject(undefinedError);\n    }\n    if (data === undefined) {\n      Object.defineProperty(promise, \"_error\", {\n        get: () => error\n      });\n      this.emit(false, key);\n      return Promise.reject(error);\n    }\n    Object.defineProperty(promise, \"_data\", {\n      get: () => data\n    });\n    this.emit(false, key);\n    return data;\n  }\n  emit(aborted, settledKey) {\n    this.subscribers.forEach(subscriber => subscriber(aborted, settledKey));\n  }\n  subscribe(fn) {\n    this.subscribers.add(fn);\n    return () => this.subscribers.delete(fn);\n  }\n  cancel() {\n    this.controller.abort();\n    this.pendingKeysSet.forEach((v, k) => this.pendingKeysSet.delete(k));\n    this.emit(true);\n  }\n  async resolveData(signal) {\n    let aborted = false;\n    if (!this.done) {\n      let onAbort = () => this.cancel();\n      signal.addEventListener(\"abort\", onAbort);\n      aborted = await new Promise(resolve => {\n        this.subscribe(aborted => {\n          signal.removeEventListener(\"abort\", onAbort);\n          if (aborted || this.done) {\n            resolve(aborted);\n          }\n        });\n      });\n    }\n    return aborted;\n  }\n  get done() {\n    return this.pendingKeysSet.size === 0;\n  }\n  get unwrappedData() {\n    invariant(this.data !== null && this.done, \"Can only unwrap data on initialized and settled deferreds\");\n    return Object.entries(this.data).reduce((acc, _ref2) => {\n      let [key, value] = _ref2;\n      return Object.assign(acc, {\n        [key]: unwrapTrackedPromise(value)\n      });\n    }, {});\n  }\n  get pendingKeys() {\n    return Array.from(this.pendingKeysSet);\n  }\n}\nfunction isTrackedPromise(value) {\n  return value instanceof Promise && value._tracked === true;\n}\nfunction unwrapTrackedPromise(value) {\n  if (!isTrackedPromise(value)) {\n    return value;\n  }\n  if (value._error) {\n    throw value._error;\n  }\n  return value._data;\n}\nconst defer = function defer(data, init) {\n  if (init === void 0) {\n    init = {};\n  }\n  let responseInit = typeof init === \"number\" ? {\n    status: init\n  } : init;\n  return new DeferredData(data, responseInit);\n};\n/**\n * A redirect response. Sets the status code and the `Location` header.\n * Defaults to \"302 Found\".\n */\nconst redirect = function redirect(url, init) {\n  if (init === void 0) {\n    init = 302;\n  }\n  let responseInit = init;\n  if (typeof responseInit === \"number\") {\n    responseInit = {\n      status: responseInit\n    };\n  } else if (typeof responseInit.status === \"undefined\") {\n    responseInit.status = 302;\n  }\n  let headers = new Headers(responseInit.headers);\n  headers.set(\"Location\", url);\n  return new Response(null, _extends({}, responseInit, {\n    headers\n  }));\n};\n/**\n * A redirect response that will force a document reload to the new location.\n * Sets the status code and the `Location` header.\n * Defaults to \"302 Found\".\n */\nconst redirectDocument = (url, init) => {\n  let response = redirect(url, init);\n  response.headers.set(\"X-Remix-Reload-Document\", \"true\");\n  return response;\n};\n/**\n * @private\n * Utility class we use to hold auto-unwrapped 4xx/5xx Response bodies\n */\nclass ErrorResponse {\n  constructor(status, statusText, data, internal) {\n    if (internal === void 0) {\n      internal = false;\n    }\n    this.status = status;\n    this.statusText = statusText || \"\";\n    this.internal = internal;\n    if (data instanceof Error) {\n      this.data = data.toString();\n      this.error = data;\n    } else {\n      this.data = data;\n    }\n  }\n}\n/**\n * Check if the given error is an ErrorResponse generated from a 4xx/5xx\n * Response thrown from an action/loader\n */\nfunction isRouteErrorResponse(error) {\n  return error != null && typeof error.status === \"number\" && typeof error.statusText === \"string\" && typeof error.internal === \"boolean\" && \"data\" in error;\n}\n\nconst validMutationMethodsArr = [\"post\", \"put\", \"patch\", \"delete\"];\nconst validMutationMethods = new Set(validMutationMethodsArr);\nconst validRequestMethodsArr = [\"get\", ...validMutationMethodsArr];\nconst validRequestMethods = new Set(validRequestMethodsArr);\nconst redirectStatusCodes = new Set([301, 302, 303, 307, 308]);\nconst redirectPreserveMethodStatusCodes = new Set([307, 308]);\nconst IDLE_NAVIGATION = {\n  state: \"idle\",\n  location: undefined,\n  formMethod: undefined,\n  formAction: undefined,\n  formEncType: undefined,\n  formData: undefined,\n  json: undefined,\n  text: undefined\n};\nconst IDLE_FETCHER = {\n  state: \"idle\",\n  data: undefined,\n  formMethod: undefined,\n  formAction: undefined,\n  formEncType: undefined,\n  formData: undefined,\n  json: undefined,\n  text: undefined\n};\nconst IDLE_BLOCKER = {\n  state: \"unblocked\",\n  proceed: undefined,\n  reset: undefined,\n  location: undefined\n};\nconst ABSOLUTE_URL_REGEX = /^(?:[a-z][a-z0-9+.-]*:|\\/\\/)/i;\nconst defaultMapRouteProperties = route => ({\n  hasErrorBoundary: Boolean(route.hasErrorBoundary)\n});\n//#endregion\n////////////////////////////////////////////////////////////////////////////////\n//#region createRouter\n////////////////////////////////////////////////////////////////////////////////\n/**\n * Create a router and listen to history POP navigations\n */\nfunction createRouter(init) {\n  const routerWindow = init.window ? init.window : typeof window !== \"undefined\" ? window : undefined;\n  const isBrowser = typeof routerWindow !== \"undefined\" && typeof routerWindow.document !== \"undefined\" && typeof routerWindow.document.createElement !== \"undefined\";\n  const isServer = !isBrowser;\n  invariant(init.routes.length > 0, \"You must provide a non-empty routes array to createRouter\");\n  let mapRouteProperties;\n  if (init.mapRouteProperties) {\n    mapRouteProperties = init.mapRouteProperties;\n  } else if (init.detectErrorBoundary) {\n    // If they are still using the deprecated version, wrap it with the new API\n    let detectErrorBoundary = init.detectErrorBoundary;\n    mapRouteProperties = route => ({\n      hasErrorBoundary: detectErrorBoundary(route)\n    });\n  } else {\n    mapRouteProperties = defaultMapRouteProperties;\n  }\n  // Routes keyed by ID\n  let manifest = {};\n  // Routes in tree format for matching\n  let dataRoutes = convertRoutesToDataRoutes(init.routes, mapRouteProperties, undefined, manifest);\n  let inFlightDataRoutes;\n  let basename = init.basename || \"/\";\n  // Config driven behavior flags\n  let future = _extends({\n    v7_normalizeFormMethod: false,\n    v7_prependBasename: false\n  }, init.future);\n  // Cleanup function for history\n  let unlistenHistory = null;\n  // Externally-provided functions to call on all state changes\n  let subscribers = new Set();\n  // Externally-provided object to hold scroll restoration locations during routing\n  let savedScrollPositions = null;\n  // Externally-provided function to get scroll restoration keys\n  let getScrollRestorationKey = null;\n  // Externally-provided function to get current scroll position\n  let getScrollPosition = null;\n  // One-time flag to control the initial hydration scroll restoration.  Because\n  // we don't get the saved positions from <ScrollRestoration /> until _after_\n  // the initial render, we need to manually trigger a separate updateState to\n  // send along the restoreScrollPosition\n  // Set to true if we have `hydrationData` since we assume we were SSR'd and that\n  // SSR did the initial scroll restoration.\n  let initialScrollRestored = init.hydrationData != null;\n  let initialMatches = matchRoutes(dataRoutes, init.history.location, basename);\n  let initialErrors = null;\n  if (initialMatches == null) {\n    // If we do not match a user-provided-route, fall back to the root\n    // to allow the error boundary to take over\n    let error = getInternalRouterError(404, {\n      pathname: init.history.location.pathname\n    });\n    let {\n      matches,\n      route\n    } = getShortCircuitMatches(dataRoutes);\n    initialMatches = matches;\n    initialErrors = {\n      [route.id]: error\n    };\n  }\n  let initialized =\n  // All initialMatches need to be loaded before we're ready.  If we have lazy\n  // functions around still then we'll need to run them in initialize()\n  !initialMatches.some(m => m.route.lazy) && (\n  // And we have to either have no loaders or have been provided hydrationData\n  !initialMatches.some(m => m.route.loader) || init.hydrationData != null);\n  let router;\n  let state = {\n    historyAction: init.history.action,\n    location: init.history.location,\n    matches: initialMatches,\n    initialized,\n    navigation: IDLE_NAVIGATION,\n    // Don't restore on initial updateState() if we were SSR'd\n    restoreScrollPosition: init.hydrationData != null ? false : null,\n    preventScrollReset: false,\n    revalidation: \"idle\",\n    loaderData: init.hydrationData && init.hydrationData.loaderData || {},\n    actionData: init.hydrationData && init.hydrationData.actionData || null,\n    errors: init.hydrationData && init.hydrationData.errors || initialErrors,\n    fetchers: new Map(),\n    blockers: new Map()\n  };\n  // -- Stateful internal variables to manage navigations --\n  // Current navigation in progress (to be committed in completeNavigation)\n  let pendingAction = Action.Pop;\n  // Should the current navigation prevent the scroll reset if scroll cannot\n  // be restored?\n  let pendingPreventScrollReset = false;\n  // AbortController for the active navigation\n  let pendingNavigationController;\n  // We use this to avoid touching history in completeNavigation if a\n  // revalidation is entirely uninterrupted\n  let isUninterruptedRevalidation = false;\n  // Use this internal flag to force revalidation of all loaders:\n  //  - submissions (completed or interrupted)\n  //  - useRevalidator()\n  //  - X-Remix-Revalidate (from redirect)\n  let isRevalidationRequired = false;\n  // Use this internal array to capture routes that require revalidation due\n  // to a cancelled deferred on action submission\n  let cancelledDeferredRoutes = [];\n  // Use this internal array to capture fetcher loads that were cancelled by an\n  // action navigation and require revalidation\n  let cancelledFetcherLoads = [];\n  // AbortControllers for any in-flight fetchers\n  let fetchControllers = new Map();\n  // Track loads based on the order in which they started\n  let incrementingLoadId = 0;\n  // Track the outstanding pending navigation data load to be compared against\n  // the globally incrementing load when a fetcher load lands after a completed\n  // navigation\n  let pendingNavigationLoadId = -1;\n  // Fetchers that triggered data reloads as a result of their actions\n  let fetchReloadIds = new Map();\n  // Fetchers that triggered redirect navigations\n  let fetchRedirectIds = new Set();\n  // Most recent href/match for fetcher.load calls for fetchers\n  let fetchLoadMatches = new Map();\n  // Store DeferredData instances for active route matches.  When a\n  // route loader returns defer() we stick one in here.  Then, when a nested\n  // promise resolves we update loaderData.  If a new navigation starts we\n  // cancel active deferreds for eliminated routes.\n  let activeDeferreds = new Map();\n  // Store blocker functions in a separate Map outside of router state since\n  // we don't need to update UI state if they change\n  let blockerFunctions = new Map();\n  // Flag to ignore the next history update, so we can revert the URL change on\n  // a POP navigation that was blocked by the user without touching router state\n  let ignoreNextHistoryUpdate = false;\n  // Initialize the router, all side effects should be kicked off from here.\n  // Implemented as a Fluent API for ease of:\n  //   let router = createRouter(init).initialize();\n  function initialize() {\n    // If history informs us of a POP navigation, start the navigation but do not update\n    // state.  We'll update our own state once the navigation completes\n    unlistenHistory = init.history.listen(_ref => {\n      let {\n        action: historyAction,\n        location,\n        delta\n      } = _ref;\n      // Ignore this event if it was just us resetting the URL from a\n      // blocked POP navigation\n      if (ignoreNextHistoryUpdate) {\n        ignoreNextHistoryUpdate = false;\n        return;\n      }\n      warning(blockerFunctions.size === 0 || delta != null, \"You are trying to use a blocker on a POP navigation to a location \" + \"that was not created by @remix-run/router. This will fail silently in \" + \"production. This can happen if you are navigating outside the router \" + \"via `window.history.pushState`/`window.location.hash` instead of using \" + \"router navigation APIs.  This can also happen if you are using \" + \"createHashRouter and the user manually changes the URL.\");\n      let blockerKey = shouldBlockNavigation({\n        currentLocation: state.location,\n        nextLocation: location,\n        historyAction\n      });\n      if (blockerKey && delta != null) {\n        // Restore the URL to match the current UI, but don't update router state\n        ignoreNextHistoryUpdate = true;\n        init.history.go(delta * -1);\n        // Put the blocker into a blocked state\n        updateBlocker(blockerKey, {\n          state: \"blocked\",\n          location,\n          proceed() {\n            updateBlocker(blockerKey, {\n              state: \"proceeding\",\n              proceed: undefined,\n              reset: undefined,\n              location\n            });\n            // Re-do the same POP navigation we just blocked\n            init.history.go(delta);\n          },\n          reset() {\n            let blockers = new Map(state.blockers);\n            blockers.set(blockerKey, IDLE_BLOCKER);\n            updateState({\n              blockers\n            });\n          }\n        });\n        return;\n      }\n      return startNavigation(historyAction, location);\n    });\n    // Kick off initial data load if needed.  Use Pop to avoid modifying history\n    // Note we don't do any handling of lazy here.  For SPA's it'll get handled\n    // in the normal navigation flow.  For SSR it's expected that lazy modules are\n    // resolved prior to router creation since we can't go into a fallbackElement\n    // UI for SSR'd apps\n    if (!state.initialized) {\n      startNavigation(Action.Pop, state.location);\n    }\n    return router;\n  }\n  // Clean up a router and it's side effects\n  function dispose() {\n    if (unlistenHistory) {\n      unlistenHistory();\n    }\n    subscribers.clear();\n    pendingNavigationController && pendingNavigationController.abort();\n    state.fetchers.forEach((_, key) => deleteFetcher(key));\n    state.blockers.forEach((_, key) => deleteBlocker(key));\n  }\n  // Subscribe to state updates for the router\n  function subscribe(fn) {\n    subscribers.add(fn);\n    return () => subscribers.delete(fn);\n  }\n  // Update our state and notify the calling context of the change\n  function updateState(newState) {\n    state = _extends({}, state, newState);\n    subscribers.forEach(subscriber => subscriber(state));\n  }\n  // Complete a navigation returning the state.navigation back to the IDLE_NAVIGATION\n  // and setting state.[historyAction/location/matches] to the new route.\n  // - Location is a required param\n  // - Navigation will always be set to IDLE_NAVIGATION\n  // - Can pass any other state in newState\n  function completeNavigation(location, newState) {\n    var _location$state, _location$state2;\n    // Deduce if we're in a loading/actionReload state:\n    // - We have committed actionData in the store\n    // - The current navigation was a mutation submission\n    // - We're past the submitting state and into the loading state\n    // - The location being loaded is not the result of a redirect\n    let isActionReload = state.actionData != null && state.navigation.formMethod != null && isMutationMethod(state.navigation.formMethod) && state.navigation.state === \"loading\" && ((_location$state = location.state) == null ? void 0 : _location$state._isRedirect) !== true;\n    let actionData;\n    if (newState.actionData) {\n      if (Object.keys(newState.actionData).length > 0) {\n        actionData = newState.actionData;\n      } else {\n        // Empty actionData -> clear prior actionData due to an action error\n        actionData = null;\n      }\n    } else if (isActionReload) {\n      // Keep the current data if we're wrapping up the action reload\n      actionData = state.actionData;\n    } else {\n      // Clear actionData on any other completed navigations\n      actionData = null;\n    }\n    // Always preserve any existing loaderData from re-used routes\n    let loaderData = newState.loaderData ? mergeLoaderData(state.loaderData, newState.loaderData, newState.matches || [], newState.errors) : state.loaderData;\n    // On a successful navigation we can assume we got through all blockers\n    // so we can start fresh\n    let blockers = state.blockers;\n    if (blockers.size > 0) {\n      blockers = new Map(blockers);\n      blockers.forEach((_, k) => blockers.set(k, IDLE_BLOCKER));\n    }\n    // Always respect the user flag.  Otherwise don't reset on mutation\n    // submission navigations unless they redirect\n    let preventScrollReset = pendingPreventScrollReset === true || state.navigation.formMethod != null && isMutationMethod(state.navigation.formMethod) && ((_location$state2 = location.state) == null ? void 0 : _location$state2._isRedirect) !== true;\n    if (inFlightDataRoutes) {\n      dataRoutes = inFlightDataRoutes;\n      inFlightDataRoutes = undefined;\n    }\n    if (isUninterruptedRevalidation) ; else if (pendingAction === Action.Pop) ; else if (pendingAction === Action.Push) {\n      init.history.push(location, location.state);\n    } else if (pendingAction === Action.Replace) {\n      init.history.replace(location, location.state);\n    }\n    updateState(_extends({}, newState, {\n      actionData,\n      loaderData,\n      historyAction: pendingAction,\n      location,\n      initialized: true,\n      navigation: IDLE_NAVIGATION,\n      revalidation: \"idle\",\n      restoreScrollPosition: getSavedScrollPosition(location, newState.matches || state.matches),\n      preventScrollReset,\n      blockers\n    }));\n    // Reset stateful navigation vars\n    pendingAction = Action.Pop;\n    pendingPreventScrollReset = false;\n    isUninterruptedRevalidation = false;\n    isRevalidationRequired = false;\n    cancelledDeferredRoutes = [];\n    cancelledFetcherLoads = [];\n  }\n  // Trigger a navigation event, which can either be a numerical POP or a PUSH\n  // replace with an optional submission\n  async function navigate(to, opts) {\n    if (typeof to === \"number\") {\n      init.history.go(to);\n      return;\n    }\n    let normalizedPath = normalizeTo(state.location, state.matches, basename, future.v7_prependBasename, to, opts == null ? void 0 : opts.fromRouteId, opts == null ? void 0 : opts.relative);\n    let {\n      path,\n      submission,\n      error\n    } = normalizeNavigateOptions(future.v7_normalizeFormMethod, false, normalizedPath, opts);\n    let currentLocation = state.location;\n    let nextLocation = createLocation(state.location, path, opts && opts.state);\n    // When using navigate as a PUSH/REPLACE we aren't reading an already-encoded\n    // URL from window.location, so we need to encode it here so the behavior\n    // remains the same as POP and non-data-router usages.  new URL() does all\n    // the same encoding we'd get from a history.pushState/window.location read\n    // without having to touch history\n    nextLocation = _extends({}, nextLocation, init.history.encodeLocation(nextLocation));\n    let userReplace = opts && opts.replace != null ? opts.replace : undefined;\n    let historyAction = Action.Push;\n    if (userReplace === true) {\n      historyAction = Action.Replace;\n    } else if (userReplace === false) ; else if (submission != null && isMutationMethod(submission.formMethod) && submission.formAction === state.location.pathname + state.location.search) {\n      // By default on submissions to the current location we REPLACE so that\n      // users don't have to double-click the back button to get to the prior\n      // location.  If the user redirects to a different location from the\n      // action/loader this will be ignored and the redirect will be a PUSH\n      historyAction = Action.Replace;\n    }\n    let preventScrollReset = opts && \"preventScrollReset\" in opts ? opts.preventScrollReset === true : undefined;\n    let blockerKey = shouldBlockNavigation({\n      currentLocation,\n      nextLocation,\n      historyAction\n    });\n    if (blockerKey) {\n      // Put the blocker into a blocked state\n      updateBlocker(blockerKey, {\n        state: \"blocked\",\n        location: nextLocation,\n        proceed() {\n          updateBlocker(blockerKey, {\n            state: \"proceeding\",\n            proceed: undefined,\n            reset: undefined,\n            location: nextLocation\n          });\n          // Send the same navigation through\n          navigate(to, opts);\n        },\n        reset() {\n          let blockers = new Map(state.blockers);\n          blockers.set(blockerKey, IDLE_BLOCKER);\n          updateState({\n            blockers\n          });\n        }\n      });\n      return;\n    }\n    return await startNavigation(historyAction, nextLocation, {\n      submission,\n      // Send through the formData serialization error if we have one so we can\n      // render at the right error boundary after we match routes\n      pendingError: error,\n      preventScrollReset,\n      replace: opts && opts.replace\n    });\n  }\n  // Revalidate all current loaders.  If a navigation is in progress or if this\n  // is interrupted by a navigation, allow this to \"succeed\" by calling all\n  // loaders during the next loader round\n  function revalidate() {\n    interruptActiveLoads();\n    updateState({\n      revalidation: \"loading\"\n    });\n    // If we're currently submitting an action, we don't need to start a new\n    // navigation, we'll just let the follow up loader execution call all loaders\n    if (state.navigation.state === \"submitting\") {\n      return;\n    }\n    // If we're currently in an idle state, start a new navigation for the current\n    // action/location and mark it as uninterrupted, which will skip the history\n    // update in completeNavigation\n    if (state.navigation.state === \"idle\") {\n      startNavigation(state.historyAction, state.location, {\n        startUninterruptedRevalidation: true\n      });\n      return;\n    }\n    // Otherwise, if we're currently in a loading state, just start a new\n    // navigation to the navigation.location but do not trigger an uninterrupted\n    // revalidation so that history correctly updates once the navigation completes\n    startNavigation(pendingAction || state.historyAction, state.navigation.location, {\n      overrideNavigation: state.navigation\n    });\n  }\n  // Start a navigation to the given action/location.  Can optionally provide a\n  // overrideNavigation which will override the normalLoad in the case of a redirect\n  // navigation\n  async function startNavigation(historyAction, location, opts) {\n    // Abort any in-progress navigations and start a new one. Unset any ongoing\n    // uninterrupted revalidations unless told otherwise, since we want this\n    // new navigation to update history normally\n    pendingNavigationController && pendingNavigationController.abort();\n    pendingNavigationController = null;\n    pendingAction = historyAction;\n    isUninterruptedRevalidation = (opts && opts.startUninterruptedRevalidation) === true;\n    // Save the current scroll position every time we start a new navigation,\n    // and track whether we should reset scroll on completion\n    saveScrollPosition(state.location, state.matches);\n    pendingPreventScrollReset = (opts && opts.preventScrollReset) === true;\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let loadingNavigation = opts && opts.overrideNavigation;\n    let matches = matchRoutes(routesToUse, location, basename);\n    // Short circuit with a 404 on the root error boundary if we match nothing\n    if (!matches) {\n      let error = getInternalRouterError(404, {\n        pathname: location.pathname\n      });\n      let {\n        matches: notFoundMatches,\n        route\n      } = getShortCircuitMatches(routesToUse);\n      // Cancel all pending deferred on 404s since we don't keep any routes\n      cancelActiveDeferreds();\n      completeNavigation(location, {\n        matches: notFoundMatches,\n        loaderData: {},\n        errors: {\n          [route.id]: error\n        }\n      });\n      return;\n    }\n    // Short circuit if it's only a hash change and not a revalidation or\n    // mutation submission.\n    //\n    // Ignore on initial page loads because since the initial load will always\n    // be \"same hash\".  For example, on /page#hash and submit a <Form method=\"post\">\n    // which will default to a navigation to /page\n    if (state.initialized && !isRevalidationRequired && isHashChangeOnly(state.location, location) && !(opts && opts.submission && isMutationMethod(opts.submission.formMethod))) {\n      completeNavigation(location, {\n        matches\n      });\n      return;\n    }\n    // Create a controller/Request for this navigation\n    pendingNavigationController = new AbortController();\n    let request = createClientSideRequest(init.history, location, pendingNavigationController.signal, opts && opts.submission);\n    let pendingActionData;\n    let pendingError;\n    if (opts && opts.pendingError) {\n      // If we have a pendingError, it means the user attempted a GET submission\n      // with binary FormData so assign here and skip to handleLoaders.  That\n      // way we handle calling loaders above the boundary etc.  It's not really\n      // different from an actionError in that sense.\n      pendingError = {\n        [findNearestBoundary(matches).route.id]: opts.pendingError\n      };\n    } else if (opts && opts.submission && isMutationMethod(opts.submission.formMethod)) {\n      // Call action if we received an action submission\n      let actionOutput = await handleAction(request, location, opts.submission, matches, {\n        replace: opts.replace\n      });\n      if (actionOutput.shortCircuited) {\n        return;\n      }\n      pendingActionData = actionOutput.pendingActionData;\n      pendingError = actionOutput.pendingActionError;\n      loadingNavigation = getLoadingNavigation(location, opts.submission);\n      // Create a GET request for the loaders\n      request = new Request(request.url, {\n        signal: request.signal\n      });\n    }\n    // Call loaders\n    let {\n      shortCircuited,\n      loaderData,\n      errors\n    } = await handleLoaders(request, location, matches, loadingNavigation, opts && opts.submission, opts && opts.fetcherSubmission, opts && opts.replace, pendingActionData, pendingError);\n    if (shortCircuited) {\n      return;\n    }\n    // Clean up now that the action/loaders have completed.  Don't clean up if\n    // we short circuited because pendingNavigationController will have already\n    // been assigned to a new controller for the next navigation\n    pendingNavigationController = null;\n    completeNavigation(location, _extends({\n      matches\n    }, pendingActionData ? {\n      actionData: pendingActionData\n    } : {}, {\n      loaderData,\n      errors\n    }));\n  }\n  // Call the action matched by the leaf route for this navigation and handle\n  // redirects/errors\n  async function handleAction(request, location, submission, matches, opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n    interruptActiveLoads();\n    // Put us in a submitting state\n    let navigation = getSubmittingNavigation(location, submission);\n    updateState({\n      navigation\n    });\n    // Call our action and get the result\n    let result;\n    let actionMatch = getTargetMatch(matches, location);\n    if (!actionMatch.route.action && !actionMatch.route.lazy) {\n      result = {\n        type: ResultType.error,\n        error: getInternalRouterError(405, {\n          method: request.method,\n          pathname: location.pathname,\n          routeId: actionMatch.route.id\n        })\n      };\n    } else {\n      result = await callLoaderOrAction(\"action\", request, actionMatch, matches, manifest, mapRouteProperties, basename);\n      if (request.signal.aborted) {\n        return {\n          shortCircuited: true\n        };\n      }\n    }\n    if (isRedirectResult(result)) {\n      let replace;\n      if (opts && opts.replace != null) {\n        replace = opts.replace;\n      } else {\n        // If the user didn't explicity indicate replace behavior, replace if\n        // we redirected to the exact same location we're currently at to avoid\n        // double back-buttons\n        replace = result.location === state.location.pathname + state.location.search;\n      }\n      await startRedirectNavigation(state, result, {\n        submission,\n        replace\n      });\n      return {\n        shortCircuited: true\n      };\n    }\n    if (isErrorResult(result)) {\n      // Store off the pending error - we use it to determine which loaders\n      // to call and will commit it when we complete the navigation\n      let boundaryMatch = findNearestBoundary(matches, actionMatch.route.id);\n      // By default, all submissions are REPLACE navigations, but if the\n      // action threw an error that'll be rendered in an errorElement, we fall\n      // back to PUSH so that the user can use the back button to get back to\n      // the pre-submission form location to try again\n      if ((opts && opts.replace) !== true) {\n        pendingAction = Action.Push;\n      }\n      return {\n        // Send back an empty object we can use to clear out any prior actionData\n        pendingActionData: {},\n        pendingActionError: {\n          [boundaryMatch.route.id]: result.error\n        }\n      };\n    }\n    if (isDeferredResult(result)) {\n      throw getInternalRouterError(400, {\n        type: \"defer-action\"\n      });\n    }\n    return {\n      pendingActionData: {\n        [actionMatch.route.id]: result.data\n      }\n    };\n  }\n  // Call all applicable loaders for the given matches, handling redirects,\n  // errors, etc.\n  async function handleLoaders(request, location, matches, overrideNavigation, submission, fetcherSubmission, replace, pendingActionData, pendingError) {\n    // Figure out the right navigation we want to use for data loading\n    let loadingNavigation = overrideNavigation || getLoadingNavigation(location, submission);\n    // If this was a redirect from an action we don't have a \"submission\" but\n    // we have it on the loading navigation so use that if available\n    let activeSubmission = submission || fetcherSubmission || getSubmissionFromNavigation(loadingNavigation);\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let [matchesToLoad, revalidatingFetchers] = getMatchesToLoad(init.history, state, matches, activeSubmission, location, isRevalidationRequired, cancelledDeferredRoutes, cancelledFetcherLoads, fetchLoadMatches, fetchRedirectIds, routesToUse, basename, pendingActionData, pendingError);\n    // Cancel pending deferreds for no-longer-matched routes or routes we're\n    // about to reload.  Note that if this is an action reload we would have\n    // already cancelled all pending deferreds so this would be a no-op\n    cancelActiveDeferreds(routeId => !(matches && matches.some(m => m.route.id === routeId)) || matchesToLoad && matchesToLoad.some(m => m.route.id === routeId));\n    pendingNavigationLoadId = ++incrementingLoadId;\n    // Short circuit if we have no loaders to run\n    if (matchesToLoad.length === 0 && revalidatingFetchers.length === 0) {\n      let updatedFetchers = markFetchRedirectsDone();\n      completeNavigation(location, _extends({\n        matches,\n        loaderData: {},\n        // Commit pending error if we're short circuiting\n        errors: pendingError || null\n      }, pendingActionData ? {\n        actionData: pendingActionData\n      } : {}, updatedFetchers ? {\n        fetchers: new Map(state.fetchers)\n      } : {}));\n      return {\n        shortCircuited: true\n      };\n    }\n    // If this is an uninterrupted revalidation, we remain in our current idle\n    // state.  If not, we need to switch to our loading state and load data,\n    // preserving any new action data or existing action data (in the case of\n    // a revalidation interrupting an actionReload)\n    if (!isUninterruptedRevalidation) {\n      revalidatingFetchers.forEach(rf => {\n        let fetcher = state.fetchers.get(rf.key);\n        let revalidatingFetcher = getLoadingFetcher(undefined, fetcher ? fetcher.data : undefined);\n        state.fetchers.set(rf.key, revalidatingFetcher);\n      });\n      let actionData = pendingActionData || state.actionData;\n      updateState(_extends({\n        navigation: loadingNavigation\n      }, actionData ? Object.keys(actionData).length === 0 ? {\n        actionData: null\n      } : {\n        actionData\n      } : {}, revalidatingFetchers.length > 0 ? {\n        fetchers: new Map(state.fetchers)\n      } : {}));\n    }\n    revalidatingFetchers.forEach(rf => {\n      if (fetchControllers.has(rf.key)) {\n        abortFetcher(rf.key);\n      }\n      if (rf.controller) {\n        // Fetchers use an independent AbortController so that aborting a fetcher\n        // (via deleteFetcher) does not abort the triggering navigation that\n        // triggered the revalidation\n        fetchControllers.set(rf.key, rf.controller);\n      }\n    });\n    // Proxy navigation abort through to revalidation fetchers\n    let abortPendingFetchRevalidations = () => revalidatingFetchers.forEach(f => abortFetcher(f.key));\n    if (pendingNavigationController) {\n      pendingNavigationController.signal.addEventListener(\"abort\", abortPendingFetchRevalidations);\n    }\n    let {\n      results,\n      loaderResults,\n      fetcherResults\n    } = await callLoadersAndMaybeResolveData(state.matches, matches, matchesToLoad, revalidatingFetchers, request);\n    if (request.signal.aborted) {\n      return {\n        shortCircuited: true\n      };\n    }\n    // Clean up _after_ loaders have completed.  Don't clean up if we short\n    // circuited because fetchControllers would have been aborted and\n    // reassigned to new controllers for the next navigation\n    if (pendingNavigationController) {\n      pendingNavigationController.signal.removeEventListener(\"abort\", abortPendingFetchRevalidations);\n    }\n    revalidatingFetchers.forEach(rf => fetchControllers.delete(rf.key));\n    // If any loaders returned a redirect Response, start a new REPLACE navigation\n    let redirect = findRedirect(results);\n    if (redirect) {\n      if (redirect.idx >= matchesToLoad.length) {\n        // If this redirect came from a fetcher make sure we mark it in\n        // fetchRedirectIds so it doesn't get revalidated on the next set of\n        // loader executions\n        let fetcherKey = revalidatingFetchers[redirect.idx - matchesToLoad.length].key;\n        fetchRedirectIds.add(fetcherKey);\n      }\n      await startRedirectNavigation(state, redirect.result, {\n        replace\n      });\n      return {\n        shortCircuited: true\n      };\n    }\n    // Process and commit output from loaders\n    let {\n      loaderData,\n      errors\n    } = processLoaderData(state, matches, matchesToLoad, loaderResults, pendingError, revalidatingFetchers, fetcherResults, activeDeferreds);\n    // Wire up subscribers to update loaderData as promises settle\n    activeDeferreds.forEach((deferredData, routeId) => {\n      deferredData.subscribe(aborted => {\n        // Note: No need to updateState here since the TrackedPromise on\n        // loaderData is stable across resolve/reject\n        // Remove this instance if we were aborted or if promises have settled\n        if (aborted || deferredData.done) {\n          activeDeferreds.delete(routeId);\n        }\n      });\n    });\n    let updatedFetchers = markFetchRedirectsDone();\n    let didAbortFetchLoads = abortStaleFetchLoads(pendingNavigationLoadId);\n    let shouldUpdateFetchers = updatedFetchers || didAbortFetchLoads || revalidatingFetchers.length > 0;\n    return _extends({\n      loaderData,\n      errors\n    }, shouldUpdateFetchers ? {\n      fetchers: new Map(state.fetchers)\n    } : {});\n  }\n  function getFetcher(key) {\n    return state.fetchers.get(key) || IDLE_FETCHER;\n  }\n  // Trigger a fetcher load/submit for the given fetcher key\n  function fetch(key, routeId, href, opts) {\n    if (isServer) {\n      throw new Error(\"router.fetch() was called during the server render, but it shouldn't be. \" + \"You are likely calling a useFetcher() method in the body of your component. \" + \"Try moving it to a useEffect or a callback.\");\n    }\n    if (fetchControllers.has(key)) abortFetcher(key);\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let normalizedPath = normalizeTo(state.location, state.matches, basename, future.v7_prependBasename, href, routeId, opts == null ? void 0 : opts.relative);\n    let matches = matchRoutes(routesToUse, normalizedPath, basename);\n    if (!matches) {\n      setFetcherError(key, routeId, getInternalRouterError(404, {\n        pathname: normalizedPath\n      }));\n      return;\n    }\n    let {\n      path,\n      submission,\n      error\n    } = normalizeNavigateOptions(future.v7_normalizeFormMethod, true, normalizedPath, opts);\n    if (error) {\n      setFetcherError(key, routeId, error);\n      return;\n    }\n    let match = getTargetMatch(matches, path);\n    pendingPreventScrollReset = (opts && opts.preventScrollReset) === true;\n    if (submission && isMutationMethod(submission.formMethod)) {\n      handleFetcherAction(key, routeId, path, match, matches, submission);\n      return;\n    }\n    // Store off the match so we can call it's shouldRevalidate on subsequent\n    // revalidations\n    fetchLoadMatches.set(key, {\n      routeId,\n      path\n    });\n    handleFetcherLoader(key, routeId, path, match, matches, submission);\n  }\n  // Call the action for the matched fetcher.submit(), and then handle redirects,\n  // errors, and revalidation\n  async function handleFetcherAction(key, routeId, path, match, requestMatches, submission) {\n    interruptActiveLoads();\n    fetchLoadMatches.delete(key);\n    if (!match.route.action && !match.route.lazy) {\n      let error = getInternalRouterError(405, {\n        method: submission.formMethod,\n        pathname: path,\n        routeId: routeId\n      });\n      setFetcherError(key, routeId, error);\n      return;\n    }\n    // Put this fetcher into it's submitting state\n    let existingFetcher = state.fetchers.get(key);\n    let fetcher = getSubmittingFetcher(submission, existingFetcher);\n    state.fetchers.set(key, fetcher);\n    updateState({\n      fetchers: new Map(state.fetchers)\n    });\n    // Call the action for the fetcher\n    let abortController = new AbortController();\n    let fetchRequest = createClientSideRequest(init.history, path, abortController.signal, submission);\n    fetchControllers.set(key, abortController);\n    let originatingLoadId = incrementingLoadId;\n    let actionResult = await callLoaderOrAction(\"action\", fetchRequest, match, requestMatches, manifest, mapRouteProperties, basename);\n    if (fetchRequest.signal.aborted) {\n      // We can delete this so long as we weren't aborted by ou our own fetcher\n      // re-submit which would have put _new_ controller is in fetchControllers\n      if (fetchControllers.get(key) === abortController) {\n        fetchControllers.delete(key);\n      }\n      return;\n    }\n    if (isRedirectResult(actionResult)) {\n      fetchControllers.delete(key);\n      if (pendingNavigationLoadId > originatingLoadId) {\n        // A new navigation was kicked off after our action started, so that\n        // should take precedence over this redirect navigation.  We already\n        // set isRevalidationRequired so all loaders for the new route should\n        // fire unless opted out via shouldRevalidate\n        let doneFetcher = getDoneFetcher(undefined);\n        state.fetchers.set(key, doneFetcher);\n        updateState({\n          fetchers: new Map(state.fetchers)\n        });\n        return;\n      } else {\n        fetchRedirectIds.add(key);\n        let loadingFetcher = getLoadingFetcher(submission);\n        state.fetchers.set(key, loadingFetcher);\n        updateState({\n          fetchers: new Map(state.fetchers)\n        });\n        return startRedirectNavigation(state, actionResult, {\n          submission,\n          isFetchActionRedirect: true\n        });\n      }\n    }\n    // Process any non-redirect errors thrown\n    if (isErrorResult(actionResult)) {\n      setFetcherError(key, routeId, actionResult.error);\n      return;\n    }\n    if (isDeferredResult(actionResult)) {\n      throw getInternalRouterError(400, {\n        type: \"defer-action\"\n      });\n    }\n    // Start the data load for current matches, or the next location if we're\n    // in the middle of a navigation\n    let nextLocation = state.navigation.location || state.location;\n    let revalidationRequest = createClientSideRequest(init.history, nextLocation, abortController.signal);\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let matches = state.navigation.state !== \"idle\" ? matchRoutes(routesToUse, state.navigation.location, basename) : state.matches;\n    invariant(matches, \"Didn't find any matches after fetcher action\");\n    let loadId = ++incrementingLoadId;\n    fetchReloadIds.set(key, loadId);\n    let loadFetcher = getLoadingFetcher(submission, actionResult.data);\n    state.fetchers.set(key, loadFetcher);\n    let [matchesToLoad, revalidatingFetchers] = getMatchesToLoad(init.history, state, matches, submission, nextLocation, isRevalidationRequired, cancelledDeferredRoutes, cancelledFetcherLoads, fetchLoadMatches, fetchRedirectIds, routesToUse, basename, {\n      [match.route.id]: actionResult.data\n    }, undefined // No need to send through errors since we short circuit above\n    );\n    // Put all revalidating fetchers into the loading state, except for the\n    // current fetcher which we want to keep in it's current loading state which\n    // contains it's action submission info + action data\n    revalidatingFetchers.filter(rf => rf.key !== key).forEach(rf => {\n      let staleKey = rf.key;\n      let existingFetcher = state.fetchers.get(staleKey);\n      let revalidatingFetcher = getLoadingFetcher(undefined, existingFetcher ? existingFetcher.data : undefined);\n      state.fetchers.set(staleKey, revalidatingFetcher);\n      if (fetchControllers.has(staleKey)) {\n        abortFetcher(staleKey);\n      }\n      if (rf.controller) {\n        fetchControllers.set(staleKey, rf.controller);\n      }\n    });\n    updateState({\n      fetchers: new Map(state.fetchers)\n    });\n    let abortPendingFetchRevalidations = () => revalidatingFetchers.forEach(rf => abortFetcher(rf.key));\n    abortController.signal.addEventListener(\"abort\", abortPendingFetchRevalidations);\n    let {\n      results,\n      loaderResults,\n      fetcherResults\n    } = await callLoadersAndMaybeResolveData(state.matches, matches, matchesToLoad, revalidatingFetchers, revalidationRequest);\n    if (abortController.signal.aborted) {\n      return;\n    }\n    abortController.signal.removeEventListener(\"abort\", abortPendingFetchRevalidations);\n    fetchReloadIds.delete(key);\n    fetchControllers.delete(key);\n    revalidatingFetchers.forEach(r => fetchControllers.delete(r.key));\n    let redirect = findRedirect(results);\n    if (redirect) {\n      if (redirect.idx >= matchesToLoad.length) {\n        // If this redirect came from a fetcher make sure we mark it in\n        // fetchRedirectIds so it doesn't get revalidated on the next set of\n        // loader executions\n        let fetcherKey = revalidatingFetchers[redirect.idx - matchesToLoad.length].key;\n        fetchRedirectIds.add(fetcherKey);\n      }\n      return startRedirectNavigation(state, redirect.result);\n    }\n    // Process and commit output from loaders\n    let {\n      loaderData,\n      errors\n    } = processLoaderData(state, state.matches, matchesToLoad, loaderResults, undefined, revalidatingFetchers, fetcherResults, activeDeferreds);\n    // Since we let revalidations complete even if the submitting fetcher was\n    // deleted, only put it back to idle if it hasn't been deleted\n    if (state.fetchers.has(key)) {\n      let doneFetcher = getDoneFetcher(actionResult.data);\n      state.fetchers.set(key, doneFetcher);\n    }\n    let didAbortFetchLoads = abortStaleFetchLoads(loadId);\n    // If we are currently in a navigation loading state and this fetcher is\n    // more recent than the navigation, we want the newer data so abort the\n    // navigation and complete it with the fetcher data\n    if (state.navigation.state === \"loading\" && loadId > pendingNavigationLoadId) {\n      invariant(pendingAction, \"Expected pending action\");\n      pendingNavigationController && pendingNavigationController.abort();\n      completeNavigation(state.navigation.location, {\n        matches,\n        loaderData,\n        errors,\n        fetchers: new Map(state.fetchers)\n      });\n    } else {\n      // otherwise just update with the fetcher data, preserving any existing\n      // loaderData for loaders that did not need to reload.  We have to\n      // manually merge here since we aren't going through completeNavigation\n      updateState(_extends({\n        errors,\n        loaderData: mergeLoaderData(state.loaderData, loaderData, matches, errors)\n      }, didAbortFetchLoads || revalidatingFetchers.length > 0 ? {\n        fetchers: new Map(state.fetchers)\n      } : {}));\n      isRevalidationRequired = false;\n    }\n  }\n  // Call the matched loader for fetcher.load(), handling redirects, errors, etc.\n  async function handleFetcherLoader(key, routeId, path, match, matches, submission) {\n    let existingFetcher = state.fetchers.get(key);\n    // Put this fetcher into it's loading state\n    let loadingFetcher = getLoadingFetcher(submission, existingFetcher ? existingFetcher.data : undefined);\n    state.fetchers.set(key, loadingFetcher);\n    updateState({\n      fetchers: new Map(state.fetchers)\n    });\n    // Call the loader for this fetcher route match\n    let abortController = new AbortController();\n    let fetchRequest = createClientSideRequest(init.history, path, abortController.signal);\n    fetchControllers.set(key, abortController);\n    let originatingLoadId = incrementingLoadId;\n    let result = await callLoaderOrAction(\"loader\", fetchRequest, match, matches, manifest, mapRouteProperties, basename);\n    // Deferred isn't supported for fetcher loads, await everything and treat it\n    // as a normal load.  resolveDeferredData will return undefined if this\n    // fetcher gets aborted, so we just leave result untouched and short circuit\n    // below if that happens\n    if (isDeferredResult(result)) {\n      result = (await resolveDeferredData(result, fetchRequest.signal, true)) || result;\n    }\n    // We can delete this so long as we weren't aborted by our our own fetcher\n    // re-load which would have put _new_ controller is in fetchControllers\n    if (fetchControllers.get(key) === abortController) {\n      fetchControllers.delete(key);\n    }\n    if (fetchRequest.signal.aborted) {\n      return;\n    }\n    // If the loader threw a redirect Response, start a new REPLACE navigation\n    if (isRedirectResult(result)) {\n      if (pendingNavigationLoadId > originatingLoadId) {\n        // A new navigation was kicked off after our loader started, so that\n        // should take precedence over this redirect navigation\n        let doneFetcher = getDoneFetcher(undefined);\n        state.fetchers.set(key, doneFetcher);\n        updateState({\n          fetchers: new Map(state.fetchers)\n        });\n        return;\n      } else {\n        fetchRedirectIds.add(key);\n        await startRedirectNavigation(state, result);\n        return;\n      }\n    }\n    // Process any non-redirect errors thrown\n    if (isErrorResult(result)) {\n      let boundaryMatch = findNearestBoundary(state.matches, routeId);\n      state.fetchers.delete(key);\n      // TODO: In remix, this would reset to IDLE_NAVIGATION if it was a catch -\n      // do we need to behave any differently with our non-redirect errors?\n      // What if it was a non-redirect Response?\n      updateState({\n        fetchers: new Map(state.fetchers),\n        errors: {\n          [boundaryMatch.route.id]: result.error\n        }\n      });\n      return;\n    }\n    invariant(!isDeferredResult(result), \"Unhandled fetcher deferred data\");\n    // Put the fetcher back into an idle state\n    let doneFetcher = getDoneFetcher(result.data);\n    state.fetchers.set(key, doneFetcher);\n    updateState({\n      fetchers: new Map(state.fetchers)\n    });\n  }\n  /**\n   * Utility function to handle redirects returned from an action or loader.\n   * Normally, a redirect \"replaces\" the navigation that triggered it.  So, for\n   * example:\n   *\n   *  - user is on /a\n   *  - user clicks a link to /b\n   *  - loader for /b redirects to /c\n   *\n   * In a non-JS app the browser would track the in-flight navigation to /b and\n   * then replace it with /c when it encountered the redirect response.  In\n   * the end it would only ever update the URL bar with /c.\n   *\n   * In client-side routing using pushState/replaceState, we aim to emulate\n   * this behavior and we also do not update history until the end of the\n   * navigation (including processed redirects).  This means that we never\n   * actually touch history until we've processed redirects, so we just use\n   * the history action from the original navigation (PUSH or REPLACE).\n   */\n  async function startRedirectNavigation(state, redirect, _temp) {\n    let {\n      submission,\n      replace,\n      isFetchActionRedirect\n    } = _temp === void 0 ? {} : _temp;\n    if (redirect.revalidate) {\n      isRevalidationRequired = true;\n    }\n    let redirectLocation = createLocation(state.location, redirect.location, // TODO: This can be removed once we get rid of useTransition in Remix v2\n    _extends({\n      _isRedirect: true\n    }, isFetchActionRedirect ? {\n      _isFetchActionRedirect: true\n    } : {}));\n    invariant(redirectLocation, \"Expected a location on the redirect navigation\");\n    if (isBrowser) {\n      let isDocumentReload = false;\n      if (redirect.reloadDocument) {\n        // Hard reload if the response contained X-Remix-Reload-Document\n        isDocumentReload = true;\n      } else if (ABSOLUTE_URL_REGEX.test(redirect.location)) {\n        const url = init.history.createURL(redirect.location);\n        isDocumentReload =\n        // Hard reload if it's an absolute URL to a new origin\n        url.origin !== routerWindow.location.origin ||\n        // Hard reload if it's an absolute URL that does not match our basename\n        stripBasename(url.pathname, basename) == null;\n      }\n      if (isDocumentReload) {\n        if (replace) {\n          routerWindow.location.replace(redirect.location);\n        } else {\n          routerWindow.location.assign(redirect.location);\n        }\n        return;\n      }\n    }\n    // There's no need to abort on redirects, since we don't detect the\n    // redirect until the action/loaders have settled\n    pendingNavigationController = null;\n    let redirectHistoryAction = replace === true ? Action.Replace : Action.Push;\n    // Use the incoming submission if provided, fallback on the active one in\n    // state.navigation\n    let activeSubmission = submission || getSubmissionFromNavigation(state.navigation);\n    // If this was a 307/308 submission we want to preserve the HTTP method and\n    // re-submit the GET/POST/PUT/PATCH/DELETE as a submission navigation to the\n    // redirected location\n    if (redirectPreserveMethodStatusCodes.has(redirect.status) && activeSubmission && isMutationMethod(activeSubmission.formMethod)) {\n      await startNavigation(redirectHistoryAction, redirectLocation, {\n        submission: _extends({}, activeSubmission, {\n          formAction: redirect.location\n        }),\n        // Preserve this flag across redirects\n        preventScrollReset: pendingPreventScrollReset\n      });\n    } else if (isFetchActionRedirect) {\n      // For a fetch action redirect, we kick off a new loading navigation\n      // without the fetcher submission, but we send it along for shouldRevalidate\n      await startNavigation(redirectHistoryAction, redirectLocation, {\n        overrideNavigation: getLoadingNavigation(redirectLocation),\n        fetcherSubmission: activeSubmission,\n        // Preserve this flag across redirects\n        preventScrollReset: pendingPreventScrollReset\n      });\n    } else {\n      // If we have a submission, we will preserve it through the redirect navigation\n      let overrideNavigation = getLoadingNavigation(redirectLocation, activeSubmission);\n      await startNavigation(redirectHistoryAction, redirectLocation, {\n        overrideNavigation,\n        // Preserve this flag across redirects\n        preventScrollReset: pendingPreventScrollReset\n      });\n    }\n  }\n  async function callLoadersAndMaybeResolveData(currentMatches, matches, matchesToLoad, fetchersToLoad, request) {\n    // Call all navigation loaders and revalidating fetcher loaders in parallel,\n    // then slice off the results into separate arrays so we can handle them\n    // accordingly\n    let results = await Promise.all([...matchesToLoad.map(match => callLoaderOrAction(\"loader\", request, match, matches, manifest, mapRouteProperties, basename)), ...fetchersToLoad.map(f => {\n      if (f.matches && f.match && f.controller) {\n        return callLoaderOrAction(\"loader\", createClientSideRequest(init.history, f.path, f.controller.signal), f.match, f.matches, manifest, mapRouteProperties, basename);\n      } else {\n        let error = {\n          type: ResultType.error,\n          error: getInternalRouterError(404, {\n            pathname: f.path\n          })\n        };\n        return error;\n      }\n    })]);\n    let loaderResults = results.slice(0, matchesToLoad.length);\n    let fetcherResults = results.slice(matchesToLoad.length);\n    await Promise.all([resolveDeferredResults(currentMatches, matchesToLoad, loaderResults, loaderResults.map(() => request.signal), false, state.loaderData), resolveDeferredResults(currentMatches, fetchersToLoad.map(f => f.match), fetcherResults, fetchersToLoad.map(f => f.controller ? f.controller.signal : null), true)]);\n    return {\n      results,\n      loaderResults,\n      fetcherResults\n    };\n  }\n  function interruptActiveLoads() {\n    // Every interruption triggers a revalidation\n    isRevalidationRequired = true;\n    // Cancel pending route-level deferreds and mark cancelled routes for\n    // revalidation\n    cancelledDeferredRoutes.push(...cancelActiveDeferreds());\n    // Abort in-flight fetcher loads\n    fetchLoadMatches.forEach((_, key) => {\n      if (fetchControllers.has(key)) {\n        cancelledFetcherLoads.push(key);\n        abortFetcher(key);\n      }\n    });\n  }\n  function setFetcherError(key, routeId, error) {\n    let boundaryMatch = findNearestBoundary(state.matches, routeId);\n    deleteFetcher(key);\n    updateState({\n      errors: {\n        [boundaryMatch.route.id]: error\n      },\n      fetchers: new Map(state.fetchers)\n    });\n  }\n  function deleteFetcher(key) {\n    let fetcher = state.fetchers.get(key);\n    // Don't abort the controller if this is a deletion of a fetcher.submit()\n    // in it's loading phase since - we don't want to abort the corresponding\n    // revalidation and want them to complete and land\n    if (fetchControllers.has(key) && !(fetcher && fetcher.state === \"loading\" && fetchReloadIds.has(key))) {\n      abortFetcher(key);\n    }\n    fetchLoadMatches.delete(key);\n    fetchReloadIds.delete(key);\n    fetchRedirectIds.delete(key);\n    state.fetchers.delete(key);\n  }\n  function abortFetcher(key) {\n    let controller = fetchControllers.get(key);\n    invariant(controller, \"Expected fetch controller: \" + key);\n    controller.abort();\n    fetchControllers.delete(key);\n  }\n  function markFetchersDone(keys) {\n    for (let key of keys) {\n      let fetcher = getFetcher(key);\n      let doneFetcher = getDoneFetcher(fetcher.data);\n      state.fetchers.set(key, doneFetcher);\n    }\n  }\n  function markFetchRedirectsDone() {\n    let doneKeys = [];\n    let updatedFetchers = false;\n    for (let key of fetchRedirectIds) {\n      let fetcher = state.fetchers.get(key);\n      invariant(fetcher, \"Expected fetcher: \" + key);\n      if (fetcher.state === \"loading\") {\n        fetchRedirectIds.delete(key);\n        doneKeys.push(key);\n        updatedFetchers = true;\n      }\n    }\n    markFetchersDone(doneKeys);\n    return updatedFetchers;\n  }\n  function abortStaleFetchLoads(landedId) {\n    let yeetedKeys = [];\n    for (let [key, id] of fetchReloadIds) {\n      if (id < landedId) {\n        let fetcher = state.fetchers.get(key);\n        invariant(fetcher, \"Expected fetcher: \" + key);\n        if (fetcher.state === \"loading\") {\n          abortFetcher(key);\n          fetchReloadIds.delete(key);\n          yeetedKeys.push(key);\n        }\n      }\n    }\n    markFetchersDone(yeetedKeys);\n    return yeetedKeys.length > 0;\n  }\n  function getBlocker(key, fn) {\n    let blocker = state.blockers.get(key) || IDLE_BLOCKER;\n    if (blockerFunctions.get(key) !== fn) {\n      blockerFunctions.set(key, fn);\n    }\n    return blocker;\n  }\n  function deleteBlocker(key) {\n    state.blockers.delete(key);\n    blockerFunctions.delete(key);\n  }\n  // Utility function to update blockers, ensuring valid state transitions\n  function updateBlocker(key, newBlocker) {\n    let blocker = state.blockers.get(key) || IDLE_BLOCKER;\n    // Poor mans state machine :)\n    // https://mermaid.live/edit#pako:eNqVkc9OwzAMxl8l8nnjAYrEtDIOHEBIgwvKJTReGy3_lDpIqO27k6awMG0XcrLlnz87nwdonESogKXXBuE79rq75XZO3-yHds0RJVuv70YrPlUrCEe2HfrORS3rubqZfuhtpg5C9wk5tZ4VKcRUq88q9Z8RS0-48cE1iHJkL0ugbHuFLus9L6spZy8nX9MP2CNdomVaposqu3fGayT8T8-jJQwhepo_UtpgBQaDEUom04dZhAN1aJBDlUKJBxE1ceB2Smj0Mln-IBW5AFU2dwUiktt_2Qaq2dBfaKdEup85UV7Yd-dKjlnkabl2Pvr0DTkTreM\n    invariant(blocker.state === \"unblocked\" && newBlocker.state === \"blocked\" || blocker.state === \"blocked\" && newBlocker.state === \"blocked\" || blocker.state === \"blocked\" && newBlocker.state === \"proceeding\" || blocker.state === \"blocked\" && newBlocker.state === \"unblocked\" || blocker.state === \"proceeding\" && newBlocker.state === \"unblocked\", \"Invalid blocker state transition: \" + blocker.state + \" -> \" + newBlocker.state);\n    let blockers = new Map(state.blockers);\n    blockers.set(key, newBlocker);\n    updateState({\n      blockers\n    });\n  }\n  function shouldBlockNavigation(_ref2) {\n    let {\n      currentLocation,\n      nextLocation,\n      historyAction\n    } = _ref2;\n    if (blockerFunctions.size === 0) {\n      return;\n    }\n    // We ony support a single active blocker at the moment since we don't have\n    // any compelling use cases for multi-blocker yet\n    if (blockerFunctions.size > 1) {\n      warning(false, \"A router only supports one blocker at a time\");\n    }\n    let entries = Array.from(blockerFunctions.entries());\n    let [blockerKey, blockerFunction] = entries[entries.length - 1];\n    let blocker = state.blockers.get(blockerKey);\n    if (blocker && blocker.state === \"proceeding\") {\n      // If the blocker is currently proceeding, we don't need to re-check\n      // it and can let this navigation continue\n      return;\n    }\n    // At this point, we know we're unblocked/blocked so we need to check the\n    // user-provided blocker function\n    if (blockerFunction({\n      currentLocation,\n      nextLocation,\n      historyAction\n    })) {\n      return blockerKey;\n    }\n  }\n  function cancelActiveDeferreds(predicate) {\n    let cancelledRouteIds = [];\n    activeDeferreds.forEach((dfd, routeId) => {\n      if (!predicate || predicate(routeId)) {\n        // Cancel the deferred - but do not remove from activeDeferreds here -\n        // we rely on the subscribers to do that so our tests can assert proper\n        // cleanup via _internalActiveDeferreds\n        dfd.cancel();\n        cancelledRouteIds.push(routeId);\n        activeDeferreds.delete(routeId);\n      }\n    });\n    return cancelledRouteIds;\n  }\n  // Opt in to capturing and reporting scroll positions during navigations,\n  // used by the <ScrollRestoration> component\n  function enableScrollRestoration(positions, getPosition, getKey) {\n    savedScrollPositions = positions;\n    getScrollPosition = getPosition;\n    getScrollRestorationKey = getKey || null;\n    // Perform initial hydration scroll restoration, since we miss the boat on\n    // the initial updateState() because we've not yet rendered <ScrollRestoration/>\n    // and therefore have no savedScrollPositions available\n    if (!initialScrollRestored && state.navigation === IDLE_NAVIGATION) {\n      initialScrollRestored = true;\n      let y = getSavedScrollPosition(state.location, state.matches);\n      if (y != null) {\n        updateState({\n          restoreScrollPosition: y\n        });\n      }\n    }\n    return () => {\n      savedScrollPositions = null;\n      getScrollPosition = null;\n      getScrollRestorationKey = null;\n    };\n  }\n  function getScrollKey(location, matches) {\n    if (getScrollRestorationKey) {\n      let key = getScrollRestorationKey(location, matches.map(m => createUseMatchesMatch(m, state.loaderData)));\n      return key || location.key;\n    }\n    return location.key;\n  }\n  function saveScrollPosition(location, matches) {\n    if (savedScrollPositions && getScrollPosition) {\n      let key = getScrollKey(location, matches);\n      savedScrollPositions[key] = getScrollPosition();\n    }\n  }\n  function getSavedScrollPosition(location, matches) {\n    if (savedScrollPositions) {\n      let key = getScrollKey(location, matches);\n      let y = savedScrollPositions[key];\n      if (typeof y === \"number\") {\n        return y;\n      }\n    }\n    return null;\n  }\n  function _internalSetRoutes(newRoutes) {\n    manifest = {};\n    inFlightDataRoutes = convertRoutesToDataRoutes(newRoutes, mapRouteProperties, undefined, manifest);\n  }\n  router = {\n    get basename() {\n      return basename;\n    },\n    get state() {\n      return state;\n    },\n    get routes() {\n      return dataRoutes;\n    },\n    initialize,\n    subscribe,\n    enableScrollRestoration,\n    navigate,\n    fetch,\n    revalidate,\n    // Passthrough to history-aware createHref used by useHref so we get proper\n    // hash-aware URLs in DOM paths\n    createHref: to => init.history.createHref(to),\n    encodeLocation: to => init.history.encodeLocation(to),\n    getFetcher,\n    deleteFetcher,\n    dispose,\n    getBlocker,\n    deleteBlocker,\n    _internalFetchControllers: fetchControllers,\n    _internalActiveDeferreds: activeDeferreds,\n    // TODO: Remove setRoutes, it's temporary to avoid dealing with\n    // updating the tree while validating the update algorithm.\n    _internalSetRoutes\n  };\n  return router;\n}\n//#endregion\n////////////////////////////////////////////////////////////////////////////////\n//#region createStaticHandler\n////////////////////////////////////////////////////////////////////////////////\nconst UNSAFE_DEFERRED_SYMBOL = Symbol(\"deferred\");\nfunction createStaticHandler(routes, opts) {\n  invariant(routes.length > 0, \"You must provide a non-empty routes array to createStaticHandler\");\n  let manifest = {};\n  let basename = (opts ? opts.basename : null) || \"/\";\n  let mapRouteProperties;\n  if (opts != null && opts.mapRouteProperties) {\n    mapRouteProperties = opts.mapRouteProperties;\n  } else if (opts != null && opts.detectErrorBoundary) {\n    // If they are still using the deprecated version, wrap it with the new API\n    let detectErrorBoundary = opts.detectErrorBoundary;\n    mapRouteProperties = route => ({\n      hasErrorBoundary: detectErrorBoundary(route)\n    });\n  } else {\n    mapRouteProperties = defaultMapRouteProperties;\n  }\n  let dataRoutes = convertRoutesToDataRoutes(routes, mapRouteProperties, undefined, manifest);\n  /**\n   * The query() method is intended for document requests, in which we want to\n   * call an optional action and potentially multiple loaders for all nested\n   * routes.  It returns a StaticHandlerContext object, which is very similar\n   * to the router state (location, loaderData, actionData, errors, etc.) and\n   * also adds SSR-specific information such as the statusCode and headers\n   * from action/loaders Responses.\n   *\n   * It _should_ never throw and should report all errors through the\n   * returned context.errors object, properly associating errors to their error\n   * boundary.  Additionally, it tracks _deepestRenderedBoundaryId which can be\n   * used to emulate React error boundaries during SSr by performing a second\n   * pass only down to the boundaryId.\n   *\n   * The one exception where we do not return a StaticHandlerContext is when a\n   * redirect response is returned or thrown from any action/loader.  We\n   * propagate that out and return the raw Response so the HTTP server can\n   * return it directly.\n   */\n  async function query(request, _temp2) {\n    let {\n      requestContext\n    } = _temp2 === void 0 ? {} : _temp2;\n    let url = new URL(request.url);\n    let method = request.method;\n    let location = createLocation(\"\", createPath(url), null, \"default\");\n    let matches = matchRoutes(dataRoutes, location, basename);\n    // SSR supports HEAD requests while SPA doesn't\n    if (!isValidMethod(method) && method !== \"HEAD\") {\n      let error = getInternalRouterError(405, {\n        method\n      });\n      let {\n        matches: methodNotAllowedMatches,\n        route\n      } = getShortCircuitMatches(dataRoutes);\n      return {\n        basename,\n        location,\n        matches: methodNotAllowedMatches,\n        loaderData: {},\n        actionData: null,\n        errors: {\n          [route.id]: error\n        },\n        statusCode: error.status,\n        loaderHeaders: {},\n        actionHeaders: {},\n        activeDeferreds: null\n      };\n    } else if (!matches) {\n      let error = getInternalRouterError(404, {\n        pathname: location.pathname\n      });\n      let {\n        matches: notFoundMatches,\n        route\n      } = getShortCircuitMatches(dataRoutes);\n      return {\n        basename,\n        location,\n        matches: notFoundMatches,\n        loaderData: {},\n        actionData: null,\n        errors: {\n          [route.id]: error\n        },\n        statusCode: error.status,\n        loaderHeaders: {},\n        actionHeaders: {},\n        activeDeferreds: null\n      };\n    }\n    let result = await queryImpl(request, location, matches, requestContext);\n    if (isResponse(result)) {\n      return result;\n    }\n    // When returning StaticHandlerContext, we patch back in the location here\n    // since we need it for React Context.  But this helps keep our submit and\n    // loadRouteData operating on a Request instead of a Location\n    return _extends({\n      location,\n      basename\n    }, result);\n  }\n  /**\n   * The queryRoute() method is intended for targeted route requests, either\n   * for fetch ?_data requests or resource route requests.  In this case, we\n   * are only ever calling a single action or loader, and we are returning the\n   * returned value directly.  In most cases, this will be a Response returned\n   * from the action/loader, but it may be a primitive or other value as well -\n   * and in such cases the calling context should handle that accordingly.\n   *\n   * We do respect the throw/return differentiation, so if an action/loader\n   * throws, then this method will throw the value.  This is important so we\n   * can do proper boundary identification in Remix where a thrown Response\n   * must go to the Catch Boundary but a returned Response is happy-path.\n   *\n   * One thing to note is that any Router-initiated Errors that make sense\n   * to associate with a status code will be thrown as an ErrorResponse\n   * instance which include the raw Error, such that the calling context can\n   * serialize the error as they see fit while including the proper response\n   * code.  Examples here are 404 and 405 errors that occur prior to reaching\n   * any user-defined loaders.\n   */\n  async function queryRoute(request, _temp3) {\n    let {\n      routeId,\n      requestContext\n    } = _temp3 === void 0 ? {} : _temp3;\n    let url = new URL(request.url);\n    let method = request.method;\n    let location = createLocation(\"\", createPath(url), null, \"default\");\n    let matches = matchRoutes(dataRoutes, location, basename);\n    // SSR supports HEAD requests while SPA doesn't\n    if (!isValidMethod(method) && method !== \"HEAD\" && method !== \"OPTIONS\") {\n      throw getInternalRouterError(405, {\n        method\n      });\n    } else if (!matches) {\n      throw getInternalRouterError(404, {\n        pathname: location.pathname\n      });\n    }\n    let match = routeId ? matches.find(m => m.route.id === routeId) : getTargetMatch(matches, location);\n    if (routeId && !match) {\n      throw getInternalRouterError(403, {\n        pathname: location.pathname,\n        routeId\n      });\n    } else if (!match) {\n      // This should never hit I don't think?\n      throw getInternalRouterError(404, {\n        pathname: location.pathname\n      });\n    }\n    let result = await queryImpl(request, location, matches, requestContext, match);\n    if (isResponse(result)) {\n      return result;\n    }\n    let error = result.errors ? Object.values(result.errors)[0] : undefined;\n    if (error !== undefined) {\n      // If we got back result.errors, that means the loader/action threw\n      // _something_ that wasn't a Response, but it's not guaranteed/required\n      // to be an `instanceof Error` either, so we have to use throw here to\n      // preserve the \"error\" state outside of queryImpl.\n      throw error;\n    }\n    // Pick off the right state value to return\n    if (result.actionData) {\n      return Object.values(result.actionData)[0];\n    }\n    if (result.loaderData) {\n      var _result$activeDeferre;\n      let data = Object.values(result.loaderData)[0];\n      if ((_result$activeDeferre = result.activeDeferreds) != null && _result$activeDeferre[match.route.id]) {\n        data[UNSAFE_DEFERRED_SYMBOL] = result.activeDeferreds[match.route.id];\n      }\n      return data;\n    }\n    return undefined;\n  }\n  async function queryImpl(request, location, matches, requestContext, routeMatch) {\n    invariant(request.signal, \"query()/queryRoute() requests must contain an AbortController signal\");\n    try {\n      if (isMutationMethod(request.method.toLowerCase())) {\n        let result = await submit(request, matches, routeMatch || getTargetMatch(matches, location), requestContext, routeMatch != null);\n        return result;\n      }\n      let result = await loadRouteData(request, matches, requestContext, routeMatch);\n      return isResponse(result) ? result : _extends({}, result, {\n        actionData: null,\n        actionHeaders: {}\n      });\n    } catch (e) {\n      // If the user threw/returned a Response in callLoaderOrAction, we throw\n      // it to bail out and then return or throw here based on whether the user\n      // returned or threw\n      if (isQueryRouteResponse(e)) {\n        if (e.type === ResultType.error) {\n          throw e.response;\n        }\n        return e.response;\n      }\n      // Redirects are always returned since they don't propagate to catch\n      // boundaries\n      if (isRedirectResponse(e)) {\n        return e;\n      }\n      throw e;\n    }\n  }\n  async function submit(request, matches, actionMatch, requestContext, isRouteRequest) {\n    let result;\n    if (!actionMatch.route.action && !actionMatch.route.lazy) {\n      let error = getInternalRouterError(405, {\n        method: request.method,\n        pathname: new URL(request.url).pathname,\n        routeId: actionMatch.route.id\n      });\n      if (isRouteRequest) {\n        throw error;\n      }\n      result = {\n        type: ResultType.error,\n        error\n      };\n    } else {\n      result = await callLoaderOrAction(\"action\", request, actionMatch, matches, manifest, mapRouteProperties, basename, {\n        isStaticRequest: true,\n        isRouteRequest,\n        requestContext\n      });\n      if (request.signal.aborted) {\n        let method = isRouteRequest ? \"queryRoute\" : \"query\";\n        throw new Error(method + \"() call aborted\");\n      }\n    }\n    if (isRedirectResult(result)) {\n      // Uhhhh - this should never happen, we should always throw these from\n      // callLoaderOrAction, but the type narrowing here keeps TS happy and we\n      // can get back on the \"throw all redirect responses\" train here should\n      // this ever happen :/\n      throw new Response(null, {\n        status: result.status,\n        headers: {\n          Location: result.location\n        }\n      });\n    }\n    if (isDeferredResult(result)) {\n      let error = getInternalRouterError(400, {\n        type: \"defer-action\"\n      });\n      if (isRouteRequest) {\n        throw error;\n      }\n      result = {\n        type: ResultType.error,\n        error\n      };\n    }\n    if (isRouteRequest) {\n      // Note: This should only be non-Response values if we get here, since\n      // isRouteRequest should throw any Response received in callLoaderOrAction\n      if (isErrorResult(result)) {\n        throw result.error;\n      }\n      return {\n        matches: [actionMatch],\n        loaderData: {},\n        actionData: {\n          [actionMatch.route.id]: result.data\n        },\n        errors: null,\n        // Note: statusCode + headers are unused here since queryRoute will\n        // return the raw Response or value\n        statusCode: 200,\n        loaderHeaders: {},\n        actionHeaders: {},\n        activeDeferreds: null\n      };\n    }\n    if (isErrorResult(result)) {\n      // Store off the pending error - we use it to determine which loaders\n      // to call and will commit it when we complete the navigation\n      let boundaryMatch = findNearestBoundary(matches, actionMatch.route.id);\n      let context = await loadRouteData(request, matches, requestContext, undefined, {\n        [boundaryMatch.route.id]: result.error\n      });\n      // action status codes take precedence over loader status codes\n      return _extends({}, context, {\n        statusCode: isRouteErrorResponse(result.error) ? result.error.status : 500,\n        actionData: null,\n        actionHeaders: _extends({}, result.headers ? {\n          [actionMatch.route.id]: result.headers\n        } : {})\n      });\n    }\n    // Create a GET request for the loaders\n    let loaderRequest = new Request(request.url, {\n      headers: request.headers,\n      redirect: request.redirect,\n      signal: request.signal\n    });\n    let context = await loadRouteData(loaderRequest, matches, requestContext);\n    return _extends({}, context, result.statusCode ? {\n      statusCode: result.statusCode\n    } : {}, {\n      actionData: {\n        [actionMatch.route.id]: result.data\n      },\n      actionHeaders: _extends({}, result.headers ? {\n        [actionMatch.route.id]: result.headers\n      } : {})\n    });\n  }\n  async function loadRouteData(request, matches, requestContext, routeMatch, pendingActionError) {\n    let isRouteRequest = routeMatch != null;\n    // Short circuit if we have no loaders to run (queryRoute())\n    if (isRouteRequest && !(routeMatch != null && routeMatch.route.loader) && !(routeMatch != null && routeMatch.route.lazy)) {\n      throw getInternalRouterError(400, {\n        method: request.method,\n        pathname: new URL(request.url).pathname,\n        routeId: routeMatch == null ? void 0 : routeMatch.route.id\n      });\n    }\n    let requestMatches = routeMatch ? [routeMatch] : getLoaderMatchesUntilBoundary(matches, Object.keys(pendingActionError || {})[0]);\n    let matchesToLoad = requestMatches.filter(m => m.route.loader || m.route.lazy);\n    // Short circuit if we have no loaders to run (query())\n    if (matchesToLoad.length === 0) {\n      return {\n        matches,\n        // Add a null for all matched routes for proper revalidation on the client\n        loaderData: matches.reduce((acc, m) => Object.assign(acc, {\n          [m.route.id]: null\n        }), {}),\n        errors: pendingActionError || null,\n        statusCode: 200,\n        loaderHeaders: {},\n        activeDeferreds: null\n      };\n    }\n    let results = await Promise.all([...matchesToLoad.map(match => callLoaderOrAction(\"loader\", request, match, matches, manifest, mapRouteProperties, basename, {\n      isStaticRequest: true,\n      isRouteRequest,\n      requestContext\n    }))]);\n    if (request.signal.aborted) {\n      let method = isRouteRequest ? \"queryRoute\" : \"query\";\n      throw new Error(method + \"() call aborted\");\n    }\n    // Process and commit output from loaders\n    let activeDeferreds = new Map();\n    let context = processRouteLoaderData(matches, matchesToLoad, results, pendingActionError, activeDeferreds);\n    // Add a null for any non-loader matches for proper revalidation on the client\n    let executedLoaders = new Set(matchesToLoad.map(match => match.route.id));\n    matches.forEach(match => {\n      if (!executedLoaders.has(match.route.id)) {\n        context.loaderData[match.route.id] = null;\n      }\n    });\n    return _extends({}, context, {\n      matches,\n      activeDeferreds: activeDeferreds.size > 0 ? Object.fromEntries(activeDeferreds.entries()) : null\n    });\n  }\n  return {\n    dataRoutes,\n    query,\n    queryRoute\n  };\n}\n//#endregion\n////////////////////////////////////////////////////////////////////////////////\n//#region Helpers\n////////////////////////////////////////////////////////////////////////////////\n/**\n * Given an existing StaticHandlerContext and an error thrown at render time,\n * provide an updated StaticHandlerContext suitable for a second SSR render\n */\nfunction getStaticContextFromError(routes, context, error) {\n  let newContext = _extends({}, context, {\n    statusCode: 500,\n    errors: {\n      [context._deepestRenderedBoundaryId || routes[0].id]: error\n    }\n  });\n  return newContext;\n}\nfunction isSubmissionNavigation(opts) {\n  return opts != null && (\"formData\" in opts && opts.formData != null || \"body\" in opts && opts.body !== undefined);\n}\nfunction normalizeTo(location, matches, basename, prependBasename, to, fromRouteId, relative) {\n  let contextualMatches;\n  let activeRouteMatch;\n  if (fromRouteId != null && relative !== \"path\") {\n    // Grab matches up to the calling route so our route-relative logic is\n    // relative to the correct source route.  When using relative:path,\n    // fromRouteId is ignored since that is always relative to the current\n    // location path\n    contextualMatches = [];\n    for (let match of matches) {\n      contextualMatches.push(match);\n      if (match.route.id === fromRouteId) {\n        activeRouteMatch = match;\n        break;\n      }\n    }\n  } else {\n    contextualMatches = matches;\n    activeRouteMatch = matches[matches.length - 1];\n  }\n  // Resolve the relative path\n  let path = resolveTo(to ? to : \".\", getPathContributingMatches(contextualMatches).map(m => m.pathnameBase), stripBasename(location.pathname, basename) || location.pathname, relative === \"path\");\n  // When `to` is not specified we inherit search/hash from the current\n  // location, unlike when to=\".\" and we just inherit the path.\n  // See https://github.com/remix-run/remix/issues/927\n  if (to == null) {\n    path.search = location.search;\n    path.hash = location.hash;\n  }\n  // Add an ?index param for matched index routes if we don't already have one\n  if ((to == null || to === \"\" || to === \".\") && activeRouteMatch && activeRouteMatch.route.index && !hasNakedIndexQuery(path.search)) {\n    path.search = path.search ? path.search.replace(/^\\?/, \"?index&\") : \"?index\";\n  }\n  // If we're operating within a basename, prepend it to the pathname.  If\n  // this is a root navigation, then just use the raw basename which allows\n  // the basename to have full control over the presence of a trailing slash\n  // on root actions\n  if (prependBasename && basename !== \"/\") {\n    path.pathname = path.pathname === \"/\" ? basename : joinPaths([basename, path.pathname]);\n  }\n  return createPath(path);\n}\n// Normalize navigation options by converting formMethod=GET formData objects to\n// URLSearchParams so they behave identically to links with query params\nfunction normalizeNavigateOptions(normalizeFormMethod, isFetcher, path, opts) {\n  // Return location verbatim on non-submission navigations\n  if (!opts || !isSubmissionNavigation(opts)) {\n    return {\n      path\n    };\n  }\n  if (opts.formMethod && !isValidMethod(opts.formMethod)) {\n    return {\n      path,\n      error: getInternalRouterError(405, {\n        method: opts.formMethod\n      })\n    };\n  }\n  let getInvalidBodyError = () => ({\n    path,\n    error: getInternalRouterError(400, {\n      type: \"invalid-body\"\n    })\n  });\n  // Create a Submission on non-GET navigations\n  let rawFormMethod = opts.formMethod || \"get\";\n  let formMethod = normalizeFormMethod ? rawFormMethod.toUpperCase() : rawFormMethod.toLowerCase();\n  let formAction = stripHashFromPath(path);\n  if (opts.body !== undefined) {\n    if (opts.formEncType === \"text/plain\") {\n      // text only support POST/PUT/PATCH/DELETE submissions\n      if (!isMutationMethod(formMethod)) {\n        return getInvalidBodyError();\n      }\n      let text = typeof opts.body === \"string\" ? opts.body : opts.body instanceof FormData || opts.body instanceof URLSearchParams ?\n      // https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#plain-text-form-data\n      Array.from(opts.body.entries()).reduce((acc, _ref3) => {\n        let [name, value] = _ref3;\n        return \"\" + acc + name + \"=\" + value + \"\\n\";\n      }, \"\") : String(opts.body);\n      return {\n        path,\n        submission: {\n          formMethod,\n          formAction,\n          formEncType: opts.formEncType,\n          formData: undefined,\n          json: undefined,\n          text\n        }\n      };\n    } else if (opts.formEncType === \"application/json\") {\n      // json only supports POST/PUT/PATCH/DELETE submissions\n      if (!isMutationMethod(formMethod)) {\n        return getInvalidBodyError();\n      }\n      try {\n        let json = typeof opts.body === \"string\" ? JSON.parse(opts.body) : opts.body;\n        return {\n          path,\n          submission: {\n            formMethod,\n            formAction,\n            formEncType: opts.formEncType,\n            formData: undefined,\n            json,\n            text: undefined\n          }\n        };\n      } catch (e) {\n        return getInvalidBodyError();\n      }\n    }\n  }\n  invariant(typeof FormData === \"function\", \"FormData is not available in this environment\");\n  let searchParams;\n  let formData;\n  if (opts.formData) {\n    searchParams = convertFormDataToSearchParams(opts.formData);\n    formData = opts.formData;\n  } else if (opts.body instanceof FormData) {\n    searchParams = convertFormDataToSearchParams(opts.body);\n    formData = opts.body;\n  } else if (opts.body instanceof URLSearchParams) {\n    searchParams = opts.body;\n    formData = convertSearchParamsToFormData(searchParams);\n  } else if (opts.body == null) {\n    searchParams = new URLSearchParams();\n    formData = new FormData();\n  } else {\n    try {\n      searchParams = new URLSearchParams(opts.body);\n      formData = convertSearchParamsToFormData(searchParams);\n    } catch (e) {\n      return getInvalidBodyError();\n    }\n  }\n  let submission = {\n    formMethod,\n    formAction,\n    formEncType: opts && opts.formEncType || \"application/x-www-form-urlencoded\",\n    formData,\n    json: undefined,\n    text: undefined\n  };\n  if (isMutationMethod(submission.formMethod)) {\n    return {\n      path,\n      submission\n    };\n  }\n  // Flatten submission onto URLSearchParams for GET submissions\n  let parsedPath = parsePath(path);\n  // On GET navigation submissions we can drop the ?index param from the\n  // resulting location since all loaders will run.  But fetcher GET submissions\n  // only run a single loader so we need to preserve any incoming ?index params\n  if (isFetcher && parsedPath.search && hasNakedIndexQuery(parsedPath.search)) {\n    searchParams.append(\"index\", \"\");\n  }\n  parsedPath.search = \"?\" + searchParams;\n  return {\n    path: createPath(parsedPath),\n    submission\n  };\n}\n// Filter out all routes below any caught error as they aren't going to\n// render so we don't need to load them\nfunction getLoaderMatchesUntilBoundary(matches, boundaryId) {\n  let boundaryMatches = matches;\n  if (boundaryId) {\n    let index = matches.findIndex(m => m.route.id === boundaryId);\n    if (index >= 0) {\n      boundaryMatches = matches.slice(0, index);\n    }\n  }\n  return boundaryMatches;\n}\nfunction getMatchesToLoad(history, state, matches, submission, location, isRevalidationRequired, cancelledDeferredRoutes, cancelledFetcherLoads, fetchLoadMatches, fetchRedirectIds, routesToUse, basename, pendingActionData, pendingError) {\n  let actionResult = pendingError ? Object.values(pendingError)[0] : pendingActionData ? Object.values(pendingActionData)[0] : undefined;\n  let currentUrl = history.createURL(state.location);\n  let nextUrl = history.createURL(location);\n  // Pick navigation matches that are net-new or qualify for revalidation\n  let boundaryId = pendingError ? Object.keys(pendingError)[0] : undefined;\n  let boundaryMatches = getLoaderMatchesUntilBoundary(matches, boundaryId);\n  let navigationMatches = boundaryMatches.filter((match, index) => {\n    if (match.route.lazy) {\n      // We haven't loaded this route yet so we don't know if it's got a loader!\n      return true;\n    }\n    if (match.route.loader == null) {\n      return false;\n    }\n    // Always call the loader on new route instances and pending defer cancellations\n    if (isNewLoader(state.loaderData, state.matches[index], match) || cancelledDeferredRoutes.some(id => id === match.route.id)) {\n      return true;\n    }\n    // This is the default implementation for when we revalidate.  If the route\n    // provides it's own implementation, then we give them full control but\n    // provide this value so they can leverage it if needed after they check\n    // their own specific use cases\n    let currentRouteMatch = state.matches[index];\n    let nextRouteMatch = match;\n    return shouldRevalidateLoader(match, _extends({\n      currentUrl,\n      currentParams: currentRouteMatch.params,\n      nextUrl,\n      nextParams: nextRouteMatch.params\n    }, submission, {\n      actionResult,\n      defaultShouldRevalidate:\n      // Forced revalidation due to submission, useRevalidator, or X-Remix-Revalidate\n      isRevalidationRequired ||\n      // Clicked the same link, resubmitted a GET form\n      currentUrl.pathname + currentUrl.search === nextUrl.pathname + nextUrl.search ||\n      // Search params affect all loaders\n      currentUrl.search !== nextUrl.search || isNewRouteInstance(currentRouteMatch, nextRouteMatch)\n    }));\n  });\n  // Pick fetcher.loads that need to be revalidated\n  let revalidatingFetchers = [];\n  fetchLoadMatches.forEach((f, key) => {\n    // Don't revalidate if fetcher won't be present in the subsequent render\n    if (!matches.some(m => m.route.id === f.routeId)) {\n      return;\n    }\n    let fetcherMatches = matchRoutes(routesToUse, f.path, basename);\n    // If the fetcher path no longer matches, push it in with null matches so\n    // we can trigger a 404 in callLoadersAndMaybeResolveData.  Note this is\n    // currently only a use-case for Remix HMR where the route tree can change\n    // at runtime and remove a route previously loaded via a fetcher\n    if (!fetcherMatches) {\n      revalidatingFetchers.push({\n        key,\n        routeId: f.routeId,\n        path: f.path,\n        matches: null,\n        match: null,\n        controller: null\n      });\n      return;\n    }\n    // Revalidating fetchers are decoupled from the route matches since they\n    // load from a static href.  They revalidate based on explicit revalidation\n    // (submission, useRevalidator, or X-Remix-Revalidate)\n    let fetcher = state.fetchers.get(key);\n    let fetcherMatch = getTargetMatch(fetcherMatches, f.path);\n    let shouldRevalidate = false;\n    if (fetchRedirectIds.has(key)) {\n      // Never trigger a revalidation of an actively redirecting fetcher\n      shouldRevalidate = false;\n    } else if (cancelledFetcherLoads.includes(key)) {\n      // Always revalidate if the fetcher was cancelled\n      shouldRevalidate = true;\n    } else if (fetcher && fetcher.state !== \"idle\" && fetcher.data === undefined) {\n      // If the fetcher hasn't ever completed loading yet, then this isn't a\n      // revalidation, it would just be a brand new load if an explicit\n      // revalidation is required\n      shouldRevalidate = isRevalidationRequired;\n    } else {\n      // Otherwise fall back on any user-defined shouldRevalidate, defaulting\n      // to explicit revalidations only\n      shouldRevalidate = shouldRevalidateLoader(fetcherMatch, _extends({\n        currentUrl,\n        currentParams: state.matches[state.matches.length - 1].params,\n        nextUrl,\n        nextParams: matches[matches.length - 1].params\n      }, submission, {\n        actionResult,\n        defaultShouldRevalidate: isRevalidationRequired\n      }));\n    }\n    if (shouldRevalidate) {\n      revalidatingFetchers.push({\n        key,\n        routeId: f.routeId,\n        path: f.path,\n        matches: fetcherMatches,\n        match: fetcherMatch,\n        controller: new AbortController()\n      });\n    }\n  });\n  return [navigationMatches, revalidatingFetchers];\n}\nfunction isNewLoader(currentLoaderData, currentMatch, match) {\n  let isNew =\n  // [a] -> [a, b]\n  !currentMatch ||\n  // [a, b] -> [a, c]\n  match.route.id !== currentMatch.route.id;\n  // Handle the case that we don't have data for a re-used route, potentially\n  // from a prior error or from a cancelled pending deferred\n  let isMissingData = currentLoaderData[match.route.id] === undefined;\n  // Always load if this is a net-new route or we don't yet have data\n  return isNew || isMissingData;\n}\nfunction isNewRouteInstance(currentMatch, match) {\n  let currentPath = currentMatch.route.path;\n  return (\n    // param change for this match, /users/123 -> /users/456\n    currentMatch.pathname !== match.pathname ||\n    // splat param changed, which is not present in match.path\n    // e.g. /files/images/avatar.jpg -> files/finances.xls\n    currentPath != null && currentPath.endsWith(\"*\") && currentMatch.params[\"*\"] !== match.params[\"*\"]\n  );\n}\nfunction shouldRevalidateLoader(loaderMatch, arg) {\n  if (loaderMatch.route.shouldRevalidate) {\n    let routeChoice = loaderMatch.route.shouldRevalidate(arg);\n    if (typeof routeChoice === \"boolean\") {\n      return routeChoice;\n    }\n  }\n  return arg.defaultShouldRevalidate;\n}\n/**\n * Execute route.lazy() methods to lazily load route modules (loader, action,\n * shouldRevalidate) and update the routeManifest in place which shares objects\n * with dataRoutes so those get updated as well.\n */\nasync function loadLazyRouteModule(route, mapRouteProperties, manifest) {\n  if (!route.lazy) {\n    return;\n  }\n  let lazyRoute = await route.lazy();\n  // If the lazy route function was executed and removed by another parallel\n  // call then we can return - first lazy() to finish wins because the return\n  // value of lazy is expected to be static\n  if (!route.lazy) {\n    return;\n  }\n  let routeToUpdate = manifest[route.id];\n  invariant(routeToUpdate, \"No route found in manifest\");\n  // Update the route in place.  This should be safe because there's no way\n  // we could yet be sitting on this route as we can't get there without\n  // resolving lazy() first.\n  //\n  // This is different than the HMR \"update\" use-case where we may actively be\n  // on the route being updated.  The main concern boils down to \"does this\n  // mutation affect any ongoing navigations or any current state.matches\n  // values?\".  If not, it should be safe to update in place.\n  let routeUpdates = {};\n  for (let lazyRouteProperty in lazyRoute) {\n    let staticRouteValue = routeToUpdate[lazyRouteProperty];\n    let isPropertyStaticallyDefined = staticRouteValue !== undefined &&\n    // This property isn't static since it should always be updated based\n    // on the route updates\n    lazyRouteProperty !== \"hasErrorBoundary\";\n    warning(!isPropertyStaticallyDefined, \"Route \\\"\" + routeToUpdate.id + \"\\\" has a static property \\\"\" + lazyRouteProperty + \"\\\" \" + \"defined but its lazy function is also returning a value for this property. \" + (\"The lazy route property \\\"\" + lazyRouteProperty + \"\\\" will be ignored.\"));\n    if (!isPropertyStaticallyDefined && !immutableRouteKeys.has(lazyRouteProperty)) {\n      routeUpdates[lazyRouteProperty] = lazyRoute[lazyRouteProperty];\n    }\n  }\n  // Mutate the route with the provided updates.  Do this first so we pass\n  // the updated version to mapRouteProperties\n  Object.assign(routeToUpdate, routeUpdates);\n  // Mutate the `hasErrorBoundary` property on the route based on the route\n  // updates and remove the `lazy` function so we don't resolve the lazy\n  // route again.\n  Object.assign(routeToUpdate, _extends({}, mapRouteProperties(routeToUpdate), {\n    lazy: undefined\n  }));\n}\nasync function callLoaderOrAction(type, request, match, matches, manifest, mapRouteProperties, basename, opts) {\n  if (opts === void 0) {\n    opts = {};\n  }\n  let resultType;\n  let result;\n  let onReject;\n  let runHandler = handler => {\n    // Setup a promise we can race against so that abort signals short circuit\n    let reject;\n    let abortPromise = new Promise((_, r) => reject = r);\n    onReject = () => reject();\n    request.signal.addEventListener(\"abort\", onReject);\n    return Promise.race([handler({\n      request,\n      params: match.params,\n      context: opts.requestContext\n    }), abortPromise]);\n  };\n  try {\n    let handler = match.route[type];\n    if (match.route.lazy) {\n      if (handler) {\n        // Run statically defined handler in parallel with lazy()\n        let values = await Promise.all([runHandler(handler), loadLazyRouteModule(match.route, mapRouteProperties, manifest)]);\n        result = values[0];\n      } else {\n        // Load lazy route module, then run any returned handler\n        await loadLazyRouteModule(match.route, mapRouteProperties, manifest);\n        handler = match.route[type];\n        if (handler) {\n          // Handler still run even if we got interrupted to maintain consistency\n          // with un-abortable behavior of handler execution on non-lazy or\n          // previously-lazy-loaded routes\n          result = await runHandler(handler);\n        } else if (type === \"action\") {\n          let url = new URL(request.url);\n          let pathname = url.pathname + url.search;\n          throw getInternalRouterError(405, {\n            method: request.method,\n            pathname,\n            routeId: match.route.id\n          });\n        } else {\n          // lazy() route has no loader to run.  Short circuit here so we don't\n          // hit the invariant below that errors on returning undefined.\n          return {\n            type: ResultType.data,\n            data: undefined\n          };\n        }\n      }\n    } else if (!handler) {\n      let url = new URL(request.url);\n      let pathname = url.pathname + url.search;\n      throw getInternalRouterError(404, {\n        pathname\n      });\n    } else {\n      result = await runHandler(handler);\n    }\n    invariant(result !== undefined, \"You defined \" + (type === \"action\" ? \"an action\" : \"a loader\") + \" for route \" + (\"\\\"\" + match.route.id + \"\\\" but didn't return anything from your `\" + type + \"` \") + \"function. Please return a value or `null`.\");\n  } catch (e) {\n    resultType = ResultType.error;\n    result = e;\n  } finally {\n    if (onReject) {\n      request.signal.removeEventListener(\"abort\", onReject);\n    }\n  }\n  if (isResponse(result)) {\n    let status = result.status;\n    // Process redirects\n    if (redirectStatusCodes.has(status)) {\n      let location = result.headers.get(\"Location\");\n      invariant(location, \"Redirects returned/thrown from loaders/actions must have a Location header\");\n      // Support relative routing in internal redirects\n      if (!ABSOLUTE_URL_REGEX.test(location)) {\n        location = normalizeTo(new URL(request.url), matches.slice(0, matches.indexOf(match) + 1), basename, true, location);\n      } else if (!opts.isStaticRequest) {\n        // Strip off the protocol+origin for same-origin + same-basename absolute\n        // redirects. If this is a static request, we can let it go back to the\n        // browser as-is\n        let currentUrl = new URL(request.url);\n        let url = location.startsWith(\"//\") ? new URL(currentUrl.protocol + location) : new URL(location);\n        let isSameBasename = stripBasename(url.pathname, basename) != null;\n        if (url.origin === currentUrl.origin && isSameBasename) {\n          location = url.pathname + url.search + url.hash;\n        }\n      }\n      // Don't process redirects in the router during static requests requests.\n      // Instead, throw the Response and let the server handle it with an HTTP\n      // redirect.  We also update the Location header in place in this flow so\n      // basename and relative routing is taken into account\n      if (opts.isStaticRequest) {\n        result.headers.set(\"Location\", location);\n        throw result;\n      }\n      return {\n        type: ResultType.redirect,\n        status,\n        location,\n        revalidate: result.headers.get(\"X-Remix-Revalidate\") !== null,\n        reloadDocument: result.headers.get(\"X-Remix-Reload-Document\") !== null\n      };\n    }\n    // For SSR single-route requests, we want to hand Responses back directly\n    // without unwrapping.  We do this with the QueryRouteResponse wrapper\n    // interface so we can know whether it was returned or thrown\n    if (opts.isRouteRequest) {\n      let queryRouteResponse = {\n        type: resultType === ResultType.error ? ResultType.error : ResultType.data,\n        response: result\n      };\n      throw queryRouteResponse;\n    }\n    let data;\n    let contentType = result.headers.get(\"Content-Type\");\n    // Check between word boundaries instead of startsWith() due to the last\n    // paragraph of https://httpwg.org/specs/rfc9110.html#field.content-type\n    if (contentType && /\\bapplication\\/json\\b/.test(contentType)) {\n      data = await result.json();\n    } else {\n      data = await result.text();\n    }\n    if (resultType === ResultType.error) {\n      return {\n        type: resultType,\n        error: new ErrorResponse(status, result.statusText, data),\n        headers: result.headers\n      };\n    }\n    return {\n      type: ResultType.data,\n      data,\n      statusCode: result.status,\n      headers: result.headers\n    };\n  }\n  if (resultType === ResultType.error) {\n    return {\n      type: resultType,\n      error: result\n    };\n  }\n  if (isDeferredData(result)) {\n    var _result$init, _result$init2;\n    return {\n      type: ResultType.deferred,\n      deferredData: result,\n      statusCode: (_result$init = result.init) == null ? void 0 : _result$init.status,\n      headers: ((_result$init2 = result.init) == null ? void 0 : _result$init2.headers) && new Headers(result.init.headers)\n    };\n  }\n  return {\n    type: ResultType.data,\n    data: result\n  };\n}\n// Utility method for creating the Request instances for loaders/actions during\n// client-side navigations and fetches.  During SSR we will always have a\n// Request instance from the static handler (query/queryRoute)\nfunction createClientSideRequest(history, location, signal, submission) {\n  let url = history.createURL(stripHashFromPath(location)).toString();\n  let init = {\n    signal\n  };\n  if (submission && isMutationMethod(submission.formMethod)) {\n    let {\n      formMethod,\n      formEncType\n    } = submission;\n    // Didn't think we needed this but it turns out unlike other methods, patch\n    // won't be properly normalized to uppercase and results in a 405 error.\n    // See: https://fetch.spec.whatwg.org/#concept-method\n    init.method = formMethod.toUpperCase();\n    if (formEncType === \"application/json\") {\n      init.headers = new Headers({\n        \"Content-Type\": formEncType\n      });\n      init.body = JSON.stringify(submission.json);\n    } else if (formEncType === \"text/plain\") {\n      // Content-Type is inferred (https://fetch.spec.whatwg.org/#dom-request)\n      init.body = submission.text;\n    } else if (formEncType === \"application/x-www-form-urlencoded\" && submission.formData) {\n      // Content-Type is inferred (https://fetch.spec.whatwg.org/#dom-request)\n      init.body = convertFormDataToSearchParams(submission.formData);\n    } else {\n      // Content-Type is inferred (https://fetch.spec.whatwg.org/#dom-request)\n      init.body = submission.formData;\n    }\n  }\n  return new Request(url, init);\n}\nfunction convertFormDataToSearchParams(formData) {\n  let searchParams = new URLSearchParams();\n  for (let [key, value] of formData.entries()) {\n    // https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#converting-an-entry-list-to-a-list-of-name-value-pairs\n    searchParams.append(key, typeof value === \"string\" ? value : value.name);\n  }\n  return searchParams;\n}\nfunction convertSearchParamsToFormData(searchParams) {\n  let formData = new FormData();\n  for (let [key, value] of searchParams.entries()) {\n    formData.append(key, value);\n  }\n  return formData;\n}\nfunction processRouteLoaderData(matches, matchesToLoad, results, pendingError, activeDeferreds) {\n  // Fill in loaderData/errors from our loaders\n  let loaderData = {};\n  let errors = null;\n  let statusCode;\n  let foundError = false;\n  let loaderHeaders = {};\n  // Process loader results into state.loaderData/state.errors\n  results.forEach((result, index) => {\n    let id = matchesToLoad[index].route.id;\n    invariant(!isRedirectResult(result), \"Cannot handle redirect results in processLoaderData\");\n    if (isErrorResult(result)) {\n      // Look upwards from the matched route for the closest ancestor\n      // error boundary, defaulting to the root match\n      let boundaryMatch = findNearestBoundary(matches, id);\n      let error = result.error;\n      // If we have a pending action error, we report it at the highest-route\n      // that throws a loader error, and then clear it out to indicate that\n      // it was consumed\n      if (pendingError) {\n        error = Object.values(pendingError)[0];\n        pendingError = undefined;\n      }\n      errors = errors || {};\n      // Prefer higher error values if lower errors bubble to the same boundary\n      if (errors[boundaryMatch.route.id] == null) {\n        errors[boundaryMatch.route.id] = error;\n      }\n      // Clear our any prior loaderData for the throwing route\n      loaderData[id] = undefined;\n      // Once we find our first (highest) error, we set the status code and\n      // prevent deeper status codes from overriding\n      if (!foundError) {\n        foundError = true;\n        statusCode = isRouteErrorResponse(result.error) ? result.error.status : 500;\n      }\n      if (result.headers) {\n        loaderHeaders[id] = result.headers;\n      }\n    } else {\n      if (isDeferredResult(result)) {\n        activeDeferreds.set(id, result.deferredData);\n        loaderData[id] = result.deferredData.data;\n      } else {\n        loaderData[id] = result.data;\n      }\n      // Error status codes always override success status codes, but if all\n      // loaders are successful we take the deepest status code.\n      if (result.statusCode != null && result.statusCode !== 200 && !foundError) {\n        statusCode = result.statusCode;\n      }\n      if (result.headers) {\n        loaderHeaders[id] = result.headers;\n      }\n    }\n  });\n  // If we didn't consume the pending action error (i.e., all loaders\n  // resolved), then consume it here.  Also clear out any loaderData for the\n  // throwing route\n  if (pendingError) {\n    errors = pendingError;\n    loaderData[Object.keys(pendingError)[0]] = undefined;\n  }\n  return {\n    loaderData,\n    errors,\n    statusCode: statusCode || 200,\n    loaderHeaders\n  };\n}\nfunction processLoaderData(state, matches, matchesToLoad, results, pendingError, revalidatingFetchers, fetcherResults, activeDeferreds) {\n  let {\n    loaderData,\n    errors\n  } = processRouteLoaderData(matches, matchesToLoad, results, pendingError, activeDeferreds);\n  // Process results from our revalidating fetchers\n  for (let index = 0; index < revalidatingFetchers.length; index++) {\n    let {\n      key,\n      match,\n      controller\n    } = revalidatingFetchers[index];\n    invariant(fetcherResults !== undefined && fetcherResults[index] !== undefined, \"Did not find corresponding fetcher result\");\n    let result = fetcherResults[index];\n    // Process fetcher non-redirect errors\n    if (controller && controller.signal.aborted) {\n      // Nothing to do for aborted fetchers\n      continue;\n    } else if (isErrorResult(result)) {\n      let boundaryMatch = findNearestBoundary(state.matches, match == null ? void 0 : match.route.id);\n      if (!(errors && errors[boundaryMatch.route.id])) {\n        errors = _extends({}, errors, {\n          [boundaryMatch.route.id]: result.error\n        });\n      }\n      state.fetchers.delete(key);\n    } else if (isRedirectResult(result)) {\n      // Should never get here, redirects should get processed above, but we\n      // keep this to type narrow to a success result in the else\n      invariant(false, \"Unhandled fetcher revalidation redirect\");\n    } else if (isDeferredResult(result)) {\n      // Should never get here, deferred data should be awaited for fetchers\n      // in resolveDeferredResults\n      invariant(false, \"Unhandled fetcher deferred data\");\n    } else {\n      let doneFetcher = getDoneFetcher(result.data);\n      state.fetchers.set(key, doneFetcher);\n    }\n  }\n  return {\n    loaderData,\n    errors\n  };\n}\nfunction mergeLoaderData(loaderData, newLoaderData, matches, errors) {\n  let mergedLoaderData = _extends({}, newLoaderData);\n  for (let match of matches) {\n    let id = match.route.id;\n    if (newLoaderData.hasOwnProperty(id)) {\n      if (newLoaderData[id] !== undefined) {\n        mergedLoaderData[id] = newLoaderData[id];\n      }\n    } else if (loaderData[id] !== undefined && match.route.loader) {\n      // Preserve existing keys not included in newLoaderData and where a loader\n      // wasn't removed by HMR\n      mergedLoaderData[id] = loaderData[id];\n    }\n    if (errors && errors.hasOwnProperty(id)) {\n      // Don't keep any loader data below the boundary\n      break;\n    }\n  }\n  return mergedLoaderData;\n}\n// Find the nearest error boundary, looking upwards from the leaf route (or the\n// route specified by routeId) for the closest ancestor error boundary,\n// defaulting to the root match\nfunction findNearestBoundary(matches, routeId) {\n  let eligibleMatches = routeId ? matches.slice(0, matches.findIndex(m => m.route.id === routeId) + 1) : [...matches];\n  return eligibleMatches.reverse().find(m => m.route.hasErrorBoundary === true) || matches[0];\n}\nfunction getShortCircuitMatches(routes) {\n  // Prefer a root layout route if present, otherwise shim in a route object\n  let route = routes.find(r => r.index || !r.path || r.path === \"/\") || {\n    id: \"__shim-error-route__\"\n  };\n  return {\n    matches: [{\n      params: {},\n      pathname: \"\",\n      pathnameBase: \"\",\n      route\n    }],\n    route\n  };\n}\nfunction getInternalRouterError(status, _temp4) {\n  let {\n    pathname,\n    routeId,\n    method,\n    type\n  } = _temp4 === void 0 ? {} : _temp4;\n  let statusText = \"Unknown Server Error\";\n  let errorMessage = \"Unknown @remix-run/router error\";\n  if (status === 400) {\n    statusText = \"Bad Request\";\n    if (method && pathname && routeId) {\n      errorMessage = \"You made a \" + method + \" request to \\\"\" + pathname + \"\\\" but \" + (\"did not provide a `loader` for route \\\"\" + routeId + \"\\\", \") + \"so there is no way to handle the request.\";\n    } else if (type === \"defer-action\") {\n      errorMessage = \"defer() is not supported in actions\";\n    } else if (type === \"invalid-body\") {\n      errorMessage = \"Unable to encode submission body\";\n    }\n  } else if (status === 403) {\n    statusText = \"Forbidden\";\n    errorMessage = \"Route \\\"\" + routeId + \"\\\" does not match URL \\\"\" + pathname + \"\\\"\";\n  } else if (status === 404) {\n    statusText = \"Not Found\";\n    errorMessage = \"No route matches URL \\\"\" + pathname + \"\\\"\";\n  } else if (status === 405) {\n    statusText = \"Method Not Allowed\";\n    if (method && pathname && routeId) {\n      errorMessage = \"You made a \" + method.toUpperCase() + \" request to \\\"\" + pathname + \"\\\" but \" + (\"did not provide an `action` for route \\\"\" + routeId + \"\\\", \") + \"so there is no way to handle the request.\";\n    } else if (method) {\n      errorMessage = \"Invalid request method \\\"\" + method.toUpperCase() + \"\\\"\";\n    }\n  }\n  return new ErrorResponse(status || 500, statusText, new Error(errorMessage), true);\n}\n// Find any returned redirect errors, starting from the lowest match\nfunction findRedirect(results) {\n  for (let i = results.length - 1; i >= 0; i--) {\n    let result = results[i];\n    if (isRedirectResult(result)) {\n      return {\n        result,\n        idx: i\n      };\n    }\n  }\n}\nfunction stripHashFromPath(path) {\n  let parsedPath = typeof path === \"string\" ? parsePath(path) : path;\n  return createPath(_extends({}, parsedPath, {\n    hash: \"\"\n  }));\n}\nfunction isHashChangeOnly(a, b) {\n  if (a.pathname !== b.pathname || a.search !== b.search) {\n    return false;\n  }\n  if (a.hash === \"\") {\n    // /page -> /page#hash\n    return b.hash !== \"\";\n  } else if (a.hash === b.hash) {\n    // /page#hash -> /page#hash\n    return true;\n  } else if (b.hash !== \"\") {\n    // /page#hash -> /page#other\n    return true;\n  }\n  // If the hash is removed the browser will re-perform a request to the server\n  // /page#hash -> /page\n  return false;\n}\nfunction isDeferredResult(result) {\n  return result.type === ResultType.deferred;\n}\nfunction isErrorResult(result) {\n  return result.type === ResultType.error;\n}\nfunction isRedirectResult(result) {\n  return (result && result.type) === ResultType.redirect;\n}\nfunction isDeferredData(value) {\n  let deferred = value;\n  return deferred && typeof deferred === \"object\" && typeof deferred.data === \"object\" && typeof deferred.subscribe === \"function\" && typeof deferred.cancel === \"function\" && typeof deferred.resolveData === \"function\";\n}\nfunction isResponse(value) {\n  return value != null && typeof value.status === \"number\" && typeof value.statusText === \"string\" && typeof value.headers === \"object\" && typeof value.body !== \"undefined\";\n}\nfunction isRedirectResponse(result) {\n  if (!isResponse(result)) {\n    return false;\n  }\n  let status = result.status;\n  let location = result.headers.get(\"Location\");\n  return status >= 300 && status <= 399 && location != null;\n}\nfunction isQueryRouteResponse(obj) {\n  return obj && isResponse(obj.response) && (obj.type === ResultType.data || obj.type === ResultType.error);\n}\nfunction isValidMethod(method) {\n  return validRequestMethods.has(method.toLowerCase());\n}\nfunction isMutationMethod(method) {\n  return validMutationMethods.has(method.toLowerCase());\n}\nasync function resolveDeferredResults(currentMatches, matchesToLoad, results, signals, isFetcher, currentLoaderData) {\n  for (let index = 0; index < results.length; index++) {\n    let result = results[index];\n    let match = matchesToLoad[index];\n    // If we don't have a match, then we can have a deferred result to do\n    // anything with.  This is for revalidating fetchers where the route was\n    // removed during HMR\n    if (!match) {\n      continue;\n    }\n    let currentMatch = currentMatches.find(m => m.route.id === match.route.id);\n    let isRevalidatingLoader = currentMatch != null && !isNewRouteInstance(currentMatch, match) && (currentLoaderData && currentLoaderData[match.route.id]) !== undefined;\n    if (isDeferredResult(result) && (isFetcher || isRevalidatingLoader)) {\n      // Note: we do not have to touch activeDeferreds here since we race them\n      // against the signal in resolveDeferredData and they'll get aborted\n      // there if needed\n      let signal = signals[index];\n      invariant(signal, \"Expected an AbortSignal for revalidating fetcher deferred result\");\n      await resolveDeferredData(result, signal, isFetcher).then(result => {\n        if (result) {\n          results[index] = result || results[index];\n        }\n      });\n    }\n  }\n}\nasync function resolveDeferredData(result, signal, unwrap) {\n  if (unwrap === void 0) {\n    unwrap = false;\n  }\n  let aborted = await result.deferredData.resolveData(signal);\n  if (aborted) {\n    return;\n  }\n  if (unwrap) {\n    try {\n      return {\n        type: ResultType.data,\n        data: result.deferredData.unwrappedData\n      };\n    } catch (e) {\n      // Handle any TrackedPromise._error values encountered while unwrapping\n      return {\n        type: ResultType.error,\n        error: e\n      };\n    }\n  }\n  return {\n    type: ResultType.data,\n    data: result.deferredData.data\n  };\n}\nfunction hasNakedIndexQuery(search) {\n  return new URLSearchParams(search).getAll(\"index\").some(v => v === \"\");\n}\n// Note: This should match the format exported by useMatches, so if you change\n// this please also change that :)  Eventually we'll DRY this up\nfunction createUseMatchesMatch(match, loaderData) {\n  let {\n    route,\n    pathname,\n    params\n  } = match;\n  return {\n    id: route.id,\n    pathname,\n    params,\n    data: loaderData[route.id],\n    handle: route.handle\n  };\n}\nfunction getTargetMatch(matches, location) {\n  let search = typeof location === \"string\" ? parsePath(location).search : location.search;\n  if (matches[matches.length - 1].route.index && hasNakedIndexQuery(search || \"\")) {\n    // Return the leaf index route when index is present\n    return matches[matches.length - 1];\n  }\n  // Otherwise grab the deepest \"path contributing\" match (ignoring index and\n  // pathless layout routes)\n  let pathMatches = getPathContributingMatches(matches);\n  return pathMatches[pathMatches.length - 1];\n}\nfunction getSubmissionFromNavigation(navigation) {\n  let {\n    formMethod,\n    formAction,\n    formEncType,\n    text,\n    formData,\n    json\n  } = navigation;\n  if (!formMethod || !formAction || !formEncType) {\n    return;\n  }\n  if (text != null) {\n    return {\n      formMethod,\n      formAction,\n      formEncType,\n      formData: undefined,\n      json: undefined,\n      text\n    };\n  } else if (formData != null) {\n    return {\n      formMethod,\n      formAction,\n      formEncType,\n      formData,\n      json: undefined,\n      text: undefined\n    };\n  } else if (json !== undefined) {\n    return {\n      formMethod,\n      formAction,\n      formEncType,\n      formData: undefined,\n      json,\n      text: undefined\n    };\n  }\n}\nfunction getLoadingNavigation(location, submission) {\n  if (submission) {\n    let navigation = {\n      state: \"loading\",\n      location,\n      formMethod: submission.formMethod,\n      formAction: submission.formAction,\n      formEncType: submission.formEncType,\n      formData: submission.formData,\n      json: submission.json,\n      text: submission.text\n    };\n    return navigation;\n  } else {\n    let navigation = {\n      state: \"loading\",\n      location,\n      formMethod: undefined,\n      formAction: undefined,\n      formEncType: undefined,\n      formData: undefined,\n      json: undefined,\n      text: undefined\n    };\n    return navigation;\n  }\n}\nfunction getSubmittingNavigation(location, submission) {\n  let navigation = {\n    state: \"submitting\",\n    location,\n    formMethod: submission.formMethod,\n    formAction: submission.formAction,\n    formEncType: submission.formEncType,\n    formData: submission.formData,\n    json: submission.json,\n    text: submission.text\n  };\n  return navigation;\n}\nfunction getLoadingFetcher(submission, data) {\n  if (submission) {\n    let fetcher = {\n      state: \"loading\",\n      formMethod: submission.formMethod,\n      formAction: submission.formAction,\n      formEncType: submission.formEncType,\n      formData: submission.formData,\n      json: submission.json,\n      text: submission.text,\n      data,\n      \" _hasFetcherDoneAnything \": true\n    };\n    return fetcher;\n  } else {\n    let fetcher = {\n      state: \"loading\",\n      formMethod: undefined,\n      formAction: undefined,\n      formEncType: undefined,\n      formData: undefined,\n      json: undefined,\n      text: undefined,\n      data,\n      \" _hasFetcherDoneAnything \": true\n    };\n    return fetcher;\n  }\n}\nfunction getSubmittingFetcher(submission, existingFetcher) {\n  let fetcher = {\n    state: \"submitting\",\n    formMethod: submission.formMethod,\n    formAction: submission.formAction,\n    formEncType: submission.formEncType,\n    formData: submission.formData,\n    json: submission.json,\n    text: submission.text,\n    data: existingFetcher ? existingFetcher.data : undefined,\n    \" _hasFetcherDoneAnything \": true\n  };\n  return fetcher;\n}\nfunction getDoneFetcher(data) {\n  let fetcher = {\n    state: \"idle\",\n    formMethod: undefined,\n    formAction: undefined,\n    formEncType: undefined,\n    formData: undefined,\n    json: undefined,\n    text: undefined,\n    data,\n    \" _hasFetcherDoneAnything \": true\n  };\n  return fetcher;\n}\n//#endregion\n\nexport { AbortedDeferredError, Action, ErrorResponse, IDLE_BLOCKER, IDLE_FETCHER, IDLE_NAVIGATION, UNSAFE_DEFERRED_SYMBOL, DeferredData as UNSAFE_DeferredData, convertRoutesToDataRoutes as UNSAFE_convertRoutesToDataRoutes, getPathContributingMatches as UNSAFE_getPathContributingMatches, invariant as UNSAFE_invariant, warning as UNSAFE_warning, createBrowserHistory, createHashHistory, createMemoryHistory, createPath, createRouter, createStaticHandler, defer, generatePath, getStaticContextFromError, getToPathname, isDeferredData, isRouteErrorResponse, joinPaths, json, matchPath, matchRoutes, normalizePathname, parsePath, redirect, redirectDocument, resolvePath, resolveTo, stripBasename };\n//# sourceMappingURL=router.js.map\n","////////////////////////////////////////////////////////////////////////////////\n//#region Types and Constants\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * Actions represent the type of change to a location value.\n */\nexport enum Action {\n  /**\n   * A POP indicates a change to an arbitrary index in the history stack, such\n   * as a back or forward navigation. It does not describe the direction of the\n   * navigation, only that the current index changed.\n   *\n   * Note: This is the default action for newly created history objects.\n   */\n  Pop = \"POP\",\n\n  /**\n   * A PUSH indicates a new entry being added to the history stack, such as when\n   * a link is clicked and a new page loads. When this happens, all subsequent\n   * entries in the stack are lost.\n   */\n  Push = \"PUSH\",\n\n  /**\n   * A REPLACE indicates the entry at the current index in the history stack\n   * being replaced by a new one.\n   */\n  Replace = \"REPLACE\",\n}\n\n/**\n * The pathname, search, and hash values of a URL.\n */\nexport interface Path {\n  /**\n   * A URL pathname, beginning with a /.\n   */\n  pathname: string;\n\n  /**\n   * A URL search string, beginning with a ?.\n   */\n  search: string;\n\n  /**\n   * A URL fragment identifier, beginning with a #.\n   */\n  hash: string;\n}\n\n/**\n * An entry in a history stack. A location contains information about the\n * URL path, as well as possibly some arbitrary state and a key.\n */\nexport interface Location extends Path {\n  /**\n   * A value of arbitrary data associated with this location.\n   */\n  state: any;\n\n  /**\n   * A unique string associated with this location. May be used to safely store\n   * and retrieve data in some other storage API, like `localStorage`.\n   *\n   * Note: This value is always \"default\" on the initial location.\n   */\n  key: string;\n}\n\n/**\n * A change to the current location.\n */\nexport interface Update {\n  /**\n   * The action that triggered the change.\n   */\n  action: Action;\n\n  /**\n   * The new location.\n   */\n  location: Location;\n\n  /**\n   * The delta between this location and the former location in the history stack\n   */\n  delta: number | null;\n}\n\n/**\n * A function that receives notifications about location changes.\n */\nexport interface Listener {\n  (update: Update): void;\n}\n\n/**\n * Describes a location that is the destination of some navigation, either via\n * `history.push` or `history.replace`. May be either a URL or the pieces of a\n * URL path.\n */\nexport type To = string | Partial<Path>;\n\n/**\n * A history is an interface to the navigation stack. The history serves as the\n * source of truth for the current location, as well as provides a set of\n * methods that may be used to change it.\n *\n * It is similar to the DOM's `window.history` object, but with a smaller, more\n * focused API.\n */\nexport interface History {\n  /**\n   * The last action that modified the current location. This will always be\n   * Action.Pop when a history instance is first created. This value is mutable.\n   */\n  readonly action: Action;\n\n  /**\n   * The current location. This value is mutable.\n   */\n  readonly location: Location;\n\n  /**\n   * Returns a valid href for the given `to` value that may be used as\n   * the value of an <a href> attribute.\n   *\n   * @param to - The destination URL\n   */\n  createHref(to: To): string;\n\n  /**\n   * Returns a URL for the given `to` value\n   *\n   * @param to - The destination URL\n   */\n  createURL(to: To): URL;\n\n  /**\n   * Encode a location the same way window.history would do (no-op for memory\n   * history) so we ensure our PUSH/REPLACE navigations for data routers\n   * behave the same as POP\n   *\n   * @param to Unencoded path\n   */\n  encodeLocation(to: To): Path;\n\n  /**\n   * Pushes a new location onto the history stack, increasing its length by one.\n   * If there were any entries in the stack after the current one, they are\n   * lost.\n   *\n   * @param to - The new URL\n   * @param state - Data to associate with the new location\n   */\n  push(to: To, state?: any): void;\n\n  /**\n   * Replaces the current location in the history stack with a new one.  The\n   * location that was replaced will no longer be available.\n   *\n   * @param to - The new URL\n   * @param state - Data to associate with the new location\n   */\n  replace(to: To, state?: any): void;\n\n  /**\n   * Navigates `n` entries backward/forward in the history stack relative to the\n   * current index. For example, a \"back\" navigation would use go(-1).\n   *\n   * @param delta - The delta in the stack index\n   */\n  go(delta: number): void;\n\n  /**\n   * Sets up a listener that will be called whenever the current location\n   * changes.\n   *\n   * @param listener - A function that will be called when the location changes\n   * @returns unlisten - A function that may be used to stop listening\n   */\n  listen(listener: Listener): () => void;\n}\n\ntype HistoryState = {\n  usr: any;\n  key?: string;\n  idx: number;\n};\n\nconst PopStateEventType = \"popstate\";\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Memory History\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * A user-supplied object that describes a location. Used when providing\n * entries to `createMemoryHistory` via its `initialEntries` option.\n */\nexport type InitialEntry = string | Partial<Location>;\n\nexport type MemoryHistoryOptions = {\n  initialEntries?: InitialEntry[];\n  initialIndex?: number;\n  v5Compat?: boolean;\n};\n\n/**\n * A memory history stores locations in memory. This is useful in stateful\n * environments where there is no web browser, such as node tests or React\n * Native.\n */\nexport interface MemoryHistory extends History {\n  /**\n   * The current index in the history stack.\n   */\n  readonly index: number;\n}\n\n/**\n * Memory history stores the current location in memory. It is designed for use\n * in stateful non-browser environments like tests and React Native.\n */\nexport function createMemoryHistory(\n  options: MemoryHistoryOptions = {}\n): MemoryHistory {\n  let { initialEntries = [\"/\"], initialIndex, v5Compat = false } = options;\n  let entries: Location[]; // Declare so we can access from createMemoryLocation\n  entries = initialEntries.map((entry, index) =>\n    createMemoryLocation(\n      entry,\n      typeof entry === \"string\" ? null : entry.state,\n      index === 0 ? \"default\" : undefined\n    )\n  );\n  let index = clampIndex(\n    initialIndex == null ? entries.length - 1 : initialIndex\n  );\n  let action = Action.Pop;\n  let listener: Listener | null = null;\n\n  function clampIndex(n: number): number {\n    return Math.min(Math.max(n, 0), entries.length - 1);\n  }\n  function getCurrentLocation(): Location {\n    return entries[index];\n  }\n  function createMemoryLocation(\n    to: To,\n    state: any = null,\n    key?: string\n  ): Location {\n    let location = createLocation(\n      entries ? getCurrentLocation().pathname : \"/\",\n      to,\n      state,\n      key\n    );\n    warning(\n      location.pathname.charAt(0) === \"/\",\n      `relative pathnames are not supported in memory history: ${JSON.stringify(\n        to\n      )}`\n    );\n    return location;\n  }\n\n  function createHref(to: To) {\n    return typeof to === \"string\" ? to : createPath(to);\n  }\n\n  let history: MemoryHistory = {\n    get index() {\n      return index;\n    },\n    get action() {\n      return action;\n    },\n    get location() {\n      return getCurrentLocation();\n    },\n    createHref,\n    createURL(to) {\n      return new URL(createHref(to), \"http://localhost\");\n    },\n    encodeLocation(to: To) {\n      let path = typeof to === \"string\" ? parsePath(to) : to;\n      return {\n        pathname: path.pathname || \"\",\n        search: path.search || \"\",\n        hash: path.hash || \"\",\n      };\n    },\n    push(to, state) {\n      action = Action.Push;\n      let nextLocation = createMemoryLocation(to, state);\n      index += 1;\n      entries.splice(index, entries.length, nextLocation);\n      if (v5Compat && listener) {\n        listener({ action, location: nextLocation, delta: 1 });\n      }\n    },\n    replace(to, state) {\n      action = Action.Replace;\n      let nextLocation = createMemoryLocation(to, state);\n      entries[index] = nextLocation;\n      if (v5Compat && listener) {\n        listener({ action, location: nextLocation, delta: 0 });\n      }\n    },\n    go(delta) {\n      action = Action.Pop;\n      let nextIndex = clampIndex(index + delta);\n      let nextLocation = entries[nextIndex];\n      index = nextIndex;\n      if (listener) {\n        listener({ action, location: nextLocation, delta });\n      }\n    },\n    listen(fn: Listener) {\n      listener = fn;\n      return () => {\n        listener = null;\n      };\n    },\n  };\n\n  return history;\n}\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Browser History\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * A browser history stores the current location in regular URLs in a web\n * browser environment. This is the standard for most web apps and provides the\n * cleanest URLs the browser's address bar.\n *\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#browserhistory\n */\nexport interface BrowserHistory extends UrlHistory {}\n\nexport type BrowserHistoryOptions = UrlHistoryOptions;\n\n/**\n * Browser history stores the location in regular URLs. This is the standard for\n * most web apps, but it requires some configuration on the server to ensure you\n * serve the same app at multiple URLs.\n *\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#createbrowserhistory\n */\nexport function createBrowserHistory(\n  options: BrowserHistoryOptions = {}\n): BrowserHistory {\n  function createBrowserLocation(\n    window: Window,\n    globalHistory: Window[\"history\"]\n  ) {\n    let { pathname, search, hash } = window.location;\n    return createLocation(\n      \"\",\n      { pathname, search, hash },\n      // state defaults to `null` because `window.history.state` does\n      (globalHistory.state && globalHistory.state.usr) || null,\n      (globalHistory.state && globalHistory.state.key) || \"default\"\n    );\n  }\n\n  function createBrowserHref(window: Window, to: To) {\n    return typeof to === \"string\" ? to : createPath(to);\n  }\n\n  return getUrlBasedHistory(\n    createBrowserLocation,\n    createBrowserHref,\n    null,\n    options\n  );\n}\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Hash History\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * A hash history stores the current location in the fragment identifier portion\n * of the URL in a web browser environment.\n *\n * This is ideal for apps that do not control the server for some reason\n * (because the fragment identifier is never sent to the server), including some\n * shared hosting environments that do not provide fine-grained controls over\n * which pages are served at which URLs.\n *\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#hashhistory\n */\nexport interface HashHistory extends UrlHistory {}\n\nexport type HashHistoryOptions = UrlHistoryOptions;\n\n/**\n * Hash history stores the location in window.location.hash. This makes it ideal\n * for situations where you don't want to send the location to the server for\n * some reason, either because you do cannot configure it or the URL space is\n * reserved for something else.\n *\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#createhashhistory\n */\nexport function createHashHistory(\n  options: HashHistoryOptions = {}\n): HashHistory {\n  function createHashLocation(\n    window: Window,\n    globalHistory: Window[\"history\"]\n  ) {\n    let {\n      pathname = \"/\",\n      search = \"\",\n      hash = \"\",\n    } = parsePath(window.location.hash.substr(1));\n\n    // Hash URL should always have a leading / just like window.location.pathname\n    // does, so if an app ends up at a route like /#something then we add a\n    // leading slash so all of our path-matching behaves the same as if it would\n    // in a browser router.  This is particularly important when there exists a\n    // root splat route (<Route path=\"*\">) since that matches internally against\n    // \"/*\" and we'd expect /#something to 404 in a hash router app.\n    if (!pathname.startsWith(\"/\") && !pathname.startsWith(\".\")) {\n      pathname = \"/\" + pathname;\n    }\n\n    return createLocation(\n      \"\",\n      { pathname, search, hash },\n      // state defaults to `null` because `window.history.state` does\n      (globalHistory.state && globalHistory.state.usr) || null,\n      (globalHistory.state && globalHistory.state.key) || \"default\"\n    );\n  }\n\n  function createHashHref(window: Window, to: To) {\n    let base = window.document.querySelector(\"base\");\n    let href = \"\";\n\n    if (base && base.getAttribute(\"href\")) {\n      let url = window.location.href;\n      let hashIndex = url.indexOf(\"#\");\n      href = hashIndex === -1 ? url : url.slice(0, hashIndex);\n    }\n\n    return href + \"#\" + (typeof to === \"string\" ? to : createPath(to));\n  }\n\n  function validateHashLocation(location: Location, to: To) {\n    warning(\n      location.pathname.charAt(0) === \"/\",\n      `relative pathnames are not supported in hash history.push(${JSON.stringify(\n        to\n      )})`\n    );\n  }\n\n  return getUrlBasedHistory(\n    createHashLocation,\n    createHashHref,\n    validateHashLocation,\n    options\n  );\n}\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region UTILS\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * @private\n */\nexport function invariant(value: boolean, message?: string): asserts value;\nexport function invariant<T>(\n  value: T | null | undefined,\n  message?: string\n): asserts value is T;\nexport function invariant(value: any, message?: string) {\n  if (value === false || value === null || typeof value === \"undefined\") {\n    throw new Error(message);\n  }\n}\n\nexport function warning(cond: any, message: string) {\n  if (!cond) {\n    // eslint-disable-next-line no-console\n    if (typeof console !== \"undefined\") console.warn(message);\n\n    try {\n      // Welcome to debugging history!\n      //\n      // This error is thrown as a convenience so you can more easily\n      // find the source for a warning that appears in the console by\n      // enabling \"pause on exceptions\" in your JavaScript debugger.\n      throw new Error(message);\n      // eslint-disable-next-line no-empty\n    } catch (e) {}\n  }\n}\n\nfunction createKey() {\n  return Math.random().toString(36).substr(2, 8);\n}\n\n/**\n * For browser-based histories, we combine the state and key into an object\n */\nfunction getHistoryState(location: Location, index: number): HistoryState {\n  return {\n    usr: location.state,\n    key: location.key,\n    idx: index,\n  };\n}\n\n/**\n * Creates a Location object with a unique key from the given Path\n */\nexport function createLocation(\n  current: string | Location,\n  to: To,\n  state: any = null,\n  key?: string\n): Readonly<Location> {\n  let location: Readonly<Location> = {\n    pathname: typeof current === \"string\" ? current : current.pathname,\n    search: \"\",\n    hash: \"\",\n    ...(typeof to === \"string\" ? parsePath(to) : to),\n    state,\n    // TODO: This could be cleaned up.  push/replace should probably just take\n    // full Locations now and avoid the need to run through this flow at all\n    // But that's a pretty big refactor to the current test suite so going to\n    // keep as is for the time being and just let any incoming keys take precedence\n    key: (to && (to as Location).key) || key || createKey(),\n  };\n  return location;\n}\n\n/**\n * Creates a string URL path from the given pathname, search, and hash components.\n */\nexport function createPath({\n  pathname = \"/\",\n  search = \"\",\n  hash = \"\",\n}: Partial<Path>) {\n  if (search && search !== \"?\")\n    pathname += search.charAt(0) === \"?\" ? search : \"?\" + search;\n  if (hash && hash !== \"#\")\n    pathname += hash.charAt(0) === \"#\" ? hash : \"#\" + hash;\n  return pathname;\n}\n\n/**\n * Parses a string URL path into its separate pathname, search, and hash components.\n */\nexport function parsePath(path: string): Partial<Path> {\n  let parsedPath: Partial<Path> = {};\n\n  if (path) {\n    let hashIndex = path.indexOf(\"#\");\n    if (hashIndex >= 0) {\n      parsedPath.hash = path.substr(hashIndex);\n      path = path.substr(0, hashIndex);\n    }\n\n    let searchIndex = path.indexOf(\"?\");\n    if (searchIndex >= 0) {\n      parsedPath.search = path.substr(searchIndex);\n      path = path.substr(0, searchIndex);\n    }\n\n    if (path) {\n      parsedPath.pathname = path;\n    }\n  }\n\n  return parsedPath;\n}\n\nexport interface UrlHistory extends History {}\n\nexport type UrlHistoryOptions = {\n  window?: Window;\n  v5Compat?: boolean;\n};\n\nfunction getUrlBasedHistory(\n  getLocation: (window: Window, globalHistory: Window[\"history\"]) => Location,\n  createHref: (window: Window, to: To) => string,\n  validateLocation: ((location: Location, to: To) => void) | null,\n  options: UrlHistoryOptions = {}\n): UrlHistory {\n  let { window = document.defaultView!, v5Compat = false } = options;\n  let globalHistory = window.history;\n  let action = Action.Pop;\n  let listener: Listener | null = null;\n\n  let index = getIndex()!;\n  // Index should only be null when we initialize. If not, it's because the\n  // user called history.pushState or history.replaceState directly, in which\n  // case we should log a warning as it will result in bugs.\n  if (index == null) {\n    index = 0;\n    globalHistory.replaceState({ ...globalHistory.state, idx: index }, \"\");\n  }\n\n  function getIndex(): number {\n    let state = globalHistory.state || { idx: null };\n    return state.idx;\n  }\n\n  function handlePop() {\n    action = Action.Pop;\n    let nextIndex = getIndex();\n    let delta = nextIndex == null ? null : nextIndex - index;\n    index = nextIndex;\n    if (listener) {\n      listener({ action, location: history.location, delta });\n    }\n  }\n\n  function push(to: To, state?: any) {\n    action = Action.Push;\n    let location = createLocation(history.location, to, state);\n    if (validateLocation) validateLocation(location, to);\n\n    index = getIndex() + 1;\n    let historyState = getHistoryState(location, index);\n    let url = history.createHref(location);\n\n    // try...catch because iOS limits us to 100 pushState calls :/\n    try {\n      globalHistory.pushState(historyState, \"\", url);\n    } catch (error) {\n      // If the exception is because `state` can't be serialized, let that throw\n      // outwards just like a replace call would so the dev knows the cause\n      // https://html.spec.whatwg.org/multipage/nav-history-apis.html#shared-history-push/replace-state-steps\n      // https://html.spec.whatwg.org/multipage/structured-data.html#structuredserializeinternal\n      if (error instanceof DOMException && error.name === \"DataCloneError\") {\n        throw error;\n      }\n      // They are going to lose state here, but there is no real\n      // way to warn them about it since the page will refresh...\n      window.location.assign(url);\n    }\n\n    if (v5Compat && listener) {\n      listener({ action, location: history.location, delta: 1 });\n    }\n  }\n\n  function replace(to: To, state?: any) {\n    action = Action.Replace;\n    let location = createLocation(history.location, to, state);\n    if (validateLocation) validateLocation(location, to);\n\n    index = getIndex();\n    let historyState = getHistoryState(location, index);\n    let url = history.createHref(location);\n    globalHistory.replaceState(historyState, \"\", url);\n\n    if (v5Compat && listener) {\n      listener({ action, location: history.location, delta: 0 });\n    }\n  }\n\n  function createURL(to: To): URL {\n    // window.location.origin is \"null\" (the literal string value) in Firefox\n    // under certain conditions, notably when serving from a local HTML file\n    // See https://bugzilla.mozilla.org/show_bug.cgi?id=878297\n    let base =\n      window.location.origin !== \"null\"\n        ? window.location.origin\n        : window.location.href;\n\n    let href = typeof to === \"string\" ? to : createPath(to);\n    invariant(\n      base,\n      `No window.location.(origin|href) available to create URL for href: ${href}`\n    );\n    return new URL(href, base);\n  }\n\n  let history: History = {\n    get action() {\n      return action;\n    },\n    get location() {\n      return getLocation(window, globalHistory);\n    },\n    listen(fn: Listener) {\n      if (listener) {\n        throw new Error(\"A history only accepts one active listener\");\n      }\n      window.addEventListener(PopStateEventType, handlePop);\n      listener = fn;\n\n      return () => {\n        window.removeEventListener(PopStateEventType, handlePop);\n        listener = null;\n      };\n    },\n    createHref(to) {\n      return createHref(window, to);\n    },\n    createURL,\n    encodeLocation(to) {\n      // Encode a Location the same way window.location would\n      let url = createURL(to);\n      return {\n        pathname: url.pathname,\n        search: url.search,\n        hash: url.hash,\n      };\n    },\n    push,\n    replace,\n    go(n) {\n      return globalHistory.go(n);\n    },\n  };\n\n  return history;\n}\n\n//#endregion\n","import type { Location, Path, To } from \"./history\";\nimport { warning, invariant, parsePath } from \"./history\";\n\n/**\n * Map of routeId -> data returned from a loader/action/error\n */\nexport interface RouteData {\n  [routeId: string]: any;\n}\n\nexport enum ResultType {\n  data = \"data\",\n  deferred = \"deferred\",\n  redirect = \"redirect\",\n  error = \"error\",\n}\n\n/**\n * Successful result from a loader or action\n */\nexport interface SuccessResult {\n  type: ResultType.data;\n  data: any;\n  statusCode?: number;\n  headers?: Headers;\n}\n\n/**\n * Successful defer() result from a loader or action\n */\nexport interface DeferredResult {\n  type: ResultType.deferred;\n  deferredData: DeferredData;\n  statusCode?: number;\n  headers?: Headers;\n}\n\n/**\n * Redirect result from a loader or action\n */\nexport interface RedirectResult {\n  type: ResultType.redirect;\n  status: number;\n  location: string;\n  revalidate: boolean;\n  reloadDocument?: boolean;\n}\n\n/**\n * Unsuccessful result from a loader or action\n */\nexport interface ErrorResult {\n  type: ResultType.error;\n  error: any;\n  headers?: Headers;\n}\n\n/**\n * Result from a loader or action - potentially successful or unsuccessful\n */\nexport type DataResult =\n  | SuccessResult\n  | DeferredResult\n  | RedirectResult\n  | ErrorResult;\n\ntype LowerCaseFormMethod = \"get\" | \"post\" | \"put\" | \"patch\" | \"delete\";\ntype UpperCaseFormMethod = Uppercase<LowerCaseFormMethod>;\n\n/**\n * Users can specify either lowercase or uppercase form methods on <Form>,\n * useSubmit(), <fetcher.Form>, etc.\n */\nexport type HTMLFormMethod = LowerCaseFormMethod | UpperCaseFormMethod;\n\n/**\n * Active navigation/fetcher form methods are exposed in lowercase on the\n * RouterState\n */\nexport type FormMethod = LowerCaseFormMethod;\nexport type MutationFormMethod = Exclude<FormMethod, \"get\">;\n\n/**\n * In v7, active navigation/fetcher form methods are exposed in uppercase on the\n * RouterState.  This is to align with the normalization done via fetch().\n */\nexport type V7_FormMethod = UpperCaseFormMethod;\nexport type V7_MutationFormMethod = Exclude<V7_FormMethod, \"GET\">;\n\nexport type FormEncType =\n  | \"application/x-www-form-urlencoded\"\n  | \"multipart/form-data\"\n  | \"application/json\"\n  | \"text/plain\";\n\n// Thanks https://github.com/sindresorhus/type-fest!\ntype JsonObject = { [Key in string]: JsonValue } & {\n  [Key in string]?: JsonValue | undefined;\n};\ntype JsonArray = JsonValue[] | readonly JsonValue[];\ntype JsonPrimitive = string | number | boolean | null;\ntype JsonValue = JsonPrimitive | JsonObject | JsonArray;\n\n/**\n * @private\n * Internal interface to pass around for action submissions, not intended for\n * external consumption\n */\nexport type Submission =\n  | {\n      formMethod: FormMethod | V7_FormMethod;\n      formAction: string;\n      formEncType: FormEncType;\n      formData: FormData;\n      json: undefined;\n      text: undefined;\n    }\n  | {\n      formMethod: FormMethod | V7_FormMethod;\n      formAction: string;\n      formEncType: FormEncType;\n      formData: undefined;\n      json: JsonValue;\n      text: undefined;\n    }\n  | {\n      formMethod: FormMethod | V7_FormMethod;\n      formAction: string;\n      formEncType: FormEncType;\n      formData: undefined;\n      json: undefined;\n      text: string;\n    };\n\n/**\n * @private\n * Arguments passed to route loader/action functions.  Same for now but we keep\n * this as a private implementation detail in case they diverge in the future.\n */\ninterface DataFunctionArgs {\n  request: Request;\n  params: Params;\n  context?: any;\n}\n\n/**\n * Arguments passed to loader functions\n */\nexport interface LoaderFunctionArgs extends DataFunctionArgs {}\n\n/**\n * Arguments passed to action functions\n */\nexport interface ActionFunctionArgs extends DataFunctionArgs {}\n\n/**\n * Loaders and actions can return anything except `undefined` (`null` is a\n * valid return value if there is no data to return).  Responses are preferred\n * and will ease any future migration to Remix\n */\ntype DataFunctionValue = Response | NonNullable<unknown> | null;\n\n/**\n * Route loader function signature\n */\nexport interface LoaderFunction {\n  (args: LoaderFunctionArgs): Promise<DataFunctionValue> | DataFunctionValue;\n}\n\n/**\n * Route action function signature\n */\nexport interface ActionFunction {\n  (args: ActionFunctionArgs): Promise<DataFunctionValue> | DataFunctionValue;\n}\n\n/**\n * Route shouldRevalidate function signature.  This runs after any submission\n * (navigation or fetcher), so we flatten the navigation/fetcher submission\n * onto the arguments.  It shouldn't matter whether it came from a navigation\n * or a fetcher, what really matters is the URLs and the formData since loaders\n * have to re-run based on the data models that were potentially mutated.\n */\nexport interface ShouldRevalidateFunction {\n  (args: {\n    currentUrl: URL;\n    currentParams: AgnosticDataRouteMatch[\"params\"];\n    nextUrl: URL;\n    nextParams: AgnosticDataRouteMatch[\"params\"];\n    formMethod?: Submission[\"formMethod\"];\n    formAction?: Submission[\"formAction\"];\n    formEncType?: Submission[\"formEncType\"];\n    text?: Submission[\"text\"];\n    formData?: Submission[\"formData\"];\n    json?: Submission[\"json\"];\n    actionResult?: DataResult;\n    defaultShouldRevalidate: boolean;\n  }): boolean;\n}\n\n/**\n * Function provided by the framework-aware layers to set `hasErrorBoundary`\n * from the framework-aware `errorElement` prop\n *\n * @deprecated Use `mapRouteProperties` instead\n */\nexport interface DetectErrorBoundaryFunction {\n  (route: AgnosticRouteObject): boolean;\n}\n\n/**\n * Function provided by the framework-aware layers to set any framework-specific\n * properties from framework-agnostic properties\n */\nexport interface MapRoutePropertiesFunction {\n  (route: AgnosticRouteObject): {\n    hasErrorBoundary: boolean;\n  } & Record<string, any>;\n}\n\n/**\n * Keys we cannot change from within a lazy() function. We spread all other keys\n * onto the route. Either they're meaningful to the router, or they'll get\n * ignored.\n */\nexport type ImmutableRouteKey =\n  | \"lazy\"\n  | \"caseSensitive\"\n  | \"path\"\n  | \"id\"\n  | \"index\"\n  | \"children\";\n\nexport const immutableRouteKeys = new Set<ImmutableRouteKey>([\n  \"lazy\",\n  \"caseSensitive\",\n  \"path\",\n  \"id\",\n  \"index\",\n  \"children\",\n]);\n\ntype RequireOne<T, Key = keyof T> = Exclude<\n  {\n    [K in keyof T]: K extends Key ? Omit<T, K> & Required<Pick<T, K>> : never;\n  }[keyof T],\n  undefined\n>;\n\n/**\n * lazy() function to load a route definition, which can add non-matching\n * related properties to a route\n */\nexport interface LazyRouteFunction<R extends AgnosticRouteObject> {\n  (): Promise<RequireOne<Omit<R, ImmutableRouteKey>>>;\n}\n\n/**\n * Base RouteObject with common props shared by all types of routes\n */\ntype AgnosticBaseRouteObject = {\n  caseSensitive?: boolean;\n  path?: string;\n  id?: string;\n  loader?: LoaderFunction;\n  action?: ActionFunction;\n  hasErrorBoundary?: boolean;\n  shouldRevalidate?: ShouldRevalidateFunction;\n  handle?: any;\n  lazy?: LazyRouteFunction<AgnosticBaseRouteObject>;\n};\n\n/**\n * Index routes must not have children\n */\nexport type AgnosticIndexRouteObject = AgnosticBaseRouteObject & {\n  children?: undefined;\n  index: true;\n};\n\n/**\n * Non-index routes may have children, but cannot have index\n */\nexport type AgnosticNonIndexRouteObject = AgnosticBaseRouteObject & {\n  children?: AgnosticRouteObject[];\n  index?: false;\n};\n\n/**\n * A route object represents a logical route, with (optionally) its child\n * routes organized in a tree-like structure.\n */\nexport type AgnosticRouteObject =\n  | AgnosticIndexRouteObject\n  | AgnosticNonIndexRouteObject;\n\nexport type AgnosticDataIndexRouteObject = AgnosticIndexRouteObject & {\n  id: string;\n};\n\nexport type AgnosticDataNonIndexRouteObject = AgnosticNonIndexRouteObject & {\n  children?: AgnosticDataRouteObject[];\n  id: string;\n};\n\n/**\n * A data route object, which is just a RouteObject with a required unique ID\n */\nexport type AgnosticDataRouteObject =\n  | AgnosticDataIndexRouteObject\n  | AgnosticDataNonIndexRouteObject;\n\nexport type RouteManifest = Record<string, AgnosticDataRouteObject | undefined>;\n\n// Recursive helper for finding path parameters in the absence of wildcards\ntype _PathParam<Path extends string> =\n  // split path into individual path segments\n  Path extends `${infer L}/${infer R}`\n    ? _PathParam<L> | _PathParam<R>\n    : // find params after `:`\n    Path extends `:${infer Param}`\n    ? Param extends `${infer Optional}?`\n      ? Optional\n      : Param\n    : // otherwise, there aren't any params present\n      never;\n\n/**\n * Examples:\n * \"/a/b/*\" -> \"*\"\n * \":a\" -> \"a\"\n * \"/a/:b\" -> \"b\"\n * \"/a/blahblahblah:b\" -> \"b\"\n * \"/:a/:b\" -> \"a\" | \"b\"\n * \"/:a/b/:c/*\" -> \"a\" | \"c\" | \"*\"\n */\ntype PathParam<Path extends string> =\n  // check if path is just a wildcard\n  Path extends \"*\" | \"/*\"\n    ? \"*\"\n    : // look for wildcard at the end of the path\n    Path extends `${infer Rest}/*`\n    ? \"*\" | _PathParam<Rest>\n    : // look for params in the absence of wildcards\n      _PathParam<Path>;\n\n// Attempt to parse the given string segment. If it fails, then just return the\n// plain string type as a default fallback. Otherwise return the union of the\n// parsed string literals that were referenced as dynamic segments in the route.\nexport type ParamParseKey<Segment extends string> =\n  // if could not find path params, fallback to `string`\n  [PathParam<Segment>] extends [never] ? string : PathParam<Segment>;\n\n/**\n * The parameters that were parsed from the URL path.\n */\nexport type Params<Key extends string = string> = {\n  readonly [key in Key]: string | undefined;\n};\n\n/**\n * A RouteMatch contains info about how a route matched a URL.\n */\nexport interface AgnosticRouteMatch<\n  ParamKey extends string = string,\n  RouteObjectType extends AgnosticRouteObject = AgnosticRouteObject\n> {\n  /**\n   * The names and values of dynamic parameters in the URL.\n   */\n  params: Params<ParamKey>;\n  /**\n   * The portion of the URL pathname that was matched.\n   */\n  pathname: string;\n  /**\n   * The portion of the URL pathname that was matched before child routes.\n   */\n  pathnameBase: string;\n  /**\n   * The route object that was used to match.\n   */\n  route: RouteObjectType;\n}\n\nexport interface AgnosticDataRouteMatch\n  extends AgnosticRouteMatch<string, AgnosticDataRouteObject> {}\n\nfunction isIndexRoute(\n  route: AgnosticRouteObject\n): route is AgnosticIndexRouteObject {\n  return route.index === true;\n}\n\n// Walk the route tree generating unique IDs where necessary so we are working\n// solely with AgnosticDataRouteObject's within the Router\nexport function convertRoutesToDataRoutes(\n  routes: AgnosticRouteObject[],\n  mapRouteProperties: MapRoutePropertiesFunction,\n  parentPath: number[] = [],\n  manifest: RouteManifest = {}\n): AgnosticDataRouteObject[] {\n  return routes.map((route, index) => {\n    let treePath = [...parentPath, index];\n    let id = typeof route.id === \"string\" ? route.id : treePath.join(\"-\");\n    invariant(\n      route.index !== true || !route.children,\n      `Cannot specify children on an index route`\n    );\n    invariant(\n      !manifest[id],\n      `Found a route id collision on id \"${id}\".  Route ` +\n        \"id's must be globally unique within Data Router usages\"\n    );\n\n    if (isIndexRoute(route)) {\n      let indexRoute: AgnosticDataIndexRouteObject = {\n        ...route,\n        ...mapRouteProperties(route),\n        id,\n      };\n      manifest[id] = indexRoute;\n      return indexRoute;\n    } else {\n      let pathOrLayoutRoute: AgnosticDataNonIndexRouteObject = {\n        ...route,\n        ...mapRouteProperties(route),\n        id,\n        children: undefined,\n      };\n      manifest[id] = pathOrLayoutRoute;\n\n      if (route.children) {\n        pathOrLayoutRoute.children = convertRoutesToDataRoutes(\n          route.children,\n          mapRouteProperties,\n          treePath,\n          manifest\n        );\n      }\n\n      return pathOrLayoutRoute;\n    }\n  });\n}\n\n/**\n * Matches the given routes to a location and returns the match data.\n *\n * @see https://reactrouter.com/utils/match-routes\n */\nexport function matchRoutes<\n  RouteObjectType extends AgnosticRouteObject = AgnosticRouteObject\n>(\n  routes: RouteObjectType[],\n  locationArg: Partial<Location> | string,\n  basename = \"/\"\n): AgnosticRouteMatch<string, RouteObjectType>[] | null {\n  let location =\n    typeof locationArg === \"string\" ? parsePath(locationArg) : locationArg;\n\n  let pathname = stripBasename(location.pathname || \"/\", basename);\n\n  if (pathname == null) {\n    return null;\n  }\n\n  let branches = flattenRoutes(routes);\n  rankRouteBranches(branches);\n\n  let matches = null;\n  for (let i = 0; matches == null && i < branches.length; ++i) {\n    matches = matchRouteBranch<string, RouteObjectType>(\n      branches[i],\n      // Incoming pathnames are generally encoded from either window.location\n      // or from router.navigate, but we want to match against the unencoded\n      // paths in the route definitions.  Memory router locations won't be\n      // encoded here but there also shouldn't be anything to decode so this\n      // should be a safe operation.  This avoids needing matchRoutes to be\n      // history-aware.\n      safelyDecodeURI(pathname)\n    );\n  }\n\n  return matches;\n}\n\ninterface RouteMeta<\n  RouteObjectType extends AgnosticRouteObject = AgnosticRouteObject\n> {\n  relativePath: string;\n  caseSensitive: boolean;\n  childrenIndex: number;\n  route: RouteObjectType;\n}\n\ninterface RouteBranch<\n  RouteObjectType extends AgnosticRouteObject = AgnosticRouteObject\n> {\n  path: string;\n  score: number;\n  routesMeta: RouteMeta<RouteObjectType>[];\n}\n\nfunction flattenRoutes<\n  RouteObjectType extends AgnosticRouteObject = AgnosticRouteObject\n>(\n  routes: RouteObjectType[],\n  branches: RouteBranch<RouteObjectType>[] = [],\n  parentsMeta: RouteMeta<RouteObjectType>[] = [],\n  parentPath = \"\"\n): RouteBranch<RouteObjectType>[] {\n  let flattenRoute = (\n    route: RouteObjectType,\n    index: number,\n    relativePath?: string\n  ) => {\n    let meta: RouteMeta<RouteObjectType> = {\n      relativePath:\n        relativePath === undefined ? route.path || \"\" : relativePath,\n      caseSensitive: route.caseSensitive === true,\n      childrenIndex: index,\n      route,\n    };\n\n    if (meta.relativePath.startsWith(\"/\")) {\n      invariant(\n        meta.relativePath.startsWith(parentPath),\n        `Absolute route path \"${meta.relativePath}\" nested under path ` +\n          `\"${parentPath}\" is not valid. An absolute child route path ` +\n          `must start with the combined path of all its parent routes.`\n      );\n\n      meta.relativePath = meta.relativePath.slice(parentPath.length);\n    }\n\n    let path = joinPaths([parentPath, meta.relativePath]);\n    let routesMeta = parentsMeta.concat(meta);\n\n    // Add the children before adding this route to the array so we traverse the\n    // route tree depth-first and child routes appear before their parents in\n    // the \"flattened\" version.\n    if (route.children && route.children.length > 0) {\n      invariant(\n        // Our types know better, but runtime JS may not!\n        // @ts-expect-error\n        route.index !== true,\n        `Index routes must not have child routes. Please remove ` +\n          `all child routes from route path \"${path}\".`\n      );\n\n      flattenRoutes(route.children, branches, routesMeta, path);\n    }\n\n    // Routes without a path shouldn't ever match by themselves unless they are\n    // index routes, so don't add them to the list of possible branches.\n    if (route.path == null && !route.index) {\n      return;\n    }\n\n    branches.push({\n      path,\n      score: computeScore(path, route.index),\n      routesMeta,\n    });\n  };\n  routes.forEach((route, index) => {\n    // coarse-grain check for optional params\n    if (route.path === \"\" || !route.path?.includes(\"?\")) {\n      flattenRoute(route, index);\n    } else {\n      for (let exploded of explodeOptionalSegments(route.path)) {\n        flattenRoute(route, index, exploded);\n      }\n    }\n  });\n\n  return branches;\n}\n\n/**\n * Computes all combinations of optional path segments for a given path,\n * excluding combinations that are ambiguous and of lower priority.\n *\n * For example, `/one/:two?/three/:four?/:five?` explodes to:\n * - `/one/three`\n * - `/one/:two/three`\n * - `/one/three/:four`\n * - `/one/three/:five`\n * - `/one/:two/three/:four`\n * - `/one/:two/three/:five`\n * - `/one/three/:four/:five`\n * - `/one/:two/three/:four/:five`\n */\nfunction explodeOptionalSegments(path: string): string[] {\n  let segments = path.split(\"/\");\n  if (segments.length === 0) return [];\n\n  let [first, ...rest] = segments;\n\n  // Optional path segments are denoted by a trailing `?`\n  let isOptional = first.endsWith(\"?\");\n  // Compute the corresponding required segment: `foo?` -> `foo`\n  let required = first.replace(/\\?$/, \"\");\n\n  if (rest.length === 0) {\n    // Intepret empty string as omitting an optional segment\n    // `[\"one\", \"\", \"three\"]` corresponds to omitting `:two` from `/one/:two?/three` -> `/one/three`\n    return isOptional ? [required, \"\"] : [required];\n  }\n\n  let restExploded = explodeOptionalSegments(rest.join(\"/\"));\n\n  let result: string[] = [];\n\n  // All child paths with the prefix.  Do this for all children before the\n  // optional version for all children so we get consistent ordering where the\n  // parent optional aspect is preferred as required.  Otherwise, we can get\n  // child sections interspersed where deeper optional segments are higher than\n  // parent optional segments, where for example, /:two would explodes _earlier_\n  // then /:one.  By always including the parent as required _for all children_\n  // first, we avoid this issue\n  result.push(\n    ...restExploded.map((subpath) =>\n      subpath === \"\" ? required : [required, subpath].join(\"/\")\n    )\n  );\n\n  // Then if this is an optional value, add all child versions without\n  if (isOptional) {\n    result.push(...restExploded);\n  }\n\n  // for absolute paths, ensure `/` instead of empty segment\n  return result.map((exploded) =>\n    path.startsWith(\"/\") && exploded === \"\" ? \"/\" : exploded\n  );\n}\n\nfunction rankRouteBranches(branches: RouteBranch[]): void {\n  branches.sort((a, b) =>\n    a.score !== b.score\n      ? b.score - a.score // Higher score first\n      : compareIndexes(\n          a.routesMeta.map((meta) => meta.childrenIndex),\n          b.routesMeta.map((meta) => meta.childrenIndex)\n        )\n  );\n}\n\nconst paramRe = /^:\\w+$/;\nconst dynamicSegmentValue = 3;\nconst indexRouteValue = 2;\nconst emptySegmentValue = 1;\nconst staticSegmentValue = 10;\nconst splatPenalty = -2;\nconst isSplat = (s: string) => s === \"*\";\n\nfunction computeScore(path: string, index: boolean | undefined): number {\n  let segments = path.split(\"/\");\n  let initialScore = segments.length;\n  if (segments.some(isSplat)) {\n    initialScore += splatPenalty;\n  }\n\n  if (index) {\n    initialScore += indexRouteValue;\n  }\n\n  return segments\n    .filter((s) => !isSplat(s))\n    .reduce(\n      (score, segment) =>\n        score +\n        (paramRe.test(segment)\n          ? dynamicSegmentValue\n          : segment === \"\"\n          ? emptySegmentValue\n          : staticSegmentValue),\n      initialScore\n    );\n}\n\nfunction compareIndexes(a: number[], b: number[]): number {\n  let siblings =\n    a.length === b.length && a.slice(0, -1).every((n, i) => n === b[i]);\n\n  return siblings\n    ? // If two routes are siblings, we should try to match the earlier sibling\n      // first. This allows people to have fine-grained control over the matching\n      // behavior by simply putting routes with identical paths in the order they\n      // want them tried.\n      a[a.length - 1] - b[b.length - 1]\n    : // Otherwise, it doesn't really make sense to rank non-siblings by index,\n      // so they sort equally.\n      0;\n}\n\nfunction matchRouteBranch<\n  ParamKey extends string = string,\n  RouteObjectType extends AgnosticRouteObject = AgnosticRouteObject\n>(\n  branch: RouteBranch<RouteObjectType>,\n  pathname: string\n): AgnosticRouteMatch<ParamKey, RouteObjectType>[] | null {\n  let { routesMeta } = branch;\n\n  let matchedParams = {};\n  let matchedPathname = \"/\";\n  let matches: AgnosticRouteMatch<ParamKey, RouteObjectType>[] = [];\n  for (let i = 0; i < routesMeta.length; ++i) {\n    let meta = routesMeta[i];\n    let end = i === routesMeta.length - 1;\n    let remainingPathname =\n      matchedPathname === \"/\"\n        ? pathname\n        : pathname.slice(matchedPathname.length) || \"/\";\n    let match = matchPath(\n      { path: meta.relativePath, caseSensitive: meta.caseSensitive, end },\n      remainingPathname\n    );\n\n    if (!match) return null;\n\n    Object.assign(matchedParams, match.params);\n\n    let route = meta.route;\n\n    matches.push({\n      // TODO: Can this as be avoided?\n      params: matchedParams as Params<ParamKey>,\n      pathname: joinPaths([matchedPathname, match.pathname]),\n      pathnameBase: normalizePathname(\n        joinPaths([matchedPathname, match.pathnameBase])\n      ),\n      route,\n    });\n\n    if (match.pathnameBase !== \"/\") {\n      matchedPathname = joinPaths([matchedPathname, match.pathnameBase]);\n    }\n  }\n\n  return matches;\n}\n\n/**\n * Returns a path with params interpolated.\n *\n * @see https://reactrouter.com/utils/generate-path\n */\nexport function generatePath<Path extends string>(\n  originalPath: Path,\n  params: {\n    [key in PathParam<Path>]: string | null;\n  } = {} as any\n): string {\n  let path: string = originalPath;\n  if (path.endsWith(\"*\") && path !== \"*\" && !path.endsWith(\"/*\")) {\n    warning(\n      false,\n      `Route path \"${path}\" will be treated as if it were ` +\n        `\"${path.replace(/\\*$/, \"/*\")}\" because the \\`*\\` character must ` +\n        `always follow a \\`/\\` in the pattern. To get rid of this warning, ` +\n        `please change the route path to \"${path.replace(/\\*$/, \"/*\")}\".`\n    );\n    path = path.replace(/\\*$/, \"/*\") as Path;\n  }\n\n  // ensure `/` is added at the beginning if the path is absolute\n  const prefix = path.startsWith(\"/\") ? \"/\" : \"\";\n\n  const stringify = (p: any) =>\n    p == null ? \"\" : typeof p === \"string\" ? p : String(p);\n\n  const segments = path\n    .split(/\\/+/)\n    .map((segment, index, array) => {\n      const isLastSegment = index === array.length - 1;\n\n      // only apply the splat if it's the last segment\n      if (isLastSegment && segment === \"*\") {\n        const star = \"*\" as PathParam<Path>;\n        // Apply the splat\n        return stringify(params[star]);\n      }\n\n      const keyMatch = segment.match(/^:(\\w+)(\\??)$/);\n      if (keyMatch) {\n        const [, key, optional] = keyMatch;\n        let param = params[key as PathParam<Path>];\n        invariant(optional === \"?\" || param != null, `Missing \":${key}\" param`);\n        return stringify(param);\n      }\n\n      // Remove any optional markers from optional static segments\n      return segment.replace(/\\?$/g, \"\");\n    })\n    // Remove empty segments\n    .filter((segment) => !!segment);\n\n  return prefix + segments.join(\"/\");\n}\n\n/**\n * A PathPattern is used to match on some portion of a URL pathname.\n */\nexport interface PathPattern<Path extends string = string> {\n  /**\n   * A string to match against a URL pathname. May contain `:id`-style segments\n   * to indicate placeholders for dynamic parameters. May also end with `/*` to\n   * indicate matching the rest of the URL pathname.\n   */\n  path: Path;\n  /**\n   * Should be `true` if the static portions of the `path` should be matched in\n   * the same case.\n   */\n  caseSensitive?: boolean;\n  /**\n   * Should be `true` if this pattern should match the entire URL pathname.\n   */\n  end?: boolean;\n}\n\n/**\n * A PathMatch contains info about how a PathPattern matched on a URL pathname.\n */\nexport interface PathMatch<ParamKey extends string = string> {\n  /**\n   * The names and values of dynamic parameters in the URL.\n   */\n  params: Params<ParamKey>;\n  /**\n   * The portion of the URL pathname that was matched.\n   */\n  pathname: string;\n  /**\n   * The portion of the URL pathname that was matched before child routes.\n   */\n  pathnameBase: string;\n  /**\n   * The pattern that was used to match.\n   */\n  pattern: PathPattern;\n}\n\ntype Mutable<T> = {\n  -readonly [P in keyof T]: T[P];\n};\n\n/**\n * Performs pattern matching on a URL pathname and returns information about\n * the match.\n *\n * @see https://reactrouter.com/utils/match-path\n */\nexport function matchPath<\n  ParamKey extends ParamParseKey<Path>,\n  Path extends string\n>(\n  pattern: PathPattern<Path> | Path,\n  pathname: string\n): PathMatch<ParamKey> | null {\n  if (typeof pattern === \"string\") {\n    pattern = { path: pattern, caseSensitive: false, end: true };\n  }\n\n  let [matcher, paramNames] = compilePath(\n    pattern.path,\n    pattern.caseSensitive,\n    pattern.end\n  );\n\n  let match = pathname.match(matcher);\n  if (!match) return null;\n\n  let matchedPathname = match[0];\n  let pathnameBase = matchedPathname.replace(/(.)\\/+$/, \"$1\");\n  let captureGroups = match.slice(1);\n  let params: Params = paramNames.reduce<Mutable<Params>>(\n    (memo, paramName, index) => {\n      // We need to compute the pathnameBase here using the raw splat value\n      // instead of using params[\"*\"] later because it will be decoded then\n      if (paramName === \"*\") {\n        let splatValue = captureGroups[index] || \"\";\n        pathnameBase = matchedPathname\n          .slice(0, matchedPathname.length - splatValue.length)\n          .replace(/(.)\\/+$/, \"$1\");\n      }\n\n      memo[paramName] = safelyDecodeURIComponent(\n        captureGroups[index] || \"\",\n        paramName\n      );\n      return memo;\n    },\n    {}\n  );\n\n  return {\n    params,\n    pathname: matchedPathname,\n    pathnameBase,\n    pattern,\n  };\n}\n\nfunction compilePath(\n  path: string,\n  caseSensitive = false,\n  end = true\n): [RegExp, string[]] {\n  warning(\n    path === \"*\" || !path.endsWith(\"*\") || path.endsWith(\"/*\"),\n    `Route path \"${path}\" will be treated as if it were ` +\n      `\"${path.replace(/\\*$/, \"/*\")}\" because the \\`*\\` character must ` +\n      `always follow a \\`/\\` in the pattern. To get rid of this warning, ` +\n      `please change the route path to \"${path.replace(/\\*$/, \"/*\")}\".`\n  );\n\n  let paramNames: string[] = [];\n  let regexpSource =\n    \"^\" +\n    path\n      .replace(/\\/*\\*?$/, \"\") // Ignore trailing / and /*, we'll handle it below\n      .replace(/^\\/*/, \"/\") // Make sure it has a leading /\n      .replace(/[\\\\.*+^$?{}|()[\\]]/g, \"\\\\$&\") // Escape special regex chars\n      .replace(/\\/:(\\w+)/g, (_: string, paramName: string) => {\n        paramNames.push(paramName);\n        return \"/([^\\\\/]+)\";\n      });\n\n  if (path.endsWith(\"*\")) {\n    paramNames.push(\"*\");\n    regexpSource +=\n      path === \"*\" || path === \"/*\"\n        ? \"(.*)$\" // Already matched the initial /, just match the rest\n        : \"(?:\\\\/(.+)|\\\\/*)$\"; // Don't include the / in params[\"*\"]\n  } else if (end) {\n    // When matching to the end, ignore trailing slashes\n    regexpSource += \"\\\\/*$\";\n  } else if (path !== \"\" && path !== \"/\") {\n    // If our path is non-empty and contains anything beyond an initial slash,\n    // then we have _some_ form of path in our regex so we should expect to\n    // match only if we find the end of this path segment.  Look for an optional\n    // non-captured trailing slash (to match a portion of the URL) or the end\n    // of the path (if we've matched to the end).  We used to do this with a\n    // word boundary but that gives false positives on routes like\n    // /user-preferences since `-` counts as a word boundary.\n    regexpSource += \"(?:(?=\\\\/|$))\";\n  } else {\n    // Nothing to match for \"\" or \"/\"\n  }\n\n  let matcher = new RegExp(regexpSource, caseSensitive ? undefined : \"i\");\n\n  return [matcher, paramNames];\n}\n\nfunction safelyDecodeURI(value: string) {\n  try {\n    return decodeURI(value);\n  } catch (error) {\n    warning(\n      false,\n      `The URL path \"${value}\" could not be decoded because it is is a ` +\n        `malformed URL segment. This is probably due to a bad percent ` +\n        `encoding (${error}).`\n    );\n\n    return value;\n  }\n}\n\nfunction safelyDecodeURIComponent(value: string, paramName: string) {\n  try {\n    return decodeURIComponent(value);\n  } catch (error) {\n    warning(\n      false,\n      `The value for the URL param \"${paramName}\" will not be decoded because` +\n        ` the string \"${value}\" is a malformed URL segment. This is probably` +\n        ` due to a bad percent encoding (${error}).`\n    );\n\n    return value;\n  }\n}\n\n/**\n * @private\n */\nexport function stripBasename(\n  pathname: string,\n  basename: string\n): string | null {\n  if (basename === \"/\") return pathname;\n\n  if (!pathname.toLowerCase().startsWith(basename.toLowerCase())) {\n    return null;\n  }\n\n  // We want to leave trailing slash behavior in the user's control, so if they\n  // specify a basename with a trailing slash, we should support it\n  let startIndex = basename.endsWith(\"/\")\n    ? basename.length - 1\n    : basename.length;\n  let nextChar = pathname.charAt(startIndex);\n  if (nextChar && nextChar !== \"/\") {\n    // pathname does not start with basename/\n    return null;\n  }\n\n  return pathname.slice(startIndex) || \"/\";\n}\n\n/**\n * Returns a resolved path object relative to the given pathname.\n *\n * @see https://reactrouter.com/utils/resolve-path\n */\nexport function resolvePath(to: To, fromPathname = \"/\"): Path {\n  let {\n    pathname: toPathname,\n    search = \"\",\n    hash = \"\",\n  } = typeof to === \"string\" ? parsePath(to) : to;\n\n  let pathname = toPathname\n    ? toPathname.startsWith(\"/\")\n      ? toPathname\n      : resolvePathname(toPathname, fromPathname)\n    : fromPathname;\n\n  return {\n    pathname,\n    search: normalizeSearch(search),\n    hash: normalizeHash(hash),\n  };\n}\n\nfunction resolvePathname(relativePath: string, fromPathname: string): string {\n  let segments = fromPathname.replace(/\\/+$/, \"\").split(\"/\");\n  let relativeSegments = relativePath.split(\"/\");\n\n  relativeSegments.forEach((segment) => {\n    if (segment === \"..\") {\n      // Keep the root \"\" segment so the pathname starts at /\n      if (segments.length > 1) segments.pop();\n    } else if (segment !== \".\") {\n      segments.push(segment);\n    }\n  });\n\n  return segments.length > 1 ? segments.join(\"/\") : \"/\";\n}\n\nfunction getInvalidPathError(\n  char: string,\n  field: string,\n  dest: string,\n  path: Partial<Path>\n) {\n  return (\n    `Cannot include a '${char}' character in a manually specified ` +\n    `\\`to.${field}\\` field [${JSON.stringify(\n      path\n    )}].  Please separate it out to the ` +\n    `\\`to.${dest}\\` field. Alternatively you may provide the full path as ` +\n    `a string in <Link to=\"...\"> and the router will parse it for you.`\n  );\n}\n\n/**\n * @private\n *\n * When processing relative navigation we want to ignore ancestor routes that\n * do not contribute to the path, such that index/pathless layout routes don't\n * interfere.\n *\n * For example, when moving a route element into an index route and/or a\n * pathless layout route, relative link behavior contained within should stay\n * the same.  Both of the following examples should link back to the root:\n *\n *   <Route path=\"/\">\n *     <Route path=\"accounts\" element={<Link to=\"..\"}>\n *   </Route>\n *\n *   <Route path=\"/\">\n *     <Route path=\"accounts\">\n *       <Route element={<AccountsLayout />}>       // <-- Does not contribute\n *         <Route index element={<Link to=\"..\"} />  // <-- Does not contribute\n *       </Route\n *     </Route>\n *   </Route>\n */\nexport function getPathContributingMatches<\n  T extends AgnosticRouteMatch = AgnosticRouteMatch\n>(matches: T[]) {\n  return matches.filter(\n    (match, index) =>\n      index === 0 || (match.route.path && match.route.path.length > 0)\n  );\n}\n\n/**\n * @private\n */\nexport function resolveTo(\n  toArg: To,\n  routePathnames: string[],\n  locationPathname: string,\n  isPathRelative = false\n): Path {\n  let to: Partial<Path>;\n  if (typeof toArg === \"string\") {\n    to = parsePath(toArg);\n  } else {\n    to = { ...toArg };\n\n    invariant(\n      !to.pathname || !to.pathname.includes(\"?\"),\n      getInvalidPathError(\"?\", \"pathname\", \"search\", to)\n    );\n    invariant(\n      !to.pathname || !to.pathname.includes(\"#\"),\n      getInvalidPathError(\"#\", \"pathname\", \"hash\", to)\n    );\n    invariant(\n      !to.search || !to.search.includes(\"#\"),\n      getInvalidPathError(\"#\", \"search\", \"hash\", to)\n    );\n  }\n\n  let isEmptyPath = toArg === \"\" || to.pathname === \"\";\n  let toPathname = isEmptyPath ? \"/\" : to.pathname;\n\n  let from: string;\n\n  // Routing is relative to the current pathname if explicitly requested.\n  //\n  // If a pathname is explicitly provided in `to`, it should be relative to the\n  // route context. This is explained in `Note on `<Link to>` values` in our\n  // migration guide from v5 as a means of disambiguation between `to` values\n  // that begin with `/` and those that do not. However, this is problematic for\n  // `to` values that do not provide a pathname. `to` can simply be a search or\n  // hash string, in which case we should assume that the navigation is relative\n  // to the current location's pathname and *not* the route pathname.\n  if (isPathRelative || toPathname == null) {\n    from = locationPathname;\n  } else {\n    let routePathnameIndex = routePathnames.length - 1;\n\n    if (toPathname.startsWith(\"..\")) {\n      let toSegments = toPathname.split(\"/\");\n\n      // Each leading .. segment means \"go up one route\" instead of \"go up one\n      // URL segment\".  This is a key difference from how <a href> works and a\n      // major reason we call this a \"to\" value instead of a \"href\".\n      while (toSegments[0] === \"..\") {\n        toSegments.shift();\n        routePathnameIndex -= 1;\n      }\n\n      to.pathname = toSegments.join(\"/\");\n    }\n\n    // If there are more \"..\" segments than parent routes, resolve relative to\n    // the root / URL.\n    from = routePathnameIndex >= 0 ? routePathnames[routePathnameIndex] : \"/\";\n  }\n\n  let path = resolvePath(to, from);\n\n  // Ensure the pathname has a trailing slash if the original \"to\" had one\n  let hasExplicitTrailingSlash =\n    toPathname && toPathname !== \"/\" && toPathname.endsWith(\"/\");\n  // Or if this was a link to the current path which has a trailing slash\n  let hasCurrentTrailingSlash =\n    (isEmptyPath || toPathname === \".\") && locationPathname.endsWith(\"/\");\n  if (\n    !path.pathname.endsWith(\"/\") &&\n    (hasExplicitTrailingSlash || hasCurrentTrailingSlash)\n  ) {\n    path.pathname += \"/\";\n  }\n\n  return path;\n}\n\n/**\n * @private\n */\nexport function getToPathname(to: To): string | undefined {\n  // Empty strings should be treated the same as / paths\n  return to === \"\" || (to as Path).pathname === \"\"\n    ? \"/\"\n    : typeof to === \"string\"\n    ? parsePath(to).pathname\n    : to.pathname;\n}\n\n/**\n * @private\n */\nexport const joinPaths = (paths: string[]): string =>\n  paths.join(\"/\").replace(/\\/\\/+/g, \"/\");\n\n/**\n * @private\n */\nexport const normalizePathname = (pathname: string): string =>\n  pathname.replace(/\\/+$/, \"\").replace(/^\\/*/, \"/\");\n\n/**\n * @private\n */\nexport const normalizeSearch = (search: string): string =>\n  !search || search === \"?\"\n    ? \"\"\n    : search.startsWith(\"?\")\n    ? search\n    : \"?\" + search;\n\n/**\n * @private\n */\nexport const normalizeHash = (hash: string): string =>\n  !hash || hash === \"#\" ? \"\" : hash.startsWith(\"#\") ? hash : \"#\" + hash;\n\nexport type JsonFunction = <Data>(\n  data: Data,\n  init?: number | ResponseInit\n) => Response;\n\n/**\n * This is a shortcut for creating `application/json` responses. Converts `data`\n * to JSON and sets the `Content-Type` header.\n */\nexport const json: JsonFunction = (data, init = {}) => {\n  let responseInit = typeof init === \"number\" ? { status: init } : init;\n\n  let headers = new Headers(responseInit.headers);\n  if (!headers.has(\"Content-Type\")) {\n    headers.set(\"Content-Type\", \"application/json; charset=utf-8\");\n  }\n\n  return new Response(JSON.stringify(data), {\n    ...responseInit,\n    headers,\n  });\n};\n\nexport interface TrackedPromise extends Promise<any> {\n  _tracked?: boolean;\n  _data?: any;\n  _error?: any;\n}\n\nexport class AbortedDeferredError extends Error {}\n\nexport class DeferredData {\n  private pendingKeysSet: Set<string> = new Set<string>();\n  private controller: AbortController;\n  private abortPromise: Promise<void>;\n  private unlistenAbortSignal: () => void;\n  private subscribers: Set<(aborted: boolean, settledKey?: string) => void> =\n    new Set();\n  data: Record<string, unknown>;\n  init?: ResponseInit;\n  deferredKeys: string[] = [];\n\n  constructor(data: Record<string, unknown>, responseInit?: ResponseInit) {\n    invariant(\n      data && typeof data === \"object\" && !Array.isArray(data),\n      \"defer() only accepts plain objects\"\n    );\n\n    // Set up an AbortController + Promise we can race against to exit early\n    // cancellation\n    let reject: (e: AbortedDeferredError) => void;\n    this.abortPromise = new Promise((_, r) => (reject = r));\n    this.controller = new AbortController();\n    let onAbort = () =>\n      reject(new AbortedDeferredError(\"Deferred data aborted\"));\n    this.unlistenAbortSignal = () =>\n      this.controller.signal.removeEventListener(\"abort\", onAbort);\n    this.controller.signal.addEventListener(\"abort\", onAbort);\n\n    this.data = Object.entries(data).reduce(\n      (acc, [key, value]) =>\n        Object.assign(acc, {\n          [key]: this.trackPromise(key, value),\n        }),\n      {}\n    );\n\n    if (this.done) {\n      // All incoming values were resolved\n      this.unlistenAbortSignal();\n    }\n\n    this.init = responseInit;\n  }\n\n  private trackPromise(\n    key: string,\n    value: Promise<unknown> | unknown\n  ): TrackedPromise | unknown {\n    if (!(value instanceof Promise)) {\n      return value;\n    }\n\n    this.deferredKeys.push(key);\n    this.pendingKeysSet.add(key);\n\n    // We store a little wrapper promise that will be extended with\n    // _data/_error props upon resolve/reject\n    let promise: TrackedPromise = Promise.race([value, this.abortPromise]).then(\n      (data) => this.onSettle(promise, key, undefined, data as unknown),\n      (error) => this.onSettle(promise, key, error as unknown)\n    );\n\n    // Register rejection listeners to avoid uncaught promise rejections on\n    // errors or aborted deferred values\n    promise.catch(() => {});\n\n    Object.defineProperty(promise, \"_tracked\", { get: () => true });\n    return promise;\n  }\n\n  private onSettle(\n    promise: TrackedPromise,\n    key: string,\n    error: unknown,\n    data?: unknown\n  ): unknown {\n    if (\n      this.controller.signal.aborted &&\n      error instanceof AbortedDeferredError\n    ) {\n      this.unlistenAbortSignal();\n      Object.defineProperty(promise, \"_error\", { get: () => error });\n      return Promise.reject(error);\n    }\n\n    this.pendingKeysSet.delete(key);\n\n    if (this.done) {\n      // Nothing left to abort!\n      this.unlistenAbortSignal();\n    }\n\n    // If the promise was resolved/rejected with undefined, we'll throw an error as you\n    // should always resolve with a value or null\n    if (error === undefined && data === undefined) {\n      let undefinedError = new Error(\n        `Deferred data for key \"${key}\" resolved/rejected with \\`undefined\\`, ` +\n          `you must resolve/reject with a value or \\`null\\`.`\n      );\n      Object.defineProperty(promise, \"_error\", { get: () => undefinedError });\n      this.emit(false, key);\n      return Promise.reject(undefinedError);\n    }\n\n    if (data === undefined) {\n      Object.defineProperty(promise, \"_error\", { get: () => error });\n      this.emit(false, key);\n      return Promise.reject(error);\n    }\n\n    Object.defineProperty(promise, \"_data\", { get: () => data });\n    this.emit(false, key);\n    return data;\n  }\n\n  private emit(aborted: boolean, settledKey?: string) {\n    this.subscribers.forEach((subscriber) => subscriber(aborted, settledKey));\n  }\n\n  subscribe(fn: (aborted: boolean, settledKey?: string) => void) {\n    this.subscribers.add(fn);\n    return () => this.subscribers.delete(fn);\n  }\n\n  cancel() {\n    this.controller.abort();\n    this.pendingKeysSet.forEach((v, k) => this.pendingKeysSet.delete(k));\n    this.emit(true);\n  }\n\n  async resolveData(signal: AbortSignal) {\n    let aborted = false;\n    if (!this.done) {\n      let onAbort = () => this.cancel();\n      signal.addEventListener(\"abort\", onAbort);\n      aborted = await new Promise((resolve) => {\n        this.subscribe((aborted) => {\n          signal.removeEventListener(\"abort\", onAbort);\n          if (aborted || this.done) {\n            resolve(aborted);\n          }\n        });\n      });\n    }\n    return aborted;\n  }\n\n  get done() {\n    return this.pendingKeysSet.size === 0;\n  }\n\n  get unwrappedData() {\n    invariant(\n      this.data !== null && this.done,\n      \"Can only unwrap data on initialized and settled deferreds\"\n    );\n\n    return Object.entries(this.data).reduce(\n      (acc, [key, value]) =>\n        Object.assign(acc, {\n          [key]: unwrapTrackedPromise(value),\n        }),\n      {}\n    );\n  }\n\n  get pendingKeys() {\n    return Array.from(this.pendingKeysSet);\n  }\n}\n\nfunction isTrackedPromise(value: any): value is TrackedPromise {\n  return (\n    value instanceof Promise && (value as TrackedPromise)._tracked === true\n  );\n}\n\nfunction unwrapTrackedPromise(value: any) {\n  if (!isTrackedPromise(value)) {\n    return value;\n  }\n\n  if (value._error) {\n    throw value._error;\n  }\n  return value._data;\n}\n\nexport type DeferFunction = (\n  data: Record<string, unknown>,\n  init?: number | ResponseInit\n) => DeferredData;\n\nexport const defer: DeferFunction = (data, init = {}) => {\n  let responseInit = typeof init === \"number\" ? { status: init } : init;\n\n  return new DeferredData(data, responseInit);\n};\n\nexport type RedirectFunction = (\n  url: string,\n  init?: number | ResponseInit\n) => Response;\n\n/**\n * A redirect response. Sets the status code and the `Location` header.\n * Defaults to \"302 Found\".\n */\nexport const redirect: RedirectFunction = (url, init = 302) => {\n  let responseInit = init;\n  if (typeof responseInit === \"number\") {\n    responseInit = { status: responseInit };\n  } else if (typeof responseInit.status === \"undefined\") {\n    responseInit.status = 302;\n  }\n\n  let headers = new Headers(responseInit.headers);\n  headers.set(\"Location\", url);\n\n  return new Response(null, {\n    ...responseInit,\n    headers,\n  });\n};\n\n/**\n * A redirect response that will force a document reload to the new location.\n * Sets the status code and the `Location` header.\n * Defaults to \"302 Found\".\n */\nexport const redirectDocument: RedirectFunction = (url, init) => {\n  let response = redirect(url, init);\n  response.headers.set(\"X-Remix-Reload-Document\", \"true\");\n  return response;\n};\n\n/**\n * @private\n * Utility class we use to hold auto-unwrapped 4xx/5xx Response bodies\n */\nexport class ErrorResponse {\n  status: number;\n  statusText: string;\n  data: any;\n  error?: Error;\n  internal: boolean;\n\n  constructor(\n    status: number,\n    statusText: string | undefined,\n    data: any,\n    internal = false\n  ) {\n    this.status = status;\n    this.statusText = statusText || \"\";\n    this.internal = internal;\n    if (data instanceof Error) {\n      this.data = data.toString();\n      this.error = data;\n    } else {\n      this.data = data;\n    }\n  }\n}\n\n/**\n * Check if the given error is an ErrorResponse generated from a 4xx/5xx\n * Response thrown from an action/loader\n */\nexport function isRouteErrorResponse(error: any): error is ErrorResponse {\n  return (\n    error != null &&\n    typeof error.status === \"number\" &&\n    typeof error.statusText === \"string\" &&\n    typeof error.internal === \"boolean\" &&\n    \"data\" in error\n  );\n}\n","import type { History, Location, Path, To } from \"./history\";\nimport {\n  Action as HistoryAction,\n  createLocation,\n  createPath,\n  invariant,\n  parsePath,\n  warning,\n} from \"./history\";\nimport type {\n  DataResult,\n  DeferredData,\n  AgnosticDataRouteMatch,\n  AgnosticDataRouteObject,\n  DeferredResult,\n  ErrorResult,\n  FormEncType,\n  FormMethod,\n  DetectErrorBoundaryFunction,\n  RedirectResult,\n  RouteData,\n  AgnosticRouteObject,\n  Submission,\n  SuccessResult,\n  AgnosticRouteMatch,\n  ShouldRevalidateFunction,\n  RouteManifest,\n  ImmutableRouteKey,\n  ActionFunction,\n  LoaderFunction,\n  V7_MutationFormMethod,\n  V7_FormMethod,\n  HTMLFormMethod,\n  MutationFormMethod,\n  MapRoutePropertiesFunction,\n} from \"./utils\";\nimport {\n  ErrorResponse,\n  ResultType,\n  convertRoutesToDataRoutes,\n  getPathContributingMatches,\n  immutableRouteKeys,\n  isRouteErrorResponse,\n  joinPaths,\n  matchRoutes,\n  resolveTo,\n  stripBasename,\n} from \"./utils\";\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Types and Constants\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * A Router instance manages all navigation and data loading/mutations\n */\nexport interface Router {\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Return the basename for the router\n   */\n  get basename(): RouterInit[\"basename\"];\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Return the current state of the router\n   */\n  get state(): RouterState;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Return the routes for this router instance\n   */\n  get routes(): AgnosticDataRouteObject[];\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Initialize the router, including adding history listeners and kicking off\n   * initial data fetches.  Returns a function to cleanup listeners and abort\n   * any in-progress loads\n   */\n  initialize(): Router;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Subscribe to router.state updates\n   *\n   * @param fn function to call with the new state\n   */\n  subscribe(fn: RouterSubscriber): () => void;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Enable scroll restoration behavior in the router\n   *\n   * @param savedScrollPositions Object that will manage positions, in case\n   *                             it's being restored from sessionStorage\n   * @param getScrollPosition    Function to get the active Y scroll position\n   * @param getKey               Function to get the key to use for restoration\n   */\n  enableScrollRestoration(\n    savedScrollPositions: Record<string, number>,\n    getScrollPosition: GetScrollPositionFunction,\n    getKey?: GetScrollRestorationKeyFunction\n  ): () => void;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Navigate forward/backward in the history stack\n   * @param to Delta to move in the history stack\n   */\n  navigate(to: number): Promise<void>;\n\n  /**\n   * Navigate to the given path\n   * @param to Path to navigate to\n   * @param opts Navigation options (method, submission, etc.)\n   */\n  navigate(to: To | null, opts?: RouterNavigateOptions): Promise<void>;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Trigger a fetcher load/submission\n   *\n   * @param key     Fetcher key\n   * @param routeId Route that owns the fetcher\n   * @param href    href to fetch\n   * @param opts    Fetcher options, (method, submission, etc.)\n   */\n  fetch(\n    key: string,\n    routeId: string,\n    href: string | null,\n    opts?: RouterFetchOptions\n  ): void;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Trigger a revalidation of all current route loaders and fetcher loads\n   */\n  revalidate(): void;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Utility function to create an href for the given location\n   * @param location\n   */\n  createHref(location: Location | URL): string;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Utility function to URL encode a destination path according to the internal\n   * history implementation\n   * @param to\n   */\n  encodeLocation(to: To): Path;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Get/create a fetcher for the given key\n   * @param key\n   */\n  getFetcher<TData = any>(key?: string): Fetcher<TData>;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Delete the fetcher for a given key\n   * @param key\n   */\n  deleteFetcher(key?: string): void;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Cleanup listeners and abort any in-progress loads\n   */\n  dispose(): void;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Get a navigation blocker\n   * @param key The identifier for the blocker\n   * @param fn The blocker function implementation\n   */\n  getBlocker(key: string, fn: BlockerFunction): Blocker;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Delete a navigation blocker\n   * @param key The identifier for the blocker\n   */\n  deleteBlocker(key: string): void;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * HMR needs to pass in-flight route updates to React Router\n   * TODO: Replace this with granular route update APIs (addRoute, updateRoute, deleteRoute)\n   */\n  _internalSetRoutes(routes: AgnosticRouteObject[]): void;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Internal fetch AbortControllers accessed by unit tests\n   */\n  _internalFetchControllers: Map<string, AbortController>;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Internal pending DeferredData instances accessed by unit tests\n   */\n  _internalActiveDeferreds: Map<string, DeferredData>;\n}\n\n/**\n * State maintained internally by the router.  During a navigation, all states\n * reflect the the \"old\" location unless otherwise noted.\n */\nexport interface RouterState {\n  /**\n   * The action of the most recent navigation\n   */\n  historyAction: HistoryAction;\n\n  /**\n   * The current location reflected by the router\n   */\n  location: Location;\n\n  /**\n   * The current set of route matches\n   */\n  matches: AgnosticDataRouteMatch[];\n\n  /**\n   * Tracks whether we've completed our initial data load\n   */\n  initialized: boolean;\n\n  /**\n   * Current scroll position we should start at for a new view\n   *  - number -> scroll position to restore to\n   *  - false -> do not restore scroll at all (used during submissions)\n   *  - null -> don't have a saved position, scroll to hash or top of page\n   */\n  restoreScrollPosition: number | false | null;\n\n  /**\n   * Indicate whether this navigation should skip resetting the scroll position\n   * if we are unable to restore the scroll position\n   */\n  preventScrollReset: boolean;\n\n  /**\n   * Tracks the state of the current navigation\n   */\n  navigation: Navigation;\n\n  /**\n   * Tracks any in-progress revalidations\n   */\n  revalidation: RevalidationState;\n\n  /**\n   * Data from the loaders for the current matches\n   */\n  loaderData: RouteData;\n\n  /**\n   * Data from the action for the current matches\n   */\n  actionData: RouteData | null;\n\n  /**\n   * Errors caught from loaders for the current matches\n   */\n  errors: RouteData | null;\n\n  /**\n   * Map of current fetchers\n   */\n  fetchers: Map<string, Fetcher>;\n\n  /**\n   * Map of current blockers\n   */\n  blockers: Map<string, Blocker>;\n}\n\n/**\n * Data that can be passed into hydrate a Router from SSR\n */\nexport type HydrationState = Partial<\n  Pick<RouterState, \"loaderData\" | \"actionData\" | \"errors\">\n>;\n\n/**\n * Future flags to toggle new feature behavior\n */\nexport interface FutureConfig {\n  v7_normalizeFormMethod: boolean;\n  v7_prependBasename: boolean;\n}\n\n/**\n * Initialization options for createRouter\n */\nexport interface RouterInit {\n  routes: AgnosticRouteObject[];\n  history: History;\n  basename?: string;\n  /**\n   * @deprecated Use `mapRouteProperties` instead\n   */\n  detectErrorBoundary?: DetectErrorBoundaryFunction;\n  mapRouteProperties?: MapRoutePropertiesFunction;\n  future?: Partial<FutureConfig>;\n  hydrationData?: HydrationState;\n  window?: Window;\n}\n\n/**\n * State returned from a server-side query() call\n */\nexport interface StaticHandlerContext {\n  basename: Router[\"basename\"];\n  location: RouterState[\"location\"];\n  matches: RouterState[\"matches\"];\n  loaderData: RouterState[\"loaderData\"];\n  actionData: RouterState[\"actionData\"];\n  errors: RouterState[\"errors\"];\n  statusCode: number;\n  loaderHeaders: Record<string, Headers>;\n  actionHeaders: Record<string, Headers>;\n  activeDeferreds: Record<string, DeferredData> | null;\n  _deepestRenderedBoundaryId?: string | null;\n}\n\n/**\n * A StaticHandler instance manages a singular SSR navigation/fetch event\n */\nexport interface StaticHandler {\n  dataRoutes: AgnosticDataRouteObject[];\n  query(\n    request: Request,\n    opts?: { requestContext?: unknown }\n  ): Promise<StaticHandlerContext | Response>;\n  queryRoute(\n    request: Request,\n    opts?: { routeId?: string; requestContext?: unknown }\n  ): Promise<any>;\n}\n\n/**\n * Subscriber function signature for changes to router state\n */\nexport interface RouterSubscriber {\n  (state: RouterState): void;\n}\n\ninterface UseMatchesMatch {\n  id: string;\n  pathname: string;\n  params: AgnosticRouteMatch[\"params\"];\n  data: unknown;\n  handle: unknown;\n}\n\n/**\n * Function signature for determining the key to be used in scroll restoration\n * for a given location\n */\nexport interface GetScrollRestorationKeyFunction {\n  (location: Location, matches: UseMatchesMatch[]): string | null;\n}\n\n/**\n * Function signature for determining the current scroll position\n */\nexport interface GetScrollPositionFunction {\n  (): number;\n}\n\nexport type RelativeRoutingType = \"route\" | \"path\";\n\n// Allowed for any navigation or fetch\ntype BaseNavigateOrFetchOptions = {\n  preventScrollReset?: boolean;\n  relative?: RelativeRoutingType;\n};\n\n// Only allowed for navigations\ntype BaseNavigateOptions = BaseNavigateOrFetchOptions & {\n  replace?: boolean;\n  state?: any;\n  fromRouteId?: string;\n};\n\n// Only allowed for submission navigations\ntype BaseSubmissionOptions = {\n  formMethod?: HTMLFormMethod;\n  formEncType?: FormEncType;\n} & (\n  | { formData: FormData; body?: undefined }\n  | { formData?: undefined; body: any }\n);\n\n/**\n * Options for a navigate() call for a normal (non-submission) navigation\n */\ntype LinkNavigateOptions = BaseNavigateOptions;\n\n/**\n * Options for a navigate() call for a submission navigation\n */\ntype SubmissionNavigateOptions = BaseNavigateOptions & BaseSubmissionOptions;\n\n/**\n * Options to pass to navigate() for a navigation\n */\nexport type RouterNavigateOptions =\n  | LinkNavigateOptions\n  | SubmissionNavigateOptions;\n\n/**\n * Options for a fetch() load\n */\ntype LoadFetchOptions = BaseNavigateOrFetchOptions;\n\n/**\n * Options for a fetch() submission\n */\ntype SubmitFetchOptions = BaseNavigateOrFetchOptions & BaseSubmissionOptions;\n\n/**\n * Options to pass to fetch()\n */\nexport type RouterFetchOptions = LoadFetchOptions | SubmitFetchOptions;\n\n/**\n * Potential states for state.navigation\n */\nexport type NavigationStates = {\n  Idle: {\n    state: \"idle\";\n    location: undefined;\n    formMethod: undefined;\n    formAction: undefined;\n    formEncType: undefined;\n    formData: undefined;\n    json: undefined;\n    text: undefined;\n  };\n  Loading: {\n    state: \"loading\";\n    location: Location;\n    formMethod: Submission[\"formMethod\"] | undefined;\n    formAction: Submission[\"formAction\"] | undefined;\n    formEncType: Submission[\"formEncType\"] | undefined;\n    formData: Submission[\"formData\"] | undefined;\n    json: Submission[\"json\"] | undefined;\n    text: Submission[\"text\"] | undefined;\n  };\n  Submitting: {\n    state: \"submitting\";\n    location: Location;\n    formMethod: Submission[\"formMethod\"];\n    formAction: Submission[\"formAction\"];\n    formEncType: Submission[\"formEncType\"];\n    formData: Submission[\"formData\"];\n    json: Submission[\"json\"];\n    text: Submission[\"text\"];\n  };\n};\n\nexport type Navigation = NavigationStates[keyof NavigationStates];\n\nexport type RevalidationState = \"idle\" | \"loading\";\n\n/**\n * Potential states for fetchers\n */\ntype FetcherStates<TData = any> = {\n  Idle: {\n    state: \"idle\";\n    formMethod: undefined;\n    formAction: undefined;\n    formEncType: undefined;\n    text: undefined;\n    formData: undefined;\n    json: undefined;\n    data: TData | undefined;\n    \" _hasFetcherDoneAnything \"?: boolean;\n  };\n  Loading: {\n    state: \"loading\";\n    formMethod: Submission[\"formMethod\"] | undefined;\n    formAction: Submission[\"formAction\"] | undefined;\n    formEncType: Submission[\"formEncType\"] | undefined;\n    text: Submission[\"text\"] | undefined;\n    formData: Submission[\"formData\"] | undefined;\n    json: Submission[\"json\"] | undefined;\n    data: TData | undefined;\n    \" _hasFetcherDoneAnything \"?: boolean;\n  };\n  Submitting: {\n    state: \"submitting\";\n    formMethod: Submission[\"formMethod\"];\n    formAction: Submission[\"formAction\"];\n    formEncType: Submission[\"formEncType\"];\n    text: Submission[\"text\"];\n    formData: Submission[\"formData\"];\n    json: Submission[\"json\"];\n    data: TData | undefined;\n    \" _hasFetcherDoneAnything \"?: boolean;\n  };\n};\n\nexport type Fetcher<TData = any> =\n  FetcherStates<TData>[keyof FetcherStates<TData>];\n\ninterface BlockerBlocked {\n  state: \"blocked\";\n  reset(): void;\n  proceed(): void;\n  location: Location;\n}\n\ninterface BlockerUnblocked {\n  state: \"unblocked\";\n  reset: undefined;\n  proceed: undefined;\n  location: undefined;\n}\n\ninterface BlockerProceeding {\n  state: \"proceeding\";\n  reset: undefined;\n  proceed: undefined;\n  location: Location;\n}\n\nexport type Blocker = BlockerUnblocked | BlockerBlocked | BlockerProceeding;\n\nexport type BlockerFunction = (args: {\n  currentLocation: Location;\n  nextLocation: Location;\n  historyAction: HistoryAction;\n}) => boolean;\n\ninterface ShortCircuitable {\n  /**\n   * startNavigation does not need to complete the navigation because we\n   * redirected or got interrupted\n   */\n  shortCircuited?: boolean;\n}\n\ninterface HandleActionResult extends ShortCircuitable {\n  /**\n   * Error thrown from the current action, keyed by the route containing the\n   * error boundary to render the error.  To be committed to the state after\n   * loaders have completed\n   */\n  pendingActionError?: RouteData;\n  /**\n   * Data returned from the current action, keyed by the route owning the action.\n   * To be committed to the state after loaders have completed\n   */\n  pendingActionData?: RouteData;\n}\n\ninterface HandleLoadersResult extends ShortCircuitable {\n  /**\n   * loaderData returned from the current set of loaders\n   */\n  loaderData?: RouterState[\"loaderData\"];\n  /**\n   * errors thrown from the current set of loaders\n   */\n  errors?: RouterState[\"errors\"];\n}\n\n/**\n * Cached info for active fetcher.load() instances so they can participate\n * in revalidation\n */\ninterface FetchLoadMatch {\n  routeId: string;\n  path: string;\n}\n\n/**\n * Identified fetcher.load() calls that need to be revalidated\n */\ninterface RevalidatingFetcher extends FetchLoadMatch {\n  key: string;\n  match: AgnosticDataRouteMatch | null;\n  matches: AgnosticDataRouteMatch[] | null;\n  controller: AbortController | null;\n}\n\n/**\n * Wrapper object to allow us to throw any response out from callLoaderOrAction\n * for queryRouter while preserving whether or not it was thrown or returned\n * from the loader/action\n */\ninterface QueryRouteResponse {\n  type: ResultType.data | ResultType.error;\n  response: Response;\n}\n\nconst validMutationMethodsArr: MutationFormMethod[] = [\n  \"post\",\n  \"put\",\n  \"patch\",\n  \"delete\",\n];\nconst validMutationMethods = new Set<MutationFormMethod>(\n  validMutationMethodsArr\n);\n\nconst validRequestMethodsArr: FormMethod[] = [\n  \"get\",\n  ...validMutationMethodsArr,\n];\nconst validRequestMethods = new Set<FormMethod>(validRequestMethodsArr);\n\nconst redirectStatusCodes = new Set([301, 302, 303, 307, 308]);\nconst redirectPreserveMethodStatusCodes = new Set([307, 308]);\n\nexport const IDLE_NAVIGATION: NavigationStates[\"Idle\"] = {\n  state: \"idle\",\n  location: undefined,\n  formMethod: undefined,\n  formAction: undefined,\n  formEncType: undefined,\n  formData: undefined,\n  json: undefined,\n  text: undefined,\n};\n\nexport const IDLE_FETCHER: FetcherStates[\"Idle\"] = {\n  state: \"idle\",\n  data: undefined,\n  formMethod: undefined,\n  formAction: undefined,\n  formEncType: undefined,\n  formData: undefined,\n  json: undefined,\n  text: undefined,\n};\n\nexport const IDLE_BLOCKER: BlockerUnblocked = {\n  state: \"unblocked\",\n  proceed: undefined,\n  reset: undefined,\n  location: undefined,\n};\n\nconst ABSOLUTE_URL_REGEX = /^(?:[a-z][a-z0-9+.-]*:|\\/\\/)/i;\n\nconst defaultMapRouteProperties: MapRoutePropertiesFunction = (route) => ({\n  hasErrorBoundary: Boolean(route.hasErrorBoundary),\n});\n\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region createRouter\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * Create a router and listen to history POP navigations\n */\nexport function createRouter(init: RouterInit): Router {\n  const routerWindow = init.window\n    ? init.window\n    : typeof window !== \"undefined\"\n    ? window\n    : undefined;\n  const isBrowser =\n    typeof routerWindow !== \"undefined\" &&\n    typeof routerWindow.document !== \"undefined\" &&\n    typeof routerWindow.document.createElement !== \"undefined\";\n  const isServer = !isBrowser;\n\n  invariant(\n    init.routes.length > 0,\n    \"You must provide a non-empty routes array to createRouter\"\n  );\n\n  let mapRouteProperties: MapRoutePropertiesFunction;\n  if (init.mapRouteProperties) {\n    mapRouteProperties = init.mapRouteProperties;\n  } else if (init.detectErrorBoundary) {\n    // If they are still using the deprecated version, wrap it with the new API\n    let detectErrorBoundary = init.detectErrorBoundary;\n    mapRouteProperties = (route) => ({\n      hasErrorBoundary: detectErrorBoundary(route),\n    });\n  } else {\n    mapRouteProperties = defaultMapRouteProperties;\n  }\n\n  // Routes keyed by ID\n  let manifest: RouteManifest = {};\n  // Routes in tree format for matching\n  let dataRoutes = convertRoutesToDataRoutes(\n    init.routes,\n    mapRouteProperties,\n    undefined,\n    manifest\n  );\n  let inFlightDataRoutes: AgnosticDataRouteObject[] | undefined;\n  let basename = init.basename || \"/\";\n  // Config driven behavior flags\n  let future: FutureConfig = {\n    v7_normalizeFormMethod: false,\n    v7_prependBasename: false,\n    ...init.future,\n  };\n  // Cleanup function for history\n  let unlistenHistory: (() => void) | null = null;\n  // Externally-provided functions to call on all state changes\n  let subscribers = new Set<RouterSubscriber>();\n  // Externally-provided object to hold scroll restoration locations during routing\n  let savedScrollPositions: Record<string, number> | null = null;\n  // Externally-provided function to get scroll restoration keys\n  let getScrollRestorationKey: GetScrollRestorationKeyFunction | null = null;\n  // Externally-provided function to get current scroll position\n  let getScrollPosition: GetScrollPositionFunction | null = null;\n  // One-time flag to control the initial hydration scroll restoration.  Because\n  // we don't get the saved positions from <ScrollRestoration /> until _after_\n  // the initial render, we need to manually trigger a separate updateState to\n  // send along the restoreScrollPosition\n  // Set to true if we have `hydrationData` since we assume we were SSR'd and that\n  // SSR did the initial scroll restoration.\n  let initialScrollRestored = init.hydrationData != null;\n\n  let initialMatches = matchRoutes(dataRoutes, init.history.location, basename);\n  let initialErrors: RouteData | null = null;\n\n  if (initialMatches == null) {\n    // If we do not match a user-provided-route, fall back to the root\n    // to allow the error boundary to take over\n    let error = getInternalRouterError(404, {\n      pathname: init.history.location.pathname,\n    });\n    let { matches, route } = getShortCircuitMatches(dataRoutes);\n    initialMatches = matches;\n    initialErrors = { [route.id]: error };\n  }\n\n  let initialized =\n    // All initialMatches need to be loaded before we're ready.  If we have lazy\n    // functions around still then we'll need to run them in initialize()\n    !initialMatches.some((m) => m.route.lazy) &&\n    // And we have to either have no loaders or have been provided hydrationData\n    (!initialMatches.some((m) => m.route.loader) || init.hydrationData != null);\n\n  let router: Router;\n  let state: RouterState = {\n    historyAction: init.history.action,\n    location: init.history.location,\n    matches: initialMatches,\n    initialized,\n    navigation: IDLE_NAVIGATION,\n    // Don't restore on initial updateState() if we were SSR'd\n    restoreScrollPosition: init.hydrationData != null ? false : null,\n    preventScrollReset: false,\n    revalidation: \"idle\",\n    loaderData: (init.hydrationData && init.hydrationData.loaderData) || {},\n    actionData: (init.hydrationData && init.hydrationData.actionData) || null,\n    errors: (init.hydrationData && init.hydrationData.errors) || initialErrors,\n    fetchers: new Map(),\n    blockers: new Map(),\n  };\n\n  // -- Stateful internal variables to manage navigations --\n  // Current navigation in progress (to be committed in completeNavigation)\n  let pendingAction: HistoryAction = HistoryAction.Pop;\n\n  // Should the current navigation prevent the scroll reset if scroll cannot\n  // be restored?\n  let pendingPreventScrollReset = false;\n\n  // AbortController for the active navigation\n  let pendingNavigationController: AbortController | null;\n\n  // We use this to avoid touching history in completeNavigation if a\n  // revalidation is entirely uninterrupted\n  let isUninterruptedRevalidation = false;\n\n  // Use this internal flag to force revalidation of all loaders:\n  //  - submissions (completed or interrupted)\n  //  - useRevalidator()\n  //  - X-Remix-Revalidate (from redirect)\n  let isRevalidationRequired = false;\n\n  // Use this internal array to capture routes that require revalidation due\n  // to a cancelled deferred on action submission\n  let cancelledDeferredRoutes: string[] = [];\n\n  // Use this internal array to capture fetcher loads that were cancelled by an\n  // action navigation and require revalidation\n  let cancelledFetcherLoads: string[] = [];\n\n  // AbortControllers for any in-flight fetchers\n  let fetchControllers = new Map<string, AbortController>();\n\n  // Track loads based on the order in which they started\n  let incrementingLoadId = 0;\n\n  // Track the outstanding pending navigation data load to be compared against\n  // the globally incrementing load when a fetcher load lands after a completed\n  // navigation\n  let pendingNavigationLoadId = -1;\n\n  // Fetchers that triggered data reloads as a result of their actions\n  let fetchReloadIds = new Map<string, number>();\n\n  // Fetchers that triggered redirect navigations\n  let fetchRedirectIds = new Set<string>();\n\n  // Most recent href/match for fetcher.load calls for fetchers\n  let fetchLoadMatches = new Map<string, FetchLoadMatch>();\n\n  // Store DeferredData instances for active route matches.  When a\n  // route loader returns defer() we stick one in here.  Then, when a nested\n  // promise resolves we update loaderData.  If a new navigation starts we\n  // cancel active deferreds for eliminated routes.\n  let activeDeferreds = new Map<string, DeferredData>();\n\n  // Store blocker functions in a separate Map outside of router state since\n  // we don't need to update UI state if they change\n  let blockerFunctions = new Map<string, BlockerFunction>();\n\n  // Flag to ignore the next history update, so we can revert the URL change on\n  // a POP navigation that was blocked by the user without touching router state\n  let ignoreNextHistoryUpdate = false;\n\n  // Initialize the router, all side effects should be kicked off from here.\n  // Implemented as a Fluent API for ease of:\n  //   let router = createRouter(init).initialize();\n  function initialize() {\n    // If history informs us of a POP navigation, start the navigation but do not update\n    // state.  We'll update our own state once the navigation completes\n    unlistenHistory = init.history.listen(\n      ({ action: historyAction, location, delta }) => {\n        // Ignore this event if it was just us resetting the URL from a\n        // blocked POP navigation\n        if (ignoreNextHistoryUpdate) {\n          ignoreNextHistoryUpdate = false;\n          return;\n        }\n\n        warning(\n          blockerFunctions.size === 0 || delta != null,\n          \"You are trying to use a blocker on a POP navigation to a location \" +\n            \"that was not created by @remix-run/router. This will fail silently in \" +\n            \"production. This can happen if you are navigating outside the router \" +\n            \"via `window.history.pushState`/`window.location.hash` instead of using \" +\n            \"router navigation APIs.  This can also happen if you are using \" +\n            \"createHashRouter and the user manually changes the URL.\"\n        );\n\n        let blockerKey = shouldBlockNavigation({\n          currentLocation: state.location,\n          nextLocation: location,\n          historyAction,\n        });\n\n        if (blockerKey && delta != null) {\n          // Restore the URL to match the current UI, but don't update router state\n          ignoreNextHistoryUpdate = true;\n          init.history.go(delta * -1);\n\n          // Put the blocker into a blocked state\n          updateBlocker(blockerKey, {\n            state: \"blocked\",\n            location,\n            proceed() {\n              updateBlocker(blockerKey!, {\n                state: \"proceeding\",\n                proceed: undefined,\n                reset: undefined,\n                location,\n              });\n              // Re-do the same POP navigation we just blocked\n              init.history.go(delta);\n            },\n            reset() {\n              let blockers = new Map(state.blockers);\n              blockers.set(blockerKey!, IDLE_BLOCKER);\n              updateState({ blockers });\n            },\n          });\n          return;\n        }\n\n        return startNavigation(historyAction, location);\n      }\n    );\n\n    // Kick off initial data load if needed.  Use Pop to avoid modifying history\n    // Note we don't do any handling of lazy here.  For SPA's it'll get handled\n    // in the normal navigation flow.  For SSR it's expected that lazy modules are\n    // resolved prior to router creation since we can't go into a fallbackElement\n    // UI for SSR'd apps\n    if (!state.initialized) {\n      startNavigation(HistoryAction.Pop, state.location);\n    }\n\n    return router;\n  }\n\n  // Clean up a router and it's side effects\n  function dispose() {\n    if (unlistenHistory) {\n      unlistenHistory();\n    }\n    subscribers.clear();\n    pendingNavigationController && pendingNavigationController.abort();\n    state.fetchers.forEach((_, key) => deleteFetcher(key));\n    state.blockers.forEach((_, key) => deleteBlocker(key));\n  }\n\n  // Subscribe to state updates for the router\n  function subscribe(fn: RouterSubscriber) {\n    subscribers.add(fn);\n    return () => subscribers.delete(fn);\n  }\n\n  // Update our state and notify the calling context of the change\n  function updateState(newState: Partial<RouterState>): void {\n    state = {\n      ...state,\n      ...newState,\n    };\n    subscribers.forEach((subscriber) => subscriber(state));\n  }\n\n  // Complete a navigation returning the state.navigation back to the IDLE_NAVIGATION\n  // and setting state.[historyAction/location/matches] to the new route.\n  // - Location is a required param\n  // - Navigation will always be set to IDLE_NAVIGATION\n  // - Can pass any other state in newState\n  function completeNavigation(\n    location: Location,\n    newState: Partial<Omit<RouterState, \"action\" | \"location\" | \"navigation\">>\n  ): void {\n    // Deduce if we're in a loading/actionReload state:\n    // - We have committed actionData in the store\n    // - The current navigation was a mutation submission\n    // - We're past the submitting state and into the loading state\n    // - The location being loaded is not the result of a redirect\n    let isActionReload =\n      state.actionData != null &&\n      state.navigation.formMethod != null &&\n      isMutationMethod(state.navigation.formMethod) &&\n      state.navigation.state === \"loading\" &&\n      location.state?._isRedirect !== true;\n\n    let actionData: RouteData | null;\n    if (newState.actionData) {\n      if (Object.keys(newState.actionData).length > 0) {\n        actionData = newState.actionData;\n      } else {\n        // Empty actionData -> clear prior actionData due to an action error\n        actionData = null;\n      }\n    } else if (isActionReload) {\n      // Keep the current data if we're wrapping up the action reload\n      actionData = state.actionData;\n    } else {\n      // Clear actionData on any other completed navigations\n      actionData = null;\n    }\n\n    // Always preserve any existing loaderData from re-used routes\n    let loaderData = newState.loaderData\n      ? mergeLoaderData(\n          state.loaderData,\n          newState.loaderData,\n          newState.matches || [],\n          newState.errors\n        )\n      : state.loaderData;\n\n    // On a successful navigation we can assume we got through all blockers\n    // so we can start fresh\n    let blockers = state.blockers;\n    if (blockers.size > 0) {\n      blockers = new Map(blockers);\n      blockers.forEach((_, k) => blockers.set(k, IDLE_BLOCKER));\n    }\n\n    // Always respect the user flag.  Otherwise don't reset on mutation\n    // submission navigations unless they redirect\n    let preventScrollReset =\n      pendingPreventScrollReset === true ||\n      (state.navigation.formMethod != null &&\n        isMutationMethod(state.navigation.formMethod) &&\n        location.state?._isRedirect !== true);\n\n    if (inFlightDataRoutes) {\n      dataRoutes = inFlightDataRoutes;\n      inFlightDataRoutes = undefined;\n    }\n\n    if (isUninterruptedRevalidation) {\n      // If this was an uninterrupted revalidation then do not touch history\n    } else if (pendingAction === HistoryAction.Pop) {\n      // Do nothing for POP - URL has already been updated\n    } else if (pendingAction === HistoryAction.Push) {\n      init.history.push(location, location.state);\n    } else if (pendingAction === HistoryAction.Replace) {\n      init.history.replace(location, location.state);\n    }\n\n    updateState({\n      ...newState, // matches, errors, fetchers go through as-is\n      actionData,\n      loaderData,\n      historyAction: pendingAction,\n      location,\n      initialized: true,\n      navigation: IDLE_NAVIGATION,\n      revalidation: \"idle\",\n      restoreScrollPosition: getSavedScrollPosition(\n        location,\n        newState.matches || state.matches\n      ),\n      preventScrollReset,\n      blockers,\n    });\n\n    // Reset stateful navigation vars\n    pendingAction = HistoryAction.Pop;\n    pendingPreventScrollReset = false;\n    isUninterruptedRevalidation = false;\n    isRevalidationRequired = false;\n    cancelledDeferredRoutes = [];\n    cancelledFetcherLoads = [];\n  }\n\n  // Trigger a navigation event, which can either be a numerical POP or a PUSH\n  // replace with an optional submission\n  async function navigate(\n    to: number | To | null,\n    opts?: RouterNavigateOptions\n  ): Promise<void> {\n    if (typeof to === \"number\") {\n      init.history.go(to);\n      return;\n    }\n\n    let normalizedPath = normalizeTo(\n      state.location,\n      state.matches,\n      basename,\n      future.v7_prependBasename,\n      to,\n      opts?.fromRouteId,\n      opts?.relative\n    );\n    let { path, submission, error } = normalizeNavigateOptions(\n      future.v7_normalizeFormMethod,\n      false,\n      normalizedPath,\n      opts\n    );\n\n    let currentLocation = state.location;\n    let nextLocation = createLocation(state.location, path, opts && opts.state);\n\n    // When using navigate as a PUSH/REPLACE we aren't reading an already-encoded\n    // URL from window.location, so we need to encode it here so the behavior\n    // remains the same as POP and non-data-router usages.  new URL() does all\n    // the same encoding we'd get from a history.pushState/window.location read\n    // without having to touch history\n    nextLocation = {\n      ...nextLocation,\n      ...init.history.encodeLocation(nextLocation),\n    };\n\n    let userReplace = opts && opts.replace != null ? opts.replace : undefined;\n\n    let historyAction = HistoryAction.Push;\n\n    if (userReplace === true) {\n      historyAction = HistoryAction.Replace;\n    } else if (userReplace === false) {\n      // no-op\n    } else if (\n      submission != null &&\n      isMutationMethod(submission.formMethod) &&\n      submission.formAction === state.location.pathname + state.location.search\n    ) {\n      // By default on submissions to the current location we REPLACE so that\n      // users don't have to double-click the back button to get to the prior\n      // location.  If the user redirects to a different location from the\n      // action/loader this will be ignored and the redirect will be a PUSH\n      historyAction = HistoryAction.Replace;\n    }\n\n    let preventScrollReset =\n      opts && \"preventScrollReset\" in opts\n        ? opts.preventScrollReset === true\n        : undefined;\n\n    let blockerKey = shouldBlockNavigation({\n      currentLocation,\n      nextLocation,\n      historyAction,\n    });\n\n    if (blockerKey) {\n      // Put the blocker into a blocked state\n      updateBlocker(blockerKey, {\n        state: \"blocked\",\n        location: nextLocation,\n        proceed() {\n          updateBlocker(blockerKey!, {\n            state: \"proceeding\",\n            proceed: undefined,\n            reset: undefined,\n            location: nextLocation,\n          });\n          // Send the same navigation through\n          navigate(to, opts);\n        },\n        reset() {\n          let blockers = new Map(state.blockers);\n          blockers.set(blockerKey!, IDLE_BLOCKER);\n          updateState({ blockers });\n        },\n      });\n      return;\n    }\n\n    return await startNavigation(historyAction, nextLocation, {\n      submission,\n      // Send through the formData serialization error if we have one so we can\n      // render at the right error boundary after we match routes\n      pendingError: error,\n      preventScrollReset,\n      replace: opts && opts.replace,\n    });\n  }\n\n  // Revalidate all current loaders.  If a navigation is in progress or if this\n  // is interrupted by a navigation, allow this to \"succeed\" by calling all\n  // loaders during the next loader round\n  function revalidate() {\n    interruptActiveLoads();\n    updateState({ revalidation: \"loading\" });\n\n    // If we're currently submitting an action, we don't need to start a new\n    // navigation, we'll just let the follow up loader execution call all loaders\n    if (state.navigation.state === \"submitting\") {\n      return;\n    }\n\n    // If we're currently in an idle state, start a new navigation for the current\n    // action/location and mark it as uninterrupted, which will skip the history\n    // update in completeNavigation\n    if (state.navigation.state === \"idle\") {\n      startNavigation(state.historyAction, state.location, {\n        startUninterruptedRevalidation: true,\n      });\n      return;\n    }\n\n    // Otherwise, if we're currently in a loading state, just start a new\n    // navigation to the navigation.location but do not trigger an uninterrupted\n    // revalidation so that history correctly updates once the navigation completes\n    startNavigation(\n      pendingAction || state.historyAction,\n      state.navigation.location,\n      { overrideNavigation: state.navigation }\n    );\n  }\n\n  // Start a navigation to the given action/location.  Can optionally provide a\n  // overrideNavigation which will override the normalLoad in the case of a redirect\n  // navigation\n  async function startNavigation(\n    historyAction: HistoryAction,\n    location: Location,\n    opts?: {\n      submission?: Submission;\n      fetcherSubmission?: Submission;\n      overrideNavigation?: Navigation;\n      pendingError?: ErrorResponse;\n      startUninterruptedRevalidation?: boolean;\n      preventScrollReset?: boolean;\n      replace?: boolean;\n    }\n  ): Promise<void> {\n    // Abort any in-progress navigations and start a new one. Unset any ongoing\n    // uninterrupted revalidations unless told otherwise, since we want this\n    // new navigation to update history normally\n    pendingNavigationController && pendingNavigationController.abort();\n    pendingNavigationController = null;\n    pendingAction = historyAction;\n    isUninterruptedRevalidation =\n      (opts && opts.startUninterruptedRevalidation) === true;\n\n    // Save the current scroll position every time we start a new navigation,\n    // and track whether we should reset scroll on completion\n    saveScrollPosition(state.location, state.matches);\n    pendingPreventScrollReset = (opts && opts.preventScrollReset) === true;\n\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let loadingNavigation = opts && opts.overrideNavigation;\n    let matches = matchRoutes(routesToUse, location, basename);\n\n    // Short circuit with a 404 on the root error boundary if we match nothing\n    if (!matches) {\n      let error = getInternalRouterError(404, { pathname: location.pathname });\n      let { matches: notFoundMatches, route } =\n        getShortCircuitMatches(routesToUse);\n      // Cancel all pending deferred on 404s since we don't keep any routes\n      cancelActiveDeferreds();\n      completeNavigation(location, {\n        matches: notFoundMatches,\n        loaderData: {},\n        errors: {\n          [route.id]: error,\n        },\n      });\n      return;\n    }\n\n    // Short circuit if it's only a hash change and not a revalidation or\n    // mutation submission.\n    //\n    // Ignore on initial page loads because since the initial load will always\n    // be \"same hash\".  For example, on /page#hash and submit a <Form method=\"post\">\n    // which will default to a navigation to /page\n    if (\n      state.initialized &&\n      !isRevalidationRequired &&\n      isHashChangeOnly(state.location, location) &&\n      !(opts && opts.submission && isMutationMethod(opts.submission.formMethod))\n    ) {\n      completeNavigation(location, { matches });\n      return;\n    }\n\n    // Create a controller/Request for this navigation\n    pendingNavigationController = new AbortController();\n    let request = createClientSideRequest(\n      init.history,\n      location,\n      pendingNavigationController.signal,\n      opts && opts.submission\n    );\n    let pendingActionData: RouteData | undefined;\n    let pendingError: RouteData | undefined;\n\n    if (opts && opts.pendingError) {\n      // If we have a pendingError, it means the user attempted a GET submission\n      // with binary FormData so assign here and skip to handleLoaders.  That\n      // way we handle calling loaders above the boundary etc.  It's not really\n      // different from an actionError in that sense.\n      pendingError = {\n        [findNearestBoundary(matches).route.id]: opts.pendingError,\n      };\n    } else if (\n      opts &&\n      opts.submission &&\n      isMutationMethod(opts.submission.formMethod)\n    ) {\n      // Call action if we received an action submission\n      let actionOutput = await handleAction(\n        request,\n        location,\n        opts.submission,\n        matches,\n        { replace: opts.replace }\n      );\n\n      if (actionOutput.shortCircuited) {\n        return;\n      }\n\n      pendingActionData = actionOutput.pendingActionData;\n      pendingError = actionOutput.pendingActionError;\n      loadingNavigation = getLoadingNavigation(location, opts.submission);\n\n      // Create a GET request for the loaders\n      request = new Request(request.url, { signal: request.signal });\n    }\n\n    // Call loaders\n    let { shortCircuited, loaderData, errors } = await handleLoaders(\n      request,\n      location,\n      matches,\n      loadingNavigation,\n      opts && opts.submission,\n      opts && opts.fetcherSubmission,\n      opts && opts.replace,\n      pendingActionData,\n      pendingError\n    );\n\n    if (shortCircuited) {\n      return;\n    }\n\n    // Clean up now that the action/loaders have completed.  Don't clean up if\n    // we short circuited because pendingNavigationController will have already\n    // been assigned to a new controller for the next navigation\n    pendingNavigationController = null;\n\n    completeNavigation(location, {\n      matches,\n      ...(pendingActionData ? { actionData: pendingActionData } : {}),\n      loaderData,\n      errors,\n    });\n  }\n\n  // Call the action matched by the leaf route for this navigation and handle\n  // redirects/errors\n  async function handleAction(\n    request: Request,\n    location: Location,\n    submission: Submission,\n    matches: AgnosticDataRouteMatch[],\n    opts: { replace?: boolean } = {}\n  ): Promise<HandleActionResult> {\n    interruptActiveLoads();\n\n    // Put us in a submitting state\n    let navigation = getSubmittingNavigation(location, submission);\n    updateState({ navigation });\n\n    // Call our action and get the result\n    let result: DataResult;\n    let actionMatch = getTargetMatch(matches, location);\n\n    if (!actionMatch.route.action && !actionMatch.route.lazy) {\n      result = {\n        type: ResultType.error,\n        error: getInternalRouterError(405, {\n          method: request.method,\n          pathname: location.pathname,\n          routeId: actionMatch.route.id,\n        }),\n      };\n    } else {\n      result = await callLoaderOrAction(\n        \"action\",\n        request,\n        actionMatch,\n        matches,\n        manifest,\n        mapRouteProperties,\n        basename\n      );\n\n      if (request.signal.aborted) {\n        return { shortCircuited: true };\n      }\n    }\n\n    if (isRedirectResult(result)) {\n      let replace: boolean;\n      if (opts && opts.replace != null) {\n        replace = opts.replace;\n      } else {\n        // If the user didn't explicity indicate replace behavior, replace if\n        // we redirected to the exact same location we're currently at to avoid\n        // double back-buttons\n        replace =\n          result.location === state.location.pathname + state.location.search;\n      }\n      await startRedirectNavigation(state, result, { submission, replace });\n      return { shortCircuited: true };\n    }\n\n    if (isErrorResult(result)) {\n      // Store off the pending error - we use it to determine which loaders\n      // to call and will commit it when we complete the navigation\n      let boundaryMatch = findNearestBoundary(matches, actionMatch.route.id);\n\n      // By default, all submissions are REPLACE navigations, but if the\n      // action threw an error that'll be rendered in an errorElement, we fall\n      // back to PUSH so that the user can use the back button to get back to\n      // the pre-submission form location to try again\n      if ((opts && opts.replace) !== true) {\n        pendingAction = HistoryAction.Push;\n      }\n\n      return {\n        // Send back an empty object we can use to clear out any prior actionData\n        pendingActionData: {},\n        pendingActionError: { [boundaryMatch.route.id]: result.error },\n      };\n    }\n\n    if (isDeferredResult(result)) {\n      throw getInternalRouterError(400, { type: \"defer-action\" });\n    }\n\n    return {\n      pendingActionData: { [actionMatch.route.id]: result.data },\n    };\n  }\n\n  // Call all applicable loaders for the given matches, handling redirects,\n  // errors, etc.\n  async function handleLoaders(\n    request: Request,\n    location: Location,\n    matches: AgnosticDataRouteMatch[],\n    overrideNavigation?: Navigation,\n    submission?: Submission,\n    fetcherSubmission?: Submission,\n    replace?: boolean,\n    pendingActionData?: RouteData,\n    pendingError?: RouteData\n  ): Promise<HandleLoadersResult> {\n    // Figure out the right navigation we want to use for data loading\n    let loadingNavigation =\n      overrideNavigation || getLoadingNavigation(location, submission);\n\n    // If this was a redirect from an action we don't have a \"submission\" but\n    // we have it on the loading navigation so use that if available\n    let activeSubmission =\n      submission ||\n      fetcherSubmission ||\n      getSubmissionFromNavigation(loadingNavigation);\n\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let [matchesToLoad, revalidatingFetchers] = getMatchesToLoad(\n      init.history,\n      state,\n      matches,\n      activeSubmission,\n      location,\n      isRevalidationRequired,\n      cancelledDeferredRoutes,\n      cancelledFetcherLoads,\n      fetchLoadMatches,\n      fetchRedirectIds,\n      routesToUse,\n      basename,\n      pendingActionData,\n      pendingError\n    );\n\n    // Cancel pending deferreds for no-longer-matched routes or routes we're\n    // about to reload.  Note that if this is an action reload we would have\n    // already cancelled all pending deferreds so this would be a no-op\n    cancelActiveDeferreds(\n      (routeId) =>\n        !(matches && matches.some((m) => m.route.id === routeId)) ||\n        (matchesToLoad && matchesToLoad.some((m) => m.route.id === routeId))\n    );\n\n    pendingNavigationLoadId = ++incrementingLoadId;\n\n    // Short circuit if we have no loaders to run\n    if (matchesToLoad.length === 0 && revalidatingFetchers.length === 0) {\n      let updatedFetchers = markFetchRedirectsDone();\n      completeNavigation(location, {\n        matches,\n        loaderData: {},\n        // Commit pending error if we're short circuiting\n        errors: pendingError || null,\n        ...(pendingActionData ? { actionData: pendingActionData } : {}),\n        ...(updatedFetchers ? { fetchers: new Map(state.fetchers) } : {}),\n      });\n      return { shortCircuited: true };\n    }\n\n    // If this is an uninterrupted revalidation, we remain in our current idle\n    // state.  If not, we need to switch to our loading state and load data,\n    // preserving any new action data or existing action data (in the case of\n    // a revalidation interrupting an actionReload)\n    if (!isUninterruptedRevalidation) {\n      revalidatingFetchers.forEach((rf) => {\n        let fetcher = state.fetchers.get(rf.key);\n        let revalidatingFetcher = getLoadingFetcher(\n          undefined,\n          fetcher ? fetcher.data : undefined\n        );\n        state.fetchers.set(rf.key, revalidatingFetcher);\n      });\n      let actionData = pendingActionData || state.actionData;\n      updateState({\n        navigation: loadingNavigation,\n        ...(actionData\n          ? Object.keys(actionData).length === 0\n            ? { actionData: null }\n            : { actionData }\n          : {}),\n        ...(revalidatingFetchers.length > 0\n          ? { fetchers: new Map(state.fetchers) }\n          : {}),\n      });\n    }\n\n    revalidatingFetchers.forEach((rf) => {\n      if (fetchControllers.has(rf.key)) {\n        abortFetcher(rf.key);\n      }\n      if (rf.controller) {\n        // Fetchers use an independent AbortController so that aborting a fetcher\n        // (via deleteFetcher) does not abort the triggering navigation that\n        // triggered the revalidation\n        fetchControllers.set(rf.key, rf.controller);\n      }\n    });\n\n    // Proxy navigation abort through to revalidation fetchers\n    let abortPendingFetchRevalidations = () =>\n      revalidatingFetchers.forEach((f) => abortFetcher(f.key));\n    if (pendingNavigationController) {\n      pendingNavigationController.signal.addEventListener(\n        \"abort\",\n        abortPendingFetchRevalidations\n      );\n    }\n\n    let { results, loaderResults, fetcherResults } =\n      await callLoadersAndMaybeResolveData(\n        state.matches,\n        matches,\n        matchesToLoad,\n        revalidatingFetchers,\n        request\n      );\n\n    if (request.signal.aborted) {\n      return { shortCircuited: true };\n    }\n\n    // Clean up _after_ loaders have completed.  Don't clean up if we short\n    // circuited because fetchControllers would have been aborted and\n    // reassigned to new controllers for the next navigation\n    if (pendingNavigationController) {\n      pendingNavigationController.signal.removeEventListener(\n        \"abort\",\n        abortPendingFetchRevalidations\n      );\n    }\n    revalidatingFetchers.forEach((rf) => fetchControllers.delete(rf.key));\n\n    // If any loaders returned a redirect Response, start a new REPLACE navigation\n    let redirect = findRedirect(results);\n    if (redirect) {\n      if (redirect.idx >= matchesToLoad.length) {\n        // If this redirect came from a fetcher make sure we mark it in\n        // fetchRedirectIds so it doesn't get revalidated on the next set of\n        // loader executions\n        let fetcherKey =\n          revalidatingFetchers[redirect.idx - matchesToLoad.length].key;\n        fetchRedirectIds.add(fetcherKey);\n      }\n      await startRedirectNavigation(state, redirect.result, { replace });\n      return { shortCircuited: true };\n    }\n\n    // Process and commit output from loaders\n    let { loaderData, errors } = processLoaderData(\n      state,\n      matches,\n      matchesToLoad,\n      loaderResults,\n      pendingError,\n      revalidatingFetchers,\n      fetcherResults,\n      activeDeferreds\n    );\n\n    // Wire up subscribers to update loaderData as promises settle\n    activeDeferreds.forEach((deferredData, routeId) => {\n      deferredData.subscribe((aborted) => {\n        // Note: No need to updateState here since the TrackedPromise on\n        // loaderData is stable across resolve/reject\n        // Remove this instance if we were aborted or if promises have settled\n        if (aborted || deferredData.done) {\n          activeDeferreds.delete(routeId);\n        }\n      });\n    });\n\n    let updatedFetchers = markFetchRedirectsDone();\n    let didAbortFetchLoads = abortStaleFetchLoads(pendingNavigationLoadId);\n    let shouldUpdateFetchers =\n      updatedFetchers || didAbortFetchLoads || revalidatingFetchers.length > 0;\n\n    return {\n      loaderData,\n      errors,\n      ...(shouldUpdateFetchers ? { fetchers: new Map(state.fetchers) } : {}),\n    };\n  }\n\n  function getFetcher<TData = any>(key: string): Fetcher<TData> {\n    return state.fetchers.get(key) || IDLE_FETCHER;\n  }\n\n  // Trigger a fetcher load/submit for the given fetcher key\n  function fetch(\n    key: string,\n    routeId: string,\n    href: string | null,\n    opts?: RouterFetchOptions\n  ) {\n    if (isServer) {\n      throw new Error(\n        \"router.fetch() was called during the server render, but it shouldn't be. \" +\n          \"You are likely calling a useFetcher() method in the body of your component. \" +\n          \"Try moving it to a useEffect or a callback.\"\n      );\n    }\n\n    if (fetchControllers.has(key)) abortFetcher(key);\n\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let normalizedPath = normalizeTo(\n      state.location,\n      state.matches,\n      basename,\n      future.v7_prependBasename,\n      href,\n      routeId,\n      opts?.relative\n    );\n    let matches = matchRoutes(routesToUse, normalizedPath, basename);\n\n    if (!matches) {\n      setFetcherError(\n        key,\n        routeId,\n        getInternalRouterError(404, { pathname: normalizedPath })\n      );\n      return;\n    }\n\n    let { path, submission, error } = normalizeNavigateOptions(\n      future.v7_normalizeFormMethod,\n      true,\n      normalizedPath,\n      opts\n    );\n\n    if (error) {\n      setFetcherError(key, routeId, error);\n      return;\n    }\n\n    let match = getTargetMatch(matches, path);\n\n    pendingPreventScrollReset = (opts && opts.preventScrollReset) === true;\n\n    if (submission && isMutationMethod(submission.formMethod)) {\n      handleFetcherAction(key, routeId, path, match, matches, submission);\n      return;\n    }\n\n    // Store off the match so we can call it's shouldRevalidate on subsequent\n    // revalidations\n    fetchLoadMatches.set(key, { routeId, path });\n    handleFetcherLoader(key, routeId, path, match, matches, submission);\n  }\n\n  // Call the action for the matched fetcher.submit(), and then handle redirects,\n  // errors, and revalidation\n  async function handleFetcherAction(\n    key: string,\n    routeId: string,\n    path: string,\n    match: AgnosticDataRouteMatch,\n    requestMatches: AgnosticDataRouteMatch[],\n    submission: Submission\n  ) {\n    interruptActiveLoads();\n    fetchLoadMatches.delete(key);\n\n    if (!match.route.action && !match.route.lazy) {\n      let error = getInternalRouterError(405, {\n        method: submission.formMethod,\n        pathname: path,\n        routeId: routeId,\n      });\n      setFetcherError(key, routeId, error);\n      return;\n    }\n\n    // Put this fetcher into it's submitting state\n    let existingFetcher = state.fetchers.get(key);\n    let fetcher = getSubmittingFetcher(submission, existingFetcher);\n    state.fetchers.set(key, fetcher);\n    updateState({ fetchers: new Map(state.fetchers) });\n\n    // Call the action for the fetcher\n    let abortController = new AbortController();\n    let fetchRequest = createClientSideRequest(\n      init.history,\n      path,\n      abortController.signal,\n      submission\n    );\n    fetchControllers.set(key, abortController);\n\n    let originatingLoadId = incrementingLoadId;\n    let actionResult = await callLoaderOrAction(\n      \"action\",\n      fetchRequest,\n      match,\n      requestMatches,\n      manifest,\n      mapRouteProperties,\n      basename\n    );\n\n    if (fetchRequest.signal.aborted) {\n      // We can delete this so long as we weren't aborted by ou our own fetcher\n      // re-submit which would have put _new_ controller is in fetchControllers\n      if (fetchControllers.get(key) === abortController) {\n        fetchControllers.delete(key);\n      }\n      return;\n    }\n\n    if (isRedirectResult(actionResult)) {\n      fetchControllers.delete(key);\n      if (pendingNavigationLoadId > originatingLoadId) {\n        // A new navigation was kicked off after our action started, so that\n        // should take precedence over this redirect navigation.  We already\n        // set isRevalidationRequired so all loaders for the new route should\n        // fire unless opted out via shouldRevalidate\n        let doneFetcher = getDoneFetcher(undefined);\n        state.fetchers.set(key, doneFetcher);\n        updateState({ fetchers: new Map(state.fetchers) });\n        return;\n      } else {\n        fetchRedirectIds.add(key);\n        let loadingFetcher = getLoadingFetcher(submission);\n        state.fetchers.set(key, loadingFetcher);\n        updateState({ fetchers: new Map(state.fetchers) });\n\n        return startRedirectNavigation(state, actionResult, {\n          submission,\n          isFetchActionRedirect: true,\n        });\n      }\n    }\n\n    // Process any non-redirect errors thrown\n    if (isErrorResult(actionResult)) {\n      setFetcherError(key, routeId, actionResult.error);\n      return;\n    }\n\n    if (isDeferredResult(actionResult)) {\n      throw getInternalRouterError(400, { type: \"defer-action\" });\n    }\n\n    // Start the data load for current matches, or the next location if we're\n    // in the middle of a navigation\n    let nextLocation = state.navigation.location || state.location;\n    let revalidationRequest = createClientSideRequest(\n      init.history,\n      nextLocation,\n      abortController.signal\n    );\n    let routesToUse = inFlightDataRoutes || dataRoutes;\n    let matches =\n      state.navigation.state !== \"idle\"\n        ? matchRoutes(routesToUse, state.navigation.location, basename)\n        : state.matches;\n\n    invariant(matches, \"Didn't find any matches after fetcher action\");\n\n    let loadId = ++incrementingLoadId;\n    fetchReloadIds.set(key, loadId);\n\n    let loadFetcher = getLoadingFetcher(submission, actionResult.data);\n    state.fetchers.set(key, loadFetcher);\n\n    let [matchesToLoad, revalidatingFetchers] = getMatchesToLoad(\n      init.history,\n      state,\n      matches,\n      submission,\n      nextLocation,\n      isRevalidationRequired,\n      cancelledDeferredRoutes,\n      cancelledFetcherLoads,\n      fetchLoadMatches,\n      fetchRedirectIds,\n      routesToUse,\n      basename,\n      { [match.route.id]: actionResult.data },\n      undefined // No need to send through errors since we short circuit above\n    );\n\n    // Put all revalidating fetchers into the loading state, except for the\n    // current fetcher which we want to keep in it's current loading state which\n    // contains it's action submission info + action data\n    revalidatingFetchers\n      .filter((rf) => rf.key !== key)\n      .forEach((rf) => {\n        let staleKey = rf.key;\n        let existingFetcher = state.fetchers.get(staleKey);\n        let revalidatingFetcher = getLoadingFetcher(\n          undefined,\n          existingFetcher ? existingFetcher.data : undefined\n        );\n        state.fetchers.set(staleKey, revalidatingFetcher);\n        if (fetchControllers.has(staleKey)) {\n          abortFetcher(staleKey);\n        }\n        if (rf.controller) {\n          fetchControllers.set(staleKey, rf.controller);\n        }\n      });\n\n    updateState({ fetchers: new Map(state.fetchers) });\n\n    let abortPendingFetchRevalidations = () =>\n      revalidatingFetchers.forEach((rf) => abortFetcher(rf.key));\n\n    abortController.signal.addEventListener(\n      \"abort\",\n      abortPendingFetchRevalidations\n    );\n\n    let { results, loaderResults, fetcherResults } =\n      await callLoadersAndMaybeResolveData(\n        state.matches,\n        matches,\n        matchesToLoad,\n        revalidatingFetchers,\n        revalidationRequest\n      );\n\n    if (abortController.signal.aborted) {\n      return;\n    }\n\n    abortController.signal.removeEventListener(\n      \"abort\",\n      abortPendingFetchRevalidations\n    );\n\n    fetchReloadIds.delete(key);\n    fetchControllers.delete(key);\n    revalidatingFetchers.forEach((r) => fetchControllers.delete(r.key));\n\n    let redirect = findRedirect(results);\n    if (redirect) {\n      if (redirect.idx >= matchesToLoad.length) {\n        // If this redirect came from a fetcher make sure we mark it in\n        // fetchRedirectIds so it doesn't get revalidated on the next set of\n        // loader executions\n        let fetcherKey =\n          revalidatingFetchers[redirect.idx - matchesToLoad.length].key;\n        fetchRedirectIds.add(fetcherKey);\n      }\n      return startRedirectNavigation(state, redirect.result);\n    }\n\n    // Process and commit output from loaders\n    let { loaderData, errors } = processLoaderData(\n      state,\n      state.matches,\n      matchesToLoad,\n      loaderResults,\n      undefined,\n      revalidatingFetchers,\n      fetcherResults,\n      activeDeferreds\n    );\n\n    // Since we let revalidations complete even if the submitting fetcher was\n    // deleted, only put it back to idle if it hasn't been deleted\n    if (state.fetchers.has(key)) {\n      let doneFetcher = getDoneFetcher(actionResult.data);\n      state.fetchers.set(key, doneFetcher);\n    }\n\n    let didAbortFetchLoads = abortStaleFetchLoads(loadId);\n\n    // If we are currently in a navigation loading state and this fetcher is\n    // more recent than the navigation, we want the newer data so abort the\n    // navigation and complete it with the fetcher data\n    if (\n      state.navigation.state === \"loading\" &&\n      loadId > pendingNavigationLoadId\n    ) {\n      invariant(pendingAction, \"Expected pending action\");\n      pendingNavigationController && pendingNavigationController.abort();\n\n      completeNavigation(state.navigation.location, {\n        matches,\n        loaderData,\n        errors,\n        fetchers: new Map(state.fetchers),\n      });\n    } else {\n      // otherwise just update with the fetcher data, preserving any existing\n      // loaderData for loaders that did not need to reload.  We have to\n      // manually merge here since we aren't going through completeNavigation\n      updateState({\n        errors,\n        loaderData: mergeLoaderData(\n          state.loaderData,\n          loaderData,\n          matches,\n          errors\n        ),\n        ...(didAbortFetchLoads || revalidatingFetchers.length > 0\n          ? { fetchers: new Map(state.fetchers) }\n          : {}),\n      });\n      isRevalidationRequired = false;\n    }\n  }\n\n  // Call the matched loader for fetcher.load(), handling redirects, errors, etc.\n  async function handleFetcherLoader(\n    key: string,\n    routeId: string,\n    path: string,\n    match: AgnosticDataRouteMatch,\n    matches: AgnosticDataRouteMatch[],\n    submission?: Submission\n  ) {\n    let existingFetcher = state.fetchers.get(key);\n    // Put this fetcher into it's loading state\n    let loadingFetcher = getLoadingFetcher(\n      submission,\n      existingFetcher ? existingFetcher.data : undefined\n    );\n    state.fetchers.set(key, loadingFetcher);\n    updateState({ fetchers: new Map(state.fetchers) });\n\n    // Call the loader for this fetcher route match\n    let abortController = new AbortController();\n    let fetchRequest = createClientSideRequest(\n      init.history,\n      path,\n      abortController.signal\n    );\n    fetchControllers.set(key, abortController);\n\n    let originatingLoadId = incrementingLoadId;\n    let result: DataResult = await callLoaderOrAction(\n      \"loader\",\n      fetchRequest,\n      match,\n      matches,\n      manifest,\n      mapRouteProperties,\n      basename\n    );\n\n    // Deferred isn't supported for fetcher loads, await everything and treat it\n    // as a normal load.  resolveDeferredData will return undefined if this\n    // fetcher gets aborted, so we just leave result untouched and short circuit\n    // below if that happens\n    if (isDeferredResult(result)) {\n      result =\n        (await resolveDeferredData(result, fetchRequest.signal, true)) ||\n        result;\n    }\n\n    // We can delete this so long as we weren't aborted by our our own fetcher\n    // re-load which would have put _new_ controller is in fetchControllers\n    if (fetchControllers.get(key) === abortController) {\n      fetchControllers.delete(key);\n    }\n\n    if (fetchRequest.signal.aborted) {\n      return;\n    }\n\n    // If the loader threw a redirect Response, start a new REPLACE navigation\n    if (isRedirectResult(result)) {\n      if (pendingNavigationLoadId > originatingLoadId) {\n        // A new navigation was kicked off after our loader started, so that\n        // should take precedence over this redirect navigation\n        let doneFetcher = getDoneFetcher(undefined);\n        state.fetchers.set(key, doneFetcher);\n        updateState({ fetchers: new Map(state.fetchers) });\n        return;\n      } else {\n        fetchRedirectIds.add(key);\n        await startRedirectNavigation(state, result);\n        return;\n      }\n    }\n\n    // Process any non-redirect errors thrown\n    if (isErrorResult(result)) {\n      let boundaryMatch = findNearestBoundary(state.matches, routeId);\n      state.fetchers.delete(key);\n      // TODO: In remix, this would reset to IDLE_NAVIGATION if it was a catch -\n      // do we need to behave any differently with our non-redirect errors?\n      // What if it was a non-redirect Response?\n      updateState({\n        fetchers: new Map(state.fetchers),\n        errors: {\n          [boundaryMatch.route.id]: result.error,\n        },\n      });\n      return;\n    }\n\n    invariant(!isDeferredResult(result), \"Unhandled fetcher deferred data\");\n\n    // Put the fetcher back into an idle state\n    let doneFetcher = getDoneFetcher(result.data);\n    state.fetchers.set(key, doneFetcher);\n    updateState({ fetchers: new Map(state.fetchers) });\n  }\n\n  /**\n   * Utility function to handle redirects returned from an action or loader.\n   * Normally, a redirect \"replaces\" the navigation that triggered it.  So, for\n   * example:\n   *\n   *  - user is on /a\n   *  - user clicks a link to /b\n   *  - loader for /b redirects to /c\n   *\n   * In a non-JS app the browser would track the in-flight navigation to /b and\n   * then replace it with /c when it encountered the redirect response.  In\n   * the end it would only ever update the URL bar with /c.\n   *\n   * In client-side routing using pushState/replaceState, we aim to emulate\n   * this behavior and we also do not update history until the end of the\n   * navigation (including processed redirects).  This means that we never\n   * actually touch history until we've processed redirects, so we just use\n   * the history action from the original navigation (PUSH or REPLACE).\n   */\n  async function startRedirectNavigation(\n    state: RouterState,\n    redirect: RedirectResult,\n    {\n      submission,\n      replace,\n      isFetchActionRedirect,\n    }: {\n      submission?: Submission;\n      replace?: boolean;\n      isFetchActionRedirect?: boolean;\n    } = {}\n  ) {\n    if (redirect.revalidate) {\n      isRevalidationRequired = true;\n    }\n\n    let redirectLocation = createLocation(\n      state.location,\n      redirect.location,\n      // TODO: This can be removed once we get rid of useTransition in Remix v2\n      {\n        _isRedirect: true,\n        ...(isFetchActionRedirect ? { _isFetchActionRedirect: true } : {}),\n      }\n    );\n    invariant(\n      redirectLocation,\n      \"Expected a location on the redirect navigation\"\n    );\n\n    if (isBrowser) {\n      let isDocumentReload = false;\n\n      if (redirect.reloadDocument) {\n        // Hard reload if the response contained X-Remix-Reload-Document\n        isDocumentReload = true;\n      } else if (ABSOLUTE_URL_REGEX.test(redirect.location)) {\n        const url = init.history.createURL(redirect.location);\n        isDocumentReload =\n          // Hard reload if it's an absolute URL to a new origin\n          url.origin !== routerWindow.location.origin ||\n          // Hard reload if it's an absolute URL that does not match our basename\n          stripBasename(url.pathname, basename) == null;\n      }\n\n      if (isDocumentReload) {\n        if (replace) {\n          routerWindow.location.replace(redirect.location);\n        } else {\n          routerWindow.location.assign(redirect.location);\n        }\n        return;\n      }\n    }\n\n    // There's no need to abort on redirects, since we don't detect the\n    // redirect until the action/loaders have settled\n    pendingNavigationController = null;\n\n    let redirectHistoryAction =\n      replace === true ? HistoryAction.Replace : HistoryAction.Push;\n\n    // Use the incoming submission if provided, fallback on the active one in\n    // state.navigation\n    let activeSubmission =\n      submission || getSubmissionFromNavigation(state.navigation);\n\n    // If this was a 307/308 submission we want to preserve the HTTP method and\n    // re-submit the GET/POST/PUT/PATCH/DELETE as a submission navigation to the\n    // redirected location\n    if (\n      redirectPreserveMethodStatusCodes.has(redirect.status) &&\n      activeSubmission &&\n      isMutationMethod(activeSubmission.formMethod)\n    ) {\n      await startNavigation(redirectHistoryAction, redirectLocation, {\n        submission: {\n          ...activeSubmission,\n          formAction: redirect.location,\n        },\n        // Preserve this flag across redirects\n        preventScrollReset: pendingPreventScrollReset,\n      });\n    } else if (isFetchActionRedirect) {\n      // For a fetch action redirect, we kick off a new loading navigation\n      // without the fetcher submission, but we send it along for shouldRevalidate\n      await startNavigation(redirectHistoryAction, redirectLocation, {\n        overrideNavigation: getLoadingNavigation(redirectLocation),\n        fetcherSubmission: activeSubmission,\n        // Preserve this flag across redirects\n        preventScrollReset: pendingPreventScrollReset,\n      });\n    } else {\n      // If we have a submission, we will preserve it through the redirect navigation\n      let overrideNavigation = getLoadingNavigation(\n        redirectLocation,\n        activeSubmission\n      );\n      await startNavigation(redirectHistoryAction, redirectLocation, {\n        overrideNavigation,\n        // Preserve this flag across redirects\n        preventScrollReset: pendingPreventScrollReset,\n      });\n    }\n  }\n\n  async function callLoadersAndMaybeResolveData(\n    currentMatches: AgnosticDataRouteMatch[],\n    matches: AgnosticDataRouteMatch[],\n    matchesToLoad: AgnosticDataRouteMatch[],\n    fetchersToLoad: RevalidatingFetcher[],\n    request: Request\n  ) {\n    // Call all navigation loaders and revalidating fetcher loaders in parallel,\n    // then slice off the results into separate arrays so we can handle them\n    // accordingly\n    let results = await Promise.all([\n      ...matchesToLoad.map((match) =>\n        callLoaderOrAction(\n          \"loader\",\n          request,\n          match,\n          matches,\n          manifest,\n          mapRouteProperties,\n          basename\n        )\n      ),\n      ...fetchersToLoad.map((f) => {\n        if (f.matches && f.match && f.controller) {\n          return callLoaderOrAction(\n            \"loader\",\n            createClientSideRequest(init.history, f.path, f.controller.signal),\n            f.match,\n            f.matches,\n            manifest,\n            mapRouteProperties,\n            basename\n          );\n        } else {\n          let error: ErrorResult = {\n            type: ResultType.error,\n            error: getInternalRouterError(404, { pathname: f.path }),\n          };\n          return error;\n        }\n      }),\n    ]);\n    let loaderResults = results.slice(0, matchesToLoad.length);\n    let fetcherResults = results.slice(matchesToLoad.length);\n\n    await Promise.all([\n      resolveDeferredResults(\n        currentMatches,\n        matchesToLoad,\n        loaderResults,\n        loaderResults.map(() => request.signal),\n        false,\n        state.loaderData\n      ),\n      resolveDeferredResults(\n        currentMatches,\n        fetchersToLoad.map((f) => f.match),\n        fetcherResults,\n        fetchersToLoad.map((f) => (f.controller ? f.controller.signal : null)),\n        true\n      ),\n    ]);\n\n    return { results, loaderResults, fetcherResults };\n  }\n\n  function interruptActiveLoads() {\n    // Every interruption triggers a revalidation\n    isRevalidationRequired = true;\n\n    // Cancel pending route-level deferreds and mark cancelled routes for\n    // revalidation\n    cancelledDeferredRoutes.push(...cancelActiveDeferreds());\n\n    // Abort in-flight fetcher loads\n    fetchLoadMatches.forEach((_, key) => {\n      if (fetchControllers.has(key)) {\n        cancelledFetcherLoads.push(key);\n        abortFetcher(key);\n      }\n    });\n  }\n\n  function setFetcherError(key: string, routeId: string, error: any) {\n    let boundaryMatch = findNearestBoundary(state.matches, routeId);\n    deleteFetcher(key);\n    updateState({\n      errors: {\n        [boundaryMatch.route.id]: error,\n      },\n      fetchers: new Map(state.fetchers),\n    });\n  }\n\n  function deleteFetcher(key: string): void {\n    let fetcher = state.fetchers.get(key);\n    // Don't abort the controller if this is a deletion of a fetcher.submit()\n    // in it's loading phase since - we don't want to abort the corresponding\n    // revalidation and want them to complete and land\n    if (\n      fetchControllers.has(key) &&\n      !(fetcher && fetcher.state === \"loading\" && fetchReloadIds.has(key))\n    ) {\n      abortFetcher(key);\n    }\n    fetchLoadMatches.delete(key);\n    fetchReloadIds.delete(key);\n    fetchRedirectIds.delete(key);\n    state.fetchers.delete(key);\n  }\n\n  function abortFetcher(key: string) {\n    let controller = fetchControllers.get(key);\n    invariant(controller, `Expected fetch controller: ${key}`);\n    controller.abort();\n    fetchControllers.delete(key);\n  }\n\n  function markFetchersDone(keys: string[]) {\n    for (let key of keys) {\n      let fetcher = getFetcher(key);\n      let doneFetcher = getDoneFetcher(fetcher.data);\n      state.fetchers.set(key, doneFetcher);\n    }\n  }\n\n  function markFetchRedirectsDone(): boolean {\n    let doneKeys = [];\n    let updatedFetchers = false;\n    for (let key of fetchRedirectIds) {\n      let fetcher = state.fetchers.get(key);\n      invariant(fetcher, `Expected fetcher: ${key}`);\n      if (fetcher.state === \"loading\") {\n        fetchRedirectIds.delete(key);\n        doneKeys.push(key);\n        updatedFetchers = true;\n      }\n    }\n    markFetchersDone(doneKeys);\n    return updatedFetchers;\n  }\n\n  function abortStaleFetchLoads(landedId: number): boolean {\n    let yeetedKeys = [];\n    for (let [key, id] of fetchReloadIds) {\n      if (id < landedId) {\n        let fetcher = state.fetchers.get(key);\n        invariant(fetcher, `Expected fetcher: ${key}`);\n        if (fetcher.state === \"loading\") {\n          abortFetcher(key);\n          fetchReloadIds.delete(key);\n          yeetedKeys.push(key);\n        }\n      }\n    }\n    markFetchersDone(yeetedKeys);\n    return yeetedKeys.length > 0;\n  }\n\n  function getBlocker(key: string, fn: BlockerFunction) {\n    let blocker: Blocker = state.blockers.get(key) || IDLE_BLOCKER;\n\n    if (blockerFunctions.get(key) !== fn) {\n      blockerFunctions.set(key, fn);\n    }\n\n    return blocker;\n  }\n\n  function deleteBlocker(key: string) {\n    state.blockers.delete(key);\n    blockerFunctions.delete(key);\n  }\n\n  // Utility function to update blockers, ensuring valid state transitions\n  function updateBlocker(key: string, newBlocker: Blocker) {\n    let blocker = state.blockers.get(key) || IDLE_BLOCKER;\n\n    // Poor mans state machine :)\n    // https://mermaid.live/edit#pako:eNqVkc9OwzAMxl8l8nnjAYrEtDIOHEBIgwvKJTReGy3_lDpIqO27k6awMG0XcrLlnz87nwdonESogKXXBuE79rq75XZO3-yHds0RJVuv70YrPlUrCEe2HfrORS3rubqZfuhtpg5C9wk5tZ4VKcRUq88q9Z8RS0-48cE1iHJkL0ugbHuFLus9L6spZy8nX9MP2CNdomVaposqu3fGayT8T8-jJQwhepo_UtpgBQaDEUom04dZhAN1aJBDlUKJBxE1ceB2Smj0Mln-IBW5AFU2dwUiktt_2Qaq2dBfaKdEup85UV7Yd-dKjlnkabl2Pvr0DTkTreM\n    invariant(\n      (blocker.state === \"unblocked\" && newBlocker.state === \"blocked\") ||\n        (blocker.state === \"blocked\" && newBlocker.state === \"blocked\") ||\n        (blocker.state === \"blocked\" && newBlocker.state === \"proceeding\") ||\n        (blocker.state === \"blocked\" && newBlocker.state === \"unblocked\") ||\n        (blocker.state === \"proceeding\" && newBlocker.state === \"unblocked\"),\n      `Invalid blocker state transition: ${blocker.state} -> ${newBlocker.state}`\n    );\n\n    let blockers = new Map(state.blockers);\n    blockers.set(key, newBlocker);\n    updateState({ blockers });\n  }\n\n  function shouldBlockNavigation({\n    currentLocation,\n    nextLocation,\n    historyAction,\n  }: {\n    currentLocation: Location;\n    nextLocation: Location;\n    historyAction: HistoryAction;\n  }): string | undefined {\n    if (blockerFunctions.size === 0) {\n      return;\n    }\n\n    // We ony support a single active blocker at the moment since we don't have\n    // any compelling use cases for multi-blocker yet\n    if (blockerFunctions.size > 1) {\n      warning(false, \"A router only supports one blocker at a time\");\n    }\n\n    let entries = Array.from(blockerFunctions.entries());\n    let [blockerKey, blockerFunction] = entries[entries.length - 1];\n    let blocker = state.blockers.get(blockerKey);\n\n    if (blocker && blocker.state === \"proceeding\") {\n      // If the blocker is currently proceeding, we don't need to re-check\n      // it and can let this navigation continue\n      return;\n    }\n\n    // At this point, we know we're unblocked/blocked so we need to check the\n    // user-provided blocker function\n    if (blockerFunction({ currentLocation, nextLocation, historyAction })) {\n      return blockerKey;\n    }\n  }\n\n  function cancelActiveDeferreds(\n    predicate?: (routeId: string) => boolean\n  ): string[] {\n    let cancelledRouteIds: string[] = [];\n    activeDeferreds.forEach((dfd, routeId) => {\n      if (!predicate || predicate(routeId)) {\n        // Cancel the deferred - but do not remove from activeDeferreds here -\n        // we rely on the subscribers to do that so our tests can assert proper\n        // cleanup via _internalActiveDeferreds\n        dfd.cancel();\n        cancelledRouteIds.push(routeId);\n        activeDeferreds.delete(routeId);\n      }\n    });\n    return cancelledRouteIds;\n  }\n\n  // Opt in to capturing and reporting scroll positions during navigations,\n  // used by the <ScrollRestoration> component\n  function enableScrollRestoration(\n    positions: Record<string, number>,\n    getPosition: GetScrollPositionFunction,\n    getKey?: GetScrollRestorationKeyFunction\n  ) {\n    savedScrollPositions = positions;\n    getScrollPosition = getPosition;\n    getScrollRestorationKey = getKey || null;\n\n    // Perform initial hydration scroll restoration, since we miss the boat on\n    // the initial updateState() because we've not yet rendered <ScrollRestoration/>\n    // and therefore have no savedScrollPositions available\n    if (!initialScrollRestored && state.navigation === IDLE_NAVIGATION) {\n      initialScrollRestored = true;\n      let y = getSavedScrollPosition(state.location, state.matches);\n      if (y != null) {\n        updateState({ restoreScrollPosition: y });\n      }\n    }\n\n    return () => {\n      savedScrollPositions = null;\n      getScrollPosition = null;\n      getScrollRestorationKey = null;\n    };\n  }\n\n  function getScrollKey(location: Location, matches: AgnosticDataRouteMatch[]) {\n    if (getScrollRestorationKey) {\n      let key = getScrollRestorationKey(\n        location,\n        matches.map((m) => createUseMatchesMatch(m, state.loaderData))\n      );\n      return key || location.key;\n    }\n    return location.key;\n  }\n\n  function saveScrollPosition(\n    location: Location,\n    matches: AgnosticDataRouteMatch[]\n  ): void {\n    if (savedScrollPositions && getScrollPosition) {\n      let key = getScrollKey(location, matches);\n      savedScrollPositions[key] = getScrollPosition();\n    }\n  }\n\n  function getSavedScrollPosition(\n    location: Location,\n    matches: AgnosticDataRouteMatch[]\n  ): number | null {\n    if (savedScrollPositions) {\n      let key = getScrollKey(location, matches);\n      let y = savedScrollPositions[key];\n      if (typeof y === \"number\") {\n        return y;\n      }\n    }\n    return null;\n  }\n\n  function _internalSetRoutes(newRoutes: AgnosticDataRouteObject[]) {\n    manifest = {};\n    inFlightDataRoutes = convertRoutesToDataRoutes(\n      newRoutes,\n      mapRouteProperties,\n      undefined,\n      manifest\n    );\n  }\n\n  router = {\n    get basename() {\n      return basename;\n    },\n    get state() {\n      return state;\n    },\n    get routes() {\n      return dataRoutes;\n    },\n    initialize,\n    subscribe,\n    enableScrollRestoration,\n    navigate,\n    fetch,\n    revalidate,\n    // Passthrough to history-aware createHref used by useHref so we get proper\n    // hash-aware URLs in DOM paths\n    createHref: (to: To) => init.history.createHref(to),\n    encodeLocation: (to: To) => init.history.encodeLocation(to),\n    getFetcher,\n    deleteFetcher,\n    dispose,\n    getBlocker,\n    deleteBlocker,\n    _internalFetchControllers: fetchControllers,\n    _internalActiveDeferreds: activeDeferreds,\n    // TODO: Remove setRoutes, it's temporary to avoid dealing with\n    // updating the tree while validating the update algorithm.\n    _internalSetRoutes,\n  };\n\n  return router;\n}\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region createStaticHandler\n////////////////////////////////////////////////////////////////////////////////\n\nexport const UNSAFE_DEFERRED_SYMBOL = Symbol(\"deferred\");\n\nexport interface CreateStaticHandlerOptions {\n  basename?: string;\n  /**\n   * @deprecated Use `mapRouteProperties` instead\n   */\n  detectErrorBoundary?: DetectErrorBoundaryFunction;\n  mapRouteProperties?: MapRoutePropertiesFunction;\n}\n\nexport function createStaticHandler(\n  routes: AgnosticRouteObject[],\n  opts?: CreateStaticHandlerOptions\n): StaticHandler {\n  invariant(\n    routes.length > 0,\n    \"You must provide a non-empty routes array to createStaticHandler\"\n  );\n\n  let manifest: RouteManifest = {};\n  let basename = (opts ? opts.basename : null) || \"/\";\n  let mapRouteProperties: MapRoutePropertiesFunction;\n  if (opts?.mapRouteProperties) {\n    mapRouteProperties = opts.mapRouteProperties;\n  } else if (opts?.detectErrorBoundary) {\n    // If they are still using the deprecated version, wrap it with the new API\n    let detectErrorBoundary = opts.detectErrorBoundary;\n    mapRouteProperties = (route) => ({\n      hasErrorBoundary: detectErrorBoundary(route),\n    });\n  } else {\n    mapRouteProperties = defaultMapRouteProperties;\n  }\n\n  let dataRoutes = convertRoutesToDataRoutes(\n    routes,\n    mapRouteProperties,\n    undefined,\n    manifest\n  );\n\n  /**\n   * The query() method is intended for document requests, in which we want to\n   * call an optional action and potentially multiple loaders for all nested\n   * routes.  It returns a StaticHandlerContext object, which is very similar\n   * to the router state (location, loaderData, actionData, errors, etc.) and\n   * also adds SSR-specific information such as the statusCode and headers\n   * from action/loaders Responses.\n   *\n   * It _should_ never throw and should report all errors through the\n   * returned context.errors object, properly associating errors to their error\n   * boundary.  Additionally, it tracks _deepestRenderedBoundaryId which can be\n   * used to emulate React error boundaries during SSr by performing a second\n   * pass only down to the boundaryId.\n   *\n   * The one exception where we do not return a StaticHandlerContext is when a\n   * redirect response is returned or thrown from any action/loader.  We\n   * propagate that out and return the raw Response so the HTTP server can\n   * return it directly.\n   */\n  async function query(\n    request: Request,\n    { requestContext }: { requestContext?: unknown } = {}\n  ): Promise<StaticHandlerContext | Response> {\n    let url = new URL(request.url);\n    let method = request.method;\n    let location = createLocation(\"\", createPath(url), null, \"default\");\n    let matches = matchRoutes(dataRoutes, location, basename);\n\n    // SSR supports HEAD requests while SPA doesn't\n    if (!isValidMethod(method) && method !== \"HEAD\") {\n      let error = getInternalRouterError(405, { method });\n      let { matches: methodNotAllowedMatches, route } =\n        getShortCircuitMatches(dataRoutes);\n      return {\n        basename,\n        location,\n        matches: methodNotAllowedMatches,\n        loaderData: {},\n        actionData: null,\n        errors: {\n          [route.id]: error,\n        },\n        statusCode: error.status,\n        loaderHeaders: {},\n        actionHeaders: {},\n        activeDeferreds: null,\n      };\n    } else if (!matches) {\n      let error = getInternalRouterError(404, { pathname: location.pathname });\n      let { matches: notFoundMatches, route } =\n        getShortCircuitMatches(dataRoutes);\n      return {\n        basename,\n        location,\n        matches: notFoundMatches,\n        loaderData: {},\n        actionData: null,\n        errors: {\n          [route.id]: error,\n        },\n        statusCode: error.status,\n        loaderHeaders: {},\n        actionHeaders: {},\n        activeDeferreds: null,\n      };\n    }\n\n    let result = await queryImpl(request, location, matches, requestContext);\n    if (isResponse(result)) {\n      return result;\n    }\n\n    // When returning StaticHandlerContext, we patch back in the location here\n    // since we need it for React Context.  But this helps keep our submit and\n    // loadRouteData operating on a Request instead of a Location\n    return { location, basename, ...result };\n  }\n\n  /**\n   * The queryRoute() method is intended for targeted route requests, either\n   * for fetch ?_data requests or resource route requests.  In this case, we\n   * are only ever calling a single action or loader, and we are returning the\n   * returned value directly.  In most cases, this will be a Response returned\n   * from the action/loader, but it may be a primitive or other value as well -\n   * and in such cases the calling context should handle that accordingly.\n   *\n   * We do respect the throw/return differentiation, so if an action/loader\n   * throws, then this method will throw the value.  This is important so we\n   * can do proper boundary identification in Remix where a thrown Response\n   * must go to the Catch Boundary but a returned Response is happy-path.\n   *\n   * One thing to note is that any Router-initiated Errors that make sense\n   * to associate with a status code will be thrown as an ErrorResponse\n   * instance which include the raw Error, such that the calling context can\n   * serialize the error as they see fit while including the proper response\n   * code.  Examples here are 404 and 405 errors that occur prior to reaching\n   * any user-defined loaders.\n   */\n  async function queryRoute(\n    request: Request,\n    {\n      routeId,\n      requestContext,\n    }: { requestContext?: unknown; routeId?: string } = {}\n  ): Promise<any> {\n    let url = new URL(request.url);\n    let method = request.method;\n    let location = createLocation(\"\", createPath(url), null, \"default\");\n    let matches = matchRoutes(dataRoutes, location, basename);\n\n    // SSR supports HEAD requests while SPA doesn't\n    if (!isValidMethod(method) && method !== \"HEAD\" && method !== \"OPTIONS\") {\n      throw getInternalRouterError(405, { method });\n    } else if (!matches) {\n      throw getInternalRouterError(404, { pathname: location.pathname });\n    }\n\n    let match = routeId\n      ? matches.find((m) => m.route.id === routeId)\n      : getTargetMatch(matches, location);\n\n    if (routeId && !match) {\n      throw getInternalRouterError(403, {\n        pathname: location.pathname,\n        routeId,\n      });\n    } else if (!match) {\n      // This should never hit I don't think?\n      throw getInternalRouterError(404, { pathname: location.pathname });\n    }\n\n    let result = await queryImpl(\n      request,\n      location,\n      matches,\n      requestContext,\n      match\n    );\n    if (isResponse(result)) {\n      return result;\n    }\n\n    let error = result.errors ? Object.values(result.errors)[0] : undefined;\n    if (error !== undefined) {\n      // If we got back result.errors, that means the loader/action threw\n      // _something_ that wasn't a Response, but it's not guaranteed/required\n      // to be an `instanceof Error` either, so we have to use throw here to\n      // preserve the \"error\" state outside of queryImpl.\n      throw error;\n    }\n\n    // Pick off the right state value to return\n    if (result.actionData) {\n      return Object.values(result.actionData)[0];\n    }\n\n    if (result.loaderData) {\n      let data = Object.values(result.loaderData)[0];\n      if (result.activeDeferreds?.[match.route.id]) {\n        data[UNSAFE_DEFERRED_SYMBOL] = result.activeDeferreds[match.route.id];\n      }\n      return data;\n    }\n\n    return undefined;\n  }\n\n  async function queryImpl(\n    request: Request,\n    location: Location,\n    matches: AgnosticDataRouteMatch[],\n    requestContext: unknown,\n    routeMatch?: AgnosticDataRouteMatch\n  ): Promise<Omit<StaticHandlerContext, \"location\" | \"basename\"> | Response> {\n    invariant(\n      request.signal,\n      \"query()/queryRoute() requests must contain an AbortController signal\"\n    );\n\n    try {\n      if (isMutationMethod(request.method.toLowerCase())) {\n        let result = await submit(\n          request,\n          matches,\n          routeMatch || getTargetMatch(matches, location),\n          requestContext,\n          routeMatch != null\n        );\n        return result;\n      }\n\n      let result = await loadRouteData(\n        request,\n        matches,\n        requestContext,\n        routeMatch\n      );\n      return isResponse(result)\n        ? result\n        : {\n            ...result,\n            actionData: null,\n            actionHeaders: {},\n          };\n    } catch (e) {\n      // If the user threw/returned a Response in callLoaderOrAction, we throw\n      // it to bail out and then return or throw here based on whether the user\n      // returned or threw\n      if (isQueryRouteResponse(e)) {\n        if (e.type === ResultType.error) {\n          throw e.response;\n        }\n        return e.response;\n      }\n      // Redirects are always returned since they don't propagate to catch\n      // boundaries\n      if (isRedirectResponse(e)) {\n        return e;\n      }\n      throw e;\n    }\n  }\n\n  async function submit(\n    request: Request,\n    matches: AgnosticDataRouteMatch[],\n    actionMatch: AgnosticDataRouteMatch,\n    requestContext: unknown,\n    isRouteRequest: boolean\n  ): Promise<Omit<StaticHandlerContext, \"location\" | \"basename\"> | Response> {\n    let result: DataResult;\n\n    if (!actionMatch.route.action && !actionMatch.route.lazy) {\n      let error = getInternalRouterError(405, {\n        method: request.method,\n        pathname: new URL(request.url).pathname,\n        routeId: actionMatch.route.id,\n      });\n      if (isRouteRequest) {\n        throw error;\n      }\n      result = {\n        type: ResultType.error,\n        error,\n      };\n    } else {\n      result = await callLoaderOrAction(\n        \"action\",\n        request,\n        actionMatch,\n        matches,\n        manifest,\n        mapRouteProperties,\n        basename,\n        { isStaticRequest: true, isRouteRequest, requestContext }\n      );\n\n      if (request.signal.aborted) {\n        let method = isRouteRequest ? \"queryRoute\" : \"query\";\n        throw new Error(`${method}() call aborted`);\n      }\n    }\n\n    if (isRedirectResult(result)) {\n      // Uhhhh - this should never happen, we should always throw these from\n      // callLoaderOrAction, but the type narrowing here keeps TS happy and we\n      // can get back on the \"throw all redirect responses\" train here should\n      // this ever happen :/\n      throw new Response(null, {\n        status: result.status,\n        headers: {\n          Location: result.location,\n        },\n      });\n    }\n\n    if (isDeferredResult(result)) {\n      let error = getInternalRouterError(400, { type: \"defer-action\" });\n      if (isRouteRequest) {\n        throw error;\n      }\n      result = {\n        type: ResultType.error,\n        error,\n      };\n    }\n\n    if (isRouteRequest) {\n      // Note: This should only be non-Response values if we get here, since\n      // isRouteRequest should throw any Response received in callLoaderOrAction\n      if (isErrorResult(result)) {\n        throw result.error;\n      }\n\n      return {\n        matches: [actionMatch],\n        loaderData: {},\n        actionData: { [actionMatch.route.id]: result.data },\n        errors: null,\n        // Note: statusCode + headers are unused here since queryRoute will\n        // return the raw Response or value\n        statusCode: 200,\n        loaderHeaders: {},\n        actionHeaders: {},\n        activeDeferreds: null,\n      };\n    }\n\n    if (isErrorResult(result)) {\n      // Store off the pending error - we use it to determine which loaders\n      // to call and will commit it when we complete the navigation\n      let boundaryMatch = findNearestBoundary(matches, actionMatch.route.id);\n      let context = await loadRouteData(\n        request,\n        matches,\n        requestContext,\n        undefined,\n        {\n          [boundaryMatch.route.id]: result.error,\n        }\n      );\n\n      // action status codes take precedence over loader status codes\n      return {\n        ...context,\n        statusCode: isRouteErrorResponse(result.error)\n          ? result.error.status\n          : 500,\n        actionData: null,\n        actionHeaders: {\n          ...(result.headers ? { [actionMatch.route.id]: result.headers } : {}),\n        },\n      };\n    }\n\n    // Create a GET request for the loaders\n    let loaderRequest = new Request(request.url, {\n      headers: request.headers,\n      redirect: request.redirect,\n      signal: request.signal,\n    });\n    let context = await loadRouteData(loaderRequest, matches, requestContext);\n\n    return {\n      ...context,\n      // action status codes take precedence over loader status codes\n      ...(result.statusCode ? { statusCode: result.statusCode } : {}),\n      actionData: {\n        [actionMatch.route.id]: result.data,\n      },\n      actionHeaders: {\n        ...(result.headers ? { [actionMatch.route.id]: result.headers } : {}),\n      },\n    };\n  }\n\n  async function loadRouteData(\n    request: Request,\n    matches: AgnosticDataRouteMatch[],\n    requestContext: unknown,\n    routeMatch?: AgnosticDataRouteMatch,\n    pendingActionError?: RouteData\n  ): Promise<\n    | Omit<\n        StaticHandlerContext,\n        \"location\" | \"basename\" | \"actionData\" | \"actionHeaders\"\n      >\n    | Response\n  > {\n    let isRouteRequest = routeMatch != null;\n\n    // Short circuit if we have no loaders to run (queryRoute())\n    if (\n      isRouteRequest &&\n      !routeMatch?.route.loader &&\n      !routeMatch?.route.lazy\n    ) {\n      throw getInternalRouterError(400, {\n        method: request.method,\n        pathname: new URL(request.url).pathname,\n        routeId: routeMatch?.route.id,\n      });\n    }\n\n    let requestMatches = routeMatch\n      ? [routeMatch]\n      : getLoaderMatchesUntilBoundary(\n          matches,\n          Object.keys(pendingActionError || {})[0]\n        );\n    let matchesToLoad = requestMatches.filter(\n      (m) => m.route.loader || m.route.lazy\n    );\n\n    // Short circuit if we have no loaders to run (query())\n    if (matchesToLoad.length === 0) {\n      return {\n        matches,\n        // Add a null for all matched routes for proper revalidation on the client\n        loaderData: matches.reduce(\n          (acc, m) => Object.assign(acc, { [m.route.id]: null }),\n          {}\n        ),\n        errors: pendingActionError || null,\n        statusCode: 200,\n        loaderHeaders: {},\n        activeDeferreds: null,\n      };\n    }\n\n    let results = await Promise.all([\n      ...matchesToLoad.map((match) =>\n        callLoaderOrAction(\n          \"loader\",\n          request,\n          match,\n          matches,\n          manifest,\n          mapRouteProperties,\n          basename,\n          { isStaticRequest: true, isRouteRequest, requestContext }\n        )\n      ),\n    ]);\n\n    if (request.signal.aborted) {\n      let method = isRouteRequest ? \"queryRoute\" : \"query\";\n      throw new Error(`${method}() call aborted`);\n    }\n\n    // Process and commit output from loaders\n    let activeDeferreds = new Map<string, DeferredData>();\n    let context = processRouteLoaderData(\n      matches,\n      matchesToLoad,\n      results,\n      pendingActionError,\n      activeDeferreds\n    );\n\n    // Add a null for any non-loader matches for proper revalidation on the client\n    let executedLoaders = new Set<string>(\n      matchesToLoad.map((match) => match.route.id)\n    );\n    matches.forEach((match) => {\n      if (!executedLoaders.has(match.route.id)) {\n        context.loaderData[match.route.id] = null;\n      }\n    });\n\n    return {\n      ...context,\n      matches,\n      activeDeferreds:\n        activeDeferreds.size > 0\n          ? Object.fromEntries(activeDeferreds.entries())\n          : null,\n    };\n  }\n\n  return {\n    dataRoutes,\n    query,\n    queryRoute,\n  };\n}\n\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Helpers\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * Given an existing StaticHandlerContext and an error thrown at render time,\n * provide an updated StaticHandlerContext suitable for a second SSR render\n */\nexport function getStaticContextFromError(\n  routes: AgnosticDataRouteObject[],\n  context: StaticHandlerContext,\n  error: any\n) {\n  let newContext: StaticHandlerContext = {\n    ...context,\n    statusCode: 500,\n    errors: {\n      [context._deepestRenderedBoundaryId || routes[0].id]: error,\n    },\n  };\n  return newContext;\n}\n\nfunction isSubmissionNavigation(\n  opts: RouterNavigateOptions\n): opts is SubmissionNavigateOptions {\n  return (\n    opts != null &&\n    ((\"formData\" in opts && opts.formData != null) ||\n      (\"body\" in opts && opts.body !== undefined))\n  );\n}\n\nfunction normalizeTo(\n  location: Path,\n  matches: AgnosticDataRouteMatch[],\n  basename: string,\n  prependBasename: boolean,\n  to: To | null,\n  fromRouteId?: string,\n  relative?: RelativeRoutingType\n) {\n  let contextualMatches: AgnosticDataRouteMatch[];\n  let activeRouteMatch: AgnosticDataRouteMatch | undefined;\n  if (fromRouteId != null && relative !== \"path\") {\n    // Grab matches up to the calling route so our route-relative logic is\n    // relative to the correct source route.  When using relative:path,\n    // fromRouteId is ignored since that is always relative to the current\n    // location path\n    contextualMatches = [];\n    for (let match of matches) {\n      contextualMatches.push(match);\n      if (match.route.id === fromRouteId) {\n        activeRouteMatch = match;\n        break;\n      }\n    }\n  } else {\n    contextualMatches = matches;\n    activeRouteMatch = matches[matches.length - 1];\n  }\n\n  // Resolve the relative path\n  let path = resolveTo(\n    to ? to : \".\",\n    getPathContributingMatches(contextualMatches).map((m) => m.pathnameBase),\n    stripBasename(location.pathname, basename) || location.pathname,\n    relative === \"path\"\n  );\n\n  // When `to` is not specified we inherit search/hash from the current\n  // location, unlike when to=\".\" and we just inherit the path.\n  // See https://github.com/remix-run/remix/issues/927\n  if (to == null) {\n    path.search = location.search;\n    path.hash = location.hash;\n  }\n\n  // Add an ?index param for matched index routes if we don't already have one\n  if (\n    (to == null || to === \"\" || to === \".\") &&\n    activeRouteMatch &&\n    activeRouteMatch.route.index &&\n    !hasNakedIndexQuery(path.search)\n  ) {\n    path.search = path.search\n      ? path.search.replace(/^\\?/, \"?index&\")\n      : \"?index\";\n  }\n\n  // If we're operating within a basename, prepend it to the pathname.  If\n  // this is a root navigation, then just use the raw basename which allows\n  // the basename to have full control over the presence of a trailing slash\n  // on root actions\n  if (prependBasename && basename !== \"/\") {\n    path.pathname =\n      path.pathname === \"/\" ? basename : joinPaths([basename, path.pathname]);\n  }\n\n  return createPath(path);\n}\n\n// Normalize navigation options by converting formMethod=GET formData objects to\n// URLSearchParams so they behave identically to links with query params\nfunction normalizeNavigateOptions(\n  normalizeFormMethod: boolean,\n  isFetcher: boolean,\n  path: string,\n  opts?: RouterNavigateOptions\n): {\n  path: string;\n  submission?: Submission;\n  error?: ErrorResponse;\n} {\n  // Return location verbatim on non-submission navigations\n  if (!opts || !isSubmissionNavigation(opts)) {\n    return { path };\n  }\n\n  if (opts.formMethod && !isValidMethod(opts.formMethod)) {\n    return {\n      path,\n      error: getInternalRouterError(405, { method: opts.formMethod }),\n    };\n  }\n\n  let getInvalidBodyError = () => ({\n    path,\n    error: getInternalRouterError(400, { type: \"invalid-body\" }),\n  });\n\n  // Create a Submission on non-GET navigations\n  let rawFormMethod = opts.formMethod || \"get\";\n  let formMethod = normalizeFormMethod\n    ? (rawFormMethod.toUpperCase() as V7_FormMethod)\n    : (rawFormMethod.toLowerCase() as FormMethod);\n  let formAction = stripHashFromPath(path);\n\n  if (opts.body !== undefined) {\n    if (opts.formEncType === \"text/plain\") {\n      // text only support POST/PUT/PATCH/DELETE submissions\n      if (!isMutationMethod(formMethod)) {\n        return getInvalidBodyError();\n      }\n\n      let text =\n        typeof opts.body === \"string\"\n          ? opts.body\n          : opts.body instanceof FormData ||\n            opts.body instanceof URLSearchParams\n          ? // https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#plain-text-form-data\n            Array.from(opts.body.entries()).reduce(\n              (acc, [name, value]) => `${acc}${name}=${value}\\n`,\n              \"\"\n            )\n          : String(opts.body);\n\n      return {\n        path,\n        submission: {\n          formMethod,\n          formAction,\n          formEncType: opts.formEncType,\n          formData: undefined,\n          json: undefined,\n          text,\n        },\n      };\n    } else if (opts.formEncType === \"application/json\") {\n      // json only supports POST/PUT/PATCH/DELETE submissions\n      if (!isMutationMethod(formMethod)) {\n        return getInvalidBodyError();\n      }\n\n      try {\n        let json =\n          typeof opts.body === \"string\" ? JSON.parse(opts.body) : opts.body;\n\n        return {\n          path,\n          submission: {\n            formMethod,\n            formAction,\n            formEncType: opts.formEncType,\n            formData: undefined,\n            json,\n            text: undefined,\n          },\n        };\n      } catch (e) {\n        return getInvalidBodyError();\n      }\n    }\n  }\n\n  invariant(\n    typeof FormData === \"function\",\n    \"FormData is not available in this environment\"\n  );\n\n  let searchParams: URLSearchParams;\n  let formData: FormData;\n\n  if (opts.formData) {\n    searchParams = convertFormDataToSearchParams(opts.formData);\n    formData = opts.formData;\n  } else if (opts.body instanceof FormData) {\n    searchParams = convertFormDataToSearchParams(opts.body);\n    formData = opts.body;\n  } else if (opts.body instanceof URLSearchParams) {\n    searchParams = opts.body;\n    formData = convertSearchParamsToFormData(searchParams);\n  } else if (opts.body == null) {\n    searchParams = new URLSearchParams();\n    formData = new FormData();\n  } else {\n    try {\n      searchParams = new URLSearchParams(opts.body);\n      formData = convertSearchParamsToFormData(searchParams);\n    } catch (e) {\n      return getInvalidBodyError();\n    }\n  }\n\n  let submission: Submission = {\n    formMethod,\n    formAction,\n    formEncType:\n      (opts && opts.formEncType) || \"application/x-www-form-urlencoded\",\n    formData,\n    json: undefined,\n    text: undefined,\n  };\n\n  if (isMutationMethod(submission.formMethod)) {\n    return { path, submission };\n  }\n\n  // Flatten submission onto URLSearchParams for GET submissions\n  let parsedPath = parsePath(path);\n  // On GET navigation submissions we can drop the ?index param from the\n  // resulting location since all loaders will run.  But fetcher GET submissions\n  // only run a single loader so we need to preserve any incoming ?index params\n  if (isFetcher && parsedPath.search && hasNakedIndexQuery(parsedPath.search)) {\n    searchParams.append(\"index\", \"\");\n  }\n  parsedPath.search = `?${searchParams}`;\n\n  return { path: createPath(parsedPath), submission };\n}\n\n// Filter out all routes below any caught error as they aren't going to\n// render so we don't need to load them\nfunction getLoaderMatchesUntilBoundary(\n  matches: AgnosticDataRouteMatch[],\n  boundaryId?: string\n) {\n  let boundaryMatches = matches;\n  if (boundaryId) {\n    let index = matches.findIndex((m) => m.route.id === boundaryId);\n    if (index >= 0) {\n      boundaryMatches = matches.slice(0, index);\n    }\n  }\n  return boundaryMatches;\n}\n\nfunction getMatchesToLoad(\n  history: History,\n  state: RouterState,\n  matches: AgnosticDataRouteMatch[],\n  submission: Submission | undefined,\n  location: Location,\n  isRevalidationRequired: boolean,\n  cancelledDeferredRoutes: string[],\n  cancelledFetcherLoads: string[],\n  fetchLoadMatches: Map<string, FetchLoadMatch>,\n  fetchRedirectIds: Set<string>,\n  routesToUse: AgnosticDataRouteObject[],\n  basename: string | undefined,\n  pendingActionData?: RouteData,\n  pendingError?: RouteData\n): [AgnosticDataRouteMatch[], RevalidatingFetcher[]] {\n  let actionResult = pendingError\n    ? Object.values(pendingError)[0]\n    : pendingActionData\n    ? Object.values(pendingActionData)[0]\n    : undefined;\n\n  let currentUrl = history.createURL(state.location);\n  let nextUrl = history.createURL(location);\n\n  // Pick navigation matches that are net-new or qualify for revalidation\n  let boundaryId = pendingError ? Object.keys(pendingError)[0] : undefined;\n  let boundaryMatches = getLoaderMatchesUntilBoundary(matches, boundaryId);\n\n  let navigationMatches = boundaryMatches.filter((match, index) => {\n    if (match.route.lazy) {\n      // We haven't loaded this route yet so we don't know if it's got a loader!\n      return true;\n    }\n    if (match.route.loader == null) {\n      return false;\n    }\n\n    // Always call the loader on new route instances and pending defer cancellations\n    if (\n      isNewLoader(state.loaderData, state.matches[index], match) ||\n      cancelledDeferredRoutes.some((id) => id === match.route.id)\n    ) {\n      return true;\n    }\n\n    // This is the default implementation for when we revalidate.  If the route\n    // provides it's own implementation, then we give them full control but\n    // provide this value so they can leverage it if needed after they check\n    // their own specific use cases\n    let currentRouteMatch = state.matches[index];\n    let nextRouteMatch = match;\n\n    return shouldRevalidateLoader(match, {\n      currentUrl,\n      currentParams: currentRouteMatch.params,\n      nextUrl,\n      nextParams: nextRouteMatch.params,\n      ...submission,\n      actionResult,\n      defaultShouldRevalidate:\n        // Forced revalidation due to submission, useRevalidator, or X-Remix-Revalidate\n        isRevalidationRequired ||\n        // Clicked the same link, resubmitted a GET form\n        currentUrl.pathname + currentUrl.search ===\n          nextUrl.pathname + nextUrl.search ||\n        // Search params affect all loaders\n        currentUrl.search !== nextUrl.search ||\n        isNewRouteInstance(currentRouteMatch, nextRouteMatch),\n    });\n  });\n\n  // Pick fetcher.loads that need to be revalidated\n  let revalidatingFetchers: RevalidatingFetcher[] = [];\n  fetchLoadMatches.forEach((f, key) => {\n    // Don't revalidate if fetcher won't be present in the subsequent render\n    if (!matches.some((m) => m.route.id === f.routeId)) {\n      return;\n    }\n\n    let fetcherMatches = matchRoutes(routesToUse, f.path, basename);\n\n    // If the fetcher path no longer matches, push it in with null matches so\n    // we can trigger a 404 in callLoadersAndMaybeResolveData.  Note this is\n    // currently only a use-case for Remix HMR where the route tree can change\n    // at runtime and remove a route previously loaded via a fetcher\n    if (!fetcherMatches) {\n      revalidatingFetchers.push({\n        key,\n        routeId: f.routeId,\n        path: f.path,\n        matches: null,\n        match: null,\n        controller: null,\n      });\n      return;\n    }\n\n    // Revalidating fetchers are decoupled from the route matches since they\n    // load from a static href.  They revalidate based on explicit revalidation\n    // (submission, useRevalidator, or X-Remix-Revalidate)\n    let fetcher = state.fetchers.get(key);\n    let fetcherMatch = getTargetMatch(fetcherMatches, f.path);\n\n    let shouldRevalidate = false;\n    if (fetchRedirectIds.has(key)) {\n      // Never trigger a revalidation of an actively redirecting fetcher\n      shouldRevalidate = false;\n    } else if (cancelledFetcherLoads.includes(key)) {\n      // Always revalidate if the fetcher was cancelled\n      shouldRevalidate = true;\n    } else if (\n      fetcher &&\n      fetcher.state !== \"idle\" &&\n      fetcher.data === undefined\n    ) {\n      // If the fetcher hasn't ever completed loading yet, then this isn't a\n      // revalidation, it would just be a brand new load if an explicit\n      // revalidation is required\n      shouldRevalidate = isRevalidationRequired;\n    } else {\n      // Otherwise fall back on any user-defined shouldRevalidate, defaulting\n      // to explicit revalidations only\n      shouldRevalidate = shouldRevalidateLoader(fetcherMatch, {\n        currentUrl,\n        currentParams: state.matches[state.matches.length - 1].params,\n        nextUrl,\n        nextParams: matches[matches.length - 1].params,\n        ...submission,\n        actionResult,\n        defaultShouldRevalidate: isRevalidationRequired,\n      });\n    }\n\n    if (shouldRevalidate) {\n      revalidatingFetchers.push({\n        key,\n        routeId: f.routeId,\n        path: f.path,\n        matches: fetcherMatches,\n        match: fetcherMatch,\n        controller: new AbortController(),\n      });\n    }\n  });\n\n  return [navigationMatches, revalidatingFetchers];\n}\n\nfunction isNewLoader(\n  currentLoaderData: RouteData,\n  currentMatch: AgnosticDataRouteMatch,\n  match: AgnosticDataRouteMatch\n) {\n  let isNew =\n    // [a] -> [a, b]\n    !currentMatch ||\n    // [a, b] -> [a, c]\n    match.route.id !== currentMatch.route.id;\n\n  // Handle the case that we don't have data for a re-used route, potentially\n  // from a prior error or from a cancelled pending deferred\n  let isMissingData = currentLoaderData[match.route.id] === undefined;\n\n  // Always load if this is a net-new route or we don't yet have data\n  return isNew || isMissingData;\n}\n\nfunction isNewRouteInstance(\n  currentMatch: AgnosticDataRouteMatch,\n  match: AgnosticDataRouteMatch\n) {\n  let currentPath = currentMatch.route.path;\n  return (\n    // param change for this match, /users/123 -> /users/456\n    currentMatch.pathname !== match.pathname ||\n    // splat param changed, which is not present in match.path\n    // e.g. /files/images/avatar.jpg -> files/finances.xls\n    (currentPath != null &&\n      currentPath.endsWith(\"*\") &&\n      currentMatch.params[\"*\"] !== match.params[\"*\"])\n  );\n}\n\nfunction shouldRevalidateLoader(\n  loaderMatch: AgnosticDataRouteMatch,\n  arg: Parameters<ShouldRevalidateFunction>[0]\n) {\n  if (loaderMatch.route.shouldRevalidate) {\n    let routeChoice = loaderMatch.route.shouldRevalidate(arg);\n    if (typeof routeChoice === \"boolean\") {\n      return routeChoice;\n    }\n  }\n\n  return arg.defaultShouldRevalidate;\n}\n\n/**\n * Execute route.lazy() methods to lazily load route modules (loader, action,\n * shouldRevalidate) and update the routeManifest in place which shares objects\n * with dataRoutes so those get updated as well.\n */\nasync function loadLazyRouteModule(\n  route: AgnosticDataRouteObject,\n  mapRouteProperties: MapRoutePropertiesFunction,\n  manifest: RouteManifest\n) {\n  if (!route.lazy) {\n    return;\n  }\n\n  let lazyRoute = await route.lazy();\n\n  // If the lazy route function was executed and removed by another parallel\n  // call then we can return - first lazy() to finish wins because the return\n  // value of lazy is expected to be static\n  if (!route.lazy) {\n    return;\n  }\n\n  let routeToUpdate = manifest[route.id];\n  invariant(routeToUpdate, \"No route found in manifest\");\n\n  // Update the route in place.  This should be safe because there's no way\n  // we could yet be sitting on this route as we can't get there without\n  // resolving lazy() first.\n  //\n  // This is different than the HMR \"update\" use-case where we may actively be\n  // on the route being updated.  The main concern boils down to \"does this\n  // mutation affect any ongoing navigations or any current state.matches\n  // values?\".  If not, it should be safe to update in place.\n  let routeUpdates: Record<string, any> = {};\n  for (let lazyRouteProperty in lazyRoute) {\n    let staticRouteValue =\n      routeToUpdate[lazyRouteProperty as keyof typeof routeToUpdate];\n\n    let isPropertyStaticallyDefined =\n      staticRouteValue !== undefined &&\n      // This property isn't static since it should always be updated based\n      // on the route updates\n      lazyRouteProperty !== \"hasErrorBoundary\";\n\n    warning(\n      !isPropertyStaticallyDefined,\n      `Route \"${routeToUpdate.id}\" has a static property \"${lazyRouteProperty}\" ` +\n        `defined but its lazy function is also returning a value for this property. ` +\n        `The lazy route property \"${lazyRouteProperty}\" will be ignored.`\n    );\n\n    if (\n      !isPropertyStaticallyDefined &&\n      !immutableRouteKeys.has(lazyRouteProperty as ImmutableRouteKey)\n    ) {\n      routeUpdates[lazyRouteProperty] =\n        lazyRoute[lazyRouteProperty as keyof typeof lazyRoute];\n    }\n  }\n\n  // Mutate the route with the provided updates.  Do this first so we pass\n  // the updated version to mapRouteProperties\n  Object.assign(routeToUpdate, routeUpdates);\n\n  // Mutate the `hasErrorBoundary` property on the route based on the route\n  // updates and remove the `lazy` function so we don't resolve the lazy\n  // route again.\n  Object.assign(routeToUpdate, {\n    // To keep things framework agnostic, we use the provided\n    // `mapRouteProperties` (or wrapped `detectErrorBoundary`) function to\n    // set the framework-aware properties (`element`/`hasErrorBoundary`) since\n    // the logic will differ between frameworks.\n    ...mapRouteProperties(routeToUpdate),\n    lazy: undefined,\n  });\n}\n\nasync function callLoaderOrAction(\n  type: \"loader\" | \"action\",\n  request: Request,\n  match: AgnosticDataRouteMatch,\n  matches: AgnosticDataRouteMatch[],\n  manifest: RouteManifest,\n  mapRouteProperties: MapRoutePropertiesFunction,\n  basename: string,\n  opts: {\n    isStaticRequest?: boolean;\n    isRouteRequest?: boolean;\n    requestContext?: unknown;\n  } = {}\n): Promise<DataResult> {\n  let resultType;\n  let result;\n  let onReject: (() => void) | undefined;\n\n  let runHandler = (handler: ActionFunction | LoaderFunction) => {\n    // Setup a promise we can race against so that abort signals short circuit\n    let reject: () => void;\n    let abortPromise = new Promise((_, r) => (reject = r));\n    onReject = () => reject();\n    request.signal.addEventListener(\"abort\", onReject);\n    return Promise.race([\n      handler({\n        request,\n        params: match.params,\n        context: opts.requestContext,\n      }),\n      abortPromise,\n    ]);\n  };\n\n  try {\n    let handler = match.route[type];\n\n    if (match.route.lazy) {\n      if (handler) {\n        // Run statically defined handler in parallel with lazy()\n        let values = await Promise.all([\n          runHandler(handler),\n          loadLazyRouteModule(match.route, mapRouteProperties, manifest),\n        ]);\n        result = values[0];\n      } else {\n        // Load lazy route module, then run any returned handler\n        await loadLazyRouteModule(match.route, mapRouteProperties, manifest);\n\n        handler = match.route[type];\n        if (handler) {\n          // Handler still run even if we got interrupted to maintain consistency\n          // with un-abortable behavior of handler execution on non-lazy or\n          // previously-lazy-loaded routes\n          result = await runHandler(handler);\n        } else if (type === \"action\") {\n          let url = new URL(request.url);\n          let pathname = url.pathname + url.search;\n          throw getInternalRouterError(405, {\n            method: request.method,\n            pathname,\n            routeId: match.route.id,\n          });\n        } else {\n          // lazy() route has no loader to run.  Short circuit here so we don't\n          // hit the invariant below that errors on returning undefined.\n          return { type: ResultType.data, data: undefined };\n        }\n      }\n    } else if (!handler) {\n      let url = new URL(request.url);\n      let pathname = url.pathname + url.search;\n      throw getInternalRouterError(404, {\n        pathname,\n      });\n    } else {\n      result = await runHandler(handler);\n    }\n\n    invariant(\n      result !== undefined,\n      `You defined ${type === \"action\" ? \"an action\" : \"a loader\"} for route ` +\n        `\"${match.route.id}\" but didn't return anything from your \\`${type}\\` ` +\n        `function. Please return a value or \\`null\\`.`\n    );\n  } catch (e) {\n    resultType = ResultType.error;\n    result = e;\n  } finally {\n    if (onReject) {\n      request.signal.removeEventListener(\"abort\", onReject);\n    }\n  }\n\n  if (isResponse(result)) {\n    let status = result.status;\n\n    // Process redirects\n    if (redirectStatusCodes.has(status)) {\n      let location = result.headers.get(\"Location\");\n      invariant(\n        location,\n        \"Redirects returned/thrown from loaders/actions must have a Location header\"\n      );\n\n      // Support relative routing in internal redirects\n      if (!ABSOLUTE_URL_REGEX.test(location)) {\n        location = normalizeTo(\n          new URL(request.url),\n          matches.slice(0, matches.indexOf(match) + 1),\n          basename,\n          true,\n          location\n        );\n      } else if (!opts.isStaticRequest) {\n        // Strip off the protocol+origin for same-origin + same-basename absolute\n        // redirects. If this is a static request, we can let it go back to the\n        // browser as-is\n        let currentUrl = new URL(request.url);\n        let url = location.startsWith(\"//\")\n          ? new URL(currentUrl.protocol + location)\n          : new URL(location);\n        let isSameBasename = stripBasename(url.pathname, basename) != null;\n        if (url.origin === currentUrl.origin && isSameBasename) {\n          location = url.pathname + url.search + url.hash;\n        }\n      }\n\n      // Don't process redirects in the router during static requests requests.\n      // Instead, throw the Response and let the server handle it with an HTTP\n      // redirect.  We also update the Location header in place in this flow so\n      // basename and relative routing is taken into account\n      if (opts.isStaticRequest) {\n        result.headers.set(\"Location\", location);\n        throw result;\n      }\n\n      return {\n        type: ResultType.redirect,\n        status,\n        location,\n        revalidate: result.headers.get(\"X-Remix-Revalidate\") !== null,\n        reloadDocument: result.headers.get(\"X-Remix-Reload-Document\") !== null,\n      };\n    }\n\n    // For SSR single-route requests, we want to hand Responses back directly\n    // without unwrapping.  We do this with the QueryRouteResponse wrapper\n    // interface so we can know whether it was returned or thrown\n    if (opts.isRouteRequest) {\n      let queryRouteResponse: QueryRouteResponse = {\n        type:\n          resultType === ResultType.error ? ResultType.error : ResultType.data,\n        response: result,\n      };\n      throw queryRouteResponse;\n    }\n\n    let data: any;\n    let contentType = result.headers.get(\"Content-Type\");\n    // Check between word boundaries instead of startsWith() due to the last\n    // paragraph of https://httpwg.org/specs/rfc9110.html#field.content-type\n    if (contentType && /\\bapplication\\/json\\b/.test(contentType)) {\n      data = await result.json();\n    } else {\n      data = await result.text();\n    }\n\n    if (resultType === ResultType.error) {\n      return {\n        type: resultType,\n        error: new ErrorResponse(status, result.statusText, data),\n        headers: result.headers,\n      };\n    }\n\n    return {\n      type: ResultType.data,\n      data,\n      statusCode: result.status,\n      headers: result.headers,\n    };\n  }\n\n  if (resultType === ResultType.error) {\n    return { type: resultType, error: result };\n  }\n\n  if (isDeferredData(result)) {\n    return {\n      type: ResultType.deferred,\n      deferredData: result,\n      statusCode: result.init?.status,\n      headers: result.init?.headers && new Headers(result.init.headers),\n    };\n  }\n\n  return { type: ResultType.data, data: result };\n}\n\n// Utility method for creating the Request instances for loaders/actions during\n// client-side navigations and fetches.  During SSR we will always have a\n// Request instance from the static handler (query/queryRoute)\nfunction createClientSideRequest(\n  history: History,\n  location: string | Location,\n  signal: AbortSignal,\n  submission?: Submission\n): Request {\n  let url = history.createURL(stripHashFromPath(location)).toString();\n  let init: RequestInit = { signal };\n\n  if (submission && isMutationMethod(submission.formMethod)) {\n    let { formMethod, formEncType } = submission;\n    // Didn't think we needed this but it turns out unlike other methods, patch\n    // won't be properly normalized to uppercase and results in a 405 error.\n    // See: https://fetch.spec.whatwg.org/#concept-method\n    init.method = formMethod.toUpperCase();\n\n    if (formEncType === \"application/json\") {\n      init.headers = new Headers({ \"Content-Type\": formEncType });\n      init.body = JSON.stringify(submission.json);\n    } else if (formEncType === \"text/plain\") {\n      // Content-Type is inferred (https://fetch.spec.whatwg.org/#dom-request)\n      init.body = submission.text;\n    } else if (\n      formEncType === \"application/x-www-form-urlencoded\" &&\n      submission.formData\n    ) {\n      // Content-Type is inferred (https://fetch.spec.whatwg.org/#dom-request)\n      init.body = convertFormDataToSearchParams(submission.formData);\n    } else {\n      // Content-Type is inferred (https://fetch.spec.whatwg.org/#dom-request)\n      init.body = submission.formData;\n    }\n  }\n\n  return new Request(url, init);\n}\n\nfunction convertFormDataToSearchParams(formData: FormData): URLSearchParams {\n  let searchParams = new URLSearchParams();\n\n  for (let [key, value] of formData.entries()) {\n    // https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#converting-an-entry-list-to-a-list-of-name-value-pairs\n    searchParams.append(key, typeof value === \"string\" ? value : value.name);\n  }\n\n  return searchParams;\n}\n\nfunction convertSearchParamsToFormData(\n  searchParams: URLSearchParams\n): FormData {\n  let formData = new FormData();\n  for (let [key, value] of searchParams.entries()) {\n    formData.append(key, value);\n  }\n  return formData;\n}\n\nfunction processRouteLoaderData(\n  matches: AgnosticDataRouteMatch[],\n  matchesToLoad: AgnosticDataRouteMatch[],\n  results: DataResult[],\n  pendingError: RouteData | undefined,\n  activeDeferreds: Map<string, DeferredData>\n): {\n  loaderData: RouterState[\"loaderData\"];\n  errors: RouterState[\"errors\"] | null;\n  statusCode: number;\n  loaderHeaders: Record<string, Headers>;\n} {\n  // Fill in loaderData/errors from our loaders\n  let loaderData: RouterState[\"loaderData\"] = {};\n  let errors: RouterState[\"errors\"] | null = null;\n  let statusCode: number | undefined;\n  let foundError = false;\n  let loaderHeaders: Record<string, Headers> = {};\n\n  // Process loader results into state.loaderData/state.errors\n  results.forEach((result, index) => {\n    let id = matchesToLoad[index].route.id;\n    invariant(\n      !isRedirectResult(result),\n      \"Cannot handle redirect results in processLoaderData\"\n    );\n    if (isErrorResult(result)) {\n      // Look upwards from the matched route for the closest ancestor\n      // error boundary, defaulting to the root match\n      let boundaryMatch = findNearestBoundary(matches, id);\n      let error = result.error;\n      // If we have a pending action error, we report it at the highest-route\n      // that throws a loader error, and then clear it out to indicate that\n      // it was consumed\n      if (pendingError) {\n        error = Object.values(pendingError)[0];\n        pendingError = undefined;\n      }\n\n      errors = errors || {};\n\n      // Prefer higher error values if lower errors bubble to the same boundary\n      if (errors[boundaryMatch.route.id] == null) {\n        errors[boundaryMatch.route.id] = error;\n      }\n\n      // Clear our any prior loaderData for the throwing route\n      loaderData[id] = undefined;\n\n      // Once we find our first (highest) error, we set the status code and\n      // prevent deeper status codes from overriding\n      if (!foundError) {\n        foundError = true;\n        statusCode = isRouteErrorResponse(result.error)\n          ? result.error.status\n          : 500;\n      }\n      if (result.headers) {\n        loaderHeaders[id] = result.headers;\n      }\n    } else {\n      if (isDeferredResult(result)) {\n        activeDeferreds.set(id, result.deferredData);\n        loaderData[id] = result.deferredData.data;\n      } else {\n        loaderData[id] = result.data;\n      }\n\n      // Error status codes always override success status codes, but if all\n      // loaders are successful we take the deepest status code.\n      if (\n        result.statusCode != null &&\n        result.statusCode !== 200 &&\n        !foundError\n      ) {\n        statusCode = result.statusCode;\n      }\n      if (result.headers) {\n        loaderHeaders[id] = result.headers;\n      }\n    }\n  });\n\n  // If we didn't consume the pending action error (i.e., all loaders\n  // resolved), then consume it here.  Also clear out any loaderData for the\n  // throwing route\n  if (pendingError) {\n    errors = pendingError;\n    loaderData[Object.keys(pendingError)[0]] = undefined;\n  }\n\n  return {\n    loaderData,\n    errors,\n    statusCode: statusCode || 200,\n    loaderHeaders,\n  };\n}\n\nfunction processLoaderData(\n  state: RouterState,\n  matches: AgnosticDataRouteMatch[],\n  matchesToLoad: AgnosticDataRouteMatch[],\n  results: DataResult[],\n  pendingError: RouteData | undefined,\n  revalidatingFetchers: RevalidatingFetcher[],\n  fetcherResults: DataResult[],\n  activeDeferreds: Map<string, DeferredData>\n): {\n  loaderData: RouterState[\"loaderData\"];\n  errors?: RouterState[\"errors\"];\n} {\n  let { loaderData, errors } = processRouteLoaderData(\n    matches,\n    matchesToLoad,\n    results,\n    pendingError,\n    activeDeferreds\n  );\n\n  // Process results from our revalidating fetchers\n  for (let index = 0; index < revalidatingFetchers.length; index++) {\n    let { key, match, controller } = revalidatingFetchers[index];\n    invariant(\n      fetcherResults !== undefined && fetcherResults[index] !== undefined,\n      \"Did not find corresponding fetcher result\"\n    );\n    let result = fetcherResults[index];\n\n    // Process fetcher non-redirect errors\n    if (controller && controller.signal.aborted) {\n      // Nothing to do for aborted fetchers\n      continue;\n    } else if (isErrorResult(result)) {\n      let boundaryMatch = findNearestBoundary(state.matches, match?.route.id);\n      if (!(errors && errors[boundaryMatch.route.id])) {\n        errors = {\n          ...errors,\n          [boundaryMatch.route.id]: result.error,\n        };\n      }\n      state.fetchers.delete(key);\n    } else if (isRedirectResult(result)) {\n      // Should never get here, redirects should get processed above, but we\n      // keep this to type narrow to a success result in the else\n      invariant(false, \"Unhandled fetcher revalidation redirect\");\n    } else if (isDeferredResult(result)) {\n      // Should never get here, deferred data should be awaited for fetchers\n      // in resolveDeferredResults\n      invariant(false, \"Unhandled fetcher deferred data\");\n    } else {\n      let doneFetcher = getDoneFetcher(result.data);\n      state.fetchers.set(key, doneFetcher);\n    }\n  }\n\n  return { loaderData, errors };\n}\n\nfunction mergeLoaderData(\n  loaderData: RouteData,\n  newLoaderData: RouteData,\n  matches: AgnosticDataRouteMatch[],\n  errors: RouteData | null | undefined\n): RouteData {\n  let mergedLoaderData = { ...newLoaderData };\n  for (let match of matches) {\n    let id = match.route.id;\n    if (newLoaderData.hasOwnProperty(id)) {\n      if (newLoaderData[id] !== undefined) {\n        mergedLoaderData[id] = newLoaderData[id];\n      } else {\n        // No-op - this is so we ignore existing data if we have a key in the\n        // incoming object with an undefined value, which is how we unset a prior\n        // loaderData if we encounter a loader error\n      }\n    } else if (loaderData[id] !== undefined && match.route.loader) {\n      // Preserve existing keys not included in newLoaderData and where a loader\n      // wasn't removed by HMR\n      mergedLoaderData[id] = loaderData[id];\n    }\n\n    if (errors && errors.hasOwnProperty(id)) {\n      // Don't keep any loader data below the boundary\n      break;\n    }\n  }\n  return mergedLoaderData;\n}\n\n// Find the nearest error boundary, looking upwards from the leaf route (or the\n// route specified by routeId) for the closest ancestor error boundary,\n// defaulting to the root match\nfunction findNearestBoundary(\n  matches: AgnosticDataRouteMatch[],\n  routeId?: string\n): AgnosticDataRouteMatch {\n  let eligibleMatches = routeId\n    ? matches.slice(0, matches.findIndex((m) => m.route.id === routeId) + 1)\n    : [...matches];\n  return (\n    eligibleMatches.reverse().find((m) => m.route.hasErrorBoundary === true) ||\n    matches[0]\n  );\n}\n\nfunction getShortCircuitMatches(routes: AgnosticDataRouteObject[]): {\n  matches: AgnosticDataRouteMatch[];\n  route: AgnosticDataRouteObject;\n} {\n  // Prefer a root layout route if present, otherwise shim in a route object\n  let route = routes.find((r) => r.index || !r.path || r.path === \"/\") || {\n    id: `__shim-error-route__`,\n  };\n\n  return {\n    matches: [\n      {\n        params: {},\n        pathname: \"\",\n        pathnameBase: \"\",\n        route,\n      },\n    ],\n    route,\n  };\n}\n\nfunction getInternalRouterError(\n  status: number,\n  {\n    pathname,\n    routeId,\n    method,\n    type,\n  }: {\n    pathname?: string;\n    routeId?: string;\n    method?: string;\n    type?: \"defer-action\" | \"invalid-body\";\n  } = {}\n) {\n  let statusText = \"Unknown Server Error\";\n  let errorMessage = \"Unknown @remix-run/router error\";\n\n  if (status === 400) {\n    statusText = \"Bad Request\";\n    if (method && pathname && routeId) {\n      errorMessage =\n        `You made a ${method} request to \"${pathname}\" but ` +\n        `did not provide a \\`loader\\` for route \"${routeId}\", ` +\n        `so there is no way to handle the request.`;\n    } else if (type === \"defer-action\") {\n      errorMessage = \"defer() is not supported in actions\";\n    } else if (type === \"invalid-body\") {\n      errorMessage = \"Unable to encode submission body\";\n    }\n  } else if (status === 403) {\n    statusText = \"Forbidden\";\n    errorMessage = `Route \"${routeId}\" does not match URL \"${pathname}\"`;\n  } else if (status === 404) {\n    statusText = \"Not Found\";\n    errorMessage = `No route matches URL \"${pathname}\"`;\n  } else if (status === 405) {\n    statusText = \"Method Not Allowed\";\n    if (method && pathname && routeId) {\n      errorMessage =\n        `You made a ${method.toUpperCase()} request to \"${pathname}\" but ` +\n        `did not provide an \\`action\\` for route \"${routeId}\", ` +\n        `so there is no way to handle the request.`;\n    } else if (method) {\n      errorMessage = `Invalid request method \"${method.toUpperCase()}\"`;\n    }\n  }\n\n  return new ErrorResponse(\n    status || 500,\n    statusText,\n    new Error(errorMessage),\n    true\n  );\n}\n\n// Find any returned redirect errors, starting from the lowest match\nfunction findRedirect(\n  results: DataResult[]\n): { result: RedirectResult; idx: number } | undefined {\n  for (let i = results.length - 1; i >= 0; i--) {\n    let result = results[i];\n    if (isRedirectResult(result)) {\n      return { result, idx: i };\n    }\n  }\n}\n\nfunction stripHashFromPath(path: To) {\n  let parsedPath = typeof path === \"string\" ? parsePath(path) : path;\n  return createPath({ ...parsedPath, hash: \"\" });\n}\n\nfunction isHashChangeOnly(a: Location, b: Location): boolean {\n  if (a.pathname !== b.pathname || a.search !== b.search) {\n    return false;\n  }\n\n  if (a.hash === \"\") {\n    // /page -> /page#hash\n    return b.hash !== \"\";\n  } else if (a.hash === b.hash) {\n    // /page#hash -> /page#hash\n    return true;\n  } else if (b.hash !== \"\") {\n    // /page#hash -> /page#other\n    return true;\n  }\n\n  // If the hash is removed the browser will re-perform a request to the server\n  // /page#hash -> /page\n  return false;\n}\n\nfunction isDeferredResult(result: DataResult): result is DeferredResult {\n  return result.type === ResultType.deferred;\n}\n\nfunction isErrorResult(result: DataResult): result is ErrorResult {\n  return result.type === ResultType.error;\n}\n\nfunction isRedirectResult(result?: DataResult): result is RedirectResult {\n  return (result && result.type) === ResultType.redirect;\n}\n\nexport function isDeferredData(value: any): value is DeferredData {\n  let deferred: DeferredData = value;\n  return (\n    deferred &&\n    typeof deferred === \"object\" &&\n    typeof deferred.data === \"object\" &&\n    typeof deferred.subscribe === \"function\" &&\n    typeof deferred.cancel === \"function\" &&\n    typeof deferred.resolveData === \"function\"\n  );\n}\n\nfunction isResponse(value: any): value is Response {\n  return (\n    value != null &&\n    typeof value.status === \"number\" &&\n    typeof value.statusText === \"string\" &&\n    typeof value.headers === \"object\" &&\n    typeof value.body !== \"undefined\"\n  );\n}\n\nfunction isRedirectResponse(result: any): result is Response {\n  if (!isResponse(result)) {\n    return false;\n  }\n\n  let status = result.status;\n  let location = result.headers.get(\"Location\");\n  return status >= 300 && status <= 399 && location != null;\n}\n\nfunction isQueryRouteResponse(obj: any): obj is QueryRouteResponse {\n  return (\n    obj &&\n    isResponse(obj.response) &&\n    (obj.type === ResultType.data || obj.type === ResultType.error)\n  );\n}\n\nfunction isValidMethod(method: string): method is FormMethod | V7_FormMethod {\n  return validRequestMethods.has(method.toLowerCase() as FormMethod);\n}\n\nfunction isMutationMethod(\n  method: string\n): method is MutationFormMethod | V7_MutationFormMethod {\n  return validMutationMethods.has(method.toLowerCase() as MutationFormMethod);\n}\n\nasync function resolveDeferredResults(\n  currentMatches: AgnosticDataRouteMatch[],\n  matchesToLoad: (AgnosticDataRouteMatch | null)[],\n  results: DataResult[],\n  signals: (AbortSignal | null)[],\n  isFetcher: boolean,\n  currentLoaderData?: RouteData\n) {\n  for (let index = 0; index < results.length; index++) {\n    let result = results[index];\n    let match = matchesToLoad[index];\n    // If we don't have a match, then we can have a deferred result to do\n    // anything with.  This is for revalidating fetchers where the route was\n    // removed during HMR\n    if (!match) {\n      continue;\n    }\n\n    let currentMatch = currentMatches.find(\n      (m) => m.route.id === match!.route.id\n    );\n    let isRevalidatingLoader =\n      currentMatch != null &&\n      !isNewRouteInstance(currentMatch, match) &&\n      (currentLoaderData && currentLoaderData[match.route.id]) !== undefined;\n\n    if (isDeferredResult(result) && (isFetcher || isRevalidatingLoader)) {\n      // Note: we do not have to touch activeDeferreds here since we race them\n      // against the signal in resolveDeferredData and they'll get aborted\n      // there if needed\n      let signal = signals[index];\n      invariant(\n        signal,\n        \"Expected an AbortSignal for revalidating fetcher deferred result\"\n      );\n      await resolveDeferredData(result, signal, isFetcher).then((result) => {\n        if (result) {\n          results[index] = result || results[index];\n        }\n      });\n    }\n  }\n}\n\nasync function resolveDeferredData(\n  result: DeferredResult,\n  signal: AbortSignal,\n  unwrap = false\n): Promise<SuccessResult | ErrorResult | undefined> {\n  let aborted = await result.deferredData.resolveData(signal);\n  if (aborted) {\n    return;\n  }\n\n  if (unwrap) {\n    try {\n      return {\n        type: ResultType.data,\n        data: result.deferredData.unwrappedData,\n      };\n    } catch (e) {\n      // Handle any TrackedPromise._error values encountered while unwrapping\n      return {\n        type: ResultType.error,\n        error: e,\n      };\n    }\n  }\n\n  return {\n    type: ResultType.data,\n    data: result.deferredData.data,\n  };\n}\n\nfunction hasNakedIndexQuery(search: string): boolean {\n  return new URLSearchParams(search).getAll(\"index\").some((v) => v === \"\");\n}\n\n// Note: This should match the format exported by useMatches, so if you change\n// this please also change that :)  Eventually we'll DRY this up\nfunction createUseMatchesMatch(\n  match: AgnosticDataRouteMatch,\n  loaderData: RouteData\n): UseMatchesMatch {\n  let { route, pathname, params } = match;\n  return {\n    id: route.id,\n    pathname,\n    params,\n    data: loaderData[route.id] as unknown,\n    handle: route.handle as unknown,\n  };\n}\n\nfunction getTargetMatch(\n  matches: AgnosticDataRouteMatch[],\n  location: Location | string\n) {\n  let search =\n    typeof location === \"string\" ? parsePath(location).search : location.search;\n  if (\n    matches[matches.length - 1].route.index &&\n    hasNakedIndexQuery(search || \"\")\n  ) {\n    // Return the leaf index route when index is present\n    return matches[matches.length - 1];\n  }\n  // Otherwise grab the deepest \"path contributing\" match (ignoring index and\n  // pathless layout routes)\n  let pathMatches = getPathContributingMatches(matches);\n  return pathMatches[pathMatches.length - 1];\n}\n\nfunction getSubmissionFromNavigation(\n  navigation: Navigation\n): Submission | undefined {\n  let { formMethod, formAction, formEncType, text, formData, json } =\n    navigation;\n  if (!formMethod || !formAction || !formEncType) {\n    return;\n  }\n\n  if (text != null) {\n    return {\n      formMethod,\n      formAction,\n      formEncType,\n      formData: undefined,\n      json: undefined,\n      text,\n    };\n  } else if (formData != null) {\n    return {\n      formMethod,\n      formAction,\n      formEncType,\n      formData,\n      json: undefined,\n      text: undefined,\n    };\n  } else if (json !== undefined) {\n    return {\n      formMethod,\n      formAction,\n      formEncType,\n      formData: undefined,\n      json,\n      text: undefined,\n    };\n  }\n}\n\nfunction getLoadingNavigation(\n  location: Location,\n  submission?: Submission\n): NavigationStates[\"Loading\"] {\n  if (submission) {\n    let navigation: NavigationStates[\"Loading\"] = {\n      state: \"loading\",\n      location,\n      formMethod: submission.formMethod,\n      formAction: submission.formAction,\n      formEncType: submission.formEncType,\n      formData: submission.formData,\n      json: submission.json,\n      text: submission.text,\n    };\n    return navigation;\n  } else {\n    let navigation: NavigationStates[\"Loading\"] = {\n      state: \"loading\",\n      location,\n      formMethod: undefined,\n      formAction: undefined,\n      formEncType: undefined,\n      formData: undefined,\n      json: undefined,\n      text: undefined,\n    };\n    return navigation;\n  }\n}\n\nfunction getSubmittingNavigation(\n  location: Location,\n  submission: Submission\n): NavigationStates[\"Submitting\"] {\n  let navigation: NavigationStates[\"Submitting\"] = {\n    state: \"submitting\",\n    location,\n    formMethod: submission.formMethod,\n    formAction: submission.formAction,\n    formEncType: submission.formEncType,\n    formData: submission.formData,\n    json: submission.json,\n    text: submission.text,\n  };\n  return navigation;\n}\n\nfunction getLoadingFetcher(\n  submission?: Submission,\n  data?: Fetcher[\"data\"]\n): FetcherStates[\"Loading\"] {\n  if (submission) {\n    let fetcher: FetcherStates[\"Loading\"] = {\n      state: \"loading\",\n      formMethod: submission.formMethod,\n      formAction: submission.formAction,\n      formEncType: submission.formEncType,\n      formData: submission.formData,\n      json: submission.json,\n      text: submission.text,\n      data,\n      \" _hasFetcherDoneAnything \": true,\n    };\n    return fetcher;\n  } else {\n    let fetcher: FetcherStates[\"Loading\"] = {\n      state: \"loading\",\n      formMethod: undefined,\n      formAction: undefined,\n      formEncType: undefined,\n      formData: undefined,\n      json: undefined,\n      text: undefined,\n      data,\n      \" _hasFetcherDoneAnything \": true,\n    };\n    return fetcher;\n  }\n}\n\nfunction getSubmittingFetcher(\n  submission: Submission,\n  existingFetcher?: Fetcher\n): FetcherStates[\"Submitting\"] {\n  let fetcher: FetcherStates[\"Submitting\"] = {\n    state: \"submitting\",\n    formMethod: submission.formMethod,\n    formAction: submission.formAction,\n    formEncType: submission.formEncType,\n    formData: submission.formData,\n    json: submission.json,\n    text: submission.text,\n    data: existingFetcher ? existingFetcher.data : undefined,\n    \" _hasFetcherDoneAnything \": true,\n  };\n  return fetcher;\n}\n\nfunction getDoneFetcher(data: Fetcher[\"data\"]): FetcherStates[\"Idle\"] {\n  let fetcher: FetcherStates[\"Idle\"] = {\n    state: \"idle\",\n    formMethod: undefined,\n    formAction: undefined,\n    formEncType: undefined,\n    formData: undefined,\n    json: undefined,\n    text: undefined,\n    data,\n    \" _hasFetcherDoneAnything \": true,\n  };\n  return fetcher;\n}\n//#endregion\n","module.exports = require('./helpers/bundle-url').getBundleURL('88FtB') + require('./helpers/bundle-manifest').resolve(\"051d2\");","import { h } from \"preact\";\nimport { alert, storage, http, router } from \"/src/core\";\nimport { useTranslation } from \"react-i18next\";\nimport { useNavigate } from \"react-router-dom\";\n\nexport default function PasswordReset() {\n\n  const { t } = useTranslation();\n  const navigate = useNavigate();\n\n  const sendNewPassword = e => {\n    e.preventDefault();\n    storage.set(\"apiKey\", \"\");\n    const password = document.getElementById(\"password\").value || \"\";\n    const passwordConfirmation = document.getElementById(\"password_confirmation\").value || \"\";\n    const mail = router.getParam(\"mail\");\n    const key = router.getParam(\"key\");\n    if (mail && password) {\n      if (password != passwordConfirmation) {\n        alert.add(t(\"passwords_dont_match\"));\n        return;\n      }\n      http\n        .post(\"/api/new-password\", { mail, key, password })\n        .then(res => {\n          if (res.api_key) {\n            storage.set(\"apiKey\", res.api_key);\n            setTimeout(() => navigate(\"/\"), 100);\n          } else {\n            alert.add(t(res.message));\n          }\n        })\n        .catch(res => console.warn(res));\n    }\n  };\n\n  return (\n    <div class=\"login\">\n      <div class=\"login-form\">\n        <h2 class=\"title\">{t(\"reset_password_title\")}</h2>\n        <form>\n          <div class=\"form-group\">\n            <input\n              type=\"password\"\n              class=\"form-control\"\n              required\n              id=\"password\"\n              placeholder={t(\"new_password_placeholder\")}\n            />\n          </div>\n          <div class=\"form-group\">\n            <input\n              type=\"password\"\n              class=\"form-control\"\n              required\n              id=\"password_confirmation\"\n              placeholder={t(\"confirm_password_placeholder\")}\n            />\n          </div>\n          <button\n            type=\"submit\"\n            class=\"btn btn-light\"\n            onClick={e => sendNewPassword(e)}\n          >\n            {t(\"submit\")}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n","import { h } from \"preact\";\nimport { alert, storage, http, router } from \"/src/core\";\nimport { useTranslation } from \"react-i18next\";\nimport { useNavigate } from \"react-router-dom\";\n\nexport default function Signup() {\n\n  const navigate = useNavigate();\n  const { t } = useTranslation();\n\n  const sendSignupForm = e => {\n    e.preventDefault();\n    let login = document.getElementById(\"login\").value || \"\";\n    login.toLowerCase();\n    const password = document.getElementById(\"password\").value;\n    storage.set(\"apiKey\", \"\");\n    http\n      .post(\"/api/signup\", {\n        login,\n        password,\n        invite_key: router.getParam(\"inviteKey\")\n      })\n      .then(res => {\n        if (res && !res.message) {\n          storage.set(\"apiKey\", res.api_key);\n          setTimeout(() => navigate(\"/\"), 100);\n        } else {\n          alert.add(t(res.message));\n        }\n      });\n  };\n\n  return (\n    <div class=\"signup\">\n      <div class=\"signup-form\">\n        <img src={new URL(\"/src/assets/zusam_logo.svg\", import.meta.url)} />\n        <div class=\"welcome lead\">{t(\"invitation_welcome\")}</div>\n        <form>\n          <div class=\"form-group\">\n            <input\n              type=\"email\"\n              class=\"form-control\"\n              required\n              id=\"login\"\n              placeholder={t(\"login_placeholder\")}\n            />\n          </div>\n          <div class=\"form-group\">\n            <input\n              type=\"password\"\n              class=\"form-control\"\n              required\n              id=\"password\"\n              placeholder={t(\"password_placeholder\")}\n            />\n          </div>\n          <button\n            type=\"submit\"\n            class=\"btn btn-light\"\n            onClick={e => sendSignupForm(e)}\n          >\n            {t(\"signup\")}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n","import { h, Component } from \"preact\";\nimport { http } from \"/src/core\";\nimport { withTranslation } from \"react-i18next\";\n\nclass StopNotificationEmails extends Component {\n  constructor() {\n    super();\n    http\n      .get(`/api${  window.location.pathname}`)\n      .then(() => {\n        this.setState({ message: this.props.t(\"notification_emails_stopped\") });\n      })\n      .catch(err => {\n        console.warn(err);\n        this.setState({ message: this.props.t(\"error\") });\n      });\n  }\n\n  render() {\n    return <div>{this.state.message || \"\"}</div>;\n  }\n}\n\nexport default withTranslation()(StopNotificationEmails);\n","import { h } from \"preact\";\nimport { Message } from \"/src/message\";\nimport { useParams } from \"react-router-dom\";\n\nexport default function Public() {\n  let params = useParams();\n\n  return (\n    <article class=\"justify-content-center d-flex mt-2\">\n      <div class=\"container\">\n        <main>\n          <div class=\"content\">\n            <article class=\"mb-3 justify-content-center d-flex\">\n              <div class=\"container pb-3\">\n                <Message\n                  focus={false}\n                  isPublic={true}\n                  isChild={false}\n                  token={params.token}\n                />\n              </div>\n            </article>\n          </div>\n        </main>\n      </div>\n    </article>\n  );\n}\n","import _Message from \"./message.component.js\";\nimport _MessageBody from \"./message-body.component.js\";\nimport _MessageBreadcrumbs from \"./message-breadcrumbs.component.js\";\nimport _MessageChild from \"./message-child.component.js\";\nimport _MessageChildren from \"./message-children.component.js\";\nimport _MessageFooter from \"./message-footer.component.js\";\nimport _MessageHead from \"./message-head.component.js\";\nimport _MessageList from \"./message-list.component.js\";\nimport _MessageParent from \"./message-parent.component.js\";\nimport _MessagePreview from \"./message-preview.component.js\";\nimport _MessageSearchResult from \"./message-search-result.component.js\";\n\nexport const Message = _Message;\nexport const MessageBody = _MessageBody;\nexport const MessageBreadcrumbs = _MessageBreadcrumbs;\nexport const MessageChild = _MessageChild;\nexport const MessageChildren = _MessageChildren;\nexport const MessageFooter = _MessageFooter;\nexport const MessageHead = _MessageHead;\nexport const MessageList = _MessageList;\nexport const MessageParent = _MessageParent;\nexport const MessagePreview = _MessagePreview;\nexport const MessageSearchResult = _MessageSearchResult;\n","import { h, Fragment } from \"preact\";\nimport { http, router, util, notifications } from \"/src/core\";\nimport MessageChildren from \"./message-children.component.js\";\nimport MessageHead from \"./message-head.component.js\";\nimport MessageFooter from \"./message-footer.component.js\";\nimport MessageBody from \"./message-body.component.js\";\nimport MessageBreadcrumbs from \"./message-breadcrumbs.component.js\";\nimport { Writer } from \"/src/writer\";\nimport { useEffect, useState, useRef, useReducer } from \"preact/hooks\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\nimport { useStoreon } from \"storeon/preact\";\n\nexport default function Message(props) {\n\n  const navigate = useNavigate();\n  const { t } = useTranslation();\n  const { me } = useStoreon(\"me\");\n  const [author, setAuthor] = useState(null);\n  const [parent, setParent] = useState(null);\n  const [files, setFiles] = useState(null);\n  const [isRemoved, setIsRemoved] = useState(false);\n  const [edit, setEdit] = useState(false);\n\n  const [message, setMessage] = useState(null);\n  const messageRef = useRef(message);\n  const setMessageRef = message => {\n    messageRef.current = message;\n    setMessage(message);\n  };\n\n  const [, forceUpdate] = useReducer(x => x + 1, 0);\n\n  useEffect(() => {\n    window.addEventListener(\"newChild\", onNewChild);\n    window.addEventListener(\"editMessage\", onEditMessage);\n    loadMessage();\n    notifications.markAsRead(props.id);\n\n    if (!props.isChild) {\n      setTimeout(() => window.scrollTo(0, 0));\n    }\n\n    setTimeout(() => {\n      if (props.id == router.action) {\n        const msgElement = document.getElementById(props.id);\n        if (msgElement) {\n          msgElement.scrollIntoView({ block: \"start\", behavior: \"smooth\" });\n          setTimeout(() => msgElement.classList.remove(\"highlight\"), 1000);\n        }\n      }\n    }, 1000);\n  }, []);\n\n  const hydrateMessage = m => {\n    setMessageRef(m);\n    if (m?.author?.id) {\n      http.get(`/api/users/${m.author.id}`).then(u => {\n        setAuthor(u);\n      });\n    }\n    if (m?.parent?.id) {\n      http.get(`/api/messages/${m.parent.id}`).then(p => {\n        setParent(p);\n      });\n    }\n    // delay loading of files a little bit\n    setTimeout(() => {\n      if (m?.files?.length) {\n        Promise.all(m.files.map(f => http.get(`/api/files/${f.id}`).then(f => f))).then(\n          files => setFiles(files)\n        );\n      }\n    }, 100);\n  };\n\n  const loadMessage = () => {\n    if (props?.message) {\n      if (props?.files?.length) {\n        setFiles(props?.message?.files.map(f => ({id: f.id, status: \"loading\"})));\n      }\n      hydrateMessage(props.message);\n    } else if (props?.token) {\n      http.get(`/api/public/${props.token}`).then(m => {\n        if (m?.files?.length) {\n          setFiles(m?.files.map(f => ({id: f.id, status: \"loading\"})));\n        }\n        hydrateMessage(m);\n      });\n    } else {\n      http.get(`/api/messages/${props.id}`).then(m => {\n        if (m?.files?.length) {\n          setFiles(m?.files.map(f => ({id: f.id, status: \"loading\"})));\n        }\n        hydrateMessage(m);\n      });\n    }\n  };\n\n  const onNewChild = event => {\n    if (!messageRef.current?.id) {\n      return;\n    }\n    const newMsg = event.detail;\n    if (newMsg?.parent && util.getId(newMsg?.parent) == props.id) {\n      newMsg.author = me;\n      let newChildren = messageRef?.current?.children ? [...messageRef.current.children, newMsg] : [newMsg];\n      let newRef = Object.assign(\n        messageRef.current,\n        {\n          children: newChildren\n        },\n      );\n      setMessageRef(newRef);\n      forceUpdate();\n    }\n  };\n\n  const openPublicLink = async event => {\n    event.preventDefault();\n    let newTab = window.open(\"about:blank\", \"_blank\");\n    const res = await http.get(\n      `/api/messages/${props.id}/get-public-link`\n    );\n    newTab.location = `${document.baseURI}public/${res.token}`;\n  };\n\n  const onEditMessage = event => {\n    if (event.detail.id == props.id) {\n      setEdit(false);\n      hydrateMessage(event.detail);\n      props.key = +Date.now();\n    }\n  };\n\n  const getComponentClass = () => {\n    let cn = \"message\";\n    if (props.isChild) {\n      cn += \" child\";\n    }\n    if (props.id == router.action) {\n      cn += \" highlight\";\n    }\n    return cn;\n  };\n\n  const deleteMessage = event => {\n    event.preventDefault();\n    if (confirm(t(\"ask_delete_message\"))) {\n      http.delete(`/api/messages/${props.id}`).then(() => {\n        if (props.isChild) {\n          setIsRemoved(true);\n        } else {\n          navigate(`/groups/${message.group.id}`);\n        }\n      });\n    }\n  };\n\n  const shareMessage = event => {\n    event.preventDefault();\n    navigate(`/share?message=${props.id}`);\n  };\n\n  const editMessage = event => {\n    event.preventDefault();\n    setEdit(true);\n  };\n\n  const publishInGroup = () => {\n    http\n      .put(`/api/messages/${props.id}`, {\n        lastActivityDate: Math.floor(Date.now() / 1000),\n        isInFront: true\n      })\n      .then(res => {\n        if (!res) {\n          alert.add(t(\"error\"), \"alert-danger\");\n          return;\n        }\n        navigate(`/groups/${message.group.id}`);\n      });\n  };\n\n  const cancelEdit = event => {\n    event.preventDefault();\n    setEdit(false);\n  };\n\n  const displayWriter = (isChild, focus) => {\n    return (\n      <Writer\n        cancel={edit ? cancelEdit : null}\n        files={edit ? files : []}\n        focus={focus || !!edit}\n        group={message.group}\n        messageId={edit ? props.id : null}\n        parent={\n          edit ? parent?.id : props.id\n        }\n        text={edit ? message.data[\"text\"] : \"\"}\n        title={edit ? message.data[\"title\"] : \"\"}\n        isChild={isChild}\n      />\n    );\n  };\n\n  if (isRemoved || !message) {\n    // placeholder (to be able to target it)\n    return (\n      <div id={props.id} className=\"message\" />\n    );\n  }\n\n  return (\n    <Fragment>\n      {!props?.isChild && !props?.isPublic && (\n        <MessageBreadcrumbs key={message?.id} message={message} />\n      )}\n      <div id={props.id} className={getComponentClass()}>\n        {edit && displayWriter(props?.isChild)}\n        {!edit && (\n          <Fragment>\n            {props.isChild && !props.isPublic && edit && (\n              <div class=\"message-head d-none d-md-block\">\n                <img\n                  class=\"rounded-circle w-3 material-shadow avatar\"\n                  style={util.backgroundHash(me.id)}\n                  src={\n                    me.avatar\n                      ? util.crop(me.avatar?.id, 100, 100)\n                      : util.defaultAvatar\n                  }\n                />\n              </div>\n            )}\n            <MessageHead\n              author={author}\n              message={message}\n              isPublic={props?.isPublic}\n              isChild={props?.isChild}\n            />\n            <div class=\"main\">\n              <MessageBody\n                message={message}\n                files={files || []}\n                isPublic={props?.isPublic}\n                isChild={props?.isChild}\n              />\n              <MessageFooter\n                author={author}\n                message={message}\n                editMessage={editMessage}\n                deleteMessage={deleteMessage}\n                shareMessage={shareMessage}\n                publishInGroup={publishInGroup}\n                openPublicLink={openPublicLink}\n                isPublic={props?.isPublic}\n                isChild={props?.isChild}\n              />\n            </div>\n          </Fragment>\n        )}\n      </div>\n      {props?.postMessageComponent}\n      {!props?.isChild && !props?.isPublic && (\n        <MessageChildren\n          childMessages={message?.children}\n          key={props.id}\n          id={props.id}\n        />\n      )}\n      {!edit && !props?.isPublic && !props?.isChild && (\n        <div class=\"message child mt-2\">\n          {me?.id && (\n            <div class=\"message-head d-none d-md-block\">\n              <img\n                class=\"rounded-circle w-3 material-shadow avatar\"\n                style={util.backgroundHash(me.id)}\n                src={\n                  me?.avatar\n                    ? util.crop(me.avatar[\"id\"], 100, 100)\n                    : util.defaultAvatar\n                }\n              />\n            </div>\n          )}\n          {displayWriter(true, props.focus)}\n        </div>\n      )}\n    </Fragment>\n  );\n}\n","import { h } from \"preact\";\nimport { router, util } from \"/src/core\";\nimport MessageChild from \"./message-child.component.js\";\nimport { useEffect, useState } from \"preact/hooks\";\nimport { useTranslation } from \"react-i18next\";\n\nexport default function MessageChildren(props) {\n\n  const { t } = useTranslation();\n  const [firstDisplayedChild, setFirstDisplayedChild] = useState(0);\n  const [lastDisplayedChild, setLastDisplayedChild] = useState(0);\n\n  const onNewChild = event => {\n    const newMsg = event.detail;\n    if (newMsg.parent && util.getId(newMsg.parent) == props.id) {\n      // a big number to display all children until the new one. This is not elegant...\n      // The issue is that we can't simply increment lastDisplayedChild as it is not defined here\n      // Another issue is that a user could load a comment in the middle of the list and create a new one...\n      // The real answer is to make a paginated list but that is for another time\n      setLastDisplayedChild(1024);\n    }\n  };\n\n  const displayPreviousChildren = () => {\n    setFirstDisplayedChild(Math.max(0, firstDisplayedChild - 10));\n  };\n\n  const displayNextChildren = () => {\n    setLastDisplayedChild(Math.min(props.childMessages.length, lastDisplayedChild + 10));\n  };\n\n  useEffect(() => {\n    window.addEventListener(\"newChild\", onNewChild);\n    let firstDisplayedChild = 0;\n    let lastDisplayedChild = 0;\n    if (props.childMessages.length) {\n      let msgIndex = router.action\n        ? props.childMessages.findIndex(e => e && e.id === router.action)\n        : -1;\n      if (msgIndex != -1) {\n        firstDisplayedChild = Math.max(0, msgIndex - 1);\n        lastDisplayedChild = Math.min(\n          props.childMessages.length,\n          msgIndex + 1\n        );\n      } else {\n        firstDisplayedChild = props.childMessages && props.childMessages.length - 5; // display the last 5 children\n        lastDisplayedChild = props.childMessages && props.childMessages.length;\n      }\n    }\n    setFirstDisplayedChild(firstDisplayedChild);\n    setLastDisplayedChild(lastDisplayedChild);\n  }, []);\n\n  if (\n    lastDisplayedChild - firstDisplayedChild < 1 ||\n    !props.childMessages\n  ) {\n    return null;\n  }\n  return (\n    <div class=\"children\">\n      {firstDisplayedChild > 0 && (\n        <div class=\"d-flex\">\n          <a\n            class=\"more-coms unselectable\"\n            onClick={() => displayPreviousChildren()}\n          >\n            {t(\"previous_coms\")}\n          </a>\n        </div>\n      )}\n      {props.childMessages.map((e, i) => {\n        if (\n          i < firstDisplayedChild ||\n          i > lastDisplayedChild\n        ) {\n          return null;\n        }\n\n        return (\n          <MessageChild\n            id={e.id}\n            key={e.id}\n          />\n        );\n      })}\n      {lastDisplayedChild + 1 <\n        props.childMessages.length && (\n        <div class=\"d-flex\">\n          <span\n            class=\"more-coms unselectable\"\n            onClick={() => displayNextChildren()}\n          >\n            {t(\"next_coms\")}\n          </span>\n        </div>\n      )}\n    </div>\n  );\n}\n","import { h } from \"preact\";\nimport Message from \"./message.component.js\";\n\nexport default function MessageChild(props) {\n  return (\n    <Message\n      id={props.id}\n      isChild={true}\n    />\n  );\n}\n","import { h } from \"preact\";\nimport { util } from \"/src/core\";\n\nexport default function MessageHead(props) {\n  return (\n    <div class=\"message-head d-flex\">\n      {!props.isPublic && (\n        <div>\n          <img\n            className={\n              `rounded-circle material-shadow avatar${ \n                props.author && props.author.name ? \"\" : \" removed-user\"}`\n            }\n            style={util.backgroundHash(\n              props.author && props.author.name ? props.author && props.author.id : \"\"\n            )}\n            src={\n              props.author && props.author.avatar\n                ? util.crop(props.author.avatar.id, 100, 100)\n                : util.defaultAvatar\n            }\n            title={props.author && props.author.name ? props.author.name : \"\"}\n          />\n        </div>\n      )}\n      {!props.isChild && !props.isPublic && (\n        <div class=\"infos\">\n          <span class=\"capitalize author\">\n            {props.author && props.author.name ? props.author.name : \"\"}\n          </span>\n        </div>\n      )}\n    </div>\n  );\n}\n","import { h, Fragment } from \"preact\";\nimport { util, me, notifications, alert } from \"/src/core\";\nimport { Link } from \"react-router-dom\";\nimport { FaIcon } from \"/src/misc\";\nimport { useTranslation } from \"react-i18next\";\nimport { HumanTime } from \"/src/pages\";\nimport { useStoreon } from \"storeon/preact\";\nimport store from \"/src/store\";\n\nexport default function MessageFooter(props) {\n\n  const { t } = useTranslation();\n  const { bookmarks } = useStoreon(\"bookmarks\");\n\n  return (\n    <div class=\"message-footer\">\n      <div class=\"infos\">\n        {!props?.isPublic && props?.author && props?.author?.id === me.id && (\n          <Fragment>\n            <a\n              class=\"action seamless-link font-size-90 capitalize d-none d-sm-block\"\n              onClick={e => props.editMessage(e)}\n            >\n              {t(\"edit\")}\n            </a>\n            <div class=\"dot d-none d-sm-block\">&bull;</div>\n          </Fragment>\n        )}\n        {!props?.isPublic && props?.isChild && props?.message && (\n          <Fragment>\n            <Link\n              class=\"action seamless-link font-size-90 capitalize\"\n              to={\n                `/messages/${props?.message.id}${props?.message?.children.length ? \"\" : \"?focus=reply\"}`\n              }\n            >\n              {props?.message?.children.length ? (\n                props.message.children.some(e => notifications.isNew(e.id)) ? (\n                  <b>\n                    {t(\"replies\", {\n                      count: props.message.children.length\n                    })}\n                  </b>\n                ) : (\n                  t(\"replies\", {\n                    count: props.message.children.length\n                  })\n                )\n              ) : (\n                t(\"reply\")\n              )}\n            </Link>\n            <div class=\"dot\">&bull;</div>\n          </Fragment>\n        )}\n        <div\n          class=\"date font-size-90\"\n          title={util.humanFullDate(props?.message.createdAt)}\n        >\n          <HumanTime timestamp={props?.message.createdAt} />\n        </div>\n        <Fragment>\n          <div class=\"dot\">&bull;</div>\n          <div class=\"font-size-90\">\n            {\n              props?.author && props?.author?.name ? props.author.name : \"--\"\n            }\n          </div>\n        </Fragment>\n      </div>\n      <div>\n        {!props?.isPublic && (\n          <div\n            class=\"options dropdown\"\n            onClick={e =>\n              e?.target?.closest(\".dropdown\")?.classList.toggle(\"active\")\n            }\n          >\n            <div class=\"none-if-follows-empty\">\n              <FaIcon family=\"solid\" icon=\"ellipsis-h\" />\n            </div>\n            <div class=\"dropdown-menu dropdown-options\">\n              {props?.author && props?.author?.id === me.id && (\n                <a\n                  class=\"seamless-link capitalize\"\n                  onClick={e => props.deleteMessage(e)}\n                >\n                  {t(\"delete\")}\n                </a>\n              )}\n              {\n                <a\n                  class=\"seamless-link capitalize\"\n                  onClick={e => props.openPublicLink(e)}\n                >\n                  {t(\"public_link\")}\n                </a>\n              }\n              {me.groups?.length > 1 && (\n                <a\n                  class=\"seamless-link capitalize\"\n                  onClick={e => props.shareMessage(e)}\n                >\n                  {t(\"share_message\")}\n                </a>\n              )}\n              {!props?.message?.isInFront &&\n                  props?.author &&\n                  props?.author.id == me.id && (\n                <a\n                  class=\"seamless-link capitalize\"\n                  onClick={e => props.publishInGroup(e)}\n                >\n                  {t(\"publish_in_group\")}\n                </a>\n              )}\n              {!bookmarks.some(b => b.message.id === props?.message.id) && (\n                <a\n                  class=\"seamless-link capitalize\"\n                  onClick={() => {\n                    alert.add(t(\"bookmark_added\"));\n                    store.dispatch(\"bookmark/add\", props.message.id);\n                  }}\n                >\n                  {t(\"add_bookmark\")}\n                </a>\n              )}\n              {bookmarks.some(b => b.message.id === props?.message.id) && (\n                <a\n                  class=\"seamless-link capitalize\"\n                  onClick={() => {\n                    alert.add(t(\"bookmark_removed\"));\n                    store.dispatch(\"bookmark/remove\", bookmarks.find(b => b.message.id === props.message.id));\n                  }}\n                >\n                  {t(\"remove_bookmark\")}\n                </a>\n              )}\n              {props?.author?.id == me.id && (\n                <a\n                  class=\"seamless-link capitalize\"\n                  onClick={e => props.editMessage(e)}\n                >\n                  {t(\"edit\")}\n                </a>\n              )}\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","import _FaIcon from \"./fa-icon.component.js\";\n\nexport const FaIcon = _FaIcon;\n","import { h } from \"preact\";\n\n// Fontawesome icons taken from https://raw.githubusercontent.com/FortAwesome/Font-Awesome/master/js/all.js\nfunction FaIcon() {\n  const icons = {\n    regular: {\n      comment: [512, 512, [], \"f075\", \"M256 32C114.6 32 0 125.1 0 240c0 47.6 19.9 91.2 52.9 126.3C38 405.7 7 439.1 6.5 439.5c-6.6 7-8.4 17.2-4.6 26S14.4 480 24 480c61.5 0 110-25.7 139.1-46.3C192 442.8 223.2 448 256 448c141.4 0 256-93.1 256-208S397.4 32 256 32zm0 368c-26.7 0-53.1-4.1-78.4-12.1l-22.7-7.2-19.5 13.8c-14.3 10.1-33.9 21.4-57.5 29 7.3-12.1 14.4-25.7 19.9-40.2l10.6-28.1-20.6-21.8C69.7 314.1 48 282.2 48 240c0-88.2 93.3-160 208-160s208 71.8 208 160-93.3 160-208 160z\"],\n      bookmark: [384, 512, [], \"f02e\", \"M336 0H48C21.49 0 0 21.49 0 48v464l192-112 192 112V48c0-26.51-21.49-48-48-48zm0 428.43l-144-84-144 84V54a6 6 0 0 1 6-6h276c3.314 0 6 2.683 6 5.996V428.43z\"],\n      images: [ 576, 512, [], \"f302\", \"M480 416v16c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V176c0-26.51 21.49-48 48-48h16v48H54a6 6 0 0 0-6 6v244a6 6 0 0 0 6 6h372a6 6 0 0 0 6-6v-10h48zm42-336H150a6 6 0 0 0-6 6v244a6 6 0 0 0 6 6h372a6 6 0 0 0 6-6V86a6 6 0 0 0-6-6zm6-48c26.51 0 48 21.49 48 48v256c0 26.51-21.49 48-48 48H144c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h384zM264 144c0 22.091-17.909 40-40 40s-40-17.909-40-40 17.909-40 40-40 40 17.909 40 40zm-72 96l39.515-39.515c4.686-4.686 12.284-4.686 16.971 0L288 240l103.515-103.515c4.686-4.686 12.284-4.686 16.971 0L480 208v80H192v-48z\"],\n      \"check-circle\": [512, 512, [], \"f058\", \"M256 8C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm0 48c110.532 0 200 89.451 200 200 0 110.532-89.451 200-200 200-110.532 0-200-89.451-200-200 0-110.532 89.451-200 200-200m140.204 130.267l-22.536-22.718c-4.667-4.705-12.265-4.736-16.97-.068L215.346 303.697l-59.792-60.277c-4.667-4.705-12.265-4.736-16.97-.069l-22.719 22.536c-4.705 4.667-4.736 12.265-.068 16.971l90.781 91.516c4.667 4.705 12.265 4.736 16.97.068l172.589-171.204c4.704-4.668 4.734-12.266.067-16.971z\"],\n      \"file-pdf\": [384, 512, [], \"f1c1\", \"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm250.2-143.7c-12.2-12-47-8.7-64.4-6.5-17.2-10.5-28.7-25-36.8-46.3 3.9-16.1 10.1-40.6 5.4-56-4.2-26.2-37.8-23.6-42.6-5.9-4.4 16.1-.4 38.5 7 67.1-10 23.9-24.9 56-35.4 74.4-20 10.3-47 26.2-51 46.2-3.3 15.8 26 55.2 76.1-31.2 22.4-7.4 46.8-16.5 68.4-20.1 18.9 10.2 41 17 55.8 17 25.5 0 28-28.2 17.5-38.7zm-198.1 77.8c5.1-13.7 24.5-29.5 30.4-35-19 30.3-30.4 35.7-30.4 35zm81.6-190.6c7.4 0 6.7 32.1 1.8 40.8-4.4-13.9-4.3-40.8-1.8-40.8zm-24.4 136.6c9.7-16.9 18-37 24.7-54.7 8.3 15.1 18.9 27.2 30.1 35.5-20.8 4.3-38.9 13.1-54.8 19.2zm131.6-5s-5 6-37.3-7.8c35.1-2.6 40.9 5.4 37.3 7.8z\"],\n      bell: [448, 512, [], \"f0f3\", \"M439.39 362.29c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71zM67.53 368c21.22-27.97 44.42-74.33 44.53-159.42 0-.2-.06-.38-.06-.58 0-61.86 50.14-112 112-112s112 50.14 112 112c0 .2-.06.38-.06.58.11 85.1 23.31 131.46 44.53 159.42H67.53zM224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64z\"],\n      \"level-down-alt\": [320, 512, [], \"f3be\", \"M313.553 392.331L209.587 504.334c-9.485 10.214-25.676 10.229-35.174 0L70.438 392.331C56.232 377.031 67.062 352 88.025 352H152V80H68.024a11.996 11.996 0 0 1-8.485-3.515l-56-56C-4.021 12.926 1.333 0 12.024 0H208c13.255 0 24 10.745 24 24v328h63.966c20.878 0 31.851 24.969 17.587 40.331z\"]\n    },\n    solid: {\n      bookmark: [384, 512, [], \"f02e\", \"M0 512V48C0 21.49 21.49 0 48 0h288c26.51 0 48 21.49 48 48v464L192 400 0 512z\"],\n      comment: [512, 512, [], \"f075\", \"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32z\"],\n      \"pencil-alt\": [512, 512, [], \"f303\", \"M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z\"],\n      \"arrow-left\": [448, 512, [], \"f060\", \"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z\"],\n      \"caret-down\": [320, 512, [], \"f0d7\", \"M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z\"],\n      film: [512, 512, [], \"f008\", \"M488 64h-8v20c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12V64H96v20c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12V64h-8C10.7 64 0 74.7 0 88v336c0 13.3 10.7 24 24 24h8v-20c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v20h320v-20c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v20h8c13.3 0 24-10.7 24-24V88c0-13.3-10.7-24-24-24zM96 372c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm272 208c0 6.6-5.4 12-12 12H156c-6.6 0-12-5.4-12-12v-96c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v96zm0-168c0 6.6-5.4 12-12 12H156c-6.6 0-12-5.4-12-12v-96c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v96zm112 152c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40z\"],\n      times: [352, 512, [], \"f00d\", \"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z\"],\n      bell: [448, 512, [], \"f0f3\", \"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z\"],\n      \"ellipsis-h\": [512, 512, [], \"f141\", \"M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z\"],\n      search: [512, 512, [], \"f002\", \"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z\"],\n      \"headphones-alt\": [512, 512, [], \"f58f\", \"M160 288h-16c-35.35 0-64 28.7-64 64.12v63.76c0 35.41 28.65 64.12 64 64.12h16c17.67 0 32-14.36 32-32.06V320.06c0-17.71-14.33-32.06-32-32.06zm208 0h-16c-17.67 0-32 14.35-32 32.06v127.88c0 17.7 14.33 32.06 32 32.06h16c35.35 0 64-28.71 64-64.12v-63.76c0-35.41-28.65-64.12-64-64.12zM256 32C112.91 32 4.57 151.13 0 288v112c0 8.84 7.16 16 16 16h16c8.84 0 16-7.16 16-16V288c0-114.67 93.33-207.8 208-207.82 114.67.02 208 93.15 208 207.82v112c0 8.84 7.16 16 16 16h16c8.84 0 16-7.16 16-16V288C507.43 151.13 399.09 32 256 32z\"],\n    }\n  };\n\n  const icon = icons[this.props.family][this.props.icon];\n\n  if (icon) {\n    return (\n      <svg\n        style={this.props.rotation ? `transform: rotate(${this.props.rotation})` : null}\n        className={`fa-icon ${this.props.family} ${this.props.icon}`}\n        viewBox={`0 0 ${icon[0]} ${icon[1]}`}\n      >\n        <path fill=\"currentColor\" d={icon[4]} />\n      </svg>\n    );\n  }\n}\n\nexport default FaIcon;\n","import _BookmarkBoard from \"./bookmark-board.component.js\";\nimport _CreateGroup from \"./create-group.component.js\";\nimport _GroupBoard from \"./group-board.component.js\";\nimport _HumanTime from \"./human-time.component.js\";\nimport _Notification from \"./notification.component.js\";\nimport _RandomMessage from \"./random-message.component.js\";\nimport _Search from \"./search.component.js\";\nimport _Share from \"./share.component.js\";\n\nexport const BookmarkBoard = _BookmarkBoard;\nexport const CreateGroup = _CreateGroup;\nexport const GroupBoard = _GroupBoard;\nexport const HumanTime = _HumanTime;\nexport const Notification = _Notification;\nexport const RandomMessage = _RandomMessage;\nexport const Search = _Search;\nexport const Share = _Share;\n","import { h } from \"preact\";\nimport { MessagePreview } from \"/src/message\";\nimport { Navbar } from \"/src/navbar\";\nimport { useStoreon } from \"storeon/preact\";\n\nexport default function BookmarkBoard() {\n\n  const { bookmarks } = useStoreon(\"bookmarks\");\n  if (!bookmarks) {\n    return null;\n  }\n\n  if (!Array.isArray(bookmarks) || bookmarks.length < 1) {\n    return;\n  }\n\n  return (\n    <main>\n      <Navbar />\n      <div class=\"content\">\n        <article id=\"group\" class=\"justify-content-center d-flex\">\n          <div class=\"message-container container-fluid d-flex justify-content-center flex-wrap\">\n            {bookmarks.map((b, i) => {\n              return (\n                <MessagePreview\n                  tabindex={i + 1}\n                  key={b.message.id}\n                  id={b.message.id}\n                />\n              );\n            })}\n          </div>\n        </article>\n      </div>\n    </main>\n  );\n}\n","import _GroupSearch from \"./group-search.component.js\";\nimport _GroupSearchWrapper from \"./group-search-wrapper.component.js\";\nimport _GroupsDropdownNavbar from \"./groups-dropdown-navbar.component.js\";\nimport _Navbar from \"./navbar.component.js\";\nimport _NotificationsDropdownNavbar from \"./notifications-dropdown-navbar.component.js\";\n\nexport const GroupSearch = _GroupSearch;\nexport const GroupSearchWrapper = _GroupSearchWrapper;\nexport const GroupsDropdownNavbar = _GroupsDropdownNavbar;\nexport const Navbar = _Navbar;\nexport const NotificationsDropdownNavbar = _NotificationsDropdownNavbar;\n","import { h } from \"preact\";\nimport { router, http } from \"/src/core\";\nimport { MessageSearchResult } from \"/src/message\";\nimport { useEffect, useState } from \"preact/hooks\";\nimport { useTranslation } from \"react-i18next\";\n\nexport default function GroupSearch(props) {\n\n  const { t } = useTranslation();\n  const groupId = useState(props.id);\n  const [loaded, setLoaded] = useState(false);\n  const [search, setSearch] = useState(\"\");\n  const [hashtags, setHashtags] = useState(\"\");\n  const [messages, setMessages] = useState([]);\n\n  const loadMessages = () => {\n    const search = router.getParam(\"q\");\n    const hashtags = router.getParam(\"hashtags\");\n    setSearch(search);\n    setHashtags(hashtags);\n    setLoaded(false);\n    setMessages([]);\n    http.post(\"/api/messages/search\", {\n      group: groupId,\n      search,\n      hashtags\n    }).then(res => {\n      if (res && Array.isArray(res[\"messages\"])) {\n        setSearch(search);\n        setMessages(res[\"messages\"]);\n        setLoaded(true);\n      }\n    });\n  };\n\n  useEffect(() => {\n    loadMessages();\n    window.addEventListener(\"groupSearch\", loadMessages);\n    return () => {\n      window.removeEventListener(\"groupSearch\", loadMessages);\n    };\n  }, []);\n\n  if (!Array.isArray(messages)) {\n    return;\n  }\n\n  return (\n    <div>\n      <article id=\"group\" class=\"justify-content-center d-flex\">\n        <div class=\"search-results-container container-fluid d-flex justify-content-center flex-wrap\">\n          {messages.length == 0 && !loaded && (\n            <p>\n              <div class=\"mt-5 spinner orange-spinner\">\n                <div /><div /><div /><div /><div />\n              </div>\n            </p>\n          )}\n          {messages.length == 0 && loaded && (\n            <p>{t(\"search_without_result\")}</p>\n          )}\n          {messages.map((msg, i) => {\n            return (\n              <MessageSearchResult\n                tabindex={i + 1}\n                key={msg.id}\n                message={msg}\n                groupId={groupId}\n                search={search}\n                hashtags={hashtags}\n              />\n            );\n          })}\n        </div>\n      </article>\n    </div>\n  );\n}\n","import { h } from \"preact\";\nimport { Navbar, GroupSearch } from \"/src/navbar\";\nimport { useParams } from \"react-router-dom\";\n\nexport default function GroupSearchWrapper() {\n  let params = useParams();\n  return (\n    <main>\n      <Navbar />\n      <div class=\"content\">\n        <article class=\"mb-3\">\n          <div class=\"container pb-3\">\n            <GroupSearch key={params.id} id={params.id} />\n          </div>\n        </article>\n      </div>\n    </main>\n  );\n}\n","import { h, Fragment } from \"preact\";\nimport { FaIcon } from \"/src/misc\";\nimport { Link } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\n\nexport default function GroupsDropdownNavbar() {\n  const { t } = useTranslation();\n  return (\n    <Fragment>\n      {this.props.groups && (\n        <div\n          class=\"nav-link dropdown groups unselectable\"\n          tabindex=\"-1\"\n          onClick={e => e.currentTarget.classList.toggle(\"active\")}\n        >\n          <div class=\"unselectable pr-1\">\n            {t(\"groups\")} <FaIcon family={\"solid\"} icon={\"caret-down\"} />\n          </div>\n          <div class=\"dropdown-menu dropdown-left\">\n            {this.props.groups.filter(e => !!e).map(e => (\n              <Link\n                key={e.id}\n                to={`/groups/${e.id}`}\n                class=\"d-block seamless-link unselectable\"\n              >\n                {e.name}\n              </Link>\n            ))}\n            <Link\n              to={\"/create-group\"}\n              class=\"seamless-link unselectable\"\n            >\n              {`+ ${t(\"create_a_group\")}`}\n            </Link>\n          </div>\n        </div>\n      )}\n    </Fragment>\n  );\n}\n","import { h } from \"preact\";\nimport { router, util } from \"/src/core\";\nimport { Search } from \"/src/pages\";\nimport { GroupsDropdownNavbar, NotificationsDropdownNavbar } from \"/src/navbar\";\nimport { Link } from \"react-router-dom\";\nimport { useStoreon } from \"storeon/preact\";\nimport { useTranslation } from \"react-i18next\";\n\nexport default function Navbar() {\n\n  const { t } = useTranslation();\n  const { bookmarks } = useStoreon(\"bookmarks\");\n  const { me } = useStoreon(\"me\");\n\n  return (\n    <div class=\"main-nav nav align-items-center z-index-100\">\n      <div class=\"navbar-block\">\n        <div\n          class=\"menu dropdown cursor-pointer\"\n          tabindex=\"-1\"\n          onClick={e => e.currentTarget.classList.toggle(\"active\")}\n        >\n          <div class=\"rounded-circle avatar unselectable\">\n            <img\n              class=\"rounded-circle\"\n              style={util.backgroundHash(me.id)}\n              src={\n                me.avatar\n                  ? util.crop(me.avatar[\"id\"], 80, 80)\n                  : util.defaultAvatar\n              }\n              onError={e => (e.currentTarget.src = util.defaultAvatar)}\n            />\n          </div>\n          <div class=\"dropdown-menu dropdown-right\">\n            { bookmarks?.length > 0 && (\n              <Link\n                class=\"d-block seamless-link capitalize\"\n                to={\"/bookmarks\"}\n              >\n                {t(\"bookmarks\")}\n              </Link>\n            )}\n            <Link\n              class=\"d-block seamless-link capitalize\"\n              to={`/users/${me.id}/settings`}\n            >\n              {t(\"settings\")}\n            </Link>\n            <Link\n              class=\"d-block seamless-link capitalize\"\n              to={\"/logout\"}\n            >\n              {t(\"logout\")}\n            </Link>\n          </div>\n        </div>\n        <NotificationsDropdownNavbar />\n      </div>\n      { [\"messages\", \"groups\"].includes(router.route) && (\n        <Search />\n      )}\n      <div class=\"navbar-block\">\n        <GroupsDropdownNavbar groups={me.groups} />\n      </div>\n    </div>\n  );\n}\n","import {\n  useMemo,\n  useContext,\n  useState,\n  useLayoutEffect,\n  useEffect\n} from 'preact/hooks'\nimport { createContext, h } from 'preact'\nimport { forwardRef } from 'preact/compat'\n\nlet StoreContext = createContext()\n\nlet useIsomorphicLayoutEffect =\n  typeof window !== 'undefined' ? useLayoutEffect : useEffect\n\nlet customContext = context => (...keys) => {\n  let store = useContext(context)\n  if (process.env.NODE_ENV !== 'production' && !store) {\n    throw new Error(\n      'Could not find storeon context value.' +\n        'Please ensure the component is wrapped in a <StoreContext.Provider>'\n    )\n  }\n\n  let rerender = useState({})\n\n  useIsomorphicLayoutEffect(() => {\n    return store.on('@changed', (_, changed) => {\n      let changesInKeys = keys.some(key => key in changed)\n      if (changesInKeys) rerender[1]({})\n    })\n  }, [])\n\n  return useMemo(() => {\n    let state = store.get()\n    let data = {}\n    keys.forEach(key => {\n      data[key] = state[key]\n    })\n    data.dispatch = store.dispatch\n    return data\n  }, [rerender[0]])\n}\n\nlet useStoreon = customContext(StoreContext)\n\nlet connectStoreon = (...keys) => {\n  let Component = keys.pop()\n  return forwardRef((originProps, ref) => {\n    let props = { ...originProps, ...useStoreon(...keys), ref }\n    return h(Component, props)\n  })\n}\n\nexport { useStoreon, StoreContext, connectStoreon, customContext }\n","import { h } from \"preact\";\nimport { notifications as notifs } from \"/src/core\";\nimport { FaIcon } from \"/src/misc\";\nimport { Notification } from \"/src/pages\";\nimport { useStoreon } from \"storeon/preact\";\nimport { useTranslation } from \"react-i18next\";\n\nexport default function NotificationsDropdownNavbar() {\n\n  const { t } = useTranslation();\n  const { notifications } = useStoreon(\"notifications\");\n  if (!notifications) {\n    return null;\n  }\n\n  return (\n    <div\n      className={\n        `menu dropdown${notifications.length ? \" cursor-pointer\" : \"\"}`\n      }\n      title={t(\"notifications\")}\n      tabindex=\"-1\"\n      onClick={e =>\n        notifications.length &&\n        e.currentTarget.classList.toggle(\"active\")\n      }\n    >\n      <div class=\"unselectable button-with-count\">\n        <FaIcon\n          family={notifications.length ? \"solid\" : \"regular\"}\n          icon={\"bell\"}\n        />\n        {!!notifications.filter(n => !n.read).length && (\n          <div class=\"unread-badge\" />\n        )}\n      </div>\n      <div class=\"dropdown-menu dropdown-right notifications-menu\">\n        <div class=\"notification-header\">\n          <strong class=\"capitalize\">{t(\"notifications\")}</strong>\n          <div\n            class=\"action capitalize\"\n            onClick={() => {\n              notifs.markAllNotificationsAsRead();\n            }}\n          >\n            {t(\"mark_all_as_read\")}\n          </div>\n        </div>\n        {notifications?.length && (\n          notifications.sort((a, b) => b.createdAt - a.createdAt).slice(0,notifs.LIMIT).map(e => <Notification key={e.id + e.read} {...e} />)\n        )}\n      </div>\n    </div>\n  );\n}\n","import { h, Component } from \"preact\";\nimport { http, util } from \"/src/core\";\nimport { withTranslation } from \"react-i18next\";\nimport { Navbar } from \"/src/navbar\";\n\nclass CreateGroup extends Component {\n  constructor() {\n    super();\n    this.postNewGroup = this.postNewGroup.bind(this);\n  }\n\n  postNewGroup(event) {\n    event.preventDefault();\n    const name = document.querySelector(\"#create_group_form input[name='name']\").value;\n    let group = {};\n    if (name) {\n      group.name = name;\n    } else {\n      return false;\n    }\n    group.createdAt = Math.floor(Date.now() / 1000);\n    http.post(\"/api/groups\", group).then(res => {\n      http.post(`/api/groups/invitation/${  res.secretKey}`, {}).then(res => {\n        window.location = util.toApp(`/groups/${res.id}`);\n      });\n    });\n  }\n\n  render() {\n    return (\n      <main>\n        <Navbar />\n        <div class=\"content\">\n          <div class=\"container mt-2\">\n            <div class=\"group-settings\">\n              <div class=\"card\">\n                <div class=\"card-body\">\n                  <div class=\"container-fluid p-1\">\n                    <div class=\"row\">\n                      <div class=\"col-12 col-md-10\">\n                        <form id=\"create_group_form\" class=\"mb-1\">\n                          <div class=\"form-group\">\n                            <label for=\"name\">{this.props.t(\"name\")}: </label>\n                            <input\n                              type=\"text\"\n                              name=\"name\"\n                              minlength=\"1\"\n                              maxlength=\"128\"\n                              placeholder={this.props.t(\"name_input\")}\n                              class=\"form-control\"\n                              required\n                            />\n                          </div>\n                          <button\n                            onClick={e => this.postNewGroup(e)}\n                            class=\"btn btn-primary\"\n                          >\n                            {this.props.t(\"create_the_group\")}\n                          </button>\n                        </form>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </main>\n    );\n  }\n}\n\nexport default withTranslation()(CreateGroup);\n","import { h } from \"preact\";\nimport { FaIcon } from \"/src/misc\";\nimport { Navbar } from \"/src/navbar\";\nimport { MessageList } from \"/src/message\";\nimport { Link, useParams } from \"react-router-dom\";\n\nexport default function GroupBoard() {\n  let params = useParams();\n  return (\n    <main>\n      <Navbar />\n      <div class=\"content\">\n        <div>\n          <div>\n            <article id=\"group\" class=\"justify-content-center d-flex\">\n              <div class=\"message-container container-fluid d-flex justify-content-center flex-wrap\">\n                <MessageList key={params.id} id={params.id} />\n              </div>\n            </article>\n          </div>\n          <Link\n            class=\"write-button material-shadow seamless-link\"\n            to={`/groups/${params.id}/write`}\n          >\n            <FaIcon family={\"solid\"} icon={\"pencil-alt\"} />\n          </Link>\n        </div>\n      </div>\n    </main>\n  );\n}\n","import { h, Fragment } from \"preact\";\nimport { util } from \"/src/core\";\nimport { useTranslation } from \"react-i18next\";\n\nexport default function HumanTime(props) {\n\n  const { t } = useTranslation();\n\n  // duration relative to event\n  const humanTime = timestamp => {\n    if (!timestamp) {\n      return null;\n    }\n    const duration = Math.abs(Math.round((Date.now() / 1000 - timestamp) / 60));\n    if (duration < 1) {\n      return t(\"just_now\");\n    }\n    if (duration < 60) {\n      return t(\"ago\", { duration: `${duration  }mn` });\n    }\n    if (duration < 60 * 24) {\n      return t(\"ago\", { duration: `${Math.floor(duration / 60)  }h` });\n    }\n    return util.humanFullDate(timestamp).split(\" \")[0];\n  };\n\n  return (\n    <Fragment>{humanTime(props.timestamp)}</Fragment>\n  );\n}\n","import { h, Fragment } from \"preact\";\nimport { http, util, notifications } from \"/src/core\";\nimport { useEffect, useState } from \"preact/hooks\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\nimport { FaIcon } from \"/src/misc\";\n\nexport default function Notification(props) {\n\n  const navigate = useNavigate();\n  const { t } = useTranslation();\n  const [target, setTarget] = useState(null);\n  const [action, setAction] = useState(null);\n  const [title, setTitle] = useState(null);\n  const [author, setAuthor] = useState(null);\n  const [notification, setNotification] = useState(null);\n\n  const getMiniature = (notification) => {\n    let imgSrc = util.defaultAvatar;\n    if (\n      notification?.miniature\n      && notification.type != \"global_notification\"\n    ) {\n      imgSrc = util.crop(notification?.miniature?.id, 80, 80);\n    }\n    return (\n      <img\n        style={util.backgroundHash(notification?.fromUser?.id)}\n        src={imgSrc}\n        onError={e => setMiniatureOnError(e)}\n      />\n    );\n  };\n\n  const setMiniatureOnError = (event) => {\n    event.currentTarget.src = util.defaultAvatar;\n  };\n\n  const getAction = (notification) => {\n    switch (notification?.type) {\n    case \"new_message\":\n      return t(\"has_posted_in\");\n    case \"new_comment\":\n      return t(\"has_commented_on\");\n    case \"user_joined_group\":\n      return t(\"has_joined\");\n    case \"user_left_group\":\n      return t(\"has_left\");\n    case \"group_name_change\":\n      return t(\"changed_group_name\");\n    default:\n      return \"\";\n    }\n  };\n\n  const getObject = (notification) => {\n    switch (notification?.type) {\n    case \"new_message\":\n      return (\n        <Fragment>\n          <strong>\n            {notification?.fromGroup.name}\n          </strong>\n          {title && (\n            <Fragment>\n              <br />\n              <small><em>{util.limitStrSize(title, 50)}</em></small>\n            </Fragment>\n          )}\n        </Fragment>\n      );\n    case \"new_comment\":\n      return (\n        <span>\n          {`${t(\"the_message_from\")  } `}\n          <strong>{notification?.parentAuthorName}</strong>\n          {title && (\n            <Fragment>\n              <br />\n              <small><em>{util.limitStrSize(title, 50)}</em></small>\n            </Fragment>\n          )}\n        </span>\n      );\n    case \"user_joined_group\":\n    case \"user_left_group\":\n      return (\n        <strong>\n          {notification?.fromGroup.name}\n        </strong>\n      );\n    case \"group_name_change\":\n      return (\n        <span>\n          <strong>{notification.data[\"previousGroupName\"]}</strong>\n          {` ${t(\"to\")} `}\n          <strong>{notification.data[\"newGroupName\"]}</strong>\n        </span>\n      );\n    case \"global_notification\":\n      return notification.data[\"text\"];\n    default:\n      return \"\";\n    }\n  };\n\n  const getTarget = (notification, message_id) => {\n    switch (notification?.type) {\n    case \"user_joined_group\":\n    case \"user_left_group\":\n    case \"group_name_change\":\n      return `/groups/${notification.fromGroup.id}`;\n    case \"new_message\":\n      return `/messages/${notification.target}`;\n    case \"new_comment\":\n      return (\n        `/messages/${message_id}/${notification.target}`\n      );\n    case \"global_notification\":\n      return notification.target;\n    default:\n      return \"\";\n    }\n  };\n\n  const onClick = (event, target) => {\n    event.preventDefault();\n    notifications.markAsRead(props.id).then(() => {\n      navigate(target);\n    });\n  };\n\n  useEffect(() => {\n    http.get(`/api/notifications/${props.id}`, false, 100).then(n => {\n      if (n) {\n        setTarget(getTarget(n, n.fromMessage?.id));\n        setAction(getAction(n));\n        setTitle(n.title);\n        if (n?.fromUser?.id) {\n          http.get(`/api/users/${n.fromUser.id}`).then(u => {\n            setAuthor(u);\n          });\n        }\n        setNotification(n);\n      }\n    });\n  }, []);\n\n  if (!notification) {\n    return null;\n  }\n  return (\n    <Link\n      key={props.id}\n      class={`notification seamless-link unselectable ${!notification.read ? \"unread\" : \"\"}`}\n      to={target}\n      title={title}\n    >\n      <div class=\"miniature unselectable\">{getMiniature(notification)}</div>\n      <div class=\"infos\">\n        <div class=\"description\">\n          {notification.type != \"global_notification\" && (\n            <Fragment>\n              <strong>{author?.name || \"--\"}</strong>\n              <span>{` ${action} `}</span>\n            </Fragment>\n          )}\n          {getObject(notification)}\n        </div>\n        <div class=\"date\">\n          {util.humanTime(notification.createdAt)}\n        </div>\n      </div>\n      <div\n        class=\"options dropdown\"\n        onClick={e => {\n          e.stopPropagation();\n          e.preventDefault();\n          e?.target?.closest(\".dropdown\")?.classList.toggle(\"active\");\n        }}\n      >\n        <div class=\"none-if-follows-empty\">\n          <FaIcon family=\"solid\" icon=\"ellipsis-h\" />\n        </div>\n        <div class=\"dropdown-menu dropdown-options\">\n          <a\n            class=\"seamless-link capitalize\"\n            onClick={() => notifications.removeMatchingNotifications(notification.id)}\n          >\n            {t(\"delete\")}\n          </a>\n        </div>\n      </div>\n    </Link>\n  );\n}\n","import { h } from \"preact\";\nimport { http } from \"/src/core\";\nimport { useParams, Navigate } from \"react-router-dom\";\nimport { useEffect, useState } from \"preact/hooks\";\n\nexport default function RandomMessage() {\n  const params = useParams();\n  const [message, setMessage] = useState(null);\n\n  useEffect(() => {\n    http.get(`/api/groups/${params.id}/random`).then(m => {\n      setMessage(m);\n    });\n  }, []);\n\n  if (message) {\n    return <Navigate to={`/messages/${message.id}`} replace={true} />;\n  }\n}\n","import { h } from \"preact\";\nimport { router } from \"/src/core\";\nimport { FaIcon } from \"/src/misc\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\n\nexport default function Search() {\n\n  const { t } = useTranslation();\n  const navigate = useNavigate();\n\n  function search(evt) {\n    evt.preventDefault();\n    router.getEntity().then(entity => {\n      let group_id = null;\n      switch (entity.entityType) {\n      case \"group\":\n        group_id = entity.id;\n        break;\n      case \"message\":\n        group_id = entity.group.id;\n        break;\n      default:\n      }\n      // https://stackoverflow.com/a/37511463\n      let searchTerms = document\n        .getElementById(\"search\")\n        .value.normalize(\"NFD\")\n        .replace(/[\\u0300-\\u036f]/g, \"\")\n        .split(\" \");\n      navigate(`/groups/${group_id}/search?q=${searchTerms.join(\"+\")}`);\n      window.dispatchEvent(new CustomEvent(\"groupSearch\"));\n    });\n  }\n\n  return (\n    <form class=\"navbar-block search-block\" onSubmit={e => search(e)}>\n      <div class=\"input-group\">\n        <input\n          class=\"form-control\"\n          type=\"text\"\n          id=\"search\"\n          placeholder={t(\"search_in_group\")}\n          value={router.getParam(\"q\").replace(/\\+/g, \" \")}\n        />\n        <div class=\"input-group-append\">\n          <button\n            class=\"btn btn-secondary\"\n            type=\"submit\"\n          >\n            <FaIcon family={\"solid\"} icon={\"search\"} />\n          </button>\n        </div>\n      </div>\n    </form>\n  );\n}\n","import { h } from \"preact\";\nimport { me as meService, http } from \"/src/core\";\nimport { Writer } from \"/src/writer\";\nimport { Navbar } from \"/src/navbar\";\nimport { useStoreon } from \"storeon/preact\";\nimport { useLocation } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\nimport { useEffect, useState } from \"preact/hooks\";\n\nexport default function Share() {\n\n  const { t } = useTranslation();\n  const { me } = useStoreon(\"me\");\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n\n  const [loaded, setLoaded] = useState(false);\n  const [title, setTitle] = useState(searchParams.get(\"title\") || \"\");\n  const [text, setText] = useState(searchParams.get(\"text\") || \"\");\n  const [url, setUrl] = useState(searchParams.get(\"url\") || \"\");\n  const parent = searchParams.get(\"parent\") || \"\";\n  const [files, setFiles] = useState([]);\n  const [group, setGroup] = useState(\"\");\n\n  useEffect(() => {\n    setTimeout(() => {\n      meService.fetch().then(user => {\n        if (user.data[\"default_group\"]) {\n          setGroup(user.data[\"default_group\"]);\n        } else if (user.groups.length == 1) {\n          setGroup(user.groups[0][\"id\"]);\n        }\n        if(searchParams.get(\"message\")) {\n          http.get(`/api/messages/${searchParams.get(\"message\")}`)\n            .then(m => {\n              if (m?.files?.length) {\n                Promise.all(m.files.map(f => http.get(`/api/files/${f.id}`).then(f => f))).then(\n                  files => {\n                    setFiles(files);\n                    setTitle(m?.data?.title || \"\");\n                    setText(m?.data?.text || \"\");\n                    setUrl(\"\");\n                    setLoaded(true);\n                  }\n                );\n              } else {\n                setTitle(m?.data?.title || \"\");\n                setText(m?.data?.text || \"\");\n                setUrl(\"\");\n                setLoaded(true);\n              }\n            });\n        } else {\n          setLoaded(true);\n        }\n      });\n    }, 100);\n  }, []);\n\n  if (!loaded) {\n    return;\n  }\n\n  return (\n    <main>\n      <Navbar />\n      <div class=\"content\">\n        <article class=\"mt-2\">\n          <div class=\"container\">\n            {!parent && me?.groups?.length > 1 && (\n              <div class=\"mb-1\">\n                <label class=\"px-1\" for=\"group_share_choice\">\n                  {t(\"group_share_choice\")}\n                </label>\n                <select\n                  value={group}\n                  class=\"form-select\"\n                  name=\"group_share_choice\"\n                  onChange={e => setGroup(e.target.value)}\n                  required\n                >\n                  {me?.groups.map(e => (\n                    <option key={e[\"id\"]} value={e[\"id\"]}>{e.name}</option>\n                  ))}\n                </select>\n              </div>\n            )}\n            {!!parent && (\n              <div class=\"form-group\">\n                <label for=\"apiKey\">\n                  {t(\"parent_message\")}:{\" \"}\n                </label>\n                <input\n                  type=\"text\"\n                  name=\"parent_message\"\n                  value={parent}\n                  class=\"form-control font-size-80\"\n                  readonly=\"readonly\"\n                />\n              </div>\n            )}\n            <Writer\n              focus={true}\n              group={group}\n              title={title}\n              parent={parent}\n              text={text || url ? `${text}\\n${url}` : \"\"}\n              files={files}\n            />\n          </div>\n        </article>\n      </div>\n    </main>\n  );\n}\n","import _GroupWriter from \"./group-writer.component.js\";\nimport _Writer from \"./writer.component.js\";\nimport _WritingWidget from \"./writing-widget.component.js\";\n\nexport const GroupWriter = _GroupWriter;\nexport const Writer = _Writer;\nexport const WritingWidget = _WritingWidget;\n","import { h } from \"preact\";\nimport { Writer } from \"/src/writer\";\nimport { Navbar } from \"/src/navbar\";\nimport { useParams } from \"react-router-dom\";\n\nexport default function GroupWriter() {\n  let params = useParams();\n\n  return (\n    <main>\n      <Navbar />\n      <div class=\"content\">\n        <article class=\"mb-3\">\n          <div class=\"container pb-3\">\n            <Writer focus={true} group={params.id} />\n          </div>\n        </article>\n      </div>\n    </main>\n  );\n}\n","import { h } from \"preact\";\nimport { alert, http, util, me } from \"/src/core\";\nimport { useTranslation } from \"react-i18next\";\nimport { WritingWidget } from \"/src/writer\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useState, useEffect, useRef } from \"preact/hooks\";\n\n// trick from https://stackoverflow.com/a/53837442\nfunction useForceUpdate() {\n  const [value, setValue] = useState(0); // integer state\n  return () => setValue(value => value + 1); // update state to force render\n}\n\nexport default function Writer(props) {\n\n  const { t } = useTranslation();\n  const navigate = useNavigate();\n  const [files, setFiles] = useState(props?.files || []);\n  const [sending, setSending] = useState(false);\n  const [uploading, setUploading] = useState(false);\n  const forceUpdate = useForceUpdate();\n  const writerId = util.genId();\n\n  // This allows to have the latest state of files in callbacks\n  // https://stackoverflow.com/a/60643670\n  const currentFiles = useRef();\n  currentFiles.current = files;\n\n  const setForm = (writerForm, files = [], title = \"\", text = \"\") => {\n    setFiles(files);\n    Array.from(writerForm.current.getElementsByClassName(\"title-input\")).map(e => e.value = title);\n    Array.from(writerForm.current.getElementsByClassName(\"text-input\")).map(e => e.value = text);\n  };\n\n  const updateFile = (id, file) => {\n    setFiles(currentFiles.current.map(f => f.id === id ? Object.assign(f, file) : f));\n  };\n\n  const invertFiles = (id_a, id_b) => {\n    const index_a = files.findIndex(e => e.id === id_a);\n    const index_b = files.findIndex(e => e.id === id_b);\n    [files[index_a], files[index_b]] = [files[index_b], files[index_a]];\n    setFiles(files);\n    forceUpdate();\n  };\n\n  const removeFile = id => {\n    setFiles(files.filter(f => f.id != id));\n  };\n\n  const uploadFile = fileId => {\n    const formData = new FormData();\n    let file = files.find(e => e.id == fileId);\n    if (!file || !file.inputFile) {\n      // TODO handle this properly\n      console.error(files, file, fileId);\n      throw \"error\";\n    }\n\n    formData.append(\"file\", file.inputFile);\n\n    updateFile(fileId, Object.assign(file, {status: \"uploading\"}));\n    setUploading(true);\n\n    http.sendFile(\n      formData,\n      file => {\n        setUploading(false);\n        updateFile(fileId, Object.assign({status: \"ready\"}, file));\n      },\n      e => {\n        updateFile(\n          fileId,\n          {status: \"uploading\", progress: Math.floor((e.loaded / e.total) * 100)}\n        );\n      },\n      e => {\n        setUploading(false);\n        console.warn(e);\n        alert.add(t(\"error_upload\"), \"alert-danger\");\n        removeFile(fileId);\n      }\n    );\n  };\n\n  const putMessage = (msg, writerForm) => {\n    http.put(`/api/messages/${props.messageId}`, msg).then(res => {\n      setForm(writerForm, [], \"\", \"\");\n      setSending(false);\n      if (!res) {\n        alert.add(t(\"error_new_message\"), \"alert-danger\");\n        return;\n      }\n      window.dispatchEvent(new CustomEvent(\"editMessage\", { detail: res }));\n    });\n    setSending(true);\n  };\n\n  const postMessage = (msg, writerForm) => {\n    msg = Object.assign(msg, {\n      createdAt: Math.floor(Date.now() / 1000),\n      author: me.id,\n      group: util.getId(props.group),\n      children: [],\n      lastActivityDate: Math.floor(Date.now() / 1000)\n    });\n    if (props.parent) {\n      msg.parent = util.getId(props.parent);\n    }\n    // don't post if there is nothing to post\n    if (!msg.files.length && !msg.data.text && !msg.data.title) {\n      alert.add(t(\"empty_message\"), \"alert-danger\");\n      return;\n    }\n    http.post(\"/api/messages\", msg).then(res => {\n      if (!res) {\n        setSending(false);\n        alert.add(t(\"error_new_message\"), \"alert-danger\");\n        return;\n      }\n      if (props.isChild) {\n        setSending(false);\n        window.dispatchEvent(new CustomEvent(\"newChild\", { detail: res }));\n      } else {\n        navigate(`/messages/${res.id}`);\n      }\n      setForm(writerForm, [], \"\", \"\");\n    });\n    setSending(true);\n  };\n\n  const sendMessage = (writerForm, data) => {\n    let msg = {\n      files: files.filter(e => !e?.removed).filter(e => [\"ready\", \"raw\"].includes(e?.status)).map(e => e?.id).filter(e => !!e),\n      data: {\n        title: data?.title,\n        text: data?.text,\n      }\n    };\n    if (props.messageId) {\n      putMessage(msg, writerForm);\n    } else {\n      postMessage(msg, writerForm);\n    }\n  };\n\n  // toggle state (removed or not) of a file\n  const toggleFile = id => {\n    setFiles(files.map(f => {\n      if (f.id == id) {\n        f.removed = !f.removed;\n      }\n      return f;\n    }));\n  };\n\n  const addFiles = (mimetype, input_files) => {\n    let list = Array.from(input_files).map(e => ({\n      inputFile: e,\n      type: mimetype,\n      id: util.genId(),\n      progress: 0,\n      status: \"initial\",\n    }));\n    setFiles([...files, ...list]);\n  };\n\n  const inputFile = (mimetype, multiple = false) => {\n    const input = document.createElement(\"input\");\n    document.body.appendChild(input);\n    input.style.display = \"none\";\n    input.type = \"file\";\n    input.accept = mimetype;\n    if (multiple) {\n      input.multiple = \"multiple\";\n    }\n    input.addEventListener(\"change\", event => {\n      addFiles(mimetype, event.target.files);\n    });\n    input.click();\n  };\n\n  useEffect(() => {\n    if (files.filter(e => e.status === \"uploading\").length < 2) {\n      for (let i = 0; i < files.length; i++) {\n        if (files[i].status == \"initial\" && !!files[i].inputFile) {\n          uploadFile(files[i].id);\n          break;\n        }\n      }\n    }\n  }, [files]);\n\n  return (\n    <WritingWidget\n      id={writerId}\n      sending={sending}\n      uploading={uploading}\n      inputFile={inputFile}\n      sendMessage={sendMessage}\n      cancel={props.cancel}\n      files={files}\n      toggleFile={toggleFile}\n      invertFiles={invertFiles}\n      addFiles={addFiles}\n      group={props.group}\n      isChild={props.isChild}\n      text={props.text}\n      title={props.title}\n    />\n  );\n}\n","import { h } from \"preact\";\nimport { http, util, api } from \"/src/core\";\nimport { FaIcon } from \"/src/misc\";\nimport { EmbedBlock, FileGrid } from \"/src/embed\";\nimport { useTranslation } from \"react-i18next\";\nimport { useState, useRef, useEffect } from \"preact/hooks\";\n\nexport default function WritingWidget(props) {\n  const [preview, setPreview] = useState(null);\n  const [link, setLink] = useState(\"\");\n  const [text, setText] = useState(props.text || \"\");\n  const [title, setTitle] = useState(props.title || \"\");\n  const { t } = useTranslation();\n  const writerForm = useRef(null);\n\n  const cleanForm = () => {\n    setPreview(null);\n    setLink(null);\n    setText(\"\");\n    setTitle(\"\");\n  };\n\n  const sendMessage = writerForm => {\n    props.sendMessage(writerForm, {\n      // we get the raw value here because onChange() does not capture all possible inputs\n      // and then the values of text/title could not be up to date\n      title: writerForm?.current?.querySelector(\".title-input\")?.value,\n      text: writerForm?.current?.querySelector(\".text-input\")?.value,\n    });\n    cleanForm();\n  };\n\n  const genPreview = t => {\n    if (!t) {\n      return;\n    }\n    t.style.height = \"1px\";\n    t.style.height = `${25 + t.scrollHeight}px`;\n    // waiting for the dom to be updated\n    setTimeout(() => {\n      const text = t.value;\n      let links = text.match(/(https?:\\/\\/[^\\s]+)/gi);\n      if (links && links[0] != link) {\n        http\n          .get(`/api/links/by_url?url=${encodeURIComponent(links[0])}`)\n          .then(r => {\n            if (r && t.value.indexOf(links[0]) >= 0) {\n              setLink(links[0]);\n              setPreview(r);\n            }\n          });\n      }\n    }, 0);\n  };\n\n  const onKeyPress = (event, doGenPreview = false) => {\n    if (event.ctrlKey && util.is_it_enter(event)) {\n      sendMessage(writerForm);\n      return;\n    }\n    if (![\" \", \"Enter\", \"v\"].includes(event.key)) {\n      return;\n    }\n    if (doGenPreview) {\n      genPreview(event.currentTarget);\n    }\n  };\n\n  const onPaste = (event) => {\n    props.addFiles(\"image/jpeg\", event.clipboardData.files);\n  };\n\n  useEffect(() => {\n    genPreview(document?.getElementById(props.id)?.querySelector(\".text-input\"));\n  }, []);\n\n  if (props.sending) {\n    return (\n      <div class=\"message-placeholder\">\n        <div class=\"spinner orange-spinner\">\n          <div /><div /><div /><div /><div />\n        </div>\n      </div>\n    );\n  }\n  return (\n    <div id={props.id} class=\"writer\" ref={writerForm}>\n      {!props.isChild && (\n        <input\n          type=\"text\"\n          class=\"title-input\"\n          onKeyPress={e => onKeyPress(e)}\n          placeholder={t(\"title_placeholder\")}\n          value={title}\n          onChange={e => setTitle(e.target.value)}\n        />\n      )}\n      <textarea\n        onKeyPress={e => onKeyPress(e, true)}\n        onPaste={e => onPaste(e)}\n        class=\"text-input\"\n        rows=\"5\"\n        autocomplete=\"off\"\n        autofocus={props.focus}\n        placeholder={t(\"text_placeholder\")}\n        maxlength=\"50000\"\n        value={text}\n        onChange={e => setText(e.target.value)}\n      />\n      {!!preview && (\n        <EmbedBlock inWriter={true} {...preview} />\n      )}\n      {!!props.files.length && (\n        <FileGrid\n          files={props.files}\n          toggleFile={props.toggleFile}\n          invertFiles={props.invertFiles}\n          inWriter={true}\n        />\n      )}\n      <div class=\"options\">\n        {api?.info?.upload?.image && (\n          <button\n            class=\"option\"\n            onClick={() => props.inputFile(\"image/*\", true)}\n            title={t(\"upload_image\")}\n          >\n            <FaIcon family={\"regular\"} icon={\"images\"} />\n          </button>\n        )}\n        {api?.info?.upload?.video && (\n          <button\n            class=\"option\"\n            onClick={() => props.inputFile(\"video/*\")}\n            title={t(\"upload_video\")}\n          >\n            <FaIcon family={\"solid\"} icon={\"film\"} />\n          </button>\n        )}\n        {api?.info?.upload?.pdf && (\n          <button\n            class=\"option\"\n            onClick={() => props.inputFile(\"application/pdf\")}\n            title={t(\"upload_pdf\")}\n          >\n            <FaIcon family={\"regular\"} icon={\"file-pdf\"} />\n          </button>\n        )}\n        {api?.info?.upload?.audio && (\n          <button\n            class=\"option\"\n            onClick={() => props.inputFile(\"audio/*\")}\n            title={t(\"upload_audio\")}\n          >\n            <FaIcon family={\"solid\"} icon={\"headphones-alt\"} />\n          </button>\n        )}\n        <div class=\"actions\">\n          {!!props.cancel && (\n            <button class=\"cancel\" onClick={e => props.cancel(e)}>\n              {t(\"cancel\")}\n            </button>\n          )}\n          <button\n            disabled={!props.group || props.uploading}\n            type=\"submit\"\n            class=\"submit\"\n            onClick={() => sendMessage(writerForm)}\n          >\n            {t(\"submit\")}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import _EmbedBlock from \"./embed-block.component.js\";\nimport _FileGrid from \"./file-grid.component.js\";\nimport _BigFile from \"./big-file.component.js\";\nimport _MiniFile from \"./mini-file.component.js\";\n\nexport const EmbedBlock = _EmbedBlock;\nexport const FileGrid = _FileGrid;\nexport const BigFile = _BigFile;\nexport const MiniFile = _MiniFile;\n","import { h } from \"preact\";\nimport { util, router } from \"/src/core\";\nimport { useState, useEffect } from \"preact/hooks\";\nimport BandCampEmbed from \"./bandcamp-embed.component.js\";\nimport GenericEmbed from \"./generic-embed.component.js\";\nimport GLightbox from \"glightbox\";\n\nexport default function EmbedBlock(props) {\n\n  const [lightbox, setLightbox] = useState(null);\n\n  useEffect(() => {\n    setLightbox(GLightbox({\n      autoplayVideos: false,\n      draggable: true,\n      loop: false,\n      touchNavigation: true,\n      zoomable: true,\n      elements: [],\n    }));\n  }, []);\n\n  const openLightbox = evt => {\n    evt.preventDefault();\n    evt.stopPropagation();\n    if (lightbox != null && Array.from(document.getElementsByClassName(\"glightbox\")).length > 0) {\n      const elements = Array.from(document.getElementsByClassName(\"glightbox\")).map(e => {\n        const r = {href: e.href};\n        if (e?.dataset?.width) {\n          r.width = e?.dataset?.width;\n        }\n        if (e?.dataset?.height) {\n          r.height = e?.dataset?.height;\n        }\n        if (e?.dataset?.type) {\n          r.type = e?.dataset?.type;\n        }\n        if (e?.dataset?.srcset) {\n          r.srcset = e?.dataset?.srcset;\n        }\n        if (e?.dataset?.sizes) {\n          r.sizes = e?.dataset?.sizes;\n        }\n        return r;\n      });\n      lightbox.setElements(elements);\n      lightbox.open(null, elements.findIndex(e => e.href === evt.target.closest(\".glightbox\").href));\n    }\n  };\n\n  const getPreview = () => {\n    if (props?.data?.exception) {\n      console.warn(props.data);\n    }\n    if (props.data[\"providerName\"]) {\n      if (\"peertube\" == props.data[\"providerName\"].toLowerCase()) {\n        // default embed code\n        if (props.data[\"code\"]) {\n          return (\n            <div class=\"embed-container\" dangerouslySetInnerHTML={{ __html: props.data[\"code\"] }} />\n          );\n        }\n      }\n      if (\"soundcloud\" == props.data[\"providerName\"].toLowerCase()) {\n        if (props.data[\"code\"]) {\n          return (\n            <GenericEmbed\n              preview={util.crop(props.preview.id, 1024, 270)}\n              url={\n                `${props.data[\"code\"].match(/https:\\/\\/[^\"\\s]+/)[0] \n                }&auto_play=true`\n              }\n              playBtnClass={\"soundcloud\"}\n            />\n          );\n        }\n      }\n      if (\"bandcamp\" == props.data[\"providerName\"].toLowerCase()) {\n        if (props.data[\"code\"]) {\n          let id = props.data[\"code\"].match(/https:\\/\\/.*album=\\d+/);\n          if (!id) {\n            id = props.data[\"code\"].match(/https:\\/\\/.*track=\\d+/);\n          }\n          if (id) {\n            return (\n              <BandCampEmbed\n                preview={util.crop(props.preview.id, 1024, 270)}\n                url={id[0]}\n              />\n            );\n          }\n        }\n      }\n      if (\"lichess.org\" == props.data[\"providerName\"].toLowerCase()) {\n        let url = props?.data?.url && typeof(props?.data.url) == \"string\" ? props.data?.url : props.url;\n        if (util.isValidUrl(url) && !url.match(/embed/) && !url.match(/study/) && !url.match(/blog/)) {\n          url = new URL(url.replace(\"lichess.org/\", \"lichess.org/embed/\"));\n          let id;\n          try {\n            id = url.pathname.split(\"/\").slice(-1)[0];\n          } catch (e) {\n            id = \"\";\n          }\n          url = new URL(url.href.replace(id, id.slice(0, 8)));\n          if (id) {\n            return (\n              <GenericEmbed\n                preview={util.crop(props.preview.id, 270, 270)}\n                url={url}\n                playBtnClass={\"lichess\"}\n              />\n            );\n          }\n        }\n      }\n      if (\"youtube\" == props.data[\"providerName\"].toLowerCase()) {\n        let url = props.url;\n        if (props?.preview?.id && url) {\n          url = new URL(url);\n          let video_id;\n          let playlist_id;\n          if (\n            url.host == \"www.youtube.com\"\n            || url.host == \"m.youtube.com\"\n            || url.host == \"youtube.com\"\n            || url.host == \"music.youtube.com\"\n          ) {\n            if(url.pathname.match(/shorts/)) {\n              video_id = [`v=${url.pathname.split(\"/\").slice(-1)[0]}`];\n              playlist_id = [];\n            } else if(url.pathname.match(/embed/)) {\n              video_id = [`v=${url.pathname.split(\"/\").slice(-1)[0]}`];\n              playlist_id = [];\n            } else {\n              video_id = url.search.substring(1).split(\"&\").filter(e => e.match(/^v=/));\n              playlist_id = url.search.substring(1).split(\"&\").filter(e => e.match(/^list=/));\n            }\n          }\n          if (url.host == \"youtu.be\") {\n            video_id = [`v=${url.pathname.slice(1)}`];\n            playlist_id = [];\n          }\n          let timecode = router.getParam(\"t\", url.search.substring(1));\n          if (playlist_id.length && video_id.length) {\n            return (\n              <GenericEmbed\n                preview={util.crop(props.preview.id, 1024, 270)}\n                url={\n                  `https://youtube.com/embed/${video_id[0].split(\"=\")[1]}?autoplay=1&controls=2&wmode=opaque&list=${playlist_id[0].split(\"=\")[1]}${timecode ? `&start=${timecode}` : \"\"}`\n                }\n                playBtnClass={\"youtube\"}\n              />\n            );\n          }\n          if (playlist_id.length) {\n            return (\n              <GenericEmbed\n                preview={util.crop(props.preview.id, 1024, 270)}\n                url={\n                  `https://youtube.com/embed/videoseries?list=${playlist_id[0].split(\"=\")[1]}&autoplay=1&controls=2&wmode=opaque${timecode ? `&start=${timecode}` : \"\"}`\n                }\n                playBtnClass={\"youtube\"}\n              />\n            );\n          }\n          if (video_id.length) {\n            return (\n              <GenericEmbed\n                preview={util.crop(props.preview.id, 1024, 270)}\n                url={\n                  `https://youtube.com/embed/${video_id[0].split(\"=\")[1]}?autoplay=1&controls=2&wmode=opaque${timecode ? `&start=${timecode}` : \"\"}`\n                }\n                playBtnClass={\"youtube\"}\n              />\n            );\n          }\n        }\n      }\n    }\n    if (props.data[\"content-type\"] == \"image/gif\") {\n      return (\n        <div class=\"container d-flex justify-content-center flex-wrap align-items-center\">\n          <img\n            href={util.toApp(props.url)}\n            class=\"img-fluid\"\n            data-origin={props.url}\n            data-src={props.url}\n            src={props.url}\n          />\n        </div>\n      );\n    }\n    if (/image/.test(props.data[\"content-type\"])) {\n      return (\n        <div class=\"container d-flex justify-content-center flex-wrap align-items-center\">\n          <a\n            href={util.toApp(props.url)}\n            class=\"glightbox\"\n            data-type=\"image\"\n            data-srcset={`${util.thumbnail(props.preview.id, 720)} 720w, ${util.thumbnail(props.preview.id, 1366)} 1366w, ${util.thumbnail(props.preview.id, 2048)} 2048w`}\n            data-sizes=\"(max-width: 992px) 720px, (max-width: 1400px) 1366px, 2048px\"\n            onClick={e => openLightbox(e)}\n          >\n            <img\n              href={util.toApp(props.url)}\n              class=\"img-fluid cursor-pointer\"\n              data-origin={props.url}\n              data-src={util.thumbnail(props.preview.id, 1366)}\n              src={util.thumbnail(props.preview.id, 2048)}\n            />\n          </a>\n        </div>\n      );\n    }\n    // application/ogg: https://developer.mozilla.org/en-US/docs/Web/HTTP/Configuring_servers_for_Ogg_media\n    if (/video/.test(props.data[\"content-type\"]) || props.data[\"content-type\"] == \"application/ogg\") {\n      return (\n        <div class=\"container d-flex justify-content-center flex-wrap align-items-center\">\n          <video class=\"img-fluid\" controls src={props.url} />\n        </div>\n      );\n    }\n    if (/audio/.test(props.data[\"content-type\"])) {\n      return (\n        <div class=\"container d-flex justify-content-center flex-wrap align-items-center\">\n          <audio class=\"w-100\" controls>\n            <source src={props.url} />\n          </audio>\n        </div>\n      );\n    }\n    if (\n      props.data[\"title\"] &&\n      (props.preview || props.data[\"description\"])\n    ) {\n      return (\n        <a\n          class=\"preview-card seamless-link d-inline-block\"\n          target=\"_blank\"\n          rel=\"noreferrer\"\n          href={util.toApp(props.url)}\n        >\n          <div class=\"card\" style=\"max-width: 480px\">\n            {props.preview && (\n              <img\n                class=\"card-img-top\"\n                src={util.crop(props.preview.id, 320, 180)}\n              />\n            )}\n            <div class=\"card-body p-1\">\n              <h5>{props.data[\"title\"]}</h5>\n              {props.data[\"description\"] && (\n                <p>\n                  <small>{props.data[\"description\"].slice(0, 500)}</small>\n                </p>\n              )}\n            </div>\n          </div>\n        </a>\n      );\n    }\n    return null;\n  };\n\n  if (!props.url || !props.data) {\n    return null;\n  }\n  let preview = getPreview();\n  if (preview) {\n    return <p class=\"text-center card-text\">{preview}</p>;\n  }\n  return null;\n}\n","import { h, Component } from \"preact\";\n\nexport default class BandCampEmbed extends Component {\n  render() {\n    const embedUrl =\n      `${this.props.url \n      }/size=large/bgcol=f5f5f5/linkcol=0687f5/minimal=true/tracklist=false/`;\n    if (this.state.revealed) {\n      return (\n        <div class=\"bandcamp-embed embed-responsive embed-responsive-1by1\">\n          <iframe class=\"embed-responsive-item\" src={embedUrl} />\n        </div>\n      );\n    }\n    return (\n      <div\n        class=\"embed-preview\"\n        onClick={() => this.setState({ revealed: true })}\n      >\n        <div class=\"bandcamp\" />\n        <img src={this.props.preview} />\n      </div>\n    );\n  }\n}\n","import { h, Component } from \"preact\";\n\nexport default class GenericEmbed extends Component {\n  render() {\n    if (this.state.revealed) {\n      return (\n        <div class=\"embed-responsive embed-responsive-16by9\">\n          <iframe\n            allowfullscreen\n            class=\"embed-responsive-item\"\n            src={this.props.url}\n          />\n        </div>\n      );\n    }\n    return (\n      <div\n        class=\"embed-preview\"\n        onClick={() => this.setState({revealed: true})}\n      >\n        <div className={this.props.playBtnClass} />\n        <img src={this.props.preview} />\n      </div>\n    );\n  }\n}\n","!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):(e=e||self).GLightbox=t()}(this,(function(){\"use strict\";function e(t){return(e=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function i(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}var s=Date.now();function l(){var e={},t=!0,i=0,n=arguments.length;\"[object Boolean]\"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],i++);for(var s=function(i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t&&\"[object Object]\"===Object.prototype.toString.call(i[n])?e[n]=l(!0,e[n],i[n]):e[n]=i[n])};i<n;i++){var o=arguments[i];s(o)}return e}function o(e,t){if((k(e)||e===window||e===document)&&(e=[e]),A(e)||L(e)||(e=[e]),0!=P(e))if(A(e)&&!L(e))for(var i=e.length,n=0;n<i&&!1!==t.call(e[n],e[n],n,e);n++);else if(L(e))for(var s in e)if(O(e,s)&&!1===t.call(e[s],e[s],s,e))break}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=e[s]=e[s]||[],l={all:n,evt:null,found:null};return t&&i&&P(n)>0&&o(n,(function(e,n){if(e.eventName==t&&e.fn.toString()==i.toString())return l.found=!0,l.evt=n,!1})),l}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.onElement,n=t.withCallback,s=t.avoidDuplicate,l=void 0===s||s,a=t.once,h=void 0!==a&&a,d=t.useCapture,c=void 0!==d&&d,u=arguments.length>2?arguments[2]:void 0,g=i||[];function v(e){T(n)&&n.call(u,e,this),h&&v.destroy()}return C(g)&&(g=document.querySelectorAll(g)),v.destroy=function(){o(g,(function(t){var i=r(t,e,v);i.found&&i.all.splice(i.evt,1),t.removeEventListener&&t.removeEventListener(e,v,c)}))},o(g,(function(t){var i=r(t,e,v);(t.addEventListener&&l&&!i.found||!l)&&(t.addEventListener(e,v,c),i.all.push({eventName:e,fn:v}))})),v}function h(e,t){o(t.split(\" \"),(function(t){return e.classList.add(t)}))}function d(e,t){o(t.split(\" \"),(function(t){return e.classList.remove(t)}))}function c(e,t){return e.classList.contains(t)}function u(e,t){for(;e!==document.body;){if(!(e=e.parentElement))return!1;if(\"function\"==typeof e.matches?e.matches(t):e.msMatchesSelector(t))return e}}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e||\"\"===t)return!1;if(\"none\"===t)return T(i)&&i(),!1;var n=x(),s=t.split(\" \");o(s,(function(t){h(e,\"g\"+t)})),a(n,{onElement:e,avoidDuplicate:!1,once:!0,withCallback:function(e,t){o(s,(function(e){d(t,\"g\"+e)})),T(i)&&i()}})}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\";if(\"\"===t)return e.style.webkitTransform=\"\",e.style.MozTransform=\"\",e.style.msTransform=\"\",e.style.OTransform=\"\",e.style.transform=\"\",!1;e.style.webkitTransform=t,e.style.MozTransform=t,e.style.msTransform=t,e.style.OTransform=t,e.style.transform=t}function f(e){e.style.display=\"block\"}function p(e){e.style.display=\"none\"}function m(e){var t=document.createDocumentFragment(),i=document.createElement(\"div\");for(i.innerHTML=e;i.firstChild;)t.appendChild(i.firstChild);return t}function y(){return{width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}}function x(){var e,t=document.createElement(\"fakeelement\"),i={animation:\"animationend\",OAnimation:\"oAnimationEnd\",MozAnimation:\"animationend\",WebkitAnimation:\"webkitAnimationEnd\"};for(e in i)if(void 0!==t.style[e])return i[e]}function b(e,t,i,n){if(e())t();else{var s;i||(i=100);var l=setInterval((function(){e()&&(clearInterval(l),s&&clearTimeout(s),t())}),i);n&&(s=setTimeout((function(){clearInterval(l)}),n))}}function S(e,t,i){if(I(e))console.error(\"Inject assets error\");else if(T(t)&&(i=t,t=!1),C(t)&&t in window)T(i)&&i();else{var n;if(-1!==e.indexOf(\".css\")){if((n=document.querySelectorAll('link[href=\"'+e+'\"]'))&&n.length>0)return void(T(i)&&i());var s=document.getElementsByTagName(\"head\")[0],l=s.querySelectorAll('link[rel=\"stylesheet\"]'),o=document.createElement(\"link\");return o.rel=\"stylesheet\",o.type=\"text/css\",o.href=e,o.media=\"all\",l?s.insertBefore(o,l[0]):s.appendChild(o),void(T(i)&&i())}if((n=document.querySelectorAll('script[src=\"'+e+'\"]'))&&n.length>0){if(T(i)){if(C(t))return b((function(){return void 0!==window[t]}),(function(){i()})),!1;i()}}else{var r=document.createElement(\"script\");r.type=\"text/javascript\",r.src=e,r.onload=function(){if(T(i)){if(C(t))return b((function(){return void 0!==window[t]}),(function(){i()})),!1;i()}},document.body.appendChild(r)}}}function w(){return\"navigator\"in window&&window.navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(Android)|(PlayBook)|(BB10)|(BlackBerry)|(Opera Mini)|(IEMobile)|(webOS)|(MeeGo)/i)}function T(e){return\"function\"==typeof e}function C(e){return\"string\"==typeof e}function k(e){return!(!e||!e.nodeType||1!=e.nodeType)}function E(e){return Array.isArray(e)}function A(e){return e&&e.length&&isFinite(e.length)}function L(t){return\"object\"===e(t)&&null!=t&&!T(t)&&!E(t)}function I(e){return null==e}function O(e,t){return null!==e&&hasOwnProperty.call(e,t)}function P(e){if(L(e)){if(e.keys)return e.keys().length;var t=0;for(var i in e)O(e,i)&&t++;return t}return e.length}function M(e){return!isNaN(parseFloat(e))&&isFinite(e)}function z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=document.querySelectorAll(\".gbtn[data-taborder]:not(.disabled)\");if(!t.length)return!1;if(1==t.length)return t[0];\"string\"==typeof e&&(e=parseInt(e));var i=[];o(t,(function(e){i.push(e.getAttribute(\"data-taborder\"))}));var n=Math.max.apply(Math,i.map((function(e){return parseInt(e)}))),s=e<0?1:e+1;s>n&&(s=\"1\");var l=i.filter((function(e){return e>=parseInt(s)})),r=l.sort()[0];return document.querySelector('.gbtn[data-taborder=\"'.concat(r,'\"]'))}function X(e){if(e.events.hasOwnProperty(\"keyboard\"))return!1;e.events.keyboard=a(\"keydown\",{onElement:window,withCallback:function(t,i){var n=(t=t||window.event).keyCode;if(9==n){var s=document.querySelector(\".gbtn.focused\");if(!s){var l=!(!document.activeElement||!document.activeElement.nodeName)&&document.activeElement.nodeName.toLocaleLowerCase();if(\"input\"==l||\"textarea\"==l||\"button\"==l)return}t.preventDefault();var o=document.querySelectorAll(\".gbtn[data-taborder]\");if(!o||o.length<=0)return;if(!s){var r=z();return void(r&&(r.focus(),h(r,\"focused\")))}var a=z(s.getAttribute(\"data-taborder\"));d(s,\"focused\"),a&&(a.focus(),h(a,\"focused\"))}39==n&&e.nextSlide(),37==n&&e.prevSlide(),27==n&&e.close()}})}function Y(e){return Math.sqrt(e.x*e.x+e.y*e.y)}function q(e,t){var i=function(e,t){var i=Y(e)*Y(t);if(0===i)return 0;var n=function(e,t){return e.x*t.x+e.y*t.y}(e,t)/i;return n>1&&(n=1),Math.acos(n)}(e,t);return function(e,t){return e.x*t.y-t.x*e.y}(e,t)>0&&(i*=-1),180*i/Math.PI}var N=function(){function e(i){t(this,e),this.handlers=[],this.el=i}return n(e,[{key:\"add\",value:function(e){this.handlers.push(e)}},{key:\"del\",value:function(e){e||(this.handlers=[]);for(var t=this.handlers.length;t>=0;t--)this.handlers[t]===e&&this.handlers.splice(t,1)}},{key:\"dispatch\",value:function(){for(var e=0,t=this.handlers.length;e<t;e++){var i=this.handlers[e];\"function\"==typeof i&&i.apply(this.el,arguments)}}}]),e}();function D(e,t){var i=new N(e);return i.add(t),i}var _=function(){function e(i,n){t(this,e),this.element=\"string\"==typeof i?document.querySelector(i):i,this.start=this.start.bind(this),this.move=this.move.bind(this),this.end=this.end.bind(this),this.cancel=this.cancel.bind(this),this.element.addEventListener(\"touchstart\",this.start,!1),this.element.addEventListener(\"touchmove\",this.move,!1),this.element.addEventListener(\"touchend\",this.end,!1),this.element.addEventListener(\"touchcancel\",this.cancel,!1),this.preV={x:null,y:null},this.pinchStartLen=null,this.zoom=1,this.isDoubleTap=!1;var s=function(){};this.rotate=D(this.element,n.rotate||s),this.touchStart=D(this.element,n.touchStart||s),this.multipointStart=D(this.element,n.multipointStart||s),this.multipointEnd=D(this.element,n.multipointEnd||s),this.pinch=D(this.element,n.pinch||s),this.swipe=D(this.element,n.swipe||s),this.tap=D(this.element,n.tap||s),this.doubleTap=D(this.element,n.doubleTap||s),this.longTap=D(this.element,n.longTap||s),this.singleTap=D(this.element,n.singleTap||s),this.pressMove=D(this.element,n.pressMove||s),this.twoFingerPressMove=D(this.element,n.twoFingerPressMove||s),this.touchMove=D(this.element,n.touchMove||s),this.touchEnd=D(this.element,n.touchEnd||s),this.touchCancel=D(this.element,n.touchCancel||s),this.translateContainer=this.element,this._cancelAllHandler=this.cancelAll.bind(this),window.addEventListener(\"scroll\",this._cancelAllHandler),this.delta=null,this.last=null,this.now=null,this.tapTimeout=null,this.singleTapTimeout=null,this.longTapTimeout=null,this.swipeTimeout=null,this.x1=this.x2=this.y1=this.y2=null,this.preTapPosition={x:null,y:null}}return n(e,[{key:\"start\",value:function(e){if(e.touches){if(e.target&&e.target.nodeName&&[\"a\",\"button\",\"input\"].indexOf(e.target.nodeName.toLowerCase())>=0)console.log(\"ignore drag for this touched element\",e.target.nodeName.toLowerCase());else{this.now=Date.now(),this.x1=e.touches[0].pageX,this.y1=e.touches[0].pageY,this.delta=this.now-(this.last||this.now),this.touchStart.dispatch(e,this.element),null!==this.preTapPosition.x&&(this.isDoubleTap=this.delta>0&&this.delta<=250&&Math.abs(this.preTapPosition.x-this.x1)<30&&Math.abs(this.preTapPosition.y-this.y1)<30,this.isDoubleTap&&clearTimeout(this.singleTapTimeout)),this.preTapPosition.x=this.x1,this.preTapPosition.y=this.y1,this.last=this.now;var t=this.preV;if(e.touches.length>1){this._cancelLongTap(),this._cancelSingleTap();var i={x:e.touches[1].pageX-this.x1,y:e.touches[1].pageY-this.y1};t.x=i.x,t.y=i.y,this.pinchStartLen=Y(t),this.multipointStart.dispatch(e,this.element)}this._preventTap=!1,this.longTapTimeout=setTimeout(function(){this.longTap.dispatch(e,this.element),this._preventTap=!0}.bind(this),750)}}}},{key:\"move\",value:function(e){if(e.touches){var t=this.preV,i=e.touches.length,n=e.touches[0].pageX,s=e.touches[0].pageY;if(this.isDoubleTap=!1,i>1){var l=e.touches[1].pageX,o=e.touches[1].pageY,r={x:e.touches[1].pageX-n,y:e.touches[1].pageY-s};null!==t.x&&(this.pinchStartLen>0&&(e.zoom=Y(r)/this.pinchStartLen,this.pinch.dispatch(e,this.element)),e.angle=q(r,t),this.rotate.dispatch(e,this.element)),t.x=r.x,t.y=r.y,null!==this.x2&&null!==this.sx2?(e.deltaX=(n-this.x2+l-this.sx2)/2,e.deltaY=(s-this.y2+o-this.sy2)/2):(e.deltaX=0,e.deltaY=0),this.twoFingerPressMove.dispatch(e,this.element),this.sx2=l,this.sy2=o}else{if(null!==this.x2){e.deltaX=n-this.x2,e.deltaY=s-this.y2;var a=Math.abs(this.x1-this.x2),h=Math.abs(this.y1-this.y2);(a>10||h>10)&&(this._preventTap=!0)}else e.deltaX=0,e.deltaY=0;this.pressMove.dispatch(e,this.element)}this.touchMove.dispatch(e,this.element),this._cancelLongTap(),this.x2=n,this.y2=s,i>1&&e.preventDefault()}}},{key:\"end\",value:function(e){if(e.changedTouches){this._cancelLongTap();var t=this;e.touches.length<2&&(this.multipointEnd.dispatch(e,this.element),this.sx2=this.sy2=null),this.x2&&Math.abs(this.x1-this.x2)>30||this.y2&&Math.abs(this.y1-this.y2)>30?(e.direction=this._swipeDirection(this.x1,this.x2,this.y1,this.y2),this.swipeTimeout=setTimeout((function(){t.swipe.dispatch(e,t.element)}),0)):(this.tapTimeout=setTimeout((function(){t._preventTap||t.tap.dispatch(e,t.element),t.isDoubleTap&&(t.doubleTap.dispatch(e,t.element),t.isDoubleTap=!1)}),0),t.isDoubleTap||(t.singleTapTimeout=setTimeout((function(){t.singleTap.dispatch(e,t.element)}),250))),this.touchEnd.dispatch(e,this.element),this.preV.x=0,this.preV.y=0,this.zoom=1,this.pinchStartLen=null,this.x1=this.x2=this.y1=this.y2=null}}},{key:\"cancelAll\",value:function(){this._preventTap=!0,clearTimeout(this.singleTapTimeout),clearTimeout(this.tapTimeout),clearTimeout(this.longTapTimeout),clearTimeout(this.swipeTimeout)}},{key:\"cancel\",value:function(e){this.cancelAll(),this.touchCancel.dispatch(e,this.element)}},{key:\"_cancelLongTap\",value:function(){clearTimeout(this.longTapTimeout)}},{key:\"_cancelSingleTap\",value:function(){clearTimeout(this.singleTapTimeout)}},{key:\"_swipeDirection\",value:function(e,t,i,n){return Math.abs(e-t)>=Math.abs(i-n)?e-t>0?\"Left\":\"Right\":i-n>0?\"Up\":\"Down\"}},{key:\"on\",value:function(e,t){this[e]&&this[e].add(t)}},{key:\"off\",value:function(e,t){this[e]&&this[e].del(t)}},{key:\"destroy\",value:function(){return this.singleTapTimeout&&clearTimeout(this.singleTapTimeout),this.tapTimeout&&clearTimeout(this.tapTimeout),this.longTapTimeout&&clearTimeout(this.longTapTimeout),this.swipeTimeout&&clearTimeout(this.swipeTimeout),this.element.removeEventListener(\"touchstart\",this.start),this.element.removeEventListener(\"touchmove\",this.move),this.element.removeEventListener(\"touchend\",this.end),this.element.removeEventListener(\"touchcancel\",this.cancel),this.rotate.del(),this.touchStart.del(),this.multipointStart.del(),this.multipointEnd.del(),this.pinch.del(),this.swipe.del(),this.tap.del(),this.doubleTap.del(),this.longTap.del(),this.singleTap.del(),this.pressMove.del(),this.twoFingerPressMove.del(),this.touchMove.del(),this.touchEnd.del(),this.touchCancel.del(),this.preV=this.pinchStartLen=this.zoom=this.isDoubleTap=this.delta=this.last=this.now=this.tapTimeout=this.singleTapTimeout=this.longTapTimeout=this.swipeTimeout=this.x1=this.x2=this.y1=this.y2=this.preTapPosition=this.rotate=this.touchStart=this.multipointStart=this.multipointEnd=this.pinch=this.swipe=this.tap=this.doubleTap=this.longTap=this.singleTap=this.pressMove=this.touchMove=this.touchEnd=this.touchCancel=this.twoFingerPressMove=null,window.removeEventListener(\"scroll\",this._cancelAllHandler),null}}]),e}();function W(e){var t=function(){var e,t=document.createElement(\"fakeelement\"),i={transition:\"transitionend\",OTransition:\"oTransitionEnd\",MozTransition:\"transitionend\",WebkitTransition:\"webkitTransitionEnd\"};for(e in i)if(void 0!==t.style[e])return i[e]}(),i=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,n=c(e,\"gslide-media\")?e:e.querySelector(\".gslide-media\"),s=u(n,\".ginner-container\"),l=e.querySelector(\".gslide-description\");i>769&&(n=s),h(n,\"greset\"),v(n,\"translate3d(0, 0, 0)\"),a(t,{onElement:n,once:!0,withCallback:function(e,t){d(n,\"greset\")}}),n.style.opacity=\"\",l&&(l.style.opacity=\"\")}function B(e){if(e.events.hasOwnProperty(\"touch\"))return!1;var t,i,n,s=y(),l=s.width,o=s.height,r=!1,a=null,g=null,f=null,p=!1,m=1,x=1,b=!1,S=!1,w=null,T=null,C=null,k=null,E=0,A=0,L=!1,I=!1,O={},P={},M=0,z=0,X=document.getElementById(\"glightbox-slider\"),Y=document.querySelector(\".goverlay\"),q=new _(X,{touchStart:function(t){if(r=!0,(c(t.targetTouches[0].target,\"ginner-container\")||u(t.targetTouches[0].target,\".gslide-desc\")||\"a\"==t.targetTouches[0].target.nodeName.toLowerCase())&&(r=!1),u(t.targetTouches[0].target,\".gslide-inline\")&&!c(t.targetTouches[0].target.parentNode,\"gslide-inline\")&&(r=!1),r){if(P=t.targetTouches[0],O.pageX=t.targetTouches[0].pageX,O.pageY=t.targetTouches[0].pageY,M=t.targetTouches[0].clientX,z=t.targetTouches[0].clientY,a=e.activeSlide,g=a.querySelector(\".gslide-media\"),n=a.querySelector(\".gslide-inline\"),f=null,c(g,\"gslide-image\")&&(f=g.querySelector(\"img\")),(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)>769&&(g=a.querySelector(\".ginner-container\")),d(Y,\"greset\"),t.pageX>20&&t.pageX<window.innerWidth-20)return;t.preventDefault()}},touchMove:function(s){if(r&&(P=s.targetTouches[0],!b&&!S)){if(n&&n.offsetHeight>o){var a=O.pageX-P.pageX;if(Math.abs(a)<=13)return!1}p=!0;var h,d=s.targetTouches[0].clientX,c=s.targetTouches[0].clientY,u=M-d,m=z-c;if(Math.abs(u)>Math.abs(m)?(L=!1,I=!0):(I=!1,L=!0),t=P.pageX-O.pageX,E=100*t/l,i=P.pageY-O.pageY,A=100*i/o,L&&f&&(h=1-Math.abs(i)/o,Y.style.opacity=h,e.settings.touchFollowAxis&&(E=0)),I&&(h=1-Math.abs(t)/l,g.style.opacity=h,e.settings.touchFollowAxis&&(A=0)),!f)return v(g,\"translate3d(\".concat(E,\"%, 0, 0)\"));v(g,\"translate3d(\".concat(E,\"%, \").concat(A,\"%, 0)\"))}},touchEnd:function(){if(r){if(p=!1,S||b)return C=w,void(k=T);var t=Math.abs(parseInt(A)),i=Math.abs(parseInt(E));if(!(t>29&&f))return t<29&&i<25?(h(Y,\"greset\"),Y.style.opacity=1,W(g)):void 0;e.close()}},multipointEnd:function(){setTimeout((function(){b=!1}),50)},multipointStart:function(){b=!0,m=x||1},pinch:function(e){if(!f||p)return!1;b=!0,f.scaleX=f.scaleY=m*e.zoom;var t=m*e.zoom;if(S=!0,t<=1)return S=!1,t=1,k=null,C=null,w=null,T=null,void f.setAttribute(\"style\",\"\");t>4.5&&(t=4.5),f.style.transform=\"scale3d(\".concat(t,\", \").concat(t,\", 1)\"),x=t},pressMove:function(e){if(S&&!b){var t=P.pageX-O.pageX,i=P.pageY-O.pageY;C&&(t+=C),k&&(i+=k),w=t,T=i;var n=\"translate3d(\".concat(t,\"px, \").concat(i,\"px, 0)\");x&&(n+=\" scale3d(\".concat(x,\", \").concat(x,\", 1)\")),v(f,n)}},swipe:function(t){if(!S)if(b)b=!1;else{if(\"Left\"==t.direction){if(e.index==e.elements.length-1)return W(g);e.nextSlide()}if(\"Right\"==t.direction){if(0==e.index)return W(g);e.prevSlide()}}}});e.events.touch=q}var H=function(){function e(i,n){var s=this,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(t(this,e),this.img=i,this.slide=n,this.onclose=l,this.img.setZoomEvents)return!1;this.active=!1,this.zoomedIn=!1,this.dragging=!1,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.img.addEventListener(\"mousedown\",(function(e){return s.dragStart(e)}),!1),this.img.addEventListener(\"mouseup\",(function(e){return s.dragEnd(e)}),!1),this.img.addEventListener(\"mousemove\",(function(e){return s.drag(e)}),!1),this.img.addEventListener(\"click\",(function(e){return s.slide.classList.contains(\"dragging-nav\")?(s.zoomOut(),!1):s.zoomedIn?void(s.zoomedIn&&!s.dragging&&s.zoomOut()):s.zoomIn()}),!1),this.img.setZoomEvents=!0}return n(e,[{key:\"zoomIn\",value:function(){var e=this.widowWidth();if(!(this.zoomedIn||e<=768)){var t=this.img;if(t.setAttribute(\"data-style\",t.getAttribute(\"style\")),t.style.maxWidth=t.naturalWidth+\"px\",t.style.maxHeight=t.naturalHeight+\"px\",t.naturalWidth>e){var i=e/2-t.naturalWidth/2;this.setTranslate(this.img.parentNode,i,0)}this.slide.classList.add(\"zoomed\"),this.zoomedIn=!0}}},{key:\"zoomOut\",value:function(){this.img.parentNode.setAttribute(\"style\",\"\"),this.img.setAttribute(\"style\",this.img.getAttribute(\"data-style\")),this.slide.classList.remove(\"zoomed\"),this.zoomedIn=!1,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.onclose&&\"function\"==typeof this.onclose&&this.onclose()}},{key:\"dragStart\",value:function(e){e.preventDefault(),this.zoomedIn?(\"touchstart\"===e.type?(this.initialX=e.touches[0].clientX-this.xOffset,this.initialY=e.touches[0].clientY-this.yOffset):(this.initialX=e.clientX-this.xOffset,this.initialY=e.clientY-this.yOffset),e.target===this.img&&(this.active=!0,this.img.classList.add(\"dragging\"))):this.active=!1}},{key:\"dragEnd\",value:function(e){var t=this;e.preventDefault(),this.initialX=this.currentX,this.initialY=this.currentY,this.active=!1,setTimeout((function(){t.dragging=!1,t.img.isDragging=!1,t.img.classList.remove(\"dragging\")}),100)}},{key:\"drag\",value:function(e){this.active&&(e.preventDefault(),\"touchmove\"===e.type?(this.currentX=e.touches[0].clientX-this.initialX,this.currentY=e.touches[0].clientY-this.initialY):(this.currentX=e.clientX-this.initialX,this.currentY=e.clientY-this.initialY),this.xOffset=this.currentX,this.yOffset=this.currentY,this.img.isDragging=!0,this.dragging=!0,this.setTranslate(this.img,this.currentX,this.currentY))}},{key:\"onMove\",value:function(e){if(this.zoomedIn){var t=e.clientX-this.img.naturalWidth/2,i=e.clientY-this.img.naturalHeight/2;this.setTranslate(this.img,t,i)}}},{key:\"setTranslate\",value:function(e,t,i){e.style.transform=\"translate3d(\"+t+\"px, \"+i+\"px, 0)\"}},{key:\"widowWidth\",value:function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}}]),e}(),V=function(){function e(){var i=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,e);var s=n.dragEl,l=n.toleranceX,o=void 0===l?40:l,r=n.toleranceY,a=void 0===r?65:r,h=n.slide,d=void 0===h?null:h,c=n.instance,u=void 0===c?null:c;this.el=s,this.active=!1,this.dragging=!1,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.direction=null,this.lastDirection=null,this.toleranceX=o,this.toleranceY=a,this.toleranceReached=!1,this.dragContainer=this.el,this.slide=d,this.instance=u,this.el.addEventListener(\"mousedown\",(function(e){return i.dragStart(e)}),!1),this.el.addEventListener(\"mouseup\",(function(e){return i.dragEnd(e)}),!1),this.el.addEventListener(\"mousemove\",(function(e){return i.drag(e)}),!1)}return n(e,[{key:\"dragStart\",value:function(e){if(this.slide.classList.contains(\"zoomed\"))this.active=!1;else{\"touchstart\"===e.type?(this.initialX=e.touches[0].clientX-this.xOffset,this.initialY=e.touches[0].clientY-this.yOffset):(this.initialX=e.clientX-this.xOffset,this.initialY=e.clientY-this.yOffset);var t=e.target.nodeName.toLowerCase();e.target.classList.contains(\"nodrag\")||u(e.target,\".nodrag\")||-1!==[\"input\",\"select\",\"textarea\",\"button\",\"a\"].indexOf(t)?this.active=!1:(e.preventDefault(),(e.target===this.el||\"img\"!==t&&u(e.target,\".gslide-inline\"))&&(this.active=!0,this.el.classList.add(\"dragging\"),this.dragContainer=u(e.target,\".ginner-container\")))}}},{key:\"dragEnd\",value:function(e){var t=this;e&&e.preventDefault(),this.initialX=0,this.initialY=0,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.active=!1,this.doSlideChange&&(this.instance.preventOutsideClick=!0,\"right\"==this.doSlideChange&&this.instance.prevSlide(),\"left\"==this.doSlideChange&&this.instance.nextSlide()),this.doSlideClose&&this.instance.close(),this.toleranceReached||this.setTranslate(this.dragContainer,0,0,!0),setTimeout((function(){t.instance.preventOutsideClick=!1,t.toleranceReached=!1,t.lastDirection=null,t.dragging=!1,t.el.isDragging=!1,t.el.classList.remove(\"dragging\"),t.slide.classList.remove(\"dragging-nav\"),t.dragContainer.style.transform=\"\",t.dragContainer.style.transition=\"\"}),100)}},{key:\"drag\",value:function(e){if(this.active){e.preventDefault(),this.slide.classList.add(\"dragging-nav\"),\"touchmove\"===e.type?(this.currentX=e.touches[0].clientX-this.initialX,this.currentY=e.touches[0].clientY-this.initialY):(this.currentX=e.clientX-this.initialX,this.currentY=e.clientY-this.initialY),this.xOffset=this.currentX,this.yOffset=this.currentY,this.el.isDragging=!0,this.dragging=!0,this.doSlideChange=!1,this.doSlideClose=!1;var t=Math.abs(this.currentX),i=Math.abs(this.currentY);if(t>0&&t>=Math.abs(this.currentY)&&(!this.lastDirection||\"x\"==this.lastDirection)){this.yOffset=0,this.lastDirection=\"x\",this.setTranslate(this.dragContainer,this.currentX,0);var n=this.shouldChange();if(!this.instance.settings.dragAutoSnap&&n&&(this.doSlideChange=n),this.instance.settings.dragAutoSnap&&n)return this.instance.preventOutsideClick=!0,this.toleranceReached=!0,this.active=!1,this.instance.preventOutsideClick=!0,this.dragEnd(null),\"right\"==n&&this.instance.prevSlide(),void(\"left\"==n&&this.instance.nextSlide())}if(this.toleranceY>0&&i>0&&i>=t&&(!this.lastDirection||\"y\"==this.lastDirection)){this.xOffset=0,this.lastDirection=\"y\",this.setTranslate(this.dragContainer,0,this.currentY);var s=this.shouldClose();return!this.instance.settings.dragAutoSnap&&s&&(this.doSlideClose=!0),void(this.instance.settings.dragAutoSnap&&s&&this.instance.close())}}}},{key:\"shouldChange\",value:function(){var e=!1;if(Math.abs(this.currentX)>=this.toleranceX){var t=this.currentX>0?\"right\":\"left\";(\"left\"==t&&this.slide!==this.slide.parentNode.lastChild||\"right\"==t&&this.slide!==this.slide.parentNode.firstChild)&&(e=t)}return e}},{key:\"shouldClose\",value:function(){var e=!1;return Math.abs(this.currentY)>=this.toleranceY&&(e=!0),e}},{key:\"setTranslate\",value:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.style.transition=n?\"all .2s ease\":\"\",e.style.transform=\"translate3d(\".concat(t,\"px, \").concat(i,\"px, 0)\")}}]),e}();function j(e,t,i,n){var s=e.querySelector(\".gslide-media\"),l=new Image,o=\"gSlideTitle_\"+i,r=\"gSlideDesc_\"+i;l.addEventListener(\"load\",(function(){T(n)&&n()}),!1),l.src=t.href,\"\"!=t.sizes&&\"\"!=t.srcset&&(l.sizes=t.sizes,l.srcset=t.srcset),l.alt=\"\",I(t.alt)||\"\"===t.alt||(l.alt=t.alt),\"\"!==t.title&&l.setAttribute(\"aria-labelledby\",o),\"\"!==t.description&&l.setAttribute(\"aria-describedby\",r),t.hasOwnProperty(\"_hasCustomWidth\")&&t._hasCustomWidth&&(l.style.width=t.width),t.hasOwnProperty(\"_hasCustomHeight\")&&t._hasCustomHeight&&(l.style.height=t.height),s.insertBefore(l,s.firstChild)}function F(e,t,i,n){var s=this,l=e.querySelector(\".ginner-container\"),o=\"gvideo\"+i,r=e.querySelector(\".gslide-media\"),a=this.getAllPlayers();h(l,\"gvideo-container\"),r.insertBefore(m('<div class=\"gvideo-wrapper\"></div>'),r.firstChild);var d=e.querySelector(\".gvideo-wrapper\");S(this.settings.plyr.css,\"Plyr\");var c=t.href,u=null==t?void 0:t.videoProvider,g=!1;r.style.maxWidth=t.width,S(this.settings.plyr.js,\"Plyr\",(function(){if(!u&&c.match(/vimeo\\.com\\/([0-9]*)/)&&(u=\"vimeo\"),!u&&(c.match(/(youtube\\.com|youtube-nocookie\\.com)\\/watch\\?v=([a-zA-Z0-9\\-_]+)/)||c.match(/youtu\\.be\\/([a-zA-Z0-9\\-_]+)/)||c.match(/(youtube\\.com|youtube-nocookie\\.com)\\/embed\\/([a-zA-Z0-9\\-_]+)/))&&(u=\"youtube\"),\"local\"===u||!u){u=\"local\";var l='<video id=\"'+o+'\" ';l+='style=\"background:#000; max-width: '.concat(t.width,';\" '),l+='preload=\"metadata\" ',l+='x-webkit-airplay=\"allow\" ',l+=\"playsinline \",l+=\"controls \",l+='class=\"gvideo-local\">',l+='<source src=\"'.concat(c,'\">'),g=m(l+=\"</video>\")}var r=g||m('<div id=\"'.concat(o,'\" data-plyr-provider=\"').concat(u,'\" data-plyr-embed-id=\"').concat(c,'\"></div>'));h(d,\"\".concat(u,\"-video gvideo\")),d.appendChild(r),d.setAttribute(\"data-id\",o),d.setAttribute(\"data-index\",i);var v=O(s.settings.plyr,\"config\")?s.settings.plyr.config:{},f=new Plyr(\"#\"+o,v);f.on(\"ready\",(function(e){a[o]=e.detail.plyr,T(n)&&n()})),b((function(){return e.querySelector(\"iframe\")&&\"true\"==e.querySelector(\"iframe\").dataset.ready}),(function(){s.resize(e)})),f.on(\"enterfullscreen\",R),f.on(\"exitfullscreen\",R)}))}function R(e){var t=u(e.target,\".gslide-media\");\"enterfullscreen\"===e.type&&h(t,\"fullscreen\"),\"exitfullscreen\"===e.type&&d(t,\"fullscreen\")}function G(e,t,i,n){var s,l=this,o=e.querySelector(\".gslide-media\"),r=!(!O(t,\"href\")||!t.href)&&t.href.split(\"#\").pop().trim(),d=!(!O(t,\"content\")||!t.content)&&t.content;if(d&&(C(d)&&(s=m('<div class=\"ginlined-content\">'.concat(d,\"</div>\"))),k(d))){\"none\"==d.style.display&&(d.style.display=\"block\");var c=document.createElement(\"div\");c.className=\"ginlined-content\",c.appendChild(d),s=c}if(r){var u=document.getElementById(r);if(!u)return!1;var g=u.cloneNode(!0);g.style.height=t.height,g.style.maxWidth=t.width,h(g,\"ginlined-content\"),s=g}if(!s)return console.error(\"Unable to append inline slide content\",t),!1;o.style.height=t.height,o.style.width=t.width,o.appendChild(s),this.events[\"inlineclose\"+r]=a(\"click\",{onElement:o.querySelectorAll(\".gtrigger-close\"),withCallback:function(e){e.preventDefault(),l.close()}}),T(n)&&n()}function Z(e,t,i,n){var s=e.querySelector(\".gslide-media\"),l=function(e){var t=e.url,i=e.allow,n=e.callback,s=e.appendTo,l=document.createElement(\"iframe\");return l.className=\"vimeo-video gvideo\",l.src=t,l.style.width=\"100%\",l.style.height=\"100%\",i&&l.setAttribute(\"allow\",i),l.onload=function(){l.onload=null,h(l,\"node-ready\"),T(n)&&n()},s&&s.appendChild(l),l}({url:t.href,callback:n});s.parentNode.style.maxWidth=t.width,s.parentNode.style.height=t.height,s.appendChild(l)}var U=function(){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,e),this.defaults={href:\"\",sizes:\"\",srcset:\"\",title:\"\",type:\"\",videoProvider:\"\",description:\"\",alt:\"\",descPosition:\"bottom\",effect:\"\",width:\"\",height:\"\",content:!1,zoomable:!0,draggable:!0},L(i)&&(this.defaults=l(this.defaults,i))}return n(e,[{key:\"sourceType\",value:function(e){var t=e;if(null!==(e=e.toLowerCase()).match(/\\.(jpeg|jpg|jpe|gif|png|apn|webp|avif|svg)/))return\"image\";if(e.match(/(youtube\\.com|youtube-nocookie\\.com)\\/watch\\?v=([a-zA-Z0-9\\-_]+)/)||e.match(/youtu\\.be\\/([a-zA-Z0-9\\-_]+)/)||e.match(/(youtube\\.com|youtube-nocookie\\.com)\\/embed\\/([a-zA-Z0-9\\-_]+)/))return\"video\";if(e.match(/vimeo\\.com\\/([0-9]*)/))return\"video\";if(null!==e.match(/\\.(mp4|ogg|webm|mov)/))return\"video\";if(null!==e.match(/\\.(mp3|wav|wma|aac|ogg)/))return\"audio\";if(e.indexOf(\"#\")>-1&&\"\"!==t.split(\"#\").pop().trim())return\"inline\";return e.indexOf(\"goajax=true\")>-1?\"ajax\":\"external\"}},{key:\"parseConfig\",value:function(e,t){var i=this,n=l({descPosition:t.descPosition},this.defaults);if(L(e)&&!k(e)){O(e,\"type\")||(O(e,\"content\")&&e.content?e.type=\"inline\":O(e,\"href\")&&(e.type=this.sourceType(e.href)));var s=l(n,e);return this.setSize(s,t),s}var r=\"\",a=e.getAttribute(\"data-glightbox\"),h=e.nodeName.toLowerCase();if(\"a\"===h&&(r=e.href),\"img\"===h&&(r=e.src,n.alt=e.alt),n.href=r,o(n,(function(s,l){O(t,l)&&\"width\"!==l&&(n[l]=t[l]);var o=e.dataset[l];I(o)||(n[l]=i.sanitizeValue(o))})),n.content&&(n.type=\"inline\"),!n.type&&r&&(n.type=this.sourceType(r)),I(a)){if(!n.title&&\"a\"==h){var d=e.title;I(d)||\"\"===d||(n.title=d)}if(!n.title&&\"img\"==h){var c=e.alt;I(c)||\"\"===c||(n.title=c)}}else{var u=[];o(n,(function(e,t){u.push(\";\\\\s?\"+t)})),u=u.join(\"\\\\s?:|\"),\"\"!==a.trim()&&o(n,(function(e,t){var s=a,l=new RegExp(\"s?\"+t+\"s?:s?(.*?)(\"+u+\"s?:|$)\"),o=s.match(l);if(o&&o.length&&o[1]){var r=o[1].trim().replace(/;\\s*$/,\"\");n[t]=i.sanitizeValue(r)}}))}if(n.description&&\".\"===n.description.substring(0,1)){var g;try{g=document.querySelector(n.description).innerHTML}catch(e){if(!(e instanceof DOMException))throw e}g&&(n.description=g)}if(!n.description){var v=e.querySelector(\".glightbox-desc\");v&&(n.description=v.innerHTML)}return this.setSize(n,t,e),this.slideConfig=n,n}},{key:\"setSize\",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=\"video\"==e.type?this.checkSize(t.videosWidth):this.checkSize(t.width),s=this.checkSize(t.height);return e.width=O(e,\"width\")&&\"\"!==e.width?this.checkSize(e.width):n,e.height=O(e,\"height\")&&\"\"!==e.height?this.checkSize(e.height):s,i&&\"image\"==e.type&&(e._hasCustomWidth=!!i.dataset.width,e._hasCustomHeight=!!i.dataset.height),e}},{key:\"checkSize\",value:function(e){return M(e)?\"\".concat(e,\"px\"):e}},{key:\"sanitizeValue\",value:function(e){return\"true\"!==e&&\"false\"!==e?e:\"true\"===e}}]),e}(),$=function(){function e(i,n,s){t(this,e),this.element=i,this.instance=n,this.index=s}return n(e,[{key:\"setContent\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(c(t,\"loaded\"))return!1;var n=this.instance.settings,s=this.slideConfig,l=w();T(n.beforeSlideLoad)&&n.beforeSlideLoad({index:this.index,slide:t,player:!1});var o=s.type,r=s.descPosition,a=t.querySelector(\".gslide-media\"),d=t.querySelector(\".gslide-title\"),u=t.querySelector(\".gslide-desc\"),g=t.querySelector(\".gdesc-inner\"),v=i,f=\"gSlideTitle_\"+this.index,p=\"gSlideDesc_\"+this.index;if(T(n.afterSlideLoad)&&(v=function(){T(i)&&i(),n.afterSlideLoad({index:e.index,slide:t,player:e.instance.getSlidePlayerInstance(e.index)})}),\"\"==s.title&&\"\"==s.description?g&&g.parentNode.parentNode.removeChild(g.parentNode):(d&&\"\"!==s.title?(d.id=f,d.innerHTML=s.title):d.parentNode.removeChild(d),u&&\"\"!==s.description?(u.id=p,l&&n.moreLength>0?(s.smallDescription=this.slideShortDesc(s.description,n.moreLength,n.moreText),u.innerHTML=s.smallDescription,this.descriptionEvents(u,s)):u.innerHTML=s.description):u.parentNode.removeChild(u),h(a.parentNode,\"desc-\".concat(r)),h(g.parentNode,\"description-\".concat(r))),h(a,\"gslide-\".concat(o)),h(t,\"loaded\"),\"video\"!==o){if(\"external\"!==o)return\"inline\"===o?(G.apply(this.instance,[t,s,this.index,v]),void(s.draggable&&new V({dragEl:t.querySelector(\".gslide-inline\"),toleranceX:n.dragToleranceX,toleranceY:n.dragToleranceY,slide:t,instance:this.instance}))):void(\"image\"!==o?T(v)&&v():j(t,s,this.index,(function(){var i=t.querySelector(\"img\");s.draggable&&new V({dragEl:i,toleranceX:n.dragToleranceX,toleranceY:n.dragToleranceY,slide:t,instance:e.instance}),s.zoomable&&i.naturalWidth>i.offsetWidth&&(h(i,\"zoomable\"),new H(i,t,(function(){e.instance.resize()}))),T(v)&&v()})));Z.apply(this,[t,s,this.index,v])}else F.apply(this.instance,[t,s,this.index,v])}},{key:\"slideShortDesc\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=document.createElement(\"div\");n.innerHTML=e;var s=n.innerText,l=i;if((e=s.trim()).length<=t)return e;var o=e.substr(0,t-1);return l?(n=null,o+'... <a href=\"#\" class=\"desc-more\">'+i+\"</a>\"):o}},{key:\"descriptionEvents\",value:function(e,t){var i=this,n=e.querySelector(\".desc-more\");if(!n)return!1;a(\"click\",{onElement:n,withCallback:function(e,n){e.preventDefault();var s=document.body,l=u(n,\".gslide-desc\");if(!l)return!1;l.innerHTML=t.description,h(s,\"gdesc-open\");var o=a(\"click\",{onElement:[s,u(l,\".gslide-description\")],withCallback:function(e,n){\"a\"!==e.target.nodeName.toLowerCase()&&(d(s,\"gdesc-open\"),h(s,\"gdesc-closed\"),l.innerHTML=t.smallDescription,i.descriptionEvents(l,t),setTimeout((function(){d(s,\"gdesc-closed\")}),400),o.destroy())}})}})}},{key:\"create\",value:function(){return m(this.instance.settings.slideHTML)}},{key:\"getConfig\",value:function(){k(this.element)||this.element.hasOwnProperty(\"draggable\")||(this.element.draggable=this.instance.settings.draggable);var e=new U(this.instance.settings.slideExtraAttributes);return this.slideConfig=e.parseConfig(this.element,this.instance.settings),this.slideConfig}}]),e}(),J=w(),K=null!==w()||void 0!==document.createTouch||\"ontouchstart\"in window||\"onmsgesturechange\"in window||navigator.msMaxTouchPoints,Q=document.getElementsByTagName(\"html\")[0],ee={selector:\".glightbox\",elements:null,skin:\"clean\",theme:\"clean\",closeButton:!0,startAt:null,autoplayVideos:!0,autofocusVideos:!0,descPosition:\"bottom\",width:\"900px\",height:\"506px\",videosWidth:\"960px\",beforeSlideChange:null,afterSlideChange:null,beforeSlideLoad:null,afterSlideLoad:null,slideInserted:null,slideRemoved:null,slideExtraAttributes:null,onOpen:null,onClose:null,loop:!1,zoomable:!0,draggable:!0,dragAutoSnap:!1,dragToleranceX:40,dragToleranceY:65,preload:!0,oneSlidePerOpen:!1,touchNavigation:!0,touchFollowAxis:!0,keyboardNavigation:!0,closeOnOutsideClick:!0,plugins:!1,plyr:{css:\"https://cdn.plyr.io/3.6.12/plyr.css\",js:\"https://cdn.plyr.io/3.6.12/plyr.js\",config:{ratio:\"16:9\",fullscreen:{enabled:!0,iosNative:!0},youtube:{noCookie:!0,rel:0,showinfo:0,iv_load_policy:3},vimeo:{byline:!1,portrait:!1,title:!1,transparent:!1}}},openEffect:\"zoom\",closeEffect:\"zoom\",slideEffect:\"slide\",moreText:\"See more\",moreLength:60,cssEfects:{fade:{in:\"fadeIn\",out:\"fadeOut\"},zoom:{in:\"zoomIn\",out:\"zoomOut\"},slide:{in:\"slideInRight\",out:\"slideOutLeft\"},slideBack:{in:\"slideInLeft\",out:\"slideOutRight\"},none:{in:\"none\",out:\"none\"}},svg:{close:'<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 512 512\" xml:space=\"preserve\"><g><g><path d=\"M505.943,6.058c-8.077-8.077-21.172-8.077-29.249,0L6.058,476.693c-8.077,8.077-8.077,21.172,0,29.249C10.096,509.982,15.39,512,20.683,512c5.293,0,10.586-2.019,14.625-6.059L505.943,35.306C514.019,27.23,514.019,14.135,505.943,6.058z\"/></g></g><g><g><path d=\"M505.942,476.694L35.306,6.059c-8.076-8.077-21.172-8.077-29.248,0c-8.077,8.076-8.077,21.171,0,29.248l470.636,470.636c4.038,4.039,9.332,6.058,14.625,6.058c5.293,0,10.587-2.019,14.624-6.057C514.018,497.866,514.018,484.771,505.942,476.694z\"/></g></g></svg>',next:'<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 477.175 477.175\" xml:space=\"preserve\"> <g><path d=\"M360.731,229.075l-225.1-225.1c-5.3-5.3-13.8-5.3-19.1,0s-5.3,13.8,0,19.1l215.5,215.5l-215.5,215.5c-5.3,5.3-5.3,13.8,0,19.1c2.6,2.6,6.1,4,9.5,4c3.4,0,6.9-1.3,9.5-4l225.1-225.1C365.931,242.875,365.931,234.275,360.731,229.075z\"/></g></svg>',prev:'<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 477.175 477.175\" xml:space=\"preserve\"><g><path d=\"M145.188,238.575l215.5-215.5c5.3-5.3,5.3-13.8,0-19.1s-13.8-5.3-19.1,0l-225.1,225.1c-5.3,5.3-5.3,13.8,0,19.1l225.1,225c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1L145.188,238.575z\"/></g></svg>'},slideHTML:'<div class=\"gslide\">\\n    <div class=\"gslide-inner-content\">\\n        <div class=\"ginner-container\">\\n            <div class=\"gslide-media\">\\n            </div>\\n            <div class=\"gslide-description\">\\n                <div class=\"gdesc-inner\">\\n                    <h4 class=\"gslide-title\"></h4>\\n                    <div class=\"gslide-desc\"></div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>',lightboxHTML:'<div id=\"glightbox-body\" class=\"glightbox-container\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"false\">\\n    <div class=\"gloader visible\"></div>\\n    <div class=\"goverlay\"></div>\\n    <div class=\"gcontainer\">\\n    <div id=\"glightbox-slider\" class=\"gslider\"></div>\\n    <button class=\"gclose gbtn\" aria-label=\"Close\" data-taborder=\"3\">{closeSVG}</button>\\n    <button class=\"gprev gbtn\" aria-label=\"Previous\" data-taborder=\"2\">{prevSVG}</button>\\n    <button class=\"gnext gbtn\" aria-label=\"Next\" data-taborder=\"1\">{nextSVG}</button>\\n</div>\\n</div>'},te=function(){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,e),this.customOptions=i,this.settings=l(ee,i),this.effectsClasses=this.getAnimationClasses(),this.videoPlayers={},this.apiEvents=[],this.fullElementsList=!1}return n(e,[{key:\"init\",value:function(){var e=this,t=this.getSelector();t&&(this.baseEvents=a(\"click\",{onElement:t,withCallback:function(t,i){t.preventDefault(),e.open(i)}})),this.elements=this.getElements()}},{key:\"open\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(0===this.elements.length)return!1;this.activeSlide=null,this.prevActiveSlideIndex=null,this.prevActiveSlide=null;var i=M(t)?t:this.settings.startAt;if(k(e)){var n=e.getAttribute(\"data-gallery\");n&&(this.fullElementsList=this.elements,this.elements=this.getGalleryElements(this.elements,n)),I(i)&&(i=this.getElementIndex(e))<0&&(i=0)}M(i)||(i=0),this.build(),g(this.overlay,\"none\"===this.settings.openEffect?\"none\":this.settings.cssEfects.fade.in);var s=document.body,l=window.innerWidth-document.documentElement.clientWidth;if(l>0){var o=document.createElement(\"style\");o.type=\"text/css\",o.className=\"gcss-styles\",o.innerText=\".gscrollbar-fixer {margin-right: \".concat(l,\"px}\"),document.head.appendChild(o),h(s,\"gscrollbar-fixer\")}h(s,\"glightbox-open\"),h(Q,\"glightbox-open\"),J&&(h(document.body,\"glightbox-mobile\"),this.settings.slideEffect=\"slide\"),this.showSlide(i,!0),1===this.elements.length?(h(this.prevButton,\"glightbox-button-hidden\"),h(this.nextButton,\"glightbox-button-hidden\")):(d(this.prevButton,\"glightbox-button-hidden\"),d(this.nextButton,\"glightbox-button-hidden\")),this.lightboxOpen=!0,this.trigger(\"open\"),T(this.settings.onOpen)&&this.settings.onOpen(),K&&this.settings.touchNavigation&&B(this),this.settings.keyboardNavigation&&X(this)}},{key:\"openAt\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.open(null,e)}},{key:\"showSlide\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];f(this.loader),this.index=parseInt(t);var n=this.slidesContainer.querySelector(\".current\");n&&d(n,\"current\"),this.slideAnimateOut();var s=this.slidesContainer.querySelectorAll(\".gslide\")[t];if(c(s,\"loaded\"))this.slideAnimateIn(s,i),p(this.loader);else{f(this.loader);var l=this.elements[t],o={index:this.index,slide:s,slideNode:s,slideConfig:l.slideConfig,slideIndex:this.index,trigger:l.node,player:null};this.trigger(\"slide_before_load\",o),l.instance.setContent(s,(function(){p(e.loader),e.resize(),e.slideAnimateIn(s,i),e.trigger(\"slide_after_load\",o)}))}this.slideDescription=s.querySelector(\".gslide-description\"),this.slideDescriptionContained=this.slideDescription&&c(this.slideDescription.parentNode,\"gslide-media\"),this.settings.preload&&(this.preloadSlide(t+1),this.preloadSlide(t-1)),this.updateNavigationClasses(),this.activeSlide=s}},{key:\"preloadSlide\",value:function(e){var t=this;if(e<0||e>this.elements.length-1)return!1;if(I(this.elements[e]))return!1;var i=this.slidesContainer.querySelectorAll(\".gslide\")[e];if(c(i,\"loaded\"))return!1;var n=this.elements[e],s=n.type,l={index:e,slide:i,slideNode:i,slideConfig:n.slideConfig,slideIndex:e,trigger:n.node,player:null};this.trigger(\"slide_before_load\",l),\"video\"===s||\"external\"===s?setTimeout((function(){n.instance.setContent(i,(function(){t.trigger(\"slide_after_load\",l)}))}),200):n.instance.setContent(i,(function(){t.trigger(\"slide_after_load\",l)}))}},{key:\"prevSlide\",value:function(){this.goToSlide(this.index-1)}},{key:\"nextSlide\",value:function(){this.goToSlide(this.index+1)}},{key:\"goToSlide\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.prevActiveSlide=this.activeSlide,this.prevActiveSlideIndex=this.index,!this.loop()&&(e<0||e>this.elements.length-1))return!1;e<0?e=this.elements.length-1:e>=this.elements.length&&(e=0),this.showSlide(e)}},{key:\"insertSlide\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;t<0&&(t=this.elements.length);var i=new $(e,this,t),n=i.getConfig(),s=l({},n),o=i.create(),r=this.elements.length-1;s.index=t,s.node=!1,s.instance=i,s.slideConfig=n,this.elements.splice(t,0,s);var a=null,h=null;if(this.slidesContainer){if(t>r)this.slidesContainer.appendChild(o);else{var d=this.slidesContainer.querySelectorAll(\".gslide\")[t];this.slidesContainer.insertBefore(o,d)}(this.settings.preload&&0==this.index&&0==t||this.index-1==t||this.index+1==t)&&this.preloadSlide(t),0===this.index&&0===t&&(this.index=1),this.updateNavigationClasses(),a=this.slidesContainer.querySelectorAll(\".gslide\")[t],h=this.getSlidePlayerInstance(t),s.slideNode=a}this.trigger(\"slide_inserted\",{index:t,slide:a,slideNode:a,slideConfig:n,slideIndex:t,trigger:null,player:h}),T(this.settings.slideInserted)&&this.settings.slideInserted({index:t,slide:a,player:h})}},{key:\"removeSlide\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;if(e<0||e>this.elements.length-1)return!1;var t=this.slidesContainer&&this.slidesContainer.querySelectorAll(\".gslide\")[e];t&&(this.getActiveSlideIndex()==e&&(e==this.elements.length-1?this.prevSlide():this.nextSlide()),t.parentNode.removeChild(t)),this.elements.splice(e,1),this.trigger(\"slide_removed\",e),T(this.settings.slideRemoved)&&this.settings.slideRemoved(e)}},{key:\"slideAnimateIn\",value:function(e,t){var i=this,n=e.querySelector(\".gslide-media\"),s=e.querySelector(\".gslide-description\"),l={index:this.prevActiveSlideIndex,slide:this.prevActiveSlide,slideNode:this.prevActiveSlide,slideIndex:this.prevActiveSlide,slideConfig:I(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].slideConfig,trigger:I(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].node,player:this.getSlidePlayerInstance(this.prevActiveSlideIndex)},o={index:this.index,slide:this.activeSlide,slideNode:this.activeSlide,slideConfig:this.elements[this.index].slideConfig,slideIndex:this.index,trigger:this.elements[this.index].node,player:this.getSlidePlayerInstance(this.index)};if(n.offsetWidth>0&&s&&(p(s),s.style.display=\"\"),d(e,this.effectsClasses),t)g(e,this.settings.cssEfects[this.settings.openEffect].in,(function(){i.settings.autoplayVideos&&i.slidePlayerPlay(e),i.trigger(\"slide_changed\",{prev:l,current:o}),T(i.settings.afterSlideChange)&&i.settings.afterSlideChange.apply(i,[l,o])}));else{var r=this.settings.slideEffect,a=\"none\"!==r?this.settings.cssEfects[r].in:r;this.prevActiveSlideIndex>this.index&&\"slide\"==this.settings.slideEffect&&(a=this.settings.cssEfects.slideBack.in),g(e,a,(function(){i.settings.autoplayVideos&&i.slidePlayerPlay(e),i.trigger(\"slide_changed\",{prev:l,current:o}),T(i.settings.afterSlideChange)&&i.settings.afterSlideChange.apply(i,[l,o])}))}setTimeout((function(){i.resize(e)}),100),h(e,\"current\")}},{key:\"slideAnimateOut\",value:function(){if(!this.prevActiveSlide)return!1;var e=this.prevActiveSlide;d(e,this.effectsClasses),h(e,\"prev\");var t=this.settings.slideEffect,i=\"none\"!==t?this.settings.cssEfects[t].out:t;this.slidePlayerPause(e),this.trigger(\"slide_before_change\",{prev:{index:this.prevActiveSlideIndex,slide:this.prevActiveSlide,slideNode:this.prevActiveSlide,slideIndex:this.prevActiveSlideIndex,slideConfig:I(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].slideConfig,trigger:I(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].node,player:this.getSlidePlayerInstance(this.prevActiveSlideIndex)},current:{index:this.index,slide:this.activeSlide,slideNode:this.activeSlide,slideIndex:this.index,slideConfig:this.elements[this.index].slideConfig,trigger:this.elements[this.index].node,player:this.getSlidePlayerInstance(this.index)}}),T(this.settings.beforeSlideChange)&&this.settings.beforeSlideChange.apply(this,[{index:this.prevActiveSlideIndex,slide:this.prevActiveSlide,player:this.getSlidePlayerInstance(this.prevActiveSlideIndex)},{index:this.index,slide:this.activeSlide,player:this.getSlidePlayerInstance(this.index)}]),this.prevActiveSlideIndex>this.index&&\"slide\"==this.settings.slideEffect&&(i=this.settings.cssEfects.slideBack.out),g(e,i,(function(){var t=e.querySelector(\".ginner-container\"),i=e.querySelector(\".gslide-media\"),n=e.querySelector(\".gslide-description\");t.style.transform=\"\",i.style.transform=\"\",d(i,\"greset\"),i.style.opacity=\"\",n&&(n.style.opacity=\"\"),d(e,\"prev\")}))}},{key:\"getAllPlayers\",value:function(){return this.videoPlayers}},{key:\"getSlidePlayerInstance\",value:function(e){var t=\"gvideo\"+e,i=this.getAllPlayers();return!(!O(i,t)||!i[t])&&i[t]}},{key:\"stopSlideVideo\",value:function(e){if(k(e)){var t=e.querySelector(\".gvideo-wrapper\");t&&(e=t.getAttribute(\"data-index\"))}console.log(\"stopSlideVideo is deprecated, use slidePlayerPause\");var i=this.getSlidePlayerInstance(e);i&&i.playing&&i.pause()}},{key:\"slidePlayerPause\",value:function(e){if(k(e)){var t=e.querySelector(\".gvideo-wrapper\");t&&(e=t.getAttribute(\"data-index\"))}var i=this.getSlidePlayerInstance(e);i&&i.playing&&i.pause()}},{key:\"playSlideVideo\",value:function(e){if(k(e)){var t=e.querySelector(\".gvideo-wrapper\");t&&(e=t.getAttribute(\"data-index\"))}console.log(\"playSlideVideo is deprecated, use slidePlayerPlay\");var i=this.getSlidePlayerInstance(e);i&&!i.playing&&i.play()}},{key:\"slidePlayerPlay\",value:function(e){var t;if(!J||null!==(t=this.settings.plyr.config)&&void 0!==t&&t.muted){if(k(e)){var i=e.querySelector(\".gvideo-wrapper\");i&&(e=i.getAttribute(\"data-index\"))}var n=this.getSlidePlayerInstance(e);n&&!n.playing&&(n.play(),this.settings.autofocusVideos&&n.elements.container.focus())}}},{key:\"setElements\",value:function(e){var t=this;this.settings.elements=!1;var i=[];e&&e.length&&o(e,(function(e,n){var s=new $(e,t,n),o=s.getConfig(),r=l({},o);r.slideConfig=o,r.instance=s,r.index=n,i.push(r)})),this.elements=i,this.lightboxOpen&&(this.slidesContainer.innerHTML=\"\",this.elements.length&&(o(this.elements,(function(){var e=m(t.settings.slideHTML);t.slidesContainer.appendChild(e)})),this.showSlide(0,!0)))}},{key:\"getElementIndex\",value:function(e){var t=!1;return o(this.elements,(function(i,n){if(O(i,\"node\")&&i.node==e)return t=n,!0})),t}},{key:\"getElements\",value:function(){var e=this,t=[];this.elements=this.elements?this.elements:[],!I(this.settings.elements)&&E(this.settings.elements)&&this.settings.elements.length&&o(this.settings.elements,(function(i,n){var s=new $(i,e,n),o=s.getConfig(),r=l({},o);r.node=!1,r.index=n,r.instance=s,r.slideConfig=o,t.push(r)}));var i=!1;return this.getSelector()&&(i=document.querySelectorAll(this.getSelector())),i?(o(i,(function(i,n){var s=new $(i,e,n),o=s.getConfig(),r=l({},o);r.node=i,r.index=n,r.instance=s,r.slideConfig=o,r.gallery=i.getAttribute(\"data-gallery\"),t.push(r)})),t):t}},{key:\"getGalleryElements\",value:function(e,t){return e.filter((function(e){return e.gallery==t}))}},{key:\"getSelector\",value:function(){return!this.settings.elements&&(this.settings.selector&&\"data-\"==this.settings.selector.substring(0,5)?\"*[\".concat(this.settings.selector,\"]\"):this.settings.selector)}},{key:\"getActiveSlide\",value:function(){return this.slidesContainer.querySelectorAll(\".gslide\")[this.index]}},{key:\"getActiveSlideIndex\",value:function(){return this.index}},{key:\"getAnimationClasses\",value:function(){var e=[];for(var t in this.settings.cssEfects)if(this.settings.cssEfects.hasOwnProperty(t)){var i=this.settings.cssEfects[t];e.push(\"g\".concat(i.in)),e.push(\"g\".concat(i.out))}return e.join(\" \")}},{key:\"build\",value:function(){var e=this;if(this.built)return!1;var t=document.body.childNodes,i=[];o(t,(function(e){e.parentNode==document.body&&\"#\"!==e.nodeName.charAt(0)&&e.hasAttribute&&!e.hasAttribute(\"aria-hidden\")&&(i.push(e),e.setAttribute(\"aria-hidden\",\"true\"))}));var n=O(this.settings.svg,\"next\")?this.settings.svg.next:\"\",s=O(this.settings.svg,\"prev\")?this.settings.svg.prev:\"\",l=O(this.settings.svg,\"close\")?this.settings.svg.close:\"\",r=this.settings.lightboxHTML;r=m(r=(r=(r=r.replace(/{nextSVG}/g,n)).replace(/{prevSVG}/g,s)).replace(/{closeSVG}/g,l)),document.body.appendChild(r);var d=document.getElementById(\"glightbox-body\");this.modal=d;var g=d.querySelector(\".gclose\");this.prevButton=d.querySelector(\".gprev\"),this.nextButton=d.querySelector(\".gnext\"),this.overlay=d.querySelector(\".goverlay\"),this.loader=d.querySelector(\".gloader\"),this.slidesContainer=document.getElementById(\"glightbox-slider\"),this.bodyHiddenChildElms=i,this.events={},h(this.modal,\"glightbox-\"+this.settings.skin),this.settings.closeButton&&g&&(this.events.close=a(\"click\",{onElement:g,withCallback:function(t,i){t.preventDefault(),e.close()}})),g&&!this.settings.closeButton&&g.parentNode.removeChild(g),this.nextButton&&(this.events.next=a(\"click\",{onElement:this.nextButton,withCallback:function(t,i){t.preventDefault(),e.nextSlide()}})),this.prevButton&&(this.events.prev=a(\"click\",{onElement:this.prevButton,withCallback:function(t,i){t.preventDefault(),e.prevSlide()}})),this.settings.closeOnOutsideClick&&(this.events.outClose=a(\"click\",{onElement:d,withCallback:function(t,i){e.preventOutsideClick||c(document.body,\"glightbox-mobile\")||u(t.target,\".ginner-container\")||u(t.target,\".gbtn\")||c(t.target,\"gnext\")||c(t.target,\"gprev\")||e.close()}})),o(this.elements,(function(t,i){e.slidesContainer.appendChild(t.instance.create()),t.slideNode=e.slidesContainer.querySelectorAll(\".gslide\")[i]})),K&&h(document.body,\"glightbox-touch\"),this.events.resize=a(\"resize\",{onElement:window,withCallback:function(){e.resize()}}),this.built=!0}},{key:\"resize\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if((e=e||this.activeSlide)&&!c(e,\"zoomed\")){var t=y(),i=e.querySelector(\".gvideo-wrapper\"),n=e.querySelector(\".gslide-image\"),s=this.slideDescription,l=t.width,o=t.height;if(l<=768?h(document.body,\"glightbox-mobile\"):d(document.body,\"glightbox-mobile\"),i||n){var r=!1;if(s&&(c(s,\"description-bottom\")||c(s,\"description-top\"))&&!c(s,\"gabsolute\")&&(r=!0),n)if(l<=768)n.querySelector(\"img\");else if(r){var a=s.offsetHeight,u=n.querySelector(\"img\");u.setAttribute(\"style\",\"max-height: calc(100vh - \".concat(a,\"px)\")),s.setAttribute(\"style\",\"max-width: \".concat(u.offsetWidth,\"px;\"))}if(i){var g=O(this.settings.plyr.config,\"ratio\")?this.settings.plyr.config.ratio:\"\";if(!g){var v=i.clientWidth,f=i.clientHeight,p=v/f;g=\"\".concat(v/p,\":\").concat(f/p)}var m=g.split(\":\"),x=this.settings.videosWidth,b=this.settings.videosWidth,S=(b=M(x)||-1!==x.indexOf(\"px\")?parseInt(x):-1!==x.indexOf(\"vw\")?l*parseInt(x)/100:-1!==x.indexOf(\"vh\")?o*parseInt(x)/100:-1!==x.indexOf(\"%\")?l*parseInt(x)/100:parseInt(i.clientWidth))/(parseInt(m[0])/parseInt(m[1]));if(S=Math.floor(S),r&&(o-=s.offsetHeight),b>l||S>o||o<S&&l>b){var w=i.offsetWidth,T=i.offsetHeight,C=o/T,k={width:w*C,height:T*C};i.parentNode.setAttribute(\"style\",\"max-width: \".concat(k.width,\"px\")),r&&s.setAttribute(\"style\",\"max-width: \".concat(k.width,\"px;\"))}else i.parentNode.style.maxWidth=\"\".concat(x),r&&s.setAttribute(\"style\",\"max-width: \".concat(x,\";\"))}}}}},{key:\"reload\",value:function(){this.init()}},{key:\"updateNavigationClasses\",value:function(){var e=this.loop();d(this.nextButton,\"disabled\"),d(this.prevButton,\"disabled\"),0==this.index&&this.elements.length-1==0?(h(this.prevButton,\"disabled\"),h(this.nextButton,\"disabled\")):0!==this.index||e?this.index!==this.elements.length-1||e||h(this.nextButton,\"disabled\"):h(this.prevButton,\"disabled\")}},{key:\"loop\",value:function(){var e=O(this.settings,\"loopAtEnd\")?this.settings.loopAtEnd:null;return e=O(this.settings,\"loop\")?this.settings.loop:e,e}},{key:\"close\",value:function(){var e=this;if(!this.lightboxOpen){if(this.events){for(var t in this.events)this.events.hasOwnProperty(t)&&this.events[t].destroy();this.events=null}return!1}if(this.closing)return!1;this.closing=!0,this.slidePlayerPause(this.activeSlide),this.fullElementsList&&(this.elements=this.fullElementsList),this.bodyHiddenChildElms.length&&o(this.bodyHiddenChildElms,(function(e){e.removeAttribute(\"aria-hidden\")})),h(this.modal,\"glightbox-closing\"),g(this.overlay,\"none\"==this.settings.openEffect?\"none\":this.settings.cssEfects.fade.out),g(this.activeSlide,this.settings.cssEfects[this.settings.closeEffect].out,(function(){if(e.activeSlide=null,e.prevActiveSlideIndex=null,e.prevActiveSlide=null,e.built=!1,e.events){for(var t in e.events)e.events.hasOwnProperty(t)&&e.events[t].destroy();e.events=null}var i=document.body;d(Q,\"glightbox-open\"),d(i,\"glightbox-open touching gdesc-open glightbox-touch glightbox-mobile gscrollbar-fixer\"),e.modal.parentNode.removeChild(e.modal),e.trigger(\"close\"),T(e.settings.onClose)&&e.settings.onClose();var n=document.querySelector(\".gcss-styles\");n&&n.parentNode.removeChild(n),e.lightboxOpen=!1,e.closing=null}))}},{key:\"destroy\",value:function(){this.close(),this.clearAllEvents(),this.baseEvents&&this.baseEvents.destroy()}},{key:\"on\",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e||!T(t))throw new TypeError(\"Event name and callback must be defined\");this.apiEvents.push({evt:e,once:i,callback:t})}},{key:\"once\",value:function(e,t){this.on(e,t,!0)}},{key:\"trigger\",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=[];o(this.apiEvents,(function(t,s){var l=t.evt,o=t.once,r=t.callback;l==e&&(r(i),o&&n.push(s))})),n.length&&o(n,(function(e){return t.apiEvents.splice(e,1)}))}},{key:\"clearAllEvents\",value:function(){this.apiEvents.splice(0,this.apiEvents.length)}},{key:\"version\",value:function(){return\"3.1.0\"}}]),e}();return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new te(e);return t.init(),t}}));","import { h } from \"preact\";\nimport { BigFile, MiniFile } from \"/src/embed\";\n\nexport default function FileGrid(props) {\n\n  const toggleFile = (evt) => {\n    evt.stopPropagation();\n    evt.preventDefault();\n    if (typeof props.toggleFile == \"function\") {\n      props.toggleFile(evt.target.closest(\".file-embed\").id);\n    }\n  };\n\n  if (!props.files || props.files.length === 0) {\n    return null;\n  }\n  if (props.files && props.files.length > 3) {\n    return (\n      <div class=\"file-grid\">\n        {props.files\n          .map(e => (\n            <MiniFile\n              key={e.id}\n              invertFiles={props.invertFiles}\n              toggleFile={toggleFile}\n              file={e}\n              inWriter={props.inWriter}\n            />\n          ))}\n      </div>\n    );\n  }\n  return (\n    <div class=\"d-flex justify-content-center flex-wrap\">\n      {props.files\n        .map(e => (\n          <BigFile\n            key={e.id}\n            toggleFile={toggleFile}\n            invertFiles={props.invertFiles}\n            file={e}\n            inWriter={props.inWriter}\n          />\n        ))}\n    </div>\n  );\n}\n","import { h } from \"preact\";\nimport { util } from \"/src/core\";\nimport { FaIcon } from \"/src/misc\";\nimport { useTranslation } from \"react-i18next\";\nimport { useState, useEffect } from \"preact/hooks\";\nimport GLightbox from \"glightbox\";\n\nexport default function BigFile(props) {\n\n  const [lightbox, setLightbox] = useState(null);\n\n  const { t } = useTranslation();\n  const filePath = props.file.contentUrl ? `/files/${props.file.contentUrl}` : null;\n  let url = filePath;\n\n  useEffect(() => {\n    setLightbox(GLightbox({\n      autoplayVideos: false,\n      draggable: true,\n      loop: false,\n      touchNavigation: true,\n      zoomable: true,\n      elements: [],\n    }));\n  }, []);\n\n  const openLightbox = evt => {\n    if (!props.inWriter) {\n      evt.preventDefault();\n      evt.stopPropagation();\n      if (lightbox != null && Array.from(document.getElementsByClassName(\"glightbox\")).length > 0) {\n        const elements = Array.from(document.getElementsByClassName(\"glightbox\")).map(e => {\n          const r = {href: e.href};\n          if (e?.dataset?.width) {\n            r.width = e?.dataset?.width;\n          }\n          if (e?.dataset?.height) {\n            r.height = e?.dataset?.height;\n          }\n          if (e?.dataset?.type) {\n            r.type = e?.dataset?.type;\n          }\n          if (e?.dataset?.srcset) {\n            r.srcset = e?.dataset?.srcset;\n          }\n          if (e?.dataset?.sizes) {\n            r.sizes = e?.dataset?.sizes;\n          }\n          return r;\n        });\n        lightbox.setElements(elements);\n        lightbox.open(null, elements.findIndex(e => e.href === evt.target.closest(\".glightbox\").href));\n      }\n    }\n  };\n\n  if (props.file.contentUrl) {\n    if (/video/.test(props.file.type)) {\n      if (props.file.status == \"ready\") {\n        return (\n          <video\n            draggable=\"false\"\n            poster={util.thumbnail(props.file.id, 1280, 720)}\n            class=\"file-embed img-fluid contained-height video\"\n            controls=\"true\"\n            src={url}\n            id={props.file.id}\n          />\n        );\n      }\n      return (\n        <a class=\"file-embed file-loading image video-uploaded\" id={props.file.id}>\n          <img\n            class=\"img-fluid video-raw\"\n            src={util.crop(props.file.id, 320, 180)}\n          />\n          <div class=\"video-not-ready\">\n            {t(\"video_not_ready\")}\n          </div>\n        </a>\n      );\n    }\n    if (/audio/.test(props.file.type)) {\n      if (props.file.status == \"ready\") {\n        return (\n          <audio\n            controls=\"true\"\n            class=\"file-embed audio\"\n            src={util.toApp(url)}\n            id={props.file.id}\n          />\n        );\n      }\n      return (\n        <a class=\"file-embed file-loading image video-uploaded\" id={props.file.id}>\n          <div class=\"audio-not-ready\">\n            {t(\"audio_not_ready\")}\n          </div>\n        </a>\n      );\n    }\n    if (/pdf/.test(props.file.type)) {\n      return (\n        <a\n          data-origin={util.toApp(filePath)}\n          draggable=\"false\"\n          href={!props.inWriter ? util.toApp(url) : undefined}\n          className={`glightbox file-embed pdf-outline image${props.file.removed ? \" removed\" : \"\"}`}\n          id={props.file.id}\n          data-width=\"calc(90vw - 10px)\"\n          data-height=\"100vh\"\n          onClick={e => openLightbox(e)}\n        >\n          <img class=\"img-fluid\" src={util.thumbnail(props.file.id, 210*2, 497*2)} />\n          <div\n            class=\"remove-button\"\n            style={props.file.removed ? \"color:red\" : \"\"}\n            onClick={e => props.toggleFile(e)}\n          >\n            <FaIcon family={\"solid\"} icon={\"times\"} />\n          </div>\n        </a>\n      );\n    }\n    if (/image/.test(props.file.type)) {\n\n      if (props.file.type == \"image/gif\") {\n        return (\n          <a\n            data-origin={util.toApp(filePath)}\n            draggable=\"false\"\n            href={!props.inWriter ? util.toApp(filePath) : undefined}\n            className={`glightbox file-embed image${props.file.removed ? \" removed\" : \"\"}`}\n            id={props.file.id}\n            data-type=\"image\"\n            onClick={e => openLightbox(e)}\n          >\n            <img class=\"img-fluid\" src={util.toApp(filePath)} />\n            <div\n              class=\"remove-button\"\n              style={props.file.removed ? \"color:red\" : \"\"}\n              onClick={e => props.toggleFile(e)}\n            >\n              <FaIcon family={\"solid\"} icon={\"times\"} />\n            </div>\n          </a>\n        );\n      }\n\n      return (\n        <a\n          data-origin={util.toApp(filePath)}\n          draggable=\"false\"\n          data-type=\"image\"\n          data-srcset={`${util.thumbnail(props.file.id, 720)} 720w, ${util.thumbnail(props.file.id, 1366)} 1366w, ${util.thumbnail(props.file.id, 2048)} 2048w`}\n          data-sizes=\"(max-width: 992px) 720px, (max-width: 1400px) 1366px, 2048px\"\n          href={!props.inWriter ? util.toApp(filePath) : undefined}\n          className={`glightbox file-embed image${props.file.removed ? \" removed\" : \"\"}`}\n          id={props.file.id}\n          onClick={e => openLightbox(e)}\n        >\n          <img class=\"img-fluid\" src={util.thumbnail(props.file.id, 720)} />\n          <div\n            class=\"remove-button\"\n            style={props.file.removed ? \"color:red\" : \"\"}\n            onClick={e => props.toggleFile(e)}\n          >\n            <FaIcon family={\"solid\"} icon={\"times\"} />\n          </div>\n        </a>\n      );\n    }\n  }\n\n  if (props.file.status == \"loading\") {\n    return (\n      <div class=\"file-embed file-placeholder\" id={props.file.id}/>\n    );\n  }\n  return (\n    <div class=\"file-embed file-placeholder\" id={props.file.id}>\n      {props.file[\"error\"] ? (\n        <div class=\"orange-error\">&times;</div>\n      ) : (\n        <div class=\"spinner orange-spinner\">\n          <div /><div /><div /><div /><div />\n        </div>\n      )}\n      <div class=\"progress-bar\">\n        <div style={{ width: `${props.file.progress}%` }} />\n      </div>\n    </div>\n  );\n}\n","import { h } from \"preact\";\nimport { useState, useRef, useEffect } from \"preact/hooks\";\nimport { util } from \"/src/core\";\nimport { FaIcon } from \"/src/misc\";\nimport { polyfill } from \"mobile-drag-drop\";\nimport GLightbox from \"glightbox\";\n\nexport default function MiniFile(props) {\n\n  const [lightbox, setLightbox] = useState(null);\n\n  const filePath = props.file.contentUrl ? `/files/${props.file.contentUrl}` : null;\n  let url = filePath;\n  const innerRef = useRef(null);\n  polyfill({\n    tryFindDraggableTarget: e => {\n      if (!props.inWriter) {\n        return undefined;\n      }\n      const cp = e.composedPath();\n      for (const o of cp) {\n        let el = o;\n        do {\n          if (el.draggable === false) {\n            continue;\n          }\n          if (el.draggable === true) {\n            return el;\n          }\n          if (\n            el.getAttribute\n            && el.getAttribute(\"draggable\") === \"true\"\n          ) {\n            return el;\n          }\n        } while((el = el.parentNode) && el !== document.body);\n      }\n    },\n  });\n\n  useEffect(() => {\n    setLightbox(GLightbox({\n      autoplayVideos: false,\n      draggable: true,\n      loop: false,\n      touchNavigation: true,\n      zoomable: true,\n      elements: [],\n    }));\n  }, []);\n\n  const openLightbox = evt => {\n    if (!props.inWriter) {\n      evt.preventDefault();\n      evt.stopPropagation();\n      if (lightbox != null && Array.from(document.getElementsByClassName(\"glightbox\")).length > 0) {\n        const elements = Array.from(document.getElementsByClassName(\"glightbox\")).map(e => {\n          const r = {href: e.href};\n          if (e?.dataset?.width) {\n            r.width = e?.dataset?.width;\n          }\n          if (e?.dataset?.height) {\n            r.height = e?.dataset?.height;\n          }\n          if (e?.dataset?.type) {\n            r.type = e?.dataset?.type;\n          }\n          if (e?.dataset?.srcset) {\n            r.srcset = e?.dataset?.srcset;\n          }\n          if (e?.dataset?.sizes) {\n            r.sizes = e?.dataset?.sizes;\n          }\n          return r;\n        });\n        lightbox.setElements(elements);\n        lightbox.open(null, elements.findIndex(e => e.href === evt.target.closest(\".glightbox\").href));\n      }\n    }\n  };\n\n  const fileDragStart = e => {\n    e.target.style.opacity = \"0.4\";\n    e.dataTransfer.effectAllowed = \"move\";\n    e.dataTransfer.setData(\"id\", props.file.id);\n    document.querySelectorAll(\".remove-button\").forEach(e => e.style.display = \"none\");\n  };\n\n  const fileDragEnd = e => {\n    e.target.style.opacity = \"1\";\n    document.querySelectorAll(\".remove-button\").forEach(e => e.style.display = \"block\");\n    document.querySelectorAll(\".drag-over\").forEach(e => e.classList.remove(\"drag-over\"));\n  };\n\n  const fileDragEnter = e => {\n    e.preventDefault();\n    innerRef.current.classList.add(\"drag-over\");\n    return false;\n  };\n\n  const fileDragLeave = e => {\n    e.preventDefault();\n    innerRef.current.classList.remove(\"drag-over\");\n    return false;\n  };\n\n  // necessary to declare a drop target\n  const fileDragOver = e => {\n    e.preventDefault();\n    return false;\n  };\n\n  const fileDrop = e => {\n    // stops the browser from redirecting.\n    e.preventDefault();\n    props.invertFiles(e.dataTransfer.getData(\"id\"), props.file.id);\n    return false;\n  };\n\n  useEffect(() => {\n    if (\n      props.inWriter\n      && props.file.status == \"ready\"\n      && innerRef && innerRef.current\n    ) {\n      innerRef.current.addEventListener(\"dragstart\", fileDragStart);\n      innerRef.current.addEventListener(\"dragend\", fileDragEnd);\n      innerRef.current.addEventListener(\"dragover\", fileDragOver);\n      innerRef.current.addEventListener(\"dragenter\", fileDragEnter);\n      innerRef.current.addEventListener(\"dragleave\", fileDragLeave);\n      innerRef.current.addEventListener(\"drop\", fileDrop);\n      return () => {\n        innerRef.current.removeEventListener(\"dragstart\", fileDragStart);\n        innerRef.current.removeEventListener(\"dragend\", fileDragEnd);\n        innerRef.current.removeEventListener(\"dragover\", fileDragOver);\n        innerRef.current.removeEventListener(\"dragenter\", fileDragEnter);\n        innerRef.current.removeEventListener(\"dragleave\", fileDragLeave);\n        innerRef.current.removeEventListener(\"drop\", fileDrop);\n      };\n    }\n  }, []);\n\n  switch (props.file.status) {\n  case \"raw\":\n    return (\n      <a class=\"file-embed file-loading rounded\" id={props.file.id}>\n        <div class=\"miniature\">\n          <FaIcon family={\"regular\"} icon={\"check-circle\"} />\n        </div>\n      </a>\n    );\n  case \"loading\":\n    return (\n      <a class=\"file-embed file-loading rounded\" id={props.file.id}>\n        <div class=\"miniature\"/>\n      </a>\n    );\n  case \"uploading\":\n  case \"initial\":\n    return (\n      <a class=\"file-embed file-loading rounded\" id={props.file.id}>\n        <div\n          class=\"miniature video-raw\"\n          style={`background-image:url(\"${util.crop(props.file.id, 160, 160)}\")`}\n        />\n        <div class=\"spinner orange-spinner\">\n          <div /><div /><div /><div /><div />\n        </div>\n        { props.file && props.file.progress > 0 && (\n          <div class=\"progress-bar\">\n            <div style={{ width: `${props.file.progress}%` }} />\n          </div>\n        )}\n      </a>\n    );\n  case \"ready\":\n  default:\n    if (/pdf/.test(props.file.type) || /video/.test(props.file.type)) {\n      return (\n        <a\n          ref={innerRef}\n          draggable={!!props.inWriter}\n          data-origin={util.toApp(filePath)}\n          href={!props.inWriter ? util.toApp(url) : undefined}\n          className={`${!props.inWriter ? \"glightbox \": \"\"}file-embed rounded ${props.file.removed ? \" removed\" : \"\"}`}\n          id={props.file.id}\n          data-width=\"calc(90vw - 10px)\"\n          data-height=\"100vh\"\n          onClick={e => openLightbox(e)}\n        >\n          <div\n            className={`miniature${props.file.removed ? \" removed\" : \"\"}`}\n            style={\n              `background-image:url(\"${util.crop(props.file.id, 160, 160)}\")`\n            }\n          />\n          <div\n            class=\"remove-button\"\n            style={props.file.removed ? \"color:red\" : \"\"}\n            onClick={e => props.toggleFile(e)}\n          >\n            <FaIcon family={\"solid\"} icon={\"times\"} />\n          </div>\n        </a>\n      );\n    }\n    if (/audio/.test(props.file.type)) {\n      return (\n        <a\n          ref={innerRef}\n          draggable={!!props.inWriter}\n          data-origin={util.toApp(filePath)}\n          href={!props.inWriter ? util.toApp(url) : undefined}\n          className={`${!props.inWriter ? \"glightbox \": \"\"}file-embed rounded ${props.file.removed ? \" removed\" : \"\"}`}\n          id={props.file.id}\n          data-width=\"calc(90vw - 10px)\"\n          data-height=\"100vh\"\n          onClick={e => openLightbox(e)}\n        >\n          <div\n            className={`miniature audio-miniature${props.file.removed ? \" removed\" : \"\"}`}\n          >\n            <FaIcon family={\"solid\"} icon={\"headphones-alt\"} />\n          </div>\n          <div\n            class=\"remove-button\"\n            style={props.file.removed ? \"color:red\" : \"\"}\n            onClick={e => props.toggleFile(e)}\n          >\n            <FaIcon family={\"solid\"} icon={\"times\"} />\n          </div>\n        </a>\n      );\n    }\n    if (props.file.type == \"image/gif\") {\n      return (\n        <a\n          ref={innerRef}\n          draggable={!!props.inWriter}\n          data-origin={util.toApp(filePath)}\n          href={!props.inWriter ? util.toApp(filePath) : undefined}\n          class={`${!props.inWriter ? \"glightbox \": \"\"}file-embed rounded`}\n          id={props.file.id}\n          data-type=\"image\"\n          onClick={e => openLightbox(e)}\n        >\n          <div\n            className={`miniature${props.file.removed ? \" removed\" : \"\"}`}\n            style={\n              `background-image:url(\"${util.crop(props.file.id, 160, 160)}\")`\n            }\n          />\n          <div\n            class=\"remove-button\"\n            style={props.file.removed ? \"color:red\" : \"\"}\n            onClick={e => props.toggleFile(e)}\n          >\n            <FaIcon family={\"solid\"} icon={\"times\"} />\n          </div>\n        </a>\n      );\n    }\n    if (/image/.test(props.file.type)) {\n      return (\n        <a\n          ref={innerRef}\n          draggable={!!props.inWriter}\n          data-origin={util.toApp(filePath)}\n          data-type=\"image\"\n          data-srcset={`${util.thumbnail(props.file.id, 720)} 720w, ${util.thumbnail(props.file.id, 1366)} 1366w, ${util.thumbnail(props.file.id, 2048)} 2048w`}\n          data-sizes=\"(max-width: 992px) 720px, (max-width: 1400px) 1366px, 2048px\"\n          href={!props.inWriter ? util.toApp(filePath) : undefined}\n          class={`${!props.inWriter ? \"glightbox \": \"\"}file-embed rounded`}\n          id={props.file.id}\n          onClick={e => openLightbox(e)}\n        >\n          <div\n            className={`miniature${props.file.removed ? \" removed\" : \"\"}`}\n            style={\n              `background-image:url(\"${util.crop(props.file.id, 160, 160)}\")`\n            }\n          />\n          <div\n            class=\"remove-button\"\n            style={props.file.removed ? \"color:red\" : \"\"}\n            onClick={e => props.toggleFile(e)}\n          >\n            <FaIcon family={\"solid\"} icon={\"times\"} />\n          </div>\n        </a>\n      );\n    }\n  }\n}\n","/*! mobile-drag-drop 3.0.0-rc.0 | Copyright (c) 2022 Tim Ruffles | MIT License */\n!function(t,i){\"object\"==typeof exports&&\"undefined\"!=typeof module?i(exports):\"function\"==typeof define&&define.amd?define([\"exports\"],i):i(t.MobileDragDrop=t.MobileDragDrop||{})}(this,function(t){\"use strict\";var c=\"dnd-poly-\",s=[\"none\",\"copy\",\"copyLink\",\"copyMove\",\"link\",\"linkMove\",\"move\",\"all\"],f=[\"none\",\"copy\",\"move\",\"link\"];function i(){var t=!1;try{var i=Object.defineProperty({},\"passive\",{get:function(){t=!0}});window.addEventListener(\"test\",null,i)}catch(t){}return t}var e=i();function l(t){return t&&t.tagName}function h(t,i,s){void 0===s&&(s=!0),document.addEventListener(t,i,!!e&&{passive:s})}function n(t,i){document.removeEventListener(t,i)}function u(t,i,s,n){void 0===n&&(n=!1);var h=e?{passive:!0,capture:n}:n;return t.addEventListener(i,s,h),{off:function(){t.removeEventListener(i,s,h)}}}function o(t){return 0===t.length?0:t.reduce(function(t,i){return i+t},0)/t.length}function r(t,i){for(var s=0;s<t.changedTouches.length;s++)if(t.changedTouches[s].identifier===i)return!0;return!1}function a(t,i,s){for(var n=[],h=[],e=0;e<i.touches.length;e++){var r=i.touches[e];n.push(r[t+\"X\"]),h.push(r[t+\"Y\"])}s.x=o(n),s.y=o(h)}var d=[\"\",\"-webkit-\"];function v(t,i,s,n,h){var e=i.x,i=i.y;n&&(e+=n.x,i+=n.y),(h=void 0===h||h)&&(e-=parseInt(t.offsetWidth,10)/2,i-=parseInt(t.offsetHeight,10)/2);for(var r=\"translate3d(\"+e+\"px,\"+i+\"px, 0)\",o=0;o<d.length;o++){var u=d[o]+\"transform\";t.style[u]=r+\" \"+s[o]}}var p=(Object.defineProperty(g.prototype,\"dropEffect\",{get:function(){return this.t},set:function(t){0!==this.i.mode&&-1<s.indexOf(t)&&(this.t=t)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,\"types\",{get:function(){if(0!==this.i.mode)return Object.freeze(this.i.types)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,\"effectAllowed\",{get:function(){return this.i.effectAllowed},set:function(t){2===this.i.mode&&-1<s.indexOf(t)&&(this.i.effectAllowed=t)},enumerable:!1,configurable:!0}),g.prototype.setData=function(t,i){if(2===this.i.mode){if(-1<t.indexOf(\" \"))throw new Error(\"illegal arg: type contains space\");this.i.data[t]=i,-1===this.i.types.indexOf(t)&&this.i.types.push(t)}},g.prototype.getData=function(t){if(1===this.i.mode||2===this.i.mode)return this.i.data[t]||\"\"},g.prototype.clearData=function(t){2===this.i.mode&&(t&&this.i.data[t]?(delete this.i.data[t],-1<(t=this.i.types.indexOf(t))&&this.i.types.splice(t,1)):(this.i.data={},this.i.types=[]))},g.prototype.setDragImage=function(t,i,s){2===this.i.mode&&this.h(t,i,s)},g);function g(t,i){this.i=t,this.h=i,this.t=f[0]}function m(t,i){return t?t===s[0]?f[0]:0===t.indexOf(s[1])||t===s[7]?f[1]:0===t.indexOf(s[4])?f[3]:t===s[6]?f[2]:f[1]:3===i.nodeType&&\"A\"===i.tagName?f[3]:f[1]}function y(u,t,a,i,s,n,c){void 0===c&&(c=null);s=function(t,i,s,n,h,e,r){void 0===c&&(r=null);var o=a.changedTouches[0],n=new Event(u,{bubbles:!0,cancelable:n});n.dataTransfer=e,n.relatedTarget=r,n.screenX=o.screenX,n.screenY=o.screenY,n.clientX=o.clientX,n.clientY=o.clientY,n.pageX=o.pageX,n.pageY=o.pageY;t=t.getBoundingClientRect();return n.offsetX=n.clientX-t.left,n.offsetY=n.clientY-t.top,n}(t,0,0,n=void 0===n||n,document.defaultView,s,c),s=!t.dispatchEvent(s);return i.mode=0,s}function b(t,i){if(!t||t===s[7])return i;if(i===f[1]){if(0===t.indexOf(f[1]))return f[1]}else if(i===f[3]){if(0===t.indexOf(f[3])||-1<t.indexOf(\"Link\"))return f[3]}else if(i===f[2]&&(0===t.indexOf(f[2])||-1<t.indexOf(\"Move\")))return f[2];return f[0]}var w=(x.prototype.o=function(){var n=this;this.u=1,this.l=f[0],this.v={data:{},effectAllowed:void 0,mode:3,types:[]},this.p={x:null,y:null},this.g={x:null,y:null};var h=this.m;if(this.I=new p(this.v,function(t,i,s){h=t,\"number\"!=typeof i&&\"number\"!=typeof s||(n.j={x:i||0,y:s||0})}),this.v.mode=2,this.I.dropEffect=f[0],y(\"dragstart\",this.m,this.k,this.v,this.I))return this.u=3,this.C(),!1;a(\"page\",this.k,this.g);var i,t,s=this.S.dragImageSetup(h);return this.A=(i=s,d.map(function(t){t=i.style[t+\"transform\"];return t&&\"none\"!==t?t.replace(/translate\\(\\D*\\d+[^,]*,\\D*\\d+[^,]*\\)\\s*/g,\"\"):\"\"})),s.style.position=\"absolute\",s.style.left=\"0px\",s.style.top=\"0px\",s.style.zIndex=\"999999\",s.classList.add(\"dnd-poly-drag-image\"),s.classList.add(\"dnd-poly-icon\"),this.O=s,this.j||(this.S.dragImageOffset?this.j={x:this.S.dragImageOffset.x,y:this.S.dragImageOffset.y}:this.S.dragImageCenterOnTouch?(t=getComputedStyle(h),this.j={x:0-parseInt(t.marginLeft,10),y:0-parseInt(t.marginTop,10)}):(s=h.getBoundingClientRect(),t=getComputedStyle(h),this.j={x:s.left-this.M.clientX-parseInt(t.marginLeft,10)+s.width/2,y:s.top-this.M.clientY-parseInt(t.marginTop,10)+s.height/2})),v(this.O,this.g,this.A,this.j,this.S.dragImageCenterOnTouch),document.body.appendChild(this.O),this.D=window.setInterval(function(){n.F||(n.F=!0,n.N(),n.F=!1)},this.S.iterationInterval),!0},x.prototype.C=function(){this.D&&(clearInterval(this.D),this.D=null),n(\"touchmove\",this.P),n(\"touchend\",this.T),n(\"touchcancel\",this.T),this.O&&(this.O.parentNode.removeChild(this.O),this.O=null),this.L(this.S,this.k,this.u)},x.prototype._=function(t){var s=this;if(!1!==r(t,this.M.identifier)){if(this.k=t,0===this.u){var i=void 0;if(this.S.dragStartConditionOverride)try{i=this.S.dragStartConditionOverride(t)}catch(t){i=!1}else i=1===t.touches.length;return i?void(!0===this.o()&&(this.H.preventDefault(),t.preventDefault())):void this.C()}if(t.preventDefault(),a(\"client\",t,this.p),a(\"page\",t,this.g),this.S.dragImageTranslateOverride)try{var n=!1;if(this.S.dragImageTranslateOverride(t,{x:this.p.x,y:this.p.y},this.V,function(t,i){s.O&&(n=!0,s.p.x+=t,s.p.y+=i,s.g.x+=t,s.g.y+=i,v(s.O,s.g,s.A,s.j,s.S.dragImageCenterOnTouch))}),n)return}catch(t){}v(this.O,this.g,this.A,this.j,this.S.dragImageCenterOnTouch)}},x.prototype.X=function(t){if(!1!==r(t,this.M.identifier)){if(this.S.dragImageTranslateOverride)try{this.S.dragImageTranslateOverride(void 0,void 0,void 0,function(){})}catch(t){}0!==this.u?(t.preventDefault(),this.u=\"touchcancel\"===t.type?3:2):this.C()}},x.prototype.N=function(){var t=this,i=this.l;this.v.mode=3,this.I.dropEffect=f[0];var s,n,h,e,r,o=y(\"drag\",this.m,this.k,this.v,this.I);if(o&&(this.l=f[0]),o||2===this.u||3===this.u)return this.Y(this.u)?(e=this.m,s=this.O,n=this.A,a=function(){t.q()},void(\"hidden\"!==(r=getComputedStyle(e)).visibility&&\"none\"!==r.display?(s.classList.add(\"dnd-poly-snapback\"),h=getComputedStyle(s),o=parseFloat(h.transitionDuration),isNaN(o)||0===o?a():((e={x:(u=e.getBoundingClientRect()).left,y:u.top}).x+=document.body.scrollLeft||document.documentElement.scrollLeft,e.y+=document.body.scrollTop||document.documentElement.scrollTop,e.x-=parseInt(r.marginLeft,10),e.y-=parseInt(r.marginTop,10),u=parseFloat(h.transitionDelay),u=Math.round(1e3*(o+u)),v(s,e,n,void 0,!1),setTimeout(a,u))):a())):void this.q();var u=this.S.elementFromPoint(this.p.x,this.p.y),a=this.B;u!==this.V&&u!==this.B&&(this.V=u,null!==this.B&&(this.v.mode=3,this.I.dropEffect=f[0],y(\"dragexit\",this.B,this.k,this.v,this.I,!1)),null===this.V?this.B=this.V:(this.v.mode=3,this.I.dropEffect=m(this.v.effectAllowed,this.m),y(\"dragenter\",this.V,this.k,this.v,this.I)?(this.B=this.V,this.l=b(this.I.effectAllowed,this.I.dropEffect)):this.V!==document.body&&(this.B=document.body))),a!==this.B&&l(a)&&(this.v.mode=3,this.I.dropEffect=f[0],y(\"dragleave\",a,this.k,this.v,this.I,!1,this.B)),l(this.B)&&(this.v.mode=3,this.I.dropEffect=m(this.v.effectAllowed,this.m),!1===y(\"dragover\",this.B,this.k,this.v,this.I)?this.l=f[0]:this.l=b(this.I.effectAllowed,this.I.dropEffect)),i!==this.l&&this.O.classList.remove(c+i);i=c+this.l;this.O.classList.add(i)},x.prototype.Y=function(t){t=this.l===f[0]||null===this.B||3===t;return t?l(this.B)&&(this.v.mode=3,this.I.dropEffect=f[0],y(\"dragleave\",this.B,this.k,this.v,this.I,!1)):l(this.B)&&(this.v.mode=1,this.I.dropEffect=this.l,!0===y(\"drop\",this.B,this.k,this.v,this.I)?this.l=this.I.dropEffect:this.l=f[0]),t},x.prototype.q=function(){this.v.mode=3,this.I.dropEffect=this.l,y(\"dragend\",this.m,this.k,this.v,this.I,!1),this.u=2,this.C()},x);function x(t,i,s,n){this.H=t,this.S=i,this.m=s,this.L=n,this.u=0,this.V=null,this.B=null,this.k=t,this.M=t.changedTouches[0],this.P=this._.bind(this),this.T=this.X.bind(this),h(\"touchmove\",this.P,!1),h(\"touchend\",this.T,!1),h(\"touchcancel\",this.T,!1)}var I,j={iterationInterval:150,tryFindDraggableTarget:function(t){for(var i=0,s=t.composedPath();i<s.length;i++){var n=s[i];do{if(!1!==n.draggable){if(!0===n.draggable)return n;if(n.getAttribute&&\"true\"===n.getAttribute(\"draggable\"))return n}}while((n=n.parentNode)&&n!==document.body)}},dragImageSetup:function(t){var i=t.cloneNode(!0);return function t(i,s){if(1===i.nodeType){for(var n,h,e=getComputedStyle(i),r=0;r<e.length;r++){var o=e[r];s.style.setProperty(o,e.getPropertyValue(o),e.getPropertyPriority(o))}s.style.pointerEvents=\"none\",s.removeAttribute(\"id\"),s.removeAttribute(\"class\"),s.removeAttribute(\"draggable\"),\"CANVAS\"===s.nodeName&&(n=s,h=(h=i).getContext(\"2d\").getImageData(0,0,h.width,h.height),n.getContext(\"2d\").putImageData(h,0,0))}if(i.hasChildNodes())for(r=0;r<i.childNodes.length;r++)t(i.childNodes[r],s.childNodes[r]);!function t(i){if(i instanceof HTMLElement&&(i.style.pointerEvents=\"none\"),i.children&&i.children.length)for(var s=0;s<i.children.length;s++)t(i.children[s]);if(i.shadowRoot&&i.shadowRoot.children.length)for(s=0;s<i.shadowRoot.children.length;s++)t(i.shadowRoot.children[s])}(s)}(t,i),i},elementFromPoint:function(t,i){var s=document.elementFromPoint(t,i);if(s){for(;s.shadowRoot;){var n=s.shadowRoot.elementFromPoint(t,i);if(null===n||n===s)break;s=n}return s}}};function k(i){if(!I){var t=j.tryFindDraggableTarget(i);if(t)try{I=new w(i,j,t,S)}catch(t){throw S(j,i,3),t}}}function C(t){function i(t){h.off(),e.off(),r.off(),o.off(),s&&s.dispatchEvent(new CustomEvent(\"dnd-poly-dragstart-cancel\",{bubbles:!0,cancelable:!0})),clearTimeout(n)}var s=t.target;s&&s.dispatchEvent(new CustomEvent(\"dnd-poly-dragstart-pending\",{bubbles:!0,cancelable:!0}));var n=window.setTimeout(function(){h.off(),e.off(),r.off(),o.off(),k(t)},j.holdToDrag),h=u(s,\"touchend\",i),e=u(s,\"touchcancel\",i),r=u(s,\"touchmove\",i),o=u(window,\"scroll\",i,!0)}function S(t,i,s){if(0===s&&t.defaultActionOverride)try{t.defaultActionOverride(i),i.defaultPrevented}catch(t){}I=null}t.polyfill=function(i){if(i&&Object.keys(i).forEach(function(t){j[t]=i[t]}),!j.forceApply){t=(t=!!window.chrome||/chrome/i.test(navigator.userAgent),{dragEvents:\"ondragstart\"in document.documentElement,draggable:\"draggable\"in document.documentElement,userAgentSupportingNativeDnD:!(/iPad|iPhone|iPod|Android/.test(navigator.userAgent)||t&&\"ontouchstart\"in document.documentElement)});if(t.userAgentSupportingNativeDnD&&t.draggable&&t.dragEvents)return!1}var t;return j.holdToDrag?h(\"touchstart\",C,!1):h(\"touchstart\",k,!1),!0},t.supportsPassiveEventListener=i,Object.defineProperty(t,\"G\",{value:!0})});\n//# sourceMappingURL=index.min.js.map",null,null,null,null,null,null,null,"import { h } from \"preact\";\nimport { http, util } from \"/src/core\";\nimport { EmbedBlock, FileGrid } from \"/src/embed\";\nimport { useEffect, useState } from \"preact/hooks\";\n\nexport default function MessageBody(props) {\n\n  const [preview, setPreview] = useState(null);\n\n  const displayMessageText = () => {\n    if (!props.message.data) {\n      return \"\";\n    }\n    // escape html a little (just enough to avoid xss I hope)\n    let txt = props.message.data[\"text\"]\n      .replace(/</g, \"&lt;\")\n      .replace(/>/g, \"&gt;\")\n      .trim();\n    // replace url by real links\n    let shift = 0;\n    let match = null;\n    while ((match = util.getUrl(txt.slice(shift)))) {\n      let url = match[0];\n      if (url.length >= 50) {\n        url = `${url.slice(0, 25)  }...${  url.slice(-24)}`;\n      }\n      let link = `<a href=\"${match[0]}\" target=\"_blank\">${url}</a>`;\n      txt =\n        txt.slice(0, match[\"index\"] + shift) +\n        link +\n        txt.slice(match[\"index\"] + shift + match[0].length);\n      shift += match[\"index\"] + link.length;\n    }\n    // replace line returns\n    txt = txt.replace(/\\n/g, \"<br/>\");\n    return { __html: txt };\n  };\n\n  useEffect(() => {\n    if (!preview && props.message) {\n      if (props.message.data) {\n        let previewUrl = util.getUrl(props.message.data[\"text\"]);\n        if (previewUrl) {\n          http\n            .get(`/api/links/by_url?url=${encodeURIComponent(previewUrl[0])}`)\n            .then(r => setPreview(r));\n        }\n      }\n    }\n  });\n\n  return (\n    <div class=\"message-body\">\n      {props.message.data && props.message.data.title && (\n        <div class=\"title\">\n          <span>{props.message.data.title}</span>\n        </div>\n      )}\n      {props.message.data &&\n        props.message.data.text &&\n        props.message.data.text.trim() && (\n        <p\n          class=\"card-text\"\n          dangerouslySetInnerHTML={displayMessageText()}\n        />\n      )}\n      {preview && (!props.message.data || !props.message.data[\"no_embed\"]) && (\n        <EmbedBlock\n          key={preview.url}\n          url={preview.url}\n          preview={preview.preview}\n          data={preview.data}\n        />\n      )}\n      {props.files && (\n        <FileGrid files={props.files} />\n      )}\n    </div>\n  );\n}\n","import { h, Fragment } from \"preact\";\nimport { http, util } from \"/src/core\";\nimport { Link } from \"react-router-dom\";\nimport { useEffect, useState } from \"preact/hooks\";\n\nexport default function MessageBreadcrumbs(props) {\n\n  const stack = [props.message.id, ...props.message.lineage].reverse();\n  const [breadcrumbs, setBreadcrumbs] = useState([]);\n  const [group, setGroup] = useState(null);\n\n  const getTitle = (message, previewLink) => {\n    if (message) {\n      if (message[\"data\"] && message[\"data\"][\"title\"]) {\n        return message[\"data\"][\"title\"];\n      }\n      if (previewLink && previewLink[\"data\"]) {\n        return previewLink[\"data\"][\"title\"];\n      }\n      if (message[\"data\"] && message[\"data\"][\"text\"]) {\n        let url = util.getUrl(message[\"data\"][\"text\"]);\n        if (url && url.length > 0) {\n          url = url[0];\n        }\n        if (url) {\n          return url;\n        }\n        return message[\"data\"][\"text\"];\n      }\n    }\n    // When all else fails, just say who and when\n    return `${message?.author?.name}, ${util.humanTime(message.createdAt)}`;\n  };\n\n  const loadBreadcrumbs = ids => {\n    let breadcrumbs = [];\n    Promise.all(ids.map(id => http.get(`/api/messages/${id}`))).then((messages) => {\n      Promise.all(messages.map(message => {\n        let previewUrl = util.getUrl(message?.data?.text);\n        if (previewUrl) {\n          return http.get(`/api/links/by_url?url=${encodeURIComponent(previewUrl[0])}`);\n        }\n        return Promise.resolve(null);\n      })).then((links) => {\n        for (let i = 0; i < ids.length; i++) {\n          breadcrumbs[i] = getTitle(messages[i], links[i]);\n        }\n        setBreadcrumbs(breadcrumbs);\n      });\n    });\n  };\n\n  useEffect(() => {\n    loadBreadcrumbs(stack);\n    http.get(`/api/groups/${props.message.group.id}`).then(group => {\n      setGroup(group);\n    });\n  }, []);\n\n  if (stack.length > 0) {\n    const stack_truncated = [stack[0], ...stack.slice(Math.min(3, stack.length) * -1).slice(1)];\n    const breadcrumbs_truncated = [breadcrumbs[0], ...breadcrumbs.slice(Math.min(3, breadcrumbs.length) * -1).slice(1)];\n    return (\n      <div class=\"message-breadcrumbs\">\n        <nav style=\"--bs-breadcrumb-divider: '>';\">\n          <ol class=\"breadcrumb\">\n            {group && (\n              <li class=\"breadcrumb-item\">\n                <Link\n                  key={group.id}\n                  to={`/groups/${group.id}`}\n                  class=\"no-decoration\"\n                >{util.limitLength(group.name || group.id.slice(0, 8), 30)}</Link>\n              </li>\n            )}\n            {stack_truncated.map((e, i) => (\n              <Fragment key={e}>\n                <Fragment>\n                  {i == 1 && stack.length > 3 && (\n                    <li class=\"breadcrumb-item\">...</li>\n                  )}\n                </Fragment>\n                <li class=\"breadcrumb-item\">\n                  <Link\n                    key={e}\n                    to={`/messages/${e}`}\n                    class=\"no-decoration\"\n                  >{util.limitLength(breadcrumbs_truncated[i] || e.slice(0, 8), 30)}</Link>\n                </li>\n              </Fragment>\n            ))}\n          </ol>\n        </nav>\n      </div>\n    );\n  }\n}\n","import { h, Component, Fragment } from \"preact\";\nimport { http } from \"/src/core\";\nimport { MessagePreview } from \"/src/message\";\n\nexport default class MessageList extends Component {\n  constructor(props) {\n    super(props);\n    let loaded = 1 + Math.floor((window.screen.width * window.screen.height) / (320 * 215));\n    this.state = {\n      loaded,\n      messages: [],\n      scrollTop: 0,\n      totalMessages: 0,\n      pageYOffset: 0,\n      page: 0\n    };\n    this.scroll_cooldown = Date.now();\n    this.onScroll = this.onScroll.bind(this);\n    this.loadMessages = this.loadMessages.bind(this);\n    this.onNewParent = this.onNewParent.bind(this);\n    window.addEventListener(\"newParent\", this.onNewParent);\n  }\n\n  onNewParent() {\n    this.loadMessages(0);\n  }\n\n  componentDidMount() {\n    this.loadMessages(0);\n    window.addEventListener(\"scroll\", this.onScroll);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"scroll\", this.onScroll);\n  }\n\n  loadMessages(page) {\n    http\n      .get(`/api/groups/${this.props.id}`)\n      .then(res => {\n        this.setState({\n          group: res\n        });\n      });\n\n    http\n      .get(`/api/groups/${this.props.id}/page/${page}`)\n      .then(res => {\n        if (res && Array.isArray(res[\"messages\"])) {\n          let new_loaded = Math.max(this.state.loaded, page * 30);\n          let msgList = this.state.messages;\n          // don't add already added messages\n          res[\"messages\"].map(\n            mid => !msgList.find(msg => msg.id == mid) && msgList.push({\"id\":mid})\n          );\n          this.setState({\n            messages: msgList,\n            totalMessages: res[\"totalItems\"],\n            page,\n            loaded: new_loaded\n          });\n          if ((page + 1) * 30 < new_loaded) {\n            setTimeout(() => this.loadMessages(page + 1));\n          }\n        }\n      });\n  }\n\n  onScroll() {\n    // prevent loading messages if we are in a post\n    if (\n      window.getComputedStyle(document.getElementById(\"group\").parentNode)\n        .display == \"none\"\n    ) {\n      return;\n    }\n    // don't load if on cooldown\n    if (this.scroll_cooldown + 100 < Date.now()) {\n      this.scroll_cooldown = Date.now();\n      this.setState({ pageYOffset: window.pageYOffset });\n      // don't load if unecessary\n      if (\n        Array.isArray(this.state.messages) &&\n        document.body.scrollHeight - window.screen.height - 500 <\n          window.pageYOffset &&\n        this.state.loaded < this.state.totalMessages\n      ) {\n        this.setState(prevState => ({ loaded: prevState.loaded + 10 }));\n        if (this.state.loaded + 30 > this.state.messages.length) {\n          this.loadMessages(this.state.page + 1);\n          // update page count right away\n          this.setState(prevState => ({ page: prevState.page + 1 }));\n        }\n      }\n    }\n  }\n\n  render() {\n    if (!this.props.id) {\n      return;\n    }\n    return (\n      <Fragment>\n        {Array.isArray(this.state.messages) && this.state.messages.slice(0, this.state.loaded).map((msg, i) => {\n          return (\n            <MessagePreview\n              tabindex={i + 1}\n              key={msg.id}\n              id={msg.id}\n            />\n          );\n        })}\n      </Fragment>\n    );\n  }\n}\n","import { h } from \"preact\";\nimport { router } from \"/src/core\";\nimport Message from \"./message.component.js\";\nimport { Navbar } from \"/src/navbar\";\nimport { useParams } from \"react-router-dom\";\n\nexport default function MessageParent(props) {\n  let params = useParams();\n  return (\n    <main>\n      <Navbar />\n      <div class=\"content\">\n        <article class=\"mb-3 justify-content-center d-flex\">\n          <div class=\"container pb-3\">\n            <Message\n              focus={!!router.getParam(\"focus\", router.search)}\n              isPublic={false}\n              isChild={false}\n              message={props?.message}\n              id={params.id}\n              key={params.id}\n            />\n          </div>\n        </article>\n      </div>\n    </main>\n  );\n}\n","import { h, Fragment } from \"preact\";\nimport { util, notifications, http } from \"/src/core\";\nimport { FaIcon } from \"/src/misc\";\nimport { Link } from \"react-router-dom\";\nimport { HumanTime } from \"/src/pages\";\nimport { useEffect, useState } from \"preact/hooks\";\n\nexport default function MessagePreview(props) {\n\n  const [author, setAuthor] = useState(null);\n  const [preview, setPreview] = useState(null);\n  const [id, setId] = useState(null);\n  const [data, setData] = useState(null);\n  const [lastActivityDate, setLastActivityDate] = useState(null);\n  const [children, setChildren] = useState(0);\n  const [loaded, setLoaded] = useState(false);\n\n  const getAvatar = user => {\n    return (\n      <img\n        title={user ? user.name : \"--\"}\n        className={`avatar material-shadow${user ? \"\" : \" removed-user\"}`}\n        style={util.backgroundHash(user ? user.id : \"\")}\n        src={\n          user?.avatar\n            ? util.crop(user.avatar[\"id\"], 100, 100)\n            : util.defaultAvatar\n        }\n        onError={e => (e.currentTarget.src = util.defaultAvatar)}\n      />\n    );\n  };\n\n  const setDefaultMiniature = e => {\n    e.currentTarget.src = util.defaultAvatar;\n    e.currentTarget.style.height = \"180px\";\n    e.currentTarget.style.width = \"auto\";\n    e.currentTarget.style.position = \"absolute\";\n    e.currentTarget.style.left = \"50%\";\n    e.currentTarget.style.transform = \"translate(-50%, 0%)\";\n  }\n\n  useEffect(() => {\n    http.get(`/api/messages/${props.id}/preview`).then(p => {\n      if (p?.author?.id) {\n        http.get(`/api/users/${p.author.id}`).then(u => {\n          setAuthor(u);\n        });\n      }\n      console.log(p);\n      setPreview(p?.preview);\n      setId(p?.id);\n      setChildren(p?.children);\n      setLoaded(true);\n      setLastActivityDate(p?.lastActivityDate);\n      setData(p?.data);\n    });\n  }, []);\n\n  if (!props?.id || !data) {\n    return null;\n  }\n  return (\n    <Link\n      to={`/messages/${id}`}\n      class=\"d-inline-block seamless-link message-preview unselectable\"\n      title={data?.title}\n    >\n      <div tabindex={props?.tabindex} class=\"card material-shadow-with-hover\">\n        {getAvatar(author)}\n        <div class=\"card-miniature-loading\">\n          {loaded && (\n            <Fragment>\n              {preview ? (\n                <div\n                  class=\"card-miniature\"\n                >\n                  <img width=\"320\" height=\"180\" src={util.crop(util.getId(preview), 320, 180)} onError={e => setDefaultMiniature(e)} />\n                </div>\n              ) : (\n                <div class=\"text-preview\">{data?.text}</div>\n              )}\n            </Fragment>\n          )}\n        </div>\n        <div class=\"card-body border-top d-flex justify-content-between\">\n          <span class=\"left-buffer\" />\n          <span\n            class=\"title\"\n            title={\n              data?.title || util.humanFullDate(lastActivityDate)\n            }\n          >\n            {data?.title || (<HumanTime timestamp={lastActivityDate} />)}\n          </span>\n          <span class=\"children\">\n            {children > 0 && (\n              <span>\n                {`${children} `}\n                <FaIcon\n                  family={\n                    notifications.isNew(id) ? \"solid\" : \"regular\"\n                  }\n                  icon={\"comment\"}\n                />\n              </span>\n            )}\n          </span>\n        </div>\n      </div>\n    </Link>\n  );\n}\n","import { h } from \"preact\";\nimport { http, util, notifications } from \"/src/core\";\nimport { FaIcon } from \"/src/misc\";\nimport { useEffect, useState } from \"preact/hooks\";\nimport { Link } from \"react-router-dom\";\n\nexport default function MessageSearchResult(props) {\n\n  const [author, setAuthor] = useState(props?.message?.author || null);\n\n  useEffect(() => {\n    if (props?.message?.author) {\n      http.get(`/api/users/${props.message.author}`).then(author => author && setAuthor(author));\n    }\n  }, []);\n\n  const displayAuthorName = () => {\n    if (!author?.name) {\n      return { __html: \"--\" };\n    }\n    let authorName = author.name;\n\n    // make the search terms stand out\n    let words = authorName.split(\" \");\n    for (let j = 0; j < words.length; j++) {\n      if (!words[j].match(util.urlRegExp)) {\n        let searchTerms = props.search.split(\" \");\n        for (let k = 0; k < searchTerms.length; k++) {\n          words[j] = words[j].replace(\n            new RegExp(util.escapeRegex(searchTerms[k]), \"gi\"),\n            \"<b>$&</b>\"\n          );\n        }\n      }\n    }\n    authorName = words.join(\" \");\n    return { __html: authorName };\n  };\n\n  const displayMessageTitle = () => {\n    if (!props?.message?.data?.title) {\n      return { __html: util.humanTime(props?.message?.lastActivityDate) };\n    }\n    // escape html a little (just enough to avoid xss I hope)\n    let title = props?.message?.data?.title.replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").trim();\n\n    // make the search terms stand out\n    let words = title.split(\" \");\n    let searchTerms = props?.search.split(\" \") || [];\n    for (let j = 0; j < words.length; j++) {\n      if (!words[j].match(util.urlRegExp)) {\n        for (let k = 0; k < searchTerms.length; k++) {\n          words[j] = words[j].replace(new RegExp(util.escapeRegex(searchTerms[k]), \"gi\"), \"<b>$&</b>\");\n        }\n      }\n    }\n    title = words.join(\" \");\n    return { __html: title };\n  };\n\n  const displayMessageText = () => {\n    if (!props?.message?.data?.text) {\n      return \"\";\n    }\n\n    // escape html a little (just enough to avoid xss I hope)\n    let txt = props?.message?.data?.text.replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").trim();\n\n    // make the search terms stand out for not url words\n    let lines = txt.split(\"\\n\");\n    for (let i = 0; i < lines.length; i++) {\n      let words = lines[i].split(\" \");\n      for (let j = 0; j < words.length; j++) {\n        if (!words[j].match(util.urlRegExp)) {\n          let searchTerms = props.search.split(\" \");\n          for (let k = 0; k < searchTerms.length; k++) {\n            if (!searchTerms[k]) {\n              continue;\n            }\n            words[j] = words[j].replace(\n              new RegExp(util.escapeRegex(searchTerms[k]), \"gi\"),\n              \"<b>$&</b>\"\n            );\n          }\n          let hashtags = props?.hashtags.split(\" \") || [];\n          for (let k = 0; k < hashtags.length; k++) {\n            if (!hashtags[k]) {\n              continue;\n            }\n            words[j] = words[j].replace(\n              new RegExp(`#${  hashtags[k]}`, \"gi\"),\n              \"<b>$&</b>\"\n            );\n          }\n        }\n      }\n      lines[i] = words.join(\" \");\n    }\n    txt = lines.join(\"\\n\");\n\n    // replace url by real links\n    let shift = 0;\n    let match = null;\n    while ((match = util.getUrl(txt.slice(shift)))) {\n      let url = match[0];\n      if (url.length >= 50) {\n        url = `${url.slice(0, 25)  }...${  url.slice(-24)}`;\n      }\n      let searchTerms = props?.search.split(\" \") || [];\n      for (let i = 0; i < searchTerms.length; i++) {\n        url = url.replace(new RegExp(util.escapeRegex(searchTerms[i]), \"gi\"), \"<b>$&</b>\");\n      }\n      let link = `<a href=\"${  match[0]  }\" target=\"_blank\">${  url  }</a>`;\n      txt =\n        txt.slice(0, match[\"index\"] + shift) +\n        link +\n        txt.slice(match[\"index\"] + shift + match[0].length);\n      shift += match[\"index\"] + link.length;\n    }\n\n    // replace line returns\n    txt = txt.replace(/\\n/g, \"<br/>\");\n\n    return { __html: txt };\n  };\n\n  const getMiniature = () => {\n    if (props?.preview) {\n      return (\n        <div\n          class=\"card-miniature\"\n          style={\n            `background-image: url('${util.crop(props?.preview, 100, 100)}')`\n          }\n        />\n      );\n    }\n    let avatar = util.defaultAvatar;\n    if (author?.avatar?.id) {\n      avatar = util.crop(author.avatar[\"id\"], 100, 100);\n    }\n    return (\n      <div\n        class=\"card-miniature\"\n        style={`background-image: url('${avatar}')`}\n      />\n    );\n  };\n\n  const getLink = () => {\n    if (props.message.parent && props.message.children == 0) {\n      return (\n        `/messages/${props.message.parent}/${props.message.id}`\n      );\n    }\n    return `/messages/${props.message.id}`;\n  };\n\n  return (\n    <Link\n      class=\"d-inline-block seamless-link message-preview unselectable\"\n      to={getLink()}\n      title={props?.title}\n    >\n      <div tabindex={props.tabindex} class=\"card material-shadow-with-hover\">\n        <div class=\"card-body border-top\">\n          {getMiniature()}\n          <div class=\"infos\">\n            <div\n              class=\"title\"\n              dangerouslySetInnerHTML={displayAuthorName()}\n            />\n            <div class=\"dot\">&bull;</div>\n            <div\n              class=\"title\"\n              title={props?.title || util.humanFullDate(props.message.lastActivityDate)}\n              dangerouslySetInnerHTML={displayMessageTitle()}\n            />\n          </div>\n          <div class=\"text\">\n            {props?.message?.data?.text.trim() && (\n              <p\n                class=\"card-text\"\n                dangerouslySetInnerHTML={displayMessageText()}\n              />\n            )}\n          </div>\n          <div class=\"children\">\n            {!!props.message.children && (\n              <span>\n                {`${props.message.children} `}\n                <FaIcon\n                  family={\n                    notifications.isNew(props.message.id) ? \"solid\" : \"regular\"\n                  }\n                  icon={\"comment\"}\n                />\n              </span>\n            )}\n          </div>\n        </div>\n      </div>\n    </Link>\n  );\n}\n","import _GroupSettings from \"./group-settings.component.js\";\nimport _Settings from \"./settings.component.js\";\nimport _UserSettings from \"./user-settings.component.js\";\n\nexport const GroupSettings = _GroupSettings;\nexport const Settings = _Settings;\nexport const UserSettings = _UserSettings;\n","import { h } from \"preact\";\nimport { alert, http, util, router } from \"/src/core\";\nimport { useStoreon } from \"storeon/preact\";\nimport { useEffect, useState } from \"preact/hooks\";\nimport { useTranslation } from \"react-i18next\";\nimport { useNavigate, useParams } from \"react-router-dom\";\n\nexport default function GroupSettings() {\n\n  const params = useParams();\n  const { t } = useTranslation();\n  const { me, dispatch } = useStoreon(\"me\");\n  const navigate = useNavigate();\n  const [secretKey, setSecretKey] = useState(\"\");\n  const [users, setUsers] = useState([]);\n  const [group, setGroup] = useState({});\n  const [alertMessage, setAlertMessage] = useState(\"\");\n\n  useEffect(() => {\n    http.get(`/api/groups/${params.id}`).then(\n      group => {\n        setGroup(group);\n        setSecretKey(group.secretKey);\n        Promise.all(group.users.map(u => http.get(`/api/users/${u.id}`).then(u => u))).then(\n          users => setUsers(users)\n        );\n      }\n    );\n    setAlertMessage(t(router.getParam(\"alert\")));\n  }, []);\n\n  const resetSecretKey = (event) => {\n    event.preventDefault();\n    http\n      .post(`/api/groups/${group.id}/reset-invite-key`, {})\n      .then(res => {\n        alert.add(t(\"group_updated\"));\n        setSecretKey(res[\"inviteKey\"]);\n      });\n  };\n\n  const updateSettings = (event) => {\n    event.preventDefault();\n    const name = document.querySelector(\"#settings_form input[name='name']\").value;\n    if (name) {\n      group.name = name;\n    }\n    setGroup(Object.assign({}, group));\n    http.put(`/api/groups/${group.id}`, group).then(res => {\n      setGroup(res);\n      setAlertMessage(t(\"group_updated\"));\n      navigate(`${location.pathname}?alert=group_updated`);\n    });\n  };\n\n  const leaveGroup = (event) => {\n    event.preventDefault();\n    if (me.data?.default_group == group.id) {\n      let user = {};\n      user.data = { default_group: me.groups[0].id };\n      http.put(`/api/users/${me.id}`, user).then(() => {\n        dispatch(\"me/fetch\");\n        leave();\n      });\n    } else {\n      leave();\n    }\n  };\n\n  const leave = () => {\n    http.post(`/api/groups/${group.id}/leave`, {}).then(res => {\n      if (!res || !res[\"entityType\"]) {\n        alert.add(t(\"error\"), \"alert-danger\");\n      } else {\n        dispatch(\"me/fetch\");\n        alert.add(t(\"group_left\"));\n        navigate(\"/\");\n      }\n    });\n  };\n\n  return (\n    <div>\n      <div class=\"group-settings mb-3\">\n        <div class=\"card\">\n          <div class=\"card-body\">\n            <div class=\"container-fluid p-1\">\n              <div class=\"row\">\n                <div class=\"col-12 col-md-10\">\n                  <form id=\"settings_form\" class=\"mb-1 border-bottom pb-1\">\n                    <div class=\"form-group\">\n                      <label for=\"name\">{t(\"name\")}: </label>\n                      <input\n                        type=\"text\"\n                        name=\"name\"\n                        minlength=\"1\"\n                        maxlength=\"128\"\n                        placeholder={t(\"name_input\")}\n                        value={group.name}\n                        class=\"form-control\"\n                        required\n                      />\n                    </div>\n                    <button\n                      onClick={updateSettings}\n                      class=\"btn btn-outline-secondary\"\n                    >\n                      {t(\"save_changes\")}\n                    </button>\n                  </form>\n                  <form class=\"mb-1 border-bottom pb-1\">\n                    <div class=\"form-group\">\n                      <label for=\"inviteKey\">\n                        {t(\"invitation_link\")}:{\" \"}\n                      </label>\n                      <input\n                        type=\"text\"\n                        name=\"inviteKey\"\n                        value={\n                          `${window.location.protocol}//${window.location.host}/invitation/${secretKey}`\n                        }\n                        class=\"form-control font-size-80\"\n                        readonly=\"readonly\"\n                      />\n                    </div>\n                    <button\n                      class=\"btn btn-outline-secondary\"\n                      onClick={resetSecretKey}\n                    >\n                      {t(\"reset_invitation_link\")}\n                    </button>\n                  </form>\n                  <form>\n                    <button\n                      onClick={e => leaveGroup(e)}\n                      class=\"btn btn-outline-danger\"\n                    >\n                      {t(\"quit_group\")}\n                    </button>\n                  </form>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"user-list mb-3\">\n        <h3>{t(\"users\")}</h3>\n        {users.map(\n          user =>\n            user && (\n              <div class=\"user-card\">\n                <img\n                  class=\"avatar material-shadow-with-hover\"\n                  style={util.backgroundHash(user.id)}\n                  src={\n                    user.avatar\n                      ? util.crop(user.avatar[\"id\"], 200, 200)\n                      : util.defaultAvatar\n                  }\n                  onError={e => (e.currentTarget.src = util.defaultAvatar)}\n                />\n                <span>{user[\"name\"]}</span>\n              </div>\n            )\n        )}\n      </div>\n      {alertMessage && (\n        <div class=\"global-alert alert alert-success\">{alertMessage}</div>\n      )}\n    </div>\n  );\n}\n","import { h } from \"preact\";\nimport UserSettings from \"./user-settings.component.js\";\nimport GroupSettings from \"./group-settings.component.js\";\nimport { Navbar } from \"/src/navbar\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { useStoreon } from \"storeon/preact\";\nimport { useTranslation } from \"react-i18next\";\n\nexport default function Settings() {\n\n  const params = useParams();\n  const { t } = useTranslation();\n  const { me } = useStoreon(\"me\");\n\n  return (\n    <main>\n      <Navbar />\n      <div class=\"content\">\n        <article class=\"mt-2 justify-content-center d-flex\">\n          <div class=\"container pb-3\">\n            <div class=\"settings\">\n              <ul class=\"nav nav-tabs\">\n                <li class=\"nav-item\">\n                  <Link\n                    class={`nav-link${params.type == \"users\" ? \" active\" : \"\"}`}\n                    to={`/users/${me.id}/settings`}\n                  >\n                    {t(\"account\")}\n                  </Link>\n                </li>\n                {me.groups?.length > 0 && (\n                  <li\n                    class=\"nav-item dropdown group-list\"\n                    tabindex=\"-1\"\n                    onClick={e => e.currentTarget.classList.toggle(\"active\")}\n                  >\n                    <div\n                      class={`nav-link${params.type == \"groups\" ? \" active\" : \"\"}`}\n                    >\n                      {t(\"groups\")}\n                    </div>\n                    <div class=\"dropdown-menu\">\n                      {me.groups?.map(e => (\n                        <Link\n                          key={`/groups/${e.id}/settings`}\n                          class=\"seamless-link\"\n                          to={`/groups/${e.id}/settings`}\n                        >\n                          {e.name}\n                        </Link>\n                      ))}\n                    </div>\n                  </li>\n                )}\n              </ul>\n              {params.type === \"users\" && (\n                <UserSettings id={params.id} key={params.id} />\n              )}\n              {params.type === \"groups\" && (\n                <GroupSettings id={params.id} key={params.id} />\n              )}\n            </div>\n          </div>\n        </article>\n      </div>\n    </main>\n  );\n}\n","import { h } from \"preact\";\nimport { lang, router, alert, http, util, storage } from \"/src/core\";\nimport { useStoreon } from \"storeon/preact\";\nimport { useEffect, useState } from \"preact/hooks\";\nimport { useTranslation } from \"react-i18next\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\n\nexport default function UserSettings() {\n\n  const { t } = useTranslation();\n  const { me } = useStoreon(\"me\");\n  const navigate = useNavigate();\n  const location = useLocation();\n  const [apiKey, setApiKey] = useState(null);\n  const [alertMessage, setAlertMessage] = useState(\"\");\n\n  useEffect(() => {\n    storage.get(\"apiKey\").then(apiKey => setApiKey(apiKey));\n    setAlertMessage(t(router.getParam(\"alert\")));\n  }, []);\n\n  const resetApiKey = (event) => {\n    event.preventDefault();\n    http.post(`/api/users/${me.id}/reset-api-key`, {}).then(() => router.logout());\n  };\n\n  const inputAvatar = () => {\n    const input = document.createElement(\"input\");\n    input.type = \"file\";\n    input.accept = \"image/*\";\n    input.addEventListener(\"change\", event => {\n      const formData = new FormData();\n      formData.append(\"file\", event.target.files[0]);\n      http.sendFile(\n        formData,\n        file => {\n          http.put(`/api/users/${me.id}`, { avatar: file[\"id\"] }).then(() => {\n            setAlertMessage(t(\"settings_updated\"));\n            navigate(`${location.pathname}?alert=settings_updated`);\n          });\n        }\n      );\n    });\n    input.click();\n  };\n\n  const destroyAccount = (event) => {\n    event.preventDefault();\n    let confirmDeletion = confirm(t(\"are_you_sure\"));\n    if (confirmDeletion) {\n      http.delete(`/api/users/${me.id}`).then(() => {\n        navigate(\"/logout\");\n      });\n    }\n  };\n\n  const updateSettings = (event) => {\n    event.preventDefault();\n    const name = document.querySelector(\"#settings_form input[name='name']\")\n      .value;\n    const login = document.querySelector(\"#settings_form input[name='email']\")\n      .value;\n    const password = document.querySelector(\n      \"#settings_form input[name='password']\"\n    ).value;\n    const notification_emails = document.querySelector(\n      \"#settings_form select[name='notification_emails']\"\n    ).value;\n    const default_group = document.querySelector(\n      \"#settings_form select[name='default_group']\"\n    ).value;\n    const lang = document.querySelector(\"#settings_form select[name='lang']\")\n      .value;\n    let user = {};\n    if (name) {\n      user.name = name;\n    }\n    if (login) {\n      user.login = login;\n    }\n    if (password) {\n      user.password = password;\n    }\n    user[\"data\"] = {\n      notification_emails,\n      default_group,\n      lang\n    };\n    http.put(`/api/users/${me.id}`, user).then(res => {\n      if (res[\"error\"]) {\n        alert.add(res[\"error\"], \"alert-danger\");\n      } else {\n        setAlertMessage(t(\"settings_updated\"));\n        navigate(`${location.pathname}?alert=settings_updated`);\n      }\n    });\n  };\n\n  if (me && me?.data) {\n    return (\n      <div class=\"user-settings\">\n        <div class=\"card\">\n          <div class=\"identite card-body\">\n            <div class=\"container-fluid p-1\">\n              <div class=\"row\">\n                <div class=\"col-12 col-md-2\">\n                  <img\n                    class=\"img-fluid rounded-circle material-shadow avatar\"\n                    src={\n                      me.avatar\n                        ? util.crop(me.avatar[\"id\"], 100, 100)\n                        : util.defaultAvatar\n                    }\n                    style={util.backgroundHash(me.id || \"\")}\n                    onError={e => (e.currentTarget.src = util.defaultAvatar)}\n                    onClick={e => inputAvatar(e)}\n                  />\n                </div>\n                <div class=\"col-12 col-md-10\">\n                  <form id=\"settings_form\" class=\"mb-3\">\n                    <div class=\"form-group\">\n                      <label for=\"name\">{t(\"name\")}: </label>\n                      <input\n                        type=\"text\"\n                        name=\"name\"\n                        minlength=\"1\"\n                        maxlength=\"128\"\n                        placeholder={t(\"name_input\")}\n                        value={me.name}\n                        class=\"form-control\"\n                      />\n                    </div>\n                    <div class=\"form-group\">\n                      <label for=\"email\">{t(\"email\")}: </label>\n                      <input\n                        type=\"email\"\n                        name=\"email\"\n                        placeholder={t(\"email_input\")}\n                        value={me.login}\n                        class=\"form-control\"\n                      />\n                    </div>\n                    <div class=\"form-group\">\n                      <label for=\"password\">{t(\"password\")}: </label>\n                      <input\n                        type=\"password\"\n                        name=\"password\"\n                        autocomplete=\"off\"\n                        minlength=\"8\"\n                        maxlength=\"128\"\n                        placeholder={t(\"password_input\")}\n                        class=\"form-control\"\n                      />\n                    </div>\n                    <div class=\"form-group\">\n                      <label for=\"notification_emails\">\n                        {t(\"notification_emails\")}:\n                      </label>\n                      <select\n                        name=\"notification_emails\"\n                        class=\"form-control\"\n                        value={me?.data[\"notification_emails\"]}\n                      >\n                        <option value=\"none\">{t(\"none\")}</option>\n                        <option value=\"hourly\">{t(\"hourly\")}</option>\n                        <option value=\"daily\">{t(\"daily\")}</option>\n                        <option value=\"weekly\">{t(\"weekly\")}</option>\n                        <option value=\"monthly\">{t(\"monthly\")}</option>\n                      </select>\n                    </div>\n                    <div class=\"form-group\">\n                      <label for=\"default_group\">\n                        {t(\"default_group\")}:\n                      </label>\n                      <select\n                        name=\"default_group\"\n                        class=\"form-control\"\n                        value={me?.data[\"default_group\"]}\n                      >\n                        {me.groups?.map(e => (\n                          <option key={e.id} value={e.id}>{e.name}</option>\n                        ))}\n                      </select>\n                    </div>\n                    <div class=\"form-group\">\n                      <label class=\"capitalize\" for=\"lang\">\n                        {t(\"lang\")}:\n                      </label>\n                      <select\n                        name=\"lang\"\n                        class=\"form-control\"\n                        value={lang.getCurrentLang()}\n                      >\n                        {Object.keys(lang.possibleLang).map(k => (\n                          <option key={k} value={k}>{lang.possibleLang[k]}</option>\n                        ))}\n                      </select>\n                    </div>\n                    <button\n                      onClick={e => updateSettings(e)}\n                      class=\"btn btn-primary\"\n                    >\n                      {t(\"save_changes\")}\n                    </button>\n                  </form>\n                  <form id=\"api_key_form\">\n                    <div class=\"form-group\">\n                      <label for=\"apiKey\">\n                        {t(\"api_key\")}:{\" \"}\n                      </label>\n                      <input\n                        type=\"text\"\n                        name=\"apiKey\"\n                        value={apiKey}\n                        class=\"form-control font-size-80\"\n                        readonly=\"readonly\"\n                      />\n                    </div>\n                    <button\n                      class=\"btn btn-outline-secondary\"\n                      onClick={resetApiKey}\n                    >\n                      {t(\"reset_api_key\")}\n                    </button>\n                  </form>\n                  <form id=\"destroy_form\">\n                    <label class=\"d-block\" for=\"destroy_account\">\n                      {t(\"destroy_account_explain\")}\n                    </label>\n                    <button\n                      onClick={e => destroyAccount(e)}\n                      name=\"destroy_account\"\n                      class=\"btn btn-danger\"\n                    >\n                      {t(\"destroy_account\")}\n                    </button>\n                  </form>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        {alertMessage && (\n          <div class=\"global-alert alert alert-success\">{alertMessage}</div>\n        )}\n      </div>\n    );\n  }\n}\n"],"names":["$3a9c5b0a2981242b$var$i18nInstance","events","state","store","$parcel$export","e","n","v","s","Object","defineProperty","get","set","enumerable","configurable","$parcel$interopDefault","a","__esModule","default","_window","Action","ResultType","DataRouterHook","DataRouterStateHook","AwaitRenderStatus","routes","opts","$6b1a25b8319a72de$export$e19cd5f9376f8cee","$6b1a25b8319a72de$var$ResultType","$4a6806eb551925a6$var$DataRouterHook","$4a6806eb551925a6$var$DataRouterStateHook","$parcel$global","globalThis","self","window","global","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","$f965482ec7a35662$export$bdfd709ae4826697","$f965482ec7a35662$var$bundleURL","value","$f965482ec7a35662$var$getBundleURL","matches","stack","match","replace","$bc4b82f252aed4aa$var$n","$bc4b82f252aed4aa$export$41c562ebe57d11e2","$bc4b82f252aed4aa$var$u","$bc4b82f252aed4aa$var$i","$bc4b82f252aed4aa$var$o","$bc4b82f252aed4aa$var$r","$bc4b82f252aed4aa$var$f","$bc4b82f252aed4aa$var$e","$bc4b82f252aed4aa$var$c","$bc4b82f252aed4aa$var$s","$bc4b82f252aed4aa$var$a","$bc4b82f252aed4aa$var$h","Array","isArray","$bc4b82f252aed4aa$var$v","l","u","$bc4b82f252aed4aa$var$p","parentNode","removeChild","$bc4b82f252aed4aa$export$c8a8987d4410bf2d","t","i","o","r","f","arguments","length","children","defaultProps","$bc4b82f252aed4aa$var$d","type","props","key","ref","__k","__","__b","__e","__d","__c","__h","constructor","__v","vnode","$bc4b82f252aed4aa$export$7d1e3a5e95ceca43","current","$bc4b82f252aed4aa$export$ffb0004e005737fa","$bc4b82f252aed4aa$export$16fa2f45be04daa8","context","$bc4b82f252aed4aa$var$g","indexOf","$bc4b82f252aed4aa$var$w","push","$bc4b82f252aed4aa$var$x","__r","debounceRendering","c","sort","shift","__P","$bc4b82f252aed4aa$var$L","__n","ownerSVGElement","$bc4b82f252aed4aa$var$M","$bc4b82f252aed4aa$var$m","base","$bc4b82f252aed4aa$var$P","p","y","_","b","m","w","x","P","C","H","I","T","j","z","$bc4b82f252aed4aa$var$A","$bc4b82f252aed4aa$var$O","$bc4b82f252aed4aa$var$S","nextSibling","$bc4b82f252aed4aa$var$$","$bc4b82f252aed4aa$var$q","$bc4b82f252aed4aa$export$47e4c5b300681277","some","insertBefore","$bc4b82f252aed4aa$var$I","setProperty","test","$bc4b82f252aed4aa$var$T","style","cssText","toLowerCase","slice","addEventListener","$bc4b82f252aed4aa$var$z","$bc4b82f252aed4aa$var$j","removeEventListener","removeAttribute","setAttribute","event","d","g","$","S","A","contextType","__E","prototype","render","$bc4b82f252aed4aa$var$B","sub","_sb","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","forEach","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","$bc4b82f252aed4aa$var$N","k","localName","nodeType","document","createTextNode","createElementNS","createElement","is","data","childNodes","dangerouslySetInnerHTML","attributes","name","__html","innerHTML","$bc4b82f252aed4aa$var$H","checked","diffed","unmount","componentWillUnmount","$bc4b82f252aed4aa$export$b3890eb0ae9dca99","firstChild","$bc4b82f252aed4aa$export$e530037191fcd5d7","$bc4b82f252aed4aa$export$fd42f52fd3ae1109","Consumer","Provider","splice","getDerivedStateFromError","setState","componentDidCatch","forceUpdate","Promise","then","bind","resolve","setTimeout","$965d8b034b5a035b$var$alert","remove","getElementById","outerHTML","add","text","alertStyle","countdown","alertNode","hash","classList","body","appendChild","str","charCodeAt","$15bf00c5a9ebafaa$var$storage","usage","total","localStorage","hasOwnProperty","createStorageBox","metadata","createdAt","Date","now","removeItem","setItem","JSON","stringify","getItem","parse","reset","clear","dispatchEvent","CustomEvent","$5e4e939c48db0130$var$store","modules","on","api","me","route","action","backUrl","entityType","search","entity","newState","notifications","notification","filter","map","assign","read","bookmarks","bookmark","$ba05c0ef8a781e02$export$7d6f1c8842f9f527","delete","message_id","post","dispatch","changes","diff","includes","cb","$d7301ad24121e92e$var$consoleLogger","log","args","output","warn","error","console","apply","$d7301ad24121e92e$var$Logger","concreteLogger","options","undefined","prefix","logger","debug","_len","_key","forward","_len2","_key2","_len3","_key3","deprecate","_len4","_key4","lvl","debugOnly","create","moduleName","clone","$d7301ad24121e92e$var$baseLogger","$d7301ad24121e92e$var$EventEmitter","observers","listener","split","off","emit","cloned","concat","observer","$d7301ad24121e92e$var$defer","res","rej","promise","reject","$d7301ad24121e92e$var$makeString","object","$d7301ad24121e92e$var$getLastOfPath","path","Empty","cleanKey","canNotTraverseDeeper","obj","$d7301ad24121e92e$var$setPath","newValue","$d7301ad24121e92e$var$getPath","$d7301ad24121e92e$var$regexEscape","$d7301ad24121e92e$var$_entityMap","$d7301ad24121e92e$var$escape","$d7301ad24121e92e$var$chars","$d7301ad24121e92e$var$deepFind","keySeparator","paths","join","mix","endsWith","joinedPath","$d7301ad24121e92e$var$getCleanedCode","$d7301ad24121e92e$var$ResourceStore","ns","defaultNS","ignoreJSONStructure","addNamespaces","removeNamespaces","index","getResource","lng","result","addResource","silent","addResources","resources","toString","addResourceBundle","deep","overwrite","pack","$d7301ad24121e92e$var$deepExtend","target","source","prop","String","removeResourceBundle","hasResourceBundle","getResourceBundle","compatibilityAPI","getDataByLanguage","hasLanguageSomeTranslations","keys","find","toJSON","$d7301ad24121e92e$var$postProcessor","processors","addPostProcessor","handle","translator","processor","process","$d7301ad24121e92e$var$checkedLoadedFor","$d7301ad24121e92e$var$Translator","services","$d7301ad24121e92e$var$copy","changeLanguage","language","exists","interpolation","resolved","extractFromKey","nsSeparator","namespaces","wouldCheckForNsInKey","seemsNaturalLanguage","userDefinedKeySeparator","userDefinedNsSeparator","$d7301ad24121e92e$var$looksLikeObjectPath","possibleChars","RegExp","matched","ki","substring","interpolator","nestingRegexp","parts","translate","lastKey","overloadTranslationOptionHandler","returnDetails","namespace","appendNamespaceToCIMode","usedKey","exactUsedKey","usedLng","usedNS","resUsedKey","resExactUsedKey","resType","joinArrays","handleAsObjectInI18nFormat","i18nFormat","handleAsObject","noObject","returnObjects","returnedObjectHandler","resTypeIsArray","copy","newKeyToUse","deepKey","extendTranslation","usedDefault","needsPluralHandling","count","hasDefaultValue","defaultValueSuffix","pluralResolver","getSuffix","defaultValueSuffixOrdinalFallback","ordinal","defaultValue","isValidLookup","missingKeyNoValueFallbackToKey","resForMissing","updateMissing","fk","lngs","fallbackLngs","languageUtils","getFallbackCodes","fallbackLng","saveMissingTo","toResolveHierarchy","send","specificDefaultValue","defaultForMissing","missingKeyHandler","backendConnector","saveMissing","saveMissingPlurals","getSuffixes","suffix","appendNamespaceToMissingKey","parseMissingKeyHandler","_this","defaultVariables","skipInterpolation","nestBef","skipOnVariables","nb","interpolate","na","nestAft","nest","postProcess","postProcessorNames","applyPostProcessor","postProcessPassResolved","i18nResolved","found","extracted","fallbackNS","needsZeroSuffixLookup","shouldUseIntlApi","needsContextHandling","codes","utils","hasLoadedNamespace","possibleKey","finalKeys","addLookupKeys","pluralSuffix","zeroSuffix","pluralSeparator","ordinalPrefix","contextKey","contextSeparator","pop","returnNull","returnEmptyString","resourceStore","option","$d7301ad24121e92e$var$capitalize","string","charAt","toUpperCase","$d7301ad24121e92e$var$LanguageUtil","supportedLngs","getScriptPartFromCode","formatLanguageCode","getLanguagePartFromCode","specialCases","lowerCaseLng","part","cleanCode","isSupportedCode","load","nonExplicitSupportedLngs","getBestMatchFromCodes","cleanedLng","lngOnly","supportedLng","fallbacks","fallbackCode","fallbackCodes","addCode","fc","$d7301ad24121e92e$var$sets","nr","$d7301ad24121e92e$var$_rulesPluralsTypes","Number","$d7301ad24121e92e$var$nonIntlVersions","$d7301ad24121e92e$var$intlVersions","$d7301ad24121e92e$var$suffixesOrder","zero","one","two","few","many","other","$d7301ad24121e92e$var$PluralResolver","compatibilityJSON","Intl","PluralRules","rules","$d7301ad24121e92e$var$createRules","numbers","plurals","addRule","getRule","needsPlural","rule","resolvedOptions","pluralCategories","getPluralFormsOfKey","pluralCategory1","pluralCategory2","pluralCategory","prepend","number","select","getSuffixRetroCompatible","idx","noAbs","Math","abs","simplifyPluralSuffix","returnSuffix","$d7301ad24121e92e$var$deepFindWithDefaults","defaultData","$d7301ad24121e92e$var$getPathWithDefaults","$d7301ad24121e92e$var$Interpolator","format","escapeValue","iOpts","escape","useRawValueToEscape","prefixEscaped","suffixEscaped","formatSeparator","unescapePrefix","unescapeSuffix","nestingPrefix","nestingPrefixEscaped","nestingSuffix","nestingSuffixEscaped","nestingOptionsSeparator","maxReplaces","alwaysFormat","resetRegExp","regexpStr","regexp","regexpUnescapeStr","regexpUnescape","nestingRegexpStr","replaces","regexSafe","val","handleFormat","interpolationkey","trim","missingInterpolationHandler","todos","regex","safeValue","todo","exec","matchedVar","temp","lastIndex","clonedOptions","handleHasOptions","inheritedOptions","sep","optionsString","matchedSingleQuotes","matchedDoubleQuotes","formatters","doReduce","elem","reduce","$d7301ad24121e92e$var$createCachedFormatter","fn","cache","formatter","$d7301ad24121e92e$var$Formatter","formats","opt","NumberFormat","currency","datetime","DateTimeFormat","relativetime","RelativeTimeFormat","range","list","ListFormat","addCached","mem","formatName","formatOptions","$d7301ad24121e92e$var$parseFormatStr","formatStr","optStr","rest","isNaN","parseInt","formatted","valOptions","formatParams","locale","$d7301ad24121e92e$var$Connector","backend","waitingReads","maxParallelReads","readingCalls","maxRetries","retryTimeout","queue","queueLoad","languages","callback","toLoad","pending","toLoadLanguages","toLoadNamespaces","hasAllNamespaces","reload","pendingCount","loaded","errors","q","$d7301ad24121e92e$var$pushPath","done","loadedKeys","fcName","tried","wait","resolver","next","catch","prepareLoading","loadOne","fallbackValue","isUpdate","clb","$d7301ad24121e92e$var$get","initImmediate","preload","partialBundledLanguages","ret","tDescription","$d7301ad24121e92e$var$transformOptions","$d7301ad24121e92e$var$noop","$d7301ad24121e92e$var$I18n","external","$d7301ad24121e92e$var$bindMemberFunctions","inst","mems","getOwnPropertyNames","getPrototypeOf","isInitialized","isClone","defOpts","createClassOnDemand","ClassOrObject","lu","languageDetector","detection","storeApi","storeApiChained","deferred","finish","initializedStoreOnce","loadResources","usedCallback","append","resolvedLanguage","setResolvedLanguage","reloadResources","use","li","lngInLngs","_this2","isLanguageChangingTo","setLngProps","setLng","cacheUserLanguage","async","detect","getFixedT","keyPrefix","_this3","fixedT","resultKey","setDefaultNamespace","lastLng","loadNotPending","loadState","precheck","preResult","loadNamespaces","loadLanguages","preloaded","newLngs","dir","rtlLngs","createInstance","cloneInstance","forkResourceStore","mergedOptions","membersToCopy","$d7301ad24121e92e$export$2e2bcd8739ae039","$1747d3542bece520$var$me","lang","groups","avatar","getGroupName","group","update","$747de4a7b04ce4ba$export$2e2bcd8739ae039","all","fetch","logout","$c9d322eeb636f8e5$exports","$c9d322eeb636f8e5$export$221d75b3f55bb0bd","$c9d322eeb636f8e5$export$7c73462e0d25e514","$c9d322eeb636f8e5$export$257a8862b851cb5b","$c9d322eeb636f8e5$export$dca3b0875bd9a954","$c9d322eeb636f8e5$export$74bf444e3cd11ea5","$c9d322eeb636f8e5$export$488013bae63b21da","$c9d322eeb636f8e5$export$998bcd577473dd93","$c9d322eeb636f8e5$export$d39a5bbd09211389","$c9d322eeb636f8e5$export$b3890eb0ae9dca99","$c9d322eeb636f8e5$export$fa8d919ba61d84db","$c9d322eeb636f8e5$export$ae55be85d98224ed","$c9d322eeb636f8e5$export$83d89fbfd8236492","$c9d322eeb636f8e5$export$d38cd72104c1f0e9","$c9d322eeb636f8e5$export$a8257692ac88316c","$c9d322eeb636f8e5$export$9522e17588c12572","$c9d322eeb636f8e5$export$e530037191fcd5d7","$c9d322eeb636f8e5$export$502457920280e6be","$c9d322eeb636f8e5$export$466bfc07425424d5","$c9d322eeb636f8e5$export$c78a37762a8d58e1","$c9d322eeb636f8e5$export$cd75ccfd720a3cd4","$c9d322eeb636f8e5$export$5f8d39834fd61797","$c9d322eeb636f8e5$export$7568632d0d33d16d","$c9d322eeb636f8e5$export$6a7bc4e911dc01cf","$c9d322eeb636f8e5$export$7b286972b8d8ccbf","$c9d322eeb636f8e5$export$aaabe4eda9ed9969","$c9d322eeb636f8e5$export$45a5e7f76e0caa8d","$c9d322eeb636f8e5$export$306c0aa65ff9ec16","$c9d322eeb636f8e5$export$2e2bcd8739ae039","$35130c2d97e6777b$exports","$35130c2d97e6777b$export$60241385465d0a34","$35130c2d97e6777b$export$13e3392192263954","$35130c2d97e6777b$export$6d9c69b0de29b591","$35130c2d97e6777b$export$e5c5a5f917a5871c","$35130c2d97e6777b$export$b8f5890fc79d6aca","$35130c2d97e6777b$export$1538c33de8887b59","$35130c2d97e6777b$export$d5a552a76deda3c2","$35130c2d97e6777b$export$35808ee640e87ca7","$35130c2d97e6777b$export$fae74005e78b1a27","$35130c2d97e6777b$export$dc8fbce3eb94dc1e","$35130c2d97e6777b$export$c052f6604b7d51fe","$35130c2d97e6777b$export$f680877a34711e37","$35130c2d97e6777b$var$t","$35130c2d97e6777b$var$r","$35130c2d97e6777b$var$u","$35130c2d97e6777b$var$i","$35130c2d97e6777b$var$o","$35130c2d97e6777b$var$f","$35130c2d97e6777b$var$c","$35130c2d97e6777b$var$e","$35130c2d97e6777b$var$a","$35130c2d97e6777b$var$v","$35130c2d97e6777b$var$l","$35130c2d97e6777b$var$m","$35130c2d97e6777b$var$d","__H","__V","$35130c2d97e6777b$var$B","__N","every","$35130c2d97e6777b$var$z","useDebugValue","__m","$35130c2d97e6777b$var$b","$35130c2d97e6777b$var$k","$35130c2d97e6777b$var$w","requestAnimationFrame","clearTimeout","$35130c2d97e6777b$var$g","cancelAnimationFrame","$c9d322eeb636f8e5$var$g","$c9d322eeb636f8e5$var$C","$c9d322eeb636f8e5$var$E","displayName","isReactComponent","__f","isPureReactComponent","$c9d322eeb636f8e5$var$R","$c9d322eeb636f8e5$var$N","Symbol","for","$$typeof","$c9d322eeb636f8e5$var$A","only","toArray","$c9d322eeb636f8e5$var$T","$c9d322eeb636f8e5$var$F","__u","$c9d322eeb636f8e5$var$D","__a","__R","$c9d322eeb636f8e5$var$L","__O","$c9d322eeb636f8e5$var$I","fallback","$c9d322eeb636f8e5$var$W","revealOrder","size","$c9d322eeb636f8e5$var$P","$c9d322eeb636f8e5$var$j","containerInfo","Map","reverse","$c9d322eeb636f8e5$var$B","$c9d322eeb636f8e5$var$H","$c9d322eeb636f8e5$var$Z","$c9d322eeb636f8e5$var$Y","$c9d322eeb636f8e5$var$$","textContent","$bc4b82f252aed4aa$export$fa8d919ba61d84db","writable","$c9d322eeb636f8e5$var$K","$c9d322eeb636f8e5$var$Q","$c9d322eeb636f8e5$var$X","cancelBubble","$c9d322eeb636f8e5$var$nn","defaultPrevented","persist","isPropagationStopped","isDefaultPrevented","nativeEvent","$c9d322eeb636f8e5$var$tn","$c9d322eeb636f8e5$var$en","class","$c9d322eeb636f8e5$var$rn","multiple","selected","className","$c9d322eeb636f8e5$var$un","$c9d322eeb636f8e5$var$on","ReactCurrentDispatcher","readContext","h","useState","useId","useReducer","useEffect","useLayoutEffect","useInsertionEffect","useTransition","useDeferredValue","useSyncExternalStore","startTransition","useRef","useImperativeHandle","useMemo","useCallback","useContext","version","Children","hydrate","unmountComponentAtNode","createPortal","createContext","createFactory","cloneElement","createRef","Fragment","isValidElement","isElement","isFragment","findDOMNode","Component","PureComponent","memo","forwardRef","flushSync","unstable_batchedUpdates","StrictMode","Suspense","SuspenseList","lazy","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","dest","$1e9d83a033bb58ca$exports","$1e9d83a033bb58ca$var$_extends","$52be05fa2baefe83$var$alreadyWarned","$52be05fa2baefe83$export$5b28268982f175ba","$52be05fa2baefe83$export$c106dd0671a0fc2d","$52be05fa2baefe83$var$loadedClb","i18n","initialized","$52be05fa2baefe83$export$83be934b53fff43b","$52be05fa2baefe83$export$8cd7e7a54fa865bc","$a0179c60df6f1bb4$var$matchHtmlEntity","$a0179c60df6f1bb4$var$htmlEntities","$a0179c60df6f1bb4$var$unescapeHtmlEntity","$4ec6b5e5b6e9f8d7$var$defaultOptions","bindI18n","bindI18nStore","transEmptyNodeValue","transSupportBasicHtmlNodes","transWrapTextNodes","transKeepBasicHtmlNodesFor","useSuspense","unescape","$a6a4853fe069bc1d$export$5603ab5ced17ce64","$a6a4853fe069bc1d$export$ea171b67e3820290","usedNamespaces","addUsedNamespaces","getUsedNamespaces","$829be5acfdd67d69$var$usePrevious","ignore","$829be5acfdd67d69$export$9fc83ad70ead8663","i18nFromProps","i18nFromContext","defaultNSFromContext","reportNamespaces","notReadyT","optsOrDefaultValue","retNotReady","ready","react","i18nOptions","isNewerI18next","i18nInstance","$52be05fa2baefe83$var$oldI18nextHasLoadedNamespace","getT","nsMode","setT","joinedNS","previousJoinedNS","isMounted","boundReset","isInitial","$5fa4965e78bef7fc$export$2dcb0053efd21124","WrappedComponent","I18nextWithTranslation","_ref","forwardedRef","passDownProps","tReady","withRef","$a2d22b34d2713fc4$exports","$cc2715f99a47060f$exports","$c4ac5cd07b712bb3$exports","$877f54add9e380c7$exports","$1352a52cb5e99347$exports","$e61dc402a65410c5$export$9a771d6906431624","possibleLang","en","es","fr","nl","sk","getDefaultLang","querySelector","content","getCurrentLang","instance","translation","$0d89305838e7d07e$var$util","isValidUrl","url","URL","limitLength","floor","escapeRegex","getSubpath","baseURI","pathname","toApp","location","origin","genId","seed","random","id2Int","urlRegExp","getUrl","txt","startsWith","link","limitStrSize","limit","humanFullDate","timestamp","getTime","getTimezoneOffset","toISOString","humanTime","duration","round","getId","thumbnail","width","height","crop","defaultAvatar","colorHash","backgroundHash","c1","c2","is_it_enter","keyCode","getVersion","getWidthBreakpoint","innerWidth","$747de4a7b04ce4ba$var$http","sendFile","formData","loadFn","progressFn","errorFn","apiKey","xhr","XMLHttpRequest","open","setRequestHeader","status","response","statusText","upload","onprogress","nocache","delay","method","headers","Headers","ok","json","contentType","request","put","fetchOptions","exception","message","$ea4e56e50a26ecd6$var$notifications","LIMIT","isNew","matchNotification","fromMessage","removeAllNotifications","markAllNotificationsAsRead","removeMatchingNotifications","markAsRead","notif","$715455f3b9e52ce9$var$router","removeSubpath","getEntity","isEntity","getParam","param","searchParams","decodeURIComponent","getSegments","isOutside","getUrlComponents","components","$ba05c0ef8a781e02$export$644d8ea042df96a6","info","$6b1a25b8319a72de$var$_extends","$6b1a25b8319a72de$var$PopStateEventType","$6b1a25b8319a72de$export$3e9cee6b33872309","$6b1a25b8319a72de$export$c0e02632e14916fd","cond","$6b1a25b8319a72de$var$getHistoryState","usr","$6b1a25b8319a72de$var$createLocation","to","$6b1a25b8319a72de$export$8ccf933b0513f8d0","substr","$6b1a25b8319a72de$export$fe53371bee54353d","parsedPath","hashIndex","searchIndex","$6b1a25b8319a72de$var$immutableRouteKeys","Set","$6b1a25b8319a72de$export$4a6d22b32134ea5d","mapRouteProperties","parentPath","manifest","treePath","indexRoute","pathOrLayoutRoute","$6b1a25b8319a72de$export$2708184779ceb39d","locationArg","basename","$6b1a25b8319a72de$export$b69e3301ce081aa3","branches","$6b1a25b8319a72de$var$flattenRoutes","parentsMeta","flattenRoute","relativePath","segments","initialScore","meta","caseSensitive","childrenIndex","$6b1a25b8319a72de$export$86d9a7913e44197e","routesMeta","score","$6b1a25b8319a72de$var$isSplat","segment","$6b1a25b8319a72de$var$paramRe","_route$path","exploded","$6b1a25b8319a72de$var$explodeOptionalSegments","first","isOptional","required","restExploded","subpath","$6b1a25b8319a72de$var$rankRouteBranches","siblings","$6b1a25b8319a72de$var$matchRouteBranch","branch","matchedParams","matchedPathname","end","remainingPathname","$6b1a25b8319a72de$export$81336c211d5ff295","pattern","matcher","paramNames","$6b1a25b8319a72de$var$compilePath","regexpSource","paramName","pathnameBase","captureGroups","params","splatValue","$6b1a25b8319a72de$var$safelyDecodeURIComponent","$6b1a25b8319a72de$export$a5c6d149b50c1d86","decodeURI","startIndex","nextChar","$6b1a25b8319a72de$var$getInvalidPathError","char","field","$6b1a25b8319a72de$export$90ba53ce1c7fdff2","$6b1a25b8319a72de$export$cae722b0cc860f13","toArg","routePathnames","locationPathname","isPathRelative","from","isEmptyPath","toPathname","routePathnameIndex","toSegments","$6b1a25b8319a72de$export$b09f2ff0bbcb43c7","fromPathname","relativeSegments","$6b1a25b8319a72de$var$normalizeSearch","$6b1a25b8319a72de$var$normalizeHash","hasExplicitTrailingSlash","hasCurrentTrailingSlash","$6b1a25b8319a72de$export$acf1a680051f5031","internal","$6b1a25b8319a72de$export$972111febbeef05b","$6b1a25b8319a72de$var$validMutationMethodsArr","$6b1a25b8319a72de$var$validMutationMethods","$6b1a25b8319a72de$var$validRequestMethodsArr","$6b1a25b8319a72de$var$validRequestMethods","$6b1a25b8319a72de$var$redirectStatusCodes","$6b1a25b8319a72de$var$redirectPreserveMethodStatusCodes","$6b1a25b8319a72de$export$ed3e14b2f9e105d0","formMethod","formAction","formEncType","$6b1a25b8319a72de$export$52eace9c284d3585","$6b1a25b8319a72de$export$386d57f03f0b2883","proceed","$6b1a25b8319a72de$var$ABSOLUTE_URL_REGEX","$6b1a25b8319a72de$var$defaultMapRouteProperties","hasErrorBoundary","Boolean","$6b1a25b8319a72de$var$normalizeTo","prependBasename","fromRouteId","relative","contextualMatches","activeRouteMatch","$6b1a25b8319a72de$var$hasNakedIndexQuery","$6b1a25b8319a72de$var$normalizeNavigateOptions","normalizeFormMethod","isFetcher","has","$6b1a25b8319a72de$var$getInternalRouterError","getInvalidBodyError","rawFormMethod","$6b1a25b8319a72de$var$stripHashFromPath","$6b1a25b8319a72de$var$isMutationMethod","FormData","URLSearchParams","entries","acc","_ref3","submission","$6b1a25b8319a72de$var$convertFormDataToSearchParams","$6b1a25b8319a72de$var$convertSearchParamsToFormData","$6b1a25b8319a72de$var$getMatchesToLoad","history","isRevalidationRequired","cancelledDeferredRoutes","cancelledFetcherLoads","fetchLoadMatches","fetchRedirectIds","routesToUse","pendingActionData","pendingError","actionResult","values","currentUrl","createURL","nextUrl","navigationMatches","boundaryMatches","$6b1a25b8319a72de$var$getLoaderMatchesUntilBoundary","boundaryId","findIndex","currentLoaderData","currentMatch","isMissingData","loader","$6b1a25b8319a72de$var$isNewLoader","loaderData","currentRouteMatch","$6b1a25b8319a72de$var$shouldRevalidateLoader","currentParams","nextParams","nextRouteMatch","defaultShouldRevalidate","$6b1a25b8319a72de$var$isNewRouteInstance","revalidatingFetchers","routeId","fetcherMatches","controller","fetcher","fetchers","fetcherMatch","$6b1a25b8319a72de$var$getTargetMatch","AbortController","currentPath","loaderMatch","arg","shouldRevalidate","routeChoice","$6b1a25b8319a72de$var$loadLazyRouteModule","lazyRoute","routeToUpdate","routeUpdates","lazyRouteProperty","isPropertyStaticallyDefined","staticRouteValue","$6b1a25b8319a72de$var$callLoaderOrAction","_result$init","_result$init2","resultType","onReject","runHandler","handler","abortPromise","signal","race","requestContext","isStaticRequest","protocol","isSameBasename","redirect","revalidate","reloadDocument","isRouteRequest","statusCode","subscribe","cancel","resolveData","deferredData","$6b1a25b8319a72de$var$createClientSideRequest","Request","$6b1a25b8319a72de$var$processLoaderData","matchesToLoad","results","fetcherResults","activeDeferreds","foundError","loaderHeaders","$6b1a25b8319a72de$var$isRedirectResult","$6b1a25b8319a72de$var$isErrorResult","boundaryMatch","$6b1a25b8319a72de$var$findNearestBoundary","$6b1a25b8319a72de$var$isDeferredResult","aborted","doneFetcher","$6b1a25b8319a72de$var$getDoneFetcher","$6b1a25b8319a72de$var$mergeLoaderData","newLoaderData","mergedLoaderData","eligibleMatches","$6b1a25b8319a72de$var$getShortCircuitMatches","_temp4","errorMessage","$6b1a25b8319a72de$var$findRedirect","$6b1a25b8319a72de$var$resolveDeferredResults","currentMatches","signals","isRevalidatingLoader","$6b1a25b8319a72de$var$resolveDeferredData","unwrap","unwrappedData","getAll","pathMatches","$6b1a25b8319a72de$var$getSubmissionFromNavigation","navigation","$6b1a25b8319a72de$var$getLoadingNavigation","$6b1a25b8319a72de$var$getLoadingFetcher","$405e09292ddca27f$var$_extends","$405e09292ddca27f$export$3add0d5dce533e2e","$405e09292ddca27f$export$145dfa71566a64dc","$405e09292ddca27f$export$26749e8557646306","$405e09292ddca27f$export$c7914228fb69b0f5","$405e09292ddca27f$export$9072aa6dd1f93057","outlet","isDataRoute","$405e09292ddca27f$var$RouteErrorContext","$405e09292ddca27f$export$9c954a9d03d32f4a","$405e09292ddca27f$export$45d76561a5302f2b","$405e09292ddca27f$var$useIsomorphicLayoutEffect","static","$405e09292ddca27f$export$9770f232ac06a008","$405e09292ddca27f$var$useNavigateStable","ctx","router","$405e09292ddca27f$var$DataRouterHook","UseNavigateStable","$405e09292ddca27f$var$useCurrentRouteId","$405e09292ddca27f$var$DataRouterStateHook","activeRef","navigate","$405e09292ddca27f$var$useNavigateUnstable","dataRouterContext","navigator","routePathnamesJson","go","$405e09292ddca27f$export$99eaa27ddbbb95ef","routeMatch","$405e09292ddca27f$export$e75d2a2d1b3c245b","_temp2","$405e09292ddca27f$export$5fcee62552a12fbf","dataRouterState","parentMatches","parentParams","parentPathnameBase","locationFromContext","_parsedLocationArg$pa","parsedLocationArg","renderedMatches","$405e09292ddca27f$var$_renderMatches","_dataRouterState2","_dataRouterState","errorIndex","min","reduceRight","errorElement","$405e09292ddca27f$var$defaultErrorElement","getChildren","element","$405e09292ddca27f$var$RenderedRoute","routeContext","ErrorBoundary","$405e09292ddca27f$var$RenderErrorBoundary","revalidation","component","encodeLocation","navigationType","Pop","_state$errors","UseRouteError","fontStyle","padding","backgroundColor","errorInfo","staticContext","_deepestRenderedBoundaryId","hookName","thisRoute","$405e09292ddca27f$var$startTransitionImpl","$405e09292ddca27f$export$323e4fc2fa4753fb","fallbackElement","future","setStateImpl","v7_startTransition","createHref","preventScrollReset","$405e09292ddca27f$export$55185c17a0fcbe46","historyAction","$405e09292ddca27f$var$DataRoutes","_ref2","$405e09292ddca27f$export$444b3ab0cb9aec40","_ref4","jsonPath","$405e09292ddca27f$export$e7b0ac011bb776c6","_props","_ref5","basenameProp","locationProp","staticProp","navigationContext","locationContext","trailingPathname","$405e09292ddca27f$export$3565eb3d00ca5a74","_ref6","$405e09292ddca27f$export$16da398f5434bdec","$405e09292ddca27f$var$AwaitRenderStatus","$4a6806eb551925a6$var$_extends","$4a6806eb551925a6$var$_objectWithoutPropertiesLoose","excluded","sourceKeys","$4a6806eb551925a6$var$_excluded","$4a6806eb551925a6$var$_excluded3","$4a6806eb551925a6$var$isBrowser","$4a6806eb551925a6$var$ABSOLUTE_URL_REGEX","$4a6806eb551925a6$export$a6c7ac8248d6e38a","absoluteHref","onClick","isExternal","href","targetUrl","_temp","joinedPathname","internalOnClick","$4a6806eb551925a6$export$67621102c14d847","replaceProp","button","metaKey","altKey","ctrlKey","shiftKey","preventDefault","$fd00660e7c465403$exports","getBundleURL","$f79e9cb5c3dbdf1a$export$2e2bcd8739ae039","$c6a97b4c72e49883$export$2e2bcd8739ae039","$30c5ca0a60c8316e$export$2e2bcd8739ae039","isChild","$021afc89466d3c0c$export$2e2bcd8739ae039","firstDisplayedChild","setFirstDisplayedChild","lastDisplayedChild","setLastDisplayedChild","onNewChild","newMsg","detail","parent","displayPreviousChildren","max","displayNextChildren","childMessages","msgIndex","$9b716d635261f1d3$export$2e2bcd8739ae039","isPublic","author","src","title","$85c05060c4c33f8a$export$8b29a4b6778bf7f","icon","icons","regular","comment","images","bell","solid","film","times","family","rotation","viewBox","fill","$5133ef8bc2964922$export$554ccc96b126a426","$5133ef8bc2964922$var$useIsomorphicLayoutEffect","$5133ef8bc2964922$export$11aeef812f154e9e","rerender","changed","$5cdf1c2fc07a1db5$var$_extends","$a779245c27c6d4b9$export$8eb86eb08c0b5c12","groupId","setLoaded","setSearch","hashtags","setHashtags","messages","setMessages","loadMessages","msg","$19924b6e568a4f60$export$423dfe6469a8e0dd","tabindex","$a779245c27c6d4b9$export$5cc34a6155e65c0e","$a779245c27c6d4b9$export$42cfbb80f7861e77","$a779245c27c6d4b9$export$ffe0a8eecde78dfa","currentTarget","toggle","onError","$a779245c27c6d4b9$export$2d8ae0bb40c793f6","$e4fc23afeade3f60$export$4b85d3515bd863a5","$e4fc23afeade3f60$export$14834abbfce3b8cd","$968c795b42e82a14$export$2e2bcd8739ae039","postNewGroup","secretKey","minlength","maxlength","placeholder","$0d6022fefd5ea3cb$export$2e2bcd8739ae039","embedUrl","revealed","preview","$339cc4f4e8c01c65$export$2e2bcd8739ae039","allowfullscreen","playBtnClass","$91f4924d9b614d55$exports","iterator","TypeError","L","O","evt","eventName","onElement","withCallback","avoidDuplicate","once","useCapture","destroy","querySelectorAll","contains","parentElement","msMatchesSelector","animation","OAnimation","MozAnimation","WebkitAnimation","webkitTransform","MozTransform","msTransform","OTransform","transform","display","createDocumentFragment","documentElement","clientWidth","innerHeight","clientHeight","setInterval","clearInterval","getElementsByTagName","rel","media","onload","userAgent","E","isFinite","M","parseFloat","getAttribute","Y","sqrt","N","handlers","el","D","start","move","preV","pinchStartLen","zoom","isDoubleTap","rotate","touchStart","multipointStart","multipointEnd","pinch","swipe","tap","doubleTap","longTap","singleTap","pressMove","twoFingerPressMove","touchMove","touchEnd","touchCancel","translateContainer","_cancelAllHandler","cancelAll","delta","last","tapTimeout","singleTapTimeout","longTapTimeout","swipeTimeout","x1","x2","y1","y2","preTapPosition","touches","nodeName","pageX","pageY","_cancelLongTap","_cancelSingleTap","_preventTap","angle","acos","PI","sx2","deltaX","deltaY","sy2","changedTouches","direction","_swipeDirection","del","W","transition","OTransition","MozTransition","WebkitTransition","opacity","img","slide","onclose","setZoomEvents","active","zoomedIn","dragging","currentX","currentY","initialX","initialY","xOffset","yOffset","dragStart","dragEnd","drag","zoomOut","zoomIn","widowWidth","maxWidth","naturalWidth","maxHeight","naturalHeight","setTranslate","clientX","clientY","isDragging","V","dragEl","toleranceX","toleranceY","lastDirection","toleranceReached","dragContainer","doSlideChange","preventOutsideClick","prevSlide","nextSlide","doSlideClose","close","shouldChange","settings","dragAutoSnap","shouldClose","lastChild","F","getAllPlayers","plyr","css","videoProvider","js","config","Plyr","dataset","resize","R","G","cloneNode","Z","allow","appendTo","U","defaults","sizes","srcset","description","alt","descPosition","effect","zoomable","draggable","sourceType","setSize","sanitizeValue","DOMException","slideConfig","checkSize","videosWidth","_hasCustomWidth","_hasCustomHeight","beforeSlideLoad","player","afterSlideLoad","getSlidePlayerInstance","moreLength","smallDescription","slideShortDesc","moreText","descriptionEvents","dragToleranceX","dragToleranceY","offsetWidth","Image","innerText","slideHTML","slideExtraAttributes","parseConfig","J","K","createTouch","msMaxTouchPoints","Q","ee","selector","elements","skin","theme","closeButton","startAt","autoplayVideos","autofocusVideos","beforeSlideChange","afterSlideChange","slideInserted","slideRemoved","onOpen","onClose","loop","oneSlidePerOpen","touchNavigation","touchFollowAxis","keyboardNavigation","closeOnOutsideClick","plugins","ratio","fullscreen","enabled","iosNative","youtube","noCookie","showinfo","iv_load_policy","vimeo","byline","portrait","transparent","openEffect","closeEffect","slideEffect","cssEfects","fade","in","out","slideBack","none","svg","prev","lightboxHTML","te","customOptions","effectsClasses","getAnimationClasses","videoPlayers","apiEvents","fullElementsList","getSelector","baseEvents","getElements","activeSlide","prevActiveSlideIndex","prevActiveSlide","getGalleryElements","getElementIndex","build","overlay","head","showSlide","prevButton","nextButton","lightboxOpen","trigger","B","X","targetTouches","offsetHeight","scaleX","scaleY","touch","keyboard","activeElement","toLocaleLowerCase","focus","slidesContainer","slideAnimateOut","slideAnimateIn","slideNode","slideIndex","node","setContent","slideDescription","slideDescriptionContained","preloadSlide","updateNavigationClasses","goToSlide","getConfig","getActiveSlideIndex","slidePlayerPlay","slidePlayerPause","playing","pause","play","muted","container","gallery","built","hasAttribute","modal","bodyHiddenChildElms","outClose","loopAtEnd","closing","clearAllEvents","$26a1e2577cffdf19$exports","tagName","passive","capture","identifier","mode","freeze","types","effectAllowed","setData","getData","clearData","setDragImage","defaultView","Event","bubbles","cancelable","dataTransfer","relatedTarget","screenX","screenY","getBoundingClientRect","offsetX","left","offsetY","top","dropEffect","dragImageSetup","position","zIndex","dragImageOffset","dragImageCenterOnTouch","getComputedStyle","marginLeft","marginTop","iterationInterval","dragStartConditionOverride","dragImageTranslateOverride","visibility","transitionDuration","scrollLeft","scrollTop","transitionDelay","elementFromPoint","tryFindDraggableTarget","composedPath","getPropertyValue","getPropertyPriority","pointerEvents","getContext","getImageData","putImageData","hasChildNodes","HTMLElement","shadowRoot","holdToDrag","defaultActionOverride","polyfill","forceApply","chrome","dragEvents","userAgentSupportingNativeDnD","supportsPassiveEventListener","$b3b214e33ef17c7d$export$330d558700ffa676","lightbox","setLightbox","openLightbox","stopPropagation","getElementsByClassName","setElements","closest","getPreview","video_id","playlist_id","host","timecode","controls","$b3b214e33ef17c7d$export$ca445ff2f74d7dc4","toggleFile","files","$b3b214e33ef17c7d$export$40e4fb50d87564f1","invertFiles","file","inWriter","$b3b214e33ef17c7d$export$48621228a997a4e0","filePath","contentUrl","poster","removed","progress","innerRef","cp","fileDragStart","fileDragEnd","fileDragEnter","fileDragLeave","fileDragOver","fileDrop","$ecd01d0bd55f75ef$var$_extends","$017da47328f74ae1$export$29913b8f065577b2","$017da47328f74ae1$export$d7a960146e1a269e","setFiles","sending","setSending","uploading","setUploading","$21521b54b609d5fa$var$useForceUpdate","setValue","writerId","currentFiles","setForm","writerForm","updateFile","removeFile","uploadFile","fileId","inputFile","putMessage","messageId","postMessage","lastActivityDate","addFiles","mimetype","input_files","$017da47328f74ae1$export$29beae8571dce55f","input","accept","click","sendMessage","id_a","id_b","index_a","index_b","setPreview","setLink","setText","setTitle","cleanForm","genPreview","scrollHeight","links","encodeURIComponent","onKeyPress","doGenPreview","onPaste","clipboardData","onChange","rows","autocomplete","autofocus","image","video","pdf","audio","disabled","$e4fc23afeade3f60$export$9c257beea3dbd13a","$19924b6e568a4f60$export$84c965ec8b6b0f92","$e4fc23afeade3f60$export$959a4441e74dcd2b","$19924b6e568a4f60$export$89085c7857c3f940","$e4fc23afeade3f60$export$35f3ae0a16fef81","imgSrc","setTarget","setAction","setAuthor","setNotification","setMiniatureOnError","getAction","getTarget","fromGroup","fromUser","miniature","getObject","parentAuthorName","$e4fc23afeade3f60$export$4b31f5af7c5f8dee","setMessage","onSubmit","group_id","searchTerms","normalize","$e4fc23afeade3f60$export$c9915453de10000b","setUrl","setGroup","user","readonly","$ad65ccb0e164de06$export$2e2bcd8739ae039","editMessage","deleteMessage","openPublicLink","shareMessage","isInFront","publishInGroup","$7128f2b1295b6a89$export$2e2bcd8739ae039","previewUrl","displayMessageText","$0329eb4a81e3801e$export$2e2bcd8739ae039","lineage","breadcrumbs","setBreadcrumbs","getTitle","previewLink","loadBreadcrumbs","ids","stack_truncated","breadcrumbs_truncated","cn","setParent","isRemoved","setIsRemoved","edit","setEdit","messageRef","setMessageRef","onEditMessage","loadMessage","scrollTo","msgElement","scrollIntoView","block","behavior","hydrateMessage","token","newChildren","newTab","cancelEdit","displayWriter","confirm","alert","postMessageComponent","screen","totalMessages","pageYOffset","page","scroll_cooldown","onScroll","onNewParent","new_loaded","msgList","mid","prevState","$19924b6e568a4f60$export$4025c8e17986f775","setId","setLastActivityDate","setChildren","setDefaultMiniature","getMiniature","displayAuthorName","authorName","words","displayMessageTitle","lines","$7a4a2b5c7de24037$export$21a94553ffa41578","showResetPassword","setShowResetPassword","sendPasswordReset","login","mail","sendLoginForm","password","api_key","default_group","$7a4a2b5c7de24037$export$b44239f84c8f0268","sendNewPassword","passwordConfirmation","$7a4a2b5c7de24037$export$89200835fb4edfb9","sendSignupForm","invite_key","$7a4a2b5c7de24037$export$68b4491d6924a6d1","$eeb1ed40e8ffc517$export$2e2bcd8739ae039","setSecretKey","users","setUsers","alertMessage","setAlertMessage","leaveGroup","leave","$6b414d55358a8032$export$2e2bcd8739ae039","setApiKey","inputAvatar","destroyAccount","updateSettings","notification_emails","$15e77f43f1e3331f$export$c72f6eaae7b9adff","$9a3e4fde01996651$var$router","toggleDropdowns","inFlightDataRoutes","pendingNavigationController","routerWindow","isBrowser","isServer","detectErrorBoundary","dataRoutes","v7_normalizeFormMethod","v7_prependBasename","unlistenHistory","subscribers","savedScrollPositions","getScrollRestorationKey","getScrollPosition","initialScrollRestored","hydrationData","initialMatches","initialErrors","restoreScrollPosition","actionData","blockers","pendingAction","pendingPreventScrollReset","isUninterruptedRevalidation","fetchControllers","incrementingLoadId","pendingNavigationLoadId","fetchReloadIds","blockerFunctions","ignoreNextHistoryUpdate","updateState","subscriber","completeNavigation","_location$state","_location$state2","isActionReload","_isRedirect","Push","Replace","getSavedScrollPosition","normalizedPath","currentLocation","nextLocation","userReplace","blockerKey","shouldBlockNavigation","updateBlocker","startNavigation","abort","startUninterruptedRevalidation","getScrollKey","loadingNavigation","overrideNavigation","notFoundMatches","cancelActiveDeferreds","actionOutput","handleAction","shortCircuited","pendingActionError","handleLoaders","fetcherSubmission","interruptActiveLoads","actionMatch","startRedirectNavigation","activeSubmission","updatedFetchers","markFetchRedirectsDone","rf","revalidatingFetcher","abortFetcher","abortPendingFetchRevalidations","loaderResults","callLoadersAndMaybeResolveData","fetcherKey","didAbortFetchLoads","abortStaleFetchLoads","shouldUpdateFetchers","getFetcher","handleFetcherAction","requestMatches","existingFetcher","setFetcherError","abortController","fetchRequest","originatingLoadId","loadingFetcher","isFetchActionRedirect","revalidationRequest","loadId","loadFetcher","staleKey","handleFetcherLoader","redirectLocation","_isFetchActionRedirect","isDocumentReload","redirectHistoryAction","fetchersToLoad","deleteFetcher","markFetchersDone","doneKeys","landedId","yeetedKeys","deleteBlocker","newBlocker","blocker","blockerFunction","predicate","cancelledRouteIds","dfd","$6b1a25b8319a72de$var$createUseMatchesMatch","initialize","listen","enableScrollRestoration","positions","getPosition","getKey","dispose","getBlocker","_internalFetchControllers","_internalActiveDeferreds","_internalSetRoutes","newRoutes","$6b1a25b8319a72de$var$getUrlBasedHistory","getLocation","validateLocation","window1","v5Compat","globalHistory","getIndex","handlePop","nextIndex","replaceState","historyState","pushState","__staticRouterHydrationData","$4a6806eb551925a6$var$deserializeErrors","serialized","__type","__subType","ErrorConstructor","updates","App","createBrowserRouter","createRoutesFromElements","RouterProvider","StoreContext","Index","vnodeId","rerenderQueue","prevDebounce","defer","depthSort","EMPTY_OBJ","EMPTY_ARR","IS_NON_DIMENSIONAL","removeNode","normalizedProps","createVNode","original","this","getDomSibling","childIndex","sibling","updateParentDomPointers","child","enqueueRender","renderQueueLength","commitQueue","refQueue","oldVNode","oldDom","parentDom","commitRoot","diffChildren","renderResult","newParentVNode","oldParentVNode","globalContext","isSvg","excessDomChildren","isHydrating","childVNode","newDom","firstChildDom","skewedIndex","matchingIndex","isMounting","skew","oldChildren","oldChildrenLength","remainingOldChildren","newChildrenLength","findMatchingIndex","applyRef","placeChild","reorderChildren","tmp","toChildArray","diffProps","dom","newProps","oldProps","setStyle","oldValue","eventProxyCapture","eventProxy","newVNode","oldState","snapshot","clearProcessingException","provider","componentContext","renderHook","newType","outer","doRender","diffElementNodes","root","oldHtml","newHtml","parentVNode","skipRemove","replaceNode","contextId","contextValue","subs","old","ctor","handled","http","bookmarks_utils","Login","Public","PasswordReset","Signup","StopNotificationEmails","MessageParent","GroupWriter","CreateGroup","GroupBoard","Share","BookmarkBoard","RandomMessage","Settings","GroupSearchWrapper","Navigate","Routes","Route","useNavigate","useLocation","_alert","_api","_http","_lang","_i18n","_me","_notifications","_bookmarks_utils","_router","_storage","_util","storage","util","deg","initReactI18next","createStoreon","meStore","apiStore","routerStore","notificationsStore","bookmarksStore","shallowDiffers","comparer","shouldUpdate","nextProps","updateRef","Memoed","oldDiffHook","REACT_FORWARD_SYMBOL","Forwarded","mapFn","normalized","oldCatchError","oldUnmount","detachedClone","detachedParent","removeOriginal","originalParent","_suspenders","suspended","prom","Lazy","_next","_map","suspendingVNode","suspendingComponent","onResolved","onSuspensionComplete","suspendedVNode","wasHydrating","detachedComponent","ContextProvider","Portal","_container","before","delegated","unsuspend","wrappedUnsuspend","REACT_ELEMENT_TYPE","CAMEL_PROPS","ON_ANI","CAMEL_REPLACE","IS_DOM","onChangeInputType","preactRender","preactHydrate","oldEventHook","empty","currentComponent","classNameDescriptorNonEnumberable","oldVNodeHook","lowerCased","handleDomVNode","oldBeforeRender","oldDiffed","preactCloneElement","getSnapshot","_instance","_getSnapshot","_useState","currentIndex","previousComponent","prevRaf","currentHook","afterPaintEffects","EMPTY","oldBeforeDiff","oldAfterDiff","oldCommit","oldBeforeUnmount","getHookState","hooks","initialState","invokeOrReturn","reducer","hookState","_reducer","currentValue","nextValue","_hasScuFromHooks","updateHookState","stateHooks","prevScu","hookItem","prevCWU","argsChanged","_pendingArgs","initialValue","createHandle","factory","useErrorBoundary","errState","mask","flushAfterPaintEffects","invokeCleanup","invokeEffect","afterNextFrame","hasErrored","HAS_RAF","raf","timeout","hook","comp","cleanup","oldArgs","newArgs","attrRE","tag","voidElement","attrs","tagMatch","lookup","endIndex","reg","attr","arr","tagRE","whitespaceRE","buff","doc","attrString","html","level","inComponent","isOpen","isComment","parseTag","rootEl","_Login","_PasswordReset","_Signup","_StopNotificationEmails","_Public","useTranslation","import","defaultMethod","defaultEncType","isHtmlElement","isButtonElement","isFormElement","isInputElement","isModifiedEvent","shouldProcessLinkClick","createSearchParams","getSearchParamsForLocation","locationSearch","defaultSearchParams","_formDataSupportsSubmitter","isFormDataSubmitterSupported","supportedFormEncTypes","getFormEncType","encType","env","NODE_ENV","warning","getFormSubmissionInfo","stripBasename","form","createRouter","_extends","createBrowserHistory","parseHydrationData","createHashRouter","createHashHistory","deserializeErrors","ErrorResponse","START_TRANSITION","startTransitionImpl","React","BrowserRouter","historyRef","Router","HashRouter","HistoryRouter","ABSOLUTE_URL_REGEX","Link","LinkWithRef","_objectWithoutPropertiesLoose","_excluded","NavigationContext","useHref","useLinkClickHandler","handleClick","NavLink","NavLinkWithRef","ariaCurrentProp","classNameProp","styleProp","_excluded2","useResolvedPath","routerState","DataRouterStateContext","nextLocationPathname","isActive","isPending","ariaCurrent","Form","submit","useSubmit","FormImpl","_excluded3","useFormAction","submitHandler","submitter","submitMethod","ScrollRestoration","_ref7","storageKey","useScrollRestoration","getDataRouterConsoleError","useDataRouterContext","DataRouterContext","invariant","useDataRouterState","createPath","useSearchParams","defaultInit","defaultSearchParamsRef","hasSetSearchParamsRef","setSearchParams","nextInit","navigateOptions","newSearchParams","validateClientSideSubmission","UseSubmit","currentRouteId","useRouteId","useSubmitFetcher","fetcherRouteId","UseSubmitFetcher","RouteContext","joinPaths","createFetcherForm","FetcherForm","fetcherId","useFetcher","_route$matches","UseFetcher","fetcherWithComponents","useFetchers","UseFetchers","SCROLL_RESTORATION_STORAGE_KEY","_temp3","UseScrollRestoration","useMatches","useNavigation","scrollRestoration","usePageHide","scrollY","sessionStorage","sessionPositions","getKeyWithoutBasename","disableScrollRestoration","useBeforeUnload","usePrompt","_ref8","when","useBlocker","AwaitContext","LocationContext","RouteErrorContext","useInRouterContext","useNavigationType","useMatch","matchPath","navigateEffectWarning","useIsomorphicLayoutEffect","isStatic","useNavigateStable","useNavigateUnstable","getPathContributingMatches","resolveTo","OutletContext","useOutletContext","useOutlet","useParams","useRoutes","useRoutesImpl","parentPathname","parentRoute","warningOnce","parsePath","matchRoutes","_renderMatches","NavigationType","DefaultErrorComponent","useRouteError","isRouteErrorResponse","lightgrey","preStyles","codeStyles","devInfo","defaultErrorElement","RenderErrorBoundary","RenderedRoute","useRouteContext","useCurrentRouteId","UseRouteId","UseNavigation","useRevalidator","UseRevalidator","UseMatches","useLoaderData","UseLoaderData","useRouteLoaderData","UseRouteLoaderData","useActionData","UseActionData","useAsyncValue","_data","useAsyncError","_error","blockerId","shouldBlock","UseBlocker","setBlockerKey","IDLE_BLOCKER","alreadyWarned","DataRoutes","MemoryRouter","initialEntries","initialIndex","createMemoryHistory","Outlet","createRoutesFromChildren","Await","AwaitErrorBoundary","ResolveAwait","neverSettledPromise","success","renderError","_tracked","AbortedDeferredError","toRender","renderMatches","createMemoryRouter","PopStateEventType","entry","createMemoryLocation","clampIndex","getCurrentLocation","createLocation","createBrowserLocation","createBrowserHref","getUrlBasedHistory","createHashLocation","createHashHref","validateHashLocation","createKey","getHistoryState","immutableRouteKeys","isIndexRoute","convertRoutesToDataRoutes","flattenRoutes","rankRouteBranches","matchRouteBranch","safelyDecodeURI","computeScore","explodeOptionalSegments","compareIndexes","paramRe","dynamicSegmentValue","indexRouteValue","emptySegmentValue","staticSegmentValue","splatPenalty","isSplat","normalizePathname","generatePath","originalPath","array","isLastSegment","star","keyMatch","optional","compilePath","safelyDecodeURIComponent","resolvePath","resolvePathname","normalizeSearch","normalizeHash","getInvalidPathError","getToPathname","responseInit","Response","DeferredData","pendingKeysSet","deferredKeys","onAbort","unlistenAbortSignal","trackPromise","onSettle","undefinedError","settledKey","unwrapTrackedPromise","pendingKeys","isTrackedPromise","redirectDocument","validMutationMethodsArr","validMutationMethods","validRequestMethodsArr","validRequestMethods","redirectStatusCodes","redirectPreserveMethodStatusCodes","IDLE_NAVIGATION","IDLE_FETCHER","defaultMapRouteProperties","getInternalRouterError","getShortCircuitMatches","HistoryAction","isMutationMethod","mergeLoaderData","normalizeTo","normalizeNavigateOptions","saveScrollPosition","isHashChangeOnly","createClientSideRequest","findNearestBoundary","getLoadingNavigation","getSubmittingNavigation","getTargetMatch","callLoaderOrAction","isRedirectResult","isErrorResult","isDeferredResult","getSubmissionFromNavigation","getMatchesToLoad","getLoadingFetcher","findRedirect","processLoaderData","getSubmittingFetcher","getDoneFetcher","resolveDeferredData","resolveDeferredResults","createUseMatchesMatch","UNSAFE_DEFERRED_SYMBOL","createStaticHandler","query","isValidMethod","methodNotAllowedMatches","actionHeaders","queryImpl","isResponse","queryRoute","_result$activeDeferre","loadRouteData","isQueryRouteResponse","isRedirectResponse","Location","loaderRequest","getLoaderMatchesUntilBoundary","processRouteLoaderData","executedLoaders","fromEntries","getStaticContextFromError","newContext","isSubmissionNavigation","hasNakedIndexQuery","stripHashFromPath","convertFormDataToSearchParams","convertSearchParamsToFormData","isNewLoader","shouldRevalidateLoader","isNewRouteInstance","loadLazyRouteModule","queryRouteResponse","isDeferredData","withTranslation","Message","_Message","_MessageBody","_MessageBreadcrumbs","_MessageChild","_MessageChildren","_MessageFooter","_MessageHead","_MessageList","_MessageParent","_MessagePreview","_MessageSearchResult","MessageBody","MessageBreadcrumbs","MessageChild","MessageChildren","MessageFooter","MessageHead","MessageList","MessagePreview","MessageSearchResult","Writer","useStoreon","newRef","getComponentClass","FaIcon","HumanTime","_FaIcon","_BookmarkBoard","_CreateGroup","_GroupBoard","_HumanTime","_Notification","_RandomMessage","_Search","_Share","Notification","Search","Navbar","_GroupSearch","_GroupSearchWrapper","_GroupsDropdownNavbar","_Navbar","_NotificationsDropdownNavbar","GroupSearch","GroupsDropdownNavbar","NotificationsDropdownNavbar","notifs","meService","_GroupWriter","_Writer","_WritingWidget","WritingWidget","useForceUpdate","EmbedBlock","FileGrid","_EmbedBlock","_FileGrid","_BigFile","_MiniFile","BigFile","MiniFile","BandCampEmbed","GenericEmbed","GLightbox","CLASS_PREFIX","ALLOWED_EFFECTS","DROP_EFFECTS","supportsPassiveEventListeners","supportsPassive","isDOMElement","addDocumentListener","ev","removeDocumentListener","onEvt","average","isTouchIdentifierContainedInTouchEvent","touchEvent","touchIdentifier","updateCentroidCoordinatesOfTouchesIn","coordinateProp","outPoint","pageXs","pageYs","TRANSFORM_CSS_VENDOR_PREFIXES","translateElementToPoint","pnt","originalTransforms","offset","centerOnCoordinates","transformProp","DataTransfer","_dropEffect","_dataStore","_setDragImageHandler","determineDropEffect","sourceNode","dispatchDragEvent","dragEvent","targetElement","dataStore","leaveEvt","dndEvent","targetRect","createDragEventFromTouch","cancelled","determineDragOperation","DragOperationController","_setup","_dragOperationState","_currentDragOperation","_dragDataStore","_currentHotspotCoordinates","_dragImagePageCoordinates","dragImageSrc","_sourceNode","_dataTransfer","_dragImageOffset","_lastTouchEvent","_cleanup","cs","dragImage","_config","_dragImageTransforms","_dragImage","_initialTouch","_iterationIntervalId","_iterationLock","_dragAndDropProcessModelIteration","_touchMoveHandler","_touchEndOrCancelHandler","_dragOperationEndedCb","_onTouchMove","startDrag","_initialEvent","handledDragImageTranslate_1","_immediateUserSelection","_onTouchEndOrCancel","previousDragOperation","dragImageTransforms","csDragImage","dragCancelled","_dragOperationEnded","sourceEl","transitionEndCb","_finishDragOperation","durationInS","rect","delayInS","durationInMs","newUserSelection","previousTargetElement","_currentDropTarget","currentDragOperationClass","dragFailed","activeDragOperation","_i","cp_1","prepareNodeCopyAsDragImage","srcNode","dstNode","canvasDst","canvasSrcImgData","csName","canvasSrc","removePointerEventsFromShadoDomChildNodes","customEl","onTouchstart","dragTarget","dragOperationEnded","onDelayTouchstart","onReleasedItem","scroll","EVENT_PREFIX","timer","override","detectedFeatures","isBlinkEngine","getAvatar","getLink","_GroupSettings","_Settings","_UserSettings","GroupSettings","UserSettings","resetSecretKey","resetApiKey","confirmDeletion"],"version":3,"file":"index.d319d543.js.map"}